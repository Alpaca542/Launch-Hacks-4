(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function yu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aE={exports:{}},ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function C6(){if(RS)return ch;RS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return ch.Fragment=e,ch.jsx=n,ch.jsxs=n,ch}var OS;function I6(){return OS||(OS=1,aE.exports=C6()),aE.exports}var te=I6(),oE={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS;function x6(){if(DS)return ot;DS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function k(S,ee,oe){this.props=S,this.context=ee,this.refs=x,this.updater=oe||b}k.prototype.isReactComponent={},k.prototype.setState=function(S,ee){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,ee,"setState")},k.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function D(){}D.prototype=k.prototype;function z(S,ee,oe){this.props=S,this.context=ee,this.refs=x,this.updater=oe||b}var Y=z.prototype=new D;Y.constructor=z,w(Y,k.prototype),Y.isPureReactComponent=!0;var j=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function R(S,ee,oe,P,pe,xe){return oe=xe.ref,{$$typeof:t,type:S,key:ee,ref:oe!==void 0?oe:null,props:xe}}function N(S,ee){return R(S.type,ee,void 0,void 0,void 0,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function M(S){var ee={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(oe){return ee[oe]})}var B=/\/+/g;function V(S,ee){return typeof S=="object"&&S!==null&&S.key!=null?M(""+S.key):ee.toString(36)}function C(){}function L(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(C,C):(S.status="pending",S.then(function(ee){S.status==="pending"&&(S.status="fulfilled",S.value=ee)},function(ee){S.status==="pending"&&(S.status="rejected",S.reason=ee)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function K(S,ee,oe,P,pe){var xe=typeof S;(xe==="undefined"||xe==="boolean")&&(S=null);var Ie=!1;if(S===null)Ie=!0;else switch(xe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(S.$$typeof){case t:case e:Ie=!0;break;case m:return Ie=S._init,K(Ie(S._payload),ee,oe,P,pe)}}if(Ie)return pe=pe(S),Ie=P===""?"."+V(S,0):P,j(pe)?(oe="",Ie!=null&&(oe=Ie.replace(B,"$&/")+"/"),K(pe,ee,oe,"",function(Le){return Le})):pe!=null&&(O(pe)&&(pe=N(pe,oe+(pe.key==null||S&&S.key===pe.key?"":(""+pe.key).replace(B,"$&/")+"/")+Ie)),ee.push(pe)),1;Ie=0;var Fe=P===""?".":P+":";if(j(S))for(var Se=0;Se<S.length;Se++)P=S[Se],xe=Fe+V(P,Se),Ie+=K(P,ee,oe,xe,pe);else if(Se=_(S),typeof Se=="function")for(S=Se.call(S),Se=0;!(P=S.next()).done;)P=P.value,xe=Fe+V(P,Se++),Ie+=K(P,ee,oe,xe,pe);else if(xe==="object"){if(typeof S.then=="function")return K(L(S),ee,oe,P,pe);throw ee=String(S),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function H(S,ee,oe){if(S==null)return S;var P=[],pe=0;return K(S,P,"","",function(xe){return ee.call(oe,xe,pe++)}),P}function Q(S){if(S._status===-1){var ee=S._result;ee=ee(),ee.then(function(oe){(S._status===0||S._status===-1)&&(S._status=1,S._result=oe)},function(oe){(S._status===0||S._status===-1)&&(S._status=2,S._result=oe)}),S._status===-1&&(S._status=0,S._result=ee)}if(S._status===1)return S._result.default;throw S._result}var re=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ie(){}return ot.Children={map:H,forEach:function(S,ee,oe){H(S,function(){ee.apply(this,arguments)},oe)},count:function(S){var ee=0;return H(S,function(){ee++}),ee},toArray:function(S){return H(S,function(ee){return ee})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ot.Component=k,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=z,ot.StrictMode=r,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ot.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Z.H.useMemoCache(S)}},ot.cache=function(S){return function(){return S.apply(null,arguments)}},ot.cloneElement=function(S,ee,oe){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var P=w({},S.props),pe=S.key,xe=void 0;if(ee!=null)for(Ie in ee.ref!==void 0&&(xe=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!G.call(ee,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ee.ref===void 0||(P[Ie]=ee[Ie]);var Ie=arguments.length-2;if(Ie===1)P.children=oe;else if(1<Ie){for(var Fe=Array(Ie),Se=0;Se<Ie;Se++)Fe[Se]=arguments[Se+2];P.children=Fe}return R(S.type,pe,void 0,void 0,xe,P)},ot.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},ot.createElement=function(S,ee,oe){var P,pe={},xe=null;if(ee!=null)for(P in ee.key!==void 0&&(xe=""+ee.key),ee)G.call(ee,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(pe[P]=ee[P]);var Ie=arguments.length-2;if(Ie===1)pe.children=oe;else if(1<Ie){for(var Fe=Array(Ie),Se=0;Se<Ie;Se++)Fe[Se]=arguments[Se+2];pe.children=Fe}if(S&&S.defaultProps)for(P in Ie=S.defaultProps,Ie)pe[P]===void 0&&(pe[P]=Ie[P]);return R(S,xe,void 0,void 0,null,pe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(S){return{$$typeof:c,render:S}},ot.isValidElement=O,ot.lazy=function(S){return{$$typeof:m,_payload:{_status:-1,_result:S},_init:Q}},ot.memo=function(S,ee){return{$$typeof:d,type:S,compare:ee===void 0?null:ee}},ot.startTransition=function(S){var ee=Z.T,oe={};Z.T=oe;try{var P=S(),pe=Z.S;pe!==null&&pe(oe,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ie,re)}catch(xe){re(xe)}finally{Z.T=ee}},ot.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ot.use=function(S){return Z.H.use(S)},ot.useActionState=function(S,ee,oe){return Z.H.useActionState(S,ee,oe)},ot.useCallback=function(S,ee){return Z.H.useCallback(S,ee)},ot.useContext=function(S){return Z.H.useContext(S)},ot.useDebugValue=function(){},ot.useDeferredValue=function(S,ee){return Z.H.useDeferredValue(S,ee)},ot.useEffect=function(S,ee,oe){var P=Z.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(S,ee)},ot.useId=function(){return Z.H.useId()},ot.useImperativeHandle=function(S,ee,oe){return Z.H.useImperativeHandle(S,ee,oe)},ot.useInsertionEffect=function(S,ee){return Z.H.useInsertionEffect(S,ee)},ot.useLayoutEffect=function(S,ee){return Z.H.useLayoutEffect(S,ee)},ot.useMemo=function(S,ee){return Z.H.useMemo(S,ee)},ot.useOptimistic=function(S,ee){return Z.H.useOptimistic(S,ee)},ot.useReducer=function(S,ee,oe){return Z.H.useReducer(S,ee,oe)},ot.useRef=function(S){return Z.H.useRef(S)},ot.useState=function(S){return Z.H.useState(S)},ot.useSyncExternalStore=function(S,ee,oe){return Z.H.useSyncExternalStore(S,ee,oe)},ot.useTransition=function(){return Z.H.useTransition()},ot.version="19.1.0",ot}var kS;function _f(){return kS||(kS=1,oE.exports=x6()),oE.exports}var U=_f();const ye=yu(U);var uE={exports:{}},hh={},lE={exports:{}},cE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function N6(){return LS||(LS=1,function(t){function e(H,Q){var re=H.length;H.push(Q);e:for(;0<re;){var ie=re-1>>>1,S=H[ie];if(0<s(S,Q))H[ie]=Q,H[re]=S,re=ie;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Q=H[0],re=H.pop();if(re!==Q){H[0]=re;e:for(var ie=0,S=H.length,ee=S>>>1;ie<ee;){var oe=2*(ie+1)-1,P=H[oe],pe=oe+1,xe=H[pe];if(0>s(P,re))pe<S&&0>s(xe,P)?(H[ie]=xe,H[pe]=re,ie=pe):(H[ie]=P,H[oe]=re,ie=oe);else if(pe<S&&0>s(xe,re))H[ie]=xe,H[pe]=re,ie=pe;else break e}}return Q}function s(H,Q){var re=H.sortIndex-Q.sortIndex;return re!==0?re:H.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],d=[],m=1,E=null,_=3,b=!1,w=!1,x=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=H)r(d),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(d)}}function Z(H){if(x=!1,j(H),!w)if(n(f)!==null)w=!0,G||(G=!0,V());else{var Q=n(d);Q!==null&&K(Z,Q.startTime-H)}}var G=!1,R=-1,N=5,O=-1;function M(){return k?!0:!(t.unstable_now()-O<N)}function B(){if(k=!1,G){var H=t.unstable_now();O=H;var Q=!0;try{e:{w=!1,x&&(x=!1,z(R),R=-1),b=!0;var re=_;try{t:{for(j(H),E=n(f);E!==null&&!(E.expirationTime>H&&M());){var ie=E.callback;if(typeof ie=="function"){E.callback=null,_=E.priorityLevel;var S=ie(E.expirationTime<=H);if(H=t.unstable_now(),typeof S=="function"){E.callback=S,j(H),Q=!0;break t}E===n(f)&&r(f),j(H)}else r(f);E=n(f)}if(E!==null)Q=!0;else{var ee=n(d);ee!==null&&K(Z,ee.startTime-H),Q=!1}}break e}finally{E=null,_=re,b=!1}Q=void 0}}finally{Q?V():G=!1}}}var V;if(typeof Y=="function")V=function(){Y(B)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,L=C.port2;C.port1.onmessage=B,V=function(){L.postMessage(null)}}else V=function(){D(B,0)};function K(H,Q){R=D(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var re=_;_=Q;try{return H()}finally{_=re}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=_;_=H;try{return Q()}finally{_=re}},t.unstable_scheduleCallback=function(H,Q,re){var ie=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ie+re:ie):re=ie,H){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=re+S,H={id:m++,callback:Q,priorityLevel:H,startTime:re,expirationTime:S,sortIndex:-1},re>ie?(H.sortIndex=re,e(d,H),n(f)===null&&H===n(d)&&(x?(z(R),R=-1):x=!0,K(Z,re-ie))):(H.sortIndex=S,e(f,H),w||b||(w=!0,G||(G=!0,V()))),H},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(H){var Q=_;return function(){var re=_;_=Q;try{return H.apply(this,arguments)}finally{_=re}}}}(cE)),cE}var MS;function R6(){return MS||(MS=1,lE.exports=N6()),lE.exports}var hE={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PS;function O6(){if(PS)return Ar;PS=1;var t=_f();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,m){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:f,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ar.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Ar.flushSync=function(f){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=m,r.d.f()}},Ar.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Ar.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ar.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,E=c(m,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:E,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ar.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Ar.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,E=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ar.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Ar.requestFormReset=function(f){r.d.r(f)},Ar.unstable_batchedUpdates=function(f,d){return f(d)},Ar.useFormState=function(f,d,m){return u.H.useFormState(f,d,m)},Ar.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ar.version="19.1.0",Ar}var BS;function QC(){if(BS)return hE.exports;BS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hE.exports=O6(),hE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function D6(){if(US)return hh;US=1;var t=R6(),e=_f(),n=QC();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return c(g),i;if(y===h)return c(g),a;y=y.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=y;else{for(var I=!1,F=g.child;F;){if(F===l){I=!0,l=g,h=y;break}if(F===h){I=!0,h=g,l=y;break}F=F.sibling}if(!I){for(F=y.child;F;){if(F===l){I=!0,l=y,h=g;break}if(F===h){I=!0,h=y,l=g;break}F=F.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function L(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case k:return"Profiler";case x:return"StrictMode";case Z:return"Suspense";case G:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case j:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return a=i.displayName||null,a!==null?a:L(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return L(i(a))}catch{}}return null}var K=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ie=[],S=-1;function ee(i){return{current:i}}function oe(i){0>S||(i.current=ie[S],ie[S]=null,S--)}function P(i,a){S++,ie[S]=i.current,i.current=a}var pe=ee(null),xe=ee(null),Ie=ee(null),Fe=ee(null);function Se(i,a){switch(P(Ie,a),P(xe,i),P(pe,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?iS(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=iS(a),i=sS(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(pe),P(pe,i)}function Le(){oe(pe),oe(xe),oe(Ie)}function Pe(i){i.memoizedState!==null&&P(Fe,i);var a=pe.current,l=sS(a,i.type);a!==l&&(P(xe,i),P(pe,l))}function Qe(i){xe.current===i&&(oe(pe),oe(xe)),Fe.current===i&&(oe(Fe),sh._currentValue=re)}var Rt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Dt=t.unstable_cancelCallback,Ge=t.unstable_shouldYield,cn=t.unstable_requestPaint,Ke=t.unstable_now,qe=t.unstable_getCurrentPriorityLevel,nn=t.unstable_ImmediatePriority,Cn=t.unstable_UserBlockingPriority,In=t.unstable_NormalPriority,Ln=t.unstable_LowPriority,xn=t.unstable_IdlePriority,dn=t.log,zn=t.unstable_setDisableYieldValue,ae=null,Te=null;function Ue(i){if(typeof dn=="function"&&zn(i),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(ae,i)}catch{}}var Ye=Math.clz32?Math.clz32:jt,lt=Math.log,vt=Math.LN2;function jt(i){return i>>>=0,i===0?32:31-(lt(i)/vt|0)|0}var qt=256,Yt=4194304;function St(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ct(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var F=h&134217727;return F!==0?(h=F&~y,h!==0?g=St(h):(I&=F,I!==0?g=St(I):l||(l=F&~i,l!==0&&(g=St(l))))):(F=h&~y,F!==0?g=St(F):I!==0?g=St(I):l||(l=h&~i,l!==0&&(g=St(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function en(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Xt(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(){var i=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),i}function br(){var i=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),i}function jn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function kr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vr(i,a,l,h,g,y){var I=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var F=i.entanglements,J=i.expirationTimes,fe=i.hiddenUpdates;for(l=I&~l;0<l;){var be=31-Ye(l),Ae=1<<be;F[be]=0,J[be]=-1;var de=fe[be];if(de!==null)for(fe[be]=null,be=0;be<de.length;be++){var me=de[be];me!==null&&(me.lane&=-536870913)}l&=~Ae}h!==0&&$r(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(I&~a))}function $r(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Ye(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Bs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-Ye(l),g=1<<h;g&a|i[h]&a&&(i[h]|=a),l&=~g}}function ii(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lr(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:AS(i.type))}function si(i,a){var l=Q.p;try{return Q.p=i,a()}finally{Q.p=l}}var Qt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Qt,mn="__reactProps$"+Qt,bn="__reactContainer$"+Qt,us="__reactEvents$"+Qt,Io="__reactListeners$"+Qt,Mr="__reactHandles$"+Qt,ls="__reactResources$"+Qt,Si="__reactMarker$"+Qt;function ai(i){delete i[Bt],delete i[mn],delete i[us],delete i[Io],delete i[Mr]}function Pr(i){var a=i[Bt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[bn]||l[Bt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=lS(i);i!==null;){if(l=i[Bt])return l;i=lS(i)}return a}i=l,l=i.parentNode}return null}function Zn(i){if(i=i[Bt]||i[bn]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Br(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function qn(i){var a=i[ls];return a||(a=i[ls]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ne(i){i[Si]=!0}var ge=new Set,Oe={};function Be(i,a){gt(i,a),gt(i+"Capture",a)}function gt(i,a){for(Oe[i]=a,i=0;i<a.length;i++)ge.add(a[i])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$t={},Ut={};function Jn(i){return Rt.call(Ut,i)?!0:Rt.call($t,i)?!1:it.test(i)?Ut[i]=!0:($t[i]=!0,!1)}function Vt(i,a,l){if(Jn(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function kt(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Ht(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}var Mn,vn;function Nn(i){if(Mn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Mn=a&&a[1]||"",vn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mn+i+vn}var Ur=!1;function Vr(i,a){if(!i||Ur)return"";Ur=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(me){var de=me}Reflect.construct(i,[],Ae)}else{try{Ae.call()}catch(me){de=me}i.call(Ae.prototype)}}else{try{throw Error()}catch(me){de=me}(Ae=i())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),I=y[0],F=y[1];if(I&&F){var J=I.split(`
`),fe=F.split(`
`);for(g=h=0;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;for(;g<fe.length&&!fe[g].includes("DetermineComponentFrameRoot");)g++;if(h===J.length||g===fe.length)for(h=J.length-1,g=fe.length-1;1<=h&&0<=g&&J[h]!==fe[g];)g--;for(;1<=h&&0<=g;h--,g--)if(J[h]!==fe[g]){if(h!==1||g!==1)do if(h--,g--,0>g||J[h]!==fe[g]){var be=`
`+J[h].replace(" at new "," at ");return i.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",i.displayName)),be}while(1<=h&&0<=g);break}}}finally{Ur=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Nn(l):""}function Ai(i){switch(i.tag){case 26:case 27:case 5:return Nn(i.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 15:return Vr(i.type,!1);case 11:return Vr(i.type.render,!1);case 1:return Vr(i.type,!0);case 31:return Nn("Activity");default:return""}}function wi(i){try{var a="";do a+=Ai(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xo(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gc(i){var a=xo(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(I){h=""+I,y.call(this,I)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function At(i){i._valueTracker||(i._valueTracker=gc(i))}function bt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=xo(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function Ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ii=/[\n"\\]/g;function pn(i){return i.replace(Ii,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function rn(i,a,l,h,g,y,I,F){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),a!=null?I==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+er(a)):i.value!==""+er(a)&&(i.value=""+er(a)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),a!=null?hr(i,I,er(a)):l!=null?hr(i,I,er(l)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+er(F):i.removeAttribute("name")}function cr(i,a,l,h,g,y,I,F){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+er(l):"",a=a!=null?""+er(a):l,F||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=F?i.checked:!!h,i.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I)}function hr(i,a,l){a==="number"&&Ci(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Hr(i,a,l,h){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+er(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function Nt(i,a,l){if(a!=null&&(a=""+er(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+er(l):""}function Ki(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(K(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=er(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function fr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Fr.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function cs(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&l[g]!==h&&No(i,g,h)}else for(var y in a)a.hasOwnProperty(y)&&No(i,y,a[y])}function Us(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(i){return ba.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Gr=null;function dr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,Fs=null;function Ec(i){var a=Zn(i);if(a&&(i=a.stateNode)){var l=i[mn]||null;e:switch(i=a.stateNode,a.type){case"input":if(rn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var g=h[mn]||null;if(!g)throw Error(r(90));rn(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&bt(h)}break e;case"textarea":Nt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Hr(i,!!l.multiple,a,!1)}}}var hs=!1;function jf(i,a,l){if(hs)return i(a,l);hs=!0;try{var h=i(a);return h}finally{if(hs=!1,(Hs!==null||Fs!==null)&&(Pd(),Hs&&(a=Hs,i=Fs,Fs=Hs=null,Ec(a),i)))for(a=0;a<i.length;a++)Ec(i[a])}}function Ro(i,a){var l=i.stateNode;if(l===null)return null;var h=l[mn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=!1;if(Xi)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){xi=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{xi=!1}var fs=null,va=null,zs=null;function yc(){if(zs)return zs;var i,a=va,l=a.length,h,g="value"in fs?fs.value:fs.textContent,y=g.length;for(i=0;i<l&&a[i]===g[i];i++);var I=l-i;for(h=1;h<=I&&a[l-h]===g[y-h];h++);return zs=g.slice(i,1<h?1-h:void 0)}function ds(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ms(){return!0}function _c(){return!1}function tr(i){function a(l,h,g,y,I){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(l=i[F],this[F]=l?l(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ms:_c,this.isPropagationStopped=_c,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),a}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=tr(Ft),Do=m({},Ft,{view:0,detail:0}),qf=tr(Do),Iu,xu,ps,ko=m({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ps&&(ps&&i.type==="mousemove"?(Iu=i.screenX-ps.screenX,xu=i.screenY-ps.screenY):xu=Iu=0,ps=i),Iu)},movementY:function(i){return"movementY"in i?i.movementY:xu}}),Ni=tr(ko),Yf=m({},ko,{dataTransfer:0}),m0=tr(Yf),Lo=m({},Do,{relatedTarget:0}),Nu=tr(Lo),Tc=m({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=tr(Tc),$f=m({},Ft,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ou=tr($f),p0=m({},Ft,{data:0}),bc=tr(p0),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Kf[i])?!!a[i]:!1}function Po(){return vc}var Xf=m({},Do,{key:function(i){if(i.key){var a=Mo[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ds(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(i){return i.type==="keypress"?ds(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ds(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Du=tr(Xf),Qf=m({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sc=tr(Qf),js=m({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),Wf=tr(js),Zf=m({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=tr(Zf),ed=m({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ku=tr(ed),zr=m({},Ft,{newState:0,oldState:0}),td=tr(zr),nd=[9,13,27,32],gs=Xi&&"CompositionEvent"in window,p=null;Xi&&"documentMode"in document&&(p=document.documentMode);var v=Xi&&"TextEvent"in window&&!p,A=Xi&&(!gs||p&&8<p&&11>=p),q=" ",le=!1;function Ee(i,a){switch(i){case"keyup":return nd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Me(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wt=!1;function Yn(i,a){switch(i){case"compositionend":return Me(a);case"keypress":return a.which!==32?null:(le=!0,q);case"textInput":return i=a.data,i===q&&le?null:i;default:return null}}function Ct(i,a){if(wt)return i==="compositionend"||!gs&&Ee(i,a)?(i=yc(),zs=va=fs=null,wt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return A&&a.locale!=="ko"?null:a.data;default:return null}}var nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!nr[i.type]:a==="textarea"}function qs(i,a,l,h){Hs?Fs?Fs.push(h):Fs=[h]:Hs=h,a=zd(a,"onChange"),0<a.length&&(l=new Cu("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var mr=null,Es=null;function Ac(i){Jv(i,0)}function rd(i){var a=Br(i);if(bt(a))return i}function TT(i,a){if(i==="change")return a}var bT=!1;if(Xi){var g0;if(Xi){var E0="oninput"in document;if(!E0){var vT=document.createElement("div");vT.setAttribute("oninput","return;"),E0=typeof vT.oninput=="function"}g0=E0}else g0=!1;bT=g0&&(!document.documentMode||9<document.documentMode)}function ST(){mr&&(mr.detachEvent("onpropertychange",AT),Es=mr=null)}function AT(i){if(i.propertyName==="value"&&rd(Es)){var a=[];qs(a,Es,i,dr(i)),jf(Ac,a)}}function nD(i,a,l){i==="focusin"?(ST(),mr=a,Es=l,mr.attachEvent("onpropertychange",AT)):i==="focusout"&&ST()}function rD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rd(Es)}function iD(i,a){if(i==="click")return rd(a)}function sD(i,a){if(i==="input"||i==="change")return rd(a)}function aD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var oi=typeof Object.is=="function"?Object.is:aD;function wc(i,a){if(oi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Rt.call(a,g)||!oi(i[g],a[g]))return!1}return!0}function wT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function CT(i,a){var l=wT(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=wT(l)}}function IT(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?IT(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function xT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ci(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ci(i.document)}return a}function y0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var oD=Xi&&"documentMode"in document&&11>=document.documentMode,Lu=null,_0=null,Cc=null,T0=!1;function NT(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;T0||Lu==null||Lu!==Ci(h)||(h=Lu,"selectionStart"in h&&y0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Cc&&wc(Cc,h)||(Cc=h,h=zd(_0,"onSelect"),0<h.length&&(a=new Cu("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Lu)))}function Bo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Mu={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionrun:Bo("Transition","TransitionRun"),transitionstart:Bo("Transition","TransitionStart"),transitioncancel:Bo("Transition","TransitionCancel"),transitionend:Bo("Transition","TransitionEnd")},b0={},RT={};Xi&&(RT=document.createElement("div").style,"AnimationEvent"in window||(delete Mu.animationend.animation,delete Mu.animationiteration.animation,delete Mu.animationstart.animation),"TransitionEvent"in window||delete Mu.transitionend.transition);function Uo(i){if(b0[i])return b0[i];if(!Mu[i])return i;var a=Mu[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in RT)return b0[i]=a[l];return i}var OT=Uo("animationend"),DT=Uo("animationiteration"),kT=Uo("animationstart"),uD=Uo("transitionrun"),lD=Uo("transitionstart"),cD=Uo("transitioncancel"),LT=Uo("transitionend"),MT=new Map,v0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");v0.push("scrollEnd");function Qi(i,a){MT.set(i,a),Be(a,[i])}var PT=new WeakMap;function Ri(i,a){if(typeof i=="object"&&i!==null){var l=PT.get(i);return l!==void 0?l:(a={value:i,source:a,stack:wi(a)},PT.set(i,a),a)}return{value:i,source:a,stack:wi(a)}}var Oi=[],Pu=0,S0=0;function id(){for(var i=Pu,a=S0=Pu=0;a<i;){var l=Oi[a];Oi[a++]=null;var h=Oi[a];Oi[a++]=null;var g=Oi[a];Oi[a++]=null;var y=Oi[a];if(Oi[a++]=null,h!==null&&g!==null){var I=h.pending;I===null?g.next=g:(g.next=I.next,I.next=g),h.pending=g}y!==0&&BT(l,g,y)}}function sd(i,a,l,h){Oi[Pu++]=i,Oi[Pu++]=a,Oi[Pu++]=l,Oi[Pu++]=h,S0|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function A0(i,a,l,h){return sd(i,a,l,h),ad(i)}function Bu(i,a){return sd(i,null,null,a),ad(i)}function BT(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&a!==null&&(g=31-Ye(l),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=l|536870912),y):null}function ad(i){if(50<Wc)throw Wc=0,Rg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Uu={};function hD(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(i,a,l,h){return new hD(i,a,l,h)}function w0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ys(i,a){var l=i.alternate;return l===null?(l=ui(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function UT(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function od(i,a,l,h,g,y){var I=0;if(h=i,typeof i=="function")w0(i)&&(I=1);else if(typeof i=="string")I=d6(i,l,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=ui(31,l,a,g),i.elementType=O,i.lanes=y,i;case w:return Vo(l.children,g,y,a);case x:I=8,g|=24;break;case k:return i=ui(12,l,a,g|2),i.elementType=k,i.lanes=y,i;case Z:return i=ui(13,l,a,g),i.elementType=Z,i.lanes=y,i;case G:return i=ui(19,l,a,g),i.elementType=G,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case Y:I=10;break e;case z:I=9;break e;case j:I=11;break e;case R:I=14;break e;case N:I=16,h=null;break e}I=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=ui(I,l,a,g),a.elementType=i,a.type=h,a.lanes=y,a}function Vo(i,a,l,h){return i=ui(7,i,h,a),i.lanes=l,i}function C0(i,a,l){return i=ui(6,i,null,a),i.lanes=l,i}function I0(i,a,l){return a=ui(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Vu=[],Hu=0,ud=null,ld=0,Di=[],ki=0,Ho=null,$s=1,Gs="";function Fo(i,a){Vu[Hu++]=ld,Vu[Hu++]=ud,ud=i,ld=a}function VT(i,a,l){Di[ki++]=$s,Di[ki++]=Gs,Di[ki++]=Ho,Ho=i;var h=$s;i=Gs;var g=32-Ye(h)-1;h&=~(1<<g),l+=1;var y=32-Ye(a)+g;if(30<y){var I=g-g%5;y=(h&(1<<I)-1).toString(32),h>>=I,g-=I,$s=1<<32-Ye(a)+g|l<<g|h,Gs=y+i}else $s=1<<y|l<<g|h,Gs=i}function x0(i){i.return!==null&&(Fo(i,1),VT(i,1,0))}function N0(i){for(;i===ud;)ud=Vu[--Hu],Vu[Hu]=null,ld=Vu[--Hu],Vu[Hu]=null;for(;i===Ho;)Ho=Di[--ki],Di[ki]=null,Gs=Di[--ki],Di[ki]=null,$s=Di[--ki],Di[ki]=null}var jr=null,Sn=null,Mt=!1,zo=null,ys=!1,R0=Error(r(519));function jo(i){var a=Error(r(418,""));throw Nc(Ri(a,i)),R0}function HT(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Bt]=i,a[mn]=h,l){case"dialog":yt("cancel",a),yt("close",a);break;case"iframe":case"object":case"embed":yt("load",a);break;case"video":case"audio":for(l=0;l<Jc.length;l++)yt(Jc[l],a);break;case"source":yt("error",a);break;case"img":case"image":case"link":yt("error",a),yt("load",a);break;case"details":yt("toggle",a);break;case"input":yt("invalid",a),cr(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),At(a);break;case"select":yt("invalid",a);break;case"textarea":yt("invalid",a),Ki(a,h.value,h.defaultValue,h.children),At(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||rS(a.textContent,l)?(h.popover!=null&&(yt("beforetoggle",a),yt("toggle",a)),h.onScroll!=null&&yt("scroll",a),h.onScrollEnd!=null&&yt("scrollend",a),h.onClick!=null&&(a.onclick=jd),a=!0):a=!1,a||jo(i)}function FT(i){for(jr=i.return;jr;)switch(jr.tag){case 5:case 13:ys=!1;return;case 27:case 3:ys=!0;return;default:jr=jr.return}}function Ic(i){if(i!==jr)return!1;if(!Mt)return FT(i),Mt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||$g(i.type,i.memoizedProps)),l=!l),l&&Sn&&jo(i),FT(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Sn=Zi(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Sn=null}}else a===27?(a=Sn,Ua(i.type)?(i=Qg,Qg=null,Sn=i):Sn=a):Sn=jr?Zi(i.stateNode.nextSibling):null;return!0}function xc(){Sn=jr=null,Mt=!1}function zT(){var i=zo;return i!==null&&(Qr===null?Qr=i:Qr.push.apply(Qr,i),zo=null),i}function Nc(i){zo===null?zo=[i]:zo.push(i)}var O0=ee(null),qo=null,Ks=null;function Sa(i,a,l){P(O0,a._currentValue),a._currentValue=l}function Xs(i){i._currentValue=O0.current,oe(O0)}function D0(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function k0(i,a,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var I=g.child;y=y.firstContext;e:for(;y!==null;){var F=y;y=g;for(var J=0;J<a.length;J++)if(F.context===a[J]){y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),D0(y.return,l,i),h||(I=null);break e}y=F.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=l,y=I.alternate,y!==null&&(y.lanes|=l),D0(I,l,i),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===i){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function Rc(i,a,l,h){i=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var F=g.type;oi(g.pendingProps.value,I.value)||(i!==null?i.push(F):i=[F])}}else if(g===Fe.current){if(I=g.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(sh):i=[sh])}g=g.return}i!==null&&k0(a,i,l,h),a.flags|=262144}function cd(i){for(i=i.firstContext;i!==null;){if(!oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Yo(i){qo=i,Ks=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sr(i){return jT(qo,i)}function hd(i,a){return qo===null&&Yo(i),jT(i,a)}function jT(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ks===null){if(i===null)throw Error(r(308));Ks=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ks=Ks.next=a;return l}var fD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},dD=t.unstable_scheduleCallback,mD=t.unstable_NormalPriority,Gn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L0(){return{controller:new fD,data:new Map,refCount:0}}function Oc(i){i.refCount--,i.refCount===0&&dD(mD,function(){i.controller.abort()})}var Dc=null,M0=0,Fu=0,zu=null;function pD(i,a){if(Dc===null){var l=Dc=[];M0=0,Fu=Bg(),zu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return M0++,a.then(qT,qT),a}function qT(){if(--M0===0&&Dc!==null){zu!==null&&(zu.status="fulfilled");var i=Dc;Dc=null,Fu=0,zu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function gD(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var YT=H.S;H.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&pD(i,a),YT!==null&&YT(i,a)};var $o=ee(null);function P0(){var i=$o.current;return i!==null?i:sn.pooledCache}function fd(i,a){a===null?P($o,$o.current):P($o,a.pool)}function $T(){var i=P0();return i===null?null:{parent:Gn._currentValue,pool:i}}var kc=Error(r(460)),GT=Error(r(474)),dd=Error(r(542)),B0={then:function(){}};function KT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function md(){}function XT(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(md,md),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,WT(i),i;default:if(typeof a.status=="string")a.then(md,md);else{if(i=sn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,WT(i),i}throw Lc=a,kc}}var Lc=null;function QT(){if(Lc===null)throw Error(r(459));var i=Lc;return Lc=null,i}function WT(i){if(i===kc||i===dd)throw Error(r(483))}var Aa=!1;function U0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function V0(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ca(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Gt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=ad(i),BT(i,null,l),a}return sd(i,h,a,l),ad(i)}function Mc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Bs(i,l)}}function H0(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var F0=!1;function Pc(){if(F0){var i=zu;if(i!==null)throw i}}function Bc(i,a,l,h){F0=!1;var g=i.updateQueue;Aa=!1;var y=g.firstBaseUpdate,I=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var J=F,fe=J.next;J.next=null,I===null?y=fe:I.next=fe,I=J;var be=i.alternate;be!==null&&(be=be.updateQueue,F=be.lastBaseUpdate,F!==I&&(F===null?be.firstBaseUpdate=fe:F.next=fe,be.lastBaseUpdate=J))}if(y!==null){var Ae=g.baseState;I=0,be=fe=J=null,F=y;do{var de=F.lane&-536870913,me=de!==F.lane;if(me?(It&de)===de:(h&de)===de){de!==0&&de===Fu&&(F0=!0),be!==null&&(be=be.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var tt=i,We=F;de=a;var Jt=l;switch(We.tag){case 1:if(tt=We.payload,typeof tt=="function"){Ae=tt.call(Jt,Ae,de);break e}Ae=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=We.payload,de=typeof tt=="function"?tt.call(Jt,Ae,de):tt,de==null)break e;Ae=m({},Ae,de);break e;case 2:Aa=!0}}de=F.callback,de!==null&&(i.flags|=64,me&&(i.flags|=8192),me=g.callbacks,me===null?g.callbacks=[de]:me.push(de))}else me={lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},be===null?(fe=be=me,J=Ae):be=be.next=me,I|=de;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;me=F,F=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);be===null&&(J=Ae),g.baseState=J,g.firstBaseUpdate=fe,g.lastBaseUpdate=be,y===null&&(g.shared.lanes=0),La|=I,i.lanes=I,i.memoizedState=Ae}}function ZT(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function JT(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ZT(l[i],a)}var ju=ee(null),pd=ee(0);function eb(i,a){i=na,P(pd,i),P(ju,a),na=i|a.baseLanes}function z0(){P(pd,na),P(ju,ju.current)}function j0(){na=pd.current,oe(ju),oe(pd)}var Ia=0,ht=null,Wt=null,Pn=null,gd=!1,qu=!1,Go=!1,Ed=0,Uc=0,Yu=null,ED=0;function Rn(){throw Error(r(321))}function q0(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!oi(i[l],a[l]))return!1;return!0}function Y0(i,a,l,h,g,y){return Ia=y,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=i===null||i.memoizedState===null?Bb:Ub,Go=!1,y=l(h,g),Go=!1,qu&&(y=nb(a,l,h,g)),tb(i),y}function tb(i){H.H=Sd;var a=Wt!==null&&Wt.next!==null;if(Ia=0,Pn=Wt=ht=null,gd=!1,Uc=0,Yu=null,a)throw Error(r(300));i===null||rr||(i=i.dependencies,i!==null&&cd(i)&&(rr=!0))}function nb(i,a,l,h){ht=i;var g=0;do{if(qu&&(Yu=null),Uc=0,qu=!1,25<=g)throw Error(r(301));if(g+=1,Pn=Wt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=AD,y=a(l,h)}while(qu);return y}function yD(){var i=H.H,a=i.useState()[0];return a=typeof a.then=="function"?Vc(a):a,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(ht.flags|=1024),a}function $0(){var i=Ed!==0;return Ed=0,i}function G0(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function K0(i){if(gd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}gd=!1}Ia=0,Pn=Wt=ht=null,qu=!1,Uc=Ed=0,Yu=null}function Kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?ht.memoizedState=Pn=i:Pn=Pn.next=i,Pn}function Bn(){if(Wt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var a=Pn===null?ht.memoizedState:Pn.next;if(a!==null)Pn=a,Wt=i;else{if(i===null)throw ht.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Pn===null?ht.memoizedState=Pn=i:Pn=Pn.next=i}return Pn}function X0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vc(i){var a=Uc;return Uc+=1,Yu===null&&(Yu=[]),i=XT(Yu,i,a),a=ht,(Pn===null?a.memoizedState:Pn.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?Bb:Ub),i}function yd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Vc(i);if(i.$$typeof===Y)return Sr(i)}throw Error(r(438,String(i)))}function Q0(i){var a=null,l=ht.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=ht.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=X0(),ht.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=M;return a.index++,l}function Qs(i,a){return typeof a=="function"?a(i):a}function _d(i){var a=Bn();return W0(a,Wt,i)}function W0(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var I=g.next;g.next=y.next,y.next=I}a.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{a=g.next;var F=I=null,J=null,fe=a,be=!1;do{var Ae=fe.lane&-536870913;if(Ae!==fe.lane?(It&Ae)===Ae:(Ia&Ae)===Ae){var de=fe.revertLane;if(de===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ae===Fu&&(be=!0);else if((Ia&de)===de){fe=fe.next,de===Fu&&(be=!0);continue}else Ae={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(F=J=Ae,I=y):J=J.next=Ae,ht.lanes|=de,La|=de;Ae=fe.action,Go&&l(y,Ae),y=fe.hasEagerState?fe.eagerState:l(y,Ae)}else de={lane:Ae,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(F=J=de,I=y):J=J.next=de,ht.lanes|=Ae,La|=Ae;fe=fe.next}while(fe!==null&&fe!==a);if(J===null?I=y:J.next=F,!oi(y,i.memoizedState)&&(rr=!0,be&&(l=zu,l!==null)))throw l;i.memoizedState=y,i.baseState=I,i.baseQueue=J,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Z0(i){var a=Bn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do y=i(y,I.action),I=I.next;while(I!==g);oi(y,a.memoizedState)||(rr=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,h]}function rb(i,a,l){var h=ht,g=Bn(),y=Mt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!oi((Wt||g).memoizedState,l);I&&(g.memoizedState=l,rr=!0),g=g.queue;var F=ab.bind(null,h,g,i);if(Hc(2048,8,F,[i]),g.getSnapshot!==a||I||Pn!==null&&Pn.memoizedState.tag&1){if(h.flags|=2048,$u(9,Td(),sb.bind(null,h,g,l,a),null),sn===null)throw Error(r(349));y||(Ia&124)!==0||ib(h,a,l)}return l}function ib(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=ht.updateQueue,a===null?(a=X0(),ht.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function sb(i,a,l,h){a.value=l,a.getSnapshot=h,ob(a)&&ub(i)}function ab(i,a,l){return l(function(){ob(a)&&ub(i)})}function ob(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!oi(i,l)}catch{return!0}}function ub(i){var a=Bu(i,2);a!==null&&di(a,i,2)}function J0(i){var a=Kr();if(typeof i=="function"){var l=i;if(i=l(),Go){Ue(!0);try{l()}finally{Ue(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:i},a}function lb(i,a,l,h){return i.baseState=l,W0(i,Wt,typeof h=="function"?h:Qs)}function _D(i,a,l,h,g){if(vd(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){y.listeners.push(I)}};H.T!==null?l(!0):y.isTransition=!1,h(y),l=a.pending,l===null?(y.next=a.pending=y,cb(a,y)):(y.next=l.next,a.pending=l.next=y)}}function cb(i,a){var l=a.action,h=a.payload,g=i.state;if(a.isTransition){var y=H.T,I={};H.T=I;try{var F=l(g,h),J=H.S;J!==null&&J(I,F),hb(i,a,F)}catch(fe){eg(i,a,fe)}finally{H.T=y}}else try{y=l(g,h),hb(i,a,y)}catch(fe){eg(i,a,fe)}}function hb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){fb(i,a,h)},function(h){return eg(i,a,h)}):fb(i,a,l)}function fb(i,a,l){a.status="fulfilled",a.value=l,db(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,cb(i,l)))}function eg(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,db(a),a=a.next;while(a!==h)}i.action=null}function db(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function mb(i,a){return a}function pb(i,a){if(Mt){var l=sn.formState;if(l!==null){e:{var h=ht;if(Mt){if(Sn){t:{for(var g=Sn,y=ys;g.nodeType!==8;){if(!y){g=null;break t}if(g=Zi(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Sn=Zi(g.nextSibling),h=g.data==="F!";break e}}jo(h)}h=!1}h&&(a=l[0])}}return l=Kr(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mb,lastRenderedState:a},l.queue=h,l=Lb.bind(null,ht,h),h.dispatch=l,h=J0(!1),y=sg.bind(null,ht,!1,h.queue),h=Kr(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,l=_D.bind(null,ht,g,y,l),g.dispatch=l,h.memoizedState=i,[a,l,!1]}function gb(i){var a=Bn();return Eb(a,Wt,i)}function Eb(i,a,l){if(a=W0(i,a,mb)[0],i=_d(Qs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Vc(a)}catch(I){throw I===kc?dd:I}else h=a;a=Bn();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(ht.flags|=2048,$u(9,Td(),TD.bind(null,g,l),null)),[h,y,i]}function TD(i,a){i.action=a}function yb(i){var a=Bn(),l=Wt;if(l!==null)return Eb(a,l,i);Bn(),a=a.memoizedState,l=Bn();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function $u(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=ht.updateQueue,a===null&&(a=X0(),ht.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function Td(){return{destroy:void 0,resource:void 0}}function _b(){return Bn().memoizedState}function bd(i,a,l,h){var g=Kr();h=h===void 0?null:h,ht.flags|=i,g.memoizedState=$u(1|a,Td(),l,h)}function Hc(i,a,l,h){var g=Bn();h=h===void 0?null:h;var y=g.memoizedState.inst;Wt!==null&&h!==null&&q0(h,Wt.memoizedState.deps)?g.memoizedState=$u(a,y,l,h):(ht.flags|=i,g.memoizedState=$u(1|a,y,l,h))}function Tb(i,a){bd(8390656,8,i,a)}function bb(i,a){Hc(2048,8,i,a)}function vb(i,a){return Hc(4,2,i,a)}function Sb(i,a){return Hc(4,4,i,a)}function Ab(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function wb(i,a,l){l=l!=null?l.concat([i]):null,Hc(4,4,Ab.bind(null,a,i),l)}function tg(){}function Cb(i,a){var l=Bn();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&q0(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function Ib(i,a){var l=Bn();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&q0(a,h[1]))return h[0];if(h=i(),Go){Ue(!0);try{i()}finally{Ue(!1)}}return l.memoizedState=[h,a],h}function ng(i,a,l){return l===void 0||(Ia&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Rv(),ht.lanes|=i,La|=i,l)}function xb(i,a,l,h){return oi(l,a)?l:ju.current!==null?(i=ng(i,l,h),oi(i,a)||(rr=!0),i):(Ia&42)===0?(rr=!0,i.memoizedState=l):(i=Rv(),ht.lanes|=i,La|=i,a)}function Nb(i,a,l,h,g){var y=Q.p;Q.p=y!==0&&8>y?y:8;var I=H.T,F={};H.T=F,sg(i,!1,a,l);try{var J=g(),fe=H.S;if(fe!==null&&fe(F,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var be=gD(J,h);Fc(i,a,be,fi(i))}else Fc(i,a,h,fi(i))}catch(Ae){Fc(i,a,{then:function(){},status:"rejected",reason:Ae},fi())}finally{Q.p=y,H.T=I}}function bD(){}function rg(i,a,l,h){if(i.tag!==5)throw Error(r(476));var g=Rb(i).queue;Nb(i,g,a,re,l===null?bD:function(){return Ob(i),l(h)})}function Rb(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Ob(i){var a=Rb(i).next.queue;Fc(i,a,{},fi())}function ig(){return Sr(sh)}function Db(){return Bn().memoizedState}function kb(){return Bn().memoizedState}function vD(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=fi();i=wa(l);var h=Ca(a,i,l);h!==null&&(di(h,a,l),Mc(h,a,l)),a={cache:L0()},i.payload=a;return}a=a.return}}function SD(i,a,l){var h=fi();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},vd(i)?Mb(a,l):(l=A0(i,a,l,h),l!==null&&(di(l,i,h),Pb(l,a,h)))}function Lb(i,a,l){var h=fi();Fc(i,a,l,h)}function Fc(i,a,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(vd(i))Mb(a,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var I=a.lastRenderedState,F=y(I,l);if(g.hasEagerState=!0,g.eagerState=F,oi(F,I))return sd(i,a,g,0),sn===null&&id(),!1}catch{}finally{}if(l=A0(i,a,g,h),l!==null)return di(l,i,h),Pb(l,a,h),!0}return!1}function sg(i,a,l,h){if(h={lane:2,revertLane:Bg(),action:h,hasEagerState:!1,eagerState:null,next:null},vd(i)){if(a)throw Error(r(479))}else a=A0(i,l,h,2),a!==null&&di(a,i,2)}function vd(i){var a=i.alternate;return i===ht||a!==null&&a===ht}function Mb(i,a){qu=gd=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function Pb(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Bs(i,l)}}var Sd={readContext:Sr,use:yd,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn},Bb={readContext:Sr,use:yd,useCallback:function(i,a){return Kr().memoizedState=[i,a===void 0?null:a],i},useContext:Sr,useEffect:Tb,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,bd(4194308,4,Ab.bind(null,a,i),l)},useLayoutEffect:function(i,a){return bd(4194308,4,i,a)},useInsertionEffect:function(i,a){bd(4,2,i,a)},useMemo:function(i,a){var l=Kr();a=a===void 0?null:a;var h=i();if(Go){Ue(!0);try{i()}finally{Ue(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=Kr();if(l!==void 0){var g=l(a);if(Go){Ue(!0);try{l(a)}finally{Ue(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=SD.bind(null,ht,i),[h.memoizedState,i]},useRef:function(i){var a=Kr();return i={current:i},a.memoizedState=i},useState:function(i){i=J0(i);var a=i.queue,l=Lb.bind(null,ht,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:tg,useDeferredValue:function(i,a){var l=Kr();return ng(l,i,a)},useTransition:function(){var i=J0(!1);return i=Nb.bind(null,ht,i.queue,!0,!1),Kr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=ht,g=Kr();if(Mt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),sn===null)throw Error(r(349));(It&124)!==0||ib(h,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,Tb(ab.bind(null,h,y,i),[i]),h.flags|=2048,$u(9,Td(),sb.bind(null,h,y,l,a),null),l},useId:function(){var i=Kr(),a=sn.identifierPrefix;if(Mt){var l=Gs,h=$s;l=(h&~(1<<32-Ye(h)-1)).toString(32)+l,a=""+a+"R"+l,l=Ed++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=ED++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:ig,useFormState:pb,useActionState:pb,useOptimistic:function(i){var a=Kr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=sg.bind(null,ht,!0,l),l.dispatch=a,[i,a]},useMemoCache:Q0,useCacheRefresh:function(){return Kr().memoizedState=vD.bind(null,ht)}},Ub={readContext:Sr,use:yd,useCallback:Cb,useContext:Sr,useEffect:bb,useImperativeHandle:wb,useInsertionEffect:vb,useLayoutEffect:Sb,useMemo:Ib,useReducer:_d,useRef:_b,useState:function(){return _d(Qs)},useDebugValue:tg,useDeferredValue:function(i,a){var l=Bn();return xb(l,Wt.memoizedState,i,a)},useTransition:function(){var i=_d(Qs)[0],a=Bn().memoizedState;return[typeof i=="boolean"?i:Vc(i),a]},useSyncExternalStore:rb,useId:Db,useHostTransitionStatus:ig,useFormState:gb,useActionState:gb,useOptimistic:function(i,a){var l=Bn();return lb(l,Wt,i,a)},useMemoCache:Q0,useCacheRefresh:kb},AD={readContext:Sr,use:yd,useCallback:Cb,useContext:Sr,useEffect:bb,useImperativeHandle:wb,useInsertionEffect:vb,useLayoutEffect:Sb,useMemo:Ib,useReducer:Z0,useRef:_b,useState:function(){return Z0(Qs)},useDebugValue:tg,useDeferredValue:function(i,a){var l=Bn();return Wt===null?ng(l,i,a):xb(l,Wt.memoizedState,i,a)},useTransition:function(){var i=Z0(Qs)[0],a=Bn().memoizedState;return[typeof i=="boolean"?i:Vc(i),a]},useSyncExternalStore:rb,useId:Db,useHostTransitionStatus:ig,useFormState:yb,useActionState:yb,useOptimistic:function(i,a){var l=Bn();return Wt!==null?lb(l,Wt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Q0,useCacheRefresh:kb},Gu=null,zc=0;function Ad(i){var a=zc;return zc+=1,Gu===null&&(Gu=[]),XT(Gu,i,a)}function jc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function wd(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Vb(i){var a=i._init;return a(i._payload)}function Hb(i){function a(ue,se){if(i){var ce=ue.deletions;ce===null?(ue.deletions=[se],ue.flags|=16):ce.push(se)}}function l(ue,se){if(!i)return null;for(;se!==null;)a(ue,se),se=se.sibling;return null}function h(ue){for(var se=new Map;ue!==null;)ue.key!==null?se.set(ue.key,ue):se.set(ue.index,ue),ue=ue.sibling;return se}function g(ue,se){return ue=Ys(ue,se),ue.index=0,ue.sibling=null,ue}function y(ue,se,ce){return ue.index=ce,i?(ce=ue.alternate,ce!==null?(ce=ce.index,ce<se?(ue.flags|=67108866,se):ce):(ue.flags|=67108866,se)):(ue.flags|=1048576,se)}function I(ue){return i&&ue.alternate===null&&(ue.flags|=67108866),ue}function F(ue,se,ce,ve){return se===null||se.tag!==6?(se=C0(ce,ue.mode,ve),se.return=ue,se):(se=g(se,ce),se.return=ue,se)}function J(ue,se,ce,ve){var je=ce.type;return je===w?be(ue,se,ce.props.children,ve,ce.key):se!==null&&(se.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===N&&Vb(je)===se.type)?(se=g(se,ce.props),jc(se,ce),se.return=ue,se):(se=od(ce.type,ce.key,ce.props,null,ue.mode,ve),jc(se,ce),se.return=ue,se)}function fe(ue,se,ce,ve){return se===null||se.tag!==4||se.stateNode.containerInfo!==ce.containerInfo||se.stateNode.implementation!==ce.implementation?(se=I0(ce,ue.mode,ve),se.return=ue,se):(se=g(se,ce.children||[]),se.return=ue,se)}function be(ue,se,ce,ve,je){return se===null||se.tag!==7?(se=Vo(ce,ue.mode,ve,je),se.return=ue,se):(se=g(se,ce),se.return=ue,se)}function Ae(ue,se,ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=C0(""+se,ue.mode,ce),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return ce=od(se.type,se.key,se.props,null,ue.mode,ce),jc(ce,se),ce.return=ue,ce;case b:return se=I0(se,ue.mode,ce),se.return=ue,se;case N:var ve=se._init;return se=ve(se._payload),Ae(ue,se,ce)}if(K(se)||V(se))return se=Vo(se,ue.mode,ce,null),se.return=ue,se;if(typeof se.then=="function")return Ae(ue,Ad(se),ce);if(se.$$typeof===Y)return Ae(ue,hd(ue,se),ce);wd(ue,se)}return null}function de(ue,se,ce,ve){var je=se!==null?se.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return je!==null?null:F(ue,se,""+ce,ve);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ce.key===je?J(ue,se,ce,ve):null;case b:return ce.key===je?fe(ue,se,ce,ve):null;case N:return je=ce._init,ce=je(ce._payload),de(ue,se,ce,ve)}if(K(ce)||V(ce))return je!==null?null:be(ue,se,ce,ve,null);if(typeof ce.then=="function")return de(ue,se,Ad(ce),ve);if(ce.$$typeof===Y)return de(ue,se,hd(ue,ce),ve);wd(ue,ce)}return null}function me(ue,se,ce,ve,je){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ue=ue.get(ce)||null,F(se,ue,""+ve,je);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ue=ue.get(ve.key===null?ce:ve.key)||null,J(se,ue,ve,je);case b:return ue=ue.get(ve.key===null?ce:ve.key)||null,fe(se,ue,ve,je);case N:var dt=ve._init;return ve=dt(ve._payload),me(ue,se,ce,ve,je)}if(K(ve)||V(ve))return ue=ue.get(ce)||null,be(se,ue,ve,je,null);if(typeof ve.then=="function")return me(ue,se,ce,Ad(ve),je);if(ve.$$typeof===Y)return me(ue,se,ce,hd(se,ve),je);wd(se,ve)}return null}function tt(ue,se,ce,ve){for(var je=null,dt=null,$e=se,Ze=se=0,sr=null;$e!==null&&Ze<ce.length;Ze++){$e.index>Ze?(sr=$e,$e=null):sr=$e.sibling;var Lt=de(ue,$e,ce[Ze],ve);if(Lt===null){$e===null&&($e=sr);break}i&&$e&&Lt.alternate===null&&a(ue,$e),se=y(Lt,se,Ze),dt===null?je=Lt:dt.sibling=Lt,dt=Lt,$e=sr}if(Ze===ce.length)return l(ue,$e),Mt&&Fo(ue,Ze),je;if($e===null){for(;Ze<ce.length;Ze++)$e=Ae(ue,ce[Ze],ve),$e!==null&&(se=y($e,se,Ze),dt===null?je=$e:dt.sibling=$e,dt=$e);return Mt&&Fo(ue,Ze),je}for($e=h($e);Ze<ce.length;Ze++)sr=me($e,ue,Ze,ce[Ze],ve),sr!==null&&(i&&sr.alternate!==null&&$e.delete(sr.key===null?Ze:sr.key),se=y(sr,se,Ze),dt===null?je=sr:dt.sibling=sr,dt=sr);return i&&$e.forEach(function(ja){return a(ue,ja)}),Mt&&Fo(ue,Ze),je}function We(ue,se,ce,ve){if(ce==null)throw Error(r(151));for(var je=null,dt=null,$e=se,Ze=se=0,sr=null,Lt=ce.next();$e!==null&&!Lt.done;Ze++,Lt=ce.next()){$e.index>Ze?(sr=$e,$e=null):sr=$e.sibling;var ja=de(ue,$e,Lt.value,ve);if(ja===null){$e===null&&($e=sr);break}i&&$e&&ja.alternate===null&&a(ue,$e),se=y(ja,se,Ze),dt===null?je=ja:dt.sibling=ja,dt=ja,$e=sr}if(Lt.done)return l(ue,$e),Mt&&Fo(ue,Ze),je;if($e===null){for(;!Lt.done;Ze++,Lt=ce.next())Lt=Ae(ue,Lt.value,ve),Lt!==null&&(se=y(Lt,se,Ze),dt===null?je=Lt:dt.sibling=Lt,dt=Lt);return Mt&&Fo(ue,Ze),je}for($e=h($e);!Lt.done;Ze++,Lt=ce.next())Lt=me($e,ue,Ze,Lt.value,ve),Lt!==null&&(i&&Lt.alternate!==null&&$e.delete(Lt.key===null?Ze:Lt.key),se=y(Lt,se,Ze),dt===null?je=Lt:dt.sibling=Lt,dt=Lt);return i&&$e.forEach(function(w6){return a(ue,w6)}),Mt&&Fo(ue,Ze),je}function Jt(ue,se,ce,ve){if(typeof ce=="object"&&ce!==null&&ce.type===w&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:e:{for(var je=ce.key;se!==null;){if(se.key===je){if(je=ce.type,je===w){if(se.tag===7){l(ue,se.sibling),ve=g(se,ce.props.children),ve.return=ue,ue=ve;break e}}else if(se.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===N&&Vb(je)===se.type){l(ue,se.sibling),ve=g(se,ce.props),jc(ve,ce),ve.return=ue,ue=ve;break e}l(ue,se);break}else a(ue,se);se=se.sibling}ce.type===w?(ve=Vo(ce.props.children,ue.mode,ve,ce.key),ve.return=ue,ue=ve):(ve=od(ce.type,ce.key,ce.props,null,ue.mode,ve),jc(ve,ce),ve.return=ue,ue=ve)}return I(ue);case b:e:{for(je=ce.key;se!==null;){if(se.key===je)if(se.tag===4&&se.stateNode.containerInfo===ce.containerInfo&&se.stateNode.implementation===ce.implementation){l(ue,se.sibling),ve=g(se,ce.children||[]),ve.return=ue,ue=ve;break e}else{l(ue,se);break}else a(ue,se);se=se.sibling}ve=I0(ce,ue.mode,ve),ve.return=ue,ue=ve}return I(ue);case N:return je=ce._init,ce=je(ce._payload),Jt(ue,se,ce,ve)}if(K(ce))return tt(ue,se,ce,ve);if(V(ce)){if(je=V(ce),typeof je!="function")throw Error(r(150));return ce=je.call(ce),We(ue,se,ce,ve)}if(typeof ce.then=="function")return Jt(ue,se,Ad(ce),ve);if(ce.$$typeof===Y)return Jt(ue,se,hd(ue,ce),ve);wd(ue,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,se!==null&&se.tag===6?(l(ue,se.sibling),ve=g(se,ce),ve.return=ue,ue=ve):(l(ue,se),ve=C0(ce,ue.mode,ve),ve.return=ue,ue=ve),I(ue)):l(ue,se)}return function(ue,se,ce,ve){try{zc=0;var je=Jt(ue,se,ce,ve);return Gu=null,je}catch($e){if($e===kc||$e===dd)throw $e;var dt=ui(29,$e,null,ue.mode);return dt.lanes=ve,dt.return=ue,dt}finally{}}}var Ku=Hb(!0),Fb=Hb(!1),Li=ee(null),_s=null;function xa(i){var a=i.alternate;P(Kn,Kn.current&1),P(Li,i),_s===null&&(a===null||ju.current!==null||a.memoizedState!==null)&&(_s=i)}function zb(i){if(i.tag===22){if(P(Kn,Kn.current),P(Li,i),_s===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(_s=i)}}else Na()}function Na(){P(Kn,Kn.current),P(Li,Li.current)}function Ws(i){oe(Li),_s===i&&(_s=null),oe(Kn)}var Kn=ee(0);function Cd(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Xg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ag(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:m({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var og={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=fi(),g=wa(h);g.payload=a,l!=null&&(g.callback=l),a=Ca(i,g,h),a!==null&&(di(a,i,h),Mc(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=fi(),g=wa(h);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ca(i,g,h),a!==null&&(di(a,i,h),Mc(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=fi(),h=wa(l);h.tag=2,a!=null&&(h.callback=a),a=Ca(i,h,l),a!==null&&(di(a,i,l),Mc(a,i,l))}};function jb(i,a,l,h,g,y,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,I):a.prototype&&a.prototype.isPureReactComponent?!wc(l,h)||!wc(g,y):!0}function qb(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&og.enqueueReplaceState(a,a.state,null)}function Ko(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Id=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Yb(i){Id(i)}function $b(i){console.error(i)}function Gb(i){Id(i)}function xd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Kb(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ug(i,a,l){return l=wa(l),l.tag=3,l.payload={element:null},l.callback=function(){xd(i,a)},l}function Xb(i){return i=wa(i),i.tag=3,i}function Qb(i,a,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){Kb(a,l,h)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){Kb(a,l,h),typeof g!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var F=h.stack;this.componentDidCatch(h.value,{componentStack:F!==null?F:""})})}function wD(i,a,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Rc(a,l,g,!0),l=Li.current,l!==null){switch(l.tag){case 13:return _s===null?Dg():l.alternate===null&&An===0&&(An=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===B0?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),Lg(i,h,g)),!1;case 22:return l.flags|=65536,h===B0?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),Lg(i,h,g)),!1}throw Error(r(435,l.tag))}return Lg(i,h,g),Dg(),!1}if(Mt)return a=Li.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==R0&&(i=Error(r(422),{cause:h}),Nc(Ri(i,l)))):(h!==R0&&(a=Error(r(423),{cause:h}),Nc(Ri(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Ri(h,l),g=ug(i.stateNode,h,g),H0(i,g),An!==4&&(An=2)),!1;var y=Error(r(520),{cause:h});if(y=Ri(y,l),Qc===null?Qc=[y]:Qc.push(y),An!==4&&(An=2),a===null)return!0;h=Ri(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=ug(l.stateNode,h,i),H0(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ma===null||!Ma.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Xb(g),Qb(g,i,l,h),H0(l,g),!1}l=l.return}while(l!==null);return!1}var Wb=Error(r(461)),rr=!1;function pr(i,a,l,h){a.child=i===null?Fb(a,null,l,h):Ku(a,i.child,l,h)}function Zb(i,a,l,h,g){l=l.render;var y=a.ref;if("ref"in h){var I={};for(var F in h)F!=="ref"&&(I[F]=h[F])}else I=h;return Yo(a),h=Y0(i,a,l,I,y,g),F=$0(),i!==null&&!rr?(G0(i,a,g),Zs(i,a,g)):(Mt&&F&&x0(a),a.flags|=1,pr(i,a,h,g),a.child)}function Jb(i,a,l,h,g){if(i===null){var y=l.type;return typeof y=="function"&&!w0(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,ev(i,a,y,h,g)):(i=od(l.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!gg(i,g)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:wc,l(I,h)&&i.ref===a.ref)return Zs(i,a,g)}return a.flags|=1,i=Ys(y,h),i.ref=a.ref,i.return=a,a.child=i}function ev(i,a,l,h,g){if(i!==null){var y=i.memoizedProps;if(wc(y,h)&&i.ref===a.ref)if(rr=!1,a.pendingProps=h=y,gg(i,g))(i.flags&131072)!==0&&(rr=!0);else return a.lanes=i.lanes,Zs(i,a,g)}return lg(i,a,l,h,g)}function tv(i,a,l){var h=a.pendingProps,g=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|l:l,i!==null){for(g=a.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return nv(i,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&fd(a,y!==null?y.cachePool:null),y!==null?eb(a,y):z0(),zb(a);else return a.lanes=a.childLanes=536870912,nv(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(fd(a,y.cachePool),eb(a,y),Na(),a.memoizedState=null):(i!==null&&fd(a,null),z0(),Na());return pr(i,a,g,l),a.child}function nv(i,a,l,h){var g=P0();return g=g===null?null:{parent:Gn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&fd(a,null),z0(),zb(a),i!==null&&Rc(i,a,h,!0),null}function Nd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function lg(i,a,l,h,g){return Yo(a),l=Y0(i,a,l,h,void 0,g),h=$0(),i!==null&&!rr?(G0(i,a,g),Zs(i,a,g)):(Mt&&h&&x0(a),a.flags|=1,pr(i,a,l,g),a.child)}function rv(i,a,l,h,g,y){return Yo(a),a.updateQueue=null,l=nb(a,h,l,g),tb(i),h=$0(),i!==null&&!rr?(G0(i,a,y),Zs(i,a,y)):(Mt&&h&&x0(a),a.flags|=1,pr(i,a,l,y),a.child)}function iv(i,a,l,h,g){if(Yo(a),a.stateNode===null){var y=Uu,I=l.contextType;typeof I=="object"&&I!==null&&(y=Sr(I)),y=new l(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=og,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},U0(a),I=l.contextType,y.context=typeof I=="object"&&I!==null?Sr(I):Uu,y.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(ag(a,l,I,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&og.enqueueReplaceState(y,y.state,null),Bc(a,h,y,g),Pc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){y=a.stateNode;var F=a.memoizedProps,J=Ko(l,F);y.props=J;var fe=y.context,be=l.contextType;I=Uu,typeof be=="object"&&be!==null&&(I=Sr(be));var Ae=l.getDerivedStateFromProps;be=typeof Ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,be||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(F||fe!==I)&&qb(a,y,h,I),Aa=!1;var de=a.memoizedState;y.state=de,Bc(a,h,y,g),Pc(),fe=a.memoizedState,F||de!==fe||Aa?(typeof Ae=="function"&&(ag(a,l,Ae,h),fe=a.memoizedState),(J=Aa||jb(a,l,J,h,de,fe,I))?(be||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=fe),y.props=h,y.state=fe,y.context=I,h=J):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,V0(i,a),I=a.memoizedProps,be=Ko(l,I),y.props=be,Ae=a.pendingProps,de=y.context,fe=l.contextType,J=Uu,typeof fe=="object"&&fe!==null&&(J=Sr(fe)),F=l.getDerivedStateFromProps,(fe=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I!==Ae||de!==J)&&qb(a,y,h,J),Aa=!1,de=a.memoizedState,y.state=de,Bc(a,h,y,g),Pc();var me=a.memoizedState;I!==Ae||de!==me||Aa||i!==null&&i.dependencies!==null&&cd(i.dependencies)?(typeof F=="function"&&(ag(a,l,F,h),me=a.memoizedState),(be=Aa||jb(a,l,be,h,de,me,J)||i!==null&&i.dependencies!==null&&cd(i.dependencies))?(fe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,me,J),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,me,J)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=me),y.props=h,y.state=me,y.context=J,h=be):(typeof y.componentDidUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),h=!1)}return y=h,Nd(i,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&h?(a.child=Ku(a,i.child,null,g),a.child=Ku(a,null,l,g)):pr(i,a,l,g),a.memoizedState=y.state,i=a.child):i=Zs(i,a,g),i}function sv(i,a,l,h){return xc(),a.flags|=256,pr(i,a,l,h),a.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hg(i){return{baseLanes:i,cachePool:$T()}}function fg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Mi),i}function av(i,a,l){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,I;if((I=y)||(I=i!==null&&i.memoizedState===null?!1:(Kn.current&2)!==0),I&&(g=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,i===null){if(Mt){if(g?xa(a):Na(),Mt){var F=Sn,J;if(J=F){e:{for(J=F,F=ys;J.nodeType!==8;){if(!F){F=null;break e}if(J=Zi(J.nextSibling),J===null){F=null;break e}}F=J}F!==null?(a.memoizedState={dehydrated:F,treeContext:Ho!==null?{id:$s,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},J=ui(18,null,null,0),J.stateNode=F,J.return=a,a.child=J,jr=a,Sn=null,J=!0):J=!1}J||jo(a)}if(F=a.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return Xg(F)?a.lanes=32:a.lanes=536870912,null;Ws(a)}return F=h.children,h=h.fallback,g?(Na(),g=a.mode,F=Rd({mode:"hidden",children:F},g),h=Vo(h,g,l,null),F.return=a,h.return=a,F.sibling=h,a.child=F,g=a.child,g.memoizedState=hg(l),g.childLanes=fg(i,I,l),a.memoizedState=cg,h):(xa(a),dg(a,F))}if(J=i.memoizedState,J!==null&&(F=J.dehydrated,F!==null)){if(y)a.flags&256?(xa(a),a.flags&=-257,a=mg(i,a,l)):a.memoizedState!==null?(Na(),a.child=i.child,a.flags|=128,a=null):(Na(),g=h.fallback,F=a.mode,h=Rd({mode:"visible",children:h.children},F),g=Vo(g,F,l,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,Ku(a,i.child,null,l),h=a.child,h.memoizedState=hg(l),h.childLanes=fg(i,I,l),a.memoizedState=cg,a=g);else if(xa(a),Xg(F)){if(I=F.nextSibling&&F.nextSibling.dataset,I)var fe=I.dgst;I=fe,h=Error(r(419)),h.stack="",h.digest=I,Nc({value:h,source:null,stack:null}),a=mg(i,a,l)}else if(rr||Rc(i,a,l,!1),I=(l&i.childLanes)!==0,rr||I){if(I=sn,I!==null&&(h=l&-l,h=(h&42)!==0?1:ii(h),h=(h&(I.suspendedLanes|l))!==0?0:h,h!==0&&h!==J.retryLane))throw J.retryLane=h,Bu(i,h),di(I,i,h),Wb;F.data==="$?"||Dg(),a=mg(i,a,l)}else F.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=J.treeContext,Sn=Zi(F.nextSibling),jr=a,Mt=!0,zo=null,ys=!1,i!==null&&(Di[ki++]=$s,Di[ki++]=Gs,Di[ki++]=Ho,$s=i.id,Gs=i.overflow,Ho=a),a=dg(a,h.children),a.flags|=4096);return a}return g?(Na(),g=h.fallback,F=a.mode,J=i.child,fe=J.sibling,h=Ys(J,{mode:"hidden",children:h.children}),h.subtreeFlags=J.subtreeFlags&65011712,fe!==null?g=Ys(fe,g):(g=Vo(g,F,l,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,F=i.child.memoizedState,F===null?F=hg(l):(J=F.cachePool,J!==null?(fe=Gn._currentValue,J=J.parent!==fe?{parent:fe,pool:fe}:J):J=$T(),F={baseLanes:F.baseLanes|l,cachePool:J}),g.memoizedState=F,g.childLanes=fg(i,I,l),a.memoizedState=cg,h):(xa(a),l=i.child,i=l.sibling,l=Ys(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(I=a.deletions,I===null?(a.deletions=[i],a.flags|=16):I.push(i)),a.child=l,a.memoizedState=null,l)}function dg(i,a){return a=Rd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Rd(i,a){return i=ui(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function mg(i,a,l){return Ku(a,i.child,null,l),i=dg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function ov(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),D0(i.return,a,l)}function pg(i,a,l,h,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=g)}function uv(i,a,l){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(pr(i,a,h.children,l),h=Kn.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ov(i,l,a);else if(i.tag===19)ov(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(P(Kn,h),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&Cd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),pg(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Cd(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}pg(a,!0,l,null,y);break;case"together":pg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zs(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),La|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Rc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ys(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ys(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function gg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&cd(i)))}function CD(i,a,l){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),Sa(a,Gn,i.memoizedState.cache),xc();break;case 27:case 5:Pe(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:Sa(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(xa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?av(i,a,l):(xa(a),i=Zs(i,a,l),i!==null?i.sibling:null);xa(a);break;case 19:var g=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Rc(i,a,l,!1),h=(l&a.childLanes)!==0),g){if(h)return uv(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),P(Kn,Kn.current),h)break;return null;case 22:case 23:return a.lanes=0,tv(i,a,l);case 24:Sa(a,Gn,i.memoizedState.cache)}return Zs(i,a,l)}function lv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)rr=!0;else{if(!gg(i,l)&&(a.flags&128)===0)return rr=!1,CD(i,a,l);rr=(i.flags&131072)!==0}else rr=!1,Mt&&(a.flags&1048576)!==0&&VT(a,ld,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")w0(h)?(i=Ko(h,i),a.tag=1,a=iv(null,a,h,i,l)):(a.tag=0,a=lg(null,a,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===j){a.tag=11,a=Zb(null,a,h,i,l);break e}else if(g===R){a.tag=14,a=Jb(null,a,h,i,l);break e}}throw a=L(h)||h,Error(r(306,a,""))}}return a;case 0:return lg(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,g=Ko(h,a.pendingProps),iv(i,a,h,g,l);case 3:e:{if(Se(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,V0(i,a),Bc(a,h,null,l);var I=a.memoizedState;if(h=I.cache,Sa(a,Gn,h),h!==y.cache&&k0(a,[Gn],l,!0),Pc(),h=I.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=sv(i,a,h,l);break e}else if(h!==g){g=Ri(Error(r(424)),a),Nc(g),a=sv(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Sn=Zi(i.firstChild),jr=a,Mt=!0,zo=null,ys=!0,l=Fb(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(xc(),h===g){a=Zs(i,a,l);break e}pr(i,a,h,l)}a=a.child}return a;case 26:return Nd(i,a),i===null?(l=dS(a.type,null,a.pendingProps,null))?a.memoizedState=l:Mt||(l=a.type,i=a.pendingProps,h=qd(Ie.current).createElement(l),h[Bt]=a,h[mn]=i,Er(h,l,i),ne(h),a.stateNode=h):a.memoizedState=dS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Pe(a),i===null&&Mt&&(h=a.stateNode=cS(a.type,a.pendingProps,Ie.current),jr=a,ys=!0,g=Sn,Ua(a.type)?(Qg=g,Sn=Zi(h.firstChild)):Sn=g),pr(i,a,a.pendingProps.children,l),Nd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Mt&&((g=h=Sn)&&(h=e6(h,a.type,a.pendingProps,ys),h!==null?(a.stateNode=h,jr=a,Sn=Zi(h.firstChild),ys=!1,g=!0):g=!1),g||jo(a)),Pe(a),g=a.type,y=a.pendingProps,I=i!==null?i.memoizedProps:null,h=y.children,$g(g,y)?h=null:I!==null&&$g(g,I)&&(a.flags|=32),a.memoizedState!==null&&(g=Y0(i,a,yD,null,null,l),sh._currentValue=g),Nd(i,a),pr(i,a,h,l),a.child;case 6:return i===null&&Mt&&((i=l=Sn)&&(l=t6(l,a.pendingProps,ys),l!==null?(a.stateNode=l,jr=a,Sn=null,i=!0):i=!1),i||jo(a)),null;case 13:return av(i,a,l);case 4:return Se(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Ku(a,null,h,l):pr(i,a,h,l),a.child;case 11:return Zb(i,a,a.type,a.pendingProps,l);case 7:return pr(i,a,a.pendingProps,l),a.child;case 8:return pr(i,a,a.pendingProps.children,l),a.child;case 12:return pr(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Sa(a,a.type,h.value),pr(i,a,h.children,l),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Yo(a),g=Sr(g),h=h(g),a.flags|=1,pr(i,a,h,l),a.child;case 14:return Jb(i,a,a.type,a.pendingProps,l);case 15:return ev(i,a,a.type,a.pendingProps,l);case 19:return uv(i,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},i===null?(l=Rd(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ys(i.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return tv(i,a,l);case 24:return Yo(a),h=Sr(Gn),i===null?(g=P0(),g===null&&(g=sn,y=L0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:h,cache:g},U0(a),Sa(a,Gn,g)):((i.lanes&l)!==0&&(V0(i,a),Bc(a,null,null,l),Pc()),g=i.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Sa(a,Gn,h)):(h=y.cache,Sa(a,Gn,h),h!==g.cache&&k0(a,[Gn],l,!0))),pr(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Js(i){i.flags|=4}function cv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!yS(a)){if(a=Li.current,a!==null&&((It&4194048)===It?_s!==null:(It&62914560)!==It&&(It&536870912)===0||a!==_s))throw Lc=B0,GT;i.flags|=8192}}function Od(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?br():536870912,i.lanes|=a,Zu|=a)}function qc(i,a){if(!Mt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function yn(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function ID(i,a,l){var h=a.pendingProps;switch(N0(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(a),null;case 1:return yn(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Xs(Gn),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ic(a)?Js(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zT())),yn(a),null;case 26:return l=a.memoizedState,i===null?(Js(a),l!==null?(yn(a),cv(a,l)):(yn(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Js(a),yn(a),cv(a,l)):(yn(a),a.flags&=-16777217):(i.memoizedProps!==h&&Js(a),yn(a),a.flags&=-16777217),null;case 27:Qe(a),l=Ie.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Js(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return yn(a),null}i=pe.current,Ic(a)?HT(a):(i=cS(g,h,l),a.stateNode=i,Js(a))}return yn(a),null;case 5:if(Qe(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Js(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return yn(a),null}if(i=pe.current,Ic(a))HT(a);else{switch(g=qd(Ie.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[Bt]=a,i[mn]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Er(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Js(a)}}return yn(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Js(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ie.current,Ic(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,g=jr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Bt]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||rS(i.nodeValue,l)),i||jo(a)}else i=qd(i).createTextNode(h),i[Bt]=a,a.stateNode=i}return yn(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ic(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Bt]=a}else xc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yn(a),g=!1}else g=zT(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Ws(a),a):(Ws(a),null)}if(Ws(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Od(a,a.updateQueue),yn(a),null;case 4:return Le(),i===null&&Fg(a.stateNode.containerInfo),yn(a),null;case 10:return Xs(a.type),yn(a),null;case 19:if(oe(Kn),g=a.memoizedState,g===null)return yn(a),null;if(h=(a.flags&128)!==0,y=g.rendering,y===null)if(h)qc(g,!1);else{if(An!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Cd(i),y!==null){for(a.flags|=128,qc(g,!1),i=y.updateQueue,a.updateQueue=i,Od(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)UT(l,i),l=l.sibling;return P(Kn,Kn.current&1|2),a.child}i=i.sibling}g.tail!==null&&Ke()>Ld&&(a.flags|=128,h=!0,qc(g,!1),a.lanes=4194304)}else{if(!h)if(i=Cd(y),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,Od(a,i),qc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Mt)return yn(a),null}else 2*Ke()-g.renderingStartTime>Ld&&l!==536870912&&(a.flags|=128,h=!0,qc(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(i=g.last,i!==null?i.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ke(),a.sibling=null,i=Kn.current,P(Kn,h?i&1|2:i&1),a):(yn(a),null);case 22:case 23:return Ws(a),j0(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(yn(a),a.subtreeFlags&6&&(a.flags|=8192)):yn(a),l=a.updateQueue,l!==null&&Od(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&oe($o),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xs(Gn),yn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function xD(i,a){switch(N0(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Xs(Gn),Le(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Qe(a),null;case 13:if(Ws(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));xc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return oe(Kn),null;case 4:return Le(),null;case 10:return Xs(a.type),null;case 22:case 23:return Ws(a),j0(),i!==null&&oe($o),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Xs(Gn),null;case 25:return null;default:return null}}function hv(i,a){switch(N0(a),a.tag){case 3:Xs(Gn),Le();break;case 26:case 27:case 5:Qe(a);break;case 4:Le();break;case 13:Ws(a);break;case 19:oe(Kn);break;case 10:Xs(a.type);break;case 22:case 23:Ws(a),j0(),i!==null&&oe($o);break;case 24:Xs(Gn)}}function Yc(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var y=l.create,I=l.inst;h=y(),I.destroy=h}l=l.next}while(l!==g)}}catch(F){tn(a,a.return,F)}}function Ra(i,a,l){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var I=h.inst,F=I.destroy;if(F!==void 0){I.destroy=void 0,g=a;var J=l,fe=F;try{fe()}catch(be){tn(g,J,be)}}}h=h.next}while(h!==y)}}catch(be){tn(a,a.return,be)}}function fv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{JT(a,l)}catch(h){tn(i,i.return,h)}}}function dv(i,a,l){l.props=Ko(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){tn(i,a,h)}}function $c(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){tn(i,a,g)}}function Ts(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){tn(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){tn(i,a,g)}else l.current=null}function mv(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){tn(i,i.return,g)}}function Eg(i,a,l){try{var h=i.stateNode;XD(h,i.type,l,a),h[mn]=a}catch(g){tn(i,i.return,g)}}function pv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ua(i.type)||i.tag===4}function yg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||pv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ua(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _g(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=jd));else if(h!==4&&(h===27&&Ua(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(_g(i,a,l),i=i.sibling;i!==null;)_g(i,a,l),i=i.sibling}function Dd(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&Ua(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Dd(i,a,l),i=i.sibling;i!==null;)Dd(i,a,l),i=i.sibling}function gv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Er(a,h,l),a[Bt]=i,a[mn]=l}catch(y){tn(i,i.return,y)}}var ea=!1,On=!1,Tg=!1,Ev=typeof WeakSet=="function"?WeakSet:Set,ir=null;function ND(i,a){if(i=i.containerInfo,qg=Qd,i=xT(i),y0(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,F=-1,J=-1,fe=0,be=0,Ae=i,de=null;t:for(;;){for(var me;Ae!==l||g!==0&&Ae.nodeType!==3||(F=I+g),Ae!==y||h!==0&&Ae.nodeType!==3||(J=I+h),Ae.nodeType===3&&(I+=Ae.nodeValue.length),(me=Ae.firstChild)!==null;)de=Ae,Ae=me;for(;;){if(Ae===i)break t;if(de===l&&++fe===g&&(F=I),de===y&&++be===h&&(J=I),(me=Ae.nextSibling)!==null)break;Ae=de,de=Ae.parentNode}Ae=me}l=F===-1||J===-1?null:{start:F,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yg={focusedElem:i,selectionRange:l},Qd=!1,ir=a;ir!==null;)if(a=ir,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,ir=i;else for(;ir!==null;){switch(a=ir,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var tt=Ko(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(tt,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(We){tn(l,l.return,We)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Kg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Kg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,ir=i;break}ir=a.return}}function yv(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Oa(i,l),h&4&&Yc(5,l);break;case 1:if(Oa(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(I){tn(l,l.return,I)}else{var g=Ko(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(I){tn(l,l.return,I)}}h&64&&fv(l),h&512&&$c(l,l.return);break;case 3:if(Oa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{JT(i,a)}catch(I){tn(l,l.return,I)}}break;case 27:a===null&&h&4&&gv(l);case 26:case 5:Oa(i,l),a===null&&h&4&&mv(l),h&512&&$c(l,l.return);break;case 12:Oa(i,l);break;case 13:Oa(i,l),h&4&&bv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=UD.bind(null,l),n6(i,l))));break;case 22:if(h=l.memoizedState!==null||ea,!h){a=a!==null&&a.memoizedState!==null||On,g=ea;var y=On;ea=h,(On=a)&&!y?Da(i,l,(l.subtreeFlags&8772)!==0):Oa(i,l),ea=g,On=y}break;case 30:break;default:Oa(i,l)}}function _v(i){var a=i.alternate;a!==null&&(i.alternate=null,_v(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ai(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gn=null,Xr=!1;function ta(i,a,l){for(l=l.child;l!==null;)Tv(i,a,l),l=l.sibling}function Tv(i,a,l){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(ae,l)}catch{}switch(l.tag){case 26:On||Ts(l,a),ta(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:On||Ts(l,a);var h=gn,g=Xr;Ua(l.type)&&(gn=l.stateNode,Xr=!1),ta(i,a,l),th(l.stateNode),gn=h,Xr=g;break;case 5:On||Ts(l,a);case 6:if(h=gn,g=Xr,gn=null,ta(i,a,l),gn=h,Xr=g,gn!==null)if(Xr)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(l.stateNode)}catch(y){tn(l,a,y)}else try{gn.removeChild(l.stateNode)}catch(y){tn(l,a,y)}break;case 18:gn!==null&&(Xr?(i=gn,uS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),lh(i)):uS(gn,l.stateNode));break;case 4:h=gn,g=Xr,gn=l.stateNode.containerInfo,Xr=!0,ta(i,a,l),gn=h,Xr=g;break;case 0:case 11:case 14:case 15:On||Ra(2,l,a),On||Ra(4,l,a),ta(i,a,l);break;case 1:On||(Ts(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&dv(l,a,h)),ta(i,a,l);break;case 21:ta(i,a,l);break;case 22:On=(h=On)||l.memoizedState!==null,ta(i,a,l),On=h;break;default:ta(i,a,l)}}function bv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{lh(i)}catch(l){tn(a,a.return,l)}}function RD(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Ev),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Ev),a;default:throw Error(r(435,i.tag))}}function bg(i,a){var l=RD(i);a.forEach(function(h){var g=VD.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function li(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=i,I=a,F=I;e:for(;F!==null;){switch(F.tag){case 27:if(Ua(F.type)){gn=F.stateNode,Xr=!1;break e}break;case 5:gn=F.stateNode,Xr=!1;break e;case 3:case 4:gn=F.stateNode.containerInfo,Xr=!0;break e}F=F.return}if(gn===null)throw Error(r(160));Tv(y,I,g),gn=null,Xr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)vv(a,i),a=a.sibling}var Wi=null;function vv(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:li(a,i),ci(i),h&4&&(Ra(3,i,i.return),Yc(3,i),Ra(5,i,i.return));break;case 1:li(a,i),ci(i),h&512&&(On||l===null||Ts(l,l.return)),h&64&&ea&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Wi;if(li(a,i),ci(i),h&512&&(On||l===null||Ts(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Si]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Er(y,h,l),y[Bt]=i,ne(y),h=y;break e;case"link":var I=gS("link","href",g).get(h+(l.href||""));if(I){for(var F=0;F<I.length;F++)if(y=I[F],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(F,1);break t}}y=g.createElement(h),Er(y,h,l),g.head.appendChild(y);break;case"meta":if(I=gS("meta","content",g).get(h+(l.content||""))){for(F=0;F<I.length;F++)if(y=I[F],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(F,1);break t}}y=g.createElement(h),Er(y,h,l),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[Bt]=i,ne(y),h=y}i.stateNode=h}else ES(g,i.type,i.stateNode);else i.stateNode=pS(g,h,i.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?ES(g,i.type,i.stateNode):pS(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Eg(i,i.memoizedProps,l.memoizedProps)}break;case 27:li(a,i),ci(i),h&512&&(On||l===null||Ts(l,l.return)),l!==null&&h&4&&Eg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(li(a,i),ci(i),h&512&&(On||l===null||Ts(l,l.return)),i.flags&32){g=i.stateNode;try{fr(g,"")}catch(me){tn(i,i.return,me)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,Eg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Tg=!0);break;case 6:if(li(a,i),ci(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(me){tn(i,i.return,me)}}break;case 3:if(Gd=null,g=Wi,Wi=Yd(a.containerInfo),li(a,i),Wi=g,ci(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{lh(a.containerInfo)}catch(me){tn(i,i.return,me)}Tg&&(Tg=!1,Sv(i));break;case 4:h=Wi,Wi=Yd(i.stateNode.containerInfo),li(a,i),ci(i),Wi=h;break;case 12:li(a,i),ci(i);break;case 13:li(a,i),ci(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ig=Ke()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,bg(i,h)));break;case 22:g=i.memoizedState!==null;var J=l!==null&&l.memoizedState!==null,fe=ea,be=On;if(ea=fe||g,On=be||J,li(a,i),On=be,ea=fe,ci(i),h&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||J||ea||On||Xo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){J=l=a;try{if(y=J.stateNode,g)I=y.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{F=J.stateNode;var Ae=J.memoizedProps.style,de=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;F.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(me){tn(J,J.return,me)}}}else if(a.tag===6){if(l===null){J=a;try{J.stateNode.nodeValue=g?"":J.memoizedProps}catch(me){tn(J,J.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,bg(i,l))));break;case 19:li(a,i),ci(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,bg(i,h)));break;case 30:break;case 21:break;default:li(a,i),ci(i)}}function ci(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(pv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=yg(i);Dd(i,y,g);break;case 5:var I=l.stateNode;l.flags&32&&(fr(I,""),l.flags&=-33);var F=yg(i);Dd(i,F,I);break;case 3:case 4:var J=l.stateNode.containerInfo,fe=yg(i);_g(i,fe,J);break;default:throw Error(r(161))}}catch(be){tn(i,i.return,be)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Sv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Sv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Oa(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)yv(i,a.alternate,a),a=a.sibling}function Xo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ra(4,a,a.return),Xo(a);break;case 1:Ts(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&dv(a,a.return,l),Xo(a);break;case 27:th(a.stateNode);case 26:case 5:Ts(a,a.return),Xo(a);break;case 22:a.memoizedState===null&&Xo(a);break;case 30:Xo(a);break;default:Xo(a)}i=i.sibling}}function Da(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,y=a,I=y.flags;switch(y.tag){case 0:case 11:case 15:Da(g,y,l),Yc(4,y);break;case 1:if(Da(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(fe){tn(h,h.return,fe)}if(h=y,g=h.updateQueue,g!==null){var F=h.stateNode;try{var J=g.shared.hiddenCallbacks;if(J!==null)for(g.shared.hiddenCallbacks=null,g=0;g<J.length;g++)ZT(J[g],F)}catch(fe){tn(h,h.return,fe)}}l&&I&64&&fv(y),$c(y,y.return);break;case 27:gv(y);case 26:case 5:Da(g,y,l),l&&h===null&&I&4&&mv(y),$c(y,y.return);break;case 12:Da(g,y,l);break;case 13:Da(g,y,l),l&&I&4&&bv(g,y);break;case 22:y.memoizedState===null&&Da(g,y,l),$c(y,y.return);break;case 30:break;default:Da(g,y,l)}a=a.sibling}}function vg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Oc(l))}function Sg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Oc(i))}function bs(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Av(i,a,l,h),a=a.sibling}function Av(i,a,l,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:bs(i,a,l,h),g&2048&&Yc(9,a);break;case 1:bs(i,a,l,h);break;case 3:bs(i,a,l,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Oc(i)));break;case 12:if(g&2048){bs(i,a,l,h),i=a.stateNode;try{var y=a.memoizedProps,I=y.id,F=y.onPostCommit;typeof F=="function"&&F(I,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){tn(a,a.return,J)}}else bs(i,a,l,h);break;case 13:bs(i,a,l,h);break;case 23:break;case 22:y=a.stateNode,I=a.alternate,a.memoizedState!==null?y._visibility&2?bs(i,a,l,h):Gc(i,a):y._visibility&2?bs(i,a,l,h):(y._visibility|=2,Xu(i,a,l,h,(a.subtreeFlags&10256)!==0)),g&2048&&vg(I,a);break;case 24:bs(i,a,l,h),g&2048&&Sg(a.alternate,a);break;default:bs(i,a,l,h)}}function Xu(i,a,l,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,I=a,F=l,J=h,fe=I.flags;switch(I.tag){case 0:case 11:case 15:Xu(y,I,F,J,g),Yc(8,I);break;case 23:break;case 22:var be=I.stateNode;I.memoizedState!==null?be._visibility&2?Xu(y,I,F,J,g):Gc(y,I):(be._visibility|=2,Xu(y,I,F,J,g)),g&&fe&2048&&vg(I.alternate,I);break;case 24:Xu(y,I,F,J,g),g&&fe&2048&&Sg(I.alternate,I);break;default:Xu(y,I,F,J,g)}a=a.sibling}}function Gc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,g=h.flags;switch(h.tag){case 22:Gc(l,h),g&2048&&vg(h.alternate,h);break;case 24:Gc(l,h),g&2048&&Sg(h.alternate,h);break;default:Gc(l,h)}a=a.sibling}}var Kc=8192;function Qu(i){if(i.subtreeFlags&Kc)for(i=i.child;i!==null;)wv(i),i=i.sibling}function wv(i){switch(i.tag){case 26:Qu(i),i.flags&Kc&&i.memoizedState!==null&&p6(Wi,i.memoizedState,i.memoizedProps);break;case 5:Qu(i);break;case 3:case 4:var a=Wi;Wi=Yd(i.stateNode.containerInfo),Qu(i),Wi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Kc,Kc=16777216,Qu(i),Kc=a):Qu(i));break;default:Qu(i)}}function Cv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Xc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];ir=h,xv(h,i)}Cv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iv(i),i=i.sibling}function Iv(i){switch(i.tag){case 0:case 11:case 15:Xc(i),i.flags&2048&&Ra(9,i,i.return);break;case 3:Xc(i);break;case 12:Xc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,kd(i)):Xc(i);break;default:Xc(i)}}function kd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];ir=h,xv(h,i)}Cv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ra(8,a,a.return),kd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,kd(a));break;default:kd(a)}i=i.sibling}}function xv(i,a){for(;ir!==null;){var l=ir;switch(l.tag){case 0:case 11:case 15:Ra(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Oc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,ir=h;else e:for(l=i;ir!==null;){h=ir;var g=h.sibling,y=h.return;if(_v(h),h===l){ir=null;break e}if(g!==null){g.return=y,ir=g;break e}ir=y}}}var OD={getCacheForType:function(i){var a=Sr(Gn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},DD=typeof WeakMap=="function"?WeakMap:Map,Gt=0,sn=null,Et=null,It=0,Kt=0,hi=null,ka=!1,Wu=!1,Ag=!1,na=0,An=0,La=0,Qo=0,wg=0,Mi=0,Zu=0,Qc=null,Qr=null,Cg=!1,Ig=0,Ld=1/0,Md=null,Ma=null,gr=0,Pa=null,Ju=null,el=0,xg=0,Ng=null,Nv=null,Wc=0,Rg=null;function fi(){if((Gt&2)!==0&&It!==0)return It&-It;if(H.T!==null){var i=Fu;return i!==0?i:Bg()}return Lr()}function Rv(){Mi===0&&(Mi=(It&536870912)===0||Mt?$i():536870912);var i=Li.current;return i!==null&&(i.flags|=32),Mi}function di(i,a,l){(i===sn&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)&&(tl(i,0),Ba(i,It,Mi,!1)),kr(i,l),((Gt&2)===0||i!==sn)&&(i===sn&&((Gt&2)===0&&(Qo|=l),An===4&&Ba(i,It,Mi,!1)),vs(i))}function Ov(i,a,l){if((Gt&6)!==0)throw Error(r(327));var h=!l&&(a&124)===0&&(a&i.expiredLanes)===0||en(i,a),g=h?MD(i,a):kg(i,a,!0),y=h;do{if(g===0){Wu&&!h&&Ba(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!kD(l)){g=kg(i,a,!1),y=!1;continue}if(g===2){if(y=a,i.errorRecoveryDisabledLanes&y)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var F=i;g=Qc;var J=F.current.memoizedState.isDehydrated;if(J&&(tl(F,I).flags|=256),I=kg(F,I,!1),I!==2){if(Ag&&!J){F.errorRecoveryDisabledLanes|=y,Qo|=y,g=4;break e}y=Qr,Qr=g,y!==null&&(Qr===null?Qr=y:Qr.push.apply(Qr,y))}g=I}if(y=!1,g!==2)continue}}if(g===1){tl(i,0),Ba(i,a,0,!0);break}e:{switch(h=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ba(h,a,Mi,!ka);break e;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Ig+300-Ke(),10<g)){if(Ba(h,a,Mi,!ka),ct(h,0,!0)!==0)break e;h.timeoutHandle=aS(Dv.bind(null,h,l,Qr,Md,Cg,a,Mi,Qo,Zu,ka,y,2,-0,0),g);break e}Dv(h,l,Qr,Md,Cg,a,Mi,Qo,Zu,ka,y,0,-0,0)}}break}while(!0);vs(i)}function Dv(i,a,l,h,g,y,I,F,J,fe,be,Ae,de,me){if(i.timeoutHandle=-1,Ae=a.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(ih={stylesheets:null,count:0,unsuspend:m6},wv(a),Ae=g6(),Ae!==null)){i.cancelPendingCommit=Ae(Vv.bind(null,i,a,y,l,h,g,I,F,J,be,1,de,me)),Ba(i,y,I,!fe);return}Vv(i,a,y,l,h,g,I,F,J)}function kD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!oi(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ba(i,a,l,h){a&=~wg,a&=~Qo,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var y=31-Ye(g),I=1<<y;h[y]=-1,g&=~I}l!==0&&$r(i,l,a)}function Pd(){return(Gt&6)===0?(Zc(0),!1):!0}function Og(){if(Et!==null){if(Kt===0)var i=Et.return;else i=Et,Ks=qo=null,K0(i),Gu=null,zc=0,i=Et;for(;i!==null;)hv(i.alternate,i),i=i.return;Et=null}}function tl(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,WD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Og(),sn=i,Et=l=Ys(i.current,null),It=a,Kt=0,hi=null,ka=!1,Wu=en(i,a),Ag=!1,Zu=Mi=wg=Qo=La=An=0,Qr=Qc=null,Cg=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-Ye(h),y=1<<g;a|=i[g],h&=~y}return na=a,id(),l}function kv(i,a){ht=null,H.H=Sd,a===kc||a===dd?(a=QT(),Kt=3):a===GT?(a=QT(),Kt=4):Kt=a===Wb?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,hi=a,Et===null&&(An=1,xd(i,Ri(a,i.current)))}function Lv(){var i=H.H;return H.H=Sd,i===null?Sd:i}function Mv(){var i=H.A;return H.A=OD,i}function Dg(){An=4,ka||(It&4194048)!==It&&Li.current!==null||(Wu=!0),(La&134217727)===0&&(Qo&134217727)===0||sn===null||Ba(sn,It,Mi,!1)}function kg(i,a,l){var h=Gt;Gt|=2;var g=Lv(),y=Mv();(sn!==i||It!==a)&&(Md=null,tl(i,a)),a=!1;var I=An;e:do try{if(Kt!==0&&Et!==null){var F=Et,J=hi;switch(Kt){case 8:Og(),I=6;break e;case 3:case 2:case 9:case 6:Li.current===null&&(a=!0);var fe=Kt;if(Kt=0,hi=null,nl(i,F,J,fe),l&&Wu){I=0;break e}break;default:fe=Kt,Kt=0,hi=null,nl(i,F,J,fe)}}LD(),I=An;break}catch(be){kv(i,be)}while(!0);return a&&i.shellSuspendCounter++,Ks=qo=null,Gt=h,H.H=g,H.A=y,Et===null&&(sn=null,It=0,id()),I}function LD(){for(;Et!==null;)Pv(Et)}function MD(i,a){var l=Gt;Gt|=2;var h=Lv(),g=Mv();sn!==i||It!==a?(Md=null,Ld=Ke()+500,tl(i,a)):Wu=en(i,a);e:do try{if(Kt!==0&&Et!==null){a=Et;var y=hi;t:switch(Kt){case 1:Kt=0,hi=null,nl(i,a,y,1);break;case 2:case 9:if(KT(y)){Kt=0,hi=null,Bv(a);break}a=function(){Kt!==2&&Kt!==9||sn!==i||(Kt=7),vs(i)},y.then(a,a);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:KT(y)?(Kt=0,hi=null,Bv(a)):(Kt=0,hi=null,nl(i,a,y,7));break;case 5:var I=null;switch(Et.tag){case 26:I=Et.memoizedState;case 5:case 27:var F=Et;if(!I||yS(I)){Kt=0,hi=null;var J=F.sibling;if(J!==null)Et=J;else{var fe=F.return;fe!==null?(Et=fe,Bd(fe)):Et=null}break t}}Kt=0,hi=null,nl(i,a,y,5);break;case 6:Kt=0,hi=null,nl(i,a,y,6);break;case 8:Og(),An=6;break e;default:throw Error(r(462))}}PD();break}catch(be){kv(i,be)}while(!0);return Ks=qo=null,H.H=h,H.A=g,Gt=l,Et!==null?0:(sn=null,It=0,id(),An)}function PD(){for(;Et!==null&&!Ge();)Pv(Et)}function Pv(i){var a=lv(i.alternate,i,na);i.memoizedProps=i.pendingProps,a===null?Bd(i):Et=a}function Bv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=rv(l,a,a.pendingProps,a.type,void 0,It);break;case 11:a=rv(l,a,a.pendingProps,a.type.render,a.ref,It);break;case 5:K0(a);default:hv(l,a),a=Et=UT(a,na),a=lv(l,a,na)}i.memoizedProps=i.pendingProps,a===null?Bd(i):Et=a}function nl(i,a,l,h){Ks=qo=null,K0(a),Gu=null,zc=0;var g=a.return;try{if(wD(i,g,a,l,It)){An=1,xd(i,Ri(l,i.current)),Et=null;return}}catch(y){if(g!==null)throw Et=g,y;An=1,xd(i,Ri(l,i.current)),Et=null;return}a.flags&32768?(Mt||h===1?i=!0:Wu||(It&536870912)!==0?i=!1:(ka=i=!0,(h===2||h===9||h===3||h===6)&&(h=Li.current,h!==null&&h.tag===13&&(h.flags|=16384))),Uv(a,i)):Bd(a)}function Bd(i){var a=i;do{if((a.flags&32768)!==0){Uv(a,ka);return}i=a.return;var l=ID(a.alternate,a,na);if(l!==null){Et=l;return}if(a=a.sibling,a!==null){Et=a;return}Et=a=i}while(a!==null);An===0&&(An=5)}function Uv(i,a){do{var l=xD(i.alternate,i);if(l!==null){l.flags&=32767,Et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Et=i;return}Et=i=l}while(i!==null);An=6,Et=null}function Vv(i,a,l,h,g,y,I,F,J){i.cancelPendingCommit=null;do Ud();while(gr!==0);if((Gt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=S0,vr(i,l,y,I,F,J),i===sn&&(Et=sn=null,It=0),Ju=a,Pa=i,el=l,xg=y,Ng=g,Nv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HD(In,function(){return qv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=H.T,H.T=null,g=Q.p,Q.p=2,I=Gt,Gt|=4;try{ND(i,a,l)}finally{Gt=I,Q.p=g,H.T=h}}gr=1,Hv(),Fv(),zv()}}function Hv(){if(gr===1){gr=0;var i=Pa,a=Ju,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var h=Q.p;Q.p=2;var g=Gt;Gt|=4;try{vv(a,i);var y=Yg,I=xT(i.containerInfo),F=y.focusedElem,J=y.selectionRange;if(I!==F&&F&&F.ownerDocument&&IT(F.ownerDocument.documentElement,F)){if(J!==null&&y0(F)){var fe=J.start,be=J.end;if(be===void 0&&(be=fe),"selectionStart"in F)F.selectionStart=fe,F.selectionEnd=Math.min(be,F.value.length);else{var Ae=F.ownerDocument||document,de=Ae&&Ae.defaultView||window;if(de.getSelection){var me=de.getSelection(),tt=F.textContent.length,We=Math.min(J.start,tt),Jt=J.end===void 0?We:Math.min(J.end,tt);!me.extend&&We>Jt&&(I=Jt,Jt=We,We=I);var ue=CT(F,We),se=CT(F,Jt);if(ue&&se&&(me.rangeCount!==1||me.anchorNode!==ue.node||me.anchorOffset!==ue.offset||me.focusNode!==se.node||me.focusOffset!==se.offset)){var ce=Ae.createRange();ce.setStart(ue.node,ue.offset),me.removeAllRanges(),We>Jt?(me.addRange(ce),me.extend(se.node,se.offset)):(ce.setEnd(se.node,se.offset),me.addRange(ce))}}}}for(Ae=[],me=F;me=me.parentNode;)me.nodeType===1&&Ae.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ae.length;F++){var ve=Ae[F];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Qd=!!qg,Yg=qg=null}finally{Gt=g,Q.p=h,H.T=l}}i.current=a,gr=2}}function Fv(){if(gr===2){gr=0;var i=Pa,a=Ju,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var h=Q.p;Q.p=2;var g=Gt;Gt|=4;try{yv(i,a.alternate,a)}finally{Gt=g,Q.p=h,H.T=l}}gr=3}}function zv(){if(gr===4||gr===3){gr=0,cn();var i=Pa,a=Ju,l=el,h=Nv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gr=5:(gr=0,Ju=Pa=null,jv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ma=null),Gi(l),a=a.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(ae,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=H.T,g=Q.p,Q.p=2,H.T=null;try{for(var y=i.onRecoverableError,I=0;I<h.length;I++){var F=h[I];y(F.value,{componentStack:F.stack})}}finally{H.T=a,Q.p=g}}(el&3)!==0&&Ud(),vs(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Rg?Wc++:(Wc=0,Rg=i):Wc=0,Zc(0)}}function jv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Oc(a)))}function Ud(i){return Hv(),Fv(),zv(),qv()}function qv(){if(gr!==5)return!1;var i=Pa,a=xg;xg=0;var l=Gi(el),h=H.T,g=Q.p;try{Q.p=32>l?32:l,H.T=null,l=Ng,Ng=null;var y=Pa,I=el;if(gr=0,Ju=Pa=null,el=0,(Gt&6)!==0)throw Error(r(331));var F=Gt;if(Gt|=4,Iv(y.current),Av(y,y.current,I,l),Gt=F,Zc(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(ae,y)}catch{}return!0}finally{Q.p=g,H.T=h,jv(i,a)}}function Yv(i,a,l){a=Ri(l,a),a=ug(i.stateNode,a,2),i=Ca(i,a,2),i!==null&&(kr(i,2),vs(i))}function tn(i,a,l){if(i.tag===3)Yv(i,i,l);else for(;a!==null;){if(a.tag===3){Yv(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ma===null||!Ma.has(h))){i=Ri(l,i),l=Xb(2),h=Ca(a,l,2),h!==null&&(Qb(l,h,a,i),kr(h,2),vs(h));break}}a=a.return}}function Lg(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new DD;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(l)||(Ag=!0,g.add(l),i=BD.bind(null,i,a,l),a.then(i,i))}function BD(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,sn===i&&(It&l)===l&&(An===4||An===3&&(It&62914560)===It&&300>Ke()-Ig?(Gt&2)===0&&tl(i,0):wg|=l,Zu===It&&(Zu=0)),vs(i)}function $v(i,a){a===0&&(a=br()),i=Bu(i,a),i!==null&&(kr(i,a),vs(i))}function UD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),$v(i,l)}function VD(i,a){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),$v(i,l)}function HD(i,a){return Ot(i,a)}var Vd=null,rl=null,Mg=!1,Hd=!1,Pg=!1,Wo=0;function vs(i){i!==rl&&i.next===null&&(rl===null?Vd=rl=i:rl=rl.next=i),Hd=!0,Mg||(Mg=!0,zD())}function Zc(i,a){if(!Pg&&Hd){Pg=!0;do for(var l=!1,h=Vd;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var I=h.suspendedLanes,F=h.pingedLanes;y=(1<<31-Ye(42|i)+1)-1,y&=g&~(I&~F),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Qv(h,y))}else y=It,y=ct(h,h===sn?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||en(h,y)||(l=!0,Qv(h,y));h=h.next}while(l);Pg=!1}}function FD(){Gv()}function Gv(){Hd=Mg=!1;var i=0;Wo!==0&&(QD()&&(i=Wo),Wo=0);for(var a=Ke(),l=null,h=Vd;h!==null;){var g=h.next,y=Kv(h,a);y===0?(h.next=null,l===null?Vd=g:l.next=g,g===null&&(rl=l)):(l=h,(i!==0||(y&3)!==0)&&(Hd=!0)),h=g}Zc(i)}function Kv(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var I=31-Ye(y),F=1<<I,J=g[I];J===-1?((F&l)===0||(F&h)!==0)&&(g[I]=Xt(F,a)):J<=a&&(i.expiredLanes|=F),y&=~F}if(a=sn,l=It,l=ct(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Dt(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||en(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&Dt(h),Gi(l)){case 2:case 8:l=Cn;break;case 32:l=In;break;case 268435456:l=xn;break;default:l=In}return h=Xv.bind(null,i),l=Ot(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&Dt(h),i.callbackPriority=2,i.callbackNode=null,2}function Xv(i,a){if(gr!==0&&gr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Ud()&&i.callbackNode!==l)return null;var h=It;return h=ct(i,i===sn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Ov(i,h,a),Kv(i,Ke()),i.callbackNode!=null&&i.callbackNode===l?Xv.bind(null,i):null)}function Qv(i,a){if(Ud())return null;Ov(i,a,!0)}function zD(){ZD(function(){(Gt&6)!==0?Ot(nn,FD):Gv()})}function Bg(){return Wo===0&&(Wo=$i()),Wo}function Wv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vs(""+i)}function Zv(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function jD(i,a,l,h,g){if(a==="submit"&&l&&l.stateNode===g){var y=Wv((g[mn]||null).action),I=h.submitter;I&&(a=(a=I[mn]||null)?Wv(a.formAction):I.getAttribute("formAction"),a!==null&&(y=a,I=null));var F=new Cu("action","action",null,h,g);i.push({event:F,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Wo!==0){var J=I?Zv(g,I):new FormData(g);rg(l,{pending:!0,data:J,method:g.method,action:y},null,J)}}else typeof y=="function"&&(F.preventDefault(),J=I?Zv(g,I):new FormData(g),rg(l,{pending:!0,data:J,method:g.method,action:y},y,J))},currentTarget:g}]})}}for(var Ug=0;Ug<v0.length;Ug++){var Vg=v0[Ug],qD=Vg.toLowerCase(),YD=Vg[0].toUpperCase()+Vg.slice(1);Qi(qD,"on"+YD)}Qi(OT,"onAnimationEnd"),Qi(DT,"onAnimationIteration"),Qi(kT,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(uD,"onTransitionRun"),Qi(lD,"onTransitionStart"),Qi(cD,"onTransitionCancel"),Qi(LT,"onTransitionEnd"),gt("onMouseEnter",["mouseout","mouseover"]),gt("onMouseLeave",["mouseout","mouseover"]),gt("onPointerEnter",["pointerout","pointerover"]),gt("onPointerLeave",["pointerout","pointerover"]),Be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Be("onBeforeInput",["compositionend","keypress","textInput","paste"]),Be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$D=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jc));function Jv(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var I=h.length-1;0<=I;I--){var F=h[I],J=F.instance,fe=F.currentTarget;if(F=F.listener,J!==y&&g.isPropagationStopped())break e;y=F,g.currentTarget=fe;try{y(g)}catch(be){Id(be)}g.currentTarget=null,y=J}else for(I=0;I<h.length;I++){if(F=h[I],J=F.instance,fe=F.currentTarget,F=F.listener,J!==y&&g.isPropagationStopped())break e;y=F,g.currentTarget=fe;try{y(g)}catch(be){Id(be)}g.currentTarget=null,y=J}}}}function yt(i,a){var l=a[us];l===void 0&&(l=a[us]=new Set);var h=i+"__bubble";l.has(h)||(eS(a,i,2,!1),l.add(h))}function Hg(i,a,l){var h=0;a&&(h|=4),eS(l,i,h,a)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Fg(i){if(!i[Fd]){i[Fd]=!0,ge.forEach(function(l){l!=="selectionchange"&&($D.has(l)||Hg(l,!1,i),Hg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Fd]||(a[Fd]=!0,Hg("selectionchange",!1,a))}}function eS(i,a,l,h){switch(AS(a)){case 2:var g=_6;break;case 8:g=T6;break;default:g=tE}l=g.bind(null,a,l,i),g=void 0,!xi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function zg(i,a,l,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var F=h.stateNode.containerInfo;if(F===g)break;if(I===4)for(I=h.return;I!==null;){var J=I.tag;if((J===3||J===4)&&I.stateNode.containerInfo===g)return;I=I.return}for(;F!==null;){if(I=Pr(F),I===null)return;if(J=I.tag,J===5||J===6||J===26||J===27){h=y=I;continue e}F=F.parentNode}}h=h.return}jf(function(){var fe=y,be=dr(l),Ae=[];e:{var de=MT.get(i);if(de!==void 0){var me=Cu,tt=i;switch(i){case"keypress":if(ds(l)===0)break e;case"keydown":case"keyup":me=Du;break;case"focusin":tt="focus",me=Nu;break;case"focusout":tt="blur",me=Nu;break;case"beforeblur":case"afterblur":me=Nu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Wf;break;case OT:case DT:case kT:me=Ru;break;case LT:me=Jf;break;case"scroll":case"scrollend":me=qf;break;case"wheel":me=ku;break;case"copy":case"cut":case"paste":me=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Sc;break;case"toggle":case"beforetoggle":me=td}var We=(a&4)!==0,Jt=!We&&(i==="scroll"||i==="scrollend"),ue=We?de!==null?de+"Capture":null:de;We=[];for(var se=fe,ce;se!==null;){var ve=se;if(ce=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ce===null||ue===null||(ve=Ro(se,ue),ve!=null&&We.push(eh(se,ve,ce))),Jt)break;se=se.return}0<We.length&&(de=new me(de,tt,null,l,be),Ae.push({event:de,listeners:We}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",de&&l!==Gr&&(tt=l.relatedTarget||l.fromElement)&&(Pr(tt)||tt[bn]))break e;if((me||de)&&(de=be.window===be?be:(de=be.ownerDocument)?de.defaultView||de.parentWindow:window,me?(tt=l.relatedTarget||l.toElement,me=fe,tt=tt?Pr(tt):null,tt!==null&&(Jt=o(tt),We=tt.tag,tt!==Jt||We!==5&&We!==27&&We!==6)&&(tt=null)):(me=null,tt=fe),me!==tt)){if(We=Ni,ve="onMouseLeave",ue="onMouseEnter",se="mouse",(i==="pointerout"||i==="pointerover")&&(We=Sc,ve="onPointerLeave",ue="onPointerEnter",se="pointer"),Jt=me==null?de:Br(me),ce=tt==null?de:Br(tt),de=new We(ve,se+"leave",me,l,be),de.target=Jt,de.relatedTarget=ce,ve=null,Pr(be)===fe&&(We=new We(ue,se+"enter",tt,l,be),We.target=ce,We.relatedTarget=Jt,ve=We),Jt=ve,me&&tt)t:{for(We=me,ue=tt,se=0,ce=We;ce;ce=il(ce))se++;for(ce=0,ve=ue;ve;ve=il(ve))ce++;for(;0<se-ce;)We=il(We),se--;for(;0<ce-se;)ue=il(ue),ce--;for(;se--;){if(We===ue||ue!==null&&We===ue.alternate)break t;We=il(We),ue=il(ue)}We=null}else We=null;me!==null&&tS(Ae,de,me,We,!1),tt!==null&&Jt!==null&&tS(Ae,Jt,tt,We,!0)}}e:{if(de=fe?Br(fe):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var je=TT;else if($n(de))if(bT)je=sD;else{je=rD;var dt=nD}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?fe&&Us(fe.elementType)&&(je=TT):je=iD;if(je&&(je=je(i,fe))){qs(Ae,je,l,be);break e}dt&&dt(i,de,fe),i==="focusout"&&fe&&de.type==="number"&&fe.memoizedProps.value!=null&&hr(de,"number",de.value)}switch(dt=fe?Br(fe):window,i){case"focusin":($n(dt)||dt.contentEditable==="true")&&(Lu=dt,_0=fe,Cc=null);break;case"focusout":Cc=_0=Lu=null;break;case"mousedown":T0=!0;break;case"contextmenu":case"mouseup":case"dragend":T0=!1,NT(Ae,l,be);break;case"selectionchange":if(oD)break;case"keydown":case"keyup":NT(Ae,l,be)}var $e;if(gs)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else wt?Ee(i,l)&&(Ze="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(A&&l.locale!=="ko"&&(wt||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&wt&&($e=yc()):(fs=be,va="value"in fs?fs.value:fs.textContent,wt=!0)),dt=zd(fe,Ze),0<dt.length&&(Ze=new bc(Ze,i,null,l,be),Ae.push({event:Ze,listeners:dt}),$e?Ze.data=$e:($e=Me(l),$e!==null&&(Ze.data=$e)))),($e=v?Yn(i,l):Ct(i,l))&&(Ze=zd(fe,"onBeforeInput"),0<Ze.length&&(dt=new bc("onBeforeInput","beforeinput",null,l,be),Ae.push({event:dt,listeners:Ze}),dt.data=$e)),jD(Ae,i,fe,l,be)}Jv(Ae,a)})}function eh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function zd(i,a){for(var l=a+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ro(i,l),g!=null&&h.unshift(eh(i,g,y)),g=Ro(i,a),g!=null&&h.push(eh(i,g,y))),i.tag===3)return h;i=i.return}return[]}function il(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function tS(i,a,l,h,g){for(var y=a._reactName,I=[];l!==null&&l!==h;){var F=l,J=F.alternate,fe=F.stateNode;if(F=F.tag,J!==null&&J===h)break;F!==5&&F!==26&&F!==27||fe===null||(J=fe,g?(fe=Ro(l,y),fe!=null&&I.unshift(eh(l,fe,J))):g||(fe=Ro(l,y),fe!=null&&I.push(eh(l,fe,J)))),l=l.return}I.length!==0&&i.push({event:a,listeners:I})}var GD=/\r\n?/g,KD=/\u0000|\uFFFD/g;function nS(i){return(typeof i=="string"?i:""+i).replace(GD,`
`).replace(KD,"")}function rS(i,a){return a=nS(a),nS(i)===a}function jd(){}function Zt(i,a,l,h,g,y){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||fr(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&fr(i,""+h);break;case"className":kt(i,"class",h);break;case"tabIndex":kt(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":kt(i,l,h);break;case"style":cs(i,h,y);break;case"data":if(a!=="object"){kt(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Zt(i,a,"name",g.name,g,null),Zt(i,a,"formEncType",g.formEncType,g,null),Zt(i,a,"formMethod",g.formMethod,g,null),Zt(i,a,"formTarget",g.formTarget,g,null)):(Zt(i,a,"encType",g.encType,g,null),Zt(i,a,"method",g.method,g,null),Zt(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=jd);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Vs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":yt("beforetoggle",i),yt("toggle",i),Vt(i,"popover",h);break;case"xlinkActuate":Ht(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ht(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ht(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ht(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ht(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ht(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ht(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ht(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ht(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Vt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ta.get(l)||l,Vt(i,l,h))}}function jg(i,a,l,h,g,y){switch(l){case"style":cs(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?fr(i,h):(typeof h=="number"||typeof h=="bigint")&&fr(i,""+h);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oe.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=i[mn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Vt(i,l,h)}}}function Er(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",i),yt("load",i);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var I=l[y];if(I!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Zt(i,a,y,I,l,null)}}g&&Zt(i,a,"srcSet",l.srcSet,l,null),h&&Zt(i,a,"src",l.src,l,null);return;case"input":yt("invalid",i);var F=y=I=g=null,J=null,fe=null;for(h in l)if(l.hasOwnProperty(h)){var be=l[h];if(be!=null)switch(h){case"name":g=be;break;case"type":I=be;break;case"checked":J=be;break;case"defaultChecked":fe=be;break;case"value":y=be;break;case"defaultValue":F=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:Zt(i,a,h,be,l,null)}}cr(i,y,F,J,fe,I,g,!1),At(i);return;case"select":yt("invalid",i),h=I=y=null;for(g in l)if(l.hasOwnProperty(g)&&(F=l[g],F!=null))switch(g){case"value":y=F;break;case"defaultValue":I=F;break;case"multiple":h=F;default:Zt(i,a,g,F,l,null)}a=y,l=I,i.multiple=!!h,a!=null?Hr(i,!!h,a,!1):l!=null&&Hr(i,!!h,l,!0);return;case"textarea":yt("invalid",i),y=g=h=null;for(I in l)if(l.hasOwnProperty(I)&&(F=l[I],F!=null))switch(I){case"value":h=F;break;case"defaultValue":g=F;break;case"children":y=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Zt(i,a,I,F,l,null)}Ki(i,h,g,y),At(i);return;case"option":for(J in l)if(l.hasOwnProperty(J)&&(h=l[J],h!=null))switch(J){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Zt(i,a,J,h,l,null)}return;case"dialog":yt("beforetoggle",i),yt("toggle",i),yt("cancel",i),yt("close",i);break;case"iframe":case"object":yt("load",i);break;case"video":case"audio":for(h=0;h<Jc.length;h++)yt(Jc[h],i);break;case"image":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"embed":case"source":case"link":yt("error",i),yt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in l)if(l.hasOwnProperty(fe)&&(h=l[fe],h!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Zt(i,a,fe,h,l,null)}return;default:if(Us(a)){for(be in l)l.hasOwnProperty(be)&&(h=l[be],h!==void 0&&jg(i,a,be,h,l,void 0));return}}for(F in l)l.hasOwnProperty(F)&&(h=l[F],h!=null&&Zt(i,a,F,h,l,null))}function XD(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,I=null,F=null,J=null,fe=null,be=null;for(me in l){var Ae=l[me];if(l.hasOwnProperty(me)&&Ae!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":J=Ae;default:h.hasOwnProperty(me)||Zt(i,a,me,null,h,Ae)}}for(var de in h){var me=h[de];if(Ae=l[de],h.hasOwnProperty(de)&&(me!=null||Ae!=null))switch(de){case"type":y=me;break;case"name":g=me;break;case"checked":fe=me;break;case"defaultChecked":be=me;break;case"value":I=me;break;case"defaultValue":F=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,a));break;default:me!==Ae&&Zt(i,a,de,me,h,Ae)}}rn(i,I,F,J,fe,be,y,g);return;case"select":me=I=F=de=null;for(y in l)if(J=l[y],l.hasOwnProperty(y)&&J!=null)switch(y){case"value":break;case"multiple":me=J;default:h.hasOwnProperty(y)||Zt(i,a,y,null,h,J)}for(g in h)if(y=h[g],J=l[g],h.hasOwnProperty(g)&&(y!=null||J!=null))switch(g){case"value":de=y;break;case"defaultValue":F=y;break;case"multiple":I=y;default:y!==J&&Zt(i,a,g,y,h,J)}a=F,l=I,h=me,de!=null?Hr(i,!!l,de,!1):!!h!=!!l&&(a!=null?Hr(i,!!l,a,!0):Hr(i,!!l,l?[]:"",!1));return;case"textarea":me=de=null;for(F in l)if(g=l[F],l.hasOwnProperty(F)&&g!=null&&!h.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Zt(i,a,F,null,h,g)}for(I in h)if(g=h[I],y=l[I],h.hasOwnProperty(I)&&(g!=null||y!=null))switch(I){case"value":de=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Zt(i,a,I,g,h,y)}Nt(i,de,me);return;case"option":for(var tt in l)if(de=l[tt],l.hasOwnProperty(tt)&&de!=null&&!h.hasOwnProperty(tt))switch(tt){case"selected":i.selected=!1;break;default:Zt(i,a,tt,null,h,de)}for(J in h)if(de=h[J],me=l[J],h.hasOwnProperty(J)&&de!==me&&(de!=null||me!=null))switch(J){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Zt(i,a,J,de,h,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in l)de=l[We],l.hasOwnProperty(We)&&de!=null&&!h.hasOwnProperty(We)&&Zt(i,a,We,null,h,de);for(fe in h)if(de=h[fe],me=l[fe],h.hasOwnProperty(fe)&&de!==me&&(de!=null||me!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:Zt(i,a,fe,de,h,me)}return;default:if(Us(a)){for(var Jt in l)de=l[Jt],l.hasOwnProperty(Jt)&&de!==void 0&&!h.hasOwnProperty(Jt)&&jg(i,a,Jt,void 0,h,de);for(be in h)de=h[be],me=l[be],!h.hasOwnProperty(be)||de===me||de===void 0&&me===void 0||jg(i,a,be,de,h,me);return}}for(var ue in l)de=l[ue],l.hasOwnProperty(ue)&&de!=null&&!h.hasOwnProperty(ue)&&Zt(i,a,ue,null,h,de);for(Ae in h)de=h[Ae],me=l[Ae],!h.hasOwnProperty(Ae)||de===me||de==null&&me==null||Zt(i,a,Ae,de,h,me)}var qg=null,Yg=null;function qd(i){return i.nodeType===9?i:i.ownerDocument}function iS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sS(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function $g(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gg=null;function QD(){var i=window.event;return i&&i.type==="popstate"?i===Gg?!1:(Gg=i,!0):(Gg=null,!1)}var aS=typeof setTimeout=="function"?setTimeout:void 0,WD=typeof clearTimeout=="function"?clearTimeout:void 0,oS=typeof Promise=="function"?Promise:void 0,ZD=typeof queueMicrotask=="function"?queueMicrotask:typeof oS<"u"?function(i){return oS.resolve(null).then(i).catch(JD)}:aS;function JD(i){setTimeout(function(){throw i})}function Ua(i){return i==="head"}function uS(i,a){var l=a,h=0,g=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<h&&8>h){l=h;var I=i.ownerDocument;if(l&1&&th(I.documentElement),l&2&&th(I.body),l&4)for(l=I.head,th(l),I=l.firstChild;I;){var F=I.nextSibling,J=I.nodeName;I[Si]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=F}}if(g===0){i.removeChild(y),lh(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=y}while(l);lh(a)}function Kg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Kg(l),ai(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function e6(i,a,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Si])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Zi(i.nextSibling),i===null)break}return null}function t6(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Zi(i.nextSibling),i===null))return null;return i}function Xg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function n6(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Zi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Qg=null;function lS(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function cS(i,a,l){switch(a=qd(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function th(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ai(i)}var Pi=new Map,hS=new Set;function Yd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ra=Q.d;Q.d={f:r6,r:i6,D:s6,C:a6,L:o6,m:u6,X:c6,S:l6,M:h6};function r6(){var i=ra.f(),a=Pd();return i||a}function i6(i){var a=Zn(i);a!==null&&a.tag===5&&a.type==="form"?Ob(a):ra.r(i)}var sl=typeof document>"u"?null:document;function fS(i,a,l){var h=sl;if(h&&typeof a=="string"&&a){var g=pn(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),hS.has(g)||(hS.add(g),i={rel:i,crossOrigin:l,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Er(a,"link",i),ne(a),h.head.appendChild(a)))}}function s6(i){ra.D(i),fS("dns-prefetch",i,null)}function a6(i,a){ra.C(i,a),fS("preconnect",i,a)}function o6(i,a,l){ra.L(i,a,l);var h=sl;if(h&&i&&a){var g='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(i)+'"]';var y=g;switch(a){case"style":y=al(i);break;case"script":y=ol(i)}Pi.has(y)||(i=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Pi.set(y,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(nh(y))||a==="script"&&h.querySelector(rh(y))||(a=h.createElement("link"),Er(a,"link",i),ne(a),h.head.appendChild(a)))}}function u6(i,a){ra.m(i,a);var l=sl;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+pn(h)+'"][href="'+pn(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ol(i)}if(!Pi.has(y)&&(i=m({rel:"modulepreload",href:i},a),Pi.set(y,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rh(y)))return}h=l.createElement("link"),Er(h,"link",i),ne(h),l.head.appendChild(h)}}}function l6(i,a,l){ra.S(i,a,l);var h=sl;if(h&&i){var g=qn(h).hoistableStyles,y=al(i);a=a||"default";var I=g.get(y);if(!I){var F={loading:0,preload:null};if(I=h.querySelector(nh(y)))F.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Pi.get(y))&&Wg(i,l);var J=I=h.createElement("link");ne(J),Er(J,"link",i),J._p=new Promise(function(fe,be){J.onload=fe,J.onerror=be}),J.addEventListener("load",function(){F.loading|=1}),J.addEventListener("error",function(){F.loading|=2}),F.loading|=4,$d(I,a,h)}I={type:"stylesheet",instance:I,count:1,state:F},g.set(y,I)}}}function c6(i,a){ra.X(i,a);var l=sl;if(l&&i){var h=qn(l).hoistableScripts,g=ol(i),y=h.get(g);y||(y=l.querySelector(rh(g)),y||(i=m({src:i,async:!0},a),(a=Pi.get(g))&&Zg(i,a),y=l.createElement("script"),ne(y),Er(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function h6(i,a){ra.M(i,a);var l=sl;if(l&&i){var h=qn(l).hoistableScripts,g=ol(i),y=h.get(g);y||(y=l.querySelector(rh(g)),y||(i=m({src:i,async:!0,type:"module"},a),(a=Pi.get(g))&&Zg(i,a),y=l.createElement("script"),ne(y),Er(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function dS(i,a,l,h){var g=(g=Ie.current)?Yd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=al(l.href),l=qn(g).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=al(l.href);var y=qn(g).hoistableStyles,I=y.get(i);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,I),(y=g.querySelector(nh(i)))&&!y._p&&(I.instance=y,I.state.loading=5),Pi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pi.set(i,l),y||f6(g,i,l,I.state))),a&&h===null)throw Error(r(528,""));return I}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ol(l),l=qn(g).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function al(i){return'href="'+pn(i)+'"'}function nh(i){return'link[rel="stylesheet"]['+i+"]"}function mS(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function f6(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Er(a,"link",l),ne(a),i.head.appendChild(a))}function ol(i){return'[src="'+pn(i)+'"]'}function rh(i){return"script[async]"+i}function pS(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+pn(l.href)+'"]');if(h)return a.instance=h,ne(h),h;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ne(h),Er(h,"style",g),$d(h,l.precedence,i),a.instance=h;case"stylesheet":g=al(l.href);var y=i.querySelector(nh(g));if(y)return a.state.loading|=4,a.instance=y,ne(y),y;h=mS(l),(g=Pi.get(g))&&Wg(h,g),y=(i.ownerDocument||i).createElement("link"),ne(y);var I=y;return I._p=new Promise(function(F,J){I.onload=F,I.onerror=J}),Er(y,"link",h),a.state.loading|=4,$d(y,l.precedence,i),a.instance=y;case"script":return y=ol(l.src),(g=i.querySelector(rh(y)))?(a.instance=g,ne(g),g):(h=l,(g=Pi.get(y))&&(h=m({},l),Zg(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),ne(g),Er(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,$d(h,l.precedence,i));return a.instance}function $d(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,I=0;I<h.length;I++){var F=h[I];if(F.dataset.precedence===a)y=F;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Wg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Zg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Gd=null;function gS(i,a,l){if(Gd===null){var h=new Map,g=Gd=new Map;g.set(l,h)}else g=Gd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[Si]||y[Bt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var I=y.getAttribute(a)||"";I=i+I;var F=h.get(I);F?F.push(y):h.set(I,[y])}}return h}function ES(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function d6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function yS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ih=null;function m6(){}function p6(i,a,l){if(ih===null)throw Error(r(475));var h=ih;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=al(l.href),y=i.querySelector(nh(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Kd.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=y,ne(y);return}y=i.ownerDocument||i,l=mS(l),(g=Pi.get(g))&&Wg(l,g),y=y.createElement("link"),ne(y);var I=y;I._p=new Promise(function(F,J){I.onload=F,I.onerror=J}),Er(y,"link",l),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Kd.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function g6(){if(ih===null)throw Error(r(475));var i=ih;return i.stylesheets&&i.count===0&&Jg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Jg(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Kd(){if(this.count--,this.count===0){if(this.stylesheets)Jg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Xd=null;function Jg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Xd=new Map,a.forEach(E6,i),Xd=null,Kd.call(i))}function E6(i,a){if(!(a.state.loading&4)){var l=Xd.get(i);if(l)var h=l.get(null);else{l=new Map,Xd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var I=g[y];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),h=I)}h&&l.set(null,h)}g=a.instance,I=g.getAttribute("data-precedence"),y=l.get(I)||h,y===h&&l.set(null,g),l.set(I,g),this.count++,h=Kd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var sh={$$typeof:Y,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function y6(i,a,l,h,g,y,I,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function _S(i,a,l,h,g,y,I,F,J,fe,be,Ae){return i=new y6(i,a,l,I,F,J,fe,Ae),a=1,y===!0&&(a|=24),y=ui(3,null,null,a),i.current=y,y.stateNode=i,a=L0(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:a},U0(y),i}function TS(i){return i?(i=Uu,i):Uu}function bS(i,a,l,h,g,y){g=TS(g),h.context===null?h.context=g:h.pendingContext=g,h=wa(a),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Ca(i,h,a),l!==null&&(di(l,i,a),Mc(l,i,a))}function vS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function eE(i,a){vS(i,a),(i=i.alternate)&&vS(i,a)}function SS(i){if(i.tag===13){var a=Bu(i,67108864);a!==null&&di(a,i,67108864),eE(i,67108864)}}var Qd=!0;function _6(i,a,l,h){var g=H.T;H.T=null;var y=Q.p;try{Q.p=2,tE(i,a,l,h)}finally{Q.p=y,H.T=g}}function T6(i,a,l,h){var g=H.T;H.T=null;var y=Q.p;try{Q.p=8,tE(i,a,l,h)}finally{Q.p=y,H.T=g}}function tE(i,a,l,h){if(Qd){var g=nE(h);if(g===null)zg(i,a,h,Wd,l),wS(i,h);else if(v6(g,i,a,l,h))h.stopPropagation();else if(wS(i,h),a&4&&-1<b6.indexOf(i)){for(;g!==null;){var y=Zn(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var I=St(y.pendingLanes);if(I!==0){var F=y;for(F.pendingLanes|=2,F.entangledLanes|=2;I;){var J=1<<31-Ye(I);F.entanglements[1]|=J,I&=~J}vs(y),(Gt&6)===0&&(Ld=Ke()+500,Zc(0))}}break;case 13:F=Bu(y,2),F!==null&&di(F,y,2),Pd(),eE(y,2)}if(y=nE(h),y===null&&zg(i,a,h,Wd,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else zg(i,a,h,null,l)}}function nE(i){return i=dr(i),rE(i)}var Wd=null;function rE(i){if(Wd=null,i=Pr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Wd=i,null}function AS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case nn:return 2;case Cn:return 8;case In:case Ln:return 32;case xn:return 268435456;default:return 32}default:return 32}}var iE=!1,Va=null,Ha=null,Fa=null,ah=new Map,oh=new Map,za=[],b6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wS(i,a){switch(i){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":ah.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":oh.delete(a.pointerId)}}function uh(i,a,l,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Zn(a),a!==null&&SS(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function v6(i,a,l,h,g){switch(a){case"focusin":return Va=uh(Va,i,a,l,h,g),!0;case"dragenter":return Ha=uh(Ha,i,a,l,h,g),!0;case"mouseover":return Fa=uh(Fa,i,a,l,h,g),!0;case"pointerover":var y=g.pointerId;return ah.set(y,uh(ah.get(y)||null,i,a,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,oh.set(y,uh(oh.get(y)||null,i,a,l,h,g)),!0}return!1}function CS(i){var a=Pr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,si(i.priority,function(){if(l.tag===13){var h=fi();h=ii(h);var g=Bu(l,h);g!==null&&di(g,l,h),eE(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Zd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=nE(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Gr=h,l.target.dispatchEvent(h),Gr=null}else return a=Zn(l),a!==null&&SS(a),i.blockedOn=l,!1;a.shift()}return!0}function IS(i,a,l){Zd(i)&&l.delete(a)}function S6(){iE=!1,Va!==null&&Zd(Va)&&(Va=null),Ha!==null&&Zd(Ha)&&(Ha=null),Fa!==null&&Zd(Fa)&&(Fa=null),ah.forEach(IS),oh.forEach(IS)}function Jd(i,a){i.blockedOn===a&&(i.blockedOn=null,iE||(iE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,S6)))}var em=null;function xS(i){em!==i&&(em=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){em===i&&(em=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(rE(h||l)===null)continue;break}var y=Zn(l);y!==null&&(i.splice(a,3),a-=3,rg(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function lh(i){function a(J){return Jd(J,i)}Va!==null&&Jd(Va,i),Ha!==null&&Jd(Ha,i),Fa!==null&&Jd(Fa,i),ah.forEach(a),oh.forEach(a);for(var l=0;l<za.length;l++){var h=za[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<za.length&&(l=za[0],l.blockedOn===null);)CS(l),l.blockedOn===null&&za.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],I=g[mn]||null;if(typeof y=="function")I||xS(l);else if(I){var F=null;if(y&&y.hasAttribute("formAction")){if(g=y,I=y[mn]||null)F=I.formAction;else if(rE(g)!==null)continue}else F=I.action;typeof F=="function"?l[h+1]=F:(l.splice(h,3),h-=3),xS(l)}}}function sE(i){this._internalRoot=i}tm.prototype.render=sE.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=fi();bS(l,h,i,a,null,null)},tm.prototype.unmount=sE.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;bS(i.current,2,null,i,null,null),Pd(),a[bn]=null}};function tm(i){this._internalRoot=i}tm.prototype.unstable_scheduleHydration=function(i){if(i){var a=Lr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<za.length&&a!==0&&a<za[l].priority;l++);za.splice(l,0,i),l===0&&CS(i)}};var NS=e.version;if(NS!=="19.1.0")throw Error(r(527,NS,"19.1.0"));Q.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var A6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nm.isDisabled&&nm.supportsFiber)try{ae=nm.inject(A6),Te=nm}catch{}}return hh.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",g=Yb,y=$b,I=Gb,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(F=a.unstable_transitionCallbacks)),a=_S(i,1,!1,null,null,l,h,g,y,I,F,null),i[bn]=a.current,Fg(i),new sE(a)},hh.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,g="",y=Yb,I=$b,F=Gb,J=null,fe=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks),l.formState!==void 0&&(fe=l.formState)),a=_S(i,1,!0,a,l??null,h,g,y,I,F,J,fe),a.context=TS(null),l=a.current,h=fi(),h=ii(h),g=wa(h),g.callback=null,Ca(l,g,h),l=h,a.current.lanes=l,kr(a,l),vs(a),i[bn]=a.current,Fg(i),new tm(a)},hh.version="19.1.0",hh}var VS;function k6(){if(VS)return uE.exports;VS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),uE.exports=D6(),uE.exports}var L6=k6();function Yr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Yr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var fE={exports:{}},dE={},mE={exports:{}},pE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function M6(){if(HS)return pE;HS=1;var t=_f();function e(E,_){return E===_&&(E!==0||1/E===1/_)||E!==E&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(E,_){var b=_(),w=r({inst:{value:b,getSnapshot:_}}),x=w[0].inst,k=w[1];return o(function(){x.value=b,x.getSnapshot=_,f(x)&&k({inst:x})},[E,b,_]),s(function(){return f(x)&&k({inst:x}),E(function(){f(x)&&k({inst:x})})},[E]),u(b),b}function f(E){var _=E.getSnapshot;E=E.value;try{var b=_();return!n(E,b)}catch{return!0}}function d(E,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return pE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,pE}var FS;function P6(){return FS||(FS=1,mE.exports=M6()),mE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function B6(){if(zS)return dE;zS=1;var t=_f(),e=P6();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,c=t.useMemo,f=t.useDebugValue;return dE.useSyncExternalStoreWithSelector=function(d,m,E,_,b){var w=o(null);if(w.current===null){var x={hasValue:!1,value:null};w.current=x}else x=w.current;w=c(function(){function D(G){if(!z){if(z=!0,Y=G,G=_(G),b!==void 0&&x.hasValue){var R=x.value;if(b(R,G))return j=R}return j=G}if(R=j,r(Y,G))return R;var N=_(G);return b!==void 0&&b(R,N)?(Y=G,R):(Y=G,j=N)}var z=!1,Y,j,Z=E===void 0?null:E;return[function(){return D(m())},Z===null?void 0:function(){return D(Z())}]},[m,E,_,b]);var k=s(d,w[0],w[1]);return u(function(){x.hasValue=!0,x.value=k},[k]),f(k),k},dE}var jS;function U6(){return jS||(jS=1,fE.exports=B6()),fE.exports}var V6=U6();const H6=yu(V6),F6={},qS=t=>{let e;const n=new Set,r=(m,E)=>{const _=typeof m=="function"?m(e):m;if(!Object.is(_,e)){const b=e;e=E??(typeof _!="object"||_===null)?_:Object.assign({},e,_),n.forEach(w=>w(e,b))}},s=()=>e,f={setState:r,getState:s,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(F6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,f);return f},z6=t=>t?qS(t):qS,{useDebugValue:j6}=ye,{useSyncExternalStoreWithSelector:q6}=H6,Y6=t=>t;function WC(t,e=Y6,n){const r=q6(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return j6(r),r}const YS=(t,e)=>{const n=z6(t),r=(s,o=e)=>WC(n,s,o);return Object.assign(r,n),r},$6=(t,e)=>t?YS(t,e):YS;function Nr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var G6={value:()=>{}};function xp(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Im(n)}function Im(t){this._=t}function K6(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Im.prototype=xp.prototype={constructor:Im,on:function(t,e){var n=this._,r=K6(t+"",n),s,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((s=(t=r[o]).type)&&(s=X6(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(s=(t=r[o]).type)n[s]=$S(n[s],t.name,e);else if(e==null)for(s in n)n[s]=$S(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Im(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,s=o.length;r<s;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,o=r.length;s<o;++s)r[s].value.apply(e,n)}};function X6(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function $S(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=G6,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var gy="http://www.w3.org/1999/xhtml";const GS={svg:"http://www.w3.org/2000/svg",xhtml:gy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Np(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),GS.hasOwnProperty(e)?{space:GS[e],local:t}:t}function Q6(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===gy&&e.documentElement.namespaceURI===gy?e.createElement(t):e.createElementNS(n,t)}}function W6(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ZC(t){var e=Np(t);return(e.local?W6:Q6)(e)}function Z6(){}function N_(t){return t==null?Z6:function(){return this.querySelector(t)}}function J6(t){typeof t!="function"&&(t=N_(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=new Array(u),f,d,m=0;m<u;++m)(f=o[m])&&(d=t.call(f,f.__data__,m,o))&&("__data__"in f&&(d.__data__=f.__data__),c[m]=d);return new bi(r,this._parents)}function ek(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function tk(){return[]}function JC(t){return t==null?tk:function(){return this.querySelectorAll(t)}}function nk(t){return function(){return ek(t.apply(this,arguments))}}function rk(t){typeof t=="function"?t=nk(t):t=JC(t);for(var e=this._groups,n=e.length,r=[],s=[],o=0;o<n;++o)for(var u=e[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&(r.push(t.call(f,f.__data__,d,u)),s.push(f));return new bi(r,s)}function eI(t){return function(){return this.matches(t)}}function tI(t){return function(e){return e.matches(t)}}var ik=Array.prototype.find;function sk(t){return function(){return ik.call(this.children,t)}}function ak(){return this.firstElementChild}function ok(t){return this.select(t==null?ak:sk(typeof t=="function"?t:tI(t)))}var uk=Array.prototype.filter;function lk(){return Array.from(this.children)}function ck(t){return function(){return uk.call(this.children,t)}}function hk(t){return this.selectAll(t==null?lk:ck(typeof t=="function"?t:tI(t)))}function fk(t){typeof t!="function"&&(t=eI(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,d=0;d<u;++d)(f=o[d])&&t.call(f,f.__data__,d,o)&&c.push(f);return new bi(r,this._parents)}function nI(t){return new Array(t.length)}function dk(){return new bi(this._enter||this._groups.map(nI),this._parents)}function $m(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$m.prototype={constructor:$m,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mk(t){return function(){return t}}function pk(t,e,n,r,s,o){for(var u=0,c,f=e.length,d=o.length;u<d;++u)(c=e[u])?(c.__data__=o[u],r[u]=c):n[u]=new $m(t,o[u]);for(;u<f;++u)(c=e[u])&&(s[u]=c)}function gk(t,e,n,r,s,o,u){var c,f,d=new Map,m=e.length,E=o.length,_=new Array(m),b;for(c=0;c<m;++c)(f=e[c])&&(_[c]=b=u.call(f,f.__data__,c,e)+"",d.has(b)?s[c]=f:d.set(b,f));for(c=0;c<E;++c)b=u.call(t,o[c],c,o)+"",(f=d.get(b))?(r[c]=f,f.__data__=o[c],d.delete(b)):n[c]=new $m(t,o[c]);for(c=0;c<m;++c)(f=e[c])&&d.get(_[c])===f&&(s[c]=f)}function Ek(t){return t.__data__}function yk(t,e){if(!arguments.length)return Array.from(this,Ek);var n=e?gk:pk,r=this._parents,s=this._groups;typeof t!="function"&&(t=mk(t));for(var o=s.length,u=new Array(o),c=new Array(o),f=new Array(o),d=0;d<o;++d){var m=r[d],E=s[d],_=E.length,b=_k(t.call(m,m&&m.__data__,d,r)),w=b.length,x=c[d]=new Array(w),k=u[d]=new Array(w),D=f[d]=new Array(_);n(m,E,x,k,D,b,e);for(var z=0,Y=0,j,Z;z<w;++z)if(j=x[z]){for(z>=Y&&(Y=z+1);!(Z=k[Y])&&++Y<w;);j._next=Z||null}}return u=new bi(u,r),u._enter=c,u._exit=f,u}function _k(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Tk(){return new bi(this._exit||this._groups.map(nI),this._parents)}function bk(t,e,n){var r=this.enter(),s=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function vk(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,o=r.length,u=Math.min(s,o),c=new Array(s),f=0;f<u;++f)for(var d=n[f],m=r[f],E=d.length,_=c[f]=new Array(E),b,w=0;w<E;++w)(b=d[w]||m[w])&&(_[w]=b);for(;f<s;++f)c[f]=n[f];return new bi(c,this._parents)}function Sk(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,o=r[s],u;--s>=0;)(u=r[s])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function Ak(t){t||(t=wk);function e(E,_){return E&&_?t(E.__data__,_.__data__):!E-!_}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var u=n[o],c=u.length,f=s[o]=new Array(c),d,m=0;m<c;++m)(d=u[m])&&(f[m]=d);f.sort(e)}return new bi(s,this._parents).order()}function wk(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ck(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ik(){return Array.from(this)}function xk(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length;s<o;++s){var u=r[s];if(u)return u}return null}function Nk(){let t=0;for(const e of this)++t;return t}function Rk(){return!this.node()}function Ok(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],o=0,u=s.length,c;o<u;++o)(c=s[o])&&t.call(c,c.__data__,o,s);return this}function Dk(t){return function(){this.removeAttribute(t)}}function kk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lk(t,e){return function(){this.setAttribute(t,e)}}function Mk(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Pk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Bk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Uk(t,e){var n=Np(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?kk:Dk:typeof e=="function"?n.local?Bk:Pk:n.local?Mk:Lk)(n,e))}function rI(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vk(t){return function(){this.style.removeProperty(t)}}function Hk(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fk(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function zk(t,e,n){return arguments.length>1?this.each((e==null?Vk:typeof e=="function"?Fk:Hk)(t,e,n??"")):Hl(this.node(),t)}function Hl(t,e){return t.style.getPropertyValue(e)||rI(t).getComputedStyle(t,null).getPropertyValue(e)}function jk(t){return function(){delete this[t]}}function qk(t,e){return function(){this[t]=e}}function Yk(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function $k(t,e){return arguments.length>1?this.each((e==null?jk:typeof e=="function"?Yk:qk)(t,e)):this.node()[t]}function iI(t){return t.trim().split(/^|\s+/)}function R_(t){return t.classList||new sI(t)}function sI(t){this._node=t,this._names=iI(t.getAttribute("class")||"")}sI.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function aI(t,e){for(var n=R_(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function oI(t,e){for(var n=R_(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Gk(t){return function(){aI(this,t)}}function Kk(t){return function(){oI(this,t)}}function Xk(t,e){return function(){(e.apply(this,arguments)?aI:oI)(this,t)}}function Qk(t,e){var n=iI(t+"");if(arguments.length<2){for(var r=R_(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Xk:e?Gk:Kk)(n,e))}function Wk(){this.textContent=""}function Zk(t){return function(){this.textContent=t}}function Jk(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function e4(t){return arguments.length?this.each(t==null?Wk:(typeof t=="function"?Jk:Zk)(t)):this.node().textContent}function t4(){this.innerHTML=""}function n4(t){return function(){this.innerHTML=t}}function r4(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function i4(t){return arguments.length?this.each(t==null?t4:(typeof t=="function"?r4:n4)(t)):this.node().innerHTML}function s4(){this.nextSibling&&this.parentNode.appendChild(this)}function a4(){return this.each(s4)}function o4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function u4(){return this.each(o4)}function l4(t){var e=typeof t=="function"?t:ZC(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function c4(){return null}function h4(t,e){var n=typeof t=="function"?t:ZC(t),r=e==null?c4:typeof e=="function"?e:N_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function f4(){var t=this.parentNode;t&&t.removeChild(this)}function d4(){return this.each(f4)}function m4(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function p4(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g4(t){return this.select(t?p4:m4)}function E4(t){return arguments.length?this.property("__data__",t):this.node().__data__}function y4(t){return function(e){t.call(this,e,this.__data__)}}function _4(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function T4(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,o;n<s;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function b4(t,e,n){return function(){var r=this.__on,s,o=y4(e);if(r){for(var u=0,c=r.length;u<c;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=e;return}}this.addEventListener(t.type,o,n),s={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(s):this.__on=[s]}}function v4(t,e,n){var r=_4(t+""),s,o=r.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,d=c.length,m;f<d;++f)for(s=0,m=c[f];s<o;++s)if((u=r[s]).type===m.type&&u.name===m.name)return m.value}return}for(c=e?b4:T4,s=0;s<o;++s)this.each(c(r[s],e,n));return this}function uI(t,e,n){var r=rI(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function S4(t,e){return function(){return uI(this,t,e)}}function A4(t,e){return function(){return uI(this,t,e.apply(this,arguments))}}function w4(t,e){return this.each((typeof e=="function"?A4:S4)(t,e))}function*C4(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length,u;s<o;++s)(u=r[s])&&(yield u)}var lI=[null];function bi(t,e){this._groups=t,this._parents=e}function Tf(){return new bi([[document.documentElement]],lI)}function I4(){return this}bi.prototype=Tf.prototype={constructor:bi,select:J6,selectAll:rk,selectChild:ok,selectChildren:hk,filter:fk,data:yk,enter:dk,exit:Tk,join:bk,merge:vk,selection:I4,order:Sk,sort:Ak,call:Ck,nodes:Ik,node:xk,size:Nk,empty:Rk,each:Ok,attr:Uk,style:zk,property:$k,classed:Qk,text:e4,html:i4,raise:a4,lower:u4,append:l4,insert:h4,remove:d4,clone:g4,datum:E4,on:v4,dispatch:w4,[Symbol.iterator]:C4};function es(t){return typeof t=="string"?new bi([[document.querySelector(t)]],[document.documentElement]):new bi([[t]],lI)}function x4(t){let e;for(;e=t.sourceEvent;)t=e;return t}function As(t,e){if(t=x4(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const N4={passive:!1},Wh={capture:!0,passive:!1};function gE(t){t.stopImmediatePropagation()}function xl(t){t.preventDefault(),t.stopImmediatePropagation()}function cI(t){var e=t.document.documentElement,n=es(t).on("dragstart.drag",xl,Wh);"onselectstart"in e?n.on("selectstart.drag",xl,Wh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function hI(t,e){var n=t.document.documentElement,r=es(t).on("dragstart.drag",null);e&&(r.on("click.drag",xl,Wh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const rm=t=>()=>t;function Ey(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:o,x:u,y:c,dx:f,dy:d,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:m}})}Ey.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function R4(t){return!t.ctrlKey&&!t.button}function O4(){return this.parentNode}function D4(t,e){return e??{x:t.x,y:t.y}}function k4(){return navigator.maxTouchPoints||"ontouchstart"in this}function L4(){var t=R4,e=O4,n=D4,r=k4,s={},o=xp("start","drag","end"),u=0,c,f,d,m,E=0;function _(j){j.on("mousedown.drag",b).filter(r).on("touchstart.drag",k).on("touchmove.drag",D,N4).on("touchend.drag touchcancel.drag",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(j,Z){if(!(m||!t.call(this,j,Z))){var G=Y(this,e.call(this,j,Z),j,Z,"mouse");G&&(es(j.view).on("mousemove.drag",w,Wh).on("mouseup.drag",x,Wh),cI(j.view),gE(j),d=!1,c=j.clientX,f=j.clientY,G("start",j))}}function w(j){if(xl(j),!d){var Z=j.clientX-c,G=j.clientY-f;d=Z*Z+G*G>E}s.mouse("drag",j)}function x(j){es(j.view).on("mousemove.drag mouseup.drag",null),hI(j.view,d),xl(j),s.mouse("end",j)}function k(j,Z){if(t.call(this,j,Z)){var G=j.changedTouches,R=e.call(this,j,Z),N=G.length,O,M;for(O=0;O<N;++O)(M=Y(this,R,j,Z,G[O].identifier,G[O]))&&(gE(j),M("start",j,G[O]))}}function D(j){var Z=j.changedTouches,G=Z.length,R,N;for(R=0;R<G;++R)(N=s[Z[R].identifier])&&(xl(j),N("drag",j,Z[R]))}function z(j){var Z=j.changedTouches,G=Z.length,R,N;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<G;++R)(N=s[Z[R].identifier])&&(gE(j),N("end",j,Z[R]))}function Y(j,Z,G,R,N,O){var M=o.copy(),B=As(O||G,Z),V,C,L;if((L=n.call(j,new Ey("beforestart",{sourceEvent:G,target:_,identifier:N,active:u,x:B[0],y:B[1],dx:0,dy:0,dispatch:M}),R))!=null)return V=L.x-B[0]||0,C=L.y-B[1]||0,function K(H,Q,re){var ie=B,S;switch(H){case"start":s[N]=K,S=u++;break;case"end":delete s[N],--u;case"drag":B=As(re||Q,Z),S=u;break}M.call(H,j,new Ey(H,{sourceEvent:Q,subject:L,target:_,identifier:N,active:S,x:B[0]+V,y:B[1]+C,dx:B[0]-ie[0],dy:B[1]-ie[1],dispatch:M}),R)}}return _.filter=function(j){return arguments.length?(t=typeof j=="function"?j:rm(!!j),_):t},_.container=function(j){return arguments.length?(e=typeof j=="function"?j:rm(j),_):e},_.subject=function(j){return arguments.length?(n=typeof j=="function"?j:rm(j),_):n},_.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:rm(!!j),_):r},_.on=function(){var j=o.on.apply(o,arguments);return j===o?_:j},_.clickDistance=function(j){return arguments.length?(E=(j=+j)*j,_):Math.sqrt(E)},_}function O_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fI(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bf(){}var Zh=.7,Gm=1/Zh,Nl="\\s*([+-]?\\d+)\\s*",Jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",M4=/^#([0-9a-f]{3,8})$/,P4=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),B4=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),U4=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${Jh}\\)$`),V4=new RegExp(`^rgba\\(${xs},${xs},${xs},${Jh}\\)$`),H4=new RegExp(`^hsl\\(${Jh},${xs},${xs}\\)$`),F4=new RegExp(`^hsla\\(${Jh},${xs},${xs},${Jh}\\)$`),KS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O_(bf,ef,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XS,formatHex:XS,formatHex8:z4,formatHsl:j4,formatRgb:QS,toString:QS});function XS(){return this.rgb().formatHex()}function z4(){return this.rgb().formatHex8()}function j4(){return dI(this).formatHsl()}function QS(){return this.rgb().formatRgb()}function ef(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=M4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WS(e):n===3?new ti(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?im(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?im(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=P4.exec(t))?new ti(e[1],e[2],e[3],1):(e=B4.exec(t))?new ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U4.exec(t))?im(e[1],e[2],e[3],e[4]):(e=V4.exec(t))?im(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=H4.exec(t))?eA(e[1],e[2]/100,e[3]/100,1):(e=F4.exec(t))?eA(e[1],e[2]/100,e[3]/100,e[4]):KS.hasOwnProperty(t)?WS(KS[t]):t==="transparent"?new ti(NaN,NaN,NaN,0):null}function WS(t){return new ti(t>>16&255,t>>8&255,t&255,1)}function im(t,e,n,r){return r<=0&&(t=e=n=NaN),new ti(t,e,n,r)}function q4(t){return t instanceof bf||(t=ef(t)),t?(t=t.rgb(),new ti(t.r,t.g,t.b,t.opacity)):new ti}function yy(t,e,n,r){return arguments.length===1?q4(t):new ti(t,e,n,r??1)}function ti(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}O_(ti,yy,fI(bf,{brighter(t){return t=t==null?Gm:Math.pow(Gm,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zh:Math.pow(Zh,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ti(ou(this.r),ou(this.g),ou(this.b),Km(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZS,formatHex:ZS,formatHex8:Y4,formatRgb:JS,toString:JS}));function ZS(){return`#${ru(this.r)}${ru(this.g)}${ru(this.b)}`}function Y4(){return`#${ru(this.r)}${ru(this.g)}${ru(this.b)}${ru((isNaN(this.opacity)?1:this.opacity)*255)}`}function JS(){const t=Km(this.opacity);return`${t===1?"rgb(":"rgba("}${ou(this.r)}, ${ou(this.g)}, ${ou(this.b)}${t===1?")":`, ${t})`}`}function Km(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ou(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ru(t){return t=ou(t),(t<16?"0":"")+t.toString(16)}function eA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ts(t,e,n,r)}function dI(t){if(t instanceof ts)return new ts(t.h,t.s,t.l,t.opacity);if(t instanceof bf||(t=ef(t)),!t)return new ts;if(t instanceof ts)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,c=o-s,f=(o+s)/2;return c?(e===o?u=(n-r)/c+(n<r)*6:n===o?u=(r-e)/c+2:u=(e-n)/c+4,c/=f<.5?o+s:2-o-s,u*=60):c=f>0&&f<1?0:u,new ts(u,c,f,t.opacity)}function $4(t,e,n,r){return arguments.length===1?dI(t):new ts(t,e,n,r??1)}function ts(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}O_(ts,$4,fI(bf,{brighter(t){return t=t==null?Gm:Math.pow(Gm,t),new ts(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zh:Math.pow(Zh,t),new ts(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new ti(EE(t>=240?t-240:t+120,s,r),EE(t,s,r),EE(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new ts(tA(this.h),sm(this.s),sm(this.l),Km(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Km(this.opacity);return`${t===1?"hsl(":"hsla("}${tA(this.h)}, ${sm(this.s)*100}%, ${sm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tA(t){return t=(t||0)%360,t<0?t+360:t}function sm(t){return Math.max(0,Math.min(1,t||0))}function EE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const mI=t=>()=>t;function G4(t,e){return function(n){return t+n*e}}function K4(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function X4(t){return(t=+t)==1?pI:function(e,n){return n-e?K4(e,n,t):mI(isNaN(e)?n:e)}}function pI(t,e){var n=e-t;return n?G4(t,n):mI(isNaN(t)?e:t)}const nA=function t(e){var n=X4(e);function r(s,o){var u=n((s=yy(s)).r,(o=yy(o)).r),c=n(s.g,o.g),f=n(s.b,o.b),d=pI(s.opacity,o.opacity);return function(m){return s.r=u(m),s.g=c(m),s.b=f(m),s.opacity=d(m),s+""}}return r.gamma=t,r}(1);function Xa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var _y=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yE=new RegExp(_y.source,"g");function Q4(t){return function(){return t}}function W4(t){return function(e){return t(e)+""}}function Z4(t,e){var n=_y.lastIndex=yE.lastIndex=0,r,s,o,u=-1,c=[],f=[];for(t=t+"",e=e+"";(r=_y.exec(t))&&(s=yE.exec(e));)(o=s.index)>n&&(o=e.slice(n,o),c[u]?c[u]+=o:c[++u]=o),(r=r[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,f.push({i:u,x:Xa(r,s)})),n=yE.lastIndex;return n<e.length&&(o=e.slice(n),c[u]?c[u]+=o:c[++u]=o),c.length<2?f[0]?W4(f[0].x):Q4(e):(e=f.length,function(d){for(var m=0,E;m<e;++m)c[(E=f[m]).i]=E.x(d);return c.join("")})}var rA=180/Math.PI,Ty={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gI(t,e,n,r,s,o){var u,c,f;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,f/=c),t*r<e*n&&(t=-t,e=-e,f=-f,u=-u),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*rA,skewX:Math.atan(f)*rA,scaleX:u,scaleY:c}}var am;function J4(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ty:gI(e.a,e.b,e.c,e.d,e.e,e.f)}function eL(t){return t==null||(am||(am=document.createElementNS("http://www.w3.org/2000/svg","g")),am.setAttribute("transform",t),!(t=am.transform.baseVal.consolidate()))?Ty:(t=t.matrix,gI(t.a,t.b,t.c,t.d,t.e,t.f))}function EI(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function o(d,m,E,_,b,w){if(d!==E||m!==_){var x=b.push("translate(",null,e,null,n);w.push({i:x-4,x:Xa(d,E)},{i:x-2,x:Xa(m,_)})}else(E||_)&&b.push("translate("+E+e+_+n)}function u(d,m,E,_){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),_.push({i:E.push(s(E)+"rotate(",null,r)-2,x:Xa(d,m)})):m&&E.push(s(E)+"rotate("+m+r)}function c(d,m,E,_){d!==m?_.push({i:E.push(s(E)+"skewX(",null,r)-2,x:Xa(d,m)}):m&&E.push(s(E)+"skewX("+m+r)}function f(d,m,E,_,b,w){if(d!==E||m!==_){var x=b.push(s(b)+"scale(",null,",",null,")");w.push({i:x-4,x:Xa(d,E)},{i:x-2,x:Xa(m,_)})}else(E!==1||_!==1)&&b.push(s(b)+"scale("+E+","+_+")")}return function(d,m){var E=[],_=[];return d=t(d),m=t(m),o(d.translateX,d.translateY,m.translateX,m.translateY,E,_),u(d.rotate,m.rotate,E,_),c(d.skewX,m.skewX,E,_),f(d.scaleX,d.scaleY,m.scaleX,m.scaleY,E,_),d=m=null,function(b){for(var w=-1,x=_.length,k;++w<x;)E[(k=_[w]).i]=k.x(b);return E.join("")}}}var tL=EI(J4,"px, ","px)","deg)"),nL=EI(eL,", ",")",")"),rL=1e-12;function iA(t){return((t=Math.exp(t))+1/t)/2}function iL(t){return((t=Math.exp(t))-1/t)/2}function sL(t){return((t=Math.exp(2*t))-1)/(t+1)}const aL=function t(e,n,r){function s(o,u){var c=o[0],f=o[1],d=o[2],m=u[0],E=u[1],_=u[2],b=m-c,w=E-f,x=b*b+w*w,k,D;if(x<rL)D=Math.log(_/d)/e,k=function(R){return[c+R*b,f+R*w,d*Math.exp(e*R*D)]};else{var z=Math.sqrt(x),Y=(_*_-d*d+r*x)/(2*d*n*z),j=(_*_-d*d-r*x)/(2*_*n*z),Z=Math.log(Math.sqrt(Y*Y+1)-Y),G=Math.log(Math.sqrt(j*j+1)-j);D=(G-Z)/e,k=function(R){var N=R*D,O=iA(Z),M=d/(n*z)*(O*sL(e*N+Z)-iL(Z));return[c+M*b,f+M*w,d*O/iA(e*N+Z)]}}return k.duration=D*1e3*e/Math.SQRT2,k}return s.rho=function(o){var u=Math.max(.001,+o),c=u*u,f=c*c;return t(u,c,f)},s}(Math.SQRT2,2,4);var Fl=0,wh=0,fh=0,yI=1e3,Xm,Ch,Qm=0,cu=0,Rp=0,tf=typeof performance=="object"&&performance.now?performance:Date,_I=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function D_(){return cu||(_I(oL),cu=tf.now()+Rp)}function oL(){cu=0}function Wm(){this._call=this._time=this._next=null}Wm.prototype=TI.prototype={constructor:Wm,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?D_():+n)+(e==null?0:+e),!this._next&&Ch!==this&&(Ch?Ch._next=this:Xm=this,Ch=this),this._call=t,this._time=n,by()},stop:function(){this._call&&(this._call=null,this._time=1/0,by())}};function TI(t,e,n){var r=new Wm;return r.restart(t,e,n),r}function uL(){D_(),++Fl;for(var t=Xm,e;t;)(e=cu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fl}function sA(){cu=(Qm=tf.now())+Rp,Fl=wh=0;try{uL()}finally{Fl=0,cL(),cu=0}}function lL(){var t=tf.now(),e=t-Qm;e>yI&&(Rp-=e,Qm=t)}function cL(){for(var t,e=Xm,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Xm=n);Ch=t,by(r)}function by(t){if(!Fl){wh&&(wh=clearTimeout(wh));var e=t-cu;e>24?(t<1/0&&(wh=setTimeout(sA,t-tf.now()-Rp)),fh&&(fh=clearInterval(fh))):(fh||(Qm=tf.now(),fh=setInterval(lL,yI)),Fl=1,_I(sA))}}function aA(t,e,n){var r=new Wm;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var hL=xp("start","end","cancel","interrupt"),fL=[],bI=0,oA=1,vy=2,xm=3,uA=4,Sy=5,Nm=6;function Op(t,e,n,r,s,o){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;dL(t,n,{name:e,index:r,group:s,on:hL,tween:fL,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:bI})}function k_(t,e){var n=as(t,e);if(n.state>bI)throw new Error("too late; already scheduled");return n}function Ms(t,e){var n=as(t,e);if(n.state>xm)throw new Error("too late; already running");return n}function as(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function dL(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=TI(o,0,n.time);function o(d){n.state=oA,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var m,E,_,b;if(n.state!==oA)return f();for(m in r)if(b=r[m],b.name===n.name){if(b.state===xm)return aA(u);b.state===uA?(b.state=Nm,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=Nm,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(aA(function(){n.state===xm&&(n.state=uA,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=vy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vy){for(n.state=xm,s=new Array(_=n.tween.length),m=0,E=-1;m<_;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(s[++E]=b);s.length=E+1}}function c(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=Sy,1),E=-1,_=s.length;++E<_;)s[E].call(t,m);n.state===Sy&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Nm,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Rm(t,e){var n=t.__transition,r,s,o=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){o=!1;continue}s=r.state>vy&&r.state<Sy,r.state=Nm,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}o&&delete t.__transition}}function mL(t){return this.each(function(){Rm(this,t)})}function pL(t,e){var n,r;return function(){var s=Ms(this,t),o=s.tween;if(o!==n){r=n=o;for(var u=0,c=r.length;u<c;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function gL(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=Ms(this,t),u=o.tween;if(u!==r){s=(r=u).slice();for(var c={name:e,value:n},f=0,d=s.length;f<d;++f)if(s[f].name===e){s[f]=c;break}f===d&&s.push(c)}o.tween=s}}function EL(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=as(this.node(),n).tween,s=0,o=r.length,u;s<o;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?pL:gL)(n,t,e))}function L_(t,e,n){var r=t._id;return t.each(function(){var s=Ms(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return as(s,r).value[e]}}function vI(t,e){var n;return(typeof e=="number"?Xa:e instanceof ef?nA:(n=ef(e))?(e=n,nA):Z4)(t,e)}function yL(t){return function(){this.removeAttribute(t)}}function _L(t){return function(){this.removeAttributeNS(t.space,t.local)}}function TL(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttribute(t);return u===s?null:u===r?o:o=e(r=u,n)}}function bL(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?o:o=e(r=u,n)}}function vL(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function SL(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function AL(t,e){var n=Np(t),r=n==="transform"?nL:vI;return this.attrTween(t,typeof e=="function"?(n.local?SL:vL)(n,r,L_(this,"attr."+t,e)):e==null?(n.local?_L:yL)(n):(n.local?bL:TL)(n,r,e))}function wL(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function CL(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function IL(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&CL(t,o)),n}return s._value=e,s}function xL(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&wL(t,o)),n}return s._value=e,s}function NL(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Np(t);return this.tween(n,(r.local?IL:xL)(r,e))}function RL(t,e){return function(){k_(this,t).delay=+e.apply(this,arguments)}}function OL(t,e){return e=+e,function(){k_(this,t).delay=e}}function DL(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?RL:OL)(e,t)):as(this.node(),e).delay}function kL(t,e){return function(){Ms(this,t).duration=+e.apply(this,arguments)}}function LL(t,e){return e=+e,function(){Ms(this,t).duration=e}}function ML(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?kL:LL)(e,t)):as(this.node(),e).duration}function PL(t,e){if(typeof e!="function")throw new Error;return function(){Ms(this,t).ease=e}}function BL(t){var e=this._id;return arguments.length?this.each(PL(e,t)):as(this.node(),e).ease}function UL(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ms(this,t).ease=n}}function VL(t){if(typeof t!="function")throw new Error;return this.each(UL(this._id,t))}function HL(t){typeof t!="function"&&(t=eI(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,d=0;d<u;++d)(f=o[d])&&t.call(f,f.__data__,d,o)&&c.push(f);return new ha(r,this._parents,this._name,this._id)}function FL(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,o=Math.min(r,s),u=new Array(r),c=0;c<o;++c)for(var f=e[c],d=n[c],m=f.length,E=u[c]=new Array(m),_,b=0;b<m;++b)(_=f[b]||d[b])&&(E[b]=_);for(;c<r;++c)u[c]=e[c];return new ha(u,this._parents,this._name,this._id)}function zL(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jL(t,e,n){var r,s,o=zL(e)?k_:Ms;return function(){var u=o(this,t),c=u.on;c!==r&&(s=(r=c).copy()).on(e,n),u.on=s}}function qL(t,e){var n=this._id;return arguments.length<2?as(this.node(),n).on.on(t):this.each(jL(n,t,e))}function YL(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $L(){return this.on("end.remove",YL(this._id))}function GL(t){var e=this._name,n=this._id;typeof t!="function"&&(t=N_(t));for(var r=this._groups,s=r.length,o=new Array(s),u=0;u<s;++u)for(var c=r[u],f=c.length,d=o[u]=new Array(f),m,E,_=0;_<f;++_)(m=c[_])&&(E=t.call(m,m.__data__,_,c))&&("__data__"in m&&(E.__data__=m.__data__),d[_]=E,Op(d[_],e,n,_,d,as(m,n)));return new ha(o,this._parents,e,n)}function KL(t){var e=this._name,n=this._id;typeof t!="function"&&(t=JC(t));for(var r=this._groups,s=r.length,o=[],u=[],c=0;c<s;++c)for(var f=r[c],d=f.length,m,E=0;E<d;++E)if(m=f[E]){for(var _=t.call(m,m.__data__,E,f),b,w=as(m,n),x=0,k=_.length;x<k;++x)(b=_[x])&&Op(b,e,n,x,_,w);o.push(_),u.push(m)}return new ha(o,u,e,n)}var XL=Tf.prototype.constructor;function QL(){return new XL(this._groups,this._parents)}function WL(t,e){var n,r,s;return function(){var o=Hl(this,t),u=(this.style.removeProperty(t),Hl(this,t));return o===u?null:o===n&&u===r?s:s=e(n=o,r=u)}}function SI(t){return function(){this.style.removeProperty(t)}}function ZL(t,e,n){var r,s=n+"",o;return function(){var u=Hl(this,t);return u===s?null:u===r?o:o=e(r=u,n)}}function JL(t,e,n){var r,s,o;return function(){var u=Hl(this,t),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(t),Hl(this,t))),u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c))}}function eM(t,e){var n,r,s,o="style."+e,u="end."+o,c;return function(){var f=Ms(this,t),d=f.on,m=f.value[o]==null?c||(c=SI(e)):void 0;(d!==n||s!==m)&&(r=(n=d).copy()).on(u,s=m),f.on=r}}function tM(t,e,n){var r=(t+="")=="transform"?tL:vI;return e==null?this.styleTween(t,WL(t,r)).on("end.style."+t,SI(t)):typeof e=="function"?this.styleTween(t,JL(t,r,L_(this,"style."+t,e))).each(eM(this._id,t)):this.styleTween(t,ZL(t,r,e),n).on("end.style."+t,null)}function nM(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function rM(t,e,n){var r,s;function o(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&nM(t,u,n)),r}return o._value=e,o}function iM(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,rM(t,e,n??""))}function sM(t){return function(){this.textContent=t}}function aM(t){return function(){var e=t(this);this.textContent=e??""}}function oM(t){return this.tween("text",typeof t=="function"?aM(L_(this,"text",t)):sM(t==null?"":t+""))}function uM(t){return function(e){this.textContent=t.call(this,e)}}function lM(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&uM(s)),e}return r._value=t,r}function cM(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,lM(t))}function hM(){for(var t=this._name,e=this._id,n=AI(),r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,d=0;d<c;++d)if(f=u[d]){var m=as(f,e);Op(f,t,n,d,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ha(r,this._parents,t,n)}function fM(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(o,u){var c={value:u},f={value:function(){--s===0&&o()}};n.each(function(){var d=Ms(this,r),m=d.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),d.on=e}),s===0&&o()})}var dM=0;function ha(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function AI(){return++dM}var ia=Tf.prototype;ha.prototype={constructor:ha,select:GL,selectAll:KL,selectChild:ia.selectChild,selectChildren:ia.selectChildren,filter:HL,merge:FL,selection:QL,transition:hM,call:ia.call,nodes:ia.nodes,node:ia.node,size:ia.size,empty:ia.empty,each:ia.each,on:qL,attr:AL,attrTween:NL,style:tM,styleTween:iM,text:oM,textTween:cM,remove:$L,tween:EL,delay:DL,duration:ML,ease:BL,easeVarying:VL,end:fM,[Symbol.iterator]:ia[Symbol.iterator]};function mM(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var pM={time:null,delay:0,duration:250,ease:mM};function gM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function EM(t){var e,n;t instanceof ha?(e=t._id,t=t._name):(e=AI(),(n=pM).time=D_(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&Op(f,t,e,d,u,n||gM(f,e));return new ha(r,this._parents,t,e)}Tf.prototype.interrupt=mL;Tf.prototype.transition=EM;const om=t=>()=>t;function yM(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function aa(t,e,n){this.k=t,this.x=e,this.y=n}aa.prototype={constructor:aa,scale:function(t){return t===1?this:new aa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new aa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ao=new aa(1,0,0);aa.prototype;function _E(t){t.stopImmediatePropagation()}function dh(t){t.preventDefault(),t.stopImmediatePropagation()}function _M(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function TM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function lA(){return this.__zoom||ao}function bM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function vM(){return navigator.maxTouchPoints||"ontouchstart"in this}function SM(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function AM(){var t=_M,e=TM,n=SM,r=bM,s=vM,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=aL,d=xp("start","zoom","end"),m,E,_,b=500,w=150,x=0,k=10;function D(L){L.property("__zoom",lA).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(L,K,H,Q){var re=L.selection?L.selection():L;re.property("__zoom",lA),L!==re?Z(L,K,H,Q):re.interrupt().each(function(){G(this,arguments).event(Q).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},D.scaleBy=function(L,K,H,Q){D.scaleTo(L,function(){var re=this.__zoom.k,ie=typeof K=="function"?K.apply(this,arguments):K;return re*ie},H,Q)},D.scaleTo=function(L,K,H,Q){D.transform(L,function(){var re=e.apply(this,arguments),ie=this.__zoom,S=H==null?j(re):typeof H=="function"?H.apply(this,arguments):H,ee=ie.invert(S),oe=typeof K=="function"?K.apply(this,arguments):K;return n(Y(z(ie,oe),S,ee),re,u)},H,Q)},D.translateBy=function(L,K,H,Q){D.transform(L,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof H=="function"?H.apply(this,arguments):H),e.apply(this,arguments),u)},null,Q)},D.translateTo=function(L,K,H,Q,re){D.transform(L,function(){var ie=e.apply(this,arguments),S=this.__zoom,ee=Q==null?j(ie):typeof Q=="function"?Q.apply(this,arguments):Q;return n(ao.translate(ee[0],ee[1]).scale(S.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof H=="function"?-H.apply(this,arguments):-H),ie,u)},Q,re)};function z(L,K){return K=Math.max(o[0],Math.min(o[1],K)),K===L.k?L:new aa(K,L.x,L.y)}function Y(L,K,H){var Q=K[0]-H[0]*L.k,re=K[1]-H[1]*L.k;return Q===L.x&&re===L.y?L:new aa(L.k,Q,re)}function j(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function Z(L,K,H,Q){L.on("start.zoom",function(){G(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){G(this,arguments).event(Q).end()}).tween("zoom",function(){var re=this,ie=arguments,S=G(re,ie).event(Q),ee=e.apply(re,ie),oe=H==null?j(ee):typeof H=="function"?H.apply(re,ie):H,P=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),pe=re.__zoom,xe=typeof K=="function"?K.apply(re,ie):K,Ie=f(pe.invert(oe).concat(P/pe.k),xe.invert(oe).concat(P/xe.k));return function(Fe){if(Fe===1)Fe=xe;else{var Se=Ie(Fe),Le=P/Se[2];Fe=new aa(Le,oe[0]-Se[0]*Le,oe[1]-Se[1]*Le)}S.zoom(null,Fe)}})}function G(L,K,H){return!H&&L.__zooming||new R(L,K)}function R(L,K){this.that=L,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,K),this.taps=0}R.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,K){return this.mouse&&L!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var K=es(this.that).datum();d.call(L,this.that,new yM(L,{sourceEvent:this.sourceEvent,target:D,transform:this.that.__zoom,dispatch:d}),K)}};function N(L,...K){if(!t.apply(this,arguments))return;var H=G(this,K).event(L),Q=this.__zoom,re=Math.max(o[0],Math.min(o[1],Q.k*Math.pow(2,r.apply(this,arguments)))),ie=As(L);if(H.wheel)(H.mouse[0][0]!==ie[0]||H.mouse[0][1]!==ie[1])&&(H.mouse[1]=Q.invert(H.mouse[0]=ie)),clearTimeout(H.wheel);else{if(Q.k===re)return;H.mouse=[ie,Q.invert(ie)],Rm(this),H.start()}dh(L),H.wheel=setTimeout(S,w),H.zoom("mouse",n(Y(z(Q,re),H.mouse[0],H.mouse[1]),H.extent,u));function S(){H.wheel=null,H.end()}}function O(L,...K){if(_||!t.apply(this,arguments))return;var H=L.currentTarget,Q=G(this,K,!0).event(L),re=es(L.view).on("mousemove.zoom",oe,!0).on("mouseup.zoom",P,!0),ie=As(L,H),S=L.clientX,ee=L.clientY;cI(L.view),_E(L),Q.mouse=[ie,this.__zoom.invert(ie)],Rm(this),Q.start();function oe(pe){if(dh(pe),!Q.moved){var xe=pe.clientX-S,Ie=pe.clientY-ee;Q.moved=xe*xe+Ie*Ie>x}Q.event(pe).zoom("mouse",n(Y(Q.that.__zoom,Q.mouse[0]=As(pe,H),Q.mouse[1]),Q.extent,u))}function P(pe){re.on("mousemove.zoom mouseup.zoom",null),hI(pe.view,Q.moved),dh(pe),Q.event(pe).end()}}function M(L,...K){if(t.apply(this,arguments)){var H=this.__zoom,Q=As(L.changedTouches?L.changedTouches[0]:L,this),re=H.invert(Q),ie=H.k*(L.shiftKey?.5:2),S=n(Y(z(H,ie),Q,re),e.apply(this,K),u);dh(L),c>0?es(this).transition().duration(c).call(Z,S,Q,L):es(this).call(D.transform,S,Q,L)}}function B(L,...K){if(t.apply(this,arguments)){var H=L.touches,Q=H.length,re=G(this,K,L.changedTouches.length===Q).event(L),ie,S,ee,oe;for(_E(L),S=0;S<Q;++S)ee=H[S],oe=As(ee,this),oe=[oe,this.__zoom.invert(oe),ee.identifier],re.touch0?!re.touch1&&re.touch0[2]!==oe[2]&&(re.touch1=oe,re.taps=0):(re.touch0=oe,ie=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),ie&&(re.taps<2&&(E=oe[0],m=setTimeout(function(){m=null},b)),Rm(this),re.start())}}function V(L,...K){if(this.__zooming){var H=G(this,K).event(L),Q=L.changedTouches,re=Q.length,ie,S,ee,oe;for(dh(L),ie=0;ie<re;++ie)S=Q[ie],ee=As(S,this),H.touch0&&H.touch0[2]===S.identifier?H.touch0[0]=ee:H.touch1&&H.touch1[2]===S.identifier&&(H.touch1[0]=ee);if(S=H.that.__zoom,H.touch1){var P=H.touch0[0],pe=H.touch0[1],xe=H.touch1[0],Ie=H.touch1[1],Fe=(Fe=xe[0]-P[0])*Fe+(Fe=xe[1]-P[1])*Fe,Se=(Se=Ie[0]-pe[0])*Se+(Se=Ie[1]-pe[1])*Se;S=z(S,Math.sqrt(Fe/Se)),ee=[(P[0]+xe[0])/2,(P[1]+xe[1])/2],oe=[(pe[0]+Ie[0])/2,(pe[1]+Ie[1])/2]}else if(H.touch0)ee=H.touch0[0],oe=H.touch0[1];else return;H.zoom("touch",n(Y(S,ee,oe),H.extent,u))}}function C(L,...K){if(this.__zooming){var H=G(this,K).event(L),Q=L.changedTouches,re=Q.length,ie,S;for(_E(L),_&&clearTimeout(_),_=setTimeout(function(){_=null},b),ie=0;ie<re;++ie)S=Q[ie],H.touch0&&H.touch0[2]===S.identifier?delete H.touch0:H.touch1&&H.touch1[2]===S.identifier&&delete H.touch1;if(H.touch1&&!H.touch0&&(H.touch0=H.touch1,delete H.touch1),H.touch0)H.touch0[1]=this.__zoom.invert(H.touch0[0]);else if(H.end(),H.taps===2&&(S=As(S,this),Math.hypot(E[0]-S[0],E[1]-S[1])<k)){var ee=es(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return D.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:om(+L),D):r},D.filter=function(L){return arguments.length?(t=typeof L=="function"?L:om(!!L),D):t},D.touchable=function(L){return arguments.length?(s=typeof L=="function"?L:om(!!L),D):s},D.extent=function(L){return arguments.length?(e=typeof L=="function"?L:om([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),D):e},D.scaleExtent=function(L){return arguments.length?(o[0]=+L[0],o[1]=+L[1],D):[o[0],o[1]]},D.translateExtent=function(L){return arguments.length?(u[0][0]=+L[0][0],u[1][0]=+L[1][0],u[0][1]=+L[0][1],u[1][1]=+L[1][1],D):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},D.constrain=function(L){return arguments.length?(n=L,D):n},D.duration=function(L){return arguments.length?(c=+L,D):c},D.interpolate=function(L){return arguments.length?(f=L,D):f},D.on=function(){var L=d.on.apply(d,arguments);return L===d?D:L},D.clickDistance=function(L){return arguments.length?(x=(L=+L)*L,D):Math.sqrt(x)},D.tapDistance=function(L){return arguments.length?(k=+L,D):k},D}var wM=QC();const Al=yu(wM),Dp=U.createContext(null),CM=Dp.Provider,fa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},wI=fa.error001();function _n(t,e){const n=U.useContext(Dp);if(n===null)throw new Error(wI);return WC(n,t,e)}const lr=()=>{const t=U.useContext(Dp);if(t===null)throw new Error(wI);return U.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},IM=t=>t.userSelectionActive?"none":"all";function CI({position:t,children:e,className:n,style:r,...s}){const o=_n(IM),u=`${t}`.split("-");return ye.createElement("div",{className:Yr(["react-flow__panel",n,...u]),style:{...r,pointerEvents:o},...s},e)}function xM({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:ye.createElement(CI,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ye.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const NM=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:o={},labelBgPadding:u=[2,4],labelBgBorderRadius:c=2,children:f,className:d,...m})=>{const E=U.useRef(null),[_,b]=U.useState({x:0,y:0,width:0,height:0}),w=Yr(["react-flow__edge-textwrapper",d]);return U.useEffect(()=>{if(E.current){const x=E.current.getBBox();b({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:ye.createElement("g",{transform:`translate(${t-_.width/2} ${e-_.height/2})`,className:w,visibility:_.width?"visible":"hidden",...m},s&&ye.createElement("rect",{width:_.width+2*u[0],x:-u[0],y:-u[1],height:_.height+2*u[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),ye.createElement("text",{className:"react-flow__edge-text",y:_.height/2,dy:"0.3em",ref:E,style:r},n),f)};var RM=U.memo(NM);const M_=t=>({width:t.offsetWidth,height:t.offsetHeight}),zl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),P_=(t={x:0,y:0},e)=>({x:zl(t.x,e[0][0],e[1][0]),y:zl(t.y,e[0][1],e[1][1])}),cA=(t,e,n)=>t<e?zl(Math.abs(t-e),1,50)/50:t>n?-zl(Math.abs(t-n),1,50)/50:0,II=(t,e)=>{const n=cA(t.x,35,e.width-35)*20,r=cA(t.y,35,e.height-35)*20;return[n,r]},xI=t=>t.getRootNode?.()||window?.document,OM=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),B_=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),DM=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),hA=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),Ay=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},kM=t=>ji(t.width)&&ji(t.height)&&ji(t.x)&&ji(t.y),ji=t=>!isNaN(t)&&isFinite(t),wn=Symbol.for("internals"),NI=["Enter"," ","Escape"],LM=(t,e)=>{},MM=t=>"nativeEvent"in t;function wy(t){const n=(MM(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const RI=t=>"clientX"in t,oo=(t,e)=>{const n=RI(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},Zm=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,vf=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:_,interactionWidth:b=20})=>ye.createElement(ye.Fragment,null,ye.createElement("path",{id:t,style:m,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:E,markerStart:_}),b&&ye.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:b,className:"react-flow__edge-interaction"}),s&&ji(n)&&ji(r)?ye.createElement(RM,{x:n,y:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d}):null);vf.displayName="BaseEdge";function mh(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(o=>o.id===t);s&&n(r,{...s})}}function OI({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,o=n<t?n+s:n-s,u=Math.abs(r-e)/2,c=r<e?r+u:r-u;return[o,c,s,u]}function DI({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:u,targetControlY:c}){const f=t*.125+s*.375+u*.375+n*.125,d=e*.125+o*.375+c*.375+r*.125,m=Math.abs(f-t),E=Math.abs(d-e);return[f,d,m,E]}var po;(function(t){t.Strict="strict",t.Loose="loose"})(po||(po={}));var iu;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(iu||(iu={}));var nf;(function(t){t.Partial="partial",t.Full="full"})(nf||(nf={}));var Za;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Za||(Za={}));var rf;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(rf||(rf={}));var ze;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ze||(ze={}));function fA({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===ze.Left||t===ze.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function kI({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:s,targetPosition:o=ze.Top}){const[u,c]=fA({pos:n,x1:t,y1:e,x2:r,y2:s}),[f,d]=fA({pos:o,x1:r,y1:s,x2:t,y2:e}),[m,E,_,b]=DI({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:d});return[`M${t},${e} C${u},${c} ${f},${d} ${r},${s}`,m,E,_,b]}const U_=U.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ze.Bottom,targetPosition:o=ze.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:w,interactionWidth:x})=>{const[k,D,z]=kI({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o});return ye.createElement(vf,{path:k,labelX:D,labelY:z,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:w,interactionWidth:x})});U_.displayName="SimpleBezierEdge";const dA={[ze.Left]:{x:-1,y:0},[ze.Right]:{x:1,y:0},[ze.Top]:{x:0,y:-1},[ze.Bottom]:{x:0,y:1}},PM=({source:t,sourcePosition:e=ze.Bottom,target:n})=>e===ze.Left||e===ze.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},mA=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function BM({source:t,sourcePosition:e=ze.Bottom,target:n,targetPosition:r=ze.Top,center:s,offset:o}){const u=dA[e],c=dA[r],f={x:t.x+u.x*o,y:t.y+u.y*o},d={x:n.x+c.x*o,y:n.y+c.y*o},m=PM({source:f,sourcePosition:e,target:d}),E=m.x!==0?"x":"y",_=m[E];let b=[],w,x;const k={x:0,y:0},D={x:0,y:0},[z,Y,j,Z]=OI({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[E]*c[E]===-1){w=s.x??z,x=s.y??Y;const R=[{x:w,y:f.y},{x:w,y:d.y}],N=[{x:f.x,y:x},{x:d.x,y:x}];u[E]===_?b=E==="x"?R:N:b=E==="x"?N:R}else{const R=[{x:f.x,y:d.y}],N=[{x:d.x,y:f.y}];if(E==="x"?b=u.x===_?N:R:b=u.y===_?R:N,e===r){const C=Math.abs(t[E]-n[E]);if(C<=o){const L=Math.min(o-1,o-C);u[E]===_?k[E]=(f[E]>t[E]?-1:1)*L:D[E]=(d[E]>n[E]?-1:1)*L}}if(e!==r){const C=E==="x"?"y":"x",L=u[E]===c[C],K=f[C]>d[C],H=f[C]<d[C];(u[E]===1&&(!L&&K||L&&H)||u[E]!==1&&(!L&&H||L&&K))&&(b=E==="x"?R:N)}const O={x:f.x+k.x,y:f.y+k.y},M={x:d.x+D.x,y:d.y+D.y},B=Math.max(Math.abs(O.x-b[0].x),Math.abs(M.x-b[0].x)),V=Math.max(Math.abs(O.y-b[0].y),Math.abs(M.y-b[0].y));B>=V?(w=(O.x+M.x)/2,x=b[0].y):(w=b[0].x,x=(O.y+M.y)/2)}return[[t,{x:f.x+k.x,y:f.y+k.y},...b,{x:d.x+D.x,y:d.y+D.y},n],w,x,j,Z]}function UM(t,e,n,r){const s=Math.min(mA(t,e)/2,mA(e,n)/2,r),{x:o,y:u}=e;if(t.x===o&&o===n.x||t.y===u&&u===n.y)return`L${o} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${o+s*d},${u}Q ${o},${u} ${o},${u+s*m}`}const c=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${o},${u+s*f}Q ${o},${u} ${o+s*c},${u}`}function Cy({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:s,targetPosition:o=ze.Top,borderRadius:u=5,centerX:c,centerY:f,offset:d=20}){const[m,E,_,b,w]=BM({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:c,y:f},offset:d});return[m.reduce((k,D,z)=>{let Y="";return z>0&&z<m.length-1?Y=UM(m[z-1],D,m[z+1],u):Y=`${z===0?"M":"L"}${D.x} ${D.y}`,k+=Y,k},""),E,_,b,w]}const kp=U.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,sourcePosition:E=ze.Bottom,targetPosition:_=ze.Top,markerEnd:b,markerStart:w,pathOptions:x,interactionWidth:k})=>{const[D,z,Y]=Cy({sourceX:t,sourceY:e,sourcePosition:E,targetX:n,targetY:r,targetPosition:_,borderRadius:x?.borderRadius,offset:x?.offset});return ye.createElement(vf,{path:D,labelX:z,labelY:Y,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:b,markerStart:w,interactionWidth:k})});kp.displayName="SmoothStepEdge";const V_=U.memo(t=>ye.createElement(kp,{...t,pathOptions:U.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));V_.displayName="StepEdge";function VM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,o,u,c]=OI({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,o,u,c]}const H_=U.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:_,interactionWidth:b})=>{const[w,x,k]=VM({sourceX:t,sourceY:e,targetX:n,targetY:r});return ye.createElement(vf,{path:w,labelX:x,labelY:k,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:_,interactionWidth:b})});H_.displayName="StraightEdge";function um(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function pA({pos:t,x1:e,y1:n,x2:r,y2:s,c:o}){switch(t){case ze.Left:return[e-um(e-r,o),n];case ze.Right:return[e+um(r-e,o),n];case ze.Top:return[e,n-um(n-s,o)];case ze.Bottom:return[e,n+um(s-n,o)]}}function LI({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:s,targetPosition:o=ze.Top,curvature:u=.25}){const[c,f]=pA({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[d,m]=pA({pos:o,x1:r,y1:s,x2:t,y2:e,c:u}),[E,_,b,w]=DI({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:d,targetControlY:m});return[`M${t},${e} C${c},${f} ${d},${m} ${r},${s}`,E,_,b,w]}const Jm=U.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ze.Bottom,targetPosition:o=ze.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:w,pathOptions:x,interactionWidth:k})=>{const[D,z,Y]=LI({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o,curvature:x?.curvature});return ye.createElement(vf,{path:D,labelX:z,labelY:Y,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:w,interactionWidth:k})});Jm.displayName="BezierEdge";const F_=U.createContext(null),HM=F_.Provider;F_.Consumer;const FM=()=>U.useContext(F_),zM=t=>"id"in t&&"source"in t&&"target"in t,jM=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,Iy=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,qM=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),YM=(t,e)=>{if(!t.source||!t.target)return e;let n;return zM(t)?n={...t}:n={...t,id:jM(t)},qM(n,e)?e:e.concat(n)},xy=({x:t,y:e},[n,r,s],o,[u,c])=>{const f={x:(t-n)/s,y:(e-r)/s};return o?{x:u*Math.round(f.x/u),y:c*Math.round(f.y/c)}:f},MI=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),Rl=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},z_=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:o,y:u}=Rl(s,e).positionAbsolute;return OM(r,B_({x:o,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return DM(n)},PI=(t,e,[n,r,s]=[0,0,1],o=!1,u=!1,c=[0,0])=>{const f={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(m=>{const{width:E,height:_,selectable:b=!0,hidden:w=!1}=m;if(u&&!b||w)return!1;const{positionAbsolute:x}=Rl(m,c),k={x:x.x,y:x.y,width:E||0,height:_||0},D=Ay(f,k),z=typeof E>"u"||typeof _>"u"||E===null||_===null,Y=o&&D>0,j=(E||0)*(_||0);(z||Y||D>=j||m.dragging)&&d.push(m)}),d},BI=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},UI=(t,e,n,r,s,o=.1)=>{const u=e/(t.width*(1+o)),c=n/(t.height*(1+o)),f=Math.min(u,c),d=zl(f,r,s),m=t.x+t.width/2,E=t.y+t.height/2,_=e/2-m*d,b=n/2-E*d;return{x:_,y:b,zoom:d}},Zo=(t,e=0)=>t.transition().duration(e);function gA(t,e,n,r){return(e[n]||[]).reduce((s,o)=>(`${t.id}-${o.id}-${n}`!==r&&s.push({id:o.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+o.x+o.width/2,y:(t.positionAbsolute?.y??0)+o.y+o.height/2}),s),[])}function $M(t,e,n,r,s,o){const{x:u,y:c}=oo(t),d=e.elementsFromPoint(u,c).find(w=>w.classList.contains("react-flow__handle"));if(d){const w=d.getAttribute("data-nodeid");if(w){const x=j_(void 0,d),k=d.getAttribute("data-handleid"),D=o({nodeId:w,id:k,type:x});if(D){const z=s.find(Y=>Y.nodeId===w&&Y.type===x&&Y.id===k);return{handle:{id:k,type:x,nodeId:w,x:z?.x||n.x,y:z?.y||n.y},validHandleResult:D}}}}let m=[],E=1/0;if(s.forEach(w=>{const x=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(x<=r){const k=o(w);x<=E&&(x<E?m=[{handle:w,validHandleResult:k}]:x===E&&m.push({handle:w,validHandleResult:k}),E=x)}}),!m.length)return{handle:null,validHandleResult:VI()};if(m.length===1)return m[0];const _=m.some(({validHandleResult:w})=>w.isValid),b=m.some(({handle:w})=>w.type==="target");return m.find(({handle:w,validHandleResult:x})=>b?w.type==="target":_?x.isValid:!0)||m[0]}const GM={source:null,target:null,sourceHandle:null,targetHandle:null},VI=()=>({handleDomNode:null,isValid:!1,connection:GM,endHandle:null});function HI(t,e,n,r,s,o,u){const c=s==="target",f=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),d={...VI(),handleDomNode:f};if(f){const m=j_(void 0,f),E=f.getAttribute("data-nodeid"),_=f.getAttribute("data-handleid"),b=f.classList.contains("connectable"),w=f.classList.contains("connectableend"),x={source:c?E:n,sourceHandle:c?_:r,target:c?n:E,targetHandle:c?r:_};d.connection=x,b&&w&&(e===po.Strict?c&&m==="source"||!c&&m==="target":E!==n||_!==r)&&(d.endHandle={nodeId:E,handleId:_,type:m},d.isValid=o(x))}return d}function KM({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,o)=>{if(o[wn]){const{handleBounds:u}=o[wn];let c=[],f=[];u&&(c=gA(o,u,"source",`${e}-${n}-${r}`),f=gA(o,u,"target",`${e}-${n}-${r}`)),s.push(...c,...f)}return s},[])}function j_(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function TE(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function XM(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function FI({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:o,setState:u,isValidConnection:c,edgeUpdaterType:f,onReconnectEnd:d}){const m=xI(t.target),{connectionMode:E,domNode:_,autoPanOnConnect:b,connectionRadius:w,onConnectStart:x,panBy:k,getNodes:D,cancelConnection:z}=o();let Y=0,j;const{x:Z,y:G}=oo(t),R=m?.elementFromPoint(Z,G),N=j_(f,R),O=_?.getBoundingClientRect();if(!O||!N)return;let M,B=oo(t,O),V=!1,C=null,L=!1,K=null;const H=KM({nodes:D(),nodeId:n,handleId:e,handleType:N}),Q=()=>{if(!b)return;const[S,ee]=II(B,O);k({x:S,y:ee}),Y=requestAnimationFrame(Q)};u({connectionPosition:B,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:N,connectionStartHandle:{nodeId:n,handleId:e,type:N},connectionEndHandle:null}),x?.(t,{nodeId:n,handleId:e,handleType:N});function re(S){const{transform:ee}=o();B=oo(S,O);const{handle:oe,validHandleResult:P}=$M(S,m,xy(B,ee,!1,[1,1]),w,H,pe=>HI(pe,E,n,e,s?"target":"source",c,m));if(j=oe,V||(Q(),V=!0),K=P.handleDomNode,C=P.connection,L=P.isValid,u({connectionPosition:j&&L?MI({x:j.x,y:j.y},ee):B,connectionStatus:XM(!!j,L),connectionEndHandle:P.endHandle}),!j&&!L&&!K)return TE(M);C.source!==C.target&&K&&(TE(M),M=K,K.classList.add("connecting","react-flow__handle-connecting"),K.classList.toggle("valid",L),K.classList.toggle("react-flow__handle-valid",L))}function ie(S){(j||K)&&C&&L&&r?.(C),o().onConnectEnd?.(S),f&&d?.(S),TE(M),z(),cancelAnimationFrame(Y),V=!1,L=!1,C=null,K=null,m.removeEventListener("mousemove",re),m.removeEventListener("mouseup",ie),m.removeEventListener("touchmove",re),m.removeEventListener("touchend",ie)}m.addEventListener("mousemove",re),m.addEventListener("mouseup",ie),m.addEventListener("touchmove",re),m.addEventListener("touchend",ie)}const EA=()=>!0,QM=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),WM=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:o,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||o?.nodeId===t&&o?.handleId===e&&o?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},zI=U.forwardRef(({type:t="source",position:e=ze.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:u,onConnect:c,children:f,className:d,onMouseDown:m,onTouchStart:E,..._},b)=>{const w=u||null,x=t==="target",k=lr(),D=FM(),{connectOnClick:z,noPanClassName:Y}=_n(QM,Nr),{connecting:j,clickConnecting:Z}=_n(WM(D,w,t),Nr);D||k.getState().onError?.("010",fa.error010());const G=O=>{const{defaultEdgeOptions:M,onConnect:B,hasDefaultEdges:V}=k.getState(),C={...M,...O};if(V){const{edges:L,setEdges:K}=k.getState();K(YM(C,L))}B?.(C),c?.(C)},R=O=>{if(!D)return;const M=RI(O);s&&(M&&O.button===0||!M)&&FI({event:O,handleId:w,nodeId:D,onConnect:G,isTarget:x,getState:k.getState,setState:k.setState,isValidConnection:n||k.getState().isValidConnection||EA}),M?m?.(O):E?.(O)},N=O=>{const{onClickConnectStart:M,onClickConnectEnd:B,connectionClickStartHandle:V,connectionMode:C,isValidConnection:L}=k.getState();if(!D||!V&&!s)return;if(!V){M?.(O,{nodeId:D,handleId:w,handleType:t}),k.setState({connectionClickStartHandle:{nodeId:D,type:t,handleId:w}});return}const K=xI(O.target),H=n||L||EA,{connection:Q,isValid:re}=HI({nodeId:D,id:w,type:t},C,V.nodeId,V.handleId||null,V.type,H,K);re&&G(Q),B?.(O),k.setState({connectionClickStartHandle:null})};return ye.createElement("div",{"data-handleid":w,"data-nodeid":D,"data-handlepos":e,"data-id":`${D}-${w}-${t}`,className:Yr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",Y,d,{source:!x,target:x,connectable:r,connectablestart:s,connectableend:o,connecting:Z,connectionindicator:r&&(s&&!j||o&&j)}]),onMouseDown:R,onTouchStart:R,onClick:z?N:void 0,ref:b,..._},f)});zI.displayName="Handle";var Cr=U.memo(zI);const jI=({data:t,isConnectable:e,targetPosition:n=ze.Top,sourcePosition:r=ze.Bottom})=>ye.createElement(ye.Fragment,null,ye.createElement(Cr,{type:"target",position:n,isConnectable:e}),t?.label,ye.createElement(Cr,{type:"source",position:r,isConnectable:e}));jI.displayName="DefaultNode";var Ny=U.memo(jI);const qI=({data:t,isConnectable:e,sourcePosition:n=ze.Bottom})=>ye.createElement(ye.Fragment,null,t?.label,ye.createElement(Cr,{type:"source",position:n,isConnectable:e}));qI.displayName="InputNode";var YI=U.memo(qI);const $I=({data:t,isConnectable:e,targetPosition:n=ze.Top})=>ye.createElement(ye.Fragment,null,ye.createElement(Cr,{type:"target",position:n,isConnectable:e}),t?.label);$I.displayName="OutputNode";var GI=U.memo($I);const q_=()=>null;q_.displayName="GroupNode";const ZM=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),lm=t=>t.id;function JM(t,e){return Nr(t.selectedNodes.map(lm),e.selectedNodes.map(lm))&&Nr(t.selectedEdges.map(lm),e.selectedEdges.map(lm))}const KI=U.memo(({onSelectionChange:t})=>{const e=lr(),{selectedNodes:n,selectedEdges:r}=_n(ZM,JM);return U.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(o=>o(s))},[n,r,t]),null});KI.displayName="SelectionListener";const eP=t=>!!t.onSelectionChange;function tP({onSelectionChange:t}){const e=_n(eP);return t||e?ye.createElement(KI,{onSelectionChange:t}):null}const nP=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function ul(t,e){U.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function mt(t,e,n){U.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const rP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:o,onConnectEnd:u,onClickConnectStart:c,onClickConnectEnd:f,nodesDraggable:d,nodesConnectable:m,nodesFocusable:E,edgesFocusable:_,edgesUpdatable:b,elevateNodesOnSelect:w,minZoom:x,maxZoom:k,nodeExtent:D,onNodesChange:z,onEdgesChange:Y,elementsSelectable:j,connectionMode:Z,snapGrid:G,snapToGrid:R,translateExtent:N,connectOnClick:O,defaultEdgeOptions:M,fitView:B,fitViewOptions:V,onNodesDelete:C,onEdgesDelete:L,onNodeDrag:K,onNodeDragStart:H,onNodeDragStop:Q,onSelectionDrag:re,onSelectionDragStart:ie,onSelectionDragStop:S,noPanClassName:ee,nodeOrigin:oe,rfId:P,autoPanOnConnect:pe,autoPanOnNodeDrag:xe,onError:Ie,connectionRadius:Fe,isValidConnection:Se,nodeDragThreshold:Le})=>{const{setNodes:Pe,setEdges:Qe,setDefaultNodesAndEdges:Rt,setMinZoom:Ot,setMaxZoom:Dt,setTranslateExtent:Ge,setNodeExtent:cn,reset:Ke}=_n(nP,Nr),qe=lr();return U.useEffect(()=>{const nn=r?.map(Cn=>({...Cn,...M}));return Rt(n,nn),()=>{Ke()}},[]),mt("defaultEdgeOptions",M,qe.setState),mt("connectionMode",Z,qe.setState),mt("onConnect",s,qe.setState),mt("onConnectStart",o,qe.setState),mt("onConnectEnd",u,qe.setState),mt("onClickConnectStart",c,qe.setState),mt("onClickConnectEnd",f,qe.setState),mt("nodesDraggable",d,qe.setState),mt("nodesConnectable",m,qe.setState),mt("nodesFocusable",E,qe.setState),mt("edgesFocusable",_,qe.setState),mt("edgesUpdatable",b,qe.setState),mt("elementsSelectable",j,qe.setState),mt("elevateNodesOnSelect",w,qe.setState),mt("snapToGrid",R,qe.setState),mt("snapGrid",G,qe.setState),mt("onNodesChange",z,qe.setState),mt("onEdgesChange",Y,qe.setState),mt("connectOnClick",O,qe.setState),mt("fitViewOnInit",B,qe.setState),mt("fitViewOnInitOptions",V,qe.setState),mt("onNodesDelete",C,qe.setState),mt("onEdgesDelete",L,qe.setState),mt("onNodeDrag",K,qe.setState),mt("onNodeDragStart",H,qe.setState),mt("onNodeDragStop",Q,qe.setState),mt("onSelectionDrag",re,qe.setState),mt("onSelectionDragStart",ie,qe.setState),mt("onSelectionDragStop",S,qe.setState),mt("noPanClassName",ee,qe.setState),mt("nodeOrigin",oe,qe.setState),mt("rfId",P,qe.setState),mt("autoPanOnConnect",pe,qe.setState),mt("autoPanOnNodeDrag",xe,qe.setState),mt("onError",Ie,qe.setState),mt("connectionRadius",Fe,qe.setState),mt("isValidConnection",Se,qe.setState),mt("nodeDragThreshold",Le,qe.setState),ul(t,Pe),ul(e,Qe),ul(x,Ot),ul(k,Dt),ul(N,Ge),ul(D,cn),null},yA={display:"none"},iP={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},XI="react-flow__node-desc",QI="react-flow__edge-desc",sP="react-flow__aria-live",aP=t=>t.ariaLiveMessage;function oP({rfId:t}){const e=_n(aP);return ye.createElement("div",{id:`${sP}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:iP},e)}function uP({rfId:t,disableKeyboardA11y:e}){return ye.createElement(ye.Fragment,null,ye.createElement("div",{id:`${XI}-${t}`,style:yA},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ye.createElement("div",{id:`${QI}-${t}`,style:yA},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ye.createElement(oP,{rfId:t}))}var sf=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=U.useState(!1),s=U.useRef(!1),o=U.useRef(new Set([])),[u,c]=U.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(E=>typeof E=="string").map(E=>E.split("+")),m=d.reduce((E,_)=>E.concat(..._),[]);return[d,m]}return[[],[]]},[t]);return U.useEffect(()=>{const f=typeof document<"u"?document:null,d=e?.target||f;if(t!==null){const m=b=>{if(s.current=b.ctrlKey||b.metaKey||b.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&wy(b))return!1;const x=TA(b.code,c);o.current.add(b[x]),_A(u,o.current,!1)&&(b.preventDefault(),r(!0))},E=b=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&wy(b))return!1;const x=TA(b.code,c);_A(u,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(b[x]),b.key==="Meta"&&o.current.clear(),s.current=!1},_=()=>{o.current.clear(),r(!1)};return d?.addEventListener("keydown",m),d?.addEventListener("keyup",E),window.addEventListener("blur",_),()=>{d?.removeEventListener("keydown",m),d?.removeEventListener("keyup",E),window.removeEventListener("blur",_)}}},[t,r]),n};function _A(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function TA(t,e){return e.includes(t)?"code":"key"}function WI(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const o=e.get(s),u=Rl(o,r);return WI(o,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(o[wn]?.z??0)>(n.z??0)?o[wn]?.z??0:n.z??0},r)}function ZI(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:o,y:u,z:c}=WI(r,t,{...r.position,z:r[wn]?.z??0},e);r.positionAbsolute={x:o,y:u},r[wn].z=c,n?.[r.id]&&(r[wn].isParent=!0)}})}function bE(t,e,n,r){const s=new Map,o={},u=r?1e3:0;return t.forEach(c=>{const f=(ji(c.zIndex)?c.zIndex:0)+(c.selected?u:0),d=e.get(c.id),m={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},E=c.parentNode||c.parentId;E&&(o[E]=!0);const _=d?.type&&d?.type!==c.type;Object.defineProperty(m,wn,{enumerable:!1,value:{handleBounds:_?void 0:d?.[wn]?.handleBounds,z:f}}),s.set(c.id,m)}),ZI(s,n,o),s}function JI(t,e={}){const{getNodes:n,width:r,height:s,minZoom:o,maxZoom:u,d3Zoom:c,d3Selection:f,fitViewOnInitDone:d,fitViewOnInit:m,nodeOrigin:E}=t(),_=e.initial&&!d&&m;if(c&&f&&(_||!e.initial)){const w=n().filter(k=>{const D=e.includeHiddenNodes?k.width&&k.height:!k.hidden;return e.nodes?.length?D&&e.nodes.some(z=>z.id===k.id):D}),x=w.every(k=>k.width&&k.height);if(w.length>0&&x){const k=z_(w,E),{x:D,y:z,zoom:Y}=UI(k,r,s,e.minZoom??o,e.maxZoom??u,e.padding??.1),j=ao.translate(D,z).scale(Y);return typeof e.duration=="number"&&e.duration>0?c.transform(Zo(f,e.duration),j):c.transform(f,j),!0}}return!1}function lP(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[wn]:r[wn],selected:n.selected})}),new Map(e)}function cP(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function cm({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:o,onNodesChange:u,onEdgesChange:c,hasDefaultNodes:f,hasDefaultEdges:d}=n();t?.length&&(f&&r({nodeInternals:lP(t,s)}),u?.(t)),e?.length&&(d&&r({edges:cP(e,o)}),c?.(e))}const ll=()=>{},hP={zoomIn:ll,zoomOut:ll,zoomTo:ll,getZoom:()=>1,setViewport:ll,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ll,fitBounds:ll,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},fP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),dP=()=>{const t=lr(),{d3Zoom:e,d3Selection:n}=_n(fP,Nr);return U.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Zo(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(Zo(n,s?.duration),1/1.2),zoomTo:(s,o)=>e.scaleTo(Zo(n,o?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,o)=>{const[u,c,f]=t.getState().transform,d=ao.translate(s.x??u,s.y??c).scale(s.zoom??f);e.transform(Zo(n,o?.duration),d)},getViewport:()=>{const[s,o,u]=t.getState().transform;return{x:s,y:o,zoom:u}},fitView:s=>JI(t.getState,s),setCenter:(s,o,u)=>{const{width:c,height:f,maxZoom:d}=t.getState(),m=typeof u?.zoom<"u"?u.zoom:d,E=c/2-s*m,_=f/2-o*m,b=ao.translate(E,_).scale(m);e.transform(Zo(n,u?.duration),b)},fitBounds:(s,o)=>{const{width:u,height:c,minZoom:f,maxZoom:d}=t.getState(),{x:m,y:E,zoom:_}=UI(s,u,c,f,d,o?.padding??.1),b=ao.translate(m,E).scale(_);e.transform(Zo(n,o?.duration),b)},project:s=>{const{transform:o,snapToGrid:u,snapGrid:c}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),xy(s,o,u,c)},screenToFlowPosition:s=>{const{transform:o,snapToGrid:u,snapGrid:c,domNode:f}=t.getState();if(!f)return s;const{x:d,y:m}=f.getBoundingClientRect(),E={x:s.x-d,y:s.y-m};return xy(E,o,u,c)},flowToScreenPosition:s=>{const{transform:o,domNode:u}=t.getState();if(!u)return s;const{x:c,y:f}=u.getBoundingClientRect(),d=MI(s,o);return{x:d.x+c,y:d.y+f}},viewportInitialized:!0}:hP,[e,n])};function Sf(){const t=dP(),e=lr(),n=U.useCallback(()=>e.getState().getNodes().map(x=>({...x})),[]),r=U.useCallback(x=>e.getState().nodeInternals.get(x),[]),s=U.useCallback(()=>{const{edges:x=[]}=e.getState();return x.map(k=>({...k}))},[]),o=U.useCallback(x=>{const{edges:k=[]}=e.getState();return k.find(D=>D.id===x)},[]),u=U.useCallback(x=>{const{getNodes:k,setNodes:D,hasDefaultNodes:z,onNodesChange:Y}=e.getState(),j=k(),Z=typeof x=="function"?x(j):x;if(z)D(Z);else if(Y){const G=Z.length===0?j.map(R=>({type:"remove",id:R.id})):Z.map(R=>({item:R,type:"reset"}));Y(G)}},[]),c=U.useCallback(x=>{const{edges:k=[],setEdges:D,hasDefaultEdges:z,onEdgesChange:Y}=e.getState(),j=typeof x=="function"?x(k):x;if(z)D(j);else if(Y){const Z=j.length===0?k.map(G=>({type:"remove",id:G.id})):j.map(G=>({item:G,type:"reset"}));Y(Z)}},[]),f=U.useCallback(x=>{const k=Array.isArray(x)?x:[x],{getNodes:D,setNodes:z,hasDefaultNodes:Y,onNodesChange:j}=e.getState();if(Y){const G=[...D(),...k];z(G)}else if(j){const Z=k.map(G=>({item:G,type:"add"}));j(Z)}},[]),d=U.useCallback(x=>{const k=Array.isArray(x)?x:[x],{edges:D=[],setEdges:z,hasDefaultEdges:Y,onEdgesChange:j}=e.getState();if(Y)z([...D,...k]);else if(j){const Z=k.map(G=>({item:G,type:"add"}));j(Z)}},[]),m=U.useCallback(()=>{const{getNodes:x,edges:k=[],transform:D}=e.getState(),[z,Y,j]=D;return{nodes:x().map(Z=>({...Z})),edges:k.map(Z=>({...Z})),viewport:{x:z,y:Y,zoom:j}}},[]),E=U.useCallback(({nodes:x,edges:k})=>{const{nodeInternals:D,getNodes:z,edges:Y,hasDefaultNodes:j,hasDefaultEdges:Z,onNodesDelete:G,onEdgesDelete:R,onNodesChange:N,onEdgesChange:O}=e.getState(),M=(x||[]).map(K=>K.id),B=(k||[]).map(K=>K.id),V=z().reduce((K,H)=>{const Q=H.parentNode||H.parentId,re=!M.includes(H.id)&&Q&&K.find(S=>S.id===Q);return(typeof H.deletable=="boolean"?H.deletable:!0)&&(M.includes(H.id)||re)&&K.push(H),K},[]),C=Y.filter(K=>typeof K.deletable=="boolean"?K.deletable:!0),L=C.filter(K=>B.includes(K.id));if(V||L){const K=BI(V,C),H=[...L,...K],Q=H.reduce((re,ie)=>(re.includes(ie.id)||re.push(ie.id),re),[]);if((Z||j)&&(Z&&e.setState({edges:Y.filter(re=>!Q.includes(re.id))}),j&&(V.forEach(re=>{D.delete(re.id)}),e.setState({nodeInternals:new Map(D)}))),Q.length>0&&(R?.(H),O&&O(Q.map(re=>({id:re,type:"remove"})))),V.length>0&&(G?.(V),N)){const re=V.map(ie=>({id:ie.id,type:"remove"}));N(re)}}},[]),_=U.useCallback(x=>{const k=kM(x),D=k?null:e.getState().nodeInternals.get(x.id);return!k&&!D?[null,null,k]:[k?x:hA(D),D,k]},[]),b=U.useCallback((x,k=!0,D)=>{const[z,Y,j]=_(x);return z?(D||e.getState().getNodes()).filter(Z=>{if(!j&&(Z.id===Y.id||!Z.positionAbsolute))return!1;const G=hA(Z),R=Ay(G,z);return k&&R>0||R>=z.width*z.height}):[]},[]),w=U.useCallback((x,k,D=!0)=>{const[z]=_(x);if(!z)return!1;const Y=Ay(z,k);return D&&Y>0||Y>=z.width*z.height},[]);return U.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:o,setNodes:u,setEdges:c,addNodes:f,addEdges:d,toObject:m,deleteElements:E,getIntersectingNodes:b,isNodeIntersecting:w}),[t,n,r,s,o,u,c,f,d,m,E,b,w])}const mP={actInsideInputWithModifier:!1};var pP=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=lr(),{deleteElements:r}=Sf(),s=sf(t,mP),o=sf(e);U.useEffect(()=>{if(s){const{edges:u,getNodes:c}=n.getState(),f=c().filter(m=>m.selected),d=u.filter(m=>m.selected);r({nodes:f,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),U.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function gP(t){const e=lr();U.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=M_(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",fa.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const Y_={position:"absolute",width:"100%",height:"100%",top:0,left:0},EP=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,hm=t=>({x:t.x,y:t.y,zoom:t.k}),cl=(t,e)=>t.target.closest(`.${e}`),bA=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),vA=t=>{const e=t.ctrlKey&&Zm()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},yP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),_P=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:o=!0,panOnScroll:u=!1,panOnScrollSpeed:c=.5,panOnScrollMode:f=iu.Free,zoomOnDoubleClick:d=!0,elementsSelectable:m,panOnDrag:E=!0,defaultViewport:_,translateExtent:b,minZoom:w,maxZoom:x,zoomActivationKeyCode:k,preventScrolling:D=!0,children:z,noWheelClassName:Y,noPanClassName:j})=>{const Z=U.useRef(),G=lr(),R=U.useRef(!1),N=U.useRef(!1),O=U.useRef(null),M=U.useRef({x:0,y:0,zoom:0}),{d3Zoom:B,d3Selection:V,d3ZoomHandler:C,userSelectionActive:L}=_n(yP,Nr),K=sf(k),H=U.useRef(0),Q=U.useRef(!1),re=U.useRef();return gP(O),U.useEffect(()=>{if(O.current){const ie=O.current.getBoundingClientRect(),S=AM().scaleExtent([w,x]).translateExtent(b),ee=es(O.current).call(S),oe=ao.translate(_.x,_.y).scale(zl(_.zoom,w,x)),P=[[0,0],[ie.width,ie.height]],pe=S.constrain()(oe,P,b);S.transform(ee,pe),S.wheelDelta(vA),G.setState({d3Zoom:S,d3Selection:ee,d3ZoomHandler:ee.on("wheel.zoom"),transform:[pe.x,pe.y,pe.k],domNode:O.current.closest(".react-flow")})}},[]),U.useEffect(()=>{V&&B&&(u&&!K&&!L?V.on("wheel.zoom",ie=>{if(cl(ie,Y))return!1;ie.preventDefault(),ie.stopImmediatePropagation();const S=V.property("__zoom").k||1;if(ie.ctrlKey&&o){const Se=As(ie),Le=vA(ie),Pe=S*Math.pow(2,Le);B.scaleTo(V,Pe,Se,ie);return}const ee=ie.deltaMode===1?20:1;let oe=f===iu.Vertical?0:ie.deltaX*ee,P=f===iu.Horizontal?0:ie.deltaY*ee;!Zm()&&ie.shiftKey&&f!==iu.Vertical&&(oe=ie.deltaY*ee,P=0),B.translateBy(V,-(oe/S)*c,-(P/S)*c,{internal:!0});const pe=hm(V.property("__zoom")),{onViewportChangeStart:xe,onViewportChange:Ie,onViewportChangeEnd:Fe}=G.getState();clearTimeout(re.current),Q.current||(Q.current=!0,e?.(ie,pe),xe?.(pe)),Q.current&&(t?.(ie,pe),Ie?.(pe),re.current=setTimeout(()=>{n?.(ie,pe),Fe?.(pe),Q.current=!1},150))},{passive:!1}):typeof C<"u"&&V.on("wheel.zoom",function(ie,S){if(!D&&ie.type==="wheel"&&!ie.ctrlKey||cl(ie,Y))return null;ie.preventDefault(),C.call(this,ie,S)},{passive:!1}))},[L,u,f,V,B,C,K,o,D,Y,e,t,n]),U.useEffect(()=>{B&&B.on("start",ie=>{if(!ie.sourceEvent||ie.sourceEvent.internal)return null;H.current=ie.sourceEvent?.button;const{onViewportChangeStart:S}=G.getState(),ee=hm(ie.transform);R.current=!0,M.current=ee,ie.sourceEvent?.type==="mousedown"&&G.setState({paneDragging:!0}),S?.(ee),e?.(ie.sourceEvent,ee)})},[B,e]),U.useEffect(()=>{B&&(L&&!R.current?B.on("zoom",null):L||B.on("zoom",ie=>{const{onViewportChange:S}=G.getState();if(G.setState({transform:[ie.transform.x,ie.transform.y,ie.transform.k]}),N.current=!!(r&&bA(E,H.current??0)),(t||S)&&!ie.sourceEvent?.internal){const ee=hm(ie.transform);S?.(ee),t?.(ie.sourceEvent,ee)}}))},[L,B,t,E,r]),U.useEffect(()=>{B&&B.on("end",ie=>{if(!ie.sourceEvent||ie.sourceEvent.internal)return null;const{onViewportChangeEnd:S}=G.getState();if(R.current=!1,G.setState({paneDragging:!1}),r&&bA(E,H.current??0)&&!N.current&&r(ie.sourceEvent),N.current=!1,(n||S)&&EP(M.current,ie.transform)){const ee=hm(ie.transform);M.current=ee,clearTimeout(Z.current),Z.current=setTimeout(()=>{S?.(ee),n?.(ie.sourceEvent,ee)},u?150:0)}})},[B,u,E,n,r]),U.useEffect(()=>{B&&B.filter(ie=>{const S=K||s,ee=o&&ie.ctrlKey;if((E===!0||Array.isArray(E)&&E.includes(1))&&ie.button===1&&ie.type==="mousedown"&&(cl(ie,"react-flow__node")||cl(ie,"react-flow__edge")))return!0;if(!E&&!S&&!u&&!d&&!o||L||!d&&ie.type==="dblclick"||cl(ie,Y)&&ie.type==="wheel"||cl(ie,j)&&(ie.type!=="wheel"||u&&ie.type==="wheel"&&!K)||!o&&ie.ctrlKey&&ie.type==="wheel"||!S&&!u&&!ee&&ie.type==="wheel"||!E&&(ie.type==="mousedown"||ie.type==="touchstart")||Array.isArray(E)&&!E.includes(ie.button)&&ie.type==="mousedown")return!1;const oe=Array.isArray(E)&&E.includes(ie.button)||!ie.button||ie.button<=1;return(!ie.ctrlKey||ie.type==="wheel")&&oe})},[L,B,s,o,u,d,E,m,K]),ye.createElement("div",{className:"react-flow__renderer",ref:O,style:Y_},z)},TP=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function bP(){const{userSelectionActive:t,userSelectionRect:e}=_n(TP,Nr);return t&&e?ye.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function SA(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,o=e.position.y+e.height-r.height;if(s>0||o>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),o>0&&(r.style.height+=o),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function ex(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const o=t.filter(c=>c.id===s.id);if(o.length===0)return r.push(s),r;const u={...s};for(const c of o)if(c)switch(c.type){case"select":{u.selected=c.selected;break}case"position":{typeof c.position<"u"&&(u.position=c.position),typeof c.positionAbsolute<"u"&&(u.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(u.dragging=c.dragging),u.expandParent&&SA(r,u);break}case"dimensions":{typeof c.dimensions<"u"&&(u.width=c.dimensions.width,u.height=c.dimensions.height),typeof c.updateStyle<"u"&&(u.style={...u.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(u.resizing=c.resizing),u.expandParent&&SA(r,u);break}case"remove":return r}return r.push(u),r},n)}function tx(t,e){return ex(t,e)}function vP(t,e){return ex(t,e)}const Qa=(t,e)=>({id:t,type:"select",selected:e});function wl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Qa(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Qa(r.id,!1))),n},[])}const vE=(t,e)=>n=>{n.target===e.current&&t?.(n)},SP=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),nx=U.memo(({isSelecting:t,selectionMode:e=nf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:o,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:m,children:E})=>{const _=U.useRef(null),b=lr(),w=U.useRef(0),x=U.useRef(0),k=U.useRef(),{userSelectionActive:D,elementsSelectable:z,dragging:Y}=_n(SP,Nr),j=()=>{b.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,x.current=0},Z=C=>{o?.(C),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},G=C=>{if(Array.isArray(n)&&n?.includes(2)){C.preventDefault();return}u?.(C)},R=c?C=>c(C):void 0,N=C=>{const{resetSelectedElements:L,domNode:K}=b.getState();if(k.current=K?.getBoundingClientRect(),!z||!t||C.button!==0||C.target!==_.current||!k.current)return;const{x:H,y:Q}=oo(C,k.current);L(),b.setState({userSelectionRect:{width:0,height:0,startX:H,startY:Q,x:H,y:Q}}),r?.(C)},O=C=>{const{userSelectionRect:L,nodeInternals:K,edges:H,transform:Q,onNodesChange:re,onEdgesChange:ie,nodeOrigin:S,getNodes:ee}=b.getState();if(!t||!k.current||!L)return;b.setState({userSelectionActive:!0,nodesSelectionActive:!1});const oe=oo(C,k.current),P=L.startX??0,pe=L.startY??0,xe={...L,x:oe.x<P?oe.x:P,y:oe.y<pe?oe.y:pe,width:Math.abs(oe.x-P),height:Math.abs(oe.y-pe)},Ie=ee(),Fe=PI(K,xe,Q,e===nf.Partial,!0,S),Se=BI(Fe,H).map(Pe=>Pe.id),Le=Fe.map(Pe=>Pe.id);if(w.current!==Le.length){w.current=Le.length;const Pe=wl(Ie,Le);Pe.length&&re?.(Pe)}if(x.current!==Se.length){x.current=Se.length;const Pe=wl(H,Se);Pe.length&&ie?.(Pe)}b.setState({userSelectionRect:xe})},M=C=>{if(C.button!==0)return;const{userSelectionRect:L}=b.getState();!D&&L&&C.target===_.current&&Z?.(C),b.setState({nodesSelectionActive:w.current>0}),j(),s?.(C)},B=C=>{D&&(b.setState({nodesSelectionActive:w.current>0}),s?.(C)),j()},V=z&&(t||D);return ye.createElement("div",{className:Yr(["react-flow__pane",{dragging:Y,selection:t}]),onClick:V?void 0:vE(Z,_),onContextMenu:vE(G,_),onWheel:vE(R,_),onMouseEnter:V?void 0:f,onMouseDown:V?N:void 0,onMouseMove:V?O:d,onMouseUp:V?M:void 0,onMouseLeave:V?B:m,ref:_,style:Y_},E,ye.createElement(bP,null))});nx.displayName="Pane";function rx(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:rx(r,e):!1}function AA(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function AP(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!rx(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function wP(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function ix(t,e,n,r,s=[0,0],o){const u=wP(t,t.extent||r);let c=u;const f=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(f&&t.width&&t.height){const E=n.get(f),{x:_,y:b}=Rl(E,s).positionAbsolute;c=E&&ji(_)&&ji(b)&&ji(E.width)&&ji(E.height)?[[_+t.width*s[0],b+t.height*s[1]],[_+E.width-t.width+t.width*s[0],b+E.height-t.height+t.height*s[1]]]:c}else o?.("005",fa.error005()),c=u;else if(t.extent&&f&&t.extent!=="parent"){const E=n.get(f),{x:_,y:b}=Rl(E,s).positionAbsolute;c=[[t.extent[0][0]+_,t.extent[0][1]+b],[t.extent[1][0]+_,t.extent[1][1]+b]]}let d={x:0,y:0};if(f){const E=n.get(f);d=Rl(E,s).positionAbsolute}const m=c&&c!=="parent"?P_(e,c):e;return{position:{x:m.x-d.x,y:m.y-d.y},positionAbsolute:m}}function SE({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const wA=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const o=Array.from(s),u=e.getBoundingClientRect(),c={x:u.width*r[0],y:u.height*r[1]};return o.map(f=>{const d=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(d.left-u.left-c.x)/n,y:(d.top-u.top-c.y)/n,...M_(f)}})};function ph(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function Ry({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:u,nodeInternals:c,onError:f}=e.getState(),d=c.get(t);if(!d){f?.("012",fa.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&u)&&(o({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function CP(){const t=lr();return U.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:o}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,f={x:(u-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:o?s[0]*Math.round(f.x/s[0]):f.x,ySnapped:o?s[1]*Math.round(f.y/s[1]):f.y,...f}},[])}function AE(t){return(e,n,r)=>t?.(e,r)}function sx({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,selectNodesOnDrag:u}){const c=lr(),[f,d]=U.useState(!1),m=U.useRef([]),E=U.useRef({x:null,y:null}),_=U.useRef(0),b=U.useRef(null),w=U.useRef({x:0,y:0}),x=U.useRef(null),k=U.useRef(!1),D=U.useRef(!1),z=U.useRef(!1),Y=CP();return U.useEffect(()=>{if(t?.current){const j=es(t.current),Z=({x:N,y:O})=>{const{nodeInternals:M,onNodeDrag:B,onSelectionDrag:V,updateNodePositions:C,nodeExtent:L,snapGrid:K,snapToGrid:H,nodeOrigin:Q,onError:re}=c.getState();E.current={x:N,y:O};let ie=!1,S={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&L){const oe=z_(m.current,Q);S=B_(oe)}if(m.current=m.current.map(oe=>{const P={x:N-oe.distance.x,y:O-oe.distance.y};H&&(P.x=K[0]*Math.round(P.x/K[0]),P.y=K[1]*Math.round(P.y/K[1]));const pe=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];m.current.length>1&&L&&!oe.extent&&(pe[0][0]=oe.positionAbsolute.x-S.x+L[0][0],pe[1][0]=oe.positionAbsolute.x+(oe.width??0)-S.x2+L[1][0],pe[0][1]=oe.positionAbsolute.y-S.y+L[0][1],pe[1][1]=oe.positionAbsolute.y+(oe.height??0)-S.y2+L[1][1]);const xe=ix(oe,P,M,pe,Q,re);return ie=ie||oe.position.x!==xe.position.x||oe.position.y!==xe.position.y,oe.position=xe.position,oe.positionAbsolute=xe.positionAbsolute,oe}),!ie)return;C(m.current,!0,!0),d(!0);const ee=s?B:AE(V);if(ee&&x.current){const[oe,P]=SE({nodeId:s,dragItems:m.current,nodeInternals:M});ee(x.current,oe,P)}},G=()=>{if(!b.current)return;const[N,O]=II(w.current,b.current);if(N!==0||O!==0){const{transform:M,panBy:B}=c.getState();E.current.x=(E.current.x??0)-N/M[2],E.current.y=(E.current.y??0)-O/M[2],B({x:N,y:O})&&Z(E.current)}_.current=requestAnimationFrame(G)},R=N=>{const{nodeInternals:O,multiSelectionActive:M,nodesDraggable:B,unselectNodesAndEdges:V,onNodeDragStart:C,onSelectionDragStart:L}=c.getState();D.current=!0;const K=s?C:AE(L);(!u||!o)&&!M&&s&&(O.get(s)?.selected||V()),s&&o&&u&&Ry({id:s,store:c,nodeRef:t});const H=Y(N);if(E.current=H,m.current=AP(O,B,H,s),K&&m.current){const[Q,re]=SE({nodeId:s,dragItems:m.current,nodeInternals:O});K(N.sourceEvent,Q,re)}};if(e)j.on(".drag",null);else{const N=L4().on("start",O=>{const{domNode:M,nodeDragThreshold:B}=c.getState();B===0&&R(O),z.current=!1;const V=Y(O);E.current=V,b.current=M?.getBoundingClientRect()||null,w.current=oo(O.sourceEvent,b.current)}).on("drag",O=>{const M=Y(O),{autoPanOnNodeDrag:B,nodeDragThreshold:V}=c.getState();if(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1&&(z.current=!0),!z.current){if(!k.current&&D.current&&B&&(k.current=!0,G()),!D.current){const C=M.xSnapped-(E?.current?.x??0),L=M.ySnapped-(E?.current?.y??0);Math.sqrt(C*C+L*L)>V&&R(O)}(E.current.x!==M.xSnapped||E.current.y!==M.ySnapped)&&m.current&&D.current&&(x.current=O.sourceEvent,w.current=oo(O.sourceEvent,b.current),Z(M))}}).on("end",O=>{if(!(!D.current||z.current)&&(d(!1),k.current=!1,D.current=!1,cancelAnimationFrame(_.current),m.current)){const{updateNodePositions:M,nodeInternals:B,onNodeDragStop:V,onSelectionDragStop:C}=c.getState(),L=s?V:AE(C);if(M(m.current,!1,!1),L){const[K,H]=SE({nodeId:s,dragItems:m.current,nodeInternals:B});L(O.sourceEvent,K,H)}}}).filter(O=>{const M=O.target;return!O.button&&(!n||!AA(M,`.${n}`,t))&&(!r||AA(M,r,t))});return j.call(N),()=>{j.on(".drag",null)}}}},[t,e,n,r,o,c,s,u,Y]),f}function ax(){const t=lr();return U.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:o,getNodes:u,snapToGrid:c,snapGrid:f,onError:d,nodesDraggable:m}=t.getState(),E=u().filter(z=>z.selected&&(z.draggable||m&&typeof z.draggable>"u")),_=c?f[0]:5,b=c?f[1]:5,w=n.isShiftPressed?4:1,x=n.x*_*w,k=n.y*b*w,D=E.map(z=>{if(z.positionAbsolute){const Y={x:z.positionAbsolute.x+x,y:z.positionAbsolute.y+k};c&&(Y.x=f[0]*Math.round(Y.x/f[0]),Y.y=f[1]*Math.round(Y.y/f[1]));const{positionAbsolute:j,position:Z}=ix(z,Y,r,s,void 0,d);z.position=Z,z.positionAbsolute=j}return z});o(D,!0,!1)},[])}const Ol={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var gh=t=>{const e=({id:n,type:r,data:s,xPos:o,yPos:u,xPosOrigin:c,yPosOrigin:f,selected:d,onClick:m,onMouseEnter:E,onMouseMove:_,onMouseLeave:b,onContextMenu:w,onDoubleClick:x,style:k,className:D,isDraggable:z,isSelectable:Y,isConnectable:j,isFocusable:Z,selectNodesOnDrag:G,sourcePosition:R,targetPosition:N,hidden:O,resizeObserver:M,dragHandle:B,zIndex:V,isParent:C,noDragClassName:L,noPanClassName:K,initialized:H,disableKeyboardA11y:Q,ariaLabel:re,rfId:ie,hasHandleBounds:S})=>{const ee=lr(),oe=U.useRef(null),P=U.useRef(null),pe=U.useRef(R),xe=U.useRef(N),Ie=U.useRef(r),Fe=Y||z||m||E||_||b,Se=ax(),Le=ph(n,ee.getState,E),Pe=ph(n,ee.getState,_),Qe=ph(n,ee.getState,b),Rt=ph(n,ee.getState,w),Ot=ph(n,ee.getState,x),Dt=Ke=>{const{nodeDragThreshold:qe}=ee.getState();if(Y&&(!G||!z||qe>0)&&Ry({id:n,store:ee,nodeRef:oe}),m){const nn=ee.getState().nodeInternals.get(n);nn&&m(Ke,{...nn})}},Ge=Ke=>{if(!wy(Ke)&&!Q)if(NI.includes(Ke.key)&&Y){const qe=Ke.key==="Escape";Ry({id:n,store:ee,unselect:qe,nodeRef:oe})}else z&&d&&Object.prototype.hasOwnProperty.call(Ol,Ke.key)&&(ee.setState({ariaLiveMessage:`Moved selected node ${Ke.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~u}`}),Se({x:Ol[Ke.key].x,y:Ol[Ke.key].y,isShiftPressed:Ke.shiftKey}))};U.useEffect(()=>()=>{P.current&&(M?.unobserve(P.current),P.current=null)},[]),U.useEffect(()=>{if(oe.current&&!O){const Ke=oe.current;(!H||!S||P.current!==Ke)&&(P.current&&M?.unobserve(P.current),M?.observe(Ke),P.current=Ke)}},[O,H,S]),U.useEffect(()=>{const Ke=Ie.current!==r,qe=pe.current!==R,nn=xe.current!==N;oe.current&&(Ke||qe||nn)&&(Ke&&(Ie.current=r),qe&&(pe.current=R),nn&&(xe.current=N),ee.getState().updateNodeDimensions([{id:n,nodeElement:oe.current,forceUpdate:!0}]))},[n,r,R,N]);const cn=sx({nodeRef:oe,disabled:O||!z,noDragClassName:L,handleSelector:B,nodeId:n,isSelectable:Y,selectNodesOnDrag:G});return O?null:ye.createElement("div",{className:Yr(["react-flow__node",`react-flow__node-${r}`,{[K]:z},D,{selected:d,selectable:Y,parent:C,dragging:cn}]),ref:oe,style:{zIndex:V,transform:`translate(${c}px,${f}px)`,pointerEvents:Fe?"all":"none",visibility:H?"visible":"hidden",...k},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Le,onMouseMove:Pe,onMouseLeave:Qe,onContextMenu:Rt,onClick:Dt,onDoubleClick:Ot,onKeyDown:Z?Ge:void 0,tabIndex:Z?0:void 0,role:Z?"button":void 0,"aria-describedby":Q?void 0:`${XI}-${ie}`,"aria-label":re},ye.createElement(HM,{value:n},ye.createElement(t,{id:n,data:s,type:r,xPos:o,yPos:u,selected:d,isConnectable:j,sourcePosition:R,targetPosition:N,dragging:cn,dragHandle:B,zIndex:V})))};return e.displayName="NodeWrapper",U.memo(e)};const IP=t=>{const e=t.getNodes().filter(n=>n.selected);return{...z_(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function xP({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=lr(),{width:s,height:o,x:u,y:c,transformString:f,userSelectionActive:d}=_n(IP,Nr),m=ax(),E=U.useRef(null);if(U.useEffect(()=>{n||E.current?.focus({preventScroll:!0})},[n]),sx({nodeRef:E}),d||!s||!o)return null;const _=t?w=>{const x=r.getState().getNodes().filter(k=>k.selected);t(w,x)}:void 0,b=w=>{Object.prototype.hasOwnProperty.call(Ol,w.key)&&m({x:Ol[w.key].x,y:Ol[w.key].y,isShiftPressed:w.shiftKey})};return ye.createElement("div",{className:Yr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:f}},ye.createElement("div",{ref:E,className:"react-flow__nodesselection-rect",onContextMenu:_,tabIndex:n?void 0:-1,onKeyDown:n?void 0:b,style:{width:s,height:o,top:c,left:u}}))}var NP=U.memo(xP);const RP=t=>t.nodesSelectionActive,ox=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,deleteKeyCode:c,onMove:f,onMoveStart:d,onMoveEnd:m,selectionKeyCode:E,selectionOnDrag:_,selectionMode:b,onSelectionStart:w,onSelectionEnd:x,multiSelectionKeyCode:k,panActivationKeyCode:D,zoomActivationKeyCode:z,elementsSelectable:Y,zoomOnScroll:j,zoomOnPinch:Z,panOnScroll:G,panOnScrollSpeed:R,panOnScrollMode:N,zoomOnDoubleClick:O,panOnDrag:M,defaultViewport:B,translateExtent:V,minZoom:C,maxZoom:L,preventScrolling:K,onSelectionContextMenu:H,noWheelClassName:Q,noPanClassName:re,disableKeyboardA11y:ie})=>{const S=_n(RP),ee=sf(E),oe=sf(D),P=oe||M,pe=oe||G,xe=ee||_&&P!==!0;return pP({deleteKeyCode:c,multiSelectionKeyCode:k}),ye.createElement(_P,{onMove:f,onMoveStart:d,onMoveEnd:m,onPaneContextMenu:o,elementsSelectable:Y,zoomOnScroll:j,zoomOnPinch:Z,panOnScroll:pe,panOnScrollSpeed:R,panOnScrollMode:N,zoomOnDoubleClick:O,panOnDrag:!ee&&P,defaultViewport:B,translateExtent:V,minZoom:C,maxZoom:L,zoomActivationKeyCode:z,preventScrolling:K,noWheelClassName:Q,noPanClassName:re},ye.createElement(nx,{onSelectionStart:w,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,panOnDrag:P,isSelecting:!!xe,selectionMode:b},t,S&&ye.createElement(NP,{onSelectionContextMenu:H,noPanClassName:re,disableKeyboardA11y:ie})))};ox.displayName="FlowRenderer";var OP=U.memo(ox);function DP(t){return _n(U.useCallback(n=>t?PI(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function kP(t){const e={input:gh(t.input||YI),default:gh(t.default||Ny),output:gh(t.output||GI),group:gh(t.group||q_)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,o)=>(s[o]=gh(t[o]||Ny),s),n);return{...e,...r}}const LP=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},MP=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),ux=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:o,onError:u}=_n(MP,Nr),c=DP(t.onlyRenderVisibleElements),f=U.useRef(),d=U.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(E=>{const _=E.map(b=>({id:b.target.getAttribute("data-id"),nodeElement:b.target,forceUpdate:!0}));o(_)});return f.current=m,m},[]);return U.useEffect(()=>()=>{f?.current?.disconnect()},[]),ye.createElement("div",{className:"react-flow__nodes",style:Y_},c.map(m=>{let E=m.type||"default";t.nodeTypes[E]||(u?.("003",fa.error003(E)),E="default");const _=t.nodeTypes[E]||t.nodeTypes.default,b=!!(m.draggable||e&&typeof m.draggable>"u"),w=!!(m.selectable||s&&typeof m.selectable>"u"),x=!!(m.connectable||n&&typeof m.connectable>"u"),k=!!(m.focusable||r&&typeof m.focusable>"u"),D=t.nodeExtent?P_(m.positionAbsolute,t.nodeExtent):m.positionAbsolute,z=D?.x??0,Y=D?.y??0,j=LP({x:z,y:Y,width:m.width??0,height:m.height??0,origin:t.nodeOrigin});return ye.createElement(_,{key:m.id,id:m.id,className:m.className,style:m.style,type:E,data:m.data,sourcePosition:m.sourcePosition||ze.Bottom,targetPosition:m.targetPosition||ze.Top,hidden:m.hidden,xPos:z,yPos:Y,xPosOrigin:j.x,yPosOrigin:j.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!m.selected,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:k,resizeObserver:d,dragHandle:m.dragHandle,zIndex:m[wn]?.z??0,isParent:!!m[wn]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!m.width&&!!m.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!m[wn]?.handleBounds})}))};ux.displayName="NodeRenderer";var PP=U.memo(ux);const BP=(t,e,n)=>n===ze.Left?t-e:n===ze.Right?t+e:t,UP=(t,e,n)=>n===ze.Top?t-e:n===ze.Bottom?t+e:t,CA="react-flow__edgeupdater",IA=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:u,type:c})=>ye.createElement("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:u,className:Yr([CA,`${CA}-${c}`]),cx:BP(e,r,t),cy:UP(n,r,t),r,stroke:"transparent",fill:"transparent"}),VP=()=>!0;var hl=t=>{const e=({id:n,className:r,type:s,data:o,onClick:u,onEdgeDoubleClick:c,selected:f,animated:d,label:m,labelStyle:E,labelShowBg:_,labelBgStyle:b,labelBgPadding:w,labelBgBorderRadius:x,style:k,source:D,target:z,sourceX:Y,sourceY:j,targetX:Z,targetY:G,sourcePosition:R,targetPosition:N,elementsSelectable:O,hidden:M,sourceHandleId:B,targetHandleId:V,onContextMenu:C,onMouseEnter:L,onMouseMove:K,onMouseLeave:H,reconnectRadius:Q,onReconnect:re,onReconnectStart:ie,onReconnectEnd:S,markerEnd:ee,markerStart:oe,rfId:P,ariaLabel:pe,isFocusable:xe,isReconnectable:Ie,pathOptions:Fe,interactionWidth:Se,disableKeyboardA11y:Le})=>{const Pe=U.useRef(null),[Qe,Rt]=U.useState(!1),[Ot,Dt]=U.useState(!1),Ge=lr(),cn=U.useMemo(()=>`url('#${Iy(oe,P)}')`,[oe,P]),Ke=U.useMemo(()=>`url('#${Iy(ee,P)}')`,[ee,P]);if(M)return null;const qe=vt=>{const{edges:jt,addSelectedEdges:qt,unselectNodesAndEdges:Yt,multiSelectionActive:St}=Ge.getState(),ct=jt.find(en=>en.id===n);ct&&(O&&(Ge.setState({nodesSelectionActive:!1}),ct.selected&&St?(Yt({nodes:[],edges:[ct]}),Pe.current?.blur()):qt([n])),u&&u(vt,ct))},nn=mh(n,Ge.getState,c),Cn=mh(n,Ge.getState,C),In=mh(n,Ge.getState,L),Ln=mh(n,Ge.getState,K),xn=mh(n,Ge.getState,H),dn=(vt,jt)=>{if(vt.button!==0)return;const{edges:qt,isValidConnection:Yt}=Ge.getState(),St=jt?z:D,ct=(jt?V:B)||null,en=jt?"target":"source",Xt=Yt||VP,$i=jt,br=qt.find(vr=>vr.id===n);Dt(!0),ie?.(vt,br,en);const jn=vr=>{Dt(!1),S?.(vr,br,en)};FI({event:vt,handleId:ct,nodeId:St,onConnect:vr=>re?.(br,vr),isTarget:$i,getState:Ge.getState,setState:Ge.setState,isValidConnection:Xt,edgeUpdaterType:en,onReconnectEnd:jn})},zn=vt=>dn(vt,!0),ae=vt=>dn(vt,!1),Te=()=>Rt(!0),Ue=()=>Rt(!1),Ye=!O&&!u,lt=vt=>{if(!Le&&NI.includes(vt.key)&&O){const{unselectNodesAndEdges:jt,addSelectedEdges:qt,edges:Yt}=Ge.getState();vt.key==="Escape"?(Pe.current?.blur(),jt({edges:[Yt.find(ct=>ct.id===n)]})):qt([n])}};return ye.createElement("g",{className:Yr(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:f,animated:d,inactive:Ye,updating:Qe}]),onClick:qe,onDoubleClick:nn,onContextMenu:Cn,onMouseEnter:In,onMouseMove:Ln,onMouseLeave:xn,onKeyDown:xe?lt:void 0,tabIndex:xe?0:void 0,role:xe?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":pe===null?void 0:pe||`Edge from ${D} to ${z}`,"aria-describedby":xe?`${QI}-${P}`:void 0,ref:Pe},!Ot&&ye.createElement(t,{id:n,source:D,target:z,selected:f,animated:d,label:m,labelStyle:E,labelShowBg:_,labelBgStyle:b,labelBgPadding:w,labelBgBorderRadius:x,data:o,style:k,sourceX:Y,sourceY:j,targetX:Z,targetY:G,sourcePosition:R,targetPosition:N,sourceHandleId:B,targetHandleId:V,markerStart:cn,markerEnd:Ke,pathOptions:Fe,interactionWidth:Se}),Ie&&ye.createElement(ye.Fragment,null,(Ie==="source"||Ie===!0)&&ye.createElement(IA,{position:R,centerX:Y,centerY:j,radius:Q,onMouseDown:zn,onMouseEnter:Te,onMouseOut:Ue,type:"source"}),(Ie==="target"||Ie===!0)&&ye.createElement(IA,{position:N,centerX:Z,centerY:G,radius:Q,onMouseDown:ae,onMouseEnter:Te,onMouseOut:Ue,type:"target"})))};return e.displayName="EdgeWrapper",U.memo(e)};function HP(t){const e={default:hl(t.default||Jm),straight:hl(t.bezier||H_),step:hl(t.step||V_),smoothstep:hl(t.step||kp),simplebezier:hl(t.simplebezier||U_)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,o)=>(s[o]=hl(t[o]||Jm),s),n);return{...e,...r}}function xA(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,o=n?.width||e.width,u=n?.height||e.height;switch(t){case ze.Top:return{x:r+o/2,y:s};case ze.Right:return{x:r+o,y:s+u/2};case ze.Bottom:return{x:r+o/2,y:s+u};case ze.Left:return{x:r,y:s+u/2}}}function NA(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const FP=(t,e,n,r,s,o)=>{const u=xA(n,t,e),c=xA(o,r,s);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y}};function zP({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:o,width:u,height:c,transform:f}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+o)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const m=B_({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:u/f[2],height:c/f[2]}),E=Math.max(0,Math.min(m.x2,d.x2)-Math.max(m.x,d.x)),_=Math.max(0,Math.min(m.y2,d.y2)-Math.max(m.y,d.y));return Math.ceil(E*_)>0}function RA(t){const e=t?.[wn]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const jP=[{level:0,isMaxLevel:!0,edges:[]}];function qP(t,e,n=!1){let r=-1;const s=t.reduce((u,c)=>{const f=ji(c.zIndex);let d=f?c.zIndex:0;if(n){const m=e.get(c.target),E=e.get(c.source),_=c.selected||m?.selected||E?.selected,b=Math.max(E?.[wn]?.z||0,m?.[wn]?.z||0,1e3);d=(f?c.zIndex:0)+(_?b:0)}return u[d]?u[d].push(c):u[d]=[c],r=d>r?d:r,u},{}),o=Object.entries(s).map(([u,c])=>{const f=+u;return{edges:c,level:f,isMaxLevel:f===r}});return o.length===0?jP:o}function YP(t,e,n){const r=_n(U.useCallback(s=>t?s.edges.filter(o=>{const u=e.get(o.source),c=e.get(o.target);return u?.width&&u?.height&&c?.width&&c?.height&&zP({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return qP(r,e,n)}const $P=({color:t="none",strokeWidth:e=1})=>ye.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),GP=({color:t="none",strokeWidth:e=1})=>ye.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),OA={[rf.Arrow]:$P,[rf.ArrowClosed]:GP};function KP(t){const e=lr();return U.useMemo(()=>Object.prototype.hasOwnProperty.call(OA,t)?OA[t]:(e.getState().onError?.("009",fa.error009(t)),null),[t])}const XP=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:u,orient:c="auto-start-reverse"})=>{const f=KP(e);return f?ye.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0"},ye.createElement(f,{color:n,strokeWidth:u})):null},QP=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,o)=>([o.markerStart,o.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const c=Iy(u,e);r.includes(c)||(s.push({id:c,color:u.color||t,...u}),r.push(c))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))},lx=({defaultColor:t,rfId:e})=>{const n=_n(U.useCallback(QP({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((o,u)=>o.id!==s[u].id)));return ye.createElement("defs",null,n.map(r=>ye.createElement(XP,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};lx.displayName="MarkerDefinitions";var WP=U.memo(lx);const ZP=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),cx=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:o,onEdgeContextMenu:u,onEdgeMouseEnter:c,onEdgeMouseMove:f,onEdgeMouseLeave:d,onEdgeClick:m,onEdgeDoubleClick:E,onReconnect:_,onReconnectStart:b,onReconnectEnd:w,reconnectRadius:x,children:k,disableKeyboardA11y:D})=>{const{edgesFocusable:z,edgesUpdatable:Y,elementsSelectable:j,width:Z,height:G,connectionMode:R,nodeInternals:N,onError:O}=_n(ZP,Nr),M=YP(e,N,n);return Z?ye.createElement(ye.Fragment,null,M.map(({level:B,edges:V,isMaxLevel:C})=>ye.createElement("svg",{key:B,style:{zIndex:B},width:Z,height:G,className:"react-flow__edges react-flow__container"},C&&ye.createElement(WP,{defaultColor:t,rfId:r}),ye.createElement("g",null,V.map(L=>{const[K,H,Q]=RA(N.get(L.source)),[re,ie,S]=RA(N.get(L.target));if(!Q||!S)return null;let ee=L.type||"default";s[ee]||(O?.("011",fa.error011(ee)),ee="default");const oe=s[ee]||s.default,P=R===po.Strict?ie.target:(ie.target??[]).concat(ie.source??[]),pe=NA(H.source,L.sourceHandle),xe=NA(P,L.targetHandle),Ie=pe?.position||ze.Bottom,Fe=xe?.position||ze.Top,Se=!!(L.focusable||z&&typeof L.focusable>"u"),Le=L.reconnectable||L.updatable,Pe=typeof _<"u"&&(Le||Y&&typeof Le>"u");if(!pe||!xe)return O?.("008",fa.error008(pe,L)),null;const{sourceX:Qe,sourceY:Rt,targetX:Ot,targetY:Dt}=FP(K,pe,Ie,re,xe,Fe);return ye.createElement(oe,{key:L.id,id:L.id,className:Yr([L.className,o]),type:ee,data:L.data,selected:!!L.selected,animated:!!L.animated,hidden:!!L.hidden,label:L.label,labelStyle:L.labelStyle,labelShowBg:L.labelShowBg,labelBgStyle:L.labelBgStyle,labelBgPadding:L.labelBgPadding,labelBgBorderRadius:L.labelBgBorderRadius,style:L.style,source:L.source,target:L.target,sourceHandleId:L.sourceHandle,targetHandleId:L.targetHandle,markerEnd:L.markerEnd,markerStart:L.markerStart,sourceX:Qe,sourceY:Rt,targetX:Ot,targetY:Dt,sourcePosition:Ie,targetPosition:Fe,elementsSelectable:j,onContextMenu:u,onMouseEnter:c,onMouseMove:f,onMouseLeave:d,onClick:m,onEdgeDoubleClick:E,onReconnect:_,onReconnectStart:b,onReconnectEnd:w,reconnectRadius:x,rfId:r,ariaLabel:L.ariaLabel,isFocusable:Se,isReconnectable:Pe,pathOptions:"pathOptions"in L?L.pathOptions:void 0,interactionWidth:L.interactionWidth,disableKeyboardA11y:D})})))),k):null};cx.displayName="EdgeRenderer";var JP=U.memo(cx);const e5=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function t5({children:t}){const e=_n(e5);return ye.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function n5(t){const e=Sf(),n=U.useRef(!1);U.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const r5={[ze.Left]:ze.Right,[ze.Right]:ze.Left,[ze.Top]:ze.Bottom,[ze.Bottom]:ze.Top},hx=({nodeId:t,handleType:e,style:n,type:r=Za.Bezier,CustomComponent:s,connectionStatus:o})=>{const{fromNode:u,handleId:c,toX:f,toY:d,connectionMode:m}=_n(U.useCallback(G=>({fromNode:G.nodeInternals.get(t),handleId:G.connectionHandleId,toX:(G.connectionPosition.x-G.transform[0])/G.transform[2],toY:(G.connectionPosition.y-G.transform[1])/G.transform[2],connectionMode:G.connectionMode}),[t]),Nr),E=u?.[wn]?.handleBounds;let _=E?.[e];if(m===po.Loose&&(_=_||E?.[e==="source"?"target":"source"]),!u||!_)return null;const b=c?_.find(G=>G.id===c):_[0],w=b?b.x+b.width/2:(u.width??0)/2,x=b?b.y+b.height/2:u.height??0,k=(u.positionAbsolute?.x??0)+w,D=(u.positionAbsolute?.y??0)+x,z=b?.position,Y=z?r5[z]:null;if(!z||!Y)return null;if(s)return ye.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:b,fromX:k,fromY:D,toX:f,toY:d,fromPosition:z,toPosition:Y,connectionStatus:o});let j="";const Z={sourceX:k,sourceY:D,sourcePosition:z,targetX:f,targetY:d,targetPosition:Y};return r===Za.Bezier?[j]=LI(Z):r===Za.Step?[j]=Cy({...Z,borderRadius:0}):r===Za.SmoothStep?[j]=Cy(Z):r===Za.SimpleBezier?[j]=kI(Z):j=`M${k},${D} ${f},${d}`,ye.createElement("path",{d:j,fill:"none",className:"react-flow__connection-path",style:n})};hx.displayName="ConnectionLine";const i5=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function s5({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:o,nodesConnectable:u,width:c,height:f,connectionStatus:d}=_n(i5,Nr);return!(s&&o&&c&&u)?null:ye.createElement("svg",{style:t,width:c,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},ye.createElement("g",{className:Yr(["react-flow__connection",d])},ye.createElement(hx,{nodeId:s,handleType:o,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function DA(t,e){return U.useRef(null),lr(),U.useMemo(()=>e(t),[t])}const fx=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:o,onNodeClick:u,onEdgeClick:c,onNodeDoubleClick:f,onEdgeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:b,onSelectionContextMenu:w,onSelectionStart:x,onSelectionEnd:k,connectionLineType:D,connectionLineStyle:z,connectionLineComponent:Y,connectionLineContainerStyle:j,selectionKeyCode:Z,selectionOnDrag:G,selectionMode:R,multiSelectionKeyCode:N,panActivationKeyCode:O,zoomActivationKeyCode:M,deleteKeyCode:B,onlyRenderVisibleElements:V,elementsSelectable:C,selectNodesOnDrag:L,defaultViewport:K,translateExtent:H,minZoom:Q,maxZoom:re,preventScrolling:ie,defaultMarkerColor:S,zoomOnScroll:ee,zoomOnPinch:oe,panOnScroll:P,panOnScrollSpeed:pe,panOnScrollMode:xe,zoomOnDoubleClick:Ie,panOnDrag:Fe,onPaneClick:Se,onPaneMouseEnter:Le,onPaneMouseMove:Pe,onPaneMouseLeave:Qe,onPaneScroll:Rt,onPaneContextMenu:Ot,onEdgeContextMenu:Dt,onEdgeMouseEnter:Ge,onEdgeMouseMove:cn,onEdgeMouseLeave:Ke,onReconnect:qe,onReconnectStart:nn,onReconnectEnd:Cn,reconnectRadius:In,noDragClassName:Ln,noWheelClassName:xn,noPanClassName:dn,elevateEdgesOnSelect:zn,disableKeyboardA11y:ae,nodeOrigin:Te,nodeExtent:Ue,rfId:Ye})=>{const lt=DA(t,kP),vt=DA(e,HP);return n5(o),ye.createElement(OP,{onPaneClick:Se,onPaneMouseEnter:Le,onPaneMouseMove:Pe,onPaneMouseLeave:Qe,onPaneContextMenu:Ot,onPaneScroll:Rt,deleteKeyCode:B,selectionKeyCode:Z,selectionOnDrag:G,selectionMode:R,onSelectionStart:x,onSelectionEnd:k,multiSelectionKeyCode:N,panActivationKeyCode:O,zoomActivationKeyCode:M,elementsSelectable:C,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:ee,zoomOnPinch:oe,zoomOnDoubleClick:Ie,panOnScroll:P,panOnScrollSpeed:pe,panOnScrollMode:xe,panOnDrag:Fe,defaultViewport:K,translateExtent:H,minZoom:Q,maxZoom:re,onSelectionContextMenu:w,preventScrolling:ie,noDragClassName:Ln,noWheelClassName:xn,noPanClassName:dn,disableKeyboardA11y:ae},ye.createElement(t5,null,ye.createElement(JP,{edgeTypes:vt,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:V,onEdgeContextMenu:Dt,onEdgeMouseEnter:Ge,onEdgeMouseMove:cn,onEdgeMouseLeave:Ke,onReconnect:qe,onReconnectStart:nn,onReconnectEnd:Cn,reconnectRadius:In,defaultMarkerColor:S,noPanClassName:dn,elevateEdgesOnSelect:!!zn,disableKeyboardA11y:ae,rfId:Ye},ye.createElement(s5,{style:z,type:D,component:Y,containerStyle:j})),ye.createElement("div",{className:"react-flow__edgelabel-renderer"}),ye.createElement(PP,{nodeTypes:lt,onNodeClick:u,onNodeDoubleClick:f,onNodeMouseEnter:m,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:b,selectNodesOnDrag:L,onlyRenderVisibleElements:V,noPanClassName:dn,noDragClassName:Ln,disableKeyboardA11y:ae,nodeOrigin:Te,nodeExtent:Ue,rfId:Ye})))};fx.displayName="GraphView";var a5=U.memo(fx);const Oy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Oy,nodeExtent:Oy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:po.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:LM,isValidConnection:void 0},o5=()=>$6((t,e)=>({...qa,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:o}=e();t({nodeInternals:bE(n,r,s,o)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",o=typeof r<"u",u=s?bE(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:o?r:[],hasDefaultNodes:s,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:o,fitViewOnInitDone:u,fitViewOnInitOptions:c,domNode:f,nodeOrigin:d}=e(),m=f?.querySelector(".react-flow__viewport");if(!m)return;const E=window.getComputedStyle(m),{m22:_}=new window.DOMMatrixReadOnly(E.transform),b=n.reduce((x,k)=>{const D=s.get(k.id);if(D?.hidden)s.set(D.id,{...D,[wn]:{...D[wn],handleBounds:void 0}});else if(D){const z=M_(k.nodeElement);!!(z.width&&z.height&&(D.width!==z.width||D.height!==z.height||k.forceUpdate))&&(s.set(D.id,{...D,[wn]:{...D[wn],handleBounds:{source:wA(".source",k.nodeElement,_,d),target:wA(".target",k.nodeElement,_,d)}},...z}),x.push({id:D.id,type:"dimensions",dimensions:z}))}return x},[]);ZI(s,d);const w=u||o&&!u&&JI(e,{initial:!0,...c});t({nodeInternals:new Map(s),fitViewOnInitDone:w}),b?.length>0&&r?.(b)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:o}=e(),u=n.map(c=>{const f={id:c.id,type:"position",dragging:s};return r&&(f.positionAbsolute=c.positionAbsolute,f.position=c.position),f});o(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:o,nodeOrigin:u,getNodes:c,elevateNodesOnSelect:f}=e();if(n?.length){if(o){const d=tx(n,c()),m=bE(d,s,u,f);t({nodeInternals:m})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Qa(f,!0)):(u=wl(o(),n),c=wl(s,[])),cm({changedNodes:u,changedEdges:c,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Qa(f,!0)):(u=wl(s,n),c=wl(o(),[])),cm({changedNodes:c,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:o}=e(),u=n||o(),c=r||s,f=u.map(m=>(m.selected=!1,Qa(m.id,!1))),d=c.map(m=>Qa(m.id,!1));cm({changedNodes:f,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),o=r().filter(c=>c.selected).map(c=>Qa(c.id,!1)),u=n.filter(c=>c.selected).map(c=>Qa(c.id,!1));cm({changedNodes:o,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=P_(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:o,d3Zoom:u,d3Selection:c,translateExtent:f}=e();if(!u||!c||!n.x&&!n.y)return!1;const d=ao.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),m=[[0,0],[s,o]],E=u?.constrain()(d,m,f);return u.transform(c,E),r[0]!==E.x||r[1]!==E.y||r[2]!==E.k},cancelConnection:()=>t({connectionNodeId:qa.connectionNodeId,connectionHandleId:qa.connectionHandleId,connectionHandleType:qa.connectionHandleType,connectionStatus:qa.connectionStatus,connectionStartHandle:qa.connectionStartHandle,connectionEndHandle:qa.connectionEndHandle}),reset:()=>t({...qa})}),Object.is),dx=({children:t})=>{const e=U.useRef(null);return e.current||(e.current=o5()),ye.createElement(CM,{value:e.current},t)};dx.displayName="ReactFlowProvider";const mx=({children:t})=>U.useContext(Dp)?ye.createElement(ye.Fragment,null,t):ye.createElement(dx,null,t);mx.displayName="ReactFlowWrapper";const u5={input:YI,default:Ny,output:GI,group:q_},l5={default:Jm,straight:H_,step:V_,smoothstep:kp,simplebezier:U_},c5=[0,0],h5=[15,15],f5={x:0,y:0,zoom:1},d5={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},px=U.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o=u5,edgeTypes:u=l5,onNodeClick:c,onEdgeClick:f,onInit:d,onMove:m,onMoveStart:E,onMoveEnd:_,onConnect:b,onConnectStart:w,onConnectEnd:x,onClickConnectStart:k,onClickConnectEnd:D,onNodeMouseEnter:z,onNodeMouseMove:Y,onNodeMouseLeave:j,onNodeContextMenu:Z,onNodeDoubleClick:G,onNodeDragStart:R,onNodeDrag:N,onNodeDragStop:O,onNodesDelete:M,onEdgesDelete:B,onSelectionChange:V,onSelectionDragStart:C,onSelectionDrag:L,onSelectionDragStop:K,onSelectionContextMenu:H,onSelectionStart:Q,onSelectionEnd:re,connectionMode:ie=po.Strict,connectionLineType:S=Za.Bezier,connectionLineStyle:ee,connectionLineComponent:oe,connectionLineContainerStyle:P,deleteKeyCode:pe="Backspace",selectionKeyCode:xe="Shift",selectionOnDrag:Ie=!1,selectionMode:Fe=nf.Full,panActivationKeyCode:Se="Space",multiSelectionKeyCode:Le=Zm()?"Meta":"Control",zoomActivationKeyCode:Pe=Zm()?"Meta":"Control",snapToGrid:Qe=!1,snapGrid:Rt=h5,onlyRenderVisibleElements:Ot=!1,selectNodesOnDrag:Dt=!0,nodesDraggable:Ge,nodesConnectable:cn,nodesFocusable:Ke,nodeOrigin:qe=c5,edgesFocusable:nn,edgesUpdatable:Cn,elementsSelectable:In,defaultViewport:Ln=f5,minZoom:xn=.5,maxZoom:dn=2,translateExtent:zn=Oy,preventScrolling:ae=!0,nodeExtent:Te,defaultMarkerColor:Ue="#b1b1b7",zoomOnScroll:Ye=!0,zoomOnPinch:lt=!0,panOnScroll:vt=!1,panOnScrollSpeed:jt=.5,panOnScrollMode:qt=iu.Free,zoomOnDoubleClick:Yt=!0,panOnDrag:St=!0,onPaneClick:ct,onPaneMouseEnter:en,onPaneMouseMove:Xt,onPaneMouseLeave:$i,onPaneScroll:br,onPaneContextMenu:jn,children:kr,onEdgeContextMenu:vr,onEdgeDoubleClick:$r,onEdgeMouseEnter:Bs,onEdgeMouseMove:ii,onEdgeMouseLeave:Gi,onEdgeUpdate:Lr,onEdgeUpdateStart:si,onEdgeUpdateEnd:Qt,onReconnect:Bt,onReconnectStart:mn,onReconnectEnd:bn,reconnectRadius:us=10,edgeUpdaterRadius:Io=10,onNodesChange:Mr,onEdgesChange:ls,noDragClassName:Si="nodrag",noWheelClassName:ai="nowheel",noPanClassName:Pr="nopan",fitView:Zn=!1,fitViewOptions:Br,connectOnClick:qn=!0,attributionPosition:ne,proOptions:ge,defaultEdgeOptions:Oe,elevateNodesOnSelect:Be=!0,elevateEdgesOnSelect:gt=!1,disableKeyboardA11y:it=!1,autoPanOnConnect:$t=!0,autoPanOnNodeDrag:Ut=!0,connectionRadius:Jn=20,isValidConnection:Vt,onError:kt,style:Ht,id:Mn,nodeDragThreshold:vn,...Nn},Ur)=>{const Vr=Mn||"1";return ye.createElement("div",{...Nn,style:{...Ht,...d5},ref:Ur,className:Yr(["react-flow",s]),"data-testid":"rf__wrapper",id:Mn},ye.createElement(mx,null,ye.createElement(a5,{onInit:d,onMove:m,onMoveStart:E,onMoveEnd:_,onNodeClick:c,onEdgeClick:f,onNodeMouseEnter:z,onNodeMouseMove:Y,onNodeMouseLeave:j,onNodeContextMenu:Z,onNodeDoubleClick:G,nodeTypes:o,edgeTypes:u,connectionLineType:S,connectionLineStyle:ee,connectionLineComponent:oe,connectionLineContainerStyle:P,selectionKeyCode:xe,selectionOnDrag:Ie,selectionMode:Fe,deleteKeyCode:pe,multiSelectionKeyCode:Le,panActivationKeyCode:Se,zoomActivationKeyCode:Pe,onlyRenderVisibleElements:Ot,selectNodesOnDrag:Dt,defaultViewport:Ln,translateExtent:zn,minZoom:xn,maxZoom:dn,preventScrolling:ae,zoomOnScroll:Ye,zoomOnPinch:lt,zoomOnDoubleClick:Yt,panOnScroll:vt,panOnScrollSpeed:jt,panOnScrollMode:qt,panOnDrag:St,onPaneClick:ct,onPaneMouseEnter:en,onPaneMouseMove:Xt,onPaneMouseLeave:$i,onPaneScroll:br,onPaneContextMenu:jn,onSelectionContextMenu:H,onSelectionStart:Q,onSelectionEnd:re,onEdgeContextMenu:vr,onEdgeDoubleClick:$r,onEdgeMouseEnter:Bs,onEdgeMouseMove:ii,onEdgeMouseLeave:Gi,onReconnect:Bt??Lr,onReconnectStart:mn??si,onReconnectEnd:bn??Qt,reconnectRadius:us??Io,defaultMarkerColor:Ue,noDragClassName:Si,noWheelClassName:ai,noPanClassName:Pr,elevateEdgesOnSelect:gt,rfId:Vr,disableKeyboardA11y:it,nodeOrigin:qe,nodeExtent:Te}),ye.createElement(rP,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:w,onConnectEnd:x,onClickConnectStart:k,onClickConnectEnd:D,nodesDraggable:Ge,nodesConnectable:cn,nodesFocusable:Ke,edgesFocusable:nn,edgesUpdatable:Cn,elementsSelectable:In,elevateNodesOnSelect:Be,minZoom:xn,maxZoom:dn,nodeExtent:Te,onNodesChange:Mr,onEdgesChange:ls,snapToGrid:Qe,snapGrid:Rt,connectionMode:ie,translateExtent:zn,connectOnClick:qn,defaultEdgeOptions:Oe,fitView:Zn,fitViewOptions:Br,onNodesDelete:M,onEdgesDelete:B,onNodeDragStart:R,onNodeDrag:N,onNodeDragStop:O,onSelectionDrag:L,onSelectionDragStart:C,onSelectionDragStop:K,noPanClassName:Pr,nodeOrigin:qe,rfId:Vr,autoPanOnConnect:$t,autoPanOnNodeDrag:Ut,onError:kt,connectionRadius:Jn,isValidConnection:Vt,nodeDragThreshold:vn}),ye.createElement(tP,{onSelectionChange:V}),kr,ye.createElement(xM,{proOptions:ge,position:ne}),ye.createElement(uP,{rfId:Vr,disableKeyboardA11y:it})))});px.displayName="ReactFlow";function gx(t){return e=>{const[n,r]=U.useState(e),s=U.useCallback(o=>r(u=>t(o,u)),[]);return[n,r,s]}}const m5=gx(tx),p5=gx(vP);function g5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ye.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function E5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ye.createElement("path",{d:"M0 0h32v4.2H0z"}))}function y5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ye.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function _5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ye.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function T5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ye.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ih=({children:t,className:e,...n})=>ye.createElement("button",{type:"button",className:Yr(["react-flow__controls-button",e]),...n},t);Ih.displayName="ControlButton";const b5=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Ex=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:u,onFitView:c,onInteractiveChange:f,className:d,children:m,position:E="bottom-left"})=>{const _=lr(),[b,w]=U.useState(!1),{isInteractive:x,minZoomReached:k,maxZoomReached:D}=_n(b5,Nr),{zoomIn:z,zoomOut:Y,fitView:j}=Sf();if(U.useEffect(()=>{w(!0)},[]),!b)return null;const Z=()=>{z(),o?.()},G=()=>{Y(),u?.()},R=()=>{j(s),c?.()},N=()=>{_.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),f?.(!x)};return ye.createElement(CI,{className:Yr(["react-flow__controls",d]),position:E,style:t,"data-testid":"rf__controls"},e&&ye.createElement(ye.Fragment,null,ye.createElement(Ih,{onClick:Z,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:D},ye.createElement(g5,null)),ye.createElement(Ih,{onClick:G,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k},ye.createElement(E5,null))),n&&ye.createElement(Ih,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},ye.createElement(y5,null)),r&&ye.createElement(Ih,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity"},x?ye.createElement(T5,null):ye.createElement(_5,null)),m)};Ex.displayName="Controls";var v5=U.memo(Ex),qi;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(qi||(qi={}));function S5({color:t,dimensions:e,lineWidth:n}){return ye.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function A5({color:t,radius:e}){return ye.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const w5={[qi.Dots]:"#91919a",[qi.Lines]:"#eee",[qi.Cross]:"#e2e2e2"},C5={[qi.Dots]:1,[qi.Lines]:1,[qi.Cross]:6},I5=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function yx({id:t,variant:e=qi.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=2,color:u,style:c,className:f}){const d=U.useRef(null),{transform:m,patternId:E}=_n(I5,Nr),_=u||w5[e],b=r||C5[e],w=e===qi.Dots,x=e===qi.Cross,k=Array.isArray(n)?n:[n,n],D=[k[0]*m[2]||1,k[1]*m[2]||1],z=b*m[2],Y=x?[z,z]:D,j=w?[z/o,z/o]:[Y[0]/o,Y[1]/o];return ye.createElement("svg",{className:Yr(["react-flow__background",f]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},ye.createElement("pattern",{id:E+t,x:m[0]%D[0],y:m[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`},w?ye.createElement(A5,{color:_,radius:z/o}):ye.createElement(S5,{dimensions:Y,color:_,lineWidth:s})),ye.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E+t})`}))}yx.displayName="Background";var x5=U.memo(yx);function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(null,arguments)}var ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kA,LA={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var wE,MA,PA,N5=(kA||(kA=1,wE=LA,function(){var t={}.hasOwnProperty;function e(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var u=e.apply(null,s);u&&n.push(u)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var c in s)t.call(s,c)&&s[c]&&n.push(c);else n.push(s.toString())}}return n.join(" ")}wE.exports?(e.default=e,wE.exports=e):window.classNames=e}()),LA.exports),Dy=Af(N5),BA,Ji=Af(function(){if(PA)return MA;PA=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o=Object.prototype.toString;function u(f){var d=typeof f;return!!f&&(d=="object"||d=="function")}function c(f){if(typeof f=="number")return f;if(function(E){return typeof E=="symbol"||function(_){return!!_&&typeof _=="object"}(E)&&o.call(E)=="[object Symbol]"}(f))return NaN;if(u(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=u(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=f.replace(t,"");var m=n.test(f);return m||r.test(f)?s(f.slice(2),m?2:8):e.test(f)?NaN:+f}return MA=function(f,d,m){return m===void 0&&(m=d,d=void 0),m!==void 0&&(m=(m=c(m))==m?m:0),d!==void 0&&(d=(d=c(d))==d?d:0),function(E,_,b){return E==E&&(b!==void 0&&(E=E<=b?E:b),_!==void 0&&(E=E>=_?E:_)),E}(c(f),d,m)}}()),CE={exports:{}},R5=(BA||(BA=1,function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",m="[object Map]",E="[object Number]",_="[object Object]",b="[object Promise]",w="[object RegExp]",x="[object Set]",k="[object String]",D="[object Symbol]",z="[object WeakMap]",Y="[object ArrayBuffer]",j="[object DataView]",Z=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[s]=R[o]=R[Y]=R[u]=R[j]=R[c]=R[f]=R[d]=R[m]=R[E]=R[_]=R[w]=R[x]=R[k]=R[z]=!1;var N=typeof ro=="object"&&ro&&ro.Object===Object&&ro,O=typeof self=="object"&&self&&self.Object===Object&&self,M=N||O||Function("return this")(),B=e&&!e.nodeType&&e,V=B&&t&&!t.nodeType&&t,C=V&&V.exports===B,L=C&&N.process,K=function(){try{return L&&L.binding&&L.binding("util")}catch{}}(),H=K&&K.isTypedArray;function Q(ne,ge){for(var Oe=-1,Be=ne==null?0:ne.length;++Oe<Be;)if(ge(ne[Oe],Oe,ne))return!0;return!1}function re(ne){var ge=-1,Oe=Array(ne.size);return ne.forEach(function(Be,gt){Oe[++ge]=[gt,Be]}),Oe}function ie(ne){var ge=-1,Oe=Array(ne.size);return ne.forEach(function(Be){Oe[++ge]=Be}),Oe}var S,ee,oe,P=Array.prototype,pe=Function.prototype,xe=Object.prototype,Ie=M["__core-js_shared__"],Fe=pe.toString,Se=xe.hasOwnProperty,Le=(S=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",Pe=xe.toString,Qe=RegExp("^"+Fe.call(Se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=C?M.Buffer:void 0,Ot=M.Symbol,Dt=M.Uint8Array,Ge=xe.propertyIsEnumerable,cn=P.splice,Ke=Ot?Ot.toStringTag:void 0,qe=Object.getOwnPropertySymbols,nn=Rt?Rt.isBuffer:void 0,Cn=(ee=Object.keys,oe=Object,function(ne){return ee(oe(ne))}),In=si(M,"DataView"),Ln=si(M,"Map"),xn=si(M,"Promise"),dn=si(M,"Set"),zn=si(M,"WeakMap"),ae=si(Object,"create"),Te=bn(In),Ue=bn(Ln),Ye=bn(xn),lt=bn(dn),vt=bn(zn),jt=Ot?Ot.prototype:void 0,qt=jt?jt.valueOf:void 0;function Yt(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.clear();++ge<Oe;){var Be=ne[ge];this.set(Be[0],Be[1])}}function St(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.clear();++ge<Oe;){var Be=ne[ge];this.set(Be[0],Be[1])}}function ct(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.clear();++ge<Oe;){var Be=ne[ge];this.set(Be[0],Be[1])}}function en(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.__data__=new ct;++ge<Oe;)this.add(ne[ge])}function Xt(ne){var ge=this.__data__=new St(ne);this.size=ge.size}function $i(ne,ge){var Oe=Mr(ne),Be=!Oe&&Io(ne),gt=!Oe&&!Be&&ls(ne),it=!Oe&&!Be&&!gt&&Br(ne),$t=Oe||Be||gt||it,Ut=$t?function(kt,Ht){for(var Mn=-1,vn=Array(kt);++Mn<kt;)vn[Mn]=Ht(Mn);return vn}(ne.length,String):[],Jn=Ut.length;for(var Vt in ne)!Se.call(ne,Vt)||$t&&(Vt=="length"||gt&&(Vt=="offset"||Vt=="parent")||it&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||mn(Vt,Jn))||Ut.push(Vt);return Ut}function br(ne,ge){for(var Oe=ne.length;Oe--;)if(us(ne[Oe][0],ge))return Oe;return-1}function jn(ne){return ne==null?ne===void 0?"[object Undefined]":"[object Null]":Ke&&Ke in Object(ne)?function(ge){var Oe=Se.call(ge,Ke),Be=ge[Ke];try{ge[Ke]=void 0;var gt=!0}catch{}var it=Pe.call(ge);return gt&&(Oe?ge[Ke]=Be:delete ge[Ke]),it}(ne):function(ge){return Pe.call(ge)}(ne)}function kr(ne){return Zn(ne)&&jn(ne)==s}function vr(ne,ge,Oe,Be,gt){return ne===ge||(ne==null||ge==null||!Zn(ne)&&!Zn(ge)?ne!=ne&&ge!=ge:function(it,$t,Ut,Jn,Vt,kt){var Ht=Mr(it),Mn=Mr($t),vn=Ht?o:Bt(it),Nn=Mn?o:Bt($t),Ur=(vn=vn==s?_:vn)==_,Vr=(Nn=Nn==s?_:Nn)==_,Ai=vn==Nn;if(Ai&&ls(it)){if(!ls($t))return!1;Ht=!0,Ur=!1}if(Ai&&!Ur)return kt||(kt=new Xt),Ht||Br(it)?ii(it,$t,Ut,Jn,Vt,kt):function(At,bt,Ci,Ii,pn,rn,cr){switch(Ci){case j:if(At.byteLength!=bt.byteLength||At.byteOffset!=bt.byteOffset)return!1;At=At.buffer,bt=bt.buffer;case Y:return!(At.byteLength!=bt.byteLength||!rn(new Dt(At),new Dt(bt)));case u:case c:case E:return us(+At,+bt);case f:return At.name==bt.name&&At.message==bt.message;case w:case k:return At==bt+"";case m:var hr=re;case x:var Hr=1&Ii;if(hr||(hr=ie),At.size!=bt.size&&!Hr)return!1;var Nt=cr.get(At);if(Nt)return Nt==bt;Ii|=2,cr.set(At,bt);var Ki=ii(hr(At),hr(bt),Ii,pn,rn,cr);return cr.delete(At),Ki;case D:if(qt)return qt.call(At)==qt.call(bt)}return!1}(it,$t,vn,Ut,Jn,Vt,kt);if(!(1&Ut)){var wi=Ur&&Se.call(it,"__wrapped__"),er=Vr&&Se.call($t,"__wrapped__");if(wi||er){var xo=wi?it.value():it,gc=er?$t.value():$t;return kt||(kt=new Xt),Vt(xo,gc,Ut,Jn,kt)}}return!!Ai&&(kt||(kt=new Xt),function(At,bt,Ci,Ii,pn,rn){var cr=1&Ci,hr=Gi(At),Hr=hr.length,Nt=Gi(bt),Ki=Nt.length;if(Hr!=Ki&&!cr)return!1;for(var fr=Hr;fr--;){var Fr=hr[fr];if(!(cr?Fr in bt:Se.call(bt,Fr)))return!1}var No=rn.get(At);if(No&&rn.get(bt))return No==bt;var cs=!0;rn.set(At,bt),rn.set(bt,At);for(var Us=cr;++fr<Hr;){var Ta=At[Fr=hr[fr]],ba=bt[Fr];if(Ii)var Vs=cr?Ii(ba,Ta,Fr,bt,At,rn):Ii(Ta,ba,Fr,At,bt,rn);if(!(Vs===void 0?Ta===ba||pn(Ta,ba,Ci,Ii,rn):Vs)){cs=!1;break}Us||(Us=Fr=="constructor")}if(cs&&!Us){var Gr=At.constructor,dr=bt.constructor;Gr==dr||!("constructor"in At)||!("constructor"in bt)||typeof Gr=="function"&&Gr instanceof Gr&&typeof dr=="function"&&dr instanceof dr||(cs=!1)}return rn.delete(At),rn.delete(bt),cs}(it,$t,Ut,Jn,Vt,kt))}(ne,ge,Oe,Be,vr,gt))}function $r(ne){return!(!Pr(ne)||function(ge){return!!Le&&Le in ge}(ne))&&(Si(ne)?Qe:Z).test(bn(ne))}function Bs(ne){if(Oe=(ge=ne)&&ge.constructor,Be=typeof Oe=="function"&&Oe.prototype||xe,ge!==Be)return Cn(ne);var ge,Oe,Be,gt=[];for(var it in Object(ne))Se.call(ne,it)&&it!="constructor"&&gt.push(it);return gt}function ii(ne,ge,Oe,Be,gt,it){var $t=1&Oe,Ut=ne.length,Jn=ge.length;if(Ut!=Jn&&!($t&&Jn>Ut))return!1;var Vt=it.get(ne);if(Vt&&it.get(ge))return Vt==ge;var kt=-1,Ht=!0,Mn=2&Oe?new en:void 0;for(it.set(ne,ge),it.set(ge,ne);++kt<Ut;){var vn=ne[kt],Nn=ge[kt];if(Be)var Ur=$t?Be(Nn,vn,kt,ge,ne,it):Be(vn,Nn,kt,ne,ge,it);if(Ur!==void 0){if(Ur)continue;Ht=!1;break}if(Mn){if(!Q(ge,function(Vr,Ai){if(wi=Ai,!Mn.has(wi)&&(vn===Vr||gt(vn,Vr,Oe,Be,it)))return Mn.push(Ai);var wi})){Ht=!1;break}}else if(vn!==Nn&&!gt(vn,Nn,Oe,Be,it)){Ht=!1;break}}return it.delete(ne),it.delete(ge),Ht}function Gi(ne){return function(ge,Oe,Be){var gt=Oe(ge);return Mr(ge)?gt:function(it,$t){for(var Ut=-1,Jn=$t.length,Vt=it.length;++Ut<Jn;)it[Vt+Ut]=$t[Ut];return it}(gt,Be(ge))}(ne,qn,Qt)}function Lr(ne,ge){var Oe,Be,gt=ne.__data__;return((Be=typeof(Oe=ge))=="string"||Be=="number"||Be=="symbol"||Be=="boolean"?Oe!=="__proto__":Oe===null)?gt[typeof ge=="string"?"string":"hash"]:gt.map}function si(ne,ge){var Oe=function(Be,gt){return Be?.[gt]}(ne,ge);return $r(Oe)?Oe:void 0}Yt.prototype.clear=function(){this.__data__=ae?ae(null):{},this.size=0},Yt.prototype.delete=function(ne){var ge=this.has(ne)&&delete this.__data__[ne];return this.size-=ge?1:0,ge},Yt.prototype.get=function(ne){var ge=this.__data__;if(ae){var Oe=ge[ne];return Oe===n?void 0:Oe}return Se.call(ge,ne)?ge[ne]:void 0},Yt.prototype.has=function(ne){var ge=this.__data__;return ae?ge[ne]!==void 0:Se.call(ge,ne)},Yt.prototype.set=function(ne,ge){var Oe=this.__data__;return this.size+=this.has(ne)?0:1,Oe[ne]=ae&&ge===void 0?n:ge,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(ne){var ge=this.__data__,Oe=br(ge,ne);return!(Oe<0||(Oe==ge.length-1?ge.pop():cn.call(ge,Oe,1),--this.size,0))},St.prototype.get=function(ne){var ge=this.__data__,Oe=br(ge,ne);return Oe<0?void 0:ge[Oe][1]},St.prototype.has=function(ne){return br(this.__data__,ne)>-1},St.prototype.set=function(ne,ge){var Oe=this.__data__,Be=br(Oe,ne);return Be<0?(++this.size,Oe.push([ne,ge])):Oe[Be][1]=ge,this},ct.prototype.clear=function(){this.size=0,this.__data__={hash:new Yt,map:new(Ln||St),string:new Yt}},ct.prototype.delete=function(ne){var ge=Lr(this,ne).delete(ne);return this.size-=ge?1:0,ge},ct.prototype.get=function(ne){return Lr(this,ne).get(ne)},ct.prototype.has=function(ne){return Lr(this,ne).has(ne)},ct.prototype.set=function(ne,ge){var Oe=Lr(this,ne),Be=Oe.size;return Oe.set(ne,ge),this.size+=Oe.size==Be?0:1,this},en.prototype.add=en.prototype.push=function(ne){return this.__data__.set(ne,n),this},en.prototype.has=function(ne){return this.__data__.has(ne)},Xt.prototype.clear=function(){this.__data__=new St,this.size=0},Xt.prototype.delete=function(ne){var ge=this.__data__,Oe=ge.delete(ne);return this.size=ge.size,Oe},Xt.prototype.get=function(ne){return this.__data__.get(ne)},Xt.prototype.has=function(ne){return this.__data__.has(ne)},Xt.prototype.set=function(ne,ge){var Oe=this.__data__;if(Oe instanceof St){var Be=Oe.__data__;if(!Ln||Be.length<199)return Be.push([ne,ge]),this.size=++Oe.size,this;Oe=this.__data__=new ct(Be)}return Oe.set(ne,ge),this.size=Oe.size,this};var Qt=qe?function(ne){return ne==null?[]:(ne=Object(ne),function(ge,Oe){for(var Be=-1,gt=ge==null?0:ge.length,it=0,$t=[];++Be<gt;){var Ut=ge[Be];Oe(Ut,Be,ge)&&($t[it++]=Ut)}return $t}(qe(ne),function(ge){return Ge.call(ne,ge)}))}:function(){return[]},Bt=jn;function mn(ne,ge){return!!(ge=ge??r)&&(typeof ne=="number"||G.test(ne))&&ne>-1&&ne%1==0&&ne<ge}function bn(ne){if(ne!=null){try{return Fe.call(ne)}catch{}try{return ne+""}catch{}}return""}function us(ne,ge){return ne===ge||ne!=ne&&ge!=ge}(In&&Bt(new In(new ArrayBuffer(1)))!=j||Ln&&Bt(new Ln)!=m||xn&&Bt(xn.resolve())!=b||dn&&Bt(new dn)!=x||zn&&Bt(new zn)!=z)&&(Bt=function(ne){var ge=jn(ne),Oe=ge==_?ne.constructor:void 0,Be=Oe?bn(Oe):"";if(Be)switch(Be){case Te:return j;case Ue:return m;case Ye:return b;case lt:return x;case vt:return z}return ge});var Io=kr(function(){return arguments}())?kr:function(ne){return Zn(ne)&&Se.call(ne,"callee")&&!Ge.call(ne,"callee")},Mr=Array.isArray,ls=nn||function(){return!1};function Si(ne){if(!Pr(ne))return!1;var ge=jn(ne);return ge==d||ge=="[object GeneratorFunction]"||ge=="[object AsyncFunction]"||ge=="[object Proxy]"}function ai(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=r}function Pr(ne){var ge=typeof ne;return ne!=null&&(ge=="object"||ge=="function")}function Zn(ne){return ne!=null&&typeof ne=="object"}var Br=H?function(ne){return function(ge){return ne(ge)}}(H):function(ne){return Zn(ne)&&ai(ne.length)&&!!R[jn(ne)]};function qn(ne){return(ge=ne)!=null&&ai(ge.length)&&!Si(ge)?$i(ne):Bs(ne);var ge}t.exports=function(ne,ge){return vr(ne,ge)}}(CE,CE.exports)),CE.exports),O5=Af(R5);function UA(t,e,n){return t[e]?t[e][0]?t[e][0][n]:t[e][n]:e==="contentBoxSize"?t.contentRect[n==="inlineSize"?"width":"height"]:void 0}function D5(t){t===void 0&&(t={});var e=t.onResize,n=U.useRef(void 0);n.current=e;var r=t.round||Math.round,s=U.useRef(),o=U.useState({width:void 0,height:void 0}),u=o[0],c=o[1],f=U.useRef(!1);U.useEffect(function(){return f.current=!1,function(){f.current=!0}},[]);var d=U.useRef({width:void 0,height:void 0}),m=function(E,_){var b=U.useRef(null),w=U.useRef(null);w.current=_;var x=U.useRef(null);U.useEffect(function(){k()});var k=U.useCallback(function(){var D=x.current,z=w.current,Y=D||(z?z instanceof Element?z:z.current:null);b.current&&b.current.element===Y&&b.current.subscriber===E||(b.current&&b.current.cleanup&&b.current.cleanup(),b.current={element:Y,subscriber:E,cleanup:Y?E(Y):void 0})},[E]);return U.useEffect(function(){return function(){b.current&&b.current.cleanup&&(b.current.cleanup(),b.current=null)}},[]),U.useCallback(function(D){x.current=D,k()},[k])}(U.useCallback(function(E){return s.current&&s.current.box===t.box&&s.current.round===r||(s.current={box:t.box,round:r,instance:new ResizeObserver(function(_){var b=_[0],w=t.box==="border-box"?"borderBoxSize":t.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",x=UA(b,w,"inlineSize"),k=UA(b,w,"blockSize"),D=x?r(x):void 0,z=k?r(k):void 0;if(d.current.width!==D||d.current.height!==z){var Y={width:D,height:z};d.current.width=D,d.current.height=z,n.current?n.current(Y):f.current||c(Y)}})}),s.current.instance.observe(E,{box:t.box}),function(){s.current&&s.current.instance.unobserve(E)}},[t.box,r]),t.ref);return U.useMemo(function(){return{ref:m,width:u.width,height:u.height}},[m,u.width,u.height])}var k5="allotment-module_splitView__L-yRc",L5="allotment-module_sashContainer__fzwJF",M5="allotment-module_splitViewContainer__rQnVa",_x="allotment-module_splitViewView__MGZ6O",P5="allotment-module_vertical__WSwwa",B5="allotment-module_horizontal__7doS8",U5="allotment-module_separatorBorder__x-rDS";let Eh,Tx=!1,bx=!1;typeof navigator=="object"&&(Eh=navigator.userAgent,bx=Eh.indexOf("Macintosh")>=0,Tx=(Eh.indexOf("Macintosh")>=0||Eh.indexOf("iPad")>=0||Eh.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const vx=Tx,V5=bx,VA=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?U.useLayoutEffect:U.useEffect;let H5=class{constructor(){this._size=void 0}getSize(){return this._size}setSize(e){this._size=e}};function fm(t,e){const n=t.length,r=n-e.length;return r>=0&&t.slice(r,n)===e}var HA,FA={exports:{}},zA,jA,F5=(HA||(HA=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function s(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function o(f,d,m,E,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new s(m,E||f,_),w=n?n+d:d;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],b]:f._events[w].push(b):(f._events[w]=b,f._eventsCount++),f}function u(f,d){--f._eventsCount==0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),c.prototype.eventNames=function(){var f,d,m=[];if(this._eventsCount===0)return m;for(d in f=this._events)e.call(f,d)&&m.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},c.prototype.listeners=function(f){var d=n?n+f:f,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var E=0,_=m.length,b=new Array(_);E<_;E++)b[E]=m[E].fn;return b},c.prototype.listenerCount=function(f){var d=n?n+f:f,m=this._events[d];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,d,m,E,_,b){var w=n?n+f:f;if(!this._events[w])return!1;var x,k,D=this._events[w],z=arguments.length;if(D.fn){switch(D.once&&this.removeListener(f,D.fn,void 0,!0),z){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,d),!0;case 3:return D.fn.call(D.context,d,m),!0;case 4:return D.fn.call(D.context,d,m,E),!0;case 5:return D.fn.call(D.context,d,m,E,_),!0;case 6:return D.fn.call(D.context,d,m,E,_,b),!0}for(k=1,x=new Array(z-1);k<z;k++)x[k-1]=arguments[k];D.fn.apply(D.context,x)}else{var Y,j=D.length;for(k=0;k<j;k++)switch(D[k].once&&this.removeListener(f,D[k].fn,void 0,!0),z){case 1:D[k].fn.call(D[k].context);break;case 2:D[k].fn.call(D[k].context,d);break;case 3:D[k].fn.call(D[k].context,d,m);break;case 4:D[k].fn.call(D[k].context,d,m,E);break;default:if(!x)for(Y=1,x=new Array(z-1);Y<z;Y++)x[Y-1]=arguments[Y];D[k].fn.apply(D[k].context,x)}}return!0},c.prototype.on=function(f,d,m){return o(this,f,d,m,!1)},c.prototype.once=function(f,d,m){return o(this,f,d,m,!0)},c.prototype.removeListener=function(f,d,m,E){var _=n?n+f:f;if(!this._events[_])return this;if(!d)return u(this,_),this;var b=this._events[_];if(b.fn)b.fn!==d||E&&!b.once||m&&b.context!==m||u(this,_);else{for(var w=0,x=[],k=b.length;w<k;w++)(b[w].fn!==d||E&&!b[w].once||m&&b[w].context!==m)&&x.push(b[w]);x.length?this._events[_]=x.length===1?x[0]:x:u(this,_)}return this},c.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(FA)),FA.exports),$_=Af(F5);function qA(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.unshift(e))}function IE(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.push(e))}function Bi(t,e,n=1){const r=Math.max(0,Math.ceil((e-t)/n)),s=new Array(r);let o=-1;for(;++o<r;)s[o]=t+o*n;return s}var z5=Af(function(){if(jA)return zA;jA=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o=typeof ro=="object"&&ro&&ro.Object===Object&&ro,u=typeof self=="object"&&self&&self.Object===Object&&self,c=o||u||Function("return this")(),f=Object.prototype.toString,d=Math.max,m=Math.min,E=function(){return c.Date.now()};function _(w){var x=typeof w;return!!w&&(x=="object"||x=="function")}function b(w){if(typeof w=="number")return w;if(function(D){return typeof D=="symbol"||function(z){return!!z&&typeof z=="object"}(D)&&f.call(D)=="[object Symbol]"}(w))return NaN;if(_(w)){var x=typeof w.valueOf=="function"?w.valueOf():w;w=_(x)?x+"":x}if(typeof w!="string")return w===0?w:+w;w=w.replace(t,"");var k=n.test(w);return k||r.test(w)?s(w.slice(2),k?2:8):e.test(w)?NaN:+w}return zA=function(w,x,k){var D,z,Y,j,Z,G,R=0,N=!1,O=!1,M=!0;if(typeof w!="function")throw new TypeError("Expected a function");function B(H){var Q=D,re=z;return D=z=void 0,R=H,j=w.apply(re,Q)}function V(H){var Q=H-G;return G===void 0||Q>=x||Q<0||O&&H-R>=Y}function C(){var H=E();if(V(H))return L(H);Z=setTimeout(C,function(Q){var re=x-(Q-G);return O?m(re,Y-(Q-R)):re}(H))}function L(H){return Z=void 0,M&&D?B(H):(D=z=void 0,j)}function K(){var H=E(),Q=V(H);if(D=arguments,z=this,G=H,Q){if(Z===void 0)return function(re){return R=re,Z=setTimeout(C,x),N?B(re):j}(G);if(O)return Z=setTimeout(C,x),B(G)}return Z===void 0&&(Z=setTimeout(C,x)),j}return x=b(x)||0,_(k)&&(N=!!k.leading,Y=(O="maxWait"in k)?d(b(k.maxWait)||0,x):Y,M="trailing"in k?!!k.trailing:M),K.cancel=function(){Z!==void 0&&clearTimeout(Z),R=0,D=G=z=Z=void 0},K.flush=function(){return Z===void 0?j:L(E())},K}}()),j5="sash-module_sash__K-9lB",q5="sash-module_disabled__Hm-wx",Y5="sash-module_mac__Jf6OJ",YA="sash-module_vertical__pB-rs",$5="sash-module_minimum__-UKxp",G5="sash-module_maximum__TCWxD",$A="sash-module_horizontal__kFbiw",xE="sash-module_hover__80W6I",NE="sash-module_active__bJspD";let Vi=function(t){return t.Vertical="VERTICAL",t.Horizontal="HORIZONTAL",t}({}),gi=function(t){return t.Disabled="DISABLED",t.Minimum="MINIMUM",t.Maximum="MAXIMUM",t.Enabled="ENABLED",t}({}),Sx=vx?20:8;const Ax=new $_;class GA extends $_{get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle(q5,e===gi.Disabled),this.el.classList.toggle("sash-disabled",e===gi.Disabled),this.el.classList.toggle($5,e===gi.Minimum),this.el.classList.toggle("sash-minimum",e===gi.Minimum),this.el.classList.toggle(G5,e===gi.Maximum),this.el.classList.toggle("sash-maximum",e===gi.Maximum),this._state=e,this.emit("enablementChange",e))}constructor(e,n,r){var s;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=z5(o=>o.classList.add("sash-hover",xE),this.hoverDelay),this._state=gi.Enabled,this.onPointerStart=o=>{const u=o.pageX,c=o.pageY,f={startX:u,currentX:u,startY:c,currentY:c};this.el.classList.add("sash-active",NE),this.emit("start",f),this.el.setPointerCapture(o.pointerId);const d=E=>{E.preventDefault();const _={startX:u,currentX:E.pageX,startY:c,currentY:E.pageY};this.emit("change",_)},m=E=>{E.preventDefault(),this.el.classList.remove("sash-active",NE),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(E.pointerId),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",m)};window.addEventListener("pointermove",d),window.addEventListener("pointerup",m)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(NE)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",xE)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",xE)},this.el=document.createElement("div"),this.el.classList.add("sash",j5),this.el.dataset.testid="sash",e.append(this.el),V5&&this.el.classList.add("sash-mac",Y5),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof r.size=="number"?(this.size=r.size,r.orientation===Vi.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=Sx,Ax.on("onDidChangeGlobalSize",o=>{this.size=o,this.layout()})),this.layoutProvider=n,this.orientation=(s=r.orientation)!=null?s:Vi.Vertical,this.orientation===Vi.Horizontal?(this.el.classList.add("sash-horizontal",$A),this.el.classList.remove("sash-vertical",YA)):(this.el.classList.remove("sash-horizontal",$A),this.el.classList.add("sash-vertical",YA)),this.layout()}layout(){if(this.orientation===Vi.Vertical){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}let ep;var RE;(RE=ep||(ep={})).Distribute={type:"distribute"},RE.Split=function(t){return{type:"split",index:t}},RE.Invisible=function(t){return{type:"invisible",cachedVisibleSize:t}};let Ui=function(t){return t.Normal="NORMAL",t.Low="LOW",t.High="HIGH",t}({});class wx{constructor(e,n,r){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=e,this.view=n,this.container.classList.add("split-view-view",_x),this.container.dataset.testid="split-view-view",typeof r=="number"?(this._size=r,this._cachedVisibleSize=void 0,e.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=r.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(e,n){e!==this.visible&&(e?(this.size=Ji(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof n=="number"?n:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e){this.layoutContainer(e),this.view.layout(this.size,e)}}class K5 extends wx{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}class X5 extends wx{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class Q5 extends $_{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,n={},r,s,o){var u,c;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=f=>{this.emit("sashchange",f),this.saveProportions();for(const d of this.viewItems)d.enabled=!0},this.orientation=(u=n.orientation)!=null?u:Vi.Vertical,this.proportionalLayout=(c=n.proportionalLayout)!=null?c:!0,this.getSashOrthogonalSize=n.getSashOrthogonalSize,r&&(this.onDidChange=r),s&&(this.onDidDragStart=s),o&&(this.onDidDragEnd=o),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",L5),e.prepend(this.sashContainer),n.descriptor){this.size=n.descriptor.size;for(const[f,d]of n.descriptor.views.entries()){const m=d.size,E=d.container,_=d.view;this.addView(E,_,m,f,!0)}this.contentSize=this.viewItems.reduce((f,d)=>f+d.size,0),this.saveProportions()}}addView(e,n,r,s=this.viewItems.length,o){let u;u=typeof r=="number"?r:r.type==="split"?this.getViewSize(r.index)/2:r.type==="invisible"?{cachedVisibleSize:r.cachedVisibleSize}:n.minimumSize;const c=this.orientation===Vi.Vertical?new X5(e,n,u):new K5(e,n,u);if(this.viewItems.splice(s,0,c),this.viewItems.length>1){const f=this.orientation===Vi.Vertical?new GA(this.sashContainer,{getHorizontalSashTop:E=>this.getSashPosition(E),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:Vi.Horizontal}):new GA(this.sashContainer,{getVerticalSashLeft:E=>this.getSashPosition(E),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:Vi.Vertical}),d=this.orientation===Vi.Vertical?E=>({sash:f,start:E.startY,current:E.currentY}):E=>({sash:f,start:E.startX,current:E.currentX});f.on("start",E=>{var _;this.emit("sashDragStart"),this.onSashStart(d(E));const b=this.viewItems.map(w=>w.size);(_=this.onDidDragStart)==null||_.call(this,b)}),f.on("change",E=>this.onSashChange(d(E))),f.on("end",()=>{var E;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(b=>b.sash===f));const _=this.viewItems.map(b=>b.size);(E=this.onDidDragEnd)==null||E.call(this,_)}),f.on("reset",()=>{const E=this.sashItems.findIndex(k=>k.sash===f),_=Bi(E,-1,-1),b=Bi(E+1,this.viewItems.length),w=this.findFirstSnapIndex(_),x=this.findFirstSnapIndex(b);(typeof w!="number"||this.viewItems[w].visible)&&(typeof x!="number"||this.viewItems[x].visible)&&this.emit("sashreset",E)});const m={sash:f};this.sashItems.splice(s-1,0,m)}o||this.relayout(),o||typeof r=="number"||r.type!=="distribute"||this.distributeViewSizes()}removeView(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");const r=this.viewItems.splice(e,1)[0].view;if(this.viewItems.length>=1){const s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].sash.dispose()}return this.relayout(),n&&n.type==="distribute"&&this.distributeViewSizes(),r}moveView(e,n,r){const s=this.getViewCachedVisibleSize(n),o=s===void 0?this.getViewSize(n):ep.Invisible(s),u=this.removeView(n);this.addView(e,u,o,r)}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e=this.size){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.proportions)for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r];s.size=Ji(Math.round(this.proportions[r]*e),s.minimumSize,s.maximumSize)}else{const r=Bi(0,this.viewItems.length),s=r.filter(u=>this.viewItems[u].priority===Ui.Low),o=r.filter(u=>this.viewItems[u].priority===Ui.High);this.resize(this.viewItems.length-1,e-n,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}resizeView(e,n){if(e<0||e>=this.viewItems.length)return;const r=Bi(0,this.viewItems.length).filter(c=>c!==e),s=[...r.filter(c=>this.viewItems[c].priority===Ui.Low),e],o=r.filter(c=>this.viewItems[c].priority===Ui.High),u=this.viewItems[e];n=Math.round(n),n=Ji(n,u.minimumSize,Math.min(u.maximumSize,this.size)),u.size=n,this.relayout(s,o)}resizeViews(e){for(let n=0;n<e.length;n++){const r=this.viewItems[n];let s=e[n];s=Math.round(s),s=Ji(s,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=s}this.contentSize=this.viewItems.reduce((n,r)=>n+r.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(n),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const e=[];let n=0;for(const c of this.viewItems)c.maximumSize-c.minimumSize>0&&(e.push(c),n+=c.size);const r=Math.floor(n/e.length);for(const c of e)c.size=Ji(r,c.minimumSize,c.maximumSize);const s=Bi(0,this.viewItems.length),o=s.filter(c=>this.viewItems[c].priority===Ui.Low),u=s.filter(c=>this.viewItems[c].priority===Ui.High);this.relayout(o,u)}dispose(){this.sashItems.forEach(e=>e.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(e,n){const r=this.viewItems.reduce((s,o)=>s+o.size,0);this.resize(this.viewItems.length-1,this.size-r,void 0,e,n),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:e,start:n}){const r=this.sashItems.findIndex(s=>s.sash===e);(s=>{const o=this.viewItems.map(z=>z.size);let u,c,f=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;const m=Bi(r,-1,-1),E=Bi(r+1,this.viewItems.length),_=m.reduce((z,Y)=>z+(this.viewItems[Y].minimumSize-o[Y]),0),b=m.reduce((z,Y)=>z+(this.viewItems[Y].viewMaximumSize-o[Y]),0),w=E.length===0?Number.POSITIVE_INFINITY:E.reduce((z,Y)=>z+(o[Y]-this.viewItems[Y].minimumSize),0),x=E.length===0?Number.NEGATIVE_INFINITY:E.reduce((z,Y)=>z+(o[Y]-this.viewItems[Y].viewMaximumSize),0);f=Math.max(_,x),d=Math.min(w,b);const k=this.findFirstSnapIndex(m),D=this.findFirstSnapIndex(E);if(typeof k=="number"){const z=this.viewItems[k],Y=Math.floor(z.viewMinimumSize/2);u={index:k,limitDelta:z.visible?f-Y:f+Y,size:z.size}}if(typeof D=="number"){const z=this.viewItems[D],Y=Math.floor(z.viewMinimumSize/2);c={index:D,limitDelta:z.visible?d+Y:d-Y,size:z.size}}this.sashDragState={start:s,current:s,index:r,sizes:o,minDelta:f,maxDelta:d,snapBefore:u,snapAfter:c}})(n)}onSashChange({current:e}){const{index:n,start:r,sizes:s,minDelta:o,maxDelta:u,snapBefore:c,snapAfter:f}=this.sashDragState;this.sashDragState.current=e;const d=e-r;this.resize(n,d,s,void 0,void 0,o,u,c,f),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(e){let n=0;for(let r=0;r<this.sashItems.length;r++)if(n+=this.viewItems[r].size,this.sashItems[r].sash===e)return n;return 0}resize(e,n,r=this.viewItems.map(m=>m.size),s,o,u=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,f,d){if(e<0||e>=this.viewItems.length)return 0;const m=Bi(e,-1,-1),E=Bi(e+1,this.viewItems.length);if(o)for(const R of o)qA(m,R),qA(E,R);if(s)for(const R of s)IE(m,R),IE(E,R);const _=m.map(R=>this.viewItems[R]),b=m.map(R=>r[R]),w=E.map(R=>this.viewItems[R]),x=E.map(R=>r[R]),k=m.reduce((R,N)=>R+(this.viewItems[N].minimumSize-r[N]),0),D=m.reduce((R,N)=>R+(this.viewItems[N].maximumSize-r[N]),0),z=E.length===0?Number.POSITIVE_INFINITY:E.reduce((R,N)=>R+(r[N]-this.viewItems[N].minimumSize),0),Y=E.length===0?Number.NEGATIVE_INFINITY:E.reduce((R,N)=>R+(r[N]-this.viewItems[N].maximumSize),0),j=Math.max(k,Y,u),Z=Math.min(z,D,c);let G=!1;if(f){const R=this.viewItems[f.index],N=n>=f.limitDelta;G=N!==R.visible,R.setVisible(N,f.size)}if(!G&&d){const R=this.viewItems[d.index],N=n<d.limitDelta;G=N!==R.visible,R.setVisible(N,d.size)}if(G)return this.resize(e,n,r,s,o,u,c);for(let R=0,N=n=Ji(n,j,Z);R<_.length;R++){const O=_[R],M=Ji(b[R]+N,O.minimumSize,O.maximumSize);N-=M-b[R],O.size=M}for(let R=0,N=n;R<w.length;R++){const O=w[R],M=Ji(x[R]-N,O.minimumSize,O.maximumSize);N+=M-x[R],O.size=M}return n}distributeEmptySpace(e){const n=this.viewItems.reduce((d,m)=>d+m.size,0);let r=this.size-n;const s=Bi(0,this.viewItems.length),o=[],u=s.filter(d=>this.viewItems[d].priority===Ui.Low),c=s.filter(d=>this.viewItems[d].priority===Ui.Normal),f=s.filter(d=>this.viewItems[d].priority===Ui.High);o.push(...f,...c,...u),typeof e=="number"&&IE(o,e);for(let d=0;r!==0&&d<o.length;d++){const m=this.viewItems[o[d]],E=Ji(m.size+r,m.minimumSize,m.maximumSize);r-=E-m.size,m.size=E}}layoutViews(){var e;this.contentSize=this.viewItems.reduce((r,s)=>r+s.size,0);let n=0;for(const r of this.viewItems)r.layout(n),n+=r.size;(e=this.onDidChange)!=null&&e.call(this,this.viewItems.map(r=>r.size)),this.sashItems.forEach(r=>r.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}updateSashEnablement(){let e=!1;const n=this.viewItems.map(f=>e=f.size-f.minimumSize>0||e);e=!1;const r=this.viewItems.map(f=>e=f.maximumSize-f.size>0||e),s=[...this.viewItems].reverse();e=!1;const o=s.map(f=>e=f.size-f.minimumSize>0||e).reverse();e=!1;const u=s.map(f=>e=f.maximumSize-f.size>0||e).reverse();let c=0;for(let f=0;f<this.sashItems.length;f++){const{sash:d}=this.sashItems[f];c+=this.viewItems[f].size;const m=!(n[f]&&u[f+1]),E=!(r[f]&&o[f+1]);if(m&&E){const _=Bi(f,-1,-1),b=Bi(f+1,this.viewItems.length),w=this.findFirstSnapIndex(_),x=this.findFirstSnapIndex(b),k=typeof w=="number"&&!this.viewItems[w].visible,D=typeof x=="number"&&!this.viewItems[x].visible;k&&o[f]&&(c>0||this.startSnappingEnabled)?d.state=gi.Minimum:D&&n[f]&&(c<this.contentSize||this.endSnappingEnabled)?d.state=gi.Maximum:d.state=gi.Disabled}else d.state=m&&!E?gi.Minimum:!m&&E?gi.Maximum:gi.Enabled}}findFirstSnapIndex(e){for(const n of e){const r=this.viewItems[n];if(r.visible&&r.snap)return n}for(const n of e){const r=this.viewItems[n];if(r.visible&&r.maximumSize-r.minimumSize>0)return;if(!r.visible&&r.snap)return n}}}class fl{constructor(e){this.size=void 0,this.size=e}getPreferredSize(){return this.size}}class KA{constructor(e,n){this.proportion=void 0,this.layoutService=void 0,this.proportion=e,this.layoutService=n}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class dm{getPreferredSize(){}}class XA{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(e){if(typeof e=="number")this.layoutStrategy=new fl(e);else if(typeof e=="string"){const n=e.trim();if(fm(n,"%")){const r=Number(n.slice(0,-1))/100;this.layoutStrategy=new KA(r,this.layoutService)}else if(fm(n,"px")){const r=Number(n.slice(0,-2))/100;this.layoutStrategy=new fl(r)}else if(typeof Number.parseFloat(n)=="number"){const r=Number.parseFloat(n);this.layoutStrategy=new fl(r)}else this.layoutStrategy=new dm}else this.layoutStrategy=new dm}constructor(e,n){var r;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=e,this.element=n.element,this.minimumSize=typeof n.minimumSize=="number"?n.minimumSize:30,this.maximumSize=typeof n.maximumSize=="number"?n.maximumSize:Number.POSITIVE_INFINITY,typeof n.preferredSize=="number")this.layoutStrategy=new fl(n.preferredSize);else if(typeof n.preferredSize=="string"){const s=n.preferredSize.trim();if(fm(s,"%")){const o=Number(s.slice(0,-1))/100;this.layoutStrategy=new KA(o,this.layoutService)}else if(fm(s,"px")){const o=Number(s.slice(0,-2));this.layoutStrategy=new fl(o)}else if(typeof Number.parseFloat(s)=="number"){const o=Number.parseFloat(s);this.layoutStrategy=new fl(o)}else this.layoutStrategy=new dm}else this.layoutStrategy=new dm;this.priority=(r=n.priority)!=null?r:Ui.Normal,this.snap=typeof n.snap=="boolean"&&n.snap}layout(e){}}function QA(t){return t.minSize!==void 0||t.maxSize!==void 0||t.preferredSize!==void 0||t.priority!==void 0||t.visible!==void 0}const G_=U.forwardRef(({className:t,children:e},n)=>ye.createElement("div",{ref:n,className:Dy("split-view-view",_x,t)},e));G_.displayName="Allotment.Pane";const Cx=U.forwardRef(({children:t,className:e,id:n,maxSize:r=1/0,minSize:s=30,proportionalLayout:o=!0,separator:u=!0,sizes:c,defaultSizes:f=c,snap:d=!1,vertical:m=!1,onChange:E,onReset:_,onVisibleChange:b,onDragStart:w,onDragEnd:x},k)=>{const D=U.useRef(null),z=U.useRef([]),Y=U.useRef(new Map),j=U.useRef(null),Z=U.useRef(new Map),G=U.useRef(new H5),R=U.useRef([]),[N,O]=U.useState(!1),M=U.useMemo(()=>ye.Children.toArray(t).filter(ye.isValidElement),[t]),B=U.useCallback(V=>{var C,L;const K=(C=R.current)==null?void 0:C[V];return typeof K?.preferredSize=="number"&&((L=j.current)!=null&&L.resizeView(V,Math.round(K.preferredSize)),!0)},[]);return U.useImperativeHandle(k,()=>({reset:()=>{if(_)_();else{var V;(V=j.current)==null||V.distributeViewSizes();for(let C=0;C<R.current.length;C++)B(C)}},resize:V=>{var C;(C=j.current)==null||C.resizeViews(V)}})),VA(()=>{let V=!0;f&&Z.current.size!==f.length&&(V=!1,console.warn(`Expected ${f.length} children based on defaultSizes but found ${Z.current.size}`)),V&&f&&(z.current=M.map(K=>K.key));const C=Mh({orientation:m?Vi.Vertical:Vi.Horizontal,proportionalLayout:o},V&&f&&{descriptor:{size:f.reduce((K,H)=>K+H,0),views:f.map((K,H)=>{var Q,re,ie,S;const ee=Y.current.get(z.current[H]),oe=new XA(G.current,Mh({element:document.createElement("div"),minimumSize:(Q=ee?.minSize)!=null?Q:s,maximumSize:(re=ee?.maxSize)!=null?re:r,priority:(ie=ee?.priority)!=null?ie:Ui.Normal},ee?.preferredSize&&{preferredSize:ee?.preferredSize},{snap:(S=ee?.snap)!=null?S:d}));return R.current.push(oe),{container:[...Z.current.values()][H],size:K,view:oe}})}});j.current=new Q5(D.current,C,E,w,x),j.current.on("sashDragStart",()=>{var K;(K=D.current)==null||K.classList.add("split-view-sash-dragging")}),j.current.on("sashDragEnd",()=>{var K;(K=D.current)==null||K.classList.remove("split-view-sash-dragging")}),j.current.on("sashchange",K=>{if(b&&j.current){const H=M.map(Q=>Q.key);for(let Q=0;Q<H.length;Q++){const re=Y.current.get(H[Q]);re?.visible!==void 0&&re.visible!==j.current.isViewVisible(Q)&&b(Q,j.current.isViewVisible(Q))}}}),j.current.on("sashreset",K=>{if(_)_();else{var H;if(B(K)||B(K+1))return;(H=j.current)==null||H.distributeViewSizes()}});const L=j.current;return()=>{L.dispose()}},[]),VA(()=>{if(N){const P=M.map(Se=>Se.key),pe=[...z.current],xe=P.filter(Se=>!z.current.includes(Se)),Ie=P.filter(Se=>z.current.includes(Se)),Fe=z.current.map(Se=>!P.includes(Se));for(let Se=Fe.length-1;Se>=0;Se--){var V;Fe[Se]&&((V=j.current)!=null&&V.removeView(Se),pe.splice(Se,1),R.current.splice(Se,1))}for(const Se of xe){var C,L,K,H,Q;const Le=Y.current.get(Se),Pe=new XA(G.current,Mh({element:document.createElement("div"),minimumSize:(C=Le?.minSize)!=null?C:s,maximumSize:(L=Le?.maxSize)!=null?L:r,priority:(K=Le?.priority)!=null?K:Ui.Normal},Le?.preferredSize&&{preferredSize:Le?.preferredSize},{snap:(H=Le?.snap)!=null?H:d}));(Q=j.current)!=null&&Q.addView(Z.current.get(Se),Pe,ep.Distribute,P.findIndex(Qe=>Qe===Se)),pe.splice(P.findIndex(Qe=>Qe===Se),0,Se),R.current.splice(P.findIndex(Qe=>Qe===Se),0,Pe)}for(;!O5(P,pe);)for(const[Se,Le]of P.entries()){const Pe=pe.findIndex(Qe=>Qe===Le);if(Pe!==Se){var re;(re=j.current)==null||re.moveView(Z.current.get(Le),Pe,Se);const Qe=pe[Pe];pe.splice(Pe,1),pe.splice(Se,0,Qe);break}}for(const Se of xe){var ie;const Le=P.findIndex(Qe=>Qe===Se),Pe=R.current[Le].preferredSize;Pe!==void 0&&((ie=j.current)==null||ie.resizeView(Le,Pe))}for(const Se of[...xe,...Ie]){var S,ee;const Le=Y.current.get(Se),Pe=P.findIndex(Qe=>Qe===Se);Le&&QA(Le)&&Le.visible!==void 0&&((S=j.current)==null?void 0:S.isViewVisible(Pe))!==Le.visible&&((ee=j.current)==null||ee.setViewVisible(Pe,Le.visible))}for(const Se of Ie){const Le=Y.current.get(Se),Pe=P.findIndex(Qe=>Qe===Se);if(Le&&QA(Le)){var oe;Le.preferredSize!==void 0&&R.current[Pe].preferredSize!==Le.preferredSize&&(R.current[Pe].preferredSize=Le.preferredSize);let Qe=!1;Le.minSize!==void 0&&R.current[Pe].minimumSize!==Le.minSize&&(R.current[Pe].minimumSize=Le.minSize,Qe=!0),Le.maxSize!==void 0&&R.current[Pe].maximumSize!==Le.maxSize&&(R.current[Pe].maximumSize=Le.maxSize,Qe=!0),Qe&&((oe=j.current)==null||oe.layout())}}(xe.length>0||Fe.length>0)&&(z.current=P)}},[M,N,r,s,d]),U.useEffect(()=>{j.current&&(j.current.onDidChange=E)},[E]),U.useEffect(()=>{j.current&&(j.current.onDidDragStart=w)},[w]),U.useEffect(()=>{j.current&&(j.current.onDidDragEnd=x)},[x]),D5({ref:D,onResize:({width:V,height:C})=>{var L;V&&C&&((L=j.current)!=null&&L.layout(m?C:V),G.current.setSize(m?C:V),O(!0))}}),U.useEffect(()=>{vx&&W5(20)},[]),ye.createElement("div",{ref:D,className:Dy("split-view",m?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":u},k5,m?P5:B5,{[U5]:u},e),id:n},ye.createElement("div",{className:Dy("split-view-container",M5)},ye.Children.toArray(t).map(V=>{if(!ye.isValidElement(V))return null;const C=V.key;return V.type.displayName==="Allotment.Pane"?(Y.current.set(C,V.props),ye.cloneElement(V,{key:C,ref:L=>{const K=V.ref;K&&(K.current=L),L?Z.current.set(C,L):Z.current.delete(C)}})):ye.createElement(G_,{key:C,ref:L=>{L?Z.current.set(C,L):Z.current.delete(C)}},V)})))});function W5(t){const e=Ji(t,4,20),n=Ji(t,1,8);document.documentElement.style.setProperty("--sash-size",e+"px"),document.documentElement.style.setProperty("--sash-hover-size",n+"px"),function(r){Sx=r,Ax.emit("onDidChangeGlobalSize",r)}(e)}Cx.displayName="Allotment";var OE=Object.assign(Cx,{Pane:G_});const Z5=()=>{};var WA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},J5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],c=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},xx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,c=u?t[s+1]:0,f=s+2<t.length,d=f?t[s+2]:0,m=o>>2,E=(o&3)<<4|c>>4;let _=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(_=64)),r.push(n[m],n[E],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ix(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const E=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||d==null||E==null)throw new e8;const _=o<<2|c>>4;if(r.push(_),d!==64){const b=c<<4&240|d>>2;if(r.push(b),E!==64){const w=d<<6&192|E;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class e8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const t8=function(t){const e=Ix(t);return xx.encodeByteArray(e,!0)},tp=function(t){return t8(t).replace(/\./g,"")},Nx=function(t){try{return xx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=()=>n8().__FIREBASE_DEFAULTS__,i8=()=>{if(typeof process>"u"||typeof WA>"u")return;const t=WA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nx(t[1]);return e&&JSON.parse(e)},Lp=()=>{try{return Z5()||r8()||i8()||s8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rx=t=>{var e,n;return(n=(e=Lp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a8=t=>{const e=Rx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ox=()=>{var t;return(t=Lp())===null||t===void 0?void 0:t.config},Dx=t=>{var e;return(e=Lp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){return t.endsWith(".cloudworkstations.dev")}async function kx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tp(JSON.stringify(n)),tp(JSON.stringify(u)),""].join(".")}const Ph={};function l8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ph))Ph[e]?t.emulator.push(e):t.prod.push(e);return t}function c8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZA=!1;function Lx(t,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||Ph[t]===e||Ph[t]||ZA)return;Ph[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=l8().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{ZA=!0,u()},_}function m(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function E(){const _=c8(r),b=n("text"),w=document.getElementById(b)||document.createElement("span"),x=n("learnmore"),k=document.getElementById(x)||document.createElement("a"),D=n("preprendIcon"),z=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const Y=_.element;c(Y),m(k,x);const j=d();f(z,D),Y.append(z,w,k,j),document.body.appendChild(Y)}o?(w.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function f8(){var t;const e=(t=Lp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g8(){const t=Rr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E8(){return!f8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y8(){try{return typeof indexedDB=="object"}catch{return!1}}function _8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8="FirebaseError";class ya extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T8,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?b8(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new ya(s,c,r)}}function b8(t,e){return t.replace(v8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const v8=/\{\$([^}]+)}/g;function S8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(JA(o)&&JA(u)){if(!hu(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function JA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Nh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A8(t,e){const n=new w8(t,e);return n.subscribe.bind(n)}class w8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=DE),s.error===void 0&&(s.error=DE),s.complete===void 0&&(s.complete=DE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function DE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return t&&t._delegate?t._delegate:t}class fu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N8(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:x8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function x8(t){return t===Jo?void 0:t}function N8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const O8={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},D8=_t.INFO,k8={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},L8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=k8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=D8,this._logHandler=L8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const M8=(t,e)=>e.some(n=>t instanceof n);let e2,t2;function P8(){return e2||(e2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B8(){return t2||(t2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mx=new WeakMap,ky=new WeakMap,Px=new WeakMap,kE=new WeakMap,X_=new WeakMap;function U8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(uo(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Mx.set(n,t)}).catch(()=>{}),X_.set(e,t),e}function V8(t){if(ky.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});ky.set(t,e)}let Ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ky.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Px.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H8(t){Ly=t(Ly)}function F8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(LE(this),e,...n);return Px.set(r,e.sort?e.sort():[e]),uo(r)}:B8().includes(t)?function(...e){return t.apply(LE(this),e),uo(Mx.get(this))}:function(...e){return uo(t.apply(LE(this),e))}}function z8(t){return typeof t=="function"?F8(t):(t instanceof IDBTransaction&&V8(t),M8(t,P8())?new Proxy(t,Ly):t)}function uo(t){if(t instanceof IDBRequest)return U8(t);if(kE.has(t))return kE.get(t);const e=z8(t);return e!==t&&(kE.set(t,e),X_.set(e,t)),e}const LE=t=>X_.get(t);function j8(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),c=uo(u);return r&&u.addEventListener("upgradeneeded",f=>{r(uo(u.result),f.oldVersion,f.newVersion,uo(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const q8=["get","getKey","getAll","getAllKeys","count"],Y8=["put","add","delete","clear"],ME=new Map;function n2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ME.get(e))return ME.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Y8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||q8.includes(n)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&f.done]))[0]};return ME.set(e,o),o}H8(t=>({...t,get:(e,n,r)=>n2(e,n)||t.get(e,n,r),has:(e,n)=>!!n2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G8(t){const e=t.getComponent();return e?.type==="VERSION"}const My="@firebase/app",r2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new K_("@firebase/app"),K8="@firebase/app-compat",X8="@firebase/analytics-compat",Q8="@firebase/analytics",W8="@firebase/app-check-compat",Z8="@firebase/app-check",J8="@firebase/auth",e9="@firebase/auth-compat",t9="@firebase/database",n9="@firebase/data-connect",r9="@firebase/database-compat",i9="@firebase/functions",s9="@firebase/functions-compat",a9="@firebase/installations",o9="@firebase/installations-compat",u9="@firebase/messaging",l9="@firebase/messaging-compat",c9="@firebase/performance",h9="@firebase/performance-compat",f9="@firebase/remote-config",d9="@firebase/remote-config-compat",m9="@firebase/storage",p9="@firebase/storage-compat",g9="@firebase/firestore",E9="@firebase/ai",y9="@firebase/firestore-compat",_9="firebase",T9="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="[DEFAULT]",b9={[My]:"fire-core",[K8]:"fire-core-compat",[Q8]:"fire-analytics",[X8]:"fire-analytics-compat",[Z8]:"fire-app-check",[W8]:"fire-app-check-compat",[J8]:"fire-auth",[e9]:"fire-auth-compat",[t9]:"fire-rtdb",[n9]:"fire-data-connect",[r9]:"fire-rtdb-compat",[i9]:"fire-fn",[s9]:"fire-fn-compat",[a9]:"fire-iid",[o9]:"fire-iid-compat",[u9]:"fire-fcm",[l9]:"fire-fcm-compat",[c9]:"fire-perf",[h9]:"fire-perf-compat",[f9]:"fire-rc",[d9]:"fire-rc-compat",[m9]:"fire-gcs",[p9]:"fire-gcs-compat",[g9]:"fire-fst",[y9]:"fire-fst-compat",[E9]:"fire-vertex","fire-js":"fire-js",[_9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new Map,v9=new Map,By=new Map;function i2(t,e){try{t.container.addComponent(e)}catch(n){da.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jl(t){const e=t.name;if(By.has(e))return da.debug(`There were multiple attempts to register component ${e}.`),!1;By.set(e,t);for(const n of np.values())i2(n,t);for(const n of v9.values())i2(n,t);return!0}function Q_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new wf("app","Firebase",S9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=T9;function Bx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Py,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw lo.create("bad-app-name",{appName:String(s)});if(n||(n=Ox()),!n)throw lo.create("no-options");const o=np.get(s);if(o){if(hu(n,o.options)&&hu(r,o.config))return o;throw lo.create("duplicate-app",{appName:s})}const u=new R8(s);for(const f of By.values())u.addComponent(f);const c=new A9(n,r,u);return np.set(s,c),c}function Ux(t=Py){const e=np.get(t);if(!e&&t===Py&&Ox())return Bx();if(!e)throw lo.create("no-app",{appName:t});return e}function co(t,e,n){var r;let s=(r=b9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),da.warn(c.join(" "));return}jl(new fu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="firebase-heartbeat-database",C9=1,af="firebase-heartbeat-store";let PE=null;function Vx(){return PE||(PE=j8(w9,C9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(af)}catch(n){console.warn(n)}}}}).catch(t=>{throw lo.create("idb-open",{originalErrorMessage:t.message})})),PE}async function I9(t){try{const n=(await Vx()).transaction(af),r=await n.objectStore(af).get(Hx(t));return await n.done,r}catch(e){if(e instanceof ya)da.warn(e.message);else{const n=lo.create("idb-get",{originalErrorMessage:e?.message});da.warn(n.message)}}}async function s2(t,e){try{const r=(await Vx()).transaction(af,"readwrite");await r.objectStore(af).put(e,Hx(t)),await r.done}catch(n){if(n instanceof ya)da.warn(n.message);else{const r=lo.create("idb-set",{originalErrorMessage:n?.message});da.warn(r.message)}}}function Hx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=1024,N9=30;class R9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=a2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>N9){const u=k9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){da.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a2(),{heartbeatsToSend:r,unsentEntries:s}=O9(this._heartbeatsCache.heartbeats),o=tp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return da.warn(n),""}}}function a2(){return new Date().toISOString().substring(0,10)}function O9(t,e=x9){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),o2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y8()?_8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return s2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o2(t){return tp(JSON.stringify({version:2,heartbeats:t})).length}function k9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){jl(new fu("platform-logger",e=>new $8(e),"PRIVATE")),jl(new fu("heartbeat",e=>new R9(e),"PRIVATE")),co(My,r2,t),co(My,r2,"esm2017"),co("fire-js","")}L9("");var M9="firebase",P9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(M9,P9,"app");var u2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ho,Fx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,N){function O(){}O.prototype=N.prototype,R.D=N.prototype,R.prototype=new O,R.prototype.constructor=R,R.C=function(M,B,V){for(var C=Array(arguments.length-2),L=2;L<arguments.length;L++)C[L-2]=arguments[L];return N.prototype[B].apply(M,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,N,O){O||(O=0);var M=Array(16);if(typeof N=="string")for(var B=0;16>B;++B)M[B]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(B=0;16>B;++B)M[B]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=R.g[0],O=R.g[1],B=R.g[2];var V=R.g[3],C=N+(V^O&(B^V))+M[0]+3614090360&4294967295;N=O+(C<<7&4294967295|C>>>25),C=V+(B^N&(O^B))+M[1]+3905402710&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(O^V&(N^O))+M[2]+606105819&4294967295,B=V+(C<<17&4294967295|C>>>15),C=O+(N^B&(V^N))+M[3]+3250441966&4294967295,O=B+(C<<22&4294967295|C>>>10),C=N+(V^O&(B^V))+M[4]+4118548399&4294967295,N=O+(C<<7&4294967295|C>>>25),C=V+(B^N&(O^B))+M[5]+1200080426&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(O^V&(N^O))+M[6]+2821735955&4294967295,B=V+(C<<17&4294967295|C>>>15),C=O+(N^B&(V^N))+M[7]+4249261313&4294967295,O=B+(C<<22&4294967295|C>>>10),C=N+(V^O&(B^V))+M[8]+1770035416&4294967295,N=O+(C<<7&4294967295|C>>>25),C=V+(B^N&(O^B))+M[9]+2336552879&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(O^V&(N^O))+M[10]+4294925233&4294967295,B=V+(C<<17&4294967295|C>>>15),C=O+(N^B&(V^N))+M[11]+2304563134&4294967295,O=B+(C<<22&4294967295|C>>>10),C=N+(V^O&(B^V))+M[12]+1804603682&4294967295,N=O+(C<<7&4294967295|C>>>25),C=V+(B^N&(O^B))+M[13]+4254626195&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(O^V&(N^O))+M[14]+2792965006&4294967295,B=V+(C<<17&4294967295|C>>>15),C=O+(N^B&(V^N))+M[15]+1236535329&4294967295,O=B+(C<<22&4294967295|C>>>10),C=N+(B^V&(O^B))+M[1]+4129170786&4294967295,N=O+(C<<5&4294967295|C>>>27),C=V+(O^B&(N^O))+M[6]+3225465664&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^O&(V^N))+M[11]+643717713&4294967295,B=V+(C<<14&4294967295|C>>>18),C=O+(V^N&(B^V))+M[0]+3921069994&4294967295,O=B+(C<<20&4294967295|C>>>12),C=N+(B^V&(O^B))+M[5]+3593408605&4294967295,N=O+(C<<5&4294967295|C>>>27),C=V+(O^B&(N^O))+M[10]+38016083&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^O&(V^N))+M[15]+3634488961&4294967295,B=V+(C<<14&4294967295|C>>>18),C=O+(V^N&(B^V))+M[4]+3889429448&4294967295,O=B+(C<<20&4294967295|C>>>12),C=N+(B^V&(O^B))+M[9]+568446438&4294967295,N=O+(C<<5&4294967295|C>>>27),C=V+(O^B&(N^O))+M[14]+3275163606&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^O&(V^N))+M[3]+4107603335&4294967295,B=V+(C<<14&4294967295|C>>>18),C=O+(V^N&(B^V))+M[8]+1163531501&4294967295,O=B+(C<<20&4294967295|C>>>12),C=N+(B^V&(O^B))+M[13]+2850285829&4294967295,N=O+(C<<5&4294967295|C>>>27),C=V+(O^B&(N^O))+M[2]+4243563512&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^O&(V^N))+M[7]+1735328473&4294967295,B=V+(C<<14&4294967295|C>>>18),C=O+(V^N&(B^V))+M[12]+2368359562&4294967295,O=B+(C<<20&4294967295|C>>>12),C=N+(O^B^V)+M[5]+4294588738&4294967295,N=O+(C<<4&4294967295|C>>>28),C=V+(N^O^B)+M[8]+2272392833&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^O)+M[11]+1839030562&4294967295,B=V+(C<<16&4294967295|C>>>16),C=O+(B^V^N)+M[14]+4259657740&4294967295,O=B+(C<<23&4294967295|C>>>9),C=N+(O^B^V)+M[1]+2763975236&4294967295,N=O+(C<<4&4294967295|C>>>28),C=V+(N^O^B)+M[4]+1272893353&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^O)+M[7]+4139469664&4294967295,B=V+(C<<16&4294967295|C>>>16),C=O+(B^V^N)+M[10]+3200236656&4294967295,O=B+(C<<23&4294967295|C>>>9),C=N+(O^B^V)+M[13]+681279174&4294967295,N=O+(C<<4&4294967295|C>>>28),C=V+(N^O^B)+M[0]+3936430074&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^O)+M[3]+3572445317&4294967295,B=V+(C<<16&4294967295|C>>>16),C=O+(B^V^N)+M[6]+76029189&4294967295,O=B+(C<<23&4294967295|C>>>9),C=N+(O^B^V)+M[9]+3654602809&4294967295,N=O+(C<<4&4294967295|C>>>28),C=V+(N^O^B)+M[12]+3873151461&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^O)+M[15]+530742520&4294967295,B=V+(C<<16&4294967295|C>>>16),C=O+(B^V^N)+M[2]+3299628645&4294967295,O=B+(C<<23&4294967295|C>>>9),C=N+(B^(O|~V))+M[0]+4096336452&4294967295,N=O+(C<<6&4294967295|C>>>26),C=V+(O^(N|~B))+M[7]+1126891415&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~O))+M[14]+2878612391&4294967295,B=V+(C<<15&4294967295|C>>>17),C=O+(V^(B|~N))+M[5]+4237533241&4294967295,O=B+(C<<21&4294967295|C>>>11),C=N+(B^(O|~V))+M[12]+1700485571&4294967295,N=O+(C<<6&4294967295|C>>>26),C=V+(O^(N|~B))+M[3]+2399980690&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~O))+M[10]+4293915773&4294967295,B=V+(C<<15&4294967295|C>>>17),C=O+(V^(B|~N))+M[1]+2240044497&4294967295,O=B+(C<<21&4294967295|C>>>11),C=N+(B^(O|~V))+M[8]+1873313359&4294967295,N=O+(C<<6&4294967295|C>>>26),C=V+(O^(N|~B))+M[15]+4264355552&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~O))+M[6]+2734768916&4294967295,B=V+(C<<15&4294967295|C>>>17),C=O+(V^(B|~N))+M[13]+1309151649&4294967295,O=B+(C<<21&4294967295|C>>>11),C=N+(B^(O|~V))+M[4]+4149444226&4294967295,N=O+(C<<6&4294967295|C>>>26),C=V+(O^(N|~B))+M[11]+3174756917&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~O))+M[2]+718787259&4294967295,B=V+(C<<15&4294967295|C>>>17),C=O+(V^(B|~N))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(B+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+B&4294967295,R.g[3]=R.g[3]+V&4294967295}r.prototype.u=function(R,N){N===void 0&&(N=R.length);for(var O=N-this.blockSize,M=this.B,B=this.h,V=0;V<N;){if(B==0)for(;V<=O;)s(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<N;)if(M[B++]=R.charCodeAt(V++),B==this.blockSize){s(this,M),B=0;break}}else for(;V<N;)if(M[B++]=R[V++],B==this.blockSize){s(this,M),B=0;break}}this.h=B,this.o+=N},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;var O=8*this.o;for(N=R.length-8;N<R.length;++N)R[N]=O&255,O/=256;for(this.u(R),R=Array(16),N=O=0;4>N;++N)for(var M=0;32>M;M+=8)R[O++]=this.g[N]>>>M&255;return R};function o(R,N){var O=c;return Object.prototype.hasOwnProperty.call(O,R)?O[R]:O[R]=N(R)}function u(R,N){this.h=N;for(var O=[],M=!0,B=R.length-1;0<=B;B--){var V=R[B]|0;M&&V==N||(O[B]=V,M=!1)}this.g=O}var c={};function f(R){return-128<=R&&128>R?o(R,function(N){return new u([N|0],0>N?-1:0)}):new u([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return E;if(0>R)return k(d(-R));for(var N=[],O=1,M=0;R>=O;M++)N[M]=R/O|0,O*=4294967296;return new u(N,0)}function m(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return k(m(R.substring(1),N));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(N,8)),M=E,B=0;B<R.length;B+=8){var V=Math.min(8,R.length-B),C=parseInt(R.substring(B,B+V),N);8>V?(V=d(Math.pow(N,V)),M=M.j(V).add(d(C))):(M=M.j(O),M=M.add(d(C)))}return M}var E=f(0),_=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(x(this))return-k(this).m();for(var R=0,N=1,O=0;O<this.g.length;O++){var M=this.i(O);R+=(0<=M?M:4294967296+M)*N,N*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(w(this))return"0";if(x(this))return"-"+k(this).toString(R);for(var N=d(Math.pow(R,6)),O=this,M="";;){var B=j(O,N).g;O=D(O,B.j(N));var V=((0<O.g.length?O.g[0]:O.h)>>>0).toString(R);if(O=B,w(O))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function w(R){if(R.h!=0)return!1;for(var N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function x(R){return R.h==-1}t.l=function(R){return R=D(this,R),x(R)?-1:w(R)?0:1};function k(R){for(var N=R.g.length,O=[],M=0;M<N;M++)O[M]=~R.g[M];return new u(O,~R.h).add(_)}t.abs=function(){return x(this)?k(this):this},t.add=function(R){for(var N=Math.max(this.g.length,R.g.length),O=[],M=0,B=0;B<=N;B++){var V=M+(this.i(B)&65535)+(R.i(B)&65535),C=(V>>>16)+(this.i(B)>>>16)+(R.i(B)>>>16);M=C>>>16,V&=65535,C&=65535,O[B]=C<<16|V}return new u(O,O[O.length-1]&-2147483648?-1:0)};function D(R,N){return R.add(k(N))}t.j=function(R){if(w(this)||w(R))return E;if(x(this))return x(R)?k(this).j(k(R)):k(k(this).j(R));if(x(R))return k(this.j(k(R)));if(0>this.l(b)&&0>R.l(b))return d(this.m()*R.m());for(var N=this.g.length+R.g.length,O=[],M=0;M<2*N;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<R.g.length;B++){var V=this.i(M)>>>16,C=this.i(M)&65535,L=R.i(B)>>>16,K=R.i(B)&65535;O[2*M+2*B]+=C*K,z(O,2*M+2*B),O[2*M+2*B+1]+=V*K,z(O,2*M+2*B+1),O[2*M+2*B+1]+=C*L,z(O,2*M+2*B+1),O[2*M+2*B+2]+=V*L,z(O,2*M+2*B+2)}for(M=0;M<N;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=N;M<2*N;M++)O[M]=0;return new u(O,0)};function z(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function Y(R,N){this.g=R,this.h=N}function j(R,N){if(w(N))throw Error("division by zero");if(w(R))return new Y(E,E);if(x(R))return N=j(k(R),N),new Y(k(N.g),k(N.h));if(x(N))return N=j(R,k(N)),new Y(k(N.g),N.h);if(30<R.g.length){if(x(R)||x(N))throw Error("slowDivide_ only works with positive integers.");for(var O=_,M=N;0>=M.l(R);)O=Z(O),M=Z(M);var B=G(O,1),V=G(M,1);for(M=G(M,2),O=G(O,2);!w(M);){var C=V.add(M);0>=C.l(R)&&(B=B.add(O),V=C),M=G(M,1),O=G(O,1)}return N=D(R,B.j(N)),new Y(B,N)}for(B=E;0<=R.l(N);){for(O=Math.max(1,Math.floor(R.m()/N.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=d(O),C=V.j(N);x(C)||0<C.l(R);)O-=M,V=d(O),C=V.j(N);w(V)&&(V=_),B=B.add(V),R=D(R,C)}return new Y(B,R)}t.A=function(R){return j(this,R).h},t.and=function(R){for(var N=Math.max(this.g.length,R.g.length),O=[],M=0;M<N;M++)O[M]=this.i(M)&R.i(M);return new u(O,this.h&R.h)},t.or=function(R){for(var N=Math.max(this.g.length,R.g.length),O=[],M=0;M<N;M++)O[M]=this.i(M)|R.i(M);return new u(O,this.h|R.h)},t.xor=function(R){for(var N=Math.max(this.g.length,R.g.length),O=[],M=0;M<N;M++)O[M]=this.i(M)^R.i(M);return new u(O,this.h^R.h)};function Z(R){for(var N=R.g.length+1,O=[],M=0;M<N;M++)O[M]=R.i(M)<<1|R.i(M-1)>>>31;return new u(O,R.h)}function G(R,N){var O=N>>5;N%=32;for(var M=R.g.length-O,B=[],V=0;V<M;V++)B[V]=0<N?R.i(V+O)>>>N|R.i(V+O+1)<<32-N:R.i(V+O);return new u(B,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,ho=u}).apply(typeof u2<"u"?u2:typeof self<"u"?self:typeof window<"u"?window:{});var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zx,Rh,jx,Om,Uy,qx,Yx,$x;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,v,A){return p==Array.prototype||p==Object.prototype||(p[v]=A.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof mm=="object"&&mm];for(var v=0;v<p.length;++v){var A=p[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(p,v){if(v)e:{var A=r;p=p.split(".");for(var q=0;q<p.length-1;q++){var le=p[q];if(!(le in A))break e;A=A[le]}p=p[p.length-1],q=A[p],v=v(q),v!=q&&v!=null&&e(A,p,{configurable:!0,writable:!0,value:v})}}function o(p,v){p instanceof String&&(p+="");var A=0,q=!1,le={next:function(){if(!q&&A<p.length){var Ee=A++;return{value:v(Ee,p[Ee]),done:!1}}return q=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}s("Array.prototype.values",function(p){return p||function(){return o(this,function(v,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(p){var v=typeof p;return v=v!="object"?v:p?Array.isArray(p)?"array":v:"null",v=="array"||v=="object"&&typeof p.length=="number"}function d(p){var v=typeof p;return v=="object"&&p!=null||v=="function"}function m(p,v,A){return p.call.apply(p.bind,arguments)}function E(p,v,A){if(!p)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,q),p.apply(v,le)}}return function(){return p.apply(v,arguments)}}function _(p,v,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:E,_.apply(null,arguments)}function b(p,v){var A=Array.prototype.slice.call(arguments,1);return function(){var q=A.slice();return q.push.apply(q,arguments),p.apply(this,q)}}function w(p,v){function A(){}A.prototype=v.prototype,p.aa=v.prototype,p.prototype=new A,p.prototype.constructor=p,p.Qb=function(q,le,Ee){for(var Me=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Me[wt-2]=arguments[wt];return v.prototype[le].apply(q,Me)}}function x(p){const v=p.length;if(0<v){const A=Array(v);for(let q=0;q<v;q++)A[q]=p[q];return A}return[]}function k(p,v){for(let A=1;A<arguments.length;A++){const q=arguments[A];if(f(q)){const le=p.length||0,Ee=q.length||0;p.length=le+Ee;for(let Me=0;Me<Ee;Me++)p[le+Me]=q[Me]}else p.push(q)}}class D{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(p){return/^[\s\xa0]*$/.test(p)}function Y(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var Z=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function G(p,v,A){for(const q in p)v.call(A,p[q],q,p)}function R(p,v){for(const A in p)v.call(void 0,p[A],A,p)}function N(p){const v={};for(const A in p)v[A]=p[A];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,v){let A,q;for(let le=1;le<arguments.length;le++){q=arguments[le];for(A in q)p[A]=q[A];for(let Ee=0;Ee<O.length;Ee++)A=O[Ee],Object.prototype.hasOwnProperty.call(q,A)&&(p[A]=q[A])}}function B(p){var v=1;p=p.split(":");const A=[];for(;0<v&&p.length;)A.push(p.shift()),v--;return p.length&&A.push(p.join(":")),A}function V(p){c.setTimeout(()=>{throw p},0)}function C(){var p=ie;let v=null;return p.g&&(v=p.g,p.g=p.g.next,p.g||(p.h=null),v.next=null),v}class L{constructor(){this.h=this.g=null}add(v,A){const q=K.get();q.set(v,A),this.h?this.h.next=q:this.g=q,this.h=q}}var K=new D(()=>new H,p=>p.reset());class H{constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,re=!1,ie=new L,S=()=>{const p=c.Promise.resolve(void 0);Q=()=>{p.then(ee)}};var ee=()=>{for(var p;p=C();){try{p.h.call(p.g)}catch(A){V(A)}var v=K;v.j(p),100>v.h&&(v.h++,p.next=v.g,v.g=p)}re=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(p,v){this.type=p,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,v=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};c.addEventListener("test",A,v),c.removeEventListener("test",A,v)}catch{}return p}();function xe(p,v){if(P.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var A=this.type=p.type,q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=v,v=p.relatedTarget){if(Z){e:{try{j(v.nodeName);var le=!0;break e}catch{}le=!1}le||(v=null)}}else A=="mouseover"?v=p.fromElement:A=="mouseout"&&(v=p.toElement);this.relatedTarget=v,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ie[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&xe.aa.h.call(this)}}w(xe,P);var Ie={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Le(p,v,A,q,le){this.listener=p,this.proxy=null,this.src=v,this.type=A,this.capture=!!q,this.ha=le,this.key=++Se,this.da=this.fa=!1}function Pe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Qe(p){this.src=p,this.g={},this.h=0}Qe.prototype.add=function(p,v,A,q,le){var Ee=p.toString();p=this.g[Ee],p||(p=this.g[Ee]=[],this.h++);var Me=Ot(p,v,q,le);return-1<Me?(v=p[Me],A||(v.fa=!1)):(v=new Le(v,this.src,Ee,!!q,le),v.fa=A,p.push(v)),v};function Rt(p,v){var A=v.type;if(A in p.g){var q=p.g[A],le=Array.prototype.indexOf.call(q,v,void 0),Ee;(Ee=0<=le)&&Array.prototype.splice.call(q,le,1),Ee&&(Pe(v),p.g[A].length==0&&(delete p.g[A],p.h--))}}function Ot(p,v,A,q){for(var le=0;le<p.length;++le){var Ee=p[le];if(!Ee.da&&Ee.listener==v&&Ee.capture==!!A&&Ee.ha==q)return le}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),Ge={};function cn(p,v,A,q,le){if(Array.isArray(v)){for(var Ee=0;Ee<v.length;Ee++)cn(p,v[Ee],A,q,le);return null}return A=zn(A),p&&p[Fe]?p.K(v,A,d(q)?!!q.capture:!1,le):Ke(p,v,A,!1,q,le)}function Ke(p,v,A,q,le,Ee){if(!v)throw Error("Invalid event type");var Me=d(le)?!!le.capture:!!le,wt=xn(p);if(wt||(p[Dt]=wt=new Qe(p)),A=wt.add(v,A,q,Me,Ee),A.proxy)return A;if(q=qe(),A.proxy=q,q.src=p,q.listener=A,p.addEventListener)pe||(le=Me),le===void 0&&(le=!1),p.addEventListener(v.toString(),q,le);else if(p.attachEvent)p.attachEvent(In(v.toString()),q);else if(p.addListener&&p.removeListener)p.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return A}function qe(){function p(A){return v.call(p.src,p.listener,A)}const v=Ln;return p}function nn(p,v,A,q,le){if(Array.isArray(v))for(var Ee=0;Ee<v.length;Ee++)nn(p,v[Ee],A,q,le);else q=d(q)?!!q.capture:!!q,A=zn(A),p&&p[Fe]?(p=p.i,v=String(v).toString(),v in p.g&&(Ee=p.g[v],A=Ot(Ee,A,q,le),-1<A&&(Pe(Ee[A]),Array.prototype.splice.call(Ee,A,1),Ee.length==0&&(delete p.g[v],p.h--)))):p&&(p=xn(p))&&(v=p.g[v.toString()],p=-1,v&&(p=Ot(v,A,q,le)),(A=-1<p?v[p]:null)&&Cn(A))}function Cn(p){if(typeof p!="number"&&p&&!p.da){var v=p.src;if(v&&v[Fe])Rt(v.i,p);else{var A=p.type,q=p.proxy;v.removeEventListener?v.removeEventListener(A,q,p.capture):v.detachEvent?v.detachEvent(In(A),q):v.addListener&&v.removeListener&&v.removeListener(q),(A=xn(v))?(Rt(A,p),A.h==0&&(A.src=null,v[Dt]=null)):Pe(p)}}}function In(p){return p in Ge?Ge[p]:Ge[p]="on"+p}function Ln(p,v){if(p.da)p=!0;else{v=new xe(v,this);var A=p.listener,q=p.ha||p.src;p.fa&&Cn(p),p=A.call(q,v)}return p}function xn(p){return p=p[Dt],p instanceof Qe?p:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(p){return typeof p=="function"?p:(p[dn]||(p[dn]=function(v){return p.handleEvent(v)}),p[dn])}function ae(){oe.call(this),this.i=new Qe(this),this.M=this,this.F=null}w(ae,oe),ae.prototype[Fe]=!0,ae.prototype.removeEventListener=function(p,v,A,q){nn(this,p,v,A,q)};function Te(p,v){var A,q=p.F;if(q)for(A=[];q;q=q.F)A.push(q);if(p=p.M,q=v.type||v,typeof v=="string")v=new P(v,p);else if(v instanceof P)v.target=v.target||p;else{var le=v;v=new P(q,p),M(v,le)}if(le=!0,A)for(var Ee=A.length-1;0<=Ee;Ee--){var Me=v.g=A[Ee];le=Ue(Me,q,!0,v)&&le}if(Me=v.g=p,le=Ue(Me,q,!0,v)&&le,le=Ue(Me,q,!1,v)&&le,A)for(Ee=0;Ee<A.length;Ee++)Me=v.g=A[Ee],le=Ue(Me,q,!1,v)&&le}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var p=this.i,v;for(v in p.g){for(var A=p.g[v],q=0;q<A.length;q++)Pe(A[q]);delete p.g[v],p.h--}}this.F=null},ae.prototype.K=function(p,v,A,q){return this.i.add(String(p),v,!1,A,q)},ae.prototype.L=function(p,v,A,q){return this.i.add(String(p),v,!0,A,q)};function Ue(p,v,A,q){if(v=p.i.g[String(v)],!v)return!0;v=v.concat();for(var le=!0,Ee=0;Ee<v.length;++Ee){var Me=v[Ee];if(Me&&!Me.da&&Me.capture==A){var wt=Me.listener,Yn=Me.ha||Me.src;Me.fa&&Rt(p.i,Me),le=wt.call(Yn,q)!==!1&&le}}return le&&!q.defaultPrevented}function Ye(p,v,A){if(typeof p=="function")A&&(p=_(p,A));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(p,v||0)}function lt(p){p.g=Ye(()=>{p.g=null,p.i&&(p.i=!1,lt(p))},p.l);const v=p.h;p.h=null,p.m.apply(null,v)}class vt extends oe{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(p){oe.call(this),this.h=p,this.g={}}w(jt,oe);var qt=[];function Yt(p){G(p.g,function(v,A){this.g.hasOwnProperty(A)&&Cn(v)},p),p.g={}}jt.prototype.N=function(){jt.aa.N.call(this),Yt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=c.JSON.stringify,ct=c.JSON.parse,en=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Xt(){}Xt.prototype.h=null;function $i(p){return p.h||(p.h=p.i())}function br(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kr(){P.call(this,"d")}w(kr,P);function vr(){P.call(this,"c")}w(vr,P);var $r={},Bs=null;function ii(){return Bs=Bs||new ae}$r.La="serverreachability";function Gi(p){P.call(this,$r.La,p)}w(Gi,P);function Lr(p){const v=ii();Te(v,new Gi(v))}$r.STAT_EVENT="statevent";function si(p,v){P.call(this,$r.STAT_EVENT,p),this.stat=v}w(si,P);function Qt(p){const v=ii();Te(v,new si(v,p))}$r.Ma="timingevent";function Bt(p,v){P.call(this,$r.Ma,p),this.size=v}w(Bt,P);function mn(p,v){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},v)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function us(p,v,A,q,le,Ee){p.info(function(){if(p.g)if(Ee)for(var Me="",wt=Ee.split("&"),Yn=0;Yn<wt.length;Yn++){var Ct=wt[Yn].split("=");if(1<Ct.length){var nr=Ct[0];Ct=Ct[1];var $n=nr.split("_");Me=2<=$n.length&&$n[1]=="type"?Me+(nr+"="+Ct+"&"):Me+(nr+"=redacted&")}}else Me=null;else Me=Ee;return"XMLHTTP REQ ("+q+") [attempt "+le+"]: "+v+`
`+A+`
`+Me})}function Io(p,v,A,q,le,Ee,Me){p.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+le+"]: "+v+`
`+A+`
`+Ee+" "+Me})}function Mr(p,v,A,q){p.info(function(){return"XMLHTTP TEXT ("+v+"): "+Si(p,A)+(q?" "+q:"")})}function ls(p,v){p.info(function(){return"TIMEOUT: "+v})}bn.prototype.info=function(){};function Si(p,v){if(!p.g)return v;if(!v)return null;try{var A=JSON.parse(v);if(A){for(p=0;p<A.length;p++)if(Array.isArray(A[p])){var q=A[p];if(!(2>q.length)){var le=q[1];if(Array.isArray(le)&&!(1>le.length)){var Ee=le[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var Me=1;Me<le.length;Me++)le[Me]=""}}}}return St(A)}catch{return v}}var ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Br(){}w(Br,Xt),Br.prototype.g=function(){return new XMLHttpRequest},Br.prototype.i=function(){return{}},Zn=new Br;function qn(p,v,A,q){this.j=p,this.i=v,this.l=A,this.R=q||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var ge={},Oe={};function Be(p,v,A){p.L=1,p.v=Ki(rn(v)),p.m=A,p.P=!0,gt(p,null)}function gt(p,v){p.F=Date.now(),Ut(p),p.A=rn(p.v);var A=p.A,q=p.R;Array.isArray(q)||(q=[String(q)]),Ec(A.i,"t",q),p.C=0,A=p.j.J,p.h=new ne,p.g=Jf(p.j,A?v:null,!p.m),0<p.O&&(p.M=new vt(_(p.Y,p,p.g),p.O)),v=p.U,A=p.g,q=p.ca;var le="readystatechange";Array.isArray(le)||(le&&(qt[0]=le.toString()),le=qt);for(var Ee=0;Ee<le.length;Ee++){var Me=cn(A,le[Ee],q||v.handleEvent,!1,v.h||v);if(!Me)break;v.g[Me.key]=Me}v=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,v)):(p.u="GET",p.g.ea(p.A,p.u,null,v)),Lr(),us(p.i,p.u,p.A,p.l,p.R,p.m)}qn.prototype.ca=function(p){p=p.target;const v=this.M;v&&Ni(p)==3?v.j():this.Y(p)},qn.prototype.Y=function(p){try{if(p==this.g)e:{const $n=Ni(this.g);var v=this.g.Ba();const qs=this.g.Z();if(!(3>$n)&&($n!=3||this.g&&(this.h.h||this.g.oa()||Yf(this.g)))){this.J||$n!=4||v==7||(v==8||0>=qs?Lr(3):Lr(2)),Vt(this);var A=this.g.Z();this.X=A;t:if(it(this)){var q=Yf(this.g);p="";var le=q.length,Ee=Ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),kt(this);var Me="";break t}this.h.i=new c.TextDecoder}for(v=0;v<le;v++)this.h.h=!0,p+=this.h.i.decode(q[v],{stream:!(Ee&&v==le-1)});q.length=0,this.h.g+=p,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=A==200,Io(this.i,this.u,this.A,this.l,this.R,$n,A),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,Yn=this.g;if((wt=Yn.g?Yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(wt)){var Ct=wt;break t}}Ct=null}if(A=Ct)Mr(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mn(this,A);else{this.o=!1,this.s=3,Qt(12),Ht(this),kt(this);break e}}if(this.P){A=!0;let mr;for(;!this.J&&this.C<Me.length;)if(mr=$t(this,Me),mr==Oe){$n==4&&(this.s=4,Qt(14),A=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==ge){this.s=4,Qt(15),Mr(this.i,this.l,Me,"[Invalid Chunk]"),A=!1;break}else Mr(this.i,this.l,mr,null),Mn(this,mr);if(it(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$n!=4||Me.length!=0||this.h.h||(this.s=1,Qt(16),A=!1),this.o=this.o&&A,!A)Mr(this.i,this.l,Me,"[Invalid Chunked Response]"),Ht(this),kt(this);else if(0<Me.length&&!this.W){this.W=!0;var nr=this.j;nr.g==this&&nr.ba&&!nr.M&&(nr.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),Po(nr),nr.M=!0,Qt(11))}}else Mr(this.i,this.l,Me,null),Mn(this,Me);$n==4&&Ht(this),this.o&&!this.J&&($n==4?Qf(this.j,this):(this.o=!1,Ut(this)))}else m0(this.g),A==400&&0<Me.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Ht(this),kt(this)}}}catch{}finally{}};function it(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function $t(p,v){var A=p.C,q=v.indexOf(`
`,A);return q==-1?Oe:(A=Number(v.substring(A,q)),isNaN(A)?ge:(q+=1,q+A>v.length?Oe:(v=v.slice(q,q+A),p.C=q+A,v)))}qn.prototype.cancel=function(){this.J=!0,Ht(this)};function Ut(p){p.S=Date.now()+p.I,Jn(p,p.I)}function Jn(p,v){if(p.B!=null)throw Error("WatchDog timer not null");p.B=mn(_(p.ba,p),v)}function Vt(p){p.B&&(c.clearTimeout(p.B),p.B=null)}qn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ls(this.i,this.A),this.L!=2&&(Lr(),Qt(17)),Ht(this),this.s=2,kt(this)):Jn(this,this.S-p)};function kt(p){p.j.G==0||p.J||Qf(p.j,p)}function Ht(p){Vt(p);var v=p.M;v&&typeof v.ma=="function"&&v.ma(),p.M=null,Yt(p.U),p.g&&(v=p.g,p.g=null,v.abort(),v.ma())}function Mn(p,v){try{var A=p.j;if(A.G!=0&&(A.g==p||Ai(A.h,p))){if(!p.K&&Ai(A.h,p)&&A.G==3){try{var q=A.Da.g.parse(v)}catch{q=null}if(Array.isArray(q)&&q.length==3){var le=q;if(le[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<p.F)Du(A),Ru(A);else break e;vc(A),Qt(18)}}else A.za=le[1],0<A.za-A.T&&37500>le[2]&&A.F&&A.v==0&&!A.C&&(A.C=mn(_(A.Za,A),6e3));if(1>=Vr(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else js(A,11)}else if((p.K||A.g==p)&&Du(A),!z(v))for(le=A.Da.g.parse(v),v=0;v<le.length;v++){let Ct=le[v];if(A.T=Ct[0],Ct=Ct[1],A.G==2)if(Ct[0]=="c"){A.K=Ct[1],A.ia=Ct[2];const nr=Ct[3];nr!=null&&(A.la=nr,A.j.info("VER="+A.la));const $n=Ct[4];$n!=null&&(A.Aa=$n,A.j.info("SVER="+A.Aa));const qs=Ct[5];qs!=null&&typeof qs=="number"&&0<qs&&(q=1.5*qs,A.L=q,A.j.info("backChannelRequestTimeoutMs_="+q)),q=A;const mr=p.g;if(mr){const Es=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var Ee=q.h;Ee.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(wi(Ee,Ee.h),Ee.h=null))}if(q.D){const Ac=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ac&&(q.ya=Ac,Nt(q.I,q.D,Ac))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-p.F,A.j.info("Handshake RTT: "+A.R+"ms")),q=A;var Me=p;if(q.qa=Zf(q,q.J?q.ia:null,q.W),Me.K){er(q.h,Me);var wt=Me,Yn=q.L;Yn&&(wt.I=Yn),wt.B&&(Vt(wt),Ut(wt)),q.g=Me}else Kf(q);0<A.i.length&&Ou(A)}else Ct[0]!="stop"&&Ct[0]!="close"||js(A,7);else A.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?js(A,7):Tc(A):Ct[0]!="noop"&&A.l&&A.l.ta(Ct),A.v=0)}}Lr(4)}catch{}}var vn=class{constructor(p,v){this.g=p,this.map=v}};function Nn(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ur(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Vr(p){return p.h?1:p.g?p.g.size:0}function Ai(p,v){return p.h?p.h==v:p.g?p.g.has(v):!1}function wi(p,v){p.g?p.g.add(v):p.h=v}function er(p,v){p.h&&p.h==v?p.h=null:p.g&&p.g.has(v)&&p.g.delete(v)}Nn.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function xo(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let v=p.i;for(const A of p.g.values())v=v.concat(A.D);return v}return x(p.i)}function gc(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var v=[],A=p.length,q=0;q<A;q++)v.push(p[q]);return v}v=[],A=0;for(q in p)v[A++]=p[q];return v}function At(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var v=[];p=p.length;for(var A=0;A<p;A++)v.push(A);return v}v=[],A=0;for(const q in p)v[A++]=q;return v}}}function bt(p,v){if(p.forEach&&typeof p.forEach=="function")p.forEach(v,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,v,void 0);else for(var A=At(p),q=gc(p),le=q.length,Ee=0;Ee<le;Ee++)v.call(void 0,q[Ee],A&&A[Ee],p)}var Ci=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ii(p,v){if(p){p=p.split("&");for(var A=0;A<p.length;A++){var q=p[A].indexOf("="),le=null;if(0<=q){var Ee=p[A].substring(0,q);le=p[A].substring(q+1)}else Ee=p[A];v(Ee,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function pn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof pn){this.h=p.h,cr(this,p.j),this.o=p.o,this.g=p.g,hr(this,p.s),this.l=p.l;var v=p.i,A=new Gr;A.i=v.i,v.g&&(A.g=new Map(v.g),A.h=v.h),Hr(this,A),this.m=p.m}else p&&(v=String(p).match(Ci))?(this.h=!1,cr(this,v[1]||"",!0),this.o=fr(v[2]||""),this.g=fr(v[3]||"",!0),hr(this,v[4]),this.l=fr(v[5]||"",!0),Hr(this,v[6]||"",!0),this.m=fr(v[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}pn.prototype.toString=function(){var p=[],v=this.j;v&&p.push(Fr(v,cs,!0),":");var A=this.g;return(A||v=="file")&&(p.push("//"),(v=this.o)&&p.push(Fr(v,cs,!0),"@"),p.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&p.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(Fr(A,A.charAt(0)=="/"?Ta:Us,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",Fr(A,Vs)),p.join("")};function rn(p){return new pn(p)}function cr(p,v,A){p.j=A?fr(v,!0):v,p.j&&(p.j=p.j.replace(/:$/,""))}function hr(p,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);p.s=v}else p.s=null}function Hr(p,v,A){v instanceof Gr?(p.i=v,jf(p.i,p.h)):(A||(v=Fr(v,ba)),p.i=new Gr(v,p.h))}function Nt(p,v,A){p.i.set(v,A)}function Ki(p){return Nt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function fr(p,v){return p?v?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Fr(p,v,A){return typeof p=="string"?(p=encodeURI(p).replace(v,No),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function No(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var cs=/[#\/\?@]/g,Us=/[#\?:]/g,Ta=/[#\?]/g,ba=/[#\?@]/g,Vs=/#/g;function Gr(p,v){this.h=this.g=null,this.i=p||null,this.j=!!v}function dr(p){p.g||(p.g=new Map,p.h=0,p.i&&Ii(p.i,function(v,A){p.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}t=Gr.prototype,t.add=function(p,v){dr(this),this.i=null,p=hs(this,p);var A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(v),this.h+=1,this};function Hs(p,v){dr(p),v=hs(p,v),p.g.has(v)&&(p.i=null,p.h-=p.g.get(v).length,p.g.delete(v))}function Fs(p,v){return dr(p),v=hs(p,v),p.g.has(v)}t.forEach=function(p,v){dr(this),this.g.forEach(function(A,q){A.forEach(function(le){p.call(v,le,q,this)},this)},this)},t.na=function(){dr(this);const p=Array.from(this.g.values()),v=Array.from(this.g.keys()),A=[];for(let q=0;q<v.length;q++){const le=p[q];for(let Ee=0;Ee<le.length;Ee++)A.push(v[q])}return A},t.V=function(p){dr(this);let v=[];if(typeof p=="string")Fs(this,p)&&(v=v.concat(this.g.get(hs(this,p))));else{p=Array.from(this.g.values());for(let A=0;A<p.length;A++)v=v.concat(p[A])}return v},t.set=function(p,v){return dr(this),this.i=null,p=hs(this,p),Fs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[v]),this.h+=1,this},t.get=function(p,v){return p?(p=this.V(p),0<p.length?String(p[0]):v):v};function Ec(p,v,A){Hs(p,v),0<A.length&&(p.i=null,p.g.set(hs(p,v),x(A)),p.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],v=Array.from(this.g.keys());for(var A=0;A<v.length;A++){var q=v[A];const Ee=encodeURIComponent(String(q)),Me=this.V(q);for(q=0;q<Me.length;q++){var le=Ee;Me[q]!==""&&(le+="="+encodeURIComponent(String(Me[q]))),p.push(le)}}return this.i=p.join("&")};function hs(p,v){return v=String(v),p.j&&(v=v.toLowerCase()),v}function jf(p,v){v&&!p.j&&(dr(p),p.i=null,p.g.forEach(function(A,q){var le=q.toLowerCase();q!=le&&(Hs(this,q),Ec(this,le,A))},p)),p.j=v}function Ro(p,v){const A=new bn;if(c.Image){const q=new Image;q.onload=b(xi,A,"TestLoadImage: loaded",!0,v,q),q.onerror=b(xi,A,"TestLoadImage: error",!1,v,q),q.onabort=b(xi,A,"TestLoadImage: abort",!1,v,q),q.ontimeout=b(xi,A,"TestLoadImage: timeout",!1,v,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=p}else v(!1)}function Xi(p,v){const A=new bn,q=new AbortController,le=setTimeout(()=>{q.abort(),xi(A,"TestPingServer: timeout",!1,v)},1e4);fetch(p,{signal:q.signal}).then(Ee=>{clearTimeout(le),Ee.ok?xi(A,"TestPingServer: ok",!0,v):xi(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(le),xi(A,"TestPingServer: error",!1,v)})}function xi(p,v,A,q,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),q(A)}catch{}}function Oo(){this.g=new en}function fs(p,v,A){const q=A||"";try{bt(p,function(le,Ee){let Me=le;d(le)&&(Me=St(le)),v.push(q+Ee+"="+encodeURIComponent(Me))})}catch(le){throw v.push(q+"type="+encodeURIComponent("_badmap")),le}}function va(p){this.l=p.Ub||null,this.j=p.eb||!1}w(va,Xt),va.prototype.g=function(){return new zs(this.l,this.j)},va.prototype.i=function(p){return function(){return p}}({});function zs(p,v){ae.call(this),this.D=p,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(zs,ae),t=zs.prototype,t.open=function(p,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=v,this.readyState=1,ms(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(v.body=p),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ms(this)),this.g&&(this.readyState=3,ms(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function yc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var v=p.value?p.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!p.done}))&&(this.response=this.responseText+=v)}p.done?ds(this):ms(this),this.readyState==3&&yc(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,ds(this))},t.Qa=function(p){this.g&&(this.response=p,ds(this))},t.ga=function(){this.g&&ds(this)};function ds(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ms(p)}t.setRequestHeader=function(p,v){this.u.append(p,v)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=v.next();return p.join(`\r
`)};function ms(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function _c(p){let v="";return G(p,function(A,q){v+=q,v+=":",v+=A,v+=`\r
`}),v}function tr(p,v,A){e:{for(q in A){var q=!1;break e}q=!0}q||(A=_c(A),typeof p=="string"?A!=null&&encodeURIComponent(String(A)):Nt(p,v,A))}function Ft(p){ae.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ft,ae);var Cu=/^https?$/i,Do=["POST","PUT"];t=Ft.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,v,A,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);v=v?v.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?$i(this.o):$i(Zn),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(p),!0),this.B=!1}catch(Ee){qf(this,Ee);return}if(p=A||"",A=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var le in q)A.set(le,q[le]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const Ee of q.keys())A.set(Ee,q.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(A.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),le=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Do,v,void 0))||q||le||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,Me]of A)this.g.setRequestHeader(Ee,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ko(this),this.u=!0,this.g.send(p),this.u=!1}catch(Ee){qf(this,Ee)}};function qf(p,v){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=v,p.m=5,Iu(p),ps(p)}function Iu(p){p.A||(p.A=!0,Te(p,"complete"),Te(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Te(this,"complete"),Te(this,"abort"),ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xu(this):this.bb())},t.bb=function(){xu(this)};function xu(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Ni(p)!=4||p.Z()!=2)){if(p.u&&Ni(p)==4)Ye(p.Ea,0,p);else if(Te(p,"readystatechange"),Ni(p)==4){p.h=!1;try{const Me=p.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var q;if(q=Me===0){var le=String(p.D).match(Ci)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),q=!Cu.test(le?le.toLowerCase():"")}A=q}if(A)Te(p,"complete"),Te(p,"success");else{p.m=6;try{var Ee=2<Ni(p)?p.g.statusText:""}catch{Ee=""}p.l=Ee+" ["+p.Z()+"]",Iu(p)}}finally{ps(p)}}}}function ps(p,v){if(p.g){ko(p);const A=p.g,q=p.v[0]?()=>{}:null;p.g=null,p.v=null,v||Te(p,"ready");try{A.onreadystatechange=q}catch{}}}function ko(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Ni(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var v=this.g.responseText;return p&&v.indexOf(p)==0&&(v=v.substring(p.length)),ct(v)}};function Yf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function m0(p){const v={};p=(p.g&&2<=Ni(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<p.length;q++){if(z(p[q]))continue;var A=B(p[q]);const le=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Ee=v[le]||[];v[le]=Ee,Ee.push(A)}R(v,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(p,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||v}function Nu(p){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,p),this.cb=Lo("retryDelaySeedMs",1e4,p),this.Wa=Lo("forwardChannelMaxRetries",2,p),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Nn(p&&p.concurrentRequestLimit),this.Da=new Oo,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nu.prototype,t.la=8,t.G=1,t.connect=function(p,v,A,q){Qt(0),this.W=p,this.H=v||{},A&&q!==void 0&&(this.H.OSID=A,this.H.OAID=q),this.F=this.X,this.I=Zf(this,null,this.W),Ou(this)};function Tc(p){if($f(p),p.G==3){var v=p.U++,A=rn(p.I);if(Nt(A,"SID",p.K),Nt(A,"RID",v),Nt(A,"TYPE","terminate"),Mo(p,A),v=new qn(p,p.j,v),v.L=2,v.v=Ki(rn(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=v.v,A=!0),A||(v.g=Jf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ut(v)}Wf(p)}function Ru(p){p.g&&(Po(p),p.g.cancel(),p.g=null)}function $f(p){Ru(p),p.u&&(c.clearTimeout(p.u),p.u=null),Du(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Ou(p){if(!Ur(p.h)&&!p.s){p.s=!0;var v=p.Ga;Q||S(),re||(Q(),re=!0),ie.add(v,p),p.B=0}}function p0(p,v){return Vr(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=v.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=mn(_(p.Ga,p,v),Sc(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const le=new qn(this,this.j,p);let Ee=this.o;if(this.S&&(Ee?(Ee=N(Ee),M(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(le.H=Ee,Ee=null),this.P)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var q=this.i[A];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(v+=q,4096<v){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=Gf(this,le,v),A=rn(this.I),Nt(A,"RID",p),Nt(A,"CVER",22),this.D&&Nt(A,"X-HTTP-Session-Id",this.D),Mo(this,A),Ee&&(this.O?v="headers="+encodeURIComponent(String(_c(Ee)))+"&"+v:this.m&&tr(A,this.m,Ee)),wi(this.h,le),this.Ua&&Nt(A,"TYPE","init"),this.P?(Nt(A,"$req",v),Nt(A,"SID","null"),le.T=!0,Be(le,A,null)):Be(le,A,v),this.G=2}}else this.G==3&&(p?bc(this,p):this.i.length==0||Ur(this.h)||bc(this))};function bc(p,v){var A;v?A=v.l:A=p.U++;const q=rn(p.I);Nt(q,"SID",p.K),Nt(q,"RID",A),Nt(q,"AID",p.T),Mo(p,q),p.m&&p.o&&tr(q,p.m,p.o),A=new qn(p,p.j,A,p.B+1),p.m===null&&(A.H=p.o),v&&(p.i=v.D.concat(p.i)),v=Gf(p,A,1e3),A.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),wi(p.h,A),Be(A,q,v)}function Mo(p,v){p.H&&G(p.H,function(A,q){Nt(v,q,A)}),p.l&&bt({},function(A,q){Nt(v,q,A)})}function Gf(p,v,A){A=Math.min(p.i.length,A);var q=p.l?_(p.l.Na,p.l,p):null;e:{var le=p.i;let Ee=-1;for(;;){const Me=["count="+A];Ee==-1?0<A?(Ee=le[0].g,Me.push("ofs="+Ee)):Ee=0:Me.push("ofs="+Ee);let wt=!0;for(let Yn=0;Yn<A;Yn++){let Ct=le[Yn].g;const nr=le[Yn].map;if(Ct-=Ee,0>Ct)Ee=Math.max(0,le[Yn].g-100),wt=!1;else try{fs(nr,Me,"req"+Ct+"_")}catch{q&&q(nr)}}if(wt){q=Me.join("&");break e}}}return p=p.i.splice(0,A),v.D=p,q}function Kf(p){if(!p.g&&!p.u){p.Y=1;var v=p.Fa;Q||S(),re||(Q(),re=!0),ie.add(v,p),p.v=0}}function vc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=mn(_(p.Fa,p),Sc(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Xf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=mn(_(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),Ru(this),Xf(this))};function Po(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Xf(p){p.g=new qn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var v=rn(p.qa);Nt(v,"RID","rpc"),Nt(v,"SID",p.K),Nt(v,"AID",p.T),Nt(v,"CI",p.F?"0":"1"),!p.F&&p.ja&&Nt(v,"TO",p.ja),Nt(v,"TYPE","xmlhttp"),Mo(p,v),p.m&&p.o&&tr(v,p.m,p.o),p.L&&(p.g.I=p.L);var A=p.g;p=p.ia,A.L=1,A.v=Ki(rn(v)),A.m=null,A.P=!0,gt(A,p)}t.Za=function(){this.C!=null&&(this.C=null,Ru(this),vc(this),Qt(19))};function Du(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Qf(p,v){var A=null;if(p.g==v){Du(p),Po(p),p.g=null;var q=2}else if(Ai(p.h,v))A=v.D,er(p.h,v),q=1;else return;if(p.G!=0){if(v.o)if(q==1){A=v.m?v.m.length:0,v=Date.now()-v.F;var le=p.B;q=ii(),Te(q,new Bt(q,A)),Ou(p)}else Kf(p);else if(le=v.s,le==3||le==0&&0<v.X||!(q==1&&p0(p,v)||q==2&&vc(p)))switch(A&&0<A.length&&(v=p.h,v.i=v.i.concat(A)),le){case 1:js(p,5);break;case 4:js(p,10);break;case 3:js(p,6);break;default:js(p,2)}}}function Sc(p,v){let A=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(A*=2),A*v}function js(p,v){if(p.j.info("Error code "+v),v==2){var A=_(p.fb,p),q=p.Xa;const le=!q;q=new pn(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cr(q,"https"),Ki(q),le?Ro(q.toString(),A):Xi(q.toString(),A)}else Qt(2);p.G=0,p.l&&p.l.sa(v),Wf(p),$f(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Wf(p){if(p.G=0,p.ka=[],p.l){const v=xo(p.h);(v.length!=0||p.i.length!=0)&&(k(p.ka,v),k(p.ka,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.ra()}}function Zf(p,v,A){var q=A instanceof pn?rn(A):new pn(A);if(q.g!="")v&&(q.g=v+"."+q.g),hr(q,q.s);else{var le=c.location;q=le.protocol,v=v?v+"."+le.hostname:le.hostname,le=+le.port;var Ee=new pn(null);q&&cr(Ee,q),v&&(Ee.g=v),le&&hr(Ee,le),A&&(Ee.l=A),q=Ee}return A=p.D,v=p.ya,A&&v&&Nt(q,A,v),Nt(q,"VER",p.la),Mo(p,q),q}function Jf(p,v,A){if(v&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=p.Ca&&!p.pa?new Ft(new va({eb:A})):new Ft(p.pa),v.Ha(p.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ed(){}t=ed.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ku(){}ku.prototype.g=function(p,v){return new zr(p,v)};function zr(p,v){ae.call(this),this.g=new Nu(v),this.l=p,this.h=v&&v.messageUrlParams||null,p=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(p?p["X-WebChannel-Content-Type"]=v.messageContentType:p={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(p?p["X-WebChannel-Client-Profile"]=v.va:p={"X-WebChannel-Client-Profile":v.va}),this.g.S=p,(p=v&&v.Sb)&&!z(p)&&(this.g.m=p),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,p=this.h,p!==null&&v in p&&(p=this.h,v in p&&delete p[v])),this.j=new gs(this)}w(zr,ae),zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zr.prototype.close=function(){Tc(this.g)},zr.prototype.o=function(p){var v=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.u&&(A={},A.__data__=St(p),p=A);v.i.push(new vn(v.Ya++,p)),v.G==3&&Ou(v)},zr.prototype.N=function(){this.g.l=null,delete this.j,Tc(this.g),delete this.g,zr.aa.N.call(this)};function td(p){kr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var v=p.__sm__;if(v){e:{for(const A in v){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,v=v!==null&&p in v?v[p]:void 0),this.data=v}else this.data=p}w(td,kr);function nd(){vr.call(this),this.status=1}w(nd,vr);function gs(p){this.g=p}w(gs,ed),gs.prototype.ua=function(){Te(this.g,"a")},gs.prototype.ta=function(p){Te(this.g,new td(p))},gs.prototype.sa=function(p){Te(this.g,new nd)},gs.prototype.ra=function(){Te(this.g,"b")},ku.prototype.createWebChannel=ku.prototype.g,zr.prototype.send=zr.prototype.o,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,$x=function(){return new ku},Yx=function(){return ii()},qx=$r,Uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Om=ai,Pr.COMPLETE="complete",jx=Pr,br.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Rh=br,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,zx=Ft}).apply(typeof mm<"u"?mm:typeof self<"u"?self:typeof window<"u"?window:{});const l2="@firebase/firestore",c2="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new K_("@firebase/firestore");function Tl(){return du.logLevel}function Ve(t,...e){if(du.logLevel<=_t.DEBUG){const n=e.map(W_);du.debug(`Firestore (${tc}): ${t}`,...n)}}function ma(t,...e){if(du.logLevel<=_t.ERROR){const n=e.map(W_);du.error(`Firestore (${tc}): ${t}`,...n)}}function ql(t,...e){if(du.logLevel<=_t.WARN){const n=e.map(W_);du.warn(`Firestore (${tc}): ${t}`,...n)}}function W_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Gx(t,r,n)}function Gx(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ma(r),new Error(r)}function zt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Gx(e,s,r)}function st(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends ya{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ir.UNAUTHENTICATED))}shutdown(){}}class U9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V9{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){zt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new fo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fo)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zt(typeof r.accessToken=="string",31837,{l:r}),new Kx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string",2055,{h:e}),new Ir(e)}}class H9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new H9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){zt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new h2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new h2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=j9(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function Vy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ft(r,s);{const o=Xx(),u=q9(o.encode(f2(t,n)),o.encode(f2(e,n)));return u!==0?u:ft(r,s)}}n+=r>65535?2:1}return ft(t.length,e.length)}function f2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function q9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ft(t[n],e[n]);return ft(t.length,e.length)}function Yl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=-62135596800,m2=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*m2);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d2)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m2}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-d2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new fn(0,0))}static max(){return new rt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="__name__";class ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&et(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=ws.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ft(e.length,n.length)}static compareSegments(e,n){const r=ws.isNumericId(e),s=ws.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ws.extractNumericId(e).compare(ws.extractNumericId(n)):Vy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ho.fromString(e.substring(4,e.length-2))}}class hn extends ws{construct(e,n,r){return new hn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new hn(n)}static emptyPath(){return new hn([])}}const Y9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends ws{construct(e,n,r){return new _r(e,n,r)}static isValidIdentifier(e){return Y9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p2}static keyField(){return new _r([p2])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new He(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new He(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new He(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(hn.fromString(e))}static fromName(e){return new Xe(hn.fromString(e).popFirst(5))}static empty(){return new Xe(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return hn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new hn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=-1;function $9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=rt.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new go(s,Xe.empty(),e)}function G9(t){return new go(t.readTime,t.key,of)}class go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new go(rt.min(),Xe.empty(),of)}static max(){return new go(rt.max(),Xe.empty(),of)}}function K9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==X9)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let s=0,o=0,u=!1;e.forEach(c=>{++s,c.next(()=>{++o,u&&o===s&&n()},f=>r(f))}),u=!0,o===s&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(s=>s?Ce.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next(m=>{u[d]=m,++c,c===o&&r(u)},m=>s(m))}})}static doWhile(e,n){return new Ce((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function W9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Mp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-1;function Pp(t){return t==null}function rp(t){return t===0&&1/t==-1/0}function Z9(t){return typeof t=="number"&&Number.isInteger(t)&&!rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="";function J9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g2(e)),e=eB(t.get(n),e);return g2(e)}function eB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case Wx:n+="";break;default:n+=o}}return n}function g2(t){return t+Wx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Zx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new Tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pm(this.root,e,this.comparator,!0)}}class pm{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??yr.RED,this.left=s??yr.EMPTY,this.right=o??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new yr(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw et(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y2(this.data.getIterator())}getIteratorFrom(e){return new y2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class y2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new Ei([])}unionWith(e){let n=new Xn(_r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Jx("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const tB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(t){if(zt(!!t,39018),typeof t=="string"){let e=0;const n=tB.exec(t);if(zt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Dn(t.seconds),nanos:Dn(t.nanos)}}function Dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="server_timestamp",tN="__type__",nN="__previous_value__",rN="__local_write_time__";function J_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[tN])===null||n===void 0?void 0:n.stringValue)===eN}function Bp(t){const e=t.mapValue.fields[nN];return J_(e)?Bp(e):e}function uf(t){const e=Eo(t.mapValue.fields[rN].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n,r,s,o,u,c,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const ip="(default)";class lf{constructor(e,n){this.projectId=e,this.database=n||ip}static empty(){return new lf("","")}get isDefaultDatabase(){return this.database===ip}isEqual(e){return e instanceof lf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="__type__",rB="__max__",gm={mapValue:{}},sN="__vector__",sp="value";function _o(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J_(t)?4:sB(t)?9007199254740991:iB(t)?10:11:et(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=_o(t);if(n!==_o(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uf(t).isEqual(uf(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Eo(s.timestampValue),c=Eo(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return yo(s.bytesValue).isEqual(yo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Dn(s.geoPointValue.latitude)===Dn(o.geoPointValue.latitude)&&Dn(s.geoPointValue.longitude)===Dn(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Dn(s.integerValue)===Dn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Dn(s.doubleValue),c=Dn(o.doubleValue);return u===c?rp(u)===rp(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return Yl(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(E2(u)!==E2(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!ks(u[f],c[f])))return!1;return!0}(t,e);default:return et(52216,{left:t})}}function cf(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function $l(t,e){if(t===e)return 0;const n=_o(t),r=_o(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(o,u){const c=Dn(o.integerValue||o.doubleValue),f=Dn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return _2(t.timestampValue,e.timestampValue);case 4:return _2(uf(t),uf(e));case 5:return Vy(t.stringValue,e.stringValue);case 6:return function(o,u){const c=yo(o),f=yo(u);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const m=ft(c[d],f[d]);if(m!==0)return m}return ft(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const c=ft(Dn(o.latitude),Dn(u.latitude));return c!==0?c:ft(Dn(o.longitude),Dn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return T2(t.arrayValue,e.arrayValue);case 10:return function(o,u){var c,f,d,m;const E=o.fields||{},_=u.fields||{},b=(c=E[sp])===null||c===void 0?void 0:c.arrayValue,w=(f=_[sp])===null||f===void 0?void 0:f.arrayValue,x=ft(((d=b?.values)===null||d===void 0?void 0:d.length)||0,((m=w?.values)===null||m===void 0?void 0:m.length)||0);return x!==0?x:T2(b,w)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===gm.mapValue&&u===gm.mapValue)return 0;if(o===gm.mapValue)return 1;if(u===gm.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let E=0;E<f.length&&E<m.length;++E){const _=Vy(f[E],m[E]);if(_!==0)return _;const b=$l(c[f[E]],d[m[E]]);if(b!==0)return b}return ft(f.length,m.length)}(t.mapValue,e.mapValue);default:throw et(23264,{Pe:n})}}function _2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=Eo(t),r=Eo(e),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function T2(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=$l(n[s],r[s]);if(o)return o}return ft(n.length,r.length)}function Gl(t){return Hy(t)}function Hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Eo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Hy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Hy(n.fields[u])}`;return s+"}"}(t.mapValue):et(61005,{value:t})}function Dm(t){switch(_o(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bp(t);return e?16+Dm(e):16;case 5:return 2*t.stringValue.length;case 6:return yo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Dm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return vo(r.fields,(o,u)=>{s+=o.length+Dm(u)}),s}(t.mapValue);default:throw et(13486,{value:t})}}function b2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fy(t){return!!t&&"integerValue"in t}function e1(t){return!!t&&"arrayValue"in t}function v2(t){return!!t&&"nullValue"in t}function S2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function iB(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iN])===null||n===void 0?void 0:n.stringValue)===sN}function Bh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!km(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(n)}setAll(e){let n=_r.emptyPath(),r={},s=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}u?r[c.lastSegment()]=Bh(u):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());km(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];km(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){vo(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ei(Bh(this.value))}}function aN(t){const e=[];return vo(t.fields,(n,r)=>{const s=new _r([n]);if(km(r)){const o=aN(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,r,s,o,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new xr(e,0,rt.min(),rt.min(),rt.min(),ei.empty(),0)}static newFoundDocument(e,n,r,s){return new xr(e,1,n,rt.min(),r,s,0)}static newNoDocument(e,n){return new xr(e,2,n,rt.min(),rt.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new xr(e,3,n,rt.min(),rt.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.position=e,this.inclusive=n}}function A2(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=Xe.comparator(Xe.fromName(u.referenceValue),n.key):r=$l(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function w2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n="asc"){this.field=e,this.dir=n}}function aB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{}class Fn extends oN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uB(e,n,r):n==="array-contains"?new hB(e,r):n==="in"?new fB(e,r):n==="not-in"?new dB(e,r):n==="array-contains-any"?new mB(e,r):new Fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lB(e,r):new cB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($l(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison($l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends oN{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new rs(e,n)}matches(e){return uN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function uN(t){return t.op==="and"}function lN(t){return oB(t)&&uN(t)}function oB(t){for(const e of t.filters)if(e instanceof rs)return!1;return!0}function zy(t){if(t instanceof Fn)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(lN(t))return t.filters.map(e=>zy(e)).join(",");{const e=t.filters.map(n=>zy(n)).join(",");return`${t.op}(${e})`}}function cN(t,e){return t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.field.isEqual(s.field)&&ks(r.value,s.value)}(t,e):t instanceof rs?function(r,s){return s instanceof rs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,c)=>o&&cN(u,s.filters[c]),!0):!1}(t,e):void et(19439)}function hN(t){return t instanceof Fn?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(t):t instanceof rs?function(n){return n.op.toString()+" {"+n.getFilters().map(hN).join(" ,")+"}"}(t):"Filter"}class uB extends Fn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class lB extends Fn{constructor(e,n){super(e,"in",n),this.keys=fN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cB extends Fn{constructor(e,n){super(e,"not-in",n),this.keys=fN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class hB extends Fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e1(n)&&cf(n.arrayValue,this.value)}}class fB extends Fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cf(this.value.arrayValue,n)}}class dB extends Fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cf(this.value.arrayValue,n)}}class mB extends Fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Ie=null}}function C2(t,e=null,n=[],r=[],s=null,o=null,u=null){return new pB(t,e,n,r,s,o,u)}function t1(t){const e=st(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Pp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gl(r)).join(",")),e.Ie=n}return e.Ie}function n1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w2(t.startAt,e.startAt)&&w2(t.endAt,e.endAt)}function jy(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gB(t,e,n,r,s,o,u,c){return new ic(t,e,n,r,s,o,u,c)}function dN(t){return new ic(t)}function I2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mN(t){return t.collectionGroup!==null}function Uh(t){const e=st(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Xn(_r.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new hf(o,r))}),n.has(_r.keyField().canonicalString())||e.Ee.push(new hf(_r.keyField(),r))}return e.Ee}function Ns(t){const e=st(t);return e.de||(e.de=EB(e,Uh(t))),e.de}function EB(t,e){if(t.limitType==="F")return C2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new hf(s.field,o)});const n=t.endAt?new ap(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ap(t.startAt.position,t.startAt.inclusive):null;return C2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qy(t,e){const n=t.filters.concat([e]);return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yy(t,e,n){return new ic(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Up(t,e){return n1(Ns(t),Ns(e))&&t.limitType===e.limitType}function pN(t){return`${t1(Ns(t))}|lt:${t.limitType}`}function bl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hN(s)).join(", ")}]`),Pp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Gl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Gl(s)).join(",")),`Target(${r})`}(Ns(t))}; limitType=${t.limitType})`}function Vp(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Uh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,c,f){const d=A2(u,c,f);return u.inclusive?d<=0:d<0}(r.startAt,Uh(r),s)||r.endAt&&!function(u,c,f){const d=A2(u,c,f);return u.inclusive?d>=0:d>0}(r.endAt,Uh(r),s))}(t,e)}function yB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gN(t){return(e,n)=>{let r=!1;for(const s of Uh(t)){const o=_B(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function _B(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?$l(f,d):et(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Zx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new Tn(Xe.comparator);function pa(){return TB}const EN=new Tn(Xe.comparator);function Oh(...t){let e=EN;for(const n of t)e=e.insert(n.key,n);return e}function yN(t){let e=EN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function su(){return Vh()}function _N(){return Vh()}function Vh(){return new _u(t=>t.toString(),(t,e)=>t.isEqual(e))}const bB=new Tn(Xe.comparator),vB=new Xn(Xe.comparator);function Tt(...t){let e=vB;for(const n of t)e=e.add(n);return e}const SB=new Xn(ft);function AB(){return SB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rp(e)?"-0":e}}function TN(t){return{integerValue:""+t}}function wB(t,e){return Z9(e)?TN(e):r1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this._=void 0}}function CB(t,e,n){return t instanceof op?function(s,o){const u={fields:{[tN]:{stringValue:eN},[rN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&J_(o)&&(o=Bp(o)),o&&(u.fields[nN]=o),{mapValue:u}}(n,e):t instanceof ff?vN(t,e):t instanceof df?SN(t,e):function(s,o){const u=bN(s,o),c=x2(u)+x2(s.Re);return Fy(u)&&Fy(s.Re)?TN(c):r1(s.serializer,c)}(t,e)}function IB(t,e,n){return t instanceof ff?vN(t,e):t instanceof df?SN(t,e):n}function bN(t,e){return t instanceof up?function(r){return Fy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class op extends Hp{}class ff extends Hp{constructor(e){super(),this.elements=e}}function vN(t,e){const n=AN(e);for(const r of t.elements)n.some(s=>ks(s,r))||n.push(r);return{arrayValue:{values:n}}}class df extends Hp{constructor(e){super(),this.elements=e}}function SN(t,e){let n=AN(e);for(const r of t.elements)n=n.filter(s=>!ks(s,r));return{arrayValue:{values:n}}}class up extends Hp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function x2(t){return Dn(t.integerValue||t.doubleValue)}function AN(t){return e1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ff&&s instanceof ff||r instanceof df&&s instanceof df?Yl(r.elements,s.elements,ks):r instanceof up&&s instanceof up?ks(r.Re,s.Re):r instanceof op&&s instanceof op}(t.transform,e.transform)}class NB{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fp{}function wN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zp(t.key,_i.none()):new If(t.key,t.data,_i.none());{const n=t.data,r=ei.empty();let s=new Xn(_r.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new So(t.key,r,new Ei(s.toArray()),_i.none())}}function RB(t,e,n){t instanceof If?function(s,o,u){const c=s.value.clone(),f=R2(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof So?function(s,o,u){if(!Lm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=R2(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(CN(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Hh(t,e,n,r){return t instanceof If?function(o,u,c,f){if(!Lm(o.precondition,u))return c;const d=o.value.clone(),m=O2(o.fieldTransforms,f,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof So?function(o,u,c,f){if(!Lm(o.precondition,u))return c;const d=O2(o.fieldTransforms,f,u),m=u.data;return m.setAll(CN(o)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(o,u,c){return Lm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function OB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=bN(r.transform,s||null);o!=null&&(n===null&&(n=ei.empty()),n.set(r.field,o))}return n||null}function N2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yl(r,s,(o,u)=>xB(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class If extends Fp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class So extends Fp{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function R2(t,e,n){const r=new Map;zt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,IB(u,c,n[s]))}return r}function O2(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,CB(o,u,e))}return r}class zp extends Fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DB extends Fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&RB(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_N();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=n.has(s.key)?null:c;const f=wN(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,(n,r)=>N2(n,r))&&Yl(this.baseMutations,e.baseMutations,(n,r)=>N2(n,r))}}class i1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){zt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return bB}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new i1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,xt;function PB(t){switch(t){case we.OK:return et(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return et(15467,{code:t})}}function IN(t){if(t===void 0)return ma("GRPC error has no .code"),we.UNKNOWN;switch(t){case Un.OK:return we.OK;case Un.CANCELLED:return we.CANCELLED;case Un.UNKNOWN:return we.UNKNOWN;case Un.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Un.INTERNAL:return we.INTERNAL;case Un.UNAVAILABLE:return we.UNAVAILABLE;case Un.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Un.NOT_FOUND:return we.NOT_FOUND;case Un.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Un.ABORTED:return we.ABORTED;case Un.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Un.DATA_LOSS:return we.DATA_LOSS;default:return et(39323,{code:t})}}(xt=Un||(Un={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=new ho([4294967295,4294967295],0);function D2(t){const e=Xx().encode(t),n=new Fx;return n.update(e),new Uint8Array(n.digest())}function k2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ho([n,r],0),new ho([s,o],0)]}class s1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dh(`Invalid padding: ${n}`);if(r<0)throw new Dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ho.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(ho.fromNumber(r)));return s.compare(BB)===1&&(s=new ho([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=D2(e),[r,s]=k2(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new s1(o,s,n);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const n=D2(e),[r,s]=k2(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,xf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jp(rt.min(),s,new Tn(ft),pa(),Tt())}}class xf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xf(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class xN{constructor(e,n){this.targetId=e,this.Ce=n}}class NN{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class L2{constructor(){this.Fe=0,this.Me=M2(),this.xe=Tr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Tt(),n=Tt(),r=Tt();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:et(38017,{changeType:o})}}),new xf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=M2()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,zt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class UB{constructor(e){this.ze=e,this.je=new Map,this.He=pa(),this.Je=Em(),this.Ye=Em(),this.Ze=new Tn(ft)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:et(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(jy(o))if(r===0){const u=new Xe(o.path);this.tt(n,u,xr.newNoDocument(u,rt.min()))}else zt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const c=this.ct(e),f=c?this.lt(c,e,u):1;if(f!==0){this.st(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,c;try{u=yo(r).toUint8Array()}catch(f){if(f instanceof Jx)return ql("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new s1(u,s,o)}catch(f){return ql(f instanceof Dh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,u)=>{const c=this._t(u);if(c){if(o.current&&jy(c.target)){const f=new Xe(c.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,xr.newNoDocument(f,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=Tt();this.Ye.forEach((o,u)=>{let c=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new jp(e,n,this.Ze,this.He,r);return this.He=pa(),this.Je=Em(),this.Ye=Em(),this.Ze=new Tn(ft),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new L2,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Xn(ft),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Xn(ft),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new L2),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Em(){return new Tn(Xe.comparator)}function M2(){return new Tn(Xe.comparator)}const VB={asc:"ASCENDING",desc:"DESCENDING"},HB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FB={and:"AND",or:"OR"};class zB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $y(t,e){return t.useProto3Json||Pp(e)?e:{value:e}}function lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jB(t,e){return lp(t,e.toTimestamp())}function Rs(t){return zt(!!t,49232),rt.fromTimestamp(function(n){const r=Eo(n);return new fn(r.seconds,r.nanos)}(t))}function a1(t,e){return Gy(t,e).canonicalString()}function Gy(t,e){const n=function(s){return new hn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ON(t){const e=hn.fromString(t);return zt(PN(e),10190,{key:e.toString()}),e}function Ky(t,e){return a1(t.databaseId,e.path)}function BE(t,e){const n=ON(e);if(n.get(1)!==t.databaseId.projectId)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(kN(n))}function DN(t,e){return a1(t.databaseId,e)}function qB(t){const e=ON(t);return e.length===4?hn.emptyPath():kN(e)}function Xy(t){return new hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kN(t){return zt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P2(t,e,n){return{name:Ky(t,e),fields:n.value.mapValue.fields}}function YB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:et(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(zt(m===void 0||typeof m=="string",58123),Tr.fromBase64String(m||"")):(zt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Tr.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const m=d.code===void 0?we.UNKNOWN:IN(d.code);return new He(m,d.message||"")}(u);n=new NN(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=BE(t,r.document.name),o=Rs(r.document.updateTime),u=r.document.createTime?Rs(r.document.createTime):rt.min(),c=new ei({mapValue:{fields:r.document.fields}}),f=xr.newFoundDocument(s,o,u,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Mm(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=BE(t,r.document),o=r.readTime?Rs(r.readTime):rt.min(),u=xr.newNoDocument(s,o),c=r.removedTargetIds||[];n=new Mm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=BE(t,r.document),o=r.removedTargetIds||[];n=new Mm([],o,s,null)}else{if(!("filter"in e))return et(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new MB(s,o),c=r.targetId;n=new xN(c,u)}}return n}function $B(t,e){let n;if(e instanceof If)n={update:P2(t,e.key,e.value)};else if(e instanceof zp)n={delete:Ky(t,e.key)};else if(e instanceof So)n={update:P2(t,e.key,e.data),updateMask:tU(e.fieldMask)};else{if(!(e instanceof DB))return et(16599,{ft:e.type});n={verify:Ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof op)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ff)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof df)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof up)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw et(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:jB(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:et(27497)}(t,e.precondition)),n}function GB(t,e){return t&&t.length>0?(zt(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?Rs(s.updateTime):Rs(o);return u.isEqual(rt.min())&&(u=Rs(o)),new NB(u,s.transformResults||[])}(n,e))):[]}function KB(t,e){return{documents:[DN(t,e.path)]}}function XB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DN(t,s);const o=function(d){if(d.length!==0)return MN(rs.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:vl(_.field),direction:ZB(_.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=$y(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function QB(t){let e=qB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){zt(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(E){const _=LN(E);return _ instanceof rs&&lN(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(E){return E.map(_=>function(w){return new hf(Sl(w.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(E){let _;return _=typeof E=="object"?E.value:E,Pp(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(E){const _=!!E.before,b=E.values||[];return new ap(b,_)}(n.startAt));let d=null;return n.endAt&&(d=function(E){const _=!E.before,b=E.values||[];return new ap(b,_)}(n.endAt)),gB(e,s,u,o,c,"F",f,d)}function WB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sl(n.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Sl(n.unaryFilter.field);return Fn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Sl(n.unaryFilter.field);return Fn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Sl(n.unaryFilter.field);return Fn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return et(61313);default:return et(60726)}}(t):t.fieldFilter!==void 0?function(n){return Fn.create(Sl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return et(58110);default:return et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rs.create(n.compositeFilter.filters.map(r=>LN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return et(1026)}}(n.compositeFilter.op))}(t):et(30097,{filter:t})}function ZB(t){return VB[t]}function JB(t){return HB[t]}function eU(t){return FB[t]}function vl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return _r.fromServerFormat(t.fieldPath)}function MN(t){return t instanceof Fn?function(n){if(n.op==="=="){if(S2(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(v2(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S2(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(v2(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:JB(n.op),value:n.value}}}(t):t instanceof rs?function(n){const r=n.getFilters().map(s=>MN(s));return r.length===1?r[0]:{compositeFilter:{op:eU(n.op),filters:r}}}(t):et(54877,{filter:t})}function tU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r,s,o=rt.min(),u=rt.min(),c=Tr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.wt=e}}function rU(t){const e=QB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.Cn=new sU}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(go.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class sU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xn(hn.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xn(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BN=41943040;class Jr{static withCacheSize(e){return new Jr(e,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr.DEFAULT_COLLECTION_PERCENTILE=10,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jr.DEFAULT=new Jr(BN,Jr.DEFAULT_COLLECTION_PERCENTILE,Jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jr.DISABLED=new Jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Kl(0)}static lr(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="LruGarbageCollector",aU=1048576;function V2([t,e],[n,r]){const s=ft(t,n);return s===0?ft(e,r):s}class oU{constructor(e){this.Er=e,this.buffer=new Xn(V2),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ve(U2,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?Ve(U2,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.mr(3e5)})}}class lU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ce.resolve(Mp.le);const r=new oU(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(B2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B2):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,u,c,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(r=E,c=Date.now(),this.removeTargets(e,r,n))).next(E=>(o=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(d=Date.now(),Tl()<=_t.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${E} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:E})))}}function cU(t,e){return new lU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.changes=new _u(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Hh(r.mutation,s,Ei.empty(),fn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const s=su();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let u=Oh();return o.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=su();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,s){let o=pa();const u=Vh(),c=function(){return Vh()}();return n.forEach((f,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof So)?o=o.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),Hh(m.mutation,d,m.mutation.getFieldMask(),fn.now())):u.set(d.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,m)=>u.set(d,m)),n.forEach((d,m)=>{var E;return c.set(d,new fU(m,(E=u.get(d))!==null&&E!==void 0?E:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Vh();let s=new Tn((u,c)=>u-c),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||Ei.empty();m=c.applyToLocalView(d,m),r.set(f,m);const E=(s.get(c.batchId)||Tt()).add(f);s=s.insert(c.batchId,E)})}).next(()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,m=f.value,E=_N();m.forEach(_=>{if(!o.has(_)){const b=wN(n.get(_),r.get(_));b!==null&&E.set(_,b),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,E))}return Ce.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return Xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):Ce.resolve(su());let c=of,f=o;return u.next(d=>Ce.forEach(d,(m,E)=>(c<E.largestBatchId&&(c=E.largestBatchId),o.get(m)?Ce.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{f=f.insert(m,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Tt())).next(m=>({batchId:c,changes:yN(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next(r=>{let s=Oh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=Oh();return this.indexManager.getCollectionParents(e,o).next(c=>Ce.forEach(c,f=>{const d=function(E,_){return new ic(_,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(m=>{m.forEach((E,_)=>{u=u.insert(E,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(u=>{o.forEach((f,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,xr.newInvalidDocument(m)))});let c=Oh();return u.forEach((f,d)=>{const m=o.get(f);m!==void 0&&Hh(m.mutation,d,Ei.empty(),fn.now()),Vp(n,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rs(s.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:rU(s.bundledQuery),readTime:Rs(s.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.overlays=new Tn(Xe.comparator),this.Qr=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=su();return Ce.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const s=su(),o=n.length+1,u=new Xe(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Ce.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Tn((d,m)=>d-m);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=su(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=su(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=s)););return Ce.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new LB(n,r));let o=this.Qr.get(n);o===void 0&&(o=Tt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.$r=new Xn(or.Ur),this.Kr=new Xn(or.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new or(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new or(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Xe(new hn([])),r=new or(n,e),s=new or(n,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Xe(new hn([])),r=new or(n,e),s=new or(n,e+1);let o=Tt();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new or(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class or{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Xe.comparator(e.key,n.key)||ft(e.Zr,n.Zr)}static Wr(e,n){return ft(e.Zr,n.Zr)||Xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Xn(or.Ur)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kB(o,n,r,s);this.mutationQueue.push(u);for(const c of s)this.Xr=this.Xr.add(new or(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ce.resolve(u)}lookupMutationBatch(e,n){return Ce.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return Ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?Z_:this.nr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new or(n,0),s=new or(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const c=this.ei(u.Zr);o.push(c)}),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(ft);return n.forEach(s=>{const o=new or(s,0),u=new or(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],c=>{r=r.add(c.Zr)})}),Ce.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Xe.isDocumentKey(o)||(o=o.child(""));const u=new or(new Xe(o),0);let c=new Xn(ft);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Zr)),!0)},u),Ce.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){zt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Ce.forEach(n.mutations,s=>{const o=new or(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new or(n,0),s=this.Xr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.ii=e,this.docs=function(){return new Tn(Xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(n))}getEntries(e,n){let r=pa();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():xr.newInvalidDocument(s))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=pa();const u=n.path,c=new Xe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||K9(G9(m),r)<=0||(s.has(m.key)||Vp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Ce.resolve(o)}getAllFromCollectionGroup(e,n,r,s){et(9500)}si(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _U(this)}getSize(e){return Ce.resolve(this.size)}}class _U extends hU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e){this.persistence=e,this.oi=new _u(n=>t1(n),n1),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this._i=0,this.ai=new o1,this.targetCount=0,this.ui=Kl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Ce.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Tr(n),Ce.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Ce.waitFor(o).next(()=>s)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),Ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.ci={},this.overlays={},this.li=new Mp(0),this.hi=!1,this.hi=!0,this.Pi=new gU,this.referenceDelegate=e(this),this.Ti=new TU(this),this.indexManager=new iU,this.remoteDocumentCache=function(s){return new yU(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new nU(n),this.Ei=new mU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new EU(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const s=new bU(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return Ce.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class bU extends Q9{constructor(e){super(),this.currentSequenceNumber=e}}class u1{constructor(e){this.persistence=e,this.Vi=new o1,this.mi=null}static fi(e){return new u1(e)}get gi(){if(this.mi)return this.mi;throw et(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.gi,r=>{const s=Xe.fromPath(r);return this.pi(e,s).next(o=>{o||n.removeEntry(s,rt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Ce.or([()=>Ce.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class cp{constructor(e,n){this.persistence=e,this.yi=new _u(r=>J9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=cU(this,n)}static fi(e,n){return new cp(e,n)}di(){}Ai(e){return Ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Ce.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?Ce.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(c=>{c||(r++,o.removeEntry(u,rt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ce.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Ce.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dm(e.data.value)),n}Dr(e,n,r){return Ce.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return Ce.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Tt(),s=Tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new l1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return E8()?8:W9(Rr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new vU;return this.Ss(e,n,u).next(c=>{if(o.result=c,this.fs)return this.Ds(e,n,u,c.size)})}).next(()=>o.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Tl()<=_t.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ce.resolve()):(Tl()<=_t.DEBUG&&Ve("QueryEngine","Query:",bl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Tl()<=_t.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(n))):Ce.resolve())}ws(e,n){if(I2(n))return Ce.resolve(null);let r=Ns(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yy(n,null,"F"),r=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Tt(...o);return this.ys.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.vs(n,c);return this.Cs(n,d,u,f.readTime)?this.ws(e,Yy(n,null,"F")):this.Fs(e,d,n,f)}))})))}bs(e,n,r,s){return I2(n)||s.isEqual(rt.min())?Ce.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,s)?Ce.resolve(null):(Tl()<=_t.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bl(n)),this.Fs(e,u,n,$9(s,of)).next(c=>c))})}vs(e,n){let r=new Xn(gN(e));return n.forEach((s,o)=>{Vp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Tl()<=_t.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",bl(n)),this.ys.getDocumentsMatchingQuery(e,n,go.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="LocalStore",AU=3e8;class wU{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Tn(ft),this.Os=new _u(o=>t1(o),n1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function CU(t,e,n,r){return new wU(t,e,n,r)}async function VN(t,e){const n=st(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let f=Tt();for(const d of s){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:c}))})})}function IU(t,e){const n=st(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,f,d,m){const E=d.batch,_=E.keys();let b=Ce.resolve();return _.forEach(w=>{b=b.next(()=>m.getEntry(f,w)).next(x=>{const k=d.docVersions.get(w);zt(k!==null,48541),x.version.compareTo(k)<0&&(E.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),m.addEntry(x)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(f,E))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Tt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HN(t){const e=st(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function xU(t,e){const n=st(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((m,E)=>{const _=s.get(E);if(!_)return;c.push(n.Ti.removeMatchingKeys(o,m.removedDocuments,E).next(()=>n.Ti.addMatchingKeys(o,m.addedDocuments,E)));let b=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(Tr.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),s=s.insert(E,b),function(x,k,D){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=AU?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,b,m)&&c.push(n.Ti.updateTargetData(o,b))});let f=pa(),d=Tt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(NU(o,u,e.documentUpdates).next(m=>{f=m.qs,d=m.Qs})),!r.isEqual(rt.min())){const m=n.Ti.getLastRemoteSnapshotVersion(o).next(E=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return Ce.waitFor(c).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.xs=s,o))}function NU(t,e,n){let r=Tt(),s=Tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=pa();return n.forEach((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(rt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Ve(c1,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function RU(t,e){const n=st(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Z_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function OU(t,e){const n=st(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(o=>o?(s=o,Ce.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new io(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Qy(t,e,n){const r=st(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!rc(u))throw u;Ve(c1,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function H2(t,e,n){const r=st(t);let s=rt.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,m){const E=st(f),_=E.Os.get(m);return _!==void 0?Ce.resolve(E.xs.get(_)):E.Ti.getTargetData(d,m)}(r,u,Ns(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,c.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:rt.min(),n?o:Tt())).next(c=>(DU(r,yB(e),c),{documents:c,$s:o})))}function DU(t,e,n){let r=t.Ns.get(e)||rt.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class F2{constructor(){this.activeTargetIds=AB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kU{constructor(){this.xo=new F2,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new F2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="ConnectivityMonitor";class j2{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ve(z2,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ve(z2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym=null;function Wy(){return ym===null?ym=function(){return 268435456+Math.round(2147483648*Math.random())}():ym++,"0x"+ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="RestConnection",MU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===ip?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const u=Wy(),c=this.jo(e,n.toUriEncodedString());Ve(UE,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:d}=new URL(c),m=Jl(d);return this.Jo(e,c,f,r,m).then(E=>(Ve(UE,`Received RPC '${e}' ${u}: `,E),E),E=>{throw ql(UE,`RPC '${e}' ${u} failed with error: `,E,"url: ",c,"request:",r),E})}Yo(e,n,r,s,o,u){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const r=MU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class UU extends PU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const u=Wy();return new Promise((c,f)=>{const d=new zx;d.setWithCredentials(!0),d.listenOnce(jx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Om.NO_ERROR:const E=d.getResponseJson();Ve(wr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),c(E);break;case Om.TIMEOUT:Ve(wr,`RPC '${e}' ${u} timed out`),f(new He(we.DEADLINE_EXCEEDED,"Request time out"));break;case Om.HTTP_ERROR:const _=d.getStatus();if(Ve(wr,`RPC '${e}' ${u} failed with status:`,_,"response text:",d.getResponseText()),_>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const x=function(D){const z=D.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(z)>=0?z:we.UNKNOWN}(w.status);f(new He(x,w.message))}else f(new He(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new He(we.UNAVAILABLE,"Connection failed."));break;default:et(9055,{h_:e,streamId:u,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Ve(wr,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);Ve(wr,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",m,r,15)})}I_(e,n,r){const s=Wy(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$x(),c=Yx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=o.join("");Ve(wr,`Creating RPC '${e}' stream ${s}: ${m}`,f);const E=u.createWebChannel(m,f);this.E_(E);let _=!1,b=!1;const w=new BU({Zo:k=>{b?Ve(wr,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(_||(Ve(wr,`Opening RPC '${e}' stream ${s} transport.`),E.open(),_=!0),Ve(wr,`RPC '${e}' stream ${s} sending:`,k),E.send(k))},Xo:()=>E.close()}),x=(k,D,z)=>{k.listen(D,Y=>{try{z(Y)}catch(j){setTimeout(()=>{throw j},0)}})};return x(E,Rh.EventType.OPEN,()=>{b||(Ve(wr,`RPC '${e}' stream ${s} transport opened.`),w.__())}),x(E,Rh.EventType.CLOSE,()=>{b||(b=!0,Ve(wr,`RPC '${e}' stream ${s} transport closed`),w.u_(),this.d_(E))}),x(E,Rh.EventType.ERROR,k=>{b||(b=!0,ql(wr,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),w.u_(new He(we.UNAVAILABLE,"The operation could not be completed")))}),x(E,Rh.EventType.MESSAGE,k=>{var D;if(!b){const z=k.data[0];zt(!!z,16349);const Y=z,j=Y?.error||((D=Y[0])===null||D===void 0?void 0:D.error);if(j){Ve(wr,`RPC '${e}' stream ${s} received error:`,j);const Z=j.status;let G=function(O){const M=Un[O];if(M!==void 0)return IN(M)}(Z),R=j.message;G===void 0&&(G=we.INTERNAL,R="Unknown error status: "+Z+" with message "+j.message),b=!0,w.u_(new He(G,R)),E.close()}else Ve(wr,`RPC '${e}' stream ${s} received:`,z),w.c_(z)}}),x(c,qx.STAT_EVENT,k=>{k.stat===Uy.PROXY?Ve(wr,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Uy.NOPROXY&&Ve(wr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function VE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return new zB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="PersistentStream";class zN{constructor(e,n,r,s,o,u,c,f){this.xi=e,this.S_=r,this.D_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new FN(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(ma(n.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new He(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ve(q2,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ve(q2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VU extends zN{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=YB(this.serializer,e),r=function(o){if(!("targetChange"in o))return rt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?rt.min():u.readTime?Rs(u.readTime):rt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Xy(this.serializer),n.addTarget=function(o,u){let c;const f=u.target;if(c=jy(f)?{documents:KB(o,f)}:{query:XB(o,f).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=RN(o,u.resumeToken);const d=$y(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(rt.min())>0){c.readTime=lp(o,u.snapshotVersion.toTimestamp());const d=$y(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=WB(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Xy(this.serializer),n.removeTarget=e,this.Q_(n)}}class HU extends zN{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=GB(e.writeResults,e.commitTime),r=Rs(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Xy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$B(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{}class zU extends FU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Gy(n,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new He(we.UNKNOWN,o.toString())})}Yo(e,n,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Yo(e,Gy(n,r),s,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new He(we.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class jU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ma(n),this.ua=!1):Ve("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="RemoteStore";class qU{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Tu(this)&&(Ve(mu,"Restarting streams for network reachability change."),await async function(f){const d=st(f);d.da.add(4),await Nf(d),d.Va.set("Unknown"),d.da.delete(4),await Yp(d)}(this))})}),this.Va=new jU(r,s)}}async function Yp(t){if(Tu(t))for(const e of t.Aa)await e(!0)}async function Nf(t){for(const e of t.Aa)await e(!1)}function jN(t,e){const n=st(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),m1(n)?d1(n):sc(n).N_()&&f1(n,e))}function h1(t,e){const n=st(t),r=sc(n);n.Ea.delete(e),r.N_()&&qN(n,e),n.Ea.size===0&&(r.N_()?r.k_():Tu(n)&&n.Va.set("Unknown"))}function f1(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sc(t).Z_(e)}function qN(t,e){t.ma.Ke(e),sc(t).X_(e)}function d1(t){t.ma=new UB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),sc(t).start(),t.Va.ca()}function m1(t){return Tu(t)&&!sc(t).O_()&&t.Ea.size>0}function Tu(t){return st(t).da.size===0}function YN(t){t.ma=void 0}async function YU(t){t.Va.set("Online")}async function $U(t){t.Ea.forEach((e,n)=>{f1(t,e)})}async function GU(t,e){YN(t),m1(t)?(t.Va.Pa(e),d1(t)):t.Va.set("Unknown")}async function KU(t,e,n){if(t.Va.set("Online"),e instanceof NN&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Ve(mu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof Mm?t.ma.Xe(e):e instanceof xN?t.ma.ot(e):t.ma.nt(e),!n.isEqual(rt.min()))try{const r=await HN(t.localStore);n.compareTo(r)>=0&&await function(o,u){const c=o.ma.It(u);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ea.get(d);m&&o.Ea.set(d,m.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,d)=>{const m=o.Ea.get(f);if(!m)return;o.Ea.set(f,m.withResumeToken(Tr.EMPTY_BYTE_STRING,m.snapshotVersion)),qN(o,f);const E=new io(m.target,f,d,m.sequenceNumber);f1(o,E)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Ve(mu,"Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!rc(e))throw e;t.da.add(1),await Nf(t),t.Va.set("Offline"),n||(n=()=>HN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve(mu,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Yp(t)})}function $N(t,e){return e().catch(n=>hp(t,n,e))}async function $p(t){const e=st(t),n=To(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Z_;for(;XU(e);)try{const s=await RU(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,QU(e,s)}catch(s){await hp(e,s)}GN(e)&&KN(e)}function XU(t){return Tu(t)&&t.Ia.length<10}function QU(t,e){t.Ia.push(e);const n=To(t);n.N_()&&n.ea&&n.ta(e.mutations)}function GN(t){return Tu(t)&&!To(t).O_()&&t.Ia.length>0}function KN(t){To(t).start()}async function WU(t){To(t).ia()}async function ZU(t){const e=To(t);for(const n of t.Ia)e.ta(n.mutations)}async function JU(t,e,n){const r=t.Ia.shift(),s=i1.from(r,e,n);await $N(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await $p(t)}async function e7(t,e){e&&To(t).ea&&await async function(r,s){if(function(u){return PB(u)&&u!==we.ABORTED}(s.code)){const o=r.Ia.shift();To(r).L_(),await $N(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await $p(r)}}(t,e),GN(t)&&KN(t)}async function Y2(t,e){const n=st(t);n.asyncQueue.verifyOperationInProgress(),Ve(mu,"RemoteStore received new credentials");const r=Tu(n);n.da.add(3),await Nf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Yp(n)}async function t7(t,e){const n=st(t);e?(n.da.delete(2),await Yp(n)):e||(n.da.add(2),await Nf(n),n.Va.set("Unknown"))}function sc(t){return t.fa||(t.fa=function(n,r,s){const o=st(n);return o.oa(),new VU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:YU.bind(null,t),n_:$U.bind(null,t),i_:GU.bind(null,t),Y_:KU.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),m1(t)?d1(t):t.Va.set("Unknown")):(await t.fa.stop(),YN(t))})),t.fa}function To(t){return t.ga||(t.ga=function(n,r,s){const o=st(n);return o.oa(),new HU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:WU.bind(null,t),i_:e7.bind(null,t),na:ZU.bind(null,t),ra:JU.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await $p(t)):(await t.ga.stop(),t.Ia.length>0&&(Ve(mu,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,c=new p1(e,n,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function g1(t,e){if(ma("AsyncQueue",`${e}: ${t}`),rc(t))return new He(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=Oh(),this.sortedSet=new Tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.pa=new Tn(Xe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):et(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xl{constructor(e,n,r,s,o,u,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new Xl(e,n,Dl.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class r7{constructor(){this.queries=G2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=st(n),o=s.queries;s.queries=G2(),o.forEach((u,c)=>{for(const f of c.Sa)f.onError(r)})})(this,new He(we.ABORTED,"Firestore shutting down"))}}function G2(){return new _u(t=>pN(t),Up)}async function i7(t,e){const n=st(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Da()&&e.va()&&(r=2):(o=new n7,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(s,!0);break;case 1:o.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const c=g1(u,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&E1(n)}async function s7(t,e){const n=st(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a7(t,e){const n=st(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const c of u.Sa)c.Ma(s)&&(r=!0);u.ba=s}}r&&E1(n)}function o7(t,e,n){const r=st(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function E1(t){t.Ca.forEach(e=>{e.next()})}var Zy,K2;(K2=Zy||(Zy={})).xa="default",K2.Cache="cache";class u7{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Zy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.key=e}}class QN{constructor(e){this.key=e}}class l7{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Tt(),this.mutatedKeys=Tt(),this.Za=gN(e),this.Xa=new Dl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new $2,s=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,E)=>{const _=s.get(m),b=Vp(this.query,E)?E:null,w=!!_&&this.mutatedKeys.has(_.key),x=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let k=!1;_&&b?_.data.isEqual(b.data)?w!==x&&(r.track({type:3,doc:b}),k=!0):this.ru(_,b)||(r.track({type:2,doc:b}),k=!0,(f&&this.Za(b,f)>0||d&&this.Za(b,d)<0)&&(c=!0)):!_&&b?(r.track({type:0,doc:b}),k=!0):_&&!b&&(r.track({type:1,doc:_}),k=!0,(f||d)&&(c=!0)),k&&(b?(u=u.add(b),o=x?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Xa:u,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((m,E)=>function(b,w){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et(20277,{Vt:k})}};return x(b)-x(w)}(m.type,E.type)||this.Za(m.doc,E.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Ja;return this.Ja=f,u.length!==0||d?{snapshot:new Xl(this.query,e.Xa,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Tt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new QN(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new XN(r))}),n}au(e){this.Ha=e.$s,this.Ya=Tt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Xl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const y1="SyncEngine";class c7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class h7{constructor(e){this.key=e,this.cu=!1}}class f7{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new _u(c=>pN(c),Up),this.Pu=new Map,this.Tu=new Set,this.Iu=new Tn(Xe.comparator),this.Eu=new Map,this.du=new o1,this.Au={},this.Ru=new Map,this.Vu=Kl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function d7(t,e,n=!0){const r=nR(t);let s;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await WN(r,e,n,!0),s}async function m7(t,e){const n=nR(t);await WN(n,e,!0,!1)}async function WN(t,e,n,r){const s=await OU(t.localStore,Ns(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await p7(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&jN(t.remoteStore,s),c}async function p7(t,e,n,r,s){t.fu=(E,_,b)=>async function(x,k,D,z){let Y=k.view.tu(D);Y.Cs&&(Y=await H2(x.localStore,k.query,!1).then(({documents:R})=>k.view.tu(R,Y)));const j=z&&z.targetChanges.get(k.targetId),Z=z&&z.targetMismatches.get(k.targetId)!=null,G=k.view.applyChanges(Y,x.isPrimaryClient,j,Z);return Q2(x,k.targetId,G.ou),G.snapshot}(t,E,_,b);const o=await H2(t.localStore,e,!0),u=new l7(e,o.$s),c=u.tu(o.documents),f=xf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(c,t.isPrimaryClient,f);Q2(t,n,d.ou);const m=new c7(e,n,u);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function g7(t,e,n){const r=st(t),s=r.hu.get(e),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter(u=>!Up(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&h1(r.remoteStore,s.targetId),Jy(r,s.targetId)}).catch(nc)):(Jy(r,s.targetId),await Qy(r.localStore,s.targetId,!0))}async function E7(t,e){const n=st(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),h1(n.remoteStore,r.targetId))}async function y7(t,e,n){const r=w7(t);try{const s=await function(u,c){const f=st(u),d=fn.now(),m=c.reduce((b,w)=>b.add(w.key),Tt());let E,_;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let w=pa(),x=Tt();return f.Bs.getEntries(b,m).next(k=>{w=k,w.forEach((D,z)=>{z.isValidDocument()||(x=x.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,w)).next(k=>{E=k;const D=[];for(const z of c){const Y=OB(z,E.get(z.key).overlayedDocument);Y!=null&&D.push(new So(z.key,Y,aN(Y.value.mapValue),_i.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,D,c)}).next(k=>{_=k;const D=k.applyToLocalDocumentSet(E,x);return f.documentOverlayCache.saveOverlays(b,k.batchId,D)})}).then(()=>({batchId:_.batchId,changes:yN(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,f){let d=u.Au[u.currentUser.toKey()];d||(d=new Tn(ft)),d=d.insert(c,f),u.Au[u.currentUser.toKey()]=d}(r,s.batchId,n),await Rf(r,s.changes),await $p(r.remoteStore)}catch(s){const o=g1(s,"Failed to persist write");n.reject(o)}}async function ZN(t,e){const n=st(t);try{const r=await xU(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n.Eu.get(o);u&&(zt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?zt(u.cu,14607):s.removedDocuments.size>0&&(zt(u.cu,42227),u.cu=!1))}),await Rf(n,r,e)}catch(r){await nc(r)}}function X2(t,e,n){const r=st(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((o,u)=>{const c=u.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(u,c){const f=st(u);f.onlineState=c;let d=!1;f.queries.forEach((m,E)=>{for(const _ of E.Sa)_.Fa(c)&&(d=!0)}),d&&E1(f)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _7(t,e,n){const r=st(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new Tn(Xe.comparator);u=u.insert(o,xr.newNoDocument(o,rt.min()));const c=Tt().add(o),f=new jp(rt.min(),new Map,new Tn(ft),u,c);await ZN(r,f),r.Iu=r.Iu.remove(o),r.Eu.delete(e),_1(r)}else await Qy(r.localStore,e,!1).then(()=>Jy(r,e,n)).catch(nc)}async function T7(t,e){const n=st(t),r=e.batch.batchId;try{const s=await IU(n.localStore,e);eR(n,r,null),JN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rf(n,s)}catch(s){await nc(s)}}async function b7(t,e,n){const r=st(t);try{const s=await function(u,c){const f=st(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return f.mutationQueue.lookupMutationBatch(d,c).next(E=>(zt(E!==null,37113),m=E.keys(),f.mutationQueue.removeMutationBatch(d,E))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>f.localDocuments.getDocuments(d,m))})}(r.localStore,e);eR(r,e,n),JN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rf(r,s)}catch(s){await nc(s)}}function JN(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function eR(t,e,n){const r=st(t);let s=r.Au[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Jy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||tR(t,r)})}function tR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(h1(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),_1(t))}function Q2(t,e,n){for(const r of n)r instanceof XN?(t.du.addReference(r.key,e),v7(t,r)):r instanceof QN?(Ve(y1,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||tR(t,r.key)):et(19791,{pu:r})}function v7(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ve(y1,"New document in limbo: "+n),t.Tu.add(r),_1(t))}function _1(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Xe(hn.fromString(e)),r=t.Vu.next();t.Eu.set(r,new h7(n)),t.Iu=t.Iu.insert(n,r),jN(t.remoteStore,new io(Ns(dN(n.path)),r,"TargetPurposeLimboResolution",Mp.le))}}async function Rf(t,e,n){const r=st(t),s=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((c,f)=>{u.push(r.fu(f,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const E=d?!d.fromCache:(m=n?.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(d){s.push(d);const E=l1.Rs(f.targetId,d);o.push(E)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(f,d){const m=st(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Ce.forEach(d,_=>Ce.forEach(_.ds,b=>m.persistence.referenceDelegate.addReference(E,_.targetId,b)).next(()=>Ce.forEach(_.As,b=>m.persistence.referenceDelegate.removeReference(E,_.targetId,b)))))}catch(E){if(!rc(E))throw E;Ve(c1,"Failed to update sequence numbers: "+E)}for(const E of d){const _=E.targetId;if(!E.fromCache){const b=m.xs.get(_),w=b.snapshotVersion,x=b.withLastLimboFreeSnapshotVersion(w);m.xs=m.xs.insert(_,x)}}}(r.localStore,o))}async function S7(t,e){const n=st(t);if(!n.currentUser.isEqual(e)){Ve(y1,"User change. New user:",e.toKey());const r=await VN(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(c=>{c.forEach(f=>{f.reject(new He(we.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rf(n,r.ks)}}function A7(t,e){const n=st(t),r=n.Eu.get(e);if(r&&r.cu)return Tt().add(r.key);{let s=Tt();const o=n.Pu.get(e);if(!o)return s;for(const u of o){const c=n.hu.get(u);s=s.unionWith(c.view.eu)}return s}}function nR(t){const e=st(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_7.bind(null,e),e.lu.Y_=a7.bind(null,e.eventManager),e.lu.gu=o7.bind(null,e.eventManager),e}function w7(t){const e=st(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b7.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return CU(this.persistence,new SU,e.initialUser,this.serializer)}Su(e){return new UN(u1.fi,this.serializer)}bu(e){return new kU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class C7 extends fp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){zt(this.persistence.referenceDelegate instanceof cp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uU(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Jr.withCacheSize(this.cacheSizeBytes):Jr.DEFAULT;return new UN(r=>cp.fi(r,n),this.serializer)}}class e_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S7.bind(null,this.syncEngine),await t7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r7}()}createDatastore(e){const n=qp(e.databaseInfo.databaseId),r=function(o){return new UU(o)}(e.databaseInfo);return function(o,u,c,f){return new zU(o,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,u,c){return new qU(r,s,o,u,c)}(this.localStore,this.datastore,e.asyncQueue,n=>X2(this.syncEngine,n,0),function(){return j2.C()?new j2:new LU}())}createSyncEngine(e,n){return function(s,o,u,c,f,d,m){const E=new f7(s,o,u,c,f,d);return m&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=st(s);Ve(mu,"RemoteStore shutting down."),o.da.add(5),await Nf(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}e_.provider={build:()=>new e_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class x7{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ir.UNAUTHENTICATED,this.clientId=Qx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ve(bo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ve(bo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=g1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function HE(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(bo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await VN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function W2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N7(t);Ve(bo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Y2(e.remoteStore,s)),t._onlineComponents=e}async function N7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(bo,"Using user provided OfflineComponentProvider");try{await HE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===we.FAILED_PRECONDITION||s.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ql("Error using user provided cache. Falling back to memory cache: "+n),await HE(t,new fp)}}else Ve(bo,"Using default OfflineComponentProvider"),await HE(t,new C7(void 0));return t._offlineComponents}async function rR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(bo,"Using user provided OnlineComponentProvider"),await W2(t,t._uninitializedComponentsProvider._online)):(Ve(bo,"Using default OnlineComponentProvider"),await W2(t,new e_))),t._onlineComponents}function R7(t){return rR(t).then(e=>e.syncEngine)}async function O7(t){const e=await rR(t),n=e.eventManager;return n.onListen=d7.bind(null,e.syncEngine),n.onUnlisten=g7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E7.bind(null,e.syncEngine),n}function D7(t,e,n={}){const r=new fo;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,d){const m=new I7({next:_=>{m.xu(),u.enqueueAndForget(()=>s7(o,E)),_.fromCache&&f.source==="server"?d.reject(new He(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),E=new u7(c,m,{includeMetadataChanges:!0,Qa:!0});return i7(o,E)}(await O7(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e,n){if(!n)throw new He(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k7(t,e,n,r){if(e===!0&&r===!0)throw new He(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J2(t){if(!Xe.isDocumentKey(t))throw new He(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ew(t){if(Xe.isDocumentKey(t))throw new He(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et(12329,{type:typeof t})}function pu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new He(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(t);throw new He(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firestore.googleapis.com",tw=!0;class nw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new He(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aR,this.ssl=tw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aU)throw new He(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new He(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B9;switch(r.type){case"firstParty":return new F9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z2.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),Z2.delete(n),r.terminate())}(this),Promise.resolve()}}function L7(t,e,n,r={}){var s;t=pu(t,Kp);const o=Jl(e),u=t._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(kx(`https://${f}`),Lx("Firestore",!0)),u.host!==aR&&u.host!==f&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!hu(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,E;if(typeof r.mockUserToken=="string")m=r.mockUserToken,E=Ir.MOCK_USER;else{m=u8(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new He(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ir(_)}t._authCredentials=new U9(new Kx(m,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bu(this.firestore,e,this._query)}}class Ti{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ti(this.firestore,e,this._key)}}class mo extends bu{constructor(e,n,r){super(e,n,dN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ti(this.firestore,null,new Xe(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function T1(t,e,...n){if(t=Qn(t),sR("collection","path",e),t instanceof Kp){const r=hn.fromString(e,...n);return ew(r),new mo(t,null,r)}{if(!(t instanceof Ti||t instanceof mo))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return ew(r),new mo(t.firestore,null,r)}}function ac(t,e,...n){if(t=Qn(t),arguments.length===1&&(e=Qx.newId()),sR("doc","path",e),t instanceof Kp){const r=hn.fromString(e,...n);return J2(r),new Ti(t,null,new Xe(r))}{if(!(t instanceof Ti||t instanceof mo))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return J2(r),new Ti(t.firestore,t instanceof mo?t.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="AsyncQueue";class iw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new FN(this,"async_queue_retry"),this.rc=()=>{const r=VE();r&&Ve(rw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=VE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=VE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new fo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!rc(e))throw e;Ve(rw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ma("INTERNAL UNHANDLED ERROR: ",sw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=p1.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&et(47125,{cc:sw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function sw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Of extends Kp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new iw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function M7(t,e){const n=typeof t=="object"?t:Ux(),r=typeof t=="string"?t:ip,s=Q_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=a8("firestore");o&&L7(s,...o)}return s}function b1(t){if(t._terminated)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P7(t),t._firestoreClient}function P7(t){var e,n,r;const s=t._freezeSettings(),o=function(c,f,d,m){return new nB(c,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,iR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new x7(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const f=c?._online.build();return{_offline:c?._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(Tr.fromBase64String(e))}catch(n){throw new He(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new He(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=/^__.*__$/;class U7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new So(e,this.data,this.fieldMask,n,this.fieldTransforms):new If(e,this.data,n,this.fieldTransforms)}}class oR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new So(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et(40011,{Ic:t})}}class w1{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new w1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return dp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(uR(this.Ic)&&B7.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class V7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}bc(e,n,r,s=!1){return new w1({Ic:e,methodName:n,wc:r,path:_r.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C1(t){const e=t._freezeSettings(),n=qp(t._databaseId);return new V7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lR(t,e,n,r,s,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,s);I1("Data must be an object, but it was:",u,r);const c=cR(r,u);let f,d;if(o.merge)f=new Ei(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const E of o.mergeFields){const _=t_(e,E,n);if(!u.contains(_))throw new He(we.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);fR(m,_)||m.push(_)}f=new Ei(m),d=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,d=u.fieldTransforms;return new U7(new ei(c),f,d)}class Qp extends v1{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qp}}function H7(t,e,n,r){const s=t.bc(1,e,n);I1("Data must be an object, but it was:",s,r);const o=[],u=ei.empty();vo(r,(f,d)=>{const m=x1(e,f,n);d=Qn(d);const E=s.mc(m);if(d instanceof Qp)o.push(m);else{const _=Df(d,E);_!=null&&(o.push(m),u.set(m,_))}});const c=new Ei(o);return new oR(u,c,s.fieldTransforms)}function F7(t,e,n,r,s,o){const u=t.bc(1,e,n),c=[t_(e,r,n)],f=[s];if(o.length%2!=0)throw new He(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(t_(e,o[_])),f.push(o[_+1]);const d=[],m=ei.empty();for(let _=c.length-1;_>=0;--_)if(!fR(d,c[_])){const b=c[_];let w=f[_];w=Qn(w);const x=u.mc(b);if(w instanceof Qp)d.push(b);else{const k=Df(w,x);k!=null&&(d.push(b),m.set(b,k))}}const E=new Ei(d);return new oR(m,E,u.fieldTransforms)}function z7(t,e,n,r=!1){return Df(n,t.bc(r?4:3,e))}function Df(t,e){if(hR(t=Qn(t)))return I1("Unsupported field value:",e,t),cR(t,e);if(t instanceof v1)return function(r,s){if(!uR(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const c of r){let f=Df(c,s.fc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fn.fromDate(r);return{timestampValue:lp(s.serializer,o)}}if(r instanceof fn){const o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lp(s.serializer,o)}}if(r instanceof S1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:RN(s.serializer,r._byteString)};if(r instanceof Ti){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:a1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof A1)return function(u,c){return{mapValue:{fields:{[iN]:{stringValue:sN},[sp]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return r1(c.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Gp(r)}`)}(t,e)}function cR(t,e){const n={};return Zx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,(r,s)=>{const o=Df(s,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function hR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof S1||t instanceof Ql||t instanceof Ti||t instanceof v1||t instanceof A1)}function I1(t,e,n){if(!hR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Gp(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function t_(t,e,n){if((e=Qn(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return x1(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const j7=new RegExp("[~\\*/\\[\\]]");function x1(t,e,n){if(e.search(j7)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new He(we.INVALID_ARGUMENT,c+t+f)}function fR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new q7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class q7 extends dR{data(){return super.data()}}function Wp(t,e){return typeof e=="string"?x1(t,e):e instanceof Xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new He(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N1{}class mR extends N1{}function $7(t,e,...n){let r=[];e instanceof N1&&r.push(e),r=r.concat(n),function(o){const u=o.filter(f=>f instanceof R1).length,c=o.filter(f=>f instanceof Zp).length;if(u>1||u>0&&c>0)throw new He(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Zp extends mR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zp(e,n,r)}_apply(e){const n=this._parse(e);return pR(e._query,n),new bu(e.firestore,e.converter,qy(e._query,n))}_parse(e){const n=C1(e.firestore);return function(o,u,c,f,d,m,E){let _;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new He(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ow(E,m);const w=[];for(const x of E)w.push(aw(f,o,x));_={arrayValue:{values:w}}}else _=aw(f,o,E)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ow(E,m),_=z7(c,u,E,m==="in"||m==="not-in");return Fn.create(d,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function G7(t,e,n){const r=e,s=Wp("where",t);return Zp._create(s,r,n)}class R1 extends N1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)pR(u,f),u=qy(u,f)}(e._query,n),new bu(e.firestore,e.converter,qy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O1 extends mR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new O1(e,n)}_apply(e){const n=function(s,o,u){if(s.startAt!==null)throw new He(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new He(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hf(o,u)}(e._query,this._field,this._direction);return new bu(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new ic(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function K7(t,e="asc"){const n=e,r=Wp("orderBy",t);return O1._create(r,n)}function aw(t,e,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new He(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mN(e)&&n.indexOf("/")!==-1)throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hn.fromString(n));if(!Xe.isDocumentKey(r))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b2(t,new Xe(r))}if(n instanceof Ti)return b2(t,n._key);throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function ow(t,e){if(!Array.isArray(t)||t.length===0)throw new He(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pR(t,e){const n=function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new He(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class X7{convertValue(e,n="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw et(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[sp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Dn(u.doubleValue));return new A1(o)}convertGeoPoint(e){return new S1(Dn(e.latitude),Dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uf(e));default:return null}}convertTimestamp(e){const n=Eo(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hn.fromString(e);zt(PN(r),9688,{name:e});const s=new lf(r.get(1),r.get(3)),o=new Xe(r.popFirst(5));return s.isEqual(n)||ma(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q7 extends dR{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pm extends Q7{data(e={}){return super.data(e)}}class W7{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _m(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pm(this._firestore,this._userDataWriter,r.key,r,new _m(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(c=>{const f=new Pm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new _m(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new Pm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new _m(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),m=u.indexOf(c.doc.key)),{type:Z7(c.type),doc:f,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:t})}}class J7 extends X7{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ti(this.firestore,null,n)}}function D1(t){t=pu(t,bu);const e=pu(t.firestore,Of),n=b1(e),r=new J7(e);return Y7(t._query),D7(n,t._query).then(s=>new W7(e,r,t,s))}function k1(t,e,n){t=pu(t,Ti);const r=pu(t.firestore,Of),s=gR(t.converter,e,n);return L1(r,[lR(C1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_i.none())])}function eV(t){return L1(pu(t.firestore,Of),[new zp(t._key,_i.none())])}function L1(t,e){return function(r,s){const o=new fo;return r.asyncQueue.enqueueAndForget(async()=>y7(await R7(r),s,o)),o.promise}(b1(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=C1(e)}set(e,n,r){this._verifyNotCommitted();const s=FE(e,this._firestore),o=gR(s.converter,n,r),u=lR(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,_i.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=FE(e,this._firestore);let u;return u=typeof(n=Qn(n))=="string"||n instanceof Xp?F7(this._dataReader,"WriteBatch.update",o._key,n,r,s):H7(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,_i.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=FE(e,this._firestore);return this._mutations=this._mutations.concat(new zp(n._key,_i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function FE(t,e){if((t=Qn(t)).firestore!==e)throw new He(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){return b1(t=pu(t,Of)),new tV(t,e=>L1(t,e))}(function(e,n=!0){(function(s){tc=s})(ec),jl(new fu("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Of(new V9(r.getProvider("auth-internal")),new z9(u,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new He(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(d.options.projectId,m)}(u,s),u);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),co(l2,c2,e),co(l2,c2,"esm2017")})();function M1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function yR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nV=yR,_R=new wf("auth","Firebase",yR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new K_("@firebase/auth");function rV(t,...e){mp.logLevel<=_t.WARN&&mp.warn(`Auth (${ec}): ${t}`,...e)}function Bm(t,...e){mp.logLevel<=_t.ERROR&&mp.error(`Auth (${ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t,...e){throw P1(t,...e)}function Os(t,...e){return P1(t,...e)}function TR(t,e,n){const r=Object.assign(Object.assign({},nV()),{[e]:n});return new wf("auth","Firebase",r).create(e,{appName:t.name})}function la(t){return TR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function P1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _R.create(t,...e)}function Je(t,e,...n){if(!t)throw P1(e,...n)}function oa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bm(e),new Error(e)}function ga(t,e){t||oa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iV(){return uw()==="http:"||uw()==="https:"}function uw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iV()||m8()||"connection"in navigator)?navigator.onLine:!0}function aV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ga(n>e,"Short delay should be less than long delay!"),this.isMobile=h8()||p8()}get(){return sV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e){ga(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],lV=new kf(3e4,6e4);function Ao(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wo(t,e,n,r,s={}){return vR(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Cf(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},o);return d8()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(d.credentials="include"),bR.fetch()(await SR(t,t.config.apiHost,n,c),d)})}async function vR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oV),e);try{const s=new hV(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Tm(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tm(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Tm(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Tm(t,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw TR(t,m,d);is(t,m)}}catch(s){if(s instanceof ya)throw s;is(t,"network-request-failed",{message:String(s)})}}async function Lf(t,e,n,r,s={}){const o=await wo(t,e,n,r,s);return"mfaPendingCredential"in o&&is(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function SR(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?B1(t.config,s):`${t.config.apiScheme}://${s}`;return uV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function cV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Os(this.auth,"network-request-failed")),lV.get())})}}function Tm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Os(t,e,r);return s.customData._tokenResponse=n,s}function lw(t){return t!==void 0&&t.enterprise!==void 0}class fV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dV(t,e){return wo(t,"GET","/v2/recaptchaConfig",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return wo(t,"POST","/v1/accounts:delete",e)}async function pp(t,e){return wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pV(t,e=!1){const n=Qn(t),r=await n.getIdToken(e),s=U1(r);Je(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:Fh(zE(s.auth_time)),issuedAtTime:Fh(zE(s.iat)),expirationTime:Fh(zE(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function zE(t){return Number(t)*1e3}function U1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bm("JWT malformed, contained fewer than 3 sections"),null;try{const s=Nx(n);return s?JSON.parse(s):(Bm("Failed to decode base64 JWT payload"),null)}catch(s){return Bm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function cw(t){const e=U1(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ya&&gV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fh(this.lastLoginAt),this.creationTime=Fh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await mf(t,pp(n,{idToken:r}));Je(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?AR(o.providerUserInfo):[],c=_V(t.providerData,u),f=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,m=f?d:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new r_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,E)}async function yV(t){const e=Qn(t);await gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _V(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function AR(t){return t.map(e=>{var{providerId:n}=e,r=M1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TV(t,e){const n=await vR(t,{},async()=>{const r=Cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await SR(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(f.credentials="include"),bR.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bV(t,e){return wo(t,"POST","/v2/accounts:revokeToken",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=cw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await TV(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new kl;return r&&(Je(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Je(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Je(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return oa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ns{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=M1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new r_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mf(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pV(this,e)}reload(){return yV(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ns(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(la(this.auth));const e=await this.getIdToken();return await mf(this,mV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,c,f,d,m;const E=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=n.photoURL)!==null&&u!==void 0?u:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,D=(d=n.createdAt)!==null&&d!==void 0?d:void 0,z=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:Y,emailVerified:j,isAnonymous:Z,providerData:G,stsTokenManager:R}=n;Je(Y&&R,e,"internal-error");const N=kl.fromJSON(this.name,R);Je(typeof Y=="string",e,"internal-error"),Ya(E,e.name),Ya(_,e.name),Je(typeof j=="boolean",e,"internal-error"),Je(typeof Z=="boolean",e,"internal-error"),Ya(b,e.name),Ya(w,e.name),Ya(x,e.name),Ya(k,e.name),Ya(D,e.name),Ya(z,e.name);const O=new ns({uid:Y,auth:e,email:_,emailVerified:j,displayName:E,isAnonymous:Z,photoURL:w,phoneNumber:b,tenantId:x,stsTokenManager:N,createdAt:D,lastLoginAt:z});return G&&Array.isArray(G)&&(O.providerData=G.map(M=>Object.assign({},M))),k&&(O._redirectEventId=k),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new kl;s.updateFromServerResponse(n);const o=new ns({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await gp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Je(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?AR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new kl;c.updateFromIdToken(r);const f=new ns({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new r_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;function ua(t){ga(t instanceof Function,"Expected a class definition");let e=hw.get(t);return e?(ga(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wR.type="NONE";const fw=wR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Um(this.userKey,s.apiKey,o),this.fullPersistenceKey=Um("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pp(this.auth,{idToken:e}).catch(()=>{});return n?ns._fromGetAccountInfoResponse(this.auth,n,e):null}return ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ll(ua(fw),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||ua(fw);const u=Um(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(u);if(m){let E;if(typeof m=="string"){const _=await pp(e,{idToken:m}).catch(()=>{});if(!_)break;E=await ns._fromGetAccountInfoResponse(e,_,m)}else E=ns._fromJSON(e,m);d!==o&&(c=E),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ll(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Ll(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(DR(e))return"Webos";if(IR(e))return"Safari";if((e.includes("chrome/")||xR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function CR(t=Rr()){return/firefox\//i.test(t)}function IR(t=Rr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xR(t=Rr()){return/crios\//i.test(t)}function NR(t=Rr()){return/iemobile/i.test(t)}function RR(t=Rr()){return/android/i.test(t)}function OR(t=Rr()){return/blackberry/i.test(t)}function DR(t=Rr()){return/webos/i.test(t)}function V1(t=Rr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vV(t=Rr()){var e;return V1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SV(){return g8()&&document.documentMode===10}function kR(t=Rr()){return V1(t)||RR(t)||DR(t)||OR(t)||/windows phone/i.test(t)||NR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e=[]){let n;switch(t){case"Browser":n=dw(Rr());break;case"Worker":n=`${dw(Rr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e={}){return wo(t,"GET","/v2/passwordPolicy",Ao(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=6;class IV{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:CV,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new AV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_R,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ua(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pp(this,{idToken:e}),r=await ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(la(this));const n=e?Qn(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wV(this),n=new IV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ua(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[ua(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(zi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&rV(`Error while retrieving App Check token: ${n.error}`),n?.token}}function vu(t){return Qn(t)}class mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=A8(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NV(t){Jp=t}function MR(t){return Jp.loadJS(t)}function RV(){return Jp.recaptchaEnterpriseScript}function OV(){return Jp.gapiScript}function DV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kV{constructor(){this.enterprise=new LV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MV="recaptcha-enterprise",PR="NO_RECAPTCHA";class PV{constructor(e){this.type=MV,this.auth=vu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{dV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new fV(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;lw(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(PR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kV().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!n&&lw(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=RV();f.length!==0&&(f+=c),MR(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function pw(t,e,n,r=!1,s=!1){const o=new PV(t);let u;if(s)u=PR;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function i_(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await pw(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await pw(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t,e){const n=Q_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(hu(o,e??{}))return s;is(s,"already-initialized")}return n.initialize({options:e})}function UV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ua);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function VV(t,e,n){const r=vu(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=BR(e),{host:u,port:c}=HV(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},m=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(hu(d,r.config.emulator)&&hu(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Jl(u)?(kx(`${o}//${u}${f}`),Lx("Auth",!0)):FV()}function BR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HV(t){const e=BR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:gw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:gw(u)}}}function gw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oa("not implemented")}_getIdTokenResponse(e){return oa("not implemented")}_linkToIdToken(e,n){return oa("not implemented")}_getReauthenticationResolver(e){return oa("not implemented")}}async function zV(t,e){return wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){return Lf(t,"POST","/v1/accounts:signInWithPassword",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){return Lf(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}async function YV(t,e){return Lf(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends H1{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new pf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(e,n,"signInWithPassword",jV);case"emailLink":return qV(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i_(e,r,"signUpPassword",zV);case"emailLink":return YV(e,{idToken:n,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e){return Lf(t,"POST","/v1/accounts:signInWithIdp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="http://localhost";class gu extends H1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):is("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=M1(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new gu(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ml(e,n)}buildRequest(){const e={requestUri:$V,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KV(t){const e=xh(Nh(t)).link,n=e?xh(Nh(e)).deep_link_id:null,r=xh(Nh(t)).deep_link_id;return(r?xh(Nh(r)).link:null)||r||n||e||t}class F1{constructor(e){var n,r,s,o,u,c;const f=xh(Nh(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,E=GV((s=f.mode)!==null&&s!==void 0?s:null);Je(d&&m&&E,"argument-error"),this.apiKey=d,this.operation=E,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=KV(e);try{return new F1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.providerId=oc.PROVIDER_ID}static credential(e,n){return pf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=F1.parseLink(n);return Je(r,"argument-error"),pf._fromEmailAndCode(e,r.code,r.tenantId)}}oc.PROVIDER_ID="password";oc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends UR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Mf{constructor(){super("facebook.com")}static credential(e){return gu._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ja.credential(e.oauthAccessToken)}catch{return null}}}Ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gu._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Mf{constructor(){super("github.com")}static credential(e){return gu._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Mf{constructor(){super("twitter.com")}static credential(e,n){return gu._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e){return Lf(t,"POST","/v1/accounts:signUp",Ao(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await ns._fromIdTokenResponse(e,r,s),u=Ew(r);return new Eu({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ew(r);return new Eu({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ew(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends ya{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ep.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ep(e,n,r,s)}}function VR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ep._fromErrorAndOperation(t,o,e,r):o})}async function QV(t,e,n=!1){const r=await mf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t,e,n=!1){const{auth:r}=t;if(zi(r.app))return Promise.reject(la(r));const s="reauthenticate";try{const o=await mf(t,VR(r,s,e,t),n);Je(o.idToken,r,"internal-error");const u=U1(o.idToken);Je(u,r,"internal-error");const{sub:c}=u;return Je(t.uid===c,r,"user-mismatch"),Eu._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&is(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t,e,n=!1){if(zi(t.app))return Promise.reject(la(t));const r="signIn",s=await VR(t,r,e),o=await Eu._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function ZV(t,e){return HR(vu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t){const e=vu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JV(t,e,n){if(zi(t.app))return Promise.reject(la(t));const r=vu(t),u=await i_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&FR(t),f}),c=await Eu._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function eH(t,e,n){return zi(t.app)?Promise.reject(la(t)):ZV(Qn(t),oc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FR(t),r})}function tH(t,e,n,r){return Qn(t).onIdTokenChanged(e,n,r)}function nH(t,e,n){return Qn(t).beforeAuthStateChanged(e,n)}function rH(t,e,n,r){return Qn(t).onAuthStateChanged(e,n,r)}function iH(t){return Qn(t).signOut()}const yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yp,"1"),this.storage.removeItem(yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=1e3,aH=10;class jR extends zR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);SV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,aH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jR.type="LOCAL";const oH=jR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR extends zR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qR.type="SESSION";const YR=qR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new e0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(n.origin,o)),f=await uH(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=z1("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const _=E;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return window}function cH(t){Ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof Ds().WorkerGlobalScope<"u"&&typeof Ds().importScripts=="function"}async function hH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dH(){return $R()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebaseLocalStorageDb",mH=1,_p="firebaseLocalStorage",KR="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function t0(t,e){return t.transaction([_p],e?"readwrite":"readonly").objectStore(_p)}function pH(){const t=indexedDB.deleteDatabase(GR);return new Pf(t).toPromise()}function s_(){const t=indexedDB.open(GR,mH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_p,{keyPath:KR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_p)?e(r):(r.close(),await pH(),e(await s_()))})})}async function yw(t,e,n){const r=t0(t,!0).put({[KR]:e,value:n});return new Pf(r).toPromise()}async function gH(t,e){const n=t0(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function _w(t,e){const n=t0(t,!0).delete(e);return new Pf(n).toPromise()}const EH=800,yH=3;class XR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $R()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e0._getInstance(dH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hH(),!this.activeServiceWorker)return;this.sender=new lH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s_();return await yw(e,yp,"1"),await _w(e,yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_w(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=t0(s,!1).getAll();return new Pf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XR.type="LOCAL";const _H=XR;new kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t,e){return e?ua(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends H1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bH(t){return HR(t.auth,new j1(t),t.bypassAuthState)}function vH(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),WV(n,new j1(t),t.bypassAuthState)}async function SH(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),QV(n,new j1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bH;case"linkViaPopup":case"linkViaRedirect":return SH;case"reauthViaPopup":case"reauthViaRedirect":return vH;default:is(this.auth,"internal-error")}}resolve(e){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=new kf(2e3,1e4);class Cl extends QR{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){ga(this.filter.length===1,"Popup operations only handle one event");const e=z1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AH.get())};e()}}Cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="pendingRedirect",Vm=new Map;class CH extends QR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vm.get(this.auth._key());if(!e){try{const r=await IH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vm.set(this.auth._key(),e)}return this.bypassAuthState||Vm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IH(t,e){const n=RH(e),r=NH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xH(t,e){Vm.set(t._key(),e)}function NH(t){return ua(t._redirectPersistence)}function RH(t){return Um(wH,t.config.apiKey,t.name)}async function OH(t,e,n=!1){if(zi(t.app))return Promise.reject(la(t));const r=vu(t),s=TH(r,e),u=await new CH(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=10*60*1e3;class kH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Os(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(e))}saveEventToCache(e){this.cachedEventUids.add(Tw(e)),this.lastProcessedEventTime=Date.now()}}function Tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(t,e={}){return wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BH=/^https?/;async function UH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MH(t);for(const n of e)try{if(VH(n))return}catch{}is(t,"unauthorized-domain")}function VH(t){const e=n_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!BH.test(n))return!1;if(PH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=new kf(3e4,6e4);function bw(){const t=Ds().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FH(t){return new Promise((e,n)=>{var r,s,o;function u(){bw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bw(),n(Os(t,"network-request-failed"))},timeout:HH.get()})}if(!((s=(r=Ds().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Ds().gapi)===null||o===void 0)&&o.load)u();else{const c=DV("iframefcb");return Ds()[c]=()=>{gapi.load?u():n(Os(t,"network-request-failed"))},MR(`${OV()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Hm=null,e})}let Hm=null;function zH(t){return Hm=Hm||FH(t),Hm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new kf(5e3,15e3),qH="__/auth/iframe",YH="emulator/auth/iframe",$H={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KH(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?B1(e,YH):`https://${t.config.authDomain}/${qH}`,r={apiKey:e.apiKey,appName:t.name,v:ec},s=GH.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Cf(r).slice(1)}`}async function XH(t){const e=await zH(t),n=Ds().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:KH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$H,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Os(t,"network-request-failed"),c=Ds().setTimeout(()=>{o(u)},jH.get());function f(){Ds().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WH=500,ZH=600,JH="_blank",eF="http://localhost";class vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tF(t,e,n,r=WH,s=ZH){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},QH),{width:r.toString(),height:s.toString(),top:o,left:u}),d=Rr().toLowerCase();n&&(c=xR(d)?JH:n),CR(d)&&(e=e||eF,f.scrollbars="yes");const m=Object.entries(f).reduce((_,[b,w])=>`${_}${b}=${w},`,"");if(vV(d)&&c!=="_self")return nF(e||"",c),new vw(null);const E=window.open(e||"",c,m);Je(E,t,"popup-blocked");try{E.focus()}catch{}return new vw(E)}function nF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="__/auth/handler",iF="emulator/auth/handler",sF=encodeURIComponent("fac");async function Sw(t,e,n,r,s,o){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:s};if(e instanceof UR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",S8(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,E]of Object.entries({}))u[m]=E}if(e instanceof Mf){const m=e.getScopes().filter(E=>E!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),d=f?`#${sF}=${encodeURIComponent(f)}`:"";return`${aF(t)}?${Cf(c).slice(1)}${d}`}function aF({config:t}){return t.emulator?B1(t,iF):`https://${t.authDomain}/${rF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="webStorageSupport";class oF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YR,this._completeRedirectFn=OH,this._overrideRedirectResult=xH}async _openPopup(e,n,r,s){var o;ga((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Sw(e,n,r,n_(),s);return tF(e,u,z1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Sw(e,n,r,n_(),s);return cH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ga(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XH(e),r=new kH(e);return n.register("authEvent",s=>(Je(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jE,{type:jE},s=>{var o;const u=(o=s?.[0])===null||o===void 0?void 0:o[jE];u!==void 0&&n(!!u),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kR()||IR()||V1()}}const uF=oF;var Aw="@firebase/auth",ww="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hF(t){jl(new fu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LR(t)},d=new xV(r,s,o,f);return UV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jl(new fu("auth-internal",e=>{const n=vu(e.getProvider("auth").getImmediate());return(r=>new lF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(Aw,ww,cF(t)),co(Aw,ww,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=5*60,dF=Dx("authIdTokenMaxAge")||fF;let Cw=null;const mF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dF)return;const s=n?.token;Cw!==s&&(Cw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pF(t=Ux()){const e=Q_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BV(t,{popupRedirectResolver:uF,persistence:[_H,oH,YR]}),r=Dx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=mF(o.toString());nH(n,u,()=>u(n.currentUser)),tH(n,c=>u(c))}}const s=Rx("auth");return s&&VV(n,`http://${s}`),n}function gF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Os("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",gF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hF("Browser");const EF={apiKey:"AIzaSyByTZ08eCsc2wv0VIWUHNtHSdmAA_JI5hM",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},ZR=Bx(EF),ss=M7(ZR),Tp=pF(ZR),vi={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},qr={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function yF(){const[t,e]=U.useState(""),[n,r]=U.useState(""),[s,o]=U.useState(!1),[u,c]=U.useState(!1),[f,d]=U.useState(""),m=async _=>{_.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(qr.INVALID_EMAIL);if(n.length<6)throw new Error(qr.WEAK_PASSWORD);const w=await JV(Tp,t,n);console.log("User created successfully:",w.user.uid)}catch(b){console.error("Sign up error:",b);let w="Failed to create account";b.code==="auth/email-already-in-use"?w=qr.EMAIL_IN_USE:b.code==="auth/invalid-email"?w=qr.INVALID_EMAIL:b.code==="auth/weak-password"?w=qr.WEAK_PASSWORD:b.code==="auth/operation-not-allowed"?w="Email/password accounts are not enabled. Please contact support.":b.message&&(w=b.message),d(w)}finally{c(!1)}},E=async _=>{_.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(qr.INVALID_EMAIL);const w=await eH(Tp,t,n);console.log("User signed in successfully:",w.user.uid)}catch(b){console.error("Sign in error:",b);let w="Failed to sign in";b.code==="auth/user-not-found"?w=qr.USER_NOT_FOUND:b.code==="auth/wrong-password"?w=qr.WRONG_PASSWORD:b.code==="auth/invalid-email"?w=qr.INVALID_EMAIL:b.code==="auth/user-disabled"?w="This account has been disabled. Please contact support.":b.code==="auth/too-many-requests"?w=qr.TOO_MANY_REQUESTS:b.message&&(w=b.message),d(w)}finally{c(!1)}};return te.jsx("div",{className:"auth-window-container",children:te.jsxs("div",{className:"auth-window",children:[te.jsxs("div",{className:"auth-window-header",children:[te.jsx("h2",{className:"auth-window-title",children:s?"Create Account":"Welcome Back"}),te.jsx("p",{className:"auth-window-subtitle",children:s?"Join the platform to start building your boards":"Sign in to access your boards and continue your work"})]}),te.jsxs("form",{onSubmit:s?m:E,className:"auth-form",children:[te.jsx("div",{className:"auth-input-group",children:te.jsx("input",{type:"email",placeholder:"Email address",value:t,onChange:_=>e(_.target.value),required:!0,className:"auth-input"})}),te.jsx("div",{className:"auth-input-group",children:te.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:_=>r(_.target.value),required:!0,className:"auth-input"})}),te.jsx("button",{type:"submit",disabled:u,className:`auth-submit-btn ${u?"loading":""}`,children:u?te.jsx("div",{className:"loading-spinner"}):s?"Create Account":"Sign In"}),f&&te.jsx("div",{className:"auth-error",children:f})]}),te.jsxs("div",{className:"auth-switch",children:[te.jsx("span",{className:"auth-switch-text",children:s?"Already have an account?":"Don't have an account?"}),te.jsx("button",{type:"button",onClick:()=>o(!s),className:"auth-switch-btn",children:s?"Sign In":"Sign Up"})]})]})})}var qE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Iw;function _F(){return Iw||(Iw=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(o=s(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var c in o)e.call(o,c)&&o[c]&&(u=s(u,c));return u}function s(o,u){return u?o?o+" "+u:o+u:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(qE)),qE.exports}var TF=_F();const ln=yu(TF),uc=!!(typeof window<"u"&&window.document&&window.document.createElement);var a_=!1,o_=!1;try{var YE={get passive(){return a_=!0},get once(){return o_=a_=!0}};uc&&(window.addEventListener("test",YE,YE),window.removeEventListener("test",YE,!0))}catch{}function JR(t,e,n,r){if(r&&typeof r!="boolean"&&!o_){var s=r.once,o=r.capture,u=n;!o_&&s&&(u=n.__once||function c(f){this.removeEventListener(e,c,o),n.call(this,f)},n.__once=u),t.addEventListener(e,u,a_?r:o)}t.addEventListener(e,n,r)}function n0(t){return t&&t.ownerDocument||document}function u_(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}var bm;function xw(t){if((!bm&&bm!==0||t)&&uc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),bm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return bm}function bF(){return U.useState(null)}function vF(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t},[t]),e}function l_(t){const e=vF(t);return U.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Nw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function SF(t,e){const n=Nw(t),r=Nw(e);return s=>{n&&n(s),r&&r(s)}}function e3(t,e){return U.useMemo(()=>SF(t,e),[t,e])}function AF(t){const e=U.useRef(t);return e.current=t,e}function wF(t){const e=AF(t);U.useEffect(()=>()=>e.current(),[])}function CF(t){var e=n0(t);return e&&e.defaultView||window}function IF(t,e){return CF(t).getComputedStyle(t,e)}var xF=/([A-Z])/g;function NF(t){return t.replace(xF,"-$1").toLowerCase()}var RF=/^ms-/;function vm(t){return NF(t).replace(RF,"-ms-")}var OF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function DF(t){return!!(t&&OF.test(t))}function uu(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(vm(e))||IF(t).getPropertyValue(vm(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?t.style.removeProperty(vm(s)):DF(s)?r+=s+"("+o+") ":n+=vm(s)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function bp(t,e,n,r){return JR(t,e,n,r),function(){u_(t,e,n,r)}}function kF(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function LF(t){var e=uu(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function MF(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||kF(t,"transitionend",!0)},e+n),o=bp(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),o()}}function t3(t,e,n,r){n==null&&(n=LF(t)||0);var s=MF(t,n,r),o=bp(t,"transitionend",e);return function(){s(),o()}}function $E(t){t===void 0&&(t=n0());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Rw(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function PF(){const t=U.useRef(!0),e=U.useRef(()=>t.current);return U.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function BF(t){const e=U.useRef(t);return e.current=t,e}function UF(t){const e=BF(t);U.useEffect(()=>()=>e.current(),[])}function VF(t){const e=U.useRef(null);return U.useEffect(()=>{e.current=t}),e.current}function HF(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t},[t]),e}function tu(t){const e=HF(t);return U.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const FF="data-rr-ui-";function zF(t){return`${FF}${t}`}function jF(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Ow=zF("modal-open");class q1{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return jF(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(uu(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(Ow,""),uu(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Ow),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const n3=U.createContext(uc?window:void 0);n3.Provider;function Y1(){return U.useContext(n3)}const GE=(t,e)=>uc?t==null?(e||n0()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function qF(t,e){const n=Y1(),[r,s]=U.useState(()=>GE(t,n?.document));if(!r){const o=GE(t);o&&s(o)}return U.useEffect(()=>{},[e,r]),U.useEffect(()=>{const o=GE(t);o!==r&&s(o)},[t,r]),r}const Dw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function YF(t,e){const n=Dw(t),r=Dw(e);return s=>{n&&n(s),r&&r(s)}}function $1(t,e){return U.useMemo(()=>YF(t,e),[t,e])}const $F=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",GF=typeof document<"u",kw=GF||$F?U.useLayoutEffect:U.useEffect;function KF(t){return t.code==="Escape"||t.keyCode===27}function XF(){const t=U.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function r0(t){if(!t||typeof t=="function")return null;const{major:e}=XF();return e>=19?t.props.ref:t.ref}function QF({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const o=U.useRef(null),u=U.useRef(e),c=tu(n);U.useEffect(()=>{e?u.current=!0:c(o.current)},[e,c]);const f=$1(o,r0(t)),d=U.cloneElement(t,{ref:f});return e?d:s||!u.current&&r?null:d}const WF=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function ZF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JF(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:o,onExited:u,addEndListener:c,children:f}=t,d=ZF(t,WF);const m=U.useRef(null),E=$1(m,r0(f)),_=j=>Z=>{j&&m.current&&j(m.current,Z)},b=U.useCallback(_(e),[e]),w=U.useCallback(_(n),[n]),x=U.useCallback(_(r),[r]),k=U.useCallback(_(s),[s]),D=U.useCallback(_(o),[o]),z=U.useCallback(_(u),[u]),Y=U.useCallback(_(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:b},n&&{onEntering:w},r&&{onEntered:x},s&&{onExit:k},o&&{onExiting:D},u&&{onExited:z},c&&{addEndListener:Y},{children:typeof f=="function"?(j,Z)=>f(j,Object.assign({},Z,{ref:E})):U.cloneElement(f,{ref:E})})}const ez=["component"];function tz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const nz=U.forwardRef((t,e)=>{let{component:n}=t,r=tz(t,ez);const s=JF(r);return te.jsx(n,Object.assign({ref:e},s))});function rz({in:t,onTransition:e}){const n=U.useRef(null),r=U.useRef(!0),s=tu(e);return kw(()=>{if(!n.current)return;let o=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,s]),kw(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function iz({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[o,u]=U.useState(!e);e&&o&&u(!1);const c=rz({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?r?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(s(d)).then(m,E=>{throw d.in||u(!0),E})}}),f=$1(c,r0(t));return o&&!e?null:U.cloneElement(t,{ref:f})}function Lw(t,e,n){return t?te.jsx(nz,Object.assign({},n,{component:t})):e?te.jsx(iz,Object.assign({},n,{transition:e})):te.jsx(QF,Object.assign({},n))}const sz=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function az(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let KE;function oz(t){return KE||(KE=new q1({ownerDocument:t?.document})),KE}function uz(t){const e=Y1(),n=t||oz(e),r=U.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:U.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:U.useCallback(s=>{r.current.backdrop=s},[])})}const r3=U.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:o,children:u,backdrop:c=!0,keyboard:f=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:E,runTransition:_,backdropTransition:b,runBackdropTransition:w,autoFocus:x=!0,enforceFocus:k=!0,restoreFocus:D=!0,restoreFocusOptions:z,renderDialog:Y,renderBackdrop:j=Ge=>te.jsx("div",Object.assign({},Ge)),manager:Z,container:G,onShow:R,onHide:N=()=>{},onExit:O,onExited:M,onExiting:B,onEnter:V,onEntering:C,onEntered:L}=t,K=az(t,sz);const H=Y1(),Q=qF(G),re=uz(Z),ie=PF(),S=VF(n),[ee,oe]=U.useState(!n),P=U.useRef(null);U.useImperativeHandle(e,()=>re,[re]),uc&&!S&&n&&(P.current=$E(H?.document)),n&&ee&&oe(!1);const pe=tu(()=>{if(re.add(),Pe.current=bp(document,"keydown",Se),Le.current=bp(document,"focus",()=>setTimeout(Ie),!0),R&&R(),x){var Ge,cn;const Ke=$E((Ge=(cn=re.dialog)==null?void 0:cn.ownerDocument)!=null?Ge:H?.document);re.dialog&&Ke&&!Rw(re.dialog,Ke)&&(P.current=Ke,re.dialog.focus())}}),xe=tu(()=>{if(re.remove(),Pe.current==null||Pe.current(),Le.current==null||Le.current(),D){var Ge;(Ge=P.current)==null||Ge.focus==null||Ge.focus(z),P.current=null}});U.useEffect(()=>{!n||!Q||pe()},[n,Q,pe]),U.useEffect(()=>{ee&&xe()},[ee,xe]),UF(()=>{xe()});const Ie=tu(()=>{if(!k||!ie()||!re.isTopModal())return;const Ge=$E(H?.document);re.dialog&&Ge&&!Rw(re.dialog,Ge)&&re.dialog.focus()}),Fe=tu(Ge=>{Ge.target===Ge.currentTarget&&(d?.(Ge),c===!0&&N())}),Se=tu(Ge=>{f&&KF(Ge)&&re.isTopModal()&&(m?.(Ge),Ge.defaultPrevented||N())}),Le=U.useRef(),Pe=U.useRef(),Qe=(...Ge)=>{oe(!0),M?.(...Ge)};if(!Q)return null;const Rt=Object.assign({role:r,ref:re.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},K,{style:o,className:s,tabIndex:-1});let Ot=Y?Y(Rt):te.jsx("div",Object.assign({},Rt,{children:U.cloneElement(u,{role:"document"})}));Ot=Lw(E,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:O,onExiting:B,onExited:Qe,onEnter:V,onEntering:C,onEntered:L,children:Ot});let Dt=null;return c&&(Dt=j({ref:re.setBackdropRef,onClick:Fe}),Dt=Lw(b,w,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Dt})),te.jsx(te.Fragment,{children:Al.createPortal(te.jsxs(te.Fragment,{children:[Dt,Ot]}),Q)})});r3.displayName="Modal";const lz=Object.assign(r3,{Manager:q1});function cz(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function hz(t,e){t.classList?t.classList.add(e):cz(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var fz=Function.prototype.bind.call(Function.prototype.call,[].slice);function dl(t,e){return fz(t.querySelectorAll(e))}function Mw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function dz(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Mw(t.className,e):t.setAttribute("class",Mw(t.className&&t.className.baseVal||"",e))}const ml={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class mz extends q1{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,uu(n,{[e]:`${parseFloat(uu(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],uu(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(hz(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";dl(n,ml.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),dl(n,ml.STICKY_CONTENT).forEach(o=>this.adjustAndStore(s,o,-e.scrollBarWidth)),dl(n,ml.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(s,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();dz(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";dl(n,ml.FIXED_CONTENT).forEach(o=>this.restore(r,o)),dl(n,ml.STICKY_CONTENT).forEach(o=>this.restore(s,o)),dl(n,ml.NAVBAR_TOGGLER).forEach(o=>this.restore(s,o))}}let XE;function pz(t){return XE||(XE=new mz(t)),XE}function gz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},c_(t,e)}function Ez(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c_(t,e)}var QE={exports:{}},WE,Pw;function yz(){if(Pw)return WE;Pw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return WE=t,WE}var ZE,Bw;function _z(){if(Bw)return ZE;Bw=1;var t=yz();function e(){}function n(){}return n.resetWarningCache=e,ZE=function(){function r(u,c,f,d,m,E){if(E!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},ZE}var Uw;function Tz(){return Uw||(Uw=1,QE.exports=_z()()),QE.exports}var bz=Tz();const ca=yu(bz),Vw={disabled:!1},i3=ye.createContext(null);var vz=function(e){return e.scrollTop},kh="unmounted",eu="exited",Wa="entering",nu="entered",h_="exiting",_a=function(t){Ez(e,t);function e(r,s){var o;o=t.call(this,r,s)||this;var u=s,c=u&&!u.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?c?(f=eu,o.appearStatus=Wa):f=nu:r.unmountOnExit||r.mountOnEnter?f=kh:f=eu,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var u=s.in;return u&&o.status===kh?{status:eu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var o=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Wa&&u!==nu&&(o=Wa):(u===Wa||u===nu)&&(o=h_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,o,u,c;return o=u=c=s,s!=null&&typeof s!="number"&&(o=s.exit,u=s.enter,c=s.appear!==void 0?s.appear:u),{exit:o,enter:u,appear:c}},n.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===Wa){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Al.findDOMNode(this);u&&vz(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===eu&&this.setState({status:kh})},n.performEnter=function(s){var o=this,u=this.props.enter,c=this.context?this.context.isMounting:s,f=this.props.nodeRef?[c]:[Al.findDOMNode(this),c],d=f[0],m=f[1],E=this.getTimeouts(),_=c?E.appear:E.enter;if(!s&&!u||Vw.disabled){this.safeSetState({status:nu},function(){o.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Wa},function(){o.props.onEntering(d,m),o.onTransitionEnd(_,function(){o.safeSetState({status:nu},function(){o.props.onEntered(d,m)})})})},n.performExit=function(){var s=this,o=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Al.findDOMNode(this);if(!o||Vw.disabled){this.safeSetState({status:eu},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:h_},function(){s.props.onExiting(c),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:eu},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},n.setNextCallback=function(s){var o=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,o.nextCallback=null,s(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:Al.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=f[0],m=f[1];this.props.addEndListener(d,m)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===kh)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=gz(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ye.createElement(i3.Provider,{value:null},typeof u=="function"?u(s,c):ye.cloneElement(ye.Children.only(u),c))},e}(ye.Component);_a.contextType=i3;_a.propTypes={};function pl(){}_a.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pl,onEntering:pl,onEntered:pl,onExit:pl,onExiting:pl,onExited:pl};_a.UNMOUNTED=kh;_a.EXITED=eu;_a.ENTERING=Wa;_a.ENTERED=nu;_a.EXITING=h_;function Hw(t,e){const n=uu(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Sz(t,e){const n=Hw(t,"transitionDuration"),r=Hw(t,"transitionDelay"),s=t3(t,o=>{o.target===t&&(s(),e(o))},n+r)}function Az(t){t.offsetHeight}function wz(t){return t&&"setState"in t?Al.findDOMNode(t):t??null}const s3=ye.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:o,addEndListener:u,children:c,childRef:f,...d},m)=>{const E=U.useRef(null),_=e3(E,f),b=G=>{_(wz(G))},w=G=>R=>{G&&E.current&&G(E.current,R)},x=U.useCallback(w(t),[t]),k=U.useCallback(w(e),[e]),D=U.useCallback(w(n),[n]),z=U.useCallback(w(r),[r]),Y=U.useCallback(w(s),[s]),j=U.useCallback(w(o),[o]),Z=U.useCallback(w(u),[u]);return te.jsx(_a,{ref:m,...d,onEnter:x,onEntered:D,onEntering:k,onExit:z,onExited:j,onExiting:Y,addEndListener:Z,nodeRef:E,children:typeof c=="function"?(G,R)=>c(G,{...R,ref:b}):ye.cloneElement(c,{ref:b})})});s3.displayName="TransitionWrapper";const Cz={[Wa]:"show",[nu]:"show"},G1=U.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},o)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=U.useCallback((f,d)=>{Az(f),r?.(f,d)},[r]);return te.jsx(s3,{ref:o,addEndListener:Sz,...u,onEnter:c,childRef:r0(e),children:(f,d)=>U.cloneElement(e,{...d,className:ln("fade",t,e.props.className,Cz[f],n[f])})})});G1.displayName="Fade";const Iz=["xxl","xl","lg","md","sm","xs"],xz="xs",Bf=U.createContext({prefixes:{},breakpoints:Iz,minBreakpoint:xz}),{Consumer:cW,Provider:hW}=Bf;function Wn(t,e){const{prefixes:n}=U.useContext(Bf);return t||n[e]||e}function Nz(){const{breakpoints:t}=U.useContext(Bf);return t}function Rz(){const{minBreakpoint:t}=U.useContext(Bf);return t}function Oz(){const{dir:t}=U.useContext(Bf);return t==="rtl"}const a3=U.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Wn(e,"modal-body"),te.jsx(n,{ref:s,className:ln(t,e),...r})));a3.displayName="ModalBody";const o3=U.createContext({onHide(){}}),K1=U.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:o,children:u,scrollable:c,...f},d)=>{t=Wn(t,"modal");const m=`${t}-dialog`,E=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return te.jsx("div",{...f,ref:d,className:ln(m,e,s&&`${t}-${s}`,r&&`${m}-centered`,c&&`${m}-scrollable`,o&&E),children:te.jsx("div",{className:ln(`${t}-content`,n),children:u})})});K1.displayName="ModalDialog";const u3=U.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Wn(e,"modal-footer"),te.jsx(n,{ref:s,className:ln(t,e),...r})));u3.displayName="ModalFooter";const Dz={"aria-label":ca.string,onClick:ca.func,variant:ca.oneOf(["white"])},X1=U.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>te.jsx("button",{ref:s,type:"button",className:ln("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));X1.displayName="CloseButton";X1.propTypes=Dz;const l3=U.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...o},u)=>{const c=U.useContext(o3),f=l_(()=>{c?.onHide(),r?.()});return te.jsxs("div",{ref:u,...o,children:[s,n&&te.jsx(X1,{"aria-label":t,variant:e,onClick:f})]})});l3.displayName="AbstractModalHeader";const c3=U.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},o)=>(t=Wn(t,"modal-header"),te.jsx(l3,{ref:o,...s,className:ln(e,t),closeLabel:n,closeButton:r})));c3.displayName="ModalHeader";const kz=t=>U.forwardRef((e,n)=>te.jsx("div",{...e,ref:n,className:ln(e.className,t)})),Lz=kz("h4"),h3=U.forwardRef(({className:t,bsPrefix:e,as:n=Lz,...r},s)=>(e=Wn(e,"modal-title"),te.jsx(n,{ref:s,className:ln(t,e),...r})));h3.displayName="ModalTitle";function Mz(t){return te.jsx(G1,{...t,timeout:null})}function Pz(t){return te.jsx(G1,{...t,timeout:null})}const f3=U.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:o,dialogAs:u=K1,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":d,"aria-label":m,show:E=!1,animation:_=!0,backdrop:b=!0,keyboard:w=!0,onEscapeKeyDown:x,onShow:k,onHide:D,container:z,autoFocus:Y=!0,enforceFocus:j=!0,restoreFocus:Z=!0,restoreFocusOptions:G,onEntered:R,onExit:N,onExiting:O,onEnter:M,onEntering:B,onExited:V,backdropClassName:C,manager:L,...K},H)=>{const[Q,re]=U.useState({}),[ie,S]=U.useState(!1),ee=U.useRef(!1),oe=U.useRef(!1),P=U.useRef(null),[pe,xe]=bF(),Ie=e3(H,xe),Fe=l_(D),Se=Oz();t=Wn(t,"modal");const Le=U.useMemo(()=>({onHide:Fe}),[Fe]);function Pe(){return L||pz({isRTL:Se})}function Qe(ae){if(!uc)return;const Te=Pe().getScrollbarWidth()>0,Ue=ae.scrollHeight>n0(ae).documentElement.clientHeight;re({paddingRight:Te&&!Ue?xw():void 0,paddingLeft:!Te&&Ue?xw():void 0})}const Rt=l_(()=>{pe&&Qe(pe.dialog)});wF(()=>{u_(window,"resize",Rt),P.current==null||P.current()});const Ot=()=>{ee.current=!0},Dt=ae=>{ee.current&&pe&&ae.target===pe.dialog&&(oe.current=!0),ee.current=!1},Ge=()=>{S(!0),P.current=t3(pe.dialog,()=>{S(!1)})},cn=ae=>{ae.target===ae.currentTarget&&Ge()},Ke=ae=>{if(b==="static"){cn(ae);return}if(oe.current||ae.target!==ae.currentTarget){oe.current=!1;return}D?.()},qe=ae=>{w?x?.(ae):(ae.preventDefault(),b==="static"&&Ge())},nn=(ae,Te)=>{ae&&Qe(ae),M?.(ae,Te)},Cn=ae=>{P.current==null||P.current(),N?.(ae)},In=(ae,Te)=>{B?.(ae,Te),JR(window,"resize",Rt)},Ln=ae=>{ae&&(ae.style.display=""),V?.(ae),u_(window,"resize",Rt)},xn=U.useCallback(ae=>te.jsx("div",{...ae,className:ln(`${t}-backdrop`,C,!_&&"show")}),[_,C,t]),dn={...n,...Q};dn.display="block";const zn=ae=>te.jsx("div",{role:"dialog",...ae,style:dn,className:ln(e,t,ie&&`${t}-static`,!_&&"show"),onClick:b?Ke:void 0,onMouseUp:Dt,"data-bs-theme":c,"aria-label":m,"aria-labelledby":f,"aria-describedby":d,children:te.jsx(u,{...K,onMouseDown:Ot,className:r,contentClassName:s,children:o})});return te.jsx(o3.Provider,{value:Le,children:te.jsx(lz,{show:E,ref:Ie,backdrop:b,container:z,keyboard:!0,autoFocus:Y,enforceFocus:j,restoreFocus:Z,restoreFocusOptions:G,onEscapeKeyDown:qe,onShow:k,onHide:D,onEnter:nn,onEntering:In,onEntered:R,onExit:Cn,onExiting:O,onExited:Ln,manager:Pe(),transition:_?Mz:void 0,backdropTransition:_?Pz:void 0,renderBackdrop:xn,renderDialog:zn})})});f3.displayName="Modal";const yh=Object.assign(f3,{Body:a3,Header:c3,Title:h3,Footer:u3,Dialog:K1,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Bz=["as","disabled"];function Uz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vz(t){return!t||t.trim()==="#"}function d3({tagName:t,disabled:e,href:n,target:r,rel:s,role:o,onClick:u,tabIndex:c=0,type:f}){t||(n!=null||r!=null||s!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:f||"button",disabled:e},d];const m=_=>{if((e||t==="a"&&Vz(n))&&_.preventDefault(),e){_.stopPropagation();return}u?.(_)},E=_=>{_.key===" "&&(_.preventDefault(),m(_))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:m,onKeyDown:E},d]}const Hz=U.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=Uz(t,Bz);const[o,{tagName:u}]=d3(Object.assign({tagName:n,disabled:r},s));return te.jsx(u,Object.assign({},s,o,{ref:e}))});Hz.displayName="Button";const f_=U.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:o=!1,className:u,...c},f)=>{const d=Wn(e,"btn"),[m,{tagName:E}]=d3({tagName:t,disabled:o,...c}),_=E;return te.jsx(_,{...m,...c,ref:f,disabled:o,className:ln(u,d,s&&"active",n&&`${d}-${n}`,r&&`${d}-${r}`,c.href&&o&&"disabled")})});f_.displayName="Button";const Fz={type:ca.string,tooltip:ca.bool,as:ca.elementType},i0=U.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},o)=>te.jsx(t,{...s,ref:o,className:ln(e,`${n}-${r?"tooltip":"feedback"}`)}));i0.displayName="Feedback";i0.propTypes=Fz;const Ea=U.createContext({}),Q1=U.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:o=!1,as:u="input",...c},f)=>{const{controlId:d}=U.useContext(Ea);return e=Wn(e,"form-check-input"),te.jsx(u,{...c,ref:f,type:r,id:t||d,className:ln(n,e,s&&"is-valid",o&&"is-invalid")})});Q1.displayName="FormCheckInput";const vp=U.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:o}=U.useContext(Ea);return t=Wn(t,"form-check-label"),te.jsx("label",{...r,ref:s,htmlFor:n||o,className:ln(e,t)})});vp.displayName="FormCheckLabel";function zz(t,e){return U.Children.toArray(t).some(n=>U.isValidElement(n)&&n.type===e)}const m3=U.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:o=!1,isValid:u=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:d,feedbackType:m,className:E,style:_,title:b="",type:w="checkbox",label:x,children:k,as:D="input",...z},Y)=>{e=Wn(e,"form-check"),n=Wn(n,"form-switch");const{controlId:j}=U.useContext(Ea),Z=U.useMemo(()=>({controlId:t||j}),[j,t]),G=!k&&x!=null&&x!==!1||zz(k,vp),R=te.jsx(Q1,{...z,type:w==="switch"?"checkbox":w,ref:Y,isValid:u,isInvalid:c,disabled:o,as:D});return te.jsx(Ea.Provider,{value:Z,children:te.jsx("div",{style:_,className:ln(E,G&&e,r&&`${e}-inline`,s&&`${e}-reverse`,w==="switch"&&n),children:k||te.jsxs(te.Fragment,{children:[R,G&&te.jsx(vp,{title:b,children:x}),d&&te.jsx(i0,{type:m,tooltip:f,children:d})]})})})});m3.displayName="FormCheck";const Sp=Object.assign(m3,{Input:Q1,Label:vp}),p3=U.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:o,isValid:u=!1,isInvalid:c=!1,plaintext:f,readOnly:d,as:m="input",...E},_)=>{const{controlId:b}=U.useContext(Ea);return t=Wn(t,"form-control"),te.jsx(m,{...E,type:e,size:r,ref:_,readOnly:d,id:s||b,className:ln(o,f?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",c&&"is-invalid")})});p3.displayName="FormControl";const jz=Object.assign(p3,{Feedback:i0}),g3=U.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Wn(e,"form-floating"),te.jsx(n,{ref:s,className:ln(t,e),...r})));g3.displayName="FormFloating";const W1=U.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=U.useMemo(()=>({controlId:t}),[t]);return te.jsx(Ea.Provider,{value:s,children:te.jsx(e,{...n,ref:r})})});W1.displayName="FormGroup";function qz({as:t,bsPrefix:e,className:n,...r}){e=Wn(e,"col");const s=Nz(),o=Rz(),u=[],c=[];return s.forEach(f=>{const d=r[f];delete r[f];let m,E,_;typeof d=="object"&&d!=null?{span:m,offset:E,order:_}=d:m=d;const b=f!==o?`-${f}`:"";m&&u.push(m===!0?`${e}${b}`:`${e}${b}-${m}`),_!=null&&c.push(`order${b}-${_}`),E!=null&&c.push(`offset${b}-${E}`)}),[{...r,className:ln(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const E3=U.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:o,spans:u}]=qz(t);return te.jsx(s,{...r,ref:e,className:ln(n,!u.length&&o)})});E3.displayName="Col";const y3=U.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:o,...u},c)=>{const{controlId:f}=U.useContext(Ea);e=Wn(e,"form-label");let d="col-form-label";typeof n=="string"&&(d=`${d} ${d}-${n}`);const m=ln(s,e,r&&"visually-hidden",n&&d);return o=o||f,n?te.jsx(E3,{ref:c,as:"label",className:m,htmlFor:o,...u}):te.jsx(t,{ref:c,className:m,htmlFor:o,...u})});y3.displayName="FormLabel";const _3=U.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:o}=U.useContext(Ea);return t=Wn(t,"form-range"),te.jsx("input",{...r,type:"range",ref:s,className:ln(e,t),id:n||o})});_3.displayName="FormRange";const T3=U.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:o=!1,id:u,...c},f)=>{const{controlId:d}=U.useContext(Ea);return t=Wn(t,"form-select"),te.jsx("select",{...c,size:n,ref:f,className:ln(r,t,e&&`${t}-${e}`,s&&"is-valid",o&&"is-invalid"),id:u||d})});T3.displayName="FormSelect";const b3=U.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},o)=>(t=Wn(t,"form-text"),te.jsx(n,{...s,ref:o,className:ln(e,t,r&&"text-muted")})));b3.displayName="FormText";const v3=U.forwardRef((t,e)=>te.jsx(Sp,{...t,ref:e,type:"switch"}));v3.displayName="Switch";const Yz=Object.assign(v3,{Input:Sp.Input,Label:Sp.Label}),S3=U.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...o},u)=>(t=Wn(t,"form-floating"),te.jsxs(W1,{ref:u,className:ln(e,t),controlId:r,...o,children:[n,te.jsx("label",{htmlFor:r,children:s})]})));S3.displayName="FloatingLabel";const $z={_ref:ca.any,validated:ca.bool,as:ca.elementType},Z1=U.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>te.jsx(n,{...r,ref:s,className:ln(t,e&&"was-validated")}));Z1.displayName="Form";Z1.propTypes=$z;const gl=Object.assign(Z1,{Group:W1,Control:jz,Floating:g3,Check:Sp,Switch:Yz,Label:y3,Text:b3,Range:_3,Select:T3,FloatingLabel:S3});function Gz({show:t,onHide:e,onConfirm:n,isCreating:r=!1}){const[s,o]=U.useState(""),[u,c]=U.useState(!0),f=U.useCallback(_=>{const b=_.target.value;o(b),c(b.trim().length>0&&b.trim().length<=50)},[]),d=U.useCallback(_=>{_.preventDefault();const b=s.trim();b.length>0&&b.length<=50&&(n(b),o(""),c(!0))},[s,n]),m=U.useCallback(()=>{o(""),c(!0),e()},[e]),E=U.useCallback(_=>{_.key==="Enter"&&d(_)},[d]);return te.jsxs(yh,{show:t,onHide:m,centered:!0,backdrop:"static",keyboard:!1,className:"board-name-modal",style:{zIndex:2001},children:[te.jsx(yh.Header,{closeButton:!0,children:te.jsx(yh.Title,{children:"Create New Board"})}),te.jsxs(gl,{onSubmit:d,children:[te.jsx(yh.Body,{children:te.jsxs(gl.Group,{children:[te.jsx(gl.Label,{children:"Board Name"}),te.jsx(gl.Control,{type:"text",value:s,onChange:f,onKeyDown:E,placeholder:"Enter board name...",isInvalid:!u,maxLength:50,autoFocus:!0}),te.jsx(gl.Control.Feedback,{type:"invalid",className:"text-muted",children:"Board name must be between 1 and 50 characters long."}),te.jsxs(gl.Text,{className:s.length===50?"text-danger":"text-muted",children:[s.length,"/50 characters"]})]})}),te.jsxs(yh.Footer,{children:[te.jsx(f_,{variant:"secondary",onClick:m,disabled:r,children:"Cancel"}),te.jsx(f_,{variant:"primary",type:"submit",disabled:!u||s.trim().length===0||r,children:r?"Creating...":"Create Board"})]})]})]})}function Fw(t){const e=[],n=String(t||"");let r=n.indexOf(","),s=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const u=n.slice(s,r).trim();(u||!o)&&e.push(u),s=r+1,r=n.indexOf(",",s)}return e}function A3(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Kz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qz={};function zw(t,e){return(Qz.jsx?Xz:Kz).test(t)}const Wz=/[ \t\n\f\r]/g;function Zz(t){return typeof t=="object"?t.type==="text"?jw(t.value):!1:jw(t)}function jw(t){return t.replace(Wz,"")===""}let Uf=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Uf.prototype.normal={};Uf.prototype.property={};Uf.prototype.space=void 0;function w3(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Uf(n,r,e)}function gf(t){return t.toLowerCase()}let ri=class{constructor(e,n){this.attribute=n,this.property=e}};ri.prototype.attribute="";ri.prototype.booleanish=!1;ri.prototype.boolean=!1;ri.prototype.commaOrSpaceSeparated=!1;ri.prototype.commaSeparated=!1;ri.prototype.defined=!1;ri.prototype.mustUseProperty=!1;ri.prototype.number=!1;ri.prototype.overloadedBoolean=!1;ri.prototype.property="";ri.prototype.spaceSeparated=!1;ri.prototype.space=void 0;let Jz=0;const ut=Su(),Vn=Su(),d_=Su(),De=Su(),an=Su(),Pl=Su(),mi=Su();function Su(){return 2**++Jz}const m_=Object.freeze(Object.defineProperty({__proto__:null,boolean:ut,booleanish:Vn,commaOrSpaceSeparated:mi,commaSeparated:Pl,number:De,overloadedBoolean:d_,spaceSeparated:an},Symbol.toStringTag,{value:"Module"})),JE=Object.keys(m_);let J1=class extends ri{constructor(e,n,r,s){let o=-1;if(super(e,n),qw(this,"space",s),typeof r=="number")for(;++o<JE.length;){const u=JE[o];qw(this,JE[o],(r&m_[u])===m_[u])}}};J1.prototype.defined=!0;function qw(t,e,n){n&&(t[e]=n)}function lc(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const o=new J1(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[gf(r)]=r,n[gf(o.attribute)]=r}return new Uf(e,n,t.space)}const C3=lc({properties:{ariaActiveDescendant:null,ariaAtomic:Vn,ariaAutoComplete:null,ariaBusy:Vn,ariaChecked:Vn,ariaColCount:De,ariaColIndex:De,ariaColSpan:De,ariaControls:an,ariaCurrent:null,ariaDescribedBy:an,ariaDetails:null,ariaDisabled:Vn,ariaDropEffect:an,ariaErrorMessage:null,ariaExpanded:Vn,ariaFlowTo:an,ariaGrabbed:Vn,ariaHasPopup:null,ariaHidden:Vn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:an,ariaLevel:De,ariaLive:null,ariaModal:Vn,ariaMultiLine:Vn,ariaMultiSelectable:Vn,ariaOrientation:null,ariaOwns:an,ariaPlaceholder:null,ariaPosInSet:De,ariaPressed:Vn,ariaReadOnly:Vn,ariaRelevant:null,ariaRequired:Vn,ariaRoleDescription:an,ariaRowCount:De,ariaRowIndex:De,ariaRowSpan:De,ariaSelected:Vn,ariaSetSize:De,ariaSort:null,ariaValueMax:De,ariaValueMin:De,ariaValueNow:De,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function I3(t,e){return e in t?t[e]:e}function x3(t,e){return I3(t,e.toLowerCase())}const ej=lc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pl,acceptCharset:an,accessKey:an,action:null,allow:null,allowFullScreen:ut,allowPaymentRequest:ut,allowUserMedia:ut,alt:null,as:null,async:ut,autoCapitalize:null,autoComplete:an,autoFocus:ut,autoPlay:ut,blocking:an,capture:null,charSet:null,checked:ut,cite:null,className:an,cols:De,colSpan:null,content:null,contentEditable:Vn,controls:ut,controlsList:an,coords:De|Pl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ut,defer:ut,dir:null,dirName:null,disabled:ut,download:d_,draggable:Vn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ut,formTarget:null,headers:an,height:De,hidden:d_,high:De,href:null,hrefLang:null,htmlFor:an,httpEquiv:an,id:null,imageSizes:null,imageSrcSet:null,inert:ut,inputMode:null,integrity:null,is:null,isMap:ut,itemId:null,itemProp:an,itemRef:an,itemScope:ut,itemType:an,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ut,low:De,manifest:null,max:null,maxLength:De,media:null,method:null,min:null,minLength:De,multiple:ut,muted:ut,name:null,nonce:null,noModule:ut,noValidate:ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ut,optimum:De,pattern:null,ping:an,placeholder:null,playsInline:ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ut,referrerPolicy:null,rel:an,required:ut,reversed:ut,rows:De,rowSpan:De,sandbox:an,scope:null,scoped:ut,seamless:ut,selected:ut,shadowRootClonable:ut,shadowRootDelegatesFocus:ut,shadowRootMode:null,shape:null,size:De,sizes:null,slot:null,span:De,spellCheck:Vn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:De,step:null,style:null,tabIndex:De,target:null,title:null,translate:null,type:null,typeMustMatch:ut,useMap:null,value:Vn,width:De,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:an,axis:null,background:null,bgColor:null,border:De,borderColor:null,bottomMargin:De,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ut,declare:ut,event:null,face:null,frame:null,frameBorder:null,hSpace:De,leftMargin:De,link:null,longDesc:null,lowSrc:null,marginHeight:De,marginWidth:De,noResize:ut,noHref:ut,noShade:ut,noWrap:ut,object:null,profile:null,prompt:null,rev:null,rightMargin:De,rules:null,scheme:null,scrolling:Vn,standby:null,summary:null,text:null,topMargin:De,valueType:null,version:null,vAlign:null,vLink:null,vSpace:De,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ut,disableRemotePlayback:ut,prefix:null,property:null,results:De,security:null,unselectable:null},space:"html",transform:x3}),tj=lc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mi,accentHeight:De,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:De,amplitude:De,arabicForm:null,ascent:De,attributeName:null,attributeType:null,azimuth:De,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:De,by:null,calcMode:null,capHeight:De,className:an,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:De,diffuseConstant:De,direction:null,display:null,dur:null,divisor:De,dominantBaseline:null,download:ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:De,enableBackground:null,end:null,event:null,exponent:De,externalResourcesRequired:null,fill:null,fillOpacity:De,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pl,g2:Pl,glyphName:Pl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:De,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:De,horizOriginX:De,horizOriginY:De,id:null,ideographic:De,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:De,k:De,k1:De,k2:De,k3:De,k4:De,kernelMatrix:mi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:De,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:De,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:De,overlineThickness:De,paintOrder:null,panose1:null,path:null,pathLength:De,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:an,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:De,pointsAtY:De,pointsAtZ:De,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mi,rev:mi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mi,requiredFeatures:mi,requiredFonts:mi,requiredFormats:mi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:De,specularExponent:De,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:De,strikethroughThickness:De,string:null,stroke:null,strokeDashArray:mi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:De,strokeOpacity:De,strokeWidth:null,style:null,surfaceScale:De,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mi,tabIndex:De,tableValues:null,target:null,targetX:De,targetY:De,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:De,underlineThickness:De,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:De,values:null,vAlphabetic:De,vMathematical:De,vectorEffect:null,vHanging:De,vIdeographic:De,version:null,vertAdvY:De,vertOriginX:De,vertOriginY:De,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:De,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:I3}),N3=lc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),R3=lc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:x3}),O3=lc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),nj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rj=/[A-Z]/g,Yw=/-[a-z]/g,ij=/^data[-\w.:]+$/i;function eT(t,e){const n=gf(e);let r=e,s=ri;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ij.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Yw,aj);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Yw.test(o)){let u=o.replace(rj,sj);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=J1}return new s(r,e)}function sj(t){return"-"+t.toLowerCase()}function aj(t){return t.charAt(1).toUpperCase()}const s0=w3([C3,ej,N3,R3,O3],"html"),cc=w3([C3,tj,N3,R3,O3],"svg");function $w(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function D3(t){return t.join(" ").trim()}var El={},ey,Gw;function oj(){if(Gw)return ey;Gw=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",m="*",E="",_="comment",b="declaration";ey=function(x,k){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];k=k||{};var D=1,z=1;function Y(C){var L=C.match(e);L&&(D+=L.length);var K=C.lastIndexOf(f);z=~K?C.length-K:z+C.length}function j(){var C={line:D,column:z};return function(L){return L.position=new Z(C),N(),L}}function Z(C){this.start=C,this.end={line:D,column:z},this.source=k.source}Z.prototype.content=x;function G(C){var L=new Error(k.source+":"+D+":"+z+": "+C);if(L.reason=C,L.filename=k.source,L.line=D,L.column=z,L.source=x,!k.silent)throw L}function R(C){var L=C.exec(x);if(L){var K=L[0];return Y(K),x=x.slice(K.length),L}}function N(){R(n)}function O(C){var L;for(C=C||[];L=M();)L!==!1&&C.push(L);return C}function M(){var C=j();if(!(d!=x.charAt(0)||m!=x.charAt(1))){for(var L=2;E!=x.charAt(L)&&(m!=x.charAt(L)||d!=x.charAt(L+1));)++L;if(L+=2,E===x.charAt(L-1))return G("End of comment missing");var K=x.slice(2,L-2);return z+=2,Y(K),x=x.slice(L),z+=2,C({type:_,comment:K})}}function B(){var C=j(),L=R(r);if(L){if(M(),!R(s))return G("property missing ':'");var K=R(o),H=C({type:b,property:w(L[0].replace(t,E)),value:K?w(K[0].replace(t,E)):E});return R(u),H}}function V(){var C=[];O(C);for(var L;L=B();)L!==!1&&(C.push(L),O(C));return C}return N(),V()};function w(x){return x?x.replace(c,E):E}return ey}var Kw;function uj(){if(Kw)return El;Kw=1;var t=El&&El.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(El,"__esModule",{value:!0}),El.default=n;var e=t(oj());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),c=typeof s=="function";return u.forEach(function(f){if(f.type==="declaration"){var d=f.property,m=f.value;c?s(d,m,f):m&&(o=o||{},o[d]=m)}}),o}return El}var _h={},Xw;function lj(){if(Xw)return _h;Xw=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},u=function(d,m){return m.toUpperCase()},c=function(d,m){return"".concat(m,"-")},f=function(d,m){return m===void 0&&(m={}),o(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(s,c):d=d.replace(r,c),d.replace(e,u))};return _h.camelCase=f,_h}var Th,Qw;function cj(){if(Qw)return Th;Qw=1;var t=Th&&Th.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(uj()),n=lj();function r(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(c,f){c&&f&&(u[(0,n.camelCase)(c,o)]=f)}),u}return r.default=r,Th=r,Th}var hj=cj();const fj=yu(hj),a0=k3("end"),Ps=k3("start");function k3(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dj(t){const e=Ps(t),n=a0(t);if(e&&n)return{start:e,end:n}}function zh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Ww(t.position):"start"in t||"end"in t?Ww(t):"line"in t||"column"in t?p_(t):""}function p_(t){return Zw(t&&t.line)+":"+Zw(t&&t.column)}function Ww(t){return p_(t&&t.start)+"-"+p_(t&&t.end)}function Zw(t){return t&&typeof t=="number"?t:1}class Or extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=zh(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Or.prototype.file="";Or.prototype.name="";Or.prototype.reason="";Or.prototype.message="";Or.prototype.stack="";Or.prototype.column=void 0;Or.prototype.line=void 0;Or.prototype.ancestors=void 0;Or.prototype.cause=void 0;Or.prototype.fatal=void 0;Or.prototype.place=void 0;Or.prototype.ruleId=void 0;Or.prototype.source=void 0;const tT={}.hasOwnProperty,mj=new Map,pj=/[A-Z]/g,gj=new Set(["table","tbody","thead","tfoot","tr"]),Ej=new Set(["td","th"]),L3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function yj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Cj(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=wj(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?cc:s0,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=M3(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function M3(t,e,n){if(e.type==="element")return _j(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Tj(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return vj(t,e,n);if(e.type==="mdxjsEsm")return bj(t,e);if(e.type==="root")return Sj(t,e,n);if(e.type==="text")return Aj(t,e)}function _j(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=cc,t.schema=s),t.ancestors.push(e);const o=B3(t,e.tagName,!1),u=Ij(t,e);let c=rT(t,e);return gj.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!Zz(f):!0})),P3(t,u,o,e),nT(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function Tj(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ef(t,e.position)}function bj(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ef(t,e.position)}function vj(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=cc,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:B3(t,e.name,!0),u=xj(t,e),c=rT(t,e);return P3(t,u,o,e),nT(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function Sj(t,e,n){const r={};return nT(r,rT(t,e)),t.create(e,t.Fragment,r,n)}function Aj(t,e){return e.value}function P3(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function nT(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function wj(t,e,n){return r;function r(s,o,u,c){const d=Array.isArray(u.children)?n:e;return c?d(o,u,c):d(o,u)}}function Cj(t,e){return n;function n(r,s,o,u){const c=Array.isArray(o.children),f=Ps(r);return e(s,o,u,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function Ij(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&tT.call(e.properties,s)){const o=Nj(t,s,e.properties[s]);if(o){const[u,c]=o;t.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&Ej.has(e.tagName)?r=c:n[u]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function xj(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Ef(t,e.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,o=t.evaluater.evaluateExpression(c.expression)}else Ef(t,e.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function rT(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:mj;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const d=s.get(f)||0;u=f+"-"+d,s.set(f,d+1)}}const c=M3(t,o,u);c!==void 0&&n.push(c)}return n}function Nj(t,e,n){const r=eT(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?A3(n):D3(n)),r.property==="style"){let s=typeof n=="object"?n:Rj(t,String(n));return t.stylePropertyNameCase==="css"&&(s=Oj(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?nj[r.property]||r.property:r.attribute,n]}}function Rj(t,e){try{return fj(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new Or("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=L3+"#cannot-parse-style-attribute",s}}function B3(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const c=zw(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=u}else r=zw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return tT.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ef(t)}function Ef(t,e){const n=new Or("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=L3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Oj(t){const e={};let n;for(n in t)tT.call(t,n)&&(e[Dj(n)]=t[n]);return e}function Dj(t){let e=t.replace(pj,kj);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function kj(t){return"-"+t.toLowerCase()}const ty={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Lj={};function Mj(t,e){const n=Lj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return U3(t,r,s)}function U3(t,e,n){if(Pj(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Jw(t.children,e,n)}return Array.isArray(t)?Jw(t,e,n):""}function Jw(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=U3(t[s],e,n);return r.join("")}function Pj(t){return!!(t&&typeof t=="object")}const eC=document.createElement("i");function iT(t){const e="&"+t+";";eC.innerHTML=e;const n=eC.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ls(t,e,n,r){const s=t.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function Hi(t,e){return t.length>0?(Ls(t,t.length,0,e),t):e}const tC={}.hasOwnProperty;function Bj(t){const e={};let n=-1;for(;++n<t.length;)Uj(e,t[n]);return e}function Uj(t,e){let n;for(n in e){const s=(tC.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){tC.call(s,u)||(s[u]=[]);const c=o[u];Vj(s[u],Array.isArray(c)?c:c?[c]:[])}}}function Vj(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ls(t,0,0,r)}function V3(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Bl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Is=Co(/[A-Za-z]/),yi=Co(/[\dA-Za-z]/),Hj=Co(/[#-'*+\--9=?A-Z^-~]/);function g_(t){return t!==null&&(t<32||t===127)}const E_=Co(/\d/),Fj=Co(/[\dA-Fa-f]/),zj=Co(/[!-/:-@[-`{-~]/);function nt(t){return t!==null&&t<-2}function ni(t){return t!==null&&(t<0||t===32)}function Pt(t){return t===-2||t===-1||t===32}const jj=Co(new RegExp("\\p{P}|\\p{S}","u")),qj=Co(/\s/);function Co(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function hc(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&yi(t.charCodeAt(n+1))&&yi(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(u=String.fromCharCode(o,c),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function un(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return Pt(f)?(t.enter(n),c(f)):e(f)}function c(f){return Pt(f)&&o++<s?(t.consume(f),c):(t.exit(n),e(f))}}const Yj={tokenize:$j};function $j(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),un(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),o(c)}function o(c){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(c)}function u(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return nt(c)?(t.consume(c),t.exit("chunkText"),o):(t.consume(c),u)}}const Gj={tokenize:Kj},nC={tokenize:Xj};function Kj(t){const e=this,n=[];let r=0,s,o,u;return c;function c(Y){if(r<n.length){const j=n[r];return e.containerState=j[1],t.attempt(j[0].continuation,f,d)(Y)}return d(Y)}function f(Y){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&z();const j=e.events.length;let Z=j,G;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){G=e.events[Z][1].end;break}D(r);let R=j;for(;R<e.events.length;)e.events[R][1].end={...G},R++;return Ls(e.events,Z+1,0,e.events.slice(j)),e.events.length=R,d(Y)}return c(Y)}function d(Y){if(r===n.length){if(!s)return _(Y);if(s.currentConstruct&&s.currentConstruct.concrete)return w(Y);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(nC,m,E)(Y)}function m(Y){return s&&z(),D(r),_(Y)}function E(Y){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,w(Y)}function _(Y){return e.containerState={},t.attempt(nC,b,w)(Y)}function b(Y){return r++,n.push([e.currentConstruct,e.containerState]),_(Y)}function w(Y){if(Y===null){s&&z(),D(0),t.consume(Y);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),x(Y)}function x(Y){if(Y===null){k(t.exit("chunkFlow"),!0),D(0),t.consume(Y);return}return nt(Y)?(t.consume(Y),k(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(Y),x)}function k(Y,j){const Z=e.sliceStream(Y);if(j&&Z.push(null),Y.previous=o,o&&(o.next=Y),o=Y,s.defineSkip(Y.start),s.write(Z),e.parser.lazy[Y.start.line]){let G=s.events.length;for(;G--;)if(s.events[G][1].start.offset<u&&(!s.events[G][1].end||s.events[G][1].end.offset>u))return;const R=e.events.length;let N=R,O,M;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(O){M=e.events[N][1].end;break}O=!0}for(D(r),G=R;G<e.events.length;)e.events[G][1].end={...M},G++;Ls(e.events,N+1,0,e.events.slice(R)),e.events.length=G}}function D(Y){let j=n.length;for(;j-- >Y;){const Z=n[j];e.containerState=Z[1],Z[0].exit.call(e,t)}n.length=Y}function z(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function Xj(t,e,n){return un(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function rC(t){if(t===null||ni(t)||qj(t))return 1;if(jj(t))return 2}function sT(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const y_={name:"attention",resolveAll:Qj,tokenize:Wj};function Qj(t,e){let n=-1,r,s,o,u,c,f,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const E={...t[r][1].end},_={...t[n][1].start};iC(E,-f),iC(_,f),u={type:f>1?"strongSequence":"emphasisSequence",start:E,end:{...t[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},o={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},t[r][1].end={...u.start},t[n][1].start={...c.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Hi(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Hi(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),d=Hi(d,sT(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Hi(d,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=Hi(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Ls(t,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Wj(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=rC(r);let o;return u;function u(f){return o=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===o)return t.consume(f),c;const d=t.exit("attentionSequence"),m=rC(f),E=!m||m===2&&s||n.includes(f),_=!s||s===2&&m||n.includes(r);return d._open=!!(o===42?E:E&&(s||!_)),d._close=!!(o===42?_:_&&(m||!E)),e(f)}}function iC(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Zj={name:"autolink",tokenize:Jj};function Jj(t,e,n){let r=0;return s;function s(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(b){return Is(b)?(t.consume(b),u):b===64?n(b):d(b)}function u(b){return b===43||b===45||b===46||yi(b)?(r=1,c(b)):d(b)}function c(b){return b===58?(t.consume(b),r=0,f):(b===43||b===45||b===46||yi(b))&&r++<32?(t.consume(b),c):(r=0,d(b))}function f(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||g_(b)?n(b):(t.consume(b),f)}function d(b){return b===64?(t.consume(b),m):Hj(b)?(t.consume(b),d):n(b)}function m(b){return yi(b)?E(b):n(b)}function E(b){return b===46?(t.consume(b),r=0,m):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):_(b)}function _(b){if((b===45||yi(b))&&r++<63){const w=b===45?_:E;return t.consume(b),w}return n(b)}}const o0={partial:!0,tokenize:eq};function eq(t,e,n){return r;function r(o){return Pt(o)?un(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||nt(o)?e(o):n(o)}}const H3={continuation:{tokenize:nq},exit:rq,name:"blockQuote",tokenize:tq};function tq(t,e,n){const r=this;return s;function s(u){if(u===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Pt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function nq(t,e,n){const r=this;return s;function s(u){return Pt(u)?un(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(H3,e,n)(u)}}function rq(t){t.exit("blockQuote")}const F3={name:"characterEscape",tokenize:iq};function iq(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return zj(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const z3={name:"characterReference",tokenize:sq};function sq(t,e,n){const r=this;let s=0,o,u;return c;function c(E){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),f}function f(E){return E===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(E),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,u=yi,m(E))}function d(E){return E===88||E===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(E),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=Fj,m):(t.enter("characterReferenceValue"),o=7,u=E_,m(E))}function m(E){if(E===59&&s){const _=t.exit("characterReferenceValue");return u===yi&&!iT(r.sliceSerialize(_))?n(E):(t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(E)&&s++<o?(t.consume(E),m):n(E)}}const sC={partial:!0,tokenize:oq},aC={concrete:!0,name:"codeFenced",tokenize:aq};function aq(t,e,n){const r=this,s={partial:!0,tokenize:Z};let o=0,u=0,c;return f;function f(G){return d(G)}function d(G){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,c=G,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(G)}function m(G){return G===c?(u++,t.consume(G),m):u<3?n(G):(t.exit("codeFencedFenceSequence"),Pt(G)?un(t,E,"whitespace")(G):E(G))}function E(G){return G===null||nt(G)?(t.exit("codeFencedFence"),r.interrupt?e(G):t.check(sC,x,j)(G)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_(G))}function _(G){return G===null||nt(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),E(G)):Pt(G)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),un(t,b,"whitespace")(G)):G===96&&G===c?n(G):(t.consume(G),_)}function b(G){return G===null||nt(G)?E(G):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(G))}function w(G){return G===null||nt(G)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),E(G)):G===96&&G===c?n(G):(t.consume(G),w)}function x(G){return t.attempt(s,j,k)(G)}function k(G){return t.enter("lineEnding"),t.consume(G),t.exit("lineEnding"),D}function D(G){return o>0&&Pt(G)?un(t,z,"linePrefix",o+1)(G):z(G)}function z(G){return G===null||nt(G)?t.check(sC,x,j)(G):(t.enter("codeFlowValue"),Y(G))}function Y(G){return G===null||nt(G)?(t.exit("codeFlowValue"),z(G)):(t.consume(G),Y)}function j(G){return t.exit("codeFenced"),e(G)}function Z(G,R,N){let O=0;return M;function M(K){return G.enter("lineEnding"),G.consume(K),G.exit("lineEnding"),B}function B(K){return G.enter("codeFencedFence"),Pt(K)?un(G,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):V(K)}function V(K){return K===c?(G.enter("codeFencedFenceSequence"),C(K)):N(K)}function C(K){return K===c?(O++,G.consume(K),C):O>=u?(G.exit("codeFencedFenceSequence"),Pt(K)?un(G,L,"whitespace")(K):L(K)):N(K)}function L(K){return K===null||nt(K)?(G.exit("codeFencedFence"),R(K)):N(K)}}}function oq(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const ny={name:"codeIndented",tokenize:lq},uq={partial:!0,tokenize:cq};function lq(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),un(t,o,"linePrefix",5)(d)}function o(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?f(d):nt(d)?t.attempt(uq,u,f)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||nt(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),c)}function f(d){return t.exit("codeIndented"),e(d)}}function cq(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):nt(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):un(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):nt(u)?s(u):n(u)}}const hq={name:"codeText",previous:dq,resolve:fq,tokenize:mq};function fq(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function dq(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mq(t,e,n){let r=0,s,o;return u;function u(E){return t.enter("codeText"),t.enter("codeTextSequence"),c(E)}function c(E){return E===96?(t.consume(E),r++,c):(t.exit("codeTextSequence"),f(E))}function f(E){return E===null?n(E):E===32?(t.enter("space"),t.consume(E),t.exit("space"),f):E===96?(o=t.enter("codeTextSequence"),s=0,m(E)):nt(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),f):(t.enter("codeTextData"),d(E))}function d(E){return E===null||E===32||E===96||nt(E)?(t.exit("codeTextData"),f(E)):(t.consume(E),d)}function m(E){return E===96?(t.consume(E),s++,m):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(E)):(o.type="codeTextData",d(E))}}class pq{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&bh(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);bh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bh(this.left,n.reverse())}}}function bh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function j3(t){const e={};let n=-1,r,s,o,u,c,f,d;const m=new pq(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,gq(m,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(u=m.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...m.get(s)[1].start},c=m.slice(s,n),c.unshift(r),m.splice(s,n-s+1,c))}}return Ls(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function gq(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,f=[],d={};let m,E,_=-1,b=n,w=0,x=0;const k=[x];for(;b;){for(;t.get(++s)[1]!==b;);o.push(s),b._tokenizer||(m=r.sliceStream(b),b.next||m.push(null),E&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),E=b,b=b.next}for(b=n;++_<c.length;)c[_][0]==="exit"&&c[_-1][0]==="enter"&&c[_][1].type===c[_-1][1].type&&c[_][1].start.line!==c[_][1].end.line&&(x=_+1,k.push(x),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):k.pop(),_=k.length;_--;){const D=c.slice(k[_],k[_+1]),z=o.pop();f.push([z,z+D.length-1]),t.splice(z,2,D)}for(f.reverse(),_=-1;++_<f.length;)d[w+f[_][0]]=w+f[_][1],w+=f[_][1]-f[_][0]-1;return d}const Eq={resolve:_q,tokenize:Tq},yq={partial:!0,tokenize:bq};function _q(t){return j3(t),t}function Tq(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):nt(c)?t.check(yq,u,o)(c):(t.consume(c),s)}function o(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function u(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function bq(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),un(t,o,"linePrefix")}function o(u){if(u===null||nt(u))return n(u);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function q3(t,e,n,r,s,o,u,c,f){const d=f||Number.POSITIVE_INFINITY;let m=0;return E;function E(D){return D===60?(t.enter(r),t.enter(s),t.enter(o),t.consume(D),t.exit(o),_):D===null||D===32||D===41||g_(D)?n(D):(t.enter(r),t.enter(u),t.enter(c),t.enter("chunkString",{contentType:"string"}),x(D))}function _(D){return D===62?(t.enter(o),t.consume(D),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),b(D))}function b(D){return D===62?(t.exit("chunkString"),t.exit(c),_(D)):D===null||D===60||nt(D)?n(D):(t.consume(D),D===92?w:b)}function w(D){return D===60||D===62||D===92?(t.consume(D),b):b(D)}function x(D){return!m&&(D===null||D===41||ni(D))?(t.exit("chunkString"),t.exit(c),t.exit(u),t.exit(r),e(D)):m<d&&D===40?(t.consume(D),m++,x):D===41?(t.consume(D),m--,x):D===null||D===32||D===40||g_(D)?n(D):(t.consume(D),D===92?k:x)}function k(D){return D===40||D===41||D===92?(t.consume(D),x):x(D)}}function Y3(t,e,n,r,s,o){const u=this;let c=0,f;return d;function d(b){return t.enter(r),t.enter(s),t.consume(b),t.exit(s),t.enter(o),m}function m(b){return c>999||b===null||b===91||b===93&&!f||b===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(b):b===93?(t.exit(o),t.enter(s),t.consume(b),t.exit(s),t.exit(r),e):nt(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),E(b))}function E(b){return b===null||b===91||b===93||nt(b)||c++>999?(t.exit("chunkString"),m(b)):(t.consume(b),f||(f=!Pt(b)),b===92?_:E)}function _(b){return b===91||b===92||b===93?(t.consume(b),c++,E):E(b)}}function $3(t,e,n,r,s,o){let u;return c;function c(_){return _===34||_===39||_===40?(t.enter(r),t.enter(s),t.consume(_),t.exit(s),u=_===40?41:_,f):n(_)}function f(_){return _===u?(t.enter(s),t.consume(_),t.exit(s),t.exit(r),e):(t.enter(o),d(_))}function d(_){return _===u?(t.exit(o),f(u)):_===null?n(_):nt(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),un(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===u||_===null||nt(_)?(t.exit("chunkString"),d(_)):(t.consume(_),_===92?E:m)}function E(_){return _===u||_===92?(t.consume(_),m):m(_)}}function jh(t,e){let n;return r;function r(s){return nt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):Pt(s)?un(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const vq={name:"definition",tokenize:Aq},Sq={partial:!0,tokenize:wq};function Aq(t,e,n){const r=this;let s;return o;function o(b){return t.enter("definition"),u(b)}function u(b){return Y3.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return s=Bl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),f):n(b)}function f(b){return ni(b)?jh(t,d)(b):d(b)}function d(b){return q3(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function m(b){return t.attempt(Sq,E,E)(b)}function E(b){return Pt(b)?un(t,_,"whitespace")(b):_(b)}function _(b){return b===null||nt(b)?(t.exit("definition"),r.parser.defined.push(s),e(b)):n(b)}}function wq(t,e,n){return r;function r(c){return ni(c)?jh(t,s)(c):n(c)}function s(c){return $3(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Pt(c)?un(t,u,"whitespace")(c):u(c)}function u(c){return c===null||nt(c)?e(c):n(c)}}const Cq={name:"hardBreakEscape",tokenize:Iq};function Iq(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return nt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const xq={name:"headingAtx",resolve:Nq,tokenize:Rq};function Nq(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ls(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function Rq(t,e,n){let r=0;return s;function s(m){return t.enter("atxHeading"),o(m)}function o(m){return t.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(t.consume(m),u):m===null||ni(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),f(m)):m===null||nt(m)?(t.exit("atxHeading"),e(m)):Pt(m)?un(t,c,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function f(m){return m===35?(t.consume(m),f):(t.exit("atxHeadingSequence"),c(m))}function d(m){return m===null||m===35||ni(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),d)}}const Oq=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],oC=["pre","script","style","textarea"],Dq={concrete:!0,name:"htmlFlow",resolveTo:Mq,tokenize:Pq},kq={partial:!0,tokenize:Uq},Lq={partial:!0,tokenize:Bq};function Mq(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Pq(t,e,n){const r=this;let s,o,u,c,f;return d;function d(P){return m(P)}function m(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),E}function E(P){return P===33?(t.consume(P),_):P===47?(t.consume(P),o=!0,x):P===63?(t.consume(P),s=3,r.interrupt?e:S):Is(P)?(t.consume(P),u=String.fromCharCode(P),k):n(P)}function _(P){return P===45?(t.consume(P),s=2,b):P===91?(t.consume(P),s=5,c=0,w):Is(P)?(t.consume(P),s=4,r.interrupt?e:S):n(P)}function b(P){return P===45?(t.consume(P),r.interrupt?e:S):n(P)}function w(P){const pe="CDATA[";return P===pe.charCodeAt(c++)?(t.consume(P),c===pe.length?r.interrupt?e:V:w):n(P)}function x(P){return Is(P)?(t.consume(P),u=String.fromCharCode(P),k):n(P)}function k(P){if(P===null||P===47||P===62||ni(P)){const pe=P===47,xe=u.toLowerCase();return!pe&&!o&&oC.includes(xe)?(s=1,r.interrupt?e(P):V(P)):Oq.includes(u.toLowerCase())?(s=6,pe?(t.consume(P),D):r.interrupt?e(P):V(P)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):o?z(P):Y(P))}return P===45||yi(P)?(t.consume(P),u+=String.fromCharCode(P),k):n(P)}function D(P){return P===62?(t.consume(P),r.interrupt?e:V):n(P)}function z(P){return Pt(P)?(t.consume(P),z):M(P)}function Y(P){return P===47?(t.consume(P),M):P===58||P===95||Is(P)?(t.consume(P),j):Pt(P)?(t.consume(P),Y):M(P)}function j(P){return P===45||P===46||P===58||P===95||yi(P)?(t.consume(P),j):Z(P)}function Z(P){return P===61?(t.consume(P),G):Pt(P)?(t.consume(P),Z):Y(P)}function G(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),f=P,R):Pt(P)?(t.consume(P),G):N(P)}function R(P){return P===f?(t.consume(P),f=null,O):P===null||nt(P)?n(P):(t.consume(P),R)}function N(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||ni(P)?Z(P):(t.consume(P),N)}function O(P){return P===47||P===62||Pt(P)?Y(P):n(P)}function M(P){return P===62?(t.consume(P),B):n(P)}function B(P){return P===null||nt(P)?V(P):Pt(P)?(t.consume(P),B):n(P)}function V(P){return P===45&&s===2?(t.consume(P),H):P===60&&s===1?(t.consume(P),Q):P===62&&s===4?(t.consume(P),ee):P===63&&s===3?(t.consume(P),S):P===93&&s===5?(t.consume(P),ie):nt(P)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(kq,oe,C)(P)):P===null||nt(P)?(t.exit("htmlFlowData"),C(P)):(t.consume(P),V)}function C(P){return t.check(Lq,L,oe)(P)}function L(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),K}function K(P){return P===null||nt(P)?C(P):(t.enter("htmlFlowData"),V(P))}function H(P){return P===45?(t.consume(P),S):V(P)}function Q(P){return P===47?(t.consume(P),u="",re):V(P)}function re(P){if(P===62){const pe=u.toLowerCase();return oC.includes(pe)?(t.consume(P),ee):V(P)}return Is(P)&&u.length<8?(t.consume(P),u+=String.fromCharCode(P),re):V(P)}function ie(P){return P===93?(t.consume(P),S):V(P)}function S(P){return P===62?(t.consume(P),ee):P===45&&s===2?(t.consume(P),S):V(P)}function ee(P){return P===null||nt(P)?(t.exit("htmlFlowData"),oe(P)):(t.consume(P),ee)}function oe(P){return t.exit("htmlFlow"),e(P)}}function Bq(t,e,n){const r=this;return s;function s(u){return nt(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function Uq(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(o0,e,n)}}const Vq={name:"htmlText",tokenize:Hq};function Hq(t,e,n){const r=this;let s,o,u;return c;function c(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),f}function f(S){return S===33?(t.consume(S),d):S===47?(t.consume(S),Z):S===63?(t.consume(S),Y):Is(S)?(t.consume(S),N):n(S)}function d(S){return S===45?(t.consume(S),m):S===91?(t.consume(S),o=0,w):Is(S)?(t.consume(S),z):n(S)}function m(S){return S===45?(t.consume(S),b):n(S)}function E(S){return S===null?n(S):S===45?(t.consume(S),_):nt(S)?(u=E,Q(S)):(t.consume(S),E)}function _(S){return S===45?(t.consume(S),b):E(S)}function b(S){return S===62?H(S):S===45?_(S):E(S)}function w(S){const ee="CDATA[";return S===ee.charCodeAt(o++)?(t.consume(S),o===ee.length?x:w):n(S)}function x(S){return S===null?n(S):S===93?(t.consume(S),k):nt(S)?(u=x,Q(S)):(t.consume(S),x)}function k(S){return S===93?(t.consume(S),D):x(S)}function D(S){return S===62?H(S):S===93?(t.consume(S),D):x(S)}function z(S){return S===null||S===62?H(S):nt(S)?(u=z,Q(S)):(t.consume(S),z)}function Y(S){return S===null?n(S):S===63?(t.consume(S),j):nt(S)?(u=Y,Q(S)):(t.consume(S),Y)}function j(S){return S===62?H(S):Y(S)}function Z(S){return Is(S)?(t.consume(S),G):n(S)}function G(S){return S===45||yi(S)?(t.consume(S),G):R(S)}function R(S){return nt(S)?(u=R,Q(S)):Pt(S)?(t.consume(S),R):H(S)}function N(S){return S===45||yi(S)?(t.consume(S),N):S===47||S===62||ni(S)?O(S):n(S)}function O(S){return S===47?(t.consume(S),H):S===58||S===95||Is(S)?(t.consume(S),M):nt(S)?(u=O,Q(S)):Pt(S)?(t.consume(S),O):H(S)}function M(S){return S===45||S===46||S===58||S===95||yi(S)?(t.consume(S),M):B(S)}function B(S){return S===61?(t.consume(S),V):nt(S)?(u=B,Q(S)):Pt(S)?(t.consume(S),B):O(S)}function V(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),s=S,C):nt(S)?(u=V,Q(S)):Pt(S)?(t.consume(S),V):(t.consume(S),L)}function C(S){return S===s?(t.consume(S),s=void 0,K):S===null?n(S):nt(S)?(u=C,Q(S)):(t.consume(S),C)}function L(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||ni(S)?O(S):(t.consume(S),L)}function K(S){return S===47||S===62||ni(S)?O(S):n(S)}function H(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),e):n(S)}function Q(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),re}function re(S){return Pt(S)?un(t,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):ie(S)}function ie(S){return t.enter("htmlTextData"),u(S)}}const aT={name:"labelEnd",resolveAll:qq,resolveTo:Yq,tokenize:$q},Fq={tokenize:Gq},zq={tokenize:Kq},jq={tokenize:Xq};function qq(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Ls(t,0,t.length,n),t}function Yq(t,e){let n=t.length,r=0,s,o,u,c;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const f={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},m={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=Hi(c,t.slice(o+1,o+r+3)),c=Hi(c,[["enter",m,e]]),c=Hi(c,sT(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),c=Hi(c,[["exit",m,e],t[u-2],t[u-1],["exit",d,e]]),c=Hi(c,t.slice(u+1)),c=Hi(c,[["exit",f,e]]),Ls(t,o,t.length,c),t}function $q(t,e,n){const r=this;let s=r.events.length,o,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(_){return o?o._inactive?E(_):(u=r.parser.defined.includes(Bl(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),f):n(_)}function f(_){return _===40?t.attempt(Fq,m,u?m:E)(_):_===91?t.attempt(zq,m,u?d:E)(_):u?m(_):E(_)}function d(_){return t.attempt(jq,m,E)(_)}function m(_){return e(_)}function E(_){return o._balanced=!0,n(_)}}function Gq(t,e,n){return r;function r(E){return t.enter("resource"),t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),s}function s(E){return ni(E)?jh(t,o)(E):o(E)}function o(E){return E===41?m(E):q3(t,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function u(E){return ni(E)?jh(t,f)(E):m(E)}function c(E){return n(E)}function f(E){return E===34||E===39||E===40?$3(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):m(E)}function d(E){return ni(E)?jh(t,m)(E):m(E)}function m(E){return E===41?(t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),t.exit("resource"),e):n(E)}}function Kq(t,e,n){const r=this;return s;function s(c){return Y3.call(r,t,o,u,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(Bl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function u(c){return n(c)}}function Xq(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Qq={name:"labelStartImage",resolveAll:aT.resolveAll,tokenize:Wq};function Wq(t,e,n){const r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),o}function o(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const Zq={name:"labelStartLink",resolveAll:aT.resolveAll,tokenize:Jq};function Jq(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const ry={name:"lineEnding",tokenize:eY};function eY(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),un(t,e,"linePrefix")}}const Fm={name:"thematicBreak",tokenize:tY};function tY(t,e,n){let r=0,s;return o;function o(d){return t.enter("thematicBreak"),u(d)}function u(d){return s=d,c(d)}function c(d){return d===s?(t.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||nt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function f(d){return d===s?(t.consume(d),r++,f):(t.exit("thematicBreakSequence"),Pt(d)?un(t,c,"whitespace")(d):c(d))}}const Zr={continuation:{tokenize:sY},exit:oY,name:"list",tokenize:iY},nY={partial:!0,tokenize:uY},rY={partial:!0,tokenize:aY};function iY(t,e,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return c;function c(b){const w=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:E_(b)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Fm,n,d)(b):d(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(b)}return n(b)}function f(b){return E_(b)&&++u<10?(t.consume(b),f):(!r.interrupt||u<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):n(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(o0,r.interrupt?n:m,t.attempt(nY,_,E))}function m(b){return r.containerState.initialBlankLine=!0,o++,_(b)}function E(b){return Pt(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),_):n(b)}function _(b){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function sY(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(o0,s,o);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(t,e,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!Pt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(rY,e,u)(c))}function u(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(t,t.attempt(Zr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function aY(t,e,n){const r=this;return un(t,s,"listItemIndent",r.containerState.size+1);function s(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function oY(t){t.exit(this.containerState.type)}function uY(t,e,n){const r=this;return un(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=r.events[r.events.length-1];return!Pt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const uC={name:"setextUnderline",resolveTo:lY,tokenize:cY};function lY(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function cY(t,e,n){const r=this;let s;return o;function o(d){let m=r.events.length,E;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){E=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||E)?(t.enter("setextHeadingLine"),s=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),Pt(d)?un(t,f,"lineSuffix")(d):f(d))}function f(d){return d===null||nt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const hY={tokenize:fY};function fY(t){const e=this,n=t.attempt(o0,r,t.attempt(this.parser.constructs.flowInitial,s,un(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Eq,s)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const dY={resolveAll:K3()},mY=G3("string"),pY=G3("text");function G3(t){return{resolveAll:K3(t==="text"?gY:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],o=n.attempt(s,u,c);return u;function u(m){return d(m)?o(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),f}function f(m){return d(m)?(n.exit("data"),o(m)):(n.consume(m),f)}function d(m){if(m===null)return!0;const E=s[m];let _=-1;if(E)for(;++_<E.length;){const b=E[_];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function K3(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function gY(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let o=s.length,u=-1,c=0,f;for(;o--;){const d=s[o];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(d===-2)f=!0,c++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const EY={42:Zr,43:Zr,45:Zr,48:Zr,49:Zr,50:Zr,51:Zr,52:Zr,53:Zr,54:Zr,55:Zr,56:Zr,57:Zr,62:H3},yY={91:vq},_Y={[-2]:ny,[-1]:ny,32:ny},TY={35:xq,42:Fm,45:[uC,Fm],60:Dq,61:uC,95:Fm,96:aC,126:aC},bY={38:z3,92:F3},vY={[-5]:ry,[-4]:ry,[-3]:ry,33:Qq,38:z3,42:y_,60:[Zj,Vq],91:Zq,92:[Cq,F3],93:aT,95:y_,96:hq},SY={null:[y_,dY]},AY={null:[42,95]},wY={null:[]},CY=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:AY,contentInitial:yY,disable:wY,document:EY,flow:TY,flowInitial:_Y,insideSpan:SY,string:bY,text:vY},Symbol.toStringTag,{value:"Module"}));function IY(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],c=[];const f={attempt:R(Z),check:R(G),consume:z,enter:Y,exit:j,interrupt:R(G,{interrupt:!0})},d={code:null,containerState:{},defineSkip:x,events:[],now:w,parser:t,previous:null,sliceSerialize:_,sliceStream:b,write:E};let m=e.tokenize.call(d,f);return e.resolveAll&&o.push(e),d;function E(B){return u=Hi(u,B),k(),u[u.length-1]!==null?[]:(N(e,0),d.events=sT(o,d.events,d),d.events)}function _(B,V){return NY(b(B),V)}function b(B){return xY(u,B)}function w(){const{_bufferIndex:B,_index:V,line:C,column:L,offset:K}=r;return{_bufferIndex:B,_index:V,line:C,column:L,offset:K}}function x(B){s[B.line]=B.column,M()}function k(){let B;for(;r._index<u.length;){const V=u[r._index];if(typeof V=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<V.length;)D(V.charCodeAt(r._bufferIndex));else D(V)}}function D(B){m=m(B)}function z(B){nt(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,M()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=B}function Y(B,V){const C=V||{};return C.type=B,C.start=w(),d.events.push(["enter",C,d]),c.push(C),C}function j(B){const V=c.pop();return V.end=w(),d.events.push(["exit",V,d]),V}function Z(B,V){N(B,V.from)}function G(B,V){V.restore()}function R(B,V){return C;function C(L,K,H){let Q,re,ie,S;return Array.isArray(L)?oe(L):"tokenize"in L?oe([L]):ee(L);function ee(Ie){return Fe;function Fe(Se){const Le=Se!==null&&Ie[Se],Pe=Se!==null&&Ie.null,Qe=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(Pe)?Pe:Pe?[Pe]:[]];return oe(Qe)(Se)}}function oe(Ie){return Q=Ie,re=0,Ie.length===0?H:P(Ie[re])}function P(Ie){return Fe;function Fe(Se){return S=O(),ie=Ie,Ie.partial||(d.currentConstruct=Ie),Ie.name&&d.parser.constructs.disable.null.includes(Ie.name)?xe():Ie.tokenize.call(V?Object.assign(Object.create(d),V):d,f,pe,xe)(Se)}}function pe(Ie){return B(ie,S),K}function xe(Ie){return S.restore(),++re<Q.length?P(Q[re]):H}}}function N(B,V){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&Ls(d.events,V,d.events.length-V,B.resolve(d.events.slice(V),d)),B.resolveTo&&(d.events=B.resolveTo(d.events,d))}function O(){const B=w(),V=d.previous,C=d.currentConstruct,L=d.events.length,K=Array.from(c);return{from:L,restore:H};function H(){r=B,d.previous=V,d.currentConstruct=C,d.events.length=L,c=K,M()}}function M(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function xY(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,o)];else{if(u=t.slice(n,s),r>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(r):u.shift()}o>0&&u.push(t[s].slice(0,o))}return u}function NY(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,r.push(u)}return r.join("")}function RY(t){const r={constructs:Bj([CY,...(t||{}).extensions||[]]),content:s(Yj),defined:[],document:s(Gj),flow:s(hY),lazy:{},string:s(mY),text:s(pY)};return r;function s(o){return u;function u(c){return IY(r,o,c)}}}function OY(t){for(;!j3(t););return t}const lC=/[\0\t\n\r]/g;function DY(){let t=1,e="",n=!0,r;return s;function s(o,u,c){const f=[];let d,m,E,_,b;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),E=0,e="",n&&(o.charCodeAt(0)===65279&&E++,n=void 0);E<o.length;){if(lC.lastIndex=E,d=lC.exec(o),_=d&&d.index!==void 0?d.index:o.length,b=o.charCodeAt(_),!d){e=o.slice(E);break}if(b===10&&E===_&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),E<_&&(f.push(o.slice(E,_)),t+=_-E),b){case 0:{f.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,f.push(-2);t++<m;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}E=_+1}return c&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const kY=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function LY(t){return t.replace(kY,MY)}function MY(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return V3(n.slice(o?2:1),o?16:10)}return iT(n)||t}const X3={}.hasOwnProperty;function PY(t,e,n){return typeof e!="string"&&(n=e,e=void 0),BY(n)(OY(RY(n).document().write(DY()(t,e,!0))))}function BY(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(nn),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(Ge),blockQuote:o(Pe),characterEscape:O,characterReference:O,codeFenced:o(Qe),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Qe,u),codeText:o(Rt,u),codeTextData:O,data:O,codeFlowValue:O,definition:o(Ot),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Dt),hardBreakEscape:o(cn),hardBreakTrailing:o(cn),htmlFlow:o(Ke,u),htmlFlowData:O,htmlText:o(Ke,u),htmlTextData:O,image:o(qe),label:u,link:o(nn),listItem:o(In),listItemValue:_,listOrdered:o(Cn,E),listUnordered:o(Cn),paragraph:o(Ln),reference:P,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Ge),strong:o(xn),thematicBreak:o(zn)},exit:{atxHeading:f(),atxHeadingSequence:Z,autolink:f(),autolinkEmail:Le,autolinkProtocol:Se,blockQuote:f(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:Ie,characterReference:Fe,codeFenced:f(k),codeFencedFence:x,codeFencedFenceInfo:b,codeFencedFenceMeta:w,codeFlowValue:M,codeIndented:f(D),codeText:f(K),codeTextData:M,data:M,definition:f(),definitionDestinationString:j,definitionLabelString:z,definitionTitleString:Y,emphasis:f(),hardBreakEscape:f(V),hardBreakTrailing:f(V),htmlFlow:f(C),htmlFlowData:M,htmlText:f(L),htmlTextData:M,image:f(Q),label:ie,labelText:re,lineEnding:B,link:f(H),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:pe,resourceDestinationString:S,resourceTitleString:ee,resource:oe,setextHeading:f(N),setextHeadingLineSequence:R,setextHeadingText:G,strong:f(),thematicBreak:f()}};Q3(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ae){let Te={type:"root",children:[]};const Ue={stack:[Te],tokenStack:[],config:e,enter:c,exit:d,buffer:u,resume:m,data:n},Ye=[];let lt=-1;for(;++lt<ae.length;)if(ae[lt][1].type==="listOrdered"||ae[lt][1].type==="listUnordered")if(ae[lt][0]==="enter")Ye.push(lt);else{const vt=Ye.pop();lt=s(ae,vt,lt)}for(lt=-1;++lt<ae.length;){const vt=e[ae[lt][0]];X3.call(vt,ae[lt][1].type)&&vt[ae[lt][1].type].call(Object.assign({sliceSerialize:ae[lt][2].sliceSerialize},Ue),ae[lt][1])}if(Ue.tokenStack.length>0){const vt=Ue.tokenStack[Ue.tokenStack.length-1];(vt[1]||cC).call(Ue,void 0,vt[0])}for(Te.position={start:$a(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:$a(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<e.transforms.length;)Te=e.transforms[lt](Te)||Te;return Te}function s(ae,Te,Ue){let Ye=Te-1,lt=-1,vt=!1,jt,qt,Yt,St;for(;++Ye<=Ue;){const ct=ae[Ye];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?lt++:lt--,St=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(jt&&!St&&!lt&&!Yt&&(Yt=Ye),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!lt&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||lt===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(jt){let en=Ye;for(qt=void 0;en--;){const Xt=ae[en];if(Xt[1].type==="lineEnding"||Xt[1].type==="lineEndingBlank"){if(Xt[0]==="exit")continue;qt&&(ae[qt][1].type="lineEndingBlank",vt=!0),Xt[1].type="lineEnding",qt=en}else if(!(Xt[1].type==="linePrefix"||Xt[1].type==="blockQuotePrefix"||Xt[1].type==="blockQuotePrefixWhitespace"||Xt[1].type==="blockQuoteMarker"||Xt[1].type==="listItemIndent"))break}Yt&&(!qt||Yt<qt)&&(jt._spread=!0),jt.end=Object.assign({},qt?ae[qt][1].start:ct[1].end),ae.splice(qt||Ye,0,["exit",jt,ct[2]]),Ye++,Ue++}if(ct[1].type==="listItemPrefix"){const en={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};jt=en,ae.splice(Ye,0,["enter",en,ct[2]]),Ye++,Ue++,Yt=void 0,St=!0}}}return ae[Te][1]._spread=vt,Ue}function o(ae,Te){return Ue;function Ue(Ye){c.call(this,ae(Ye),Ye),Te&&Te.call(this,Ye)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(ae,Te,Ue){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([Te,Ue||void 0]),ae.position={start:$a(Te.start),end:void 0}}function f(ae){return Te;function Te(Ue){ae&&ae.call(this,Ue),d.call(this,Ue)}}function d(ae,Te){const Ue=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==ae.type&&(Te?Te.call(this,ae,Ye[0]):(Ye[1]||cC).call(this,ae,Ye[0]));else throw new Error("Cannot close `"+ae.type+"` ("+zh({start:ae.start,end:ae.end})+"): its not open");Ue.position.end=$a(ae.end)}function m(){return Mj(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function _(ae){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ae}function w(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ae}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae.replace(/(\r?\n|\r)$/g,"")}function z(ae){const Te=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Te,Ue.identifier=Bl(this.sliceSerialize(ae)).toLowerCase()}function Y(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ae}function j(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ae}function Z(ae){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ue=this.sliceSerialize(ae).length;Te.depth=Ue}}function G(){this.data.setextHeadingSlurpLineEnding=!0}function R(ae){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ae){const Ue=this.stack[this.stack.length-1].children;let Ye=Ue[Ue.length-1];(!Ye||Ye.type!=="text")&&(Ye=dn(),Ye.position={start:$a(ae.start),end:void 0},Ue.push(Ye)),this.stack.push(Ye)}function M(ae){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ae),Te.position.end=$a(ae.end)}function B(ae){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ue=Te.children[Te.children.length-1];Ue.position.end=$a(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(O.call(this,ae),M.call(this,ae))}function V(){this.data.atHardBreak=!0}function C(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae}function L(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae}function K(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae}function H(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Te,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function Q(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Te,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function re(ae){const Te=this.sliceSerialize(ae),Ue=this.stack[this.stack.length-2];Ue.label=LY(Te),Ue.identifier=Bl(Te).toLowerCase()}function ie(){const ae=this.stack[this.stack.length-1],Te=this.resume(),Ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ue.type==="link"){const Ye=ae.children;Ue.children=Ye}else Ue.alt=Te}function S(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ae}function ee(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ae}function oe(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function pe(ae){const Te=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Te,Ue.identifier=Bl(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function xe(ae){this.data.characterReferenceType=ae.type}function Ie(ae){const Te=this.sliceSerialize(ae),Ue=this.data.characterReferenceType;let Ye;Ue?(Ye=V3(Te,Ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=iT(Te);const lt=this.stack[this.stack.length-1];lt.value+=Ye}function Fe(ae){const Te=this.stack.pop();Te.position.end=$a(ae.end)}function Se(ae){M.call(this,ae);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ae)}function Le(ae){M.call(this,ae);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ae)}function Pe(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function Rt(){return{type:"inlineCode",value:""}}function Ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Dt(){return{type:"emphasis",children:[]}}function Ge(){return{type:"heading",depth:0,children:[]}}function cn(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function qe(){return{type:"image",title:null,url:"",alt:null}}function nn(){return{type:"link",title:null,url:"",children:[]}}function Cn(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function In(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function Ln(){return{type:"paragraph",children:[]}}function xn(){return{type:"strong",children:[]}}function dn(){return{type:"text",value:""}}function zn(){return{type:"thematicBreak"}}}function $a(t){return{line:t.line,column:t.column,offset:t.offset}}function Q3(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Q3(t,r):UY(t,r)}}function UY(t,e){let n;for(n in e)if(X3.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function cC(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+zh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+zh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+zh({start:e.start,end:e.end})+") is still open")}function VY(t){const e=this;e.parser=n;function n(r){return PY(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function HY(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function FY(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function zY(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function jY(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function qY(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YY(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=hc(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,c+=1,t.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,d),t.applyData(e,d)}function $Y(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function GY(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function W3(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function KY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return W3(t,e);const s={src:hc(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function XY(t,e){const n={src:hc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function QY(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function WY(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return W3(t,e);const s={href:hc(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function ZY(t,e){const n={href:hc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function JY(t,e,n){const r=t.all(e),s=n?e$(n):Z3(e),o={},u=[];if(typeof e.checked=="boolean"){const m=r[0];let E;m&&m.type==="element"&&m.tagName==="p"?E=m:(E={type:"element",tagName:"p",properties:{},children:[]},r.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(s||c!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?u.push(...m.children):u.push(m)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,d),t.applyData(e,d)}function e$(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=Z3(n[r])}return e}function Z3(t){const e=t.spread;return e??t.children.length>1}function t$(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function n$(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function r$(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function i$(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function s$(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=Ps(e.children[1]),f=a0(e.children[e.children.length-1]);c&&f&&(u.position={start:c,end:f}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function a$(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const E=e.children[f],_={},b=u?u[f]:void 0;b&&(_.align=b);let w={type:"element",tagName:o,properties:_,children:[]};E&&(w.children=t.all(E),t.patch(E,w),w=t.applyData(E,w)),d.push(w)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function o$(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const hC=9,fC=32;function u$(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const o=[];for(;r;)o.push(dC(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return o.push(dC(e.slice(s),s>0,!1)),o.join("")}function dC(t,e,n){let r=0,s=t.length;if(e){let o=t.codePointAt(r);for(;o===hC||o===fC;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(s-1);for(;o===hC||o===fC;)s--,o=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function l$(t,e){const n={type:"text",value:u$(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function c$(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const h$={blockquote:HY,break:FY,code:zY,delete:jY,emphasis:qY,footnoteReference:YY,heading:$Y,html:GY,imageReference:KY,image:XY,inlineCode:QY,linkReference:WY,link:ZY,listItem:JY,list:t$,paragraph:n$,root:r$,strong:i$,table:s$,tableCell:o$,tableRow:a$,text:l$,thematicBreak:c$,toml:Sm,yaml:Sm,definition:Sm,footnoteDefinition:Sm};function Sm(){}const J3=-1,u0=0,qh=1,Ap=2,oT=3,uT=4,lT=5,cT=6,eO=7,tO=8,mC=typeof self=="object"?self:globalThis,f$=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),r=s=>{if(t.has(s))return t.get(s);const[o,u]=e[s];switch(o){case u0:case J3:return n(u,s);case qh:{const c=n([],s);for(const f of u)c.push(r(f));return c}case Ap:{const c=n({},s);for(const[f,d]of u)c[r(f)]=r(d);return c}case oT:return n(new Date(u),s);case uT:{const{source:c,flags:f}=u;return n(new RegExp(c,f),s)}case lT:{const c=n(new Map,s);for(const[f,d]of u)c.set(r(f),r(d));return c}case cT:{const c=n(new Set,s);for(const f of u)c.add(r(f));return c}case eO:{const{name:c,message:f}=u;return n(new mC[c](f),s)}case tO:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new mC[o](u),s)};return r},pC=t=>f$(new Map,t)(0),yl="",{toString:d$}={},{keys:m$}=Object,vh=t=>{const e=typeof t;if(e!=="object"||!t)return[u0,e];const n=d$.call(t).slice(8,-1);switch(n){case"Array":return[qh,yl];case"Object":return[Ap,yl];case"Date":return[oT,yl];case"RegExp":return[uT,yl];case"Map":return[lT,yl];case"Set":return[cT,yl];case"DataView":return[qh,n]}return n.includes("Array")?[qh,n]:n.includes("Error")?[eO,n]:[Ap,n]},Am=([t,e])=>t===u0&&(e==="function"||e==="symbol"),p$=(t,e,n,r)=>{const s=(u,c)=>{const f=r.push(u)-1;return n.set(c,f),f},o=u=>{if(n.has(u))return n.get(u);let[c,f]=vh(u);switch(c){case u0:{let m=u;switch(f){case"bigint":c=tO,m=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return s([J3],u)}return s([c,m],u)}case qh:{if(f){let _=u;return f==="DataView"?_=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(_=new Uint8Array(u)),s([f,[..._]],u)}const m=[],E=s([c,m],u);for(const _ of u)m.push(o(_));return E}case Ap:{if(f)switch(f){case"BigInt":return s([f,u.toString()],u);case"Boolean":case"Number":case"String":return s([f,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const m=[],E=s([c,m],u);for(const _ of m$(u))(t||!Am(vh(u[_])))&&m.push([o(_),o(u[_])]);return E}case oT:return s([c,u.toISOString()],u);case uT:{const{source:m,flags:E}=u;return s([c,{source:m,flags:E}],u)}case lT:{const m=[],E=s([c,m],u);for(const[_,b]of u)(t||!(Am(vh(_))||Am(vh(b))))&&m.push([o(_),o(b)]);return E}case cT:{const m=[],E=s([c,m],u);for(const _ of u)(t||!Am(vh(_)))&&m.push(o(_));return E}}const{message:d}=u;return s([c,{name:f,message:d}],u)};return o},gC=(t,{json:e,lossy:n}={})=>{const r=[];return p$(!(e||n),!!e,new Map,r)(t),r},Wl=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?pC(gC(t,e)):structuredClone(t):(t,e)=>pC(gC(t,e));function g$(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function E$(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function y$(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||g$,r=t.options.footnoteBackLabel||E$,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[f]);if(!d)continue;const m=t.all(d),E=String(d.identifier).toUpperCase(),_=hc(E.toLowerCase());let b=0;const w=[],x=t.footnoteCounts.get(E);for(;x!==void 0&&++b<=x;){w.length>0&&w.push({type:"text",value:" "});let z=typeof n=="string"?n:n(f,b);typeof z=="string"&&(z={type:"text",value:z}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,b),className:["data-footnote-backref"]},children:Array.isArray(z)?z:[z]})}const k=m[m.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const z=k.children[k.children.length-1];z&&z.type==="text"?z.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...w)}else m.push(...w);const D={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(m,!0)};t.patch(d,D),c.push(D)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Wl(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const nO=function(t){if(t==null)return v$;if(typeof t=="function")return l0(t);if(typeof t=="object")return Array.isArray(t)?_$(t):T$(t);if(typeof t=="string")return b$(t);throw new Error("Expected function, string, or object as test")};function _$(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=nO(t[n]);return l0(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function T$(t){const e=t;return l0(n);function n(r){const s=r;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function b$(t){return l0(e);function e(n){return n&&n.type===t}}function l0(t){return e;function e(n,r,s){return!!(S$(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function v$(){return!0}function S$(t){return t!==null&&typeof t=="object"&&"type"in t}const rO=[],A$=!0,EC=!1,w$="skip";function C$(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const o=nO(s),u=r?-1:1;c(t,void 0,[])();function c(f,d,m){const E=f&&typeof f=="object"?f:{};if(typeof E.type=="string"){const b=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return _;function _(){let b=rO,w,x,k;if((!e||o(f,d,m[m.length-1]||void 0))&&(b=I$(n(f,m)),b[0]===EC))return b;if("children"in f&&f.children){const D=f;if(D.children&&b[0]!==w$)for(x=(r?D.children.length:-1)+u,k=m.concat(D);x>-1&&x<D.children.length;){const z=D.children[x];if(w=c(z,x,k)(),w[0]===EC)return w;x=typeof w[1]=="number"?w[1]:x+u}}return b}}}function I$(t){return Array.isArray(t)?t:typeof t=="number"?[A$,t]:t==null?rO:[t]}function hT(t,e,n,r){let s,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,s=n):(o=e,u=n,s=r),C$(t,o,c,s);function c(f,d){const m=d[d.length-1],E=m?m.children.indexOf(f):void 0;return u(f,E,m)}}const __={}.hasOwnProperty,x$={};function N$(t,e){const n=e||x$,r=new Map,s=new Map,o=new Map,u={...h$,...n.handlers},c={all:d,applyData:O$,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:R$,wrap:k$};return hT(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const E=m.type==="definition"?r:s,_=String(m.identifier).toUpperCase();E.has(_)||E.set(_,m)}}),c;function f(m,E){const _=m.type,b=c.handlers[_];if(__.call(c.handlers,_)&&b)return b(c,m,E);if(c.options.passThrough&&c.options.passThrough.includes(_)){if("children"in m){const{children:x,...k}=m,D=Wl(k);return D.children=c.all(m),D}return Wl(m)}return(c.options.unknownHandler||D$)(c,m,E)}function d(m){const E=[];if("children"in m){const _=m.children;let b=-1;for(;++b<_.length;){const w=c.one(_[b],m);if(w){if(b&&_[b-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=yC(w.value)),!Array.isArray(w)&&w.type==="element")){const x=w.children[0];x&&x.type==="text"&&(x.value=yC(x.value))}Array.isArray(w)?E.push(...w):E.push(w)}}}return E}}function R$(t,e){t.position&&(e.position=dj(t))}function O$(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Wl(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function D$(t,e){const n=e.data||{},r="value"in e&&!(__.call(n,"hProperties")||__.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function k$(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function yC(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function _C(t,e){const n=N$(t,e),r=n.one(t,void 0),s=y$(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function L$(t,e){return t&&"run"in t?async function(n,r){const s=_C(n,{file:r,...e});await t.run(s,r)}:function(n,r){return _C(n,{file:r,...t||e})}}function TC(t){if(t)throw t}var iy,bC;function M$(){if(bC)return iy;bC=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),E=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!E)return!1;var _;for(_ in d);return typeof _>"u"||t.call(d,_)},u=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return iy=function f(){var d,m,E,_,b,w,x=arguments[0],k=1,D=arguments.length,z=!1;for(typeof x=="boolean"&&(z=x,x=arguments[1]||{},k=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});k<D;++k)if(d=arguments[k],d!=null)for(m in d)E=c(x,m),_=c(d,m),x!==_&&(z&&_&&(o(_)||(b=s(_)))?(b?(b=!1,w=E&&s(E)?E:[]):w=E&&o(E)?E:{},u(x,{name:m,newValue:f(z,w,_)})):typeof _<"u"&&u(x,{name:m,newValue:_}));return x},iy}var P$=M$();const sy=yu(P$);function T_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function B$(){const t=[],e={run:n,use:r};return e;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...s);function c(f,...d){const m=t[++o];let E=-1;if(f){u(f);return}for(;++E<s.length;)(d[E]===null||d[E]===void 0)&&(d[E]=s[E]);s=d,m?U$(m,c)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function U$(t,e){let n;return r;function r(...u){const c=t.length>u.length;let f;c&&u.push(s);try{f=t.apply(this,u)}catch(d){const m=d;if(c&&n)throw m;return s(m)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(u,...c){n||(n=!0,e(u,...c))}function o(u){s(null,u)}}const Ss={basename:V$,dirname:H$,extname:F$,join:z$,sep:"/"};function V$(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Vf(t);let n=0,r=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function H$(t){if(Vf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function F$(t){Vf(t);let e=t.length,n=-1,r=0,s=-1,o=0,u;for(;e--;){const c=t.codePointAt(e);if(c===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function z$(...t){let e=-1,n;for(;++e<t.length;)Vf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":j$(n)}function j$(t){Vf(t);const e=t.codePointAt(0)===47;let n=q$(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function q$(t,e){let n="",r=0,s=-1,o=0,u=-1,c,f;for(;++u<=t.length;){if(u<t.length)c=t.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",r=0,s=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,o=0}else c===46&&o>-1?o++:o=-1}return n}function Vf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Y$={cwd:$$};function $$(){return"/"}function b_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function G$(t){if(typeof t=="string")t=new URL(t);else if(!b_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return K$(t)}function K$(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const ay=["history","path","basename","stem","extname","dirname"];class iO{constructor(e){let n;e?b_(e)?n={path:e}:typeof e=="string"||X$(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Y$.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ay.length;){const o=ay[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)ay.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ss.basename(this.path):void 0}set basename(e){uy(e,"basename"),oy(e,"basename"),this.path=Ss.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ss.dirname(this.path):void 0}set dirname(e){vC(this.basename,"dirname"),this.path=Ss.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ss.extname(this.path):void 0}set extname(e){if(oy(e,"extname"),vC(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ss.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){b_(e)&&(e=G$(e)),uy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ss.basename(this.path,this.extname):void 0}set stem(e){uy(e,"stem"),oy(e,"stem"),this.path=Ss.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Or(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function oy(t,e){if(t&&t.includes(Ss.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ss.sep+"`")}function uy(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function vC(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function X$(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Q$=function(t){const r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},W$={}.hasOwnProperty;class fT extends Q${constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=B$()}copy(){const e=new fT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(sy(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(hy("data",this.frozen),this.namespace[e]=n,this):W$.call(this.namespace,e)&&this.namespace[e]||void 0:e?(hy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wm(e),r=this.parser||this.Parser;return ly("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),ly("process",this.parser||this.Parser),cy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const c=wm(e),f=r.parse(c);r.run(f,c,function(m,E,_){if(m||!E||!_)return d(m);const b=E,w=r.stringify(b,_);eG(w)?_.value=w:_.result=w,d(m,_)});function d(m,E){m||!E?u(m):o?o(E):n(void 0,E)}}}processSync(e){let n=!1,r;return this.freeze(),ly("processSync",this.parser||this.Parser),cy("processSync",this.compiler||this.Compiler),this.process(e,s),AC("processSync","process",n),r;function s(o,u){n=!0,TC(o),r=u}}run(e,n,r){SC(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,c){const f=wm(n);s.run(e,f,d);function d(m,E,_){const b=E||e;m?c(m):u?u(b):r(void 0,b,_)}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),AC("runSync","run",r),s;function o(u,c){TC(u),s=c,r=!0}}stringify(e,n){this.freeze();const r=wm(n),s=this.compiler||this.Compiler;return cy("stringify",s),SC(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(hy("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...E]=d;f(m,E)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=sy(!0,s.settings,d.settings))}function c(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const E=d[m];o(E)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,m){let E=-1,_=-1;for(;++E<r.length;)if(r[E][0]===d){_=E;break}if(_===-1)r.push([d,...m]);else if(m.length>0){let[b,...w]=m;const x=r[_][1];T_(x)&&T_(b)&&(b=sy(!0,x,b)),r[_]=[d,b,...w]}}}}const Z$=new fT().freeze();function ly(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function cy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function hy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function SC(t){if(!T_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function AC(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wm(t){return J$(t)?t:new iO(t)}function J$(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function eG(t){return typeof t=="string"||tG(t)}function tG(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const nG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wC=[],CC={allowDangerousHtml:!0},rG=/^(https?|ircs?|mailto|xmpp)$/i,iG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function sG(t){const e=aG(t),n=oG(t);return uG(e.runSync(e.parse(n),n),t)}function aG(t){const e=t.rehypePlugins||wC,n=t.remarkPlugins||wC,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...CC}:CC;return Z$().use(VY).use(n).use(L$,r).use(e)}function oG(t){const e=t.children||"",n=new iO;return typeof e=="string"&&(n.value=e),n}function uG(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||lG;for(const m of iG)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+nG+m.id,void 0);return hT(t,d),yj(t,{Fragment:te.Fragment,components:s,ignoreInvalidStyle:!0,jsx:te.jsx,jsxs:te.jsxs,passKeys:!0,passNode:!0});function d(m,E,_){if(m.type==="raw"&&_&&typeof E=="number")return u?_.children.splice(E,1):_.children[E]={type:"text",value:m.value},E;if(m.type==="element"){let b;for(b in ty)if(Object.hasOwn(ty,b)&&Object.hasOwn(m.properties,b)){const w=m.properties[b],x=ty[b];(x===null||x.includes(m.tagName))&&(m.properties[b]=f(String(w||""),b,m))}}if(m.type==="element"){let b=n?!n.includes(m.tagName):o?o.includes(m.tagName):!1;if(!b&&r&&typeof E=="number"&&(b=!r(m,E,_)),b&&_&&typeof E=="number")return c&&m.children?_.children.splice(E,1,...m.children):_.children.splice(E,1),E}}}function lG(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||rG.test(t.slice(0,e))?t:""}const IC=/[#.]/g;function cG(t,e){const n=t||"",r={};let s=0,o,u;for(;s<n.length;){IC.lastIndex=s;const c=IC.exec(n),f=n.slice(s,c?c.index:n.length);f&&(o?o==="#"?r.id=f:Array.isArray(r.className)?r.className.push(f):r.className=[f]:u=f,s+=f.length),c&&(o=c[0],s++)}return{type:"element",tagName:u||e||"div",properties:r,children:[]}}function sO(t,e,n){const r=n?mG(n):void 0;function s(o,u,...c){let f;if(o==null){f={type:"root",children:[]};const d=u;c.unshift(d)}else{f=cG(o,e);const d=f.tagName.toLowerCase(),m=r?r.get(d):void 0;if(f.tagName=m||d,hG(u))c.unshift(u);else for(const[E,_]of Object.entries(u))fG(t,f.properties,E,_)}for(const d of c)v_(f.children,d);return f.type==="element"&&f.tagName==="template"&&(f.content={type:"root",children:f.children},f.children=[]),f}return s}function hG(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const s=e[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const o=s;for(const u of o)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function fG(t,e,n,r){const s=eT(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?s.spaceSeparated?o=$w(r):s.commaSeparated?o=Fw(r):s.commaOrSpaceSeparated?o=$w(Fw(r).join(" ")):o=xC(s,s.property,r):Array.isArray(r)?o=[...r]:o=s.property==="style"?dG(r):String(r);if(Array.isArray(o)){const u=[];for(const c of o)u.push(xC(s,s.property,c));o=u}s.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[s.property]=o}}function v_(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)v_(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?v_(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function xC(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||gf(n)===gf(e)))return!0}return n}function dG(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function mG(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const pG=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],gG=sO(s0,"div"),EG=sO(cc,"g",pG);function yG(t){const e=String(t),n=[];return{toOffset:s,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=e.length){let u=0;for(;;){let c=n[u];if(c===void 0){const f=NC(e,n[u-1]);c=f===-1?e.length+1:f+1,n[u]=c}if(c>o)return{line:u+1,column:o-(u>0?n[u-1]:0)+1,offset:o};u++}}}function s(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const c=n[n.length-1],f=NC(e,c),d=f===-1?e.length+1:f+1;if(c===d)break;n.push(d)}const u=(o.line>1?n[o.line-2]:0)+o.column-1;if(u<n[o.line-1])return u}}}function NC(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const au={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},aO={}.hasOwnProperty,_G=Object.prototype;function TG(t,e){const n=e||{};return dT({file:n.file||void 0,location:!1,schema:n.space==="svg"?cc:s0,verbose:n.verbose||!1},t)}function dT(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},zm(t,r,n),n}case"#document":case"#document-fragment":{const r=e,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:oO(t,e.childNodes),data:{quirksMode:s}},t.file&&t.location){const o=String(t.file),u=yG(o),c=u.toPoint(0),f=u.toPoint(o.length);n.position={start:c,end:f}}return n}case"#documentType":{const r=e;return n={type:"doctype"},zm(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},zm(t,r,n),n}default:return n=bG(t,e),n}}function oO(t,e){let n=-1;const r=[];for(;++n<e.length;){const s=dT(t,e[n]);r.push(s)}return r}function bG(t,e){const n=t.schema;t.schema=e.namespaceURI===au.svg?cc:s0;let r=-1;const s={};for(;++r<e.attrs.length;){const c=e.attrs[r],f=(c.prefix?c.prefix+":":"")+c.name;aO.call(_G,f)||(s[f]=c.value)}const u=(t.schema.space==="svg"?EG:gG)(e.tagName,s,oO(t,e.childNodes));if(zm(t,e,u),u.tagName==="template"){const c=e,f=c.sourceCodeLocation,d=f&&f.startTag&&Il(f.startTag),m=f&&f.endTag&&Il(f.endTag),E=dT(t,c.content);d&&m&&t.file&&(E.position={start:d.end,end:m.start}),u.content=E}return t.schema=n,u}function zm(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=vG(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function vG(t,e,n){const r=Il(n);if(e.type==="element"){const s=e.children[e.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),t.verbose){const o={};let u;if(n.attrs)for(u in n.attrs)aO.call(n.attrs,u)&&(o[eT(t.schema,u).property]=Il(n.attrs[u]));n.startTag;const c=Il(n.startTag),f=n.endTag?Il(n.endTag):void 0,d={opening:c};f&&(d.closing=f),d.properties=o,e.data={position:d}}}return r}function Il(t){const e=RC({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=RC({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function RC(t){return t.line&&t.column?t:void 0}class Hf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Hf.prototype.property={};Hf.prototype.normal={};Hf.prototype.space=null;function uO(t,e){const n={},r={};let s=-1;for(;++s<t.length;)Object.assign(n,t[s].property),Object.assign(r,t[s].normal);return new Hf(n,r,e)}function S_(t){return t.toLowerCase()}class Yi{constructor(e,n){this.property=e,this.attribute=n}}Yi.prototype.space=null;Yi.prototype.boolean=!1;Yi.prototype.booleanish=!1;Yi.prototype.overloadedBoolean=!1;Yi.prototype.number=!1;Yi.prototype.commaSeparated=!1;Yi.prototype.spaceSeparated=!1;Yi.prototype.commaOrSpaceSeparated=!1;Yi.prototype.mustUseProperty=!1;Yi.prototype.defined=!1;let SG=0;const at=Au(),Hn=Au(),lO=Au(),ke=Au(),on=Au(),Ul=Au(),pi=Au();function Au(){return 2**++SG}const A_=Object.freeze(Object.defineProperty({__proto__:null,boolean:at,booleanish:Hn,commaOrSpaceSeparated:pi,commaSeparated:Ul,number:ke,overloadedBoolean:lO,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),fy=Object.keys(A_);class mT extends Yi{constructor(e,n,r,s){let o=-1;if(super(e,n),OC(this,"space",s),typeof r=="number")for(;++o<fy.length;){const u=fy[o];OC(this,fy[o],(r&A_[u])===A_[u])}}}mT.prototype.defined=!0;function OC(t,e,n){n&&(t[e]=n)}const AG={}.hasOwnProperty;function fc(t){const e={},n={};let r;for(r in t.properties)if(AG.call(t.properties,r)){const s=t.properties[r],o=new mT(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[S_(r)]=r,n[S_(o.attribute)]=r}return new Hf(e,n,t.space)}const cO=fc({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),hO=fc({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function fO(t,e){return e in t?t[e]:e}function dO(t,e){return fO(t,e.toLowerCase())}const mO=fc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dO,properties:{xmlns:null,xmlnsXLink:null}}),pO=fc({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Hn,ariaAutoComplete:null,ariaBusy:Hn,ariaChecked:Hn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Hn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Hn,ariaFlowTo:on,ariaGrabbed:Hn,ariaHasPopup:null,ariaHidden:Hn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:ke,ariaLive:null,ariaModal:Hn,ariaMultiLine:Hn,ariaMultiSelectable:Hn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Hn,ariaReadOnly:Hn,ariaRelevant:null,ariaRequired:Hn,ariaRoleDescription:on,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Hn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),wG=fc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dO,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ul,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:at,allowPaymentRequest:at,allowUserMedia:at,alt:null,as:null,async:at,autoCapitalize:null,autoComplete:on,autoFocus:at,autoPlay:at,blocking:on,capture:null,charSet:null,checked:at,cite:null,className:on,cols:ke,colSpan:null,content:null,contentEditable:Hn,controls:at,controlsList:on,coords:ke|Ul,crossOrigin:null,data:null,dateTime:null,decoding:null,default:at,defer:at,dir:null,dirName:null,disabled:at,download:lO,draggable:Hn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:at,formTarget:null,headers:on,height:ke,hidden:at,high:ke,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:at,inputMode:null,integrity:null,is:null,isMap:at,itemId:null,itemProp:on,itemRef:on,itemScope:at,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:at,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:at,muted:at,name:null,nonce:null,noModule:at,noValidate:at,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:at,optimum:ke,pattern:null,ping:on,placeholder:null,playsInline:at,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:at,referrerPolicy:null,rel:on,required:at,reversed:at,rows:ke,rowSpan:ke,sandbox:on,scope:null,scoped:at,seamless:at,selected:at,shadowRootClonable:at,shadowRootDelegatesFocus:at,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Hn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:at,useMap:null,value:Hn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:at,declare:at,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:at,noHref:at,noShade:at,noWrap:at,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Hn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:at,disableRemotePlayback:at,prefix:null,property:null,results:ke,security:null,unselectable:null}}),CG=fc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:fO,properties:{about:pi,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:at,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ul,g2:Ul,glyphName:Ul,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:pi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pi,rev:pi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pi,requiredFeatures:pi,requiredFonts:pi,requiredFormats:pi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:pi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pi,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),IG=/^data[-\w.:]+$/i,DC=/-[a-z]/g,xG=/[A-Z]/g;function NG(t,e){const n=S_(e);let r=e,s=Yi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&IG.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(DC,OG);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!DC.test(o)){let u=o.replace(xG,RG);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=mT}return new s(r,e)}function RG(t){return"-"+t.toLowerCase()}function OG(t){return t.charAt(1).toUpperCase()}const DG=uO([hO,cO,mO,pO,wG],"html"),gO=uO([hO,cO,mO,pO,CG],"svg"),kC={}.hasOwnProperty;function EO(t,e){const n=e||{};function r(s,...o){let u=r.invalid;const c=r.handlers;if(s&&kC.call(s,t)){const f=String(s[t]);u=kC.call(c,f)?c[f]:r.unknown}if(u)return u.call(this,s,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const kG={},LG={}.hasOwnProperty,yO=EO("type",{handlers:{root:PG,element:FG,text:VG,comment:HG,doctype:UG}});function MG(t,e){const r=(e||kG).space;return yO(t,r==="svg"?gO:DG)}function PG(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=pT(t.children,n,e),dc(t,n),n}function BG(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=pT(t.children,n,e),dc(t,n),n}function UG(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return dc(t,e),e}function VG(t){const e={nodeName:"#text",value:t.value,parentNode:null};return dc(t,e),e}function HG(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return dc(t,e),e}function FG(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=gO);const s=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&LG.call(t.properties,o)){const f=zG(r,o,t.properties[o]);f&&s.push(f)}}const u=r.space,c={nodeName:t.tagName,tagName:t.tagName,attrs:s,namespaceURI:au[u],childNodes:[],parentNode:null};return c.childNodes=pT(t.children,c,r),dc(t,c),t.tagName==="template"&&t.content&&(c.content=BG(t.content,r)),c}function zG(t,e,n){const r=NG(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?A3(n):D3(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=s.name.indexOf(":");o<0?s.prefix="":(s.name=s.name.slice(o+1),s.prefix=r.attribute.slice(0,o)),s.namespace=au[r.space]}return s}function pT(t,e,n){let r=-1;const s=[];if(t)for(;++r<t.length;){const o=yO(t[r],n);o.parentNode=e,s.push(o)}return s}function dc(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const jG=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],qG=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),En="";var $;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})($||($={}));const Wr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function _O(t){return t>=55296&&t<=57343}function YG(t){return t>=56320&&t<=57343}function $G(t,e){return(t-55296)*1024+9216+e}function TO(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function bO(t){return t>=64976&&t<=65007||qG.has(t)}var _e;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e||(_e={}));const GG=65536;class KG{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=GG,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:s,offset:o}=this,u=s+n,c=o+n;return{code:e,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(YG(n))return this.pos++,this._addGap(),$G(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,$.EOF;return this._err(_e.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,$.EOF;const r=this.html.charCodeAt(n);return r===$.CARRIAGE_RETURN?$.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,$.EOF;let e=this.html.charCodeAt(this.pos);return e===$.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,$.LINE_FEED):e===$.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,_O(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===$.LINE_FEED||e===$.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){TO(e)?this._err(_e.controlCharacterInInputStream):bO(e)&&this._err(_e.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var pt;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(pt||(pt={}));function vO(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const XG=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),QG=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function WG(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=QG.get(t))!==null&&e!==void 0?e:t}var ur;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ur||(ur={}));const ZG=32;var so;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(so||(so={}));function w_(t){return t>=ur.ZERO&&t<=ur.NINE}function JG(t){return t>=ur.UPPER_A&&t<=ur.UPPER_F||t>=ur.LOWER_A&&t<=ur.LOWER_F}function eK(t){return t>=ur.UPPER_A&&t<=ur.UPPER_Z||t>=ur.LOWER_A&&t<=ur.LOWER_Z||w_(t)}function tK(t){return t===ur.EQUALS||eK(t)}var ar;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ar||(ar={}));var sa;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(sa||(sa={}));class nK{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ar.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=sa.Strict}startEntity(e){this.decodeMode=e,this.state=ar.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ar.EntityStart:return e.charCodeAt(n)===ur.NUM?(this.state=ar.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ar.NamedEntity,this.stateNamedEntity(e,n));case ar.NumericStart:return this.stateNumericStart(e,n);case ar.NumericDecimal:return this.stateNumericDecimal(e,n);case ar.NumericHex:return this.stateNumericHex(e,n);case ar.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|ZG)===ur.LOWER_X?(this.state=ar.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ar.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,s){if(n!==r){const o=r-n;this.result=this.result*Math.pow(s,o)+Number.parseInt(e.substr(n,o),s),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(w_(s)||JG(s))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(w_(s))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ur.SEMI)this.consumed+=1;else if(this.decodeMode===sa.Strict)return 0;return this.emitCodePoint(WG(this.result),this.consumed),this.errors&&(e!==ur.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let s=r[this.treeIndex],o=(s&so.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const u=e.charCodeAt(n);if(this.treeIndex=rK(r,s,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===sa.Attribute&&(o===0||tK(u))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],o=(s&so.VALUE_LENGTH)>>14,o!==0){if(u===ur.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==sa.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,s=(r[n]&so.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~so.VALUE_LENGTH:s[e+1],r),n===3&&this.emitCodePoint(s[e+2],r),r}end(){var e;switch(this.state){case ar.NamedEntity:return this.result!==0&&(this.decodeMode!==sa.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ar.NumericDecimal:return this.emitNumericEntity(0,2);case ar.NumericHex:return this.emitNumericEntity(0,3);case ar.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ar.EntityStart:return 0}}}function rK(t,e,n,r){const s=(e&so.BRANCH_LENGTH)>>7,o=e&so.JUMP_TABLE;if(s===0)return o!==0&&r===o?n:-1;if(o){const f=r-o;return f<0||f>=s?-1:t[n+f]-1}let u=n,c=u+s-1;for(;u<=c;){const f=u+c>>>1,d=t[f];if(d<r)u=f+1;else if(d>r)c=f-1;else return t[f+s]}return-1}var Ne;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Ne||(Ne={}));var lu;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(lu||(lu={}));var Fi;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Fi||(Fi={}));var he;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(he||(he={}));var T;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(T||(T={}));const iK=new Map([[he.A,T.A],[he.ADDRESS,T.ADDRESS],[he.ANNOTATION_XML,T.ANNOTATION_XML],[he.APPLET,T.APPLET],[he.AREA,T.AREA],[he.ARTICLE,T.ARTICLE],[he.ASIDE,T.ASIDE],[he.B,T.B],[he.BASE,T.BASE],[he.BASEFONT,T.BASEFONT],[he.BGSOUND,T.BGSOUND],[he.BIG,T.BIG],[he.BLOCKQUOTE,T.BLOCKQUOTE],[he.BODY,T.BODY],[he.BR,T.BR],[he.BUTTON,T.BUTTON],[he.CAPTION,T.CAPTION],[he.CENTER,T.CENTER],[he.CODE,T.CODE],[he.COL,T.COL],[he.COLGROUP,T.COLGROUP],[he.DD,T.DD],[he.DESC,T.DESC],[he.DETAILS,T.DETAILS],[he.DIALOG,T.DIALOG],[he.DIR,T.DIR],[he.DIV,T.DIV],[he.DL,T.DL],[he.DT,T.DT],[he.EM,T.EM],[he.EMBED,T.EMBED],[he.FIELDSET,T.FIELDSET],[he.FIGCAPTION,T.FIGCAPTION],[he.FIGURE,T.FIGURE],[he.FONT,T.FONT],[he.FOOTER,T.FOOTER],[he.FOREIGN_OBJECT,T.FOREIGN_OBJECT],[he.FORM,T.FORM],[he.FRAME,T.FRAME],[he.FRAMESET,T.FRAMESET],[he.H1,T.H1],[he.H2,T.H2],[he.H3,T.H3],[he.H4,T.H4],[he.H5,T.H5],[he.H6,T.H6],[he.HEAD,T.HEAD],[he.HEADER,T.HEADER],[he.HGROUP,T.HGROUP],[he.HR,T.HR],[he.HTML,T.HTML],[he.I,T.I],[he.IMG,T.IMG],[he.IMAGE,T.IMAGE],[he.INPUT,T.INPUT],[he.IFRAME,T.IFRAME],[he.KEYGEN,T.KEYGEN],[he.LABEL,T.LABEL],[he.LI,T.LI],[he.LINK,T.LINK],[he.LISTING,T.LISTING],[he.MAIN,T.MAIN],[he.MALIGNMARK,T.MALIGNMARK],[he.MARQUEE,T.MARQUEE],[he.MATH,T.MATH],[he.MENU,T.MENU],[he.META,T.META],[he.MGLYPH,T.MGLYPH],[he.MI,T.MI],[he.MO,T.MO],[he.MN,T.MN],[he.MS,T.MS],[he.MTEXT,T.MTEXT],[he.NAV,T.NAV],[he.NOBR,T.NOBR],[he.NOFRAMES,T.NOFRAMES],[he.NOEMBED,T.NOEMBED],[he.NOSCRIPT,T.NOSCRIPT],[he.OBJECT,T.OBJECT],[he.OL,T.OL],[he.OPTGROUP,T.OPTGROUP],[he.OPTION,T.OPTION],[he.P,T.P],[he.PARAM,T.PARAM],[he.PLAINTEXT,T.PLAINTEXT],[he.PRE,T.PRE],[he.RB,T.RB],[he.RP,T.RP],[he.RT,T.RT],[he.RTC,T.RTC],[he.RUBY,T.RUBY],[he.S,T.S],[he.SCRIPT,T.SCRIPT],[he.SEARCH,T.SEARCH],[he.SECTION,T.SECTION],[he.SELECT,T.SELECT],[he.SOURCE,T.SOURCE],[he.SMALL,T.SMALL],[he.SPAN,T.SPAN],[he.STRIKE,T.STRIKE],[he.STRONG,T.STRONG],[he.STYLE,T.STYLE],[he.SUB,T.SUB],[he.SUMMARY,T.SUMMARY],[he.SUP,T.SUP],[he.TABLE,T.TABLE],[he.TBODY,T.TBODY],[he.TEMPLATE,T.TEMPLATE],[he.TEXTAREA,T.TEXTAREA],[he.TFOOT,T.TFOOT],[he.TD,T.TD],[he.TH,T.TH],[he.THEAD,T.THEAD],[he.TITLE,T.TITLE],[he.TR,T.TR],[he.TRACK,T.TRACK],[he.TT,T.TT],[he.U,T.U],[he.UL,T.UL],[he.SVG,T.SVG],[he.VAR,T.VAR],[he.WBR,T.WBR],[he.XMP,T.XMP]]);function mc(t){var e;return(e=iK.get(t))!==null&&e!==void 0?e:T.UNKNOWN}const Re=T,sK={[Ne.HTML]:new Set([Re.ADDRESS,Re.APPLET,Re.AREA,Re.ARTICLE,Re.ASIDE,Re.BASE,Re.BASEFONT,Re.BGSOUND,Re.BLOCKQUOTE,Re.BODY,Re.BR,Re.BUTTON,Re.CAPTION,Re.CENTER,Re.COL,Re.COLGROUP,Re.DD,Re.DETAILS,Re.DIR,Re.DIV,Re.DL,Re.DT,Re.EMBED,Re.FIELDSET,Re.FIGCAPTION,Re.FIGURE,Re.FOOTER,Re.FORM,Re.FRAME,Re.FRAMESET,Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6,Re.HEAD,Re.HEADER,Re.HGROUP,Re.HR,Re.HTML,Re.IFRAME,Re.IMG,Re.INPUT,Re.LI,Re.LINK,Re.LISTING,Re.MAIN,Re.MARQUEE,Re.MENU,Re.META,Re.NAV,Re.NOEMBED,Re.NOFRAMES,Re.NOSCRIPT,Re.OBJECT,Re.OL,Re.P,Re.PARAM,Re.PLAINTEXT,Re.PRE,Re.SCRIPT,Re.SECTION,Re.SELECT,Re.SOURCE,Re.STYLE,Re.SUMMARY,Re.TABLE,Re.TBODY,Re.TD,Re.TEMPLATE,Re.TEXTAREA,Re.TFOOT,Re.TH,Re.THEAD,Re.TITLE,Re.TR,Re.TRACK,Re.UL,Re.WBR,Re.XMP]),[Ne.MATHML]:new Set([Re.MI,Re.MO,Re.MN,Re.MS,Re.MTEXT,Re.ANNOTATION_XML]),[Ne.SVG]:new Set([Re.TITLE,Re.FOREIGN_OBJECT,Re.DESC]),[Ne.XLINK]:new Set,[Ne.XML]:new Set,[Ne.XMLNS]:new Set},C_=new Set([Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6]);he.STYLE,he.SCRIPT,he.XMP,he.IFRAME,he.NOEMBED,he.NOFRAMES,he.PLAINTEXT;var X;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(X||(X={}));const kn={DATA:X.DATA,RCDATA:X.RCDATA,RAWTEXT:X.RAWTEXT,SCRIPT_DATA:X.SCRIPT_DATA,PLAINTEXT:X.PLAINTEXT,CDATA_SECTION:X.CDATA_SECTION};function aK(t){return t>=$.DIGIT_0&&t<=$.DIGIT_9}function Lh(t){return t>=$.LATIN_CAPITAL_A&&t<=$.LATIN_CAPITAL_Z}function oK(t){return t>=$.LATIN_SMALL_A&&t<=$.LATIN_SMALL_Z}function Ga(t){return oK(t)||Lh(t)}function LC(t){return Ga(t)||aK(t)}function Cm(t){return t+32}function SO(t){return t===$.SPACE||t===$.LINE_FEED||t===$.TABULATION||t===$.FORM_FEED}function MC(t){return SO(t)||t===$.SOLIDUS||t===$.GREATER_THAN_SIGN}function uK(t){return t===$.NULL?_e.nullCharacterReference:t>1114111?_e.characterReferenceOutsideUnicodeRange:_O(t)?_e.surrogateCharacterReference:bO(t)?_e.noncharacterCharacterReference:TO(t)||t===$.CARRIAGE_RETURN?_e.controlCharacterReference:null}class lK{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=X.DATA,this.returnState=X.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new KG(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new nK(XG,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(_e.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(_e.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=uK(r);s&&this._err(s,1)}}:void 0)}_err(e,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:pt.START_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:pt.END_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:pt.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:pt.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(vO(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=mc(e.tagName),e.type===pt.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(_e.endTagWithAttributes),e.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case pt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case pt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case pt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:pt.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=SO(e)?pt.WHITESPACE_CHARACTER:e===$.NULL?pt.NULL_CHARACTER:pt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(pt.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=X.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?sa.Attribute:sa.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===X.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===X.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===X.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case X.DATA:{this._stateData(e);break}case X.RCDATA:{this._stateRcdata(e);break}case X.RAWTEXT:{this._stateRawtext(e);break}case X.SCRIPT_DATA:{this._stateScriptData(e);break}case X.PLAINTEXT:{this._statePlaintext(e);break}case X.TAG_OPEN:{this._stateTagOpen(e);break}case X.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case X.TAG_NAME:{this._stateTagName(e);break}case X.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case X.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case X.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case X.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case X.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case X.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case X.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case X.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case X.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case X.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case X.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case X.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case X.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case X.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case X.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case X.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case X.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case X.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case X.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case X.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case X.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case X.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case X.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case X.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case X.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case X.BOGUS_COMMENT:{this._stateBogusComment(e);break}case X.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case X.COMMENT_START:{this._stateCommentStart(e);break}case X.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case X.COMMENT:{this._stateComment(e);break}case X.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case X.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case X.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case X.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case X.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case X.COMMENT_END:{this._stateCommentEnd(e);break}case X.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case X.DOCTYPE:{this._stateDoctype(e);break}case X.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case X.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case X.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case X.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case X.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case X.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case X.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case X.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case X.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case X.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case X.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case X.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case X.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case X.CDATA_SECTION:{this._stateCdataSection(e);break}case X.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case X.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case X.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case X.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case $.LESS_THAN_SIGN:{this.state=X.TAG_OPEN;break}case $.AMPERSAND:{this._startCharacterReference();break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(e);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case $.AMPERSAND:{this._startCharacterReference();break}case $.LESS_THAN_SIGN:{this.state=X.RCDATA_LESS_THAN_SIGN;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case $.LESS_THAN_SIGN:{this.state=X.RAWTEXT_LESS_THAN_SIGN;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case $.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_LESS_THAN_SIGN;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case $.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case $.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ga(e))this._createStartTagToken(),this.state=X.TAG_NAME,this._stateTagName(e);else switch(e){case $.EXCLAMATION_MARK:{this.state=X.MARKUP_DECLARATION_OPEN;break}case $.SOLIDUS:{this.state=X.END_TAG_OPEN;break}case $.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=X.BOGUS_COMMENT,this._stateBogusComment(e);break}case $.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=X.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ga(e))this._createEndTagToken(),this.state=X.TAG_NAME,this._stateTagName(e);else switch(e){case $.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=X.DATA;break}case $.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=X.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=X.BEFORE_ATTRIBUTE_NAME;break}case $.SOLIDUS:{this.state=X.SELF_CLOSING_START_TAG;break}case $.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentTagToken();break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=En;break}case $.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Lh(e)?Cm(e):e)}}_stateRcdataLessThanSign(e){e===$.SOLIDUS?this.state=X.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=X.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ga(e)?(this.state=X.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=X.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=X.BEFORE_ATTRIBUTE_NAME,!1;case $.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=X.SELF_CLOSING_START_TAG,!1;case $.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=X.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===$.SOLIDUS?this.state=X.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=X.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ga(e)?(this.state=X.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=X.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case $.SOLIDUS:{this.state=X.SCRIPT_DATA_END_TAG_OPEN;break}case $.EXCLAMATION_MARK:{this.state=X.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=X.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ga(e)?(this.state=X.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===$.HYPHEN_MINUS?(this.state=X.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===$.HYPHEN_MINUS?(this.state=X.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case $.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case $.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case $.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_ESCAPED,this._emitChars(En);break}case $.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case $.HYPHEN_MINUS:{this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case $.GREATER_THAN_SIGN:{this.state=X.SCRIPT_DATA,this._emitChars(">");break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_ESCAPED,this._emitChars(En);break}case $.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===$.SOLIDUS?this.state=X.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ga(e)?(this._emitChars("<"),this.state=X.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ga(e)?(this.state=X.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Wr.SCRIPT,!1)&&MC(this.preprocessor.peek(Wr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Wr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case $.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case $.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case $.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(En);break}case $.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case $.HYPHEN_MINUS:{this._emitChars("-");break}case $.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case $.GREATER_THAN_SIGN:{this.state=X.SCRIPT_DATA,this._emitChars(">");break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(En);break}case $.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===$.SOLIDUS?(this.state=X.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Wr.SCRIPT,!1)&&MC(this.preprocessor.peek(Wr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Wr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=X.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.SOLIDUS:case $.GREATER_THAN_SIGN:case $.EOF:{this.state=X.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case $.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=X.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=X.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:case $.SOLIDUS:case $.GREATER_THAN_SIGN:case $.EOF:{this._leaveAttrName(),this.state=X.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case $.EQUALS_SIGN:{this._leaveAttrName(),this.state=X.BEFORE_ATTRIBUTE_VALUE;break}case $.QUOTATION_MARK:case $.APOSTROPHE:case $.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=En;break}default:this.currentAttr.name+=String.fromCodePoint(Lh(e)?Cm(e):e)}}_stateAfterAttributeName(e){switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.SOLIDUS:{this.state=X.SELF_CLOSING_START_TAG;break}case $.EQUALS_SIGN:{this.state=X.BEFORE_ATTRIBUTE_VALUE;break}case $.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentTagToken();break}case $.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=X.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.QUOTATION_MARK:{this.state=X.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this.state=X.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=X.DATA,this.emitCurrentTagToken();break}default:this.state=X.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case $.QUOTATION_MARK:{this.state=X.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case $.AMPERSAND:{this._startCharacterReference();break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=En;break}case $.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case $.APOSTROPHE:{this.state=X.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case $.AMPERSAND:{this._startCharacterReference();break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=En;break}case $.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this._leaveAttrValue(),this.state=X.BEFORE_ATTRIBUTE_NAME;break}case $.AMPERSAND:{this._startCharacterReference();break}case $.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=X.DATA,this.emitCurrentTagToken();break}case $.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=En;break}case $.QUOTATION_MARK:case $.APOSTROPHE:case $.LESS_THAN_SIGN:case $.EQUALS_SIGN:case $.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case $.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this._leaveAttrValue(),this.state=X.BEFORE_ATTRIBUTE_NAME;break}case $.SOLIDUS:{this._leaveAttrValue(),this.state=X.SELF_CLOSING_START_TAG;break}case $.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=X.DATA,this.emitCurrentTagToken();break}case $.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=X.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case $.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=X.DATA,this.emitCurrentTagToken();break}case $.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=X.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case $.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentComment(n);break}case $.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=En;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Wr.DASH_DASH,!0)?(this._createCommentToken(Wr.DASH_DASH.length+1),this.state=X.COMMENT_START):this._consumeSequenceIfMatch(Wr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Wr.DOCTYPE.length+1),this.state=X.DOCTYPE):this._consumeSequenceIfMatch(Wr.CDATA_START,!0)?this.inForeignNode?this.state=X.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken(Wr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=X.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=X.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case $.HYPHEN_MINUS:{this.state=X.COMMENT_START_DASH;break}case $.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=X.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=X.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case $.HYPHEN_MINUS:{this.state=X.COMMENT_END;break}case $.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=X.DATA,this.emitCurrentComment(n);break}case $.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=X.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case $.HYPHEN_MINUS:{this.state=X.COMMENT_END_DASH;break}case $.LESS_THAN_SIGN:{n.data+="<",this.state=X.COMMENT_LESS_THAN_SIGN;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=En;break}case $.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case $.EXCLAMATION_MARK:{n.data+="!",this.state=X.COMMENT_LESS_THAN_SIGN_BANG;break}case $.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=X.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===$.HYPHEN_MINUS?this.state=X.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=X.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===$.HYPHEN_MINUS?this.state=X.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=X.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==$.GREATER_THAN_SIGN&&e!==$.EOF&&this._err(_e.nestedComment),this.state=X.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case $.HYPHEN_MINUS:{this.state=X.COMMENT_END;break}case $.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=X.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case $.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentComment(n);break}case $.EXCLAMATION_MARK:{this.state=X.COMMENT_END_BANG;break}case $.HYPHEN_MINUS:{n.data+="-";break}case $.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=X.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case $.HYPHEN_MINUS:{n.data+="--!",this.state=X.COMMENT_END_DASH;break}case $.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=X.DATA,this.emitCurrentComment(n);break}case $.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=X.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=X.BEFORE_DOCTYPE_NAME;break}case $.GREATER_THAN_SIGN:{this.state=X.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case $.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=X.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Lh(e))this._createDoctypeToken(String.fromCharCode(Cm(e))),this.state=X.DOCTYPE_NAME;else switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(En),this.state=X.DOCTYPE_NAME;break}case $.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=X.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=X.AFTER_DOCTYPE_NAME;break}case $.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentDoctype(n);break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=En;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Lh(e)?Cm(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Wr.PUBLIC,!1)?this.state=X.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Wr.SYSTEM,!1)?this.state=X.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=X.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case $.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.QUOTATION_MARK:{n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case $.QUOTATION_MARK:{this.state=X.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=En;break}case $.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case $.APOSTROPHE:{this.state=X.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=En;break}case $.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=X.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case $.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentDoctype(n);break}case $.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.QUOTATION_MARK:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:{this.state=X.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case $.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.QUOTATION_MARK:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case $.APOSTROPHE:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case $.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case $.QUOTATION_MARK:{this.state=X.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=En;break}case $.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case $.APOSTROPHE:{this.state=X.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case $.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=En;break}case $.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case $.SPACE:case $.LINE_FEED:case $.TABULATION:case $.FORM_FEED:break;case $.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case $.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=X.DATA;break}case $.NULL:{this._err(_e.unexpectedNullCharacter);break}case $.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case $.RIGHT_SQUARE_BRACKET:{this.state=X.CDATA_SECTION_BRACKET;break}case $.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===$.RIGHT_SQUARE_BRACKET?this.state=X.CDATA_SECTION_END:(this._emitChars("]"),this.state=X.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case $.GREATER_THAN_SIGN:{this.state=X.DATA;break}case $.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=X.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference($.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&LC(this.preprocessor.peek(1))?X.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){LC(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===$.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const AO=new Set([T.DD,T.DT,T.LI,T.OPTGROUP,T.OPTION,T.P,T.RB,T.RP,T.RT,T.RTC]),PC=new Set([...AO,T.CAPTION,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]),wp=new Set([T.APPLET,T.CAPTION,T.HTML,T.MARQUEE,T.OBJECT,T.TABLE,T.TD,T.TEMPLATE,T.TH]),cK=new Set([...wp,T.OL,T.UL]),hK=new Set([...wp,T.BUTTON]),BC=new Set([T.ANNOTATION_XML,T.MI,T.MN,T.MO,T.MS,T.MTEXT]),UC=new Set([T.DESC,T.FOREIGN_OBJECT,T.TITLE]),fK=new Set([T.TR,T.TEMPLATE,T.HTML]),dK=new Set([T.TBODY,T.TFOOT,T.THEAD,T.TEMPLATE,T.HTML]),mK=new Set([T.TABLE,T.TEMPLATE,T.HTML]),pK=new Set([T.TD,T.TH]);class gK{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=T.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===T.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ne.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const s=this._indexOf(e)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ne.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(C_,Ne.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pK,Ne.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(mK,Ne.HTML)}clearBackToTableBodyContext(){this.clearBackTo(dK,Ne.HTML)}clearBackToTableRowContext(){this.clearBackTo(fK,Ne.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===T.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===T.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Ne.HTML:{if(s===e)return!0;if(n.has(s))return!1;break}case Ne.SVG:{if(UC.has(s))return!1;break}case Ne.MATHML:{if(BC.has(s))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,wp)}hasInListItemScope(e){return this.hasInDynamicScope(e,cK)}hasInButtonScope(e){return this.hasInDynamicScope(e,hK)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Ne.HTML:{if(C_.has(n))return!0;if(wp.has(n))return!1;break}case Ne.SVG:{if(UC.has(n))return!1;break}case Ne.MATHML:{if(BC.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ne.HTML)switch(this.tagIDs[n]){case e:return!0;case T.TABLE:case T.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Ne.HTML)switch(this.tagIDs[e]){case T.TBODY:case T.THEAD:case T.TFOOT:return!0;case T.TABLE:case T.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ne.HTML)switch(this.tagIDs[n]){case e:return!0;case T.OPTION:case T.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&AO.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&PC.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&PC.has(this.currentTagId);)this.pop()}}const dy=3;var Cs;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Cs||(Cs={}));const VC={type:Cs.Marker};class EK{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],s=n.length,o=this.treeAdapter.getTagName(e),u=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const f=this.entries[c];if(f.type===Cs.Marker)break;const{element:d}=f;if(this.treeAdapter.getTagName(d)===o&&this.treeAdapter.getNamespaceURI(d)===u){const m=this.treeAdapter.getAttrList(d);m.length===s&&r.push({idx:c,attrs:m})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<dy)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<dy)return;const s=new Map(n.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<r.length;u++){const c=r[u];c.attrs.every(f=>s.get(f.name)===f.value)&&(o+=1,o>=dy&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(VC)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Cs.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Cs.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(VC);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Cs.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Cs.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Cs.Element&&n.element===e)}}const Ka={createDocument(){return{nodeName:"#document",mode:Fi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const s=t.childNodes.find(o=>o.nodeName==="#documentType");if(s)s.name=e,s.publicId=n,s.systemId=r;else{const o={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Ka.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Ka.isTextNode(n)){n.value+=e;return}}Ka.appendChild(t,Ka.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Ka.isTextNode(r)?r.value+=e:Ka.insertBefore(t,Ka.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},wO="html",yK="about:legacy-compat",_K="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",CO=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],TK=[...CO,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],bK=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),IO=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],vK=[...IO,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function HC(t,e){return e.some(n=>t.startsWith(n))}function SK(t){return t.name===wO&&t.publicId===null&&(t.systemId===null||t.systemId===yK)}function AK(t){if(t.name!==wO)return Fi.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===_K)return Fi.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),bK.has(n))return Fi.QUIRKS;let r=e===null?TK:CO;if(HC(n,r))return Fi.QUIRKS;if(r=e===null?IO:vK,HC(n,r))return Fi.LIMITED_QUIRKS}return Fi.NO_QUIRKS}const FC={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},wK="definitionurl",CK="definitionURL",IK=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),xK=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ne.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ne.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ne.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ne.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ne.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ne.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ne.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ne.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ne.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ne.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ne.XMLNS}]]),NK=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),RK=new Set([T.B,T.BIG,T.BLOCKQUOTE,T.BODY,T.BR,T.CENTER,T.CODE,T.DD,T.DIV,T.DL,T.DT,T.EM,T.EMBED,T.H1,T.H2,T.H3,T.H4,T.H5,T.H6,T.HEAD,T.HR,T.I,T.IMG,T.LI,T.LISTING,T.MENU,T.META,T.NOBR,T.OL,T.P,T.PRE,T.RUBY,T.S,T.SMALL,T.SPAN,T.STRONG,T.STRIKE,T.SUB,T.SUP,T.TABLE,T.TT,T.U,T.UL,T.VAR]);function OK(t){const e=t.tagID;return e===T.FONT&&t.attrs.some(({name:r})=>r===lu.COLOR||r===lu.SIZE||r===lu.FACE)||RK.has(e)}function xO(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===wK){t.attrs[e].name=CK;break}}function NO(t){for(let e=0;e<t.attrs.length;e++){const n=IK.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function gT(t){for(let e=0;e<t.attrs.length;e++){const n=xK.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function DK(t){const e=NK.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=mc(t.tagName))}function kK(t,e){return e===Ne.MATHML&&(t===T.MI||t===T.MO||t===T.MN||t===T.MS||t===T.MTEXT)}function LK(t,e,n){if(e===Ne.MATHML&&t===T.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===lu.ENCODING){const s=n[r].value.toLowerCase();return s===FC.TEXT_HTML||s===FC.APPLICATION_XML}}return e===Ne.SVG&&(t===T.FOREIGN_OBJECT||t===T.DESC||t===T.TITLE)}function MK(t,e,n,r){return(!r||r===Ne.HTML)&&LK(t,e,n)||(!r||r===Ne.MATHML)&&kK(t,e)}const PK="hidden",BK=8,UK=3;var W;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(W||(W={}));const VK={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},RO=new Set([T.TABLE,T.TBODY,T.TFOOT,T.THEAD,T.TR]),zC={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Ka,onParseError:null};class jC{constructor(e,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=W.INITIAL,this.originalInsertionMode=W.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...zC,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new lK(this.options,this),this.activeFormattingElements=new EK(this.treeAdapter),this.fragmentContextID=r?mc(this.treeAdapter.getTagName(r)):T.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new gK(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...zC,...n};e??(e=r.treeAdapter.createElement(he.TEMPLATE,Ne.HTML,[]));const s=r.treeAdapter.createElement("documentmock",Ne.HTML,[]),o=new this(r,s,e);return o.fragmentContextID===T.TEMPLATE&&o.tmplInsertionModeStack.unshift(W.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var s;if(!this.onParseError)return;const o=(s=e.location)!==null&&s!==void 0?s:VK,u={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(e,n,r){var s,o;(o=(s=this.treeAdapter).onItemPush)===null||o===void 0||o.call(s,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,e,this.openElements.current),n){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Ne.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Ne.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=W.TEXT}switchToPlaintextParsing(){this.insertionMode=W.TEXT,this.originalInsertionMode=W.IN_BODY,this.tokenizer.state=kn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===he.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ne.HTML))switch(this.fragmentContextID){case T.TITLE:case T.TEXTAREA:{this.tokenizer.state=kn.RCDATA;break}case T.STYLE:case T.XMP:case T.IFRAME:case T.NOEMBED:case T.NOFRAMES:case T.NOSCRIPT:{this.tokenizer.state=kn.RAWTEXT;break}case T.SCRIPT:{this.tokenizer.state=kn.SCRIPT_DATA;break}case T.PLAINTEXT:{this.tokenizer.state=kn.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),e.location){const u=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));u&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Ne.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Ne.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(he.HTML,Ne.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,T.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(n),o=r?s.lastIndexOf(r):s.length,u=s[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:f,endCol:d,endOffset:m}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:f,endCol:d,endOffset:m})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(e),o=n.type===pt.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===T.SVG&&this.treeAdapter.getTagName(n)===he.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ne.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===T.MGLYPH||e.tagID===T.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Ne.HTML)}_processToken(e){switch(e.type){case pt.CHARACTER:{this.onCharacter(e);break}case pt.NULL_CHARACTER:{this.onNullCharacter(e);break}case pt.COMMENT:{this.onComment(e);break}case pt.DOCTYPE:{this.onDoctype(e);break}case pt.START_TAG:{this._processStartTag(e);break}case pt.END_TAG:{this.onEndTag(e);break}case pt.EOF:{this.onEof(e);break}case pt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const s=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return MK(e,s,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===Cs.Marker||this.openElements.contains(s.element)),r=n===-1?e-1:n-1;for(let s=r;s>=0;s--){const o=this.activeFormattingElements.entries[s];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=W.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(T.P),this.openElements.popUntilTagNamePopped(T.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case T.TR:{this.insertionMode=W.IN_ROW;return}case T.TBODY:case T.THEAD:case T.TFOOT:{this.insertionMode=W.IN_TABLE_BODY;return}case T.CAPTION:{this.insertionMode=W.IN_CAPTION;return}case T.COLGROUP:{this.insertionMode=W.IN_COLUMN_GROUP;return}case T.TABLE:{this.insertionMode=W.IN_TABLE;return}case T.BODY:{this.insertionMode=W.IN_BODY;return}case T.FRAMESET:{this.insertionMode=W.IN_FRAMESET;return}case T.SELECT:{this._resetInsertionModeForSelect(e);return}case T.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case T.HTML:{this.insertionMode=this.headElement?W.AFTER_HEAD:W.BEFORE_HEAD;return}case T.TD:case T.TH:{if(e>0){this.insertionMode=W.IN_CELL;return}break}case T.HEAD:{if(e>0){this.insertionMode=W.IN_HEAD;return}break}}this.insertionMode=W.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===T.TEMPLATE)break;if(r===T.TABLE){this.insertionMode=W.IN_SELECT_IN_TABLE;return}}this.insertionMode=W.IN_SELECT}_isElementCausesFosterParenting(e){return RO.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case T.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ne.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case T.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return sK[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pQ(this,e);return}switch(this.insertionMode){case W.INITIAL:{Sh(this,e);break}case W.BEFORE_HTML:{Yh(this,e);break}case W.BEFORE_HEAD:{$h(this,e);break}case W.IN_HEAD:{Gh(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Kh(this,e);break}case W.AFTER_HEAD:{Xh(this,e);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:{DO(this,e);break}case W.TEXT:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{my(this,e);break}case W.IN_TABLE_TEXT:{UO(this,e);break}case W.IN_COLUMN_GROUP:{Cp(this,e);break}case W.AFTER_BODY:{Ip(this,e);break}case W.AFTER_AFTER_BODY:{jm(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){mQ(this,e);return}switch(this.insertionMode){case W.INITIAL:{Sh(this,e);break}case W.BEFORE_HTML:{Yh(this,e);break}case W.BEFORE_HEAD:{$h(this,e);break}case W.IN_HEAD:{Gh(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Kh(this,e);break}case W.AFTER_HEAD:{Xh(this,e);break}case W.TEXT:{this._insertCharacters(e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{my(this,e);break}case W.IN_COLUMN_GROUP:{Cp(this,e);break}case W.AFTER_BODY:{Ip(this,e);break}case W.AFTER_AFTER_BODY:{jm(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){I_(this,e);return}switch(this.insertionMode){case W.INITIAL:case W.BEFORE_HTML:case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_TEMPLATE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{I_(this,e);break}case W.IN_TABLE_TEXT:{Ah(this,e);break}case W.AFTER_BODY:{$K(this,e);break}case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{GK(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case W.INITIAL:{KK(this,e);break}case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:{this._err(e,_e.misplacedDoctype);break}case W.IN_TABLE_TEXT:{Ah(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?gQ(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case W.INITIAL:{Sh(this,e);break}case W.BEFORE_HTML:{XK(this,e);break}case W.BEFORE_HEAD:{WK(this,e);break}case W.IN_HEAD:{os(this,e);break}case W.IN_HEAD_NO_SCRIPT:{eX(this,e);break}case W.AFTER_HEAD:{nX(this,e);break}case W.IN_BODY:{Dr(this,e);break}case W.IN_TABLE:{Zl(this,e);break}case W.IN_TABLE_TEXT:{Ah(this,e);break}case W.IN_CAPTION:{ZX(this,e);break}case W.IN_COLUMN_GROUP:{_T(this,e);break}case W.IN_TABLE_BODY:{f0(this,e);break}case W.IN_ROW:{d0(this,e);break}case W.IN_CELL:{tQ(this,e);break}case W.IN_SELECT:{FO(this,e);break}case W.IN_SELECT_IN_TABLE:{rQ(this,e);break}case W.IN_TEMPLATE:{sQ(this,e);break}case W.AFTER_BODY:{oQ(this,e);break}case W.IN_FRAMESET:{uQ(this,e);break}case W.AFTER_FRAMESET:{cQ(this,e);break}case W.AFTER_AFTER_BODY:{fQ(this,e);break}case W.AFTER_AFTER_FRAMESET:{dQ(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?EQ(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case W.INITIAL:{Sh(this,e);break}case W.BEFORE_HTML:{QK(this,e);break}case W.BEFORE_HEAD:{ZK(this,e);break}case W.IN_HEAD:{JK(this,e);break}case W.IN_HEAD_NO_SCRIPT:{tX(this,e);break}case W.AFTER_HEAD:{rX(this,e);break}case W.IN_BODY:{h0(this,e);break}case W.TEXT:{zX(this,e);break}case W.IN_TABLE:{yf(this,e);break}case W.IN_TABLE_TEXT:{Ah(this,e);break}case W.IN_CAPTION:{JX(this,e);break}case W.IN_COLUMN_GROUP:{eQ(this,e);break}case W.IN_TABLE_BODY:{x_(this,e);break}case W.IN_ROW:{HO(this,e);break}case W.IN_CELL:{nQ(this,e);break}case W.IN_SELECT:{zO(this,e);break}case W.IN_SELECT_IN_TABLE:{iQ(this,e);break}case W.IN_TEMPLATE:{aQ(this,e);break}case W.AFTER_BODY:{qO(this,e);break}case W.IN_FRAMESET:{lQ(this,e);break}case W.AFTER_FRAMESET:{hQ(this,e);break}case W.AFTER_AFTER_BODY:{jm(this,e);break}}}onEof(e){switch(this.insertionMode){case W.INITIAL:{Sh(this,e);break}case W.BEFORE_HTML:{Yh(this,e);break}case W.BEFORE_HEAD:{$h(this,e);break}case W.IN_HEAD:{Gh(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Kh(this,e);break}case W.AFTER_HEAD:{Xh(this,e);break}case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{PO(this,e);break}case W.TEXT:{jX(this,e);break}case W.IN_TABLE_TEXT:{Ah(this,e);break}case W.IN_TEMPLATE:{jO(this,e);break}case W.AFTER_BODY:case W.IN_FRAMESET:case W.AFTER_FRAMESET:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{yT(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===$.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.TEXT:case W.IN_COLUMN_GROUP:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{this._insertCharacters(e);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:case W.AFTER_BODY:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{OO(this,e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{my(this,e);break}case W.IN_TABLE_TEXT:{BO(this,e);break}}}}function HK(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):MO(t,e),n}function FK(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const s=t.openElements.items[r];if(s===e.element)break;t._isSpecialElement(s,t.openElements.tagIDs[r])&&(n=s)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function zK(t,e,n){let r=e,s=t.openElements.getCommonAncestor(e);for(let o=0,u=s;u!==n;o++,u=s){s=t.openElements.getCommonAncestor(u);const c=t.activeFormattingElements.getElementEntry(u),f=c&&o>=UK;!c||f?(f&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(u)):(u=jK(t,c),r===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(u,r),r=u)}return r}function jK(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function qK(t,e,n){const r=t.treeAdapter.getTagName(e),s=mc(r);if(t._isElementCausesFosterParenting(s))t._fosterParentElement(n);else{const o=t.treeAdapter.getNamespaceURI(e);s===T.TEMPLATE&&o===Ne.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function YK(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:s}=n,o=t.treeAdapter.createElement(s.tagName,r,s.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,s),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o,s.tagID)}function ET(t,e){for(let n=0;n<BK;n++){const r=HK(t,e);if(!r)break;const s=FK(t,r);if(!s)break;t.activeFormattingElements.bookmark=r;const o=zK(t,s,r.element),u=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),u&&qK(t,u,o),YK(t,s,r)}}function I_(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function $K(t,e){t._appendCommentNode(e,t.openElements.items[0])}function GK(t,e){t._appendCommentNode(e,t.document)}function yT(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],s=t.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],u=t.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&t._setEndLocation(o,e)}}}}function KK(t,e){t._setDocumentType(e);const n=e.forceQuirks?Fi.QUIRKS:AK(e);SK(e)||t._err(e,_e.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=W.BEFORE_HTML}function Sh(t,e){t._err(e,_e.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Fi.QUIRKS),t.insertionMode=W.BEFORE_HTML,t._processToken(e)}function XK(t,e){e.tagID===T.HTML?(t._insertElement(e,Ne.HTML),t.insertionMode=W.BEFORE_HEAD):Yh(t,e)}function QK(t,e){const n=e.tagID;(n===T.HTML||n===T.HEAD||n===T.BODY||n===T.BR)&&Yh(t,e)}function Yh(t,e){t._insertFakeRootElement(),t.insertionMode=W.BEFORE_HEAD,t._processToken(e)}function WK(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.HEAD:{t._insertElement(e,Ne.HTML),t.headElement=t.openElements.current,t.insertionMode=W.IN_HEAD;break}default:$h(t,e)}}function ZK(t,e){const n=e.tagID;n===T.HEAD||n===T.BODY||n===T.HTML||n===T.BR?$h(t,e):t._err(e,_e.endTagWithoutMatchingOpenElement)}function $h(t,e){t._insertFakeElement(he.HEAD,T.HEAD),t.headElement=t.openElements.current,t.insertionMode=W.IN_HEAD,t._processToken(e)}function os(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:{t._appendElement(e,Ne.HTML),e.ackSelfClosing=!0;break}case T.TITLE:{t._switchToTextParsing(e,kn.RCDATA);break}case T.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,kn.RAWTEXT):(t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_HEAD_NO_SCRIPT);break}case T.NOFRAMES:case T.STYLE:{t._switchToTextParsing(e,kn.RAWTEXT);break}case T.SCRIPT:{t._switchToTextParsing(e,kn.SCRIPT_DATA);break}case T.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=W.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(W.IN_TEMPLATE);break}case T.HEAD:{t._err(e,_e.misplacedStartTagForHeadElement);break}default:Gh(t,e)}}function JK(t,e){switch(e.tagID){case T.HEAD:{t.openElements.pop(),t.insertionMode=W.AFTER_HEAD;break}case T.BODY:case T.BR:case T.HTML:{Gh(t,e);break}case T.TEMPLATE:{wu(t,e);break}default:t._err(e,_e.endTagWithoutMatchingOpenElement)}}function wu(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==T.TEMPLATE&&t._err(e,_e.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,_e.endTagWithoutMatchingOpenElement)}function Gh(t,e){t.openElements.pop(),t.insertionMode=W.AFTER_HEAD,t._processToken(e)}function eX(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.BASEFONT:case T.BGSOUND:case T.HEAD:case T.LINK:case T.META:case T.NOFRAMES:case T.STYLE:{os(t,e);break}case T.NOSCRIPT:{t._err(e,_e.nestedNoscriptInHead);break}default:Kh(t,e)}}function tX(t,e){switch(e.tagID){case T.NOSCRIPT:{t.openElements.pop(),t.insertionMode=W.IN_HEAD;break}case T.BR:{Kh(t,e);break}default:t._err(e,_e.endTagWithoutMatchingOpenElement)}}function Kh(t,e){const n=e.type===pt.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=W.IN_HEAD,t._processToken(e)}function nX(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.BODY:{t._insertElement(e,Ne.HTML),t.framesetOk=!1,t.insertionMode=W.IN_BODY;break}case T.FRAMESET:{t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_FRAMESET;break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{t._err(e,_e.abandonedHeadElementChild),t.openElements.push(t.headElement,T.HEAD),os(t,e),t.openElements.remove(t.headElement);break}case T.HEAD:{t._err(e,_e.misplacedStartTagForHeadElement);break}default:Xh(t,e)}}function rX(t,e){switch(e.tagID){case T.BODY:case T.HTML:case T.BR:{Xh(t,e);break}case T.TEMPLATE:{wu(t,e);break}default:t._err(e,_e.endTagWithoutMatchingOpenElement)}}function Xh(t,e){t._insertFakeElement(he.BODY,T.BODY),t.insertionMode=W.IN_BODY,c0(t,e)}function c0(t,e){switch(e.type){case pt.CHARACTER:{DO(t,e);break}case pt.WHITESPACE_CHARACTER:{OO(t,e);break}case pt.COMMENT:{I_(t,e);break}case pt.START_TAG:{Dr(t,e);break}case pt.END_TAG:{h0(t,e);break}case pt.EOF:{PO(t,e);break}}}function OO(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function DO(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function iX(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function sX(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function aX(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_FRAMESET)}function oX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Ne.HTML)}function uX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&C_.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Ne.HTML)}function lX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Ne.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function cX(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Ne.HTML),n||(t.formElement=t.openElements.current))}function hX(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const s=t.openElements.tagIDs[r];if(n===T.LI&&s===T.LI||(n===T.DD||n===T.DT)&&(s===T.DD||s===T.DT)){t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s);break}if(s!==T.ADDRESS&&s!==T.DIV&&s!==T.P&&t._isSpecialElement(t.openElements.items[r],s))break}t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Ne.HTML)}function fX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Ne.HTML),t.tokenizer.state=kn.PLAINTEXT}function dX(t,e){t.openElements.hasInScope(T.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ne.HTML),t.framesetOk=!1}function mX(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(he.A);n&&(ET(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ne.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function pX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ne.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function gX(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(T.NOBR)&&(ET(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Ne.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function EX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ne.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function yX(t,e){t.treeAdapter.getDocumentMode(t.document)!==Fi.QUIRKS&&t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,Ne.HTML),t.framesetOk=!1,t.insertionMode=W.IN_TABLE}function kO(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ne.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function LO(t){const e=vO(t,lu.TYPE);return e!=null&&e.toLowerCase()===PK}function _X(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ne.HTML),LO(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function TX(t,e){t._appendElement(e,Ne.HTML),e.ackSelfClosing=!0}function bX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._appendElement(e,Ne.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function vX(t,e){e.tagName=he.IMG,e.tagID=T.IMG,kO(t,e)}function SX(t,e){t._insertElement(e,Ne.HTML),t.skipNextNewLine=!0,t.tokenizer.state=kn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=W.TEXT}function AX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,kn.RAWTEXT)}function wX(t,e){t.framesetOk=!1,t._switchToTextParsing(e,kn.RAWTEXT)}function qC(t,e){t._switchToTextParsing(e,kn.RAWTEXT)}function CX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ne.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===W.IN_TABLE||t.insertionMode===W.IN_CAPTION||t.insertionMode===W.IN_TABLE_BODY||t.insertionMode===W.IN_ROW||t.insertionMode===W.IN_CELL?W.IN_SELECT_IN_TABLE:W.IN_SELECT}function IX(t,e){t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Ne.HTML)}function xX(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Ne.HTML)}function NX(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(T.RTC),t._insertElement(e,Ne.HTML)}function RX(t,e){t._reconstructActiveFormattingElements(),xO(e),gT(e),e.selfClosing?t._appendElement(e,Ne.MATHML):t._insertElement(e,Ne.MATHML),e.ackSelfClosing=!0}function OX(t,e){t._reconstructActiveFormattingElements(),NO(e),gT(e),e.selfClosing?t._appendElement(e,Ne.SVG):t._insertElement(e,Ne.SVG),e.ackSelfClosing=!0}function YC(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ne.HTML)}function Dr(t,e){switch(e.tagID){case T.I:case T.S:case T.B:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.SMALL:case T.STRIKE:case T.STRONG:{pX(t,e);break}case T.A:{mX(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{uX(t,e);break}case T.P:case T.DL:case T.OL:case T.UL:case T.DIV:case T.DIR:case T.NAV:case T.MAIN:case T.MENU:case T.ASIDE:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.DETAILS:case T.ADDRESS:case T.ARTICLE:case T.SEARCH:case T.SECTION:case T.SUMMARY:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{oX(t,e);break}case T.LI:case T.DD:case T.DT:{hX(t,e);break}case T.BR:case T.IMG:case T.WBR:case T.AREA:case T.EMBED:case T.KEYGEN:{kO(t,e);break}case T.HR:{bX(t,e);break}case T.RB:case T.RTC:{xX(t,e);break}case T.RT:case T.RP:{NX(t,e);break}case T.PRE:case T.LISTING:{lX(t,e);break}case T.XMP:{AX(t,e);break}case T.SVG:{OX(t,e);break}case T.HTML:{iX(t,e);break}case T.BASE:case T.LINK:case T.META:case T.STYLE:case T.TITLE:case T.SCRIPT:case T.BGSOUND:case T.BASEFONT:case T.TEMPLATE:{os(t,e);break}case T.BODY:{sX(t,e);break}case T.FORM:{cX(t,e);break}case T.NOBR:{gX(t,e);break}case T.MATH:{RX(t,e);break}case T.TABLE:{yX(t,e);break}case T.INPUT:{_X(t,e);break}case T.PARAM:case T.TRACK:case T.SOURCE:{TX(t,e);break}case T.IMAGE:{vX(t,e);break}case T.BUTTON:{dX(t,e);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{EX(t,e);break}case T.IFRAME:{wX(t,e);break}case T.SELECT:{CX(t,e);break}case T.OPTION:case T.OPTGROUP:{IX(t,e);break}case T.NOEMBED:case T.NOFRAMES:{qC(t,e);break}case T.FRAMESET:{aX(t,e);break}case T.TEXTAREA:{SX(t,e);break}case T.NOSCRIPT:{t.options.scriptingEnabled?qC(t,e):YC(t,e);break}case T.PLAINTEXT:{fX(t,e);break}case T.COL:case T.TH:case T.TD:case T.TR:case T.HEAD:case T.FRAME:case T.TBODY:case T.TFOOT:case T.THEAD:case T.CAPTION:case T.COLGROUP:break;default:YC(t,e)}}function DX(t,e){if(t.openElements.hasInScope(T.BODY)&&(t.insertionMode=W.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function kX(t,e){t.openElements.hasInScope(T.BODY)&&(t.insertionMode=W.AFTER_BODY,qO(t,e))}function LX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function MX(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(T.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(T.FORM):n&&t.openElements.remove(n))}function PX(t){t.openElements.hasInButtonScope(T.P)||t._insertFakeElement(he.P,T.P),t._closePElement()}function BX(t){t.openElements.hasInListItemScope(T.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(T.LI),t.openElements.popUntilTagNamePopped(T.LI))}function UX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function VX(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function HX(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function FX(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(he.BR,T.BR),t.openElements.pop(),t.framesetOk=!1}function MO(t,e){const n=e.tagName,r=e.tagID;for(let s=t.openElements.stackTop;s>0;s--){const o=t.openElements.items[s],u=t.openElements.tagIDs[s];if(r===u&&(r!==T.UNKNOWN||t.treeAdapter.getTagName(o)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=s&&t.openElements.shortenToLength(s);break}if(t._isSpecialElement(o,u))break}}function h0(t,e){switch(e.tagID){case T.A:case T.B:case T.I:case T.S:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.NOBR:case T.SMALL:case T.STRIKE:case T.STRONG:{ET(t,e);break}case T.P:{PX(t);break}case T.DL:case T.UL:case T.OL:case T.DIR:case T.DIV:case T.NAV:case T.PRE:case T.MAIN:case T.MENU:case T.ASIDE:case T.BUTTON:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.ADDRESS:case T.ARTICLE:case T.DETAILS:case T.SEARCH:case T.SECTION:case T.SUMMARY:case T.LISTING:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{LX(t,e);break}case T.LI:{BX(t);break}case T.DD:case T.DT:{UX(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{VX(t);break}case T.BR:{FX(t);break}case T.BODY:{DX(t,e);break}case T.HTML:{kX(t,e);break}case T.FORM:{MX(t);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{HX(t,e);break}case T.TEMPLATE:{wu(t,e);break}default:MO(t,e)}}function PO(t,e){t.tmplInsertionModeStack.length>0?jO(t,e):yT(t,e)}function zX(t,e){var n;e.tagID===T.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function jX(t,e){t._err(e,_e.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function my(t,e){if(t.openElements.currentTagId!==void 0&&RO.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=W.IN_TABLE_TEXT,e.type){case pt.CHARACTER:{UO(t,e);break}case pt.WHITESPACE_CHARACTER:{BO(t,e);break}}else Ff(t,e)}function qX(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_CAPTION}function YX(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_COLUMN_GROUP}function $X(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(he.COLGROUP,T.COLGROUP),t.insertionMode=W.IN_COLUMN_GROUP,_T(t,e)}function GX(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_TABLE_BODY}function KX(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(he.TBODY,T.TBODY),t.insertionMode=W.IN_TABLE_BODY,f0(t,e)}function XX(t,e){t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function QX(t,e){LO(e)?t._appendElement(e,Ne.HTML):Ff(t,e),e.ackSelfClosing=!0}function WX(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Ne.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Zl(t,e){switch(e.tagID){case T.TD:case T.TH:case T.TR:{KX(t,e);break}case T.STYLE:case T.SCRIPT:case T.TEMPLATE:{os(t,e);break}case T.COL:{$X(t,e);break}case T.FORM:{WX(t,e);break}case T.TABLE:{XX(t,e);break}case T.TBODY:case T.TFOOT:case T.THEAD:{GX(t,e);break}case T.INPUT:{QX(t,e);break}case T.CAPTION:{qX(t,e);break}case T.COLGROUP:{YX(t,e);break}default:Ff(t,e)}}function yf(t,e){switch(e.tagID){case T.TABLE:{t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode());break}case T.TEMPLATE:{wu(t,e);break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:Ff(t,e)}}function Ff(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,c0(t,e),t.fosterParentingEnabled=n}function BO(t,e){t.pendingCharacterTokens.push(e)}function UO(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Ah(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Ff(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const VO=new Set([T.CAPTION,T.COL,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]);function ZX(t,e){const n=e.tagID;VO.has(n)?t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=W.IN_TABLE,Zl(t,e)):Dr(t,e)}function JX(t,e){const n=e.tagID;switch(n){case T.CAPTION:case T.TABLE:{t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=W.IN_TABLE,n===T.TABLE&&yf(t,e));break}case T.BODY:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:h0(t,e)}}function _T(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.COL:{t._appendElement(e,Ne.HTML),e.ackSelfClosing=!0;break}case T.TEMPLATE:{os(t,e);break}default:Cp(t,e)}}function eQ(t,e){switch(e.tagID){case T.COLGROUP:{t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=W.IN_TABLE);break}case T.TEMPLATE:{wu(t,e);break}case T.COL:break;default:Cp(t,e)}}function Cp(t,e){t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=W.IN_TABLE,t._processToken(e))}function f0(t,e){switch(e.tagID){case T.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_ROW;break}case T.TH:case T.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(he.TR,T.TR),t.insertionMode=W.IN_ROW,d0(t,e);break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE,Zl(t,e));break}default:Zl(t,e)}}function x_(t,e){const n=e.tagID;switch(e.tagID){case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE);break}case T.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE,yf(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:case T.TR:break;default:yf(t,e)}}function d0(t,e){switch(e.tagID){case T.TH:case T.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Ne.HTML),t.insertionMode=W.IN_CELL,t.activeFormattingElements.insertMarker();break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY,f0(t,e));break}default:Zl(t,e)}}function HO(t,e){switch(e.tagID){case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY);break}case T.TABLE:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY,x_(t,e));break}case T.TBODY:case T.TFOOT:case T.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(T.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY,x_(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:break;default:yf(t,e)}}function tQ(t,e){const n=e.tagID;VO.has(n)?(t.openElements.hasInTableScope(T.TD)||t.openElements.hasInTableScope(T.TH))&&(t._closeTableCell(),d0(t,e)):Dr(t,e)}function nQ(t,e){const n=e.tagID;switch(n){case T.TD:case T.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=W.IN_ROW);break}case T.TABLE:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),HO(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:break;default:h0(t,e)}}function FO(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._insertElement(e,Ne.HTML);break}case T.OPTGROUP:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Ne.HTML);break}case T.HR:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Ne.HTML),e.ackSelfClosing=!0;break}case T.INPUT:case T.KEYGEN:case T.TEXTAREA:case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),e.tagID!==T.SELECT&&t._processStartTag(e));break}case T.SCRIPT:case T.TEMPLATE:{os(t,e);break}}}function zO(t,e){switch(e.tagID){case T.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===T.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===T.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop();break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop();break}case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode());break}case T.TEMPLATE:{wu(t,e);break}}}function rQ(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t._processStartTag(e)):FO(t,e)}function iQ(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t.onEndTag(e)):zO(t,e)}function sQ(t,e){switch(e.tagID){case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{os(t,e);break}case T.CAPTION:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.tmplInsertionModeStack[0]=W.IN_TABLE,t.insertionMode=W.IN_TABLE,Zl(t,e);break}case T.COL:{t.tmplInsertionModeStack[0]=W.IN_COLUMN_GROUP,t.insertionMode=W.IN_COLUMN_GROUP,_T(t,e);break}case T.TR:{t.tmplInsertionModeStack[0]=W.IN_TABLE_BODY,t.insertionMode=W.IN_TABLE_BODY,f0(t,e);break}case T.TD:case T.TH:{t.tmplInsertionModeStack[0]=W.IN_ROW,t.insertionMode=W.IN_ROW,d0(t,e);break}default:t.tmplInsertionModeStack[0]=W.IN_BODY,t.insertionMode=W.IN_BODY,Dr(t,e)}}function aQ(t,e){e.tagID===T.TEMPLATE&&wu(t,e)}function jO(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):yT(t,e)}function oQ(t,e){e.tagID===T.HTML?Dr(t,e):Ip(t,e)}function qO(t,e){var n;if(e.tagID===T.HTML){if(t.fragmentContext||(t.insertionMode=W.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===T.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else Ip(t,e)}function Ip(t,e){t.insertionMode=W.IN_BODY,c0(t,e)}function uQ(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.FRAMESET:{t._insertElement(e,Ne.HTML);break}case T.FRAME:{t._appendElement(e,Ne.HTML),e.ackSelfClosing=!0;break}case T.NOFRAMES:{os(t,e);break}}}function lQ(t,e){e.tagID===T.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==T.FRAMESET&&(t.insertionMode=W.AFTER_FRAMESET))}function cQ(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.NOFRAMES:{os(t,e);break}}}function hQ(t,e){e.tagID===T.HTML&&(t.insertionMode=W.AFTER_AFTER_FRAMESET)}function fQ(t,e){e.tagID===T.HTML?Dr(t,e):jm(t,e)}function jm(t,e){t.insertionMode=W.IN_BODY,c0(t,e)}function dQ(t,e){switch(e.tagID){case T.HTML:{Dr(t,e);break}case T.NOFRAMES:{os(t,e);break}}}function mQ(t,e){e.chars=En,t._insertCharacters(e)}function pQ(t,e){t._insertCharacters(e),t.framesetOk=!1}function YO(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Ne.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function gQ(t,e){if(OK(e))YO(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Ne.MATHML?xO(e):r===Ne.SVG&&(DK(e),NO(e)),gT(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function EQ(t,e){if(e.tagID===T.P||e.tagID===T.BR){YO(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Ne.HTML){t._endTagOutsideForeignContent(e);break}const s=t.treeAdapter.getTagName(r);if(s.toLowerCase()===e.tagName){e.tagName=s,t.openElements.shortenToLength(n);break}}}he.AREA,he.BASE,he.BASEFONT,he.BGSOUND,he.BR,he.COL,he.EMBED,he.FRAME,he.HR,he.IMG,he.INPUT,he.KEYGEN,he.LINK,he.META,he.PARAM,he.SOURCE,he.TRACK,he.WBR;const yQ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,_Q=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),$C={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function $O(t,e){const n=NQ(t),r=EO("type",{handlers:{root:TQ,element:bQ,text:vQ,comment:KO,doctype:SQ,raw:wQ},unknown:CQ}),s={parser:n?new jC($C):jC.getFragmentParser(void 0,$C),handle(c){r(c,s)},stitches:!1,options:e||{}};r(t,s),pc(s,Ps());const o=n?s.parser.document:s.parser.getFragment(),u=TG(o,{file:s.options.file});return s.stitches&&hT(u,"comment",function(c,f,d){const m=c;if(m.value.stitch&&d&&f!==void 0){const E=d.children;return E[f]=m.value.stitch,f}}),u.type==="root"&&u.children.length===1&&u.children[0].type===t.type?u.children[0]:u}function GO(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function TQ(t,e){GO(t.children,e)}function bQ(t,e){IQ(t,e),GO(t.children,e),xQ(t,e)}function vQ(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:pt.CHARACTER,chars:t.value,location:zf(t)};pc(e,Ps(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function SQ(t,e){const n={type:pt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:zf(t)};pc(e,Ps(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function AQ(t,e){e.stitches=!0;const n=RQ(t);if("children"in t&&"children"in n){const r=$O({type:"root",children:t.children},e.options);n.children=r.children}KO({type:"comment",value:{stitch:n}},e)}function KO(t,e){const n=t.value,r={type:pt.COMMENT,data:n,location:zf(t)};pc(e,Ps(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function wQ(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,XO(e,Ps(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(yQ,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function CQ(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))AQ(n,e);else{let r="";throw _Q.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function pc(t,e){XO(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=kn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function XO(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function IQ(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===kn.PLAINTEXT)return;pc(e,Ps(t));const r=e.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:au.html;s===au.html&&n==="svg"&&(s=au.svg);const o=MG({...t,children:[]},{space:s===au.svg?"svg":"html"}),u={type:pt.START_TAG,tagName:n,tagID:mc(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:zf(t)};e.parser.currentToken=u,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function xQ(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&jG.includes(n)||e.parser.tokenizer.state===kn.PLAINTEXT)return;pc(e,a0(t));const r={type:pt.END_TAG,tagName:n,tagID:mc(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:zf(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===kn.RCDATA||e.parser.tokenizer.state===kn.RAWTEXT||e.parser.tokenizer.state===kn.SCRIPT_DATA)&&(e.parser.tokenizer.state=kn.DATA)}function NQ(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function zf(t){const e=Ps(t)||{line:void 0,column:void 0,offset:void 0},n=a0(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function RQ(t){return"children"in t?Wl({...t,children:[]}):Wl(t)}function OQ(t){return function(e,n){return $O(e,{...t,file:n})}}function DQ({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:o,isLoading:u,isCollapsed:c=!1,onToggleSidebar:f,mode:d="boards",onModeChange:m,explanation:E}){const[_,b]=U.useState(!1),[w,x]=U.useState(!1),[k,D]=U.useState(null),z={minHeight:54,padding:"14px 20px",margin:"0 8px",borderRadius:10,display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background 0.15s, border 0.15s, box-shadow 0.15s, transform 0.15s"},Y=(O,M)=>({...z,cursor:u?"not-allowed":"pointer",border:O?"2px solid #4f8cff":M?"1px solid #555":"1px solid #333",background:O?"#25304a":M?"#23293a":"#181c24",color:O?"#fff":"#cfd8dc",fontWeight:O?600:400,boxShadow:O?"0 2px 8px 0 #4f8cff22":M?"0 1px 4px 0 #00000033":"none",transform:M?"translateY(-1px)":"none"}),j={background:"none",border:"none",color:"#ff4d4d",cursor:"pointer",fontSize:"1.2em",lineHeight:1,padding:"0 5px",transition:"opacity 0.15s"},Z=async O=>{try{b(!0),await r(O),x(!1)}catch(M){console.error("Error in sidebar create board:",M)}finally{b(!1)}},G=()=>{x(!0)},R=()=>{x(!1)},N=(O,M)=>{O.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(M)};return te.jsxs(te.Fragment,{children:[te.jsxs("div",{className:"sidebar split-pane-sidebar",children:[te.jsx("div",{className:"sidebar-header",children:te.jsxs("div",{className:"sidebar-mode-switch",children:[te.jsx("button",{className:`mode-switch-btn ${d==="boards"?"active":""}`,onClick:()=>m&&m("boards"),children:" Boards"}),te.jsx("button",{className:`mode-switch-btn ${d==="explanation"?"active":""}`,onClick:()=>m&&m("explanation"),children:" Explanation"})]})}),te.jsx("div",{className:"sidebar-content",children:d==="boards"?te.jsx(te.Fragment,{children:te.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[te.jsx("div",{style:{padding:"8px 0",textAlign:"right"},children:te.jsx("button",{onClick:G,disabled:u||_,style:{padding:"6px 12px",borderRadius:6,border:"1px solid #4f8cff",background:"#1d2330",color:"#4f8cff",cursor:u||_?"not-allowed":"pointer"},children:_?"Creating...":"+ New Board"})}),te.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginTop:8,overflowY:"auto",flexGrow:1},children:t.map(O=>{const M=e?.id===O.id,B=k===O.id;return te.jsxs("div",{onClick:()=>!u&&n(O.id),onMouseEnter:()=>D(O.id),onMouseLeave:()=>D(null),style:Y(M,B),role:"button",tabIndex:0,onKeyDown:V=>{(V.key==="Enter"||V.key===" ")&&!u&&n(O.id)},children:[te.jsx("span",{style:{fontWeight:M?700:500,fontSize:"1.1em",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",letterSpacing:"0.2px",lineHeight:1.3},children:O.name}),te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[O.isOpen&&te.jsx("span",{style:{color:"#4f8cff",fontSize:"1.1em"},children:""}),t.length>1&&te.jsx("button",{onClick:V=>{V.stopPropagation(),N(V,O.id)},title:"Delete board",style:{...j,opacity:B?1:0,visibility:B?"visible":"hidden"},children:""})]})]},O.id)})}),u&&te.jsx("div",{style:{padding:16,textAlign:"center",color:"#9e9e9e"},children:"Loading boards..."}),te.jsx("div",{style:{padding:"12px 0"},children:te.jsx("button",{onClick:o,style:{padding:"6px 12px",borderRadius:6,border:"1px solid #333",background:"transparent",color:"#cfd8dc",cursor:"pointer"},children:"Sign Out"})})]})}):te.jsx("div",{className:"explanation-content",children:E?te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"explanation-header",children:te.jsx("h3",{children:E.title})}),te.jsx("div",{className:"explanation-text",children:te.jsx(sG,{rehypePlugins:[OQ],children:E.text})})]}):te.jsx("div",{className:"explanation-placeholder",children:te.jsx("p",{children:"Click on a node's explanation button () to view its detailed information here."})})})})]}),te.jsx(Gz,{show:w,onHide:R,onConfirm:Z,isCreating:_})]})}function kQ({name:t,onSetName:e,user:n,isSaving:r,sidebarCollapsed:s=!1}){const[o,u]=U.useState(!1),[c,f]=U.useState(t||"");U.useEffect(()=>{f(t||"")},[t]);const d=E=>{E.key==="Enter"&&(e(c),u(!1))},m=()=>{u(!0),f(t||"")};return te.jsx(te.Fragment,{children:te.jsx("div",{className:`name ${s?"sidebar-collapsed":""}`,children:te.jsx("div",{className:"app-container",children:te.jsxs("header",{className:"app-header",children:[te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[te.jsx("h1",{children:"Launch Flow"}),te.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:""}),o?te.jsx("input",{type:"text",value:c,onChange:E=>f(E.target.value),onKeyDown:d,onBlur:()=>{e(c),u(!1)},style:{background:"#2a2a2a",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",padding:"4px 8px",color:"#f1f5f9",fontSize:"14px",minWidth:"120px"},autoFocus:!0}):te.jsx("button",{onClick:m,style:{background:"none",border:"none",color:"#94a3b8",fontSize:"14px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"all 0.15s ease"},onMouseEnter:E=>{E.currentTarget.style.background="rgba(255, 255, 255, 0.05)",E.currentTarget.style.color="#f1f5f9"},onMouseLeave:E=>{E.currentTarget.style.background="none",E.currentTarget.style.color="#94a3b8"},children:t||"Untitled Board"})]}),te.jsxs("div",{className:"user-info",children:[te.jsx("p",{children:n?.isAnonymous?"Guest":n?.email?.split("@")[0]||"User"}),r&&te.jsx("span",{className:"save-indicator",children:" Saving"})]})]})})})})}const LQ=({notification:t,onRemove:e})=>{const n=r=>{switch(r){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return te.jsxs("div",{className:`notification notification-${t.type}`,children:[te.jsxs("div",{className:"notification-content",children:[te.jsx("span",{className:"notification-icon",children:n(t.type)}),te.jsx("span",{className:"notification-message",children:t.message})]}),te.jsx("button",{className:"notification-close",onClick:()=>e(t.id),children:""})]})},MQ=({notifications:t,onRemove:e})=>t.length===0?null:te.jsx("div",{className:"notifications-container",children:t.map(n=>te.jsx(LQ,{notification:n,onRemove:e},n.id))}),PQ=async()=>{try{await iH(Tp),console.log("User signed out successfully")}catch(t){throw console.error("Error signing out:",t),t}},py=async t=>{try{const e=await fetch(`https://groqchat-zm2y2mo6eq-uc.a.run.app?message=${encodeURIComponent(t)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();return console.log(n),n}catch(e){throw console.error("Fetch error:",e),e}},BQ=async(t,e)=>{try{const n=`You are an expert educator and technical writer. Your task is to teach the following concept to a beginner, using clear, concise, and engaging explanations.

        Context: ${e}

        Instructions:
        - Highlight EVERY important concept or term using [square-braces], e.g., [algorithm], [variable].
        - Use simple language and break down complex ideas.
        - Provide at least one practical example or analogy.
        - Emphasize key points using markdown formatting (bold, italics, headings, lists, tables, etc.).
        - Organize the explanation with headings, lists, and tables where appropriate.
        - Use ONLY CORRECT MARKDOWN AND HTML formatting for all content (including tables, lists, images, and code blocks).
        - You NEED TO embed relevant IMAGES or GIFS from the web using embeded HTML IMGS.
        - You MAY embed relevant youtube videos from the web using embeded HTML.
        - Do NOT include introductions, conclusions, or meta-commentary.
        - Start immediately with the explanation content.
        - Do NOT include any text outside the explanation.

        Concept to explain: `,r=`Summarize in exactly 40 words or less.

        CRITICAL:
        - Preserve ALL [square-braces] concepts exactly
        - Every key concept MUST use [square-braces]
        - NO introductory phrases like "Here is..." or "Summary..."
        - NO bullet points or formatting except [square-braces]
        - Start immediately with summary content
        - ONLY the summary text

        Text to summarize: `,s="You are an expert educator. You answer only in json: {[concept1], [concept2]...}. Suggest 3 topics(each not more than 5 words, each topic is encased in [square-braces]) that are a good next step at learning the following concept:",o=await py(n+t),u=await py(r+o.response);let f=(await py(s+u.response)).response??"";f=f.replace(/^```json\s*/i,"").replace(/^```\s*/i,"").replace(/```$/i,"");let d=[];try{let m=JSON.parse(f);d=Array.isArray(m.topics)?m.topics:Object.values(m)}catch{const E=f.match(/"(.*?)"/g);E&&(d=E.map(_=>_.replace(/"/g,"")))}return{firstResponse:{response:o.response?.replace(/\[/g,"_").replace(/\]/g,"_").replace(/```/g,"").replace(/markdown/g,"")},secondResponse:{response:u.response?.replace(/\[/g,"_").replace(/\]/g,"_")},thirdResponse:{response:d}}}catch(n){throw console.error("Error in askAITwice:",n),n}},UQ=()=>{const[t,e]=U.useState(null);return U.useEffect(()=>{const r=rH(Tp,s=>{e(s),s?console.log("User signed in:",s.uid):console.log("No user signed in")});return()=>r()},[]),{user:t,signOut:async()=>{try{await PQ(),e(null)}catch(r){console.error("Error in sign out:",r)}}}},QO=t=>!!(t&&t.uid),Qh=[{id:"1",type:"staticEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",title:"AI & Natural Language",suggestions:["Machine Learning","Neural Networks","Deep Learning"],tokenColors:{},previousNode:null},position:{x:250,y:25},draggable:!1}],Vl=[],VQ=async t=>{if(!QO({uid:t}))throw new Error(qr.AUTH_REQUIRED);try{const e=T1(ss,vi.BOARDS),n=$7(e,G7("userId","==",t),K7("createdAt","desc")),r=await D1(n);if(r.empty){const o={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:fn.now(),isOpen:!0};return await k1(ac(ss,vi.BOARDS,o.id),o),console.log("Created default board:",o),[o]}const s=r.docs.map(o=>({id:o.id,...o.data()}));return console.log("Fetched all boards:",s),s}catch(e){if(console.error("Fetch all boards error:",e),e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:fn.now(),isOpen:!0,isFallback:!0}]}throw new Error(qr.LOAD_FAILED)}},GC=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),Qh;try{const e=T1(ss,vi.BOARDS,t,vi.NODES),n=await D1(e);if(n.empty)return console.log("No nodes found for board, using initial nodes"),Qh;const r=n.docs.map(s=>{const o=s.data(),u={...o.data,tokenColors:o.data?.tokenColors||{},previousNode:o.data?.previousNode||null};return{id:s.id,type:o.type,position:o.position,data:u,draggable:o.draggable,style:o.style}});return console.log("Fetched nodes from board:",r),r}catch(e){return console.error("Fetch nodes error:",e),Qh}},KC=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),Vl;try{const e=T1(ss,vi.BOARDS,t,vi.EDGES),n=await D1(e);if(n.empty)return console.log("No edges found for board, using initial edges"),Vl;const r=n.docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched edges from board:",r),r}catch(e){return console.error("Fetch edges error:",e),Vl}},HQ=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving nodes:",{boardId:t,nodesCount:e?.length});return}try{const n=ER(ss);e.forEach(r=>{const s=ac(ss,vi.BOARDS,t,vi.NODES,r.id),o={type:r.type,data:r.data,position:r.position,updatedAt:fn.now()};r.draggable!=null&&(o.draggable=r.draggable),r.style!=null&&(o.style=r.style),n.set(s,o)}),await n.commit(),console.log("Nodes saved to board")}catch(n){throw console.error("Save nodes error:",n),new Error(qr.SAVE_FAILED)}},FQ=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving edges:",{boardId:t,edgesCount:e?.length});return}try{const n=ER(ss);e.forEach(r=>{const s=ac(ss,vi.BOARDS,t,vi.EDGES,r.id),o={source:r.source,target:r.target,updatedAt:fn.now()};r.sourceHandle!=null&&(o.sourceHandle=r.sourceHandle),r.targetHandle!=null&&(o.targetHandle=r.targetHandle),r.style!=null&&(o.style=r.style),r.markerEnd!=null&&(o.markerEnd=r.markerEnd),n.set(s,o)}),await n.commit(),console.log("Edges saved to board")}catch(n){throw console.error("Save edges error:",n),new Error(qr.SAVE_FAILED)}},zQ=async(t,e,n)=>{if(!QO({uid:t}))throw new Error(qr.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:fn.now(),isOpen:!1};return console.log("Creating board:",r),await k1(ac(ss,vi.BOARDS,r.id),r),console.log("Board created successfully:",r),r}catch(r){throw console.error("Error creating new board:",r),r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},jQ=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await eV(ac(ss,vi.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},_l=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:fn.now()};await k1(ac(ss,vi.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},qQ=t=>{if(!t||!t.data)return t;const e={...t},n={...t.data};return n.title||(n.title=n.label||n.summary||"Node"),n.suggestions||(n.suggestions=[]),e.draggable===void 0&&(e.draggable=!0),e.data=n,e},YQ=t=>Array.isArray(t)?t.map(qQ):[],$Q=(t,e={})=>{const[n,r,s]=m5([]),[o,u,c]=p5([]),[f,d]=U.useState(!0),[m,E]=U.useState(!1),[_,b]=U.useState(!1),[w,x]=U.useState([]),[k,D]=U.useState(null),z=U.useRef(null),{showSuccess:Y,showError:j,showInfo:Z}=e,G=C=>{const L=C.find(K=>K.isOpen===!0);if(L)return L;if(C.length>0){const K={...C[0],isOpen:!0};return _l(K.id,K).catch(console.error),K}return null};U.useEffect(()=>{(async()=>{if(t)try{d(!0);const L=await VQ(t.uid);x(L);const K=L.some(ie=>ie.isFallback);K&&j&&j("Database index missing. Please create the required Firestore index. Check console for details.");const H=G(L);if(!H){console.error("No board found for user"),j&&j("No boards found. Creating a default board..."),r(Qh),u(Vl);return}D(H);const[Q,re]=await Promise.all([GC(H.id),KC(H.id)]);r(Q),u(re),Z&&!K&&Z("Board loaded successfully!")}catch(L){console.error("Error loading initial data:",L),j&&j("Failed to load board data. Using default board."),r(Qh),u(Vl)}finally{d(!1)}})()},[t,r,u]);const R=U.useCallback(async(C,L,K)=>{z.current&&clearTimeout(z.current);const H=setTimeout(async()=>{try{b(!0);const Q=[];L&&L.length>0&&Q.push(HQ(C,L)),K&&K.length>0&&Q.push(FQ(C,K)),Q.length>0&&(await Promise.all(Q),console.log("Auto-save completed successfully"))}catch(Q){console.error("Auto-save failed:",Q),j&&j("Failed to save changes automatically")}finally{b(!1),z.current=null}},1e3);z.current=H},[j]);U.useEffect(()=>(!f&&k&&!m&&!k.isFallback&&R(k.id,n,o),()=>{z.current&&clearTimeout(z.current)}),[n,o,f,k,m]);const N=U.useCallback(async C=>{try{if(k?.id===C)return;if(k?.isFallback||w.find(K=>K.id===C)?.isFallback){j&&j("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(E(!0),k&&!k.isFallback){const K={...k,isOpen:!1};await _l(k.id,K),x(H=>H.map(Q=>Q.id===k.id?K:Q))}const L=w.find(K=>K.id===C);if(L){const K={...L,isOpen:!0};await _l(C,K),D(K),x(ie=>ie.map(S=>S.id===C?K:S));const[H,Q]=await Promise.all([GC(C),KC(C)]),re=YQ(H);r(re),u(Q),Y&&Y(`Switched to "${K.name}"`)}else console.error("Board not found:",C),j&&j("Board not found")}catch(L){console.error("Error switching board:",L),j&&j("Failed to switch board. Please try again.")}finally{E(!1)}},[k,w,r,u,Y,j]),O=U.useCallback(async C=>{try{if(!t)return j&&j("You must be logged in to create a board"),null;Z&&Z("Creating new board...");const L=await zQ(t.uid,C||null,w);if(L){if(k&&!k.isFallback){const H={...k,isOpen:!1};_l(k.id,H).catch(console.error)}const K={...L,isOpen:!0};return x(H=>{const Q=H.map(re=>re.id===k?.id?{...re,isOpen:!1}:re);return[K,...Q]}),D(K),_l(L.id,K).catch(console.error),r([{id:"1",type:"staticEditable",data:{label:C||"New Board"},position:{x:250,y:25},draggable:!1}]),u(Vl),Y&&Y(`Board "${L.name}" created and opened!`),K}else return j&&j("Failed to create board. Please try again."),null}catch(L){return j&&j(`Failed to create board: ${L.message}`),null}},[t,w,k,Y,j,Z,r,u]),M=U.useCallback(async C=>{try{if(w.length<=1){j&&j("Cannot delete the last board!");return}if(!w.find(K=>K.id===C)){console.error("Board not found for deletion"),j&&j("Board not found");return}if(Z&&Z("Deleting board..."),k?.id===C){const K=w.find(H=>H.id!==C);K&&await N(K.id)}await jQ(C),x(K=>K.filter(H=>H.id!==C)),Y&&Y("Board deleted successfully!")}catch(L){console.error("Error deleting board:",L),j&&j("Failed to delete board. Please try again.")}},[w,k,N,Y,j,Z]),B=U.useCallback(async C=>{if(k&&k.name!==C){const L={...k,name:C};D(L),x(K=>K.map(H=>H.id===k.id?L:H));try{await _l(k.id,L),console.log("Board name updated successfully")}catch(K){console.error("Error updating board name:",K)}}},[k]),V=U.useCallback(()=>{z.current&&(clearTimeout(z.current),z.current=null),x([]),D(null),r([]),u([]),d(!0),E(!1),b(!1)},[r,u,z]);return{nodes:n,edges:o,allBoards:w,currentBoard:k,isLoading:f,isSwitchingBoard:m,isSaving:_,onNodesChange:s,onEdgesChange:c,setNodes:r,switchToBoard:N,createNewBoard:O,deleteBoard:M,updateBoardName:B,clearBoardState:V}},GQ=({allBoards:t,currentBoard:e,createNewBoard:n,switchToBoard:r})=>{U.useEffect(()=>{const s=o=>{if((o.ctrlKey||o.metaKey)&&o.key==="n"&&(o.preventDefault(),n()),(o.ctrlKey||o.metaKey)&&o.key>="1"&&o.key<="9"){o.preventDefault();const u=parseInt(o.key)-1;t[u]&&t[u].id!==e?.id&&r(t[u].id)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e,n,r])},KQ=()=>{const[t,e]=U.useState([]),n=U.useCallback(d=>{const m=Date.now().toString(),E={id:m,timestamp:new Date,...d};return e(_=>[..._,E]),d.autoRemove!==!1&&setTimeout(()=>{r(m)},d.duration||5e3),m},[]),r=U.useCallback(d=>{e(m=>m.filter(E=>E.id!==d))},[]),s=U.useCallback(()=>{e([])},[]),o=U.useCallback((d,m={})=>n({type:"success",message:d,...m}),[n]),u=U.useCallback((d,m={})=>n({type:"error",message:d,duration:7e3,...m}),[n]),c=U.useCallback((d,m={})=>n({type:"info",message:d,...m}),[n]),f=U.useCallback((d,m={})=>n({type:"warning",message:d,duration:6e3,...m}),[n]);return{notifications:t,addNotification:n,removeNotification:r,clearAllNotifications:s,showSuccess:o,showError:u,showInfo:c,showWarning:f}},WO=t=>{const e=[],n=t.split("_");for(let r=0;r<n.length;r++)if(r%2===0)n[r].split(/\s+/).filter(o=>o.trim()!=="").forEach(o=>{e.push({word:o.trim()})});else{const s=n[r].trim();s.split(/\s+/).filter(u=>u.trim()!=="").forEach(u=>{e.push({word:u.trim(),myConcept:s})})}return e},XC=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return t[Math.floor(Math.random()*t.length)]},qm=t=>{if(!t)return"#000000";const e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),r=parseInt(t.substring(5,7),16);return(e*299+n*587+r*114)/1e3>=128?"#000000":"#ffffff"},Ym=(t,e)=>{if(!t)return"#000000";let n=t.startsWith("#")?t.substring(1):t;const r=parseInt(n,16),s=255,o=e,u=r>>16,c=r>>8&255,f=r&255,d=Math.round((s-u)*o)+u,m=Math.round((s-c)*o)+c,E=Math.round((s-f)*o)+f;return`#${(16777216+d*65536+m*256+E).toString(16).slice(1)}`},XQ=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16),o=30,u=Math.min(255,Math.max(0,n+(Math.random()-.5)*o*2)),c=Math.min(255,Math.max(0,r+(Math.random()-.5)*o*2)),f=Math.min(255,Math.max(0,s+(Math.random()-.5)*o*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(c).toString(16).padStart(2,"0")}${Math.round(f).toString(16).padStart(2,"0")}`},QQ=(t,e)=>{const s=[0,45,90,135,180,225,270,315];for(const u of s){const c=u*Math.PI/180,f=t.x+Math.cos(c)*200,d=t.y+Math.sin(c)*200;if(!e.some(E=>Math.sqrt(Math.pow(E.position.x-f,2)+Math.pow(E.position.y-d,2))<150))return{x:f,y:d}}const o=Math.random()*2*Math.PI;return{x:t.x+Math.cos(o)*(200+Math.random()*100),y:t.y+Math.sin(o)*(200+Math.random()*100)}},WQ=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ZQ=(t,e)=>`edge_${t}_${e}`,JQ=(t,e,n,r,s,o,u)=>({id:WQ(),type:"draggableEditable",position:t,draggable:!0,data:{label:e,title:e,summary:r,full_text:n,suggestions:[],myColor:s,tokenColors:{},previousNode:u}}),eW=(t,e,n,r)=>({id:ZQ(t,e),source:t,target:e,sourceHandle:r,targetHandle:null,style:{stroke:n,strokeWidth:3},markerEnd:{type:rf.ArrowClosed,color:n}}),ZO=U.createContext(null),tW=({children:t,nodes:e,onNodesChange:n,onEdgesChange:r,setNodes:s,showExplanation:o})=>{const u=U.useCallback((c,f,d,m,E,_,b)=>{const w=e.find(G=>G.id===f);if(!w)return null;const x=w.data.tokenColors||{},k=c.myConcept||c.word;if(x[k])return console.log(`Token "${k}" is already colored, ignoring click`),null;let D;m==="staticEditable"?D=XC():D=E?XQ(E):XC();const z={...x};c.myConcept?z[c.myConcept]=D:z[c.word]=D,s(G=>G.map(R=>R.id===f?{...R,data:{...R.data,tokenColors:z}}:R));const Y=QQ(d,e),j=JQ(Y,"Loading...","Loading...","Loading...",D,m,f);j.data.isLoading=!0;const Z=eW(f,j.id,D,b);return n([{type:"add",item:j}]),r([{type:"add",item:Z}]),BQ(c.word,_||"").then(G=>{const R=G.firstResponse?.response||c.word,N=G.secondResponse?.response||c.word,O=G.thirdResponse?.response||{};s(M=>M.map(B=>B.id===j.id?{...B,data:{...B.data,label:N,title:c.word,summary:N,full_text:R,suggestions:O,isLoading:!1}}:B))}).catch(()=>{s(G=>G.map(R=>R.id===j.id?{...R,data:{...R.data,label:c.word,title:c.word,summary:c.word,full_text:c.word,suggestions:[],isLoading:!1}}:R))}),D},[e,n,r,s]);return te.jsx(ZO.Provider,{value:{handleTokenClick:u,setNodes:s,showExplanation:o},children:t})},JO=()=>{const t=U.useContext(ZO);if(!t)throw new Error("useTokenInteraction must be used within a TokenInteractionProvider");return t},eD=({size:t="medium",color:e="#4f86f7"})=>te.jsx("div",{className:`loading-spinner ${t}`,children:te.jsx("div",{className:"spinner-ring",style:{borderTopColor:e}})});function nW({data:t,id:e}){const[n,r]=U.useState(!1),[s,o]=U.useState(t.summary||t.label||"Static Node"),[u,c]=U.useState(!1),{handleTokenClick:f,showExplanation:d}=JO(),{getNode:m,setViewport:E}=Sf();U.useEffect(()=>{n||o(t.summary||t.label||"Static Node")},[t.summary,t.label,n]);const _=U.useMemo(()=>WO(s),[s]),b=U.useCallback((N,O)=>{O.stopPropagation(),console.log("Static Token clicked:",N),f(N,e,{x:0,y:0},"staticEditable",t.myColor,t.summary||t.label||"Draggable Node",N.suggestionId)},[e,f,t.myColor]),w=U.useCallback(N=>{N.stopPropagation(),r(!0)},[]),x=U.useCallback(()=>{r(!1)},[]),k=U.useCallback(N=>{N.stopPropagation()},[]),D=U.useCallback(N=>{N.stopPropagation(),N.key==="Enter"&&x(),N.key==="Escape"&&(o(t.summary||t.label||"Static Node"),r(!1))},[x,t.summary,t.label]),z=U.useCallback(N=>{N.stopPropagation(),c(!u)},[u]),Y=U.useCallback(N=>{N.stopPropagation(),d&&d(s,t.full_text||"No detailed information available.")},[d,s,t.full_text]),j=U.useCallback(N=>{if(N.stopPropagation(),t.previousNode){const O=m(t.previousNode);if(O){const{x:M,y:B}=O.position;E({x:-M+200,y:-B+100,zoom:1},{duration:500})}}},[t.previousNode,m,E]),Z=U.useMemo(()=>{const N=t.tokenColors||{};return _.map((O,M)=>{const B=O.myConcept||O.word,V=N[B],C=!V;return te.jsxs("span",{className:`word-token ${C?"":"disabled"} ${O.myConcept?"concept-highlight":""}`,style:{backgroundColor:V||"transparent",color:V?t.myColor||"#ffffff":"inherit",border:V?`1px solid ${V}`:""},onClick:L=>C?b(O,L):L.stopPropagation(),children:[O.word,M<_.length-1?" ":""]},M)})},[_,b,t.tokenColors,t.myColor]),G=U.useMemo(()=>te.jsxs("div",{className:"node-buttons",children:[t.previousNode&&te.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:j,title:"Go to previous node",children:""}),_.length>5&&te.jsx("button",{className:"node-expand-btn",onClick:z,title:u?"Show less":"Show more",children:u?"":"+"}),te.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:Y,title:"Show full text",children:""})]}),[_.length,z,u,Y,t.previousNode,j]),R=U.useMemo(()=>t.isLoading?te.jsxs("div",{className:"node-loading-content",children:[te.jsx(eD,{size:"small",color:t.myColor||"#4f86f7"}),te.jsx("span",{className:"loading-text",children:"Loading concept..."})]}):n?te.jsx("input",{type:"text",value:s,onChange:N=>o(N.target.value),onBlur:x,onKeyDown:D,onClick:k,className:"node-input nodrag",autoFocus:!0}):te.jsxs("div",{className:"node-layout",children:[te.jsx("div",{className:"node-header",children:te.jsx("div",{className:"node-title",children:t.title||"Node"})}),te.jsxs("div",{className:"node-main-content",children:[te.jsx("div",{className:"node-summary-section",children:te.jsxs("div",{className:"node-summary-text",onClick:w,children:[Z,_.length>5&&!u&&te.jsx("span",{className:"token-truncation",children:"..."})]})}),te.jsx("div",{className:"node-suggestions-list",children:t.suggestions&&t.suggestions.length>0?t.suggestions.map((N,O)=>{const B=(t.tokenColors||{})[N],V=!B;return te.jsxs("span",{className:`word-token ${V?"":"disabled"}`,style:{backgroundColor:B||"transparent",color:B?t.myColor||"#ffffff":"inherit",border:B?`1px solid ${B}`:""},onClick:C=>V?b({word:N,myConcept:N,suggestionId:t.label+N+O},C):C.stopPropagation(),children:[N,O<t.suggestions.length-1?" ":"",te.jsx(Cr,{type:"source",position:ze.Right,id:t.label+N+O})]},O)}):te.jsx("div",{className:"node-suggestions-empty",children:"No suggestions"})})]}),G]}),[n,s,u,_.length,w,x,D,k,Z,G]);return te.jsxs("div",{className:"static-editable-node nodrag",style:{backgroundColor:t.myColor,color:t.myColor?qm(t.myColor):"",border:t.myColor?`2px solid ${Ym(t.myColor,20)}`:""},children:[te.jsx("div",{className:"node-content",children:R}),te.jsx(Cr,{type:"source",position:ze.Bottom,id:"bottom-source"}),te.jsx(Cr,{type:"target",position:ze.Bottom,id:"bottom-target"})]})}function rW({data:t,id:e}){const[n,r]=U.useState(!1),[s,o]=U.useState(t.summary||t.label||"Draggable Node"),[u,c]=U.useState(t.expanded||!1),{getNodes:f,getNode:d,setViewport:m}=Sf(),{handleTokenClick:E,showExplanation:_}=JO();U.useEffect(()=>{n||o(t.summary||t.label||"Draggable Node")},[t.summary,t.label,n]);const b=U.useMemo(()=>WO(s),[s]),w=U.useMemo(()=>u||b.length<=5?b:b.slice(0,5),[b,u]),x=U.useCallback(()=>!0,[]),k=U.useCallback((M,B)=>{B.stopPropagation();const C=f().find(K=>K.id===e);return C?E(M,e,C.position,C.type||"draggableEditable",t.myColor,t.summary||t.label||"Draggable Node"):void 0},[e,f,E,t.myColor]),D=U.useCallback(M=>{M.stopPropagation(),r(!0)},[]),z=U.useCallback(()=>{r(!1)},[]),Y=U.useCallback(M=>{M.stopPropagation()},[]),j=U.useCallback(M=>{M.stopPropagation(),M.key==="Enter"&&z(),M.key==="Escape"&&(o(t.summary||t.label||"Draggable Node"),r(!1))},[z,t.summary,t.label]),Z=U.useCallback(M=>{M.stopPropagation(),c(!u),!u&&t.onExpand&&t.onExpand()},[u,t.onExpand]),G=U.useCallback(M=>{M.stopPropagation(),_&&_(s,t.full_text||"No detailed information available.")},[_,s,t.full_text]),R=U.useCallback(M=>{if(M.stopPropagation(),t.previousNode){const B=d(t.previousNode);if(B){const{x:V,y:C}=B.position;m({x:-V+200,y:-C+100,zoom:1},{duration:500})}}},[t.previousNode,d,m]),N=U.useMemo(()=>{const M={};return w.forEach(B=>{const V=B.myConcept||B.word;M[V]||(M[V]=[]),M[V].push(B)}),M},[w]),O=U.useMemo(()=>t.isLoading?te.jsxs("div",{className:"node-loading-content",children:[te.jsx(eD,{size:"small",color:t.myColor||"#4f86f7"}),te.jsx("span",{className:"loading-text",children:"Loading concept..."})]}):n?te.jsx("input",{type:"text",value:s,onChange:M=>o(M.target.value),onBlur:z,onKeyDown:j,onClick:Y,className:"node-input nodrag",autoFocus:!0}):te.jsxs("div",{className:"node-layout",children:[te.jsxs("div",{className:"node-header",children:[te.jsx("div",{className:"node-title",children:t.title||"Node"}),te.jsxs("div",{className:"node-buttons",children:[t.previousNode&&te.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:R,title:"Go to previous node",children:""}),b.length>5&&te.jsx("button",{className:"node-expand-btn",onClick:Z,title:u?"Show less":"Show more",children:u?"":"+"}),te.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:G,title:"Show full text",children:""})]})]}),te.jsx("div",{className:"node-main-content",children:te.jsx("div",{className:"node-summary-section",children:te.jsxs("div",{className:"node-summary-text",onClick:D,children:[w.map((M,B)=>{const V=t.tokenColors||{},C=M.myConcept||M.word,L=V[C],K=x()&&!L;return te.jsxs("span",{className:`word-token ${K?"":"disabled"} ${M.myConcept?"concept-highlight":""}`,style:{backgroundColor:L||"transparent",color:L?qm(L):"inherit",border:L?`1px solid ${Ym(L,20)}`:""},onClick:H=>K?k(M,H):H.stopPropagation(),children:[M.word,B<w.length-1?" ":""]},B)}),b.length>5&&!u&&te.jsx("span",{className:"token-truncation",children:"..."})]})})}),te.jsxs("div",{className:"node-suggestions-section",children:[te.jsx("div",{className:"node-suggestions-header",children:"Suggestions"}),te.jsx("div",{className:"node-suggestions-list",children:t.suggestions&&t.suggestions.length>0?t.suggestions.map((M,B)=>{const C=(t.tokenColors||{})[M],L=x()&&!C;return te.jsxs("span",{className:`suggestion-token ${L?"":"disabled"}`,style:{backgroundColor:C||"transparent",color:C?qm(C):"inherit",border:C?`1px solid ${Ym(C,20)}`:""},onClick:K=>L?k({word:M,myConcept:M,suggestionId:t.label+M+B},K):K.stopPropagation(),children:[M,te.jsx(Cr,{type:"source",position:ze.Right,id:t.label+M+B})]},B)}):te.jsx("div",{className:"node-suggestions-empty",children:"No suggestions"})})]})]}),[n,s,w,b,u,N,D,z,j,Y,Z,G,k,x,t.previousNode,R,t.tokenColors,t.myColor,t.isLoading]);return te.jsxs("div",{className:"draggable-editable-node",style:{background:t.myColor,color:t.myColor?qm(t.myColor):"",border:t.myColor?`2px solid ${Ym(t.myColor,20)}`:""},children:[te.jsx("div",{className:"node-content",children:O}),te.jsx(Cr,{type:"source",position:ze.Bottom,id:"bottom-source"}),te.jsx(Cr,{type:"target",position:ze.Bottom,id:"bottom-target"}),te.jsx(Cr,{type:"source",position:ze.Top,id:"top-source"}),te.jsx(Cr,{type:"target",position:ze.Top,id:"top-target"}),te.jsx(Cr,{type:"source",position:ze.Left,id:"left-source"}),te.jsx(Cr,{type:"target",position:ze.Left,id:"left-target"}),te.jsx(Cr,{type:"source",position:ze.Right,id:"right-source"}),te.jsx(Cr,{type:"target",position:ze.Right,id:"right-target"})]})}const iW={staticEditable:nW,draggableEditable:rW};function sW(){const[t,e]=U.useState("boards"),[n,r]=U.useState(null),{user:s,signOut:o}=UQ(),{notifications:u,removeNotification:c,showSuccess:f,showError:d,showInfo:m}=KQ(),{nodes:E,edges:_,allBoards:b,currentBoard:w,isSwitchingBoard:x,isSaving:k,onNodesChange:D,onEdgesChange:z,setNodes:Y,switchToBoard:j,createNewBoard:Z,deleteBoard:G,updateBoardName:R,clearBoardState:N}=$Q(s,{showSuccess:f,showError:d,showInfo:m});GQ({allBoards:b,currentBoard:w,createNewBoard:Z,switchToBoard:j});const O=async()=>{await o(),N()},M=U.useCallback((C,L)=>{r({title:C,text:L}),e("explanation")},[]),B=U.useCallback(C=>{e(C)},[]),V=U.useCallback(C=>{const L={id:`e${C.source}-${C.target}`,source:C.source,target:C.target,sourceHandle:C.sourceHandle,targetHandle:C.targetHandle};z([{type:"add",item:L}])},[z]);return s?te.jsxs("div",{className:"app-layout",style:{height:"100vh",width:"100vw"},children:[te.jsx(MQ,{notifications:u,onRemove:c}),te.jsx("div",{style:{height:"100%"},children:te.jsxs(OE,{defaultSizes:[420,1e3],children:[te.jsx(OE.Pane,{minSize:240,maxSize:860,children:te.jsx(DQ,{allBoards:b,currentBoard:w,onSwitchBoard:j,onCreateBoard:async C=>{await Z(C)},onDeleteBoard:G,onSignOut:O,isLoading:x,isCollapsed:!1,onToggleSidebar:()=>{},mode:t,onModeChange:B,explanation:n})}),te.jsx(OE.Pane,{children:te.jsxs("div",{className:"main-content-pane",style:{height:"100%"},children:[te.jsx(kQ,{name:w?.name||"Loading...",onSetName:R,user:s,isSaving:k,sidebarCollapsed:!1}),te.jsx("div",{className:"reactflow-container",style:{height:"calc(100% - 56px)"},children:te.jsx(tW,{nodes:E,onNodesChange:D,onEdgesChange:z,setNodes:Y,showExplanation:M,children:te.jsxs(px,{nodes:E,edges:_,onNodesChange:D,onEdgesChange:z,onConnect:V,nodeTypes:iW,connectionMode:po.Loose,fitView:!0,children:[te.jsx(v5,{}),te.jsx(x5,{variant:qi.Cross,gap:30,size:10,lineWidth:.5,color:"#616161"})]})})})]})})]})})]}):te.jsx(yF,{})}function aW(){return te.jsx(sW,{})}const tD=document.getElementById("root");if(!tD)throw new Error("Failed to find the root element");L6.createRoot(tD).render(te.jsx(U.StrictMode,{children:te.jsx(aW,{})}));
