function v6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function hm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zg={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function A6(){if(rv)return Wc;rv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Wc.Fragment=e,Wc.jsx=n,Wc.jsxs=n,Wc}var iv;function S6(){return iv||(iv=1,Zg.exports=A6()),Zg.exports}var L=S6(),Jg={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function x6(){if(sv)return tt;sv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,R={};function P(A,ee,ae){this.props=A,this.context=ee,this.refs=R,this.updater=ae||T}P.prototype.isReactComponent={},P.prototype.setState=function(A,ee){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,ee,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function D(){}D.prototype=P.prototype;function Y(A,ee,ae){this.props=A,this.context=ee,this.refs=R,this.updater=ae||T}var $=Y.prototype=new D;$.constructor=Y,w($,P.prototype),$.isPureReactComponent=!0;var G=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function M(A,ee,ae,I,oe,Ee){return ae=Ee.ref,{$$typeof:t,type:A,key:ee,ref:ae!==void 0?ae:null,props:Ee}}function N(A,ee){return M(A.type,ee,void 0,void 0,void 0,A.props)}function k(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function U(A){var ee={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return ee[ae]})}var B=/\/+/g;function V(A,ee){return typeof A=="object"&&A!==null&&A.key!=null?U(""+A.key):ee.toString(36)}function C(){}function O(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(C,C):(A.status="pending",A.then(function(ee){A.status==="pending"&&(A.status="fulfilled",A.value=ee)},function(ee){A.status==="pending"&&(A.status="rejected",A.reason=ee)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function X(A,ee,ae,I,oe){var Ee=typeof A;(Ee==="undefined"||Ee==="boolean")&&(A=null);var pe=!1;if(A===null)pe=!0;else switch(Ee){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(A.$$typeof){case t:case e:pe=!0;break;case p:return pe=A._init,X(pe(A._payload),ee,ae,I,oe)}}if(pe)return oe=oe(A),pe=I===""?"."+V(A,0):I,G(oe)?(ae="",pe!=null&&(ae=pe.replace(B,"$&/")+"/"),X(oe,ee,ae,"",function(Le){return Le})):oe!=null&&(k(oe)&&(oe=N(oe,ae+(oe.key==null||A&&A.key===oe.key?"":(""+oe.key).replace(B,"$&/")+"/")+pe)),ee.push(oe)),1;pe=0;var we=I===""?".":I+":";if(G(A))for(var Ce=0;Ce<A.length;Ce++)I=A[Ce],Ee=we+V(I,Ce),pe+=X(I,ee,ae,Ee,oe);else if(Ce=b(A),typeof Ce=="function")for(A=Ce.call(A),Ce=0;!(I=A.next()).done;)I=I.value,Ee=we+V(I,Ce++),pe+=X(I,ee,ae,Ee,oe);else if(Ee==="object"){if(typeof A.then=="function")return X(O(A),ee,ae,I,oe);throw ee=String(A),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return pe}function F(A,ee,ae){if(A==null)return A;var I=[],oe=0;return X(A,I,"","",function(Ee){return ee.call(ae,Ee,oe++)}),I}function J(A){if(A._status===-1){var ee=A._result;ee=ee(),ee.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=ee)}if(A._status===1)return A._result.default;throw A._result}var se=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function re(){}return tt.Children={map:F,forEach:function(A,ee,ae){F(A,function(){ee.apply(this,arguments)},ae)},count:function(A){var ee=0;return F(A,function(){ee++}),ee},toArray:function(A){return F(A,function(ee){return ee})||[]},only:function(A){if(!k(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},tt.Component=P,tt.Fragment=n,tt.Profiler=s,tt.PureComponent=Y,tt.StrictMode=r,tt.Suspense=f,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,tt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return te.H.useMemoCache(A)}},tt.cache=function(A){return function(){return A.apply(null,arguments)}},tt.cloneElement=function(A,ee,ae){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var I=w({},A.props),oe=A.key,Ee=void 0;if(ee!=null)for(pe in ee.ref!==void 0&&(Ee=void 0),ee.key!==void 0&&(oe=""+ee.key),ee)!q.call(ee,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ee.ref===void 0||(I[pe]=ee[pe]);var pe=arguments.length-2;if(pe===1)I.children=ae;else if(1<pe){for(var we=Array(pe),Ce=0;Ce<pe;Ce++)we[Ce]=arguments[Ce+2];I.children=we}return M(A.type,oe,void 0,void 0,Ee,I)},tt.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},tt.createElement=function(A,ee,ae){var I,oe={},Ee=null;if(ee!=null)for(I in ee.key!==void 0&&(Ee=""+ee.key),ee)q.call(ee,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(oe[I]=ee[I]);var pe=arguments.length-2;if(pe===1)oe.children=ae;else if(1<pe){for(var we=Array(pe),Ce=0;Ce<pe;Ce++)we[Ce]=arguments[Ce+2];oe.children=we}if(A&&A.defaultProps)for(I in pe=A.defaultProps,pe)oe[I]===void 0&&(oe[I]=pe[I]);return M(A,Ee,void 0,void 0,null,oe)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(A){return{$$typeof:c,render:A}},tt.isValidElement=k,tt.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:J}},tt.memo=function(A,ee){return{$$typeof:h,type:A,compare:ee===void 0?null:ee}},tt.startTransition=function(A){var ee=te.T,ae={};te.T=ae;try{var I=A(),oe=te.S;oe!==null&&oe(ae,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(re,se)}catch(Ee){se(Ee)}finally{te.T=ee}},tt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},tt.use=function(A){return te.H.use(A)},tt.useActionState=function(A,ee,ae){return te.H.useActionState(A,ee,ae)},tt.useCallback=function(A,ee){return te.H.useCallback(A,ee)},tt.useContext=function(A){return te.H.useContext(A)},tt.useDebugValue=function(){},tt.useDeferredValue=function(A,ee){return te.H.useDeferredValue(A,ee)},tt.useEffect=function(A,ee,ae){var I=te.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(A,ee)},tt.useId=function(){return te.H.useId()},tt.useImperativeHandle=function(A,ee,ae){return te.H.useImperativeHandle(A,ee,ae)},tt.useInsertionEffect=function(A,ee){return te.H.useInsertionEffect(A,ee)},tt.useLayoutEffect=function(A,ee){return te.H.useLayoutEffect(A,ee)},tt.useMemo=function(A,ee){return te.H.useMemo(A,ee)},tt.useOptimistic=function(A,ee){return te.H.useOptimistic(A,ee)},tt.useReducer=function(A,ee,ae){return te.H.useReducer(A,ee,ae)},tt.useRef=function(A){return te.H.useRef(A)},tt.useState=function(A){return te.H.useState(A)},tt.useSyncExternalStore=function(A,ee,ae){return te.H.useSyncExternalStore(A,ee,ae)},tt.useTransition=function(){return te.H.useTransition()},tt.version="19.1.0",tt}var av;function af(){return av||(av=1,Jg.exports=x6()),Jg.exports}var Z=af();const be=hm(Z),w6=v6({__proto__:null,default:be},[Z]);var ey={exports:{}},Zc={},ty={exports:{}},ny={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function C6(){return ov||(ov=1,function(t){function e(F,J){var se=F.length;F.push(J);e:for(;0<se;){var re=se-1>>>1,A=F[re];if(0<s(A,J))F[re]=J,F[se]=A,se=re;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var J=F[0],se=F.pop();if(se!==J){F[0]=se;e:for(var re=0,A=F.length,ee=A>>>1;re<ee;){var ae=2*(re+1)-1,I=F[ae],oe=ae+1,Ee=F[oe];if(0>s(I,se))oe<A&&0>s(Ee,I)?(F[re]=Ee,F[oe]=se,re=oe):(F[re]=I,F[ae]=se,re=ae);else if(oe<A&&0>s(Ee,se))F[re]=Ee,F[oe]=se,re=oe;else break e}}return J}function s(F,J){var se=F.sortIndex-J.sortIndex;return se!==0?se:F.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],h=[],p=1,y=null,b=3,T=!1,w=!1,R=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function G(F){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=F)r(h),J.sortIndex=J.expirationTime,e(f,J);else break;J=n(h)}}function te(F){if(R=!1,G(F),!w)if(n(f)!==null)w=!0,q||(q=!0,V());else{var J=n(h);J!==null&&X(te,J.startTime-F)}}var q=!1,M=-1,N=5,k=-1;function U(){return P?!0:!(t.unstable_now()-k<N)}function B(){if(P=!1,q){var F=t.unstable_now();k=F;var J=!0;try{e:{w=!1,R&&(R=!1,Y(M),M=-1),T=!0;var se=b;try{t:{for(G(F),y=n(f);y!==null&&!(y.expirationTime>F&&U());){var re=y.callback;if(typeof re=="function"){y.callback=null,b=y.priorityLevel;var A=re(y.expirationTime<=F);if(F=t.unstable_now(),typeof A=="function"){y.callback=A,G(F),J=!0;break t}y===n(f)&&r(f),G(F)}else r(f);y=n(f)}if(y!==null)J=!0;else{var ee=n(h);ee!==null&&X(te,ee.startTime-F),J=!1}}break e}finally{y=null,b=se,T=!1}J=void 0}}finally{J?V():q=!1}}}var V;if(typeof $=="function")V=function(){$(B)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,O=C.port2;C.port1.onmessage=B,V=function(){O.postMessage(null)}}else V=function(){D(B,0)};function X(F,J){M=D(function(){F(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(F){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var se=b;b=J;try{return F()}finally{b=se}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(F,J){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var se=b;b=F;try{return J()}finally{b=se}},t.unstable_scheduleCallback=function(F,J,se){var re=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?re+se:re):se=re,F){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=se+A,F={id:p++,callback:J,priorityLevel:F,startTime:se,expirationTime:A,sortIndex:-1},se>re?(F.sortIndex=se,e(h,F),n(f)===null&&F===n(h)&&(R?(Y(M),M=-1):R=!0,X(te,se-re))):(F.sortIndex=A,e(f,F),w||T||(w=!0,q||(q=!0,V()))),F},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(F){var J=b;return function(){var se=b;b=J;try{return F.apply(this,arguments)}finally{b=se}}}}(ny)),ny}var uv;function I6(){return uv||(uv=1,ty.exports=C6()),ty.exports}var ry={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function N6(){if(lv)return Qn;lv=1;var t=af();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:h,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},Qn.flushSync=function(f){var h=u.T,p=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=p,r.d.f()}},Qn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Qn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Qn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:T}):p==="script"&&r.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Qn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Qn.requestFormReset=function(f){r.d.r(f)},Qn.unstable_batchedUpdates=function(f,h){return f(h)},Qn.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},Qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Qn.version="19.1.0",Qn}var cv;function rw(){if(cv)return ry.exports;cv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ry.exports=N6(),ry.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function R6(){if(dv)return Zc;dv=1;var t=I6(),e=af(),n=rw();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,d=a;;){var g=l.return;if(g===null)break;var E=g.alternate;if(E===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===l)return c(g),i;if(E===d)return c(g),a;E=E.sibling}throw Error(r(188))}if(l.return!==d.return)l=g,d=E;else{for(var x=!1,H=g.child;H;){if(H===l){x=!0,l=g,d=E;break}if(H===d){x=!0,d=g,l=E;break}H=H.sibling}if(!x){for(H=E.child;H;){if(H===l){x=!0,l=E,d=g;break}if(H===d){x=!0,d=E,l=g;break}H=H.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),$=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function O(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case P:return"Profiler";case R:return"StrictMode";case te:return"Suspense";case q:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case $:return(i.displayName||"Context")+".Provider";case Y:return(i._context.displayName||"Context")+".Consumer";case G:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return a=i.displayName||null,a!==null?a:O(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return O(i(a))}catch{}}return null}var X=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},re=[],A=-1;function ee(i){return{current:i}}function ae(i){0>A||(i.current=re[A],re[A]=null,A--)}function I(i,a){A++,re[A]=i.current,i.current=a}var oe=ee(null),Ee=ee(null),pe=ee(null),we=ee(null);function Ce(i,a){switch(I(pe,a),I(Ee,i),I(oe,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?k2(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=k2(a),i=D2(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(oe),I(oe,i)}function Le(){ae(oe),ae(Ee),ae(pe)}function Ve(i){i.memoizedState!==null&&I(we,i);var a=oe.current,l=D2(a,i.type);a!==l&&(I(Ee,i),I(oe,l))}function ct(i){Ee.current===i&&(ae(oe),ae(Ee)),we.current===i&&(ae(we),Gc._currentValue=se)}var Tt=Object.prototype.hasOwnProperty,Ze=t.unstable_scheduleCallback,pt=t.unstable_cancelCallback,gt=t.unstable_shouldYield,Xt=t.unstable_requestPaint,Qe=t.unstable_now,Oe=t.unstable_getCurrentPriorityLevel,zt=t.unstable_ImmediatePriority,vn=t.unstable_UserBlockingPriority,un=t.unstable_NormalPriority,ir=t.unstable_LowPriority,Hn=t.unstable_IdlePriority,Vn=t.log,Ar=t.unstable_setDisableYieldValue,he=null,Te=null;function Be(i){if(typeof Vn=="function"&&Ar(i),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(he,i)}catch{}}var Fe=Math.clz32?Math.clz32:Mt,at=Math.log,vt=Math.LN2;function Mt(i){return i>>>=0,i===0?32:31-(at(i)/vt|0)|0}var jt=256,ln=4194304;function Gt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function St(i,a,l){var d=i.pendingLanes;if(d===0)return 0;var g=0,E=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var H=d&134217727;return H!==0?(d=H&~E,d!==0?g=Gt(d):(x&=H,x!==0?g=Gt(x):l||(l=H&~i,l!==0&&(g=Gt(l))))):(H=d&~E,H!==0?g=Gt(H):x!==0?g=Gt(x):l||(l=d&~i,l!==0&&(g=Gt(l)))),g===0?0:a!==0&&a!==g&&(a&E)===0&&(E=g&-g,l=a&-a,E>=l||E===32&&(l&4194048)!==0)?a:g}function en(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function An(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(){var i=jt;return jt<<=1,(jt&4194048)===0&&(jt=256),i}function hi(){var i=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),i}function Sr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Yr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xr(i,a,l,d,g,E){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var H=i.entanglements,W=i.expirationTimes,de=i.hiddenUpdates;for(l=x&~l;0<l;){var _e=31-Fe(l),Ae=1<<_e;H[_e]=0,W[_e]=-1;var fe=de[_e];if(fe!==null)for(de[_e]=null,_e=0;_e<fe.length;_e++){var me=fe[_e];me!==null&&(me.lane&=-536870913)}l&=~Ae}d!==0&&Gr(i,d,0),E!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=E&~(x&~a))}function Gr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var d=31-Fe(a);i.entangledLanes|=a,i.entanglements[d]=i.entanglements[d]|1073741824|l&4194090}function eo(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var d=31-Fe(l),g=1<<d;g&a|i[d]&a&&(i[d]|=a),l&=~g}}function Ni(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Gs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ri(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:W2(i.type))}function iu(i,a){var l=J.p;try{return J.p=i,a()}finally{J.p=l}}var Bt=Math.random().toString(36).slice(2),cn="__reactFiber$"+Bt,tn="__reactProps$"+Bt,cr="__reactContainer$"+Bt,to="__reactEvents$"+Bt,Zl="__reactListeners$"+Bt,ki="__reactHandles$"+Bt,su="__reactResources$"+Bt,ds="__reactMarker$"+Bt;function Di(i){delete i[cn],delete i[tn],delete i[to],delete i[Zl],delete i[ki]}function $r(i){var a=i[cn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[cr]||l[cn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=M2(i);i!==null;){if(l=i[cn])return l;i=M2(i)}return a}i=l,l=i.parentNode}return null}function Kr(i){if(i=i[cn]||i[cr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Xr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Fn(i){var a=i[su];return a||(a=i[su]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Qt(i){i[ds]=!0}var no=new Set,$s={};function wr(i,a){mi(i,a),mi(i+"Capture",a)}function mi(i,a){for($s[i]=a,i=0;i<a.length;i++)no.add(a[i])}var ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},fs={};function ou(i){return Tt.call(fs,i)?!0:Tt.call(au,i)?!1:ro.test(i)?fs[i]=!0:(au[i]=!0,!1)}function Oi(i,a,l){if(ou(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Qr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Sn(i,a,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+d)}}var Li,uu;function pi(i){if(Li===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Li=a&&a[1]||"",uu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+i+uu}var Ks=!1;function Pi(i,a){if(!i||Ks)return"";Ks=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(me){var fe=me}Reflect.construct(i,[],Ae)}else{try{Ae.call()}catch(me){fe=me}i.call(Ae.prototype)}}else{try{throw Error()}catch(me){fe=me}(Ae=i())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=d.DetermineComponentFrameRoot(),x=E[0],H=E[1];if(x&&H){var W=x.split(`
`),de=H.split(`
`);for(g=d=0;d<W.length&&!W[d].includes("DetermineComponentFrameRoot");)d++;for(;g<de.length&&!de[g].includes("DetermineComponentFrameRoot");)g++;if(d===W.length||g===de.length)for(d=W.length-1,g=de.length-1;1<=d&&0<=g&&W[d]!==de[g];)g--;for(;1<=d&&0<=g;d--,g--)if(W[d]!==de[g]){if(d!==1||g!==1)do if(d--,g--,0>g||W[d]!==de[g]){var _e=`
`+W[d].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=d&&0<=g);break}}}finally{Ks=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?pi(l):""}function Jl(i){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Pi(i.type,!1);case 11:return Pi(i.type.render,!1);case 1:return Pi(i.type,!0);case 31:return pi("Activity");default:return""}}function lu(i){try{var a="";do a+=Jl(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function sr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ec(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function np(i){var a=ec(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),d=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,E=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){d=""+x,E.call(this,x)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function cu(i){i._valueTracker||(i._valueTracker=np(i))}function tc(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return i&&(d=ec(i)?i.checked?"true":"false":i.value),i=d,i!==l?(a.setValue(i),!0):!1}function io(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var rp=/[\n"\\]/g;function pn(i){return i.replace(rp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Cr(i,a,l,d,g,E,x,H){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),a!=null?x==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+sr(a)):i.value!==""+sr(a)&&(i.value=""+sr(a)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),a!=null?Xs(i,x,sr(a)):l!=null?Xs(i,x,sr(l)):d!=null&&i.removeAttribute("value"),g==null&&E!=null&&(i.defaultChecked=!!E),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.name=""+sr(H):i.removeAttribute("name")}function so(i,a,l,d,g,E,x,H){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.type=E),a!=null||l!=null){if(!(E!=="submit"&&E!=="reset"||a!=null))return;l=l!=null?""+sr(l):"",a=a!=null?""+sr(a):l,H||a===i.value||(i.value=a),i.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=H?i.checked:!!d,i.defaultChecked=!!d,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function Xs(i,a,l){a==="number"&&io(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function hs(i,a,l,d){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&d&&(i[l].defaultSelected=!0)}else{for(l=""+sr(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,d&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function kt(i,a,l){if(a!=null&&(a=""+sr(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+sr(l):""}function ao(i,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(r(92));if(X(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=sr(a),i.defaultValue=l,d=i.textContent,d===l&&d!==""&&d!==null&&(i.value=d)}function Wr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function If(i,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":d?i.setProperty(a,l):typeof l!="number"||l===0||oo.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function nc(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&l[g]!==d&&If(i,g,d)}else for(var E in a)a.hasOwnProperty(E)&&If(i,E,a[E])}function rc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function du(i){return sp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ms=null;function Zr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ps=null,gs=null;function ic(i){var a=Kr(i);if(a&&(i=a.stateNode)){var l=i[tn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Cr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==i&&d.form===i.form){var g=d[tn]||null;if(!g)throw Error(r(90));Cr(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===i.form&&tc(d)}break e;case"textarea":kt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&hs(i,!!l.multiple,a,!1)}}}var Mi=!1;function Nf(i,a,l){if(Mi)return i(a,l);Mi=!0;try{var d=i(a);return d}finally{if(Mi=!1,(ps!==null||gs!==null)&&(vh(),ps&&(a=ps,i=gs,gs=ps=null,ic(a),i)))for(a=0;a<i.length;a++)ic(i[a])}}function uo(i,a){var l=i.stateNode;if(l===null)return null;var d=l[tn]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=!1;if(gi)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Jr=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Jr=!1}var Bi=null,Qs=null,ys=null;function sc(){if(ys)return ys;var i,a=Qs,l=a.length,d,g="value"in Bi?Bi.value:Bi.textContent,E=g.length;for(i=0;i<l&&a[i]===g[i];i++);var x=l-i;for(d=1;d<=x&&a[l-d]===g[E-d];d++);return ys=g.slice(i,1<d?1-d:void 0)}function Ui(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Hi(){return!0}function ac(){return!1}function Rn(i){function a(l,d,g,E,x){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=E,this.target=x,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(l=i[H],this[H]=l?l(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Hi:ac,this.isPropagationStopped=ac,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),a}var Ct={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Rn(Ct),co=p({},Ct,{view:0,detail:0}),Rf=Rn(co),hu,mu,Vi,fo=p({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Vi&&(Vi&&i.type==="mousemove"?(hu=i.screenX-Vi.screenX,mu=i.screenY-Vi.screenY):mu=hu=0,Vi=i),hu)},movementY:function(i){return"movementY"in i?i.movementY:mu}}),ei=Rn(fo),kf=p({},fo,{dataTransfer:0}),ap=Rn(kf),ho=p({},co,{relatedTarget:0}),pu=Rn(ho),oc=p({},Ct,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Rn(oc),Df=p({},Ct,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yu=Rn(Df),op=p({},Ct,{data:0}),uc=Rn(op),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Lf[i])?!!a[i]:!1}function po(){return lc}var Pf=p({},co,{key:function(i){if(i.key){var a=mo[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ui(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Of[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(i){return i.type==="keypress"?Ui(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ui(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Eu=Rn(Pf),Mf=p({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=Rn(Mf),Es=p({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Bf=Rn(Es),Uf=p({},Ct,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hf=Rn(Uf),Vf=p({},fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),_u=Rn(Vf),ar=p({},Ct,{newState:0,oldState:0}),Ff=Rn(ar),zf=[9,13,27,32],Fi=gi&&"CompositionEvent"in window,m=null;gi&&"documentMode"in document&&(m=document.documentMode);var v=gi&&"TextEvent"in window&&!m,S=gi&&(!Fi||m&&8<m&&11>=m),z=" ",ue=!1;function ge(i,a){switch(i){case"keyup":return zf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function De(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yt=!1;function xn(i,a){switch(i){case"compositionend":return De(a);case"keypress":return a.which!==32?null:(ue=!0,z);case"textInput":return i=a.data,i===z&&ue?null:i;default:return null}}function Et(i,a){if(yt)return i==="compositionend"||!Fi&&ge(i,a)?(i=sc(),ys=Qs=Bi=null,yt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!kn[i.type]:a==="textarea"}function _s(i,a,l,d){ps?gs?gs.push(d):gs=[d]:ps=d,a=Ih(a,"onChange"),0<a.length&&(l=new fu("onChange","change",null,l,d),i.push({event:l,listeners:a}))}var zn=null,zi=null;function dc(i){w2(i,0)}function jf(i){var a=Xr(i);if(tc(a))return i}function $_(i,a){if(i==="change")return a}var K_=!1;if(gi){var up;if(gi){var lp="oninput"in document;if(!lp){var X_=document.createElement("div");X_.setAttribute("oninput","return;"),lp=typeof X_.oninput=="function"}up=lp}else up=!1;K_=up&&(!document.documentMode||9<document.documentMode)}function Q_(){zn&&(zn.detachEvent("onpropertychange",W_),zi=zn=null)}function W_(i){if(i.propertyName==="value"&&jf(zi)){var a=[];_s(a,zi,i,Zr(i)),Nf(dc,a)}}function ZR(i,a,l){i==="focusin"?(Q_(),zn=a,zi=l,zn.attachEvent("onpropertychange",W_)):i==="focusout"&&Q_()}function JR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jf(zi)}function e4(i,a){if(i==="click")return jf(a)}function t4(i,a){if(i==="input"||i==="change")return jf(a)}function n4(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ir=typeof Object.is=="function"?Object.is:n4;function fc(i,a){if(Ir(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!Tt.call(a,g)||!Ir(i[g],a[g]))return!1}return!0}function Z_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function J_(i,a){var l=Z_(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=a&&d>=a)return{node:l,offset:a-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Z_(l)}}function eb(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?eb(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function tb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=io(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=io(i.document)}return a}function cp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var r4=gi&&"documentMode"in document&&11>=document.documentMode,bu=null,dp=null,hc=null,fp=!1;function nb(i,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fp||bu==null||bu!==io(d)||(d=bu,"selectionStart"in d&&cp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),hc&&fc(hc,d)||(hc=d,d=Ih(dp,"onSelect"),0<d.length&&(a=new fu("onSelect","select",null,a,l),i.push({event:a,listeners:d}),a.target=bu)))}function go(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Tu={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},hp={},rb={};gi&&(rb=document.createElement("div").style,"AnimationEvent"in window||(delete Tu.animationend.animation,delete Tu.animationiteration.animation,delete Tu.animationstart.animation),"TransitionEvent"in window||delete Tu.transitionend.transition);function yo(i){if(hp[i])return hp[i];if(!Tu[i])return i;var a=Tu[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in rb)return hp[i]=a[l];return i}var ib=yo("animationend"),sb=yo("animationiteration"),ab=yo("animationstart"),i4=yo("transitionrun"),s4=yo("transitionstart"),a4=yo("transitioncancel"),ob=yo("transitionend"),ub=new Map,mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mp.push("scrollEnd");function yi(i,a){ub.set(i,a),wr(a,[i])}var lb=new WeakMap;function ti(i,a){if(typeof i=="object"&&i!==null){var l=lb.get(i);return l!==void 0?l:(a={value:i,source:a,stack:lu(a)},lb.set(i,a),a)}return{value:i,source:a,stack:lu(a)}}var ni=[],vu=0,pp=0;function qf(){for(var i=vu,a=pp=vu=0;a<i;){var l=ni[a];ni[a++]=null;var d=ni[a];ni[a++]=null;var g=ni[a];ni[a++]=null;var E=ni[a];if(ni[a++]=null,d!==null&&g!==null){var x=d.pending;x===null?g.next=g:(g.next=x.next,x.next=g),d.pending=g}E!==0&&cb(l,g,E)}}function Yf(i,a,l,d){ni[vu++]=i,ni[vu++]=a,ni[vu++]=l,ni[vu++]=d,pp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function gp(i,a,l,d){return Yf(i,a,l,d),Gf(i)}function Au(i,a){return Yf(i,null,null,a),Gf(i)}function cb(i,a,l){i.lanes|=l;var d=i.alternate;d!==null&&(d.lanes|=l);for(var g=!1,E=i.return;E!==null;)E.childLanes|=l,d=E.alternate,d!==null&&(d.childLanes|=l),E.tag===22&&(i=E.stateNode,i===null||i._visibility&1||(g=!0)),i=E,E=E.return;return i.tag===3?(E=i.stateNode,g&&a!==null&&(g=31-Fe(l),i=E.hiddenUpdates,d=i[g],d===null?i[g]=[a]:d.push(a),a.lane=l|536870912),E):null}function Gf(i){if(50<Uc)throw Uc=0,vg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Su={};function o4(i,a,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(i,a,l,d){return new o4(i,a,l,d)}function yp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function bs(i,a){var l=i.alternate;return l===null?(l=Nr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function db(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function $f(i,a,l,d,g,E){var x=0;if(d=i,typeof i=="function")yp(i)&&(x=1);else if(typeof i=="string")x=l6(i,l,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Nr(31,l,a,g),i.elementType=k,i.lanes=E,i;case w:return Eo(l.children,g,E,a);case R:x=8,g|=24;break;case P:return i=Nr(12,l,a,g|2),i.elementType=P,i.lanes=E,i;case te:return i=Nr(13,l,a,g),i.elementType=te,i.lanes=E,i;case q:return i=Nr(19,l,a,g),i.elementType=q,i.lanes=E,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case $:x=10;break e;case Y:x=9;break e;case G:x=11;break e;case M:x=14;break e;case N:x=16,d=null;break e}x=29,l=Error(r(130,i===null?"null":typeof i,"")),d=null}return a=Nr(x,l,a,g),a.elementType=i,a.type=d,a.lanes=E,a}function Eo(i,a,l,d){return i=Nr(7,i,d,a),i.lanes=l,i}function Ep(i,a,l){return i=Nr(6,i,null,a),i.lanes=l,i}function _p(i,a,l){return a=Nr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var xu=[],wu=0,Kf=null,Xf=0,ri=[],ii=0,_o=null,Ts=1,vs="";function bo(i,a){xu[wu++]=Xf,xu[wu++]=Kf,Kf=i,Xf=a}function fb(i,a,l){ri[ii++]=Ts,ri[ii++]=vs,ri[ii++]=_o,_o=i;var d=Ts;i=vs;var g=32-Fe(d)-1;d&=~(1<<g),l+=1;var E=32-Fe(a)+g;if(30<E){var x=g-g%5;E=(d&(1<<x)-1).toString(32),d>>=x,g-=x,Ts=1<<32-Fe(a)+g|l<<g|d,vs=E+i}else Ts=1<<E|l<<g|d,vs=i}function bp(i){i.return!==null&&(bo(i,1),fb(i,1,0))}function Tp(i){for(;i===Kf;)Kf=xu[--wu],xu[wu]=null,Xf=xu[--wu],xu[wu]=null;for(;i===_o;)_o=ri[--ii],ri[ii]=null,vs=ri[--ii],ri[ii]=null,Ts=ri[--ii],ri[ii]=null}var or=null,nn=null,xt=!1,To=null,ji=!1,vp=Error(r(519));function vo(i){var a=Error(r(418,""));throw gc(ti(a,i)),vp}function hb(i){var a=i.stateNode,l=i.type,d=i.memoizedProps;switch(a[cn]=i,a[tn]=d,l){case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":case"embed":ft("load",a);break;case"video":case"audio":for(l=0;l<Vc.length;l++)ft(Vc[l],a);break;case"source":ft("error",a);break;case"img":case"image":case"link":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"input":ft("invalid",a),so(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),cu(a);break;case"select":ft("invalid",a);break;case"textarea":ft("invalid",a),ao(a,d.value,d.defaultValue,d.children),cu(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||R2(a.textContent,l)?(d.popover!=null&&(ft("beforetoggle",a),ft("toggle",a)),d.onScroll!=null&&ft("scroll",a),d.onScrollEnd!=null&&ft("scrollend",a),d.onClick!=null&&(a.onclick=Nh),a=!0):a=!1,a||vo(i)}function mb(i){for(or=i.return;or;)switch(or.tag){case 5:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:or=or.return}}function mc(i){if(i!==or)return!1;if(!xt)return mb(i),xt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ug(i.type,i.memoizedProps)),l=!l),l&&nn&&vo(i),mb(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){nn=_i(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}nn=null}}else a===27?(a=nn,fa(i.type)?(i=zg,zg=null,nn=i):nn=a):nn=or?_i(i.stateNode.nextSibling):null;return!0}function pc(){nn=or=null,xt=!1}function pb(){var i=To;return i!==null&&(hr===null?hr=i:hr.push.apply(hr,i),To=null),i}function gc(i){To===null?To=[i]:To.push(i)}var Ap=ee(null),Ao=null,As=null;function Ws(i,a,l){I(Ap,a._currentValue),a._currentValue=l}function Ss(i){i._currentValue=Ap.current,ae(Ap)}function Sp(i,a,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),i===l)break;i=i.return}}function xp(i,a,l,d){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var E=g.dependencies;if(E!==null){var x=g.child;E=E.firstContext;e:for(;E!==null;){var H=E;E=g;for(var W=0;W<a.length;W++)if(H.context===a[W]){E.lanes|=l,H=E.alternate,H!==null&&(H.lanes|=l),Sp(E.return,l,i),d||(x=null);break e}E=H.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(r(341));x.lanes|=l,E=x.alternate,E!==null&&(E.lanes|=l),Sp(x,l,i),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function yc(i,a,l,d){i=null;for(var g=a,E=!1;g!==null;){if(!E){if((g.flags&524288)!==0)E=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var H=g.type;Ir(g.pendingProps.value,x.value)||(i!==null?i.push(H):i=[H])}}else if(g===we.current){if(x=g.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Gc):i=[Gc])}g=g.return}i!==null&&xp(a,i,l,d),a.flags|=262144}function Qf(i){for(i=i.firstContext;i!==null;){if(!Ir(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function So(i){Ao=i,As=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xn(i){return gb(Ao,i)}function Wf(i,a){return Ao===null&&So(i),gb(i,a)}function gb(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},As===null){if(i===null)throw Error(r(308));As=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else As=As.next=a;return l}var u4=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,d){i.push(d)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},l4=t.unstable_scheduleCallback,c4=t.unstable_NormalPriority,Cn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wp(){return{controller:new u4,data:new Map,refCount:0}}function Ec(i){i.refCount--,i.refCount===0&&l4(c4,function(){i.controller.abort()})}var _c=null,Cp=0,Cu=0,Iu=null;function d4(i,a){if(_c===null){var l=_c=[];Cp=0,Cu=Ng(),Iu={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Cp++,a.then(yb,yb),a}function yb(){if(--Cp===0&&_c!==null){Iu!==null&&(Iu.status="fulfilled");var i=_c;_c=null,Cu=0,Iu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function f4(i,a){var l=[],d={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),d}var Eb=F.S;F.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&d4(i,a),Eb!==null&&Eb(i,a)};var xo=ee(null);function Ip(){var i=xo.current;return i!==null?i:Ut.pooledCache}function Zf(i,a){a===null?I(xo,xo.current):I(xo,a.pool)}function _b(){var i=Ip();return i===null?null:{parent:Cn._currentValue,pool:i}}var bc=Error(r(460)),bb=Error(r(474)),Jf=Error(r(542)),Np={then:function(){}};function Tb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function eh(){}function vb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(eh,eh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Sb(i),i;default:if(typeof a.status=="string")a.then(eh,eh);else{if(i=Ut,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Sb(i),i}throw Tc=a,bc}}var Tc=null;function Ab(){if(Tc===null)throw Error(r(459));var i=Tc;return Tc=null,i}function Sb(i){if(i===bc||i===Jf)throw Error(r(483))}var Zs=!1;function Rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Js(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ea(i,a,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Nt&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=Gf(i),cb(i,null,l),a}return Yf(i,d,a,l),Gf(i)}function vc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,eo(i,l)}}function Dp(i,a){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};E===null?g=E=x:E=E.next=x,l=l.next}while(l!==null);E===null?g=E=a:E=E.next=a}else g=E=a;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:d.shared,callbacks:d.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var Op=!1;function Ac(){if(Op){var i=Iu;if(i!==null)throw i}}function Sc(i,a,l,d){Op=!1;var g=i.updateQueue;Zs=!1;var E=g.firstBaseUpdate,x=g.lastBaseUpdate,H=g.shared.pending;if(H!==null){g.shared.pending=null;var W=H,de=W.next;W.next=null,x===null?E=de:x.next=de,x=W;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,H=_e.lastBaseUpdate,H!==x&&(H===null?_e.firstBaseUpdate=de:H.next=de,_e.lastBaseUpdate=W))}if(E!==null){var Ae=g.baseState;x=0,_e=de=W=null,H=E;do{var fe=H.lane&-536870913,me=fe!==H.lane;if(me?(_t&fe)===fe:(d&fe)===fe){fe!==0&&fe===Cu&&(Op=!0),_e!==null&&(_e=_e.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Ke=i,qe=H;fe=a;var Lt=l;switch(qe.tag){case 1:if(Ke=qe.payload,typeof Ke=="function"){Ae=Ke.call(Lt,Ae,fe);break e}Ae=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=qe.payload,fe=typeof Ke=="function"?Ke.call(Lt,Ae,fe):Ke,fe==null)break e;Ae=p({},Ae,fe);break e;case 2:Zs=!0}}fe=H.callback,fe!==null&&(i.flags|=64,me&&(i.flags|=8192),me=g.callbacks,me===null?g.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},_e===null?(de=_e=me,W=Ae):_e=_e.next=me,x|=fe;if(H=H.next,H===null){if(H=g.shared.pending,H===null)break;me=H,H=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);_e===null&&(W=Ae),g.baseState=W,g.firstBaseUpdate=de,g.lastBaseUpdate=_e,E===null&&(g.shared.lanes=0),ua|=x,i.lanes=x,i.memoizedState=Ae}}function xb(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function wb(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)xb(l[i],a)}var Nu=ee(null),th=ee(0);function Cb(i,a){i=ks,I(th,i),I(Nu,a),ks=i|a.baseLanes}function Lp(){I(th,ks),I(Nu,Nu.current)}function Pp(){ks=th.current,ae(Nu),ae(th)}var ta=0,it=null,Dt=null,gn=null,nh=!1,Ru=!1,wo=!1,rh=0,xc=0,ku=null,h4=0;function dn(){throw Error(r(321))}function Mp(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Ir(i[l],a[l]))return!1;return!0}function Bp(i,a,l,d,g,E){return ta=E,it=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,F.H=i===null||i.memoizedState===null?cT:dT,wo=!1,E=l(d,g),wo=!1,Ru&&(E=Nb(a,l,d,g)),Ib(i),E}function Ib(i){F.H=lh;var a=Dt!==null&&Dt.next!==null;if(ta=0,gn=Dt=it=null,nh=!1,xc=0,ku=null,a)throw Error(r(300));i===null||Dn||(i=i.dependencies,i!==null&&Qf(i)&&(Dn=!0))}function Nb(i,a,l,d){it=i;var g=0;do{if(Ru&&(ku=null),xc=0,Ru=!1,25<=g)throw Error(r(301));if(g+=1,gn=Dt=null,i.updateQueue!=null){var E=i.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}F.H=b4,E=a(l,d)}while(Ru);return E}function m4(){var i=F.H,a=i.useState()[0];return a=typeof a.then=="function"?wc(a):a,i=i.useState()[0],(Dt!==null?Dt.memoizedState:null)!==i&&(it.flags|=1024),a}function Up(){var i=rh!==0;return rh=0,i}function Hp(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Vp(i){if(nh){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}nh=!1}ta=0,gn=Dt=it=null,Ru=!1,xc=rh=0,ku=null}function dr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?it.memoizedState=gn=i:gn=gn.next=i,gn}function yn(){if(Dt===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var a=gn===null?it.memoizedState:gn.next;if(a!==null)gn=a,Dt=i;else{if(i===null)throw it.alternate===null?Error(r(467)):Error(r(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},gn===null?it.memoizedState=gn=i:gn=gn.next=i}return gn}function Fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(i){var a=xc;return xc+=1,ku===null&&(ku=[]),i=vb(ku,i,a),a=it,(gn===null?a.memoizedState:gn.next)===null&&(a=a.alternate,F.H=a===null||a.memoizedState===null?cT:dT),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return wc(i);if(i.$$typeof===$)return Xn(i)}throw Error(r(438,String(i)))}function zp(i){var a=null,l=it.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=it.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Fp(),it.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),d=0;d<i;d++)l[d]=U;return a.index++,l}function xs(i,a){return typeof a=="function"?a(i):a}function sh(i){var a=yn();return jp(a,Dt,i)}function jp(i,a,l){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var g=i.baseQueue,E=d.pending;if(E!==null){if(g!==null){var x=g.next;g.next=E.next,E.next=x}a.baseQueue=g=E,d.pending=null}if(E=i.baseState,g===null)i.memoizedState=E;else{a=g.next;var H=x=null,W=null,de=a,_e=!1;do{var Ae=de.lane&-536870913;if(Ae!==de.lane?(_t&Ae)===Ae:(ta&Ae)===Ae){var fe=de.revertLane;if(fe===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ae===Cu&&(_e=!0);else if((ta&fe)===fe){de=de.next,fe===Cu&&(_e=!0);continue}else Ae={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},W===null?(H=W=Ae,x=E):W=W.next=Ae,it.lanes|=fe,ua|=fe;Ae=de.action,wo&&l(E,Ae),E=de.hasEagerState?de.eagerState:l(E,Ae)}else fe={lane:Ae,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},W===null?(H=W=fe,x=E):W=W.next=fe,it.lanes|=Ae,ua|=Ae;de=de.next}while(de!==null&&de!==a);if(W===null?x=E:W.next=H,!Ir(E,i.memoizedState)&&(Dn=!0,_e&&(l=Iu,l!==null)))throw l;i.memoizedState=E,i.baseState=x,i.baseQueue=W,d.lastRenderedState=E}return g===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function qp(i){var a=yn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=l.dispatch,g=l.pending,E=a.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do E=i(E,x.action),x=x.next;while(x!==g);Ir(E,a.memoizedState)||(Dn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),l.lastRenderedState=E}return[E,d]}function Rb(i,a,l){var d=it,g=yn(),E=xt;if(E){if(l===void 0)throw Error(r(407));l=l()}else l=a();var x=!Ir((Dt||g).memoizedState,l);x&&(g.memoizedState=l,Dn=!0),g=g.queue;var H=Ob.bind(null,d,g,i);if(Cc(2048,8,H,[i]),g.getSnapshot!==a||x||gn!==null&&gn.memoizedState.tag&1){if(d.flags|=2048,Du(9,ah(),Db.bind(null,d,g,l,a),null),Ut===null)throw Error(r(349));E||(ta&124)!==0||kb(d,a,l)}return l}function kb(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=it.updateQueue,a===null?(a=Fp(),it.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Db(i,a,l,d){a.value=l,a.getSnapshot=d,Lb(a)&&Pb(i)}function Ob(i,a,l){return l(function(){Lb(a)&&Pb(i)})}function Lb(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Ir(i,l)}catch{return!0}}function Pb(i){var a=Au(i,2);a!==null&&Lr(a,i,2)}function Yp(i){var a=dr();if(typeof i=="function"){var l=i;if(i=l(),wo){Be(!0);try{l()}finally{Be(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:i},a}function Mb(i,a,l,d){return i.baseState=l,jp(i,Dt,typeof d=="function"?d:xs)}function p4(i,a,l,d,g){if(uh(i))throw Error(r(485));if(i=a.action,i!==null){var E={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){E.listeners.push(x)}};F.T!==null?l(!0):E.isTransition=!1,d(E),l=a.pending,l===null?(E.next=a.pending=E,Bb(a,E)):(E.next=l.next,a.pending=l.next=E)}}function Bb(i,a){var l=a.action,d=a.payload,g=i.state;if(a.isTransition){var E=F.T,x={};F.T=x;try{var H=l(g,d),W=F.S;W!==null&&W(x,H),Ub(i,a,H)}catch(de){Gp(i,a,de)}finally{F.T=E}}else try{E=l(g,d),Ub(i,a,E)}catch(de){Gp(i,a,de)}}function Ub(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){Hb(i,a,d)},function(d){return Gp(i,a,d)}):Hb(i,a,l)}function Hb(i,a,l){a.status="fulfilled",a.value=l,Vb(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Bb(i,l)))}function Gp(i,a,l){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,Vb(a),a=a.next;while(a!==d)}i.action=null}function Vb(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Fb(i,a){return a}function zb(i,a){if(xt){var l=Ut.formState;if(l!==null){e:{var d=it;if(xt){if(nn){t:{for(var g=nn,E=ji;g.nodeType!==8;){if(!E){g=null;break t}if(g=_i(g.nextSibling),g===null){g=null;break t}}E=g.data,g=E==="F!"||E==="F"?g:null}if(g){nn=_i(g.nextSibling),d=g.data==="F!";break e}}vo(d)}d=!1}d&&(a=l[0])}}return l=dr(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fb,lastRenderedState:a},l.queue=d,l=oT.bind(null,it,d),d.dispatch=l,d=Yp(!1),E=Wp.bind(null,it,!1,d.queue),d=dr(),g={state:a,dispatch:null,action:i,pending:null},d.queue=g,l=p4.bind(null,it,g,E,l),g.dispatch=l,d.memoizedState=i,[a,l,!1]}function jb(i){var a=yn();return qb(a,Dt,i)}function qb(i,a,l){if(a=jp(i,a,Fb)[0],i=sh(xs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=wc(a)}catch(x){throw x===bc?Jf:x}else d=a;a=yn();var g=a.queue,E=g.dispatch;return l!==a.memoizedState&&(it.flags|=2048,Du(9,ah(),g4.bind(null,g,l),null)),[d,E,i]}function g4(i,a){i.action=a}function Yb(i){var a=yn(),l=Dt;if(l!==null)return qb(a,l,i);yn(),a=a.memoizedState,l=yn();var d=l.queue.dispatch;return l.memoizedState=i,[a,d,!1]}function Du(i,a,l,d){return i={tag:i,create:l,deps:d,inst:a,next:null},a=it.updateQueue,a===null&&(a=Fp(),it.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,a.lastEffect=i),i}function ah(){return{destroy:void 0,resource:void 0}}function Gb(){return yn().memoizedState}function oh(i,a,l,d){var g=dr();d=d===void 0?null:d,it.flags|=i,g.memoizedState=Du(1|a,ah(),l,d)}function Cc(i,a,l,d){var g=yn();d=d===void 0?null:d;var E=g.memoizedState.inst;Dt!==null&&d!==null&&Mp(d,Dt.memoizedState.deps)?g.memoizedState=Du(a,E,l,d):(it.flags|=i,g.memoizedState=Du(1|a,E,l,d))}function $b(i,a){oh(8390656,8,i,a)}function Kb(i,a){Cc(2048,8,i,a)}function Xb(i,a){return Cc(4,2,i,a)}function Qb(i,a){return Cc(4,4,i,a)}function Wb(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Zb(i,a,l){l=l!=null?l.concat([i]):null,Cc(4,4,Wb.bind(null,a,i),l)}function $p(){}function Jb(i,a){var l=yn();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&Mp(a,d[1])?d[0]:(l.memoizedState=[i,a],i)}function eT(i,a){var l=yn();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&Mp(a,d[1]))return d[0];if(d=i(),wo){Be(!0);try{i()}finally{Be(!1)}}return l.memoizedState=[d,a],d}function Kp(i,a,l){return l===void 0||(ta&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=r2(),it.lanes|=i,ua|=i,l)}function tT(i,a,l,d){return Ir(l,a)?l:Nu.current!==null?(i=Kp(i,l,d),Ir(i,a)||(Dn=!0),i):(ta&42)===0?(Dn=!0,i.memoizedState=l):(i=r2(),it.lanes|=i,ua|=i,a)}function nT(i,a,l,d,g){var E=J.p;J.p=E!==0&&8>E?E:8;var x=F.T,H={};F.T=H,Wp(i,!1,a,l);try{var W=g(),de=F.S;if(de!==null&&de(H,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var _e=f4(W,d);Ic(i,a,_e,Or(i))}else Ic(i,a,d,Or(i))}catch(Ae){Ic(i,a,{then:function(){},status:"rejected",reason:Ae},Or())}finally{J.p=E,F.T=x}}function y4(){}function Xp(i,a,l,d){if(i.tag!==5)throw Error(r(476));var g=rT(i).queue;nT(i,g,a,se,l===null?y4:function(){return iT(i),l(d)})}function rT(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:se},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function iT(i){var a=rT(i).next.queue;Ic(i,a,{},Or())}function Qp(){return Xn(Gc)}function sT(){return yn().memoizedState}function aT(){return yn().memoizedState}function E4(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Or();i=Js(l);var d=ea(a,i,l);d!==null&&(Lr(d,a,l),vc(d,a,l)),a={cache:wp()},i.payload=a;return}a=a.return}}function _4(i,a,l){var d=Or();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},uh(i)?uT(a,l):(l=gp(i,a,l,d),l!==null&&(Lr(l,i,d),lT(l,a,d)))}function oT(i,a,l){var d=Or();Ic(i,a,l,d)}function Ic(i,a,l,d){var g={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(uh(i))uT(a,g);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var x=a.lastRenderedState,H=E(x,l);if(g.hasEagerState=!0,g.eagerState=H,Ir(H,x))return Yf(i,a,g,0),Ut===null&&qf(),!1}catch{}finally{}if(l=gp(i,a,g,d),l!==null)return Lr(l,i,d),lT(l,a,d),!0}return!1}function Wp(i,a,l,d){if(d={lane:2,revertLane:Ng(),action:d,hasEagerState:!1,eagerState:null,next:null},uh(i)){if(a)throw Error(r(479))}else a=gp(i,l,d,2),a!==null&&Lr(a,i,2)}function uh(i){var a=i.alternate;return i===it||a!==null&&a===it}function uT(i,a){Ru=nh=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function lT(i,a,l){if((l&4194048)!==0){var d=a.lanes;d&=i.pendingLanes,l|=d,a.lanes=l,eo(i,l)}}var lh={readContext:Xn,use:ih,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},cT={readContext:Xn,use:ih,useCallback:function(i,a){return dr().memoizedState=[i,a===void 0?null:a],i},useContext:Xn,useEffect:$b,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,oh(4194308,4,Wb.bind(null,a,i),l)},useLayoutEffect:function(i,a){return oh(4194308,4,i,a)},useInsertionEffect:function(i,a){oh(4,2,i,a)},useMemo:function(i,a){var l=dr();a=a===void 0?null:a;var d=i();if(wo){Be(!0);try{i()}finally{Be(!1)}}return l.memoizedState=[d,a],d},useReducer:function(i,a,l){var d=dr();if(l!==void 0){var g=l(a);if(wo){Be(!0);try{l(a)}finally{Be(!1)}}}else g=a;return d.memoizedState=d.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},d.queue=i,i=i.dispatch=_4.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var a=dr();return i={current:i},a.memoizedState=i},useState:function(i){i=Yp(i);var a=i.queue,l=oT.bind(null,it,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(i,a){var l=dr();return Kp(l,i,a)},useTransition:function(){var i=Yp(!1);return i=nT.bind(null,it,i.queue,!0,!1),dr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var d=it,g=dr();if(xt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Ut===null)throw Error(r(349));(_t&124)!==0||kb(d,a,l)}g.memoizedState=l;var E={value:l,getSnapshot:a};return g.queue=E,$b(Ob.bind(null,d,E,i),[i]),d.flags|=2048,Du(9,ah(),Db.bind(null,d,E,l,a),null),l},useId:function(){var i=dr(),a=Ut.identifierPrefix;if(xt){var l=vs,d=Ts;l=(d&~(1<<32-Fe(d)-1)).toString(32)+l,a=""+a+"R"+l,l=rh++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=h4++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Qp,useFormState:zb,useActionState:zb,useOptimistic:function(i){var a=dr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Wp.bind(null,it,!0,l),l.dispatch=a,[i,a]},useMemoCache:zp,useCacheRefresh:function(){return dr().memoizedState=E4.bind(null,it)}},dT={readContext:Xn,use:ih,useCallback:Jb,useContext:Xn,useEffect:Kb,useImperativeHandle:Zb,useInsertionEffect:Xb,useLayoutEffect:Qb,useMemo:eT,useReducer:sh,useRef:Gb,useState:function(){return sh(xs)},useDebugValue:$p,useDeferredValue:function(i,a){var l=yn();return tT(l,Dt.memoizedState,i,a)},useTransition:function(){var i=sh(xs)[0],a=yn().memoizedState;return[typeof i=="boolean"?i:wc(i),a]},useSyncExternalStore:Rb,useId:sT,useHostTransitionStatus:Qp,useFormState:jb,useActionState:jb,useOptimistic:function(i,a){var l=yn();return Mb(l,Dt,i,a)},useMemoCache:zp,useCacheRefresh:aT},b4={readContext:Xn,use:ih,useCallback:Jb,useContext:Xn,useEffect:Kb,useImperativeHandle:Zb,useInsertionEffect:Xb,useLayoutEffect:Qb,useMemo:eT,useReducer:qp,useRef:Gb,useState:function(){return qp(xs)},useDebugValue:$p,useDeferredValue:function(i,a){var l=yn();return Dt===null?Kp(l,i,a):tT(l,Dt.memoizedState,i,a)},useTransition:function(){var i=qp(xs)[0],a=yn().memoizedState;return[typeof i=="boolean"?i:wc(i),a]},useSyncExternalStore:Rb,useId:sT,useHostTransitionStatus:Qp,useFormState:Yb,useActionState:Yb,useOptimistic:function(i,a){var l=yn();return Dt!==null?Mb(l,Dt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:zp,useCacheRefresh:aT},Ou=null,Nc=0;function ch(i){var a=Nc;return Nc+=1,Ou===null&&(Ou=[]),vb(Ou,i,a)}function Rc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function dh(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function fT(i){var a=i._init;return a(i._payload)}function hT(i){function a(ie,ne){if(i){var le=ie.deletions;le===null?(ie.deletions=[ne],ie.flags|=16):le.push(ne)}}function l(ie,ne){if(!i)return null;for(;ne!==null;)a(ie,ne),ne=ne.sibling;return null}function d(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function g(ie,ne){return ie=bs(ie,ne),ie.index=0,ie.sibling=null,ie}function E(ie,ne,le){return ie.index=le,i?(le=ie.alternate,le!==null?(le=le.index,le<ne?(ie.flags|=67108866,ne):le):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function x(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function H(ie,ne,le,ve){return ne===null||ne.tag!==6?(ne=Ep(le,ie.mode,ve),ne.return=ie,ne):(ne=g(ne,le),ne.return=ie,ne)}function W(ie,ne,le,ve){var Ue=le.type;return Ue===w?_e(ie,ne,le.props.children,ve,le.key):ne!==null&&(ne.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===N&&fT(Ue)===ne.type)?(ne=g(ne,le.props),Rc(ne,le),ne.return=ie,ne):(ne=$f(le.type,le.key,le.props,null,ie.mode,ve),Rc(ne,le),ne.return=ie,ne)}function de(ie,ne,le,ve){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=_p(le,ie.mode,ve),ne.return=ie,ne):(ne=g(ne,le.children||[]),ne.return=ie,ne)}function _e(ie,ne,le,ve,Ue){return ne===null||ne.tag!==7?(ne=Eo(le,ie.mode,ve,Ue),ne.return=ie,ne):(ne=g(ne,le),ne.return=ie,ne)}function Ae(ie,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Ep(""+ne,ie.mode,le),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return le=$f(ne.type,ne.key,ne.props,null,ie.mode,le),Rc(le,ne),le.return=ie,le;case T:return ne=_p(ne,ie.mode,le),ne.return=ie,ne;case N:var ve=ne._init;return ne=ve(ne._payload),Ae(ie,ne,le)}if(X(ne)||V(ne))return ne=Eo(ne,ie.mode,le,null),ne.return=ie,ne;if(typeof ne.then=="function")return Ae(ie,ch(ne),le);if(ne.$$typeof===$)return Ae(ie,Wf(ie,ne),le);dh(ie,ne)}return null}function fe(ie,ne,le,ve){var Ue=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ue!==null?null:H(ie,ne,""+le,ve);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return le.key===Ue?W(ie,ne,le,ve):null;case T:return le.key===Ue?de(ie,ne,le,ve):null;case N:return Ue=le._init,le=Ue(le._payload),fe(ie,ne,le,ve)}if(X(le)||V(le))return Ue!==null?null:_e(ie,ne,le,ve,null);if(typeof le.then=="function")return fe(ie,ne,ch(le),ve);if(le.$$typeof===$)return fe(ie,ne,Wf(ie,le),ve);dh(ie,le)}return null}function me(ie,ne,le,ve,Ue){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ie=ie.get(le)||null,H(ne,ie,""+ve,Ue);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:return ie=ie.get(ve.key===null?le:ve.key)||null,W(ne,ie,ve,Ue);case T:return ie=ie.get(ve.key===null?le:ve.key)||null,de(ne,ie,ve,Ue);case N:var ot=ve._init;return ve=ot(ve._payload),me(ie,ne,le,ve,Ue)}if(X(ve)||V(ve))return ie=ie.get(le)||null,_e(ne,ie,ve,Ue,null);if(typeof ve.then=="function")return me(ie,ne,le,ch(ve),Ue);if(ve.$$typeof===$)return me(ie,ne,le,Wf(ne,ve),Ue);dh(ne,ve)}return null}function Ke(ie,ne,le,ve){for(var Ue=null,ot=null,ze=ne,Ye=ne=0,Ln=null;ze!==null&&Ye<le.length;Ye++){ze.index>Ye?(Ln=ze,ze=null):Ln=ze.sibling;var At=fe(ie,ze,le[Ye],ve);if(At===null){ze===null&&(ze=Ln);break}i&&ze&&At.alternate===null&&a(ie,ze),ne=E(At,ne,Ye),ot===null?Ue=At:ot.sibling=At,ot=At,ze=Ln}if(Ye===le.length)return l(ie,ze),xt&&bo(ie,Ye),Ue;if(ze===null){for(;Ye<le.length;Ye++)ze=Ae(ie,le[Ye],ve),ze!==null&&(ne=E(ze,ne,Ye),ot===null?Ue=ze:ot.sibling=ze,ot=ze);return xt&&bo(ie,Ye),Ue}for(ze=d(ze);Ye<le.length;Ye++)Ln=me(ze,ie,Ye,le[Ye],ve),Ln!==null&&(i&&Ln.alternate!==null&&ze.delete(Ln.key===null?Ye:Ln.key),ne=E(Ln,ne,Ye),ot===null?Ue=Ln:ot.sibling=Ln,ot=Ln);return i&&ze.forEach(function(ya){return a(ie,ya)}),xt&&bo(ie,Ye),Ue}function qe(ie,ne,le,ve){if(le==null)throw Error(r(151));for(var Ue=null,ot=null,ze=ne,Ye=ne=0,Ln=null,At=le.next();ze!==null&&!At.done;Ye++,At=le.next()){ze.index>Ye?(Ln=ze,ze=null):Ln=ze.sibling;var ya=fe(ie,ze,At.value,ve);if(ya===null){ze===null&&(ze=Ln);break}i&&ze&&ya.alternate===null&&a(ie,ze),ne=E(ya,ne,Ye),ot===null?Ue=ya:ot.sibling=ya,ot=ya,ze=Ln}if(At.done)return l(ie,ze),xt&&bo(ie,Ye),Ue;if(ze===null){for(;!At.done;Ye++,At=le.next())At=Ae(ie,At.value,ve),At!==null&&(ne=E(At,ne,Ye),ot===null?Ue=At:ot.sibling=At,ot=At);return xt&&bo(ie,Ye),Ue}for(ze=d(ze);!At.done;Ye++,At=le.next())At=me(ze,ie,Ye,At.value,ve),At!==null&&(i&&At.alternate!==null&&ze.delete(At.key===null?Ye:At.key),ne=E(At,ne,Ye),ot===null?Ue=At:ot.sibling=At,ot=At);return i&&ze.forEach(function(T6){return a(ie,T6)}),xt&&bo(ie,Ye),Ue}function Lt(ie,ne,le,ve){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case b:e:{for(var Ue=le.key;ne!==null;){if(ne.key===Ue){if(Ue=le.type,Ue===w){if(ne.tag===7){l(ie,ne.sibling),ve=g(ne,le.props.children),ve.return=ie,ie=ve;break e}}else if(ne.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===N&&fT(Ue)===ne.type){l(ie,ne.sibling),ve=g(ne,le.props),Rc(ve,le),ve.return=ie,ie=ve;break e}l(ie,ne);break}else a(ie,ne);ne=ne.sibling}le.type===w?(ve=Eo(le.props.children,ie.mode,ve,le.key),ve.return=ie,ie=ve):(ve=$f(le.type,le.key,le.props,null,ie.mode,ve),Rc(ve,le),ve.return=ie,ie=ve)}return x(ie);case T:e:{for(Ue=le.key;ne!==null;){if(ne.key===Ue)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){l(ie,ne.sibling),ve=g(ne,le.children||[]),ve.return=ie,ie=ve;break e}else{l(ie,ne);break}else a(ie,ne);ne=ne.sibling}ve=_p(le,ie.mode,ve),ve.return=ie,ie=ve}return x(ie);case N:return Ue=le._init,le=Ue(le._payload),Lt(ie,ne,le,ve)}if(X(le))return Ke(ie,ne,le,ve);if(V(le)){if(Ue=V(le),typeof Ue!="function")throw Error(r(150));return le=Ue.call(le),qe(ie,ne,le,ve)}if(typeof le.then=="function")return Lt(ie,ne,ch(le),ve);if(le.$$typeof===$)return Lt(ie,ne,Wf(ie,le),ve);dh(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ne!==null&&ne.tag===6?(l(ie,ne.sibling),ve=g(ne,le),ve.return=ie,ie=ve):(l(ie,ne),ve=Ep(le,ie.mode,ve),ve.return=ie,ie=ve),x(ie)):l(ie,ne)}return function(ie,ne,le,ve){try{Nc=0;var Ue=Lt(ie,ne,le,ve);return Ou=null,Ue}catch(ze){if(ze===bc||ze===Jf)throw ze;var ot=Nr(29,ze,null,ie.mode);return ot.lanes=ve,ot.return=ie,ot}finally{}}}var Lu=hT(!0),mT=hT(!1),si=ee(null),qi=null;function na(i){var a=i.alternate;I(In,In.current&1),I(si,i),qi===null&&(a===null||Nu.current!==null||a.memoizedState!==null)&&(qi=i)}function pT(i){if(i.tag===22){if(I(In,In.current),I(si,i),qi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(qi=i)}}else ra()}function ra(){I(In,In.current),I(si,si.current)}function ws(i){ae(si),qi===i&&(qi=null),ae(In)}var In=ee(0);function fh(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Fg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Zp(i,a,l,d){a=i.memoizedState,l=l(d,a),l=l==null?a:p({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Jp={enqueueSetState:function(i,a,l){i=i._reactInternals;var d=Or(),g=Js(d);g.payload=a,l!=null&&(g.callback=l),a=ea(i,g,d),a!==null&&(Lr(a,i,d),vc(a,i,d))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var d=Or(),g=Js(d);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ea(i,g,d),a!==null&&(Lr(a,i,d),vc(a,i,d))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Or(),d=Js(l);d.tag=2,a!=null&&(d.callback=a),a=ea(i,d,l),a!==null&&(Lr(a,i,l),vc(a,i,l))}};function gT(i,a,l,d,g,E,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,E,x):a.prototype&&a.prototype.isPureReactComponent?!fc(l,d)||!fc(g,E):!0}function yT(i,a,l,d){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==i&&Jp.enqueueReplaceState(a,a.state,null)}function Co(i,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(i=i.defaultProps){l===a&&(l=p({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var hh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function ET(i){hh(i)}function _T(i){console.error(i)}function bT(i){hh(i)}function mh(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function TT(i,a,l){try{var d=i.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function eg(i,a,l){return l=Js(l),l.tag=3,l.payload={element:null},l.callback=function(){mh(i,a)},l}function vT(i){return i=Js(i),i.tag=3,i}function AT(i,a,l,d){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var E=d.value;i.payload=function(){return g(E)},i.callback=function(){TT(a,l,d)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){TT(a,l,d),typeof g!="function"&&(la===null?la=new Set([this]):la.add(this));var H=d.stack;this.componentDidCatch(d.value,{componentStack:H!==null?H:""})})}function T4(i,a,l,d,g){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&yc(a,l,g,!0),l=si.current,l!==null){switch(l.tag){case 13:return qi===null?Sg():l.alternate===null&&rn===0&&(rn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,d===Np?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),wg(i,d,g)),!1;case 22:return l.flags|=65536,d===Np?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),wg(i,d,g)),!1}throw Error(r(435,l.tag))}return wg(i,d,g),Sg(),!1}if(xt)return a=si.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==vp&&(i=Error(r(422),{cause:d}),gc(ti(i,l)))):(d!==vp&&(a=Error(r(423),{cause:d}),gc(ti(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,d=ti(d,l),g=eg(i.stateNode,d,g),Dp(i,g),rn!==4&&(rn=2)),!1;var E=Error(r(520),{cause:d});if(E=ti(E,l),Bc===null?Bc=[E]:Bc.push(E),rn!==4&&(rn=2),a===null)return!0;d=ti(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=eg(l.stateNode,d,i),Dp(l,i),!1;case 1:if(a=l.type,E=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(la===null||!la.has(E))))return l.flags|=65536,g&=-g,l.lanes|=g,g=vT(g),AT(g,i,l,d),Dp(l,g),!1}l=l.return}while(l!==null);return!1}var ST=Error(r(461)),Dn=!1;function jn(i,a,l,d){a.child=i===null?mT(a,null,l,d):Lu(a,i.child,l,d)}function xT(i,a,l,d,g){l=l.render;var E=a.ref;if("ref"in d){var x={};for(var H in d)H!=="ref"&&(x[H]=d[H])}else x=d;return So(a),d=Bp(i,a,l,x,E,g),H=Up(),i!==null&&!Dn?(Hp(i,a,g),Cs(i,a,g)):(xt&&H&&bp(a),a.flags|=1,jn(i,a,d,g),a.child)}function wT(i,a,l,d,g){if(i===null){var E=l.type;return typeof E=="function"&&!yp(E)&&E.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=E,CT(i,a,E,d,g)):(i=$f(l.type,null,d,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,!ug(i,g)){var x=E.memoizedProps;if(l=l.compare,l=l!==null?l:fc,l(x,d)&&i.ref===a.ref)return Cs(i,a,g)}return a.flags|=1,i=bs(E,d),i.ref=a.ref,i.return=a,a.child=i}function CT(i,a,l,d,g){if(i!==null){var E=i.memoizedProps;if(fc(E,d)&&i.ref===a.ref)if(Dn=!1,a.pendingProps=d=E,ug(i,g))(i.flags&131072)!==0&&(Dn=!0);else return a.lanes=i.lanes,Cs(i,a,g)}return tg(i,a,l,d,g)}function IT(i,a,l){var d=a.pendingProps,g=d.children,E=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=E!==null?E.baseLanes|l:l,i!==null){for(g=a.child=i.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;a.childLanes=E&~d}else a.childLanes=0,a.child=null;return NT(i,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Zf(a,E!==null?E.cachePool:null),E!==null?Cb(a,E):Lp(),pT(a);else return a.lanes=a.childLanes=536870912,NT(i,a,E!==null?E.baseLanes|l:l,l)}else E!==null?(Zf(a,E.cachePool),Cb(a,E),ra(),a.memoizedState=null):(i!==null&&Zf(a,null),Lp(),ra());return jn(i,a,g,l),a.child}function NT(i,a,l,d){var g=Ip();return g=g===null?null:{parent:Cn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&Zf(a,null),Lp(),pT(a),i!==null&&yc(i,a,d,!0),null}function ph(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function tg(i,a,l,d,g){return So(a),l=Bp(i,a,l,d,void 0,g),d=Up(),i!==null&&!Dn?(Hp(i,a,g),Cs(i,a,g)):(xt&&d&&bp(a),a.flags|=1,jn(i,a,l,g),a.child)}function RT(i,a,l,d,g,E){return So(a),a.updateQueue=null,l=Nb(a,d,l,g),Ib(i),d=Up(),i!==null&&!Dn?(Hp(i,a,E),Cs(i,a,E)):(xt&&d&&bp(a),a.flags|=1,jn(i,a,l,E),a.child)}function kT(i,a,l,d,g){if(So(a),a.stateNode===null){var E=Su,x=l.contextType;typeof x=="object"&&x!==null&&(E=Xn(x)),E=new l(d,E),a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Jp,a.stateNode=E,E._reactInternals=a,E=a.stateNode,E.props=d,E.state=a.memoizedState,E.refs={},Rp(a),x=l.contextType,E.context=typeof x=="object"&&x!==null?Xn(x):Su,E.state=a.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Zp(a,l,x,d),E.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(x=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),x!==E.state&&Jp.enqueueReplaceState(E,E.state,null),Sc(a,d,E,g),Ac(),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(i===null){E=a.stateNode;var H=a.memoizedProps,W=Co(l,H);E.props=W;var de=E.context,_e=l.contextType;x=Su,typeof _e=="object"&&_e!==null&&(x=Xn(_e));var Ae=l.getDerivedStateFromProps;_e=typeof Ae=="function"||typeof E.getSnapshotBeforeUpdate=="function",H=a.pendingProps!==H,_e||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H||de!==x)&&yT(a,E,d,x),Zs=!1;var fe=a.memoizedState;E.state=fe,Sc(a,d,E,g),Ac(),de=a.memoizedState,H||fe!==de||Zs?(typeof Ae=="function"&&(Zp(a,l,Ae,d),de=a.memoizedState),(W=Zs||gT(a,l,W,d,fe,de,x))?(_e||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=de),E.props=d,E.state=de,E.context=x,d=W):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{E=a.stateNode,kp(i,a),x=a.memoizedProps,_e=Co(l,x),E.props=_e,Ae=a.pendingProps,fe=E.context,de=l.contextType,W=Su,typeof de=="object"&&de!==null&&(W=Xn(de)),H=l.getDerivedStateFromProps,(de=typeof H=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==Ae||fe!==W)&&yT(a,E,d,W),Zs=!1,fe=a.memoizedState,E.state=fe,Sc(a,d,E,g),Ac();var me=a.memoizedState;x!==Ae||fe!==me||Zs||i!==null&&i.dependencies!==null&&Qf(i.dependencies)?(typeof H=="function"&&(Zp(a,l,H,d),me=a.memoizedState),(_e=Zs||gT(a,l,_e,d,fe,me,W)||i!==null&&i.dependencies!==null&&Qf(i.dependencies))?(de||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,me,W),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,me,W)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&fe===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&fe===i.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=me),E.props=d,E.state=me,E.context=W,d=_e):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&fe===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&fe===i.memoizedState||(a.flags|=1024),d=!1)}return E=d,ph(i,a),d=(a.flags&128)!==0,E||d?(E=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:E.render(),a.flags|=1,i!==null&&d?(a.child=Lu(a,i.child,null,g),a.child=Lu(a,null,l,g)):jn(i,a,l,g),a.memoizedState=E.state,i=a.child):i=Cs(i,a,g),i}function DT(i,a,l,d){return pc(),a.flags|=256,jn(i,a,l,d),a.child}var ng={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rg(i){return{baseLanes:i,cachePool:_b()}}function ig(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ai),i}function OT(i,a,l){var d=a.pendingProps,g=!1,E=(a.flags&128)!==0,x;if((x=E)||(x=i!==null&&i.memoizedState===null?!1:(In.current&2)!==0),x&&(g=!0,a.flags&=-129),x=(a.flags&32)!==0,a.flags&=-33,i===null){if(xt){if(g?na(a):ra(),xt){var H=nn,W;if(W=H){e:{for(W=H,H=ji;W.nodeType!==8;){if(!H){H=null;break e}if(W=_i(W.nextSibling),W===null){H=null;break e}}H=W}H!==null?(a.memoizedState={dehydrated:H,treeContext:_o!==null?{id:Ts,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},W=Nr(18,null,null,0),W.stateNode=H,W.return=a,a.child=W,or=a,nn=null,W=!0):W=!1}W||vo(a)}if(H=a.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return Fg(H)?a.lanes=32:a.lanes=536870912,null;ws(a)}return H=d.children,d=d.fallback,g?(ra(),g=a.mode,H=gh({mode:"hidden",children:H},g),d=Eo(d,g,l,null),H.return=a,d.return=a,H.sibling=d,a.child=H,g=a.child,g.memoizedState=rg(l),g.childLanes=ig(i,x,l),a.memoizedState=ng,d):(na(a),sg(a,H))}if(W=i.memoizedState,W!==null&&(H=W.dehydrated,H!==null)){if(E)a.flags&256?(na(a),a.flags&=-257,a=ag(i,a,l)):a.memoizedState!==null?(ra(),a.child=i.child,a.flags|=128,a=null):(ra(),g=d.fallback,H=a.mode,d=gh({mode:"visible",children:d.children},H),g=Eo(g,H,l,null),g.flags|=2,d.return=a,g.return=a,d.sibling=g,a.child=d,Lu(a,i.child,null,l),d=a.child,d.memoizedState=rg(l),d.childLanes=ig(i,x,l),a.memoizedState=ng,a=g);else if(na(a),Fg(H)){if(x=H.nextSibling&&H.nextSibling.dataset,x)var de=x.dgst;x=de,d=Error(r(419)),d.stack="",d.digest=x,gc({value:d,source:null,stack:null}),a=ag(i,a,l)}else if(Dn||yc(i,a,l,!1),x=(l&i.childLanes)!==0,Dn||x){if(x=Ut,x!==null&&(d=l&-l,d=(d&42)!==0?1:Ni(d),d=(d&(x.suspendedLanes|l))!==0?0:d,d!==0&&d!==W.retryLane))throw W.retryLane=d,Au(i,d),Lr(x,i,d),ST;H.data==="$?"||Sg(),a=ag(i,a,l)}else H.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=W.treeContext,nn=_i(H.nextSibling),or=a,xt=!0,To=null,ji=!1,i!==null&&(ri[ii++]=Ts,ri[ii++]=vs,ri[ii++]=_o,Ts=i.id,vs=i.overflow,_o=a),a=sg(a,d.children),a.flags|=4096);return a}return g?(ra(),g=d.fallback,H=a.mode,W=i.child,de=W.sibling,d=bs(W,{mode:"hidden",children:d.children}),d.subtreeFlags=W.subtreeFlags&65011712,de!==null?g=bs(de,g):(g=Eo(g,H,l,null),g.flags|=2),g.return=a,d.return=a,d.sibling=g,a.child=d,d=g,g=a.child,H=i.child.memoizedState,H===null?H=rg(l):(W=H.cachePool,W!==null?(de=Cn._currentValue,W=W.parent!==de?{parent:de,pool:de}:W):W=_b(),H={baseLanes:H.baseLanes|l,cachePool:W}),g.memoizedState=H,g.childLanes=ig(i,x,l),a.memoizedState=ng,d):(na(a),l=i.child,i=l.sibling,l=bs(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,i!==null&&(x=a.deletions,x===null?(a.deletions=[i],a.flags|=16):x.push(i)),a.child=l,a.memoizedState=null,l)}function sg(i,a){return a=gh({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function gh(i,a){return i=Nr(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ag(i,a,l){return Lu(a,i.child,null,l),i=sg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function LT(i,a,l){i.lanes|=a;var d=i.alternate;d!==null&&(d.lanes|=a),Sp(i.return,a,l)}function og(i,a,l,d,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=d,E.tail=l,E.tailMode=g)}function PT(i,a,l){var d=a.pendingProps,g=d.revealOrder,E=d.tail;if(jn(i,a,d.children,l),d=In.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&LT(i,l,a);else if(i.tag===19)LT(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(I(In,d),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&fh(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),og(a,!1,g,l,E);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&fh(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}og(a,!0,l,null,E);break;case"together":og(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cs(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ua|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(yc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=bs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=bs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function ug(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Qf(i)))}function v4(i,a,l){switch(a.tag){case 3:Ce(a,a.stateNode.containerInfo),Ws(a,Cn,i.memoizedState.cache),pc();break;case 27:case 5:Ve(a);break;case 4:Ce(a,a.stateNode.containerInfo);break;case 10:Ws(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(na(a),a.flags|=128,null):(l&a.child.childLanes)!==0?OT(i,a,l):(na(a),i=Cs(i,a,l),i!==null?i.sibling:null);na(a);break;case 19:var g=(i.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(yc(i,a,l,!1),d=(l&a.childLanes)!==0),g){if(d)return PT(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),I(In,In.current),d)break;return null;case 22:case 23:return a.lanes=0,IT(i,a,l);case 24:Ws(a,Cn,i.memoizedState.cache)}return Cs(i,a,l)}function MT(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Dn=!0;else{if(!ug(i,l)&&(a.flags&128)===0)return Dn=!1,v4(i,a,l);Dn=(i.flags&131072)!==0}else Dn=!1,xt&&(a.flags&1048576)!==0&&fb(a,Xf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var d=a.elementType,g=d._init;if(d=g(d._payload),a.type=d,typeof d=="function")yp(d)?(i=Co(d,i),a.tag=1,a=kT(null,a,d,i,l)):(a.tag=0,a=tg(null,a,d,i,l));else{if(d!=null){if(g=d.$$typeof,g===G){a.tag=11,a=xT(null,a,d,i,l);break e}else if(g===M){a.tag=14,a=wT(null,a,d,i,l);break e}}throw a=O(d)||d,Error(r(306,a,""))}}return a;case 0:return tg(i,a,a.type,a.pendingProps,l);case 1:return d=a.type,g=Co(d,a.pendingProps),kT(i,a,d,g,l);case 3:e:{if(Ce(a,a.stateNode.containerInfo),i===null)throw Error(r(387));d=a.pendingProps;var E=a.memoizedState;g=E.element,kp(i,a),Sc(a,d,null,l);var x=a.memoizedState;if(d=x.cache,Ws(a,Cn,d),d!==E.cache&&xp(a,[Cn],l,!0),Ac(),d=x.element,E.isDehydrated)if(E={element:d,isDehydrated:!1,cache:x.cache},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){a=DT(i,a,d,l);break e}else if(d!==g){g=ti(Error(r(424)),a),gc(g),a=DT(i,a,d,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(nn=_i(i.firstChild),or=a,xt=!0,To=null,ji=!0,l=mT(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(pc(),d===g){a=Cs(i,a,l);break e}jn(i,a,d,l)}a=a.child}return a;case 26:return ph(i,a),i===null?(l=V2(a.type,null,a.pendingProps,null))?a.memoizedState=l:xt||(l=a.type,i=a.pendingProps,d=Rh(pe.current).createElement(l),d[cn]=a,d[tn]=i,Yn(d,l,i),Qt(d),a.stateNode=d):a.memoizedState=V2(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ve(a),i===null&&xt&&(d=a.stateNode=B2(a.type,a.pendingProps,pe.current),or=a,ji=!0,g=nn,fa(a.type)?(zg=g,nn=_i(d.firstChild)):nn=g),jn(i,a,a.pendingProps.children,l),ph(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&xt&&((g=d=nn)&&(d=Q4(d,a.type,a.pendingProps,ji),d!==null?(a.stateNode=d,or=a,nn=_i(d.firstChild),ji=!1,g=!0):g=!1),g||vo(a)),Ve(a),g=a.type,E=a.pendingProps,x=i!==null?i.memoizedProps:null,d=E.children,Ug(g,E)?d=null:x!==null&&Ug(g,x)&&(a.flags|=32),a.memoizedState!==null&&(g=Bp(i,a,m4,null,null,l),Gc._currentValue=g),ph(i,a),jn(i,a,d,l),a.child;case 6:return i===null&&xt&&((i=l=nn)&&(l=W4(l,a.pendingProps,ji),l!==null?(a.stateNode=l,or=a,nn=null,i=!0):i=!1),i||vo(a)),null;case 13:return OT(i,a,l);case 4:return Ce(a,a.stateNode.containerInfo),d=a.pendingProps,i===null?a.child=Lu(a,null,d,l):jn(i,a,d,l),a.child;case 11:return xT(i,a,a.type,a.pendingProps,l);case 7:return jn(i,a,a.pendingProps,l),a.child;case 8:return jn(i,a,a.pendingProps.children,l),a.child;case 12:return jn(i,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,Ws(a,a.type,d.value),jn(i,a,d.children,l),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,So(a),g=Xn(g),d=d(g),a.flags|=1,jn(i,a,d,l),a.child;case 14:return wT(i,a,a.type,a.pendingProps,l);case 15:return CT(i,a,a.type,a.pendingProps,l);case 19:return PT(i,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},i===null?(l=gh(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=bs(i.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return IT(i,a,l);case 24:return So(a),d=Xn(Cn),i===null?(g=Ip(),g===null&&(g=Ut,E=wp(),g.pooledCache=E,E.refCount++,E!==null&&(g.pooledCacheLanes|=l),g=E),a.memoizedState={parent:d,cache:g},Rp(a),Ws(a,Cn,g)):((i.lanes&l)!==0&&(kp(i,a),Sc(a,null,null,l),Ac()),g=i.memoizedState,E=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ws(a,Cn,d)):(d=E.cache,Ws(a,Cn,d),d!==g.cache&&xp(a,[Cn],l,!0))),jn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Is(i){i.flags|=4}function BT(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Y2(a)){if(a=si.current,a!==null&&((_t&4194048)===_t?qi!==null:(_t&62914560)!==_t&&(_t&536870912)===0||a!==qi))throw Tc=Np,bb;i.flags|=8192}}function yh(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?hi():536870912,i.lanes|=a,Uu|=a)}function kc(i,a){if(!xt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Wt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=d,i.childLanes=l,a}function A4(i,a,l){var d=a.pendingProps;switch(Tp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(a),null;case 1:return Wt(a),null;case 3:return l=a.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Ss(Cn),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(mc(a)?Is(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pb())),Wt(a),null;case 26:return l=a.memoizedState,i===null?(Is(a),l!==null?(Wt(a),BT(a,l)):(Wt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Is(a),Wt(a),BT(a,l)):(Wt(a),a.flags&=-16777217):(i.memoizedProps!==d&&Is(a),Wt(a),a.flags&=-16777217),null;case 27:ct(a),l=pe.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Is(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Wt(a),null}i=oe.current,mc(a)?hb(a):(i=B2(g,d,l),a.stateNode=i,Is(a))}return Wt(a),null;case 5:if(ct(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==d&&Is(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Wt(a),null}if(i=oe.current,mc(a))hb(a);else{switch(g=Rh(pe.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?g.createElement("select",{is:d.is}):g.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?g.createElement(l,{is:d.is}):g.createElement(l)}}i[cn]=a,i[tn]=d;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Yn(i,l,d),l){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Is(a)}}return Wt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==d&&Is(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(i=pe.current,mc(a)){if(i=a.stateNode,l=a.memoizedProps,d=null,g=or,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}i[cn]=a,i=!!(i.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||R2(i.nodeValue,l)),i||vo(a)}else i=Rh(i).createTextNode(d),i[cn]=a,a.stateNode=i}return Wt(a),null;case 13:if(d=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=mc(a),d!==null&&d.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[cn]=a}else pc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Wt(a),g=!1}else g=pb(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ws(a),a):(ws(a),null)}if(ws(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,i=i!==null&&i.memoizedState!==null,l){d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool);var E=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==g&&(d.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),yh(a,a.updateQueue),Wt(a),null;case 4:return Le(),i===null&&Og(a.stateNode.containerInfo),Wt(a),null;case 10:return Ss(a.type),Wt(a),null;case 19:if(ae(In),g=a.memoizedState,g===null)return Wt(a),null;if(d=(a.flags&128)!==0,E=g.rendering,E===null)if(d)kc(g,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(E=fh(i),E!==null){for(a.flags|=128,kc(g,!1),i=E.updateQueue,a.updateQueue=i,yh(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)db(l,i),l=l.sibling;return I(In,In.current&1|2),a.child}i=i.sibling}g.tail!==null&&Qe()>bh&&(a.flags|=128,d=!0,kc(g,!1),a.lanes=4194304)}else{if(!d)if(i=fh(E),i!==null){if(a.flags|=128,d=!0,i=i.updateQueue,a.updateQueue=i,yh(a,i),kc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!xt)return Wt(a),null}else 2*Qe()-g.renderingStartTime>bh&&l!==536870912&&(a.flags|=128,d=!0,kc(g,!1),a.lanes=4194304);g.isBackwards?(E.sibling=a.child,a.child=E):(i=g.last,i!==null?i.sibling=E:a.child=E,g.last=E)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Qe(),a.sibling=null,i=In.current,I(In,d?i&1|2:i&1),a):(Wt(a),null);case 22:case 23:return ws(a),Pp(),d=a.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(Wt(a),a.subtreeFlags&6&&(a.flags|=8192)):Wt(a),l=a.updateQueue,l!==null&&yh(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),i!==null&&ae(xo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ss(Cn),Wt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function S4(i,a){switch(Tp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ss(Cn),Le(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ct(a),null;case 13:if(ws(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));pc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ae(In),null;case 4:return Le(),null;case 10:return Ss(a.type),null;case 22:case 23:return ws(a),Pp(),i!==null&&ae(xo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ss(Cn),null;case 25:return null;default:return null}}function UT(i,a){switch(Tp(a),a.tag){case 3:Ss(Cn),Le();break;case 26:case 27:case 5:ct(a);break;case 4:Le();break;case 13:ws(a);break;case 19:ae(In);break;case 10:Ss(a.type);break;case 22:case 23:ws(a),Pp(),i!==null&&ae(xo);break;case 24:Ss(Cn)}}function Dc(i,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var g=d.next;l=g;do{if((l.tag&i)===i){d=void 0;var E=l.create,x=l.inst;d=E(),x.destroy=d}l=l.next}while(l!==g)}}catch(H){Pt(a,a.return,H)}}function ia(i,a,l){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var E=g.next;d=E;do{if((d.tag&i)===i){var x=d.inst,H=x.destroy;if(H!==void 0){x.destroy=void 0,g=a;var W=l,de=H;try{de()}catch(_e){Pt(g,W,_e)}}}d=d.next}while(d!==E)}}catch(_e){Pt(a,a.return,_e)}}function HT(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{wb(a,l)}catch(d){Pt(i,i.return,d)}}}function VT(i,a,l){l.props=Co(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(d){Pt(i,a,d)}}function Oc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof l=="function"?i.refCleanup=l(d):l.current=d}}catch(g){Pt(i,a,g)}}function Yi(i,a){var l=i.ref,d=i.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(g){Pt(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Pt(i,a,g)}else l.current=null}function FT(i){var a=i.type,l=i.memoizedProps,d=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(g){Pt(i,i.return,g)}}function lg(i,a,l){try{var d=i.stateNode;Y4(d,i.type,l,a),d[tn]=a}catch(g){Pt(i,i.return,g)}}function zT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fa(i.type)||i.tag===4}function cg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dg(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Nh));else if(d!==4&&(d===27&&fa(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(dg(i,a,l),i=i.sibling;i!==null;)dg(i,a,l),i=i.sibling}function Eh(i,a,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(d!==4&&(d===27&&fa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Eh(i,a,l),i=i.sibling;i!==null;)Eh(i,a,l),i=i.sibling}function jT(i){var a=i.stateNode,l=i.memoizedProps;try{for(var d=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Yn(a,d,l),a[cn]=i,a[tn]=l}catch(E){Pt(i,i.return,E)}}var Ns=!1,fn=!1,fg=!1,qT=typeof WeakSet=="function"?WeakSet:Set,On=null;function x4(i,a){if(i=i.containerInfo,Mg=Mh,i=tb(i),cp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,E=d.focusNode;d=d.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break e}var x=0,H=-1,W=-1,de=0,_e=0,Ae=i,fe=null;t:for(;;){for(var me;Ae!==l||g!==0&&Ae.nodeType!==3||(H=x+g),Ae!==E||d!==0&&Ae.nodeType!==3||(W=x+d),Ae.nodeType===3&&(x+=Ae.nodeValue.length),(me=Ae.firstChild)!==null;)fe=Ae,Ae=me;for(;;){if(Ae===i)break t;if(fe===l&&++de===g&&(H=x),fe===E&&++_e===d&&(W=x),(me=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=me}l=H===-1||W===-1?null:{start:H,end:W}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bg={focusedElem:i,selectionRange:l},Mh=!1,On=a;On!==null;)if(a=On,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,On=i;else for(;On!==null;){switch(a=On,E=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&E!==null){i=void 0,l=a,g=E.memoizedProps,E=E.memoizedState,d=l.stateNode;try{var Ke=Co(l.type,g,l.elementType===l.type);i=d.getSnapshotBeforeUpdate(Ke,E),d.__reactInternalSnapshotBeforeUpdate=i}catch(qe){Pt(l,l.return,qe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Vg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,On=i;break}On=a.return}}function YT(i,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:sa(i,l),d&4&&Dc(5,l);break;case 1:if(sa(i,l),d&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(x){Pt(l,l.return,x)}else{var g=Co(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Pt(l,l.return,x)}}d&64&&HT(l),d&512&&Oc(l,l.return);break;case 3:if(sa(i,l),d&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{wb(i,a)}catch(x){Pt(l,l.return,x)}}break;case 27:a===null&&d&4&&jT(l);case 26:case 5:sa(i,l),a===null&&d&4&&FT(l),d&512&&Oc(l,l.return);break;case 12:sa(i,l);break;case 13:sa(i,l),d&4&&KT(i,l),d&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=L4.bind(null,l),Z4(i,l))));break;case 22:if(d=l.memoizedState!==null||Ns,!d){a=a!==null&&a.memoizedState!==null||fn,g=Ns;var E=fn;Ns=d,(fn=a)&&!E?aa(i,l,(l.subtreeFlags&8772)!==0):sa(i,l),Ns=g,fn=E}break;case 30:break;default:sa(i,l)}}function GT(i){var a=i.alternate;a!==null&&(i.alternate=null,GT(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Di(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $t=null,fr=!1;function Rs(i,a,l){for(l=l.child;l!==null;)$T(i,a,l),l=l.sibling}function $T(i,a,l){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(he,l)}catch{}switch(l.tag){case 26:fn||Yi(l,a),Rs(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:fn||Yi(l,a);var d=$t,g=fr;fa(l.type)&&($t=l.stateNode,fr=!1),Rs(i,a,l),zc(l.stateNode),$t=d,fr=g;break;case 5:fn||Yi(l,a);case 6:if(d=$t,g=fr,$t=null,Rs(i,a,l),$t=d,fr=g,$t!==null)if(fr)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(l.stateNode)}catch(E){Pt(l,a,E)}else try{$t.removeChild(l.stateNode)}catch(E){Pt(l,a,E)}break;case 18:$t!==null&&(fr?(i=$t,P2(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Qc(i)):P2($t,l.stateNode));break;case 4:d=$t,g=fr,$t=l.stateNode.containerInfo,fr=!0,Rs(i,a,l),$t=d,fr=g;break;case 0:case 11:case 14:case 15:fn||ia(2,l,a),fn||ia(4,l,a),Rs(i,a,l);break;case 1:fn||(Yi(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&VT(l,a,d)),Rs(i,a,l);break;case 21:Rs(i,a,l);break;case 22:fn=(d=fn)||l.memoizedState!==null,Rs(i,a,l),fn=d;break;default:Rs(i,a,l)}}function KT(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qc(i)}catch(l){Pt(a,a.return,l)}}function w4(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new qT),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new qT),a;default:throw Error(r(435,i.tag))}}function hg(i,a){var l=w4(i);a.forEach(function(d){var g=P4.bind(null,i,d);l.has(d)||(l.add(d),d.then(g,g))})}function Rr(i,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d],E=i,x=a,H=x;e:for(;H!==null;){switch(H.tag){case 27:if(fa(H.type)){$t=H.stateNode,fr=!1;break e}break;case 5:$t=H.stateNode,fr=!1;break e;case 3:case 4:$t=H.stateNode.containerInfo,fr=!0;break e}H=H.return}if($t===null)throw Error(r(160));$T(E,x,g),$t=null,fr=!1,E=g.alternate,E!==null&&(E.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)XT(a,i),a=a.sibling}var Ei=null;function XT(i,a){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rr(a,i),kr(i),d&4&&(ia(3,i,i.return),Dc(3,i),ia(5,i,i.return));break;case 1:Rr(a,i),kr(i),d&512&&(fn||l===null||Yi(l,l.return)),d&64&&Ns&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var g=Ei;if(Rr(a,i),kr(i),d&512&&(fn||l===null||Yi(l,l.return)),d&4){var E=l!==null?l.memoizedState:null;if(d=i.memoizedState,l===null)if(d===null)if(i.stateNode===null){e:{d=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":E=g.getElementsByTagName("title")[0],(!E||E[ds]||E[cn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=g.createElement(d),g.head.insertBefore(E,g.querySelector("head > title"))),Yn(E,d,l),E[cn]=i,Qt(E),d=E;break e;case"link":var x=j2("link","href",g).get(d+(l.href||""));if(x){for(var H=0;H<x.length;H++)if(E=x[H],E.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&E.getAttribute("rel")===(l.rel==null?null:l.rel)&&E.getAttribute("title")===(l.title==null?null:l.title)&&E.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(H,1);break t}}E=g.createElement(d),Yn(E,d,l),g.head.appendChild(E);break;case"meta":if(x=j2("meta","content",g).get(d+(l.content||""))){for(H=0;H<x.length;H++)if(E=x[H],E.getAttribute("content")===(l.content==null?null:""+l.content)&&E.getAttribute("name")===(l.name==null?null:l.name)&&E.getAttribute("property")===(l.property==null?null:l.property)&&E.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&E.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(H,1);break t}}E=g.createElement(d),Yn(E,d,l),g.head.appendChild(E);break;default:throw Error(r(468,d))}E[cn]=i,Qt(E),d=E}i.stateNode=d}else q2(g,i.type,i.stateNode);else i.stateNode=z2(g,d,i.memoizedProps);else E!==d?(E===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):E.count--,d===null?q2(g,i.type,i.stateNode):z2(g,d,i.memoizedProps)):d===null&&i.stateNode!==null&&lg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Rr(a,i),kr(i),d&512&&(fn||l===null||Yi(l,l.return)),l!==null&&d&4&&lg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Rr(a,i),kr(i),d&512&&(fn||l===null||Yi(l,l.return)),i.flags&32){g=i.stateNode;try{Wr(g,"")}catch(me){Pt(i,i.return,me)}}d&4&&i.stateNode!=null&&(g=i.memoizedProps,lg(i,g,l!==null?l.memoizedProps:g)),d&1024&&(fg=!0);break;case 6:if(Rr(a,i),kr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,l=i.stateNode;try{l.nodeValue=d}catch(me){Pt(i,i.return,me)}}break;case 3:if(Oh=null,g=Ei,Ei=kh(a.containerInfo),Rr(a,i),Ei=g,kr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Qc(a.containerInfo)}catch(me){Pt(i,i.return,me)}fg&&(fg=!1,QT(i));break;case 4:d=Ei,Ei=kh(i.stateNode.containerInfo),Rr(a,i),kr(i),Ei=d;break;case 12:Rr(a,i),kr(i);break;case 13:Rr(a,i),kr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_g=Qe()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,hg(i,d)));break;case 22:g=i.memoizedState!==null;var W=l!==null&&l.memoizedState!==null,de=Ns,_e=fn;if(Ns=de||g,fn=_e||W,Rr(a,i),fn=_e,Ns=de,kr(i),d&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||W||Ns||fn||Io(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){W=l=a;try{if(E=W.stateNode,g)x=E.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{H=W.stateNode;var Ae=W.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;H.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(me){Pt(W,W.return,me)}}}else if(a.tag===6){if(l===null){W=a;try{W.stateNode.nodeValue=g?"":W.memoizedProps}catch(me){Pt(W,W.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=i.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,hg(i,l))));break;case 19:Rr(a,i),kr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,hg(i,d)));break;case 30:break;case 21:break;default:Rr(a,i),kr(i)}}function kr(i){var a=i.flags;if(a&2){try{for(var l,d=i.return;d!==null;){if(zT(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,E=cg(i);Eh(i,E,g);break;case 5:var x=l.stateNode;l.flags&32&&(Wr(x,""),l.flags&=-33);var H=cg(i);Eh(i,H,x);break;case 3:case 4:var W=l.stateNode.containerInfo,de=cg(i);dg(i,de,W);break;default:throw Error(r(161))}}catch(_e){Pt(i,i.return,_e)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function QT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;QT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function sa(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)YT(i,a.alternate,a),a=a.sibling}function Io(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ia(4,a,a.return),Io(a);break;case 1:Yi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&VT(a,a.return,l),Io(a);break;case 27:zc(a.stateNode);case 26:case 5:Yi(a,a.return),Io(a);break;case 22:a.memoizedState===null&&Io(a);break;case 30:Io(a);break;default:Io(a)}i=i.sibling}}function aa(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=i,E=a,x=E.flags;switch(E.tag){case 0:case 11:case 15:aa(g,E,l),Dc(4,E);break;case 1:if(aa(g,E,l),d=E,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(de){Pt(d,d.return,de)}if(d=E,g=d.updateQueue,g!==null){var H=d.stateNode;try{var W=g.shared.hiddenCallbacks;if(W!==null)for(g.shared.hiddenCallbacks=null,g=0;g<W.length;g++)xb(W[g],H)}catch(de){Pt(d,d.return,de)}}l&&x&64&&HT(E),Oc(E,E.return);break;case 27:jT(E);case 26:case 5:aa(g,E,l),l&&d===null&&x&4&&FT(E),Oc(E,E.return);break;case 12:aa(g,E,l);break;case 13:aa(g,E,l),l&&x&4&&KT(g,E);break;case 22:E.memoizedState===null&&aa(g,E,l),Oc(E,E.return);break;case 30:break;default:aa(g,E,l)}a=a.sibling}}function mg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ec(l))}function pg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ec(i))}function Gi(i,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)WT(i,a,l,d),a=a.sibling}function WT(i,a,l,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(i,a,l,d),g&2048&&Dc(9,a);break;case 1:Gi(i,a,l,d);break;case 3:Gi(i,a,l,d),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ec(i)));break;case 12:if(g&2048){Gi(i,a,l,d),i=a.stateNode;try{var E=a.memoizedProps,x=E.id,H=E.onPostCommit;typeof H=="function"&&H(x,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(W){Pt(a,a.return,W)}}else Gi(i,a,l,d);break;case 13:Gi(i,a,l,d);break;case 23:break;case 22:E=a.stateNode,x=a.alternate,a.memoizedState!==null?E._visibility&2?Gi(i,a,l,d):Lc(i,a):E._visibility&2?Gi(i,a,l,d):(E._visibility|=2,Pu(i,a,l,d,(a.subtreeFlags&10256)!==0)),g&2048&&mg(x,a);break;case 24:Gi(i,a,l,d),g&2048&&pg(a.alternate,a);break;default:Gi(i,a,l,d)}}function Pu(i,a,l,d,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var E=i,x=a,H=l,W=d,de=x.flags;switch(x.tag){case 0:case 11:case 15:Pu(E,x,H,W,g),Dc(8,x);break;case 23:break;case 22:var _e=x.stateNode;x.memoizedState!==null?_e._visibility&2?Pu(E,x,H,W,g):Lc(E,x):(_e._visibility|=2,Pu(E,x,H,W,g)),g&&de&2048&&mg(x.alternate,x);break;case 24:Pu(E,x,H,W,g),g&&de&2048&&pg(x.alternate,x);break;default:Pu(E,x,H,W,g)}a=a.sibling}}function Lc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,d=a,g=d.flags;switch(d.tag){case 22:Lc(l,d),g&2048&&mg(d.alternate,d);break;case 24:Lc(l,d),g&2048&&pg(d.alternate,d);break;default:Lc(l,d)}a=a.sibling}}var Pc=8192;function Mu(i){if(i.subtreeFlags&Pc)for(i=i.child;i!==null;)ZT(i),i=i.sibling}function ZT(i){switch(i.tag){case 26:Mu(i),i.flags&Pc&&i.memoizedState!==null&&d6(Ei,i.memoizedState,i.memoizedProps);break;case 5:Mu(i);break;case 3:case 4:var a=Ei;Ei=kh(i.stateNode.containerInfo),Mu(i),Ei=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Pc,Pc=16777216,Mu(i),Pc=a):Mu(i));break;default:Mu(i)}}function JT(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Mc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];On=d,t2(d,i)}JT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e2(i),i=i.sibling}function e2(i){switch(i.tag){case 0:case 11:case 15:Mc(i),i.flags&2048&&ia(9,i,i.return);break;case 3:Mc(i);break;case 12:Mc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,_h(i)):Mc(i);break;default:Mc(i)}}function _h(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];On=d,t2(d,i)}JT(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ia(8,a,a.return),_h(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,_h(a));break;default:_h(a)}i=i.sibling}}function t2(i,a){for(;On!==null;){var l=On;switch(l.tag){case 0:case 11:case 15:ia(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ec(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,On=d;else e:for(l=i;On!==null;){d=On;var g=d.sibling,E=d.return;if(GT(d),d===l){On=null;break e}if(g!==null){g.return=E,On=g;break e}On=E}}}var C4={getCacheForType:function(i){var a=Xn(Cn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},I4=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ut=null,dt=null,_t=0,Rt=0,Dr=null,oa=!1,Bu=!1,gg=!1,ks=0,rn=0,ua=0,No=0,yg=0,ai=0,Uu=0,Bc=null,hr=null,Eg=!1,_g=0,bh=1/0,Th=null,la=null,qn=0,ca=null,Hu=null,Vu=0,bg=0,Tg=null,n2=null,Uc=0,vg=null;function Or(){if((Nt&2)!==0&&_t!==0)return _t&-_t;if(F.T!==null){var i=Cu;return i!==0?i:Ng()}return Ri()}function r2(){ai===0&&(ai=(_t&536870912)===0||xt?cs():536870912);var i=si.current;return i!==null&&(i.flags|=32),ai}function Lr(i,a,l){(i===Ut&&(Rt===2||Rt===9)||i.cancelPendingCommit!==null)&&(Fu(i,0),da(i,_t,ai,!1)),Yr(i,l),((Nt&2)===0||i!==Ut)&&(i===Ut&&((Nt&2)===0&&(No|=l),rn===4&&da(i,_t,ai,!1)),$i(i))}function i2(i,a,l){if((Nt&6)!==0)throw Error(r(327));var d=!l&&(a&124)===0&&(a&i.expiredLanes)===0||en(i,a),g=d?k4(i,a):xg(i,a,!0),E=d;do{if(g===0){Bu&&!d&&da(i,a,0,!1);break}else{if(l=i.current.alternate,E&&!N4(l)){g=xg(i,a,!1),E=!1;continue}if(g===2){if(E=a,i.errorRecoveryDisabledLanes&E)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){a=x;e:{var H=i;g=Bc;var W=H.current.memoizedState.isDehydrated;if(W&&(Fu(H,x).flags|=256),x=xg(H,x,!1),x!==2){if(gg&&!W){H.errorRecoveryDisabledLanes|=E,No|=E,g=4;break e}E=hr,hr=g,E!==null&&(hr===null?hr=E:hr.push.apply(hr,E))}g=x}if(E=!1,g!==2)continue}}if(g===1){Fu(i,0),da(i,a,0,!0);break}e:{switch(d=i,E=g,E){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:da(d,a,ai,!oa);break e;case 2:hr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=_g+300-Qe(),10<g)){if(da(d,a,ai,!oa),St(d,0,!0)!==0)break e;d.timeoutHandle=O2(s2.bind(null,d,l,hr,Th,Eg,a,ai,No,Uu,oa,E,2,-0,0),g);break e}s2(d,l,hr,Th,Eg,a,ai,No,Uu,oa,E,0,-0,0)}}break}while(!0);$i(i)}function s2(i,a,l,d,g,E,x,H,W,de,_e,Ae,fe,me){if(i.timeoutHandle=-1,Ae=a.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(Yc={stylesheets:null,count:0,unsuspend:c6},ZT(a),Ae=f6(),Ae!==null)){i.cancelPendingCommit=Ae(f2.bind(null,i,a,E,l,d,g,x,H,W,_e,1,fe,me)),da(i,E,x,!de);return}f2(i,a,E,l,d,g,x,H,W)}function N4(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var g=l[d],E=g.getSnapshot;g=g.value;try{if(!Ir(E(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function da(i,a,l,d){a&=~yg,a&=~No,i.suspendedLanes|=a,i.pingedLanes&=~a,d&&(i.warmLanes|=a),d=i.expirationTimes;for(var g=a;0<g;){var E=31-Fe(g),x=1<<E;d[E]=-1,g&=~x}l!==0&&Gr(i,l,a)}function vh(){return(Nt&6)===0?(Hc(0),!1):!0}function Ag(){if(dt!==null){if(Rt===0)var i=dt.return;else i=dt,As=Ao=null,Vp(i),Ou=null,Nc=0,i=dt;for(;i!==null;)UT(i.alternate,i),i=i.return;dt=null}}function Fu(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,$4(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ag(),Ut=i,dt=l=bs(i.current,null),_t=a,Rt=0,Dr=null,oa=!1,Bu=en(i,a),gg=!1,Uu=ai=yg=No=ua=rn=0,hr=Bc=null,Eg=!1,(a&8)!==0&&(a|=a&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=a;0<d;){var g=31-Fe(d),E=1<<g;a|=i[g],d&=~E}return ks=a,qf(),l}function a2(i,a){it=null,F.H=lh,a===bc||a===Jf?(a=Ab(),Rt=3):a===bb?(a=Ab(),Rt=4):Rt=a===ST?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Dr=a,dt===null&&(rn=1,mh(i,ti(a,i.current)))}function o2(){var i=F.H;return F.H=lh,i===null?lh:i}function u2(){var i=F.A;return F.A=C4,i}function Sg(){rn=4,oa||(_t&4194048)!==_t&&si.current!==null||(Bu=!0),(ua&134217727)===0&&(No&134217727)===0||Ut===null||da(Ut,_t,ai,!1)}function xg(i,a,l){var d=Nt;Nt|=2;var g=o2(),E=u2();(Ut!==i||_t!==a)&&(Th=null,Fu(i,a)),a=!1;var x=rn;e:do try{if(Rt!==0&&dt!==null){var H=dt,W=Dr;switch(Rt){case 8:Ag(),x=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(a=!0);var de=Rt;if(Rt=0,Dr=null,zu(i,H,W,de),l&&Bu){x=0;break e}break;default:de=Rt,Rt=0,Dr=null,zu(i,H,W,de)}}R4(),x=rn;break}catch(_e){a2(i,_e)}while(!0);return a&&i.shellSuspendCounter++,As=Ao=null,Nt=d,F.H=g,F.A=E,dt===null&&(Ut=null,_t=0,qf()),x}function R4(){for(;dt!==null;)l2(dt)}function k4(i,a){var l=Nt;Nt|=2;var d=o2(),g=u2();Ut!==i||_t!==a?(Th=null,bh=Qe()+500,Fu(i,a)):Bu=en(i,a);e:do try{if(Rt!==0&&dt!==null){a=dt;var E=Dr;t:switch(Rt){case 1:Rt=0,Dr=null,zu(i,a,E,1);break;case 2:case 9:if(Tb(E)){Rt=0,Dr=null,c2(a);break}a=function(){Rt!==2&&Rt!==9||Ut!==i||(Rt=7),$i(i)},E.then(a,a);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:Tb(E)?(Rt=0,Dr=null,c2(a)):(Rt=0,Dr=null,zu(i,a,E,7));break;case 5:var x=null;switch(dt.tag){case 26:x=dt.memoizedState;case 5:case 27:var H=dt;if(!x||Y2(x)){Rt=0,Dr=null;var W=H.sibling;if(W!==null)dt=W;else{var de=H.return;de!==null?(dt=de,Ah(de)):dt=null}break t}}Rt=0,Dr=null,zu(i,a,E,5);break;case 6:Rt=0,Dr=null,zu(i,a,E,6);break;case 8:Ag(),rn=6;break e;default:throw Error(r(462))}}D4();break}catch(_e){a2(i,_e)}while(!0);return As=Ao=null,F.H=d,F.A=g,Nt=l,dt!==null?0:(Ut=null,_t=0,qf(),rn)}function D4(){for(;dt!==null&&!gt();)l2(dt)}function l2(i){var a=MT(i.alternate,i,ks);i.memoizedProps=i.pendingProps,a===null?Ah(i):dt=a}function c2(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=RT(l,a,a.pendingProps,a.type,void 0,_t);break;case 11:a=RT(l,a,a.pendingProps,a.type.render,a.ref,_t);break;case 5:Vp(a);default:UT(l,a),a=dt=db(a,ks),a=MT(l,a,ks)}i.memoizedProps=i.pendingProps,a===null?Ah(i):dt=a}function zu(i,a,l,d){As=Ao=null,Vp(a),Ou=null,Nc=0;var g=a.return;try{if(T4(i,g,a,l,_t)){rn=1,mh(i,ti(l,i.current)),dt=null;return}}catch(E){if(g!==null)throw dt=g,E;rn=1,mh(i,ti(l,i.current)),dt=null;return}a.flags&32768?(xt||d===1?i=!0:Bu||(_t&536870912)!==0?i=!1:(oa=i=!0,(d===2||d===9||d===3||d===6)&&(d=si.current,d!==null&&d.tag===13&&(d.flags|=16384))),d2(a,i)):Ah(a)}function Ah(i){var a=i;do{if((a.flags&32768)!==0){d2(a,oa);return}i=a.return;var l=A4(a.alternate,a,ks);if(l!==null){dt=l;return}if(a=a.sibling,a!==null){dt=a;return}dt=a=i}while(a!==null);rn===0&&(rn=5)}function d2(i,a){do{var l=S4(i.alternate,i);if(l!==null){l.flags&=32767,dt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){dt=i;return}dt=i=l}while(i!==null);rn=6,dt=null}function f2(i,a,l,d,g,E,x,H,W){i.cancelPendingCommit=null;do Sh();while(qn!==0);if((Nt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(E=a.lanes|a.childLanes,E|=pp,xr(i,l,E,x,H,W),i===Ut&&(dt=Ut=null,_t=0),Hu=a,ca=i,Vu=l,bg=E,Tg=g,n2=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,M4(un,function(){return y2(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=F.T,F.T=null,g=J.p,J.p=2,x=Nt,Nt|=4;try{x4(i,a,l)}finally{Nt=x,J.p=g,F.T=d}}qn=1,h2(),m2(),p2()}}function h2(){if(qn===1){qn=0;var i=ca,a=Hu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var d=J.p;J.p=2;var g=Nt;Nt|=4;try{XT(a,i);var E=Bg,x=tb(i.containerInfo),H=E.focusedElem,W=E.selectionRange;if(x!==H&&H&&H.ownerDocument&&eb(H.ownerDocument.documentElement,H)){if(W!==null&&cp(H)){var de=W.start,_e=W.end;if(_e===void 0&&(_e=de),"selectionStart"in H)H.selectionStart=de,H.selectionEnd=Math.min(_e,H.value.length);else{var Ae=H.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Ke=H.textContent.length,qe=Math.min(W.start,Ke),Lt=W.end===void 0?qe:Math.min(W.end,Ke);!me.extend&&qe>Lt&&(x=Lt,Lt=qe,qe=x);var ie=J_(H,qe),ne=J_(H,Lt);if(ie&&ne&&(me.rangeCount!==1||me.anchorNode!==ie.node||me.anchorOffset!==ie.offset||me.focusNode!==ne.node||me.focusOffset!==ne.offset)){var le=Ae.createRange();le.setStart(ie.node,ie.offset),me.removeAllRanges(),qe>Lt?(me.addRange(le),me.extend(ne.node,ne.offset)):(le.setEnd(ne.node,ne.offset),me.addRange(le))}}}}for(Ae=[],me=H;me=me.parentNode;)me.nodeType===1&&Ae.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ae.length;H++){var ve=Ae[H];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Mh=!!Mg,Bg=Mg=null}finally{Nt=g,J.p=d,F.T=l}}i.current=a,qn=2}}function m2(){if(qn===2){qn=0;var i=ca,a=Hu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var d=J.p;J.p=2;var g=Nt;Nt|=4;try{YT(i,a.alternate,a)}finally{Nt=g,J.p=d,F.T=l}}qn=3}}function p2(){if(qn===4||qn===3){qn=0,Xt();var i=ca,a=Hu,l=Vu,d=n2;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?qn=5:(qn=0,Hu=ca=null,g2(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(la=null),Gs(l),a=a.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(he,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=F.T,g=J.p,J.p=2,F.T=null;try{for(var E=i.onRecoverableError,x=0;x<d.length;x++){var H=d[x];E(H.value,{componentStack:H.stack})}}finally{F.T=a,J.p=g}}(Vu&3)!==0&&Sh(),$i(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===vg?Uc++:(Uc=0,vg=i):Uc=0,Hc(0)}}function g2(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ec(a)))}function Sh(i){return h2(),m2(),p2(),y2()}function y2(){if(qn!==5)return!1;var i=ca,a=bg;bg=0;var l=Gs(Vu),d=F.T,g=J.p;try{J.p=32>l?32:l,F.T=null,l=Tg,Tg=null;var E=ca,x=Vu;if(qn=0,Hu=ca=null,Vu=0,(Nt&6)!==0)throw Error(r(331));var H=Nt;if(Nt|=4,e2(E.current),WT(E,E.current,x,l),Nt=H,Hc(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(he,E)}catch{}return!0}finally{J.p=g,F.T=d,g2(i,a)}}function E2(i,a,l){a=ti(l,a),a=eg(i.stateNode,a,2),i=ea(i,a,2),i!==null&&(Yr(i,2),$i(i))}function Pt(i,a,l){if(i.tag===3)E2(i,i,l);else for(;a!==null;){if(a.tag===3){E2(a,i,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(la===null||!la.has(d))){i=ti(l,i),l=vT(2),d=ea(a,l,2),d!==null&&(AT(l,d,a,i),Yr(d,2),$i(d));break}}a=a.return}}function wg(i,a,l){var d=i.pingCache;if(d===null){d=i.pingCache=new I4;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(l)||(gg=!0,g.add(l),i=O4.bind(null,i,a,l),a.then(i,i))}function O4(i,a,l){var d=i.pingCache;d!==null&&d.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ut===i&&(_t&l)===l&&(rn===4||rn===3&&(_t&62914560)===_t&&300>Qe()-_g?(Nt&2)===0&&Fu(i,0):yg|=l,Uu===_t&&(Uu=0)),$i(i)}function _2(i,a){a===0&&(a=hi()),i=Au(i,a),i!==null&&(Yr(i,a),$i(i))}function L4(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),_2(i,l)}function P4(i,a){var l=0;switch(i.tag){case 13:var d=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),_2(i,l)}function M4(i,a){return Ze(i,a)}var xh=null,ju=null,Cg=!1,wh=!1,Ig=!1,Ro=0;function $i(i){i!==ju&&i.next===null&&(ju===null?xh=ju=i:ju=ju.next=i),wh=!0,Cg||(Cg=!0,U4())}function Hc(i,a){if(!Ig&&wh){Ig=!0;do for(var l=!1,d=xh;d!==null;){if(i!==0){var g=d.pendingLanes;if(g===0)var E=0;else{var x=d.suspendedLanes,H=d.pingedLanes;E=(1<<31-Fe(42|i)+1)-1,E&=g&~(x&~H),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(l=!0,A2(d,E))}else E=_t,E=St(d,d===Ut?E:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(E&3)===0||en(d,E)||(l=!0,A2(d,E));d=d.next}while(l);Ig=!1}}function B4(){b2()}function b2(){wh=Cg=!1;var i=0;Ro!==0&&(G4()&&(i=Ro),Ro=0);for(var a=Qe(),l=null,d=xh;d!==null;){var g=d.next,E=T2(d,a);E===0?(d.next=null,l===null?xh=g:l.next=g,g===null&&(ju=l)):(l=d,(i!==0||(E&3)!==0)&&(wh=!0)),d=g}Hc(i)}function T2(i,a){for(var l=i.suspendedLanes,d=i.pingedLanes,g=i.expirationTimes,E=i.pendingLanes&-62914561;0<E;){var x=31-Fe(E),H=1<<x,W=g[x];W===-1?((H&l)===0||(H&d)!==0)&&(g[x]=An(H,a)):W<=a&&(i.expiredLanes|=H),E&=~H}if(a=Ut,l=_t,l=St(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,l===0||i===a&&(Rt===2||Rt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&pt(d),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||en(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(d!==null&&pt(d),Gs(l)){case 2:case 8:l=vn;break;case 32:l=un;break;case 268435456:l=Hn;break;default:l=un}return d=v2.bind(null,i),l=Ze(l,d),i.callbackPriority=a,i.callbackNode=l,a}return d!==null&&d!==null&&pt(d),i.callbackPriority=2,i.callbackNode=null,2}function v2(i,a){if(qn!==0&&qn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Sh()&&i.callbackNode!==l)return null;var d=_t;return d=St(i,i===Ut?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(i2(i,d,a),T2(i,Qe()),i.callbackNode!=null&&i.callbackNode===l?v2.bind(null,i):null)}function A2(i,a){if(Sh())return null;i2(i,a,!0)}function U4(){K4(function(){(Nt&6)!==0?Ze(zt,B4):b2()})}function Ng(){return Ro===0&&(Ro=cs()),Ro}function S2(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:du(""+i)}function x2(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function H4(i,a,l,d,g){if(a==="submit"&&l&&l.stateNode===g){var E=S2((g[tn]||null).action),x=d.submitter;x&&(a=(a=x[tn]||null)?S2(a.formAction):x.getAttribute("formAction"),a!==null&&(E=a,x=null));var H=new fu("action","action",null,d,g);i.push({event:H,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ro!==0){var W=x?x2(g,x):new FormData(g);Xp(l,{pending:!0,data:W,method:g.method,action:E},null,W)}}else typeof E=="function"&&(H.preventDefault(),W=x?x2(g,x):new FormData(g),Xp(l,{pending:!0,data:W,method:g.method,action:E},E,W))},currentTarget:g}]})}}for(var Rg=0;Rg<mp.length;Rg++){var kg=mp[Rg],V4=kg.toLowerCase(),F4=kg[0].toUpperCase()+kg.slice(1);yi(V4,"on"+F4)}yi(ib,"onAnimationEnd"),yi(sb,"onAnimationIteration"),yi(ab,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(i4,"onTransitionRun"),yi(s4,"onTransitionStart"),yi(a4,"onTransitionCancel"),yi(ob,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function w2(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],g=d.event;d=d.listeners;e:{var E=void 0;if(a)for(var x=d.length-1;0<=x;x--){var H=d[x],W=H.instance,de=H.currentTarget;if(H=H.listener,W!==E&&g.isPropagationStopped())break e;E=H,g.currentTarget=de;try{E(g)}catch(_e){hh(_e)}g.currentTarget=null,E=W}else for(x=0;x<d.length;x++){if(H=d[x],W=H.instance,de=H.currentTarget,H=H.listener,W!==E&&g.isPropagationStopped())break e;E=H,g.currentTarget=de;try{E(g)}catch(_e){hh(_e)}g.currentTarget=null,E=W}}}}function ft(i,a){var l=a[to];l===void 0&&(l=a[to]=new Set);var d=i+"__bubble";l.has(d)||(C2(a,i,2,!1),l.add(d))}function Dg(i,a,l){var d=0;a&&(d|=4),C2(l,i,d,a)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Og(i){if(!i[Ch]){i[Ch]=!0,no.forEach(function(l){l!=="selectionchange"&&(z4.has(l)||Dg(l,!1,i),Dg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Ch]||(a[Ch]=!0,Dg("selectionchange",!1,a))}}function C2(i,a,l,d){switch(W2(a)){case 2:var g=p6;break;case 8:g=g6;break;default:g=$g}l=g.bind(null,a,l,i),g=void 0,!Jr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function Lg(i,a,l,d,g){var E=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var H=d.stateNode.containerInfo;if(H===g)break;if(x===4)for(x=d.return;x!==null;){var W=x.tag;if((W===3||W===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;H!==null;){if(x=$r(H),x===null)return;if(W=x.tag,W===5||W===6||W===26||W===27){d=E=x;continue e}H=H.parentNode}}d=d.return}Nf(function(){var de=E,_e=Zr(l),Ae=[];e:{var fe=ub.get(i);if(fe!==void 0){var me=fu,Ke=i;switch(i){case"keypress":if(Ui(l)===0)break e;case"keydown":case"keyup":me=Eu;break;case"focusin":Ke="focus",me=pu;break;case"focusout":Ke="blur",me=pu;break;case"beforeblur":case"afterblur":me=pu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Bf;break;case ib:case sb:case ab:me=gu;break;case ob:me=Hf;break;case"scroll":case"scrollend":me=Rf;break;case"wheel":me=_u;break;case"copy":case"cut":case"paste":me=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=cc;break;case"toggle":case"beforetoggle":me=Ff}var qe=(a&4)!==0,Lt=!qe&&(i==="scroll"||i==="scrollend"),ie=qe?fe!==null?fe+"Capture":null:fe;qe=[];for(var ne=de,le;ne!==null;){var ve=ne;if(le=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||le===null||ie===null||(ve=uo(ne,ie),ve!=null&&qe.push(Fc(ne,ve,le))),Lt)break;ne=ne.return}0<qe.length&&(fe=new me(fe,Ke,null,l,_e),Ae.push({event:fe,listeners:qe}))}}if((a&7)===0){e:{if(fe=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",fe&&l!==ms&&(Ke=l.relatedTarget||l.fromElement)&&($r(Ke)||Ke[cr]))break e;if((me||fe)&&(fe=_e.window===_e?_e:(fe=_e.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Ke=l.relatedTarget||l.toElement,me=de,Ke=Ke?$r(Ke):null,Ke!==null&&(Lt=o(Ke),qe=Ke.tag,Ke!==Lt||qe!==5&&qe!==27&&qe!==6)&&(Ke=null)):(me=null,Ke=de),me!==Ke)){if(qe=ei,ve="onMouseLeave",ie="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(qe=cc,ve="onPointerLeave",ie="onPointerEnter",ne="pointer"),Lt=me==null?fe:Xr(me),le=Ke==null?fe:Xr(Ke),fe=new qe(ve,ne+"leave",me,l,_e),fe.target=Lt,fe.relatedTarget=le,ve=null,$r(_e)===de&&(qe=new qe(ie,ne+"enter",Ke,l,_e),qe.target=le,qe.relatedTarget=Lt,ve=qe),Lt=ve,me&&Ke)t:{for(qe=me,ie=Ke,ne=0,le=qe;le;le=qu(le))ne++;for(le=0,ve=ie;ve;ve=qu(ve))le++;for(;0<ne-le;)qe=qu(qe),ne--;for(;0<le-ne;)ie=qu(ie),le--;for(;ne--;){if(qe===ie||ie!==null&&qe===ie.alternate)break t;qe=qu(qe),ie=qu(ie)}qe=null}else qe=null;me!==null&&I2(Ae,fe,me,qe,!1),Ke!==null&&Lt!==null&&I2(Ae,Lt,Ke,qe,!0)}}e:{if(fe=de?Xr(de):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var Ue=$_;else if(wn(fe))if(K_)Ue=t4;else{Ue=JR;var ot=ZR}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&rc(de.elementType)&&(Ue=$_):Ue=e4;if(Ue&&(Ue=Ue(i,de))){_s(Ae,Ue,l,_e);break e}ot&&ot(i,fe,de),i==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&Xs(fe,"number",fe.value)}switch(ot=de?Xr(de):window,i){case"focusin":(wn(ot)||ot.contentEditable==="true")&&(bu=ot,dp=de,hc=null);break;case"focusout":hc=dp=bu=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,nb(Ae,l,_e);break;case"selectionchange":if(r4)break;case"keydown":case"keyup":nb(Ae,l,_e)}var ze;if(Fi)e:{switch(i){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else yt?ge(i,l)&&(Ye="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ye="onCompositionStart");Ye&&(S&&l.locale!=="ko"&&(yt||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&yt&&(ze=sc()):(Bi=_e,Qs="value"in Bi?Bi.value:Bi.textContent,yt=!0)),ot=Ih(de,Ye),0<ot.length&&(Ye=new uc(Ye,i,null,l,_e),Ae.push({event:Ye,listeners:ot}),ze?Ye.data=ze:(ze=De(l),ze!==null&&(Ye.data=ze)))),(ze=v?xn(i,l):Et(i,l))&&(Ye=Ih(de,"onBeforeInput"),0<Ye.length&&(ot=new uc("onBeforeInput","beforeinput",null,l,_e),Ae.push({event:ot,listeners:Ye}),ot.data=ze)),H4(Ae,i,de,l,_e)}w2(Ae,a)})}function Fc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Ih(i,a){for(var l=a+"Capture",d=[];i!==null;){var g=i,E=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||E===null||(g=uo(i,l),g!=null&&d.unshift(Fc(i,g,E)),g=uo(i,a),g!=null&&d.push(Fc(i,g,E))),i.tag===3)return d;i=i.return}return[]}function qu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function I2(i,a,l,d,g){for(var E=a._reactName,x=[];l!==null&&l!==d;){var H=l,W=H.alternate,de=H.stateNode;if(H=H.tag,W!==null&&W===d)break;H!==5&&H!==26&&H!==27||de===null||(W=de,g?(de=uo(l,E),de!=null&&x.unshift(Fc(l,de,W))):g||(de=uo(l,E),de!=null&&x.push(Fc(l,de,W)))),l=l.return}x.length!==0&&i.push({event:a,listeners:x})}var j4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function N2(i){return(typeof i=="string"?i:""+i).replace(j4,`
`).replace(q4,"")}function R2(i,a){return a=N2(a),N2(i)===a}function Nh(){}function Ot(i,a,l,d,g,E){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Wr(i,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Wr(i,""+d);break;case"className":Qr(i,"class",d);break;case"tabIndex":Qr(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(i,l,d);break;case"style":nc(i,d,E);break;case"data":if(a!=="object"){Qr(i,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=du(""+d),i.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(l==="formAction"?(a!=="input"&&Ot(i,a,"name",g.name,g,null),Ot(i,a,"formEncType",g.formEncType,g,null),Ot(i,a,"formMethod",g.formMethod,g,null),Ot(i,a,"formTarget",g.formTarget,g,null)):(Ot(i,a,"encType",g.encType,g,null),Ot(i,a,"method",g.method,g,null),Ot(i,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(l);break}d=du(""+d),i.setAttribute(l,d);break;case"onClick":d!=null&&(i.onclick=Nh);break;case"onScroll":d!=null&&ft("scroll",i);break;case"onScrollEnd":d!=null&&ft("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}l=du(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""+d):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":d===!0?i.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(l,d):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(l,d):i.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(l):i.setAttribute(l,d);break;case"popover":ft("beforetoggle",i),ft("toggle",i),Oi(i,"popover",d);break;case"xlinkActuate":Sn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Sn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Sn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Sn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Sn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Sn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Oi(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ip.get(l)||l,Oi(i,l,d))}}function Pg(i,a,l,d,g,E){switch(l){case"style":nc(i,d,E);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof d=="string"?Wr(i,d):(typeof d=="number"||typeof d=="bigint")&&Wr(i,""+d);break;case"onScroll":d!=null&&ft("scroll",i);break;case"onScrollEnd":d!=null&&ft("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$s.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),E=i[tn]||null,E=E!=null?E[l]:null,typeof E=="function"&&i.removeEventListener(a,E,g),typeof d=="function")){typeof E!="function"&&E!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,d,g);break e}l in i?i[l]=d:d===!0?i.setAttribute(l,""):Oi(i,l,d)}}}function Yn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",i),ft("load",i);var d=!1,g=!1,E;for(E in l)if(l.hasOwnProperty(E)){var x=l[E];if(x!=null)switch(E){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ot(i,a,E,x,l,null)}}g&&Ot(i,a,"srcSet",l.srcSet,l,null),d&&Ot(i,a,"src",l.src,l,null);return;case"input":ft("invalid",i);var H=E=x=g=null,W=null,de=null;for(d in l)if(l.hasOwnProperty(d)){var _e=l[d];if(_e!=null)switch(d){case"name":g=_e;break;case"type":x=_e;break;case"checked":W=_e;break;case"defaultChecked":de=_e;break;case"value":E=_e;break;case"defaultValue":H=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,a));break;default:Ot(i,a,d,_e,l,null)}}so(i,E,H,W,de,x,g,!1),cu(i);return;case"select":ft("invalid",i),d=x=E=null;for(g in l)if(l.hasOwnProperty(g)&&(H=l[g],H!=null))switch(g){case"value":E=H;break;case"defaultValue":x=H;break;case"multiple":d=H;default:Ot(i,a,g,H,l,null)}a=E,l=x,i.multiple=!!d,a!=null?hs(i,!!d,a,!1):l!=null&&hs(i,!!d,l,!0);return;case"textarea":ft("invalid",i),E=g=d=null;for(x in l)if(l.hasOwnProperty(x)&&(H=l[x],H!=null))switch(x){case"value":d=H;break;case"defaultValue":g=H;break;case"children":E=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Ot(i,a,x,H,l,null)}ao(i,d,g,E),cu(i);return;case"option":for(W in l)if(l.hasOwnProperty(W)&&(d=l[W],d!=null))switch(W){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ot(i,a,W,d,l,null)}return;case"dialog":ft("beforetoggle",i),ft("toggle",i),ft("cancel",i),ft("close",i);break;case"iframe":case"object":ft("load",i);break;case"video":case"audio":for(d=0;d<Vc.length;d++)ft(Vc[d],i);break;case"image":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"embed":case"source":case"link":ft("error",i),ft("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in l)if(l.hasOwnProperty(de)&&(d=l[de],d!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ot(i,a,de,d,l,null)}return;default:if(rc(a)){for(_e in l)l.hasOwnProperty(_e)&&(d=l[_e],d!==void 0&&Pg(i,a,_e,d,l,void 0));return}}for(H in l)l.hasOwnProperty(H)&&(d=l[H],d!=null&&Ot(i,a,H,d,l,null))}function Y4(i,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,E=null,x=null,H=null,W=null,de=null,_e=null;for(me in l){var Ae=l[me];if(l.hasOwnProperty(me)&&Ae!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":W=Ae;default:d.hasOwnProperty(me)||Ot(i,a,me,null,d,Ae)}}for(var fe in d){var me=d[fe];if(Ae=l[fe],d.hasOwnProperty(fe)&&(me!=null||Ae!=null))switch(fe){case"type":E=me;break;case"name":g=me;break;case"checked":de=me;break;case"defaultChecked":_e=me;break;case"value":x=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,a));break;default:me!==Ae&&Ot(i,a,fe,me,d,Ae)}}Cr(i,x,H,W,de,_e,E,g);return;case"select":me=x=H=fe=null;for(E in l)if(W=l[E],l.hasOwnProperty(E)&&W!=null)switch(E){case"value":break;case"multiple":me=W;default:d.hasOwnProperty(E)||Ot(i,a,E,null,d,W)}for(g in d)if(E=d[g],W=l[g],d.hasOwnProperty(g)&&(E!=null||W!=null))switch(g){case"value":fe=E;break;case"defaultValue":H=E;break;case"multiple":x=E;default:E!==W&&Ot(i,a,g,E,d,W)}a=H,l=x,d=me,fe!=null?hs(i,!!l,fe,!1):!!d!=!!l&&(a!=null?hs(i,!!l,a,!0):hs(i,!!l,l?[]:"",!1));return;case"textarea":me=fe=null;for(H in l)if(g=l[H],l.hasOwnProperty(H)&&g!=null&&!d.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Ot(i,a,H,null,d,g)}for(x in d)if(g=d[x],E=l[x],d.hasOwnProperty(x)&&(g!=null||E!=null))switch(x){case"value":fe=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==E&&Ot(i,a,x,g,d,E)}kt(i,fe,me);return;case"option":for(var Ke in l)if(fe=l[Ke],l.hasOwnProperty(Ke)&&fe!=null&&!d.hasOwnProperty(Ke))switch(Ke){case"selected":i.selected=!1;break;default:Ot(i,a,Ke,null,d,fe)}for(W in d)if(fe=d[W],me=l[W],d.hasOwnProperty(W)&&fe!==me&&(fe!=null||me!=null))switch(W){case"selected":i.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Ot(i,a,W,fe,d,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in l)fe=l[qe],l.hasOwnProperty(qe)&&fe!=null&&!d.hasOwnProperty(qe)&&Ot(i,a,qe,null,d,fe);for(de in d)if(fe=d[de],me=l[de],d.hasOwnProperty(de)&&fe!==me&&(fe!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,a));break;default:Ot(i,a,de,fe,d,me)}return;default:if(rc(a)){for(var Lt in l)fe=l[Lt],l.hasOwnProperty(Lt)&&fe!==void 0&&!d.hasOwnProperty(Lt)&&Pg(i,a,Lt,void 0,d,fe);for(_e in d)fe=d[_e],me=l[_e],!d.hasOwnProperty(_e)||fe===me||fe===void 0&&me===void 0||Pg(i,a,_e,fe,d,me);return}}for(var ie in l)fe=l[ie],l.hasOwnProperty(ie)&&fe!=null&&!d.hasOwnProperty(ie)&&Ot(i,a,ie,null,d,fe);for(Ae in d)fe=d[Ae],me=l[Ae],!d.hasOwnProperty(Ae)||fe===me||fe==null&&me==null||Ot(i,a,Ae,fe,d,me)}var Mg=null,Bg=null;function Rh(i){return i.nodeType===9?i:i.ownerDocument}function k2(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D2(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Ug(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hg=null;function G4(){var i=window.event;return i&&i.type==="popstate"?i===Hg?!1:(Hg=i,!0):(Hg=null,!1)}var O2=typeof setTimeout=="function"?setTimeout:void 0,$4=typeof clearTimeout=="function"?clearTimeout:void 0,L2=typeof Promise=="function"?Promise:void 0,K4=typeof queueMicrotask=="function"?queueMicrotask:typeof L2<"u"?function(i){return L2.resolve(null).then(i).catch(X4)}:O2;function X4(i){setTimeout(function(){throw i})}function fa(i){return i==="head"}function P2(i,a){var l=a,d=0,g=0;do{var E=l.nextSibling;if(i.removeChild(l),E&&E.nodeType===8)if(l=E.data,l==="/$"){if(0<d&&8>d){l=d;var x=i.ownerDocument;if(l&1&&zc(x.documentElement),l&2&&zc(x.body),l&4)for(l=x.head,zc(l),x=l.firstChild;x;){var H=x.nextSibling,W=x.nodeName;x[ds]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=H}}if(g===0){i.removeChild(E),Qc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:d=l.charCodeAt(0)-48;else d=0;l=E}while(l);Qc(a)}function Vg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vg(l),Di(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Q4(i,a,l,d){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[ds])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(E=i.getAttribute("rel"),E==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(E!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(E=i.getAttribute("src"),(E!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&E&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var E=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===E)return i}else return i;if(i=_i(i.nextSibling),i===null)break}return null}function W4(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=_i(i.nextSibling),i===null))return null;return i}function Fg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Z4(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function _i(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var zg=null;function M2(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function B2(i,a,l){switch(a=Rh(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function zc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Di(i)}var oi=new Map,U2=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ds=J.d;J.d={f:J4,r:e6,D:t6,C:n6,L:r6,m:i6,X:a6,S:s6,M:o6};function J4(){var i=Ds.f(),a=vh();return i||a}function e6(i){var a=Kr(i);a!==null&&a.tag===5&&a.type==="form"?iT(a):Ds.r(i)}var Yu=typeof document>"u"?null:document;function H2(i,a,l){var d=Yu;if(d&&typeof a=="string"&&a){var g=pn(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),U2.has(g)||(U2.add(g),i={rel:i,crossOrigin:l,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),Yn(a,"link",i),Qt(a),d.head.appendChild(a)))}}function t6(i){Ds.D(i),H2("dns-prefetch",i,null)}function n6(i,a){Ds.C(i,a),H2("preconnect",i,a)}function r6(i,a,l){Ds.L(i,a,l);var d=Yu;if(d&&i&&a){var g='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(i)+'"]';var E=g;switch(a){case"style":E=Gu(i);break;case"script":E=$u(i)}oi.has(E)||(i=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),oi.set(E,i),d.querySelector(g)!==null||a==="style"&&d.querySelector(jc(E))||a==="script"&&d.querySelector(qc(E))||(a=d.createElement("link"),Yn(a,"link",i),Qt(a),d.head.appendChild(a)))}}function i6(i,a){Ds.m(i,a);var l=Yu;if(l&&i){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+pn(d)+'"][href="'+pn(i)+'"]',E=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=$u(i)}if(!oi.has(E)&&(i=p({rel:"modulepreload",href:i},a),oi.set(E,i),l.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qc(E)))return}d=l.createElement("link"),Yn(d,"link",i),Qt(d),l.head.appendChild(d)}}}function s6(i,a,l){Ds.S(i,a,l);var d=Yu;if(d&&i){var g=Fn(d).hoistableStyles,E=Gu(i);a=a||"default";var x=g.get(E);if(!x){var H={loading:0,preload:null};if(x=d.querySelector(jc(E)))H.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},l),(l=oi.get(E))&&jg(i,l);var W=x=d.createElement("link");Qt(W),Yn(W,"link",i),W._p=new Promise(function(de,_e){W.onload=de,W.onerror=_e}),W.addEventListener("load",function(){H.loading|=1}),W.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Dh(x,a,d)}x={type:"stylesheet",instance:x,count:1,state:H},g.set(E,x)}}}function a6(i,a){Ds.X(i,a);var l=Yu;if(l&&i){var d=Fn(l).hoistableScripts,g=$u(i),E=d.get(g);E||(E=l.querySelector(qc(g)),E||(i=p({src:i,async:!0},a),(a=oi.get(g))&&qg(i,a),E=l.createElement("script"),Qt(E),Yn(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(g,E))}}function o6(i,a){Ds.M(i,a);var l=Yu;if(l&&i){var d=Fn(l).hoistableScripts,g=$u(i),E=d.get(g);E||(E=l.querySelector(qc(g)),E||(i=p({src:i,async:!0,type:"module"},a),(a=oi.get(g))&&qg(i,a),E=l.createElement("script"),Qt(E),Yn(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},d.set(g,E))}}function V2(i,a,l,d){var g=(g=pe.current)?kh(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Gu(l.href),l=Fn(g).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Gu(l.href);var E=Fn(g).hoistableStyles,x=E.get(i);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(i,x),(E=g.querySelector(jc(i)))&&!E._p&&(x.instance=E,x.state.loading=5),oi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},oi.set(i,l),E||u6(g,i,l,x.state))),a&&d===null)throw Error(r(528,""));return x}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$u(l),l=Fn(g).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Gu(i){return'href="'+pn(i)+'"'}function jc(i){return'link[rel="stylesheet"]['+i+"]"}function F2(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function u6(i,a,l,d){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=i.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Yn(a,"link",l),Qt(a),i.head.appendChild(a))}function $u(i){return'[src="'+pn(i)+'"]'}function qc(i){return"script[async]"+i}function z2(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=i.querySelector('style[data-href~="'+pn(l.href)+'"]');if(d)return a.instance=d,Qt(d),d;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Qt(d),Yn(d,"style",g),Dh(d,l.precedence,i),a.instance=d;case"stylesheet":g=Gu(l.href);var E=i.querySelector(jc(g));if(E)return a.state.loading|=4,a.instance=E,Qt(E),E;d=F2(l),(g=oi.get(g))&&jg(d,g),E=(i.ownerDocument||i).createElement("link"),Qt(E);var x=E;return x._p=new Promise(function(H,W){x.onload=H,x.onerror=W}),Yn(E,"link",d),a.state.loading|=4,Dh(E,l.precedence,i),a.instance=E;case"script":return E=$u(l.src),(g=i.querySelector(qc(E)))?(a.instance=g,Qt(g),g):(d=l,(g=oi.get(E))&&(d=p({},l),qg(d,g)),i=i.ownerDocument||i,g=i.createElement("script"),Qt(g),Yn(g,"link",d),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Dh(d,l.precedence,i));return a.instance}function Dh(i,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,E=g,x=0;x<d.length;x++){var H=d[x];if(H.dataset.precedence===a)E=H;else if(E!==g)break}E?E.parentNode.insertBefore(i,E.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function jg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function qg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Oh=null;function j2(i,a,l){if(Oh===null){var d=new Map,g=Oh=new Map;g.set(l,d)}else g=Oh,d=g.get(l),d||(d=new Map,g.set(l,d));if(d.has(i))return d;for(d.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var E=l[g];if(!(E[ds]||E[cn]||i==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var x=E.getAttribute(a)||"";x=i+x;var H=d.get(x);H?H.push(E):d.set(x,[E])}}return d}function q2(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function l6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Y2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Yc=null;function c6(){}function d6(i,a,l){if(Yc===null)throw Error(r(475));var d=Yc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Gu(l.href),E=i.querySelector(jc(g));if(E){i=E._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Lh.bind(d),i.then(d,d)),a.state.loading|=4,a.instance=E,Qt(E);return}E=i.ownerDocument||i,l=F2(l),(g=oi.get(g))&&jg(l,g),E=E.createElement("link"),Qt(E);var x=E;x._p=new Promise(function(H,W){x.onload=H,x.onerror=W}),Yn(E,"link",l),a.instance=E}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Lh.bind(d),i.addEventListener("load",a),i.addEventListener("error",a))}}function f6(){if(Yc===null)throw Error(r(475));var i=Yc;return i.stylesheets&&i.count===0&&Yg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Yg(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Lh(){if(this.count--,this.count===0){if(this.stylesheets)Yg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ph=null;function Yg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ph=new Map,a.forEach(h6,i),Ph=null,Lh.call(i))}function h6(i,a){if(!(a.state.loading&4)){var l=Ph.get(i);if(l)var d=l.get(null);else{l=new Map,Ph.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<g.length;E++){var x=g[E];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),d=x)}d&&l.set(null,d)}g=a.instance,x=g.getAttribute("data-precedence"),E=l.get(x)||d,E===d&&l.set(null,g),l.set(x,g),this.count++,d=Lh.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),E?E.parentNode.insertBefore(g,E.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Gc={$$typeof:$,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function m6(i,a,l,d,g,E,x,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=E,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function G2(i,a,l,d,g,E,x,H,W,de,_e,Ae){return i=new m6(i,a,l,x,H,W,de,Ae),a=1,E===!0&&(a|=24),E=Nr(3,null,null,a),i.current=E,E.stateNode=i,a=wp(),a.refCount++,i.pooledCache=a,a.refCount++,E.memoizedState={element:d,isDehydrated:l,cache:a},Rp(E),i}function $2(i){return i?(i=Su,i):Su}function K2(i,a,l,d,g,E){g=$2(g),d.context===null?d.context=g:d.pendingContext=g,d=Js(a),d.payload={element:l},E=E===void 0?null:E,E!==null&&(d.callback=E),l=ea(i,d,a),l!==null&&(Lr(l,i,a),vc(l,i,a))}function X2(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Gg(i,a){X2(i,a),(i=i.alternate)&&X2(i,a)}function Q2(i){if(i.tag===13){var a=Au(i,67108864);a!==null&&Lr(a,i,67108864),Gg(i,67108864)}}var Mh=!0;function p6(i,a,l,d){var g=F.T;F.T=null;var E=J.p;try{J.p=2,$g(i,a,l,d)}finally{J.p=E,F.T=g}}function g6(i,a,l,d){var g=F.T;F.T=null;var E=J.p;try{J.p=8,$g(i,a,l,d)}finally{J.p=E,F.T=g}}function $g(i,a,l,d){if(Mh){var g=Kg(d);if(g===null)Lg(i,a,d,Bh,l),Z2(i,d);else if(E6(g,i,a,l,d))d.stopPropagation();else if(Z2(i,d),a&4&&-1<y6.indexOf(i)){for(;g!==null;){var E=Kr(g);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var x=Gt(E.pendingLanes);if(x!==0){var H=E;for(H.pendingLanes|=2,H.entangledLanes|=2;x;){var W=1<<31-Fe(x);H.entanglements[1]|=W,x&=~W}$i(E),(Nt&6)===0&&(bh=Qe()+500,Hc(0))}}break;case 13:H=Au(E,2),H!==null&&Lr(H,E,2),vh(),Gg(E,2)}if(E=Kg(d),E===null&&Lg(i,a,d,Bh,l),E===g)break;g=E}g!==null&&d.stopPropagation()}else Lg(i,a,d,null,l)}}function Kg(i){return i=Zr(i),Xg(i)}var Bh=null;function Xg(i){if(Bh=null,i=$r(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Bh=i,null}function W2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oe()){case zt:return 2;case vn:return 8;case un:case ir:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Qg=!1,ha=null,ma=null,pa=null,$c=new Map,Kc=new Map,ga=[],y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z2(i,a){switch(i){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":$c.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(a.pointerId)}}function Xc(i,a,l,d,g,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:E,targetContainers:[g]},a!==null&&(a=Kr(a),a!==null&&Q2(a)),i):(i.eventSystemFlags|=d,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function E6(i,a,l,d,g){switch(a){case"focusin":return ha=Xc(ha,i,a,l,d,g),!0;case"dragenter":return ma=Xc(ma,i,a,l,d,g),!0;case"mouseover":return pa=Xc(pa,i,a,l,d,g),!0;case"pointerover":var E=g.pointerId;return $c.set(E,Xc($c.get(E)||null,i,a,l,d,g)),!0;case"gotpointercapture":return E=g.pointerId,Kc.set(E,Xc(Kc.get(E)||null,i,a,l,d,g)),!0}return!1}function J2(i){var a=$r(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,iu(i.priority,function(){if(l.tag===13){var d=Or();d=Ni(d);var g=Au(l,d);g!==null&&Lr(g,l,d),Gg(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Kg(i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);ms=d,l.target.dispatchEvent(d),ms=null}else return a=Kr(l),a!==null&&Q2(a),i.blockedOn=l,!1;a.shift()}return!0}function ev(i,a,l){Uh(i)&&l.delete(a)}function _6(){Qg=!1,ha!==null&&Uh(ha)&&(ha=null),ma!==null&&Uh(ma)&&(ma=null),pa!==null&&Uh(pa)&&(pa=null),$c.forEach(ev),Kc.forEach(ev)}function Hh(i,a){i.blockedOn===a&&(i.blockedOn=null,Qg||(Qg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_6)))}var Vh=null;function tv(i){Vh!==i&&(Vh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vh===i&&(Vh=null);for(var a=0;a<i.length;a+=3){var l=i[a],d=i[a+1],g=i[a+2];if(typeof d!="function"){if(Xg(d||l)===null)continue;break}var E=Kr(l);E!==null&&(i.splice(a,3),a-=3,Xp(E,{pending:!0,data:g,method:l.method,action:d},d,g))}}))}function Qc(i){function a(W){return Hh(W,i)}ha!==null&&Hh(ha,i),ma!==null&&Hh(ma,i),pa!==null&&Hh(pa,i),$c.forEach(a),Kc.forEach(a);for(var l=0;l<ga.length;l++){var d=ga[l];d.blockedOn===i&&(d.blockedOn=null)}for(;0<ga.length&&(l=ga[0],l.blockedOn===null);)J2(l),l.blockedOn===null&&ga.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var g=l[d],E=l[d+1],x=g[tn]||null;if(typeof E=="function")x||tv(l);else if(x){var H=null;if(E&&E.hasAttribute("formAction")){if(g=E,x=E[tn]||null)H=x.formAction;else if(Xg(g)!==null)continue}else H=x.action;typeof H=="function"?l[d+1]=H:(l.splice(d,3),d-=3),tv(l)}}}function Wg(i){this._internalRoot=i}Fh.prototype.render=Wg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,d=Or();K2(l,d,i,a,null,null)},Fh.prototype.unmount=Wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;K2(i.current,2,null,i,null,null),vh(),a[cr]=null}};function Fh(i){this._internalRoot=i}Fh.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ri();i={blockedOn:null,target:i,priority:a};for(var l=0;l<ga.length&&a!==0&&a<ga[l].priority;l++);ga.splice(l,0,i),l===0&&J2(i)}};var nv=e.version;if(nv!=="19.1.0")throw Error(r(527,nv,"19.1.0"));J.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var b6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{he=zh.inject(b6),Te=zh}catch{}}return Zc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,d="",g=ET,E=_T,x=bT,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(H=a.unstable_transitionCallbacks)),a=G2(i,1,!1,null,null,l,d,g,E,x,H,null),i[cr]=a.current,Og(i),new Wg(a)},Zc.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var d=!1,g="",E=ET,x=_T,H=bT,W=null,de=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(H=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(W=l.unstable_transitionCallbacks),l.formState!==void 0&&(de=l.formState)),a=G2(i,1,!0,a,l??null,d,g,E,x,H,W,de),a.context=$2(null),l=a.current,d=Or(),d=Ni(d),g=Js(d),g.callback=null,ea(l,g,d),l=d,a.current.lanes=l,Yr(a,l),$i(a),i[cr]=a.current,Og(i),new Fh(a)},Zc.version="19.1.0",Zc}var fv;function k6(){if(fv)return ey.exports;fv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ey.exports=R6(),ey.exports}var D6=k6();function lr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=lr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var iy={exports:{}},sy={},ay={exports:{}},oy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function O6(){if(hv)return oy;hv=1;var t=af();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(y,b){var T=b(),w=r({inst:{value:T,getSnapshot:b}}),R=w[0].inst,P=w[1];return o(function(){R.value=T,R.getSnapshot=b,f(R)&&P({inst:R})},[y,T,b]),s(function(){return f(R)&&P({inst:R}),y(function(){f(R)&&P({inst:R})})},[y]),u(T),T}function f(y){var b=y.getSnapshot;y=y.value;try{var T=b();return!n(y,T)}catch{return!0}}function h(y,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return oy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,oy}var mv;function L6(){return mv||(mv=1,ay.exports=O6()),ay.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function P6(){if(pv)return sy;pv=1;var t=af(),e=L6();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,c=t.useMemo,f=t.useDebugValue;return sy.useSyncExternalStoreWithSelector=function(h,p,y,b,T){var w=o(null);if(w.current===null){var R={hasValue:!1,value:null};w.current=R}else R=w.current;w=c(function(){function D(q){if(!Y){if(Y=!0,$=q,q=b(q),T!==void 0&&R.hasValue){var M=R.value;if(T(M,q))return G=M}return G=q}if(M=G,r($,q))return M;var N=b(q);return T!==void 0&&T(M,N)?($=q,M):($=q,G=N)}var Y=!1,$,G,te=y===void 0?null:y;return[function(){return D(p())},te===null?void 0:function(){return D(te())}]},[p,y,b,T]);var P=s(h,w[0],w[1]);return u(function(){R.hasValue=!0,R.value=P},[P]),f(P),P},sy}var gv;function M6(){return gv||(gv=1,iy.exports=P6()),iy.exports}var B6=M6();const U6=hm(B6),H6={},yv=t=>{let e;const n=new Set,r=(p,y)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const T=e;e=y??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(w=>w(e,T))}},s=()=>e,f={setState:r,getState:s,getInitialState:()=>h,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(H6?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},h=e=t(r,s,f);return f},V6=t=>t?yv(t):yv,{useDebugValue:F6}=be,{useSyncExternalStoreWithSelector:z6}=U6,j6=t=>t;function iw(t,e=j6,n){const r=z6(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return F6(r),r}const Ev=(t,e)=>{const n=V6(t),r=(s,o=e)=>iw(n,s,o);return Object.assign(r,n),r},q6=(t,e)=>t?Ev(t,e):Ev;function er(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Y6={value:()=>{}};function mm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new c0(n)}function c0(t){this._=t}function G6(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}c0.prototype=mm.prototype={constructor:c0,on:function(t,e){var n=this._,r=G6(t+"",n),s,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((s=(t=r[o]).type)&&(s=$6(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(s=(t=r[o]).type)n[s]=_v(n[s],t.name,e);else if(e==null)for(s in n)n[s]=_v(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new c0(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,s=o.length;r<s;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,o=r.length;s<o;++s)r[s].value.apply(e,n)}};function $6(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function _v(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=Y6,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Qy="http://www.w3.org/1999/xhtml";const bv={svg:"http://www.w3.org/2000/svg",xhtml:Qy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pm(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),bv.hasOwnProperty(e)?{space:bv[e],local:t}:t}function K6(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qy&&e.documentElement.namespaceURI===Qy?e.createElement(t):e.createElementNS(n,t)}}function X6(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sw(t){var e=pm(t);return(e.local?X6:K6)(e)}function Q6(){}function i1(t){return t==null?Q6:function(){return this.querySelector(t)}}function W6(t){typeof t!="function"&&(t=i1(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=new Array(u),f,h,p=0;p<u;++p)(f=o[p])&&(h=t.call(f,f.__data__,p,o))&&("__data__"in f&&(h.__data__=f.__data__),c[p]=h);return new jr(r,this._parents)}function Z6(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function J6(){return[]}function aw(t){return t==null?J6:function(){return this.querySelectorAll(t)}}function ek(t){return function(){return Z6(t.apply(this,arguments))}}function tk(t){typeof t=="function"?t=ek(t):t=aw(t);for(var e=this._groups,n=e.length,r=[],s=[],o=0;o<n;++o)for(var u=e[o],c=u.length,f,h=0;h<c;++h)(f=u[h])&&(r.push(t.call(f,f.__data__,h,u)),s.push(f));return new jr(r,s)}function ow(t){return function(){return this.matches(t)}}function uw(t){return function(e){return e.matches(t)}}var nk=Array.prototype.find;function rk(t){return function(){return nk.call(this.children,t)}}function ik(){return this.firstElementChild}function sk(t){return this.select(t==null?ik:rk(typeof t=="function"?t:uw(t)))}var ak=Array.prototype.filter;function ok(){return Array.from(this.children)}function uk(t){return function(){return ak.call(this.children,t)}}function lk(t){return this.selectAll(t==null?ok:uk(typeof t=="function"?t:uw(t)))}function ck(t){typeof t!="function"&&(t=ow(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,h=0;h<u;++h)(f=o[h])&&t.call(f,f.__data__,h,o)&&c.push(f);return new jr(r,this._parents)}function lw(t){return new Array(t.length)}function dk(){return new jr(this._enter||this._groups.map(lw),this._parents)}function k0(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}k0.prototype={constructor:k0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fk(t){return function(){return t}}function hk(t,e,n,r,s,o){for(var u=0,c,f=e.length,h=o.length;u<h;++u)(c=e[u])?(c.__data__=o[u],r[u]=c):n[u]=new k0(t,o[u]);for(;u<f;++u)(c=e[u])&&(s[u]=c)}function mk(t,e,n,r,s,o,u){var c,f,h=new Map,p=e.length,y=o.length,b=new Array(p),T;for(c=0;c<p;++c)(f=e[c])&&(b[c]=T=u.call(f,f.__data__,c,e)+"",h.has(T)?s[c]=f:h.set(T,f));for(c=0;c<y;++c)T=u.call(t,o[c],c,o)+"",(f=h.get(T))?(r[c]=f,f.__data__=o[c],h.delete(T)):n[c]=new k0(t,o[c]);for(c=0;c<p;++c)(f=e[c])&&h.get(b[c])===f&&(s[c]=f)}function pk(t){return t.__data__}function gk(t,e){if(!arguments.length)return Array.from(this,pk);var n=e?mk:hk,r=this._parents,s=this._groups;typeof t!="function"&&(t=fk(t));for(var o=s.length,u=new Array(o),c=new Array(o),f=new Array(o),h=0;h<o;++h){var p=r[h],y=s[h],b=y.length,T=yk(t.call(p,p&&p.__data__,h,r)),w=T.length,R=c[h]=new Array(w),P=u[h]=new Array(w),D=f[h]=new Array(b);n(p,y,R,P,D,T,e);for(var Y=0,$=0,G,te;Y<w;++Y)if(G=R[Y]){for(Y>=$&&($=Y+1);!(te=P[$])&&++$<w;);G._next=te||null}}return u=new jr(u,r),u._enter=c,u._exit=f,u}function yk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ek(){return new jr(this._exit||this._groups.map(lw),this._parents)}function _k(t,e,n){var r=this.enter(),s=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function bk(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,o=r.length,u=Math.min(s,o),c=new Array(s),f=0;f<u;++f)for(var h=n[f],p=r[f],y=h.length,b=c[f]=new Array(y),T,w=0;w<y;++w)(T=h[w]||p[w])&&(b[w]=T);for(;f<s;++f)c[f]=n[f];return new jr(c,this._parents)}function Tk(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,o=r[s],u;--s>=0;)(u=r[s])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function vk(t){t||(t=Ak);function e(y,b){return y&&b?t(y.__data__,b.__data__):!y-!b}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var u=n[o],c=u.length,f=s[o]=new Array(c),h,p=0;p<c;++p)(h=u[p])&&(f[p]=h);f.sort(e)}return new jr(s,this._parents).order()}function Ak(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Sk(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function xk(){return Array.from(this)}function wk(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length;s<o;++s){var u=r[s];if(u)return u}return null}function Ck(){let t=0;for(const e of this)++t;return t}function Ik(){return!this.node()}function Nk(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],o=0,u=s.length,c;o<u;++o)(c=s[o])&&t.call(c,c.__data__,o,s);return this}function Rk(t){return function(){this.removeAttribute(t)}}function kk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dk(t,e){return function(){this.setAttribute(t,e)}}function Ok(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Pk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Mk(t,e){var n=pm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?kk:Rk:typeof e=="function"?n.local?Pk:Lk:n.local?Ok:Dk)(n,e))}function cw(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Bk(t){return function(){this.style.removeProperty(t)}}function Uk(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Hk(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Vk(t,e,n){return arguments.length>1?this.each((e==null?Bk:typeof e=="function"?Hk:Uk)(t,e,n??"")):Sl(this.node(),t)}function Sl(t,e){return t.style.getPropertyValue(e)||cw(t).getComputedStyle(t,null).getPropertyValue(e)}function Fk(t){return function(){delete this[t]}}function zk(t,e){return function(){this[t]=e}}function jk(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function qk(t,e){return arguments.length>1?this.each((e==null?Fk:typeof e=="function"?jk:zk)(t,e)):this.node()[t]}function dw(t){return t.trim().split(/^|\s+/)}function s1(t){return t.classList||new fw(t)}function fw(t){this._node=t,this._names=dw(t.getAttribute("class")||"")}fw.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function hw(t,e){for(var n=s1(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function mw(t,e){for(var n=s1(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Yk(t){return function(){hw(this,t)}}function Gk(t){return function(){mw(this,t)}}function $k(t,e){return function(){(e.apply(this,arguments)?hw:mw)(this,t)}}function Kk(t,e){var n=dw(t+"");if(arguments.length<2){for(var r=s1(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?$k:e?Yk:Gk)(n,e))}function Xk(){this.textContent=""}function Qk(t){return function(){this.textContent=t}}function Wk(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Zk(t){return arguments.length?this.each(t==null?Xk:(typeof t=="function"?Wk:Qk)(t)):this.node().textContent}function Jk(){this.innerHTML=""}function eD(t){return function(){this.innerHTML=t}}function tD(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function nD(t){return arguments.length?this.each(t==null?Jk:(typeof t=="function"?tD:eD)(t)):this.node().innerHTML}function rD(){this.nextSibling&&this.parentNode.appendChild(this)}function iD(){return this.each(rD)}function sD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function aD(){return this.each(sD)}function oD(t){var e=typeof t=="function"?t:sw(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function uD(){return null}function lD(t,e){var n=typeof t=="function"?t:sw(t),r=e==null?uD:typeof e=="function"?e:i1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cD(){var t=this.parentNode;t&&t.removeChild(this)}function dD(){return this.each(cD)}function fD(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hD(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mD(t){return this.select(t?hD:fD)}function pD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function gD(t){return function(e){t.call(this,e,this.__data__)}}function yD(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ED(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,o;n<s;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function _D(t,e,n){return function(){var r=this.__on,s,o=gD(e);if(r){for(var u=0,c=r.length;u<c;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=e;return}}this.addEventListener(t.type,o,n),s={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(s):this.__on=[s]}}function bD(t,e,n){var r=yD(t+""),s,o=r.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,h=c.length,p;f<h;++f)for(s=0,p=c[f];s<o;++s)if((u=r[s]).type===p.type&&u.name===p.name)return p.value}return}for(c=e?_D:ED,s=0;s<o;++s)this.each(c(r[s],e,n));return this}function pw(t,e,n){var r=cw(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function TD(t,e){return function(){return pw(this,t,e)}}function vD(t,e){return function(){return pw(this,t,e.apply(this,arguments))}}function AD(t,e){return this.each((typeof e=="function"?vD:TD)(t,e))}function*SD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length,u;s<o;++s)(u=r[s])&&(yield u)}var gw=[null];function jr(t,e){this._groups=t,this._parents=e}function of(){return new jr([[document.documentElement]],gw)}function xD(){return this}jr.prototype=of.prototype={constructor:jr,select:W6,selectAll:tk,selectChild:sk,selectChildren:lk,filter:ck,data:gk,enter:dk,exit:Ek,join:_k,merge:bk,selection:xD,order:Tk,sort:vk,call:Sk,nodes:xk,node:wk,size:Ck,empty:Ik,each:Nk,attr:Mk,style:Vk,property:qk,classed:Kk,text:Zk,html:nD,raise:iD,lower:aD,append:oD,insert:lD,remove:dD,clone:mD,datum:pD,on:bD,dispatch:AD,[Symbol.iterator]:SD};function bi(t){return typeof t=="string"?new jr([[document.querySelector(t)]],[document.documentElement]):new jr([[t]],gw)}function wD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Xi(t,e){if(t=wD(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const CD={passive:!1},Md={capture:!0,passive:!1};function uy(t){t.stopImmediatePropagation()}function dl(t){t.preventDefault(),t.stopImmediatePropagation()}function yw(t){var e=t.document.documentElement,n=bi(t).on("dragstart.drag",dl,Md);"onselectstart"in e?n.on("selectstart.drag",dl,Md):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ew(t,e){var n=t.document.documentElement,r=bi(t).on("dragstart.drag",null);e&&(r.on("click.drag",dl,Md),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const jh=t=>()=>t;function Wy(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:o,x:u,y:c,dx:f,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}Wy.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ID(t){return!t.ctrlKey&&!t.button}function ND(){return this.parentNode}function RD(t,e){return e??{x:t.x,y:t.y}}function kD(){return navigator.maxTouchPoints||"ontouchstart"in this}function DD(){var t=ID,e=ND,n=RD,r=kD,s={},o=mm("start","drag","end"),u=0,c,f,h,p,y=0;function b(G){G.on("mousedown.drag",T).filter(r).on("touchstart.drag",P).on("touchmove.drag",D,CD).on("touchend.drag touchcancel.drag",Y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(G,te){if(!(p||!t.call(this,G,te))){var q=$(this,e.call(this,G,te),G,te,"mouse");q&&(bi(G.view).on("mousemove.drag",w,Md).on("mouseup.drag",R,Md),yw(G.view),uy(G),h=!1,c=G.clientX,f=G.clientY,q("start",G))}}function w(G){if(dl(G),!h){var te=G.clientX-c,q=G.clientY-f;h=te*te+q*q>y}s.mouse("drag",G)}function R(G){bi(G.view).on("mousemove.drag mouseup.drag",null),Ew(G.view,h),dl(G),s.mouse("end",G)}function P(G,te){if(t.call(this,G,te)){var q=G.changedTouches,M=e.call(this,G,te),N=q.length,k,U;for(k=0;k<N;++k)(U=$(this,M,G,te,q[k].identifier,q[k]))&&(uy(G),U("start",G,q[k]))}}function D(G){var te=G.changedTouches,q=te.length,M,N;for(M=0;M<q;++M)(N=s[te[M].identifier])&&(dl(G),N("drag",G,te[M]))}function Y(G){var te=G.changedTouches,q=te.length,M,N;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),M=0;M<q;++M)(N=s[te[M].identifier])&&(uy(G),N("end",G,te[M]))}function $(G,te,q,M,N,k){var U=o.copy(),B=Xi(k||q,te),V,C,O;if((O=n.call(G,new Wy("beforestart",{sourceEvent:q,target:b,identifier:N,active:u,x:B[0],y:B[1],dx:0,dy:0,dispatch:U}),M))!=null)return V=O.x-B[0]||0,C=O.y-B[1]||0,function X(F,J,se){var re=B,A;switch(F){case"start":s[N]=X,A=u++;break;case"end":delete s[N],--u;case"drag":B=Xi(se||J,te),A=u;break}U.call(F,G,new Wy(F,{sourceEvent:J,subject:O,target:b,identifier:N,active:A,x:B[0]+V,y:B[1]+C,dx:B[0]-re[0],dy:B[1]-re[1],dispatch:U}),M)}}return b.filter=function(G){return arguments.length?(t=typeof G=="function"?G:jh(!!G),b):t},b.container=function(G){return arguments.length?(e=typeof G=="function"?G:jh(G),b):e},b.subject=function(G){return arguments.length?(n=typeof G=="function"?G:jh(G),b):n},b.touchable=function(G){return arguments.length?(r=typeof G=="function"?G:jh(!!G),b):r},b.on=function(){var G=o.on.apply(o,arguments);return G===o?b:G},b.clickDistance=function(G){return arguments.length?(y=(G=+G)*G,b):Math.sqrt(y)},b}function a1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _w(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uf(){}var Bd=.7,D0=1/Bd,fl="\\s*([+-]?\\d+)\\s*",Ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ji="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OD=/^#([0-9a-f]{3,8})$/,LD=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),PD=new RegExp(`^rgb\\(${Ji},${Ji},${Ji}\\)$`),MD=new RegExp(`^rgba\\(${fl},${fl},${fl},${Ud}\\)$`),BD=new RegExp(`^rgba\\(${Ji},${Ji},${Ji},${Ud}\\)$`),UD=new RegExp(`^hsl\\(${Ud},${Ji},${Ji}\\)$`),HD=new RegExp(`^hsla\\(${Ud},${Ji},${Ji},${Ud}\\)$`),Tv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a1(uf,Hd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vv,formatHex:vv,formatHex8:VD,formatHsl:FD,formatRgb:Av,toString:Av});function vv(){return this.rgb().formatHex()}function VD(){return this.rgb().formatHex8()}function FD(){return bw(this).formatHsl()}function Av(){return this.rgb().formatRgb()}function Hd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=OD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Sv(e):n===3?new _r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LD.exec(t))?new _r(e[1],e[2],e[3],1):(e=PD.exec(t))?new _r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MD.exec(t))?qh(e[1],e[2],e[3],e[4]):(e=BD.exec(t))?qh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=UD.exec(t))?Cv(e[1],e[2]/100,e[3]/100,1):(e=HD.exec(t))?Cv(e[1],e[2]/100,e[3]/100,e[4]):Tv.hasOwnProperty(t)?Sv(Tv[t]):t==="transparent"?new _r(NaN,NaN,NaN,0):null}function Sv(t){return new _r(t>>16&255,t>>8&255,t&255,1)}function qh(t,e,n,r){return r<=0&&(t=e=n=NaN),new _r(t,e,n,r)}function zD(t){return t instanceof uf||(t=Hd(t)),t?(t=t.rgb(),new _r(t.r,t.g,t.b,t.opacity)):new _r}function Zy(t,e,n,r){return arguments.length===1?zD(t):new _r(t,e,n,r??1)}function _r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}a1(_r,Zy,_w(uf,{brighter(t){return t=t==null?D0:Math.pow(D0,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bd:Math.pow(Bd,t),new _r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new _r(Uo(this.r),Uo(this.g),Uo(this.b),O0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xv,formatHex:xv,formatHex8:jD,formatRgb:wv,toString:wv}));function xv(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}`}function jD(){return`#${Lo(this.r)}${Lo(this.g)}${Lo(this.b)}${Lo((isNaN(this.opacity)?1:this.opacity)*255)}`}function wv(){const t=O0(this.opacity);return`${t===1?"rgb(":"rgba("}${Uo(this.r)}, ${Uo(this.g)}, ${Uo(this.b)}${t===1?")":`, ${t})`}`}function O0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Uo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lo(t){return t=Uo(t),(t<16?"0":"")+t.toString(16)}function Cv(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ti(t,e,n,r)}function bw(t){if(t instanceof Ti)return new Ti(t.h,t.s,t.l,t.opacity);if(t instanceof uf||(t=Hd(t)),!t)return new Ti;if(t instanceof Ti)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,c=o-s,f=(o+s)/2;return c?(e===o?u=(n-r)/c+(n<r)*6:n===o?u=(r-e)/c+2:u=(e-n)/c+4,c/=f<.5?o+s:2-o-s,u*=60):c=f>0&&f<1?0:u,new Ti(u,c,f,t.opacity)}function qD(t,e,n,r){return arguments.length===1?bw(t):new Ti(t,e,n,r??1)}function Ti(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}a1(Ti,qD,_w(uf,{brighter(t){return t=t==null?D0:Math.pow(D0,t),new Ti(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bd:Math.pow(Bd,t),new Ti(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new _r(ly(t>=240?t-240:t+120,s,r),ly(t,s,r),ly(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Ti(Iv(this.h),Yh(this.s),Yh(this.l),O0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=O0(this.opacity);return`${t===1?"hsl(":"hsla("}${Iv(this.h)}, ${Yh(this.s)*100}%, ${Yh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Iv(t){return t=(t||0)%360,t<0?t+360:t}function Yh(t){return Math.max(0,Math.min(1,t||0))}function ly(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Tw=t=>()=>t;function YD(t,e){return function(n){return t+n*e}}function GD(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function $D(t){return(t=+t)==1?vw:function(e,n){return n-e?GD(e,n,t):Tw(isNaN(e)?n:e)}}function vw(t,e){var n=e-t;return n?YD(t,n):Tw(isNaN(t)?e:t)}const Nv=function t(e){var n=$D(e);function r(s,o){var u=n((s=Zy(s)).r,(o=Zy(o)).r),c=n(s.g,o.g),f=n(s.b,o.b),h=vw(s.opacity,o.opacity);return function(p){return s.r=u(p),s.g=c(p),s.b=f(p),s.opacity=h(p),s+""}}return r.gamma=t,r}(1);function Aa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Jy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cy=new RegExp(Jy.source,"g");function KD(t){return function(){return t}}function XD(t){return function(e){return t(e)+""}}function QD(t,e){var n=Jy.lastIndex=cy.lastIndex=0,r,s,o,u=-1,c=[],f=[];for(t=t+"",e=e+"";(r=Jy.exec(t))&&(s=cy.exec(e));)(o=s.index)>n&&(o=e.slice(n,o),c[u]?c[u]+=o:c[++u]=o),(r=r[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,f.push({i:u,x:Aa(r,s)})),n=cy.lastIndex;return n<e.length&&(o=e.slice(n),c[u]?c[u]+=o:c[++u]=o),c.length<2?f[0]?XD(f[0].x):KD(e):(e=f.length,function(h){for(var p=0,y;p<e;++p)c[(y=f[p]).i]=y.x(h);return c.join("")})}var Rv=180/Math.PI,eE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Aw(t,e,n,r,s,o){var u,c,f;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,f/=c),t*r<e*n&&(t=-t,e=-e,f=-f,u=-u),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*Rv,skewX:Math.atan(f)*Rv,scaleX:u,scaleY:c}}var Gh;function WD(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?eE:Aw(e.a,e.b,e.c,e.d,e.e,e.f)}function ZD(t){return t==null||(Gh||(Gh=document.createElementNS("http://www.w3.org/2000/svg","g")),Gh.setAttribute("transform",t),!(t=Gh.transform.baseVal.consolidate()))?eE:(t=t.matrix,Aw(t.a,t.b,t.c,t.d,t.e,t.f))}function Sw(t,e,n,r){function s(h){return h.length?h.pop()+" ":""}function o(h,p,y,b,T,w){if(h!==y||p!==b){var R=T.push("translate(",null,e,null,n);w.push({i:R-4,x:Aa(h,y)},{i:R-2,x:Aa(p,b)})}else(y||b)&&T.push("translate("+y+e+b+n)}function u(h,p,y,b){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),b.push({i:y.push(s(y)+"rotate(",null,r)-2,x:Aa(h,p)})):p&&y.push(s(y)+"rotate("+p+r)}function c(h,p,y,b){h!==p?b.push({i:y.push(s(y)+"skewX(",null,r)-2,x:Aa(h,p)}):p&&y.push(s(y)+"skewX("+p+r)}function f(h,p,y,b,T,w){if(h!==y||p!==b){var R=T.push(s(T)+"scale(",null,",",null,")");w.push({i:R-4,x:Aa(h,y)},{i:R-2,x:Aa(p,b)})}else(y!==1||b!==1)&&T.push(s(T)+"scale("+y+","+b+")")}return function(h,p){var y=[],b=[];return h=t(h),p=t(p),o(h.translateX,h.translateY,p.translateX,p.translateY,y,b),u(h.rotate,p.rotate,y,b),c(h.skewX,p.skewX,y,b),f(h.scaleX,h.scaleY,p.scaleX,p.scaleY,y,b),h=p=null,function(T){for(var w=-1,R=b.length,P;++w<R;)y[(P=b[w]).i]=P.x(T);return y.join("")}}}var JD=Sw(WD,"px, ","px)","deg)"),eO=Sw(ZD,", ",")",")"),tO=1e-12;function kv(t){return((t=Math.exp(t))+1/t)/2}function nO(t){return((t=Math.exp(t))-1/t)/2}function rO(t){return((t=Math.exp(2*t))-1)/(t+1)}const iO=function t(e,n,r){function s(o,u){var c=o[0],f=o[1],h=o[2],p=u[0],y=u[1],b=u[2],T=p-c,w=y-f,R=T*T+w*w,P,D;if(R<tO)D=Math.log(b/h)/e,P=function(M){return[c+M*T,f+M*w,h*Math.exp(e*M*D)]};else{var Y=Math.sqrt(R),$=(b*b-h*h+r*R)/(2*h*n*Y),G=(b*b-h*h-r*R)/(2*b*n*Y),te=Math.log(Math.sqrt($*$+1)-$),q=Math.log(Math.sqrt(G*G+1)-G);D=(q-te)/e,P=function(M){var N=M*D,k=kv(te),U=h/(n*Y)*(k*rO(e*N+te)-nO(te));return[c+U*T,f+U*w,h*k/kv(e*N+te)]}}return P.duration=D*1e3*e/Math.SQRT2,P}return s.rho=function(o){var u=Math.max(.001,+o),c=u*u,f=c*c;return t(u,c,f)},s}(Math.SQRT2,2,4);var xl=0,cd=0,Jc=0,xw=1e3,L0,dd,P0=0,Fo=0,gm=0,Vd=typeof performance=="object"&&performance.now?performance:Date,ww=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function o1(){return Fo||(ww(sO),Fo=Vd.now()+gm)}function sO(){Fo=0}function M0(){this._call=this._time=this._next=null}M0.prototype=Cw.prototype={constructor:M0,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?o1():+n)+(e==null?0:+e),!this._next&&dd!==this&&(dd?dd._next=this:L0=this,dd=this),this._call=t,this._time=n,tE()},stop:function(){this._call&&(this._call=null,this._time=1/0,tE())}};function Cw(t,e,n){var r=new M0;return r.restart(t,e,n),r}function aO(){o1(),++xl;for(var t=L0,e;t;)(e=Fo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--xl}function Dv(){Fo=(P0=Vd.now())+gm,xl=cd=0;try{aO()}finally{xl=0,uO(),Fo=0}}function oO(){var t=Vd.now(),e=t-P0;e>xw&&(gm-=e,P0=t)}function uO(){for(var t,e=L0,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:L0=n);dd=t,tE(r)}function tE(t){if(!xl){cd&&(cd=clearTimeout(cd));var e=t-Fo;e>24?(t<1/0&&(cd=setTimeout(Dv,t-Vd.now()-gm)),Jc&&(Jc=clearInterval(Jc))):(Jc||(P0=Vd.now(),Jc=setInterval(oO,xw)),xl=1,ww(Dv))}}function Ov(t,e,n){var r=new M0;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var lO=mm("start","end","cancel","interrupt"),cO=[],Iw=0,Lv=1,nE=2,d0=3,Pv=4,rE=5,f0=6;function ym(t,e,n,r,s,o){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;dO(t,n,{name:e,index:r,group:s,on:lO,tween:cO,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Iw})}function u1(t,e){var n=Ci(t,e);if(n.state>Iw)throw new Error("too late; already scheduled");return n}function os(t,e){var n=Ci(t,e);if(n.state>d0)throw new Error("too late; already running");return n}function Ci(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function dO(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=Cw(o,0,n.time);function o(h){n.state=Lv,n.timer.restart(u,n.delay,n.time),n.delay<=h&&u(h-n.delay)}function u(h){var p,y,b,T;if(n.state!==Lv)return f();for(p in r)if(T=r[p],T.name===n.name){if(T.state===d0)return Ov(u);T.state===Pv?(T.state=f0,T.timer.stop(),T.on.call("interrupt",t,t.__data__,T.index,T.group),delete r[p]):+p<e&&(T.state=f0,T.timer.stop(),T.on.call("cancel",t,t.__data__,T.index,T.group),delete r[p])}if(Ov(function(){n.state===d0&&(n.state=Pv,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=nE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===nE){for(n.state=d0,s=new Array(b=n.tween.length),p=0,y=-1;p<b;++p)(T=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(s[++y]=T);s.length=y+1}}function c(h){for(var p=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=rE,1),y=-1,b=s.length;++y<b;)s[y].call(t,p);n.state===rE&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=f0,n.timer.stop(),delete r[e];for(var h in r)return;delete t.__transition}}function h0(t,e){var n=t.__transition,r,s,o=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){o=!1;continue}s=r.state>nE&&r.state<rE,r.state=f0,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}o&&delete t.__transition}}function fO(t){return this.each(function(){h0(this,t)})}function hO(t,e){var n,r;return function(){var s=os(this,t),o=s.tween;if(o!==n){r=n=o;for(var u=0,c=r.length;u<c;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function mO(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=os(this,t),u=o.tween;if(u!==r){s=(r=u).slice();for(var c={name:e,value:n},f=0,h=s.length;f<h;++f)if(s[f].name===e){s[f]=c;break}f===h&&s.push(c)}o.tween=s}}function pO(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ci(this.node(),n).tween,s=0,o=r.length,u;s<o;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?hO:mO)(n,t,e))}function l1(t,e,n){var r=t._id;return t.each(function(){var s=os(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Ci(s,r).value[e]}}function Nw(t,e){var n;return(typeof e=="number"?Aa:e instanceof Hd?Nv:(n=Hd(e))?(e=n,Nv):QD)(t,e)}function gO(t){return function(){this.removeAttribute(t)}}function yO(t){return function(){this.removeAttributeNS(t.space,t.local)}}function EO(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttribute(t);return u===s?null:u===r?o:o=e(r=u,n)}}function _O(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?o:o=e(r=u,n)}}function bO(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function TO(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function vO(t,e){var n=pm(t),r=n==="transform"?eO:Nw;return this.attrTween(t,typeof e=="function"?(n.local?TO:bO)(n,r,l1(this,"attr."+t,e)):e==null?(n.local?yO:gO)(n):(n.local?_O:EO)(n,r,e))}function AO(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function SO(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function xO(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&SO(t,o)),n}return s._value=e,s}function wO(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&AO(t,o)),n}return s._value=e,s}function CO(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=pm(t);return this.tween(n,(r.local?xO:wO)(r,e))}function IO(t,e){return function(){u1(this,t).delay=+e.apply(this,arguments)}}function NO(t,e){return e=+e,function(){u1(this,t).delay=e}}function RO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?IO:NO)(e,t)):Ci(this.node(),e).delay}function kO(t,e){return function(){os(this,t).duration=+e.apply(this,arguments)}}function DO(t,e){return e=+e,function(){os(this,t).duration=e}}function OO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?kO:DO)(e,t)):Ci(this.node(),e).duration}function LO(t,e){if(typeof e!="function")throw new Error;return function(){os(this,t).ease=e}}function PO(t){var e=this._id;return arguments.length?this.each(LO(e,t)):Ci(this.node(),e).ease}function MO(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;os(this,t).ease=n}}function BO(t){if(typeof t!="function")throw new Error;return this.each(MO(this._id,t))}function UO(t){typeof t!="function"&&(t=ow(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,h=0;h<u;++h)(f=o[h])&&t.call(f,f.__data__,h,o)&&c.push(f);return new Vs(r,this._parents,this._name,this._id)}function HO(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,o=Math.min(r,s),u=new Array(r),c=0;c<o;++c)for(var f=e[c],h=n[c],p=f.length,y=u[c]=new Array(p),b,T=0;T<p;++T)(b=f[T]||h[T])&&(y[T]=b);for(;c<r;++c)u[c]=e[c];return new Vs(u,this._parents,this._name,this._id)}function VO(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function FO(t,e,n){var r,s,o=VO(e)?u1:os;return function(){var u=o(this,t),c=u.on;c!==r&&(s=(r=c).copy()).on(e,n),u.on=s}}function zO(t,e){var n=this._id;return arguments.length<2?Ci(this.node(),n).on.on(t):this.each(FO(n,t,e))}function jO(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function qO(){return this.on("end.remove",jO(this._id))}function YO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=i1(t));for(var r=this._groups,s=r.length,o=new Array(s),u=0;u<s;++u)for(var c=r[u],f=c.length,h=o[u]=new Array(f),p,y,b=0;b<f;++b)(p=c[b])&&(y=t.call(p,p.__data__,b,c))&&("__data__"in p&&(y.__data__=p.__data__),h[b]=y,ym(h[b],e,n,b,h,Ci(p,n)));return new Vs(o,this._parents,e,n)}function GO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=aw(t));for(var r=this._groups,s=r.length,o=[],u=[],c=0;c<s;++c)for(var f=r[c],h=f.length,p,y=0;y<h;++y)if(p=f[y]){for(var b=t.call(p,p.__data__,y,f),T,w=Ci(p,n),R=0,P=b.length;R<P;++R)(T=b[R])&&ym(T,e,n,R,b,w);o.push(b),u.push(p)}return new Vs(o,u,e,n)}var $O=of.prototype.constructor;function KO(){return new $O(this._groups,this._parents)}function XO(t,e){var n,r,s;return function(){var o=Sl(this,t),u=(this.style.removeProperty(t),Sl(this,t));return o===u?null:o===n&&u===r?s:s=e(n=o,r=u)}}function Rw(t){return function(){this.style.removeProperty(t)}}function QO(t,e,n){var r,s=n+"",o;return function(){var u=Sl(this,t);return u===s?null:u===r?o:o=e(r=u,n)}}function WO(t,e,n){var r,s,o;return function(){var u=Sl(this,t),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(t),Sl(this,t))),u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c))}}function ZO(t,e){var n,r,s,o="style."+e,u="end."+o,c;return function(){var f=os(this,t),h=f.on,p=f.value[o]==null?c||(c=Rw(e)):void 0;(h!==n||s!==p)&&(r=(n=h).copy()).on(u,s=p),f.on=r}}function JO(t,e,n){var r=(t+="")=="transform"?JD:Nw;return e==null?this.styleTween(t,XO(t,r)).on("end.style."+t,Rw(t)):typeof e=="function"?this.styleTween(t,WO(t,r,l1(this,"style."+t,e))).each(ZO(this._id,t)):this.styleTween(t,QO(t,r,e),n).on("end.style."+t,null)}function e5(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function t5(t,e,n){var r,s;function o(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&e5(t,u,n)),r}return o._value=e,o}function n5(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,t5(t,e,n??""))}function r5(t){return function(){this.textContent=t}}function i5(t){return function(){var e=t(this);this.textContent=e??""}}function s5(t){return this.tween("text",typeof t=="function"?i5(l1(this,"text",t)):r5(t==null?"":t+""))}function a5(t){return function(e){this.textContent=t.call(this,e)}}function o5(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&a5(s)),e}return r._value=t,r}function u5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,o5(t))}function l5(){for(var t=this._name,e=this._id,n=kw(),r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,h=0;h<c;++h)if(f=u[h]){var p=Ci(f,e);ym(f,t,n,h,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Vs(r,this._parents,t,n)}function c5(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(o,u){var c={value:u},f={value:function(){--s===0&&o()}};n.each(function(){var h=os(this,r),p=h.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),h.on=e}),s===0&&o()})}var d5=0;function Vs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function kw(){return++d5}var Os=of.prototype;Vs.prototype={constructor:Vs,select:YO,selectAll:GO,selectChild:Os.selectChild,selectChildren:Os.selectChildren,filter:UO,merge:HO,selection:KO,transition:l5,call:Os.call,nodes:Os.nodes,node:Os.node,size:Os.size,empty:Os.empty,each:Os.each,on:zO,attr:vO,attrTween:CO,style:JO,styleTween:n5,text:s5,textTween:u5,remove:qO,tween:pO,delay:RO,duration:OO,ease:PO,easeVarying:BO,end:c5,[Symbol.iterator]:Os[Symbol.iterator]};function f5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var h5={time:null,delay:0,duration:250,ease:f5};function m5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function p5(t){var e,n;t instanceof Vs?(e=t._id,t=t._name):(e=kw(),(n=h5).time=o1(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,h=0;h<c;++h)(f=u[h])&&ym(f,t,e,h,u,n||m5(f,e));return new Vs(r,this._parents,t,e)}of.prototype.interrupt=fO;of.prototype.transition=p5;const $h=t=>()=>t;function g5(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Ms(t,e,n){this.k=t,this.x=e,this.y=n}Ms.prototype={constructor:Ms,scale:function(t){return t===1?this:new Ms(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ms(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var La=new Ms(1,0,0);Ms.prototype;function dy(t){t.stopImmediatePropagation()}function ed(t){t.preventDefault(),t.stopImmediatePropagation()}function y5(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function E5(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Mv(){return this.__zoom||La}function _5(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function b5(){return navigator.maxTouchPoints||"ontouchstart"in this}function T5(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function v5(){var t=y5,e=E5,n=T5,r=_5,s=b5,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=iO,h=mm("start","zoom","end"),p,y,b,T=500,w=150,R=0,P=10;function D(O){O.property("__zoom",Mv).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",U).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",C).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(O,X,F,J){var se=O.selection?O.selection():O;se.property("__zoom",Mv),O!==se?te(O,X,F,J):se.interrupt().each(function(){q(this,arguments).event(J).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},D.scaleBy=function(O,X,F,J){D.scaleTo(O,function(){var se=this.__zoom.k,re=typeof X=="function"?X.apply(this,arguments):X;return se*re},F,J)},D.scaleTo=function(O,X,F,J){D.transform(O,function(){var se=e.apply(this,arguments),re=this.__zoom,A=F==null?G(se):typeof F=="function"?F.apply(this,arguments):F,ee=re.invert(A),ae=typeof X=="function"?X.apply(this,arguments):X;return n($(Y(re,ae),A,ee),se,u)},F,J)},D.translateBy=function(O,X,F,J){D.transform(O,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof F=="function"?F.apply(this,arguments):F),e.apply(this,arguments),u)},null,J)},D.translateTo=function(O,X,F,J,se){D.transform(O,function(){var re=e.apply(this,arguments),A=this.__zoom,ee=J==null?G(re):typeof J=="function"?J.apply(this,arguments):J;return n(La.translate(ee[0],ee[1]).scale(A.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof F=="function"?-F.apply(this,arguments):-F),re,u)},J,se)};function Y(O,X){return X=Math.max(o[0],Math.min(o[1],X)),X===O.k?O:new Ms(X,O.x,O.y)}function $(O,X,F){var J=X[0]-F[0]*O.k,se=X[1]-F[1]*O.k;return J===O.x&&se===O.y?O:new Ms(O.k,J,se)}function G(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function te(O,X,F,J){O.on("start.zoom",function(){q(this,arguments).event(J).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(J).end()}).tween("zoom",function(){var se=this,re=arguments,A=q(se,re).event(J),ee=e.apply(se,re),ae=F==null?G(ee):typeof F=="function"?F.apply(se,re):F,I=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),oe=se.__zoom,Ee=typeof X=="function"?X.apply(se,re):X,pe=f(oe.invert(ae).concat(I/oe.k),Ee.invert(ae).concat(I/Ee.k));return function(we){if(we===1)we=Ee;else{var Ce=pe(we),Le=I/Ce[2];we=new Ms(Le,ae[0]-Ce[0]*Le,ae[1]-Ce[1]*Le)}A.zoom(null,we)}})}function q(O,X,F){return!F&&O.__zooming||new M(O,X)}function M(O,X){this.that=O,this.args=X,this.active=0,this.sourceEvent=null,this.extent=e.apply(O,X),this.taps=0}M.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,X){return this.mouse&&O!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var X=bi(this.that).datum();h.call(O,this.that,new g5(O,{sourceEvent:this.sourceEvent,target:D,transform:this.that.__zoom,dispatch:h}),X)}};function N(O,...X){if(!t.apply(this,arguments))return;var F=q(this,X).event(O),J=this.__zoom,se=Math.max(o[0],Math.min(o[1],J.k*Math.pow(2,r.apply(this,arguments)))),re=Xi(O);if(F.wheel)(F.mouse[0][0]!==re[0]||F.mouse[0][1]!==re[1])&&(F.mouse[1]=J.invert(F.mouse[0]=re)),clearTimeout(F.wheel);else{if(J.k===se)return;F.mouse=[re,J.invert(re)],h0(this),F.start()}ed(O),F.wheel=setTimeout(A,w),F.zoom("mouse",n($(Y(J,se),F.mouse[0],F.mouse[1]),F.extent,u));function A(){F.wheel=null,F.end()}}function k(O,...X){if(b||!t.apply(this,arguments))return;var F=O.currentTarget,J=q(this,X,!0).event(O),se=bi(O.view).on("mousemove.zoom",ae,!0).on("mouseup.zoom",I,!0),re=Xi(O,F),A=O.clientX,ee=O.clientY;yw(O.view),dy(O),J.mouse=[re,this.__zoom.invert(re)],h0(this),J.start();function ae(oe){if(ed(oe),!J.moved){var Ee=oe.clientX-A,pe=oe.clientY-ee;J.moved=Ee*Ee+pe*pe>R}J.event(oe).zoom("mouse",n($(J.that.__zoom,J.mouse[0]=Xi(oe,F),J.mouse[1]),J.extent,u))}function I(oe){se.on("mousemove.zoom mouseup.zoom",null),Ew(oe.view,J.moved),ed(oe),J.event(oe).end()}}function U(O,...X){if(t.apply(this,arguments)){var F=this.__zoom,J=Xi(O.changedTouches?O.changedTouches[0]:O,this),se=F.invert(J),re=F.k*(O.shiftKey?.5:2),A=n($(Y(F,re),J,se),e.apply(this,X),u);ed(O),c>0?bi(this).transition().duration(c).call(te,A,J,O):bi(this).call(D.transform,A,J,O)}}function B(O,...X){if(t.apply(this,arguments)){var F=O.touches,J=F.length,se=q(this,X,O.changedTouches.length===J).event(O),re,A,ee,ae;for(dy(O),A=0;A<J;++A)ee=F[A],ae=Xi(ee,this),ae=[ae,this.__zoom.invert(ae),ee.identifier],se.touch0?!se.touch1&&se.touch0[2]!==ae[2]&&(se.touch1=ae,se.taps=0):(se.touch0=ae,re=!0,se.taps=1+!!p);p&&(p=clearTimeout(p)),re&&(se.taps<2&&(y=ae[0],p=setTimeout(function(){p=null},T)),h0(this),se.start())}}function V(O,...X){if(this.__zooming){var F=q(this,X).event(O),J=O.changedTouches,se=J.length,re,A,ee,ae;for(ed(O),re=0;re<se;++re)A=J[re],ee=Xi(A,this),F.touch0&&F.touch0[2]===A.identifier?F.touch0[0]=ee:F.touch1&&F.touch1[2]===A.identifier&&(F.touch1[0]=ee);if(A=F.that.__zoom,F.touch1){var I=F.touch0[0],oe=F.touch0[1],Ee=F.touch1[0],pe=F.touch1[1],we=(we=Ee[0]-I[0])*we+(we=Ee[1]-I[1])*we,Ce=(Ce=pe[0]-oe[0])*Ce+(Ce=pe[1]-oe[1])*Ce;A=Y(A,Math.sqrt(we/Ce)),ee=[(I[0]+Ee[0])/2,(I[1]+Ee[1])/2],ae=[(oe[0]+pe[0])/2,(oe[1]+pe[1])/2]}else if(F.touch0)ee=F.touch0[0],ae=F.touch0[1];else return;F.zoom("touch",n($(A,ee,ae),F.extent,u))}}function C(O,...X){if(this.__zooming){var F=q(this,X).event(O),J=O.changedTouches,se=J.length,re,A;for(dy(O),b&&clearTimeout(b),b=setTimeout(function(){b=null},T),re=0;re<se;++re)A=J[re],F.touch0&&F.touch0[2]===A.identifier?delete F.touch0:F.touch1&&F.touch1[2]===A.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(A=Xi(A,this),Math.hypot(y[0]-A[0],y[1]-A[1])<P)){var ee=bi(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return D.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:$h(+O),D):r},D.filter=function(O){return arguments.length?(t=typeof O=="function"?O:$h(!!O),D):t},D.touchable=function(O){return arguments.length?(s=typeof O=="function"?O:$h(!!O),D):s},D.extent=function(O){return arguments.length?(e=typeof O=="function"?O:$h([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),D):e},D.scaleExtent=function(O){return arguments.length?(o[0]=+O[0],o[1]=+O[1],D):[o[0],o[1]]},D.translateExtent=function(O){return arguments.length?(u[0][0]=+O[0][0],u[1][0]=+O[1][0],u[0][1]=+O[0][1],u[1][1]=+O[1][1],D):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},D.constrain=function(O){return arguments.length?(n=O,D):n},D.duration=function(O){return arguments.length?(c=+O,D):c},D.interpolate=function(O){return arguments.length?(f=O,D):f},D.on=function(){var O=h.on.apply(h,arguments);return O===h?D:O},D.clickDistance=function(O){return arguments.length?(R=(O=+O)*O,D):Math.sqrt(R)},D.tapDistance=function(O){return arguments.length?(P=+O,D):P},D}rw();const Em=Z.createContext(null),A5=Em.Provider,Fs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Dw=Fs.error001();function Zt(t,e){const n=Z.useContext(Em);if(n===null)throw new Error(Dw);return iw(n,t,e)}const Un=()=>{const t=Z.useContext(Em);if(t===null)throw new Error(Dw);return Z.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},S5=t=>t.userSelectionActive?"none":"all";function Ow({position:t,children:e,className:n,style:r,...s}){const o=Zt(S5),u=`${t}`.split("-");return be.createElement("div",{className:lr(["react-flow__panel",n,...u]),style:{...r,pointerEvents:o},...s},e)}function x5({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:be.createElement(Ow,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},be.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const w5=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:o={},labelBgPadding:u=[2,4],labelBgBorderRadius:c=2,children:f,className:h,...p})=>{const y=Z.useRef(null),[b,T]=Z.useState({x:0,y:0,width:0,height:0}),w=lr(["react-flow__edge-textwrapper",h]);return Z.useEffect(()=>{if(y.current){const R=y.current.getBBox();T({x:R.x,y:R.y,width:R.width,height:R.height})}},[n]),typeof n>"u"||!n?null:be.createElement("g",{transform:`translate(${t-b.width/2} ${e-b.height/2})`,className:w,visibility:b.width?"visible":"hidden",...p},s&&be.createElement("rect",{width:b.width+2*u[0],x:-u[0],y:-u[1],height:b.height+2*u[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),be.createElement("text",{className:"react-flow__edge-text",y:b.height/2,dy:"0.3em",ref:y,style:r},n),f)};var C5=Z.memo(w5);const c1=t=>({width:t.offsetWidth,height:t.offsetHeight}),wl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),d1=(t={x:0,y:0},e)=>({x:wl(t.x,e[0][0],e[1][0]),y:wl(t.y,e[0][1],e[1][1])}),Bv=(t,e,n)=>t<e?wl(Math.abs(t-e),1,50)/50:t>n?-wl(Math.abs(t-n),1,50)/50:0,Lw=(t,e)=>{const n=Bv(t.x,35,e.width-35)*20,r=Bv(t.y,35,e.height-35)*20;return[n,r]},Pw=t=>t.getRootNode?.()||window?.document,I5=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),f1=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),N5=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Uv=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),iE=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},R5=t=>ci(t.width)&&ci(t.height)&&ci(t.x)&&ci(t.y),ci=t=>!isNaN(t)&&isFinite(t),an=Symbol.for("internals"),Mw=["Enter"," ","Escape"],k5=(t,e)=>{},D5=t=>"nativeEvent"in t;function sE(t){const n=(D5(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const Bw=t=>"clientX"in t,Pa=(t,e)=>{const n=Bw(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},B0=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,lf=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:b,interactionWidth:T=20})=>be.createElement(be.Fragment,null,be.createElement("path",{id:t,style:p,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:b}),T&&be.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:T,className:"react-flow__edge-interaction"}),s&&ci(n)&&ci(r)?be.createElement(C5,{x:n,y:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h}):null);lf.displayName="BaseEdge";function td(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(o=>o.id===t);s&&n(r,{...s})}}function Uw({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,o=n<t?n+s:n-s,u=Math.abs(r-e)/2,c=r<e?r+u:r-u;return[o,c,s,u]}function Hw({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:u,targetControlY:c}){const f=t*.125+s*.375+u*.375+n*.125,h=e*.125+o*.375+c*.375+r*.125,p=Math.abs(f-t),y=Math.abs(h-e);return[f,h,p,y]}var Fa;(function(t){t.Strict="strict",t.Loose="loose"})(Fa||(Fa={}));var Po;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Po||(Po={}));var Fd;(function(t){t.Partial="partial",t.Full="full"})(Fd||(Fd={}));var xa;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(xa||(xa={}));var zd;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(zd||(zd={}));var He;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(He||(He={}));function Hv({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===He.Left||t===He.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function Vw({sourceX:t,sourceY:e,sourcePosition:n=He.Bottom,targetX:r,targetY:s,targetPosition:o=He.Top}){const[u,c]=Hv({pos:n,x1:t,y1:e,x2:r,y2:s}),[f,h]=Hv({pos:o,x1:r,y1:s,x2:t,y2:e}),[p,y,b,T]=Hw({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:h});return[`M${t},${e} C${u},${c} ${f},${h} ${r},${s}`,p,y,b,T]}const h1=Z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=He.Bottom,targetPosition:o=He.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:w,interactionWidth:R})=>{const[P,D,Y]=Vw({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o});return be.createElement(lf,{path:P,labelX:D,labelY:Y,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:w,interactionWidth:R})});h1.displayName="SimpleBezierEdge";const Vv={[He.Left]:{x:-1,y:0},[He.Right]:{x:1,y:0},[He.Top]:{x:0,y:-1},[He.Bottom]:{x:0,y:1}},O5=({source:t,sourcePosition:e=He.Bottom,target:n})=>e===He.Left||e===He.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Fv=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function L5({source:t,sourcePosition:e=He.Bottom,target:n,targetPosition:r=He.Top,center:s,offset:o}){const u=Vv[e],c=Vv[r],f={x:t.x+u.x*o,y:t.y+u.y*o},h={x:n.x+c.x*o,y:n.y+c.y*o},p=O5({source:f,sourcePosition:e,target:h}),y=p.x!==0?"x":"y",b=p[y];let T=[],w,R;const P={x:0,y:0},D={x:0,y:0},[Y,$,G,te]=Uw({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[y]*c[y]===-1){w=s.x??Y,R=s.y??$;const M=[{x:w,y:f.y},{x:w,y:h.y}],N=[{x:f.x,y:R},{x:h.x,y:R}];u[y]===b?T=y==="x"?M:N:T=y==="x"?N:M}else{const M=[{x:f.x,y:h.y}],N=[{x:h.x,y:f.y}];if(y==="x"?T=u.x===b?N:M:T=u.y===b?M:N,e===r){const C=Math.abs(t[y]-n[y]);if(C<=o){const O=Math.min(o-1,o-C);u[y]===b?P[y]=(f[y]>t[y]?-1:1)*O:D[y]=(h[y]>n[y]?-1:1)*O}}if(e!==r){const C=y==="x"?"y":"x",O=u[y]===c[C],X=f[C]>h[C],F=f[C]<h[C];(u[y]===1&&(!O&&X||O&&F)||u[y]!==1&&(!O&&F||O&&X))&&(T=y==="x"?M:N)}const k={x:f.x+P.x,y:f.y+P.y},U={x:h.x+D.x,y:h.y+D.y},B=Math.max(Math.abs(k.x-T[0].x),Math.abs(U.x-T[0].x)),V=Math.max(Math.abs(k.y-T[0].y),Math.abs(U.y-T[0].y));B>=V?(w=(k.x+U.x)/2,R=T[0].y):(w=T[0].x,R=(k.y+U.y)/2)}return[[t,{x:f.x+P.x,y:f.y+P.y},...T,{x:h.x+D.x,y:h.y+D.y},n],w,R,G,te]}function P5(t,e,n,r){const s=Math.min(Fv(t,e)/2,Fv(e,n)/2,r),{x:o,y:u}=e;if(t.x===o&&o===n.x||t.y===u&&u===n.y)return`L${o} ${u}`;if(t.y===u){const h=t.x<n.x?-1:1,p=t.y<n.y?1:-1;return`L ${o+s*h},${u}Q ${o},${u} ${o},${u+s*p}`}const c=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${o},${u+s*f}Q ${o},${u} ${o+s*c},${u}`}function aE({sourceX:t,sourceY:e,sourcePosition:n=He.Bottom,targetX:r,targetY:s,targetPosition:o=He.Top,borderRadius:u=5,centerX:c,centerY:f,offset:h=20}){const[p,y,b,T,w]=L5({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:c,y:f},offset:h});return[p.reduce((P,D,Y)=>{let $="";return Y>0&&Y<p.length-1?$=P5(p[Y-1],D,p[Y+1],u):$=`${Y===0?"M":"L"}${D.x} ${D.y}`,P+=$,P},""),y,b,T,w]}const _m=Z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:y=He.Bottom,targetPosition:b=He.Top,markerEnd:T,markerStart:w,pathOptions:R,interactionWidth:P})=>{const[D,Y,$]=aE({sourceX:t,sourceY:e,sourcePosition:y,targetX:n,targetY:r,targetPosition:b,borderRadius:R?.borderRadius,offset:R?.offset});return be.createElement(lf,{path:D,labelX:Y,labelY:$,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:T,markerStart:w,interactionWidth:P})});_m.displayName="SmoothStepEdge";const m1=Z.memo(t=>be.createElement(_m,{...t,pathOptions:Z.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));m1.displayName="StepEdge";function M5({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,o,u,c]=Uw({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,o,u,c]}const p1=Z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:b,interactionWidth:T})=>{const[w,R,P]=M5({sourceX:t,sourceY:e,targetX:n,targetY:r});return be.createElement(lf,{path:w,labelX:R,labelY:P,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:b,interactionWidth:T})});p1.displayName="StraightEdge";function Kh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function zv({pos:t,x1:e,y1:n,x2:r,y2:s,c:o}){switch(t){case He.Left:return[e-Kh(e-r,o),n];case He.Right:return[e+Kh(r-e,o),n];case He.Top:return[e,n-Kh(n-s,o)];case He.Bottom:return[e,n+Kh(s-n,o)]}}function Fw({sourceX:t,sourceY:e,sourcePosition:n=He.Bottom,targetX:r,targetY:s,targetPosition:o=He.Top,curvature:u=.25}){const[c,f]=zv({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[h,p]=zv({pos:o,x1:r,y1:s,x2:t,y2:e,c:u}),[y,b,T,w]=Hw({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${t},${e} C${c},${f} ${h},${p} ${r},${s}`,y,b,T,w]}const U0=Z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=He.Bottom,targetPosition:o=He.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:w,pathOptions:R,interactionWidth:P})=>{const[D,Y,$]=Fw({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o,curvature:R?.curvature});return be.createElement(lf,{path:D,labelX:Y,labelY:$,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:w,interactionWidth:P})});U0.displayName="BezierEdge";const g1=Z.createContext(null),B5=g1.Provider;g1.Consumer;const U5=()=>Z.useContext(g1),H5=t=>"id"in t&&"source"in t&&"target"in t,V5=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,oE=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,F5=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),z5=(t,e)=>{if(!t.source||!t.target)return e;let n;return H5(t)?n={...t}:n={...t,id:V5(t)},F5(n,e)?e:e.concat(n)},uE=({x:t,y:e},[n,r,s],o,[u,c])=>{const f={x:(t-n)/s,y:(e-r)/s};return o?{x:u*Math.round(f.x/u),y:c*Math.round(f.y/c)}:f},zw=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),hl=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},y1=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:o,y:u}=hl(s,e).positionAbsolute;return I5(r,f1({x:o,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return N5(n)},jw=(t,e,[n,r,s]=[0,0,1],o=!1,u=!1,c=[0,0])=>{const f={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},h=[];return t.forEach(p=>{const{width:y,height:b,selectable:T=!0,hidden:w=!1}=p;if(u&&!T||w)return!1;const{positionAbsolute:R}=hl(p,c),P={x:R.x,y:R.y,width:y||0,height:b||0},D=iE(f,P),Y=typeof y>"u"||typeof b>"u"||y===null||b===null,$=o&&D>0,G=(y||0)*(b||0);(Y||$||D>=G||p.dragging)&&h.push(p)}),h},qw=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},Yw=(t,e,n,r,s,o=.1)=>{const u=e/(t.width*(1+o)),c=n/(t.height*(1+o)),f=Math.min(u,c),h=wl(f,r,s),p=t.x+t.width/2,y=t.y+t.height/2,b=e/2-p*h,T=n/2-y*h;return{x:b,y:T,zoom:h}},Do=(t,e=0)=>t.transition().duration(e);function jv(t,e,n,r){return(e[n]||[]).reduce((s,o)=>(`${t.id}-${o.id}-${n}`!==r&&s.push({id:o.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+o.x+o.width/2,y:(t.positionAbsolute?.y??0)+o.y+o.height/2}),s),[])}function j5(t,e,n,r,s,o){const{x:u,y:c}=Pa(t),h=e.elementsFromPoint(u,c).find(w=>w.classList.contains("react-flow__handle"));if(h){const w=h.getAttribute("data-nodeid");if(w){const R=E1(void 0,h),P=h.getAttribute("data-handleid"),D=o({nodeId:w,id:P,type:R});if(D){const Y=s.find($=>$.nodeId===w&&$.type===R&&$.id===P);return{handle:{id:P,type:R,nodeId:w,x:Y?.x||n.x,y:Y?.y||n.y},validHandleResult:D}}}}let p=[],y=1/0;if(s.forEach(w=>{const R=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(R<=r){const P=o(w);R<=y&&(R<y?p=[{handle:w,validHandleResult:P}]:R===y&&p.push({handle:w,validHandleResult:P}),y=R)}}),!p.length)return{handle:null,validHandleResult:Gw()};if(p.length===1)return p[0];const b=p.some(({validHandleResult:w})=>w.isValid),T=p.some(({handle:w})=>w.type==="target");return p.find(({handle:w,validHandleResult:R})=>T?w.type==="target":b?R.isValid:!0)||p[0]}const q5={source:null,target:null,sourceHandle:null,targetHandle:null},Gw=()=>({handleDomNode:null,isValid:!1,connection:q5,endHandle:null});function $w(t,e,n,r,s,o,u){const c=s==="target",f=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),h={...Gw(),handleDomNode:f};if(f){const p=E1(void 0,f),y=f.getAttribute("data-nodeid"),b=f.getAttribute("data-handleid"),T=f.classList.contains("connectable"),w=f.classList.contains("connectableend"),R={source:c?y:n,sourceHandle:c?b:r,target:c?n:y,targetHandle:c?r:b};h.connection=R,T&&w&&(e===Fa.Strict?c&&p==="source"||!c&&p==="target":y!==n||b!==r)&&(h.endHandle={nodeId:y,handleId:b,type:p},h.isValid=o(R))}return h}function Y5({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,o)=>{if(o[an]){const{handleBounds:u}=o[an];let c=[],f=[];u&&(c=jv(o,u,"source",`${e}-${n}-${r}`),f=jv(o,u,"target",`${e}-${n}-${r}`)),s.push(...c,...f)}return s},[])}function E1(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function fy(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function G5(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function Kw({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:o,setState:u,isValidConnection:c,edgeUpdaterType:f,onReconnectEnd:h}){const p=Pw(t.target),{connectionMode:y,domNode:b,autoPanOnConnect:T,connectionRadius:w,onConnectStart:R,panBy:P,getNodes:D,cancelConnection:Y}=o();let $=0,G;const{x:te,y:q}=Pa(t),M=p?.elementFromPoint(te,q),N=E1(f,M),k=b?.getBoundingClientRect();if(!k||!N)return;let U,B=Pa(t,k),V=!1,C=null,O=!1,X=null;const F=Y5({nodes:D(),nodeId:n,handleId:e,handleType:N}),J=()=>{if(!T)return;const[A,ee]=Lw(B,k);P({x:A,y:ee}),$=requestAnimationFrame(J)};u({connectionPosition:B,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:N,connectionStartHandle:{nodeId:n,handleId:e,type:N},connectionEndHandle:null}),R?.(t,{nodeId:n,handleId:e,handleType:N});function se(A){const{transform:ee}=o();B=Pa(A,k);const{handle:ae,validHandleResult:I}=j5(A,p,uE(B,ee,!1,[1,1]),w,F,oe=>$w(oe,y,n,e,s?"target":"source",c,p));if(G=ae,V||(J(),V=!0),X=I.handleDomNode,C=I.connection,O=I.isValid,u({connectionPosition:G&&O?zw({x:G.x,y:G.y},ee):B,connectionStatus:G5(!!G,O),connectionEndHandle:I.endHandle}),!G&&!O&&!X)return fy(U);C.source!==C.target&&X&&(fy(U),U=X,X.classList.add("connecting","react-flow__handle-connecting"),X.classList.toggle("valid",O),X.classList.toggle("react-flow__handle-valid",O))}function re(A){(G||X)&&C&&O&&r?.(C),o().onConnectEnd?.(A),f&&h?.(A),fy(U),Y(),cancelAnimationFrame($),V=!1,O=!1,C=null,X=null,p.removeEventListener("mousemove",se),p.removeEventListener("mouseup",re),p.removeEventListener("touchmove",se),p.removeEventListener("touchend",re)}p.addEventListener("mousemove",se),p.addEventListener("mouseup",re),p.addEventListener("touchmove",se),p.addEventListener("touchend",re)}const qv=()=>!0,$5=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),K5=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:o,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||o?.nodeId===t&&o?.handleId===e&&o?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},Xw=Z.forwardRef(({type:t="source",position:e=He.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:u,onConnect:c,children:f,className:h,onMouseDown:p,onTouchStart:y,...b},T)=>{const w=u||null,R=t==="target",P=Un(),D=U5(),{connectOnClick:Y,noPanClassName:$}=Zt($5,er),{connecting:G,clickConnecting:te}=Zt(K5(D,w,t),er);D||P.getState().onError?.("010",Fs.error010());const q=k=>{const{defaultEdgeOptions:U,onConnect:B,hasDefaultEdges:V}=P.getState(),C={...U,...k};if(V){const{edges:O,setEdges:X}=P.getState();X(z5(C,O))}B?.(C),c?.(C)},M=k=>{if(!D)return;const U=Bw(k);s&&(U&&k.button===0||!U)&&Kw({event:k,handleId:w,nodeId:D,onConnect:q,isTarget:R,getState:P.getState,setState:P.setState,isValidConnection:n||P.getState().isValidConnection||qv}),U?p?.(k):y?.(k)},N=k=>{const{onClickConnectStart:U,onClickConnectEnd:B,connectionClickStartHandle:V,connectionMode:C,isValidConnection:O}=P.getState();if(!D||!V&&!s)return;if(!V){U?.(k,{nodeId:D,handleId:w,handleType:t}),P.setState({connectionClickStartHandle:{nodeId:D,type:t,handleId:w}});return}const X=Pw(k.target),F=n||O||qv,{connection:J,isValid:se}=$w({nodeId:D,id:w,type:t},C,V.nodeId,V.handleId||null,V.type,F,X);se&&q(J),B?.(k),P.setState({connectionClickStartHandle:null})};return be.createElement("div",{"data-handleid":w,"data-nodeid":D,"data-handlepos":e,"data-id":`${D}-${w}-${t}`,className:lr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",$,h,{source:!R,target:R,connectable:r,connectablestart:s,connectableend:o,connecting:te,connectionindicator:r&&(s&&!G||o&&G)}]),onMouseDown:M,onTouchStart:M,onClick:Y?N:void 0,ref:T,...b},f)});Xw.displayName="Handle";var yr=Z.memo(Xw);const Qw=({data:t,isConnectable:e,targetPosition:n=He.Top,sourcePosition:r=He.Bottom})=>be.createElement(be.Fragment,null,be.createElement(yr,{type:"target",position:n,isConnectable:e}),t?.label,be.createElement(yr,{type:"source",position:r,isConnectable:e}));Qw.displayName="DefaultNode";var lE=Z.memo(Qw);const Ww=({data:t,isConnectable:e,sourcePosition:n=He.Bottom})=>be.createElement(be.Fragment,null,t?.label,be.createElement(yr,{type:"source",position:n,isConnectable:e}));Ww.displayName="InputNode";var Zw=Z.memo(Ww);const Jw=({data:t,isConnectable:e,targetPosition:n=He.Top})=>be.createElement(be.Fragment,null,be.createElement(yr,{type:"target",position:n,isConnectable:e}),t?.label);Jw.displayName="OutputNode";var eC=Z.memo(Jw);const _1=()=>null;_1.displayName="GroupNode";const X5=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Xh=t=>t.id;function Q5(t,e){return er(t.selectedNodes.map(Xh),e.selectedNodes.map(Xh))&&er(t.selectedEdges.map(Xh),e.selectedEdges.map(Xh))}const tC=Z.memo(({onSelectionChange:t})=>{const e=Un(),{selectedNodes:n,selectedEdges:r}=Zt(X5,Q5);return Z.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(o=>o(s))},[n,r,t]),null});tC.displayName="SelectionListener";const W5=t=>!!t.onSelectionChange;function Z5({onSelectionChange:t}){const e=Zt(W5);return t||e?be.createElement(tC,{onSelectionChange:t}):null}const J5=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Ku(t,e){Z.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function ut(t,e,n){Z.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const eL=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:o,onConnectEnd:u,onClickConnectStart:c,onClickConnectEnd:f,nodesDraggable:h,nodesConnectable:p,nodesFocusable:y,edgesFocusable:b,edgesUpdatable:T,elevateNodesOnSelect:w,minZoom:R,maxZoom:P,nodeExtent:D,onNodesChange:Y,onEdgesChange:$,elementsSelectable:G,connectionMode:te,snapGrid:q,snapToGrid:M,translateExtent:N,connectOnClick:k,defaultEdgeOptions:U,fitView:B,fitViewOptions:V,onNodesDelete:C,onEdgesDelete:O,onNodeDrag:X,onNodeDragStart:F,onNodeDragStop:J,onSelectionDrag:se,onSelectionDragStart:re,onSelectionDragStop:A,noPanClassName:ee,nodeOrigin:ae,rfId:I,autoPanOnConnect:oe,autoPanOnNodeDrag:Ee,onError:pe,connectionRadius:we,isValidConnection:Ce,nodeDragThreshold:Le})=>{const{setNodes:Ve,setEdges:ct,setDefaultNodesAndEdges:Tt,setMinZoom:Ze,setMaxZoom:pt,setTranslateExtent:gt,setNodeExtent:Xt,reset:Qe}=Zt(J5,er),Oe=Un();return Z.useEffect(()=>{const zt=r?.map(vn=>({...vn,...U}));return Tt(n,zt),()=>{Qe()}},[]),ut("defaultEdgeOptions",U,Oe.setState),ut("connectionMode",te,Oe.setState),ut("onConnect",s,Oe.setState),ut("onConnectStart",o,Oe.setState),ut("onConnectEnd",u,Oe.setState),ut("onClickConnectStart",c,Oe.setState),ut("onClickConnectEnd",f,Oe.setState),ut("nodesDraggable",h,Oe.setState),ut("nodesConnectable",p,Oe.setState),ut("nodesFocusable",y,Oe.setState),ut("edgesFocusable",b,Oe.setState),ut("edgesUpdatable",T,Oe.setState),ut("elementsSelectable",G,Oe.setState),ut("elevateNodesOnSelect",w,Oe.setState),ut("snapToGrid",M,Oe.setState),ut("snapGrid",q,Oe.setState),ut("onNodesChange",Y,Oe.setState),ut("onEdgesChange",$,Oe.setState),ut("connectOnClick",k,Oe.setState),ut("fitViewOnInit",B,Oe.setState),ut("fitViewOnInitOptions",V,Oe.setState),ut("onNodesDelete",C,Oe.setState),ut("onEdgesDelete",O,Oe.setState),ut("onNodeDrag",X,Oe.setState),ut("onNodeDragStart",F,Oe.setState),ut("onNodeDragStop",J,Oe.setState),ut("onSelectionDrag",se,Oe.setState),ut("onSelectionDragStart",re,Oe.setState),ut("onSelectionDragStop",A,Oe.setState),ut("noPanClassName",ee,Oe.setState),ut("nodeOrigin",ae,Oe.setState),ut("rfId",I,Oe.setState),ut("autoPanOnConnect",oe,Oe.setState),ut("autoPanOnNodeDrag",Ee,Oe.setState),ut("onError",pe,Oe.setState),ut("connectionRadius",we,Oe.setState),ut("isValidConnection",Ce,Oe.setState),ut("nodeDragThreshold",Le,Oe.setState),Ku(t,Ve),Ku(e,ct),Ku(R,Ze),Ku(P,pt),Ku(N,gt),Ku(D,Xt),null},Yv={display:"none"},tL={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},nC="react-flow__node-desc",rC="react-flow__edge-desc",nL="react-flow__aria-live",rL=t=>t.ariaLiveMessage;function iL({rfId:t}){const e=Zt(rL);return be.createElement("div",{id:`${nL}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:tL},e)}function sL({rfId:t,disableKeyboardA11y:e}){return be.createElement(be.Fragment,null,be.createElement("div",{id:`${nC}-${t}`,style:Yv},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),be.createElement("div",{id:`${rC}-${t}`,style:Yv},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&be.createElement(iL,{rfId:t}))}var jd=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=Z.useState(!1),s=Z.useRef(!1),o=Z.useRef(new Set([])),[u,c]=Z.useMemo(()=>{if(t!==null){const h=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.split("+")),p=h.reduce((y,b)=>y.concat(...b),[]);return[h,p]}return[[],[]]},[t]);return Z.useEffect(()=>{const f=typeof document<"u"?document:null,h=e?.target||f;if(t!==null){const p=T=>{if(s.current=T.ctrlKey||T.metaKey||T.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&sE(T))return!1;const R=$v(T.code,c);o.current.add(T[R]),Gv(u,o.current,!1)&&(T.preventDefault(),r(!0))},y=T=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&sE(T))return!1;const R=$v(T.code,c);Gv(u,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(T[R]),T.key==="Meta"&&o.current.clear(),s.current=!1},b=()=>{o.current.clear(),r(!1)};return h?.addEventListener("keydown",p),h?.addEventListener("keyup",y),window.addEventListener("blur",b),()=>{h?.removeEventListener("keydown",p),h?.removeEventListener("keyup",y),window.removeEventListener("blur",b)}}},[t,r]),n};function Gv(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function $v(t,e){return e.includes(t)?"code":"key"}function iC(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const o=e.get(s),u=hl(o,r);return iC(o,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(o[an]?.z??0)>(n.z??0)?o[an]?.z??0:n.z??0},r)}function sC(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:o,y:u,z:c}=iC(r,t,{...r.position,z:r[an]?.z??0},e);r.positionAbsolute={x:o,y:u},r[an].z=c,n?.[r.id]&&(r[an].isParent=!0)}})}function hy(t,e,n,r){const s=new Map,o={},u=r?1e3:0;return t.forEach(c=>{const f=(ci(c.zIndex)?c.zIndex:0)+(c.selected?u:0),h=e.get(c.id),p={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},y=c.parentNode||c.parentId;y&&(o[y]=!0);const b=h?.type&&h?.type!==c.type;Object.defineProperty(p,an,{enumerable:!1,value:{handleBounds:b?void 0:h?.[an]?.handleBounds,z:f}}),s.set(c.id,p)}),sC(s,n,o),s}function aC(t,e={}){const{getNodes:n,width:r,height:s,minZoom:o,maxZoom:u,d3Zoom:c,d3Selection:f,fitViewOnInitDone:h,fitViewOnInit:p,nodeOrigin:y}=t(),b=e.initial&&!h&&p;if(c&&f&&(b||!e.initial)){const w=n().filter(P=>{const D=e.includeHiddenNodes?P.width&&P.height:!P.hidden;return e.nodes?.length?D&&e.nodes.some(Y=>Y.id===P.id):D}),R=w.every(P=>P.width&&P.height);if(w.length>0&&R){const P=y1(w,y),{x:D,y:Y,zoom:$}=Yw(P,r,s,e.minZoom??o,e.maxZoom??u,e.padding??.1),G=La.translate(D,Y).scale($);return typeof e.duration=="number"&&e.duration>0?c.transform(Do(f,e.duration),G):c.transform(f,G),!0}}return!1}function aL(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[an]:r[an],selected:n.selected})}),new Map(e)}function oL(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Qh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:o,onNodesChange:u,onEdgesChange:c,hasDefaultNodes:f,hasDefaultEdges:h}=n();t?.length&&(f&&r({nodeInternals:aL(t,s)}),u?.(t)),e?.length&&(h&&r({edges:oL(e,o)}),c?.(e))}const Xu=()=>{},uL={zoomIn:Xu,zoomOut:Xu,zoomTo:Xu,getZoom:()=>1,setViewport:Xu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Xu,fitBounds:Xu,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},lL=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),cL=()=>{const t=Un(),{d3Zoom:e,d3Selection:n}=Zt(lL,er);return Z.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Do(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(Do(n,s?.duration),1/1.2),zoomTo:(s,o)=>e.scaleTo(Do(n,o?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,o)=>{const[u,c,f]=t.getState().transform,h=La.translate(s.x??u,s.y??c).scale(s.zoom??f);e.transform(Do(n,o?.duration),h)},getViewport:()=>{const[s,o,u]=t.getState().transform;return{x:s,y:o,zoom:u}},fitView:s=>aC(t.getState,s),setCenter:(s,o,u)=>{const{width:c,height:f,maxZoom:h}=t.getState(),p=typeof u?.zoom<"u"?u.zoom:h,y=c/2-s*p,b=f/2-o*p,T=La.translate(y,b).scale(p);e.transform(Do(n,u?.duration),T)},fitBounds:(s,o)=>{const{width:u,height:c,minZoom:f,maxZoom:h}=t.getState(),{x:p,y,zoom:b}=Yw(s,u,c,f,h,o?.padding??.1),T=La.translate(p,y).scale(b);e.transform(Do(n,o?.duration),T)},project:s=>{const{transform:o,snapToGrid:u,snapGrid:c}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),uE(s,o,u,c)},screenToFlowPosition:s=>{const{transform:o,snapToGrid:u,snapGrid:c,domNode:f}=t.getState();if(!f)return s;const{x:h,y:p}=f.getBoundingClientRect(),y={x:s.x-h,y:s.y-p};return uE(y,o,u,c)},flowToScreenPosition:s=>{const{transform:o,domNode:u}=t.getState();if(!u)return s;const{x:c,y:f}=u.getBoundingClientRect(),h=zw(s,o);return{x:h.x+c,y:h.y+f}},viewportInitialized:!0}:uL,[e,n])};function cf(){const t=cL(),e=Un(),n=Z.useCallback(()=>e.getState().getNodes().map(R=>({...R})),[]),r=Z.useCallback(R=>e.getState().nodeInternals.get(R),[]),s=Z.useCallback(()=>{const{edges:R=[]}=e.getState();return R.map(P=>({...P}))},[]),o=Z.useCallback(R=>{const{edges:P=[]}=e.getState();return P.find(D=>D.id===R)},[]),u=Z.useCallback(R=>{const{getNodes:P,setNodes:D,hasDefaultNodes:Y,onNodesChange:$}=e.getState(),G=P(),te=typeof R=="function"?R(G):R;if(Y)D(te);else if($){const q=te.length===0?G.map(M=>({type:"remove",id:M.id})):te.map(M=>({item:M,type:"reset"}));$(q)}},[]),c=Z.useCallback(R=>{const{edges:P=[],setEdges:D,hasDefaultEdges:Y,onEdgesChange:$}=e.getState(),G=typeof R=="function"?R(P):R;if(Y)D(G);else if($){const te=G.length===0?P.map(q=>({type:"remove",id:q.id})):G.map(q=>({item:q,type:"reset"}));$(te)}},[]),f=Z.useCallback(R=>{const P=Array.isArray(R)?R:[R],{getNodes:D,setNodes:Y,hasDefaultNodes:$,onNodesChange:G}=e.getState();if($){const q=[...D(),...P];Y(q)}else if(G){const te=P.map(q=>({item:q,type:"add"}));G(te)}},[]),h=Z.useCallback(R=>{const P=Array.isArray(R)?R:[R],{edges:D=[],setEdges:Y,hasDefaultEdges:$,onEdgesChange:G}=e.getState();if($)Y([...D,...P]);else if(G){const te=P.map(q=>({item:q,type:"add"}));G(te)}},[]),p=Z.useCallback(()=>{const{getNodes:R,edges:P=[],transform:D}=e.getState(),[Y,$,G]=D;return{nodes:R().map(te=>({...te})),edges:P.map(te=>({...te})),viewport:{x:Y,y:$,zoom:G}}},[]),y=Z.useCallback(({nodes:R,edges:P})=>{const{nodeInternals:D,getNodes:Y,edges:$,hasDefaultNodes:G,hasDefaultEdges:te,onNodesDelete:q,onEdgesDelete:M,onNodesChange:N,onEdgesChange:k}=e.getState(),U=(R||[]).map(X=>X.id),B=(P||[]).map(X=>X.id),V=Y().reduce((X,F)=>{const J=F.parentNode||F.parentId,se=!U.includes(F.id)&&J&&X.find(A=>A.id===J);return(typeof F.deletable=="boolean"?F.deletable:!0)&&(U.includes(F.id)||se)&&X.push(F),X},[]),C=$.filter(X=>typeof X.deletable=="boolean"?X.deletable:!0),O=C.filter(X=>B.includes(X.id));if(V||O){const X=qw(V,C),F=[...O,...X],J=F.reduce((se,re)=>(se.includes(re.id)||se.push(re.id),se),[]);if((te||G)&&(te&&e.setState({edges:$.filter(se=>!J.includes(se.id))}),G&&(V.forEach(se=>{D.delete(se.id)}),e.setState({nodeInternals:new Map(D)}))),J.length>0&&(M?.(F),k&&k(J.map(se=>({id:se,type:"remove"})))),V.length>0&&(q?.(V),N)){const se=V.map(re=>({id:re.id,type:"remove"}));N(se)}}},[]),b=Z.useCallback(R=>{const P=R5(R),D=P?null:e.getState().nodeInternals.get(R.id);return!P&&!D?[null,null,P]:[P?R:Uv(D),D,P]},[]),T=Z.useCallback((R,P=!0,D)=>{const[Y,$,G]=b(R);return Y?(D||e.getState().getNodes()).filter(te=>{if(!G&&(te.id===$.id||!te.positionAbsolute))return!1;const q=Uv(te),M=iE(q,Y);return P&&M>0||M>=Y.width*Y.height}):[]},[]),w=Z.useCallback((R,P,D=!0)=>{const[Y]=b(R);if(!Y)return!1;const $=iE(Y,P);return D&&$>0||$>=Y.width*Y.height},[]);return Z.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:o,setNodes:u,setEdges:c,addNodes:f,addEdges:h,toObject:p,deleteElements:y,getIntersectingNodes:T,isNodeIntersecting:w}),[t,n,r,s,o,u,c,f,h,p,y,T,w])}const dL={actInsideInputWithModifier:!1};var fL=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Un(),{deleteElements:r}=cf(),s=jd(t,dL),o=jd(e);Z.useEffect(()=>{if(s){const{edges:u,getNodes:c}=n.getState(),f=c().filter(p=>p.selected),h=u.filter(p=>p.selected);r({nodes:f,edges:h}),n.setState({nodesSelectionActive:!1})}},[s]),Z.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function hL(t){const e=Un();Z.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=c1(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",Fs.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const b1={position:"absolute",width:"100%",height:"100%",top:0,left:0},mL=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Wh=t=>({x:t.x,y:t.y,zoom:t.k}),Qu=(t,e)=>t.target.closest(`.${e}`),Kv=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Xv=t=>{const e=t.ctrlKey&&B0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},pL=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),gL=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:o=!0,panOnScroll:u=!1,panOnScrollSpeed:c=.5,panOnScrollMode:f=Po.Free,zoomOnDoubleClick:h=!0,elementsSelectable:p,panOnDrag:y=!0,defaultViewport:b,translateExtent:T,minZoom:w,maxZoom:R,zoomActivationKeyCode:P,preventScrolling:D=!0,children:Y,noWheelClassName:$,noPanClassName:G})=>{const te=Z.useRef(),q=Un(),M=Z.useRef(!1),N=Z.useRef(!1),k=Z.useRef(null),U=Z.useRef({x:0,y:0,zoom:0}),{d3Zoom:B,d3Selection:V,d3ZoomHandler:C,userSelectionActive:O}=Zt(pL,er),X=jd(P),F=Z.useRef(0),J=Z.useRef(!1),se=Z.useRef();return hL(k),Z.useEffect(()=>{if(k.current){const re=k.current.getBoundingClientRect(),A=v5().scaleExtent([w,R]).translateExtent(T),ee=bi(k.current).call(A),ae=La.translate(b.x,b.y).scale(wl(b.zoom,w,R)),I=[[0,0],[re.width,re.height]],oe=A.constrain()(ae,I,T);A.transform(ee,oe),A.wheelDelta(Xv),q.setState({d3Zoom:A,d3Selection:ee,d3ZoomHandler:ee.on("wheel.zoom"),transform:[oe.x,oe.y,oe.k],domNode:k.current.closest(".react-flow")})}},[]),Z.useEffect(()=>{V&&B&&(u&&!X&&!O?V.on("wheel.zoom",re=>{if(Qu(re,$))return!1;re.preventDefault(),re.stopImmediatePropagation();const A=V.property("__zoom").k||1;if(re.ctrlKey&&o){const Ce=Xi(re),Le=Xv(re),Ve=A*Math.pow(2,Le);B.scaleTo(V,Ve,Ce,re);return}const ee=re.deltaMode===1?20:1;let ae=f===Po.Vertical?0:re.deltaX*ee,I=f===Po.Horizontal?0:re.deltaY*ee;!B0()&&re.shiftKey&&f!==Po.Vertical&&(ae=re.deltaY*ee,I=0),B.translateBy(V,-(ae/A)*c,-(I/A)*c,{internal:!0});const oe=Wh(V.property("__zoom")),{onViewportChangeStart:Ee,onViewportChange:pe,onViewportChangeEnd:we}=q.getState();clearTimeout(se.current),J.current||(J.current=!0,e?.(re,oe),Ee?.(oe)),J.current&&(t?.(re,oe),pe?.(oe),se.current=setTimeout(()=>{n?.(re,oe),we?.(oe),J.current=!1},150))},{passive:!1}):typeof C<"u"&&V.on("wheel.zoom",function(re,A){if(!D&&re.type==="wheel"&&!re.ctrlKey||Qu(re,$))return null;re.preventDefault(),C.call(this,re,A)},{passive:!1}))},[O,u,f,V,B,C,X,o,D,$,e,t,n]),Z.useEffect(()=>{B&&B.on("start",re=>{if(!re.sourceEvent||re.sourceEvent.internal)return null;F.current=re.sourceEvent?.button;const{onViewportChangeStart:A}=q.getState(),ee=Wh(re.transform);M.current=!0,U.current=ee,re.sourceEvent?.type==="mousedown"&&q.setState({paneDragging:!0}),A?.(ee),e?.(re.sourceEvent,ee)})},[B,e]),Z.useEffect(()=>{B&&(O&&!M.current?B.on("zoom",null):O||B.on("zoom",re=>{const{onViewportChange:A}=q.getState();if(q.setState({transform:[re.transform.x,re.transform.y,re.transform.k]}),N.current=!!(r&&Kv(y,F.current??0)),(t||A)&&!re.sourceEvent?.internal){const ee=Wh(re.transform);A?.(ee),t?.(re.sourceEvent,ee)}}))},[O,B,t,y,r]),Z.useEffect(()=>{B&&B.on("end",re=>{if(!re.sourceEvent||re.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=q.getState();if(M.current=!1,q.setState({paneDragging:!1}),r&&Kv(y,F.current??0)&&!N.current&&r(re.sourceEvent),N.current=!1,(n||A)&&mL(U.current,re.transform)){const ee=Wh(re.transform);U.current=ee,clearTimeout(te.current),te.current=setTimeout(()=>{A?.(ee),n?.(re.sourceEvent,ee)},u?150:0)}})},[B,u,y,n,r]),Z.useEffect(()=>{B&&B.filter(re=>{const A=X||s,ee=o&&re.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&re.button===1&&re.type==="mousedown"&&(Qu(re,"react-flow__node")||Qu(re,"react-flow__edge")))return!0;if(!y&&!A&&!u&&!h&&!o||O||!h&&re.type==="dblclick"||Qu(re,$)&&re.type==="wheel"||Qu(re,G)&&(re.type!=="wheel"||u&&re.type==="wheel"&&!X)||!o&&re.ctrlKey&&re.type==="wheel"||!A&&!u&&!ee&&re.type==="wheel"||!y&&(re.type==="mousedown"||re.type==="touchstart")||Array.isArray(y)&&!y.includes(re.button)&&re.type==="mousedown")return!1;const ae=Array.isArray(y)&&y.includes(re.button)||!re.button||re.button<=1;return(!re.ctrlKey||re.type==="wheel")&&ae})},[O,B,s,o,u,h,y,p,X]),be.createElement("div",{className:"react-flow__renderer",ref:k,style:b1},Y)},yL=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function EL(){const{userSelectionActive:t,userSelectionRect:e}=Zt(yL,er);return t&&e?be.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function Qv(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,o=e.position.y+e.height-r.height;if(s>0||o>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),o>0&&(r.style.height+=o),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function oC(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const o=t.filter(c=>c.id===s.id);if(o.length===0)return r.push(s),r;const u={...s};for(const c of o)if(c)switch(c.type){case"select":{u.selected=c.selected;break}case"position":{typeof c.position<"u"&&(u.position=c.position),typeof c.positionAbsolute<"u"&&(u.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(u.dragging=c.dragging),u.expandParent&&Qv(r,u);break}case"dimensions":{typeof c.dimensions<"u"&&(u.width=c.dimensions.width,u.height=c.dimensions.height),typeof c.updateStyle<"u"&&(u.style={...u.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(u.resizing=c.resizing),u.expandParent&&Qv(r,u);break}case"remove":return r}return r.push(u),r},n)}function uC(t,e){return oC(t,e)}function _L(t,e){return oC(t,e)}const Sa=(t,e)=>({id:t,type:"select",selected:e});function ol(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Sa(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Sa(r.id,!1))),n},[])}const my=(t,e)=>n=>{n.target===e.current&&t?.(n)},bL=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),lC=Z.memo(({isSelecting:t,selectionMode:e=Fd.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:o,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:p,children:y})=>{const b=Z.useRef(null),T=Un(),w=Z.useRef(0),R=Z.useRef(0),P=Z.useRef(),{userSelectionActive:D,elementsSelectable:Y,dragging:$}=Zt(bL,er),G=()=>{T.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,R.current=0},te=C=>{o?.(C),T.getState().resetSelectedElements(),T.setState({nodesSelectionActive:!1})},q=C=>{if(Array.isArray(n)&&n?.includes(2)){C.preventDefault();return}u?.(C)},M=c?C=>c(C):void 0,N=C=>{const{resetSelectedElements:O,domNode:X}=T.getState();if(P.current=X?.getBoundingClientRect(),!Y||!t||C.button!==0||C.target!==b.current||!P.current)return;const{x:F,y:J}=Pa(C,P.current);O(),T.setState({userSelectionRect:{width:0,height:0,startX:F,startY:J,x:F,y:J}}),r?.(C)},k=C=>{const{userSelectionRect:O,nodeInternals:X,edges:F,transform:J,onNodesChange:se,onEdgesChange:re,nodeOrigin:A,getNodes:ee}=T.getState();if(!t||!P.current||!O)return;T.setState({userSelectionActive:!0,nodesSelectionActive:!1});const ae=Pa(C,P.current),I=O.startX??0,oe=O.startY??0,Ee={...O,x:ae.x<I?ae.x:I,y:ae.y<oe?ae.y:oe,width:Math.abs(ae.x-I),height:Math.abs(ae.y-oe)},pe=ee(),we=jw(X,Ee,J,e===Fd.Partial,!0,A),Ce=qw(we,F).map(Ve=>Ve.id),Le=we.map(Ve=>Ve.id);if(w.current!==Le.length){w.current=Le.length;const Ve=ol(pe,Le);Ve.length&&se?.(Ve)}if(R.current!==Ce.length){R.current=Ce.length;const Ve=ol(F,Ce);Ve.length&&re?.(Ve)}T.setState({userSelectionRect:Ee})},U=C=>{if(C.button!==0)return;const{userSelectionRect:O}=T.getState();!D&&O&&C.target===b.current&&te?.(C),T.setState({nodesSelectionActive:w.current>0}),G(),s?.(C)},B=C=>{D&&(T.setState({nodesSelectionActive:w.current>0}),s?.(C)),G()},V=Y&&(t||D);return be.createElement("div",{className:lr(["react-flow__pane",{dragging:$,selection:t}]),onClick:V?void 0:my(te,b),onContextMenu:my(q,b),onWheel:my(M,b),onMouseEnter:V?void 0:f,onMouseDown:V?N:void 0,onMouseMove:V?k:h,onMouseUp:V?U:void 0,onMouseLeave:V?B:p,ref:b,style:b1},y,be.createElement(EL,null))});lC.displayName="Pane";function cC(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:cC(r,e):!1}function Wv(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function TL(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!cC(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function vL(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function dC(t,e,n,r,s=[0,0],o){const u=vL(t,t.extent||r);let c=u;const f=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(f&&t.width&&t.height){const y=n.get(f),{x:b,y:T}=hl(y,s).positionAbsolute;c=y&&ci(b)&&ci(T)&&ci(y.width)&&ci(y.height)?[[b+t.width*s[0],T+t.height*s[1]],[b+y.width-t.width+t.width*s[0],T+y.height-t.height+t.height*s[1]]]:c}else o?.("005",Fs.error005()),c=u;else if(t.extent&&f&&t.extent!=="parent"){const y=n.get(f),{x:b,y:T}=hl(y,s).positionAbsolute;c=[[t.extent[0][0]+b,t.extent[0][1]+T],[t.extent[1][0]+b,t.extent[1][1]+T]]}let h={x:0,y:0};if(f){const y=n.get(f);h=hl(y,s).positionAbsolute}const p=c&&c!=="parent"?d1(e,c):e;return{position:{x:p.x-h.x,y:p.y-h.y},positionAbsolute:p}}function py({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const Zv=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const o=Array.from(s),u=e.getBoundingClientRect(),c={x:u.width*r[0],y:u.height*r[1]};return o.map(f=>{const h=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(h.left-u.left-c.x)/n,y:(h.top-u.top-c.y)/n,...c1(f)}})};function nd(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function cE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:u,nodeInternals:c,onError:f}=e.getState(),h=c.get(t);if(!h){f?.("012",Fs.error012(t));return}e.setState({nodesSelectionActive:!1}),h.selected?(n||h.selected&&u)&&(o({nodes:[h],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function AL(){const t=Un();return Z.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:o}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,f={x:(u-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:o?s[0]*Math.round(f.x/s[0]):f.x,ySnapped:o?s[1]*Math.round(f.y/s[1]):f.y,...f}},[])}function gy(t){return(e,n,r)=>t?.(e,r)}function fC({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,selectNodesOnDrag:u}){const c=Un(),[f,h]=Z.useState(!1),p=Z.useRef([]),y=Z.useRef({x:null,y:null}),b=Z.useRef(0),T=Z.useRef(null),w=Z.useRef({x:0,y:0}),R=Z.useRef(null),P=Z.useRef(!1),D=Z.useRef(!1),Y=Z.useRef(!1),$=AL();return Z.useEffect(()=>{if(t?.current){const G=bi(t.current),te=({x:N,y:k})=>{const{nodeInternals:U,onNodeDrag:B,onSelectionDrag:V,updateNodePositions:C,nodeExtent:O,snapGrid:X,snapToGrid:F,nodeOrigin:J,onError:se}=c.getState();y.current={x:N,y:k};let re=!1,A={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&O){const ae=y1(p.current,J);A=f1(ae)}if(p.current=p.current.map(ae=>{const I={x:N-ae.distance.x,y:k-ae.distance.y};F&&(I.x=X[0]*Math.round(I.x/X[0]),I.y=X[1]*Math.round(I.y/X[1]));const oe=[[O[0][0],O[0][1]],[O[1][0],O[1][1]]];p.current.length>1&&O&&!ae.extent&&(oe[0][0]=ae.positionAbsolute.x-A.x+O[0][0],oe[1][0]=ae.positionAbsolute.x+(ae.width??0)-A.x2+O[1][0],oe[0][1]=ae.positionAbsolute.y-A.y+O[0][1],oe[1][1]=ae.positionAbsolute.y+(ae.height??0)-A.y2+O[1][1]);const Ee=dC(ae,I,U,oe,J,se);return re=re||ae.position.x!==Ee.position.x||ae.position.y!==Ee.position.y,ae.position=Ee.position,ae.positionAbsolute=Ee.positionAbsolute,ae}),!re)return;C(p.current,!0,!0),h(!0);const ee=s?B:gy(V);if(ee&&R.current){const[ae,I]=py({nodeId:s,dragItems:p.current,nodeInternals:U});ee(R.current,ae,I)}},q=()=>{if(!T.current)return;const[N,k]=Lw(w.current,T.current);if(N!==0||k!==0){const{transform:U,panBy:B}=c.getState();y.current.x=(y.current.x??0)-N/U[2],y.current.y=(y.current.y??0)-k/U[2],B({x:N,y:k})&&te(y.current)}b.current=requestAnimationFrame(q)},M=N=>{const{nodeInternals:k,multiSelectionActive:U,nodesDraggable:B,unselectNodesAndEdges:V,onNodeDragStart:C,onSelectionDragStart:O}=c.getState();D.current=!0;const X=s?C:gy(O);(!u||!o)&&!U&&s&&(k.get(s)?.selected||V()),s&&o&&u&&cE({id:s,store:c,nodeRef:t});const F=$(N);if(y.current=F,p.current=TL(k,B,F,s),X&&p.current){const[J,se]=py({nodeId:s,dragItems:p.current,nodeInternals:k});X(N.sourceEvent,J,se)}};if(e)G.on(".drag",null);else{const N=DD().on("start",k=>{const{domNode:U,nodeDragThreshold:B}=c.getState();B===0&&M(k),Y.current=!1;const V=$(k);y.current=V,T.current=U?.getBoundingClientRect()||null,w.current=Pa(k.sourceEvent,T.current)}).on("drag",k=>{const U=$(k),{autoPanOnNodeDrag:B,nodeDragThreshold:V}=c.getState();if(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1&&(Y.current=!0),!Y.current){if(!P.current&&D.current&&B&&(P.current=!0,q()),!D.current){const C=U.xSnapped-(y?.current?.x??0),O=U.ySnapped-(y?.current?.y??0);Math.sqrt(C*C+O*O)>V&&M(k)}(y.current.x!==U.xSnapped||y.current.y!==U.ySnapped)&&p.current&&D.current&&(R.current=k.sourceEvent,w.current=Pa(k.sourceEvent,T.current),te(U))}}).on("end",k=>{if(!(!D.current||Y.current)&&(h(!1),P.current=!1,D.current=!1,cancelAnimationFrame(b.current),p.current)){const{updateNodePositions:U,nodeInternals:B,onNodeDragStop:V,onSelectionDragStop:C}=c.getState(),O=s?V:gy(C);if(U(p.current,!1,!1),O){const[X,F]=py({nodeId:s,dragItems:p.current,nodeInternals:B});O(k.sourceEvent,X,F)}}}).filter(k=>{const U=k.target;return!k.button&&(!n||!Wv(U,`.${n}`,t))&&(!r||Wv(U,r,t))});return G.call(N),()=>{G.on(".drag",null)}}}},[t,e,n,r,o,c,s,u,$]),f}function hC(){const t=Un();return Z.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:o,getNodes:u,snapToGrid:c,snapGrid:f,onError:h,nodesDraggable:p}=t.getState(),y=u().filter(Y=>Y.selected&&(Y.draggable||p&&typeof Y.draggable>"u")),b=c?f[0]:5,T=c?f[1]:5,w=n.isShiftPressed?4:1,R=n.x*b*w,P=n.y*T*w,D=y.map(Y=>{if(Y.positionAbsolute){const $={x:Y.positionAbsolute.x+R,y:Y.positionAbsolute.y+P};c&&($.x=f[0]*Math.round($.x/f[0]),$.y=f[1]*Math.round($.y/f[1]));const{positionAbsolute:G,position:te}=dC(Y,$,r,s,void 0,h);Y.position=te,Y.positionAbsolute=G}return Y});o(D,!0,!1)},[])}const ml={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var rd=t=>{const e=({id:n,type:r,data:s,xPos:o,yPos:u,xPosOrigin:c,yPosOrigin:f,selected:h,onClick:p,onMouseEnter:y,onMouseMove:b,onMouseLeave:T,onContextMenu:w,onDoubleClick:R,style:P,className:D,isDraggable:Y,isSelectable:$,isConnectable:G,isFocusable:te,selectNodesOnDrag:q,sourcePosition:M,targetPosition:N,hidden:k,resizeObserver:U,dragHandle:B,zIndex:V,isParent:C,noDragClassName:O,noPanClassName:X,initialized:F,disableKeyboardA11y:J,ariaLabel:se,rfId:re,hasHandleBounds:A})=>{const ee=Un(),ae=Z.useRef(null),I=Z.useRef(null),oe=Z.useRef(M),Ee=Z.useRef(N),pe=Z.useRef(r),we=$||Y||p||y||b||T,Ce=hC(),Le=nd(n,ee.getState,y),Ve=nd(n,ee.getState,b),ct=nd(n,ee.getState,T),Tt=nd(n,ee.getState,w),Ze=nd(n,ee.getState,R),pt=Qe=>{const{nodeDragThreshold:Oe}=ee.getState();if($&&(!q||!Y||Oe>0)&&cE({id:n,store:ee,nodeRef:ae}),p){const zt=ee.getState().nodeInternals.get(n);zt&&p(Qe,{...zt})}},gt=Qe=>{if(!sE(Qe)&&!J)if(Mw.includes(Qe.key)&&$){const Oe=Qe.key==="Escape";cE({id:n,store:ee,unselect:Oe,nodeRef:ae})}else Y&&h&&Object.prototype.hasOwnProperty.call(ml,Qe.key)&&(ee.setState({ariaLiveMessage:`Moved selected node ${Qe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~u}`}),Ce({x:ml[Qe.key].x,y:ml[Qe.key].y,isShiftPressed:Qe.shiftKey}))};Z.useEffect(()=>()=>{I.current&&(U?.unobserve(I.current),I.current=null)},[]),Z.useEffect(()=>{if(ae.current&&!k){const Qe=ae.current;(!F||!A||I.current!==Qe)&&(I.current&&U?.unobserve(I.current),U?.observe(Qe),I.current=Qe)}},[k,F,A]),Z.useEffect(()=>{const Qe=pe.current!==r,Oe=oe.current!==M,zt=Ee.current!==N;ae.current&&(Qe||Oe||zt)&&(Qe&&(pe.current=r),Oe&&(oe.current=M),zt&&(Ee.current=N),ee.getState().updateNodeDimensions([{id:n,nodeElement:ae.current,forceUpdate:!0}]))},[n,r,M,N]);const Xt=fC({nodeRef:ae,disabled:k||!Y,noDragClassName:O,handleSelector:B,nodeId:n,isSelectable:$,selectNodesOnDrag:q});return k?null:be.createElement("div",{className:lr(["react-flow__node",`react-flow__node-${r}`,{[X]:Y},D,{selected:h,selectable:$,parent:C,dragging:Xt}]),ref:ae,style:{zIndex:V,transform:`translate(${c}px,${f}px)`,pointerEvents:we?"all":"none",visibility:F?"visible":"hidden",...P},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Le,onMouseMove:Ve,onMouseLeave:ct,onContextMenu:Tt,onClick:pt,onDoubleClick:Ze,onKeyDown:te?gt:void 0,tabIndex:te?0:void 0,role:te?"button":void 0,"aria-describedby":J?void 0:`${nC}-${re}`,"aria-label":se},be.createElement(B5,{value:n},be.createElement(t,{id:n,data:s,type:r,xPos:o,yPos:u,selected:h,isConnectable:G,sourcePosition:M,targetPosition:N,dragging:Xt,dragHandle:B,zIndex:V})))};return e.displayName="NodeWrapper",Z.memo(e)};const SL=t=>{const e=t.getNodes().filter(n=>n.selected);return{...y1(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function xL({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Un(),{width:s,height:o,x:u,y:c,transformString:f,userSelectionActive:h}=Zt(SL,er),p=hC(),y=Z.useRef(null);if(Z.useEffect(()=>{n||y.current?.focus({preventScroll:!0})},[n]),fC({nodeRef:y}),h||!s||!o)return null;const b=t?w=>{const R=r.getState().getNodes().filter(P=>P.selected);t(w,R)}:void 0,T=w=>{Object.prototype.hasOwnProperty.call(ml,w.key)&&p({x:ml[w.key].x,y:ml[w.key].y,isShiftPressed:w.shiftKey})};return be.createElement("div",{className:lr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:f}},be.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:b,tabIndex:n?void 0:-1,onKeyDown:n?void 0:T,style:{width:s,height:o,top:c,left:u}}))}var wL=Z.memo(xL);const CL=t=>t.nodesSelectionActive,mC=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,deleteKeyCode:c,onMove:f,onMoveStart:h,onMoveEnd:p,selectionKeyCode:y,selectionOnDrag:b,selectionMode:T,onSelectionStart:w,onSelectionEnd:R,multiSelectionKeyCode:P,panActivationKeyCode:D,zoomActivationKeyCode:Y,elementsSelectable:$,zoomOnScroll:G,zoomOnPinch:te,panOnScroll:q,panOnScrollSpeed:M,panOnScrollMode:N,zoomOnDoubleClick:k,panOnDrag:U,defaultViewport:B,translateExtent:V,minZoom:C,maxZoom:O,preventScrolling:X,onSelectionContextMenu:F,noWheelClassName:J,noPanClassName:se,disableKeyboardA11y:re})=>{const A=Zt(CL),ee=jd(y),ae=jd(D),I=ae||U,oe=ae||q,Ee=ee||b&&I!==!0;return fL({deleteKeyCode:c,multiSelectionKeyCode:P}),be.createElement(gL,{onMove:f,onMoveStart:h,onMoveEnd:p,onPaneContextMenu:o,elementsSelectable:$,zoomOnScroll:G,zoomOnPinch:te,panOnScroll:oe,panOnScrollSpeed:M,panOnScrollMode:N,zoomOnDoubleClick:k,panOnDrag:!ee&&I,defaultViewport:B,translateExtent:V,minZoom:C,maxZoom:O,zoomActivationKeyCode:Y,preventScrolling:X,noWheelClassName:J,noPanClassName:se},be.createElement(lC,{onSelectionStart:w,onSelectionEnd:R,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,panOnDrag:I,isSelecting:!!Ee,selectionMode:T},t,A&&be.createElement(wL,{onSelectionContextMenu:F,noPanClassName:se,disableKeyboardA11y:re})))};mC.displayName="FlowRenderer";var IL=Z.memo(mC);function NL(t){return Zt(Z.useCallback(n=>t?jw(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function RL(t){const e={input:rd(t.input||Zw),default:rd(t.default||lE),output:rd(t.output||eC),group:rd(t.group||_1)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,o)=>(s[o]=rd(t[o]||lE),s),n);return{...e,...r}}const kL=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},DL=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),pC=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:o,onError:u}=Zt(DL,er),c=NL(t.onlyRenderVisibleElements),f=Z.useRef(),h=Z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const p=new ResizeObserver(y=>{const b=y.map(T=>({id:T.target.getAttribute("data-id"),nodeElement:T.target,forceUpdate:!0}));o(b)});return f.current=p,p},[]);return Z.useEffect(()=>()=>{f?.current?.disconnect()},[]),be.createElement("div",{className:"react-flow__nodes",style:b1},c.map(p=>{let y=p.type||"default";t.nodeTypes[y]||(u?.("003",Fs.error003(y)),y="default");const b=t.nodeTypes[y]||t.nodeTypes.default,T=!!(p.draggable||e&&typeof p.draggable>"u"),w=!!(p.selectable||s&&typeof p.selectable>"u"),R=!!(p.connectable||n&&typeof p.connectable>"u"),P=!!(p.focusable||r&&typeof p.focusable>"u"),D=t.nodeExtent?d1(p.positionAbsolute,t.nodeExtent):p.positionAbsolute,Y=D?.x??0,$=D?.y??0,G=kL({x:Y,y:$,width:p.width??0,height:p.height??0,origin:t.nodeOrigin});return be.createElement(b,{key:p.id,id:p.id,className:p.className,style:p.style,type:y,data:p.data,sourcePosition:p.sourcePosition||He.Bottom,targetPosition:p.targetPosition||He.Top,hidden:p.hidden,xPos:Y,yPos:$,xPosOrigin:G.x,yPosOrigin:G.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!p.selected,isDraggable:T,isSelectable:w,isConnectable:R,isFocusable:P,resizeObserver:h,dragHandle:p.dragHandle,zIndex:p[an]?.z??0,isParent:!!p[an]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!p.width&&!!p.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:p.ariaLabel,hasHandleBounds:!!p[an]?.handleBounds})}))};pC.displayName="NodeRenderer";var OL=Z.memo(pC);const LL=(t,e,n)=>n===He.Left?t-e:n===He.Right?t+e:t,PL=(t,e,n)=>n===He.Top?t-e:n===He.Bottom?t+e:t,Jv="react-flow__edgeupdater",eA=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:u,type:c})=>be.createElement("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:u,className:lr([Jv,`${Jv}-${c}`]),cx:LL(e,r,t),cy:PL(n,r,t),r,stroke:"transparent",fill:"transparent"}),ML=()=>!0;var Wu=t=>{const e=({id:n,className:r,type:s,data:o,onClick:u,onEdgeDoubleClick:c,selected:f,animated:h,label:p,labelStyle:y,labelShowBg:b,labelBgStyle:T,labelBgPadding:w,labelBgBorderRadius:R,style:P,source:D,target:Y,sourceX:$,sourceY:G,targetX:te,targetY:q,sourcePosition:M,targetPosition:N,elementsSelectable:k,hidden:U,sourceHandleId:B,targetHandleId:V,onContextMenu:C,onMouseEnter:O,onMouseMove:X,onMouseLeave:F,reconnectRadius:J,onReconnect:se,onReconnectStart:re,onReconnectEnd:A,markerEnd:ee,markerStart:ae,rfId:I,ariaLabel:oe,isFocusable:Ee,isReconnectable:pe,pathOptions:we,interactionWidth:Ce,disableKeyboardA11y:Le})=>{const Ve=Z.useRef(null),[ct,Tt]=Z.useState(!1),[Ze,pt]=Z.useState(!1),gt=Un(),Xt=Z.useMemo(()=>`url('#${oE(ae,I)}')`,[ae,I]),Qe=Z.useMemo(()=>`url('#${oE(ee,I)}')`,[ee,I]);if(U)return null;const Oe=vt=>{const{edges:Mt,addSelectedEdges:jt,unselectNodesAndEdges:ln,multiSelectionActive:Gt}=gt.getState(),St=Mt.find(en=>en.id===n);St&&(k&&(gt.setState({nodesSelectionActive:!1}),St.selected&&Gt?(ln({nodes:[],edges:[St]}),Ve.current?.blur()):jt([n])),u&&u(vt,St))},zt=td(n,gt.getState,c),vn=td(n,gt.getState,C),un=td(n,gt.getState,O),ir=td(n,gt.getState,X),Hn=td(n,gt.getState,F),Vn=(vt,Mt)=>{if(vt.button!==0)return;const{edges:jt,isValidConnection:ln}=gt.getState(),Gt=Mt?Y:D,St=(Mt?V:B)||null,en=Mt?"target":"source",An=ln||ML,cs=Mt,hi=jt.find(xr=>xr.id===n);pt(!0),re?.(vt,hi,en);const Sr=xr=>{pt(!1),A?.(xr,hi,en)};Kw({event:vt,handleId:St,nodeId:Gt,onConnect:xr=>se?.(hi,xr),isTarget:cs,getState:gt.getState,setState:gt.setState,isValidConnection:An,edgeUpdaterType:en,onReconnectEnd:Sr})},Ar=vt=>Vn(vt,!0),he=vt=>Vn(vt,!1),Te=()=>Tt(!0),Be=()=>Tt(!1),Fe=!k&&!u,at=vt=>{if(!Le&&Mw.includes(vt.key)&&k){const{unselectNodesAndEdges:Mt,addSelectedEdges:jt,edges:ln}=gt.getState();vt.key==="Escape"?(Ve.current?.blur(),Mt({edges:[ln.find(St=>St.id===n)]})):jt([n])}};return be.createElement("g",{className:lr(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:f,animated:h,inactive:Fe,updating:ct}]),onClick:Oe,onDoubleClick:zt,onContextMenu:vn,onMouseEnter:un,onMouseMove:ir,onMouseLeave:Hn,onKeyDown:Ee?at:void 0,tabIndex:Ee?0:void 0,role:Ee?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":oe===null?void 0:oe||`Edge from ${D} to ${Y}`,"aria-describedby":Ee?`${rC}-${I}`:void 0,ref:Ve},!Ze&&be.createElement(t,{id:n,source:D,target:Y,selected:f,animated:h,label:p,labelStyle:y,labelShowBg:b,labelBgStyle:T,labelBgPadding:w,labelBgBorderRadius:R,data:o,style:P,sourceX:$,sourceY:G,targetX:te,targetY:q,sourcePosition:M,targetPosition:N,sourceHandleId:B,targetHandleId:V,markerStart:Xt,markerEnd:Qe,pathOptions:we,interactionWidth:Ce}),pe&&be.createElement(be.Fragment,null,(pe==="source"||pe===!0)&&be.createElement(eA,{position:M,centerX:$,centerY:G,radius:J,onMouseDown:Ar,onMouseEnter:Te,onMouseOut:Be,type:"source"}),(pe==="target"||pe===!0)&&be.createElement(eA,{position:N,centerX:te,centerY:q,radius:J,onMouseDown:he,onMouseEnter:Te,onMouseOut:Be,type:"target"})))};return e.displayName="EdgeWrapper",Z.memo(e)};function BL(t){const e={default:Wu(t.default||U0),straight:Wu(t.bezier||p1),step:Wu(t.step||m1),smoothstep:Wu(t.step||_m),simplebezier:Wu(t.simplebezier||h1)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,o)=>(s[o]=Wu(t[o]||U0),s),n);return{...e,...r}}function tA(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,o=n?.width||e.width,u=n?.height||e.height;switch(t){case He.Top:return{x:r+o/2,y:s};case He.Right:return{x:r+o,y:s+u/2};case He.Bottom:return{x:r+o/2,y:s+u};case He.Left:return{x:r,y:s+u/2}}}function nA(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const UL=(t,e,n,r,s,o)=>{const u=tA(n,t,e),c=tA(o,r,s);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y}};function HL({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:o,width:u,height:c,transform:f}){const h={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+o)};h.x===h.x2&&(h.x2+=1),h.y===h.y2&&(h.y2+=1);const p=f1({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:u/f[2],height:c/f[2]}),y=Math.max(0,Math.min(p.x2,h.x2)-Math.max(p.x,h.x)),b=Math.max(0,Math.min(p.y2,h.y2)-Math.max(p.y,h.y));return Math.ceil(y*b)>0}function rA(t){const e=t?.[an]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const VL=[{level:0,isMaxLevel:!0,edges:[]}];function FL(t,e,n=!1){let r=-1;const s=t.reduce((u,c)=>{const f=ci(c.zIndex);let h=f?c.zIndex:0;if(n){const p=e.get(c.target),y=e.get(c.source),b=c.selected||p?.selected||y?.selected,T=Math.max(y?.[an]?.z||0,p?.[an]?.z||0,1e3);h=(f?c.zIndex:0)+(b?T:0)}return u[h]?u[h].push(c):u[h]=[c],r=h>r?h:r,u},{}),o=Object.entries(s).map(([u,c])=>{const f=+u;return{edges:c,level:f,isMaxLevel:f===r}});return o.length===0?VL:o}function zL(t,e,n){const r=Zt(Z.useCallback(s=>t?s.edges.filter(o=>{const u=e.get(o.source),c=e.get(o.target);return u?.width&&u?.height&&c?.width&&c?.height&&HL({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return FL(r,e,n)}const jL=({color:t="none",strokeWidth:e=1})=>be.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),qL=({color:t="none",strokeWidth:e=1})=>be.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),iA={[zd.Arrow]:jL,[zd.ArrowClosed]:qL};function YL(t){const e=Un();return Z.useMemo(()=>Object.prototype.hasOwnProperty.call(iA,t)?iA[t]:(e.getState().onError?.("009",Fs.error009(t)),null),[t])}const GL=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:u,orient:c="auto-start-reverse"})=>{const f=YL(e);return f?be.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0"},be.createElement(f,{color:n,strokeWidth:u})):null},$L=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,o)=>([o.markerStart,o.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const c=oE(u,e);r.includes(c)||(s.push({id:c,color:u.color||t,...u}),r.push(c))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))},gC=({defaultColor:t,rfId:e})=>{const n=Zt(Z.useCallback($L({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((o,u)=>o.id!==s[u].id)));return be.createElement("defs",null,n.map(r=>be.createElement(GL,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};gC.displayName="MarkerDefinitions";var KL=Z.memo(gC);const XL=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),yC=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:o,onEdgeContextMenu:u,onEdgeMouseEnter:c,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:p,onEdgeDoubleClick:y,onReconnect:b,onReconnectStart:T,onReconnectEnd:w,reconnectRadius:R,children:P,disableKeyboardA11y:D})=>{const{edgesFocusable:Y,edgesUpdatable:$,elementsSelectable:G,width:te,height:q,connectionMode:M,nodeInternals:N,onError:k}=Zt(XL,er),U=zL(e,N,n);return te?be.createElement(be.Fragment,null,U.map(({level:B,edges:V,isMaxLevel:C})=>be.createElement("svg",{key:B,style:{zIndex:B},width:te,height:q,className:"react-flow__edges react-flow__container"},C&&be.createElement(KL,{defaultColor:t,rfId:r}),be.createElement("g",null,V.map(O=>{const[X,F,J]=rA(N.get(O.source)),[se,re,A]=rA(N.get(O.target));if(!J||!A)return null;let ee=O.type||"default";s[ee]||(k?.("011",Fs.error011(ee)),ee="default");const ae=s[ee]||s.default,I=M===Fa.Strict?re.target:(re.target??[]).concat(re.source??[]),oe=nA(F.source,O.sourceHandle),Ee=nA(I,O.targetHandle),pe=oe?.position||He.Bottom,we=Ee?.position||He.Top,Ce=!!(O.focusable||Y&&typeof O.focusable>"u"),Le=O.reconnectable||O.updatable,Ve=typeof b<"u"&&(Le||$&&typeof Le>"u");if(!oe||!Ee)return k?.("008",Fs.error008(oe,O)),null;const{sourceX:ct,sourceY:Tt,targetX:Ze,targetY:pt}=UL(X,oe,pe,se,Ee,we);return be.createElement(ae,{key:O.id,id:O.id,className:lr([O.className,o]),type:ee,data:O.data,selected:!!O.selected,animated:!!O.animated,hidden:!!O.hidden,label:O.label,labelStyle:O.labelStyle,labelShowBg:O.labelShowBg,labelBgStyle:O.labelBgStyle,labelBgPadding:O.labelBgPadding,labelBgBorderRadius:O.labelBgBorderRadius,style:O.style,source:O.source,target:O.target,sourceHandleId:O.sourceHandle,targetHandleId:O.targetHandle,markerEnd:O.markerEnd,markerStart:O.markerStart,sourceX:ct,sourceY:Tt,targetX:Ze,targetY:pt,sourcePosition:pe,targetPosition:we,elementsSelectable:G,onContextMenu:u,onMouseEnter:c,onMouseMove:f,onMouseLeave:h,onClick:p,onEdgeDoubleClick:y,onReconnect:b,onReconnectStart:T,onReconnectEnd:w,reconnectRadius:R,rfId:r,ariaLabel:O.ariaLabel,isFocusable:Ce,isReconnectable:Ve,pathOptions:"pathOptions"in O?O.pathOptions:void 0,interactionWidth:O.interactionWidth,disableKeyboardA11y:D})})))),P):null};yC.displayName="EdgeRenderer";var QL=Z.memo(yC);const WL=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function ZL({children:t}){const e=Zt(WL);return be.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function JL(t){const e=cf(),n=Z.useRef(!1);Z.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const eP={[He.Left]:He.Right,[He.Right]:He.Left,[He.Top]:He.Bottom,[He.Bottom]:He.Top},EC=({nodeId:t,handleType:e,style:n,type:r=xa.Bezier,CustomComponent:s,connectionStatus:o})=>{const{fromNode:u,handleId:c,toX:f,toY:h,connectionMode:p}=Zt(Z.useCallback(q=>({fromNode:q.nodeInternals.get(t),handleId:q.connectionHandleId,toX:(q.connectionPosition.x-q.transform[0])/q.transform[2],toY:(q.connectionPosition.y-q.transform[1])/q.transform[2],connectionMode:q.connectionMode}),[t]),er),y=u?.[an]?.handleBounds;let b=y?.[e];if(p===Fa.Loose&&(b=b||y?.[e==="source"?"target":"source"]),!u||!b)return null;const T=c?b.find(q=>q.id===c):b[0],w=T?T.x+T.width/2:(u.width??0)/2,R=T?T.y+T.height/2:u.height??0,P=(u.positionAbsolute?.x??0)+w,D=(u.positionAbsolute?.y??0)+R,Y=T?.position,$=Y?eP[Y]:null;if(!Y||!$)return null;if(s)return be.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:T,fromX:P,fromY:D,toX:f,toY:h,fromPosition:Y,toPosition:$,connectionStatus:o});let G="";const te={sourceX:P,sourceY:D,sourcePosition:Y,targetX:f,targetY:h,targetPosition:$};return r===xa.Bezier?[G]=Fw(te):r===xa.Step?[G]=aE({...te,borderRadius:0}):r===xa.SmoothStep?[G]=aE(te):r===xa.SimpleBezier?[G]=Vw(te):G=`M${P},${D} ${f},${h}`,be.createElement("path",{d:G,fill:"none",className:"react-flow__connection-path",style:n})};EC.displayName="ConnectionLine";const tP=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function nP({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:o,nodesConnectable:u,width:c,height:f,connectionStatus:h}=Zt(tP,er);return!(s&&o&&c&&u)?null:be.createElement("svg",{style:t,width:c,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},be.createElement("g",{className:lr(["react-flow__connection",h])},be.createElement(EC,{nodeId:s,handleType:o,style:e,type:n,CustomComponent:r,connectionStatus:h})))}function sA(t,e){return Z.useRef(null),Un(),Z.useMemo(()=>e(t),[t])}const _C=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:o,onNodeClick:u,onEdgeClick:c,onNodeDoubleClick:f,onEdgeDoubleClick:h,onNodeMouseEnter:p,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:T,onSelectionContextMenu:w,onSelectionStart:R,onSelectionEnd:P,connectionLineType:D,connectionLineStyle:Y,connectionLineComponent:$,connectionLineContainerStyle:G,selectionKeyCode:te,selectionOnDrag:q,selectionMode:M,multiSelectionKeyCode:N,panActivationKeyCode:k,zoomActivationKeyCode:U,deleteKeyCode:B,onlyRenderVisibleElements:V,elementsSelectable:C,selectNodesOnDrag:O,defaultViewport:X,translateExtent:F,minZoom:J,maxZoom:se,preventScrolling:re,defaultMarkerColor:A,zoomOnScroll:ee,zoomOnPinch:ae,panOnScroll:I,panOnScrollSpeed:oe,panOnScrollMode:Ee,zoomOnDoubleClick:pe,panOnDrag:we,onPaneClick:Ce,onPaneMouseEnter:Le,onPaneMouseMove:Ve,onPaneMouseLeave:ct,onPaneScroll:Tt,onPaneContextMenu:Ze,onEdgeContextMenu:pt,onEdgeMouseEnter:gt,onEdgeMouseMove:Xt,onEdgeMouseLeave:Qe,onReconnect:Oe,onReconnectStart:zt,onReconnectEnd:vn,reconnectRadius:un,noDragClassName:ir,noWheelClassName:Hn,noPanClassName:Vn,elevateEdgesOnSelect:Ar,disableKeyboardA11y:he,nodeOrigin:Te,nodeExtent:Be,rfId:Fe})=>{const at=sA(t,RL),vt=sA(e,BL);return JL(o),be.createElement(IL,{onPaneClick:Ce,onPaneMouseEnter:Le,onPaneMouseMove:Ve,onPaneMouseLeave:ct,onPaneContextMenu:Ze,onPaneScroll:Tt,deleteKeyCode:B,selectionKeyCode:te,selectionOnDrag:q,selectionMode:M,onSelectionStart:R,onSelectionEnd:P,multiSelectionKeyCode:N,panActivationKeyCode:k,zoomActivationKeyCode:U,elementsSelectable:C,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:ee,zoomOnPinch:ae,zoomOnDoubleClick:pe,panOnScroll:I,panOnScrollSpeed:oe,panOnScrollMode:Ee,panOnDrag:we,defaultViewport:X,translateExtent:F,minZoom:J,maxZoom:se,onSelectionContextMenu:w,preventScrolling:re,noDragClassName:ir,noWheelClassName:Hn,noPanClassName:Vn,disableKeyboardA11y:he},be.createElement(ZL,null,be.createElement(QL,{edgeTypes:vt,onEdgeClick:c,onEdgeDoubleClick:h,onlyRenderVisibleElements:V,onEdgeContextMenu:pt,onEdgeMouseEnter:gt,onEdgeMouseMove:Xt,onEdgeMouseLeave:Qe,onReconnect:Oe,onReconnectStart:zt,onReconnectEnd:vn,reconnectRadius:un,defaultMarkerColor:A,noPanClassName:Vn,elevateEdgesOnSelect:!!Ar,disableKeyboardA11y:he,rfId:Fe},be.createElement(nP,{style:Y,type:D,component:$,containerStyle:G})),be.createElement("div",{className:"react-flow__edgelabel-renderer"}),be.createElement(OL,{nodeTypes:at,onNodeClick:u,onNodeDoubleClick:f,onNodeMouseEnter:p,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:T,selectNodesOnDrag:O,onlyRenderVisibleElements:V,noPanClassName:Vn,noDragClassName:ir,disableKeyboardA11y:he,nodeOrigin:Te,nodeExtent:Be,rfId:Fe})))};_C.displayName="GraphView";var rP=Z.memo(_C);const dE=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ea={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:dE,nodeExtent:dE,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Fa.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:k5,isValidConnection:void 0},iP=()=>q6((t,e)=>({...Ea,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:o}=e();t({nodeInternals:hy(n,r,s,o)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",o=typeof r<"u",u=s?hy(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:o?r:[],hasDefaultNodes:s,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:o,fitViewOnInitDone:u,fitViewOnInitOptions:c,domNode:f,nodeOrigin:h}=e(),p=f?.querySelector(".react-flow__viewport");if(!p)return;const y=window.getComputedStyle(p),{m22:b}=new window.DOMMatrixReadOnly(y.transform),T=n.reduce((R,P)=>{const D=s.get(P.id);if(D?.hidden)s.set(D.id,{...D,[an]:{...D[an],handleBounds:void 0}});else if(D){const Y=c1(P.nodeElement);!!(Y.width&&Y.height&&(D.width!==Y.width||D.height!==Y.height||P.forceUpdate))&&(s.set(D.id,{...D,[an]:{...D[an],handleBounds:{source:Zv(".source",P.nodeElement,b,h),target:Zv(".target",P.nodeElement,b,h)}},...Y}),R.push({id:D.id,type:"dimensions",dimensions:Y}))}return R},[]);sC(s,h);const w=u||o&&!u&&aC(e,{initial:!0,...c});t({nodeInternals:new Map(s),fitViewOnInitDone:w}),T?.length>0&&r?.(T)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:o}=e(),u=n.map(c=>{const f={id:c.id,type:"position",dragging:s};return r&&(f.positionAbsolute=c.positionAbsolute,f.position=c.position),f});o(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:o,nodeOrigin:u,getNodes:c,elevateNodesOnSelect:f}=e();if(n?.length){if(o){const h=uC(n,c()),p=hy(h,s,u,f);t({nodeInternals:p})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Sa(f,!0)):(u=ol(o(),n),c=ol(s,[])),Qh({changedNodes:u,changedEdges:c,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Sa(f,!0)):(u=ol(s,n),c=ol(o(),[])),Qh({changedNodes:c,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:o}=e(),u=n||o(),c=r||s,f=u.map(p=>(p.selected=!1,Sa(p.id,!1))),h=c.map(p=>Sa(p.id,!1));Qh({changedNodes:f,changedEdges:h,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),o=r().filter(c=>c.selected).map(c=>Sa(c.id,!1)),u=n.filter(c=>c.selected).map(c=>Sa(c.id,!1));Qh({changedNodes:o,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=d1(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:o,d3Zoom:u,d3Selection:c,translateExtent:f}=e();if(!u||!c||!n.x&&!n.y)return!1;const h=La.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),p=[[0,0],[s,o]],y=u?.constrain()(h,p,f);return u.transform(c,y),r[0]!==y.x||r[1]!==y.y||r[2]!==y.k},cancelConnection:()=>t({connectionNodeId:Ea.connectionNodeId,connectionHandleId:Ea.connectionHandleId,connectionHandleType:Ea.connectionHandleType,connectionStatus:Ea.connectionStatus,connectionStartHandle:Ea.connectionStartHandle,connectionEndHandle:Ea.connectionEndHandle}),reset:()=>t({...Ea})}),Object.is),bC=({children:t})=>{const e=Z.useRef(null);return e.current||(e.current=iP()),be.createElement(A5,{value:e.current},t)};bC.displayName="ReactFlowProvider";const TC=({children:t})=>Z.useContext(Em)?be.createElement(be.Fragment,null,t):be.createElement(bC,null,t);TC.displayName="ReactFlowWrapper";const sP={input:Zw,default:lE,output:eC,group:_1},aP={default:U0,straight:p1,step:m1,smoothstep:_m,simplebezier:h1},oP=[0,0],uP=[15,15],lP={x:0,y:0,zoom:1},cP={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},vC=Z.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o=sP,edgeTypes:u=aP,onNodeClick:c,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:y,onMoveEnd:b,onConnect:T,onConnectStart:w,onConnectEnd:R,onClickConnectStart:P,onClickConnectEnd:D,onNodeMouseEnter:Y,onNodeMouseMove:$,onNodeMouseLeave:G,onNodeContextMenu:te,onNodeDoubleClick:q,onNodeDragStart:M,onNodeDrag:N,onNodeDragStop:k,onNodesDelete:U,onEdgesDelete:B,onSelectionChange:V,onSelectionDragStart:C,onSelectionDrag:O,onSelectionDragStop:X,onSelectionContextMenu:F,onSelectionStart:J,onSelectionEnd:se,connectionMode:re=Fa.Strict,connectionLineType:A=xa.Bezier,connectionLineStyle:ee,connectionLineComponent:ae,connectionLineContainerStyle:I,deleteKeyCode:oe="Backspace",selectionKeyCode:Ee="Shift",selectionOnDrag:pe=!1,selectionMode:we=Fd.Full,panActivationKeyCode:Ce="Space",multiSelectionKeyCode:Le=B0()?"Meta":"Control",zoomActivationKeyCode:Ve=B0()?"Meta":"Control",snapToGrid:ct=!1,snapGrid:Tt=uP,onlyRenderVisibleElements:Ze=!1,selectNodesOnDrag:pt=!0,nodesDraggable:gt,nodesConnectable:Xt,nodesFocusable:Qe,nodeOrigin:Oe=oP,edgesFocusable:zt,edgesUpdatable:vn,elementsSelectable:un,defaultViewport:ir=lP,minZoom:Hn=.5,maxZoom:Vn=2,translateExtent:Ar=dE,preventScrolling:he=!0,nodeExtent:Te,defaultMarkerColor:Be="#b1b1b7",zoomOnScroll:Fe=!0,zoomOnPinch:at=!0,panOnScroll:vt=!1,panOnScrollSpeed:Mt=.5,panOnScrollMode:jt=Po.Free,zoomOnDoubleClick:ln=!0,panOnDrag:Gt=!0,onPaneClick:St,onPaneMouseEnter:en,onPaneMouseMove:An,onPaneMouseLeave:cs,onPaneScroll:hi,onPaneContextMenu:Sr,children:Yr,onEdgeContextMenu:xr,onEdgeDoubleClick:Gr,onEdgeMouseEnter:eo,onEdgeMouseMove:Ni,onEdgeMouseLeave:Gs,onEdgeUpdate:Ri,onEdgeUpdateStart:iu,onEdgeUpdateEnd:Bt,onReconnect:cn,onReconnectStart:tn,onReconnectEnd:cr,reconnectRadius:to=10,edgeUpdaterRadius:Zl=10,onNodesChange:ki,onEdgesChange:su,noDragClassName:ds="nodrag",noWheelClassName:Di="nowheel",noPanClassName:$r="nopan",fitView:Kr=!1,fitViewOptions:Xr,connectOnClick:Fn=!0,attributionPosition:Qt,proOptions:no,defaultEdgeOptions:$s,elevateNodesOnSelect:wr=!0,elevateEdgesOnSelect:mi=!1,disableKeyboardA11y:ro=!1,autoPanOnConnect:au=!0,autoPanOnNodeDrag:fs=!0,connectionRadius:ou=20,isValidConnection:Oi,onError:Qr,style:Sn,id:Li,nodeDragThreshold:uu,...pi},Ks)=>{const Pi=Li||"1";return be.createElement("div",{...pi,style:{...Sn,...cP},ref:Ks,className:lr(["react-flow",s]),"data-testid":"rf__wrapper",id:Li},be.createElement(TC,null,be.createElement(rP,{onInit:h,onMove:p,onMoveStart:y,onMoveEnd:b,onNodeClick:c,onEdgeClick:f,onNodeMouseEnter:Y,onNodeMouseMove:$,onNodeMouseLeave:G,onNodeContextMenu:te,onNodeDoubleClick:q,nodeTypes:o,edgeTypes:u,connectionLineType:A,connectionLineStyle:ee,connectionLineComponent:ae,connectionLineContainerStyle:I,selectionKeyCode:Ee,selectionOnDrag:pe,selectionMode:we,deleteKeyCode:oe,multiSelectionKeyCode:Le,panActivationKeyCode:Ce,zoomActivationKeyCode:Ve,onlyRenderVisibleElements:Ze,selectNodesOnDrag:pt,defaultViewport:ir,translateExtent:Ar,minZoom:Hn,maxZoom:Vn,preventScrolling:he,zoomOnScroll:Fe,zoomOnPinch:at,zoomOnDoubleClick:ln,panOnScroll:vt,panOnScrollSpeed:Mt,panOnScrollMode:jt,panOnDrag:Gt,onPaneClick:St,onPaneMouseEnter:en,onPaneMouseMove:An,onPaneMouseLeave:cs,onPaneScroll:hi,onPaneContextMenu:Sr,onSelectionContextMenu:F,onSelectionStart:J,onSelectionEnd:se,onEdgeContextMenu:xr,onEdgeDoubleClick:Gr,onEdgeMouseEnter:eo,onEdgeMouseMove:Ni,onEdgeMouseLeave:Gs,onReconnect:cn??Ri,onReconnectStart:tn??iu,onReconnectEnd:cr??Bt,reconnectRadius:to??Zl,defaultMarkerColor:Be,noDragClassName:ds,noWheelClassName:Di,noPanClassName:$r,elevateEdgesOnSelect:mi,rfId:Pi,disableKeyboardA11y:ro,nodeOrigin:Oe,nodeExtent:Te}),be.createElement(eL,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:T,onConnectStart:w,onConnectEnd:R,onClickConnectStart:P,onClickConnectEnd:D,nodesDraggable:gt,nodesConnectable:Xt,nodesFocusable:Qe,edgesFocusable:zt,edgesUpdatable:vn,elementsSelectable:un,elevateNodesOnSelect:wr,minZoom:Hn,maxZoom:Vn,nodeExtent:Te,onNodesChange:ki,onEdgesChange:su,snapToGrid:ct,snapGrid:Tt,connectionMode:re,translateExtent:Ar,connectOnClick:Fn,defaultEdgeOptions:$s,fitView:Kr,fitViewOptions:Xr,onNodesDelete:U,onEdgesDelete:B,onNodeDragStart:M,onNodeDrag:N,onNodeDragStop:k,onSelectionDrag:O,onSelectionDragStart:C,onSelectionDragStop:X,noPanClassName:$r,nodeOrigin:Oe,rfId:Pi,autoPanOnConnect:au,autoPanOnNodeDrag:fs,onError:Qr,connectionRadius:ou,isValidConnection:Oi,nodeDragThreshold:uu}),be.createElement(Z5,{onSelectionChange:V}),Yr,be.createElement(x5,{proOptions:no,position:Qt}),be.createElement(sL,{rfId:Pi,disableKeyboardA11y:ro})))});vC.displayName="ReactFlow";function AC(t){return e=>{const[n,r]=Z.useState(e),s=Z.useCallback(o=>r(u=>t(o,u)),[]);return[n,r,s]}}const dP=AC(uC),fP=AC(_L);function hP(){return be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},be.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function mP(){return be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},be.createElement("path",{d:"M0 0h32v4.2H0z"}))}function pP(){return be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},be.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function gP(){return be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},be.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function yP(){return be.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},be.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const fd=({children:t,className:e,...n})=>be.createElement("button",{type:"button",className:lr(["react-flow__controls-button",e]),...n},t);fd.displayName="ControlButton";const EP=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),SC=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:u,onFitView:c,onInteractiveChange:f,className:h,children:p,position:y="bottom-left"})=>{const b=Un(),[T,w]=Z.useState(!1),{isInteractive:R,minZoomReached:P,maxZoomReached:D}=Zt(EP,er),{zoomIn:Y,zoomOut:$,fitView:G}=cf();if(Z.useEffect(()=>{w(!0)},[]),!T)return null;const te=()=>{Y(),o?.()},q=()=>{$(),u?.()},M=()=>{G(s),c?.()},N=()=>{b.setState({nodesDraggable:!R,nodesConnectable:!R,elementsSelectable:!R}),f?.(!R)};return be.createElement(Ow,{className:lr(["react-flow__controls",h]),position:y,style:t,"data-testid":"rf__controls"},e&&be.createElement(be.Fragment,null,be.createElement(fd,{onClick:te,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:D},be.createElement(hP,null)),be.createElement(fd,{onClick:q,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:P},be.createElement(mP,null))),n&&be.createElement(fd,{className:"react-flow__controls-fitview",onClick:M,title:"fit view","aria-label":"fit view"},be.createElement(pP,null)),r&&be.createElement(fd,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity"},R?be.createElement(yP,null):be.createElement(gP,null)),p)};SC.displayName="Controls";var _P=Z.memo(SC),di;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(di||(di={}));function bP({color:t,dimensions:e,lineWidth:n}){return be.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function TP({color:t,radius:e}){return be.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const vP={[di.Dots]:"#91919a",[di.Lines]:"#eee",[di.Cross]:"#e2e2e2"},AP={[di.Dots]:1,[di.Lines]:1,[di.Cross]:6},SP=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function xC({id:t,variant:e=di.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=2,color:u,style:c,className:f}){const h=Z.useRef(null),{transform:p,patternId:y}=Zt(SP,er),b=u||vP[e],T=r||AP[e],w=e===di.Dots,R=e===di.Cross,P=Array.isArray(n)?n:[n,n],D=[P[0]*p[2]||1,P[1]*p[2]||1],Y=T*p[2],$=R?[Y,Y]:D,G=w?[Y/o,Y/o]:[$[0]/o,$[1]/o];return be.createElement("svg",{className:lr(["react-flow__background",f]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:h,"data-testid":"rf__background"},be.createElement("pattern",{id:y+t,x:p[0]%D[0],y:p[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${G[0]},-${G[1]})`},w?be.createElement(TP,{color:b,radius:Y/o}):be.createElement(bP,{dimensions:$,color:b,lineWidth:s})),be.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${y+t})`}))}xC.displayName="Background";var xP=Z.memo(xC);const bm=Z.createContext(null);bm.displayName="PanelGroupContext";const sn={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},T1=10,Ho=Z.useLayoutEffect,aA=w6.useId,wP=typeof aA=="function"?aA:()=>null;let CP=0;function v1(t=null){const e=wP(),n=Z.useRef(t||e||null);return n.current===null&&(n.current=""+CP++),t??n.current}function wC({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:s,forwardedRef:o,id:u,maxSize:c,minSize:f,onCollapse:h,onExpand:p,onResize:y,order:b,style:T,tagName:w="div",...R}){const P=Z.useContext(bm);if(P===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:D,expandPanel:Y,getPanelSize:$,getPanelStyle:G,groupId:te,isPanelCollapsed:q,reevaluatePanelConstraints:M,registerPanel:N,resizePanel:k,unregisterPanel:U}=P,B=v1(u),V=Z.useRef({callbacks:{onCollapse:h,onExpand:p,onResize:y},constraints:{collapsedSize:n,collapsible:r,defaultSize:s,maxSize:c,minSize:f},id:B,idIsFromProps:u!==void 0,order:b});Z.useRef({didLogMissingDefaultSizeWarning:!1}),Ho(()=>{const{callbacks:O,constraints:X}=V.current,F={...X};V.current.id=B,V.current.idIsFromProps=u!==void 0,V.current.order=b,O.onCollapse=h,O.onExpand=p,O.onResize=y,X.collapsedSize=n,X.collapsible=r,X.defaultSize=s,X.maxSize=c,X.minSize=f,(F.collapsedSize!==X.collapsedSize||F.collapsible!==X.collapsible||F.maxSize!==X.maxSize||F.minSize!==X.minSize)&&M(V.current,F)}),Ho(()=>{const O=V.current;return N(O),()=>{U(O)}},[b,B,N,U]),Z.useImperativeHandle(o,()=>({collapse:()=>{D(V.current)},expand:O=>{Y(V.current,O)},getId(){return B},getSize(){return $(V.current)},isCollapsed(){return q(V.current)},isExpanded(){return!q(V.current)},resize:O=>{k(V.current,O)}}),[D,Y,$,q,B,k]);const C=G(V.current,s);return Z.createElement(w,{...R,children:t,className:e,id:B,style:{...C,...T},[sn.groupId]:te,[sn.panel]:"",[sn.panelCollapsible]:r||void 0,[sn.panelId]:B,[sn.panelSize]:parseFloat(""+C.flexGrow).toFixed(1)})}const m0=Z.forwardRef((t,e)=>Z.createElement(wC,{...t,forwardedRef:e}));wC.displayName="Panel";m0.displayName="forwardRef(Panel)";let fE=null,p0=-1,wa=null;function IP(t,e){if(e){const n=(e&kC)!==0,r=(e&DC)!==0,s=(e&OC)!==0,o=(e&LC)!==0;if(n)return s?"se-resize":o?"ne-resize":"e-resize";if(r)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function NP(){wa!==null&&(document.head.removeChild(wa),fE=null,wa=null,p0=-1)}function yy(t,e){var n,r;const s=IP(t,e);if(fE!==s){if(fE=s,wa===null&&(wa=document.createElement("style"),document.head.appendChild(wa)),p0>=0){var o;(o=wa.sheet)===null||o===void 0||o.removeRule(p0)}p0=(n=(r=wa.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${s} !important;}`))!==null&&n!==void 0?n:-1}}function CC(t){return t.type==="keydown"}function IC(t){return t.type.startsWith("pointer")}function NC(t){return t.type.startsWith("mouse")}function Tm(t){if(IC(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(NC(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function RP(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function kP(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function DP(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:lA(t),b:lA(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;rt(r,"Stacking order can only be calculated for elements with a common ancestor");const s={a:uA(oA(n.a)),b:uA(oA(n.b))};if(s.a===s.b){const o=r.childNodes,u={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const f=o[c];if(f===u.a)return 1;if(f===u.b)return-1}}return Math.sign(s.a-s.b)}const OP=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function LP(t){var e;const n=getComputedStyle((e=RC(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function PP(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||LP(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||OP.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function oA(t){let e=t.length;for(;e--;){const n=t[e];if(rt(n,"Missing node"),PP(n))return n}return null}function uA(t){return t&&Number(getComputedStyle(t).zIndex)||0}function lA(t){const e=[];for(;t;)e.push(t),t=RC(t);return e}function RC(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const kC=1,DC=2,OC=4,LC=8,MP=RP()==="coarse";let Ai=[],pl=!1,Ca=new Map,vm=new Map;const qd=new Set;function BP(t,e,n,r,s){var o;const{ownerDocument:u}=e,c={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:s},f=(o=Ca.get(u))!==null&&o!==void 0?o:0;return Ca.set(u,f+1),qd.add(c),H0(),function(){var p;vm.delete(t),qd.delete(c);const y=(p=Ca.get(u))!==null&&p!==void 0?p:1;if(Ca.set(u,y-1),H0(),y===1&&Ca.delete(u),Ai.includes(c)){const b=Ai.indexOf(c);b>=0&&Ai.splice(b,1),S1(),s("up",!0,null)}}}function UP(t){const{target:e}=t,{x:n,y:r}=Tm(t);pl=!0,A1({target:e,x:n,y:r}),H0(),Ai.length>0&&(V0("down",t),t.preventDefault(),PC(e)||t.stopImmediatePropagation())}function Ey(t){const{x:e,y:n}=Tm(t);if(pl&&t.buttons===0&&(pl=!1,V0("up",t)),!pl){const{target:r}=t;A1({target:r,x:e,y:n})}V0("move",t),S1(),Ai.length>0&&t.preventDefault()}function _y(t){const{target:e}=t,{x:n,y:r}=Tm(t);vm.clear(),pl=!1,Ai.length>0&&(t.preventDefault(),PC(e)||t.stopImmediatePropagation()),V0("up",t),A1({target:e,x:n,y:r}),S1(),H0()}function PC(t){let e=t;for(;e;){if(e.hasAttribute(sn.resizeHandle))return!0;e=e.parentElement}return!1}function A1({target:t,x:e,y:n}){Ai.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),qd.forEach(s=>{const{element:o,hitAreaMargins:u}=s,c=o.getBoundingClientRect(),{bottom:f,left:h,right:p,top:y}=c,b=MP?u.coarse:u.fine;if(e>=h-b&&e<=p+b&&n>=y-b&&n<=f+b){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&DP(r,o)>0){let w=r,R=!1;for(;w&&!w.contains(o);){if(kP(w.getBoundingClientRect(),c)){R=!0;break}w=w.parentElement}if(R)return}Ai.push(s)}})}function by(t,e){vm.set(t,e)}function S1(){let t=!1,e=!1;Ai.forEach(r=>{const{direction:s}=r;s==="horizontal"?t=!0:e=!0});let n=0;vm.forEach(r=>{n|=r}),t&&e?yy("intersection",n):t?yy("horizontal",n):e?yy("vertical",n):NP()}let Ty;function H0(){var t;(t=Ty)===null||t===void 0||t.abort(),Ty=new AbortController;const e={capture:!0,signal:Ty.signal};qd.size&&(pl?(Ai.length>0&&Ca.forEach((n,r)=>{const{body:s}=r;n>0&&(s.addEventListener("contextmenu",_y,e),s.addEventListener("pointerleave",Ey,e),s.addEventListener("pointermove",Ey,e))}),Ca.forEach((n,r)=>{const{body:s}=r;s.addEventListener("pointerup",_y,e),s.addEventListener("pointercancel",_y,e)})):Ca.forEach((n,r)=>{const{body:s}=r;n>0&&(s.addEventListener("pointerdown",UP,e),s.addEventListener("pointermove",Ey,e))}))}function V0(t,e){qd.forEach(n=>{const{setResizeHandlerState:r}=n,s=Ai.includes(n);r(t,s,e)})}function HP(){const[t,e]=Z.useState(0);return Z.useCallback(()=>e(n=>n+1),[])}function rt(t,e){if(!t)throw console.error(e),Error(e)}function zo(t,e,n=T1){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function Ls(t,e,n=T1){return zo(t,e,n)===0}function Br(t,e,n){return zo(t,e,n)===0}function VP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const s=t[r],o=e[r];if(!Br(s,o,n))return!1}return!0}function ul({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];rt(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:s=0,collapsible:o,maxSize:u=100,minSize:c=0}=r;if(zo(n,c)<0)if(o){const f=(s+c)/2;zo(n,f)<0?n=s:n=c}else n=c;return n=Math.min(u,n),n=parseFloat(n.toFixed(T1)),n}function hd({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:s,trigger:o}){if(Br(t,0))return e;const u=[...e],[c,f]=r;rt(c!=null,"Invalid first pivot index"),rt(f!=null,"Invalid second pivot index");let h=0;if(o==="keyboard"){{const y=t<0?f:c,b=n[y];rt(b,`Panel constraints not found for index ${y}`);const{collapsedSize:T=0,collapsible:w,minSize:R=0}=b;if(w){const P=e[y];if(rt(P!=null,`Previous layout not found for panel index ${y}`),Br(P,T)){const D=R-P;zo(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}{const y=t<0?c:f,b=n[y];rt(b,`No panel constraints found for index ${y}`);const{collapsedSize:T=0,collapsible:w,minSize:R=0}=b;if(w){const P=e[y];if(rt(P!=null,`Previous layout not found for panel index ${y}`),Br(P,R)){const D=P-T;zo(D,Math.abs(t))>0&&(t=t<0?0-D:D)}}}}{const y=t<0?1:-1;let b=t<0?f:c,T=0;for(;;){const R=e[b];rt(R!=null,`Previous layout not found for panel index ${b}`);const D=ul({panelConstraints:n,panelIndex:b,size:100})-R;if(T+=D,b+=y,b<0||b>=n.length)break}const w=Math.min(Math.abs(t),Math.abs(T));t=t<0?0-w:w}{let b=t<0?c:f;for(;b>=0&&b<n.length;){const T=Math.abs(t)-Math.abs(h),w=e[b];rt(w!=null,`Previous layout not found for panel index ${b}`);const R=w-T,P=ul({panelConstraints:n,panelIndex:b,size:R});if(!Br(w,P)&&(h+=w-P,u[b]=P,h.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?b--:b++}}if(VP(s,u))return s;{const y=t<0?f:c,b=e[y];rt(b!=null,`Previous layout not found for panel index ${y}`);const T=b+h,w=ul({panelConstraints:n,panelIndex:y,size:T});if(u[y]=w,!Br(w,T)){let R=T-w,D=t<0?f:c;for(;D>=0&&D<n.length;){const Y=u[D];rt(Y!=null,`Previous layout not found for panel index ${D}`);const $=Y+R,G=ul({panelConstraints:n,panelIndex:D,size:$});if(Br(Y,G)||(R-=G-Y,u[D]=G),Br(R,0))break;t>0?D--:D++}}}const p=u.reduce((y,b)=>b+y,0);return Br(p,100)?u:s}function FP({layout:t,panelsArray:e,pivotIndices:n}){let r=0,s=100,o=0,u=0;const c=n[0];rt(c!=null,"No pivot index found"),e.forEach((y,b)=>{const{constraints:T}=y,{maxSize:w=100,minSize:R=0}=T;b===c?(r=R,s=w):(o+=R,u+=w)});const f=Math.min(s,100-o),h=Math.max(r,100-u),p=t[c];return{valueMax:f,valueMin:h,valueNow:p}}function Yd(t,e=document){return Array.from(e.querySelectorAll(`[${sn.resizeHandleId}][data-panel-group-id="${t}"]`))}function MC(t,e,n=document){const s=Yd(t,n).findIndex(o=>o.getAttribute(sn.resizeHandleId)===e);return s??null}function BC(t,e,n){const r=MC(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function zP(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function UC(t,e=document){if(zP(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function Am(t,e=document){const n=e.querySelector(`[${sn.resizeHandleId}="${t}"]`);return n||null}function jP(t,e,n,r=document){var s,o,u,c;const f=Am(e,r),h=Yd(t,r),p=f?h.indexOf(f):-1,y=(s=(o=n[p])===null||o===void 0?void 0:o.id)!==null&&s!==void 0?s:null,b=(u=(c=n[p+1])===null||c===void 0?void 0:c.id)!==null&&u!==void 0?u:null;return[y,b]}function qP({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:s,panelGroupElement:o,setLayout:u}){Z.useRef({didWarnAboutMissingResizeHandle:!1}),Ho(()=>{if(!o)return;const c=Yd(n,o);for(let f=0;f<s.length-1;f++){const{valueMax:h,valueMin:p,valueNow:y}=FP({layout:r,panelsArray:s,pivotIndices:[f,f+1]}),b=c[f];if(b!=null){const T=s[f];rt(T,`No panel data found for index "${f}"`),b.setAttribute("aria-controls",T.id),b.setAttribute("aria-valuemax",""+Math.round(h)),b.setAttribute("aria-valuemin",""+Math.round(p)),b.setAttribute("aria-valuenow",y!=null?""+Math.round(y):"")}}return()=>{c.forEach((f,h)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[n,r,s,o]),Z.useEffect(()=>{if(!o)return;const c=e.current;rt(c,"Eager values not found");const{panelDataArray:f}=c,h=UC(n,o);rt(h!=null,`No group found for id "${n}"`);const p=Yd(n,o);rt(p,`No resize handles found for group id "${n}"`);const y=p.map(b=>{const T=b.getAttribute(sn.resizeHandleId);rt(T,"Resize handle element has no handle id attribute");const[w,R]=jP(n,T,f,o);if(w==null||R==null)return()=>{};const P=D=>{if(!D.defaultPrevented)switch(D.key){case"Enter":{D.preventDefault();const Y=f.findIndex($=>$.id===w);if(Y>=0){const $=f[Y];rt($,`No panel data found for index ${Y}`);const G=r[Y],{collapsedSize:te=0,collapsible:q,minSize:M=0}=$.constraints;if(G!=null&&q){const N=hd({delta:Br(G,te)?M-te:te-G,initialLayout:r,panelConstraints:f.map(k=>k.constraints),pivotIndices:BC(n,T,o),prevLayout:r,trigger:"keyboard"});r!==N&&u(N)}}break}}};return b.addEventListener("keydown",P),()=>{b.removeEventListener("keydown",P)}});return()=>{y.forEach(b=>b())}},[o,t,e,n,r,s,u])}function cA(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function HC(t,e){const n=t==="horizontal",{x:r,y:s}=Tm(e);return n?r:s}function YP(t,e,n,r,s){const o=n==="horizontal",u=Am(e,s);rt(u,`No resize handle element found for id "${e}"`);const c=u.getAttribute(sn.groupId);rt(c,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=r;const h=HC(n,t),p=UC(c,s);rt(p,`No group element found for id "${c}"`);const y=p.getBoundingClientRect(),b=o?y.width:y.height;return(h-f)/b*100}function GP(t,e,n,r,s,o){if(CC(t)){const u=n==="horizontal";let c=0;t.shiftKey?c=100:s!=null?c=s:c=10;let f=0;switch(t.key){case"ArrowDown":f=u?0:c;break;case"ArrowLeft":f=u?-c:0;break;case"ArrowRight":f=u?c:0;break;case"ArrowUp":f=u?0:-c;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return r==null?0:YP(t,e,n,r,o)}function $P({panelDataArray:t}){const e=Array(t.length),n=t.map(o=>o.constraints);let r=0,s=100;for(let o=0;o<t.length;o++){const u=n[o];rt(u,`Panel constraints not found for index ${o}`);const{defaultSize:c}=u;c!=null&&(r++,e[o]=c,s-=c)}for(let o=0;o<t.length;o++){const u=n[o];rt(u,`Panel constraints not found for index ${o}`);const{defaultSize:c}=u;if(c!=null)continue;const f=t.length-r,h=s/f;r++,e[o]=h,s-=h}return e}function Zu(t,e,n){e.forEach((r,s)=>{const o=t[s];rt(o,`Panel data not found for index ${s}`);const{callbacks:u,constraints:c,id:f}=o,{collapsedSize:h=0,collapsible:p}=c,y=n[f];if(y==null||r!==y){n[f]=r;const{onCollapse:b,onExpand:T,onResize:w}=u;w&&w(r,y),p&&(b||T)&&(T&&(y==null||Ls(y,h))&&!Ls(r,h)&&T(),b&&(y==null||!Ls(y,h))&&Ls(r,h)&&b())}})}function Zh(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function KP({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:s,precision:o=3}){const u=n[s];let c;return u==null?c=t!=null?t.toPrecision(o):"1":r.length===1?c="1":c=u.toPrecision(o),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function XP(t,e=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)}}function dA(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function VC(t){return`react-resizable-panels:${t}`}function FC(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:s,order:o}=e;return s?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function zC(t,e){try{const n=VC(t),r=e.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function QP(t,e,n){var r,s;const o=(r=zC(t,n))!==null&&r!==void 0?r:{},u=FC(e);return(s=o[u])!==null&&s!==void 0?s:null}function WP(t,e,n,r,s){var o;const u=VC(t),c=FC(e),f=(o=zC(t,s))!==null&&o!==void 0?o:{};f[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(u,JSON.stringify(f))}catch(h){console.error(h)}}function fA({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((o,u)=>o+u,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!Br(r,100)&&n.length>0)for(let o=0;o<e.length;o++){const u=n[o];rt(u!=null,`No layout data found for index ${o}`);const c=100/r*u;n[o]=c}let s=0;for(let o=0;o<e.length;o++){const u=n[o];rt(u!=null,`No layout data found for index ${o}`);const c=ul({panelConstraints:e,panelIndex:o,size:u});u!=c&&(s+=u-c,n[o]=c)}if(!Br(s,0))for(let o=0;o<e.length;o++){const u=n[o];rt(u!=null,`No layout data found for index ${o}`);const c=u+s,f=ul({panelConstraints:e,panelIndex:o,size:c});if(u!==f&&(s-=f-u,n[o]=f,Br(s,0)))break}return n}const ZP=100,md={getItem:t=>(dA(md),md.getItem(t)),setItem:(t,e)=>{dA(md),md.setItem(t,e)}},hA={};function jC({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:s,id:o=null,onLayout:u=null,keyboardResizeBy:c=null,storage:f=md,style:h,tagName:p="div",...y}){const b=v1(o),T=Z.useRef(null),[w,R]=Z.useState(null),[P,D]=Z.useState([]),Y=HP(),$=Z.useRef({}),G=Z.useRef(new Map),te=Z.useRef(0),q=Z.useRef({autoSaveId:t,direction:r,dragState:w,id:b,keyboardResizeBy:c,onLayout:u,storage:f}),M=Z.useRef({layout:P,panelDataArray:[],panelDataArrayChanged:!1});Z.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Z.useImperativeHandle(s,()=>({getId:()=>q.current.id,getLayout:()=>{const{layout:I}=M.current;return I},setLayout:I=>{const{onLayout:oe}=q.current,{layout:Ee,panelDataArray:pe}=M.current,we=fA({layout:I,panelConstraints:pe.map(Ce=>Ce.constraints)});cA(Ee,we)||(D(we),M.current.layout=we,oe&&oe(we),Zu(pe,we,$.current))}}),[]),Ho(()=>{q.current.autoSaveId=t,q.current.direction=r,q.current.dragState=w,q.current.id=b,q.current.onLayout=u,q.current.storage=f}),qP({committedValuesRef:q,eagerValuesRef:M,groupId:b,layout:P,panelDataArray:M.current.panelDataArray,setLayout:D,panelGroupElement:T.current}),Z.useEffect(()=>{const{panelDataArray:I}=M.current;if(t){if(P.length===0||P.length!==I.length)return;let oe=hA[t];oe==null&&(oe=XP(WP,ZP),hA[t]=oe);const Ee=[...I],pe=new Map(G.current);oe(t,Ee,pe,P,f)}},[t,P,f]),Z.useEffect(()=>{});const N=Z.useCallback(I=>{const{onLayout:oe}=q.current,{layout:Ee,panelDataArray:pe}=M.current;if(I.constraints.collapsible){const we=pe.map(ct=>ct.constraints),{collapsedSize:Ce=0,panelSize:Le,pivotIndices:Ve}=ko(pe,I,Ee);if(rt(Le!=null,`Panel size not found for panel "${I.id}"`),!Ls(Le,Ce)){G.current.set(I.id,Le);const Tt=nl(pe,I)===pe.length-1?Le-Ce:Ce-Le,Ze=hd({delta:Tt,initialLayout:Ee,panelConstraints:we,pivotIndices:Ve,prevLayout:Ee,trigger:"imperative-api"});Zh(Ee,Ze)||(D(Ze),M.current.layout=Ze,oe&&oe(Ze),Zu(pe,Ze,$.current))}}},[]),k=Z.useCallback((I,oe)=>{const{onLayout:Ee}=q.current,{layout:pe,panelDataArray:we}=M.current;if(I.constraints.collapsible){const Ce=we.map(pt=>pt.constraints),{collapsedSize:Le=0,panelSize:Ve=0,minSize:ct=0,pivotIndices:Tt}=ko(we,I,pe),Ze=oe??ct;if(Ls(Ve,Le)){const pt=G.current.get(I.id),gt=pt!=null&&pt>=Ze?pt:Ze,Qe=nl(we,I)===we.length-1?Ve-gt:gt-Ve,Oe=hd({delta:Qe,initialLayout:pe,panelConstraints:Ce,pivotIndices:Tt,prevLayout:pe,trigger:"imperative-api"});Zh(pe,Oe)||(D(Oe),M.current.layout=Oe,Ee&&Ee(Oe),Zu(we,Oe,$.current))}}},[]),U=Z.useCallback(I=>{const{layout:oe,panelDataArray:Ee}=M.current,{panelSize:pe}=ko(Ee,I,oe);return rt(pe!=null,`Panel size not found for panel "${I.id}"`),pe},[]),B=Z.useCallback((I,oe)=>{const{panelDataArray:Ee}=M.current,pe=nl(Ee,I);return KP({defaultSize:oe,dragState:w,layout:P,panelData:Ee,panelIndex:pe})},[w,P]),V=Z.useCallback(I=>{const{layout:oe,panelDataArray:Ee}=M.current,{collapsedSize:pe=0,collapsible:we,panelSize:Ce}=ko(Ee,I,oe);return rt(Ce!=null,`Panel size not found for panel "${I.id}"`),we===!0&&Ls(Ce,pe)},[]),C=Z.useCallback(I=>{const{layout:oe,panelDataArray:Ee}=M.current,{collapsedSize:pe=0,collapsible:we,panelSize:Ce}=ko(Ee,I,oe);return rt(Ce!=null,`Panel size not found for panel "${I.id}"`),!we||zo(Ce,pe)>0},[]),O=Z.useCallback(I=>{const{panelDataArray:oe}=M.current;oe.push(I),oe.sort((Ee,pe)=>{const we=Ee.order,Ce=pe.order;return we==null&&Ce==null?0:we==null?-1:Ce==null?1:we-Ce}),M.current.panelDataArrayChanged=!0,Y()},[Y]);Ho(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:I,onLayout:oe,storage:Ee}=q.current,{layout:pe,panelDataArray:we}=M.current;let Ce=null;if(I){const Ve=QP(I,we,Ee);Ve&&(G.current=new Map(Object.entries(Ve.expandToSizes)),Ce=Ve.layout)}Ce==null&&(Ce=$P({panelDataArray:we}));const Le=fA({layout:Ce,panelConstraints:we.map(Ve=>Ve.constraints)});cA(pe,Le)||(D(Le),M.current.layout=Le,oe&&oe(Le),Zu(we,Le,$.current))}}),Ho(()=>{const I=M.current;return()=>{I.layout=[]}},[]);const X=Z.useCallback(I=>{let oe=!1;const Ee=T.current;return Ee&&window.getComputedStyle(Ee,null).getPropertyValue("direction")==="rtl"&&(oe=!0),function(we){we.preventDefault();const Ce=T.current;if(!Ce)return()=>null;const{direction:Le,dragState:Ve,id:ct,keyboardResizeBy:Tt,onLayout:Ze}=q.current,{layout:pt,panelDataArray:gt}=M.current,{initialLayout:Xt}=Ve??{},Qe=BC(ct,I,Ce);let Oe=GP(we,I,Le,Ve,Tt,Ce);const zt=Le==="horizontal";zt&&oe&&(Oe=-Oe);const vn=gt.map(Hn=>Hn.constraints),un=hd({delta:Oe,initialLayout:Xt??pt,panelConstraints:vn,pivotIndices:Qe,prevLayout:pt,trigger:CC(we)?"keyboard":"mouse-or-touch"}),ir=!Zh(pt,un);(IC(we)||NC(we))&&te.current!=Oe&&(te.current=Oe,!ir&&Oe!==0?zt?by(I,Oe<0?kC:DC):by(I,Oe<0?OC:LC):by(I,0)),ir&&(D(un),M.current.layout=un,Ze&&Ze(un),Zu(gt,un,$.current))}},[]),F=Z.useCallback((I,oe)=>{const{onLayout:Ee}=q.current,{layout:pe,panelDataArray:we}=M.current,Ce=we.map(pt=>pt.constraints),{panelSize:Le,pivotIndices:Ve}=ko(we,I,pe);rt(Le!=null,`Panel size not found for panel "${I.id}"`);const Tt=nl(we,I)===we.length-1?Le-oe:oe-Le,Ze=hd({delta:Tt,initialLayout:pe,panelConstraints:Ce,pivotIndices:Ve,prevLayout:pe,trigger:"imperative-api"});Zh(pe,Ze)||(D(Ze),M.current.layout=Ze,Ee&&Ee(Ze),Zu(we,Ze,$.current))},[]),J=Z.useCallback((I,oe)=>{const{layout:Ee,panelDataArray:pe}=M.current,{collapsedSize:we=0,collapsible:Ce}=oe,{collapsedSize:Le=0,collapsible:Ve,maxSize:ct=100,minSize:Tt=0}=I.constraints,{panelSize:Ze}=ko(pe,I,Ee);Ze!=null&&(Ce&&Ve&&Ls(Ze,we)?Ls(we,Le)||F(I,Le):Ze<Tt?F(I,Tt):Ze>ct&&F(I,ct))},[F]),se=Z.useCallback((I,oe)=>{const{direction:Ee}=q.current,{layout:pe}=M.current;if(!T.current)return;const we=Am(I,T.current);rt(we,`Drag handle element not found for id "${I}"`);const Ce=HC(Ee,oe);R({dragHandleId:I,dragHandleRect:we.getBoundingClientRect(),initialCursorPosition:Ce,initialLayout:pe})},[]),re=Z.useCallback(()=>{R(null)},[]),A=Z.useCallback(I=>{const{panelDataArray:oe}=M.current,Ee=nl(oe,I);Ee>=0&&(oe.splice(Ee,1),delete $.current[I.id],M.current.panelDataArrayChanged=!0,Y())},[Y]),ee=Z.useMemo(()=>({collapsePanel:N,direction:r,dragState:w,expandPanel:k,getPanelSize:U,getPanelStyle:B,groupId:b,isPanelCollapsed:V,isPanelExpanded:C,reevaluatePanelConstraints:J,registerPanel:O,registerResizeHandle:X,resizePanel:F,startDragging:se,stopDragging:re,unregisterPanel:A,panelGroupElement:T.current}),[N,w,r,k,U,B,b,V,C,J,O,X,F,se,re,A]),ae={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Z.createElement(bm.Provider,{value:ee},Z.createElement(p,{...y,children:e,className:n,id:o,ref:T,style:{...ae,...h},[sn.group]:"",[sn.groupDirection]:r,[sn.groupId]:b}))}const qC=Z.forwardRef((t,e)=>Z.createElement(jC,{...t,forwardedRef:e}));jC.displayName="PanelGroup";qC.displayName="forwardRef(PanelGroup)";function nl(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function ko(t,e,n){const r=nl(t,e),o=r===t.length-1?[r-1,r]:[r,r+1],u=n[r];return{...e.constraints,panelSize:u,pivotIndices:o}}function JP({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){Z.useEffect(()=>{if(t||n==null||r==null)return;const s=Am(e,r);if(s==null)return;const o=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),n(u);break}case"F6":{u.preventDefault();const c=s.getAttribute(sn.groupId);rt(c,`No group element found for id "${c}"`);const f=Yd(c,r),h=MC(c,e,r);rt(h!==null,`No resize element found for id "${e}"`);const p=u.shiftKey?h>0?h-1:f.length-1:h+1<f.length?h+1:0;f[p].focus();break}}};return s.addEventListener("keydown",o),()=>{s.removeEventListener("keydown",o)}},[r,t,e,n])}function hE({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:s,onBlur:o,onClick:u,onDragging:c,onFocus:f,onPointerDown:h,onPointerUp:p,style:y={},tabIndex:b=0,tagName:T="div",...w}){var R,P;const D=Z.useRef(null),Y=Z.useRef({onClick:u,onDragging:c,onPointerDown:h,onPointerUp:p});Z.useEffect(()=>{Y.current.onClick=u,Y.current.onDragging=c,Y.current.onPointerDown=h,Y.current.onPointerUp=p});const $=Z.useContext(bm);if($===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:G,groupId:te,registerResizeHandle:q,startDragging:M,stopDragging:N,panelGroupElement:k}=$,U=v1(s),[B,V]=Z.useState("inactive"),[C,O]=Z.useState(!1),[X,F]=Z.useState(null),J=Z.useRef({state:B});Ho(()=>{J.current.state=B}),Z.useEffect(()=>{if(n)F(null);else{const ee=q(U);F(()=>ee)}},[n,U,q]);const se=(R=r?.coarse)!==null&&R!==void 0?R:15,re=(P=r?.fine)!==null&&P!==void 0?P:5;Z.useEffect(()=>{if(n||X==null)return;const ee=D.current;rt(ee,"Element ref not attached");let ae=!1;return BP(U,ee,G,{coarse:se,fine:re},(oe,Ee,pe)=>{if(!Ee){V("inactive");return}switch(oe){case"down":{V("drag"),ae=!1,rt(pe,'Expected event to be defined for "down" action'),M(U,pe);const{onDragging:we,onPointerDown:Ce}=Y.current;we?.(!0),Ce?.();break}case"move":{const{state:we}=J.current;ae=!0,we!=="drag"&&V("hover"),rt(pe,'Expected event to be defined for "move" action'),X(pe);break}case"up":{V("hover"),N();const{onClick:we,onDragging:Ce,onPointerUp:Le}=Y.current;Ce?.(!1),Le?.(),ae||we?.();break}}})},[se,G,n,re,q,U,X,M,N]),JP({disabled:n,handleId:U,resizeHandler:X,panelGroupElement:k});const A={touchAction:"none",userSelect:"none"};return Z.createElement(T,{...w,children:t,className:e,id:s,onBlur:()=>{O(!1),o?.()},onFocus:()=>{O(!0),f?.()},ref:D,role:"separator",style:{...A,...y},tabIndex:b,[sn.groupDirection]:G,[sn.groupId]:te,[sn.resizeHandle]:"",[sn.resizeHandleActive]:B==="drag"?"pointer":C?"keyboard":void 0,[sn.resizeHandleEnabled]:!n,[sn.resizeHandleId]:U,[sn.resizeHandleState]:B})}hE.displayName="PanelResizeHandle";const eM=()=>{};var mA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},tM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],c=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},GC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,c=u?t[s+1]:0,f=s+2<t.length,h=f?t[s+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let b=(c&15)<<2|h>>6,T=h&63;f||(T=64,u||(b=64)),r.push(n[p],n[y],n[b],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||h==null||y==null)throw new nM;const b=o<<2|c>>4;if(r.push(b),h!==64){const T=c<<4&240|h>>2;if(r.push(T),y!==64){const w=h<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rM=function(t){const e=YC(t);return GC.encodeByteArray(e,!0)},F0=function(t){return rM(t).replace(/\./g,"")},$C=function(t){try{return GC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=()=>iM().__FIREBASE_DEFAULTS__,aM=()=>{if(typeof process>"u"||typeof mA>"u")return;const t=mA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$C(t[1]);return e&&JSON.parse(e)},Sm=()=>{try{return eM()||sM()||aM()||oM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KC=t=>{var e,n;return(n=(e=Sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XC=t=>{const e=KC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QC=()=>{var t;return(t=Sm())===null||t===void 0?void 0:t.config},WC=t=>{var e;return(e=Sm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return t.endsWith(".cloudworkstations.dev")}async function x1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[F0(JSON.stringify(n)),F0(JSON.stringify(u)),""].join(".")}const Td={};function cM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Td))Td[e]?t.emulator.push(e):t.prod.push(e);return t}function dM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pA=!1;function w1(t,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Td[t]===e||Td[t]||pA)return;Td[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=cM().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{pA=!0,u()},b}function p(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=dM(r),T=n("text"),w=document.getElementById(T)||document.createElement("span"),R=n("learnmore"),P=document.getElementById(R)||document.createElement("a"),D=n("preprendIcon"),Y=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const $=b.element;c($),p(P,R);const G=h();f(Y,D),$.append(Y,w,P,G),document.body.appendChild($)}o?(w.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tr())}function hM(){var t;const e=(t=Sm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yM(){const t=tr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EM(){return!hM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _M(){try{return typeof indexedDB=="object"}catch{return!1}}function bM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="FirebaseError";class us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TM,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,df.prototype.create)}}class df{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?vM(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new us(s,c,r)}}function vM(t,e){return t.replace(AM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AM=/\{\$([^}]+)}/g;function SM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(gA(o)&&gA(u)){if(!jo(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function gd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xM(t,e){const n=new wM(t,e);return n.subscribe.bind(n)}class wM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vy),s.error===void 0&&(s.error=vy),s.complete===void 0&&(s.complete=vy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class za{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RM(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NM(t){return t===Oo?void 0:t}function RM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const DM={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},OM=ht.INFO,LM={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},PM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=LM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C1{constructor(e){this.name=e,this._logLevel=OM,this._logHandler=PM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const MM=(t,e)=>e.some(n=>t instanceof n);let yA,EA;function BM(){return yA||(yA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UM(){return EA||(EA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,mE=new WeakMap,JC=new WeakMap,Ay=new WeakMap,I1=new WeakMap;function HM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ma(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ZC.set(n,t)}).catch(()=>{}),I1.set(e,t),e}function VM(t){if(mE.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});mE.set(t,e)}let pE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ma(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FM(t){pE=t(pE)}function zM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sy(this),e,...n);return JC.set(r,e.sort?e.sort():[e]),Ma(r)}:UM().includes(t)?function(...e){return t.apply(Sy(this),e),Ma(ZC.get(this))}:function(...e){return Ma(t.apply(Sy(this),e))}}function jM(t){return typeof t=="function"?zM(t):(t instanceof IDBTransaction&&VM(t),MM(t,BM())?new Proxy(t,pE):t)}function Ma(t){if(t instanceof IDBRequest)return HM(t);if(Ay.has(t))return Ay.get(t);const e=jM(t);return e!==t&&(Ay.set(t,e),I1.set(e,t)),e}const Sy=t=>I1.get(t);function qM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),c=Ma(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ma(u.result),f.oldVersion,f.newVersion,Ma(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const YM=["get","getKey","getAll","getAllKeys","count"],GM=["put","add","delete","clear"],xy=new Map;function _A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xy.get(e))return xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=GM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YM.includes(n)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&f.done]))[0]};return xy.set(e,o),o}FM(t=>({...t,get:(e,n,r)=>_A(e,n)||t.get(e,n,r),has:(e,n)=>!!_A(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KM(t){const e=t.getComponent();return e?.type==="VERSION"}const gE="@firebase/app",bA="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new C1("@firebase/app"),XM="@firebase/app-compat",QM="@firebase/analytics-compat",WM="@firebase/analytics",ZM="@firebase/app-check-compat",JM="@firebase/app-check",e8="@firebase/auth",t8="@firebase/auth-compat",n8="@firebase/database",r8="@firebase/data-connect",i8="@firebase/database-compat",s8="@firebase/functions",a8="@firebase/functions-compat",o8="@firebase/installations",u8="@firebase/installations-compat",l8="@firebase/messaging",c8="@firebase/messaging-compat",d8="@firebase/performance",f8="@firebase/performance-compat",h8="@firebase/remote-config",m8="@firebase/remote-config-compat",p8="@firebase/storage",g8="@firebase/storage-compat",y8="@firebase/firestore",E8="@firebase/ai",_8="@firebase/firestore-compat",b8="firebase",T8="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="[DEFAULT]",v8={[gE]:"fire-core",[XM]:"fire-core-compat",[WM]:"fire-analytics",[QM]:"fire-analytics-compat",[JM]:"fire-app-check",[ZM]:"fire-app-check-compat",[e8]:"fire-auth",[t8]:"fire-auth-compat",[n8]:"fire-rtdb",[r8]:"fire-data-connect",[i8]:"fire-rtdb-compat",[s8]:"fire-fn",[a8]:"fire-fn-compat",[o8]:"fire-iid",[u8]:"fire-iid-compat",[l8]:"fire-fcm",[c8]:"fire-fcm-compat",[d8]:"fire-perf",[f8]:"fire-perf-compat",[h8]:"fire-rc",[m8]:"fire-rc-compat",[p8]:"fire-gcs",[g8]:"fire-gcs-compat",[y8]:"fire-fst",[_8]:"fire-fst-compat",[E8]:"fire-vertex","fire-js":"fire-js",[b8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map,A8=new Map,EE=new Map;function TA(t,e){try{t.container.addComponent(e)}catch(n){zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(EE.has(e))return zs.debug(`There were multiple attempts to register component ${e}.`),!1;EE.set(e,t);for(const n of z0.values())TA(n,t);for(const n of A8.values())TA(n,t);return!0}function xm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ba=new df("app","Firebase",S8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=T8;function eI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yE,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ba.create("bad-app-name",{appName:String(s)});if(n||(n=QC()),!n)throw Ba.create("no-options");const o=z0.get(s);if(o){if(jo(n,o.options)&&jo(r,o.config))return o;throw Ba.create("duplicate-app",{appName:s})}const u=new kM(s);for(const f of EE.values())u.addComponent(f);const c=new x8(n,r,u);return z0.set(s,c),c}function N1(t=yE){const e=z0.get(t);if(!e&&t===yE&&QC())return eI();if(!e)throw Ba.create("no-app",{appName:t});return e}function es(t,e,n){var r;let s=(r=v8[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zs.warn(c.join(" "));return}qo(new za(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="firebase-heartbeat-database",C8=1,Gd="firebase-heartbeat-store";let wy=null;function tI(){return wy||(wy=qM(w8,C8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ba.create("idb-open",{originalErrorMessage:t.message})})),wy}async function I8(t){try{const n=(await tI()).transaction(Gd),r=await n.objectStore(Gd).get(nI(t));return await n.done,r}catch(e){if(e instanceof us)zs.warn(e.message);else{const n=Ba.create("idb-get",{originalErrorMessage:e?.message});zs.warn(n.message)}}}async function vA(t,e){try{const r=(await tI()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,nI(t)),await r.done}catch(n){if(n instanceof us)zs.warn(n.message);else{const r=Ba.create("idb-set",{originalErrorMessage:n?.message});zs.warn(r.message)}}}function nI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=1024,R8=30;class k8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>R8){const u=L8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AA(),{heartbeatsToSend:r,unsentEntries:s}=D8(this._heartbeatsCache.heartbeats),o=F0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zs.warn(n),""}}}function AA(){return new Date().toISOString().substring(0,10)}function D8(t,e=N8){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),SA(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),SA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class O8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _M()?bM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await I8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function SA(t){return F0(JSON.stringify({version:2,heartbeats:t})).length}function L8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){qo(new za("platform-logger",e=>new $M(e),"PRIVATE")),qo(new za("heartbeat",e=>new k8(e),"PRIVATE")),es(gE,bA,t),es(gE,bA,"esm2017"),es("fire-js","")}P8("");var M8="firebase",B8="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(M8,B8,"app");var xA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ua,rI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function k(){}k.prototype=N.prototype,M.D=N.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(U,B,V){for(var C=Array(arguments.length-2),O=2;O<arguments.length;O++)C[O-2]=arguments[O];return N.prototype[B].apply(U,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(M,N,k){k||(k=0);var U=Array(16);if(typeof N=="string")for(var B=0;16>B;++B)U[B]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(B=0;16>B;++B)U[B]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=M.g[0],k=M.g[1],B=M.g[2];var V=M.g[3],C=N+(V^k&(B^V))+U[0]+3614090360&4294967295;N=k+(C<<7&4294967295|C>>>25),C=V+(B^N&(k^B))+U[1]+3905402710&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(k^V&(N^k))+U[2]+606105819&4294967295,B=V+(C<<17&4294967295|C>>>15),C=k+(N^B&(V^N))+U[3]+3250441966&4294967295,k=B+(C<<22&4294967295|C>>>10),C=N+(V^k&(B^V))+U[4]+4118548399&4294967295,N=k+(C<<7&4294967295|C>>>25),C=V+(B^N&(k^B))+U[5]+1200080426&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(k^V&(N^k))+U[6]+2821735955&4294967295,B=V+(C<<17&4294967295|C>>>15),C=k+(N^B&(V^N))+U[7]+4249261313&4294967295,k=B+(C<<22&4294967295|C>>>10),C=N+(V^k&(B^V))+U[8]+1770035416&4294967295,N=k+(C<<7&4294967295|C>>>25),C=V+(B^N&(k^B))+U[9]+2336552879&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(k^V&(N^k))+U[10]+4294925233&4294967295,B=V+(C<<17&4294967295|C>>>15),C=k+(N^B&(V^N))+U[11]+2304563134&4294967295,k=B+(C<<22&4294967295|C>>>10),C=N+(V^k&(B^V))+U[12]+1804603682&4294967295,N=k+(C<<7&4294967295|C>>>25),C=V+(B^N&(k^B))+U[13]+4254626195&4294967295,V=N+(C<<12&4294967295|C>>>20),C=B+(k^V&(N^k))+U[14]+2792965006&4294967295,B=V+(C<<17&4294967295|C>>>15),C=k+(N^B&(V^N))+U[15]+1236535329&4294967295,k=B+(C<<22&4294967295|C>>>10),C=N+(B^V&(k^B))+U[1]+4129170786&4294967295,N=k+(C<<5&4294967295|C>>>27),C=V+(k^B&(N^k))+U[6]+3225465664&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^k&(V^N))+U[11]+643717713&4294967295,B=V+(C<<14&4294967295|C>>>18),C=k+(V^N&(B^V))+U[0]+3921069994&4294967295,k=B+(C<<20&4294967295|C>>>12),C=N+(B^V&(k^B))+U[5]+3593408605&4294967295,N=k+(C<<5&4294967295|C>>>27),C=V+(k^B&(N^k))+U[10]+38016083&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^k&(V^N))+U[15]+3634488961&4294967295,B=V+(C<<14&4294967295|C>>>18),C=k+(V^N&(B^V))+U[4]+3889429448&4294967295,k=B+(C<<20&4294967295|C>>>12),C=N+(B^V&(k^B))+U[9]+568446438&4294967295,N=k+(C<<5&4294967295|C>>>27),C=V+(k^B&(N^k))+U[14]+3275163606&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^k&(V^N))+U[3]+4107603335&4294967295,B=V+(C<<14&4294967295|C>>>18),C=k+(V^N&(B^V))+U[8]+1163531501&4294967295,k=B+(C<<20&4294967295|C>>>12),C=N+(B^V&(k^B))+U[13]+2850285829&4294967295,N=k+(C<<5&4294967295|C>>>27),C=V+(k^B&(N^k))+U[2]+4243563512&4294967295,V=N+(C<<9&4294967295|C>>>23),C=B+(N^k&(V^N))+U[7]+1735328473&4294967295,B=V+(C<<14&4294967295|C>>>18),C=k+(V^N&(B^V))+U[12]+2368359562&4294967295,k=B+(C<<20&4294967295|C>>>12),C=N+(k^B^V)+U[5]+4294588738&4294967295,N=k+(C<<4&4294967295|C>>>28),C=V+(N^k^B)+U[8]+2272392833&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^k)+U[11]+1839030562&4294967295,B=V+(C<<16&4294967295|C>>>16),C=k+(B^V^N)+U[14]+4259657740&4294967295,k=B+(C<<23&4294967295|C>>>9),C=N+(k^B^V)+U[1]+2763975236&4294967295,N=k+(C<<4&4294967295|C>>>28),C=V+(N^k^B)+U[4]+1272893353&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^k)+U[7]+4139469664&4294967295,B=V+(C<<16&4294967295|C>>>16),C=k+(B^V^N)+U[10]+3200236656&4294967295,k=B+(C<<23&4294967295|C>>>9),C=N+(k^B^V)+U[13]+681279174&4294967295,N=k+(C<<4&4294967295|C>>>28),C=V+(N^k^B)+U[0]+3936430074&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^k)+U[3]+3572445317&4294967295,B=V+(C<<16&4294967295|C>>>16),C=k+(B^V^N)+U[6]+76029189&4294967295,k=B+(C<<23&4294967295|C>>>9),C=N+(k^B^V)+U[9]+3654602809&4294967295,N=k+(C<<4&4294967295|C>>>28),C=V+(N^k^B)+U[12]+3873151461&4294967295,V=N+(C<<11&4294967295|C>>>21),C=B+(V^N^k)+U[15]+530742520&4294967295,B=V+(C<<16&4294967295|C>>>16),C=k+(B^V^N)+U[2]+3299628645&4294967295,k=B+(C<<23&4294967295|C>>>9),C=N+(B^(k|~V))+U[0]+4096336452&4294967295,N=k+(C<<6&4294967295|C>>>26),C=V+(k^(N|~B))+U[7]+1126891415&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~k))+U[14]+2878612391&4294967295,B=V+(C<<15&4294967295|C>>>17),C=k+(V^(B|~N))+U[5]+4237533241&4294967295,k=B+(C<<21&4294967295|C>>>11),C=N+(B^(k|~V))+U[12]+1700485571&4294967295,N=k+(C<<6&4294967295|C>>>26),C=V+(k^(N|~B))+U[3]+2399980690&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~k))+U[10]+4293915773&4294967295,B=V+(C<<15&4294967295|C>>>17),C=k+(V^(B|~N))+U[1]+2240044497&4294967295,k=B+(C<<21&4294967295|C>>>11),C=N+(B^(k|~V))+U[8]+1873313359&4294967295,N=k+(C<<6&4294967295|C>>>26),C=V+(k^(N|~B))+U[15]+4264355552&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~k))+U[6]+2734768916&4294967295,B=V+(C<<15&4294967295|C>>>17),C=k+(V^(B|~N))+U[13]+1309151649&4294967295,k=B+(C<<21&4294967295|C>>>11),C=N+(B^(k|~V))+U[4]+4149444226&4294967295,N=k+(C<<6&4294967295|C>>>26),C=V+(k^(N|~B))+U[11]+3174756917&4294967295,V=N+(C<<10&4294967295|C>>>22),C=B+(N^(V|~k))+U[2]+718787259&4294967295,B=V+(C<<15&4294967295|C>>>17),C=k+(V^(B|~N))+U[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(B+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+V&4294967295}r.prototype.u=function(M,N){N===void 0&&(N=M.length);for(var k=N-this.blockSize,U=this.B,B=this.h,V=0;V<N;){if(B==0)for(;V<=k;)s(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<N;)if(U[B++]=M.charCodeAt(V++),B==this.blockSize){s(this,U),B=0;break}}else for(;V<N;)if(U[B++]=M[V++],B==this.blockSize){s(this,U),B=0;break}}this.h=B,this.o+=N},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;var k=8*this.o;for(N=M.length-8;N<M.length;++N)M[N]=k&255,k/=256;for(this.u(M),M=Array(16),N=k=0;4>N;++N)for(var U=0;32>U;U+=8)M[k++]=this.g[N]>>>U&255;return M};function o(M,N){var k=c;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=N(M)}function u(M,N){this.h=N;for(var k=[],U=!0,B=M.length-1;0<=B;B--){var V=M[B]|0;U&&V==N||(k[B]=V,U=!1)}this.g=k}var c={};function f(M){return-128<=M&&128>M?o(M,function(N){return new u([N|0],0>N?-1:0)}):new u([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return P(h(-M));for(var N=[],k=1,U=0;M>=k;U++)N[U]=M/k|0,k*=4294967296;return new u(N,0)}function p(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return P(p(M.substring(1),N));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=h(Math.pow(N,8)),U=y,B=0;B<M.length;B+=8){var V=Math.min(8,M.length-B),C=parseInt(M.substring(B,B+V),N);8>V?(V=h(Math.pow(N,V)),U=U.j(V).add(h(C))):(U=U.j(k),U=U.add(h(C)))}return U}var y=f(0),b=f(1),T=f(16777216);t=u.prototype,t.m=function(){if(R(this))return-P(this).m();for(var M=0,N=1,k=0;k<this.g.length;k++){var U=this.i(k);M+=(0<=U?U:4294967296+U)*N,N*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(w(this))return"0";if(R(this))return"-"+P(this).toString(M);for(var N=h(Math.pow(M,6)),k=this,U="";;){var B=G(k,N).g;k=D(k,B.j(N));var V=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=B,w(k))return V+U;for(;6>V.length;)V="0"+V;U=V+U}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function w(M){if(M.h!=0)return!1;for(var N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function R(M){return M.h==-1}t.l=function(M){return M=D(this,M),R(M)?-1:w(M)?0:1};function P(M){for(var N=M.g.length,k=[],U=0;U<N;U++)k[U]=~M.g[U];return new u(k,~M.h).add(b)}t.abs=function(){return R(this)?P(this):this},t.add=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],U=0,B=0;B<=N;B++){var V=U+(this.i(B)&65535)+(M.i(B)&65535),C=(V>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);U=C>>>16,V&=65535,C&=65535,k[B]=C<<16|V}return new u(k,k[k.length-1]&-2147483648?-1:0)};function D(M,N){return M.add(P(N))}t.j=function(M){if(w(this)||w(M))return y;if(R(this))return R(M)?P(this).j(P(M)):P(P(this).j(M));if(R(M))return P(this.j(P(M)));if(0>this.l(T)&&0>M.l(T))return h(this.m()*M.m());for(var N=this.g.length+M.g.length,k=[],U=0;U<2*N;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(var B=0;B<M.g.length;B++){var V=this.i(U)>>>16,C=this.i(U)&65535,O=M.i(B)>>>16,X=M.i(B)&65535;k[2*U+2*B]+=C*X,Y(k,2*U+2*B),k[2*U+2*B+1]+=V*X,Y(k,2*U+2*B+1),k[2*U+2*B+1]+=C*O,Y(k,2*U+2*B+1),k[2*U+2*B+2]+=V*O,Y(k,2*U+2*B+2)}for(U=0;U<N;U++)k[U]=k[2*U+1]<<16|k[2*U];for(U=N;U<2*N;U++)k[U]=0;return new u(k,0)};function Y(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function $(M,N){this.g=M,this.h=N}function G(M,N){if(w(N))throw Error("division by zero");if(w(M))return new $(y,y);if(R(M))return N=G(P(M),N),new $(P(N.g),P(N.h));if(R(N))return N=G(M,P(N)),new $(P(N.g),N.h);if(30<M.g.length){if(R(M)||R(N))throw Error("slowDivide_ only works with positive integers.");for(var k=b,U=N;0>=U.l(M);)k=te(k),U=te(U);var B=q(k,1),V=q(U,1);for(U=q(U,2),k=q(k,2);!w(U);){var C=V.add(U);0>=C.l(M)&&(B=B.add(k),V=C),U=q(U,1),k=q(k,1)}return N=D(M,B.j(N)),new $(B,N)}for(B=y;0<=M.l(N);){for(k=Math.max(1,Math.floor(M.m()/N.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),V=h(k),C=V.j(N);R(C)||0<C.l(M);)k-=U,V=h(k),C=V.j(N);w(V)&&(V=b),B=B.add(V),M=D(M,C)}return new $(B,M)}t.A=function(M){return G(this,M).h},t.and=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)&M.i(U);return new u(k,this.h&M.h)},t.or=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)|M.i(U);return new u(k,this.h|M.h)},t.xor=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],U=0;U<N;U++)k[U]=this.i(U)^M.i(U);return new u(k,this.h^M.h)};function te(M){for(var N=M.g.length+1,k=[],U=0;U<N;U++)k[U]=M.i(U)<<1|M.i(U-1)>>>31;return new u(k,M.h)}function q(M,N){var k=N>>5;N%=32;for(var U=M.g.length-k,B=[],V=0;V<U;V++)B[V]=0<N?M.i(V+k)>>>N|M.i(V+k+1)<<32-N:M.i(V+k);return new u(B,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=p,Ua=u}).apply(typeof xA<"u"?xA:typeof self<"u"?self:typeof window<"u"?window:{});var Jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iI,yd,sI,g0,_E,aI,oI,uI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,v,S){return m==Array.prototype||m==Object.prototype||(m[v]=S.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jh=="object"&&Jh];for(var v=0;v<m.length;++v){var S=m[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(m,v){if(v)e:{var S=r;m=m.split(".");for(var z=0;z<m.length-1;z++){var ue=m[z];if(!(ue in S))break e;S=S[ue]}m=m[m.length-1],z=S[m],v=v(z),v!=z&&v!=null&&e(S,m,{configurable:!0,writable:!0,value:v})}}function o(m,v){m instanceof String&&(m+="");var S=0,z=!1,ue={next:function(){if(!z&&S<m.length){var ge=S++;return{value:v(ge,m[ge]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}s("Array.prototype.values",function(m){return m||function(){return o(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var v=typeof m;return v=v!="object"?v:m?Array.isArray(m)?"array":v:"null",v=="array"||v=="object"&&typeof m.length=="number"}function h(m){var v=typeof m;return v=="object"&&m!=null||v=="function"}function p(m,v,S){return m.call.apply(m.bind,arguments)}function y(m,v,S){if(!m)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,z),m.apply(v,ue)}}return function(){return m.apply(v,arguments)}}function b(m,v,S){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,b.apply(null,arguments)}function T(m,v){var S=Array.prototype.slice.call(arguments,1);return function(){var z=S.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function w(m,v){function S(){}S.prototype=v.prototype,m.aa=v.prototype,m.prototype=new S,m.prototype.constructor=m,m.Qb=function(z,ue,ge){for(var De=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)De[yt-2]=arguments[yt];return v.prototype[ue].apply(z,De)}}function R(m){const v=m.length;if(0<v){const S=Array(v);for(let z=0;z<v;z++)S[z]=m[z];return S}return[]}function P(m,v){for(let S=1;S<arguments.length;S++){const z=arguments[S];if(f(z)){const ue=m.length||0,ge=z.length||0;m.length=ue+ge;for(let De=0;De<ge;De++)m[ue+De]=z[De]}else m.push(z)}}class D{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(m){return/^[\s\xa0]*$/.test(m)}function $(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function G(m){return G[" "](m),m}G[" "]=function(){};var te=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function q(m,v,S){for(const z in m)v.call(S,m[z],z,m)}function M(m,v){for(const S in m)v.call(void 0,m[S],S,m)}function N(m){const v={};for(const S in m)v[S]=m[S];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(m,v){let S,z;for(let ue=1;ue<arguments.length;ue++){z=arguments[ue];for(S in z)m[S]=z[S];for(let ge=0;ge<k.length;ge++)S=k[ge],Object.prototype.hasOwnProperty.call(z,S)&&(m[S]=z[S])}}function B(m){var v=1;m=m.split(":");const S=[];for(;0<v&&m.length;)S.push(m.shift()),v--;return m.length&&S.push(m.join(":")),S}function V(m){c.setTimeout(()=>{throw m},0)}function C(){var m=re;let v=null;return m.g&&(v=m.g,m.g=m.g.next,m.g||(m.h=null),v.next=null),v}class O{constructor(){this.h=this.g=null}add(v,S){const z=X.get();z.set(v,S),this.h?this.h.next=z:this.g=z,this.h=z}}var X=new D(()=>new F,m=>m.reset());class F{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,se=!1,re=new O,A=()=>{const m=c.Promise.resolve(void 0);J=()=>{m.then(ee)}};var ee=()=>{for(var m;m=C();){try{m.h.call(m.g)}catch(S){V(S)}var v=X;v.j(m),100>v.h&&(v.h++,m.next=v.g,v.g=m)}se=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(m,v){this.type=m,this.g=this.target=v,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,v=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};c.addEventListener("test",S,v),c.removeEventListener("test",S,v)}catch{}return m}();function Ee(m,v){if(I.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var S=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=v,v=m.relatedTarget){if(te){e:{try{G(v.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(v=null)}}else S=="mouseover"?v=m.fromElement:S=="mouseout"&&(v=m.toElement);this.relatedTarget=v,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:pe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ee.aa.h.call(this)}}w(Ee,I);var pe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Le(m,v,S,z,ue){this.listener=m,this.proxy=null,this.src=v,this.type=S,this.capture=!!z,this.ha=ue,this.key=++Ce,this.da=this.fa=!1}function Ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ct(m){this.src=m,this.g={},this.h=0}ct.prototype.add=function(m,v,S,z,ue){var ge=m.toString();m=this.g[ge],m||(m=this.g[ge]=[],this.h++);var De=Ze(m,v,z,ue);return-1<De?(v=m[De],S||(v.fa=!1)):(v=new Le(v,this.src,ge,!!z,ue),v.fa=S,m.push(v)),v};function Tt(m,v){var S=v.type;if(S in m.g){var z=m.g[S],ue=Array.prototype.indexOf.call(z,v,void 0),ge;(ge=0<=ue)&&Array.prototype.splice.call(z,ue,1),ge&&(Ve(v),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Ze(m,v,S,z){for(var ue=0;ue<m.length;++ue){var ge=m[ue];if(!ge.da&&ge.listener==v&&ge.capture==!!S&&ge.ha==z)return ue}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),gt={};function Xt(m,v,S,z,ue){if(Array.isArray(v)){for(var ge=0;ge<v.length;ge++)Xt(m,v[ge],S,z,ue);return null}return S=Ar(S),m&&m[we]?m.K(v,S,h(z)?!!z.capture:!1,ue):Qe(m,v,S,!1,z,ue)}function Qe(m,v,S,z,ue,ge){if(!v)throw Error("Invalid event type");var De=h(ue)?!!ue.capture:!!ue,yt=Hn(m);if(yt||(m[pt]=yt=new ct(m)),S=yt.add(v,S,z,De,ge),S.proxy)return S;if(z=Oe(),S.proxy=z,z.src=m,z.listener=S,m.addEventListener)oe||(ue=De),ue===void 0&&(ue=!1),m.addEventListener(v.toString(),z,ue);else if(m.attachEvent)m.attachEvent(un(v.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Oe(){function m(S){return v.call(m.src,m.listener,S)}const v=ir;return m}function zt(m,v,S,z,ue){if(Array.isArray(v))for(var ge=0;ge<v.length;ge++)zt(m,v[ge],S,z,ue);else z=h(z)?!!z.capture:!!z,S=Ar(S),m&&m[we]?(m=m.i,v=String(v).toString(),v in m.g&&(ge=m.g[v],S=Ze(ge,S,z,ue),-1<S&&(Ve(ge[S]),Array.prototype.splice.call(ge,S,1),ge.length==0&&(delete m.g[v],m.h--)))):m&&(m=Hn(m))&&(v=m.g[v.toString()],m=-1,v&&(m=Ze(v,S,z,ue)),(S=-1<m?v[m]:null)&&vn(S))}function vn(m){if(typeof m!="number"&&m&&!m.da){var v=m.src;if(v&&v[we])Tt(v.i,m);else{var S=m.type,z=m.proxy;v.removeEventListener?v.removeEventListener(S,z,m.capture):v.detachEvent?v.detachEvent(un(S),z):v.addListener&&v.removeListener&&v.removeListener(z),(S=Hn(v))?(Tt(S,m),S.h==0&&(S.src=null,v[pt]=null)):Ve(m)}}}function un(m){return m in gt?gt[m]:gt[m]="on"+m}function ir(m,v){if(m.da)m=!0;else{v=new Ee(v,this);var S=m.listener,z=m.ha||m.src;m.fa&&vn(m),m=S.call(z,v)}return m}function Hn(m){return m=m[pt],m instanceof ct?m:null}var Vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ar(m){return typeof m=="function"?m:(m[Vn]||(m[Vn]=function(v){return m.handleEvent(v)}),m[Vn])}function he(){ae.call(this),this.i=new ct(this),this.M=this,this.F=null}w(he,ae),he.prototype[we]=!0,he.prototype.removeEventListener=function(m,v,S,z){zt(this,m,v,S,z)};function Te(m,v){var S,z=m.F;if(z)for(S=[];z;z=z.F)S.push(z);if(m=m.M,z=v.type||v,typeof v=="string")v=new I(v,m);else if(v instanceof I)v.target=v.target||m;else{var ue=v;v=new I(z,m),U(v,ue)}if(ue=!0,S)for(var ge=S.length-1;0<=ge;ge--){var De=v.g=S[ge];ue=Be(De,z,!0,v)&&ue}if(De=v.g=m,ue=Be(De,z,!0,v)&&ue,ue=Be(De,z,!1,v)&&ue,S)for(ge=0;ge<S.length;ge++)De=v.g=S[ge],ue=Be(De,z,!1,v)&&ue}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var m=this.i,v;for(v in m.g){for(var S=m.g[v],z=0;z<S.length;z++)Ve(S[z]);delete m.g[v],m.h--}}this.F=null},he.prototype.K=function(m,v,S,z){return this.i.add(String(m),v,!1,S,z)},he.prototype.L=function(m,v,S,z){return this.i.add(String(m),v,!0,S,z)};function Be(m,v,S,z){if(v=m.i.g[String(v)],!v)return!0;v=v.concat();for(var ue=!0,ge=0;ge<v.length;++ge){var De=v[ge];if(De&&!De.da&&De.capture==S){var yt=De.listener,xn=De.ha||De.src;De.fa&&Tt(m.i,De),ue=yt.call(xn,z)!==!1&&ue}}return ue&&!z.defaultPrevented}function Fe(m,v,S){if(typeof m=="function")S&&(m=b(m,S));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(m,v||0)}function at(m){m.g=Fe(()=>{m.g=null,m.i&&(m.i=!1,at(m))},m.l);const v=m.h;m.h=null,m.m.apply(null,v)}class vt extends ae{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(m){ae.call(this),this.h=m,this.g={}}w(Mt,ae);var jt=[];function ln(m){q(m.g,function(v,S){this.g.hasOwnProperty(S)&&vn(v)},m),m.g={}}Mt.prototype.N=function(){Mt.aa.N.call(this),ln(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=c.JSON.stringify,St=c.JSON.parse,en=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function An(){}An.prototype.h=null;function cs(m){return m.h||(m.h=m.i())}function hi(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yr(){I.call(this,"d")}w(Yr,I);function xr(){I.call(this,"c")}w(xr,I);var Gr={},eo=null;function Ni(){return eo=eo||new he}Gr.La="serverreachability";function Gs(m){I.call(this,Gr.La,m)}w(Gs,I);function Ri(m){const v=Ni();Te(v,new Gs(v))}Gr.STAT_EVENT="statevent";function iu(m,v){I.call(this,Gr.STAT_EVENT,m),this.stat=v}w(iu,I);function Bt(m){const v=Ni();Te(v,new iu(v,m))}Gr.Ma="timingevent";function cn(m,v){I.call(this,Gr.Ma,m),this.size=v}w(cn,I);function tn(m,v){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},v)}function cr(){this.g=!0}cr.prototype.xa=function(){this.g=!1};function to(m,v,S,z,ue,ge){m.info(function(){if(m.g)if(ge)for(var De="",yt=ge.split("&"),xn=0;xn<yt.length;xn++){var Et=yt[xn].split("=");if(1<Et.length){var kn=Et[0];Et=Et[1];var wn=kn.split("_");De=2<=wn.length&&wn[1]=="type"?De+(kn+"="+Et+"&"):De+(kn+"=redacted&")}}else De=null;else De=ge;return"XMLHTTP REQ ("+z+") [attempt "+ue+"]: "+v+`
`+S+`
`+De})}function Zl(m,v,S,z,ue,ge,De){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ue+"]: "+v+`
`+S+`
`+ge+" "+De})}function ki(m,v,S,z){m.info(function(){return"XMLHTTP TEXT ("+v+"): "+ds(m,S)+(z?" "+z:"")})}function su(m,v){m.info(function(){return"TIMEOUT: "+v})}cr.prototype.info=function(){};function ds(m,v){if(!m.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(m=0;m<S.length;m++)if(Array.isArray(S[m])){var z=S[m];if(!(2>z.length)){var ue=z[1];if(Array.isArray(ue)&&!(1>ue.length)){var ge=ue[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var De=1;De<ue.length;De++)ue[De]=""}}}}return Gt(S)}catch{return v}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function Xr(){}w(Xr,An),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},Kr=new Xr;function Fn(m,v,S,z){this.j=m,this.i=v,this.l=S,this.R=z||1,this.U=new Mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var no={},$s={};function wr(m,v,S){m.L=1,m.v=ao(Cr(v)),m.m=S,m.P=!0,mi(m,null)}function mi(m,v){m.F=Date.now(),fs(m),m.A=Cr(m.v);var S=m.A,z=m.R;Array.isArray(z)||(z=[String(z)]),ic(S.i,"t",z),m.C=0,S=m.j.J,m.h=new Qt,m.g=Hf(m.j,S?v:null,!m.m),0<m.O&&(m.M=new vt(b(m.Y,m,m.g),m.O)),v=m.U,S=m.g,z=m.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(jt[0]=ue.toString()),ue=jt);for(var ge=0;ge<ue.length;ge++){var De=Xt(S,ue[ge],z||v.handleEvent,!1,v.h||v);if(!De)break;v.g[De.key]=De}v=m.H?N(m.H):{},m.m?(m.u||(m.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,v)):(m.u="GET",m.g.ea(m.A,m.u,null,v)),Ri(),to(m.i,m.u,m.A,m.l,m.R,m.m)}Fn.prototype.ca=function(m){m=m.target;const v=this.M;v&&ei(m)==3?v.j():this.Y(m)},Fn.prototype.Y=function(m){try{if(m==this.g)e:{const wn=ei(this.g);var v=this.g.Ba();const _s=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||kf(this.g)))){this.J||wn!=4||v==7||(v==8||0>=_s?Ri(3):Ri(2)),Oi(this);var S=this.g.Z();this.X=S;t:if(ro(this)){var z=kf(this.g);m="";var ue=z.length,ge=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),Qr(this);var De="";break t}this.h.i=new c.TextDecoder}for(v=0;v<ue;v++)this.h.h=!0,m+=this.h.i.decode(z[v],{stream:!(ge&&v==ue-1)});z.length=0,this.h.g+=m,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=S==200,Zl(this.i,this.u,this.A,this.l,this.R,wn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,xn=this.g;if((yt=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(yt)){var Et=yt;break t}}Et=null}if(S=Et)ki(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Li(this,S);else{this.o=!1,this.s=3,Bt(12),Sn(this),Qr(this);break e}}if(this.P){S=!0;let zn;for(;!this.J&&this.C<De.length;)if(zn=au(this,De),zn==$s){wn==4&&(this.s=4,Bt(14),S=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==no){this.s=4,Bt(15),ki(this.i,this.l,De,"[Invalid Chunk]"),S=!1;break}else ki(this.i,this.l,zn,null),Li(this,zn);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||De.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)ki(this.i,this.l,De,"[Invalid Chunked Response]"),Sn(this),Qr(this);else if(0<De.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),po(kn),kn.M=!0,Bt(11))}}else ki(this.i,this.l,De,null),Li(this,De);wn==4&&Sn(this),this.o&&!this.J&&(wn==4?Mf(this.j,this):(this.o=!1,fs(this)))}else ap(this.g),S==400&&0<De.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Sn(this),Qr(this)}}}catch{}finally{}};function ro(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function au(m,v){var S=m.C,z=v.indexOf(`
`,S);return z==-1?$s:(S=Number(v.substring(S,z)),isNaN(S)?no:(z+=1,z+S>v.length?$s:(v=v.slice(z,z+S),m.C=z+S,v)))}Fn.prototype.cancel=function(){this.J=!0,Sn(this)};function fs(m){m.S=Date.now()+m.I,ou(m,m.I)}function ou(m,v){if(m.B!=null)throw Error("WatchDog timer not null");m.B=tn(b(m.ba,m),v)}function Oi(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Fn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(su(this.i,this.A),this.L!=2&&(Ri(),Bt(17)),Sn(this),this.s=2,Qr(this)):ou(this,this.S-m)};function Qr(m){m.j.G==0||m.J||Mf(m.j,m)}function Sn(m){Oi(m);var v=m.M;v&&typeof v.ma=="function"&&v.ma(),m.M=null,ln(m.U),m.g&&(v=m.g,m.g=null,v.abort(),v.ma())}function Li(m,v){try{var S=m.j;if(S.G!=0&&(S.g==m||Jl(S.h,m))){if(!m.K&&Jl(S.h,m)&&S.G==3){try{var z=S.Da.g.parse(v)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ue=z;if(ue[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<m.F)Eu(S),gu(S);else break e;lc(S),Bt(18)}}else S.za=ue[1],0<S.za-S.T&&37500>ue[2]&&S.F&&S.v==0&&!S.C&&(S.C=tn(b(S.Za,S),6e3));if(1>=Pi(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Es(S,11)}else if((m.K||S.g==m)&&Eu(S),!Y(v))for(ue=S.Da.g.parse(v),v=0;v<ue.length;v++){let Et=ue[v];if(S.T=Et[0],Et=Et[1],S.G==2)if(Et[0]=="c"){S.K=Et[1],S.ia=Et[2];const kn=Et[3];kn!=null&&(S.la=kn,S.j.info("VER="+S.la));const wn=Et[4];wn!=null&&(S.Aa=wn,S.j.info("SVER="+S.Aa));const _s=Et[5];_s!=null&&typeof _s=="number"&&0<_s&&(z=1.5*_s,S.L=z,S.j.info("backChannelRequestTimeoutMs_="+z)),z=S;const zn=m.g;if(zn){const zi=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zi){var ge=z.h;ge.g||zi.indexOf("spdy")==-1&&zi.indexOf("quic")==-1&&zi.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(lu(ge,ge.h),ge.h=null))}if(z.D){const dc=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;dc&&(z.ya=dc,kt(z.I,z.D,dc))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-m.F,S.j.info("Handshake RTT: "+S.R+"ms")),z=S;var De=m;if(z.qa=Uf(z,z.J?z.ia:null,z.W),De.K){sr(z.h,De);var yt=De,xn=z.L;xn&&(yt.I=xn),yt.B&&(Oi(yt),fs(yt)),z.g=De}else Lf(z);0<S.i.length&&yu(S)}else Et[0]!="stop"&&Et[0]!="close"||Es(S,7);else S.G==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Es(S,7):oc(S):Et[0]!="noop"&&S.l&&S.l.ta(Et),S.v=0)}}Ri(4)}catch{}}var uu=class{constructor(m,v){this.g=m,this.map=v}};function pi(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ks(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Pi(m){return m.h?1:m.g?m.g.size:0}function Jl(m,v){return m.h?m.h==v:m.g?m.g.has(v):!1}function lu(m,v){m.g?m.g.add(v):m.h=v}function sr(m,v){m.h&&m.h==v?m.h=null:m.g&&m.g.has(v)&&m.g.delete(v)}pi.prototype.cancel=function(){if(this.i=ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ec(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let v=m.i;for(const S of m.g.values())v=v.concat(S.D);return v}return R(m.i)}function np(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var v=[],S=m.length,z=0;z<S;z++)v.push(m[z]);return v}v=[],S=0;for(z in m)v[S++]=m[z];return v}function cu(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var v=[];m=m.length;for(var S=0;S<m;S++)v.push(S);return v}v=[],S=0;for(const z in m)v[S++]=z;return v}}}function tc(m,v){if(m.forEach&&typeof m.forEach=="function")m.forEach(v,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,v,void 0);else for(var S=cu(m),z=np(m),ue=z.length,ge=0;ge<ue;ge++)v.call(void 0,z[ge],S&&S[ge],m)}var io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rp(m,v){if(m){m=m.split("&");for(var S=0;S<m.length;S++){var z=m[S].indexOf("="),ue=null;if(0<=z){var ge=m[S].substring(0,z);ue=m[S].substring(z+1)}else ge=m[S];v(ge,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function pn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof pn){this.h=m.h,so(this,m.j),this.o=m.o,this.g=m.g,Xs(this,m.s),this.l=m.l;var v=m.i,S=new ms;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),hs(this,S),this.m=m.m}else m&&(v=String(m).match(io))?(this.h=!1,so(this,v[1]||"",!0),this.o=Wr(v[2]||""),this.g=Wr(v[3]||"",!0),Xs(this,v[4]),this.l=Wr(v[5]||"",!0),hs(this,v[6]||"",!0),this.m=Wr(v[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}pn.prototype.toString=function(){var m=[],v=this.j;v&&m.push(oo(v,nc,!0),":");var S=this.g;return(S||v=="file")&&(m.push("//"),(v=this.o)&&m.push(oo(v,nc,!0),"@"),m.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&m.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(oo(S,S.charAt(0)=="/"?ip:rc,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",oo(S,du)),m.join("")};function Cr(m){return new pn(m)}function so(m,v,S){m.j=S?Wr(v,!0):v,m.j&&(m.j=m.j.replace(/:$/,""))}function Xs(m,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);m.s=v}else m.s=null}function hs(m,v,S){v instanceof ms?(m.i=v,Nf(m.i,m.h)):(S||(v=oo(v,sp)),m.i=new ms(v,m.h))}function kt(m,v,S){m.i.set(v,S)}function ao(m){return kt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Wr(m,v){return m?v?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function oo(m,v,S){return typeof m=="string"?(m=encodeURI(m).replace(v,If),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function If(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var nc=/[#\/\?@]/g,rc=/[#\?:]/g,ip=/[#\?]/g,sp=/[#\?@]/g,du=/#/g;function ms(m,v){this.h=this.g=null,this.i=m||null,this.j=!!v}function Zr(m){m.g||(m.g=new Map,m.h=0,m.i&&rp(m.i,function(v,S){m.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=ms.prototype,t.add=function(m,v){Zr(this),this.i=null,m=Mi(this,m);var S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(v),this.h+=1,this};function ps(m,v){Zr(m),v=Mi(m,v),m.g.has(v)&&(m.i=null,m.h-=m.g.get(v).length,m.g.delete(v))}function gs(m,v){return Zr(m),v=Mi(m,v),m.g.has(v)}t.forEach=function(m,v){Zr(this),this.g.forEach(function(S,z){S.forEach(function(ue){m.call(v,ue,z,this)},this)},this)},t.na=function(){Zr(this);const m=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let z=0;z<v.length;z++){const ue=m[z];for(let ge=0;ge<ue.length;ge++)S.push(v[z])}return S},t.V=function(m){Zr(this);let v=[];if(typeof m=="string")gs(this,m)&&(v=v.concat(this.g.get(Mi(this,m))));else{m=Array.from(this.g.values());for(let S=0;S<m.length;S++)v=v.concat(m[S])}return v},t.set=function(m,v){return Zr(this),this.i=null,m=Mi(this,m),gs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[v]),this.h+=1,this},t.get=function(m,v){return m?(m=this.V(m),0<m.length?String(m[0]):v):v};function ic(m,v,S){ps(m,v),0<S.length&&(m.i=null,m.g.set(Mi(m,v),R(S)),m.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var z=v[S];const ge=encodeURIComponent(String(z)),De=this.V(z);for(z=0;z<De.length;z++){var ue=ge;De[z]!==""&&(ue+="="+encodeURIComponent(String(De[z]))),m.push(ue)}}return this.i=m.join("&")};function Mi(m,v){return v=String(v),m.j&&(v=v.toLowerCase()),v}function Nf(m,v){v&&!m.j&&(Zr(m),m.i=null,m.g.forEach(function(S,z){var ue=z.toLowerCase();z!=ue&&(ps(this,z),ic(this,ue,S))},m)),m.j=v}function uo(m,v){const S=new cr;if(c.Image){const z=new Image;z.onload=T(Jr,S,"TestLoadImage: loaded",!0,v,z),z.onerror=T(Jr,S,"TestLoadImage: error",!1,v,z),z.onabort=T(Jr,S,"TestLoadImage: abort",!1,v,z),z.ontimeout=T(Jr,S,"TestLoadImage: timeout",!1,v,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else v(!1)}function gi(m,v){const S=new cr,z=new AbortController,ue=setTimeout(()=>{z.abort(),Jr(S,"TestPingServer: timeout",!1,v)},1e4);fetch(m,{signal:z.signal}).then(ge=>{clearTimeout(ue),ge.ok?Jr(S,"TestPingServer: ok",!0,v):Jr(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(ue),Jr(S,"TestPingServer: error",!1,v)})}function Jr(m,v,S,z,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),z(S)}catch{}}function lo(){this.g=new en}function Bi(m,v,S){const z=S||"";try{tc(m,function(ue,ge){let De=ue;h(ue)&&(De=Gt(ue)),v.push(z+ge+"="+encodeURIComponent(De))})}catch(ue){throw v.push(z+"type="+encodeURIComponent("_badmap")),ue}}function Qs(m){this.l=m.Ub||null,this.j=m.eb||!1}w(Qs,An),Qs.prototype.g=function(){return new ys(this.l,this.j)},Qs.prototype.i=function(m){return function(){return m}}({});function ys(m,v){he.call(this),this.D=m,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(ys,he),t=ys.prototype,t.open=function(m,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=v,this.readyState=1,Hi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(v.body=m),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function sc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var v=m.value?m.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!m.done}))&&(this.response=this.responseText+=v)}m.done?Ui(this):Hi(this),this.readyState==3&&sc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Ui(this))},t.Qa=function(m){this.g&&(this.response=m,Ui(this))},t.ga=function(){this.g&&Ui(this)};function Ui(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Hi(m)}t.setRequestHeader=function(m,v){this.u.append(m,v)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=v.next();return m.join(`\r
`)};function Hi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ac(m){let v="";return q(m,function(S,z){v+=z,v+=":",v+=S,v+=`\r
`}),v}function Rn(m,v,S){e:{for(z in S){var z=!1;break e}z=!0}z||(S=ac(S),typeof m=="string"?S!=null&&encodeURIComponent(String(S)):kt(m,v,S))}function Ct(m){he.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ct,he);var fu=/^https?$/i,co=["POST","PUT"];t=Ct.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,v,S,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);v=v?v.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?cs(this.o):cs(Kr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(m),!0),this.B=!1}catch(ge){Rf(this,ge);return}if(m=S||"",S=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ue in z)S.set(ue,z[ue]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ge of z.keys())S.set(ge,z.get(ge));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(S.keys()).find(ge=>ge.toLowerCase()=="content-type"),ue=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(co,v,void 0))||z||ue||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,De]of S)this.g.setRequestHeader(ge,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(m),this.u=!1}catch(ge){Rf(this,ge)}};function Rf(m,v){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=v,m.m=5,hu(m),Vi(m)}function hu(m){m.A||(m.A=!0,Te(m,"complete"),Te(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Te(this,"complete"),Te(this,"abort"),Vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mu(this):this.bb())},t.bb=function(){mu(this)};function mu(m){if(m.h&&typeof u<"u"&&(!m.v[1]||ei(m)!=4||m.Z()!=2)){if(m.u&&ei(m)==4)Fe(m.Ea,0,m);else if(Te(m,"readystatechange"),ei(m)==4){m.h=!1;try{const De=m.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var z;if(z=De===0){var ue=String(m.D).match(io)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),z=!fu.test(ue?ue.toLowerCase():"")}S=z}if(S)Te(m,"complete"),Te(m,"success");else{m.m=6;try{var ge=2<ei(m)?m.g.statusText:""}catch{ge=""}m.l=ge+" ["+m.Z()+"]",hu(m)}}finally{Vi(m)}}}}function Vi(m,v){if(m.g){fo(m);const S=m.g,z=m.v[0]?()=>{}:null;m.g=null,m.v=null,v||Te(m,"ready");try{S.onreadystatechange=z}catch{}}}function fo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ei(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var v=this.g.responseText;return m&&v.indexOf(m)==0&&(v=v.substring(m.length)),St(v)}};function kf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ap(m){const v={};m=(m.g&&2<=ei(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(Y(m[z]))continue;var S=B(m[z]);const ue=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ge=v[ue]||[];v[ue]=ge,ge.push(S)}M(v,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ho(m,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||v}function pu(m){this.Aa=0,this.i=[],this.j=new cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ho("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ho("baseRetryDelayMs",5e3,m),this.cb=ho("retryDelaySeedMs",1e4,m),this.Wa=ho("forwardChannelMaxRetries",2,m),this.wa=ho("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(m&&m.concurrentRequestLimit),this.Da=new lo,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pu.prototype,t.la=8,t.G=1,t.connect=function(m,v,S,z){Bt(0),this.W=m,this.H=v||{},S&&z!==void 0&&(this.H.OSID=S,this.H.OAID=z),this.F=this.X,this.I=Uf(this,null,this.W),yu(this)};function oc(m){if(Df(m),m.G==3){var v=m.U++,S=Cr(m.I);if(kt(S,"SID",m.K),kt(S,"RID",v),kt(S,"TYPE","terminate"),mo(m,S),v=new Fn(m,m.j,v),v.L=2,v.v=ao(Cr(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=v.v,S=!0),S||(v.g=Hf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),fs(v)}Bf(m)}function gu(m){m.g&&(po(m),m.g.cancel(),m.g=null)}function Df(m){gu(m),m.u&&(c.clearTimeout(m.u),m.u=null),Eu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function yu(m){if(!Ks(m.h)&&!m.s){m.s=!0;var v=m.Ga;J||A(),se||(J(),se=!0),re.add(v,m),m.B=0}}function op(m,v){return Pi(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=v.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=tn(b(m.Ga,m,v),cc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ue=new Fn(this,this.j,m);let ge=this.o;if(this.S&&(ge?(ge=N(ge),U(ge,this.S)):ge=this.S),this.m!==null||this.O||(ue.H=ge,ge=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var z=this.i[S];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(v+=z,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Of(this,ue,v),S=Cr(this.I),kt(S,"RID",m),kt(S,"CVER",22),this.D&&kt(S,"X-HTTP-Session-Id",this.D),mo(this,S),ge&&(this.O?v="headers="+encodeURIComponent(String(ac(ge)))+"&"+v:this.m&&Rn(S,this.m,ge)),lu(this.h,ue),this.Ua&&kt(S,"TYPE","init"),this.P?(kt(S,"$req",v),kt(S,"SID","null"),ue.T=!0,wr(ue,S,null)):wr(ue,S,v),this.G=2}}else this.G==3&&(m?uc(this,m):this.i.length==0||Ks(this.h)||uc(this))};function uc(m,v){var S;v?S=v.l:S=m.U++;const z=Cr(m.I);kt(z,"SID",m.K),kt(z,"RID",S),kt(z,"AID",m.T),mo(m,z),m.m&&m.o&&Rn(z,m.m,m.o),S=new Fn(m,m.j,S,m.B+1),m.m===null&&(S.H=m.o),v&&(m.i=v.D.concat(m.i)),v=Of(m,S,1e3),S.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),lu(m.h,S),wr(S,z,v)}function mo(m,v){m.H&&q(m.H,function(S,z){kt(v,z,S)}),m.l&&tc({},function(S,z){kt(v,z,S)})}function Of(m,v,S){S=Math.min(m.i.length,S);var z=m.l?b(m.l.Na,m.l,m):null;e:{var ue=m.i;let ge=-1;for(;;){const De=["count="+S];ge==-1?0<S?(ge=ue[0].g,De.push("ofs="+ge)):ge=0:De.push("ofs="+ge);let yt=!0;for(let xn=0;xn<S;xn++){let Et=ue[xn].g;const kn=ue[xn].map;if(Et-=ge,0>Et)ge=Math.max(0,ue[xn].g-100),yt=!1;else try{Bi(kn,De,"req"+Et+"_")}catch{z&&z(kn)}}if(yt){z=De.join("&");break e}}}return m=m.i.splice(0,S),v.D=m,z}function Lf(m){if(!m.g&&!m.u){m.Y=1;var v=m.Fa;J||A(),se||(J(),se=!0),re.add(v,m),m.v=0}}function lc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=tn(b(m.Fa,m),cc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=tn(b(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),gu(this),Pf(this))};function po(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Pf(m){m.g=new Fn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var v=Cr(m.qa);kt(v,"RID","rpc"),kt(v,"SID",m.K),kt(v,"AID",m.T),kt(v,"CI",m.F?"0":"1"),!m.F&&m.ja&&kt(v,"TO",m.ja),kt(v,"TYPE","xmlhttp"),mo(m,v),m.m&&m.o&&Rn(v,m.m,m.o),m.L&&(m.g.I=m.L);var S=m.g;m=m.ia,S.L=1,S.v=ao(Cr(v)),S.m=null,S.P=!0,mi(S,m)}t.Za=function(){this.C!=null&&(this.C=null,gu(this),lc(this),Bt(19))};function Eu(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Mf(m,v){var S=null;if(m.g==v){Eu(m),po(m),m.g=null;var z=2}else if(Jl(m.h,v))S=v.D,sr(m.h,v),z=1;else return;if(m.G!=0){if(v.o)if(z==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var ue=m.B;z=Ni(),Te(z,new cn(z,S)),yu(m)}else Lf(m);else if(ue=v.s,ue==3||ue==0&&0<v.X||!(z==1&&op(m,v)||z==2&&lc(m)))switch(S&&0<S.length&&(v=m.h,v.i=v.i.concat(S)),ue){case 1:Es(m,5);break;case 4:Es(m,10);break;case 3:Es(m,6);break;default:Es(m,2)}}}function cc(m,v){let S=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(S*=2),S*v}function Es(m,v){if(m.j.info("Error code "+v),v==2){var S=b(m.fb,m),z=m.Xa;const ue=!z;z=new pn(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||so(z,"https"),ao(z),ue?uo(z.toString(),S):gi(z.toString(),S)}else Bt(2);m.G=0,m.l&&m.l.sa(v),Bf(m),Df(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Bf(m){if(m.G=0,m.ka=[],m.l){const v=ec(m.h);(v.length!=0||m.i.length!=0)&&(P(m.ka,v),P(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function Uf(m,v,S){var z=S instanceof pn?Cr(S):new pn(S);if(z.g!="")v&&(z.g=v+"."+z.g),Xs(z,z.s);else{var ue=c.location;z=ue.protocol,v=v?v+"."+ue.hostname:ue.hostname,ue=+ue.port;var ge=new pn(null);z&&so(ge,z),v&&(ge.g=v),ue&&Xs(ge,ue),S&&(ge.l=S),z=ge}return S=m.D,v=m.ya,S&&v&&kt(z,S,v),kt(z,"VER",m.la),mo(m,z),z}function Hf(m,v,S){if(v&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=m.Ca&&!m.pa?new Ct(new Qs({eb:S})):new Ct(m.pa),v.Ha(m.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vf(){}t=Vf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(m,v){return new ar(m,v)};function ar(m,v){he.call(this),this.g=new pu(v),this.l=m,this.h=v&&v.messageUrlParams||null,m=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(m?m["X-WebChannel-Content-Type"]=v.messageContentType:m={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(m?m["X-WebChannel-Client-Profile"]=v.va:m={"X-WebChannel-Client-Profile":v.va}),this.g.S=m,(m=v&&v.Sb)&&!Y(m)&&(this.g.m=m),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,m=this.h,m!==null&&v in m&&(m=this.h,v in m&&delete m[v])),this.j=new Fi(this)}w(ar,he),ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ar.prototype.close=function(){oc(this.g)},ar.prototype.o=function(m){var v=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.u&&(S={},S.__data__=Gt(m),m=S);v.i.push(new uu(v.Ya++,m)),v.G==3&&yu(v)},ar.prototype.N=function(){this.g.l=null,delete this.j,oc(this.g),delete this.g,ar.aa.N.call(this)};function Ff(m){Yr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var v=m.__sm__;if(v){e:{for(const S in v){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,v=v!==null&&m in v?v[m]:void 0),this.data=v}else this.data=m}w(Ff,Yr);function zf(){xr.call(this),this.status=1}w(zf,xr);function Fi(m){this.g=m}w(Fi,Vf),Fi.prototype.ua=function(){Te(this.g,"a")},Fi.prototype.ta=function(m){Te(this.g,new Ff(m))},Fi.prototype.sa=function(m){Te(this.g,new zf)},Fi.prototype.ra=function(){Te(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,ar.prototype.send=ar.prototype.o,ar.prototype.open=ar.prototype.m,ar.prototype.close=ar.prototype.close,uI=function(){return new _u},oI=function(){return Ni()},aI=Gr,_E={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,g0=Di,$r.COMPLETE="complete",sI=$r,hi.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",he.prototype.listen=he.prototype.K,yd=hi,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,iI=Ct}).apply(typeof Jh<"u"?Jh:typeof self<"u"?self:typeof window<"u"?window:{});const wA="@firebase/firestore",CA="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new C1("@firebase/firestore");function rl(){return Yo.logLevel}function Pe(t,...e){if(Yo.logLevel<=ht.DEBUG){const n=e.map(R1);Yo.debug(`Firestore (${Ul}): ${t}`,...n)}}function js(t,...e){if(Yo.logLevel<=ht.ERROR){const n=e.map(R1);Yo.error(`Firestore (${Ul}): ${t}`,...n)}}function Cl(t,...e){if(Yo.logLevel<=ht.WARN){const n=e.map(R1);Yo.warn(`Firestore (${Ul}): ${t}`,...n)}}function R1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lI(t,r,n)}function lI(t,e,n){let r=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw js(r),new Error(r)}function It(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||lI(e,s,r)}function Je(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zn.UNAUTHENTICATED))}shutdown(){}}class H8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V8{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){It(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Ha;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ha,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ha)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new cI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new Zn(e)}}class F8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){It(this.o===void 0,3512);const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new IA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(It(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=q8(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function bE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return st(r,s);{const o=dI(),u=Y8(o.encode(NA(t,n)),o.encode(NA(e,n)));return u!==0?u:st(r,s)}}n+=r>65535?2:1}return st(t.length,e.length)}function NA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return st(t[n],e[n]);return st(t.length,e.length)}function Il(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=-62135596800,kA=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kA);return new Yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Me(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Me(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RA)throw new Me(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kA}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-RA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new Yt(0,0))}static max(){return new We(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="__name__";class Qi{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Qi.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return st(e.length,n.length)}static compareSegments(e,n){const r=Qi.isNumericId(e),s=Qi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):bE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ua.fromString(e.substring(4,e.length-2))}}class qt extends Qi{construct(e,n,r){return new qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qt(n)}static emptyPath(){return new qt([])}}const G8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Qi{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return G8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DA}static keyField(){return new $n([DA])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Me(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Me(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Me(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new Me(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(qt.fromString(e))}static fromName(e){return new je(qt.fromString(e).popFirst(5))}static empty(){return new je(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new qt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function $8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=We.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new ja(s,je.empty(),e)}function K8(t){return new ja(t.readTime,t.key,$d)}class ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ja(We.min(),je.empty(),$d)}static max(){return new ja(We.max(),je.empty(),$d)}}function X8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==Q8)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new xe((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof xe?n:xe.resolve(n)}catch(n){return xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):xe.reject(n)}static resolve(e){return new xe((n,r)=>{n(e)})}static reject(e){return new xe((n,r)=>{r(e)})}static waitFor(e){return new xe((n,r)=>{let s=0,o=0,u=!1;e.forEach(c=>{++s,c.next(()=>{++o,u&&o===s&&n()},f=>r(f))}),u=!0,o===s&&n()})}static or(e){let n=xe.resolve(!1);for(const r of e)n=n.next(s=>s?xe.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new xe((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const h=f;n(e[h]).next(p=>{u[h]=p,++c,c===o&&r(u)},p=>s(p))}})}static doWhile(e,n){return new xe((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function Z8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}wm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=-1;function Cm(t){return t==null}function j0(t){return t===0&&1/t==-1/0}function J8(t){return typeof t=="number"&&Number.isInteger(t)&&!j0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="";function e9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=OA(e)),e=t9(t.get(n),e);return OA(e)}function t9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case hI:n+="";break;default:n+=o}}return n}function OA(t){return t+hI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new e0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new e0(this.root,e,this.comparator,!1)}getReverseIterator(){return new e0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new e0(this.root,e,this.comparator,!0)}}class e0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Gn.RED,this.left=s??Gn.EMPTY,this.right=o??Gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Gn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Gn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PA(this.data.getIterator())}getIteratorFrom(e){return new PA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nn(this.comparator);return n.data=e,n}}class PA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new Nn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pI("Invalid base64 string: "+o):o}}(e);return new Kn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const n9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(t){if(It(!!t,39018),typeof t=="string"){let e=0;const n=n9.exec(t);if(It(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?Kn.fromBase64String(t):Kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="server_timestamp",yI="__type__",EI="__previous_value__",_I="__local_write_time__";function D1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yI])===null||n===void 0?void 0:n.stringValue)===gI}function Im(t){const e=t.mapValue.fields[EI];return D1(e)?Im(e):e}function Kd(t){const e=qa(t.mapValue.fields[_I].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,r,s,o,u,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const q0="(default)";class Xd{constructor(e,n){this.projectId=e,this.database=n||q0}static empty(){return new Xd("","")}get isDefaultDatabase(){return this.database===q0}isEqual(e){return e instanceof Xd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="__type__",i9="__max__",t0={mapValue:{}},TI="__vector__",Y0="value";function Ga(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D1(t)?4:a9(t)?9007199254740991:s9(t)?10:11:$e(28295,{value:t})}function ss(t,e){if(t===e)return!0;const n=Ga(t);if(n!==Ga(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=qa(s.timestampValue),c=qa(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ya(s.bytesValue).isEqual(Ya(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return hn(s.geoPointValue.latitude)===hn(o.geoPointValue.latitude)&&hn(s.geoPointValue.longitude)===hn(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return hn(s.integerValue)===hn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=hn(s.doubleValue),c=hn(o.doubleValue);return u===c?j0(u)===j0(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],ss);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(LA(u)!==LA(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!ss(u[f],c[f])))return!1;return!0}(t,e);default:return $e(52216,{left:t})}}function Qd(t,e){return(t.values||[]).find(n=>ss(n,e))!==void 0}function Nl(t,e){if(t===e)return 0;const n=Ga(t),r=Ga(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return function(o,u){const c=hn(o.integerValue||o.doubleValue),f=hn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return MA(t.timestampValue,e.timestampValue);case 4:return MA(Kd(t),Kd(e));case 5:return bE(t.stringValue,e.stringValue);case 6:return function(o,u){const c=Ya(o),f=Ya(u);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),f=u.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=st(c[h],f[h]);if(p!==0)return p}return st(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const c=st(hn(o.latitude),hn(u.latitude));return c!==0?c:st(hn(o.longitude),hn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BA(t.arrayValue,e.arrayValue);case 10:return function(o,u){var c,f,h,p;const y=o.fields||{},b=u.fields||{},T=(c=y[Y0])===null||c===void 0?void 0:c.arrayValue,w=(f=b[Y0])===null||f===void 0?void 0:f.arrayValue,R=st(((h=T?.values)===null||h===void 0?void 0:h.length)||0,((p=w?.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:BA(T,w)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===t0.mapValue&&u===t0.mapValue)return 0;if(o===t0.mapValue)return 1;if(u===t0.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),h=u.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let y=0;y<f.length&&y<p.length;++y){const b=bE(f[y],p[y]);if(b!==0)return b;const T=Nl(c[f[y]],h[p[y]]);if(T!==0)return T}return st(f.length,p.length)}(t.mapValue,e.mapValue);default:throw $e(23264,{Pe:n})}}function MA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=qa(t),r=qa(e),s=st(n.seconds,r.seconds);return s!==0?s:st(n.nanos,r.nanos)}function BA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Nl(n[s],r[s]);if(o)return o}return st(n.length,r.length)}function Rl(t){return TE(t)}function TE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ya(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=TE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${TE(n.fields[u])}`;return s+"}"}(t.mapValue):$e(61005,{value:t})}function y0(t){switch(Ga(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Im(t);return e?16+y0(e):16;case 5:return 2*t.stringValue.length;case 6:return Ya(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+y0(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xa(r.fields,(o,u)=>{s+=o.length+y0(u)}),s}(t.mapValue);default:throw $e(13486,{value:t})}}function UA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vE(t){return!!t&&"integerValue"in t}function O1(t){return!!t&&"arrayValue"in t}function HA(t){return!!t&&"nullValue"in t}function VA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function E0(t){return!!t&&"mapValue"in t}function s9(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bI])===null||n===void 0?void 0:n.stringValue)===TI}function vd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===i9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!E0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vd(n)}setAll(e){let n=$n.emptyPath(),r={},s=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}u?r[c.lastSegment()]=vd(u):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());E0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ss(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];E0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xa(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Er(vd(this.value))}}function vI(t){const e=[];return Xa(t.fields,(n,r)=>{const s=new $n([n]);if(E0(r)){const o=vI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,r,s,o,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Jn(e,0,We.min(),We.min(),We.min(),Er.empty(),0)}static newFoundDocument(e,n,r,s){return new Jn(e,1,n,We.min(),r,s,0)}static newNoDocument(e,n){return new Jn(e,2,n,We.min(),We.min(),Er.empty(),0)}static newUnknownDocument(e,n){return new Jn(e,3,n,We.min(),We.min(),Er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.position=e,this.inclusive=n}}function FA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=je.comparator(je.fromName(u.referenceValue),n.key):r=Nl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ss(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function o9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{}class Tn extends AI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l9(e,n,r):n==="array-contains"?new f9(e,r):n==="in"?new h9(e,r):n==="not-in"?new m9(e,r):n==="array-contains-any"?new p9(e,r):new Tn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c9(e,r):new d9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&Ga(this.value)===Ga(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends AI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Si(e,n)}matches(e){return SI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function SI(t){return t.op==="and"}function xI(t){return u9(t)&&SI(t)}function u9(t){for(const e of t.filters)if(e instanceof Si)return!1;return!0}function AE(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(xI(t))return t.filters.map(e=>AE(e)).join(",");{const e=t.filters.map(n=>AE(n)).join(",");return`${t.op}(${e})`}}function wI(t,e){return t instanceof Tn?function(r,s){return s instanceof Tn&&r.op===s.op&&r.field.isEqual(s.field)&&ss(r.value,s.value)}(t,e):t instanceof Si?function(r,s){return s instanceof Si&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,c)=>o&&wI(u,s.filters[c]),!0):!1}(t,e):void $e(19439)}function CI(t){return t instanceof Tn?function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`}(t):t instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(CI).join(" ,")+"}"}(t):"Filter"}class l9 extends Tn{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class c9 extends Tn{constructor(e,n){super(e,"in",n),this.keys=II("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d9 extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=II("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function II(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class f9 extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return O1(n)&&Qd(n.arrayValue,this.value)}}class h9 extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qd(this.value.arrayValue,n)}}class m9 extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qd(this.value.arrayValue,n)}}class p9 extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!O1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Ie=null}}function jA(t,e=null,n=[],r=[],s=null,o=null,u=null){return new g9(t,e,n,r,s,o,u)}function L1(t){const e=Je(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>AE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rl(r)).join(",")),e.Ie=n}return e.Ie}function P1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zA(t.startAt,e.startAt)&&zA(t.endAt,e.endAt)}function SE(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function y9(t,e,n,r,s,o,u,c){return new Fl(t,e,n,r,s,o,u,c)}function NI(t){return new Fl(t)}function qA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RI(t){return t.collectionGroup!==null}function Ad(t){const e=Je(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Nn($n.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Wd(o,r))}),n.has($n.keyField().canonicalString())||e.Ee.push(new Wd($n.keyField(),r))}return e.Ee}function ts(t){const e=Je(t);return e.de||(e.de=E9(e,Ad(t))),e.de}function E9(t,e){if(t.limitType==="F")return jA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Wd(s.field,o)});const n=t.endAt?new G0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new G0(t.startAt.position,t.startAt.inclusive):null;return jA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xE(t,e){const n=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wE(t,e,n){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nm(t,e){return P1(ts(t),ts(e))&&t.limitType===e.limitType}function kI(t){return`${L1(ts(t))}|lt:${t.limitType}`}function il(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>CI(s)).join(", ")}]`),Cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Rl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Rl(s)).join(",")),`Target(${r})`}(ts(t))}; limitType=${t.limitType})`}function Rm(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Ad(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,c,f){const h=FA(u,c,f);return u.inclusive?h<=0:h<0}(r.startAt,Ad(r),s)||r.endAt&&!function(u,c,f){const h=FA(u,c,f);return u.inclusive?h>=0:h>0}(r.endAt,Ad(r),s))}(t,e)}function _9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DI(t){return(e,n)=>{let r=!1;for(const s of Ad(t)){const o=b9(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function b9(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(o,u,c){const f=u.data.field(o),h=c.data.field(o);return f!==null&&h!==null?Nl(f,h):$e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return mI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=new Jt(je.comparator);function qs(){return T9}const OI=new Jt(je.comparator);function Ed(...t){let e=OI;for(const n of t)e=e.insert(n.key,n);return e}function LI(t){let e=OI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mo(){return Sd()}function PI(){return Sd()}function Sd(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const v9=new Jt(je.comparator),A9=new Nn(je.comparator);function mt(...t){let e=A9;for(const n of t)e=e.add(n);return e}const S9=new Nn(st);function x9(){return S9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j0(e)?"-0":e}}function MI(t){return{integerValue:""+t}}function w9(t,e){return J8(e)?MI(e):M1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this._=void 0}}function C9(t,e,n){return t instanceof $0?function(s,o){const u={fields:{[yI]:{stringValue:gI},[_I]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&D1(o)&&(o=Im(o)),o&&(u.fields[EI]=o),{mapValue:u}}(n,e):t instanceof Zd?UI(t,e):t instanceof Jd?HI(t,e):function(s,o){const u=BI(s,o),c=YA(u)+YA(s.Re);return vE(u)&&vE(s.Re)?MI(c):M1(s.serializer,c)}(t,e)}function I9(t,e,n){return t instanceof Zd?UI(t,e):t instanceof Jd?HI(t,e):n}function BI(t,e){return t instanceof K0?function(r){return vE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class $0 extends km{}class Zd extends km{constructor(e){super(),this.elements=e}}function UI(t,e){const n=VI(e);for(const r of t.elements)n.some(s=>ss(s,r))||n.push(r);return{arrayValue:{values:n}}}class Jd extends km{constructor(e){super(),this.elements=e}}function HI(t,e){let n=VI(e);for(const r of t.elements)n=n.filter(s=>!ss(s,r));return{arrayValue:{values:n}}}class K0 extends km{constructor(e,n){super(),this.serializer=e,this.Re=n}}function YA(t){return hn(t.integerValue||t.doubleValue)}function VI(t){return O1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Zd&&s instanceof Zd||r instanceof Jd&&s instanceof Jd?Il(r.elements,s.elements,ss):r instanceof K0&&s instanceof K0?ss(r.Re,s.Re):r instanceof $0&&s instanceof $0}(t.transform,e.transform)}class R9{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dm{}function FI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Om(t.key,Fr.none()):new hf(t.key,t.data,Fr.none());{const n=t.data,r=Er.empty();let s=new Nn($n.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Qa(t.key,r,new Hr(s.toArray()),Fr.none())}}function k9(t,e,n){t instanceof hf?function(s,o,u){const c=s.value.clone(),f=$A(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Qa?function(s,o,u){if(!_0(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=$A(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(zI(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function xd(t,e,n,r){return t instanceof hf?function(o,u,c,f){if(!_0(o.precondition,u))return c;const h=o.value.clone(),p=KA(o.fieldTransforms,f,u);return h.setAll(p),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qa?function(o,u,c,f){if(!_0(o.precondition,u))return c;const h=KA(o.fieldTransforms,f,u),p=u.data;return p.setAll(zI(o)),p.setAll(h),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,u,c){return _0(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function D9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=BI(r.transform,s||null);o!=null&&(n===null&&(n=Er.empty()),n.set(r.field,o))}return n||null}function GA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Il(r,s,(o,u)=>N9(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hf extends Dm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qa extends Dm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $A(t,e,n){const r=new Map;It(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,I9(u,c,n[s]))}return r}function KA(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,C9(o,u,e))}return r}class Om extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O9 extends Dm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&k9(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PI();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=n.has(s.key)?null:c;const f=FI(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,(n,r)=>GA(n,r))&&Il(this.baseMutations,e.baseMutations,(n,r)=>GA(n,r))}}class B1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){It(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return v9}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new B1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,bt;function B9(t){switch(t){case Se.OK:return $e(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return $e(15467,{code:t})}}function jI(t){if(t===void 0)return js("GRPC error has no .code"),Se.UNKNOWN;switch(t){case En.OK:return Se.OK;case En.CANCELLED:return Se.CANCELLED;case En.UNKNOWN:return Se.UNKNOWN;case En.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case En.INTERNAL:return Se.INTERNAL;case En.UNAVAILABLE:return Se.UNAVAILABLE;case En.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case En.NOT_FOUND:return Se.NOT_FOUND;case En.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case En.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case En.ABORTED:return Se.ABORTED;case En.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case En.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case En.DATA_LOSS:return Se.DATA_LOSS;default:return $e(39323,{code:t})}}(bt=En||(En={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9=new Ua([4294967295,4294967295],0);function XA(t){const e=dI().encode(t),n=new rI;return n.update(e),new Uint8Array(n.digest())}function QA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ua([n,r],0),new Ua([s,o],0)]}class U1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _d(`Invalid padding: ${n}`);if(r<0)throw new _d(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _d(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _d(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ua.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ua.fromNumber(r)));return s.compare(U9)===1&&(s=new Ua([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=XA(e),[r,s]=QA(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new U1(o,s,n);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const n=XA(e),[r,s]=QA(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lm(We.min(),s,new Jt(st),qs(),mt())}}class mf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mf(r,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class qI{constructor(e,n){this.targetId=e,this.Ce=n}}class YI{constructor(e,n,r=Kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class WA{constructor(){this.Fe=0,this.Me=ZA(),this.xe=Kn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=mt(),n=mt(),r=mt();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:$e(38017,{changeType:o})}}),new mf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=ZA()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,It(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class H9{constructor(e){this.ze=e,this.je=new Map,this.He=qs(),this.Je=n0(),this.Ye=n0(),this.Ze=new Jt(st)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(SE(o))if(r===0){const u=new je(o.path);this.tt(n,u,Jn.newNoDocument(u,We.min()))}else It(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const c=this.ct(e),f=c?this.lt(c,e,u):1;if(f!==0){this.st(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,c;try{u=Ya(r).toUint8Array()}catch(f){if(f instanceof pI)return Cl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new U1(u,s,o)}catch(f){return Cl(f instanceof _d?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,u)=>{const c=this._t(u);if(c){if(o.current&&SE(c.target)){const f=new je(c.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Jn.newNoDocument(f,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=mt();this.Ye.forEach((o,u)=>{let c=!0;u.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new Lm(e,n,this.Ze,this.He,r);return this.He=qs(),this.Je=n0(),this.Ye=n0(),this.Ze=new Jt(st),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new WA,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Nn(st),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Nn(st),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new WA),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function n0(){return new Jt(je.comparator)}function ZA(){return new Jt(je.comparator)}const V9={asc:"ASCENDING",desc:"DESCENDING"},F9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z9={and:"AND",or:"OR"};class j9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CE(t,e){return t.useProto3Json||Cm(e)?e:{value:e}}function X0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function q9(t,e){return X0(t,e.toTimestamp())}function ns(t){return It(!!t,49232),We.fromTimestamp(function(n){const r=qa(n);return new Yt(r.seconds,r.nanos)}(t))}function H1(t,e){return IE(t,e).canonicalString()}function IE(t,e){const n=function(s){return new qt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $I(t){const e=qt.fromString(t);return It(ZI(e),10190,{key:e.toString()}),e}function NE(t,e){return H1(t.databaseId,e.path)}function Cy(t,e){const n=$I(e);if(n.get(1)!==t.databaseId.projectId)throw new Me(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Me(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(XI(n))}function KI(t,e){return H1(t.databaseId,e)}function Y9(t){const e=$I(t);return e.length===4?qt.emptyPath():XI(e)}function RE(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XI(t){return It(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JA(t,e,n){return{name:NE(t,e),fields:n.value.mapValue.fields}}function G9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:$e(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(It(p===void 0||typeof p=="string",58123),Kn.fromBase64String(p||"")):(It(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Kn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(h){const p=h.code===void 0?Se.UNKNOWN:jI(h.code);return new Me(p,h.message||"")}(u);n=new YI(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cy(t,r.document.name),o=ns(r.document.updateTime),u=r.document.createTime?ns(r.document.createTime):We.min(),c=new Er({mapValue:{fields:r.document.fields}}),f=Jn.newFoundDocument(s,o,u,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new b0(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cy(t,r.document),o=r.readTime?ns(r.readTime):We.min(),u=Jn.newNoDocument(s,o),c=r.removedTargetIds||[];n=new b0([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cy(t,r.document),o=r.removedTargetIds||[];n=new b0([],o,s,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new M9(s,o),c=r.targetId;n=new qI(c,u)}}return n}function $9(t,e){let n;if(e instanceof hf)n={update:JA(t,e.key,e.value)};else if(e instanceof Om)n={delete:NE(t,e.key)};else if(e instanceof Qa)n={update:JA(t,e.key,e.data),updateMask:n7(e.fieldMask)};else{if(!(e instanceof O9))return $e(16599,{ft:e.type});n={verify:NE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof $0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Jd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof K0)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw $e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:q9(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$e(27497)}(t,e.precondition)),n}function K9(t,e){return t&&t.length>0?(It(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?ns(s.updateTime):ns(o);return u.isEqual(We.min())&&(u=ns(o)),new R9(u,s.transformResults||[])}(n,e))):[]}function X9(t,e){return{documents:[KI(t,e.path)]}}function Q9(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KI(t,s);const o=function(h){if(h.length!==0)return WI(Si.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(p=>function(b){return{field:sl(b.field),direction:J9(b.dir)}}(p))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=CE(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function W9(t){let e=Y9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){It(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(y){const b=QI(y);return b instanceof Si&&xI(b)?b.getFilters():[b]}(n.where));let u=[];n.orderBy&&(u=function(y){return y.map(b=>function(w){return new Wd(al(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(b))}(n.orderBy));let c=null;n.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,Cm(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(y){const b=!!y.before,T=y.values||[];return new G0(T,b)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const b=!y.before,T=y.values||[];return new G0(T,b)}(n.endAt)),y9(e,s,u,o,c,"F",f,h)}function Z9(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=al(n.unaryFilter.field);return Tn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=al(n.unaryFilter.field);return Tn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=al(n.unaryFilter.field);return Tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=al(n.unaryFilter.field);return Tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(t):t.fieldFilter!==void 0?function(n){return Tn.create(al(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Si.create(n.compositeFilter.filters.map(r=>QI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(n.compositeFilter.op))}(t):$e(30097,{filter:t})}function J9(t){return V9[t]}function e7(t){return F9[t]}function t7(t){return z9[t]}function sl(t){return{fieldPath:t.canonicalString()}}function al(t){return $n.fromServerFormat(t.fieldPath)}function WI(t){return t instanceof Tn?function(n){if(n.op==="=="){if(VA(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NAN"}};if(HA(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VA(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NAN"}};if(HA(n.value))return{unaryFilter:{field:sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(n.field),op:e7(n.op),value:n.value}}}(t):t instanceof Si?function(n){const r=n.getFilters().map(s=>WI(s));return r.length===1?r[0]:{compositeFilter:{op:t7(n.op),filters:r}}}(t):$e(54877,{filter:t})}function n7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n,r,s,o=We.min(),u=We.min(),c=Kn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.wt=e}}function i7(t){const e=W9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.Cn=new a7}addToCollectionParentIndex(e,n){return this.Cn.add(n),xe.resolve()}getCollectionParents(e,n){return xe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return xe.resolve()}deleteFieldIndex(e,n){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,n){return xe.resolve()}getDocumentsMatchingTarget(e,n){return xe.resolve(null)}getIndexType(e,n){return xe.resolve(0)}getFieldIndexes(e,n){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,n){return xe.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,n){return xe.resolve(ja.min())}updateCollectionGroup(e,n,r){return xe.resolve()}updateIndexEntries(e,n){return xe.resolve()}}class a7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Nn(qt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nn(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JI=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(JI,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new kl(0)}static lr(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="LruGarbageCollector",o7=1048576;function nS([t,e],[n,r]){const s=st(t,n);return s===0?st(e,r):s}class u7{constructor(e){this.Er=e,this.buffer=new Nn(nS),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class l7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Pe(tS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?Pe(tS,"Ignoring IndexedDB error during garbage collection: ",n):await Hl(n)}await this.mr(3e5)})}}class c7{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return xe.resolve(wm.le);const r=new u7(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(eS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,u,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,u=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),rl()<=ht.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${y} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function d7(t,e){return new c7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xd(r.mutation,s,Hr.empty(),Yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=mt()){const s=Mo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let u=Ed();return o.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Mo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,mt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,s){let o=qs();const u=Sd(),c=function(){return Sd()}();return n.forEach((f,h)=>{const p=r.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Qa)?o=o.insert(h.key,h):p!==void 0?(u.set(h.key,p.mutation.getFieldMask()),xd(p.mutation,h,p.mutation.getFieldMask(),Yt.now())):u.set(h.key,Hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,p)=>u.set(h,p)),n.forEach((h,p)=>{var y;return c.set(h,new h7(p,(y=u.get(h))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Sd();let s=new Jt((u,c)=>u-c),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||Hr.empty();p=c.applyToLocalView(h,p),r.set(f,p);const y=(s.get(c.batchId)||mt()).add(f);s=s.insert(c.batchId,y)})}).next(()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,y=PI();p.forEach(b=>{if(!o.has(b)){const T=FI(n.get(b),r.get(b));T!==null&&y.set(b,T),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,y))}return xe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return je.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):xe.resolve(Mo());let c=$d,f=o;return u.next(h=>xe.forEach(h,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(p)?xe.resolve():this.remoteDocumentCache.getEntry(e,p).next(b=>{f=f.insert(p,b)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,mt())).next(p=>({batchId:c,changes:LI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let s=Ed();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=Ed();return this.indexManager.getCollectionParents(e,o).next(c=>xe.forEach(c,f=>{const h=function(y,b){return new Fl(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(p=>{p.forEach((y,b)=>{u=u.insert(y,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(u=>{o.forEach((f,h)=>{const p=h.getKey();u.get(p)===null&&(u=u.insert(p,Jn.newInvalidDocument(p)))});let c=Ed();return u.forEach((f,h)=>{const p=o.get(f);p!==void 0&&xd(p.mutation,h,Hr.empty(),Yt.now()),Rm(n,h)&&(c=c.insert(f,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return xe.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ns(s.createTime)}}(n)),xe.resolve()}getNamedQuery(e,n){return xe.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:i7(s.bundledQuery),readTime:ns(s.readTime)}}(n)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.overlays=new Jt(je.comparator),this.Qr=new Map}getOverlay(e,n){return xe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mo();return xe.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),xe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),xe.resolve()}getOverlaysForCollection(e,n,r){const s=Mo(),o=n.length+1,u=new je(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return xe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Jt((h,p)=>h-p);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=Mo(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Mo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=s)););return xe.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new P9(n,r));let o=this.Qr.get(n);o===void 0&&(o=mt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.sessionToken=Kn.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.$r=new Nn(Mn.Ur),this.Kr=new Nn(Mn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Mn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Mn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new je(new qt([])),r=new Mn(n,e),s=new Mn(n,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new je(new qt([])),r=new Mn(n,e),s=new Mn(n,e+1);let o=mt();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new Mn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return je.comparator(e.key,n.key)||st(e.Zr,n.Zr)}static Wr(e,n){return st(e.Zr,n.Zr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Nn(Mn.Ur)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new L9(o,n,r,s);this.mutationQueue.push(u);for(const c of s)this.Xr=this.Xr.add(new Mn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return xe.resolve(u)}lookupMutationBatch(e,n){return xe.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?k1:this.nr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mn(n,0),s=new Mn(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const c=this.ei(u.Zr);o.push(c)}),xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nn(st);return n.forEach(s=>{const o=new Mn(s,0),u=new Mn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],c=>{r=r.add(c.Zr)})}),xe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;je.isDocumentKey(o)||(o=o.child(""));const u=new Mn(new je(o),0);let c=new Nn(st);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(f.Zr)),!0)},u),xe.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){It(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return xe.forEach(n.mutations,s=>{const o=new Mn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Mn(n,0),s=this.Xr.firstAfterOrEqual(r);return xe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.ii=e,this.docs=function(){return new Jt(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return xe.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(n))}getEntries(e,n){let r=qs();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Jn.newInvalidDocument(s))}),xe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=qs();const u=n.path,c=new je(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||X8(K8(p),r)<=0||(s.has(p.key)||Rm(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return xe.resolve(o)}getAllFromCollectionGroup(e,n,r,s){$e(9500)}si(e,n){return xe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new b7(this)}getSize(e){return xe.resolve(this.size)}}class b7 extends f7{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),xe.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.persistence=e,this.oi=new Wo(n=>L1(n),P1),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this._i=0,this.ai=new V1,this.targetCount=0,this.ui=kl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),xe.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new kl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,xe.resolve()}updateTargetData(e,n){return this.Tr(n),xe.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),xe.waitFor(o).next(()=>s)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return xe.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),xe.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),xe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return xe.resolve(r)}containsKey(e,n){return xe.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.ci={},this.overlays={},this.li=new wm(0),this.hi=!1,this.hi=!0,this.Pi=new y7,this.referenceDelegate=e(this),this.Ti=new T7(this),this.indexManager=new s7,this.remoteDocumentCache=function(s){return new _7(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new r7(n),this.Ei=new p7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new E7(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const s=new v7(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return xe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class v7 extends W8{constructor(e){super(),this.currentSequenceNumber=e}}class F1{constructor(e){this.persistence=e,this.Vi=new V1,this.mi=null}static fi(e){return new F1(e)}get gi(){if(this.mi)return this.mi;throw $e(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),xe.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),xe.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.gi,r=>{const s=je.fromPath(r);return this.pi(e,s).next(o=>{o||n.removeEntry(s,We.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return xe.or([()=>xe.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Q0{constructor(e,n){this.persistence=e,this.yi=new Wo(r=>e9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=d7(this,n)}static fi(e,n){return new Q0(e,n)}di(){}Ai(e){return xe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return xe.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?xe.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(c=>{c||(r++,o.removeEntry(u,We.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),xe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),xe.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),xe.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),xe.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=y0(e.data.value)),n}Dr(e,n,r){return xe.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return xe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=mt(),s=mt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new z1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return EM()?8:Z8(tr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new A7;return this.Ss(e,n,u).next(c=>{if(o.result=c,this.fs)return this.Ds(e,n,u,c.size)})}).next(()=>o.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(rl()<=ht.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),xe.resolve()):(rl()<=ht.DEBUG&&Pe("QueryEngine","Query:",il(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(rl()<=ht.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ts(n))):xe.resolve())}ws(e,n){if(qA(n))return xe.resolve(null);let r=ts(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=wE(n,null,"F"),r=ts(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=mt(...o);return this.ys.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(n,c);return this.Cs(n,h,u,f.readTime)?this.ws(e,wE(n,null,"F")):this.Fs(e,h,n,f)}))})))}bs(e,n,r,s){return qA(n)||s.isEqual(We.min())?xe.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,s)?xe.resolve(null):(rl()<=ht.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),il(n)),this.Fs(e,u,n,$8(s,$d)).next(c=>c))})}vs(e,n){let r=new Nn(DI(e));return n.forEach((s,o)=>{Rm(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return rl()<=ht.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",il(n)),this.ys.getDocumentsMatchingQuery(e,n,ja.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="LocalStore",x7=3e8;class w7{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Jt(st),this.Os=new Wo(o=>L1(o),P1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m7(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function C7(t,e,n,r){return new w7(t,e,n,r)}async function tN(t,e){const n=Je(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let f=mt();for(const h of s){u.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of o){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:u,addedBatchIds:c}))})})}function I7(t,e){const n=Je(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,f,h,p){const y=h.batch,b=y.keys();let T=xe.resolve();return b.forEach(w=>{T=T.next(()=>p.getEntry(f,w)).next(R=>{const P=h.docVersions.get(w);It(P!==null,48541),R.version.compareTo(P)<0&&(y.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),p.addEntry(R)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(f,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=mt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function nN(t){const e=Je(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function N7(t,e){const n=Je(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((p,y)=>{const b=s.get(y);if(!b)return;c.push(n.Ti.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.Ti.addMatchingKeys(o,p.addedDocuments,y)));let T=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Kn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,r)),s=s.insert(y,T),function(R,P,D){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=x7?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(b,T,p)&&c.push(n.Ti.updateTargetData(o,T))});let f=qs(),h=mt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(R7(o,u,e.documentUpdates).next(p=>{f=p.qs,h=p.Qs})),!r.isEqual(We.min())){const p=n.Ti.getLastRemoteSnapshotVersion(o).next(y=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return xe.waitFor(c).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(n.xs=s,o))}function R7(t,e,n){let r=mt(),s=mt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=qs();return n.forEach((c,f)=>{const h=o.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(We.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Pe(j1,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function k7(t,e){const n=Je(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=k1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function D7(t,e){const n=Je(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(o=>o?(s=o,xe.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new Da(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function kE(t,e,n){const r=Je(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Vl(u))throw u;Pe(j1,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function rS(t,e,n){const r=Je(t);let s=We.min(),o=mt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,p){const y=Je(f),b=y.Os.get(p);return b!==void 0?xe.resolve(y.xs.get(b)):y.Ti.getTargetData(h,p)}(r,u,ts(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,c.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:We.min(),n?o:mt())).next(c=>(O7(r,_9(e),c),{documents:c,$s:o})))}function O7(t,e,n){let r=t.Ns.get(e)||We.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class iS{constructor(){this.activeTargetIds=x9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L7{constructor(){this.xo=new iS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new iS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="ConnectivityMonitor";class aS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Pe(sS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Pe(sS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0=null;function DE(){return r0===null?r0=function(){return 268435456+Math.round(2147483648*Math.random())}():r0++,"0x"+r0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="RestConnection",M7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B7{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===q0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const u=DE(),c=this.jo(e,n.toUriEncodedString());Pe(Iy,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:h}=new URL(c),p=Qo(h);return this.Jo(e,c,f,r,p).then(y=>(Pe(Iy,`Received RPC '${e}' ${u}: `,y),y),y=>{throw Cl(Iy,`RPC '${e}' ${u} failed with error: `,y,"url: ",c,"request:",r),y})}Yo(e,n,r,s,o,u){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const r=M7[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class H7 extends B7{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const u=DE();return new Promise((c,f)=>{const h=new iI;h.setWithCredentials(!0),h.listenOnce(sI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case g0.NO_ERROR:const y=h.getResponseJson();Pe(Wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),c(y);break;case g0.TIMEOUT:Pe(Wn,`RPC '${e}' ${u} timed out`),f(new Me(Se.DEADLINE_EXCEEDED,"Request time out"));break;case g0.HTTP_ERROR:const b=h.getStatus();if(Pe(Wn,`RPC '${e}' ${u} failed with status:`,b,"response text:",h.getResponseText()),b>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T?.error;if(w&&w.status&&w.message){const R=function(D){const Y=D.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Y)>=0?Y:Se.UNKNOWN}(w.status);f(new Me(R,w.message))}else f(new Me(Se.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Me(Se.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{h_:e,streamId:u,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{Pe(Wn,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(s);Pe(Wn,`RPC '${e}' ${u} sending request:`,s),h.send(n,"POST",p,r,15)})}I_(e,n,r){const s=DE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=uI(),c=oI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=o.join("");Pe(Wn,`Creating RPC '${e}' stream ${s}: ${p}`,f);const y=u.createWebChannel(p,f);this.E_(y);let b=!1,T=!1;const w=new U7({Zo:P=>{T?Pe(Wn,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(b||(Pe(Wn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),b=!0),Pe(Wn,`RPC '${e}' stream ${s} sending:`,P),y.send(P))},Xo:()=>y.close()}),R=(P,D,Y)=>{P.listen(D,$=>{try{Y($)}catch(G){setTimeout(()=>{throw G},0)}})};return R(y,yd.EventType.OPEN,()=>{T||(Pe(Wn,`RPC '${e}' stream ${s} transport opened.`),w.__())}),R(y,yd.EventType.CLOSE,()=>{T||(T=!0,Pe(Wn,`RPC '${e}' stream ${s} transport closed`),w.u_(),this.d_(y))}),R(y,yd.EventType.ERROR,P=>{T||(T=!0,Cl(Wn,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),w.u_(new Me(Se.UNAVAILABLE,"The operation could not be completed")))}),R(y,yd.EventType.MESSAGE,P=>{var D;if(!T){const Y=P.data[0];It(!!Y,16349);const $=Y,G=$?.error||((D=$[0])===null||D===void 0?void 0:D.error);if(G){Pe(Wn,`RPC '${e}' stream ${s} received error:`,G);const te=G.status;let q=function(k){const U=En[k];if(U!==void 0)return jI(U)}(te),M=G.message;q===void 0&&(q=Se.INTERNAL,M="Unknown error status: "+te+" with message "+G.message),T=!0,w.u_(new Me(q,M)),y.close()}else Pe(Wn,`RPC '${e}' stream ${s} received:`,Y),w.c_(Y)}}),R(c,aI.STAT_EVENT,P=>{P.stat===_E.PROXY?Pe(Wn,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===_E.NOPROXY&&Pe(Wn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){return new j9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="PersistentStream";class iN{constructor(e,n,r,s,o,u,c,f){this.xi=e,this.S_=r,this.D_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new rN(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Me(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Pe(oS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Pe(oS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V7 extends iN{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=G9(this.serializer,e),r=function(o){if(!("targetChange"in o))return We.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?We.min():u.readTime?ns(u.readTime):We.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=RE(this.serializer),n.addTarget=function(o,u){let c;const f=u.target;if(c=SE(f)?{documents:X9(o,f)}:{query:Q9(o,f).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=GI(o,u.resumeToken);const h=CE(o,u.expectedCount);h!==null&&(c.expectedCount=h)}else if(u.snapshotVersion.compareTo(We.min())>0){c.readTime=X0(o,u.snapshotVersion.toTimestamp());const h=CE(o,u.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=Z9(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=RE(this.serializer),n.removeTarget=e,this.Q_(n)}}class F7 extends iN{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=K9(e.writeResults,e.commitTime),r=ns(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=RE(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$9(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{}class j7 extends z7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Me(Se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,IE(n,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(Se.UNKNOWN,o.toString())})}Yo(e,n,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Yo(e,IE(n,r),s,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(Se.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class q7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(js(n),this.ua=!1):Pe("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="RemoteStore";class Y7{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Zo(this)&&(Pe(Go,"Restarting streams for network reachability change."),await async function(f){const h=Je(f);h.da.add(4),await pf(h),h.Va.set("Unknown"),h.da.delete(4),await Mm(h)}(this))})}),this.Va=new q7(r,s)}}async function Mm(t){if(Zo(t))for(const e of t.Aa)await e(!0)}async function pf(t){for(const e of t.Aa)await e(!1)}function sN(t,e){const n=Je(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),$1(n)?G1(n):zl(n).N_()&&Y1(n,e))}function q1(t,e){const n=Je(t),r=zl(n);n.Ea.delete(e),r.N_()&&aN(n,e),n.Ea.size===0&&(r.N_()?r.k_():Zo(n)&&n.Va.set("Unknown"))}function Y1(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Z_(e)}function aN(t,e){t.ma.Ke(e),zl(t).X_(e)}function G1(t){t.ma=new H9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Va.ca()}function $1(t){return Zo(t)&&!zl(t).O_()&&t.Ea.size>0}function Zo(t){return Je(t).da.size===0}function oN(t){t.ma=void 0}async function G7(t){t.Va.set("Online")}async function $7(t){t.Ea.forEach((e,n)=>{Y1(t,e)})}async function K7(t,e){oN(t),$1(t)?(t.Va.Pa(e),G1(t)):t.Va.set("Unknown")}async function X7(t,e,n){if(t.Va.set("Online"),e instanceof YI&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Pe(Go,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await W0(t,r)}else if(e instanceof b0?t.ma.Xe(e):e instanceof qI?t.ma.ot(e):t.ma.nt(e),!n.isEqual(We.min()))try{const r=await nN(t.localStore);n.compareTo(r)>=0&&await function(o,u){const c=o.ma.It(u);return c.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ea.get(h);p&&o.Ea.set(h,p.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,h)=>{const p=o.Ea.get(f);if(!p)return;o.Ea.set(f,p.withResumeToken(Kn.EMPTY_BYTE_STRING,p.snapshotVersion)),aN(o,f);const y=new Da(p.target,f,h,p.sequenceNumber);Y1(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Pe(Go,"Failed to raise snapshot:",r),await W0(t,r)}}async function W0(t,e,n){if(!Vl(e))throw e;t.da.add(1),await pf(t),t.Va.set("Offline"),n||(n=()=>nN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe(Go,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Mm(t)})}function uN(t,e){return e().catch(n=>W0(t,n,e))}async function Bm(t){const e=Je(t),n=$a(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:k1;for(;Q7(e);)try{const s=await k7(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,W7(e,s)}catch(s){await W0(e,s)}lN(e)&&cN(e)}function Q7(t){return Zo(t)&&t.Ia.length<10}function W7(t,e){t.Ia.push(e);const n=$a(t);n.N_()&&n.ea&&n.ta(e.mutations)}function lN(t){return Zo(t)&&!$a(t).O_()&&t.Ia.length>0}function cN(t){$a(t).start()}async function Z7(t){$a(t).ia()}async function J7(t){const e=$a(t);for(const n of t.Ia)e.ta(n.mutations)}async function eB(t,e,n){const r=t.Ia.shift(),s=B1.from(r,e,n);await uN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bm(t)}async function tB(t,e){e&&$a(t).ea&&await async function(r,s){if(function(u){return B9(u)&&u!==Se.ABORTED}(s.code)){const o=r.Ia.shift();$a(r).L_(),await uN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Bm(r)}}(t,e),lN(t)&&cN(t)}async function uS(t,e){const n=Je(t);n.asyncQueue.verifyOperationInProgress(),Pe(Go,"RemoteStore received new credentials");const r=Zo(n);n.da.add(3),await pf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Mm(n)}async function nB(t,e){const n=Je(t);e?(n.da.delete(2),await Mm(n)):e||(n.da.add(2),await pf(n),n.Va.set("Unknown"))}function zl(t){return t.fa||(t.fa=function(n,r,s){const o=Je(n);return o.oa(),new V7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:G7.bind(null,t),n_:$7.bind(null,t),i_:K7.bind(null,t),Y_:X7.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),$1(t)?G1(t):t.Va.set("Unknown")):(await t.fa.stop(),oN(t))})),t.fa}function $a(t){return t.ga||(t.ga=function(n,r,s){const o=Je(n);return o.oa(),new F7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Z7.bind(null,t),i_:tB.bind(null,t),na:J7.bind(null,t),ra:eB.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Bm(t)):(await t.ga.stop(),t.Ia.length>0&&(Pe(Go,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,c=new K1(e,n,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X1(t,e){if(js("AsyncQueue",`${e}: ${t}`),Vl(t))return new Me(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Ed(),this.sortedSet=new Jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.pa=new Jt(je.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):$e(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dl{constructor(e,n,r,s,o,u,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new Dl(e,n,gl.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class iB{constructor(){this.queries=cS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Je(n),o=s.queries;s.queries=cS(),o.forEach((u,c)=>{for(const f of c.Sa)f.onError(r)})})(this,new Me(Se.ABORTED,"Firestore shutting down"))}}function cS(){return new Wo(t=>kI(t),Nm)}async function sB(t,e){const n=Je(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Da()&&e.va()&&(r=2):(o=new rB,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(s,!0);break;case 1:o.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const c=X1(u,`Initialization of query '${il(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&Q1(n)}async function aB(t,e){const n=Je(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oB(t,e){const n=Je(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const c of u.Sa)c.Ma(s)&&(r=!0);u.ba=s}}r&&Q1(n)}function uB(t,e,n){const r=Je(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Q1(t){t.Ca.forEach(e=>{e.next()})}var OE,dS;(dS=OE||(OE={})).xa="default",dS.Cache="cache";class lB{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Dl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==OE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.key=e}}class fN{constructor(e){this.key=e}}class cB{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mt(),this.mutatedKeys=mt(),this.Za=DI(e),this.Xa=new gl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new lS,s=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,y)=>{const b=s.get(p),T=Rm(this.query,y)?y:null,w=!!b&&this.mutatedKeys.has(b.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;b&&T?b.data.isEqual(T.data)?w!==R&&(r.track({type:3,doc:T}),P=!0):this.ru(b,T)||(r.track({type:2,doc:T}),P=!0,(f&&this.Za(T,f)>0||h&&this.Za(T,h)<0)&&(c=!0)):!b&&T?(r.track({type:0,doc:T}),P=!0):b&&!T&&(r.track({type:1,doc:b}),P=!0,(f||h)&&(c=!0)),P&&(T?(u=u.add(T),o=R?o.add(p):o.delete(p)):(u=u.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Xa:u,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((p,y)=>function(T,w){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:P})}};return R(T)-R(w)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,h=f!==this.Ja;return this.Ja=f,u.length!==0||h?{snapshot:new Dl(this.query,e.Xa,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new lS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=mt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new fN(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new dN(r))}),n}au(e){this.Ha=e.$s,this.Ya=mt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Dl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const W1="SyncEngine";class dB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fB{constructor(e){this.key=e,this.cu=!1}}class hB{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Wo(c=>kI(c),Nm),this.Pu=new Map,this.Tu=new Set,this.Iu=new Jt(je.comparator),this.Eu=new Map,this.du=new V1,this.Au={},this.Ru=new Map,this.Vu=kl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function mB(t,e,n=!0){const r=EN(t);let s;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await hN(r,e,n,!0),s}async function pB(t,e){const n=EN(t);await hN(n,e,!0,!1)}async function hN(t,e,n,r){const s=await D7(t.localStore,ts(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await gB(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&sN(t.remoteStore,s),c}async function gB(t,e,n,r,s){t.fu=(y,b,T)=>async function(R,P,D,Y){let $=P.view.tu(D);$.Cs&&($=await rS(R.localStore,P.query,!1).then(({documents:M})=>P.view.tu(M,$)));const G=Y&&Y.targetChanges.get(P.targetId),te=Y&&Y.targetMismatches.get(P.targetId)!=null,q=P.view.applyChanges($,R.isPrimaryClient,G,te);return hS(R,P.targetId,q.ou),q.snapshot}(t,y,b,T);const o=await rS(t.localStore,e,!0),u=new cB(e,o.$s),c=u.tu(o.documents),f=mf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=u.applyChanges(c,t.isPrimaryClient,f);hS(t,n,h.ou);const p=new dB(e,n,u);return t.hu.set(e,p),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function yB(t,e,n){const r=Je(t),s=r.hu.get(e),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter(u=>!Nm(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await kE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&q1(r.remoteStore,s.targetId),LE(r,s.targetId)}).catch(Hl)):(LE(r,s.targetId),await kE(r.localStore,s.targetId,!0))}async function EB(t,e){const n=Je(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),q1(n.remoteStore,r.targetId))}async function _B(t,e,n){const r=wB(t);try{const s=await function(u,c){const f=Je(u),h=Yt.now(),p=c.reduce((T,w)=>T.add(w.key),mt());let y,b;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=qs(),R=mt();return f.Bs.getEntries(T,p).next(P=>{w=P,w.forEach((D,Y)=>{Y.isValidDocument()||(R=R.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,w)).next(P=>{y=P;const D=[];for(const Y of c){const $=D9(Y,y.get(Y.key).overlayedDocument);$!=null&&D.push(new Qa(Y.key,$,vI($.value.mapValue),Fr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,h,D,c)}).next(P=>{b=P;const D=P.applyToLocalDocumentSet(y,R);return f.documentOverlayCache.saveOverlays(T,P.batchId,D)})}).then(()=>({batchId:b.batchId,changes:LI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,f){let h=u.Au[u.currentUser.toKey()];h||(h=new Jt(st)),h=h.insert(c,f),u.Au[u.currentUser.toKey()]=h}(r,s.batchId,n),await gf(r,s.changes),await Bm(r.remoteStore)}catch(s){const o=X1(s,"Failed to persist write");n.reject(o)}}async function mN(t,e){const n=Je(t);try{const r=await N7(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n.Eu.get(o);u&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?It(u.cu,14607):s.removedDocuments.size>0&&(It(u.cu,42227),u.cu=!1))}),await gf(n,r,e)}catch(r){await Hl(r)}}function fS(t,e,n){const r=Je(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((o,u)=>{const c=u.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(u,c){const f=Je(u);f.onlineState=c;let h=!1;f.queries.forEach((p,y)=>{for(const b of y.Sa)b.Fa(c)&&(h=!0)}),h&&Q1(f)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bB(t,e,n){const r=Je(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new Jt(je.comparator);u=u.insert(o,Jn.newNoDocument(o,We.min()));const c=mt().add(o),f=new Lm(We.min(),new Map,new Jt(st),u,c);await mN(r,f),r.Iu=r.Iu.remove(o),r.Eu.delete(e),Z1(r)}else await kE(r.localStore,e,!1).then(()=>LE(r,e,n)).catch(Hl)}async function TB(t,e){const n=Je(t),r=e.batch.batchId;try{const s=await I7(n.localStore,e);gN(n,r,null),pN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gf(n,s)}catch(s){await Hl(s)}}async function vB(t,e,n){const r=Je(t);try{const s=await function(u,c){const f=Je(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next(y=>(It(y!==null,37113),p=y.keys(),f.mutationQueue.removeMutationBatch(h,y))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>f.localDocuments.getDocuments(h,p))})}(r.localStore,e);gN(r,e,n),pN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gf(r,s)}catch(s){await Hl(s)}}function pN(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function gN(t,e,n){const r=Je(t);let s=r.Au[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function LE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||yN(t,r)})}function yN(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(q1(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Z1(t))}function hS(t,e,n){for(const r of n)r instanceof dN?(t.du.addReference(r.key,e),AB(t,r)):r instanceof fN?(Pe(W1,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||yN(t,r.key)):$e(19791,{pu:r})}function AB(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Pe(W1,"New document in limbo: "+n),t.Tu.add(r),Z1(t))}function Z1(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new je(qt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new fB(n)),t.Iu=t.Iu.insert(n,r),sN(t.remoteStore,new Da(ts(NI(n.path)),r,"TargetPurposeLimboResolution",wm.le))}}async function gf(t,e,n){const r=Je(t),s=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((c,f)=>{u.push(r.fu(f,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(p=n?.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(h){s.push(h);const y=z1.Rs(f.targetId,h);o.push(y)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(f,h){const p=Je(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>xe.forEach(h,b=>xe.forEach(b.ds,T=>p.persistence.referenceDelegate.addReference(y,b.targetId,T)).next(()=>xe.forEach(b.As,T=>p.persistence.referenceDelegate.removeReference(y,b.targetId,T)))))}catch(y){if(!Vl(y))throw y;Pe(j1,"Failed to update sequence numbers: "+y)}for(const y of h){const b=y.targetId;if(!y.fromCache){const T=p.xs.get(b),w=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(w);p.xs=p.xs.insert(b,R)}}}(r.localStore,o))}async function SB(t,e){const n=Je(t);if(!n.currentUser.isEqual(e)){Pe(W1,"User change. New user:",e.toKey());const r=await tN(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(c=>{c.forEach(f=>{f.reject(new Me(Se.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gf(n,r.ks)}}function xB(t,e){const n=Je(t),r=n.Eu.get(e);if(r&&r.cu)return mt().add(r.key);{let s=mt();const o=n.Pu.get(e);if(!o)return s;for(const u of o){const c=n.hu.get(u);s=s.unionWith(c.view.eu)}return s}}function EN(t){const e=Je(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bB.bind(null,e),e.lu.Y_=oB.bind(null,e.eventManager),e.lu.gu=uB.bind(null,e.eventManager),e}function wB(t){const e=Je(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vB.bind(null,e),e}class Z0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return C7(this.persistence,new S7,e.initialUser,this.serializer)}Su(e){return new eN(F1.fi,this.serializer)}bu(e){return new L7}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Z0.provider={build:()=>new Z0};class CB extends Z0{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){It(this.persistence.referenceDelegate instanceof Q0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new l7(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new eN(r=>Q0.fi(r,n),this.serializer)}}class PE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SB.bind(null,this.syncEngine),await nB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iB}()}createDatastore(e){const n=Pm(e.databaseInfo.databaseId),r=function(o){return new H7(o)}(e.databaseInfo);return function(o,u,c,f){return new j7(o,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,u,c){return new Y7(r,s,o,u,c)}(this.localStore,this.datastore,e.asyncQueue,n=>fS(this.syncEngine,n,0),function(){return aS.C()?new aS:new P7}())}createSyncEngine(e,n){return function(s,o,u,c,f,h,p){const y=new hB(s,o,u,c,f,h);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Je(s);Pe(Go,"RemoteStore shutting down."),o.da.add(5),await pf(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}PE.provider={build:()=>new PE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):js("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class NB{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Zn.UNAUTHENTICATED,this.clientId=fI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Pe(Ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Pe(Ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=X1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ry(t,e){t.asyncQueue.verifyOperationInProgress(),Pe(Ka,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await tN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await RB(t);Pe(Ka,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>uS(e.remoteStore,s)),t._onlineComponents=e}async function RB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe(Ka,"Using user provided OfflineComponentProvider");try{await Ry(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Se.FAILED_PRECONDITION||s.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await Ry(t,new Z0)}}else Pe(Ka,"Using default OfflineComponentProvider"),await Ry(t,new CB(void 0));return t._offlineComponents}async function _N(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe(Ka,"Using user provided OnlineComponentProvider"),await mS(t,t._uninitializedComponentsProvider._online)):(Pe(Ka,"Using default OnlineComponentProvider"),await mS(t,new PE))),t._onlineComponents}function kB(t){return _N(t).then(e=>e.syncEngine)}async function DB(t){const e=await _N(t),n=e.eventManager;return n.onListen=mB.bind(null,e.syncEngine),n.onUnlisten=yB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EB.bind(null,e.syncEngine),n}function OB(t,e,n={}){const r=new Ha;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,h){const p=new IB({next:b=>{p.xu(),u.enqueueAndForget(()=>aB(o,y)),b.fromCache&&f.source==="server"?h.reject(new Me(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),y=new lB(c,p,{includeMetadataChanges:!0,Qa:!0});return sB(o,y)}(await DB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e,n){if(!n)throw new Me(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LB(t,e,n,r){if(e===!0&&r===!0)throw new Me(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gS(t){if(!je.isDocumentKey(t))throw new Me(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yS(t){if(je.isDocumentKey(t))throw new Me(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e(12329,{type:typeof t})}function $o(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Um(t);throw new Me(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firestore.googleapis.com",ES=!0;class _S{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vN,this.ssl=ES}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ES;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o7)throw new Me(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _S({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _S(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U8;switch(r.type){case"firstParty":return new z8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Me(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pS.get(n);r&&(Pe("ComponentProvider","Removing Datastore"),pS.delete(n),r.terminate())}(this),Promise.resolve()}}function PB(t,e,n,r={}){var s;t=$o(t,Hm);const o=Qo(e),u=t._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(x1(`https://${f}`),w1("Firestore",!0)),u.host!==vN&&u.host!==f&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!jo(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=Zn.MOCK_USER;else{p=lM(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Me(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Zn(b)}t._authCredentials=new H8(new cI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class zr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}}class Va extends Jo{constructor(e,n,r){super(e,n,NI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new je(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function J1(t,e,...n){if(t=on(t),TN("collection","path",e),t instanceof Hm){const r=qt.fromString(e,...n);return yS(r),new Va(t,null,r)}{if(!(t instanceof zr||t instanceof Va))throw new Me(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return yS(r),new Va(t.firestore,null,r)}}function jl(t,e,...n){if(t=on(t),arguments.length===1&&(e=fI.newId()),TN("doc","path",e),t instanceof Hm){const r=qt.fromString(e,...n);return gS(r),new zr(t,null,new je(r))}{if(!(t instanceof zr||t instanceof Va))throw new Me(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return gS(r),new zr(t.firestore,t instanceof Va?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="AsyncQueue";class TS{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new rN(this,"async_queue_retry"),this.rc=()=>{const r=Ny();r&&Pe(bS,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ha;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Vl(e))throw e;Pe(bS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,js("INTERNAL UNHANDLED ERROR: ",vS(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=K1.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&$e(47125,{cc:vS(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function vS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yf extends Hm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new TS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TS(e),this._firestoreClient=void 0,await e}}}function MB(t,e){const n=typeof t=="object"?t:N1(),r=typeof t=="string"?t:q0,s=xm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=XC("firestore");o&&PB(s,...o)}return s}function e_(t){if(t._terminated)throw new Me(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BB(t),t._firestoreClient}function BB(t){var e,n,r;const s=t._freezeSettings(),o=function(c,f,h,p){return new r9(c,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,bN(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new NB(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const f=c?._online.build();return{_offline:c?._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(Kn.fromBase64String(e))}catch(n){throw new Me(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ol(Kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Me(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Me(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Me(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=/^__.*__$/;class HB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new hf(e,this.data,n,this.fieldTransforms)}}class AN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ic:t})}}class i_{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new i_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return J0(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(SN(this.Ic)&&UB.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class VB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pm(e)}bc(e,n,r,s=!1){return new i_({Ic:e,methodName:n,wc:r,path:$n.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s_(t){const e=t._freezeSettings(),n=Pm(t._databaseId);return new VB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xN(t,e,n,r,s,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,s);a_("Data must be an object, but it was:",u,r);const c=wN(r,u);let f,h;if(o.merge)f=new Hr(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const b=ME(e,y,n);if(!u.contains(b))throw new Me(Se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);IN(p,b)||p.push(b)}f=new Hr(p),h=u.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,h=u.fieldTransforms;return new HB(new Er(c),f,h)}class Fm extends t_{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fm}}function FB(t,e,n,r){const s=t.bc(1,e,n);a_("Data must be an object, but it was:",s,r);const o=[],u=Er.empty();Xa(r,(f,h)=>{const p=o_(e,f,n);h=on(h);const y=s.mc(p);if(h instanceof Fm)o.push(p);else{const b=Ef(h,y);b!=null&&(o.push(p),u.set(p,b))}});const c=new Hr(o);return new AN(u,c,s.fieldTransforms)}function zB(t,e,n,r,s,o){const u=t.bc(1,e,n),c=[ME(e,r,n)],f=[s];if(o.length%2!=0)throw new Me(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)c.push(ME(e,o[b])),f.push(o[b+1]);const h=[],p=Er.empty();for(let b=c.length-1;b>=0;--b)if(!IN(h,c[b])){const T=c[b];let w=f[b];w=on(w);const R=u.mc(T);if(w instanceof Fm)h.push(T);else{const P=Ef(w,R);P!=null&&(h.push(T),p.set(T,P))}}const y=new Hr(h);return new AN(p,y,u.fieldTransforms)}function jB(t,e,n,r=!1){return Ef(n,t.bc(r?4:3,e))}function Ef(t,e){if(CN(t=on(t)))return a_("Unsupported field value:",e,t),wN(t,e);if(t instanceof t_)return function(r,s){if(!SN(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const c of r){let f=Ef(c,s.fc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Yt.fromDate(r);return{timestampValue:X0(s.serializer,o)}}if(r instanceof Yt){const o=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:X0(s.serializer,o)}}if(r instanceof n_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:GI(s.serializer,r._byteString)};if(r instanceof zr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:H1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof r_)return function(u,c){return{mapValue:{fields:{[bI]:{stringValue:TI},[Y0]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw c.gc("VectorValues must only contain numeric values.");return M1(c.serializer,h)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Um(r)}`)}(t,e)}function wN(t,e){const n={};return mI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(r,s)=>{const o=Ef(s,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof n_||t instanceof Ol||t instanceof zr||t instanceof t_||t instanceof r_)}function a_(t,e,n){if(!CN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Um(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function ME(t,e,n){if((e=on(e))instanceof Vm)return e._internalPath;if(typeof e=="string")return o_(t,e);throw J0("Field path arguments must be of type string or ",t,!1,void 0,n)}const qB=new RegExp("[~\\*/\\[\\]]");function o_(t,e,n){if(e.search(qB)>=0)throw J0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vm(...e.split("."))._internalPath}catch{throw J0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function J0(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Me(Se.INVALID_ARGUMENT,c+t+f)}function IN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YB extends NN{data(){return super.data()}}function zm(t,e){return typeof e=="string"?o_(t,e):e instanceof Vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u_{}class RN extends u_{}function $B(t,e,...n){let r=[];e instanceof u_&&r.push(e),r=r.concat(n),function(o){const u=o.filter(f=>f instanceof l_).length,c=o.filter(f=>f instanceof jm).length;if(u>1||u>0&&c>0)throw new Me(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class jm extends RN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jm(e,n,r)}_apply(e){const n=this._parse(e);return kN(e._query,n),new Jo(e.firestore,e.converter,xE(e._query,n))}_parse(e){const n=s_(e.firestore);return function(o,u,c,f,h,p,y){let b;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Me(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){SS(y,p);const w=[];for(const R of y)w.push(AS(f,o,R));b={arrayValue:{values:w}}}else b=AS(f,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||SS(y,p),b=jB(c,u,y,p==="in"||p==="not-in");return Tn.create(h,p,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KB(t,e,n){const r=e,s=zm("where",t);return jm._create(s,r,n)}class l_ extends u_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)kN(u,f),u=xE(u,f)}(e._query,n),new Jo(e.firestore,e.converter,xE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c_ extends RN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c_(e,n)}_apply(e){const n=function(s,o,u){if(s.startAt!==null)throw new Me(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Me(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wd(o,u)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new Fl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function XB(t,e="asc"){const n=e,r=zm("orderBy",t);return c_._create(r,n)}function AS(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new Me(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RI(e)&&n.indexOf("/")!==-1)throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qt.fromString(n));if(!je.isDocumentKey(r))throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return UA(t,new je(r))}if(n instanceof zr)return UA(t,n._key);throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Um(n)}.`)}function SS(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kN(t,e){const n=function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Me(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QB{convertValue(e,n="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xa(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Y0].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>hn(u.doubleValue));return new r_(o)}convertGeoPoint(e){return new n_(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Im(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kd(e));default:return null}}convertTimestamp(e){const n=qa(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qt.fromString(e);It(ZI(r),9688,{name:e});const s=new Xd(r.get(1),r.get(3)),o=new je(r.popFirst(5));return s.isEqual(n)||js(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WB extends NN{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class T0 extends WB{data(e={}){return super.data(e)}}class ZB{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new i0(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new T0(this._firestore,this._userDataWriter,r.key,r,new i0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Me(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(c=>{const f=new T0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new i0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new T0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new i0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return c.type!==0&&(h=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),p=u.indexOf(c.doc.key)),{type:JB(c.type),doc:f,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:t})}}class eU extends QB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,n)}}function d_(t){t=$o(t,Jo);const e=$o(t.firestore,yf),n=e_(e),r=new eU(e);return GB(t._query),OB(n,t._query).then(s=>new ZB(e,r,t,s))}function f_(t,e,n){t=$o(t,zr);const r=$o(t.firestore,yf),s=DN(t.converter,e,n);return h_(r,[xN(s_(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fr.none())])}function tU(t){return h_($o(t.firestore,yf),[new Om(t._key,Fr.none())])}function h_(t,e){return function(r,s){const o=new Ha;return r.asyncQueue.enqueueAndForget(async()=>_B(await kB(r),s,o)),o.promise}(e_(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=s_(e)}set(e,n,r){this._verifyNotCommitted();const s=ky(e,this._firestore),o=DN(s.converter,n,r),u=xN(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Fr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=ky(e,this._firestore);let u;return u=typeof(n=on(n))=="string"||n instanceof Vm?zB(this._dataReader,"WriteBatch.update",o._key,n,r,s):FB(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ky(e,this._firestore);return this._mutations=this._mutations.concat(new Om(n._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ky(t,e){if((t=on(t)).firestore!==e)throw new Me(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t){return e_(t=$o(t,yf)),new nU(t,e=>h_(t,e))}(function(e,n=!0){(function(s){Ul=s})(Bl),qo(new za("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new yf(new V8(r.getProvider("auth-internal")),new j8(u,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(h.options.projectId,p)}(u,s),u);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),es(wA,CA,e),es(wA,CA,"esm2017")})();function m_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function LN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rU=LN,PN=new df("auth","Firebase",LN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new C1("@firebase/auth");function iU(t,...e){em.logLevel<=ht.WARN&&em.warn(`Auth (${Bl}): ${t}`,...e)}function v0(t,...e){em.logLevel<=ht.ERROR&&em.error(`Auth (${Bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,...e){throw p_(t,...e)}function rs(t,...e){return p_(t,...e)}function MN(t,e,n){const r=Object.assign(Object.assign({},rU()),{[e]:n});return new df("auth","Firebase",r).create(e,{appName:t.name})}function Hs(t){return MN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PN.create(t,...e)}function Ge(t,e,...n){if(!t)throw p_(e,...n)}function Bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw v0(e),new Error(e)}function Ys(t,e){t||Bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sU(){return xS()==="http:"||xS()==="https:"}function xS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sU()||pM()||"connection"in navigator)?navigator.onLine:!0}function oU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=fM()||gM()}get(){return aU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cU=new _f(3e4,6e4);function Wa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Za(t,e,n,r,s={}){return UN(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=ff(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:f},o);return mM()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(h.credentials="include"),BN.fetch()(await HN(t,t.config.apiHost,n,c),h)})}async function UN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uU),e);try{const s=new fU(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw s0(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw s0(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw s0(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw s0(t,"user-disabled",u);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw MN(t,p,h);xi(t,p)}}catch(s){if(s instanceof us)throw s;xi(t,"network-request-failed",{message:String(s)})}}async function bf(t,e,n,r,s={}){const o=await Za(t,e,n,r,s);return"mfaPendingCredential"in o&&xi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function HN(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?g_(t.config,s):`${t.config.apiScheme}://${s}`;return lU.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function dU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rs(this.auth,"network-request-failed")),cU.get())})}}function s0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=rs(t,e,r);return s.customData._tokenResponse=n,s}function wS(t){return t!==void 0&&t.enterprise!==void 0}class hU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mU(t,e){return Za(t,"GET","/v2/recaptchaConfig",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){return Za(t,"POST","/v1/accounts:delete",e)}async function tm(t,e){return Za(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gU(t,e=!1){const n=on(t),r=await n.getIdToken(e),s=y_(r);Ge(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:wd(Dy(s.auth_time)),issuedAtTime:wd(Dy(s.iat)),expirationTime:wd(Dy(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Dy(t){return Number(t)*1e3}function y_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return v0("JWT malformed, contained fewer than 3 sections"),null;try{const s=$C(n);return s?JSON.parse(s):(v0("Failed to decode base64 JWT payload"),null)}catch(s){return v0("Caught error parsing JWT payload as JSON",s?.toString()),null}}function CS(t){const e=y_(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof us&&yU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wd(this.lastLoginAt),this.creationTime=wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ef(t,tm(n,{idToken:r}));Ge(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VN(o.providerUserInfo):[],c=bU(t.providerData,u),f=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,p=f?h:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new UE(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function _U(t){const e=on(t);await nm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function VN(t){return t.map(e=>{var{providerId:n}=e,r=m_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){const n=await UN(t,{},async()=>{const r=ff({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await HN(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(f.credentials="include"),BN.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vU(t,e){return Za(t,"POST","/v2/accounts:revokeToken",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=CS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await TU(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new yl;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ge(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Ge(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=m_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ef(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gU(this,e)}reload(){return _U(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await ef(this,pU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,c,f,h,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,D=(h=n.createdAt)!==null&&h!==void 0?h:void 0,Y=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:$,emailVerified:G,isAnonymous:te,providerData:q,stsTokenManager:M}=n;Ge($&&M,e,"internal-error");const N=yl.fromJSON(this.name,M);Ge(typeof $=="string",e,"internal-error"),_a(y,e.name),_a(b,e.name),Ge(typeof G=="boolean",e,"internal-error"),Ge(typeof te=="boolean",e,"internal-error"),_a(T,e.name),_a(w,e.name),_a(R,e.name),_a(P,e.name),_a(D,e.name),_a(Y,e.name);const k=new vi({uid:$,auth:e,email:b,emailVerified:G,displayName:y,isAnonymous:te,photoURL:w,phoneNumber:T,tenantId:R,stsTokenManager:N,createdAt:D,lastLoginAt:Y});return q&&Array.isArray(q)&&(k.providerData=q.map(U=>Object.assign({},U))),P&&(k._redirectEventId=P),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new yl;s.updateFromServerResponse(n);const o=new vi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ge(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?VN(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new yl;c.updateFromIdToken(r);const f=new vi({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new UE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;function Us(t){Ys(t instanceof Function,"Expected a class definition");let e=IS.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FN.type="NONE";const NS=FN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t,e,n){return`firebase:${t}:${e}:${n}`}class El{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=A0(this.userKey,s.apiKey,o),this.fullPersistenceKey=A0("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tm(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new El(Us(NS),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Us(NS);const u=A0(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(u);if(p){let y;if(typeof p=="string"){const b=await tm(e,{idToken:p}).catch(()=>{});if(!b)break;y=await vi._fromGetAccountInfoResponse(e,b,p)}else y=vi._fromJSON(e,p);h!==o&&(c=y),o=h;break}}catch{}const f=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new El(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new El(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($N(e))return"Blackberry";if(KN(e))return"Webos";if(jN(e))return"Safari";if((e.includes("chrome/")||qN(e))&&!e.includes("edge/"))return"Chrome";if(GN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function zN(t=tr()){return/firefox\//i.test(t)}function jN(t=tr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qN(t=tr()){return/crios\//i.test(t)}function YN(t=tr()){return/iemobile/i.test(t)}function GN(t=tr()){return/android/i.test(t)}function $N(t=tr()){return/blackberry/i.test(t)}function KN(t=tr()){return/webos/i.test(t)}function E_(t=tr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AU(t=tr()){var e;return E_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SU(){return yM()&&document.documentMode===10}function XN(t=tr()){return E_(t)||GN(t)||KN(t)||$N(t)||/windows phone/i.test(t)||YN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e=[]){let n;switch(t){case"Browser":n=RS(tr());break;case"Worker":n=`${RS(tr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wU(t,e={}){return Za(t,"GET","/v2/passwordPolicy",Wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=6;class IU{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:CU,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kS(this),this.idTokenSubscription=new kS(this),this.beforeStateQueue=new xU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tm(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Hs(this));const n=e?on(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wU(this),n=new IU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new df("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Us(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[Us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&iU(`Error while retrieving App Check token: ${n.error}`),n?.token}}function eu(t){return on(t)}class kS{constructor(e){this.auth=e,this.observer=null,this.addObserver=xM(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RU(t){qm=t}function WN(t){return qm.loadJS(t)}function kU(){return qm.recaptchaEnterpriseScript}function DU(){return qm.gapiScript}function OU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LU{constructor(){this.enterprise=new PU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MU="recaptcha-enterprise",ZN="NO_RECAPTCHA";class BU{constructor(e){this.type=MU,this.auth=eu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{mU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new hU(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;wS(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(ZN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LU().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!n&&wS(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kU();f.length!==0&&(f+=c),WN(f).then(()=>{s(c,o,u)}).catch(h=>{u(h)})}}).catch(c=>{u(c)})})}}async function DS(t,e,n,r=!1,s=!1){const o=new BU(t);let u;if(s)u=ZN;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function HE(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await DS(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await DS(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t,e){const n=xm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(jo(o,e??{}))return s;xi(s,"already-initialized")}return n.initialize({options:e})}function HU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Us);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function VU(t,e,n){const r=eu(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=JN(e),{host:u,port:c}=FU(e),f=c===null?"":`:${c}`,h={url:`${o}//${u}${f}/`},p=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(jo(h,r.config.emulator)&&jo(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Qo(u)?(x1(`${o}//${u}${f}`),w1("Auth",!0)):zU()}function JN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FU(t){const e=JN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:OS(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:OS(u)}}}function OS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bs("not implemented")}_getIdTokenResponse(e){return Bs("not implemented")}_linkToIdToken(e,n){return Bs("not implemented")}_getReauthenticationResolver(e){return Bs("not implemented")}}async function jU(t,e){return Za(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(t,e){return bf(t,"POST","/v1/accounts:signInWithPassword",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YU(t,e){return bf(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}async function GU(t,e){return bf(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends __{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HE(e,n,"signInWithPassword",qU);case"emailLink":return YU(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HE(e,r,"signUpPassword",jU);case"emailLink":return GU(e,{idToken:n,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e){return bf(t,"POST","/v1/accounts:signInWithIdp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="http://localhost";class Ko extends __{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=m_(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ko(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_l(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:$U,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ff(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XU(t){const e=pd(gd(t)).link,n=e?pd(gd(e)).deep_link_id:null,r=pd(gd(t)).deep_link_id;return(r?pd(gd(r)).link:null)||r||n||e||t}class b_{constructor(e){var n,r,s,o,u,c;const f=pd(gd(e)),h=(n=f.apiKey)!==null&&n!==void 0?n:null,p=(r=f.oobCode)!==null&&r!==void 0?r:null,y=KU((s=f.mode)!==null&&s!==void 0?s:null);Ge(h&&p&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=p,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=XU(e);try{return new b_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.providerId=ql.PROVIDER_ID}static credential(e,n){return tf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=b_.parseLink(n);return Ge(r,"argument-error"),tf._fromEmailAndCode(e,r.code,r.tenantId)}}ql.PROVIDER_ID="password";ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends e3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Tf{constructor(){super("facebook.com")}static credential(e){return Ko._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ko._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Na.credential(n,r)}catch{return null}}}Na.GOOGLE_SIGN_IN_METHOD="google.com";Na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Tf{constructor(){super("github.com")}static credential(e){return Ko._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.GITHUB_SIGN_IN_METHOD="github.com";Ra.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Tf{constructor(){super("twitter.com")}static credential(e,n){return Ko._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ka.credential(n,r)}catch{return null}}}ka.TWITTER_SIGN_IN_METHOD="twitter.com";ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e){return bf(t,"POST","/v1/accounts:signUp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await vi._fromIdTokenResponse(e,r,s),u=LS(r);return new Xo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=LS(r);return new Xo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function LS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends us{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rm(e,n,r,s)}}function t3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rm._fromErrorAndOperation(t,o,e,r):o})}async function WU(t,e,n=!1){const r=await ef(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Hs(r));const s="reauthenticate";try{const o=await ef(t,t3(r,s,e,t),n);Ge(o.idToken,r,"internal-error");const u=y_(o.idToken);Ge(u,r,"internal-error");const{sub:c}=u;return Ge(t.uid===c,r,"user-mismatch"),Xo._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&xi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e,n=!1){if(Ur(t.app))return Promise.reject(Hs(t));const r="signIn",s=await t3(t,r,e),o=await Xo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function JU(t,e){return n3(eu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(t){const e=eu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eH(t,e,n){if(Ur(t.app))return Promise.reject(Hs(t));const r=eu(t),u=await HE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QU).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&r3(t),f}),c=await Xo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function tH(t,e,n){return Ur(t.app)?Promise.reject(Hs(t)):JU(on(t),ql.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r3(t),r})}function nH(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function rH(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function iH(t,e,n,r){return on(t).onAuthStateChanged(e,n,r)}function sH(t){return on(t).signOut()}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=1e3,oH=10;class s3 extends i3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);SU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oH):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s3.type="LOCAL";const uH=s3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3 extends i3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a3.type="SESSION";const o3=a3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ym(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async h=>h(n.origin,o)),f=await lH(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ym.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const h=T_("",20);s.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(b.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return window}function dH(t){is().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function fH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mH(){return u3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firebaseLocalStorageDb",pH=1,sm="firebaseLocalStorage",c3="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gm(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function gH(){const t=indexedDB.deleteDatabase(l3);return new vf(t).toPromise()}function VE(){const t=indexedDB.open(l3,pH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sm,{keyPath:c3})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),await gH(),e(await VE()))})})}async function PS(t,e,n){const r=Gm(t,!0).put({[c3]:e,value:n});return new vf(r).toPromise()}async function yH(t,e){const n=Gm(t,!1).get(e),r=await new vf(n).toPromise();return r===void 0?null:r.value}function MS(t,e){const n=Gm(t,!0).delete(e);return new vf(n).toPromise()}const EH=800,_H=3;class d3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_H)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ym._getInstance(mH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fH(),!this.activeServiceWorker)return;this.sender=new cH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VE();return await PS(e,im,"1"),await MS(e,im),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Gm(s,!1).getAll();return new vf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d3.type="LOCAL";const bH=d3;new _f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t,e){return e?Us(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends __{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vH(t){return n3(t.auth,new v_(t),t.bypassAuthState)}function AH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),ZU(n,new v_(t),t.bypassAuthState)}async function SH(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),WU(n,new v_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vH;case"linkViaPopup":case"linkViaRedirect":return SH;case"reauthViaPopup":case"reauthViaRedirect":return AH;default:xi(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=new _f(2e3,1e4);class ll extends f3{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=T_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xH.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="pendingRedirect",S0=new Map;class CH extends f3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=S0.get(this.auth._key());if(!e){try{const r=await IH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}S0.set(this.auth._key(),e)}return this.bypassAuthState||S0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IH(t,e){const n=kH(e),r=RH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function NH(t,e){S0.set(t._key(),e)}function RH(t){return Us(t._redirectPersistence)}function kH(t){return A0(wH,t.config.apiKey,t.name)}async function DH(t,e,n=!1){if(Ur(t.app))return Promise.reject(Hs(t));const r=eu(t),s=TH(r,e),u=await new CH(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=10*60*1e3;class LH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h3(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OH&&this.cachedEventUids.clear(),this.cachedEventUids.has(BS(e))}saveEventToCache(e){this.cachedEventUids.add(BS(e)),this.lastProcessedEventTime=Date.now()}}function BS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function PH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MH(t,e={}){return Za(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UH=/^https?/;async function HH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MH(t);for(const n of e)try{if(VH(n))return}catch{}xi(t,"unauthorized-domain")}function VH(t){const e=BE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!UH.test(n))return!1;if(BH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new _f(3e4,6e4);function US(){const t=is().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zH(t){return new Promise((e,n)=>{var r,s,o;function u(){US(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{US(),n(rs(t,"network-request-failed"))},timeout:FH.get()})}if(!((s=(r=is().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=is().gapi)===null||o===void 0)&&o.load)u();else{const c=OU("iframefcb");return is()[c]=()=>{gapi.load?u():n(rs(t,"network-request-failed"))},WN(`${DU()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw x0=null,e})}let x0=null;function jH(t){return x0=x0||zH(t),x0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH=new _f(5e3,15e3),YH="__/auth/iframe",GH="emulator/auth/iframe",$H={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XH(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g_(e,GH):`https://${t.config.authDomain}/${YH}`,r={apiKey:e.apiKey,appName:t.name,v:Bl},s=KH.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ff(r).slice(1)}`}async function QH(t){const e=await jH(t),n=is().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:XH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$H,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=rs(t,"network-request-failed"),c=is().setTimeout(()=>{o(u)},qH.get());function f(){is().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZH=500,JH=600,eV="_blank",tV="http://localhost";class HS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nV(t,e,n,r=ZH,s=JH){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},WH),{width:r.toString(),height:s.toString(),top:o,left:u}),h=tr().toLowerCase();n&&(c=qN(h)?eV:n),zN(h)&&(e=e||tV,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[T,w])=>`${b}${T}=${w},`,"");if(AU(h)&&c!=="_self")return rV(e||"",c),new HS(null);const y=window.open(e||"",c,p);Ge(y,t,"popup-blocked");try{y.focus()}catch{}return new HS(y)}function rV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="__/auth/handler",sV="emulator/auth/handler",aV=encodeURIComponent("fac");async function VS(t,e,n,r,s,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bl,eventId:s};if(e instanceof e3){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",SM(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))u[p]=y}if(e instanceof Tf){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(u.scopes=p.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${aV}=${encodeURIComponent(f)}`:"";return`${oV(t)}?${ff(c).slice(1)}${h}`}function oV({config:t}){return t.emulator?g_(t,sV):`https://${t.authDomain}/${iV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="webStorageSupport";class uV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o3,this._completeRedirectFn=DH,this._overrideRedirectResult=NH}async _openPopup(e,n,r,s){var o;Ys((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await VS(e,n,r,BE(),s);return nV(e,u,T_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await VS(e,n,r,BE(),s);return dH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Ys(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QH(e),r=new LH(e);return n.register("authEvent",s=>(Ge(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Oy,{type:Oy},s=>{var o;const u=(o=s?.[0])===null||o===void 0?void 0:o[Oy];u!==void 0&&n(!!u),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XN()||jN()||E_()}}const lV=uV;var FS="@firebase/auth",zS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(t){qo(new za("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Ge(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QN(t)},h=new NU(r,s,o,f);return HU(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new za("auth-internal",e=>{const n=eu(e.getProvider("auth").getImmediate());return(r=>new cV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(FS,zS,dV(t)),es(FS,zS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=5*60,mV=WC("authIdTokenMaxAge")||hV;let jS=null;const pV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mV)return;const s=n?.token;jS!==s&&(jS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function gV(t=N1()){const e=xm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UU(t,{popupRedirectResolver:lV,persistence:[bH,uH,o3]}),r=WC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=pV(o.toString());rH(n,u,()=>u(n.currentUser)),nH(n,c=>u(c))}}const s=KC("auth");return s&&VU(n,`http://${s}`),n}function yV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=rs("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",yV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="type.googleapis.com/google.protobuf.Int64Value",_V="type.googleapis.com/google.protobuf.UInt64Value";function m3(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function am(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>am(e));if(typeof t=="function"||typeof t=="object")return m3(t,e=>am(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ll(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case EV:case _V:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ll(e)):typeof t=="function"||typeof t=="object"?m3(t,e=>Ll(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class br extends us{constructor(e,n,r){super(`${A_}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,br.prototype)}}function bV(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function om(t,e){let n=bV(t),r=n,s;try{const o=e&&e.error;if(o){const u=o.status;if(typeof u=="string"){if(!qS[u])return new br("internal","internal");n=qS[u],r=u}const c=o.message;typeof c=="string"&&(r=c),s=o.details,s!==void 0&&(s=Ll(s))}}catch{}return n==="ok"?null:new br(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ur(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="us-central1",vV=/^data: (.*?)(?:\n|$)/;function AV(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new br("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class SV{constructor(e,n,r,s,o=FE,u=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new TV(e,n,r,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=FE}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function xV(t,e,n){const r=Qo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(x1(t.emulatorOrigin),w1("Functions",!0))}function wV(t,e,n){const r=s=>IV(t,e,s,{});return r.stream=(s,o)=>RV(t,e,s,o),r}async function CV(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function p3(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function IV(t,e,n,r){const s=t._url(e);return NV(t,s,n,r)}async function NV(t,e,n,r){n=am(n);const s={data:n},o=await p3(t,r),u=r.timeout||7e4,c=AV(u),f=await Promise.race([CV(e,s,o,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!f)throw new br("cancelled","Firebase Functions instance was deleted.");const h=om(f.status,f.json);if(h)throw h;if(!f.json)throw new br("internal","Response is not valid JSON object.");let p=f.json.data;if(typeof p>"u"&&(p=f.json.result),typeof p>"u")throw new br("internal","Response is missing data field.");return{data:Ll(p)}}function RV(t,e,n,r){const s=t._url(e);return kV(t,s,n,r||{})}async function kV(t,e,n,r){var s;n=am(n);const o={data:n},u=await p3(t,r);u["Content-Type"]="application/json",u.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:r?.signal})}catch(T){if(T instanceof Error&&T.name==="AbortError"){const R=new br("cancelled","Request was cancelled.");return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}const w=om(0,null);return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}let f,h;const p=new Promise((T,w)=>{f=T,h=w});(s=r?.signal)===null||s===void 0||s.addEventListener("abort",()=>{const T=new br("cancelled","Request was cancelled.");h(T)});const y=c.body.getReader(),b=DV(y,f,h,r?.signal);return{stream:{[Symbol.asyncIterator](){const T=b.getReader();return{async next(){const{value:w,done:R}=await T.read();return{value:w,done:R}},async return(){return await T.cancel(),{done:!0,value:void 0}}}}},data:p}}function DV(t,e,n,r){const s=(u,c)=>{const f=u.match(vV);if(!f)return;const h=f[1];try{const p=JSON.parse(h);if("result"in p){e(Ll(p.result));return}if("message"in p){c.enqueue(Ll(p.message));return}if("error"in p){const y=om(0,p);c.error(y),n(y);return}}catch(p){if(p instanceof br){c.error(p),n(p);return}}},o=new TextDecoder;return new ReadableStream({start(u){let c="";return f();async function f(){if(r?.aborted){const h=new br("cancelled","Request was cancelled");return u.error(h),n(h),Promise.resolve()}try{const{value:h,done:p}=await t.read();if(p){c.trim()&&s(c.trim(),u),u.close();return}if(r?.aborted){const b=new br("cancelled","Request was cancelled");u.error(b),n(b),await t.cancel();return}c+=o.decode(h,{stream:!0});const y=c.split(`
`);c=y.pop()||"";for(const b of y)b.trim()&&s(b.trim(),u);return f()}catch(h){const p=h instanceof br?h:om(0,null);u.error(p),n(p)}}},cancel(){return t.cancel()}})}const YS="@firebase/functions",GS="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="auth-internal",LV="app-check-internal",PV="messaging-internal";function MV(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(OV),u=n.getProvider(PV),c=n.getProvider(LV);return new SV(s,o,u,c,r)};qo(new za(A_,e,"PUBLIC").setMultipleInstances(!0)),es(YS,GS,t),es(YS,GS,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t=N1(),e=FE){const r=xm(on(t),A_).getImmediate({identifier:e}),s=XC("functions");return s&&g3(r,...s),r}function g3(t,e,n){xV(on(t),e,n)}function y3(t,e,n){return wV(on(t),e)}MV();const UV={apiKey:"AIzaSyAO9TXM7A0SNeiEXzYo27fW0wdTXqXDEyc",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},S_=eI(UV),wi=MB(S_),um=gV(S_),x_=BV(S_,"us-central1");g3(x_,"localhost",5001);const qr={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},ur={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function HV(){const[t,e]=Z.useState(""),[n,r]=Z.useState(""),[s,o]=Z.useState(!1),[u,c]=Z.useState(!1),[f,h]=Z.useState(""),p=async b=>{b.preventDefault(),c(!0),h("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(ur.INVALID_EMAIL);if(n.length<6)throw new Error(ur.WEAK_PASSWORD);const w=await eH(um,t,n);console.log("User created successfully:",w.user.uid)}catch(T){console.error("Sign up error:",T);let w="Failed to create account";T.code==="auth/email-already-in-use"?w=ur.EMAIL_IN_USE:T.code==="auth/invalid-email"?w=ur.INVALID_EMAIL:T.code==="auth/weak-password"?w=ur.WEAK_PASSWORD:T.code==="auth/operation-not-allowed"?w="Email/password accounts are not enabled. Please contact support.":T.message&&(w=T.message),h(w)}finally{c(!1)}},y=async b=>{b.preventDefault(),c(!0),h("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(ur.INVALID_EMAIL);const w=await tH(um,t,n);console.log("User signed in successfully:",w.user.uid)}catch(T){console.error("Sign in error:",T);let w="Failed to sign in";T.code==="auth/user-not-found"?w=ur.USER_NOT_FOUND:T.code==="auth/wrong-password"?w=ur.WRONG_PASSWORD:T.code==="auth/invalid-email"?w=ur.INVALID_EMAIL:T.code==="auth/user-disabled"?w="This account has been disabled. Please contact support.":T.code==="auth/too-many-requests"?w=ur.TOO_MANY_REQUESTS:T.message&&(w=T.message),h(w)}finally{c(!1)}};return L.jsx("div",{className:"fixed inset-0 bg-[#1a1a1d]/90 dark:bg-[#1a1a1d]/90 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:L.jsxs("div",{className:`bg-[#222226] dark:bg-[#222226] rounded-2xl shadow-[0_24px_48px_rgba(0,0,0,0.7),0_10px_20px_rgba(0,0,0,0.5)] 
                          p-8 w-full max-w-md border border-white/12 dark:border-white/12`,children:[L.jsxs("div",{className:"text-center mb-8",children:[L.jsx("div",{className:"flex items-center justify-center mb-4",children:L.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:L.jsx("span",{className:"text-white font-bold text-lg",children:"T"})})}),L.jsx("h2",{className:"text-2xl font-bold text-[#f8faff] dark:text-[#f8faff] mb-2",children:s?"Join TinkFlow":"Welcome Back"}),L.jsx("p",{className:"text-[#b0b3b8] dark:text-[#b0b3b8] text-sm",children:s?"Start your AI-powered learning journey":"Continue exploring concepts with AI"})]}),L.jsxs("form",{onSubmit:s?p:y,className:"space-y-6",children:[L.jsx("div",{children:L.jsx("input",{type:"email",placeholder:"Email address",value:t,onChange:b=>e(b.target.value),required:!0,className:`w-full px-4 py-3 bg-[#2a2a2e] dark:bg-[#2a2a2e] border border-white/15 dark:border-white/15 
                                     rounded-lg text-[#f8faff] dark:text-[#f8faff] placeholder-[#8b949e] dark:placeholder-[#8b949e] 
                                     focus:outline-none focus:border-[#5a9cf8] dark:focus:border-[#5a9cf8] focus:shadow-[0_0_0_3px_rgba(90,156,248,0.25)]
                                     transition-all duration-200`})}),L.jsx("div",{children:L.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:b=>r(b.target.value),required:!0,className:`w-full px-4 py-3 bg-[#2a2a2e] dark:bg-[#2a2a2e] border border-white/15 dark:border-white/15 
                                     rounded-lg text-[#f8faff] dark:text-[#f8faff] placeholder-[#8b949e] dark:placeholder-[#8b949e] 
                                     focus:outline-none focus:border-[#5a9cf8] dark:focus:border-[#5a9cf8] focus:shadow-[0_0_0_3px_rgba(90,156,248,0.25)]
                                     transition-all duration-200`})}),L.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 rounded-lg font-semibold text-white transition-all duration-200 
                                   ${u?"bg-[#3a3a3e] dark:bg-[#3a3a3e] cursor-not-allowed opacity-60":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 active:from-indigo-700 active:to-purple-800 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}
                                   focus:outline-none focus:shadow-[0_0_0_3px_rgba(99,102,241,0.4)]`,children:u?L.jsx("div",{className:"inline-block w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s?"Create Account":"Sign In"}),f&&L.jsx("div",{className:`bg-red-900/20 dark:bg-red-900/30 border border-red-500/30 dark:border-red-500/40 
                                       rounded-lg p-3 text-red-400 dark:text-red-400 text-sm`,children:f})]}),L.jsxs("div",{className:"auth-switch text-center mt-6",children:[L.jsx("span",{className:"auth-switch-text text-gray-400 dark:text-gray-400 text-sm",children:s?"Already have an account?":"Don't have an account?"}),L.jsx("button",{type:"button",onClick:()=>o(!s),className:`auth-switch-btn ml-2 text-blue-400 dark:text-blue-400 hover:text-blue-300 dark:hover:text-blue-300 
                                 text-sm font-medium transition-colors duration-200 bg-transparent border-none cursor-pointer`,children:s?"Sign In":"Sign Up"})]})]})})}function VV({show:t,onHide:e,onConfirm:n,isCreating:r=!1}){const[s,o]=Z.useState(""),[u,c]=Z.useState(!0),f=b=>{const T=b.target.value;o(T),c(T.trim().length>0&&T.trim().length<=50)},h=b=>{b.preventDefault();const T=s.trim();T.length>0&&T.length<=50&&(n(T),o(""),c(!0))},p=()=>{o(""),c(!0),e()},y=b=>{b.key==="Enter"&&h(b)};return t?L.jsx("div",{className:"board-name-modal fixed inset-0 bg-black/60 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-[2001]",children:L.jsxs("div",{className:"bg-gray-800 dark:bg-gray-900 rounded-xl shadow-2xl p-6 w-full max-w-md border border-gray-700 dark:border-gray-600",children:[L.jsxs("div",{className:"flex justify-between items-center mb-6",children:[L.jsx("h3",{className:"text-lg font-semibold text-white dark:text-white",children:"Create New Board"}),L.jsx("button",{onClick:p,className:`text-gray-400 dark:text-gray-400 hover:text-gray-200 dark:hover:text-gray-200 
                                 bg-gray-700/50 dark:bg-gray-800/50 hover:bg-gray-600/50 dark:hover:bg-gray-700/50
                                 border border-gray-600 dark:border-gray-700 rounded-lg w-8 h-8 flex items-center justify-center
                                 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500/20`,"aria-label":"Close",children:""})]}),L.jsxs("form",{onSubmit:h,className:"space-y-4",children:[L.jsxs("div",{children:[L.jsx("label",{className:"block text-sm font-medium text-gray-300 dark:text-gray-300 mb-2",children:"Board Name"}),L.jsx("input",{type:"text",value:s,onChange:f,onKeyDown:y,placeholder:"Enter board name...",maxLength:50,autoFocus:!0,className:`w-full px-4 py-3 bg-gray-700/50 dark:bg-gray-800/50 border rounded-lg 
                                       text-white dark:text-white placeholder-gray-400 dark:placeholder-gray-500 
                                       focus:outline-none focus:ring-2 focus:ring-blue-500/40 dark:focus:ring-blue-400/40 
                                       transition-all duration-200 font-medium
                                       ${u?"border-gray-600/50 dark:border-gray-700/50 focus:border-blue-500/60 dark:focus:border-blue-400/60":"border-red-500/60 dark:border-red-500/60 focus:border-red-500/60 dark:focus:border-red-500/60"}`}),!u&&L.jsx("p",{className:"text-red-400 dark:text-red-400 text-sm mt-2",children:"Board name must be between 1 and 50 characters long."}),L.jsxs("p",{className:`text-xs mt-1 ${s.length===50?"text-red-400 dark:text-red-400":"text-gray-500 dark:text-gray-500"}`,children:[s.length,"/50 characters"]})]}),L.jsxs("div",{className:"flex gap-3 pt-4",children:[L.jsx("button",{type:"button",onClick:p,disabled:r,className:`flex-1 px-4 py-3 bg-gray-700/50 dark:bg-gray-800/50 border border-gray-600/50 dark:border-gray-700/50
                                     text-gray-300 dark:text-gray-300 rounded-lg font-medium transition-all duration-200
                                     hover:bg-gray-600/60 dark:hover:bg-gray-700/60 hover:border-gray-500/60 dark:hover:border-gray-600/60
                                     disabled:opacity-50 disabled:cursor-not-allowed
                                     focus:outline-none focus:ring-2 focus:ring-gray-500/20 dark:focus:ring-gray-400/20`,children:"Cancel"}),L.jsx("button",{type:"submit",disabled:!u||s.trim().length===0||r,className:`flex-1 px-4 py-3 bg-blue-600/80 dark:bg-blue-500/80 border border-blue-500/50 dark:border-blue-400/50
                                     text-white rounded-lg font-medium transition-all duration-200 
                                     disabled:opacity-50 disabled:cursor-not-allowed
                                     hover:bg-blue-500/90 dark:hover:bg-blue-400/90 hover:border-blue-400/60 dark:hover:border-blue-300/60
                                     focus:outline-none focus:ring-2 focus:ring-blue-500/40 dark:focus:ring-blue-400/40`,children:r?"Creating...":"Create Board"})]})]})]})}):null}function FV({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:o,isLoading:u}){const[c,f]=Z.useState(!1),[h,p]=Z.useState(!1),[y,b]=Z.useState(null),T=async D=>{try{f(!0),await r(D),p(!1)}catch(Y){console.error("Error in sidebar create board:",Y)}finally{f(!1)}},w=()=>{p(!0)},R=()=>{p(!1)},P=(D,Y)=>{D.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(Y)};return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"fixed left-0 top-0 w-[440px] h-screen bg-[#222226] dark:bg-[#222226] border-r border-white/10 dark:border-white/10 flex flex-col z-[1001] transition-transform duration-[0.35s] ease-[cubic-bezier(0.4,0,0.2,1)]",children:L.jsxs("div",{className:"flex flex-col h-full",children:[L.jsxs("div",{className:"p-[22px] border-b border-white/[0.08] dark:border-white/[0.08] bg-white/[0.03] dark:bg-white/[0.03]",children:[L.jsx("h2",{className:"m-0 mb-[18px] text-[18px] font-semibold text-[#f8faff] dark:text-[#f8faff] tracking-[-0.012em]",children:"TinkFlow Boards"}),L.jsx("button",{onClick:w,disabled:u||c,className:`w-full bg-[#2f2f33] dark:bg-[#2f2f33] text-[#f8faff] dark:text-[#f8faff] border border-white/12 dark:border-white/12 
                                      px-4 py-[10px] rounded-md cursor-pointer text-[13px] font-semibold transition-all duration-200 
                                      tracking-[0.015em] uppercase
                                      ${u||c?"cursor-not-allowed opacity-60":"hover:bg-[#3a3a3e] dark:hover:bg-[#3a3a3e] hover:border-white/18 dark:hover:border-white/18 hover:-translate-y-0.5"}`,children:c?"Creating...":"+ New Board"})]}),L.jsx("div",{className:"flex-1 overflow-y-auto p-[14px] scrollbar-thin scrollbar-track-[#2a2a2e] scrollbar-thumb-[#4a4a4e] hover:scrollbar-thumb-[#5a5a5e]",children:t.map(D=>{const Y=e?.id===D.id,$=y===D.id;return L.jsxs("div",{onClick:()=>!u&&n(D.id),onMouseEnter:()=>b(D.id),onMouseLeave:()=>b(null),className:`
                                        min-h-[54px] px-[18px] py-[14px] mb-[8px] rounded-[12px] flex justify-between items-center
                                        transition-all duration-200 cursor-pointer border font-medium text-[14px] leading-[1.4]
                                        ${u?"cursor-not-allowed opacity-60":"cursor-pointer"}
                                        ${Y?"border-[#4a90e2] bg-[#2a3850] dark:bg-[#2a3850] text-[#f8faff] dark:text-[#f8faff] font-semibold shadow-[0_2px_8px_rgba(74,144,226,0.3)] transform translate-y-[-1px]":$?"border-white/20 dark:border-white/20 bg-[#2a2a2e] dark:bg-[#2a2a2e] text-[#e8eaed] dark:text-[#e8eaed] shadow-[0_2px_8px_rgba(0,0,0,0.3)] transform translate-y-[-1px]":"border-white/10 dark:border-white/10 bg-[#1e1e22] dark:bg-[#1e1e22] text-[#b0b3b8] dark:text-[#b0b3b8]"}
                                    `,role:"button",tabIndex:0,onKeyDown:G=>{(G.key==="Enter"||G.key===" ")&&!u&&n(D.id)},children:[L.jsx("span",{className:`
                                        ${Y?"font-bold":"font-medium"} 
                                        text-lg flex-1 whitespace-nowrap overflow-hidden text-ellipsis 
                                        tracking-wide leading-5
                                    `,children:D.name}),L.jsxs("div",{className:"flex items-center gap-2",children:[D.isOpen&&L.jsx("span",{className:"text-blue-400 dark:text-blue-400 text-lg",children:""}),t.length>1&&L.jsx("button",{onClick:G=>{G.stopPropagation(),P(G,D.id)},title:"Delete board",className:`
                                                    bg-transparent border-none text-red-400 dark:text-red-400 
                                                    cursor-pointer text-xl leading-none px-1 transition-opacity duration-150
                                                    ${$?"opacity-100 visible":"opacity-0 invisible"}
                                                    hover:text-red-300 dark:hover:text-red-300
                                                `,children:""})]})]},D.id)})}),u&&L.jsx("div",{className:"p-4 text-center text-[#b0b3b8] dark:text-[#b0b3b8] text-[13px] font-medium",children:"Loading boards..."}),L.jsx("div",{className:"p-[22px] border-t border-white/[0.08] dark:border-white/[0.08]",children:L.jsx("button",{onClick:o,className:`w-full px-4 py-[10px] rounded-md border border-white/12 dark:border-white/12 
                                     bg-transparent text-[#b0b3b8] dark:text-[#b0b3b8] cursor-pointer text-[13px] font-semibold
                                     transition-all duration-200 tracking-[0.015em] uppercase
                                     hover:bg-[#2a2a2e] dark:hover:bg-[#2a2a2e] hover:border-white/18 dark:hover:border-white/18 
                                     hover:text-[#e8eaed] dark:hover:text-[#e8eaed] hover:-translate-y-0.5`,children:"Sign Out"})})]})}),L.jsx(VV,{show:h,onHide:R,onConfirm:T,isCreating:c})]})}function $S(t){const e=[],n=String(t||"");let r=n.indexOf(","),s=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const u=n.slice(s,r).trim();(u||!o)&&e.push(u),s=r+1,r=n.indexOf(",",s)}return e}function E3(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const zV=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,jV=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qV={};function KS(t,e){return(qV.jsx?jV:zV).test(t)}const YV=/[ \t\n\f\r]/g;function GV(t){return typeof t=="object"?t.type==="text"?XS(t.value):!1:XS(t)}function XS(t){return t.replace(YV,"")===""}let Af=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Af.prototype.normal={};Af.prototype.property={};Af.prototype.space=void 0;function _3(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Af(n,r,e)}function nf(t){return t.toLowerCase()}let vr=class{constructor(e,n){this.attribute=n,this.property=e}};vr.prototype.attribute="";vr.prototype.booleanish=!1;vr.prototype.boolean=!1;vr.prototype.commaOrSpaceSeparated=!1;vr.prototype.commaSeparated=!1;vr.prototype.defined=!1;vr.prototype.mustUseProperty=!1;vr.prototype.number=!1;vr.prototype.overloadedBoolean=!1;vr.prototype.property="";vr.prototype.spaceSeparated=!1;vr.prototype.space=void 0;let $V=0;const nt=tu(),_n=tu(),zE=tu(),Re=tu(),Ht=tu(),bl=tu(),Pr=tu();function tu(){return 2**++$V}const jE=Object.freeze(Object.defineProperty({__proto__:null,boolean:nt,booleanish:_n,commaOrSpaceSeparated:Pr,commaSeparated:bl,number:Re,overloadedBoolean:zE,spaceSeparated:Ht},Symbol.toStringTag,{value:"Module"})),Ly=Object.keys(jE);let w_=class extends vr{constructor(e,n,r,s){let o=-1;if(super(e,n),QS(this,"space",s),typeof r=="number")for(;++o<Ly.length;){const u=Ly[o];QS(this,Ly[o],(r&jE[u])===jE[u])}}};w_.prototype.defined=!0;function QS(t,e,n){n&&(t[e]=n)}function Yl(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const o=new w_(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[nf(r)]=r,n[nf(o.attribute)]=r}return new Af(e,n,t.space)}const b3=Yl({properties:{ariaActiveDescendant:null,ariaAtomic:_n,ariaAutoComplete:null,ariaBusy:_n,ariaChecked:_n,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:Ht,ariaCurrent:null,ariaDescribedBy:Ht,ariaDetails:null,ariaDisabled:_n,ariaDropEffect:Ht,ariaErrorMessage:null,ariaExpanded:_n,ariaFlowTo:Ht,ariaGrabbed:_n,ariaHasPopup:null,ariaHidden:_n,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ht,ariaLevel:Re,ariaLive:null,ariaModal:_n,ariaMultiLine:_n,ariaMultiSelectable:_n,ariaOrientation:null,ariaOwns:Ht,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:_n,ariaReadOnly:_n,ariaRelevant:null,ariaRequired:_n,ariaRoleDescription:Ht,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:_n,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function T3(t,e){return e in t?t[e]:e}function v3(t,e){return T3(t,e.toLowerCase())}const KV=Yl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bl,acceptCharset:Ht,accessKey:Ht,action:null,allow:null,allowFullScreen:nt,allowPaymentRequest:nt,allowUserMedia:nt,alt:null,as:null,async:nt,autoCapitalize:null,autoComplete:Ht,autoFocus:nt,autoPlay:nt,blocking:Ht,capture:null,charSet:null,checked:nt,cite:null,className:Ht,cols:Re,colSpan:null,content:null,contentEditable:_n,controls:nt,controlsList:Ht,coords:Re|bl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nt,defer:nt,dir:null,dirName:null,disabled:nt,download:zE,draggable:_n,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nt,formTarget:null,headers:Ht,height:Re,hidden:zE,high:Re,href:null,hrefLang:null,htmlFor:Ht,httpEquiv:Ht,id:null,imageSizes:null,imageSrcSet:null,inert:nt,inputMode:null,integrity:null,is:null,isMap:nt,itemId:null,itemProp:Ht,itemRef:Ht,itemScope:nt,itemType:Ht,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nt,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:nt,muted:nt,name:null,nonce:null,noModule:nt,noValidate:nt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nt,optimum:Re,pattern:null,ping:Ht,placeholder:null,playsInline:nt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nt,referrerPolicy:null,rel:Ht,required:nt,reversed:nt,rows:Re,rowSpan:Re,sandbox:Ht,scope:null,scoped:nt,seamless:nt,selected:nt,shadowRootClonable:nt,shadowRootDelegatesFocus:nt,shadowRootMode:null,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:_n,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:nt,useMap:null,value:_n,width:Re,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ht,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nt,declare:nt,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:nt,noHref:nt,noShade:nt,noWrap:nt,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:_n,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nt,disableRemotePlayback:nt,prefix:null,property:null,results:Re,security:null,unselectable:null},space:"html",transform:v3}),XV=Yl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pr,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:Ht,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:nt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bl,g2:bl,glyphName:bl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:Pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ht,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pr,rev:Pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pr,requiredFeatures:Pr,requiredFonts:Pr,requiredFormats:Pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:Pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pr,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:T3}),A3=Yl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),S3=Yl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:v3}),x3=Yl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),QV={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},WV=/[A-Z]/g,WS=/-[a-z]/g,ZV=/^data[-\w.:]+$/i;function C_(t,e){const n=nf(e);let r=e,s=vr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&ZV.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(WS,eF);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!WS.test(o)){let u=o.replace(WV,JV);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=w_}return new s(r,e)}function JV(t){return"-"+t.toLowerCase()}function eF(t){return t.charAt(1).toUpperCase()}const $m=_3([b3,KV,A3,S3,x3],"html"),Gl=_3([b3,XV,A3,S3,x3],"svg");function ZS(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function w3(t){return t.join(" ").trim()}var Ju={},Py,JS;function tF(){if(JS)return Py;JS=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,h="/",p="*",y="",b="comment",T="declaration";Py=function(R,P){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];P=P||{};var D=1,Y=1;function $(C){var O=C.match(e);O&&(D+=O.length);var X=C.lastIndexOf(f);Y=~X?C.length-X:Y+C.length}function G(){var C={line:D,column:Y};return function(O){return O.position=new te(C),N(),O}}function te(C){this.start=C,this.end={line:D,column:Y},this.source=P.source}te.prototype.content=R;function q(C){var O=new Error(P.source+":"+D+":"+Y+": "+C);if(O.reason=C,O.filename=P.source,O.line=D,O.column=Y,O.source=R,!P.silent)throw O}function M(C){var O=C.exec(R);if(O){var X=O[0];return $(X),R=R.slice(X.length),O}}function N(){M(n)}function k(C){var O;for(C=C||[];O=U();)O!==!1&&C.push(O);return C}function U(){var C=G();if(!(h!=R.charAt(0)||p!=R.charAt(1))){for(var O=2;y!=R.charAt(O)&&(p!=R.charAt(O)||h!=R.charAt(O+1));)++O;if(O+=2,y===R.charAt(O-1))return q("End of comment missing");var X=R.slice(2,O-2);return Y+=2,$(X),R=R.slice(O),Y+=2,C({type:b,comment:X})}}function B(){var C=G(),O=M(r);if(O){if(U(),!M(s))return q("property missing ':'");var X=M(o),F=C({type:T,property:w(O[0].replace(t,y)),value:X?w(X[0].replace(t,y)):y});return M(u),F}}function V(){var C=[];k(C);for(var O;O=B();)O!==!1&&(C.push(O),k(C));return C}return N(),V()};function w(R){return R?R.replace(c,y):y}return Py}var ex;function nF(){if(ex)return Ju;ex=1;var t=Ju&&Ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.default=n;var e=t(tF());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),c=typeof s=="function";return u.forEach(function(f){if(f.type==="declaration"){var h=f.property,p=f.value;c?s(h,p,f):p&&(o=o||{},o[h]=p)}}),o}return Ju}var id={},tx;function rF(){if(tx)return id;tx=1,Object.defineProperty(id,"__esModule",{value:!0}),id.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(h){return!h||n.test(h)||t.test(h)},u=function(h,p){return p.toUpperCase()},c=function(h,p){return"".concat(p,"-")},f=function(h,p){return p===void 0&&(p={}),o(h)?h:(h=h.toLowerCase(),p.reactCompat?h=h.replace(s,c):h=h.replace(r,c),h.replace(e,u))};return id.camelCase=f,id}var sd,nx;function iF(){if(nx)return sd;nx=1;var t=sd&&sd.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(nF()),n=rF();function r(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(c,f){c&&f&&(u[(0,n.camelCase)(c,o)]=f)}),u}return r.default=r,sd=r,sd}var sF=iF();const aF=hm(sF),Km=C3("end"),ls=C3("start");function C3(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function oF(t){const e=ls(t),n=Km(t);if(e&&n)return{start:e,end:n}}function Cd(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?rx(t.position):"start"in t||"end"in t?rx(t):"line"in t||"column"in t?qE(t):""}function qE(t){return ix(t&&t.line)+":"+ix(t&&t.column)}function rx(t){return qE(t&&t.start)+"-"+qE(t&&t.end)}function ix(t){return t&&typeof t=="number"?t:1}class nr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=Cd(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}nr.prototype.file="";nr.prototype.name="";nr.prototype.reason="";nr.prototype.message="";nr.prototype.stack="";nr.prototype.column=void 0;nr.prototype.line=void 0;nr.prototype.ancestors=void 0;nr.prototype.cause=void 0;nr.prototype.fatal=void 0;nr.prototype.place=void 0;nr.prototype.ruleId=void 0;nr.prototype.source=void 0;const I_={}.hasOwnProperty,uF=new Map,lF=/[A-Z]/g,cF=new Set(["table","tbody","thead","tfoot","tr"]),dF=new Set(["td","th"]),I3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fF(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bF(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=_F(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Gl:$m,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=N3(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function N3(t,e,n){if(e.type==="element")return hF(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return mF(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return gF(t,e,n);if(e.type==="mdxjsEsm")return pF(t,e);if(e.type==="root")return yF(t,e,n);if(e.type==="text")return EF(t,e)}function hF(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Gl,t.schema=s),t.ancestors.push(e);const o=k3(t,e.tagName,!1),u=TF(t,e);let c=R_(t,e);return cF.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!GV(f):!0})),R3(t,u,o,e),N_(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function mF(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}rf(t,e.position)}function pF(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);rf(t,e.position)}function gF(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=Gl,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:k3(t,e.name,!0),u=vF(t,e),c=R_(t,e);return R3(t,u,o,e),N_(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function yF(t,e,n){const r={};return N_(r,R_(t,e)),t.create(e,t.Fragment,r,n)}function EF(t,e){return e.value}function R3(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function N_(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function _F(t,e,n){return r;function r(s,o,u,c){const h=Array.isArray(u.children)?n:e;return c?h(o,u,c):h(o,u)}}function bF(t,e){return n;function n(r,s,o,u){const c=Array.isArray(o.children),f=ls(r);return e(s,o,u,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function TF(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&I_.call(e.properties,s)){const o=AF(t,s,e.properties[s]);if(o){const[u,c]=o;t.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&dF.has(e.tagName)?r=c:n[u]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function vF(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else rf(t,e.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,o=t.evaluater.evaluateExpression(c.expression)}else rf(t,e.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function R_(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:uF;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const h=s.get(f)||0;u=f+"-"+h,s.set(f,h+1)}}const c=N3(t,o,u);c!==void 0&&n.push(c)}return n}function AF(t,e,n){const r=C_(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?E3(n):w3(n)),r.property==="style"){let s=typeof n=="object"?n:SF(t,String(n));return t.stylePropertyNameCase==="css"&&(s=xF(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?QV[r.property]||r.property:r.attribute,n]}}function SF(t,e){try{return aF(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new nr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=I3+"#cannot-parse-style-attribute",s}}function k3(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const c=KS(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=u}else r=KS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return I_.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);rf(t)}function rf(t,e){const n=new nr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=I3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xF(t){const e={};let n;for(n in t)I_.call(t,n)&&(e[wF(n)]=t[n]);return e}function wF(t){let e=t.replace(lF,CF);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function CF(t){return"-"+t.toLowerCase()}const My={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},IF={};function NF(t,e){const n=IF,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return D3(t,r,s)}function D3(t,e,n){if(RF(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return sx(t.children,e,n)}return Array.isArray(t)?sx(t,e,n):""}function sx(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=D3(t[s],e,n);return r.join("")}function RF(t){return!!(t&&typeof t=="object")}const ax=document.createElement("i");function k_(t){const e="&"+t+";";ax.innerHTML=e;const n=ax.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function as(t,e,n,r){const s=t.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function ui(t,e){return t.length>0?(as(t,t.length,0,e),t):e}const ox={}.hasOwnProperty;function kF(t){const e={};let n=-1;for(;++n<t.length;)DF(e,t[n]);return e}function DF(t,e){let n;for(n in e){const s=(ox.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){ox.call(s,u)||(s[u]=[]);const c=o[u];OF(s[u],Array.isArray(c)?c:c?[c]:[])}}}function OF(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);as(t,0,0,r)}function O3(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Tl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zi=Ja(/[A-Za-z]/),Vr=Ja(/[\dA-Za-z]/),LF=Ja(/[#-'*+\--9=?A-Z^-~]/);function YE(t){return t!==null&&(t<32||t===127)}const GE=Ja(/\d/),PF=Ja(/[\dA-Fa-f]/),MF=Ja(/[!-/:-@[-`{-~]/);function Xe(t){return t!==null&&t<-2}function Tr(t){return t!==null&&(t<0||t===32)}function wt(t){return t===-2||t===-1||t===32}const BF=Ja(new RegExp("\\p{P}|\\p{S}","u")),UF=Ja(/\s/);function Ja(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function $l(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&Vr(t.charCodeAt(n+1))&&Vr(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(u=String.fromCharCode(o,c),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function Ft(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return wt(f)?(t.enter(n),c(f)):e(f)}function c(f){return wt(f)&&o++<s?(t.consume(f),c):(t.exit(n),e(f))}}const HF={tokenize:VF};function VF(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Ft(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),o(c)}function o(c){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(c)}function u(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Xe(c)?(t.consume(c),t.exit("chunkText"),o):(t.consume(c),u)}}const FF={tokenize:zF},ux={tokenize:jF};function zF(t){const e=this,n=[];let r=0,s,o,u;return c;function c($){if(r<n.length){const G=n[r];return e.containerState=G[1],t.attempt(G[0].continuation,f,h)($)}return h($)}function f($){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&Y();const G=e.events.length;let te=G,q;for(;te--;)if(e.events[te][0]==="exit"&&e.events[te][1].type==="chunkFlow"){q=e.events[te][1].end;break}D(r);let M=G;for(;M<e.events.length;)e.events[M][1].end={...q},M++;return as(e.events,te+1,0,e.events.slice(G)),e.events.length=M,h($)}return c($)}function h($){if(r===n.length){if(!s)return b($);if(s.currentConstruct&&s.currentConstruct.concrete)return w($);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(ux,p,y)($)}function p($){return s&&Y(),D(r),b($)}function y($){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,w($)}function b($){return e.containerState={},t.attempt(ux,T,w)($)}function T($){return r++,n.push([e.currentConstruct,e.containerState]),b($)}function w($){if($===null){s&&Y(),D(0),t.consume($);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),R($)}function R($){if($===null){P(t.exit("chunkFlow"),!0),D(0),t.consume($);return}return Xe($)?(t.consume($),P(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume($),R)}function P($,G){const te=e.sliceStream($);if(G&&te.push(null),$.previous=o,o&&(o.next=$),o=$,s.defineSkip($.start),s.write(te),e.parser.lazy[$.start.line]){let q=s.events.length;for(;q--;)if(s.events[q][1].start.offset<u&&(!s.events[q][1].end||s.events[q][1].end.offset>u))return;const M=e.events.length;let N=M,k,U;for(;N--;)if(e.events[N][0]==="exit"&&e.events[N][1].type==="chunkFlow"){if(k){U=e.events[N][1].end;break}k=!0}for(D(r),q=M;q<e.events.length;)e.events[q][1].end={...U},q++;as(e.events,N+1,0,e.events.slice(M)),e.events.length=q}}function D($){let G=n.length;for(;G-- >$;){const te=n[G];e.containerState=te[1],te[0].exit.call(e,t)}n.length=$}function Y(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function jF(t,e,n){return Ft(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lx(t){if(t===null||Tr(t)||UF(t))return 1;if(BF(t))return 2}function D_(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const $E={name:"attention",resolveAll:qF,tokenize:YF};function qF(t,e){let n=-1,r,s,o,u,c,f,h,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y={...t[r][1].end},b={...t[n][1].start};cx(y,-f),cx(b,f),u={type:f>1?"strongSequence":"emphasisSequence",start:y,end:{...t[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},o={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},t[r][1].end={...u.start},t[n][1].start={...c.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=ui(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=ui(h,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),h=ui(h,D_(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=ui(h,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,h=ui(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,as(t,r-1,n-r+3,h),n=r+h.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function YF(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=lx(r);let o;return u;function u(f){return o=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===o)return t.consume(f),c;const h=t.exit("attentionSequence"),p=lx(f),y=!p||p===2&&s||n.includes(f),b=!s||s===2&&p||n.includes(r);return h._open=!!(o===42?y:y&&(s||!b)),h._close=!!(o===42?b:b&&(p||!y)),e(f)}}function cx(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const GF={name:"autolink",tokenize:$F};function $F(t,e,n){let r=0;return s;function s(T){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(T){return Zi(T)?(t.consume(T),u):T===64?n(T):h(T)}function u(T){return T===43||T===45||T===46||Vr(T)?(r=1,c(T)):h(T)}function c(T){return T===58?(t.consume(T),r=0,f):(T===43||T===45||T===46||Vr(T))&&r++<32?(t.consume(T),c):(r=0,h(T))}function f(T){return T===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):T===null||T===32||T===60||YE(T)?n(T):(t.consume(T),f)}function h(T){return T===64?(t.consume(T),p):LF(T)?(t.consume(T),h):n(T)}function p(T){return Vr(T)?y(T):n(T)}function y(T){return T===46?(t.consume(T),r=0,p):T===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):b(T)}function b(T){if((T===45||Vr(T))&&r++<63){const w=T===45?b:y;return t.consume(T),w}return n(T)}}const Xm={partial:!0,tokenize:KF};function KF(t,e,n){return r;function r(o){return wt(o)?Ft(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||Xe(o)?e(o):n(o)}}const L3={continuation:{tokenize:QF},exit:WF,name:"blockQuote",tokenize:XF};function XF(t,e,n){const r=this;return s;function s(u){if(u===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return wt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function QF(t,e,n){const r=this;return s;function s(u){return wt(u)?Ft(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(L3,e,n)(u)}}function WF(t){t.exit("blockQuote")}const P3={name:"characterEscape",tokenize:ZF};function ZF(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return MF(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const M3={name:"characterReference",tokenize:JF};function JF(t,e,n){const r=this;let s=0,o,u;return c;function c(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),f}function f(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),o=31,u=Vr,p(y))}function h(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=PF,p):(t.enter("characterReferenceValue"),o=7,u=GE,p(y))}function p(y){if(y===59&&s){const b=t.exit("characterReferenceValue");return u===Vr&&!k_(r.sliceSerialize(b))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(y)&&s++<o?(t.consume(y),p):n(y)}}const dx={partial:!0,tokenize:tz},fx={concrete:!0,name:"codeFenced",tokenize:ez};function ez(t,e,n){const r=this,s={partial:!0,tokenize:te};let o=0,u=0,c;return f;function f(q){return h(q)}function h(q){const M=r.events[r.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,c=q,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(q)}function p(q){return q===c?(u++,t.consume(q),p):u<3?n(q):(t.exit("codeFencedFenceSequence"),wt(q)?Ft(t,y,"whitespace")(q):y(q))}function y(q){return q===null||Xe(q)?(t.exit("codeFencedFence"),r.interrupt?e(q):t.check(dx,R,G)(q)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(q))}function b(q){return q===null||Xe(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(q)):wt(q)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ft(t,T,"whitespace")(q)):q===96&&q===c?n(q):(t.consume(q),b)}function T(q){return q===null||Xe(q)?y(q):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(q))}function w(q){return q===null||Xe(q)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(q)):q===96&&q===c?n(q):(t.consume(q),w)}function R(q){return t.attempt(s,G,P)(q)}function P(q){return t.enter("lineEnding"),t.consume(q),t.exit("lineEnding"),D}function D(q){return o>0&&wt(q)?Ft(t,Y,"linePrefix",o+1)(q):Y(q)}function Y(q){return q===null||Xe(q)?t.check(dx,R,G)(q):(t.enter("codeFlowValue"),$(q))}function $(q){return q===null||Xe(q)?(t.exit("codeFlowValue"),Y(q)):(t.consume(q),$)}function G(q){return t.exit("codeFenced"),e(q)}function te(q,M,N){let k=0;return U;function U(X){return q.enter("lineEnding"),q.consume(X),q.exit("lineEnding"),B}function B(X){return q.enter("codeFencedFence"),wt(X)?Ft(q,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):V(X)}function V(X){return X===c?(q.enter("codeFencedFenceSequence"),C(X)):N(X)}function C(X){return X===c?(k++,q.consume(X),C):k>=u?(q.exit("codeFencedFenceSequence"),wt(X)?Ft(q,O,"whitespace")(X):O(X)):N(X)}function O(X){return X===null||Xe(X)?(q.exit("codeFencedFence"),M(X)):N(X)}}}function tz(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const By={name:"codeIndented",tokenize:rz},nz={partial:!0,tokenize:iz};function rz(t,e,n){const r=this;return s;function s(h){return t.enter("codeIndented"),Ft(t,o,"linePrefix",5)(h)}function o(h){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?u(h):n(h)}function u(h){return h===null?f(h):Xe(h)?t.attempt(nz,u,f)(h):(t.enter("codeFlowValue"),c(h))}function c(h){return h===null||Xe(h)?(t.exit("codeFlowValue"),u(h)):(t.consume(h),c)}function f(h){return t.exit("codeIndented"),e(h)}}function iz(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):Xe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):Ft(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):Xe(u)?s(u):n(u)}}const sz={name:"codeText",previous:oz,resolve:az,tokenize:uz};function az(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function oz(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function uz(t,e,n){let r=0,s,o;return u;function u(y){return t.enter("codeText"),t.enter("codeTextSequence"),c(y)}function c(y){return y===96?(t.consume(y),r++,c):(t.exit("codeTextSequence"),f(y))}function f(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),f):y===96?(o=t.enter("codeTextSequence"),s=0,p(y)):Xe(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),f):(t.enter("codeTextData"),h(y))}function h(y){return y===null||y===32||y===96||Xe(y)?(t.exit("codeTextData"),f(y)):(t.consume(y),h)}function p(y){return y===96?(t.consume(y),s++,p):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(o.type="codeTextData",h(y))}}class lz{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&ad(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),ad(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),ad(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);ad(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);ad(this.left,n.reverse())}}}function ad(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function B3(t){const e={};let n=-1,r,s,o,u,c,f,h;const p=new lz(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,cz(p,n)),n=e[n],h=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(u=p.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return as(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}function cz(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,f=[],h={};let p,y,b=-1,T=n,w=0,R=0;const P=[R];for(;T;){for(;t.get(++s)[1]!==T;);o.push(s),T._tokenizer||(p=r.sliceStream(T),T.next||p.push(null),y&&u.defineSkip(T.start),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(p),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=T,T=T.next}for(T=n;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(R=b+1,P.push(R),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(u.events=[],T?(T._tokenizer=void 0,T.previous=void 0):P.pop(),b=P.length;b--;){const D=c.slice(P[b],P[b+1]),Y=o.pop();f.push([Y,Y+D.length-1]),t.splice(Y,2,D)}for(f.reverse(),b=-1;++b<f.length;)h[w+f[b][0]]=w+f[b][1],w+=f[b][1]-f[b][0]-1;return h}const dz={resolve:hz,tokenize:mz},fz={partial:!0,tokenize:pz};function hz(t){return B3(t),t}function mz(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):Xe(c)?t.check(fz,u,o)(c):(t.consume(c),s)}function o(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function u(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function pz(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ft(t,o,"linePrefix")}function o(u){if(u===null||Xe(u))return n(u);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function U3(t,e,n,r,s,o,u,c,f){const h=f||Number.POSITIVE_INFINITY;let p=0;return y;function y(D){return D===60?(t.enter(r),t.enter(s),t.enter(o),t.consume(D),t.exit(o),b):D===null||D===32||D===41||YE(D)?n(D):(t.enter(r),t.enter(u),t.enter(c),t.enter("chunkString",{contentType:"string"}),R(D))}function b(D){return D===62?(t.enter(o),t.consume(D),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),T(D))}function T(D){return D===62?(t.exit("chunkString"),t.exit(c),b(D)):D===null||D===60||Xe(D)?n(D):(t.consume(D),D===92?w:T)}function w(D){return D===60||D===62||D===92?(t.consume(D),T):T(D)}function R(D){return!p&&(D===null||D===41||Tr(D))?(t.exit("chunkString"),t.exit(c),t.exit(u),t.exit(r),e(D)):p<h&&D===40?(t.consume(D),p++,R):D===41?(t.consume(D),p--,R):D===null||D===32||D===40||YE(D)?n(D):(t.consume(D),D===92?P:R)}function P(D){return D===40||D===41||D===92?(t.consume(D),R):R(D)}}function H3(t,e,n,r,s,o){const u=this;let c=0,f;return h;function h(T){return t.enter(r),t.enter(s),t.consume(T),t.exit(s),t.enter(o),p}function p(T){return c>999||T===null||T===91||T===93&&!f||T===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(T):T===93?(t.exit(o),t.enter(s),t.consume(T),t.exit(s),t.exit(r),e):Xe(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||T===91||T===93||Xe(T)||c++>999?(t.exit("chunkString"),p(T)):(t.consume(T),f||(f=!wt(T)),T===92?b:y)}function b(T){return T===91||T===92||T===93?(t.consume(T),c++,y):y(T)}}function V3(t,e,n,r,s,o){let u;return c;function c(b){return b===34||b===39||b===40?(t.enter(r),t.enter(s),t.consume(b),t.exit(s),u=b===40?41:b,f):n(b)}function f(b){return b===u?(t.enter(s),t.consume(b),t.exit(s),t.exit(r),e):(t.enter(o),h(b))}function h(b){return b===u?(t.exit(o),f(u)):b===null?n(b):Xe(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),Ft(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===u||b===null||Xe(b)?(t.exit("chunkString"),h(b)):(t.consume(b),b===92?y:p)}function y(b){return b===u||b===92?(t.consume(b),p):p(b)}}function Id(t,e){let n;return r;function r(s){return Xe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):wt(s)?Ft(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const gz={name:"definition",tokenize:Ez},yz={partial:!0,tokenize:_z};function Ez(t,e,n){const r=this;let s;return o;function o(T){return t.enter("definition"),u(T)}function u(T){return H3.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function c(T){return s=Tl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),T===58?(t.enter("definitionMarker"),t.consume(T),t.exit("definitionMarker"),f):n(T)}function f(T){return Tr(T)?Id(t,h)(T):h(T)}function h(T){return U3(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function p(T){return t.attempt(yz,y,y)(T)}function y(T){return wt(T)?Ft(t,b,"whitespace")(T):b(T)}function b(T){return T===null||Xe(T)?(t.exit("definition"),r.parser.defined.push(s),e(T)):n(T)}}function _z(t,e,n){return r;function r(c){return Tr(c)?Id(t,s)(c):n(c)}function s(c){return V3(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return wt(c)?Ft(t,u,"whitespace")(c):u(c)}function u(c){return c===null||Xe(c)?e(c):n(c)}}const bz={name:"hardBreakEscape",tokenize:Tz};function Tz(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return Xe(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const vz={name:"headingAtx",resolve:Az,tokenize:Sz};function Az(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},as(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function Sz(t,e,n){let r=0;return s;function s(p){return t.enter("atxHeading"),o(p)}function o(p){return t.enter("atxHeadingSequence"),u(p)}function u(p){return p===35&&r++<6?(t.consume(p),u):p===null||Tr(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),f(p)):p===null||Xe(p)?(t.exit("atxHeading"),e(p)):wt(p)?Ft(t,c,"whitespace")(p):(t.enter("atxHeadingText"),h(p))}function f(p){return p===35?(t.consume(p),f):(t.exit("atxHeadingSequence"),c(p))}function h(p){return p===null||p===35||Tr(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),h)}}const xz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hx=["pre","script","style","textarea"],wz={concrete:!0,name:"htmlFlow",resolveTo:Nz,tokenize:Rz},Cz={partial:!0,tokenize:Dz},Iz={partial:!0,tokenize:kz};function Nz(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Rz(t,e,n){const r=this;let s,o,u,c,f;return h;function h(I){return p(I)}function p(I){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(I),y}function y(I){return I===33?(t.consume(I),b):I===47?(t.consume(I),o=!0,R):I===63?(t.consume(I),s=3,r.interrupt?e:A):Zi(I)?(t.consume(I),u=String.fromCharCode(I),P):n(I)}function b(I){return I===45?(t.consume(I),s=2,T):I===91?(t.consume(I),s=5,c=0,w):Zi(I)?(t.consume(I),s=4,r.interrupt?e:A):n(I)}function T(I){return I===45?(t.consume(I),r.interrupt?e:A):n(I)}function w(I){const oe="CDATA[";return I===oe.charCodeAt(c++)?(t.consume(I),c===oe.length?r.interrupt?e:V:w):n(I)}function R(I){return Zi(I)?(t.consume(I),u=String.fromCharCode(I),P):n(I)}function P(I){if(I===null||I===47||I===62||Tr(I)){const oe=I===47,Ee=u.toLowerCase();return!oe&&!o&&hx.includes(Ee)?(s=1,r.interrupt?e(I):V(I)):xz.includes(u.toLowerCase())?(s=6,oe?(t.consume(I),D):r.interrupt?e(I):V(I)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):o?Y(I):$(I))}return I===45||Vr(I)?(t.consume(I),u+=String.fromCharCode(I),P):n(I)}function D(I){return I===62?(t.consume(I),r.interrupt?e:V):n(I)}function Y(I){return wt(I)?(t.consume(I),Y):U(I)}function $(I){return I===47?(t.consume(I),U):I===58||I===95||Zi(I)?(t.consume(I),G):wt(I)?(t.consume(I),$):U(I)}function G(I){return I===45||I===46||I===58||I===95||Vr(I)?(t.consume(I),G):te(I)}function te(I){return I===61?(t.consume(I),q):wt(I)?(t.consume(I),te):$(I)}function q(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(t.consume(I),f=I,M):wt(I)?(t.consume(I),q):N(I)}function M(I){return I===f?(t.consume(I),f=null,k):I===null||Xe(I)?n(I):(t.consume(I),M)}function N(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Tr(I)?te(I):(t.consume(I),N)}function k(I){return I===47||I===62||wt(I)?$(I):n(I)}function U(I){return I===62?(t.consume(I),B):n(I)}function B(I){return I===null||Xe(I)?V(I):wt(I)?(t.consume(I),B):n(I)}function V(I){return I===45&&s===2?(t.consume(I),F):I===60&&s===1?(t.consume(I),J):I===62&&s===4?(t.consume(I),ee):I===63&&s===3?(t.consume(I),A):I===93&&s===5?(t.consume(I),re):Xe(I)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(Cz,ae,C)(I)):I===null||Xe(I)?(t.exit("htmlFlowData"),C(I)):(t.consume(I),V)}function C(I){return t.check(Iz,O,ae)(I)}function O(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),X}function X(I){return I===null||Xe(I)?C(I):(t.enter("htmlFlowData"),V(I))}function F(I){return I===45?(t.consume(I),A):V(I)}function J(I){return I===47?(t.consume(I),u="",se):V(I)}function se(I){if(I===62){const oe=u.toLowerCase();return hx.includes(oe)?(t.consume(I),ee):V(I)}return Zi(I)&&u.length<8?(t.consume(I),u+=String.fromCharCode(I),se):V(I)}function re(I){return I===93?(t.consume(I),A):V(I)}function A(I){return I===62?(t.consume(I),ee):I===45&&s===2?(t.consume(I),A):V(I)}function ee(I){return I===null||Xe(I)?(t.exit("htmlFlowData"),ae(I)):(t.consume(I),ee)}function ae(I){return t.exit("htmlFlow"),e(I)}}function kz(t,e,n){const r=this;return s;function s(u){return Xe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function Dz(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Xm,e,n)}}const Oz={name:"htmlText",tokenize:Lz};function Lz(t,e,n){const r=this;let s,o,u;return c;function c(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),f}function f(A){return A===33?(t.consume(A),h):A===47?(t.consume(A),te):A===63?(t.consume(A),$):Zi(A)?(t.consume(A),N):n(A)}function h(A){return A===45?(t.consume(A),p):A===91?(t.consume(A),o=0,w):Zi(A)?(t.consume(A),Y):n(A)}function p(A){return A===45?(t.consume(A),T):n(A)}function y(A){return A===null?n(A):A===45?(t.consume(A),b):Xe(A)?(u=y,J(A)):(t.consume(A),y)}function b(A){return A===45?(t.consume(A),T):y(A)}function T(A){return A===62?F(A):A===45?b(A):y(A)}function w(A){const ee="CDATA[";return A===ee.charCodeAt(o++)?(t.consume(A),o===ee.length?R:w):n(A)}function R(A){return A===null?n(A):A===93?(t.consume(A),P):Xe(A)?(u=R,J(A)):(t.consume(A),R)}function P(A){return A===93?(t.consume(A),D):R(A)}function D(A){return A===62?F(A):A===93?(t.consume(A),D):R(A)}function Y(A){return A===null||A===62?F(A):Xe(A)?(u=Y,J(A)):(t.consume(A),Y)}function $(A){return A===null?n(A):A===63?(t.consume(A),G):Xe(A)?(u=$,J(A)):(t.consume(A),$)}function G(A){return A===62?F(A):$(A)}function te(A){return Zi(A)?(t.consume(A),q):n(A)}function q(A){return A===45||Vr(A)?(t.consume(A),q):M(A)}function M(A){return Xe(A)?(u=M,J(A)):wt(A)?(t.consume(A),M):F(A)}function N(A){return A===45||Vr(A)?(t.consume(A),N):A===47||A===62||Tr(A)?k(A):n(A)}function k(A){return A===47?(t.consume(A),F):A===58||A===95||Zi(A)?(t.consume(A),U):Xe(A)?(u=k,J(A)):wt(A)?(t.consume(A),k):F(A)}function U(A){return A===45||A===46||A===58||A===95||Vr(A)?(t.consume(A),U):B(A)}function B(A){return A===61?(t.consume(A),V):Xe(A)?(u=B,J(A)):wt(A)?(t.consume(A),B):k(A)}function V(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),s=A,C):Xe(A)?(u=V,J(A)):wt(A)?(t.consume(A),V):(t.consume(A),O)}function C(A){return A===s?(t.consume(A),s=void 0,X):A===null?n(A):Xe(A)?(u=C,J(A)):(t.consume(A),C)}function O(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Tr(A)?k(A):(t.consume(A),O)}function X(A){return A===47||A===62||Tr(A)?k(A):n(A)}function F(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function J(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),se}function se(A){return wt(A)?Ft(t,re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):re(A)}function re(A){return t.enter("htmlTextData"),u(A)}}const O_={name:"labelEnd",resolveAll:Uz,resolveTo:Hz,tokenize:Vz},Pz={tokenize:Fz},Mz={tokenize:zz},Bz={tokenize:jz};function Uz(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&as(t,0,t.length,n),t}function Hz(t,e){let n=t.length,r=0,s,o,u,c;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const f={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},p={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return c=[["enter",f,e],["enter",h,e]],c=ui(c,t.slice(o+1,o+r+3)),c=ui(c,[["enter",p,e]]),c=ui(c,D_(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),c=ui(c,[["exit",p,e],t[u-2],t[u-1],["exit",h,e]]),c=ui(c,t.slice(u+1)),c=ui(c,[["exit",f,e]]),as(t,o,t.length,c),t}function Vz(t,e,n){const r=this;let s=r.events.length,o,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(b){return o?o._inactive?y(b):(u=r.parser.defined.includes(Tl(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),f):n(b)}function f(b){return b===40?t.attempt(Pz,p,u?p:y)(b):b===91?t.attempt(Mz,p,u?h:y)(b):u?p(b):y(b)}function h(b){return t.attempt(Bz,p,y)(b)}function p(b){return e(b)}function y(b){return o._balanced=!0,n(b)}}function Fz(t,e,n){return r;function r(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Tr(y)?Id(t,o)(y):o(y)}function o(y){return y===41?p(y):U3(t,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return Tr(y)?Id(t,f)(y):p(y)}function c(y){return n(y)}function f(y){return y===34||y===39||y===40?V3(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):p(y)}function h(y){return Tr(y)?Id(t,p)(y):p(y)}function p(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):n(y)}}function zz(t,e,n){const r=this;return s;function s(c){return H3.call(r,t,o,u,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(Tl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function u(c){return n(c)}}function jz(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const qz={name:"labelStartImage",resolveAll:O_.resolveAll,tokenize:Yz};function Yz(t,e,n){const r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),o}function o(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const Gz={name:"labelStartLink",resolveAll:O_.resolveAll,tokenize:$z};function $z(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Uy={name:"lineEnding",tokenize:Kz};function Kz(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ft(t,e,"linePrefix")}}const w0={name:"thematicBreak",tokenize:Xz};function Xz(t,e,n){let r=0,s;return o;function o(h){return t.enter("thematicBreak"),u(h)}function u(h){return s=h,c(h)}function c(h){return h===s?(t.enter("thematicBreakSequence"),f(h)):r>=3&&(h===null||Xe(h))?(t.exit("thematicBreak"),e(h)):n(h)}function f(h){return h===s?(t.consume(h),r++,f):(t.exit("thematicBreakSequence"),wt(h)?Ft(t,c,"whitespace")(h):c(h))}}const pr={continuation:{tokenize:Jz},exit:tj,name:"list",tokenize:Zz},Qz={partial:!0,tokenize:nj},Wz={partial:!0,tokenize:ej};function Zz(t,e,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return c;function c(T){const w=r.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||T===r.containerState.marker:GE(T)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),T===42||T===45?t.check(w0,n,h)(T):h(T);if(!r.interrupt||T===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(T)}return n(T)}function f(T){return GE(T)&&++u<10?(t.consume(T),f):(!r.interrupt||u<2)&&(r.containerState.marker?T===r.containerState.marker:T===41||T===46)?(t.exit("listItemValue"),h(T)):n(T)}function h(T){return t.enter("listItemMarker"),t.consume(T),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||T,t.check(Xm,r.interrupt?n:p,t.attempt(Qz,b,y))}function p(T){return r.containerState.initialBlankLine=!0,o++,b(T)}function y(T){return wt(T)?(t.enter("listItemPrefixWhitespace"),t.consume(T),t.exit("listItemPrefixWhitespace"),b):n(T)}function b(T){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(T)}}function Jz(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Xm,s,o);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ft(t,e,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!wt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Wz,e,u)(c))}function u(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ft(t,t.attempt(pr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function ej(t,e,n){const r=this;return Ft(t,s,"listItemIndent",r.containerState.size+1);function s(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function tj(t){t.exit(this.containerState.type)}function nj(t,e,n){const r=this;return Ft(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=r.events[r.events.length-1];return!wt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const mx={name:"setextUnderline",resolveTo:rj,tokenize:ij};function rj(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function ij(t,e,n){const r=this;let s;return o;function o(h){let p=r.events.length,y;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){y=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(t.enter("setextHeadingLine"),s=h,u(h)):n(h)}function u(h){return t.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===s?(t.consume(h),c):(t.exit("setextHeadingLineSequence"),wt(h)?Ft(t,f,"lineSuffix")(h):f(h))}function f(h){return h===null||Xe(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const sj={tokenize:aj};function aj(t){const e=this,n=t.attempt(Xm,r,t.attempt(this.parser.constructs.flowInitial,s,Ft(t,t.attempt(this.parser.constructs.flow,s,t.attempt(dz,s)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const oj={resolveAll:z3()},uj=F3("string"),lj=F3("text");function F3(t){return{resolveAll:z3(t==="text"?cj:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],o=n.attempt(s,u,c);return u;function u(p){return h(p)?o(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),f}function f(p){return h(p)?(n.exit("data"),o(p)):(n.consume(p),f)}function h(p){if(p===null)return!0;const y=s[p];let b=-1;if(y)for(;++b<y.length;){const T=y[b];if(!T.previous||T.previous.call(r,r.previous))return!0}return!1}}}function z3(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function cj(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let o=s.length,u=-1,c=0,f;for(;o--;){const h=s[o];if(typeof h=="string"){for(u=h.length;h.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(h===-2)f=!0,c++;else if(h!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const h={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const dj={42:pr,43:pr,45:pr,48:pr,49:pr,50:pr,51:pr,52:pr,53:pr,54:pr,55:pr,56:pr,57:pr,62:L3},fj={91:gz},hj={[-2]:By,[-1]:By,32:By},mj={35:vz,42:w0,45:[mx,w0],60:wz,61:mx,95:w0,96:fx,126:fx},pj={38:M3,92:P3},gj={[-5]:Uy,[-4]:Uy,[-3]:Uy,33:qz,38:M3,42:$E,60:[GF,Oz],91:Gz,92:[bz,P3],93:O_,95:$E,96:sz},yj={null:[$E,oj]},Ej={null:[42,95]},_j={null:[]},bj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ej,contentInitial:fj,disable:_j,document:dj,flow:mj,flowInitial:hj,insideSpan:yj,string:pj,text:gj},Symbol.toStringTag,{value:"Module"}));function Tj(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],c=[];const f={attempt:M(te),check:M(q),consume:Y,enter:$,exit:G,interrupt:M(q,{interrupt:!0})},h={code:null,containerState:{},defineSkip:R,events:[],now:w,parser:t,previous:null,sliceSerialize:b,sliceStream:T,write:y};let p=e.tokenize.call(h,f);return e.resolveAll&&o.push(e),h;function y(B){return u=ui(u,B),P(),u[u.length-1]!==null?[]:(N(e,0),h.events=D_(o,h.events,h),h.events)}function b(B,V){return Aj(T(B),V)}function T(B){return vj(u,B)}function w(){const{_bufferIndex:B,_index:V,line:C,column:O,offset:X}=r;return{_bufferIndex:B,_index:V,line:C,column:O,offset:X}}function R(B){s[B.line]=B.column,U()}function P(){let B;for(;r._index<u.length;){const V=u[r._index];if(typeof V=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<V.length;)D(V.charCodeAt(r._bufferIndex));else D(V)}}function D(B){p=p(B)}function Y(B){Xe(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,U()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=B}function $(B,V){const C=V||{};return C.type=B,C.start=w(),h.events.push(["enter",C,h]),c.push(C),C}function G(B){const V=c.pop();return V.end=w(),h.events.push(["exit",V,h]),V}function te(B,V){N(B,V.from)}function q(B,V){V.restore()}function M(B,V){return C;function C(O,X,F){let J,se,re,A;return Array.isArray(O)?ae(O):"tokenize"in O?ae([O]):ee(O);function ee(pe){return we;function we(Ce){const Le=Ce!==null&&pe[Ce],Ve=Ce!==null&&pe.null,ct=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return ae(ct)(Ce)}}function ae(pe){return J=pe,se=0,pe.length===0?F:I(pe[se])}function I(pe){return we;function we(Ce){return A=k(),re=pe,pe.partial||(h.currentConstruct=pe),pe.name&&h.parser.constructs.disable.null.includes(pe.name)?Ee():pe.tokenize.call(V?Object.assign(Object.create(h),V):h,f,oe,Ee)(Ce)}}function oe(pe){return B(re,A),X}function Ee(pe){return A.restore(),++se<J.length?I(J[se]):F}}}function N(B,V){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&as(h.events,V,h.events.length-V,B.resolve(h.events.slice(V),h)),B.resolveTo&&(h.events=B.resolveTo(h.events,h))}function k(){const B=w(),V=h.previous,C=h.currentConstruct,O=h.events.length,X=Array.from(c);return{from:O,restore:F};function F(){r=B,h.previous=V,h.currentConstruct=C,h.events.length=O,c=X,U()}}function U(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function vj(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,o)];else{if(u=t.slice(n,s),r>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(r):u.shift()}o>0&&u.push(t[s].slice(0,o))}return u}function Aj(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,r.push(u)}return r.join("")}function Sj(t){const r={constructs:kF([bj,...(t||{}).extensions||[]]),content:s(HF),defined:[],document:s(FF),flow:s(sj),lazy:{},string:s(uj),text:s(lj)};return r;function s(o){return u;function u(c){return Tj(r,o,c)}}}function xj(t){for(;!B3(t););return t}const px=/[\0\t\n\r]/g;function wj(){let t=1,e="",n=!0,r;return s;function s(o,u,c){const f=[];let h,p,y,b,T;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),y=0,e="",n&&(o.charCodeAt(0)===65279&&y++,n=void 0);y<o.length;){if(px.lastIndex=y,h=px.exec(o),b=h&&h.index!==void 0?h.index:o.length,T=o.charCodeAt(b),!h){e=o.slice(y);break}if(T===10&&y===b&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),y<b&&(f.push(o.slice(y,b)),t+=b-y),T){case 0:{f.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,f.push(-2);t++<p;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}y=b+1}return c&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const Cj=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ij(t){return t.replace(Cj,Nj)}function Nj(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return O3(n.slice(o?2:1),o?16:10)}return k_(n)||t}const j3={}.hasOwnProperty;function Rj(t,e,n){return typeof e!="string"&&(n=e,e=void 0),kj(n)(xj(Sj(n).document().write(wj()(t,e,!0))))}function kj(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(zt),autolinkProtocol:k,autolinkEmail:k,atxHeading:o(gt),blockQuote:o(Ve),characterEscape:k,characterReference:k,codeFenced:o(ct),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(ct,u),codeText:o(Tt,u),codeTextData:k,data:k,codeFlowValue:k,definition:o(Ze),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(pt),hardBreakEscape:o(Xt),hardBreakTrailing:o(Xt),htmlFlow:o(Qe,u),htmlFlowData:k,htmlText:o(Qe,u),htmlTextData:k,image:o(Oe),label:u,link:o(zt),listItem:o(un),listItemValue:b,listOrdered:o(vn,y),listUnordered:o(vn),paragraph:o(ir),reference:I,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(gt),strong:o(Hn),thematicBreak:o(Ar)},exit:{atxHeading:f(),atxHeadingSequence:te,autolink:f(),autolinkEmail:Le,autolinkProtocol:Ce,blockQuote:f(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:pe,characterReference:we,codeFenced:f(P),codeFencedFence:R,codeFencedFenceInfo:T,codeFencedFenceMeta:w,codeFlowValue:U,codeIndented:f(D),codeText:f(X),codeTextData:U,data:U,definition:f(),definitionDestinationString:G,definitionLabelString:Y,definitionTitleString:$,emphasis:f(),hardBreakEscape:f(V),hardBreakTrailing:f(V),htmlFlow:f(C),htmlFlowData:U,htmlText:f(O),htmlTextData:U,image:f(J),label:re,labelText:se,lineEnding:B,link:f(F),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:oe,resourceDestinationString:A,resourceTitleString:ee,resource:ae,setextHeading:f(N),setextHeadingLineSequence:M,setextHeadingText:q,strong:f(),thematicBreak:f()}};q3(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(he){let Te={type:"root",children:[]};const Be={stack:[Te],tokenStack:[],config:e,enter:c,exit:h,buffer:u,resume:p,data:n},Fe=[];let at=-1;for(;++at<he.length;)if(he[at][1].type==="listOrdered"||he[at][1].type==="listUnordered")if(he[at][0]==="enter")Fe.push(at);else{const vt=Fe.pop();at=s(he,vt,at)}for(at=-1;++at<he.length;){const vt=e[he[at][0]];j3.call(vt,he[at][1].type)&&vt[he[at][1].type].call(Object.assign({sliceSerialize:he[at][2].sliceSerialize},Be),he[at][1])}if(Be.tokenStack.length>0){const vt=Be.tokenStack[Be.tokenStack.length-1];(vt[1]||gx).call(Be,void 0,vt[0])}for(Te.position={start:ba(he.length>0?he[0][1].start:{line:1,column:1,offset:0}),end:ba(he.length>0?he[he.length-2][1].end:{line:1,column:1,offset:0})},at=-1;++at<e.transforms.length;)Te=e.transforms[at](Te)||Te;return Te}function s(he,Te,Be){let Fe=Te-1,at=-1,vt=!1,Mt,jt,ln,Gt;for(;++Fe<=Be;){const St=he[Fe];switch(St[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{St[0]==="enter"?at++:at--,Gt=void 0;break}case"lineEndingBlank":{St[0]==="enter"&&(Mt&&!Gt&&!at&&!ln&&(ln=Fe),Gt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Gt=void 0}if(!at&&St[0]==="enter"&&St[1].type==="listItemPrefix"||at===-1&&St[0]==="exit"&&(St[1].type==="listUnordered"||St[1].type==="listOrdered")){if(Mt){let en=Fe;for(jt=void 0;en--;){const An=he[en];if(An[1].type==="lineEnding"||An[1].type==="lineEndingBlank"){if(An[0]==="exit")continue;jt&&(he[jt][1].type="lineEndingBlank",vt=!0),An[1].type="lineEnding",jt=en}else if(!(An[1].type==="linePrefix"||An[1].type==="blockQuotePrefix"||An[1].type==="blockQuotePrefixWhitespace"||An[1].type==="blockQuoteMarker"||An[1].type==="listItemIndent"))break}ln&&(!jt||ln<jt)&&(Mt._spread=!0),Mt.end=Object.assign({},jt?he[jt][1].start:St[1].end),he.splice(jt||Fe,0,["exit",Mt,St[2]]),Fe++,Be++}if(St[1].type==="listItemPrefix"){const en={type:"listItem",_spread:!1,start:Object.assign({},St[1].start),end:void 0};Mt=en,he.splice(Fe,0,["enter",en,St[2]]),Fe++,Be++,ln=void 0,Gt=!0}}}return he[Te][1]._spread=vt,Be}function o(he,Te){return Be;function Be(Fe){c.call(this,he(Fe),Fe),Te&&Te.call(this,Fe)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(he,Te,Be){this.stack[this.stack.length-1].children.push(he),this.stack.push(he),this.tokenStack.push([Te,Be||void 0]),he.position={start:ba(Te.start),end:void 0}}function f(he){return Te;function Te(Be){he&&he.call(this,Be),h.call(this,Be)}}function h(he,Te){const Be=this.stack.pop(),Fe=this.tokenStack.pop();if(Fe)Fe[0].type!==he.type&&(Te?Te.call(this,he,Fe[0]):(Fe[1]||gx).call(this,he,Fe[0]));else throw new Error("Cannot close `"+he.type+"` ("+Cd({start:he.start,end:he.end})+"): its not open");Be.position.end=ba(he.end)}function p(){return NF(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function b(he){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(he),10),this.data.expectingFirstListItemValue=void 0}}function T(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=he}function w(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=he}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he.replace(/(\r?\n|\r)$/g,"")}function Y(he){const Te=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Te,Be.identifier=Tl(this.sliceSerialize(he)).toLowerCase()}function $(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.title=he}function G(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.url=he}function te(he){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Be=this.sliceSerialize(he).length;Te.depth=Be}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function M(he){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(he).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function k(he){const Be=this.stack[this.stack.length-1].children;let Fe=Be[Be.length-1];(!Fe||Fe.type!=="text")&&(Fe=Vn(),Fe.position={start:ba(he.start),end:void 0},Be.push(Fe)),this.stack.push(Fe)}function U(he){const Te=this.stack.pop();Te.value+=this.sliceSerialize(he),Te.position.end=ba(he.end)}function B(he){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Be=Te.children[Te.children.length-1];Be.position.end=ba(he.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(k.call(this,he),U.call(this,he))}function V(){this.data.atHardBreak=!0}function C(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function O(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function X(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.value=he}function F(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Te,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function J(){const he=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";he.type+="Reference",he.referenceType=Te,delete he.url,delete he.title}else delete he.identifier,delete he.label;this.data.referenceType=void 0}function se(he){const Te=this.sliceSerialize(he),Be=this.stack[this.stack.length-2];Be.label=Ij(Te),Be.identifier=Tl(Te).toLowerCase()}function re(){const he=this.stack[this.stack.length-1],Te=this.resume(),Be=this.stack[this.stack.length-1];if(this.data.inReference=!0,Be.type==="link"){const Fe=he.children;Be.children=Fe}else Be.alt=Te}function A(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.url=he}function ee(){const he=this.resume(),Te=this.stack[this.stack.length-1];Te.title=he}function ae(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function oe(he){const Te=this.resume(),Be=this.stack[this.stack.length-1];Be.label=Te,Be.identifier=Tl(this.sliceSerialize(he)).toLowerCase(),this.data.referenceType="full"}function Ee(he){this.data.characterReferenceType=he.type}function pe(he){const Te=this.sliceSerialize(he),Be=this.data.characterReferenceType;let Fe;Be?(Fe=O3(Te,Be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Fe=k_(Te);const at=this.stack[this.stack.length-1];at.value+=Fe}function we(he){const Te=this.stack.pop();Te.position.end=ba(he.end)}function Ce(he){U.call(this,he);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(he)}function Le(he){U.call(this,he);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(he)}function Ve(){return{type:"blockquote",children:[]}}function ct(){return{type:"code",lang:null,meta:null,value:""}}function Tt(){return{type:"inlineCode",value:""}}function Ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pt(){return{type:"emphasis",children:[]}}function gt(){return{type:"heading",depth:0,children:[]}}function Xt(){return{type:"break"}}function Qe(){return{type:"html",value:""}}function Oe(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function vn(he){return{type:"list",ordered:he.type==="listOrdered",start:null,spread:he._spread,children:[]}}function un(he){return{type:"listItem",spread:he._spread,checked:null,children:[]}}function ir(){return{type:"paragraph",children:[]}}function Hn(){return{type:"strong",children:[]}}function Vn(){return{type:"text",value:""}}function Ar(){return{type:"thematicBreak"}}}function ba(t){return{line:t.line,column:t.column,offset:t.offset}}function q3(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?q3(t,r):Dj(t,r)}}function Dj(t,e){let n;for(n in e)if(j3.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function gx(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Cd({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Cd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Cd({start:e.start,end:e.end})+") is still open")}function Oj(t){const e=this;e.parser=n;function n(r){return Rj(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function Lj(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function Pj(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function Mj(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function Bj(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Uj(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Hj(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=$l(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,c+=1,t.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,f);const h={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,h),t.applyData(e,h)}function Vj(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fj(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Y3(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function zj(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Y3(t,e);const s={src:$l(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function jj(t,e){const n={src:$l(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qj(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Yj(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Y3(t,e);const s={href:$l(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function Gj(t,e){const n={href:$l(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function $j(t,e,n){const r=t.all(e),s=n?Kj(n):G3(e),o={},u=[];if(typeof e.checked=="boolean"){const p=r[0];let y;p&&p.type==="element"&&p.tagName==="p"?y=p:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?u.push(...p.children):u.push(p)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,h),t.applyData(e,h)}function Kj(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=G3(n[r])}return e}function G3(t){const e=t.spread;return e??t.children.length>1}function Xj(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function Qj(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Wj(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Zj(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Jj(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=ls(e.children[1]),f=Km(e.children[e.children.length-1]);c&&f&&(u.position={start:c,end:f}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function eq(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:e.children.length;let f=-1;const h=[];for(;++f<c;){const y=e.children[f],b={},T=u?u[f]:void 0;T&&(b.align=T);let w={type:"element",tagName:o,properties:b,children:[]};y&&(w.children=t.all(y),t.patch(y,w),w=t.applyData(y,w)),h.push(w)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,p),t.applyData(e,p)}function tq(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const yx=9,Ex=32;function nq(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const o=[];for(;r;)o.push(_x(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return o.push(_x(e.slice(s),s>0,!1)),o.join("")}function _x(t,e,n){let r=0,s=t.length;if(e){let o=t.codePointAt(r);for(;o===yx||o===Ex;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(s-1);for(;o===yx||o===Ex;)s--,o=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function rq(t,e){const n={type:"text",value:nq(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function iq(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const sq={blockquote:Lj,break:Pj,code:Mj,delete:Bj,emphasis:Uj,footnoteReference:Hj,heading:Vj,html:Fj,imageReference:zj,image:jj,inlineCode:qj,linkReference:Yj,link:Gj,listItem:$j,list:Xj,paragraph:Qj,root:Wj,strong:Zj,table:Jj,tableCell:tq,tableRow:eq,text:rq,thematicBreak:iq,toml:a0,yaml:a0,definition:a0,footnoteDefinition:a0};function a0(){}const $3=-1,Qm=0,Nd=1,lm=2,L_=3,P_=4,M_=5,B_=6,K3=7,X3=8,bx=typeof self=="object"?self:globalThis,aq=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),r=s=>{if(t.has(s))return t.get(s);const[o,u]=e[s];switch(o){case Qm:case $3:return n(u,s);case Nd:{const c=n([],s);for(const f of u)c.push(r(f));return c}case lm:{const c=n({},s);for(const[f,h]of u)c[r(f)]=r(h);return c}case L_:return n(new Date(u),s);case P_:{const{source:c,flags:f}=u;return n(new RegExp(c,f),s)}case M_:{const c=n(new Map,s);for(const[f,h]of u)c.set(r(f),r(h));return c}case B_:{const c=n(new Set,s);for(const f of u)c.add(r(f));return c}case K3:{const{name:c,message:f}=u;return n(new bx[c](f),s)}case X3:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new bx[o](u),s)};return r},Tx=t=>aq(new Map,t)(0),el="",{toString:oq}={},{keys:uq}=Object,od=t=>{const e=typeof t;if(e!=="object"||!t)return[Qm,e];const n=oq.call(t).slice(8,-1);switch(n){case"Array":return[Nd,el];case"Object":return[lm,el];case"Date":return[L_,el];case"RegExp":return[P_,el];case"Map":return[M_,el];case"Set":return[B_,el];case"DataView":return[Nd,n]}return n.includes("Array")?[Nd,n]:n.includes("Error")?[K3,n]:[lm,n]},o0=([t,e])=>t===Qm&&(e==="function"||e==="symbol"),lq=(t,e,n,r)=>{const s=(u,c)=>{const f=r.push(u)-1;return n.set(c,f),f},o=u=>{if(n.has(u))return n.get(u);let[c,f]=od(u);switch(c){case Qm:{let p=u;switch(f){case"bigint":c=X3,p=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);p=null;break;case"undefined":return s([$3],u)}return s([c,p],u)}case Nd:{if(f){let b=u;return f==="DataView"?b=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(b=new Uint8Array(u)),s([f,[...b]],u)}const p=[],y=s([c,p],u);for(const b of u)p.push(o(b));return y}case lm:{if(f)switch(f){case"BigInt":return s([f,u.toString()],u);case"Boolean":case"Number":case"String":return s([f,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const p=[],y=s([c,p],u);for(const b of uq(u))(t||!o0(od(u[b])))&&p.push([o(b),o(u[b])]);return y}case L_:return s([c,u.toISOString()],u);case P_:{const{source:p,flags:y}=u;return s([c,{source:p,flags:y}],u)}case M_:{const p=[],y=s([c,p],u);for(const[b,T]of u)(t||!(o0(od(b))||o0(od(T))))&&p.push([o(b),o(T)]);return y}case B_:{const p=[],y=s([c,p],u);for(const b of u)(t||!o0(od(b)))&&p.push(o(b));return y}}const{message:h}=u;return s([c,{name:f,message:h}],u)};return o},vx=(t,{json:e,lossy:n}={})=>{const r=[];return lq(!(e||n),!!e,new Map,r)(t),r},Pl=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Tx(vx(t,e)):structuredClone(t):(t,e)=>Tx(vx(t,e));function cq(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function dq(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function fq(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||cq,r=t.options.footnoteBackLabel||dq,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[f]);if(!h)continue;const p=t.all(h),y=String(h.identifier).toUpperCase(),b=$l(y.toLowerCase());let T=0;const w=[],R=t.footnoteCounts.get(y);for(;R!==void 0&&++T<=R;){w.length>0&&w.push({type:"text",value:" "});let Y=typeof n=="string"?n:n(f,T);typeof Y=="string"&&(Y={type:"text",value:Y}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,T),className:["data-footnote-backref"]},children:Array.isArray(Y)?Y:[Y]})}const P=p[p.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const Y=P.children[P.children.length-1];Y&&Y.type==="text"?Y.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...w)}else p.push(...w);const D={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(p,!0)};t.patch(h,D),c.push(D)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Pl(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const Q3=function(t){if(t==null)return gq;if(typeof t=="function")return Wm(t);if(typeof t=="object")return Array.isArray(t)?hq(t):mq(t);if(typeof t=="string")return pq(t);throw new Error("Expected function, string, or object as test")};function hq(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Q3(t[n]);return Wm(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function mq(t){const e=t;return Wm(n);function n(r){const s=r;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function pq(t){return Wm(e);function e(n){return n&&n.type===t}}function Wm(t){return e;function e(n,r,s){return!!(yq(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function gq(){return!0}function yq(t){return t!==null&&typeof t=="object"&&"type"in t}const W3=[],Eq=!0,Ax=!1,_q="skip";function bq(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const o=Q3(s),u=r?-1:1;c(t,void 0,[])();function c(f,h,p){const y=f&&typeof f=="object"?f:{};if(typeof y.type=="string"){const T=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(f.type+(T?"<"+T+">":""))+")"})}return b;function b(){let T=W3,w,R,P;if((!e||o(f,h,p[p.length-1]||void 0))&&(T=Tq(n(f,p)),T[0]===Ax))return T;if("children"in f&&f.children){const D=f;if(D.children&&T[0]!==_q)for(R=(r?D.children.length:-1)+u,P=p.concat(D);R>-1&&R<D.children.length;){const Y=D.children[R];if(w=c(Y,R,P)(),w[0]===Ax)return w;R=typeof w[1]=="number"?w[1]:R+u}}return T}}}function Tq(t){return Array.isArray(t)?t:typeof t=="number"?[Eq,t]:t==null?W3:[t]}function U_(t,e,n,r){let s,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,s=n):(o=e,u=n,s=r),bq(t,o,c,s);function c(f,h){const p=h[h.length-1],y=p?p.children.indexOf(f):void 0;return u(f,y,p)}}const KE={}.hasOwnProperty,vq={};function Aq(t,e){const n=e||vq,r=new Map,s=new Map,o=new Map,u={...sq,...n.handlers},c={all:h,applyData:xq,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:Sq,wrap:Cq};return U_(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const y=p.type==="definition"?r:s,b=String(p.identifier).toUpperCase();y.has(b)||y.set(b,p)}}),c;function f(p,y){const b=p.type,T=c.handlers[b];if(KE.call(c.handlers,b)&&T)return T(c,p,y);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in p){const{children:R,...P}=p,D=Pl(P);return D.children=c.all(p),D}return Pl(p)}return(c.options.unknownHandler||wq)(c,p,y)}function h(p){const y=[];if("children"in p){const b=p.children;let T=-1;for(;++T<b.length;){const w=c.one(b[T],p);if(w){if(T&&b[T-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Sx(w.value)),!Array.isArray(w)&&w.type==="element")){const R=w.children[0];R&&R.type==="text"&&(R.value=Sx(R.value))}Array.isArray(w)?y.push(...w):y.push(w)}}}return y}}function Sq(t,e){t.position&&(e.position=oF(t))}function xq(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Pl(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function wq(t,e){const n=e.data||{},r="value"in e&&!(KE.call(n,"hProperties")||KE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Cq(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Sx(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function xx(t,e){const n=Aq(t,e),r=n.one(t,void 0),s=fq(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function Iq(t,e){return t&&"run"in t?async function(n,r){const s=xx(n,{file:r,...e});await t.run(s,r)}:function(n,r){return xx(n,{file:r,...t||e})}}function wx(t){if(t)throw t}var Hy,Cx;function Nq(){if(Cx)return Hy;Cx=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},o=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var p=t.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!y)return!1;var b;for(b in h);return typeof b>"u"||t.call(h,b)},u=function(h,p){n&&p.name==="__proto__"?n(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(t.call(h,p)){if(r)return r(h,p).value}else return;return h[p]};return Hy=function f(){var h,p,y,b,T,w,R=arguments[0],P=1,D=arguments.length,Y=!1;for(typeof R=="boolean"&&(Y=R,R=arguments[1]||{},P=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});P<D;++P)if(h=arguments[P],h!=null)for(p in h)y=c(R,p),b=c(h,p),R!==b&&(Y&&b&&(o(b)||(T=s(b)))?(T?(T=!1,w=y&&s(y)?y:[]):w=y&&o(y)?y:{},u(R,{name:p,newValue:f(Y,w,b)})):typeof b<"u"&&u(R,{name:p,newValue:b}));return R},Hy}var Rq=Nq();const Vy=hm(Rq);function XE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function kq(){const t=[],e={run:n,use:r};return e;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...s);function c(f,...h){const p=t[++o];let y=-1;if(f){u(f);return}for(;++y<s.length;)(h[y]===null||h[y]===void 0)&&(h[y]=s[y]);s=h,p?Dq(p,c)(...h):u(null,...h)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Dq(t,e){let n;return r;function r(...u){const c=t.length>u.length;let f;c&&u.push(s);try{f=t.apply(this,u)}catch(h){const p=h;if(c&&n)throw p;return s(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(u,...c){n||(n=!0,e(u,...c))}function o(u){s(null,u)}}const Ki={basename:Oq,dirname:Lq,extname:Pq,join:Mq,sep:"/"};function Oq(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Sf(t);let n=0,r=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function Lq(t){if(Sf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Pq(t){Sf(t);let e=t.length,n=-1,r=0,s=-1,o=0,u;for(;e--;){const c=t.codePointAt(e);if(c===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function Mq(...t){let e=-1,n;for(;++e<t.length;)Sf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Bq(n)}function Bq(t){Sf(t);const e=t.codePointAt(0)===47;let n=Uq(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Uq(t,e){let n="",r=0,s=-1,o=0,u=-1,c,f;for(;++u<=t.length;){if(u<t.length)c=t.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",r=0,s=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,o=0}else c===46&&o>-1?o++:o=-1}return n}function Sf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Hq={cwd:Vq};function Vq(){return"/"}function QE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Fq(t){if(typeof t=="string")t=new URL(t);else if(!QE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return zq(t)}function zq(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Fy=["history","path","basename","stem","extname","dirname"];class Z3{constructor(e){let n;e?QE(e)?n={path:e}:typeof e=="string"||jq(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Hq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fy.length;){const o=Fy[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Fy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ki.basename(this.path):void 0}set basename(e){jy(e,"basename"),zy(e,"basename"),this.path=Ki.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ki.dirname(this.path):void 0}set dirname(e){Ix(this.basename,"dirname"),this.path=Ki.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ki.extname(this.path):void 0}set extname(e){if(zy(e,"extname"),Ix(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ki.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){QE(e)&&(e=Fq(e)),jy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ki.basename(this.path,this.extname):void 0}set stem(e){jy(e,"stem"),zy(e,"stem"),this.path=Ki.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new nr(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function zy(t,e){if(t&&t.includes(Ki.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ki.sep+"`")}function jy(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Ix(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function jq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const qq=function(t){const r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},Yq={}.hasOwnProperty;class H_ extends qq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kq()}copy(){const e=new H_;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Vy(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Gy("data",this.frozen),this.namespace[e]=n,this):Yq.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Gy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=u0(e),r=this.parser||this.Parser;return qy("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),qy("process",this.parser||this.Parser),Yy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const c=u0(e),f=r.parse(c);r.run(f,c,function(p,y,b){if(p||!y||!b)return h(p);const T=y,w=r.stringify(T,b);Kq(w)?b.value=w:b.result=w,h(p,b)});function h(p,y){p||!y?u(p):o?o(y):n(void 0,y)}}}processSync(e){let n=!1,r;return this.freeze(),qy("processSync",this.parser||this.Parser),Yy("processSync",this.compiler||this.Compiler),this.process(e,s),Rx("processSync","process",n),r;function s(o,u){n=!0,wx(o),r=u}}run(e,n,r){Nx(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,c){const f=u0(n);s.run(e,f,h);function h(p,y,b){const T=y||e;p?c(p):u?u(T):r(void 0,T,b)}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),Rx("runSync","run",r),s;function o(u,c){wx(u),s=c,r=!0}}stringify(e,n){this.freeze();const r=u0(n),s=this.compiler||this.Compiler;return Yy("stringify",s),Nx(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(Gy("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(h){if(typeof h=="function")f(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[p,...y]=h;f(p,y)}else u(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function u(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(s.settings=Vy(!0,s.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){const y=h[p];o(y)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function f(h,p){let y=-1,b=-1;for(;++y<r.length;)if(r[y][0]===h){b=y;break}if(b===-1)r.push([h,...p]);else if(p.length>0){let[T,...w]=p;const R=r[b][1];XE(R)&&XE(T)&&(T=Vy(!0,R,T)),r[b]=[h,T,...w]}}}}const Gq=new H_().freeze();function qy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Yy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Gy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Nx(t){if(!XE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Rx(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function u0(t){return $q(t)?t:new Z3(t)}function $q(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Kq(t){return typeof t=="string"||Xq(t)}function Xq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Qq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kx=[],Dx={allowDangerousHtml:!0},Wq=/^(https?|ircs?|mailto|xmpp)$/i,Zq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Jq(t){const e=eY(t),n=tY(t);return nY(e.runSync(e.parse(n),n),t)}function eY(t){const e=t.rehypePlugins||kx,n=t.remarkPlugins||kx,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Dx}:Dx;return Gq().use(Oj).use(n).use(Iq,r).use(e)}function tY(t){const e=t.children||"",n=new Z3;return typeof e=="string"&&(n.value=e),n}function nY(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||rY;for(const p of Zq)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Qq+p.id,void 0);return U_(t,h),fF(t,{Fragment:L.Fragment,components:s,ignoreInvalidStyle:!0,jsx:L.jsx,jsxs:L.jsxs,passKeys:!0,passNode:!0});function h(p,y,b){if(p.type==="raw"&&b&&typeof y=="number")return u?b.children.splice(y,1):b.children[y]={type:"text",value:p.value},y;if(p.type==="element"){let T;for(T in My)if(Object.hasOwn(My,T)&&Object.hasOwn(p.properties,T)){const w=p.properties[T],R=My[T];(R===null||R.includes(p.tagName))&&(p.properties[T]=f(String(w||""),T,p))}}if(p.type==="element"){let T=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!T&&r&&typeof y=="number"&&(T=!r(p,y,b)),T&&b&&typeof y=="number")return c&&p.children?b.children.splice(y,1,...p.children):b.children.splice(y,1),y}}}function rY(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||Wq.test(t.slice(0,e))?t:""}const Ox=/[#.]/g;function iY(t,e){const n=t||"",r={};let s=0,o,u;for(;s<n.length;){Ox.lastIndex=s;const c=Ox.exec(n),f=n.slice(s,c?c.index:n.length);f&&(o?o==="#"?r.id=f:Array.isArray(r.className)?r.className.push(f):r.className=[f]:u=f,s+=f.length),c&&(o=c[0],s++)}return{type:"element",tagName:u||e||"div",properties:r,children:[]}}function J3(t,e,n){const r=n?uY(n):void 0;function s(o,u,...c){let f;if(o==null){f={type:"root",children:[]};const h=u;c.unshift(h)}else{f=iY(o,e);const h=f.tagName.toLowerCase(),p=r?r.get(h):void 0;if(f.tagName=p||h,sY(u))c.unshift(u);else for(const[y,b]of Object.entries(u))aY(t,f.properties,y,b)}for(const h of c)WE(f.children,h);return f.type==="element"&&f.tagName==="template"&&(f.content={type:"root",children:f.children},f.children=[]),f}return s}function sY(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const s=e[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const o=s;for(const u of o)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function aY(t,e,n,r){const s=C_(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?s.spaceSeparated?o=ZS(r):s.commaSeparated?o=$S(r):s.commaOrSpaceSeparated?o=ZS($S(r).join(" ")):o=Lx(s,s.property,r):Array.isArray(r)?o=[...r]:o=s.property==="style"?oY(r):String(r);if(Array.isArray(o)){const u=[];for(const c of o)u.push(Lx(s,s.property,c));o=u}s.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[s.property]=o}}function WE(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)WE(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?WE(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function Lx(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||nf(n)===nf(e)))return!0}return n}function oY(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function uY(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const lY=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],cY=J3($m,"div"),dY=J3(Gl,"g",lY);function fY(t){const e=String(t),n=[];return{toOffset:s,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=e.length){let u=0;for(;;){let c=n[u];if(c===void 0){const f=Px(e,n[u-1]);c=f===-1?e.length+1:f+1,n[u]=c}if(c>o)return{line:u+1,column:o-(u>0?n[u-1]:0)+1,offset:o};u++}}}function s(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const c=n[n.length-1],f=Px(e,c),h=f===-1?e.length+1:f+1;if(c===h)break;n.push(h)}const u=(o.line>1?n[o.line-2]:0)+o.column-1;if(u<n[o.line-1])return u}}}function Px(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Bo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},eR={}.hasOwnProperty,hY=Object.prototype;function mY(t,e){const n=e||{};return V_({file:n.file||void 0,location:!1,schema:n.space==="svg"?Gl:$m,verbose:n.verbose||!1},t)}function V_(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},C0(t,r,n),n}case"#document":case"#document-fragment":{const r=e,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:tR(t,e.childNodes),data:{quirksMode:s}},t.file&&t.location){const o=String(t.file),u=fY(o),c=u.toPoint(0),f=u.toPoint(o.length);n.position={start:c,end:f}}return n}case"#documentType":{const r=e;return n={type:"doctype"},C0(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},C0(t,r,n),n}default:return n=pY(t,e),n}}function tR(t,e){let n=-1;const r=[];for(;++n<e.length;){const s=V_(t,e[n]);r.push(s)}return r}function pY(t,e){const n=t.schema;t.schema=e.namespaceURI===Bo.svg?Gl:$m;let r=-1;const s={};for(;++r<e.attrs.length;){const c=e.attrs[r],f=(c.prefix?c.prefix+":":"")+c.name;eR.call(hY,f)||(s[f]=c.value)}const u=(t.schema.space==="svg"?dY:cY)(e.tagName,s,tR(t,e.childNodes));if(C0(t,e,u),u.tagName==="template"){const c=e,f=c.sourceCodeLocation,h=f&&f.startTag&&cl(f.startTag),p=f&&f.endTag&&cl(f.endTag),y=V_(t,c.content);h&&p&&t.file&&(y.position={start:h.end,end:p.start}),u.content=y}return t.schema=n,u}function C0(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=gY(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function gY(t,e,n){const r=cl(n);if(e.type==="element"){const s=e.children[e.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),t.verbose){const o={};let u;if(n.attrs)for(u in n.attrs)eR.call(n.attrs,u)&&(o[C_(t.schema,u).property]=cl(n.attrs[u]));n.startTag;const c=cl(n.startTag),f=n.endTag?cl(n.endTag):void 0,h={opening:c};f&&(h.closing=f),h.properties=o,e.data={position:h}}}return r}function cl(t){const e=Mx({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=Mx({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function Mx(t){return t.line&&t.column?t:void 0}class xf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}xf.prototype.property={};xf.prototype.normal={};xf.prototype.space=null;function nR(t,e){const n={},r={};let s=-1;for(;++s<t.length;)Object.assign(n,t[s].property),Object.assign(r,t[s].normal);return new xf(n,r,e)}function ZE(t){return t.toLowerCase()}class fi{constructor(e,n){this.property=e,this.attribute=n}}fi.prototype.space=null;fi.prototype.boolean=!1;fi.prototype.booleanish=!1;fi.prototype.overloadedBoolean=!1;fi.prototype.number=!1;fi.prototype.commaSeparated=!1;fi.prototype.spaceSeparated=!1;fi.prototype.commaOrSpaceSeparated=!1;fi.prototype.mustUseProperty=!1;fi.prototype.defined=!1;let yY=0;const et=nu(),bn=nu(),rR=nu(),ke=nu(),Vt=nu(),vl=nu(),Mr=nu();function nu(){return 2**++yY}const JE=Object.freeze(Object.defineProperty({__proto__:null,boolean:et,booleanish:bn,commaOrSpaceSeparated:Mr,commaSeparated:vl,number:ke,overloadedBoolean:rR,spaceSeparated:Vt},Symbol.toStringTag,{value:"Module"})),$y=Object.keys(JE);class F_ extends fi{constructor(e,n,r,s){let o=-1;if(super(e,n),Bx(this,"space",s),typeof r=="number")for(;++o<$y.length;){const u=$y[o];Bx(this,$y[o],(r&JE[u])===JE[u])}}}F_.prototype.defined=!0;function Bx(t,e,n){n&&(t[e]=n)}const EY={}.hasOwnProperty;function Kl(t){const e={},n={};let r;for(r in t.properties)if(EY.call(t.properties,r)){const s=t.properties[r],o=new F_(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[ZE(r)]=r,n[ZE(o.attribute)]=r}return new xf(e,n,t.space)}const iR=Kl({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),sR=Kl({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function aR(t,e){return e in t?t[e]:e}function oR(t,e){return aR(t,e.toLowerCase())}const uR=Kl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:oR,properties:{xmlns:null,xmlnsXLink:null}}),lR=Kl({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:bn,ariaAutoComplete:null,ariaBusy:bn,ariaChecked:bn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:Vt,ariaCurrent:null,ariaDescribedBy:Vt,ariaDetails:null,ariaDisabled:bn,ariaDropEffect:Vt,ariaErrorMessage:null,ariaExpanded:bn,ariaFlowTo:Vt,ariaGrabbed:bn,ariaHasPopup:null,ariaHidden:bn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Vt,ariaLevel:ke,ariaLive:null,ariaModal:bn,ariaMultiLine:bn,ariaMultiSelectable:bn,ariaOrientation:null,ariaOwns:Vt,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:bn,ariaReadOnly:bn,ariaRelevant:null,ariaRequired:bn,ariaRoleDescription:Vt,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:bn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),_Y=Kl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:oR,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vl,acceptCharset:Vt,accessKey:Vt,action:null,allow:null,allowFullScreen:et,allowPaymentRequest:et,allowUserMedia:et,alt:null,as:null,async:et,autoCapitalize:null,autoComplete:Vt,autoFocus:et,autoPlay:et,blocking:Vt,capture:null,charSet:null,checked:et,cite:null,className:Vt,cols:ke,colSpan:null,content:null,contentEditable:bn,controls:et,controlsList:Vt,coords:ke|vl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:et,defer:et,dir:null,dirName:null,disabled:et,download:rR,draggable:bn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:et,formTarget:null,headers:Vt,height:ke,hidden:et,high:ke,href:null,hrefLang:null,htmlFor:Vt,httpEquiv:Vt,id:null,imageSizes:null,imageSrcSet:null,inert:et,inputMode:null,integrity:null,is:null,isMap:et,itemId:null,itemProp:Vt,itemRef:Vt,itemScope:et,itemType:Vt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:et,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:et,muted:et,name:null,nonce:null,noModule:et,noValidate:et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:et,optimum:ke,pattern:null,ping:Vt,placeholder:null,playsInline:et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:et,referrerPolicy:null,rel:Vt,required:et,reversed:et,rows:ke,rowSpan:ke,sandbox:Vt,scope:null,scoped:et,seamless:et,selected:et,shadowRootClonable:et,shadowRootDelegatesFocus:et,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:bn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:et,useMap:null,value:bn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Vt,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:et,declare:et,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:et,noHref:et,noShade:et,noWrap:et,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:bn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:et,disableRemotePlayback:et,prefix:null,property:null,results:ke,security:null,unselectable:null}}),bY=Kl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:aR,properties:{about:Mr,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:Vt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:et,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vl,g2:vl,glyphName:vl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:Mr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Vt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Mr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Mr,rev:Mr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Mr,requiredFeatures:Mr,requiredFonts:Mr,requiredFormats:Mr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:Mr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Mr,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Mr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),TY=/^data[-\w.:]+$/i,Ux=/-[a-z]/g,vY=/[A-Z]/g;function AY(t,e){const n=ZE(e);let r=e,s=fi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&TY.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Ux,xY);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Ux.test(o)){let u=o.replace(vY,SY);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=F_}return new s(r,e)}function SY(t){return"-"+t.toLowerCase()}function xY(t){return t.charAt(1).toUpperCase()}const wY=nR([sR,iR,uR,lR,_Y],"html"),cR=nR([sR,iR,uR,lR,bY],"svg"),Hx={}.hasOwnProperty;function dR(t,e){const n=e||{};function r(s,...o){let u=r.invalid;const c=r.handlers;if(s&&Hx.call(s,t)){const f=String(s[t]);u=Hx.call(c,f)?c[f]:r.unknown}if(u)return u.call(this,s,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const CY={},IY={}.hasOwnProperty,fR=dR("type",{handlers:{root:RY,element:PY,text:OY,comment:LY,doctype:DY}});function NY(t,e){const r=(e||CY).space;return fR(t,r==="svg"?cR:wY)}function RY(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=z_(t.children,n,e),Xl(t,n),n}function kY(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=z_(t.children,n,e),Xl(t,n),n}function DY(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Xl(t,e),e}function OY(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Xl(t,e),e}function LY(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Xl(t,e),e}function PY(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=cR);const s=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&IY.call(t.properties,o)){const f=MY(r,o,t.properties[o]);f&&s.push(f)}}const u=r.space,c={nodeName:t.tagName,tagName:t.tagName,attrs:s,namespaceURI:Bo[u],childNodes:[],parentNode:null};return c.childNodes=z_(t.children,c,r),Xl(t,c),t.tagName==="template"&&t.content&&(c.content=kY(t.content,r)),c}function MY(t,e,n){const r=AY(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?E3(n):w3(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=s.name.indexOf(":");o<0?s.prefix="":(s.name=s.name.slice(o+1),s.prefix=r.attribute.slice(0,o)),s.namespace=Bo[r.space]}return s}function z_(t,e,n){let r=-1;const s=[];if(t)for(;++r<t.length;){const o=fR(t[r],n);o.parentNode=e,s.push(o)}return s}function Xl(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const BY=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],UY=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Kt="";var j;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(j||(j={}));const mr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function hR(t){return t>=55296&&t<=57343}function HY(t){return t>=56320&&t<=57343}function VY(t,e){return(t-55296)*1024+9216+e}function mR(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function pR(t){return t>=64976&&t<=65007||UY.has(t)}var ye;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ye||(ye={}));const FY=65536;class zY{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=FY,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:s,offset:o}=this,u=s+n,c=o+n;return{code:e,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(HY(n))return this.pos++,this._addGap(),VY(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,j.EOF;return this._err(ye.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,j.EOF;const r=this.html.charCodeAt(n);return r===j.CARRIAGE_RETURN?j.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,j.EOF;let e=this.html.charCodeAt(this.pos);return e===j.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,j.LINE_FEED):e===j.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,hR(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===j.LINE_FEED||e===j.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){mR(e)?this._err(ye.controlCharacterInInputStream):pR(e)&&this._err(ye.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var lt;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(lt||(lt={}));function gR(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const jY=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),qY=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function YY(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=qY.get(t))!==null&&e!==void 0?e:t}var Bn;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(Bn||(Bn={}));const GY=32;var Oa;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Oa||(Oa={}));function e1(t){return t>=Bn.ZERO&&t<=Bn.NINE}function $Y(t){return t>=Bn.UPPER_A&&t<=Bn.UPPER_F||t>=Bn.LOWER_A&&t<=Bn.LOWER_F}function KY(t){return t>=Bn.UPPER_A&&t<=Bn.UPPER_Z||t>=Bn.LOWER_A&&t<=Bn.LOWER_Z||e1(t)}function XY(t){return t===Bn.EQUALS||KY(t)}var Pn;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Pn||(Pn={}));var Ps;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ps||(Ps={}));class QY{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Pn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ps.Strict}startEntity(e){this.decodeMode=e,this.state=Pn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Pn.EntityStart:return e.charCodeAt(n)===Bn.NUM?(this.state=Pn.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Pn.NamedEntity,this.stateNamedEntity(e,n));case Pn.NumericStart:return this.stateNumericStart(e,n);case Pn.NumericDecimal:return this.stateNumericDecimal(e,n);case Pn.NumericHex:return this.stateNumericHex(e,n);case Pn.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|GY)===Bn.LOWER_X?(this.state=Pn.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Pn.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,s){if(n!==r){const o=r-n;this.result=this.result*Math.pow(s,o)+Number.parseInt(e.substr(n,o),s),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(e1(s)||$Y(s))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(e1(s))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Bn.SEMI)this.consumed+=1;else if(this.decodeMode===Ps.Strict)return 0;return this.emitCodePoint(YY(this.result),this.consumed),this.errors&&(e!==Bn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let s=r[this.treeIndex],o=(s&Oa.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const u=e.charCodeAt(n);if(this.treeIndex=WY(r,s,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===Ps.Attribute&&(o===0||XY(u))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],o=(s&Oa.VALUE_LENGTH)>>14,o!==0){if(u===Bn.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Ps.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,s=(r[n]&Oa.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~Oa.VALUE_LENGTH:s[e+1],r),n===3&&this.emitCodePoint(s[e+2],r),r}end(){var e;switch(this.state){case Pn.NamedEntity:return this.result!==0&&(this.decodeMode!==Ps.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Pn.NumericDecimal:return this.emitNumericEntity(0,2);case Pn.NumericHex:return this.emitNumericEntity(0,3);case Pn.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Pn.EntityStart:return 0}}}function WY(t,e,n,r){const s=(e&Oa.BRANCH_LENGTH)>>7,o=e&Oa.JUMP_TABLE;if(s===0)return o!==0&&r===o?n:-1;if(o){const f=r-o;return f<0||f>=s?-1:t[n+f]-1}let u=n,c=u+s-1;for(;u<=c;){const f=u+c>>>1,h=t[f];if(h<r)u=f+1;else if(h>r)c=f-1;else return t[f+s]}return-1}var Ie;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Ie||(Ie={}));var Vo;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(Vo||(Vo={}));var li;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(li||(li={}));var ce;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(ce||(ce={}));var _;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(_||(_={}));const ZY=new Map([[ce.A,_.A],[ce.ADDRESS,_.ADDRESS],[ce.ANNOTATION_XML,_.ANNOTATION_XML],[ce.APPLET,_.APPLET],[ce.AREA,_.AREA],[ce.ARTICLE,_.ARTICLE],[ce.ASIDE,_.ASIDE],[ce.B,_.B],[ce.BASE,_.BASE],[ce.BASEFONT,_.BASEFONT],[ce.BGSOUND,_.BGSOUND],[ce.BIG,_.BIG],[ce.BLOCKQUOTE,_.BLOCKQUOTE],[ce.BODY,_.BODY],[ce.BR,_.BR],[ce.BUTTON,_.BUTTON],[ce.CAPTION,_.CAPTION],[ce.CENTER,_.CENTER],[ce.CODE,_.CODE],[ce.COL,_.COL],[ce.COLGROUP,_.COLGROUP],[ce.DD,_.DD],[ce.DESC,_.DESC],[ce.DETAILS,_.DETAILS],[ce.DIALOG,_.DIALOG],[ce.DIR,_.DIR],[ce.DIV,_.DIV],[ce.DL,_.DL],[ce.DT,_.DT],[ce.EM,_.EM],[ce.EMBED,_.EMBED],[ce.FIELDSET,_.FIELDSET],[ce.FIGCAPTION,_.FIGCAPTION],[ce.FIGURE,_.FIGURE],[ce.FONT,_.FONT],[ce.FOOTER,_.FOOTER],[ce.FOREIGN_OBJECT,_.FOREIGN_OBJECT],[ce.FORM,_.FORM],[ce.FRAME,_.FRAME],[ce.FRAMESET,_.FRAMESET],[ce.H1,_.H1],[ce.H2,_.H2],[ce.H3,_.H3],[ce.H4,_.H4],[ce.H5,_.H5],[ce.H6,_.H6],[ce.HEAD,_.HEAD],[ce.HEADER,_.HEADER],[ce.HGROUP,_.HGROUP],[ce.HR,_.HR],[ce.HTML,_.HTML],[ce.I,_.I],[ce.IMG,_.IMG],[ce.IMAGE,_.IMAGE],[ce.INPUT,_.INPUT],[ce.IFRAME,_.IFRAME],[ce.KEYGEN,_.KEYGEN],[ce.LABEL,_.LABEL],[ce.LI,_.LI],[ce.LINK,_.LINK],[ce.LISTING,_.LISTING],[ce.MAIN,_.MAIN],[ce.MALIGNMARK,_.MALIGNMARK],[ce.MARQUEE,_.MARQUEE],[ce.MATH,_.MATH],[ce.MENU,_.MENU],[ce.META,_.META],[ce.MGLYPH,_.MGLYPH],[ce.MI,_.MI],[ce.MO,_.MO],[ce.MN,_.MN],[ce.MS,_.MS],[ce.MTEXT,_.MTEXT],[ce.NAV,_.NAV],[ce.NOBR,_.NOBR],[ce.NOFRAMES,_.NOFRAMES],[ce.NOEMBED,_.NOEMBED],[ce.NOSCRIPT,_.NOSCRIPT],[ce.OBJECT,_.OBJECT],[ce.OL,_.OL],[ce.OPTGROUP,_.OPTGROUP],[ce.OPTION,_.OPTION],[ce.P,_.P],[ce.PARAM,_.PARAM],[ce.PLAINTEXT,_.PLAINTEXT],[ce.PRE,_.PRE],[ce.RB,_.RB],[ce.RP,_.RP],[ce.RT,_.RT],[ce.RTC,_.RTC],[ce.RUBY,_.RUBY],[ce.S,_.S],[ce.SCRIPT,_.SCRIPT],[ce.SEARCH,_.SEARCH],[ce.SECTION,_.SECTION],[ce.SELECT,_.SELECT],[ce.SOURCE,_.SOURCE],[ce.SMALL,_.SMALL],[ce.SPAN,_.SPAN],[ce.STRIKE,_.STRIKE],[ce.STRONG,_.STRONG],[ce.STYLE,_.STYLE],[ce.SUB,_.SUB],[ce.SUMMARY,_.SUMMARY],[ce.SUP,_.SUP],[ce.TABLE,_.TABLE],[ce.TBODY,_.TBODY],[ce.TEMPLATE,_.TEMPLATE],[ce.TEXTAREA,_.TEXTAREA],[ce.TFOOT,_.TFOOT],[ce.TD,_.TD],[ce.TH,_.TH],[ce.THEAD,_.THEAD],[ce.TITLE,_.TITLE],[ce.TR,_.TR],[ce.TRACK,_.TRACK],[ce.TT,_.TT],[ce.U,_.U],[ce.UL,_.UL],[ce.SVG,_.SVG],[ce.VAR,_.VAR],[ce.WBR,_.WBR],[ce.XMP,_.XMP]]);function Ql(t){var e;return(e=ZY.get(t))!==null&&e!==void 0?e:_.UNKNOWN}const Ne=_,JY={[Ie.HTML]:new Set([Ne.ADDRESS,Ne.APPLET,Ne.AREA,Ne.ARTICLE,Ne.ASIDE,Ne.BASE,Ne.BASEFONT,Ne.BGSOUND,Ne.BLOCKQUOTE,Ne.BODY,Ne.BR,Ne.BUTTON,Ne.CAPTION,Ne.CENTER,Ne.COL,Ne.COLGROUP,Ne.DD,Ne.DETAILS,Ne.DIR,Ne.DIV,Ne.DL,Ne.DT,Ne.EMBED,Ne.FIELDSET,Ne.FIGCAPTION,Ne.FIGURE,Ne.FOOTER,Ne.FORM,Ne.FRAME,Ne.FRAMESET,Ne.H1,Ne.H2,Ne.H3,Ne.H4,Ne.H5,Ne.H6,Ne.HEAD,Ne.HEADER,Ne.HGROUP,Ne.HR,Ne.HTML,Ne.IFRAME,Ne.IMG,Ne.INPUT,Ne.LI,Ne.LINK,Ne.LISTING,Ne.MAIN,Ne.MARQUEE,Ne.MENU,Ne.META,Ne.NAV,Ne.NOEMBED,Ne.NOFRAMES,Ne.NOSCRIPT,Ne.OBJECT,Ne.OL,Ne.P,Ne.PARAM,Ne.PLAINTEXT,Ne.PRE,Ne.SCRIPT,Ne.SECTION,Ne.SELECT,Ne.SOURCE,Ne.STYLE,Ne.SUMMARY,Ne.TABLE,Ne.TBODY,Ne.TD,Ne.TEMPLATE,Ne.TEXTAREA,Ne.TFOOT,Ne.TH,Ne.THEAD,Ne.TITLE,Ne.TR,Ne.TRACK,Ne.UL,Ne.WBR,Ne.XMP]),[Ie.MATHML]:new Set([Ne.MI,Ne.MO,Ne.MN,Ne.MS,Ne.MTEXT,Ne.ANNOTATION_XML]),[Ie.SVG]:new Set([Ne.TITLE,Ne.FOREIGN_OBJECT,Ne.DESC]),[Ie.XLINK]:new Set,[Ie.XML]:new Set,[Ie.XMLNS]:new Set},t1=new Set([Ne.H1,Ne.H2,Ne.H3,Ne.H4,Ne.H5,Ne.H6]);ce.STYLE,ce.SCRIPT,ce.XMP,ce.IFRAME,ce.NOEMBED,ce.NOFRAMES,ce.PLAINTEXT;var K;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(K||(K={}));const mn={DATA:K.DATA,RCDATA:K.RCDATA,RAWTEXT:K.RAWTEXT,SCRIPT_DATA:K.SCRIPT_DATA,PLAINTEXT:K.PLAINTEXT,CDATA_SECTION:K.CDATA_SECTION};function eG(t){return t>=j.DIGIT_0&&t<=j.DIGIT_9}function bd(t){return t>=j.LATIN_CAPITAL_A&&t<=j.LATIN_CAPITAL_Z}function tG(t){return t>=j.LATIN_SMALL_A&&t<=j.LATIN_SMALL_Z}function Ta(t){return tG(t)||bd(t)}function Vx(t){return Ta(t)||eG(t)}function l0(t){return t+32}function yR(t){return t===j.SPACE||t===j.LINE_FEED||t===j.TABULATION||t===j.FORM_FEED}function Fx(t){return yR(t)||t===j.SOLIDUS||t===j.GREATER_THAN_SIGN}function nG(t){return t===j.NULL?ye.nullCharacterReference:t>1114111?ye.characterReferenceOutsideUnicodeRange:hR(t)?ye.surrogateCharacterReference:pR(t)?ye.noncharacterCharacterReference:mR(t)||t===j.CARRIAGE_RETURN?ye.controlCharacterReference:null}class rG{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=K.DATA,this.returnState=K.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new zY(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new QY(jY,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ye.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ye.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=nG(r);s&&this._err(s,1)}}:void 0)}_err(e,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:lt.START_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:lt.END_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:lt.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:lt.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(gR(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ye.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=Ql(e.tagName),e.type===lt.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ye.endTagWithAttributes),e.selfClosing&&this._err(ye.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case lt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case lt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case lt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:lt.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=yR(e)?lt.WHITESPACE_CHARACTER:e===j.NULL?lt.NULL_CHARACTER:lt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(lt.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=K.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ps.Attribute:Ps.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===K.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===K.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===K.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case K.DATA:{this._stateData(e);break}case K.RCDATA:{this._stateRcdata(e);break}case K.RAWTEXT:{this._stateRawtext(e);break}case K.SCRIPT_DATA:{this._stateScriptData(e);break}case K.PLAINTEXT:{this._statePlaintext(e);break}case K.TAG_OPEN:{this._stateTagOpen(e);break}case K.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case K.TAG_NAME:{this._stateTagName(e);break}case K.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case K.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case K.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case K.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case K.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case K.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case K.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case K.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case K.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case K.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case K.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case K.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case K.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case K.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case K.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case K.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case K.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case K.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case K.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case K.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case K.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case K.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case K.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case K.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case K.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case K.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case K.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case K.BOGUS_COMMENT:{this._stateBogusComment(e);break}case K.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case K.COMMENT_START:{this._stateCommentStart(e);break}case K.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case K.COMMENT:{this._stateComment(e);break}case K.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case K.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case K.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case K.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case K.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case K.COMMENT_END:{this._stateCommentEnd(e);break}case K.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case K.DOCTYPE:{this._stateDoctype(e);break}case K.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case K.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case K.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case K.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case K.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case K.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case K.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case K.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case K.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case K.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case K.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case K.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case K.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case K.CDATA_SECTION:{this._stateCdataSection(e);break}case K.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case K.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case K.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case K.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case j.LESS_THAN_SIGN:{this.state=K.TAG_OPEN;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this._emitCodePoint(e);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case j.AMPERSAND:{this._startCharacterReference();break}case j.LESS_THAN_SIGN:{this.state=K.RCDATA_LESS_THAN_SIGN;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(Kt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case j.LESS_THAN_SIGN:{this.state=K.RAWTEXT_LESS_THAN_SIGN;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(Kt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case j.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_LESS_THAN_SIGN;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(Kt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case j.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(Kt);break}case j.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ta(e))this._createStartTagToken(),this.state=K.TAG_NAME,this._stateTagName(e);else switch(e){case j.EXCLAMATION_MARK:{this.state=K.MARKUP_DECLARATION_OPEN;break}case j.SOLIDUS:{this.state=K.END_TAG_OPEN;break}case j.QUESTION_MARK:{this._err(ye.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=K.BOGUS_COMMENT,this._stateBogusComment(e);break}case j.EOF:{this._err(ye.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ye.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=K.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ta(e))this._createEndTagToken(),this.state=K.TAG_NAME,this._stateTagName(e);else switch(e){case j.GREATER_THAN_SIGN:{this._err(ye.missingEndTagName),this.state=K.DATA;break}case j.EOF:{this._err(ye.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ye.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=K.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=K.BEFORE_ATTRIBUTE_NAME;break}case j.SOLIDUS:{this.state=K.SELF_CLOSING_START_TAG;break}case j.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentTagToken();break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.tagName+=Kt;break}case j.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(bd(e)?l0(e):e)}}_stateRcdataLessThanSign(e){e===j.SOLIDUS?this.state=K.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=K.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ta(e)?(this.state=K.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=K.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=K.BEFORE_ATTRIBUTE_NAME,!1;case j.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=K.SELF_CLOSING_START_TAG,!1;case j.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=K.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=K.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===j.SOLIDUS?this.state=K.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=K.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ta(e)?(this.state=K.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=K.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=K.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case j.SOLIDUS:{this.state=K.SCRIPT_DATA_END_TAG_OPEN;break}case j.EXCLAMATION_MARK:{this.state=K.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=K.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ta(e)?(this.state=K.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=K.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=K.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===j.HYPHEN_MINUS?(this.state=K.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=K.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===j.HYPHEN_MINUS?(this.state=K.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=K.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case j.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(Kt);break}case j.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case j.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_ESCAPED,this._emitChars(Kt);break}case j.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case j.HYPHEN_MINUS:{this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case j.GREATER_THAN_SIGN:{this.state=K.SCRIPT_DATA,this._emitChars(">");break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_ESCAPED,this._emitChars(Kt);break}case j.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===j.SOLIDUS?this.state=K.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ta(e)?(this._emitChars("<"),this.state=K.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ta(e)?(this.state=K.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(mr.SCRIPT,!1)&&Fx(this.preprocessor.peek(mr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<mr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=K.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case j.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this._emitChars(Kt);break}case j.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case j.HYPHEN_MINUS:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Kt);break}case j.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case j.HYPHEN_MINUS:{this._emitChars("-");break}case j.LESS_THAN_SIGN:{this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case j.GREATER_THAN_SIGN:{this.state=K.SCRIPT_DATA,this._emitChars(">");break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Kt);break}case j.EOF:{this._err(ye.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===j.SOLIDUS?(this.state=K.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(mr.SCRIPT,!1)&&Fx(this.preprocessor.peek(mr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<mr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=K.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=K.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.SOLIDUS:case j.GREATER_THAN_SIGN:case j.EOF:{this.state=K.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case j.EQUALS_SIGN:{this._err(ye.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=K.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=K.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:case j.SOLIDUS:case j.GREATER_THAN_SIGN:case j.EOF:{this._leaveAttrName(),this.state=K.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case j.EQUALS_SIGN:{this._leaveAttrName(),this.state=K.BEFORE_ATTRIBUTE_VALUE;break}case j.QUOTATION_MARK:case j.APOSTROPHE:case j.LESS_THAN_SIGN:{this._err(ye.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.name+=Kt;break}default:this.currentAttr.name+=String.fromCodePoint(bd(e)?l0(e):e)}}_stateAfterAttributeName(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.SOLIDUS:{this.state=K.SELF_CLOSING_START_TAG;break}case j.EQUALS_SIGN:{this.state=K.BEFORE_ATTRIBUTE_VALUE;break}case j.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=K.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{this.state=K.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this.state=K.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ye.missingAttributeValue),this.state=K.DATA,this.emitCurrentTagToken();break}default:this.state=K.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case j.QUOTATION_MARK:{this.state=K.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=Kt;break}case j.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case j.APOSTROPHE:{this.state=K.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=Kt;break}case j.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this._leaveAttrValue(),this.state=K.BEFORE_ATTRIBUTE_NAME;break}case j.AMPERSAND:{this._startCharacterReference();break}case j.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=K.DATA,this.emitCurrentTagToken();break}case j.NULL:{this._err(ye.unexpectedNullCharacter),this.currentAttr.value+=Kt;break}case j.QUOTATION_MARK:case j.APOSTROPHE:case j.LESS_THAN_SIGN:case j.EQUALS_SIGN:case j.GRAVE_ACCENT:{this._err(ye.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case j.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this._leaveAttrValue(),this.state=K.BEFORE_ATTRIBUTE_NAME;break}case j.SOLIDUS:{this._leaveAttrValue(),this.state=K.SELF_CLOSING_START_TAG;break}case j.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=K.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._err(ye.missingWhitespaceBetweenAttributes),this.state=K.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case j.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=K.DATA,this.emitCurrentTagToken();break}case j.EOF:{this._err(ye.eofInTag),this._emitEOFToken();break}default:this._err(ye.unexpectedSolidusInTag),this.state=K.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case j.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentComment(n);break}case j.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.data+=Kt;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(mr.DASH_DASH,!0)?(this._createCommentToken(mr.DASH_DASH.length+1),this.state=K.COMMENT_START):this._consumeSequenceIfMatch(mr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(mr.DOCTYPE.length+1),this.state=K.DOCTYPE):this._consumeSequenceIfMatch(mr.CDATA_START,!0)?this.inForeignNode?this.state=K.CDATA_SECTION:(this._err(ye.cdataInHtmlContent),this._createCommentToken(mr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=K.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ye.incorrectlyOpenedComment),this._createCommentToken(2),this.state=K.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case j.HYPHEN_MINUS:{this.state=K.COMMENT_START_DASH;break}case j.GREATER_THAN_SIGN:{this._err(ye.abruptClosingOfEmptyComment),this.state=K.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=K.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{this.state=K.COMMENT_END;break}case j.GREATER_THAN_SIGN:{this._err(ye.abruptClosingOfEmptyComment),this.state=K.DATA,this.emitCurrentComment(n);break}case j.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=K.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{this.state=K.COMMENT_END_DASH;break}case j.LESS_THAN_SIGN:{n.data+="<",this.state=K.COMMENT_LESS_THAN_SIGN;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.data+=Kt;break}case j.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case j.EXCLAMATION_MARK:{n.data+="!",this.state=K.COMMENT_LESS_THAN_SIGN_BANG;break}case j.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=K.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===j.HYPHEN_MINUS?this.state=K.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=K.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===j.HYPHEN_MINUS?this.state=K.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=K.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==j.GREATER_THAN_SIGN&&e!==j.EOF&&this._err(ye.nestedComment),this.state=K.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{this.state=K.COMMENT_END;break}case j.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=K.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case j.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentComment(n);break}case j.EXCLAMATION_MARK:{this.state=K.COMMENT_END_BANG;break}case j.HYPHEN_MINUS:{n.data+="-";break}case j.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=K.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case j.HYPHEN_MINUS:{n.data+="--!",this.state=K.COMMENT_END_DASH;break}case j.GREATER_THAN_SIGN:{this._err(ye.incorrectlyClosedComment),this.state=K.DATA,this.emitCurrentComment(n);break}case j.EOF:{this._err(ye.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=K.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=K.BEFORE_DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this.state=K.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case j.EOF:{this._err(ye.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingWhitespaceBeforeDoctypeName),this.state=K.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(bd(e))this._createDoctypeToken(String.fromCharCode(l0(e))),this.state=K.DOCTYPE_NAME;else switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.NULL:{this._err(ye.unexpectedNullCharacter),this._createDoctypeToken(Kt),this.state=K.DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.EOF:{this._err(ye.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=K.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=K.AFTER_DOCTYPE_NAME;break}case j.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentDoctype(n);break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.name+=Kt;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(bd(e)?l0(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(mr.PUBLIC,!1)?this.state=K.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(mr.SYSTEM,!1)?this.state=K.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ye.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=K.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.QUOTATION_MARK:{this._err(ye.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ye.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ye.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{n.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.publicId="",this.state=K.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ye.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case j.QUOTATION_MARK:{this.state=K.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.publicId+=Kt;break}case j.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case j.APOSTROPHE:{this.state=K.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.publicId+=Kt;break}case j.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=K.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case j.GREATER_THAN_SIGN:{this.state=K.DATA,this.emitCurrentDoctype(n);break}case j.QUOTATION_MARK:{this._err(ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ye.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.QUOTATION_MARK:{n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:{this.state=K.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.QUOTATION_MARK:{this._err(ye.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{this._err(ye.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.QUOTATION_MARK:{n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case j.APOSTROPHE:{n.systemId="",this.state=K.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case j.GREATER_THAN_SIGN:{this._err(ye.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=K.DATA,this.emitCurrentDoctype(n);break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case j.QUOTATION_MARK:{this.state=K.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.systemId+=Kt;break}case j.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case j.APOSTROPHE:{this.state=K.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case j.NULL:{this._err(ye.unexpectedNullCharacter),n.systemId+=Kt;break}case j.GREATER_THAN_SIGN:{this._err(ye.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case j.SPACE:case j.LINE_FEED:case j.TABULATION:case j.FORM_FEED:break;case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.EOF:{this._err(ye.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ye.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=K.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case j.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=K.DATA;break}case j.NULL:{this._err(ye.unexpectedNullCharacter);break}case j.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case j.RIGHT_SQUARE_BRACKET:{this.state=K.CDATA_SECTION_BRACKET;break}case j.EOF:{this._err(ye.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===j.RIGHT_SQUARE_BRACKET?this.state=K.CDATA_SECTION_END:(this._emitChars("]"),this.state=K.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case j.GREATER_THAN_SIGN:{this.state=K.DATA;break}case j.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=K.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(j.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&Vx(this.preprocessor.peek(1))?K.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){Vx(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===j.SEMICOLON&&this._err(ye.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const ER=new Set([_.DD,_.DT,_.LI,_.OPTGROUP,_.OPTION,_.P,_.RB,_.RP,_.RT,_.RTC]),zx=new Set([...ER,_.CAPTION,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]),cm=new Set([_.APPLET,_.CAPTION,_.HTML,_.MARQUEE,_.OBJECT,_.TABLE,_.TD,_.TEMPLATE,_.TH]),iG=new Set([...cm,_.OL,_.UL]),sG=new Set([...cm,_.BUTTON]),jx=new Set([_.ANNOTATION_XML,_.MI,_.MN,_.MO,_.MS,_.MTEXT]),qx=new Set([_.DESC,_.FOREIGN_OBJECT,_.TITLE]),aG=new Set([_.TR,_.TEMPLATE,_.HTML]),oG=new Set([_.TBODY,_.TFOOT,_.THEAD,_.TEMPLATE,_.HTML]),uG=new Set([_.TABLE,_.TEMPLATE,_.HTML]),lG=new Set([_.TD,_.TH]);class cG{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=_.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===_.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ie.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const s=this._indexOf(e)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ie.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(t1,Ie.HTML)}popUntilTableCellPopped(){this.popUntilPopped(lG,Ie.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(uG,Ie.HTML)}clearBackToTableBodyContext(){this.clearBackTo(oG,Ie.HTML)}clearBackToTableRowContext(){this.clearBackTo(aG,Ie.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===_.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===_.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Ie.HTML:{if(s===e)return!0;if(n.has(s))return!1;break}case Ie.SVG:{if(qx.has(s))return!1;break}case Ie.MATHML:{if(jx.has(s))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,cm)}hasInListItemScope(e){return this.hasInDynamicScope(e,iG)}hasInButtonScope(e){return this.hasInDynamicScope(e,sG)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Ie.HTML:{if(t1.has(n))return!0;if(cm.has(n))return!1;break}case Ie.SVG:{if(qx.has(n))return!1;break}case Ie.MATHML:{if(jx.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ie.HTML)switch(this.tagIDs[n]){case e:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Ie.HTML)switch(this.tagIDs[e]){case _.TBODY:case _.THEAD:case _.TFOOT:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ie.HTML)switch(this.tagIDs[n]){case e:return!0;case _.OPTION:case _.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&ER.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&zx.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&zx.has(this.currentTagId);)this.pop()}}const Ky=3;var Wi;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Wi||(Wi={}));const Yx={type:Wi.Marker};class dG{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],s=n.length,o=this.treeAdapter.getTagName(e),u=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const f=this.entries[c];if(f.type===Wi.Marker)break;const{element:h}=f;if(this.treeAdapter.getTagName(h)===o&&this.treeAdapter.getNamespaceURI(h)===u){const p=this.treeAdapter.getAttrList(h);p.length===s&&r.push({idx:c,attrs:p})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<Ky)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<Ky)return;const s=new Map(n.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<r.length;u++){const c=r[u];c.attrs.every(f=>s.get(f.name)===f.value)&&(o+=1,o>=Ky&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(Yx)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Wi.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Wi.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(Yx);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Wi.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Wi.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Wi.Element&&n.element===e)}}const va={createDocument(){return{nodeName:"#document",mode:li.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const s=t.childNodes.find(o=>o.nodeName==="#documentType");if(s)s.name=e,s.publicId=n,s.systemId=r;else{const o={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};va.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(va.isTextNode(n)){n.value+=e;return}}va.appendChild(t,va.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&va.isTextNode(r)?r.value+=e:va.insertBefore(t,va.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},_R="html",fG="about:legacy-compat",hG="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",bR=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],mG=[...bR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],pG=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),TR=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],gG=[...TR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Gx(t,e){return e.some(n=>t.startsWith(n))}function yG(t){return t.name===_R&&t.publicId===null&&(t.systemId===null||t.systemId===fG)}function EG(t){if(t.name!==_R)return li.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===hG)return li.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),pG.has(n))return li.QUIRKS;let r=e===null?mG:bR;if(Gx(n,r))return li.QUIRKS;if(r=e===null?TR:gG,Gx(n,r))return li.LIMITED_QUIRKS}return li.NO_QUIRKS}const $x={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},_G="definitionurl",bG="definitionURL",TG=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),vG=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ie.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ie.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ie.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ie.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ie.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ie.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ie.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ie.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ie.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ie.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ie.XMLNS}]]),AG=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),SG=new Set([_.B,_.BIG,_.BLOCKQUOTE,_.BODY,_.BR,_.CENTER,_.CODE,_.DD,_.DIV,_.DL,_.DT,_.EM,_.EMBED,_.H1,_.H2,_.H3,_.H4,_.H5,_.H6,_.HEAD,_.HR,_.I,_.IMG,_.LI,_.LISTING,_.MENU,_.META,_.NOBR,_.OL,_.P,_.PRE,_.RUBY,_.S,_.SMALL,_.SPAN,_.STRONG,_.STRIKE,_.SUB,_.SUP,_.TABLE,_.TT,_.U,_.UL,_.VAR]);function xG(t){const e=t.tagID;return e===_.FONT&&t.attrs.some(({name:r})=>r===Vo.COLOR||r===Vo.SIZE||r===Vo.FACE)||SG.has(e)}function vR(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===_G){t.attrs[e].name=bG;break}}function AR(t){for(let e=0;e<t.attrs.length;e++){const n=TG.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function j_(t){for(let e=0;e<t.attrs.length;e++){const n=vG.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function wG(t){const e=AG.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=Ql(t.tagName))}function CG(t,e){return e===Ie.MATHML&&(t===_.MI||t===_.MO||t===_.MN||t===_.MS||t===_.MTEXT)}function IG(t,e,n){if(e===Ie.MATHML&&t===_.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Vo.ENCODING){const s=n[r].value.toLowerCase();return s===$x.TEXT_HTML||s===$x.APPLICATION_XML}}return e===Ie.SVG&&(t===_.FOREIGN_OBJECT||t===_.DESC||t===_.TITLE)}function NG(t,e,n,r){return(!r||r===Ie.HTML)&&IG(t,e,n)||(!r||r===Ie.MATHML)&&CG(t,e)}const RG="hidden",kG=8,DG=3;var Q;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Q||(Q={}));const OG={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},SR=new Set([_.TABLE,_.TBODY,_.TFOOT,_.THEAD,_.TR]),Kx={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:va,onParseError:null};class Xx{constructor(e,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=Q.INITIAL,this.originalInsertionMode=Q.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Kx,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new rG(this.options,this),this.activeFormattingElements=new dG(this.treeAdapter),this.fragmentContextID=r?Ql(this.treeAdapter.getTagName(r)):_.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new cG(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...Kx,...n};e??(e=r.treeAdapter.createElement(ce.TEMPLATE,Ie.HTML,[]));const s=r.treeAdapter.createElement("documentmock",Ie.HTML,[]),o=new this(r,s,e);return o.fragmentContextID===_.TEMPLATE&&o.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var s;if(!this.onParseError)return;const o=(s=e.location)!==null&&s!==void 0?s:OG,u={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(e,n,r){var s,o;(o=(s=this.treeAdapter).onItemPush)===null||o===void 0||o.call(s,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,e,this.openElements.current),n){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Ie.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Ie.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Q.TEXT}switchToPlaintextParsing(){this.insertionMode=Q.TEXT,this.originalInsertionMode=Q.IN_BODY,this.tokenizer.state=mn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ce.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ie.HTML))switch(this.fragmentContextID){case _.TITLE:case _.TEXTAREA:{this.tokenizer.state=mn.RCDATA;break}case _.STYLE:case _.XMP:case _.IFRAME:case _.NOEMBED:case _.NOFRAMES:case _.NOSCRIPT:{this.tokenizer.state=mn.RAWTEXT;break}case _.SCRIPT:{this.tokenizer.state=mn.SCRIPT_DATA;break}case _.PLAINTEXT:{this.tokenizer.state=mn.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),e.location){const u=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));u&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Ie.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Ie.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ce.HTML,Ie.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,_.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(n),o=r?s.lastIndexOf(r):s.length,u=s[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:f,endCol:h,endOffset:p}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:f,endCol:h,endOffset:p})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(e),o=n.type===lt.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===_.SVG&&this.treeAdapter.getTagName(n)===ce.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ie.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===_.MGLYPH||e.tagID===_.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Ie.HTML)}_processToken(e){switch(e.type){case lt.CHARACTER:{this.onCharacter(e);break}case lt.NULL_CHARACTER:{this.onNullCharacter(e);break}case lt.COMMENT:{this.onComment(e);break}case lt.DOCTYPE:{this.onDoctype(e);break}case lt.START_TAG:{this._processStartTag(e);break}case lt.END_TAG:{this.onEndTag(e);break}case lt.EOF:{this.onEof(e);break}case lt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const s=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return NG(e,s,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===Wi.Marker||this.openElements.contains(s.element)),r=n===-1?e-1:n-1;for(let s=r;s>=0;s--){const o=this.activeFormattingElements.entries[s];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Q.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(_.P),this.openElements.popUntilTagNamePopped(_.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case _.TR:{this.insertionMode=Q.IN_ROW;return}case _.TBODY:case _.THEAD:case _.TFOOT:{this.insertionMode=Q.IN_TABLE_BODY;return}case _.CAPTION:{this.insertionMode=Q.IN_CAPTION;return}case _.COLGROUP:{this.insertionMode=Q.IN_COLUMN_GROUP;return}case _.TABLE:{this.insertionMode=Q.IN_TABLE;return}case _.BODY:{this.insertionMode=Q.IN_BODY;return}case _.FRAMESET:{this.insertionMode=Q.IN_FRAMESET;return}case _.SELECT:{this._resetInsertionModeForSelect(e);return}case _.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case _.HTML:{this.insertionMode=this.headElement?Q.AFTER_HEAD:Q.BEFORE_HEAD;return}case _.TD:case _.TH:{if(e>0){this.insertionMode=Q.IN_CELL;return}break}case _.HEAD:{if(e>0){this.insertionMode=Q.IN_HEAD;return}break}}this.insertionMode=Q.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===_.TEMPLATE)break;if(r===_.TABLE){this.insertionMode=Q.IN_SELECT_IN_TABLE;return}}this.insertionMode=Q.IN_SELECT}_isElementCausesFosterParenting(e){return SR.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case _.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ie.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case _.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return JY[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){lK(this,e);return}switch(this.insertionMode){case Q.INITIAL:{ud(this,e);break}case Q.BEFORE_HTML:{Rd(this,e);break}case Q.BEFORE_HEAD:{kd(this,e);break}case Q.IN_HEAD:{Dd(this,e);break}case Q.IN_HEAD_NO_SCRIPT:{Od(this,e);break}case Q.AFTER_HEAD:{Ld(this,e);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:{wR(this,e);break}case Q.TEXT:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{Xy(this,e);break}case Q.IN_TABLE_TEXT:{DR(this,e);break}case Q.IN_COLUMN_GROUP:{dm(this,e);break}case Q.AFTER_BODY:{fm(this,e);break}case Q.AFTER_AFTER_BODY:{I0(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){uK(this,e);return}switch(this.insertionMode){case Q.INITIAL:{ud(this,e);break}case Q.BEFORE_HTML:{Rd(this,e);break}case Q.BEFORE_HEAD:{kd(this,e);break}case Q.IN_HEAD:{Dd(this,e);break}case Q.IN_HEAD_NO_SCRIPT:{Od(this,e);break}case Q.AFTER_HEAD:{Ld(this,e);break}case Q.TEXT:{this._insertCharacters(e);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{Xy(this,e);break}case Q.IN_COLUMN_GROUP:{dm(this,e);break}case Q.AFTER_BODY:{fm(this,e);break}case Q.AFTER_AFTER_BODY:{I0(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){n1(this,e);return}switch(this.insertionMode){case Q.INITIAL:case Q.BEFORE_HTML:case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_TEMPLATE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{n1(this,e);break}case Q.IN_TABLE_TEXT:{ld(this,e);break}case Q.AFTER_BODY:{VG(this,e);break}case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{FG(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Q.INITIAL:{zG(this,e);break}case Q.BEFORE_HEAD:case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:{this._err(e,ye.misplacedDoctype);break}case Q.IN_TABLE_TEXT:{ld(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ye.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?cK(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Q.INITIAL:{ud(this,e);break}case Q.BEFORE_HTML:{jG(this,e);break}case Q.BEFORE_HEAD:{YG(this,e);break}case Q.IN_HEAD:{Ii(this,e);break}case Q.IN_HEAD_NO_SCRIPT:{KG(this,e);break}case Q.AFTER_HEAD:{QG(this,e);break}case Q.IN_BODY:{rr(this,e);break}case Q.IN_TABLE:{Ml(this,e);break}case Q.IN_TABLE_TEXT:{ld(this,e);break}case Q.IN_CAPTION:{G$(this,e);break}case Q.IN_COLUMN_GROUP:{G_(this,e);break}case Q.IN_TABLE_BODY:{ep(this,e);break}case Q.IN_ROW:{tp(this,e);break}case Q.IN_CELL:{X$(this,e);break}case Q.IN_SELECT:{PR(this,e);break}case Q.IN_SELECT_IN_TABLE:{W$(this,e);break}case Q.IN_TEMPLATE:{J$(this,e);break}case Q.AFTER_BODY:{tK(this,e);break}case Q.IN_FRAMESET:{nK(this,e);break}case Q.AFTER_FRAMESET:{iK(this,e);break}case Q.AFTER_AFTER_BODY:{aK(this,e);break}case Q.AFTER_AFTER_FRAMESET:{oK(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?dK(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Q.INITIAL:{ud(this,e);break}case Q.BEFORE_HTML:{qG(this,e);break}case Q.BEFORE_HEAD:{GG(this,e);break}case Q.IN_HEAD:{$G(this,e);break}case Q.IN_HEAD_NO_SCRIPT:{XG(this,e);break}case Q.AFTER_HEAD:{WG(this,e);break}case Q.IN_BODY:{Jm(this,e);break}case Q.TEXT:{M$(this,e);break}case Q.IN_TABLE:{sf(this,e);break}case Q.IN_TABLE_TEXT:{ld(this,e);break}case Q.IN_CAPTION:{$$(this,e);break}case Q.IN_COLUMN_GROUP:{K$(this,e);break}case Q.IN_TABLE_BODY:{r1(this,e);break}case Q.IN_ROW:{LR(this,e);break}case Q.IN_CELL:{Q$(this,e);break}case Q.IN_SELECT:{MR(this,e);break}case Q.IN_SELECT_IN_TABLE:{Z$(this,e);break}case Q.IN_TEMPLATE:{eK(this,e);break}case Q.AFTER_BODY:{UR(this,e);break}case Q.IN_FRAMESET:{rK(this,e);break}case Q.AFTER_FRAMESET:{sK(this,e);break}case Q.AFTER_AFTER_BODY:{I0(this,e);break}}}onEof(e){switch(this.insertionMode){case Q.INITIAL:{ud(this,e);break}case Q.BEFORE_HTML:{Rd(this,e);break}case Q.BEFORE_HEAD:{kd(this,e);break}case Q.IN_HEAD:{Dd(this,e);break}case Q.IN_HEAD_NO_SCRIPT:{Od(this,e);break}case Q.AFTER_HEAD:{Ld(this,e);break}case Q.IN_BODY:case Q.IN_TABLE:case Q.IN_CAPTION:case Q.IN_COLUMN_GROUP:case Q.IN_TABLE_BODY:case Q.IN_ROW:case Q.IN_CELL:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:{RR(this,e);break}case Q.TEXT:{B$(this,e);break}case Q.IN_TABLE_TEXT:{ld(this,e);break}case Q.IN_TEMPLATE:{BR(this,e);break}case Q.AFTER_BODY:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{Y_(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===j.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Q.IN_HEAD:case Q.IN_HEAD_NO_SCRIPT:case Q.AFTER_HEAD:case Q.TEXT:case Q.IN_COLUMN_GROUP:case Q.IN_SELECT:case Q.IN_SELECT_IN_TABLE:case Q.IN_FRAMESET:case Q.AFTER_FRAMESET:{this._insertCharacters(e);break}case Q.IN_BODY:case Q.IN_CAPTION:case Q.IN_CELL:case Q.IN_TEMPLATE:case Q.AFTER_BODY:case Q.AFTER_AFTER_BODY:case Q.AFTER_AFTER_FRAMESET:{xR(this,e);break}case Q.IN_TABLE:case Q.IN_TABLE_BODY:case Q.IN_ROW:{Xy(this,e);break}case Q.IN_TABLE_TEXT:{kR(this,e);break}}}}function LG(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):NR(t,e),n}function PG(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const s=t.openElements.items[r];if(s===e.element)break;t._isSpecialElement(s,t.openElements.tagIDs[r])&&(n=s)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function MG(t,e,n){let r=e,s=t.openElements.getCommonAncestor(e);for(let o=0,u=s;u!==n;o++,u=s){s=t.openElements.getCommonAncestor(u);const c=t.activeFormattingElements.getElementEntry(u),f=c&&o>=DG;!c||f?(f&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(u)):(u=BG(t,c),r===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(u,r),r=u)}return r}function BG(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function UG(t,e,n){const r=t.treeAdapter.getTagName(e),s=Ql(r);if(t._isElementCausesFosterParenting(s))t._fosterParentElement(n);else{const o=t.treeAdapter.getNamespaceURI(e);s===_.TEMPLATE&&o===Ie.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function HG(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:s}=n,o=t.treeAdapter.createElement(s.tagName,r,s.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,s),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o,s.tagID)}function q_(t,e){for(let n=0;n<kG;n++){const r=LG(t,e);if(!r)break;const s=PG(t,r);if(!s)break;t.activeFormattingElements.bookmark=r;const o=MG(t,s,r.element),u=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),u&&UG(t,u,o),HG(t,s,r)}}function n1(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function VG(t,e){t._appendCommentNode(e,t.openElements.items[0])}function FG(t,e){t._appendCommentNode(e,t.document)}function Y_(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],s=t.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],u=t.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&t._setEndLocation(o,e)}}}}function zG(t,e){t._setDocumentType(e);const n=e.forceQuirks?li.QUIRKS:EG(e);yG(e)||t._err(e,ye.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=Q.BEFORE_HTML}function ud(t,e){t._err(e,ye.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,li.QUIRKS),t.insertionMode=Q.BEFORE_HTML,t._processToken(e)}function jG(t,e){e.tagID===_.HTML?(t._insertElement(e,Ie.HTML),t.insertionMode=Q.BEFORE_HEAD):Rd(t,e)}function qG(t,e){const n=e.tagID;(n===_.HTML||n===_.HEAD||n===_.BODY||n===_.BR)&&Rd(t,e)}function Rd(t,e){t._insertFakeRootElement(),t.insertionMode=Q.BEFORE_HEAD,t._processToken(e)}function YG(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.HEAD:{t._insertElement(e,Ie.HTML),t.headElement=t.openElements.current,t.insertionMode=Q.IN_HEAD;break}default:kd(t,e)}}function GG(t,e){const n=e.tagID;n===_.HEAD||n===_.BODY||n===_.HTML||n===_.BR?kd(t,e):t._err(e,ye.endTagWithoutMatchingOpenElement)}function kd(t,e){t._insertFakeElement(ce.HEAD,_.HEAD),t.headElement=t.openElements.current,t.insertionMode=Q.IN_HEAD,t._processToken(e)}function Ii(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:{t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.TITLE:{t._switchToTextParsing(e,mn.RCDATA);break}case _.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,mn.RAWTEXT):(t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_HEAD_NO_SCRIPT);break}case _.NOFRAMES:case _.STYLE:{t._switchToTextParsing(e,mn.RAWTEXT);break}case _.SCRIPT:{t._switchToTextParsing(e,mn.SCRIPT_DATA);break}case _.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Q.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Q.IN_TEMPLATE);break}case _.HEAD:{t._err(e,ye.misplacedStartTagForHeadElement);break}default:Dd(t,e)}}function $G(t,e){switch(e.tagID){case _.HEAD:{t.openElements.pop(),t.insertionMode=Q.AFTER_HEAD;break}case _.BODY:case _.BR:case _.HTML:{Dd(t,e);break}case _.TEMPLATE:{ru(t,e);break}default:t._err(e,ye.endTagWithoutMatchingOpenElement)}}function ru(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==_.TEMPLATE&&t._err(e,ye.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ye.endTagWithoutMatchingOpenElement)}function Dd(t,e){t.openElements.pop(),t.insertionMode=Q.AFTER_HEAD,t._processToken(e)}function KG(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.BASEFONT:case _.BGSOUND:case _.HEAD:case _.LINK:case _.META:case _.NOFRAMES:case _.STYLE:{Ii(t,e);break}case _.NOSCRIPT:{t._err(e,ye.nestedNoscriptInHead);break}default:Od(t,e)}}function XG(t,e){switch(e.tagID){case _.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Q.IN_HEAD;break}case _.BR:{Od(t,e);break}default:t._err(e,ye.endTagWithoutMatchingOpenElement)}}function Od(t,e){const n=e.type===lt.EOF?ye.openElementsLeftAfterEof:ye.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=Q.IN_HEAD,t._processToken(e)}function QG(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.BODY:{t._insertElement(e,Ie.HTML),t.framesetOk=!1,t.insertionMode=Q.IN_BODY;break}case _.FRAMESET:{t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_FRAMESET;break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{t._err(e,ye.abandonedHeadElementChild),t.openElements.push(t.headElement,_.HEAD),Ii(t,e),t.openElements.remove(t.headElement);break}case _.HEAD:{t._err(e,ye.misplacedStartTagForHeadElement);break}default:Ld(t,e)}}function WG(t,e){switch(e.tagID){case _.BODY:case _.HTML:case _.BR:{Ld(t,e);break}case _.TEMPLATE:{ru(t,e);break}default:t._err(e,ye.endTagWithoutMatchingOpenElement)}}function Ld(t,e){t._insertFakeElement(ce.BODY,_.BODY),t.insertionMode=Q.IN_BODY,Zm(t,e)}function Zm(t,e){switch(e.type){case lt.CHARACTER:{wR(t,e);break}case lt.WHITESPACE_CHARACTER:{xR(t,e);break}case lt.COMMENT:{n1(t,e);break}case lt.START_TAG:{rr(t,e);break}case lt.END_TAG:{Jm(t,e);break}case lt.EOF:{RR(t,e);break}}}function xR(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function wR(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function ZG(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function JG(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function e$(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_FRAMESET)}function t$(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML)}function n$(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&t1.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Ie.HTML)}function r$(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function i$(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),n||(t.formElement=t.openElements.current))}function s$(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const s=t.openElements.tagIDs[r];if(n===_.LI&&s===_.LI||(n===_.DD||n===_.DT)&&(s===_.DD||s===_.DT)){t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s);break}if(s!==_.ADDRESS&&s!==_.DIV&&s!==_.P&&t._isSpecialElement(t.openElements.items[r],s))break}t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML)}function a$(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),t.tokenizer.state=mn.PLAINTEXT}function o$(t,e){t.openElements.hasInScope(_.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.framesetOk=!1}function u$(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(ce.A);n&&(q_(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function l$(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function c$(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(_.NOBR)&&(q_(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Ie.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function d$(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function f$(t,e){t.treeAdapter.getDocumentMode(t.document)!==li.QUIRKS&&t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),t.framesetOk=!1,t.insertionMode=Q.IN_TABLE}function CR(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ie.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function IR(t){const e=gR(t,Vo.TYPE);return e!=null&&e.toLowerCase()===RG}function h$(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ie.HTML),IR(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function m$(t,e){t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0}function p$(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._appendElement(e,Ie.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function g$(t,e){e.tagName=ce.IMG,e.tagID=_.IMG,CR(t,e)}function y$(t,e){t._insertElement(e,Ie.HTML),t.skipNextNewLine=!0,t.tokenizer.state=mn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Q.TEXT}function E$(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,mn.RAWTEXT)}function _$(t,e){t.framesetOk=!1,t._switchToTextParsing(e,mn.RAWTEXT)}function Qx(t,e){t._switchToTextParsing(e,mn.RAWTEXT)}function b$(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Q.IN_TABLE||t.insertionMode===Q.IN_CAPTION||t.insertionMode===Q.IN_TABLE_BODY||t.insertionMode===Q.IN_ROW||t.insertionMode===Q.IN_CELL?Q.IN_SELECT_IN_TABLE:Q.IN_SELECT}function T$(t,e){t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML)}function v$(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Ie.HTML)}function A$(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(_.RTC),t._insertElement(e,Ie.HTML)}function S$(t,e){t._reconstructActiveFormattingElements(),vR(e),j_(e),e.selfClosing?t._appendElement(e,Ie.MATHML):t._insertElement(e,Ie.MATHML),e.ackSelfClosing=!0}function x$(t,e){t._reconstructActiveFormattingElements(),AR(e),j_(e),e.selfClosing?t._appendElement(e,Ie.SVG):t._insertElement(e,Ie.SVG),e.ackSelfClosing=!0}function Wx(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML)}function rr(t,e){switch(e.tagID){case _.I:case _.S:case _.B:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.SMALL:case _.STRIKE:case _.STRONG:{l$(t,e);break}case _.A:{u$(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{n$(t,e);break}case _.P:case _.DL:case _.OL:case _.UL:case _.DIV:case _.DIR:case _.NAV:case _.MAIN:case _.MENU:case _.ASIDE:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.DETAILS:case _.ADDRESS:case _.ARTICLE:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{t$(t,e);break}case _.LI:case _.DD:case _.DT:{s$(t,e);break}case _.BR:case _.IMG:case _.WBR:case _.AREA:case _.EMBED:case _.KEYGEN:{CR(t,e);break}case _.HR:{p$(t,e);break}case _.RB:case _.RTC:{v$(t,e);break}case _.RT:case _.RP:{A$(t,e);break}case _.PRE:case _.LISTING:{r$(t,e);break}case _.XMP:{E$(t,e);break}case _.SVG:{x$(t,e);break}case _.HTML:{ZG(t,e);break}case _.BASE:case _.LINK:case _.META:case _.STYLE:case _.TITLE:case _.SCRIPT:case _.BGSOUND:case _.BASEFONT:case _.TEMPLATE:{Ii(t,e);break}case _.BODY:{JG(t,e);break}case _.FORM:{i$(t,e);break}case _.NOBR:{c$(t,e);break}case _.MATH:{S$(t,e);break}case _.TABLE:{f$(t,e);break}case _.INPUT:{h$(t,e);break}case _.PARAM:case _.TRACK:case _.SOURCE:{m$(t,e);break}case _.IMAGE:{g$(t,e);break}case _.BUTTON:{o$(t,e);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{d$(t,e);break}case _.IFRAME:{_$(t,e);break}case _.SELECT:{b$(t,e);break}case _.OPTION:case _.OPTGROUP:{T$(t,e);break}case _.NOEMBED:case _.NOFRAMES:{Qx(t,e);break}case _.FRAMESET:{e$(t,e);break}case _.TEXTAREA:{y$(t,e);break}case _.NOSCRIPT:{t.options.scriptingEnabled?Qx(t,e):Wx(t,e);break}case _.PLAINTEXT:{a$(t,e);break}case _.COL:case _.TH:case _.TD:case _.TR:case _.HEAD:case _.FRAME:case _.TBODY:case _.TFOOT:case _.THEAD:case _.CAPTION:case _.COLGROUP:break;default:Wx(t,e)}}function w$(t,e){if(t.openElements.hasInScope(_.BODY)&&(t.insertionMode=Q.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function C$(t,e){t.openElements.hasInScope(_.BODY)&&(t.insertionMode=Q.AFTER_BODY,UR(t,e))}function I$(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function N$(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(_.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(_.FORM):n&&t.openElements.remove(n))}function R$(t){t.openElements.hasInButtonScope(_.P)||t._insertFakeElement(ce.P,_.P),t._closePElement()}function k$(t){t.openElements.hasInListItemScope(_.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(_.LI),t.openElements.popUntilTagNamePopped(_.LI))}function D$(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function O$(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function L$(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function P$(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ce.BR,_.BR),t.openElements.pop(),t.framesetOk=!1}function NR(t,e){const n=e.tagName,r=e.tagID;for(let s=t.openElements.stackTop;s>0;s--){const o=t.openElements.items[s],u=t.openElements.tagIDs[s];if(r===u&&(r!==_.UNKNOWN||t.treeAdapter.getTagName(o)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=s&&t.openElements.shortenToLength(s);break}if(t._isSpecialElement(o,u))break}}function Jm(t,e){switch(e.tagID){case _.A:case _.B:case _.I:case _.S:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.NOBR:case _.SMALL:case _.STRIKE:case _.STRONG:{q_(t,e);break}case _.P:{R$(t);break}case _.DL:case _.UL:case _.OL:case _.DIR:case _.DIV:case _.NAV:case _.PRE:case _.MAIN:case _.MENU:case _.ASIDE:case _.BUTTON:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.ADDRESS:case _.ARTICLE:case _.DETAILS:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.LISTING:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{I$(t,e);break}case _.LI:{k$(t);break}case _.DD:case _.DT:{D$(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{O$(t);break}case _.BR:{P$(t);break}case _.BODY:{w$(t,e);break}case _.HTML:{C$(t,e);break}case _.FORM:{N$(t);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{L$(t,e);break}case _.TEMPLATE:{ru(t,e);break}default:NR(t,e)}}function RR(t,e){t.tmplInsertionModeStack.length>0?BR(t,e):Y_(t,e)}function M$(t,e){var n;e.tagID===_.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function B$(t,e){t._err(e,ye.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Xy(t,e){if(t.openElements.currentTagId!==void 0&&SR.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Q.IN_TABLE_TEXT,e.type){case lt.CHARACTER:{DR(t,e);break}case lt.WHITESPACE_CHARACTER:{kR(t,e);break}}else wf(t,e)}function U$(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_CAPTION}function H$(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_COLUMN_GROUP}function V$(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ce.COLGROUP,_.COLGROUP),t.insertionMode=Q.IN_COLUMN_GROUP,G_(t,e)}function F$(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_TABLE_BODY}function z$(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ce.TBODY,_.TBODY),t.insertionMode=Q.IN_TABLE_BODY,ep(t,e)}function j$(t,e){t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function q$(t,e){IR(e)?t._appendElement(e,Ie.HTML):wf(t,e),e.ackSelfClosing=!0}function Y$(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Ie.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Ml(t,e){switch(e.tagID){case _.TD:case _.TH:case _.TR:{z$(t,e);break}case _.STYLE:case _.SCRIPT:case _.TEMPLATE:{Ii(t,e);break}case _.COL:{V$(t,e);break}case _.FORM:{Y$(t,e);break}case _.TABLE:{j$(t,e);break}case _.TBODY:case _.TFOOT:case _.THEAD:{F$(t,e);break}case _.INPUT:{q$(t,e);break}case _.CAPTION:{U$(t,e);break}case _.COLGROUP:{H$(t,e);break}default:wf(t,e)}}function sf(t,e){switch(e.tagID){case _.TABLE:{t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode());break}case _.TEMPLATE:{ru(t,e);break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:wf(t,e)}}function wf(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Zm(t,e),t.fosterParentingEnabled=n}function kR(t,e){t.pendingCharacterTokens.push(e)}function DR(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function ld(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)wf(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const OR=new Set([_.CAPTION,_.COL,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]);function G$(t,e){const n=e.tagID;OR.has(n)?t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Q.IN_TABLE,Ml(t,e)):rr(t,e)}function $$(t,e){const n=e.tagID;switch(n){case _.CAPTION:case _.TABLE:{t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Q.IN_TABLE,n===_.TABLE&&sf(t,e));break}case _.BODY:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Jm(t,e)}}function G_(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.COL:{t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.TEMPLATE:{Ii(t,e);break}default:dm(t,e)}}function K$(t,e){switch(e.tagID){case _.COLGROUP:{t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=Q.IN_TABLE);break}case _.TEMPLATE:{ru(t,e);break}case _.COL:break;default:dm(t,e)}}function dm(t,e){t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=Q.IN_TABLE,t._processToken(e))}function ep(t,e){switch(e.tagID){case _.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_ROW;break}case _.TH:case _.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ce.TR,_.TR),t.insertionMode=Q.IN_ROW,tp(t,e);break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Q.IN_TABLE,Ml(t,e));break}default:Ml(t,e)}}function r1(t,e){const n=e.tagID;switch(e.tagID){case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Q.IN_TABLE);break}case _.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Q.IN_TABLE,sf(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:case _.TR:break;default:sf(t,e)}}function tp(t,e){switch(e.tagID){case _.TH:case _.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Q.IN_CELL,t.activeFormattingElements.insertMarker();break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Q.IN_TABLE_BODY,ep(t,e));break}default:Ml(t,e)}}function LR(t,e){switch(e.tagID){case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Q.IN_TABLE_BODY);break}case _.TABLE:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Q.IN_TABLE_BODY,r1(t,e));break}case _.TBODY:case _.TFOOT:case _.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(_.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Q.IN_TABLE_BODY,r1(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:break;default:sf(t,e)}}function X$(t,e){const n=e.tagID;OR.has(n)?(t.openElements.hasInTableScope(_.TD)||t.openElements.hasInTableScope(_.TH))&&(t._closeTableCell(),tp(t,e)):rr(t,e)}function Q$(t,e){const n=e.tagID;switch(n){case _.TD:case _.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Q.IN_ROW);break}case _.TABLE:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),LR(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:break;default:Jm(t,e)}}function PR(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._insertElement(e,Ie.HTML);break}case _.OPTGROUP:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Ie.HTML);break}case _.HR:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.INPUT:case _.KEYGEN:case _.TEXTAREA:case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),e.tagID!==_.SELECT&&t._processStartTag(e));break}case _.SCRIPT:case _.TEMPLATE:{Ii(t,e);break}}}function MR(t,e){switch(e.tagID){case _.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===_.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===_.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop();break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop();break}case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode());break}case _.TEMPLATE:{ru(t,e);break}}}function W$(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t._processStartTag(e)):PR(t,e)}function Z$(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t.onEndTag(e)):MR(t,e)}function J$(t,e){switch(e.tagID){case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{Ii(t,e);break}case _.CAPTION:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.tmplInsertionModeStack[0]=Q.IN_TABLE,t.insertionMode=Q.IN_TABLE,Ml(t,e);break}case _.COL:{t.tmplInsertionModeStack[0]=Q.IN_COLUMN_GROUP,t.insertionMode=Q.IN_COLUMN_GROUP,G_(t,e);break}case _.TR:{t.tmplInsertionModeStack[0]=Q.IN_TABLE_BODY,t.insertionMode=Q.IN_TABLE_BODY,ep(t,e);break}case _.TD:case _.TH:{t.tmplInsertionModeStack[0]=Q.IN_ROW,t.insertionMode=Q.IN_ROW,tp(t,e);break}default:t.tmplInsertionModeStack[0]=Q.IN_BODY,t.insertionMode=Q.IN_BODY,rr(t,e)}}function eK(t,e){e.tagID===_.TEMPLATE&&ru(t,e)}function BR(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):Y_(t,e)}function tK(t,e){e.tagID===_.HTML?rr(t,e):fm(t,e)}function UR(t,e){var n;if(e.tagID===_.HTML){if(t.fragmentContext||(t.insertionMode=Q.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===_.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else fm(t,e)}function fm(t,e){t.insertionMode=Q.IN_BODY,Zm(t,e)}function nK(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.FRAMESET:{t._insertElement(e,Ie.HTML);break}case _.FRAME:{t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.NOFRAMES:{Ii(t,e);break}}}function rK(t,e){e.tagID===_.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==_.FRAMESET&&(t.insertionMode=Q.AFTER_FRAMESET))}function iK(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.NOFRAMES:{Ii(t,e);break}}}function sK(t,e){e.tagID===_.HTML&&(t.insertionMode=Q.AFTER_AFTER_FRAMESET)}function aK(t,e){e.tagID===_.HTML?rr(t,e):I0(t,e)}function I0(t,e){t.insertionMode=Q.IN_BODY,Zm(t,e)}function oK(t,e){switch(e.tagID){case _.HTML:{rr(t,e);break}case _.NOFRAMES:{Ii(t,e);break}}}function uK(t,e){e.chars=Kt,t._insertCharacters(e)}function lK(t,e){t._insertCharacters(e),t.framesetOk=!1}function HR(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Ie.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function cK(t,e){if(xG(e))HR(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Ie.MATHML?vR(e):r===Ie.SVG&&(wG(e),AR(e)),j_(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function dK(t,e){if(e.tagID===_.P||e.tagID===_.BR){HR(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Ie.HTML){t._endTagOutsideForeignContent(e);break}const s=t.treeAdapter.getTagName(r);if(s.toLowerCase()===e.tagName){e.tagName=s,t.openElements.shortenToLength(n);break}}}ce.AREA,ce.BASE,ce.BASEFONT,ce.BGSOUND,ce.BR,ce.COL,ce.EMBED,ce.FRAME,ce.HR,ce.IMG,ce.INPUT,ce.KEYGEN,ce.LINK,ce.META,ce.PARAM,ce.SOURCE,ce.TRACK,ce.WBR;const fK=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,hK=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),Zx={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function VR(t,e){const n=AK(t),r=dR("type",{handlers:{root:mK,element:pK,text:gK,comment:zR,doctype:yK,raw:_K},unknown:bK}),s={parser:n?new Xx(Zx):Xx.getFragmentParser(void 0,Zx),handle(c){r(c,s)},stitches:!1,options:e||{}};r(t,s),Wl(s,ls());const o=n?s.parser.document:s.parser.getFragment(),u=mY(o,{file:s.options.file});return s.stitches&&U_(u,"comment",function(c,f,h){const p=c;if(p.value.stitch&&h&&f!==void 0){const y=h.children;return y[f]=p.value.stitch,f}}),u.type==="root"&&u.children.length===1&&u.children[0].type===t.type?u.children[0]:u}function FR(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function mK(t,e){FR(t.children,e)}function pK(t,e){TK(t,e),FR(t.children,e),vK(t,e)}function gK(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:lt.CHARACTER,chars:t.value,location:Cf(t)};Wl(e,ls(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function yK(t,e){const n={type:lt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Cf(t)};Wl(e,ls(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function EK(t,e){e.stitches=!0;const n=SK(t);if("children"in t&&"children"in n){const r=VR({type:"root",children:t.children},e.options);n.children=r.children}zR({type:"comment",value:{stitch:n}},e)}function zR(t,e){const n=t.value,r={type:lt.COMMENT,data:n,location:Cf(t)};Wl(e,ls(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function _K(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,jR(e,ls(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(fK,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function bK(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))EK(n,e);else{let r="";throw hK.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Wl(t,e){jR(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=mn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function jR(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function TK(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===mn.PLAINTEXT)return;Wl(e,ls(t));const r=e.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:Bo.html;s===Bo.html&&n==="svg"&&(s=Bo.svg);const o=NY({...t,children:[]},{space:s===Bo.svg?"svg":"html"}),u={type:lt.START_TAG,tagName:n,tagID:Ql(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Cf(t)};e.parser.currentToken=u,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function vK(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&BY.includes(n)||e.parser.tokenizer.state===mn.PLAINTEXT)return;Wl(e,Km(t));const r={type:lt.END_TAG,tagName:n,tagID:Ql(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Cf(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===mn.RCDATA||e.parser.tokenizer.state===mn.RAWTEXT||e.parser.tokenizer.state===mn.SCRIPT_DATA)&&(e.parser.tokenizer.state=mn.DATA)}function AK(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Cf(t){const e=ls(t)||{line:void 0,column:void 0,offset:void 0},n=Km(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function SK(t){return"children"in t?Pl({...t,children:[]}):Pl(t)}function xK(t){return function(e,n){return VR(e,{...t,file:n})}}function wK({explanation:t,onClose:e,isVisible:n}){return n?L.jsxs("div",{className:"h-full flex flex-col",children:[L.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/50 dark:border-gray-700/50",children:[L.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[L.jsx("span",{className:"text-blue-500",children:""}),"Explanation"]}),L.jsx("button",{className:`text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 
                             p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700/50 
                             transition-all duration-200 transform hover:scale-105`,onClick:e,title:"Close explanation","aria-label":"Close explanation sidebar",children:L.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),L.jsx("div",{className:"p-6 overflow-y-auto flex-1 scrollbar-thin",children:t?L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"mb-6",children:L.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 leading-tight",children:t.title})}),L.jsx("div",{className:`prose prose-gray dark:prose-invert max-w-none text-gray-700 dark:text-gray-300
                                      [&>h1]:text-gray-900 [&>h1]:dark:text-gray-100 [&>h1]:text-2xl [&>h1]:font-bold [&>h1]:mb-4 [&>h1]:mt-6
                                      [&>h2]:text-gray-900 [&>h2]:dark:text-gray-100 [&>h2]:text-xl [&>h2]:font-semibold [&>h2]:mb-3 [&>h2]:mt-5
                                      [&>h3]:text-gray-900 [&>h3]:dark:text-gray-100 [&>h3]:text-lg [&>h3]:font-medium [&>h3]:mb-2 [&>h3]:mt-4
                                      [&>p]:text-gray-700 [&>p]:dark:text-gray-300 [&>p]:leading-relaxed [&>p]:mb-4
                                      [&>ul]:text-gray-700 [&>ul]:dark:text-gray-300 [&>ul]:mb-4 [&>ul>li]:mb-2
                                      [&>ol]:text-gray-700 [&>ol]:dark:text-gray-300 [&>ol]:mb-4 [&>ol>li]:mb-2
                                      [&>blockquote]:border-l-4 [&>blockquote]:border-blue-400 [&>blockquote]:pl-4 [&>blockquote]:italic [&>blockquote]:text-gray-600 [&>blockquote]:dark:text-gray-400 [&>blockquote]:bg-blue-50 [&>blockquote]:dark:bg-blue-900/20 [&>blockquote]:py-2 [&>blockquote]:rounded-r-lg
                                      [&>code]:bg-gray-100 [&>code]:dark:bg-gray-800 [&>code]:text-blue-600 [&>code]:dark:text-blue-400 [&>code]:px-2 [&>code]:py-1 [&>code]:rounded [&>code]:text-sm [&>code]:font-medium
                                      [&>pre]:bg-gray-100 [&>pre]:dark:bg-gray-800 [&>pre]:text-gray-800 [&>pre]:dark:text-gray-200 [&>pre]:p-4 [&>pre]:rounded-lg [&>pre]:overflow-x-auto [&>pre]:mb-4 [&>pre]:border [&>pre]:border-gray-200 [&>pre]:dark:border-gray-700`,children:L.jsx(Jq,{rehypePlugins:[xK],children:t.text})})]}):L.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:L.jsxs("div",{className:"text-center",children:[L.jsx("div",{className:"text-6xl mb-6 opacity-60",children:""}),L.jsx("p",{className:"text-xl font-medium mb-2",children:"No explanation available"}),L.jsx("p",{className:"text-sm opacity-75",children:"Click on a node to see its explanation"})]})})})]}):null}const qR=Z.createContext(void 0),CK=()=>{const t=Z.useContext(qR);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},IK=({children:t})=>{const[e,n]=Z.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});Z.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return L.jsx(qR.Provider,{value:{theme:e,toggleTheme:r},children:t})},YR=()=>{const{theme:t,toggleTheme:e}=CK();return L.jsx("button",{onClick:e,className:`p-2.5 rounded-xl bg-gray-200/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-300 
                     hover:bg-gray-300/80 dark:hover:bg-gray-700/80 border border-gray-300/60 dark:border-gray-700/60
                     hover:border-gray-400/60 dark:hover:border-gray-600/60 transition-all duration-200 
                     focus:outline-none focus:ring-2 focus:ring-indigo-500/30 dark:focus:ring-indigo-400/30
                     backdrop-blur-sm shadow-sm hover:shadow-md`,title:`Switch to ${t==="light"?"dark":"light"} mode`,"aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:t==="light"?L.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):L.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})})};function NK({name:t,onSetName:e,user:n,isSaving:r}){const[s,o]=Z.useState(!1),[u,c]=Z.useState(t||"");Z.useEffect(()=>{c(t||"")},[t]);const f=p=>{p.key==="Enter"&&(e(u),o(!1))},h=()=>{o(!0),c(t||"")};return L.jsx(L.Fragment,{children:L.jsx("div",{className:"name bg-gray-900 dark:bg-gray-950 border-b border-gray-700 dark:border-gray-800",children:L.jsx("div",{className:"app-container max-w-7xl mx-auto px-4",children:L.jsxs("header",{className:"app-header flex justify-between items-center py-4",children:[L.jsxs("div",{className:"flex items-center gap-4",children:[L.jsxs("div",{className:"flex items-center space-x-2",children:[L.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:L.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),L.jsx("h1",{className:"text-xl font-bold text-white dark:text-white",children:"TinkFlow"})]}),L.jsx("span",{className:"text-slate-500 dark:text-slate-500 text-sm",children:""}),s?L.jsx("input",{type:"text",value:u,onChange:p=>c(p.target.value),onKeyDown:f,onBlur:()=>{e(u),o(!1)},className:`bg-gray-800 dark:bg-gray-800 border border-white/20 dark:border-white/20 
                                             rounded px-2 py-1 text-slate-100 dark:text-slate-100 text-sm min-w-[120px]
                                             focus:outline-none focus:border-blue-400 dark:focus:border-blue-400`,autoFocus:!0}):L.jsx("button",{onClick:h,className:`bg-transparent border-none text-slate-400 dark:text-slate-400 text-sm cursor-pointer 
                                             px-2 py-1 rounded transition-all duration-150 ease-in-out
                                             hover:bg-white/5 dark:hover:bg-white/5 hover:text-slate-100 dark:hover:text-slate-100`,children:t||"Untitled Board"})]}),L.jsxs("div",{className:"user-info flex items-center gap-3",children:[L.jsx(YR,{}),L.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm font-medium",children:n?.isAnonymous?"Guest":n?.email?.split("@")[0]||"User"}),r&&L.jsxs("div",{className:`text-emerald-500 dark:text-emerald-400 text-sm flex items-center gap-2 
                                               bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-full border border-emerald-200 dark:border-emerald-700/50
                                               animate-pulse`,children:[L.jsx("div",{className:"w-2 h-2 bg-emerald-500 dark:bg-emerald-400 rounded-full animate-bounce"}),L.jsx("span",{className:"font-medium",children:"Saving..."})]})]})]})})})})}const RK=({notification:t,onRemove:e})=>{const n=s=>{switch(s){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}},r=s=>{switch(s){case"success":return"bg-green-900/20 dark:bg-green-900/30 border-green-500/30 dark:border-green-500/40 text-green-300 dark:text-green-400";case"error":return"bg-red-900/20 dark:bg-red-900/30 border-red-500/30 dark:border-red-500/40 text-red-300 dark:text-red-400";case"warning":return"bg-yellow-900/20 dark:bg-yellow-900/30 border-yellow-500/30 dark:border-yellow-500/40 text-yellow-300 dark:text-yellow-400";case"info":return"bg-blue-900/20 dark:bg-blue-900/30 border-blue-500/30 dark:border-blue-500/40 text-blue-300 dark:text-blue-400";default:return"bg-gray-900/20 dark:bg-gray-900/30 border-gray-500/30 dark:border-gray-500/40 text-gray-300 dark:text-gray-400"}};return L.jsxs("div",{className:`notification relative min-w-80 max-w-md p-4 rounded-xl border shadow-2xl backdrop-blur-sm                         transform transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-3xl                        ${r(t.type)}`,children:[" ",L.jsxs("div",{className:"flex items-start gap-3",children:[" ",L.jsxs("span",{className:"text-lg flex-shrink-0 mt-0.5",children:[" ",n(t.type)," "]})," ",L.jsxs("div",{className:"flex-1 min-w-0",children:[" ",L.jsxs("p",{className:"text-sm font-medium leading-5 break-words",children:[" ",t.message," "]})," "]})," ",L.jsxs("button",{onClick:()=>e(t.id),className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-200 dark:hover:text-gray-300                              hover:bg-gray-700/50 dark:hover:bg-gray-600/50                              rounded-full p-1 transition-all duration-200                              focus:outline-none focus:ring-2 focus:ring-gray-500/20 dark:focus:ring-gray-400/20","aria-label":"Close notification",children:[" ",L.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[" ",L.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})," "]})," "]})," "]})," "]})},kK=({notifications:t,onRemove:e})=>L.jsxs("div",{className:"notification-container fixed top-4 right-4 space-y-3 z-[2000] pointer-events-none",children:[" ",t.map(n=>L.jsxs("div",{className:"pointer-events-auto",children:[" ",L.jsx(RK,{notification:n,onRemove:e})," "]},n.id))," "]});function DK({onLogin:t}){return L.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 antialiased",children:[" "," ",L.jsxs("nav",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:[" ",L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",L.jsxs("div",{className:"flex justify-between items-center py-4",children:[" ",L.jsxs("div",{className:"flex items-center space-x-3",children:[" ",L.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:[" ",L.jsx("span",{className:"text-white font-bold text-lg",children:"T"})," "]})," ",L.jsxs("div",{className:"flex flex-col",children:[" ",L.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white tracking-tight",children:"TinkFlow"})," ",L.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"AI Learning Platform"})," "]})," "]})," ",L.jsxs("div",{className:"flex items-center gap-4",children:[" ",L.jsx(YR,{})," ",L.jsxs("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors duration-200",children:[" ","Get Started"," "]})," "]})," "]})," "]})," "]})," "," ",L.jsxs("section",{className:"relative overflow-hidden",children:[" ",L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32",children:[" ",L.jsxs("div",{className:"text-center",children:[" ",L.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-50 dark:bg-indigo-900/20 px-4 py-2 rounded-full mb-8",children:[" ",L.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"})," ",L.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium text-sm",children:"AI-Powered Concept Learning"})," "]})," ",L.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-6 leading-tight",children:[" ","Learn & Tinker with"," ",L.jsxs("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent block",children:[" ","AI-Powered Concepts"," "]})," "]})," ",L.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-10 max-w-3xl mx-auto leading-relaxed",children:[" ","TinkFlow is the ultimate AI-powered platform for exploring, understanding, and experimenting with new concepts. Transform your learning journey with interactive visual flows and intelligent insights."," "]})," ",L.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[" ",L.jsxs("button",{onClick:t,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[" ","Start Learning Now"," "]})," ",L.jsxs("button",{className:"px-8 py-4 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-semibold text-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[" ","Watch Demo"," "]})," "]})," "]})," "]})," "," ",L.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full opacity-10 blur-3xl"})," ",L.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-10 blur-2xl"})," "]})," "," ",L.jsxs("section",{className:"py-20 bg-white dark:bg-gray-800",children:[" ",L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",L.jsxs("div",{className:"text-center mb-16",children:[" ",L.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","Everything You Need to Learn"," "]})," ",L.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","AI-powered tools and features designed to accelerate your learning and conceptual understanding"," "]})," "]})," ",L.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[" ",L.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-indigo-200 dark:border-indigo-700/50 hover:transform hover:-translate-y-1",children:[" ",L.jsxs("div",{className:"w-14 h-14 bg-indigo-500 rounded-xl flex items-center justify-center mb-6",children:[" ",L.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})," "]})," "]})," ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","AI-Powered Insights"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Get intelligent explanations and connections between concepts powered by advanced AI that understands your learning style."," "]})," "]})," ",L.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-purple-200 dark:border-purple-700/50 hover:transform hover:-translate-y-1",children:[" ",L.jsxs("div",{className:"w-14 h-14 bg-purple-500 rounded-xl flex items-center justify-center mb-6",children:[" ",L.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})," "]})," "]})," ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Interactive Visual Flows"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Build and explore concept maps with interactive nodes that respond to your curiosity and create dynamic learning pathways."," "]})," "]})," ",L.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-green-200 dark:border-green-700/50 hover:transform hover:-translate-y-1",children:[" ",L.jsxs("div",{className:"w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center mb-6",children:[" ",L.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",L.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})," "]})," "]})," ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Experimentation Sandbox"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Tinker with concepts in a safe, guided environment where you can test ideas and see instant results with AI feedback."," "]})," "]})," "]})," "]})," "]})," "," ",L.jsxs("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:[" ",L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",L.jsxs("div",{className:"text-center mb-16",children:[" ",L.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","How TinkFlow Works"," "]})," ",L.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","Three simple steps to unlock your learning potential with AI-powered concept exploration"," "]})," "]})," ",L.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[" ",L.jsxs("div",{className:"text-center",children:[" ",L.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",L.jsx("span",{className:"text-white font-bold text-xl",children:"1"})," "]})," ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Input Your Concept"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Start by entering any topic, question, or concept you want to explore. Our AI understands context and complexity."," "]})," "]})," ",L.jsxs("div",{className:"text-center",children:[" ",L.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",L.jsx("span",{className:"text-white font-bold text-xl",children:"2"})," "]})," ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","AI Generates Flow"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Watch as TinkFlow creates an interactive visual map with connected nodes, each representing key aspects of your concept."," "]})," "]})," ",L.jsxs("div",{className:"text-center",children:[" ",L.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",L.jsx("span",{className:"text-white font-bold text-xl",children:"3"})," "]})," ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Explore & Learn"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Click on any node to dive deeper, ask questions, and watch new connections emerge as you explore your learning path."," "]})," "]})," "]})," "]})," "]})," "," ",L.jsxs("section",{className:"py-20 bg-gradient-to-r from-indigo-500 to-purple-600",children:[" ",L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",L.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[" ",L.jsxs("div",{className:"text-white",children:[" ",L.jsx("div",{className:"text-4xl font-bold mb-2",children:"10K+"})," ",L.jsx("div",{className:"text-indigo-100",children:"Concepts Explored"})," "]})," ",L.jsxs("div",{className:"text-white",children:[" ",L.jsx("div",{className:"text-4xl font-bold mb-2",children:"5K+"})," ",L.jsx("div",{className:"text-indigo-100",children:"Active Learners"})," "]})," ",L.jsxs("div",{className:"text-white",children:[" ",L.jsx("div",{className:"text-4xl font-bold mb-2",children:"98%"})," ",L.jsx("div",{className:"text-indigo-100",children:"Learning Success"})," "]})," ",L.jsxs("div",{className:"text-white",children:[" ",L.jsx("div",{className:"text-4xl font-bold mb-2",children:"24/7"})," ",L.jsx("div",{className:"text-indigo-100",children:"AI Support"})," "]})," "]})," "]})," "]})," "," ",L.jsxs("section",{className:"py-20 bg-white dark:bg-gray-800",children:[" ",L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",L.jsxs("div",{className:"text-center mb-16",children:[" ",L.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","Perfect for Every Learning Style"," "]})," ",L.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","Whether you're a student, researcher, or curious mind, TinkFlow adapts to your learning needs"," "]})," "]})," ",L.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[" ",L.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/10 dark:to-blue-800/10 p-8 rounded-2xl border border-blue-200 dark:border-blue-700/30",children:[" ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Academic Learning"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Break down complex academic subjects into digestible, interconnected concepts. Perfect for studying sciences, humanities, and technical topics."," "]})," ",L.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",L.jsx("li",{children:" Research paper analysis"})," ",L.jsx("li",{children:" Concept mapping for exams"})," ",L.jsx("li",{children:" Cross-disciplinary connections"})," "]})," "]})," ",L.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/10 dark:to-purple-800/10 p-8 rounded-2xl border border-purple-200 dark:border-purple-700/30",children:[" ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Creative Exploration"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Explore ideas, brainstorm solutions, and discover unexpected connections. Great for creative professionals and innovators."," "]})," ",L.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",L.jsx("li",{children:" Idea generation workflows"})," ",L.jsx("li",{children:" Problem-solving frameworks"})," ",L.jsx("li",{children:" Innovation mapping"})," "]})," "]})," ",L.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/10 dark:to-green-800/10 p-8 rounded-2xl border border-green-200 dark:border-green-700/30",children:[" ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Technical Deep Dives"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Understand complex systems, architectures, and technologies through interactive exploration and AI-guided explanations."," "]})," ",L.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",L.jsx("li",{children:" System architecture learning"})," ",L.jsx("li",{children:" Technology stack exploration"})," ",L.jsx("li",{children:" Code concept mapping"})," "]})," "]})," ",L.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/10 dark:to-orange-800/10 p-8 rounded-2xl border border-orange-200 dark:border-orange-700/30",children:[" ",L.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Professional Development"," "]})," ",L.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Build skills, understand industry trends, and create learning paths for career advancement with AI-powered insights."," "]})," ",L.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",L.jsx("li",{children:" Skill gap analysis"})," ",L.jsx("li",{children:" Career pathway planning"})," ",L.jsx("li",{children:" Industry trend mapping"})," "]})," "]})," "]})," "]})," "]})," "," ",L.jsxs("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:[" ",L.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[" ",L.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-6",children:[" ","Ready to Transform Your Learning?"," "]})," ",L.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-10",children:[" ","Join thousands of learners who are already exploring concepts in revolutionary ways with TinkFlow's AI-powered platform."," "]})," ",L.jsxs("button",{onClick:t,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-12 py-4 rounded-xl text-lg font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[" ","Start Learning for Free"," "]})," ",L.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:[" ","No credit card required  Get started in seconds"," "]})," "]})," "]})," "," ",L.jsxs("footer",{className:"bg-gray-900 text-white py-12",children:[" ",L.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",L.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[" ",L.jsxs("div",{className:"col-span-1",children:[" ",L.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[" ",L.jsxs("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:[" ",L.jsx("span",{className:"text-white font-bold text-sm",children:"T"})," "]})," ",L.jsx("span",{className:"text-xl font-bold",children:"TinkFlow"})," "]})," ",L.jsxs("p",{className:"text-gray-400 text-sm",children:[" ","AI-powered concept learning platform for curious minds."," "]})," "]})," ",L.jsxs("div",{children:[" ",L.jsx("h4",{className:"font-semibold mb-4",children:"Product"})," ",L.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})})," ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})})," ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})})," "]})," "]})," ",L.jsxs("div",{children:[" ",L.jsx("h4",{className:"font-semibold mb-4",children:"Resources"})," ",L.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})})," ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Tutorials"})})," ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})})," "]})," "]})," ",L.jsxs("div",{children:[" ",L.jsx("h4",{className:"font-semibold mb-4",children:"Company"})," ",L.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})})," ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})," ",L.jsx("li",{children:L.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})})," "]})," "]})," "]})," ",L.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[" ",L.jsxs("p",{className:"text-gray-400 text-sm",children:[" "," 2024 TinkFlow. All rights reserved."," "]})," ",L.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[" ",L.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",L.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",L.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})," "]})," "]})," ",L.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",L.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",L.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})," "]})," "]})," ",L.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",L.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",L.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.747.099.12.112.225.085.344-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.001 12.017z"})," "]})," "]})," "]})," "]})," "]})," "]})," "]})}const OK=async()=>{try{await sH(um),console.log("User signed out successfully")}catch(t){throw console.error("Error signing out:",t),t}},LK=()=>{const[t,e]=Z.useState(null);return Z.useEffect(()=>{const r=iH(um,s=>{e(s),s?console.log("User signed in:",s.uid):console.log("No user signed in")});return()=>r()},[]),{user:t,signOut:async()=>{try{await OK(),e(null)}catch(r){console.error("Error in sign out:",r)}}}},GR=t=>!!(t&&t.uid),Pd=[{id:"1",type:"staticEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",title:"AI & Natural Language",suggestions:["Machine Learning","Neural Networks","Deep Learning"],tokenColors:{},previousNode:null},position:{x:250,y:25},draggable:!1}],Al=[],PK=async t=>{if(!GR({uid:t}))throw new Error(ur.AUTH_REQUIRED);try{const e=J1(wi,qr.BOARDS),n=$B(e,KB("userId","==",t),XB("createdAt","desc")),r=await d_(n);if(r.empty){const o={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:Yt.now(),isOpen:!0};return await f_(jl(wi,qr.BOARDS,o.id),o),console.log("Created default board:",o),[o]}const s=r.docs.map(o=>({id:o.id,...o.data()}));return console.log("Fetched all boards:",s),s}catch(e){if(console.error("Fetch all boards error:",e),e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:Yt.now(),isOpen:!0,isFallback:!0}]}throw new Error(ur.LOAD_FAILED)}},Jx=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),Pd;try{const e=J1(wi,qr.BOARDS,t,qr.NODES),n=await d_(e);if(n.empty)return console.log("No nodes found for board, using initial nodes"),Pd;const r=n.docs.map(s=>{const o=s.data(),u={...o.data,tokenColors:o.data?.tokenColors||{},previousNode:o.data?.previousNode||null};return{id:s.id,type:o.type,position:o.position,data:u,draggable:o.draggable,style:o.style}});return console.log("Fetched nodes from board:",r),r}catch(e){return console.error("Fetch nodes error:",e),Pd}},ew=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),Al;try{const e=J1(wi,qr.BOARDS,t,qr.EDGES),n=await d_(e);if(n.empty)return console.log("No edges found for board, using initial edges"),Al;const r=n.docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched edges from board:",r),r}catch(e){return console.error("Fetch edges error:",e),Al}},MK=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving nodes:",{boardId:t,nodesCount:e?.length});return}try{const n=ON(wi);e.forEach(r=>{const s=jl(wi,qr.BOARDS,t,qr.NODES,r.id),o={type:r.type,data:r.data,position:r.position,updatedAt:Yt.now()};r.draggable!=null&&(o.draggable=r.draggable),r.style!=null&&(o.style=r.style),n.set(s,o)}),await n.commit(),console.log("Nodes saved to board")}catch(n){throw console.error("Save nodes error:",n),new Error(ur.SAVE_FAILED)}},BK=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving edges:",{boardId:t,edgesCount:e?.length});return}try{const n=ON(wi);e.forEach(r=>{const s=jl(wi,qr.BOARDS,t,qr.EDGES,r.id),o={source:r.source,target:r.target,updatedAt:Yt.now()};r.sourceHandle!=null&&(o.sourceHandle=r.sourceHandle),r.targetHandle!=null&&(o.targetHandle=r.targetHandle),r.style!=null&&(o.style=r.style),r.markerEnd!=null&&(o.markerEnd=r.markerEnd),n.set(s,o)}),await n.commit(),console.log("Edges saved to board")}catch(n){throw console.error("Save edges error:",n),new Error(ur.SAVE_FAILED)}},UK=async(t,e,n)=>{if(!GR({uid:t}))throw new Error(ur.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:Yt.now(),isOpen:!1};return console.log("Creating board:",r),await f_(jl(wi,qr.BOARDS,r.id),r),console.log("Board created successfully:",r),r}catch(r){throw console.error("Error creating new board:",r),r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},HK=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await tU(jl(wi,qr.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},tl=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:Yt.now()};await f_(jl(wi,qr.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},VK=t=>{if(!t||!t.data)return t;const e={...t},n={...t.data};return n.title||(n.title=n.label||n.summary||"Node"),n.suggestions||(n.suggestions=[]),e.draggable===void 0&&(e.draggable=!0),e.data=n,e},FK=t=>Array.isArray(t)?t.map(VK):[],zK=(t,e={})=>{const[n,r,s]=dP([]),[o,u,c]=fP([]),[f,h]=Z.useState(!0),[p,y]=Z.useState(!1),[b,T]=Z.useState(!1),[w,R]=Z.useState([]),[P,D]=Z.useState(null),Y=Z.useRef(null),{showSuccess:$,showError:G,showInfo:te}=e,q=C=>{const O=C.find(X=>X.isOpen===!0);if(O)return O;if(C.length>0){const X={...C[0],isOpen:!0};return tl(X.id,X).catch(console.error),X}return null};Z.useEffect(()=>{(async()=>{if(t)try{h(!0);const O=await PK(t.uid);R(O);const X=O.some(re=>re.isFallback);X&&G&&G("Database index missing. Please create the required Firestore index. Check console for details.");const F=q(O);if(!F){console.error("No board found for user"),G&&G("No boards found. Creating a default board..."),r(Pd),u(Al);return}D(F);const[J,se]=await Promise.all([Jx(F.id),ew(F.id)]);r(J),u(se),te&&!X&&te("Board loaded successfully!")}catch(O){console.error("Error loading initial data:",O),G&&G("Failed to load board data. Using default board."),r(Pd),u(Al)}finally{h(!1)}})()},[t,r,u]);const M=async(C,O,X)=>{Y.current&&clearTimeout(Y.current);const F=setTimeout(async()=>{try{T(!0);const J=[];O&&O.length>0&&J.push(MK(C,O)),X&&X.length>0&&J.push(BK(C,X)),J.length>0&&(await Promise.all(J),console.log("Auto-save completed successfully"))}catch(J){console.error("Auto-save failed:",J),G&&G("Failed to save changes automatically")}finally{T(!1),Y.current=null}},1e3);Y.current=F};Z.useEffect(()=>(!f&&P&&!p&&!P.isFallback&&M(P.id,n,o),()=>{Y.current&&clearTimeout(Y.current)}),[n,o,f,P,p]);const N=async C=>{try{if(P?.id===C)return;if(P?.isFallback||w.find(X=>X.id===C)?.isFallback){G&&G("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(y(!0),P&&!P.isFallback){const X={...P,isOpen:!1};await tl(P.id,X),R(F=>F.map(J=>J.id===P.id?X:J))}const O=w.find(X=>X.id===C);if(O){const X={...O,isOpen:!0};await tl(C,X),D(X),R(re=>re.map(A=>A.id===C?X:A));const[F,J]=await Promise.all([Jx(C),ew(C)]),se=FK(F);r(se),u(J),$&&$(`Switched to "${X.name}"`)}else console.error("Board not found:",C),G&&G("Board not found")}catch(O){console.error("Error switching board:",O),G&&G("Failed to switch board. Please try again.")}finally{y(!1)}};return{nodes:n,edges:o,allBoards:w,currentBoard:P,isLoading:f,isSwitchingBoard:p,isSaving:b,onNodesChange:s,onEdgesChange:c,setNodes:r,switchToBoard:N,createNewBoard:async C=>{try{if(!t)return G&&G("You must be logged in to create a board"),null;te&&te("Creating new board...");const O=await UK(t.uid,C||null,w);if(O){if(P&&!P.isFallback){const F={...P,isOpen:!1};tl(P.id,F).catch(console.error)}const X={...O,isOpen:!0};return R(F=>{const J=F.map(se=>se.id===P?.id?{...se,isOpen:!1}:se);return[X,...J]}),D(X),tl(O.id,X).catch(console.error),r([{id:"1",type:"staticEditable",data:{label:C||"New Board"},position:{x:250,y:25},draggable:!1}]),u(Al),$&&$(`Board "${O.name}" created and opened!`),X}else return G&&G("Failed to create board. Please try again."),null}catch(O){return G&&G(`Failed to create board: ${O.message}`),null}},deleteBoard:async C=>{try{if(w.length<=1){G&&G("Cannot delete the last board!");return}if(!w.find(X=>X.id===C)){console.error("Board not found for deletion"),G&&G("Board not found");return}if(te&&te("Deleting board..."),P?.id===C){const X=w.find(F=>F.id!==C);X&&await N(X.id)}await HK(C),R(X=>X.filter(F=>F.id!==C)),$&&$("Board deleted successfully!")}catch(O){console.error("Error deleting board:",O),G&&G("Failed to delete board. Please try again.")}},updateBoardName:async C=>{if(P&&P.name!==C){const O={...P,name:C};D(O),R(X=>X.map(F=>F.id===P.id?O:F));try{await tl(P.id,O),console.log("Board name updated successfully")}catch(X){console.error("Error updating board name:",X)}}},clearBoardState:()=>{Y.current&&(clearTimeout(Y.current),Y.current=null),R([]),D(null),r([]),u([]),h(!0),y(!1),T(!1)}}},jK=()=>{const[t,e]=Z.useState([]),n=h=>{e(p=>p.filter(y=>y.id!==h))},r=h=>{const p=Date.now().toString(),y={id:p,timestamp:new Date,...h};return e(b=>[...b,y]),h.autoRemove!==!1&&setTimeout(()=>{n(p)},h.duration||5e3),p};return{notifications:t,addNotification:r,removeNotification:n,clearAllNotifications:()=>{e([])},showSuccess:(h,p={})=>r({type:"success",message:h,...p}),showError:(h,p={})=>r({type:"error",message:h,duration:7e3,...p}),showInfo:(h,p={})=>r({type:"info",message:h,...p}),showWarning:(h,p={})=>r({type:"warning",message:h,duration:6e3,...p})}},$R=t=>{const e=[],n=t.split("_");for(let r=0;r<n.length;r++)if(r%2===0)n[r].split(/\s+/).filter(o=>o.trim()!=="").forEach(o=>{e.push({word:o.trim()})});else{const s=n[r].trim();s.split(/\s+/).filter(u=>u.trim()!=="").forEach(u=>{e.push({word:u.trim(),myConcept:s})})}return e},tw=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return t[Math.floor(Math.random()*t.length)]},N0=t=>{if(!t)return"#000000";const e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),r=parseInt(t.substring(5,7),16);return(e*299+n*587+r*114)/1e3>=128?"#000000":"#ffffff"},R0=(t,e)=>{if(!t)return"#000000";let n=t.startsWith("#")?t.substring(1):t;const r=parseInt(n,16),s=255,o=e,u=r>>16,c=r>>8&255,f=r&255,h=Math.round((s-u)*o)+u,p=Math.round((s-c)*o)+c,y=Math.round((s-f)*o)+f;return`#${(16777216+h*65536+p*256+y).toString(16).slice(1)}`},qK=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16),o=30,u=Math.min(255,Math.max(0,n+(Math.random()-.5)*o*2)),c=Math.min(255,Math.max(0,r+(Math.random()-.5)*o*2)),f=Math.min(255,Math.max(0,s+(Math.random()-.5)*o*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(c).toString(16).padStart(2,"0")}${Math.round(f).toString(16).padStart(2,"0")}`},YK=t=>{const r=(Math.random()-.5)*150*2;return{x:t.x+r,y:t.y+200}},GK=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,$K=(t,e)=>`edge_${t}_${e}`,KK=(t,e,n,r,s,o,u)=>({id:GK(),type:"draggableEditable",position:t,draggable:!0,data:{label:e,title:e,summary:r,full_text:n,suggestions:[],myColor:s,tokenColors:{},previousNode:u}}),XK=(t,e,n,r)=>({id:$K(t,e),source:t,target:e,sourceHandle:r,targetHandle:null,style:{stroke:n,strokeWidth:3},markerEnd:{type:zd.ArrowClosed,color:n}}),nw=async t=>{try{if(!t||typeof t!="string")throw new Error("Message must be a non-empty string");const e=t.trim();if(!e)throw new Error("Message cannot be empty or just whitespace");const r=await y3(x_,"groqChat")({message:e});return console.log("groqChat response:",r.data),r.data.response}catch(e){throw console.error("Firebase function error:",e),console.error("Message sent:",t),e}},QK=async(t,e)=>{try{if(!t||typeof t!="string")throw new Error("Message must be a non-empty string");const n=t.trim();if(!n)throw new Error("Message cannot be empty or just whitespace");const r=y3(x_,"groqChat");console.log("Starting streaming request...");const{stream:s,data:o}=await r.stream({message:n});console.log("Stream started, waiting for chunks...");let u="";for await(const f of s)if(console.log("Received chunk:",f),f&&typeof f=="object"&&"type"in f&&"content"in f){const h=f;console.log("Processing chunk:",h),h.type==="chunk"&&h.content&&(u+=h.content,e?.(h.content))}console.log("Waiting for final result...");const c=await o;return console.log("Final result received:",c),c&&typeof c=="object"&&"response"in c?(console.log("Returning final result response"),c.response):(console.log("Returning accumulated response:",u),u)}catch(n){throw console.error("Firebase function streaming error:",n),n}},WK=async(t,e,n)=>{try{const r=`You are an expert educator. Explain the following concept to a beginner.

        Context: ${e}

        Instructions:
        - Highlight every key term with [square-braces], e.g., [variable].
        - Use simple language and practical examples or analogies.
        - Use only correct HTML or MARKDOWN for all formatting (headings, lists, tables, images, code).
        - All HTML elements (including headings, lists, tables, images, code) MUST use inline CSS for styling.
        - For inline CSS, use: <span style="color:#fff;background:#222;padding:4px;border-radius:4px;">example</span>
        - For images: <img src="IMAGE_URL" alt="desc" style="max-width:100%;border-radius:8px;">
        - For code: <pre style="background:#222;color:#fff;padding:8px;border-radius:6px;"><code>console.log("Hello World");</code></pre>
        - For tables: <table style="border-collapse:collapse;width:100%;"><tr><th style="background:#222;color:#fff;padding:6px;">Header</th></tr><tr><td style="padding:6px;">Data</td></tr></table>
        - For lists: <ul style="padding-left:20px;"><li style="margin-bottom:4px;">Item 1</li></ul>
        - No introductions, conclusions, or extra commentary.
        - Start directly with the explanation.

        Concept: `,s=`Summarize in exactly 40 words or less.

        CRITICAL:
        - Preserve ALL [square-braces] concepts exactly
        - Every key concept MUST use [square-braces]
        - NO introductory phrases like "Here is..." or "Summary..."
        - NO bullet points or formatting except [square-braces]
        - Start immediately with summary content
        - ONLY the summary text

        Text to summarize: `,o=`You are an expert educator. Respond ONLY with a valid JSON object in the following format: {"topics": ["[concept1]", "[concept2]", "[concept3]"]}. 

        Instructions:
        - Suggest exactly 3 topics that are logical next steps for learning the given concept.
        - Each topic must be no more than 5 words.
        - Each topic MUST be enclosed in double quotes, e.g., "example topic".
        - Do NOT include any explanation, commentary, or formatting outside the JSON object.
        - Only output the JSON object as specified.

        Concept: `,u=nw(r+t),c=nw(o+t);let f="";const h=QK(s+t,D=>{f+=D,n(D)}),[p,y,b]=await Promise.all([u,c,h]);let T=y??"";T=T.replace(/^```json\s*/i,"").replace(/^```\s*/i,"").replace(/```$/i,"");let w=[];const R=T.match(/"(.*?)"/g);R&&(w=R.map(D=>D.replace(/"/g,"")));const P={firstResponse:{response:p?.replace(/\[/g,"_").replace(/\]/g,"_").replace(/```/g,"").replace(/markdown/g,"")},secondResponse:{response:b?.replace(/\[/g,"_").replace(/\]/g,"_").replace(/Here is a summary of the text in exactly 40 words or less:/g,"").replace("/Here is a summary of the text in 40 words or less:/g","")},thirdResponse:{response:w}};return console.log("askAITwice response:",P),P}catch(r){throw console.error("Error in askAITwice:",r),r}},KR=Z.createContext(null),ZK=({children:t,nodes:e,onNodesChange:n,onEdgesChange:r,setNodes:s,showExplanation:o})=>{const u=(c,f,h,p,y,b,T)=>{const w=e.find(q=>q.id===f);if(!w)return null;const R=w.data.tokenColors||{},P=c.myConcept||c.word;if(R[P])return console.log(`Token "${P}" is already colored, ignoring click`),null;let D;p==="staticEditable"?D=tw():D=y?qK(y):tw();const Y={...R};c.myConcept?Y[c.myConcept]=D:Y[c.word]=D,s(q=>q.map(M=>M.id===f?{...M,data:{...M.data,tokenColors:Y}}:M));const $=YK(h),G=KK($,c.word,"Loading...","",D,p,f);G.data.isLoading=!0;const te=XK(f,G.id,D,T);return n([{type:"add",item:G}]),r([{type:"add",item:te}]),WK(c.word,b||"",q=>{s(M=>M.map(N=>{if(N.id===G.id){const k=N.data.summary||"";return{...N,data:{...N.data,label:k+q,summary:k+q}}}return N}))}).then(q=>{const M=q.firstResponse?.response||c.word,N=q.secondResponse?.response||c.word,k=q.thirdResponse?.response||{};s(U=>U.map(B=>B.id===G.id?{...B,data:{...B.data,label:N,title:c.word,summary:N,full_text:M,suggestions:k,isLoading:!1}}:B))}).catch(()=>{s(q=>q.map(M=>M.id===G.id?{...M,data:{...M.data,label:c.word,title:c.word,summary:c.word,full_text:c.word,suggestions:[],isLoading:!1}}:M))}),D};return L.jsx(KR.Provider,{value:{handleTokenClick:u,setNodes:s,showExplanation:o},children:t})},XR=()=>{const t=Z.useContext(KR);if(!t)throw new Error("useTokenInteraction must be used within a TokenInteractionProvider");return t},QR=({size:t="medium",color:e="#4f86f7"})=>{const n={small:"w-4 h-4 border-2",medium:"w-8 h-8 border-3",large:"w-12 h-12 border-4"};return L.jsx("div",{className:"flex items-center justify-center",children:L.jsx("div",{className:`${n[t]} border-gray-200 dark:border-gray-700 border-t-indigo-500 dark:border-t-indigo-400 rounded-full animate-spin`,style:{borderTopColor:e}})})};function JK({data:t,id:e}){const[n,r]=Z.useState(!1),[s,o]=Z.useState(t.summary||t.label||"Static Node"),[u,c]=Z.useState(!1),{handleTokenClick:f,showExplanation:h}=XR(),{getNode:p,setViewport:y}=cf();Z.useEffect(()=>{n||o(t.summary||t.label||"Static Node")},[t.summary,t.label,n]);const b=$R(s),T=(N,k)=>{k.stopPropagation(),console.log("Static Token clicked:",N),f(N,e,{x:0,y:0},"staticEditable",t.myColor,t.summary||t.label||"Draggable Node",N.suggestionId)},w=N=>{N.stopPropagation(),r(!0)},R=()=>{r(!1)},P=N=>{N.stopPropagation()},D=N=>{N.stopPropagation(),N.key==="Enter"&&R(),N.key==="Escape"&&(o(t.summary||t.label||"Static Node"),r(!1))},Y=N=>{N.stopPropagation(),c(!u)},$=N=>{N.stopPropagation(),h&&h(t.title||"Explanation",t.full_text||"No detailed information available.")},G=N=>{if(N.stopPropagation(),t.previousNode){const k=p(t.previousNode);if(k){const{x:U,y:B}=k.position;y({x:-U+200,y:-B+100,zoom:1},{duration:500})}}},te=(()=>{const N=t.tokenColors||{};return b.map((k,U)=>{const B=k.myConcept||k.word,V=N[B],C=!V;return L.jsxs("span",{className:`inline-block px-2 py-1 m-0.5 rounded-lg font-medium transition-colors duration-150
                              ${C?"cursor-pointer hover:bg-blue-500/20 hover:border-blue-500/40":"cursor-not-allowed opacity-70"} 
                              ${k.myConcept?"bg-blue-500/10 border border-blue-500/30":"border border-transparent hover:border-blue-500/30"}`,style:{backgroundColor:V||"transparent",color:V?t.myColor||"#ffffff":"inherit",border:V?`1px solid ${V}`:"",boxShadow:V?`0 0 0 1px ${V}25`:""},onClick:O=>C?T(k,O):O.stopPropagation(),children:[k.word,U<b.length-1?" ":""]},U)})})(),q=L.jsxs("div",{className:"node-buttons",children:[t.previousNode&&L.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:G,title:"Go to previous node",children:""}),b.length>5&&L.jsx("button",{className:"node-expand-btn",onClick:Y,title:u?"Show less":"Show more",children:u?"":"+"}),L.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:$,title:"Show full text",children:""})]}),M=Z.useMemo(()=>t.isLoading?L.jsxs("div",{className:"flex items-center justify-center gap-2 py-8",children:[L.jsx(QR,{size:"small",color:t.myColor||"#6366f1"}),L.jsx("span",{className:"text-slate-400 text-sm",children:"Loading concept..."})]}):n?L.jsx("input",{type:"text",value:s,onChange:N=>o(N.target.value),onBlur:R,onKeyDown:D,onClick:P,className:`w-full bg-gray-700/50 border border-white/15 rounded-lg px-4 py-3 text-gray-100 
                             placeholder-gray-500 focus:outline-none focus:border-blue-500/60 focus:bg-gray-600/50 
                             focus:ring-2 focus:ring-blue-500/25 transition-all duration-200 nodrag`,placeholder:"Enter node content...",autoFocus:!0}):L.jsxs("div",{className:"flex flex-col gap-3",children:[L.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/10",children:[L.jsx("div",{className:"text-base font-semibold text-gray-100",children:t.title||"Node"}),L.jsxs("div",{className:"flex gap-2",children:[t.previousNode&&L.jsx("button",{className:`w-8 h-8 bg-gray-500/25 text-gray-400 border border-gray-500/35 rounded-lg 
                                         hover:bg-gray-500/35 hover:border-gray-500/55 
                                         transition-colors duration-150 flex items-center justify-center text-sm font-semibold`,onClick:G,title:"Go to previous node",children:""}),b.length>5&&L.jsx("button",{className:`w-8 h-8 bg-blue-500/25 text-blue-400 border border-blue-500/35 rounded-lg 
                                         hover:bg-blue-500/35 hover:border-blue-500/55 
                                         transition-colors duration-150 flex items-center justify-center text-sm font-semibold`,onClick:Y,title:u?"Show less":"Show more",children:u?"":"+"}),L.jsx("button",{className:`w-8 h-8 bg-blue-500/25 text-blue-400 border border-blue-500/35 rounded-lg 
                                     hover:bg-blue-500/35 hover:border-blue-500/55 hover:-translate-y-0.5 
                                     transition-all duration-150 flex items-center justify-center text-sm`,onClick:$,title:"Show full text",children:""})]})]}),L.jsx("div",{className:"flex-1",children:L.jsxs("div",{className:"cursor-text leading-relaxed break-words text-lg font-medium",onClick:w,children:[te,b.length>5&&!u&&L.jsx("span",{className:"text-slate-500 font-normal",children:"..."})]})}),L.jsxs("div",{className:"mt-2",children:[L.jsx("div",{className:"text-sm font-semibold text-slate-400 mb-1.5",children:"Suggestions"}),L.jsx("div",{className:"flex flex-wrap gap-1",children:t.suggestions&&t.suggestions.length>0?t.suggestions.map((N,k)=>{const B=(t.tokenColors||{})[N],V=!B;return L.jsxs("span",{className:`inline-block px-2 py-1 m-0.5 rounded-md text-sm 
                                                  bg-white/5 border border-white/10 transition-colors duration-150
                                                  ${V?"cursor-pointer hover:bg-blue-500/20 hover:border-blue-500/40":"cursor-not-allowed opacity-70"}`,style:{backgroundColor:B||"transparent",color:B?t.myColor||"#ffffff":"inherit",border:B?`1px solid ${B}`:""},onClick:C=>V?T({word:N,myConcept:N,suggestionId:t.label+N+k},C):C.stopPropagation(),children:[N,k<t.suggestions.length-1?" ":"",L.jsx(yr,{type:"source",position:He.Right,id:t.label+N+k})]},k)}):L.jsx("div",{className:"text-slate-500 italic text-sm",children:"No suggestions"})})]})]}),[n,s,u,b.length,w,R,D,P,te,q]);return L.jsxs("div",{className:`bg-[#1a1a1d] border border-white/[0.1] rounded-[20px] p-7 min-w-[320px] max-w-[500px] 
                       shadow-[0_14px_36px_rgba(0,0,0,0.6),0_2px_6px_rgba(0,0,0,0.8)] 
                       transition-colors duration-200 cursor-pointer select-none overflow-hidden
                       opacity-[0.98] border-b-[3px] border-b-white/[0.06]
                       hover:opacity-100 hover:bg-[#28282c] hover:border-white/[0.2]`,style:{backgroundColor:t.myColor,color:t.myColor?N0(t.myColor):"#f8faff",border:t.myColor?`1px solid ${R0(t.myColor,20)}`:"1px solid rgba(255, 255, 255, 0.1)"},children:[L.jsx("div",{className:"relative pointer-events-auto text-[#f8faff] text-[18px] leading-[1.7] font-semibold",children:M}),L.jsx(yr,{type:"source",position:He.Bottom,id:"bottom-source"}),L.jsx(yr,{type:"target",position:He.Bottom,id:"bottom-target"})]})}function eX({data:t,id:e}){const[n,r]=Z.useState(!1),[s,o]=Z.useState(t.summary||t.label||"Draggable Node"),[u,c]=Z.useState(t.expanded||!1),{getNodes:f,getNode:h,setViewport:p}=cf(),{handleTokenClick:y,showExplanation:b}=XR();Z.useEffect(()=>{n||o(t.summary||t.label||"Draggable Node")},[t.summary,t.label,n]);const T=$R(s),w=u||T.length<=5?T:T.slice(0,5),R=()=>!0,P=(U,B)=>{B.stopPropagation();const C=f().find(X=>X.id===e);return C?y(U,e,C.position,C.type||"draggableEditable",t.myColor,t.summary||t.label||"Draggable Node"):void 0},D=U=>{U.stopPropagation(),r(!0)},Y=()=>{r(!1)},$=U=>{U.stopPropagation()},G=U=>{U.stopPropagation(),U.key==="Enter"&&Y(),U.key==="Escape"&&(o(t.summary||t.label||"Draggable Node"),r(!1))},te=U=>{U.stopPropagation(),c(!u),!u&&t.onExpand&&t.onExpand()},q=U=>{U.stopPropagation(),b&&b(t.title,t.full_text||"No detailed information available.")},M=U=>{if(U.stopPropagation(),t.previousNode){const B=h(t.previousNode);if(B){const{x:V,y:C}=B.position;p({x:-V+200,y:-C+100,zoom:1},{duration:500})}}},N=Z.useMemo(()=>{const U={};return w.forEach(B=>{const V=B.myConcept||B.word;U[V]||(U[V]=[]),U[V].push(B)}),U},[w]),k=Z.useMemo(()=>n?L.jsx("input",{type:"text",value:s,onChange:U=>o(U.target.value),onBlur:Y,onKeyDown:G,onClick:$,className:`w-full bg-gray-700/50 border border-white/15 rounded-lg px-4 py-3 text-gray-100 
                             placeholder-gray-500 focus:outline-none focus:border-blue-500/60 focus:bg-gray-600/50 
                             focus:ring-2 focus:ring-blue-500/25 transition-all duration-200 nodrag`,placeholder:"Enter node content...",autoFocus:!0}):L.jsxs(L.Fragment,{children:[t.isLoading&&L.jsxs("div",{className:"flex items-center justify-center gap-2 py-5",children:[L.jsx(QR,{size:"small",color:t.myColor||"#6366f1"}),L.jsx("span",{className:"text-slate-400 text-sm",children:"Loading concept..."})]}),L.jsxs("div",{className:"flex flex-col gap-3",children:[L.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-white/10",children:[L.jsx("div",{className:"text-base font-semibold text-gray-100",children:t.title||"Node"}),L.jsxs("div",{className:"flex gap-2",children:[t.previousNode&&L.jsx("button",{className:`w-8 h-8 bg-gray-500/25 text-gray-400 border border-gray-500/35 rounded-lg 
                                             hover:bg-gray-500/35 hover:border-gray-500/55 
                                             transition-colors duration-150 flex items-center justify-center text-sm font-semibold`,onClick:M,title:"Go to previous node",children:""}),T.length>5&&L.jsx("button",{className:`w-8 h-8 bg-blue-500/25 text-blue-400 border border-blue-500/35 rounded-lg 
                                             hover:bg-blue-500/35 hover:border-blue-500/55 
                                             transition-colors duration-150 flex items-center justify-center text-sm font-semibold`,onClick:te,title:u?"Show less":"Show more",children:u?"":"+"}),L.jsx("button",{className:`w-8 h-8 bg-blue-500/25 text-blue-400 border border-blue-500/35 rounded-lg 
                                         hover:bg-blue-500/35 hover:border-blue-500/55 
                                         transition-colors duration-150 flex items-center justify-center text-sm`,onClick:q,title:"Show full text",children:""})]})]}),L.jsx("div",{className:"flex-1",children:L.jsxs("div",{className:"cursor-text leading-relaxed break-words",onClick:D,children:[w.map((U,B)=>{const V=t.tokenColors||{},C=U.myConcept||U.word,O=V[C],X=!O;return L.jsxs("span",{className:`inline-block px-2 py-1 m-0.5 rounded-lg font-medium transition-colors duration-150
                                                  ${X?"cursor-pointer hover:bg-blue-500/20 hover:border-blue-500/40":"cursor-not-allowed opacity-70"} 
                                                  ${U.myConcept?"bg-blue-500/10 border border-blue-500/30":"border border-transparent hover:border-blue-500/30"}`,style:{backgroundColor:O||"transparent",color:O?N0(O):"inherit",border:O?`1px solid ${R0(O,20)}`:"",boxShadow:O?`0 0 0 1px ${O}25`:""},onClick:F=>X?P(U,F):F.stopPropagation(),children:[U.word,B<w.length-1?" ":""]},B)}),T.length>5&&!u&&L.jsx("span",{className:"text-slate-500 font-normal",children:"..."})]})}),L.jsxs("div",{className:"mt-2",children:[L.jsx("div",{className:"text-sm font-semibold text-slate-400 mb-1.5",children:"Suggestions"}),L.jsx("div",{className:"flex flex-wrap gap-1",children:t.suggestions&&t.suggestions.length>0?t.suggestions.map((U,B)=>{const C=(t.tokenColors||{})[U],O=!C;return L.jsxs("span",{className:`inline-block px-2 py-1 m-0.5 rounded-md text-sm 
                                                      bg-white/5 border border-white/10 transition-colors duration-150
                                                      ${O?"cursor-pointer hover:bg-blue-500/20 hover:border-blue-500/40":"cursor-not-allowed opacity-70"}`,style:{backgroundColor:C||"transparent",color:C?N0(C):"inherit",border:C?`1px solid ${R0(C,20)}`:""},onClick:X=>O?P({word:U,myConcept:U,suggestionId:t.label+U+B},X):X.stopPropagation(),children:[U,L.jsx(yr,{type:"source",position:He.Bottom,id:t.label+U+B})]},B)}):L.jsx("div",{className:"text-slate-500 italic text-sm",children:"No suggestions"})})]})]})]}),[n,s,w,T,u,N,D,Y,G,$,te,q,P,R,t.previousNode,M,t.tokenColors,t.myColor,t.isLoading]);return L.jsxs("div",{className:`bg-[#202023] border border-white/[0.12] rounded-2xl p-5 min-w-[280px] max-w-[450px] 
                       shadow-[0_10px_30px_rgba(0,0,0,0.5),0_1px_4px_rgba(0,0,0,0.7)] 
                       transition-colors duration-200 cursor-grab select-none overflow-hidden
                       hover:border-white/[0.18] hover:bg-[#242427]`,style:{background:t.myColor,color:t.myColor?N0(t.myColor):"#f0f4f8",border:t.myColor?`1px solid ${R0(t.myColor,20)}`:"1px solid rgba(255, 255, 255, 0.12)"},children:[L.jsx("div",{className:"relative pointer-events-auto text-[#f0f4f8] text-[17px] leading-[1.7] font-medium",children:k}),L.jsx(yr,{type:"source",position:He.Bottom,id:"bottom-source"}),L.jsx(yr,{type:"target",position:He.Top,id:"top-target"}),L.jsx(yr,{type:"source",position:He.Left,id:"left-source"}),L.jsx(yr,{type:"target",position:He.Left,id:"left-target"}),L.jsx(yr,{type:"source",position:He.Right,id:"right-source"}),L.jsx(yr,{type:"target",position:He.Right,id:"right-target"})]})}const tX={staticEditable:JK,draggableEditable:eX};function nX(){const[t,e]=Z.useState(!1),[n,r]=Z.useState(!1),[s,o]=Z.useState(null),u=Z.useCallback((J,se)=>{o({title:J,text:se}),e(!0)},[]),c=Z.useCallback(()=>{e(!1)},[]),{user:f,signOut:h}=LK(),{notifications:p,removeNotification:y,showSuccess:b,showError:T,showInfo:w}=jK(),{nodes:R,edges:P,allBoards:D,currentBoard:Y,isSwitchingBoard:$,isSaving:G,onNodesChange:te,onEdgesChange:q,setNodes:M,switchToBoard:N,createNewBoard:k,deleteBoard:U,updateBoardName:B,clearBoardState:V}=zK(f,{showSuccess:b,showError:T,showInfo:w}),C=async()=>{await h(),V()},O=()=>{r(!0)},X=Z.useCallback(J=>{const se={id:`e${J.source}-${J.target}`,source:J.source,target:J.target,sourceHandle:J.sourceHandle,targetHandle:J.targetHandle};q([{type:"add",item:se}])},[q]),F=Z.useMemo(()=>L.jsxs(vC,{nodes:R,edges:P,onNodesChange:te,onEdgesChange:q,onConnect:X,nodeTypes:tX,connectionMode:Fa.Loose,fitView:!0,className:"bg-gray-50 dark:bg-gray-900 w-full h-full",children:[L.jsx(_P,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg"}),L.jsx(xP,{variant:di.Cross,gap:30,size:10,lineWidth:.5,color:"#94a3b8",className:"bg-gray-50 dark:bg-gray-900"})]}),[R,P,te,q,X]);return f?L.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 relative",style:{height:"100vh",width:"100vw",overflow:"hidden"},children:[L.jsx(kK,{notifications:p,onRemove:y}),L.jsx("div",{style:{height:"100%",position:"relative"},children:L.jsxs(qC,{direction:"horizontal",children:[L.jsx(m0,{defaultSize:80,minSize:20,children:L.jsx("div",{className:"bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:L.jsx(FV,{allBoards:D,currentBoard:Y,onSwitchBoard:N,onCreateBoard:async J=>{await k(J)},onDeleteBoard:U,onSignOut:C,isLoading:$})})}),L.jsx(hE,{}),L.jsx(m0,{minSize:30,defaultSize:70,children:L.jsxs("div",{className:"bg-white dark:bg-gray-800",style:{height:"100%",position:"relative"},children:[L.jsx(NK,{name:Y?.name||"Loading...",onSetName:B,user:f,isSaving:G}),L.jsx("div",{className:"bg-gray-50 dark:bg-gray-900",style:{height:"calc(100% - 60px)",width:"800px"},children:L.jsx(ZK,{nodes:R,onNodesChange:te,onEdgesChange:q,setNodes:M,showExplanation:u,children:F})})]})}),L.jsx(hE,{}),t&&L.jsx(m0,{defaultSize:30,children:L.jsx("div",{className:`bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl
                                       border-l border-gray-200/50 dark:border-gray-700/50 
                                       shadow-2xl
                                       animate-in slide-in-from-right-5 fade-in duration-300
                                       transition-all ease-out overflow-auto`,children:L.jsx("div",{className:"overflow-hidden bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900",children:L.jsx(wK,{explanation:s,onClose:c,isVisible:t})})})})]})})]}):n?L.jsx(HV,{}):L.jsx(DK,{onLogin:O})}function rX(){return L.jsx(IK,{children:L.jsx(nX,{})})}const WR=document.getElementById("root");if(!WR)throw new Error("Failed to find the root element");D6.createRoot(WR).render(L.jsx(Z.StrictMode,{children:L.jsx(rX,{})}));
