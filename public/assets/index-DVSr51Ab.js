function B8(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function U8(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function a(){var s=!1;try{s=this instanceof a}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(r,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),r}var Mh={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function V8(){if(hb)return Ho;hb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:a,key:u,ref:s!==void 0?s:null,props:l}}return Ho.Fragment=t,Ho.jsx=r,Ho.jsxs=r,Ho}var mb;function H8(){return mb||(mb=1,Mh.exports=V8()),Mh.exports}var x=H8(),jh={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function I8(){if(gb)return Ne;gb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function j(D,G,te){this.props=D,this.context=G,this.refs=N,this.updater=te||k}j.prototype.isReactComponent={},j.prototype.setState=function(D,G){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,G,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=j.prototype;function $(D,G,te){this.props=D,this.context=G,this.refs=N,this.updater=te||k}var B=$.prototype=new R;B.constructor=$,A(B,j.prototype),B.isPureReactComponent=!0;var p=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},b=Object.prototype.hasOwnProperty;function S(D,G,te,Z,J,ee){return te=ee.ref,{$$typeof:e,type:D,key:G,ref:te!==void 0?te:null,props:ee}}function C(D,G){return S(D.type,G,void 0,void 0,void 0,D.props)}function L(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function z(D){var G={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(te){return G[te]})}var U=/\/+/g;function X(D,G){return typeof D=="object"&&D!==null&&D.key!=null?z(""+D.key):G.toString(36)}function Q(){}function O(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Q,Q):(D.status="pending",D.then(function(G){D.status==="pending"&&(D.status="fulfilled",D.value=G)},function(G){D.status==="pending"&&(D.status="rejected",D.reason=G)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function q(D,G,te,Z,J){var ee=typeof D;(ee==="undefined"||ee==="boolean")&&(D=null);var Y=!1;if(D===null)Y=!0;else switch(ee){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(D.$$typeof){case e:case t:Y=!0;break;case g:return Y=D._init,q(Y(D._payload),G,te,Z,J)}}if(Y)return J=J(D),Y=Z===""?"."+X(D,0):Z,p(J)?(te="",Y!=null&&(te=Y.replace(U,"$&/")+"/"),q(J,G,te,"",function(fe){return fe})):J!=null&&(L(J)&&(J=C(J,te+(J.key==null||D&&D.key===J.key?"":(""+J.key).replace(U,"$&/")+"/")+Y)),G.push(J)),1;Y=0;var K=Z===""?".":Z+":";if(p(D))for(var ne=0;ne<D.length;ne++)Z=D[ne],ee=K+X(Z,ne),Y+=q(Z,G,te,ee,J);else if(ne=w(D),typeof ne=="function")for(D=ne.call(D),ne=0;!(Z=D.next()).done;)Z=Z.value,ee=K+X(Z,ne++),Y+=q(Z,G,te,ee,J);else if(ee==="object"){if(typeof D.then=="function")return q(O(D),G,te,Z,J);throw G=String(D),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Y}function E(D,G,te){if(D==null)return D;var Z=[],J=0;return q(D,Z,"","",function(ee){return G.call(te,ee,J++)}),Z}function V(D){if(D._status===-1){var G=D._result;G=G(),G.then(function(te){(D._status===0||D._status===-1)&&(D._status=1,D._result=te)},function(te){(D._status===0||D._status===-1)&&(D._status=2,D._result=te)}),D._status===-1&&(D._status=0,D._result=G)}if(D._status===1)return D._result.default;throw D._result}var H=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function I(){}return Ne.Children={map:E,forEach:function(D,G,te){E(D,function(){G.apply(this,arguments)},te)},count:function(D){var G=0;return E(D,function(){G++}),G},toArray:function(D){return E(D,function(G){return G})||[]},only:function(D){if(!L(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=j,Ne.Fragment=r,Ne.Profiler=s,Ne.PureComponent=$,Ne.StrictMode=a,Ne.Suspense=f,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cloneElement=function(D,G,te){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=A({},D.props),J=D.key,ee=void 0;if(G!=null)for(Y in G.ref!==void 0&&(ee=void 0),G.key!==void 0&&(J=""+G.key),G)!b.call(G,Y)||Y==="key"||Y==="__self"||Y==="__source"||Y==="ref"&&G.ref===void 0||(Z[Y]=G[Y]);var Y=arguments.length-2;if(Y===1)Z.children=te;else if(1<Y){for(var K=Array(Y),ne=0;ne<Y;ne++)K[ne]=arguments[ne+2];Z.children=K}return S(D.type,J,void 0,void 0,ee,Z)},Ne.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ne.createElement=function(D,G,te){var Z,J={},ee=null;if(G!=null)for(Z in G.key!==void 0&&(ee=""+G.key),G)b.call(G,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(J[Z]=G[Z]);var Y=arguments.length-2;if(Y===1)J.children=te;else if(1<Y){for(var K=Array(Y),ne=0;ne<Y;ne++)K[ne]=arguments[ne+2];J.children=K}if(D&&D.defaultProps)for(Z in Y=D.defaultProps,Y)J[Z]===void 0&&(J[Z]=Y[Z]);return S(D,ee,void 0,void 0,null,J)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:d,render:D}},Ne.isValidElement=L,Ne.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:V}},Ne.memo=function(D,G){return{$$typeof:h,type:D,compare:G===void 0?null:G}},Ne.startTransition=function(D){var G=_.T,te={};_.T=te;try{var Z=D(),J=_.S;J!==null&&J(te,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(I,H)}catch(ee){H(ee)}finally{_.T=G}},Ne.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Ne.use=function(D){return _.H.use(D)},Ne.useActionState=function(D,G,te){return _.H.useActionState(D,G,te)},Ne.useCallback=function(D,G){return _.H.useCallback(D,G)},Ne.useContext=function(D){return _.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,G){return _.H.useDeferredValue(D,G)},Ne.useEffect=function(D,G,te){var Z=_.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,G)},Ne.useId=function(){return _.H.useId()},Ne.useImperativeHandle=function(D,G,te){return _.H.useImperativeHandle(D,G,te)},Ne.useInsertionEffect=function(D,G){return _.H.useInsertionEffect(D,G)},Ne.useLayoutEffect=function(D,G){return _.H.useLayoutEffect(D,G)},Ne.useMemo=function(D,G){return _.H.useMemo(D,G)},Ne.useOptimistic=function(D,G){return _.H.useOptimistic(D,G)},Ne.useReducer=function(D,G,te){return _.H.useReducer(D,G,te)},Ne.useRef=function(D){return _.H.useRef(D)},Ne.useState=function(D){return _.H.useState(D)},Ne.useSyncExternalStore=function(D,G,te){return _.H.useSyncExternalStore(D,G,te)},Ne.useTransition=function(){return _.H.useTransition()},Ne.version="19.1.0",Ne}var pb;function Dl(){return pb||(pb=1,jh.exports=I8()),jh.exports}var M=Dl();const le=ad(M),q8=B8({__proto__:null,default:le},[M]);var Rh={exports:{}},Io={},Dh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function G8(){return yb||(yb=1,function(e){function t(E,V){var H=E.length;E.push(V);e:for(;0<H;){var I=H-1>>>1,D=E[I];if(0<s(D,V))E[I]=V,E[H]=D,H=I;else break e}}function r(E){return E.length===0?null:E[0]}function a(E){if(E.length===0)return null;var V=E[0],H=E.pop();if(H!==V){E[0]=H;e:for(var I=0,D=E.length,G=D>>>1;I<G;){var te=2*(I+1)-1,Z=E[te],J=te+1,ee=E[J];if(0>s(Z,H))J<D&&0>s(ee,Z)?(E[I]=ee,E[J]=H,I=J):(E[I]=Z,E[te]=H,I=te);else if(J<D&&0>s(ee,H))E[I]=ee,E[J]=H,I=J;else break e}}return V}function s(E,V){var H=E.sortIndex-V.sortIndex;return H!==0?H:E.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,v=null,w=3,k=!1,A=!1,N=!1,j=!1,R=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function p(E){for(var V=r(h);V!==null;){if(V.callback===null)a(h);else if(V.startTime<=E)a(h),V.sortIndex=V.expirationTime,t(f,V);else break;V=r(h)}}function _(E){if(N=!1,p(E),!A)if(r(f)!==null)A=!0,b||(b=!0,X());else{var V=r(h);V!==null&&q(_,V.startTime-E)}}var b=!1,S=-1,C=5,L=-1;function z(){return j?!0:!(e.unstable_now()-L<C)}function U(){if(j=!1,b){var E=e.unstable_now();L=E;var V=!0;try{e:{A=!1,N&&(N=!1,$(S),S=-1),k=!0;var H=w;try{t:{for(p(E),v=r(f);v!==null&&!(v.expirationTime>E&&z());){var I=v.callback;if(typeof I=="function"){v.callback=null,w=v.priorityLevel;var D=I(v.expirationTime<=E);if(E=e.unstable_now(),typeof D=="function"){v.callback=D,p(E),V=!0;break t}v===r(f)&&a(f),p(E)}else a(f);v=r(f)}if(v!==null)V=!0;else{var G=r(h);G!==null&&q(_,G.startTime-E),V=!1}}break e}finally{v=null,w=H,k=!1}V=void 0}}finally{V?X():b=!1}}}var X;if(typeof B=="function")X=function(){B(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,O=Q.port2;Q.port1.onmessage=U,X=function(){O.postMessage(null)}}else X=function(){R(U,0)};function q(E,V){S=R(function(){E(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(E){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var H=w;w=V;try{return E()}finally{w=H}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(E,V){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var H=w;w=E;try{return V()}finally{w=H}},e.unstable_scheduleCallback=function(E,V,H){var I=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?I+H:I):H=I,E){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=H+D,E={id:g++,callback:V,priorityLevel:E,startTime:H,expirationTime:D,sortIndex:-1},H>I?(E.sortIndex=H,t(h,E),r(f)===null&&E===r(h)&&(N?($(S),S=-1):N=!0,q(_,H-I))):(E.sortIndex=D,t(f,E),A||k||(A=!0,b||(b=!0,X()))),E},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(E){var V=w;return function(){var H=w;w=V;try{return E.apply(this,arguments)}finally{w=H}}}}(Oh)),Oh}var vb;function Y8(){return vb||(vb=1,Dh.exports=G8()),Dh.exports}var zh={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function F8(){if(bb)return zt;bb=1;var e=Dl();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,h,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:h,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zt.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(f,h,null,g)},zt.flushSync=function(f){var h=u.T,g=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=h,a.p=g,a.d.f()}},zt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(f,h))},zt.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},zt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,v=d(g,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,k=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?a.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:k}):g==="script"&&a.d.X(f,{crossOrigin:v,integrity:w,fetchPriority:k,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);a.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(f)},zt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,v=d(g,h.crossOrigin);a.d.L(f,g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zt.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);a.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(f)},zt.requestFormReset=function(f){a.d.r(f)},zt.unstable_batchedUpdates=function(f,h){return f(h)},zt.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},zt.useFormStatus=function(){return u.H.useHostTransitionStatus()},zt.version="19.1.0",zt}var wb;function N1(){if(wb)return zh.exports;wb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zh.exports=F8(),zh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function K8(){if(_b)return Io;_b=1;var e=Y8(),t=Dl(),r=N1();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(a(188))}function f(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(a(188));return i!==n?null:n}for(var o=n,c=i;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return d(m),n;if(y===c)return d(m),i;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=m,c=y;else{for(var T=!1,P=m.child;P;){if(P===o){T=!0,o=m,c=y;break}if(P===c){T=!0,c=m,o=y;break}P=P.sibling}if(!T){for(P=y.child;P;){if(P===o){T=!0,o=y,c=m;break}if(P===c){T=!0,c=y,o=m;break}P=P.sibling}if(!T)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:i}function h(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=h(n),i!==null)return i;n=n.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),B=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var Q=Symbol.for("react.client.reference");function O(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Q?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case _:return"Suspense";case b:return"SuspenseList";case L:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case B:return(n.displayName||"Context")+".Provider";case $:return(n._context.displayName||"Context")+".Consumer";case p:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case S:return i=n.displayName||null,i!==null?i:O(n.type)||"Memo";case C:i=n._payload,n=n._init;try{return O(n(i))}catch{}}return null}var q=Array.isArray,E=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},I=[],D=-1;function G(n){return{current:n}}function te(n){0>D||(n.current=I[D],I[D]=null,D--)}function Z(n,i){D++,I[D]=n.current,n.current=i}var J=G(null),ee=G(null),Y=G(null),K=G(null);function ne(n,i){switch(Z(Y,i),Z(ee,n),Z(J,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Vv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Vv(i),n=Hv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(J),Z(J,n)}function fe(){te(J),te(ee),te(Y)}function he(n){n.memoizedState!==null&&Z(K,n);var i=J.current,o=Hv(i,n.type);i!==o&&(Z(ee,n),Z(J,o))}function ye(n){ee.current===n&&(te(J),te(ee)),K.current===n&&(te(K),Po._currentValue=H)}var pe=Object.prototype.hasOwnProperty,ge=e.unstable_scheduleCallback,je=e.unstable_cancelCallback,Ce=e.unstable_shouldYield,ot=e.unstable_requestPaint,_e=e.unstable_now,me=e.unstable_getCurrentPriorityLevel,Ee=e.unstable_ImmediatePriority,fn=e.unstable_UserBlockingPriority,Rt=e.unstable_NormalPriority,Mn=e.unstable_LowPriority,jn=e.unstable_IdlePriority,Rn=e.log,Dr=e.unstable_setDisableYieldValue,en=null,lt=null;function $t(n){if(typeof Rn=="function"&&Dr(n),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(en,n)}catch{}}var ft=Math.clz32?Math.clz32:hn,Ma=Math.log,wt=Math.LN2;function hn(n){return n>>>=0,n===0?32:31-(Ma(n)/wt|0)|0}var mn=256,gn=4194304;function qt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Bt(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var m=0,y=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var P=c&134217727;return P!==0?(c=P&~y,c!==0?m=qt(c):(T&=P,T!==0?m=qt(T):o||(o=P&~n,o!==0&&(m=qt(o))))):(P=c&~y,P!==0?m=qt(P):T!==0?m=qt(T):o||(o=c&~n,o!==0&&(m=qt(o)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:m}function tn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Is(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var n=mn;return mn<<=1,(mn&4194048)===0&&(mn=256),n}function Or(){var n=gn;return gn<<=1,(gn&62914560)===0&&(gn=4194304),n}function ja(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function zr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ir(n,i,o,c,m,y){var T=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var P=n.entanglements,F=n.expirationTimes,ie=n.hiddenUpdates;for(o=T&~o;0<o;){var ue=31-ft(o),de=1<<ue;P[ue]=0,F[ue]=-1;var se=ie[ue];if(se!==null)for(ie[ue]=null,ue=0;ue<se.length;ue++){var oe=se[ue];oe!==null&&(oe.lane&=-536870913)}o&=~de}c!==0&&ql(n,c,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(T&~i))}function ql(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-ft(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function Gl(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-ft(o),m=1<<c;m&i|n[c]&i&&(n[c]|=i),o&=~m}}function qs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Yl(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:ob(n.type))}function xd(n,i){var o=V.p;try{return V.p=n,i()}finally{V.p=o}}var Fn=Math.random().toString(36).slice(2),_t="__reactFiber$"+Fn,Dt="__reactProps$"+Fn,Lr="__reactContainer$"+Fn,Ys="__reactEvents$"+Fn,Sd="__reactListeners$"+Fn,Ed="__reactHandles$"+Fn,Fl="__reactResources$"+Fn,Ra="__reactMarker$"+Fn;function Fs(n){delete n[_t],delete n[Dt],delete n[Ys],delete n[Sd],delete n[Ed]}function sr(n){var i=n[_t];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Lr]||o[_t]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Yv(n);n!==null;){if(o=n[_t])return o;n=Yv(n)}return i}n=o,o=n.parentNode}return null}function Pr(n){if(n=n[_t]||n[Lr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Da(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function $r(n){var i=n[Fl];return i||(i=n[Fl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(n){n[Ra]=!0}var Kl=new Set,Xl={};function or(n,i){Br(n,i),Br(n+"Capture",i)}function Br(n,i){for(Xl[n]=i,n=0;n<i.length;n++)Kl.add(i[n])}var Zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Wl={};function kd(n){return pe.call(Wl,n)?!0:pe.call(Ql,n)?!1:Zl.test(n)?Wl[n]=!0:(Ql[n]=!0,!1)}function bi(n,i,o){if(kd(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function wi(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Dn(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}var _i,Jl;function Ur(n){if(_i===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);_i=i&&i[1]||"",Jl=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_i+n+Jl}var Ks=!1;function Oa(n,i){if(!n||Ks)return"";Ks=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(oe){var se=oe}Reflect.construct(n,[],de)}else{try{de.call()}catch(oe){se=oe}n.call(de.prototype)}}else{try{throw Error()}catch(oe){se=oe}(de=n())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(oe){if(oe&&se&&typeof oe.stack=="string")return[oe.stack,se.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],P=y[1];if(T&&P){var F=T.split(`
`),ie=P.split(`
`);for(m=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ie.length&&!ie[m].includes("DetermineComponentFrameRoot");)m++;if(c===F.length||m===ie.length)for(c=F.length-1,m=ie.length-1;1<=c&&0<=m&&F[c]!==ie[m];)m--;for(;1<=c&&0<=m;c--,m--)if(F[c]!==ie[m]){if(c!==1||m!==1)do if(c--,m--,0>m||F[c]!==ie[m]){var ue=`
`+F[c].replace(" at new "," at ");return n.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",n.displayName)),ue}while(1<=c&&0<=m);break}}}finally{Ks=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ur(o):""}function DS(n){switch(n.tag){case 26:case 27:case 5:return Ur(n.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Oa(n.type,!1);case 11:return Oa(n.type.render,!1);case 1:return Oa(n.type,!0);case 31:return Ur("Activity");default:return""}}function zp(n){try{var i="";do i+=DS(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lp(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function OS(n){var i=Lp(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function eu(n){n._valueTracker||(n._valueTracker=OS(n))}function Pp(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=Lp(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function tu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var zS=/[\n"\\]/g;function yn(n){return n.replace(zS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Td(n,i,o,c,m,y,T,P){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+pn(i)):n.value!==""+pn(i)&&(n.value=""+pn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?Ad(n,T,pn(i)):o!=null?Ad(n,T,pn(o)):c!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?n.name=""+pn(P):n.removeAttribute("name")}function $p(n,i,o,c,m,y,T,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+pn(o):"",i=i!=null?""+pn(i):o,P||i===n.value||(n.value=i),n.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=P?n.checked:!!c,n.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Ad(n,i,o){i==="number"&&tu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function xi(n,i,o,c){if(n=n.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=i.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&c&&(n[o].defaultSelected=!0)}else{for(o=""+pn(o),i=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Bp(n,i,o){if(i!=null&&(i=""+pn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+pn(o):""}function Up(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(a(92));if(q(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=pn(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function Si(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var LS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vp(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||LS.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Hp(n,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&Vp(n,m,c)}else for(var y in i)i.hasOwnProperty(y)&&Vp(n,y,i[y])}function Cd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$S=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nu(n){return $S.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Nd=null;function Md(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ei=null,ki=null;function Ip(n){var i=Pr(n);if(i&&(n=i.stateNode)){var o=n[Dt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Td(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+yn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var m=c[Dt]||null;if(!m)throw Error(a(90));Td(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&Pp(c)}break e;case"textarea":Bp(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&xi(n,!!o.multiple,i,!1)}}}var jd=!1;function qp(n,i,o){if(jd)return n(i,o);jd=!0;try{var c=n(i);return c}finally{if(jd=!1,(Ei!==null||ki!==null)&&(Vu(),Ei&&(i=Ei,n=ki,ki=Ei=null,Ip(i),n)))for(i=0;i<n.length;i++)Ip(n[i])}}function Xs(n,i){var o=n.stateNode;if(o===null)return null;var c=o[Dt]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rd=!1;if(lr)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{Rd=!1}var Vr=null,Dd=null,ru=null;function Gp(){if(ru)return ru;var n,i=Dd,o=i.length,c,m="value"in Vr?Vr.value:Vr.textContent,y=m.length;for(n=0;n<o&&i[n]===m[n];n++);var T=o-n;for(c=1;c<=T&&i[o-c]===m[y-c];c++);return ru=m.slice(n,1<c?1-c:void 0)}function au(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function iu(){return!0}function Yp(){return!1}function Gt(n){function i(o,c,m,y,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(o=n[P],this[P]=o?o(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?iu:Yp,this.isPropagationStopped=Yp,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),i}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=Gt(za),Qs=g({},za,{view:0,detail:0}),BS=Gt(Qs),Od,zd,Ws,ou=g({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ws&&(Ws&&n.type==="mousemove"?(Od=n.screenX-Ws.screenX,zd=n.screenY-Ws.screenY):zd=Od=0,Ws=n),Od)},movementY:function(n){return"movementY"in n?n.movementY:zd}}),Fp=Gt(ou),US=g({},ou,{dataTransfer:0}),VS=Gt(US),HS=g({},Qs,{relatedTarget:0}),Ld=Gt(HS),IS=g({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),qS=Gt(IS),GS=g({},za,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),YS=Gt(GS),FS=g({},za,{data:0}),Kp=Gt(FS),KS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ZS[n])?!!i[n]:!1}function Pd(){return QS}var WS=g({},Qs,{key:function(n){if(n.key){var i=KS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=au(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?XS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(n){return n.type==="keypress"?au(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?au(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),JS=Gt(WS),eE=g({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xp=Gt(eE),tE=g({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),nE=Gt(tE),rE=g({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),aE=Gt(rE),iE=g({},ou,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),sE=Gt(iE),oE=g({},za,{newState:0,oldState:0}),lE=Gt(oE),uE=[9,13,27,32],$d=lr&&"CompositionEvent"in window,Js=null;lr&&"documentMode"in document&&(Js=document.documentMode);var cE=lr&&"TextEvent"in window&&!Js,Zp=lr&&(!$d||Js&&8<Js&&11>=Js),Qp=" ",Wp=!1;function Jp(n,i){switch(n){case"keyup":return uE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ti=!1;function dE(n,i){switch(n){case"compositionend":return e0(i);case"keypress":return i.which!==32?null:(Wp=!0,Qp);case"textInput":return n=i.data,n===Qp&&Wp?null:n;default:return null}}function fE(n,i){if(Ti)return n==="compositionend"||!$d&&Jp(n,i)?(n=Gp(),ru=Dd=Vr=null,Ti=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zp&&i.locale!=="ko"?null:i.data;default:return null}}var hE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!hE[n.type]:i==="textarea"}function n0(n,i,o,c){Ei?ki?ki.push(c):ki=[c]:Ei=c,i=Fu(i,"onChange"),0<i.length&&(o=new su("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var eo=null,to=null;function mE(n){Lv(n,0)}function lu(n){var i=Da(n);if(Pp(i))return n}function r0(n,i){if(n==="change")return i}var a0=!1;if(lr){var Bd;if(lr){var Ud="oninput"in document;if(!Ud){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),Ud=typeof i0.oninput=="function"}Bd=Ud}else Bd=!1;a0=Bd&&(!document.documentMode||9<document.documentMode)}function s0(){eo&&(eo.detachEvent("onpropertychange",o0),to=eo=null)}function o0(n){if(n.propertyName==="value"&&lu(to)){var i=[];n0(i,to,n,Md(n)),qp(mE,i)}}function gE(n,i,o){n==="focusin"?(s0(),eo=i,to=o,eo.attachEvent("onpropertychange",o0)):n==="focusout"&&s0()}function pE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lu(to)}function yE(n,i){if(n==="click")return lu(i)}function vE(n,i){if(n==="input"||n==="change")return lu(i)}function bE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var nn=typeof Object.is=="function"?Object.is:bE;function no(n,i){if(nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!pe.call(i,m)||!nn(n[m],i[m]))return!1}return!0}function l0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function u0(n,i){var o=l0(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=l0(o)}}function c0(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?c0(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function d0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=tu(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=tu(n.document)}return i}function Vd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var wE=lr&&"documentMode"in document&&11>=document.documentMode,Ai=null,Hd=null,ro=null,Id=!1;function f0(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Id||Ai==null||Ai!==tu(c)||(c=Ai,"selectionStart"in c&&Vd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ro&&no(ro,c)||(ro=c,c=Fu(Hd,"onSelect"),0<c.length&&(i=new su("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Ai)))}function La(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ci={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},qd={},h0={};lr&&(h0=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Pa(n){if(qd[n])return qd[n];if(!Ci[n])return n;var i=Ci[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in h0)return qd[n]=i[o];return n}var m0=Pa("animationend"),g0=Pa("animationiteration"),p0=Pa("animationstart"),_E=Pa("transitionrun"),xE=Pa("transitionstart"),SE=Pa("transitioncancel"),y0=Pa("transitionend"),v0=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function On(n,i){v0.set(n,i),or(i,[n])}var b0=new WeakMap;function vn(n,i){if(typeof n=="object"&&n!==null){var o=b0.get(n);return o!==void 0?o:(i={value:n,source:i,stack:zp(i)},b0.set(n,i),i)}return{value:n,source:i,stack:zp(i)}}var bn=[],Ni=0,Yd=0;function uu(){for(var n=Ni,i=Yd=Ni=0;i<n;){var o=bn[i];bn[i++]=null;var c=bn[i];bn[i++]=null;var m=bn[i];bn[i++]=null;var y=bn[i];if(bn[i++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&w0(o,m,y)}}function cu(n,i,o,c){bn[Ni++]=n,bn[Ni++]=i,bn[Ni++]=o,bn[Ni++]=c,Yd|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Fd(n,i,o,c){return cu(n,i,o,c),du(n)}function Mi(n,i){return cu(n,null,null,i),du(n)}function w0(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=n.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&i!==null&&(m=31-ft(o),n=y.hiddenUpdates,c=n[m],c===null?n[m]=[i]:c.push(i),i.lane=o|536870912),y):null}function du(n){if(50<No)throw No=0,eh=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ji={};function EE(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(n,i,o,c){return new EE(n,i,o,c)}function Kd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ur(n,i){var o=n.alternate;return o===null?(o=rn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function _0(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function fu(n,i,o,c,m,y){var T=0;if(c=n,typeof n=="function")Kd(n)&&(T=1);else if(typeof n=="string")T=T8(n,o,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case L:return n=rn(31,o,i,m),n.elementType=L,n.lanes=y,n;case A:return $a(o.children,m,y,i);case N:T=8,m|=24;break;case j:return n=rn(12,o,i,m|2),n.elementType=j,n.lanes=y,n;case _:return n=rn(13,o,i,m),n.elementType=_,n.lanes=y,n;case b:return n=rn(19,o,i,m),n.elementType=b,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:case B:T=10;break e;case $:T=9;break e;case p:T=11;break e;case S:T=14;break e;case C:T=16,c=null;break e}T=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return i=rn(T,o,i,m),i.elementType=n,i.type=c,i.lanes=y,i}function $a(n,i,o,c){return n=rn(7,n,c,i),n.lanes=o,n}function Xd(n,i,o){return n=rn(6,n,null,i),n.lanes=o,n}function Zd(n,i,o){return i=rn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Ri=[],Di=0,hu=null,mu=0,wn=[],_n=0,Ba=null,cr=1,dr="";function Ua(n,i){Ri[Di++]=mu,Ri[Di++]=hu,hu=n,mu=i}function x0(n,i,o){wn[_n++]=cr,wn[_n++]=dr,wn[_n++]=Ba,Ba=n;var c=cr;n=dr;var m=32-ft(c)-1;c&=~(1<<m),o+=1;var y=32-ft(i)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,cr=1<<32-ft(i)+m|o<<m|c,dr=y+n}else cr=1<<y|o<<m|c,dr=n}function Qd(n){n.return!==null&&(Ua(n,1),x0(n,1,0))}function Wd(n){for(;n===hu;)hu=Ri[--Di],Ri[Di]=null,mu=Ri[--Di],Ri[Di]=null;for(;n===Ba;)Ba=wn[--_n],wn[_n]=null,dr=wn[--_n],wn[_n]=null,cr=wn[--_n],wn[_n]=null}var Ut=null,nt=null,Ve=!1,Va=null,Kn=!1,Jd=Error(a(519));function Ha(n){var i=Error(a(418,""));throw so(vn(i,n)),Jd}function S0(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[_t]=n,i[Dt]=c,o){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(o=0;o<jo.length;o++)Pe(jo[o],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),$p(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),eu(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Up(i,c.value,c.defaultValue,c.children),eu(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Uv(i.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),c.onScroll!=null&&Pe("scroll",i),c.onScrollEnd!=null&&Pe("scrollend",i),c.onClick!=null&&(i.onclick=Ku),i=!0):i=!1,i||Ha(n)}function E0(n){for(Ut=n.return;Ut;)switch(Ut.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ut=Ut.return}}function ao(n){if(n!==Ut)return!1;if(!Ve)return E0(n),Ve=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||ph(n.type,n.memoizedProps)),o=!o),o&&nt&&Ha(n),E0(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){nt=Ln(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}nt=null}}else i===27?(i=nt,ra(n.type)?(n=wh,wh=null,nt=n):nt=i):nt=Ut?Ln(n.stateNode.nextSibling):null;return!0}function io(){nt=Ut=null,Ve=!1}function k0(){var n=Va;return n!==null&&(Kt===null?Kt=n:Kt.push.apply(Kt,n),Va=null),n}function so(n){Va===null?Va=[n]:Va.push(n)}var ef=G(null),Ia=null,fr=null;function Hr(n,i,o){Z(ef,i._currentValue),i._currentValue=o}function hr(n){n._currentValue=ef.current,te(ef)}function tf(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function nf(n,i,o,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var P=y;y=m;for(var F=0;F<i.length;F++)if(P.context===i[F]){y.lanes|=o,P=y.alternate,P!==null&&(P.lanes|=o),tf(y.return,o,n),c||(T=null);break e}y=P.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(a(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),tf(T,o,n),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===n){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function oo(n,i,o,c){n=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var P=m.type;nn(m.pendingProps.value,T.value)||(n!==null?n.push(P):n=[P])}}else if(m===K.current){if(T=m.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Po):n=[Po])}m=m.return}n!==null&&nf(i,n,o,c),i.flags|=262144}function gu(n){for(n=n.firstContext;n!==null;){if(!nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qa(n){Ia=n,fr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ot(n){return T0(Ia,n)}function pu(n,i){return Ia===null&&qa(n),T0(n,i)}function T0(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},fr===null){if(n===null)throw Error(a(308));fr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else fr=fr.next=i;return o}var kE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},TE=e.unstable_scheduleCallback,AE=e.unstable_NormalPriority,yt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new kE,data:new Map,refCount:0}}function lo(n){n.refCount--,n.refCount===0&&TE(AE,function(){n.controller.abort()})}var uo=null,af=0,Oi=0,zi=null;function CE(n,i){if(uo===null){var o=uo=[];af=0,Oi=oh(),zi={status:"pending",value:void 0,then:function(c){o.push(c)}}}return af++,i.then(A0,A0),i}function A0(){if(--af===0&&uo!==null){zi!==null&&(zi.status="fulfilled");var n=uo;uo=null,Oi=0,zi=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function NE(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var C0=E.S;E.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&CE(n,i),C0!==null&&C0(n,i)};var Ga=G(null);function sf(){var n=Ga.current;return n!==null?n:Ke.pooledCache}function yu(n,i){i===null?Z(Ga,Ga.current):Z(Ga,i.pool)}function N0(){var n=sf();return n===null?null:{parent:yt._currentValue,pool:n}}var co=Error(a(460)),M0=Error(a(474)),vu=Error(a(542)),of={then:function(){}};function j0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bu(){}function R0(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(bu,bu),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,O0(n),n;default:if(typeof i.status=="string")i.then(bu,bu);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,O0(n),n}throw fo=i,co}}var fo=null;function D0(){if(fo===null)throw Error(a(459));var n=fo;return fo=null,n}function O0(n){if(n===co||n===vu)throw Error(a(483))}var Ir=!1;function lf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gr(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(He&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=du(n),w0(n,null,o),i}return cu(n,c,i,o),du(n)}function ho(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Gl(n,o)}}function cf(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?m=y=i:y=y.next=i}else m=y=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var df=!1;function mo(){if(df){var n=zi;if(n!==null)throw n}}function go(n,i,o,c){df=!1;var m=n.updateQueue;Ir=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var F=P,ie=F.next;F.next=null,T===null?y=ie:T.next=ie,T=F;var ue=n.alternate;ue!==null&&(ue=ue.updateQueue,P=ue.lastBaseUpdate,P!==T&&(P===null?ue.firstBaseUpdate=ie:P.next=ie,ue.lastBaseUpdate=F))}if(y!==null){var de=m.baseState;T=0,ue=ie=F=null,P=y;do{var se=P.lane&-536870913,oe=se!==P.lane;if(oe?(Be&se)===se:(c&se)===se){se!==0&&se===Oi&&(df=!0),ue!==null&&(ue=ue.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var ke=n,xe=P;se=i;var Ye=o;switch(xe.tag){case 1:if(ke=xe.payload,typeof ke=="function"){de=ke.call(Ye,de,se);break e}de=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=xe.payload,se=typeof ke=="function"?ke.call(Ye,de,se):ke,se==null)break e;de=g({},de,se);break e;case 2:Ir=!0}}se=P.callback,se!==null&&(n.flags|=64,oe&&(n.flags|=8192),oe=m.callbacks,oe===null?m.callbacks=[se]:oe.push(se))}else oe={lane:se,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ue===null?(ie=ue=oe,F=de):ue=ue.next=oe,T|=se;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;oe=P,P=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);ue===null&&(F=de),m.baseState=F,m.firstBaseUpdate=ie,m.lastBaseUpdate=ue,y===null&&(m.shared.lanes=0),Jr|=T,n.lanes=T,n.memoizedState=de}}function z0(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function L0(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)z0(o[n],i)}var Li=G(null),wu=G(0);function P0(n,i){n=wr,Z(wu,n),Z(Li,i),wr=n|i.baseLanes}function ff(){Z(wu,wr),Z(Li,Li.current)}function hf(){wr=wu.current,te(Li),te(wu)}var Yr=0,De=null,qe=null,mt=null,_u=!1,Pi=!1,Ya=!1,xu=0,po=0,$i=null,ME=0;function ut(){throw Error(a(321))}function mf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!nn(n[o],i[o]))return!1;return!0}function gf(n,i,o,c,m,y){return Yr=y,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,E.H=n===null||n.memoizedState===null?wy:_y,Ya=!1,y=o(c,m),Ya=!1,Pi&&(y=B0(i,o,c,m)),$0(n),y}function $0(n){E.H=Cu;var i=qe!==null&&qe.next!==null;if(Yr=0,mt=qe=De=null,_u=!1,po=0,$i=null,i)throw Error(a(300));n===null||xt||(n=n.dependencies,n!==null&&gu(n)&&(xt=!0))}function B0(n,i,o,c){De=n;var m=0;do{if(Pi&&($i=null),po=0,Pi=!1,25<=m)throw Error(a(301));if(m+=1,mt=qe=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}E.H=PE,y=i(o,c)}while(Pi);return y}function jE(){var n=E.H,i=n.useState()[0];return i=typeof i.then=="function"?yo(i):i,n=n.useState()[0],(qe!==null?qe.memoizedState:null)!==n&&(De.flags|=1024),i}function pf(){var n=xu!==0;return xu=0,n}function yf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function vf(n){if(_u){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_u=!1}Yr=0,mt=qe=De=null,Pi=!1,po=xu=0,$i=null}function Yt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?De.memoizedState=mt=n:mt=mt.next=n,mt}function gt(){if(qe===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var i=mt===null?De.memoizedState:mt.next;if(i!==null)mt=i,qe=n;else{if(n===null)throw De.alternate===null?Error(a(467)):Error(a(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},mt===null?De.memoizedState=mt=n:mt=mt.next=n}return mt}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(n){var i=po;return po+=1,$i===null&&($i=[]),n=R0($i,n,i),i=De,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,E.H=i===null||i.memoizedState===null?wy:_y),n}function Su(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yo(n);if(n.$$typeof===B)return Ot(n)}throw Error(a(438,String(n)))}function wf(n){var i=null,o=De.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=bf(),De.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=z;return i.index++,o}function mr(n,i){return typeof i=="function"?i(n):i}function Eu(n){var i=gt();return _f(i,qe,n)}function _f(n,i,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var m=n.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}i.baseQueue=m=y,c.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{i=m.next;var P=T=null,F=null,ie=i,ue=!1;do{var de=ie.lane&-536870913;if(de!==ie.lane?(Be&de)===de:(Yr&de)===de){var se=ie.revertLane;if(se===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),de===Oi&&(ue=!0);else if((Yr&se)===se){ie=ie.next,se===Oi&&(ue=!0);continue}else de={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(P=F=de,T=y):F=F.next=de,De.lanes|=se,Jr|=se;de=ie.action,Ya&&o(y,de),y=ie.hasEagerState?ie.eagerState:o(y,de)}else se={lane:de,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},F===null?(P=F=se,T=y):F=F.next=se,De.lanes|=de,Jr|=de;ie=ie.next}while(ie!==null&&ie!==i);if(F===null?T=y:F.next=P,!nn(y,n.memoizedState)&&(xt=!0,ue&&(o=zi,o!==null)))throw o;n.memoizedState=y,n.baseState=T,n.baseQueue=F,c.lastRenderedState=y}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function xf(n){var i=gt(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,m=o.pending,y=i.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do y=n(y,T.action),T=T.next;while(T!==m);nn(y,i.memoizedState)||(xt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,c]}function U0(n,i,o){var c=De,m=gt(),y=Ve;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=i();var T=!nn((qe||m).memoizedState,o);T&&(m.memoizedState=o,xt=!0),m=m.queue;var P=I0.bind(null,c,m,n);if(vo(2048,8,P,[n]),m.getSnapshot!==i||T||mt!==null&&mt.memoizedState.tag&1){if(c.flags|=2048,Bi(9,ku(),H0.bind(null,c,m,o,i),null),Ke===null)throw Error(a(349));y||(Yr&124)!==0||V0(c,i,o)}return o}function V0(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=De.updateQueue,i===null?(i=bf(),De.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function H0(n,i,o,c){i.value=o,i.getSnapshot=c,q0(i)&&G0(n)}function I0(n,i,o){return o(function(){q0(i)&&G0(n)})}function q0(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!nn(n,o)}catch{return!0}}function G0(n){var i=Mi(n,2);i!==null&&un(i,n,2)}function Sf(n){var i=Yt();if(typeof n=="function"){var o=n;if(n=o(),Ya){$t(!0);try{o()}finally{$t(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:n},i}function Y0(n,i,o,c){return n.baseState=o,_f(n,qe,typeof c=="function"?c:mr)}function RE(n,i,o,c,m){if(Au(n))throw Error(a(485));if(n=i.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};E.T!==null?o(!0):y.isTransition=!1,c(y),o=i.pending,o===null?(y.next=i.pending=y,F0(i,y)):(y.next=o.next,i.pending=o.next=y)}}function F0(n,i){var o=i.action,c=i.payload,m=n.state;if(i.isTransition){var y=E.T,T={};E.T=T;try{var P=o(m,c),F=E.S;F!==null&&F(T,P),K0(n,i,P)}catch(ie){Ef(n,i,ie)}finally{E.T=y}}else try{y=o(m,c),K0(n,i,y)}catch(ie){Ef(n,i,ie)}}function K0(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){X0(n,i,c)},function(c){return Ef(n,i,c)}):X0(n,i,o)}function X0(n,i,o){i.status="fulfilled",i.value=o,Z0(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,F0(n,o)))}function Ef(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Z0(i),i=i.next;while(i!==c)}n.action=null}function Z0(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Q0(n,i){return i}function W0(n,i){if(Ve){var o=Ke.formState;if(o!==null){e:{var c=De;if(Ve){if(nt){t:{for(var m=nt,y=Kn;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ln(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){nt=Ln(m.nextSibling),c=m.data==="F!";break e}}Ha(c)}c=!1}c&&(i=o[0])}}return o=Yt(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:i},o.queue=c,o=yy.bind(null,De,c),c.dispatch=o,c=Sf(!1),y=Nf.bind(null,De,!1,c.queue),c=Yt(),m={state:i,dispatch:null,action:n,pending:null},c.queue=m,o=RE.bind(null,De,m,y,o),m.dispatch=o,c.memoizedState=n,[i,o,!1]}function J0(n){var i=gt();return ey(i,qe,n)}function ey(n,i,o){if(i=_f(n,i,Q0)[0],n=Eu(mr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=yo(i)}catch(T){throw T===co?vu:T}else c=i;i=gt();var m=i.queue,y=m.dispatch;return o!==i.memoizedState&&(De.flags|=2048,Bi(9,ku(),DE.bind(null,m,o),null)),[c,y,n]}function DE(n,i){n.action=i}function ty(n){var i=gt(),o=qe;if(o!==null)return ey(i,o,n);gt(),i=i.memoizedState,o=gt();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function Bi(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=De.updateQueue,i===null&&(i=bf(),De.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function ku(){return{destroy:void 0,resource:void 0}}function ny(){return gt().memoizedState}function Tu(n,i,o,c){var m=Yt();c=c===void 0?null:c,De.flags|=n,m.memoizedState=Bi(1|i,ku(),o,c)}function vo(n,i,o,c){var m=gt();c=c===void 0?null:c;var y=m.memoizedState.inst;qe!==null&&c!==null&&mf(c,qe.memoizedState.deps)?m.memoizedState=Bi(i,y,o,c):(De.flags|=n,m.memoizedState=Bi(1|i,y,o,c))}function ry(n,i){Tu(8390656,8,n,i)}function ay(n,i){vo(2048,8,n,i)}function iy(n,i){return vo(4,2,n,i)}function sy(n,i){return vo(4,4,n,i)}function oy(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ly(n,i,o){o=o!=null?o.concat([n]):null,vo(4,4,oy.bind(null,i,n),o)}function kf(){}function uy(n,i){var o=gt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&mf(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function cy(n,i){var o=gt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&mf(i,c[1]))return c[0];if(c=n(),Ya){$t(!0);try{n()}finally{$t(!1)}}return o.memoizedState=[c,i],c}function Tf(n,i,o){return o===void 0||(Yr&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=hv(),De.lanes|=n,Jr|=n,o)}function dy(n,i,o,c){return nn(o,i)?o:Li.current!==null?(n=Tf(n,o,c),nn(n,i)||(xt=!0),n):(Yr&42)===0?(xt=!0,n.memoizedState=o):(n=hv(),De.lanes|=n,Jr|=n,i)}function fy(n,i,o,c,m){var y=V.p;V.p=y!==0&&8>y?y:8;var T=E.T,P={};E.T=P,Nf(n,!1,i,o);try{var F=m(),ie=E.S;if(ie!==null&&ie(P,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ue=NE(F,c);bo(n,i,ue,ln(n))}else bo(n,i,c,ln(n))}catch(de){bo(n,i,{then:function(){},status:"rejected",reason:de},ln())}finally{V.p=y,E.T=T}}function OE(){}function Af(n,i,o,c){if(n.tag!==5)throw Error(a(476));var m=hy(n).queue;fy(n,m,i,H,o===null?OE:function(){return my(n),o(c)})}function hy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:H},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function my(n){var i=hy(n).next.queue;bo(n,i,{},ln())}function Cf(){return Ot(Po)}function gy(){return gt().memoizedState}function py(){return gt().memoizedState}function zE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=ln();n=qr(o);var c=Gr(i,n,o);c!==null&&(un(c,i,o),ho(c,i,o)),i={cache:rf()},n.payload=i;return}i=i.return}}function LE(n,i,o){var c=ln();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Au(n)?vy(i,o):(o=Fd(n,i,o,c),o!==null&&(un(o,n,c),by(o,i,c)))}function yy(n,i,o){var c=ln();bo(n,i,o,c)}function bo(n,i,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Au(n))vy(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,P=y(T,o);if(m.hasEagerState=!0,m.eagerState=P,nn(P,T))return cu(n,i,m,0),Ke===null&&uu(),!1}catch{}finally{}if(o=Fd(n,i,m,c),o!==null)return un(o,n,c),by(o,i,c),!0}return!1}function Nf(n,i,o,c){if(c={lane:2,revertLane:oh(),action:c,hasEagerState:!1,eagerState:null,next:null},Au(n)){if(i)throw Error(a(479))}else i=Fd(n,o,c,2),i!==null&&un(i,n,2)}function Au(n){var i=n.alternate;return n===De||i!==null&&i===De}function vy(n,i){Pi=_u=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function by(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Gl(n,o)}}var Cu={readContext:Ot,use:Su,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut},wy={readContext:Ot,use:Su,useCallback:function(n,i){return Yt().memoizedState=[n,i===void 0?null:i],n},useContext:Ot,useEffect:ry,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Tu(4194308,4,oy.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Tu(4194308,4,n,i)},useInsertionEffect:function(n,i){Tu(4,2,n,i)},useMemo:function(n,i){var o=Yt();i=i===void 0?null:i;var c=n();if(Ya){$t(!0);try{n()}finally{$t(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=Yt();if(o!==void 0){var m=o(i);if(Ya){$t(!0);try{o(i)}finally{$t(!1)}}}else m=i;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=LE.bind(null,De,n),[c.memoizedState,n]},useRef:function(n){var i=Yt();return n={current:n},i.memoizedState=n},useState:function(n){n=Sf(n);var i=n.queue,o=yy.bind(null,De,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:kf,useDeferredValue:function(n,i){var o=Yt();return Tf(o,n,i)},useTransition:function(){var n=Sf(!1);return n=fy.bind(null,De,n.queue,!0,!1),Yt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=De,m=Yt();if(Ve){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ke===null)throw Error(a(349));(Be&124)!==0||V0(c,i,o)}m.memoizedState=o;var y={value:o,getSnapshot:i};return m.queue=y,ry(I0.bind(null,c,y,n),[n]),c.flags|=2048,Bi(9,ku(),H0.bind(null,c,y,o,i),null),o},useId:function(){var n=Yt(),i=Ke.identifierPrefix;if(Ve){var o=dr,c=cr;o=(c&~(1<<32-ft(c)-1)).toString(32)+o,i="«"+i+"R"+o,o=xu++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=ME++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Cf,useFormState:W0,useActionState:W0,useOptimistic:function(n){var i=Yt();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Nf.bind(null,De,!0,o),o.dispatch=i,[n,i]},useMemoCache:wf,useCacheRefresh:function(){return Yt().memoizedState=zE.bind(null,De)}},_y={readContext:Ot,use:Su,useCallback:uy,useContext:Ot,useEffect:ay,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:cy,useReducer:Eu,useRef:ny,useState:function(){return Eu(mr)},useDebugValue:kf,useDeferredValue:function(n,i){var o=gt();return dy(o,qe.memoizedState,n,i)},useTransition:function(){var n=Eu(mr)[0],i=gt().memoizedState;return[typeof n=="boolean"?n:yo(n),i]},useSyncExternalStore:U0,useId:gy,useHostTransitionStatus:Cf,useFormState:J0,useActionState:J0,useOptimistic:function(n,i){var o=gt();return Y0(o,qe,n,i)},useMemoCache:wf,useCacheRefresh:py},PE={readContext:Ot,use:Su,useCallback:uy,useContext:Ot,useEffect:ay,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:cy,useReducer:xf,useRef:ny,useState:function(){return xf(mr)},useDebugValue:kf,useDeferredValue:function(n,i){var o=gt();return qe===null?Tf(o,n,i):dy(o,qe.memoizedState,n,i)},useTransition:function(){var n=xf(mr)[0],i=gt().memoizedState;return[typeof n=="boolean"?n:yo(n),i]},useSyncExternalStore:U0,useId:gy,useHostTransitionStatus:Cf,useFormState:ty,useActionState:ty,useOptimistic:function(n,i){var o=gt();return qe!==null?Y0(o,qe,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:wf,useCacheRefresh:py},Ui=null,wo=0;function Nu(n){var i=wo;return wo+=1,Ui===null&&(Ui=[]),R0(Ui,n,i)}function _o(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Mu(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function xy(n){var i=n._init;return i(n._payload)}function Sy(n){function i(re,W){if(n){var ae=re.deletions;ae===null?(re.deletions=[W],re.flags|=16):ae.push(W)}}function o(re,W){if(!n)return null;for(;W!==null;)i(re,W),W=W.sibling;return null}function c(re){for(var W=new Map;re!==null;)re.key!==null?W.set(re.key,re):W.set(re.index,re),re=re.sibling;return W}function m(re,W){return re=ur(re,W),re.index=0,re.sibling=null,re}function y(re,W,ae){return re.index=ae,n?(ae=re.alternate,ae!==null?(ae=ae.index,ae<W?(re.flags|=67108866,W):ae):(re.flags|=67108866,W)):(re.flags|=1048576,W)}function T(re){return n&&re.alternate===null&&(re.flags|=67108866),re}function P(re,W,ae,ce){return W===null||W.tag!==6?(W=Xd(ae,re.mode,ce),W.return=re,W):(W=m(W,ae),W.return=re,W)}function F(re,W,ae,ce){var be=ae.type;return be===A?ue(re,W,ae.props.children,ce,ae.key):W!==null&&(W.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&xy(be)===W.type)?(W=m(W,ae.props),_o(W,ae),W.return=re,W):(W=fu(ae.type,ae.key,ae.props,null,re.mode,ce),_o(W,ae),W.return=re,W)}function ie(re,W,ae,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==ae.containerInfo||W.stateNode.implementation!==ae.implementation?(W=Zd(ae,re.mode,ce),W.return=re,W):(W=m(W,ae.children||[]),W.return=re,W)}function ue(re,W,ae,ce,be){return W===null||W.tag!==7?(W=$a(ae,re.mode,ce,be),W.return=re,W):(W=m(W,ae),W.return=re,W)}function de(re,W,ae){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Xd(""+W,re.mode,ae),W.return=re,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return ae=fu(W.type,W.key,W.props,null,re.mode,ae),_o(ae,W),ae.return=re,ae;case k:return W=Zd(W,re.mode,ae),W.return=re,W;case C:var ce=W._init;return W=ce(W._payload),de(re,W,ae)}if(q(W)||X(W))return W=$a(W,re.mode,ae,null),W.return=re,W;if(typeof W.then=="function")return de(re,Nu(W),ae);if(W.$$typeof===B)return de(re,pu(re,W),ae);Mu(re,W)}return null}function se(re,W,ae,ce){var be=W!==null?W.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return be!==null?null:P(re,W,""+ae,ce);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return ae.key===be?F(re,W,ae,ce):null;case k:return ae.key===be?ie(re,W,ae,ce):null;case C:return be=ae._init,ae=be(ae._payload),se(re,W,ae,ce)}if(q(ae)||X(ae))return be!==null?null:ue(re,W,ae,ce,null);if(typeof ae.then=="function")return se(re,W,Nu(ae),ce);if(ae.$$typeof===B)return se(re,W,pu(re,ae),ce);Mu(re,ae)}return null}function oe(re,W,ae,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return re=re.get(ae)||null,P(W,re,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case w:return re=re.get(ce.key===null?ae:ce.key)||null,F(W,re,ce,be);case k:return re=re.get(ce.key===null?ae:ce.key)||null,ie(W,re,ce,be);case C:var Oe=ce._init;return ce=Oe(ce._payload),oe(re,W,ae,ce,be)}if(q(ce)||X(ce))return re=re.get(ae)||null,ue(W,re,ce,be,null);if(typeof ce.then=="function")return oe(re,W,ae,Nu(ce),be);if(ce.$$typeof===B)return oe(re,W,ae,pu(W,ce),be);Mu(W,ce)}return null}function ke(re,W,ae,ce){for(var be=null,Oe=null,we=W,Se=W=0,Et=null;we!==null&&Se<ae.length;Se++){we.index>Se?(Et=we,we=null):Et=we.sibling;var Ue=se(re,we,ae[Se],ce);if(Ue===null){we===null&&(we=Et);break}n&&we&&Ue.alternate===null&&i(re,we),W=y(Ue,W,Se),Oe===null?be=Ue:Oe.sibling=Ue,Oe=Ue,we=Et}if(Se===ae.length)return o(re,we),Ve&&Ua(re,Se),be;if(we===null){for(;Se<ae.length;Se++)we=de(re,ae[Se],ce),we!==null&&(W=y(we,W,Se),Oe===null?be=we:Oe.sibling=we,Oe=we);return Ve&&Ua(re,Se),be}for(we=c(we);Se<ae.length;Se++)Et=oe(we,re,Se,ae[Se],ce),Et!==null&&(n&&Et.alternate!==null&&we.delete(Et.key===null?Se:Et.key),W=y(Et,W,Se),Oe===null?be=Et:Oe.sibling=Et,Oe=Et);return n&&we.forEach(function(la){return i(re,la)}),Ve&&Ua(re,Se),be}function xe(re,W,ae,ce){if(ae==null)throw Error(a(151));for(var be=null,Oe=null,we=W,Se=W=0,Et=null,Ue=ae.next();we!==null&&!Ue.done;Se++,Ue=ae.next()){we.index>Se?(Et=we,we=null):Et=we.sibling;var la=se(re,we,Ue.value,ce);if(la===null){we===null&&(we=Et);break}n&&we&&la.alternate===null&&i(re,we),W=y(la,W,Se),Oe===null?be=la:Oe.sibling=la,Oe=la,we=Et}if(Ue.done)return o(re,we),Ve&&Ua(re,Se),be;if(we===null){for(;!Ue.done;Se++,Ue=ae.next())Ue=de(re,Ue.value,ce),Ue!==null&&(W=y(Ue,W,Se),Oe===null?be=Ue:Oe.sibling=Ue,Oe=Ue);return Ve&&Ua(re,Se),be}for(we=c(we);!Ue.done;Se++,Ue=ae.next())Ue=oe(we,re,Se,Ue.value,ce),Ue!==null&&(n&&Ue.alternate!==null&&we.delete(Ue.key===null?Se:Ue.key),W=y(Ue,W,Se),Oe===null?be=Ue:Oe.sibling=Ue,Oe=Ue);return n&&we.forEach(function($8){return i(re,$8)}),Ve&&Ua(re,Se),be}function Ye(re,W,ae,ce){if(typeof ae=="object"&&ae!==null&&ae.type===A&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:e:{for(var be=ae.key;W!==null;){if(W.key===be){if(be=ae.type,be===A){if(W.tag===7){o(re,W.sibling),ce=m(W,ae.props.children),ce.return=re,re=ce;break e}}else if(W.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===C&&xy(be)===W.type){o(re,W.sibling),ce=m(W,ae.props),_o(ce,ae),ce.return=re,re=ce;break e}o(re,W);break}else i(re,W);W=W.sibling}ae.type===A?(ce=$a(ae.props.children,re.mode,ce,ae.key),ce.return=re,re=ce):(ce=fu(ae.type,ae.key,ae.props,null,re.mode,ce),_o(ce,ae),ce.return=re,re=ce)}return T(re);case k:e:{for(be=ae.key;W!==null;){if(W.key===be)if(W.tag===4&&W.stateNode.containerInfo===ae.containerInfo&&W.stateNode.implementation===ae.implementation){o(re,W.sibling),ce=m(W,ae.children||[]),ce.return=re,re=ce;break e}else{o(re,W);break}else i(re,W);W=W.sibling}ce=Zd(ae,re.mode,ce),ce.return=re,re=ce}return T(re);case C:return be=ae._init,ae=be(ae._payload),Ye(re,W,ae,ce)}if(q(ae))return ke(re,W,ae,ce);if(X(ae)){if(be=X(ae),typeof be!="function")throw Error(a(150));return ae=be.call(ae),xe(re,W,ae,ce)}if(typeof ae.then=="function")return Ye(re,W,Nu(ae),ce);if(ae.$$typeof===B)return Ye(re,W,pu(re,ae),ce);Mu(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,W!==null&&W.tag===6?(o(re,W.sibling),ce=m(W,ae),ce.return=re,re=ce):(o(re,W),ce=Xd(ae,re.mode,ce),ce.return=re,re=ce),T(re)):o(re,W)}return function(re,W,ae,ce){try{wo=0;var be=Ye(re,W,ae,ce);return Ui=null,be}catch(we){if(we===co||we===vu)throw we;var Oe=rn(29,we,null,re.mode);return Oe.lanes=ce,Oe.return=re,Oe}finally{}}}var Vi=Sy(!0),Ey=Sy(!1),xn=G(null),Xn=null;function Fr(n){var i=n.alternate;Z(vt,vt.current&1),Z(xn,n),Xn===null&&(i===null||Li.current!==null||i.memoizedState!==null)&&(Xn=n)}function ky(n){if(n.tag===22){if(Z(vt,vt.current),Z(xn,n),Xn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Xn=n)}}else Kr()}function Kr(){Z(vt,vt.current),Z(xn,xn.current)}function gr(n){te(xn),Xn===n&&(Xn=null),te(vt)}var vt=G(0);function ju(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bh(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Mf(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:g({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var jf={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=ln(),m=qr(c);m.payload=i,o!=null&&(m.callback=o),i=Gr(n,m,c),i!==null&&(un(i,n,c),ho(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=ln(),m=qr(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=Gr(n,m,c),i!==null&&(un(i,n,c),ho(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=ln(),c=qr(o);c.tag=2,i!=null&&(c.callback=i),i=Gr(n,c,o),i!==null&&(un(i,n,o),ho(i,n,o))}};function Ty(n,i,o,c,m,y,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,T):i.prototype&&i.prototype.isPureReactComponent?!no(o,c)||!no(m,y):!0}function Ay(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&jf.enqueueReplaceState(i,i.state,null)}function Fa(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=g({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}var Ru=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Cy(n){Ru(n)}function Ny(n){console.error(n)}function My(n){Ru(n)}function Du(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function jy(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rf(n,i,o){return o=qr(o),o.tag=3,o.payload={element:null},o.callback=function(){Du(n,i)},o}function Ry(n){return n=qr(n),n.tag=3,n}function Dy(n,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;n.payload=function(){return m(y)},n.callback=function(){jy(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){jy(i,o,c),typeof m!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function $E(n,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&oo(i,o,m,!0),o=xn.current,o!==null){switch(o.tag){case 13:return Xn===null?nh():o.alternate===null&&rt===0&&(rt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===of?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),ah(n,c,m)),!1;case 22:return o.flags|=65536,c===of?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),ah(n,c,m)),!1}throw Error(a(435,o.tag))}return ah(n,c,m),nh(),!1}if(Ve)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Jd&&(n=Error(a(422),{cause:c}),so(vn(n,o)))):(c!==Jd&&(i=Error(a(423),{cause:c}),so(vn(i,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=vn(c,o),m=Rf(n.stateNode,c,m),cf(n,m),rt!==4&&(rt=2)),!1;var y=Error(a(520),{cause:c});if(y=vn(y,o),Co===null?Co=[y]:Co.push(y),rt!==4&&(rt=2),i===null)return!0;c=vn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=Rf(o.stateNode,c,n),cf(o,n),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ea===null||!ea.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Ry(m),Dy(m,n,o,c),cf(o,m),!1}o=o.return}while(o!==null);return!1}var Oy=Error(a(461)),xt=!1;function Ct(n,i,o,c){i.child=n===null?Ey(i,null,o,c):Vi(i,n.child,o,c)}function zy(n,i,o,c,m){o=o.render;var y=i.ref;if("ref"in c){var T={};for(var P in c)P!=="ref"&&(T[P]=c[P])}else T=c;return qa(i),c=gf(n,i,o,T,y,m),P=pf(),n!==null&&!xt?(yf(n,i,m),pr(n,i,m)):(Ve&&P&&Qd(i),i.flags|=1,Ct(n,i,c,m),i.child)}function Ly(n,i,o,c,m){if(n===null){var y=o.type;return typeof y=="function"&&!Kd(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,Py(n,i,y,c,m)):(n=fu(o.type,null,c,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Uf(n,m)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:no,o(T,c)&&n.ref===i.ref)return pr(n,i,m)}return i.flags|=1,n=ur(y,c),n.ref=i.ref,n.return=i,i.child=n}function Py(n,i,o,c,m){if(n!==null){var y=n.memoizedProps;if(no(y,c)&&n.ref===i.ref)if(xt=!1,i.pendingProps=c=y,Uf(n,m))(n.flags&131072)!==0&&(xt=!0);else return i.lanes=n.lanes,pr(n,i,m)}return Df(n,i,o,c,m)}function $y(n,i,o){var c=i.pendingProps,m=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,n!==null){for(m=i.child=n.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;i.childLanes=y&~c}else i.childLanes=0,i.child=null;return By(n,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&yu(i,y!==null?y.cachePool:null),y!==null?P0(i,y):ff(),ky(i);else return i.lanes=i.childLanes=536870912,By(n,i,y!==null?y.baseLanes|o:o,o)}else y!==null?(yu(i,y.cachePool),P0(i,y),Kr(),i.memoizedState=null):(n!==null&&yu(i,null),ff(),Kr());return Ct(n,i,m,o),i.child}function By(n,i,o,c){var m=sf();return m=m===null?null:{parent:yt._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&yu(i,null),ff(),ky(i),n!==null&&oo(n,i,c,!0),null}function Ou(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Df(n,i,o,c,m){return qa(i),o=gf(n,i,o,c,void 0,m),c=pf(),n!==null&&!xt?(yf(n,i,m),pr(n,i,m)):(Ve&&c&&Qd(i),i.flags|=1,Ct(n,i,o,m),i.child)}function Uy(n,i,o,c,m,y){return qa(i),i.updateQueue=null,o=B0(i,c,o,m),$0(n),c=pf(),n!==null&&!xt?(yf(n,i,y),pr(n,i,y)):(Ve&&c&&Qd(i),i.flags|=1,Ct(n,i,o,y),i.child)}function Vy(n,i,o,c,m){if(qa(i),i.stateNode===null){var y=ji,T=o.contextType;typeof T=="object"&&T!==null&&(y=Ot(T)),y=new o(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=jf,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},lf(i),T=o.contextType,y.context=typeof T=="object"&&T!==null?Ot(T):ji,y.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Mf(i,o,T,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&jf.enqueueReplaceState(y,y.state,null),go(i,c,y,m),mo(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){y=i.stateNode;var P=i.memoizedProps,F=Fa(o,P);y.props=F;var ie=y.context,ue=o.contextType;T=ji,typeof ue=="object"&&ue!==null&&(T=Ot(ue));var de=o.getDerivedStateFromProps;ue=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=i.pendingProps!==P,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||ie!==T)&&Ay(i,y,c,T),Ir=!1;var se=i.memoizedState;y.state=se,go(i,c,y,m),mo(),ie=i.memoizedState,P||se!==ie||Ir?(typeof de=="function"&&(Mf(i,o,de,c),ie=i.memoizedState),(F=Ir||Ty(i,o,F,c,se,ie,T))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=ie),y.props=c,y.state=ie,y.context=T,c=F):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,uf(n,i),T=i.memoizedProps,ue=Fa(o,T),y.props=ue,de=i.pendingProps,se=y.context,ie=o.contextType,F=ji,typeof ie=="object"&&ie!==null&&(F=Ot(ie)),P=o.getDerivedStateFromProps,(ie=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==de||se!==F)&&Ay(i,y,c,F),Ir=!1,se=i.memoizedState,y.state=se,go(i,c,y,m),mo();var oe=i.memoizedState;T!==de||se!==oe||Ir||n!==null&&n.dependencies!==null&&gu(n.dependencies)?(typeof P=="function"&&(Mf(i,o,P,c),oe=i.memoizedState),(ue=Ir||Ty(i,o,ue,c,se,oe,F)||n!==null&&n.dependencies!==null&&gu(n.dependencies))?(ie||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,oe,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,oe,F)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=oe),y.props=c,y.state=oe,y.context=F,c=ue):(typeof y.componentDidUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&se===n.memoizedState||(i.flags|=1024),c=!1)}return y=c,Ou(n,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&c?(i.child=Vi(i,n.child,null,m),i.child=Vi(i,null,o,m)):Ct(n,i,o,m),i.memoizedState=y.state,n=i.child):n=pr(n,i,m),n}function Hy(n,i,o,c){return io(),i.flags|=256,Ct(n,i,o,c),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(n){return{baseLanes:n,cachePool:N0()}}function Lf(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Sn),n}function Iy(n,i,o){var c=i.pendingProps,m=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),T&&(m=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ve){if(m?Fr(i):Kr(),Ve){var P=nt,F;if(F=P){e:{for(F=P,P=Kn;F.nodeType!==8;){if(!P){P=null;break e}if(F=Ln(F.nextSibling),F===null){P=null;break e}}P=F}P!==null?(i.memoizedState={dehydrated:P,treeContext:Ba!==null?{id:cr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},F=rn(18,null,null,0),F.stateNode=P,F.return=i,i.child=F,Ut=i,nt=null,F=!0):F=!1}F||Ha(i)}if(P=i.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return bh(P)?i.lanes=32:i.lanes=536870912,null;gr(i)}return P=c.children,c=c.fallback,m?(Kr(),m=i.mode,P=zu({mode:"hidden",children:P},m),c=$a(c,m,o,null),P.return=i,c.return=i,P.sibling=c,i.child=P,m=i.child,m.memoizedState=zf(o),m.childLanes=Lf(n,T,o),i.memoizedState=Of,c):(Fr(i),Pf(i,P))}if(F=n.memoizedState,F!==null&&(P=F.dehydrated,P!==null)){if(y)i.flags&256?(Fr(i),i.flags&=-257,i=$f(n,i,o)):i.memoizedState!==null?(Kr(),i.child=n.child,i.flags|=128,i=null):(Kr(),m=c.fallback,P=i.mode,c=zu({mode:"visible",children:c.children},P),m=$a(m,P,o,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,Vi(i,n.child,null,o),c=i.child,c.memoizedState=zf(o),c.childLanes=Lf(n,T,o),i.memoizedState=Of,i=m);else if(Fr(i),bh(P)){if(T=P.nextSibling&&P.nextSibling.dataset,T)var ie=T.dgst;T=ie,c=Error(a(419)),c.stack="",c.digest=T,so({value:c,source:null,stack:null}),i=$f(n,i,o)}else if(xt||oo(n,i,o,!1),T=(o&n.childLanes)!==0,xt||T){if(T=Ke,T!==null&&(c=o&-o,c=(c&42)!==0?1:qs(c),c=(c&(T.suspendedLanes|o))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,Mi(n,c),un(T,n,c),Oy;P.data==="$?"||nh(),i=$f(n,i,o)}else P.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=F.treeContext,nt=Ln(P.nextSibling),Ut=i,Ve=!0,Va=null,Kn=!1,n!==null&&(wn[_n++]=cr,wn[_n++]=dr,wn[_n++]=Ba,cr=n.id,dr=n.overflow,Ba=i),i=Pf(i,c.children),i.flags|=4096);return i}return m?(Kr(),m=c.fallback,P=i.mode,F=n.child,ie=F.sibling,c=ur(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,ie!==null?m=ur(ie,m):(m=$a(m,P,o,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,P=n.child.memoizedState,P===null?P=zf(o):(F=P.cachePool,F!==null?(ie=yt._currentValue,F=F.parent!==ie?{parent:ie,pool:ie}:F):F=N0(),P={baseLanes:P.baseLanes|o,cachePool:F}),m.memoizedState=P,m.childLanes=Lf(n,T,o),i.memoizedState=Of,c):(Fr(i),o=n.child,n=o.sibling,o=ur(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=o,i.memoizedState=null,o)}function Pf(n,i){return i=zu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function zu(n,i){return n=rn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function $f(n,i,o){return Vi(i,n.child,null,o),n=Pf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function qy(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),tf(n.return,i,o)}function Bf(n,i,o,c,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=m)}function Gy(n,i,o){var c=i.pendingProps,m=c.revealOrder,y=c.tail;if(Ct(n,i,c.children,o),c=vt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qy(n,o,i);else if(n.tag===19)qy(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(Z(vt,c),m){case"forwards":for(o=i.child,m=null;o!==null;)n=o.alternate,n!==null&&ju(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),Bf(i,!1,m,o,y);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&ju(n)===null){i.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}Bf(i,!0,o,null,y);break;case"together":Bf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function pr(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Jr|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(oo(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,o=ur(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ur(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Uf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&gu(n)))}function BE(n,i,o){switch(i.tag){case 3:ne(i,i.stateNode.containerInfo),Hr(i,yt,n.memoizedState.cache),io();break;case 27:case 5:he(i);break;case 4:ne(i,i.stateNode.containerInfo);break;case 10:Hr(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Fr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Iy(n,i,o):(Fr(i),n=pr(n,i,o),n!==null?n.sibling:null);Fr(i);break;case 19:var m=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(oo(n,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return Gy(n,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(vt,vt.current),c)break;return null;case 22:case 23:return i.lanes=0,$y(n,i,o);case 24:Hr(i,yt,n.memoizedState.cache)}return pr(n,i,o)}function Yy(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)xt=!0;else{if(!Uf(n,o)&&(i.flags&128)===0)return xt=!1,BE(n,i,o);xt=(n.flags&131072)!==0}else xt=!1,Ve&&(i.flags&1048576)!==0&&x0(i,mu,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,m=c._init;if(c=m(c._payload),i.type=c,typeof c=="function")Kd(c)?(n=Fa(c,n),i.tag=1,i=Vy(null,i,c,n,o)):(i.tag=0,i=Df(null,i,c,n,o));else{if(c!=null){if(m=c.$$typeof,m===p){i.tag=11,i=zy(null,i,c,n,o);break e}else if(m===S){i.tag=14,i=Ly(null,i,c,n,o);break e}}throw i=O(c)||c,Error(a(306,i,""))}}return i;case 0:return Df(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=Fa(c,i.pendingProps),Vy(n,i,c,m,o);case 3:e:{if(ne(i,i.stateNode.containerInfo),n===null)throw Error(a(387));c=i.pendingProps;var y=i.memoizedState;m=y.element,uf(n,i),go(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Hr(i,yt,c),c!==y.cache&&nf(i,[yt],o,!0),mo(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=Hy(n,i,c,o);break e}else if(c!==m){m=vn(Error(a(424)),i),so(m),i=Hy(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(nt=Ln(n.firstChild),Ut=i,Ve=!0,Va=null,Kn=!0,o=Ey(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(io(),c===m){i=pr(n,i,o);break e}Ct(n,i,c,o)}i=i.child}return i;case 26:return Ou(n,i),n===null?(o=Zv(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ve||(o=i.type,n=i.pendingProps,c=Xu(Y.current).createElement(o),c[_t]=i,c[Dt]=n,Mt(c,o,n),ht(c),i.stateNode=c):i.memoizedState=Zv(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return he(i),n===null&&Ve&&(c=i.stateNode=Fv(i.type,i.pendingProps,Y.current),Ut=i,Kn=!0,m=nt,ra(i.type)?(wh=m,nt=Ln(c.firstChild)):nt=m),Ct(n,i,i.pendingProps.children,o),Ou(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ve&&((m=c=nt)&&(c=h8(c,i.type,i.pendingProps,Kn),c!==null?(i.stateNode=c,Ut=i,nt=Ln(c.firstChild),Kn=!1,m=!0):m=!1),m||Ha(i)),he(i),m=i.type,y=i.pendingProps,T=n!==null?n.memoizedProps:null,c=y.children,ph(m,y)?c=null:T!==null&&ph(m,T)&&(i.flags|=32),i.memoizedState!==null&&(m=gf(n,i,jE,null,null,o),Po._currentValue=m),Ou(n,i),Ct(n,i,c,o),i.child;case 6:return n===null&&Ve&&((n=o=nt)&&(o=m8(o,i.pendingProps,Kn),o!==null?(i.stateNode=o,Ut=i,nt=null,n=!0):n=!1),n||Ha(i)),null;case 13:return Iy(n,i,o);case 4:return ne(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Vi(i,null,c,o):Ct(n,i,c,o),i.child;case 11:return zy(n,i,i.type,i.pendingProps,o);case 7:return Ct(n,i,i.pendingProps,o),i.child;case 8:return Ct(n,i,i.pendingProps.children,o),i.child;case 12:return Ct(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Hr(i,i.type,c.value),Ct(n,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,qa(i),m=Ot(m),c=c(m),i.flags|=1,Ct(n,i,c,o),i.child;case 14:return Ly(n,i,i.type,i.pendingProps,o);case 15:return Py(n,i,i.type,i.pendingProps,o);case 19:return Gy(n,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},n===null?(o=zu(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=ur(n.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return $y(n,i,o);case 24:return qa(i),c=Ot(yt),n===null?(m=sf(),m===null&&(m=Ke,y=rf(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),i.memoizedState={parent:c,cache:m},lf(i),Hr(i,yt,m)):((n.lanes&o)!==0&&(uf(n,i),go(i,null,null,o),mo()),m=n.memoizedState,y=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Hr(i,yt,c)):(c=y.cache,Hr(i,yt,c),c!==m.cache&&nf(i,[yt],o,!0))),Ct(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function yr(n){n.flags|=4}function Fy(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!tb(i)){if(i=xn.current,i!==null&&((Be&4194048)===Be?Xn!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==Xn))throw fo=of,M0;n.flags|=8192}}function Lu(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Or():536870912,n.lanes|=i,Gi|=i)}function xo(n,i){if(!Ve)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Je(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function UE(n,i,o){var c=i.pendingProps;switch(Wd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),hr(yt),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ao(i)?yr(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,k0())),Je(i),null;case 26:return o=i.memoizedState,n===null?(yr(i),o!==null?(Je(i),Fy(i,o)):(Je(i),i.flags&=-16777217)):o?o!==n.memoizedState?(yr(i),Je(i),Fy(i,o)):(Je(i),i.flags&=-16777217):(n.memoizedProps!==c&&yr(i),Je(i),i.flags&=-16777217),null;case 27:ye(i),o=Y.current;var m=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&yr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Je(i),null}n=J.current,ao(i)?S0(i):(n=Fv(m,c,o),i.stateNode=n,yr(i))}return Je(i),null;case 5:if(ye(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&yr(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return Je(i),null}if(n=J.current,ao(i))S0(i);else{switch(m=Xu(Y.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}n[_t]=i,n[Dt]=c;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=n;e:switch(Mt(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&yr(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&yr(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(n=Y.current,ao(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,m=Ut,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[_t]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Uv(n.nodeValue,o)),n||Ha(i)}else n=Xu(n).createTextNode(c),n[_t]=i,i.stateNode=n}return Je(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=ao(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(a(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[_t]=i}else io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),m=!1}else m=k0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(gr(i),i):(gr(i),null)}if(gr(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Lu(i,i.updateQueue),Je(i),null;case 4:return fe(),n===null&&dh(i.stateNode.containerInfo),Je(i),null;case 10:return hr(i.type),Je(i),null;case 19:if(te(vt),m=i.memoizedState,m===null)return Je(i),null;if(c=(i.flags&128)!==0,y=m.rendering,y===null)if(c)xo(m,!1);else{if(rt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=ju(n),y!==null){for(i.flags|=128,xo(m,!1),n=y.updateQueue,i.updateQueue=n,Lu(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)_0(o,n),o=o.sibling;return Z(vt,vt.current&1|2),i.child}n=n.sibling}m.tail!==null&&_e()>Bu&&(i.flags|=128,c=!0,xo(m,!1),i.lanes=4194304)}else{if(!c)if(n=ju(y),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,Lu(i,n),xo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ve)return Je(i),null}else 2*_e()-m.renderingStartTime>Bu&&o!==536870912&&(i.flags|=128,c=!0,xo(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(n=m.last,n!==null?n.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=_e(),i.sibling=null,n=vt.current,Z(vt,c?n&1|2:n&1),i):(Je(i),null);case 22:case 23:return gr(i),hf(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),o=i.updateQueue,o!==null&&Lu(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&te(Ga),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),hr(yt),Je(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function VE(n,i){switch(Wd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return hr(yt),fe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return ye(i),null;case 13:if(gr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));io()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return te(vt),null;case 4:return fe(),null;case 10:return hr(i.type),null;case 22:case 23:return gr(i),hf(),n!==null&&te(Ga),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return hr(yt),null;case 25:return null;default:return null}}function Ky(n,i){switch(Wd(i),i.tag){case 3:hr(yt),fe();break;case 26:case 27:case 5:ye(i);break;case 4:fe();break;case 13:gr(i);break;case 19:te(vt);break;case 10:hr(i.type);break;case 22:case 23:gr(i),hf(),n!==null&&te(Ga);break;case 24:hr(yt)}}function So(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&n)===n){c=void 0;var y=o.create,T=o.inst;c=y(),T.destroy=c}o=o.next}while(o!==m)}}catch(P){Fe(i,i.return,P)}}function Xr(n,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&n)===n){var T=c.inst,P=T.destroy;if(P!==void 0){T.destroy=void 0,m=i;var F=o,ie=P;try{ie()}catch(ue){Fe(m,F,ue)}}}c=c.next}while(c!==y)}}catch(ue){Fe(i,i.return,ue)}}function Xy(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{L0(i,o)}catch(c){Fe(n,n.return,c)}}}function Zy(n,i,o){o.props=Fa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Fe(n,i,c)}}function Eo(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(m){Fe(n,i,m)}}function Zn(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Fe(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Fe(n,i,m)}else o.current=null}function Qy(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Fe(n,n.return,m)}}function Vf(n,i,o){try{var c=n.stateNode;l8(c,n.type,o,i),c[Dt]=i}catch(m){Fe(n,n.return,m)}}function Wy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ra(n.type)||n.tag===4}function Hf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ra(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function If(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ku));else if(c!==4&&(c===27&&ra(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(If(n,i,o),n=n.sibling;n!==null;)If(n,i,o),n=n.sibling}function Pu(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&ra(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Pu(n,i,o),n=n.sibling;n!==null;)Pu(n,i,o),n=n.sibling}function Jy(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Mt(i,c,o),i[_t]=n,i[Dt]=o}catch(y){Fe(n,n.return,y)}}var vr=!1,ct=!1,qf=!1,ev=typeof WeakSet=="function"?WeakSet:Set,St=null;function HE(n,i){if(n=n.containerInfo,mh=tc,n=d0(n),Vd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,P=-1,F=-1,ie=0,ue=0,de=n,se=null;t:for(;;){for(var oe;de!==o||m!==0&&de.nodeType!==3||(P=T+m),de!==y||c!==0&&de.nodeType!==3||(F=T+c),de.nodeType===3&&(T+=de.nodeValue.length),(oe=de.firstChild)!==null;)se=de,de=oe;for(;;){if(de===n)break t;if(se===o&&++ie===m&&(P=T),se===y&&++ue===c&&(F=T),(oe=de.nextSibling)!==null)break;de=se,se=de.parentNode}de=oe}o=P===-1||F===-1?null:{start:P,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(gh={focusedElem:n,selectionRange:o},tc=!1,St=i;St!==null;)if(i=St,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,St=n;else for(;St!==null;){switch(i=St,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=i,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ke=Fa(o.type,m,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(ke,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(xe){Fe(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)vh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,St=n;break}St=i.return}}function tv(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Zr(n,o),c&4&&So(5,o);break;case 1:if(Zr(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(T){Fe(o,o.return,T)}else{var m=Fa(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Fe(o,o.return,T)}}c&64&&Xy(o),c&512&&Eo(o,o.return);break;case 3:if(Zr(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{L0(n,i)}catch(T){Fe(o,o.return,T)}}break;case 27:i===null&&c&4&&Jy(o);case 26:case 5:Zr(n,o),i===null&&c&4&&Qy(o),c&512&&Eo(o,o.return);break;case 12:Zr(n,o);break;case 13:Zr(n,o),c&4&&av(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=QE.bind(null,o),g8(n,o))));break;case 22:if(c=o.memoizedState!==null||vr,!c){i=i!==null&&i.memoizedState!==null||ct,m=vr;var y=ct;vr=c,(ct=i)&&!y?Qr(n,o,(o.subtreeFlags&8772)!==0):Zr(n,o),vr=m,ct=y}break;case 30:break;default:Zr(n,o)}}function nv(n){var i=n.alternate;i!==null&&(n.alternate=null,nv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Fs(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ze=null,Ft=!1;function br(n,i,o){for(o=o.child;o!==null;)rv(n,i,o),o=o.sibling}function rv(n,i,o){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(en,o)}catch{}switch(o.tag){case 26:ct||Zn(o,i),br(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ct||Zn(o,i);var c=Ze,m=Ft;ra(o.type)&&(Ze=o.stateNode,Ft=!1),br(n,i,o),Do(o.stateNode),Ze=c,Ft=m;break;case 5:ct||Zn(o,i);case 6:if(c=Ze,m=Ft,Ze=null,br(n,i,o),Ze=c,Ft=m,Ze!==null)if(Ft)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(o.stateNode)}catch(y){Fe(o,i,y)}else try{Ze.removeChild(o.stateNode)}catch(y){Fe(o,i,y)}break;case 18:Ze!==null&&(Ft?(n=Ze,Gv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Vo(n)):Gv(Ze,o.stateNode));break;case 4:c=Ze,m=Ft,Ze=o.stateNode.containerInfo,Ft=!0,br(n,i,o),Ze=c,Ft=m;break;case 0:case 11:case 14:case 15:ct||Xr(2,o,i),ct||Xr(4,o,i),br(n,i,o);break;case 1:ct||(Zn(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Zy(o,i,c)),br(n,i,o);break;case 21:br(n,i,o);break;case 22:ct=(c=ct)||o.memoizedState!==null,br(n,i,o),ct=c;break;default:br(n,i,o)}}function av(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vo(n)}catch(o){Fe(i,i.return,o)}}function IE(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new ev),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new ev),i;default:throw Error(a(435,n.tag))}}function Gf(n,i){var o=IE(n);i.forEach(function(c){var m=WE.bind(null,n,c);o.has(c)||(o.add(c),c.then(m,m))})}function an(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=n,T=i,P=T;e:for(;P!==null;){switch(P.tag){case 27:if(ra(P.type)){Ze=P.stateNode,Ft=!1;break e}break;case 5:Ze=P.stateNode,Ft=!1;break e;case 3:case 4:Ze=P.stateNode.containerInfo,Ft=!0;break e}P=P.return}if(Ze===null)throw Error(a(160));rv(y,T,m),Ze=null,Ft=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)iv(i,n),i=i.sibling}var zn=null;function iv(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:an(i,n),sn(n),c&4&&(Xr(3,n,n.return),So(3,n),Xr(5,n,n.return));break;case 1:an(i,n),sn(n),c&512&&(ct||o===null||Zn(o,o.return)),c&64&&vr&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=zn;if(an(i,n),sn(n),c&512&&(ct||o===null||Zn(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Ra]||y[_t]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Mt(y,c,o),y[_t]=n,ht(y),c=y;break e;case"link":var T=Jv("link","href",m).get(c+(o.href||""));if(T){for(var P=0;P<T.length;P++)if(y=T[P],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(P,1);break t}}y=m.createElement(c),Mt(y,c,o),m.head.appendChild(y);break;case"meta":if(T=Jv("meta","content",m).get(c+(o.content||""))){for(P=0;P<T.length;P++)if(y=T[P],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(P,1);break t}}y=m.createElement(c),Mt(y,c,o),m.head.appendChild(y);break;default:throw Error(a(468,c))}y[_t]=n,ht(y),c=y}n.stateNode=c}else eb(m,n.type,n.stateNode);else n.stateNode=Wv(m,c,n.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?eb(m,n.type,n.stateNode):Wv(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Vf(n,n.memoizedProps,o.memoizedProps)}break;case 27:an(i,n),sn(n),c&512&&(ct||o===null||Zn(o,o.return)),o!==null&&c&4&&Vf(n,n.memoizedProps,o.memoizedProps);break;case 5:if(an(i,n),sn(n),c&512&&(ct||o===null||Zn(o,o.return)),n.flags&32){m=n.stateNode;try{Si(m,"")}catch(oe){Fe(n,n.return,oe)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,Vf(n,m,o!==null?o.memoizedProps:m)),c&1024&&(qf=!0);break;case 6:if(an(i,n),sn(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(oe){Fe(n,n.return,oe)}}break;case 3:if(Wu=null,m=zn,zn=Zu(i.containerInfo),an(i,n),zn=m,sn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Vo(i.containerInfo)}catch(oe){Fe(n,n.return,oe)}qf&&(qf=!1,sv(n));break;case 4:c=zn,zn=Zu(n.stateNode.containerInfo),an(i,n),sn(n),zn=c;break;case 12:an(i,n),sn(n);break;case 13:an(i,n),sn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Qf=_e()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Gf(n,c)));break;case 22:m=n.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,ie=vr,ue=ct;if(vr=ie||m,ct=ue||F,an(i,n),ct=ue,vr=ie,sn(n),c&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||F||vr||ct||Ka(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){F=o=i;try{if(y=F.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{P=F.stateNode;var de=F.memoizedProps.style,se=de!=null&&de.hasOwnProperty("display")?de.display:null;P.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(oe){Fe(F,F.return,oe)}}}else if(i.tag===6){if(o===null){F=i;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(oe){Fe(F,F.return,oe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Gf(n,o))));break;case 19:an(i,n),sn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Gf(n,c)));break;case 30:break;case 21:break;default:an(i,n),sn(n)}}function sn(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(Wy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,y=Hf(n);Pu(n,y,m);break;case 5:var T=o.stateNode;o.flags&32&&(Si(T,""),o.flags&=-33);var P=Hf(n);Pu(n,P,T);break;case 3:case 4:var F=o.stateNode.containerInfo,ie=Hf(n);If(n,ie,F);break;default:throw Error(a(161))}}catch(ue){Fe(n,n.return,ue)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function sv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;sv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Zr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)tv(n,i.alternate,i),i=i.sibling}function Ka(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Xr(4,i,i.return),Ka(i);break;case 1:Zn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Zy(i,i.return,o),Ka(i);break;case 27:Do(i.stateNode);case 26:case 5:Zn(i,i.return),Ka(i);break;case 22:i.memoizedState===null&&Ka(i);break;case 30:Ka(i);break;default:Ka(i)}n=n.sibling}}function Qr(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=n,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:Qr(m,y,o),So(4,y);break;case 1:if(Qr(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ie){Fe(c,c.return,ie)}if(c=y,m=c.updateQueue,m!==null){var P=c.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)z0(F[m],P)}catch(ie){Fe(c,c.return,ie)}}o&&T&64&&Xy(y),Eo(y,y.return);break;case 27:Jy(y);case 26:case 5:Qr(m,y,o),o&&c===null&&T&4&&Qy(y),Eo(y,y.return);break;case 12:Qr(m,y,o);break;case 13:Qr(m,y,o),o&&T&4&&av(m,y);break;case 22:y.memoizedState===null&&Qr(m,y,o),Eo(y,y.return);break;case 30:break;default:Qr(m,y,o)}i=i.sibling}}function Yf(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&lo(o))}function Ff(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&lo(n))}function Qn(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ov(n,i,o,c),i=i.sibling}function ov(n,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Qn(n,i,o,c),m&2048&&So(9,i);break;case 1:Qn(n,i,o,c);break;case 3:Qn(n,i,o,c),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&lo(n)));break;case 12:if(m&2048){Qn(n,i,o,c),n=i.stateNode;try{var y=i.memoizedProps,T=y.id,P=y.onPostCommit;typeof P=="function"&&P(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(F){Fe(i,i.return,F)}}else Qn(n,i,o,c);break;case 13:Qn(n,i,o,c);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?Qn(n,i,o,c):ko(n,i):y._visibility&2?Qn(n,i,o,c):(y._visibility|=2,Hi(n,i,o,c,(i.subtreeFlags&10256)!==0)),m&2048&&Yf(T,i);break;case 24:Qn(n,i,o,c),m&2048&&Ff(i.alternate,i);break;default:Qn(n,i,o,c)}}function Hi(n,i,o,c,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,T=i,P=o,F=c,ie=T.flags;switch(T.tag){case 0:case 11:case 15:Hi(y,T,P,F,m),So(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?Hi(y,T,P,F,m):ko(y,T):(ue._visibility|=2,Hi(y,T,P,F,m)),m&&ie&2048&&Yf(T.alternate,T);break;case 24:Hi(y,T,P,F,m),m&&ie&2048&&Ff(T.alternate,T);break;default:Hi(y,T,P,F,m)}i=i.sibling}}function ko(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,m=c.flags;switch(c.tag){case 22:ko(o,c),m&2048&&Yf(c.alternate,c);break;case 24:ko(o,c),m&2048&&Ff(c.alternate,c);break;default:ko(o,c)}i=i.sibling}}var To=8192;function Ii(n){if(n.subtreeFlags&To)for(n=n.child;n!==null;)lv(n),n=n.sibling}function lv(n){switch(n.tag){case 26:Ii(n),n.flags&To&&n.memoizedState!==null&&C8(zn,n.memoizedState,n.memoizedProps);break;case 5:Ii(n);break;case 3:case 4:var i=zn;zn=Zu(n.stateNode.containerInfo),Ii(n),zn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=To,To=16777216,Ii(n),To=i):Ii(n));break;default:Ii(n)}}function uv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ao(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];St=c,dv(c,n)}uv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cv(n),n=n.sibling}function cv(n){switch(n.tag){case 0:case 11:case 15:Ao(n),n.flags&2048&&Xr(9,n,n.return);break;case 3:Ao(n);break;case 12:Ao(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,$u(n)):Ao(n);break;default:Ao(n)}}function $u(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];St=c,dv(c,n)}uv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Xr(8,i,i.return),$u(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,$u(i));break;default:$u(i)}n=n.sibling}}function dv(n,i){for(;St!==null;){var o=St;switch(o.tag){case 0:case 11:case 15:Xr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:lo(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,St=c;else e:for(o=n;St!==null;){c=St;var m=c.sibling,y=c.return;if(nv(c),c===o){St=null;break e}if(m!==null){m.return=y,St=m;break e}St=y}}}var qE={getCacheForType:function(n){var i=Ot(yt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},GE=typeof WeakMap=="function"?WeakMap:Map,He=0,Ke=null,Le=null,Be=0,Ie=0,on=null,Wr=!1,qi=!1,Kf=!1,wr=0,rt=0,Jr=0,Xa=0,Xf=0,Sn=0,Gi=0,Co=null,Kt=null,Zf=!1,Qf=0,Bu=1/0,Uu=null,ea=null,Nt=0,ta=null,Yi=null,Fi=0,Wf=0,Jf=null,fv=null,No=0,eh=null;function ln(){if((He&2)!==0&&Be!==0)return Be&-Be;if(E.T!==null){var n=Oi;return n!==0?n:oh()}return Yl()}function hv(){Sn===0&&(Sn=(Be&536870912)===0||Ve?vi():536870912);var n=xn.current;return n!==null&&(n.flags|=32),Sn}function un(n,i,o){(n===Ke&&(Ie===2||Ie===9)||n.cancelPendingCommit!==null)&&(Ki(n,0),na(n,Be,Sn,!1)),zr(n,o),((He&2)===0||n!==Ke)&&(n===Ke&&((He&2)===0&&(Xa|=o),rt===4&&na(n,Be,Sn,!1)),Wn(n))}function mv(n,i,o){if((He&6)!==0)throw Error(a(327));var c=!o&&(i&124)===0&&(i&n.expiredLanes)===0||tn(n,i),m=c?KE(n,i):rh(n,i,!0),y=c;do{if(m===0){qi&&!c&&na(n,i,0,!1);break}else{if(o=n.current.alternate,y&&!YE(o)){m=rh(n,i,!1),y=!1;continue}if(m===2){if(y=i,n.errorRecoveryDisabledLanes&y)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var P=n;m=Co;var F=P.current.memoizedState.isDehydrated;if(F&&(Ki(P,T).flags|=256),T=rh(P,T,!1),T!==2){if(Kf&&!F){P.errorRecoveryDisabledLanes|=y,Xa|=y,m=4;break e}y=Kt,Kt=m,y!==null&&(Kt===null?Kt=y:Kt.push.apply(Kt,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){Ki(n,0),na(n,i,0,!0);break}e:{switch(c=n,y=m,y){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:na(c,i,Sn,!Wr);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(m=Qf+300-_e(),10<m)){if(na(c,i,Sn,!Wr),Bt(c,0,!0)!==0)break e;c.timeoutHandle=Iv(gv.bind(null,c,o,Kt,Uu,Zf,i,Sn,Xa,Gi,Wr,y,2,-0,0),m);break e}gv(c,o,Kt,Uu,Zf,i,Sn,Xa,Gi,Wr,y,0,-0,0)}}break}while(!0);Wn(n)}function gv(n,i,o,c,m,y,T,P,F,ie,ue,de,se,oe){if(n.timeoutHandle=-1,de=i.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Lo={stylesheets:null,count:0,unsuspend:A8},lv(i),de=N8(),de!==null)){n.cancelPendingCommit=de(xv.bind(null,n,i,y,o,c,m,T,P,F,ue,1,se,oe)),na(n,y,T,!ie);return}xv(n,i,y,o,c,m,T,P,F)}function YE(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!nn(y(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function na(n,i,o,c){i&=~Xf,i&=~Xa,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var m=i;0<m;){var y=31-ft(m),T=1<<y;c[y]=-1,m&=~T}o!==0&&ql(n,o,i)}function Vu(){return(He&6)===0?(Mo(0),!1):!0}function th(){if(Le!==null){if(Ie===0)var n=Le.return;else n=Le,fr=Ia=null,vf(n),Ui=null,wo=0,n=Le;for(;n!==null;)Ky(n.alternate,n),n=n.return;Le=null}}function Ki(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,c8(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),th(),Ke=n,Le=o=ur(n.current,null),Be=i,Ie=0,on=null,Wr=!1,qi=tn(n,i),Kf=!1,Gi=Sn=Xf=Xa=Jr=rt=0,Kt=Co=null,Zf=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var m=31-ft(c),y=1<<m;i|=n[m],c&=~y}return wr=i,uu(),o}function pv(n,i){De=null,E.H=Cu,i===co||i===vu?(i=D0(),Ie=3):i===M0?(i=D0(),Ie=4):Ie=i===Oy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,on=i,Le===null&&(rt=1,Du(n,vn(i,n.current)))}function yv(){var n=E.H;return E.H=Cu,n===null?Cu:n}function vv(){var n=E.A;return E.A=qE,n}function nh(){rt=4,Wr||(Be&4194048)!==Be&&xn.current!==null||(qi=!0),(Jr&134217727)===0&&(Xa&134217727)===0||Ke===null||na(Ke,Be,Sn,!1)}function rh(n,i,o){var c=He;He|=2;var m=yv(),y=vv();(Ke!==n||Be!==i)&&(Uu=null,Ki(n,i)),i=!1;var T=rt;e:do try{if(Ie!==0&&Le!==null){var P=Le,F=on;switch(Ie){case 8:th(),T=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var ie=Ie;if(Ie=0,on=null,Xi(n,P,F,ie),o&&qi){T=0;break e}break;default:ie=Ie,Ie=0,on=null,Xi(n,P,F,ie)}}FE(),T=rt;break}catch(ue){pv(n,ue)}while(!0);return i&&n.shellSuspendCounter++,fr=Ia=null,He=c,E.H=m,E.A=y,Le===null&&(Ke=null,Be=0,uu()),T}function FE(){for(;Le!==null;)bv(Le)}function KE(n,i){var o=He;He|=2;var c=yv(),m=vv();Ke!==n||Be!==i?(Uu=null,Bu=_e()+500,Ki(n,i)):qi=tn(n,i);e:do try{if(Ie!==0&&Le!==null){i=Le;var y=on;t:switch(Ie){case 1:Ie=0,on=null,Xi(n,i,y,1);break;case 2:case 9:if(j0(y)){Ie=0,on=null,wv(i);break}i=function(){Ie!==2&&Ie!==9||Ke!==n||(Ie=7),Wn(n)},y.then(i,i);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:j0(y)?(Ie=0,on=null,wv(i)):(Ie=0,on=null,Xi(n,i,y,7));break;case 5:var T=null;switch(Le.tag){case 26:T=Le.memoizedState;case 5:case 27:var P=Le;if(!T||tb(T)){Ie=0,on=null;var F=P.sibling;if(F!==null)Le=F;else{var ie=P.return;ie!==null?(Le=ie,Hu(ie)):Le=null}break t}}Ie=0,on=null,Xi(n,i,y,5);break;case 6:Ie=0,on=null,Xi(n,i,y,6);break;case 8:th(),rt=6;break e;default:throw Error(a(462))}}XE();break}catch(ue){pv(n,ue)}while(!0);return fr=Ia=null,E.H=c,E.A=m,He=o,Le!==null?0:(Ke=null,Be=0,uu(),rt)}function XE(){for(;Le!==null&&!Ce();)bv(Le)}function bv(n){var i=Yy(n.alternate,n,wr);n.memoizedProps=n.pendingProps,i===null?Hu(n):Le=i}function wv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=Uy(o,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Uy(o,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:vf(i);default:Ky(o,i),i=Le=_0(i,wr),i=Yy(o,i,wr)}n.memoizedProps=n.pendingProps,i===null?Hu(n):Le=i}function Xi(n,i,o,c){fr=Ia=null,vf(i),Ui=null,wo=0;var m=i.return;try{if($E(n,m,i,o,Be)){rt=1,Du(n,vn(o,n.current)),Le=null;return}}catch(y){if(m!==null)throw Le=m,y;rt=1,Du(n,vn(o,n.current)),Le=null;return}i.flags&32768?(Ve||c===1?n=!0:qi||(Be&536870912)!==0?n=!1:(Wr=n=!0,(c===2||c===9||c===3||c===6)&&(c=xn.current,c!==null&&c.tag===13&&(c.flags|=16384))),_v(i,n)):Hu(i)}function Hu(n){var i=n;do{if((i.flags&32768)!==0){_v(i,Wr);return}n=i.return;var o=UE(i.alternate,i,wr);if(o!==null){Le=o;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=n}while(i!==null);rt===0&&(rt=5)}function _v(n,i){do{var o=VE(n.alternate,n);if(o!==null){o.flags&=32767,Le=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Le=n;return}Le=n=o}while(n!==null);rt=6,Le=null}function xv(n,i,o,c,m,y,T,P,F){n.cancelPendingCommit=null;do Iu();while(Nt!==0);if((He&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(y=i.lanes|i.childLanes,y|=Yd,ir(n,o,y,T,P,F),n===Ke&&(Le=Ke=null,Be=0),Yi=i,ta=n,Fi=o,Wf=y,Jf=m,fv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,JE(Rt,function(){return Av(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=E.T,E.T=null,m=V.p,V.p=2,T=He,He|=4;try{HE(n,i,o)}finally{He=T,V.p=m,E.T=c}}Nt=1,Sv(),Ev(),kv()}}function Sv(){if(Nt===1){Nt=0;var n=ta,i=Yi,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=E.T,E.T=null;var c=V.p;V.p=2;var m=He;He|=4;try{iv(i,n);var y=gh,T=d0(n.containerInfo),P=y.focusedElem,F=y.selectionRange;if(T!==P&&P&&P.ownerDocument&&c0(P.ownerDocument.documentElement,P)){if(F!==null&&Vd(P)){var ie=F.start,ue=F.end;if(ue===void 0&&(ue=ie),"selectionStart"in P)P.selectionStart=ie,P.selectionEnd=Math.min(ue,P.value.length);else{var de=P.ownerDocument||document,se=de&&de.defaultView||window;if(se.getSelection){var oe=se.getSelection(),ke=P.textContent.length,xe=Math.min(F.start,ke),Ye=F.end===void 0?xe:Math.min(F.end,ke);!oe.extend&&xe>Ye&&(T=Ye,Ye=xe,xe=T);var re=u0(P,xe),W=u0(P,Ye);if(re&&W&&(oe.rangeCount!==1||oe.anchorNode!==re.node||oe.anchorOffset!==re.offset||oe.focusNode!==W.node||oe.focusOffset!==W.offset)){var ae=de.createRange();ae.setStart(re.node,re.offset),oe.removeAllRanges(),xe>Ye?(oe.addRange(ae),oe.extend(W.node,W.offset)):(ae.setEnd(W.node,W.offset),oe.addRange(ae))}}}}for(de=[],oe=P;oe=oe.parentNode;)oe.nodeType===1&&de.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<de.length;P++){var ce=de[P];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}tc=!!mh,gh=mh=null}finally{He=m,V.p=c,E.T=o}}n.current=i,Nt=2}}function Ev(){if(Nt===2){Nt=0;var n=ta,i=Yi,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=E.T,E.T=null;var c=V.p;V.p=2;var m=He;He|=4;try{tv(n,i.alternate,i)}finally{He=m,V.p=c,E.T=o}}Nt=3}}function kv(){if(Nt===4||Nt===3){Nt=0,ot();var n=ta,i=Yi,o=Fi,c=fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Nt=5:(Nt=0,Yi=ta=null,Tv(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ea=null),Gs(o),i=i.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(en,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=E.T,m=V.p,V.p=2,E.T=null;try{for(var y=n.onRecoverableError,T=0;T<c.length;T++){var P=c[T];y(P.value,{componentStack:P.stack})}}finally{E.T=i,V.p=m}}(Fi&3)!==0&&Iu(),Wn(n),m=n.pendingLanes,(o&4194090)!==0&&(m&42)!==0?n===eh?No++:(No=0,eh=n):No=0,Mo(0)}}function Tv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,lo(i)))}function Iu(n){return Sv(),Ev(),kv(),Av()}function Av(){if(Nt!==5)return!1;var n=ta,i=Wf;Wf=0;var o=Gs(Fi),c=E.T,m=V.p;try{V.p=32>o?32:o,E.T=null,o=Jf,Jf=null;var y=ta,T=Fi;if(Nt=0,Yi=ta=null,Fi=0,(He&6)!==0)throw Error(a(331));var P=He;if(He|=4,cv(y.current),ov(y,y.current,T,o),He=P,Mo(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(en,y)}catch{}return!0}finally{V.p=m,E.T=c,Tv(n,i)}}function Cv(n,i,o){i=vn(o,i),i=Rf(n.stateNode,i,2),n=Gr(n,i,2),n!==null&&(zr(n,2),Wn(n))}function Fe(n,i,o){if(n.tag===3)Cv(n,n,o);else for(;i!==null;){if(i.tag===3){Cv(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ea===null||!ea.has(c))){n=vn(o,n),o=Ry(2),c=Gr(i,o,2),c!==null&&(Dy(o,c,i,n),zr(c,2),Wn(c));break}}i=i.return}}function ah(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new GE;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(Kf=!0,m.add(o),n=ZE.bind(null,n,i,o),i.then(n,n))}function ZE(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ke===n&&(Be&o)===o&&(rt===4||rt===3&&(Be&62914560)===Be&&300>_e()-Qf?(He&2)===0&&Ki(n,0):Xf|=o,Gi===Be&&(Gi=0)),Wn(n)}function Nv(n,i){i===0&&(i=Or()),n=Mi(n,i),n!==null&&(zr(n,i),Wn(n))}function QE(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Nv(n,o)}function WE(n,i){var o=0;switch(n.tag){case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),Nv(n,o)}function JE(n,i){return ge(n,i)}var qu=null,Zi=null,ih=!1,Gu=!1,sh=!1,Za=0;function Wn(n){n!==Zi&&n.next===null&&(Zi===null?qu=Zi=n:Zi=Zi.next=n),Gu=!0,ih||(ih=!0,t8())}function Mo(n,i){if(!sh&&Gu){sh=!0;do for(var o=!1,c=qu;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,P=c.pingedLanes;y=(1<<31-ft(42|n)+1)-1,y&=m&~(T&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Dv(c,y))}else y=Be,y=Bt(c,c===Ke?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||tn(c,y)||(o=!0,Dv(c,y));c=c.next}while(o);sh=!1}}function e8(){Mv()}function Mv(){Gu=ih=!1;var n=0;Za!==0&&(u8()&&(n=Za),Za=0);for(var i=_e(),o=null,c=qu;c!==null;){var m=c.next,y=jv(c,i);y===0?(c.next=null,o===null?qu=m:o.next=m,m===null&&(Zi=o)):(o=c,(n!==0||(y&3)!==0)&&(Gu=!0)),c=m}Mo(n)}function jv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var T=31-ft(y),P=1<<T,F=m[T];F===-1?((P&o)===0||(P&c)!==0)&&(m[T]=Is(P,i)):F<=i&&(n.expiredLanes|=P),y&=~P}if(i=Ke,o=Be,o=Bt(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(Ie===2||Ie===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&je(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||tn(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&je(c),Gs(o)){case 2:case 8:o=fn;break;case 32:o=Rt;break;case 268435456:o=jn;break;default:o=Rt}return c=Rv.bind(null,n),o=ge(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&je(c),n.callbackPriority=2,n.callbackNode=null,2}function Rv(n,i){if(Nt!==0&&Nt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Iu()&&n.callbackNode!==o)return null;var c=Be;return c=Bt(n,n===Ke?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(mv(n,c,i),jv(n,_e()),n.callbackNode!=null&&n.callbackNode===o?Rv.bind(null,n):null)}function Dv(n,i){if(Iu())return null;mv(n,i,!0)}function t8(){d8(function(){(He&6)!==0?ge(Ee,e8):Mv()})}function oh(){return Za===0&&(Za=vi()),Za}function Ov(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:nu(""+n)}function zv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function n8(n,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var y=Ov((m[Dt]||null).action),T=c.submitter;T&&(i=(i=T[Dt]||null)?Ov(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var P=new su("action","action",null,c,m);n.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Za!==0){var F=T?zv(m,T):new FormData(m);Af(o,{pending:!0,data:F,method:m.method,action:y},null,F)}}else typeof y=="function"&&(P.preventDefault(),F=T?zv(m,T):new FormData(m),Af(o,{pending:!0,data:F,method:m.method,action:y},y,F))},currentTarget:m}]})}}for(var lh=0;lh<Gd.length;lh++){var uh=Gd[lh],r8=uh.toLowerCase(),a8=uh[0].toUpperCase()+uh.slice(1);On(r8,"on"+a8)}On(m0,"onAnimationEnd"),On(g0,"onAnimationIteration"),On(p0,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(_E,"onTransitionRun"),On(xE,"onTransitionStart"),On(SE,"onTransitionCancel"),On(y0,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function Lv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],m=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var T=c.length-1;0<=T;T--){var P=c[T],F=P.instance,ie=P.currentTarget;if(P=P.listener,F!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=ie;try{y(m)}catch(ue){Ru(ue)}m.currentTarget=null,y=F}else for(T=0;T<c.length;T++){if(P=c[T],F=P.instance,ie=P.currentTarget,P=P.listener,F!==y&&m.isPropagationStopped())break e;y=P,m.currentTarget=ie;try{y(m)}catch(ue){Ru(ue)}m.currentTarget=null,y=F}}}}function Pe(n,i){var o=i[Ys];o===void 0&&(o=i[Ys]=new Set);var c=n+"__bubble";o.has(c)||(Pv(i,n,2,!1),o.add(c))}function ch(n,i,o){var c=0;i&&(c|=4),Pv(o,n,c,i)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function dh(n){if(!n[Yu]){n[Yu]=!0,Kl.forEach(function(o){o!=="selectionchange"&&(i8.has(o)||ch(o,!1,n),ch(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Yu]||(i[Yu]=!0,ch("selectionchange",!1,i))}}function Pv(n,i,o,c){switch(ob(i)){case 2:var m=R8;break;case 8:m=D8;break;default:m=kh}o=m.bind(null,i,o,n),m=void 0,!Rd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(i,o,{capture:!0,passive:m}):n.addEventListener(i,o,!0):m!==void 0?n.addEventListener(i,o,{passive:m}):n.addEventListener(i,o,!1)}function fh(n,i,o,c,m){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var P=c.stateNode.containerInfo;if(P===m)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;P!==null;){if(T=sr(P),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=y=T;continue e}P=P.parentNode}}c=c.return}qp(function(){var ie=y,ue=Md(o),de=[];e:{var se=v0.get(n);if(se!==void 0){var oe=su,ke=n;switch(n){case"keypress":if(au(o)===0)break e;case"keydown":case"keyup":oe=JS;break;case"focusin":ke="focus",oe=Ld;break;case"focusout":ke="blur",oe=Ld;break;case"beforeblur":case"afterblur":oe=Ld;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=VS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=nE;break;case m0:case g0:case p0:oe=qS;break;case y0:oe=aE;break;case"scroll":case"scrollend":oe=BS;break;case"wheel":oe=sE;break;case"copy":case"cut":case"paste":oe=YS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Xp;break;case"toggle":case"beforetoggle":oe=lE}var xe=(i&4)!==0,Ye=!xe&&(n==="scroll"||n==="scrollend"),re=xe?se!==null?se+"Capture":null:se;xe=[];for(var W=ie,ae;W!==null;){var ce=W;if(ae=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||ae===null||re===null||(ce=Xs(W,re),ce!=null&&xe.push(Ro(W,ce,ae))),Ye)break;W=W.return}0<xe.length&&(se=new oe(se,ke,null,o,ue),de.push({event:se,listeners:xe}))}}if((i&7)===0){e:{if(se=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",se&&o!==Nd&&(ke=o.relatedTarget||o.fromElement)&&(sr(ke)||ke[Lr]))break e;if((oe||se)&&(se=ue.window===ue?ue:(se=ue.ownerDocument)?se.defaultView||se.parentWindow:window,oe?(ke=o.relatedTarget||o.toElement,oe=ie,ke=ke?sr(ke):null,ke!==null&&(Ye=l(ke),xe=ke.tag,ke!==Ye||xe!==5&&xe!==27&&xe!==6)&&(ke=null)):(oe=null,ke=ie),oe!==ke)){if(xe=Fp,ce="onMouseLeave",re="onMouseEnter",W="mouse",(n==="pointerout"||n==="pointerover")&&(xe=Xp,ce="onPointerLeave",re="onPointerEnter",W="pointer"),Ye=oe==null?se:Da(oe),ae=ke==null?se:Da(ke),se=new xe(ce,W+"leave",oe,o,ue),se.target=Ye,se.relatedTarget=ae,ce=null,sr(ue)===ie&&(xe=new xe(re,W+"enter",ke,o,ue),xe.target=ae,xe.relatedTarget=Ye,ce=xe),Ye=ce,oe&&ke)t:{for(xe=oe,re=ke,W=0,ae=xe;ae;ae=Qi(ae))W++;for(ae=0,ce=re;ce;ce=Qi(ce))ae++;for(;0<W-ae;)xe=Qi(xe),W--;for(;0<ae-W;)re=Qi(re),ae--;for(;W--;){if(xe===re||re!==null&&xe===re.alternate)break t;xe=Qi(xe),re=Qi(re)}xe=null}else xe=null;oe!==null&&$v(de,se,oe,xe,!1),ke!==null&&Ye!==null&&$v(de,Ye,ke,xe,!0)}}e:{if(se=ie?Da(ie):window,oe=se.nodeName&&se.nodeName.toLowerCase(),oe==="select"||oe==="input"&&se.type==="file")var be=r0;else if(t0(se))if(a0)be=vE;else{be=pE;var Oe=gE}else oe=se.nodeName,!oe||oe.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&Cd(ie.elementType)&&(be=r0):be=yE;if(be&&(be=be(n,ie))){n0(de,be,o,ue);break e}Oe&&Oe(n,se,ie),n==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&Ad(se,"number",se.value)}switch(Oe=ie?Da(ie):window,n){case"focusin":(t0(Oe)||Oe.contentEditable==="true")&&(Ai=Oe,Hd=ie,ro=null);break;case"focusout":ro=Hd=Ai=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,f0(de,o,ue);break;case"selectionchange":if(wE)break;case"keydown":case"keyup":f0(de,o,ue)}var we;if($d)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Ti?Jp(n,o)&&(Se="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(Zp&&o.locale!=="ko"&&(Ti||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Ti&&(we=Gp()):(Vr=ue,Dd="value"in Vr?Vr.value:Vr.textContent,Ti=!0)),Oe=Fu(ie,Se),0<Oe.length&&(Se=new Kp(Se,n,null,o,ue),de.push({event:Se,listeners:Oe}),we?Se.data=we:(we=e0(o),we!==null&&(Se.data=we)))),(we=cE?dE(n,o):fE(n,o))&&(Se=Fu(ie,"onBeforeInput"),0<Se.length&&(Oe=new Kp("onBeforeInput","beforeinput",null,o,ue),de.push({event:Oe,listeners:Se}),Oe.data=we)),n8(de,n,ie,o,ue)}Lv(de,i)})}function Ro(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Fu(n,i){for(var o=i+"Capture",c=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Xs(n,o),m!=null&&c.unshift(Ro(n,m,y)),m=Xs(n,i),m!=null&&c.push(Ro(n,m,y))),n.tag===3)return c;n=n.return}return[]}function Qi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function $v(n,i,o,c,m){for(var y=i._reactName,T=[];o!==null&&o!==c;){var P=o,F=P.alternate,ie=P.stateNode;if(P=P.tag,F!==null&&F===c)break;P!==5&&P!==26&&P!==27||ie===null||(F=ie,m?(ie=Xs(o,y),ie!=null&&T.unshift(Ro(o,ie,F))):m||(ie=Xs(o,y),ie!=null&&T.push(Ro(o,ie,F)))),o=o.return}T.length!==0&&n.push({event:i,listeners:T})}var s8=/\r\n?/g,o8=/\u0000|\uFFFD/g;function Bv(n){return(typeof n=="string"?n:""+n).replace(s8,`
`).replace(o8,"")}function Uv(n,i){return i=Bv(i),Bv(n)===i}function Ku(){}function Ge(n,i,o,c,m,y){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Si(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Si(n,""+c);break;case"className":wi(n,"class",c);break;case"tabIndex":wi(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":wi(n,o,c);break;case"style":Hp(n,c,y);break;case"data":if(i!=="object"){wi(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=nu(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&Ge(n,i,"name",m.name,m,null),Ge(n,i,"formEncType",m.formEncType,m,null),Ge(n,i,"formMethod",m.formMethod,m,null),Ge(n,i,"formTarget",m.formTarget,m,null)):(Ge(n,i,"encType",m.encType,m,null),Ge(n,i,"method",m.method,m,null),Ge(n,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=nu(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Ku);break;case"onScroll":c!=null&&Pe("scroll",n);break;case"onScrollEnd":c!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=nu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),bi(n,"popover",c);break;case"xlinkActuate":Dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Dn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Dn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Dn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Dn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":bi(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=PS.get(o)||o,bi(n,o,c))}}function hh(n,i,o,c,m,y){switch(o){case"style":Hp(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Si(n,c):(typeof c=="number"||typeof c=="bigint")&&Si(n,""+c);break;case"onScroll":c!=null&&Pe("scroll",n);break;case"onScrollEnd":c!=null&&Pe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),y=n[Dt]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(i,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,m);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):bi(n,o,c)}}}function Mt(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ge(n,i,y,T,o,null)}}m&&Ge(n,i,"srcSet",o.srcSet,o,null),c&&Ge(n,i,"src",o.src,o,null);return;case"input":Pe("invalid",n);var P=y=T=m=null,F=null,ie=null;for(c in o)if(o.hasOwnProperty(c)){var ue=o[c];if(ue!=null)switch(c){case"name":m=ue;break;case"type":T=ue;break;case"checked":F=ue;break;case"defaultChecked":ie=ue;break;case"value":y=ue;break;case"defaultValue":P=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(a(137,i));break;default:Ge(n,i,c,ue,o,null)}}$p(n,y,P,F,ie,T,m,!1),eu(n);return;case"select":Pe("invalid",n),c=T=y=null;for(m in o)if(o.hasOwnProperty(m)&&(P=o[m],P!=null))switch(m){case"value":y=P;break;case"defaultValue":T=P;break;case"multiple":c=P;default:Ge(n,i,m,P,o,null)}i=y,o=T,n.multiple=!!c,i!=null?xi(n,!!c,i,!1):o!=null&&xi(n,!!c,o,!0);return;case"textarea":Pe("invalid",n),y=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(P=o[T],P!=null))switch(T){case"value":c=P;break;case"defaultValue":m=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(91));break;default:Ge(n,i,T,P,o,null)}Up(n,c,m,y),eu(n);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ge(n,i,F,c,o,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(c=0;c<jo.length;c++)Pe(jo[c],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(c=o[ie],c!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ge(n,i,ie,c,o,null)}return;default:if(Cd(i)){for(ue in o)o.hasOwnProperty(ue)&&(c=o[ue],c!==void 0&&hh(n,i,ue,c,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(c=o[P],c!=null&&Ge(n,i,P,c,o,null))}function l8(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,P=null,F=null,ie=null,ue=null;for(oe in o){var de=o[oe];if(o.hasOwnProperty(oe)&&de!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":F=de;default:c.hasOwnProperty(oe)||Ge(n,i,oe,null,c,de)}}for(var se in c){var oe=c[se];if(de=o[se],c.hasOwnProperty(se)&&(oe!=null||de!=null))switch(se){case"type":y=oe;break;case"name":m=oe;break;case"checked":ie=oe;break;case"defaultChecked":ue=oe;break;case"value":T=oe;break;case"defaultValue":P=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,i));break;default:oe!==de&&Ge(n,i,se,oe,c,de)}}Td(n,T,P,F,ie,ue,y,m);return;case"select":oe=T=P=se=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":oe=F;default:c.hasOwnProperty(y)||Ge(n,i,y,null,c,F)}for(m in c)if(y=c[m],F=o[m],c.hasOwnProperty(m)&&(y!=null||F!=null))switch(m){case"value":se=y;break;case"defaultValue":P=y;break;case"multiple":T=y;default:y!==F&&Ge(n,i,m,y,c,F)}i=P,o=T,c=oe,se!=null?xi(n,!!o,se,!1):!!c!=!!o&&(i!=null?xi(n,!!o,i,!0):xi(n,!!o,o?[]:"",!1));return;case"textarea":oe=se=null;for(P in o)if(m=o[P],o.hasOwnProperty(P)&&m!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ge(n,i,P,null,c,m)}for(T in c)if(m=c[T],y=o[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":se=m;break;case"defaultValue":oe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==y&&Ge(n,i,T,m,c,y)}Bp(n,se,oe);return;case"option":for(var ke in o)if(se=o[ke],o.hasOwnProperty(ke)&&se!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":n.selected=!1;break;default:Ge(n,i,ke,null,c,se)}for(F in c)if(se=c[F],oe=o[F],c.hasOwnProperty(F)&&se!==oe&&(se!=null||oe!=null))switch(F){case"selected":n.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Ge(n,i,F,se,c,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)se=o[xe],o.hasOwnProperty(xe)&&se!=null&&!c.hasOwnProperty(xe)&&Ge(n,i,xe,null,c,se);for(ie in c)if(se=c[ie],oe=o[ie],c.hasOwnProperty(ie)&&se!==oe&&(se!=null||oe!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:Ge(n,i,ie,se,c,oe)}return;default:if(Cd(i)){for(var Ye in o)se=o[Ye],o.hasOwnProperty(Ye)&&se!==void 0&&!c.hasOwnProperty(Ye)&&hh(n,i,Ye,void 0,c,se);for(ue in c)se=c[ue],oe=o[ue],!c.hasOwnProperty(ue)||se===oe||se===void 0&&oe===void 0||hh(n,i,ue,se,c,oe);return}}for(var re in o)se=o[re],o.hasOwnProperty(re)&&se!=null&&!c.hasOwnProperty(re)&&Ge(n,i,re,null,c,se);for(de in c)se=c[de],oe=o[de],!c.hasOwnProperty(de)||se===oe||se==null&&oe==null||Ge(n,i,de,se,c,oe)}var mh=null,gh=null;function Xu(n){return n.nodeType===9?n:n.ownerDocument}function Vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function ph(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var yh=null;function u8(){var n=window.event;return n&&n.type==="popstate"?n===yh?!1:(yh=n,!0):(yh=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,c8=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,d8=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(n){return qv.resolve(null).then(n).catch(f8)}:Iv;function f8(n){setTimeout(function(){throw n})}function ra(n){return n==="head"}function Gv(n,i){var o=i,c=0,m=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var T=n.ownerDocument;if(o&1&&Do(T.documentElement),o&2&&Do(T.body),o&4)for(o=T.head,Do(o),T=o.firstChild;T;){var P=T.nextSibling,F=T.nodeName;T[Ra]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=P}}if(m===0){n.removeChild(y),Vo(i);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Vo(i)}function vh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vh(o),Fs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function h8(n,i,o,c){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Ra])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ln(n.nextSibling),n===null)break}return null}function m8(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Ln(n.nextSibling),n===null))return null;return n}function bh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function g8(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Ln(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var wh=null;function Yv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function Fv(n,i,o){switch(i=Xu(o),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Do(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Fs(n)}var En=new Map,Kv=new Set;function Zu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _r=V.d;V.d={f:p8,r:y8,D:v8,C:b8,L:w8,m:_8,X:S8,S:x8,M:E8};function p8(){var n=_r.f(),i=Vu();return n||i}function y8(n){var i=Pr(n);i!==null&&i.tag===5&&i.type==="form"?my(i):_r.r(n)}var Wi=typeof document>"u"?null:document;function Xv(n,i,o){var c=Wi;if(c&&typeof i=="string"&&i){var m=yn(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Kv.has(m)||(Kv.add(m),n={rel:n,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),Mt(i,"link",n),ht(i),c.head.appendChild(i)))}}function v8(n){_r.D(n),Xv("dns-prefetch",n,null)}function b8(n,i){_r.C(n,i),Xv("preconnect",n,i)}function w8(n,i,o){_r.L(n,i,o);var c=Wi;if(c&&n&&i){var m='link[rel="preload"][as="'+yn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+yn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+yn(o.imageSizes)+'"]')):m+='[href="'+yn(n)+'"]';var y=m;switch(i){case"style":y=Ji(n);break;case"script":y=es(n)}En.has(y)||(n=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),En.set(y,n),c.querySelector(m)!==null||i==="style"&&c.querySelector(Oo(y))||i==="script"&&c.querySelector(zo(y))||(i=c.createElement("link"),Mt(i,"link",n),ht(i),c.head.appendChild(i)))}}function _8(n,i){_r.m(n,i);var o=Wi;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+yn(c)+'"][href="'+yn(n)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=es(n)}if(!En.has(y)&&(n=g({rel:"modulepreload",href:n},i),En.set(y,n),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zo(y)))return}c=o.createElement("link"),Mt(c,"link",n),ht(c),o.head.appendChild(c)}}}function x8(n,i,o){_r.S(n,i,o);var c=Wi;if(c&&n){var m=$r(c).hoistableStyles,y=Ji(n);i=i||"default";var T=m.get(y);if(!T){var P={loading:0,preload:null};if(T=c.querySelector(Oo(y)))P.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":i},o),(o=En.get(y))&&_h(n,o);var F=T=c.createElement("link");ht(F),Mt(F,"link",n),F._p=new Promise(function(ie,ue){F.onload=ie,F.onerror=ue}),F.addEventListener("load",function(){P.loading|=1}),F.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Qu(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:P},m.set(y,T)}}}function S8(n,i){_r.X(n,i);var o=Wi;if(o&&n){var c=$r(o).hoistableScripts,m=es(n),y=c.get(m);y||(y=o.querySelector(zo(m)),y||(n=g({src:n,async:!0},i),(i=En.get(m))&&xh(n,i),y=o.createElement("script"),ht(y),Mt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function E8(n,i){_r.M(n,i);var o=Wi;if(o&&n){var c=$r(o).hoistableScripts,m=es(n),y=c.get(m);y||(y=o.querySelector(zo(m)),y||(n=g({src:n,async:!0,type:"module"},i),(i=En.get(m))&&xh(n,i),y=o.createElement("script"),ht(y),Mt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Zv(n,i,o,c){var m=(m=Y.current)?Zu(m):null;if(!m)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ji(o.href),o=$r(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ji(o.href);var y=$r(m).hoistableStyles,T=y.get(n);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,T),(y=m.querySelector(Oo(n)))&&!y._p&&(T.instance=y,T.state.loading=5),En.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},En.set(n,o),y||k8(m,n,o,T.state))),i&&c===null)throw Error(a(528,""));return T}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=es(o),o=$r(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Ji(n){return'href="'+yn(n)+'"'}function Oo(n){return'link[rel="stylesheet"]['+n+"]"}function Qv(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function k8(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Mt(i,"link",o),ht(i),n.head.appendChild(i))}function es(n){return'[src="'+yn(n)+'"]'}function zo(n){return"script[async]"+n}function Wv(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+yn(o.href)+'"]');if(c)return i.instance=c,ht(c),c;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),ht(c),Mt(c,"style",m),Qu(c,o.precedence,n),i.instance=c;case"stylesheet":m=Ji(o.href);var y=n.querySelector(Oo(m));if(y)return i.state.loading|=4,i.instance=y,ht(y),y;c=Qv(o),(m=En.get(m))&&_h(c,m),y=(n.ownerDocument||n).createElement("link"),ht(y);var T=y;return T._p=new Promise(function(P,F){T.onload=P,T.onerror=F}),Mt(y,"link",c),i.state.loading|=4,Qu(y,o.precedence,n),i.instance=y;case"script":return y=es(o.src),(m=n.querySelector(zo(y)))?(i.instance=m,ht(m),m):(c=o,(m=En.get(y))&&(c=g({},o),xh(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),ht(m),Mt(m,"link",c),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Qu(c,o.precedence,n));return i.instance}function Qu(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var P=c[T];if(P.dataset.precedence===i)y=P;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function _h(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function xh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Wu=null;function Jv(n,i,o){if(Wu===null){var c=new Map,m=Wu=new Map;m.set(o,c)}else m=Wu,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var y=o[m];if(!(y[Ra]||y[_t]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=n+T;var P=c.get(T);P?P.push(y):c.set(T,[y])}}return c}function eb(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function T8(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Lo=null;function A8(){}function C8(n,i,o){if(Lo===null)throw Error(a(475));var c=Lo;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=Ji(o.href),y=n.querySelector(Oo(m));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Ju.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=y,ht(y);return}y=n.ownerDocument||n,o=Qv(o),(m=En.get(m))&&_h(o,m),y=y.createElement("link"),ht(y);var T=y;T._p=new Promise(function(P,F){T.onload=P,T.onerror=F}),Mt(y,"link",o),i.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Ju.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function N8(){if(Lo===null)throw Error(a(475));var n=Lo;return n.stylesheets&&n.count===0&&Sh(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Sh(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)Sh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ec=null;function Sh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ec=new Map,i.forEach(M8,n),ec=null,Ju.call(n))}function M8(n,i){if(!(i.state.loading&4)){var o=ec.get(n);if(o)var c=o.get(null);else{o=new Map,ec.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=i.instance,T=m.getAttribute("data-precedence"),y=o.get(T)||c,y===c&&o.set(null,m),o.set(T,m),this.count++,c=Ju.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var Po={$$typeof:B,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function j8(n,i,o,c,m,y,T,P){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function nb(n,i,o,c,m,y,T,P,F,ie,ue,de){return n=new j8(n,i,o,T,P,F,ie,de),i=1,y===!0&&(i|=24),y=rn(3,null,null,i),n.current=y,y.stateNode=n,i=rf(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:i},lf(y),n}function rb(n){return n?(n=ji,n):ji}function ab(n,i,o,c,m,y){m=rb(m),c.context===null?c.context=m:c.pendingContext=m,c=qr(i),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Gr(n,c,i),o!==null&&(un(o,n,i),ho(o,n,i))}function ib(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Eh(n,i){ib(n,i),(n=n.alternate)&&ib(n,i)}function sb(n){if(n.tag===13){var i=Mi(n,67108864);i!==null&&un(i,n,67108864),Eh(n,67108864)}}var tc=!0;function R8(n,i,o,c){var m=E.T;E.T=null;var y=V.p;try{V.p=2,kh(n,i,o,c)}finally{V.p=y,E.T=m}}function D8(n,i,o,c){var m=E.T;E.T=null;var y=V.p;try{V.p=8,kh(n,i,o,c)}finally{V.p=y,E.T=m}}function kh(n,i,o,c){if(tc){var m=Th(c);if(m===null)fh(n,i,c,nc,o),lb(n,c);else if(z8(m,n,i,o,c))c.stopPropagation();else if(lb(n,c),i&4&&-1<O8.indexOf(n)){for(;m!==null;){var y=Pr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=qt(y.pendingLanes);if(T!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;T;){var F=1<<31-ft(T);P.entanglements[1]|=F,T&=~F}Wn(y),(He&6)===0&&(Bu=_e()+500,Mo(0))}}break;case 13:P=Mi(y,2),P!==null&&un(P,y,2),Vu(),Eh(y,2)}if(y=Th(c),y===null&&fh(n,i,c,nc,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else fh(n,i,c,null,o)}}function Th(n){return n=Md(n),Ah(n)}var nc=null;function Ah(n){if(nc=null,n=sr(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=u(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return nc=n,null}function ob(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case Ee:return 2;case fn:return 8;case Rt:case Mn:return 32;case jn:return 268435456;default:return 32}default:return 32}}var Ch=!1,aa=null,ia=null,sa=null,$o=new Map,Bo=new Map,oa=[],O8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(n,i){switch(n){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":$o.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(i.pointerId)}}function Uo(n,i,o,c,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},i!==null&&(i=Pr(i),i!==null&&sb(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function z8(n,i,o,c,m){switch(i){case"focusin":return aa=Uo(aa,n,i,o,c,m),!0;case"dragenter":return ia=Uo(ia,n,i,o,c,m),!0;case"mouseover":return sa=Uo(sa,n,i,o,c,m),!0;case"pointerover":var y=m.pointerId;return $o.set(y,Uo($o.get(y)||null,n,i,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Bo.set(y,Uo(Bo.get(y)||null,n,i,o,c,m)),!0}return!1}function ub(n){var i=sr(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){n.blockedOn=i,xd(n.priority,function(){if(o.tag===13){var c=ln();c=qs(c);var m=Mi(o,c);m!==null&&un(m,o,c),Eh(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Th(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Nd=c,o.target.dispatchEvent(c),Nd=null}else return i=Pr(o),i!==null&&sb(i),n.blockedOn=o,!1;i.shift()}return!0}function cb(n,i,o){rc(n)&&o.delete(i)}function L8(){Ch=!1,aa!==null&&rc(aa)&&(aa=null),ia!==null&&rc(ia)&&(ia=null),sa!==null&&rc(sa)&&(sa=null),$o.forEach(cb),Bo.forEach(cb)}function ac(n,i){n.blockedOn===i&&(n.blockedOn=null,Ch||(Ch=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,L8)))}var ic=null;function db(n){ic!==n&&(ic=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ic===n&&(ic=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],m=n[i+2];if(typeof c!="function"){if(Ah(c||o)===null)continue;break}var y=Pr(o);y!==null&&(n.splice(i,3),i-=3,Af(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Vo(n){function i(F){return ac(F,n)}aa!==null&&ac(aa,n),ia!==null&&ac(ia,n),sa!==null&&ac(sa,n),$o.forEach(i),Bo.forEach(i);for(var o=0;o<oa.length;o++){var c=oa[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<oa.length&&(o=oa[0],o.blockedOn===null);)ub(o),o.blockedOn===null&&oa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],T=m[Dt]||null;if(typeof y=="function")T||db(o);else if(T){var P=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Dt]||null)P=T.formAction;else if(Ah(m)!==null)continue}else P=T.action;typeof P=="function"?o[c+1]=P:(o.splice(c,3),c-=3),db(o)}}}function Nh(n){this._internalRoot=n}sc.prototype.render=Nh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,c=ln();ab(o,c,n,i,null,null)},sc.prototype.unmount=Nh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ab(n.current,2,null,n,null,null),Vu(),i[Lr]=null}};function sc(n){this._internalRoot=n}sc.prototype.unstable_scheduleHydration=function(n){if(n){var i=Yl();n={blockedOn:null,target:n,priority:i};for(var o=0;o<oa.length&&i!==0&&i<oa[o].priority;o++);oa.splice(o,0,n),o===0&&ub(n)}};var fb=t.version;if(fb!=="19.1.0")throw Error(a(527,fb,"19.1.0"));V.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=f(i),n=n!==null?h(n):null,n=n===null?null:n.stateNode,n};var P8={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{en=oc.inject(P8),lt=oc}catch{}}return Io.createRoot=function(n,i){if(!s(n))throw Error(a(299));var o=!1,c="",m=Cy,y=Ny,T=My,P=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks)),i=nb(n,1,!1,null,null,o,c,m,y,T,P,null),n[Lr]=i.current,dh(n),new Nh(i)},Io.hydrateRoot=function(n,i,o){if(!s(n))throw Error(a(299));var c=!1,m="",y=Cy,T=Ny,P=My,F=null,ie=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(ie=o.formState)),i=nb(n,1,!0,i,o??null,c,m,y,T,P,F,ie),i.context=rb(null),o=i.current,c=ln(),c=qs(c),m=qr(c),m.callback=null,Gr(o,m,c),o=c,i.current.lanes=o,zr(i,o),Wn(i),n[Lr]=i.current,dh(n),new sc(i)},Io.version="19.1.0",Io}var xb;function X8(){if(xb)return Rh.exports;xb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rh.exports=K8(),Rh.exports}var Z8=X8();function It(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,a;r<e.length;r++)(a=It(e[r]))!==""&&(t+=(t&&" ")+a);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var Lh={exports:{}},Ph={},$h={exports:{}},Bh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function Q8(){if(Sb)return Bh;Sb=1;var e=Dl();function t(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function d(v,w){var k=w(),A=a({inst:{value:k,getSnapshot:w}}),N=A[0].inst,j=A[1];return l(function(){N.value=k,N.getSnapshot=w,f(N)&&j({inst:N})},[v,k,w]),s(function(){return f(N)&&j({inst:N}),v(function(){f(N)&&j({inst:N})})},[v]),u(k),k}function f(v){var w=v.getSnapshot;v=v.value;try{var k=w();return!r(v,k)}catch{return!0}}function h(v,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Bh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,Bh}var Eb;function W8(){return Eb||(Eb=1,$h.exports=Q8()),$h.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function J8(){if(kb)return Ph;kb=1;var e=Dl(),t=W8();function r(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,l=e.useRef,u=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Ph.useSyncExternalStoreWithSelector=function(h,g,v,w,k){var A=l(null);if(A.current===null){var N={hasValue:!1,value:null};A.current=N}else N=A.current;A=d(function(){function R(b){if(!$){if($=!0,B=b,b=w(b),k!==void 0&&N.hasValue){var S=N.value;if(k(S,b))return p=S}return p=b}if(S=p,a(B,b))return S;var C=w(b);return k!==void 0&&k(S,C)?(B=b,S):(B=b,p=C)}var $=!1,B,p,_=v===void 0?null:v;return[function(){return R(g())},_===null?void 0:function(){return R(_())}]},[g,v,w,k]);var j=s(h,A[0],A[1]);return u(function(){N.hasValue=!0,N.value=j},[j]),f(j),j},Ph}var Tb;function ek(){return Tb||(Tb=1,Lh.exports=J8()),Lh.exports}var tk=ek();const nk=ad(tk),rk={},Ab=e=>{let t;const r=new Set,a=(g,v)=>{const w=typeof g=="function"?g(t):g;if(!Object.is(w,t)){const k=t;t=v??(typeof w!="object"||w===null)?w:Object.assign({},t,w),r.forEach(A=>A(t,k))}},s=()=>t,f={setState:a,getState:s,getInitialState:()=>h,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(rk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},h=t=e(a,s,f);return f},ak=e=>e?Ab(e):Ab,{useDebugValue:ik}=le,{useSyncExternalStoreWithSelector:sk}=nk,ok=e=>e;function M1(e,t=ok,r){const a=sk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return ik(a),a}const Cb=(e,t)=>{const r=ak(e),a=(s,l=t)=>M1(r,s,l);return Object.assign(a,r),a},lk=(e,t)=>e?Cb(e,t):Cb;function Pt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[a,s]of e)if(!Object.is(s,t.get(a)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const a of r)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}var uk={value:()=>{}};function id(){for(var e=0,t=arguments.length,r={},a;e<t;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new Cc(r)}function Cc(e){this._=e}function ck(e,t){return e.trim().split(/^|\s+/).map(function(r){var a="",s=r.indexOf(".");if(s>=0&&(a=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}Cc.prototype=id.prototype={constructor:Cc,on:function(e,t){var r=this._,a=ck(e+"",r),s,l=-1,u=a.length;if(arguments.length<2){for(;++l<u;)if((s=(e=a[l]).type)&&(s=dk(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<u;)if(s=(e=a[l]).type)r[s]=Nb(r[s],e.name,t);else if(t==null)for(s in r)r[s]=Nb(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Cc(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),a=0,s,l;a<s;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],a=0,s=l.length;a<s;++a)l[a].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],s=0,l=a.length;s<l;++s)a[s].value.apply(t,r)}};function dk(e,t){for(var r=0,a=e.length,s;r<a;++r)if((s=e[r]).name===t)return s.value}function Nb(e,t,r){for(var a=0,s=e.length;a<s;++a)if(e[a].name===t){e[a]=uk,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:t,value:r}),e}var Am="http://www.w3.org/1999/xhtml";const Mb={svg:"http://www.w3.org/2000/svg",xhtml:Am,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sd(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Mb.hasOwnProperty(t)?{space:Mb[t],local:e}:e}function fk(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Am&&t.documentElement.namespaceURI===Am?t.createElement(e):t.createElementNS(r,e)}}function hk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function j1(e){var t=sd(e);return(t.local?hk:fk)(t)}function mk(){}function Tg(e){return e==null?mk:function(){return this.querySelector(e)}}function gk(e){typeof e!="function"&&(e=Tg(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var l=t[s],u=l.length,d=a[s]=new Array(u),f,h,g=0;g<u;++g)(f=l[g])&&(h=e.call(f,f.__data__,g,l))&&("__data__"in f&&(h.__data__=f.__data__),d[g]=h);return new dn(a,this._parents)}function pk(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function yk(){return[]}function R1(e){return e==null?yk:function(){return this.querySelectorAll(e)}}function vk(e){return function(){return pk(e.apply(this,arguments))}}function bk(e){typeof e=="function"?e=vk(e):e=R1(e);for(var t=this._groups,r=t.length,a=[],s=[],l=0;l<r;++l)for(var u=t[l],d=u.length,f,h=0;h<d;++h)(f=u[h])&&(a.push(e.call(f,f.__data__,h,u)),s.push(f));return new dn(a,s)}function D1(e){return function(){return this.matches(e)}}function O1(e){return function(t){return t.matches(e)}}var wk=Array.prototype.find;function _k(e){return function(){return wk.call(this.children,e)}}function xk(){return this.firstElementChild}function Sk(e){return this.select(e==null?xk:_k(typeof e=="function"?e:O1(e)))}var Ek=Array.prototype.filter;function kk(){return Array.from(this.children)}function Tk(e){return function(){return Ek.call(this.children,e)}}function Ak(e){return this.selectAll(e==null?kk:Tk(typeof e=="function"?e:O1(e)))}function Ck(e){typeof e!="function"&&(e=D1(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var l=t[s],u=l.length,d=a[s]=[],f,h=0;h<u;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&d.push(f);return new dn(a,this._parents)}function z1(e){return new Array(e.length)}function Nk(){return new dn(this._enter||this._groups.map(z1),this._parents)}function Uc(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Uc.prototype={constructor:Uc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Mk(e){return function(){return e}}function jk(e,t,r,a,s,l){for(var u=0,d,f=t.length,h=l.length;u<h;++u)(d=t[u])?(d.__data__=l[u],a[u]=d):r[u]=new Uc(e,l[u]);for(;u<f;++u)(d=t[u])&&(s[u]=d)}function Rk(e,t,r,a,s,l,u){var d,f,h=new Map,g=t.length,v=l.length,w=new Array(g),k;for(d=0;d<g;++d)(f=t[d])&&(w[d]=k=u.call(f,f.__data__,d,t)+"",h.has(k)?s[d]=f:h.set(k,f));for(d=0;d<v;++d)k=u.call(e,l[d],d,l)+"",(f=h.get(k))?(a[d]=f,f.__data__=l[d],h.delete(k)):r[d]=new Uc(e,l[d]);for(d=0;d<g;++d)(f=t[d])&&h.get(w[d])===f&&(s[d]=f)}function Dk(e){return e.__data__}function Ok(e,t){if(!arguments.length)return Array.from(this,Dk);var r=t?Rk:jk,a=this._parents,s=this._groups;typeof e!="function"&&(e=Mk(e));for(var l=s.length,u=new Array(l),d=new Array(l),f=new Array(l),h=0;h<l;++h){var g=a[h],v=s[h],w=v.length,k=zk(e.call(g,g&&g.__data__,h,a)),A=k.length,N=d[h]=new Array(A),j=u[h]=new Array(A),R=f[h]=new Array(w);r(g,v,N,j,R,k,t);for(var $=0,B=0,p,_;$<A;++$)if(p=N[$]){for($>=B&&(B=$+1);!(_=j[B])&&++B<A;);p._next=_||null}}return u=new dn(u,a),u._enter=d,u._exit=f,u}function zk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Lk(){return new dn(this._exit||this._groups.map(z1),this._parents)}function Pk(e,t,r){var a=this.enter(),s=this,l=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),r==null?l.remove():r(l),a&&s?a.merge(s).order():s}function $k(e){for(var t=e.selection?e.selection():e,r=this._groups,a=t._groups,s=r.length,l=a.length,u=Math.min(s,l),d=new Array(s),f=0;f<u;++f)for(var h=r[f],g=a[f],v=h.length,w=d[f]=new Array(v),k,A=0;A<v;++A)(k=h[A]||g[A])&&(w[A]=k);for(;f<s;++f)d[f]=r[f];return new dn(d,this._parents)}function Bk(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var a=e[t],s=a.length-1,l=a[s],u;--s>=0;)(u=a[s])&&(l&&u.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(u,l),l=u);return this}function Uk(e){e||(e=Vk);function t(v,w){return v&&w?e(v.__data__,w.__data__):!v-!w}for(var r=this._groups,a=r.length,s=new Array(a),l=0;l<a;++l){for(var u=r[l],d=u.length,f=s[l]=new Array(d),h,g=0;g<d;++g)(h=u[g])&&(f[g]=h);f.sort(t)}return new dn(s,this._parents).order()}function Vk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ik(){return Array.from(this)}function qk(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],s=0,l=a.length;s<l;++s){var u=a[s];if(u)return u}return null}function Gk(){let e=0;for(const t of this)++e;return e}function Yk(){return!this.node()}function Fk(e){for(var t=this._groups,r=0,a=t.length;r<a;++r)for(var s=t[r],l=0,u=s.length,d;l<u;++l)(d=s[l])&&e.call(d,d.__data__,l,s);return this}function Kk(e){return function(){this.removeAttribute(e)}}function Xk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zk(e,t){return function(){this.setAttribute(e,t)}}function Qk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wk(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Jk(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function eT(e,t){var r=sd(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((t==null?r.local?Xk:Kk:typeof t=="function"?r.local?Jk:Wk:r.local?Qk:Zk)(r,t))}function L1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tT(e){return function(){this.style.removeProperty(e)}}function nT(e,t,r){return function(){this.style.setProperty(e,t,r)}}function rT(e,t,r){return function(){var a=t.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function aT(e,t,r){return arguments.length>1?this.each((t==null?tT:typeof t=="function"?rT:nT)(e,t,r??"")):Ds(this.node(),e)}function Ds(e,t){return e.style.getPropertyValue(t)||L1(e).getComputedStyle(e,null).getPropertyValue(t)}function iT(e){return function(){delete this[e]}}function sT(e,t){return function(){this[e]=t}}function oT(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function lT(e,t){return arguments.length>1?this.each((t==null?iT:typeof t=="function"?oT:sT)(e,t)):this.node()[e]}function P1(e){return e.trim().split(/^|\s+/)}function Ag(e){return e.classList||new $1(e)}function $1(e){this._node=e,this._names=P1(e.getAttribute("class")||"")}$1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function B1(e,t){for(var r=Ag(e),a=-1,s=t.length;++a<s;)r.add(t[a])}function U1(e,t){for(var r=Ag(e),a=-1,s=t.length;++a<s;)r.remove(t[a])}function uT(e){return function(){B1(this,e)}}function cT(e){return function(){U1(this,e)}}function dT(e,t){return function(){(t.apply(this,arguments)?B1:U1)(this,e)}}function fT(e,t){var r=P1(e+"");if(arguments.length<2){for(var a=Ag(this.node()),s=-1,l=r.length;++s<l;)if(!a.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?dT:t?uT:cT)(r,t))}function hT(){this.textContent=""}function mT(e){return function(){this.textContent=e}}function gT(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pT(e){return arguments.length?this.each(e==null?hT:(typeof e=="function"?gT:mT)(e)):this.node().textContent}function yT(){this.innerHTML=""}function vT(e){return function(){this.innerHTML=e}}function bT(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function wT(e){return arguments.length?this.each(e==null?yT:(typeof e=="function"?bT:vT)(e)):this.node().innerHTML}function _T(){this.nextSibling&&this.parentNode.appendChild(this)}function xT(){return this.each(_T)}function ST(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ET(){return this.each(ST)}function kT(e){var t=typeof e=="function"?e:j1(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function TT(){return null}function AT(e,t){var r=typeof e=="function"?e:j1(e),a=t==null?TT:typeof t=="function"?t:Tg(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function CT(){var e=this.parentNode;e&&e.removeChild(this)}function NT(){return this.each(CT)}function MT(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jT(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function RT(e){return this.select(e?jT:MT)}function DT(e){return arguments.length?this.property("__data__",e):this.node().__data__}function OT(e){return function(t){e.call(this,t,this.__data__)}}function zT(e){return e.trim().split(/^|\s+/).map(function(t){var r="",a=t.indexOf(".");return a>=0&&(r=t.slice(a+1),t=t.slice(0,a)),{type:t,name:r}})}function LT(e){return function(){var t=this.__on;if(t){for(var r=0,a=-1,s=t.length,l;r<s;++r)l=t[r],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++a]=l;++a?t.length=a:delete this.__on}}}function PT(e,t,r){return function(){var a=this.__on,s,l=OT(t);if(a){for(var u=0,d=a.length;u<d;++u)if((s=a[u]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=l,s.options=r),s.value=t;return}}this.addEventListener(e.type,l,r),s={type:e.type,name:e.name,value:t,listener:l,options:r},a?a.push(s):this.__on=[s]}}function $T(e,t,r){var a=zT(e+""),s,l=a.length,u;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,h=d.length,g;f<h;++f)for(s=0,g=d[f];s<l;++s)if((u=a[s]).type===g.type&&u.name===g.name)return g.value}return}for(d=t?PT:LT,s=0;s<l;++s)this.each(d(a[s],t,r));return this}function V1(e,t,r){var a=L1(e),s=a.CustomEvent;typeof s=="function"?s=new s(t,r):(s=a.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function BT(e,t){return function(){return V1(this,e,t)}}function UT(e,t){return function(){return V1(this,e,t.apply(this,arguments))}}function VT(e,t){return this.each((typeof t=="function"?UT:BT)(e,t))}function*HT(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var a=e[t],s=0,l=a.length,u;s<l;++s)(u=a[s])&&(yield u)}var H1=[null];function dn(e,t){this._groups=e,this._parents=t}function Ol(){return new dn([[document.documentElement]],H1)}function IT(){return this}dn.prototype=Ol.prototype={constructor:dn,select:gk,selectAll:bk,selectChild:Sk,selectChildren:Ak,filter:Ck,data:Ok,enter:Nk,exit:Lk,join:Pk,merge:$k,selection:IT,order:Bk,sort:Uk,call:Hk,nodes:Ik,node:qk,size:Gk,empty:Yk,each:Fk,attr:eT,style:aT,property:lT,classed:fT,text:pT,html:wT,raise:xT,lower:ET,append:kT,insert:AT,remove:NT,clone:RT,datum:DT,on:$T,dispatch:VT,[Symbol.iterator]:HT};function Vn(e){return typeof e=="string"?new dn([[document.querySelector(e)]],[document.documentElement]):new dn([[e]],H1)}function qT(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jn(e,t){if(e=qT(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const GT={passive:!1},pl={capture:!0,passive:!1};function Uh(e){e.stopImmediatePropagation()}function Cs(e){e.preventDefault(),e.stopImmediatePropagation()}function I1(e){var t=e.document.documentElement,r=Vn(e).on("dragstart.drag",Cs,pl);"onselectstart"in t?r.on("selectstart.drag",Cs,pl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function q1(e,t){var r=e.document.documentElement,a=Vn(e).on("dragstart.drag",null);t&&(a.on("click.drag",Cs,pl),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const lc=e=>()=>e;function Cm(e,{sourceEvent:t,subject:r,target:a,identifier:s,active:l,x:u,y:d,dx:f,dy:h,dispatch:g}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:g}})}Cm.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function YT(e){return!e.ctrlKey&&!e.button}function FT(){return this.parentNode}function KT(e,t){return t??{x:e.x,y:e.y}}function XT(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZT(){var e=YT,t=FT,r=KT,a=XT,s={},l=id("start","drag","end"),u=0,d,f,h,g,v=0;function w(p){p.on("mousedown.drag",k).filter(a).on("touchstart.drag",j).on("touchmove.drag",R,GT).on("touchend.drag touchcancel.drag",$).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(p,_){if(!(g||!e.call(this,p,_))){var b=B(this,t.call(this,p,_),p,_,"mouse");b&&(Vn(p.view).on("mousemove.drag",A,pl).on("mouseup.drag",N,pl),I1(p.view),Uh(p),h=!1,d=p.clientX,f=p.clientY,b("start",p))}}function A(p){if(Cs(p),!h){var _=p.clientX-d,b=p.clientY-f;h=_*_+b*b>v}s.mouse("drag",p)}function N(p){Vn(p.view).on("mousemove.drag mouseup.drag",null),q1(p.view,h),Cs(p),s.mouse("end",p)}function j(p,_){if(e.call(this,p,_)){var b=p.changedTouches,S=t.call(this,p,_),C=b.length,L,z;for(L=0;L<C;++L)(z=B(this,S,p,_,b[L].identifier,b[L]))&&(Uh(p),z("start",p,b[L]))}}function R(p){var _=p.changedTouches,b=_.length,S,C;for(S=0;S<b;++S)(C=s[_[S].identifier])&&(Cs(p),C("drag",p,_[S]))}function $(p){var _=p.changedTouches,b=_.length,S,C;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),S=0;S<b;++S)(C=s[_[S].identifier])&&(Uh(p),C("end",p,_[S]))}function B(p,_,b,S,C,L){var z=l.copy(),U=Jn(L||b,_),X,Q,O;if((O=r.call(p,new Cm("beforestart",{sourceEvent:b,target:w,identifier:C,active:u,x:U[0],y:U[1],dx:0,dy:0,dispatch:z}),S))!=null)return X=O.x-U[0]||0,Q=O.y-U[1]||0,function q(E,V,H){var I=U,D;switch(E){case"start":s[C]=q,D=u++;break;case"end":delete s[C],--u;case"drag":U=Jn(H||V,_),D=u;break}z.call(E,p,new Cm(E,{sourceEvent:V,subject:O,target:w,identifier:C,active:D,x:U[0]+X,y:U[1]+Q,dx:U[0]-I[0],dy:U[1]-I[1],dispatch:z}),S)}}return w.filter=function(p){return arguments.length?(e=typeof p=="function"?p:lc(!!p),w):e},w.container=function(p){return arguments.length?(t=typeof p=="function"?p:lc(p),w):t},w.subject=function(p){return arguments.length?(r=typeof p=="function"?p:lc(p),w):r},w.touchable=function(p){return arguments.length?(a=typeof p=="function"?p:lc(!!p),w):a},w.on=function(){var p=l.on.apply(l,arguments);return p===l?w:p},w.clickDistance=function(p){return arguments.length?(v=(p=+p)*p,w):Math.sqrt(v)},w}function Cg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function G1(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function zl(){}var yl=.7,Vc=1/yl,Ns="\\s*([+-]?\\d+)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QT=/^#([0-9a-f]{3,8})$/,WT=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),JT=new RegExp(`^rgb\\(${er},${er},${er}\\)$`),eA=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${vl}\\)$`),tA=new RegExp(`^rgba\\(${er},${er},${er},${vl}\\)$`),nA=new RegExp(`^hsl\\(${vl},${er},${er}\\)$`),rA=new RegExp(`^hsla\\(${vl},${er},${er},${vl}\\)$`),jb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cg(zl,bl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rb,formatHex:Rb,formatHex8:aA,formatHsl:iA,formatRgb:Db,toString:Db});function Rb(){return this.rgb().formatHex()}function aA(){return this.rgb().formatHex8()}function iA(){return Y1(this).formatHsl()}function Db(){return this.rgb().formatRgb()}function bl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QT.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ob(t):r===3?new Qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WT.exec(e))?new Qt(t[1],t[2],t[3],1):(t=JT.exec(e))?new Qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eA.exec(e))?uc(t[1],t[2],t[3],t[4]):(t=tA.exec(e))?uc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nA.exec(e))?Pb(t[1],t[2]/100,t[3]/100,1):(t=rA.exec(e))?Pb(t[1],t[2]/100,t[3]/100,t[4]):jb.hasOwnProperty(e)?Ob(jb[e]):e==="transparent"?new Qt(NaN,NaN,NaN,0):null}function Ob(e){return new Qt(e>>16&255,e>>8&255,e&255,1)}function uc(e,t,r,a){return a<=0&&(e=t=r=NaN),new Qt(e,t,r,a)}function sA(e){return e instanceof zl||(e=bl(e)),e?(e=e.rgb(),new Qt(e.r,e.g,e.b,e.opacity)):new Qt}function Nm(e,t,r,a){return arguments.length===1?sA(e):new Qt(e,t,r,a??1)}function Qt(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}Cg(Qt,Nm,G1(zl,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yl:Math.pow(yl,e),new Qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qt(di(this.r),di(this.g),di(this.b),Hc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zb,formatHex:zb,formatHex8:oA,formatRgb:Lb,toString:Lb}));function zb(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}`}function oA(){return`#${oi(this.r)}${oi(this.g)}${oi(this.b)}${oi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lb(){const e=Hc(this.opacity);return`${e===1?"rgb(":"rgba("}${di(this.r)}, ${di(this.g)}, ${di(this.b)}${e===1?")":`, ${e})`}`}function Hc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function di(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oi(e){return e=di(e),(e<16?"0":"")+e.toString(16)}function Pb(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hn(e,t,r,a)}function Y1(e){if(e instanceof Hn)return new Hn(e.h,e.s,e.l,e.opacity);if(e instanceof zl||(e=bl(e)),!e)return new Hn;if(e instanceof Hn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),l=Math.max(t,r,a),u=NaN,d=l-s,f=(l+s)/2;return d?(t===l?u=(r-a)/d+(r<a)*6:r===l?u=(a-t)/d+2:u=(t-r)/d+4,d/=f<.5?l+s:2-l-s,u*=60):d=f>0&&f<1?0:u,new Hn(u,d,f,e.opacity)}function lA(e,t,r,a){return arguments.length===1?Y1(e):new Hn(e,t,r,a??1)}function Hn(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}Cg(Hn,lA,G1(zl,{brighter(e){return e=e==null?Vc:Math.pow(Vc,e),new Hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yl:Math.pow(yl,e),new Hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Qt(Vh(e>=240?e-240:e+120,s,a),Vh(e,s,a),Vh(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new Hn($b(this.h),cc(this.s),cc(this.l),Hc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hc(this.opacity);return`${e===1?"hsl(":"hsla("}${$b(this.h)}, ${cc(this.s)*100}%, ${cc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $b(e){return e=(e||0)%360,e<0?e+360:e}function cc(e){return Math.max(0,Math.min(1,e||0))}function Vh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Ng=e=>()=>e;function F1(e,t){return function(r){return e+r*t}}function uA(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function i7(e,t){var r=t-e;return r?F1(e,r>180||r<-180?r-360*Math.round(r/360):r):Ng(isNaN(e)?t:e)}function cA(e){return(e=+e)==1?K1:function(t,r){return r-t?uA(t,r,e):Ng(isNaN(t)?r:t)}}function K1(e,t){var r=t-e;return r?F1(e,r):Ng(isNaN(e)?t:e)}const Bb=function e(t){var r=cA(t);function a(s,l){var u=r((s=Nm(s)).r,(l=Nm(l)).r),d=r(s.g,l.g),f=r(s.b,l.b),h=K1(s.opacity,l.opacity);return function(g){return s.r=u(g),s.g=d(g),s.b=f(g),s.opacity=h(g),s+""}}return a.gamma=e,a}(1);function ha(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Mm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hh=new RegExp(Mm.source,"g");function dA(e){return function(){return e}}function fA(e){return function(t){return e(t)+""}}function hA(e,t){var r=Mm.lastIndex=Hh.lastIndex=0,a,s,l,u=-1,d=[],f=[];for(e=e+"",t=t+"";(a=Mm.exec(e))&&(s=Hh.exec(t));)(l=s.index)>r&&(l=t.slice(r,l),d[u]?d[u]+=l:d[++u]=l),(a=a[0])===(s=s[0])?d[u]?d[u]+=s:d[++u]=s:(d[++u]=null,f.push({i:u,x:ha(a,s)})),r=Hh.lastIndex;return r<t.length&&(l=t.slice(r),d[u]?d[u]+=l:d[++u]=l),d.length<2?f[0]?fA(f[0].x):dA(t):(t=f.length,function(h){for(var g=0,v;g<t;++g)d[(v=f[g]).i]=v.x(h);return d.join("")})}var Ub=180/Math.PI,jm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function X1(e,t,r,a,s,l){var u,d,f;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(f=e*r+t*a)&&(r-=e*f,a-=t*f),(d=Math.sqrt(r*r+a*a))&&(r/=d,a/=d,f/=d),e*a<t*r&&(e=-e,t=-t,f=-f,u=-u),{translateX:s,translateY:l,rotate:Math.atan2(t,e)*Ub,skewX:Math.atan(f)*Ub,scaleX:u,scaleY:d}}var dc;function mA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jm:X1(t.a,t.b,t.c,t.d,t.e,t.f)}function gA(e){return e==null||(dc||(dc=document.createElementNS("http://www.w3.org/2000/svg","g")),dc.setAttribute("transform",e),!(e=dc.transform.baseVal.consolidate()))?jm:(e=e.matrix,X1(e.a,e.b,e.c,e.d,e.e,e.f))}function Z1(e,t,r,a){function s(h){return h.length?h.pop()+" ":""}function l(h,g,v,w,k,A){if(h!==v||g!==w){var N=k.push("translate(",null,t,null,r);A.push({i:N-4,x:ha(h,v)},{i:N-2,x:ha(g,w)})}else(v||w)&&k.push("translate("+v+t+w+r)}function u(h,g,v,w){h!==g?(h-g>180?g+=360:g-h>180&&(h+=360),w.push({i:v.push(s(v)+"rotate(",null,a)-2,x:ha(h,g)})):g&&v.push(s(v)+"rotate("+g+a)}function d(h,g,v,w){h!==g?w.push({i:v.push(s(v)+"skewX(",null,a)-2,x:ha(h,g)}):g&&v.push(s(v)+"skewX("+g+a)}function f(h,g,v,w,k,A){if(h!==v||g!==w){var N=k.push(s(k)+"scale(",null,",",null,")");A.push({i:N-4,x:ha(h,v)},{i:N-2,x:ha(g,w)})}else(v!==1||w!==1)&&k.push(s(k)+"scale("+v+","+w+")")}return function(h,g){var v=[],w=[];return h=e(h),g=e(g),l(h.translateX,h.translateY,g.translateX,g.translateY,v,w),u(h.rotate,g.rotate,v,w),d(h.skewX,g.skewX,v,w),f(h.scaleX,h.scaleY,g.scaleX,g.scaleY,v,w),h=g=null,function(k){for(var A=-1,N=w.length,j;++A<N;)v[(j=w[A]).i]=j.x(k);return v.join("")}}}var pA=Z1(mA,"px, ","px)","deg)"),yA=Z1(gA,", ",")",")"),vA=1e-12;function Vb(e){return((e=Math.exp(e))+1/e)/2}function bA(e){return((e=Math.exp(e))-1/e)/2}function wA(e){return((e=Math.exp(2*e))-1)/(e+1)}const _A=function e(t,r,a){function s(l,u){var d=l[0],f=l[1],h=l[2],g=u[0],v=u[1],w=u[2],k=g-d,A=v-f,N=k*k+A*A,j,R;if(N<vA)R=Math.log(w/h)/t,j=function(S){return[d+S*k,f+S*A,h*Math.exp(t*S*R)]};else{var $=Math.sqrt(N),B=(w*w-h*h+a*N)/(2*h*r*$),p=(w*w-h*h-a*N)/(2*w*r*$),_=Math.log(Math.sqrt(B*B+1)-B),b=Math.log(Math.sqrt(p*p+1)-p);R=(b-_)/t,j=function(S){var C=S*R,L=Vb(_),z=h/(r*$)*(L*wA(t*C+_)-bA(_));return[d+z*k,f+z*A,h*L/Vb(t*C+_)]}}return j.duration=R*1e3*t/Math.SQRT2,j}return s.rho=function(l){var u=Math.max(.001,+l),d=u*u,f=d*d;return e(u,d,f)},s}(Math.SQRT2,2,4);var Os=0,tl=0,qo=0,Q1=1e3,Ic,nl,qc=0,gi=0,od=0,wl=typeof performance=="object"&&performance.now?performance:Date,W1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Mg(){return gi||(W1(xA),gi=wl.now()+od)}function xA(){gi=0}function Gc(){this._call=this._time=this._next=null}Gc.prototype=J1.prototype={constructor:Gc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Mg():+r)+(t==null?0:+t),!this._next&&nl!==this&&(nl?nl._next=this:Ic=this,nl=this),this._call=e,this._time=r,Rm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rm())}};function J1(e,t,r){var a=new Gc;return a.restart(e,t,r),a}function SA(){Mg(),++Os;for(var e=Ic,t;e;)(t=gi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Os}function Hb(){gi=(qc=wl.now())+od,Os=tl=0;try{SA()}finally{Os=0,kA(),gi=0}}function EA(){var e=wl.now(),t=e-qc;t>Q1&&(od-=t,qc=e)}function kA(){for(var e,t=Ic,r,a=1/0;t;)t._call?(a>t._time&&(a=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ic=r);nl=e,Rm(a)}function Rm(e){if(!Os){tl&&(tl=clearTimeout(tl));var t=e-gi;t>24?(e<1/0&&(tl=setTimeout(Hb,e-wl.now()-od)),qo&&(qo=clearInterval(qo))):(qo||(qc=wl.now(),qo=setInterval(EA,Q1)),Os=1,W1(Hb))}}function Ib(e,t,r){var a=new Gc;return t=t==null?0:+t,a.restart(s=>{a.stop(),e(s+t)},t,r),a}var TA=id("start","end","cancel","interrupt"),AA=[],ex=0,qb=1,Dm=2,Nc=3,Gb=4,Om=5,Mc=6;function ld(e,t,r,a,s,l){var u=e.__transition;if(!u)e.__transition={};else if(r in u)return;CA(e,r,{name:t,index:a,group:s,on:TA,tween:AA,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:ex})}function jg(e,t){var r=Yn(e,t);if(r.state>ex)throw new Error("too late; already scheduled");return r}function ar(e,t){var r=Yn(e,t);if(r.state>Nc)throw new Error("too late; already running");return r}function Yn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function CA(e,t,r){var a=e.__transition,s;a[t]=r,r.timer=J1(l,0,r.time);function l(h){r.state=qb,r.timer.restart(u,r.delay,r.time),r.delay<=h&&u(h-r.delay)}function u(h){var g,v,w,k;if(r.state!==qb)return f();for(g in a)if(k=a[g],k.name===r.name){if(k.state===Nc)return Ib(u);k.state===Gb?(k.state=Mc,k.timer.stop(),k.on.call("interrupt",e,e.__data__,k.index,k.group),delete a[g]):+g<t&&(k.state=Mc,k.timer.stop(),k.on.call("cancel",e,e.__data__,k.index,k.group),delete a[g])}if(Ib(function(){r.state===Nc&&(r.state=Gb,r.timer.restart(d,r.delay,r.time),d(h))}),r.state=Dm,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Dm){for(r.state=Nc,s=new Array(w=r.tween.length),g=0,v=-1;g<w;++g)(k=r.tween[g].value.call(e,e.__data__,r.index,r.group))&&(s[++v]=k);s.length=v+1}}function d(h){for(var g=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(f),r.state=Om,1),v=-1,w=s.length;++v<w;)s[v].call(e,g);r.state===Om&&(r.on.call("end",e,e.__data__,r.index,r.group),f())}function f(){r.state=Mc,r.timer.stop(),delete a[t];for(var h in a)return;delete e.__transition}}function jc(e,t){var r=e.__transition,a,s,l=!0,u;if(r){t=t==null?null:t+"";for(u in r){if((a=r[u]).name!==t){l=!1;continue}s=a.state>Dm&&a.state<Om,a.state=Mc,a.timer.stop(),a.on.call(s?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[u]}l&&delete e.__transition}}function NA(e){return this.each(function(){jc(this,e)})}function MA(e,t){var r,a;return function(){var s=ar(this,e),l=s.tween;if(l!==r){a=r=l;for(var u=0,d=a.length;u<d;++u)if(a[u].name===t){a=a.slice(),a.splice(u,1);break}}s.tween=a}}function jA(e,t,r){var a,s;if(typeof r!="function")throw new Error;return function(){var l=ar(this,e),u=l.tween;if(u!==a){s=(a=u).slice();for(var d={name:t,value:r},f=0,h=s.length;f<h;++f)if(s[f].name===t){s[f]=d;break}f===h&&s.push(d)}l.tween=s}}function RA(e,t){var r=this._id;if(e+="",arguments.length<2){for(var a=Yn(this.node(),r).tween,s=0,l=a.length,u;s<l;++s)if((u=a[s]).name===e)return u.value;return null}return this.each((t==null?MA:jA)(r,e,t))}function Rg(e,t,r){var a=e._id;return e.each(function(){var s=ar(this,a);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return Yn(s,a).value[t]}}function tx(e,t){var r;return(typeof t=="number"?ha:t instanceof bl?Bb:(r=bl(t))?(t=r,Bb):hA)(e,t)}function DA(e){return function(){this.removeAttribute(e)}}function OA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zA(e,t,r){var a,s=r+"",l;return function(){var u=this.getAttribute(e);return u===s?null:u===a?l:l=t(a=u,r)}}function LA(e,t,r){var a,s=r+"",l;return function(){var u=this.getAttributeNS(e.space,e.local);return u===s?null:u===a?l:l=t(a=u,r)}}function PA(e,t,r){var a,s,l;return function(){var u,d=r(this),f;return d==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=d+"",u===f?null:u===a&&f===s?l:(s=f,l=t(a=u,d)))}}function $A(e,t,r){var a,s,l;return function(){var u,d=r(this),f;return d==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=d+"",u===f?null:u===a&&f===s?l:(s=f,l=t(a=u,d)))}}function BA(e,t){var r=sd(e),a=r==="transform"?yA:tx;return this.attrTween(e,typeof t=="function"?(r.local?$A:PA)(r,a,Rg(this,"attr."+e,t)):t==null?(r.local?OA:DA)(r):(r.local?LA:zA)(r,a,t))}function UA(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function VA(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function HA(e,t){var r,a;function s(){var l=t.apply(this,arguments);return l!==a&&(r=(a=l)&&VA(e,l)),r}return s._value=t,s}function IA(e,t){var r,a;function s(){var l=t.apply(this,arguments);return l!==a&&(r=(a=l)&&UA(e,l)),r}return s._value=t,s}function qA(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var a=sd(e);return this.tween(r,(a.local?HA:IA)(a,t))}function GA(e,t){return function(){jg(this,e).delay=+t.apply(this,arguments)}}function YA(e,t){return t=+t,function(){jg(this,e).delay=t}}function FA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?GA:YA)(t,e)):Yn(this.node(),t).delay}function KA(e,t){return function(){ar(this,e).duration=+t.apply(this,arguments)}}function XA(e,t){return t=+t,function(){ar(this,e).duration=t}}function ZA(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?KA:XA)(t,e)):Yn(this.node(),t).duration}function QA(e,t){if(typeof t!="function")throw new Error;return function(){ar(this,e).ease=t}}function WA(e){var t=this._id;return arguments.length?this.each(QA(t,e)):Yn(this.node(),t).ease}function JA(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ar(this,e).ease=r}}function eC(e){if(typeof e!="function")throw new Error;return this.each(JA(this._id,e))}function tC(e){typeof e!="function"&&(e=D1(e));for(var t=this._groups,r=t.length,a=new Array(r),s=0;s<r;++s)for(var l=t[s],u=l.length,d=a[s]=[],f,h=0;h<u;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&d.push(f);return new Cr(a,this._parents,this._name,this._id)}function nC(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,a=t.length,s=r.length,l=Math.min(a,s),u=new Array(a),d=0;d<l;++d)for(var f=t[d],h=r[d],g=f.length,v=u[d]=new Array(g),w,k=0;k<g;++k)(w=f[k]||h[k])&&(v[k]=w);for(;d<a;++d)u[d]=t[d];return new Cr(u,this._parents,this._name,this._id)}function rC(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function aC(e,t,r){var a,s,l=rC(t)?jg:ar;return function(){var u=l(this,e),d=u.on;d!==a&&(s=(a=d).copy()).on(t,r),u.on=s}}function iC(e,t){var r=this._id;return arguments.length<2?Yn(this.node(),r).on.on(e):this.each(aC(r,e,t))}function sC(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function oC(){return this.on("end.remove",sC(this._id))}function lC(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Tg(e));for(var a=this._groups,s=a.length,l=new Array(s),u=0;u<s;++u)for(var d=a[u],f=d.length,h=l[u]=new Array(f),g,v,w=0;w<f;++w)(g=d[w])&&(v=e.call(g,g.__data__,w,d))&&("__data__"in g&&(v.__data__=g.__data__),h[w]=v,ld(h[w],t,r,w,h,Yn(g,r)));return new Cr(l,this._parents,t,r)}function uC(e){var t=this._name,r=this._id;typeof e!="function"&&(e=R1(e));for(var a=this._groups,s=a.length,l=[],u=[],d=0;d<s;++d)for(var f=a[d],h=f.length,g,v=0;v<h;++v)if(g=f[v]){for(var w=e.call(g,g.__data__,v,f),k,A=Yn(g,r),N=0,j=w.length;N<j;++N)(k=w[N])&&ld(k,t,r,N,w,A);l.push(w),u.push(g)}return new Cr(l,u,t,r)}var cC=Ol.prototype.constructor;function dC(){return new cC(this._groups,this._parents)}function fC(e,t){var r,a,s;return function(){var l=Ds(this,e),u=(this.style.removeProperty(e),Ds(this,e));return l===u?null:l===r&&u===a?s:s=t(r=l,a=u)}}function nx(e){return function(){this.style.removeProperty(e)}}function hC(e,t,r){var a,s=r+"",l;return function(){var u=Ds(this,e);return u===s?null:u===a?l:l=t(a=u,r)}}function mC(e,t,r){var a,s,l;return function(){var u=Ds(this,e),d=r(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(e),Ds(this,e))),u===f?null:u===a&&f===s?l:(s=f,l=t(a=u,d))}}function gC(e,t){var r,a,s,l="style."+t,u="end."+l,d;return function(){var f=ar(this,e),h=f.on,g=f.value[l]==null?d||(d=nx(t)):void 0;(h!==r||s!==g)&&(a=(r=h).copy()).on(u,s=g),f.on=a}}function pC(e,t,r){var a=(e+="")=="transform"?pA:tx;return t==null?this.styleTween(e,fC(e,a)).on("end.style."+e,nx(e)):typeof t=="function"?this.styleTween(e,mC(e,a,Rg(this,"style."+e,t))).each(gC(this._id,e)):this.styleTween(e,hC(e,a,t),r).on("end.style."+e,null)}function yC(e,t,r){return function(a){this.style.setProperty(e,t.call(this,a),r)}}function vC(e,t,r){var a,s;function l(){var u=t.apply(this,arguments);return u!==s&&(a=(s=u)&&yC(e,u,r)),a}return l._value=t,l}function bC(e,t,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(t==null)return this.tween(a,null);if(typeof t!="function")throw new Error;return this.tween(a,vC(e,t,r??""))}function wC(e){return function(){this.textContent=e}}function _C(e){return function(){var t=e(this);this.textContent=t??""}}function xC(e){return this.tween("text",typeof e=="function"?_C(Rg(this,"text",e)):wC(e==null?"":e+""))}function SC(e){return function(t){this.textContent=e.call(this,t)}}function EC(e){var t,r;function a(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&SC(s)),t}return a._value=e,a}function kC(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,EC(e))}function TC(){for(var e=this._name,t=this._id,r=rx(),a=this._groups,s=a.length,l=0;l<s;++l)for(var u=a[l],d=u.length,f,h=0;h<d;++h)if(f=u[h]){var g=Yn(f,t);ld(f,e,r,h,u,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new Cr(a,this._parents,e,r)}function AC(){var e,t,r=this,a=r._id,s=r.size();return new Promise(function(l,u){var d={value:u},f={value:function(){--s===0&&l()}};r.each(function(){var h=ar(this,a),g=h.on;g!==e&&(t=(e=g).copy(),t._.cancel.push(d),t._.interrupt.push(d),t._.end.push(f)),h.on=t}),s===0&&l()})}var CC=0;function Cr(e,t,r,a){this._groups=e,this._parents=t,this._name=r,this._id=a}function rx(){return++CC}var xr=Ol.prototype;Cr.prototype={constructor:Cr,select:lC,selectAll:uC,selectChild:xr.selectChild,selectChildren:xr.selectChildren,filter:tC,merge:nC,selection:dC,transition:TC,call:xr.call,nodes:xr.nodes,node:xr.node,size:xr.size,empty:xr.empty,each:xr.each,on:iC,attr:BA,attrTween:qA,style:pC,styleTween:bC,text:xC,textTween:kC,remove:oC,tween:RA,delay:FA,duration:ZA,ease:WA,easeVarying:eC,end:AC,[Symbol.iterator]:xr[Symbol.iterator]};function NC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var MC={time:null,delay:0,duration:250,ease:NC};function jC(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function RC(e){var t,r;e instanceof Cr?(t=e._id,e=e._name):(t=rx(),(r=MC).time=Mg(),e=e==null?null:e+"");for(var a=this._groups,s=a.length,l=0;l<s;++l)for(var u=a[l],d=u.length,f,h=0;h<d;++h)(f=u[h])&&ld(f,e,t,h,u,r||jC(f,t));return new Cr(a,this._parents,e,t)}Ol.prototype.interrupt=NA;Ol.prototype.transition=RC;const fc=e=>()=>e;function DC(e,{sourceEvent:t,target:r,transform:a,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function Ar(e,t,r){this.k=e,this.x=t,this.y=r}Ar.prototype={constructor:Ar,scale:function(e){return e===1?this:new Ar(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ar(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _a=new Ar(1,0,0);Ar.prototype;function Ih(e){e.stopImmediatePropagation()}function Go(e){e.preventDefault(),e.stopImmediatePropagation()}function OC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function zC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Yb(){return this.__zoom||_a}function LC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function PC(){return navigator.maxTouchPoints||"ontouchstart"in this}function $C(e,t,r){var a=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],l=e.invertY(t[0][1])-r[0][1],u=e.invertY(t[1][1])-r[1][1];return e.translate(s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s),u>l?(l+u)/2:Math.min(0,l)||Math.max(0,u))}function BC(){var e=OC,t=zC,r=$C,a=LC,s=PC,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],d=250,f=_A,h=id("start","zoom","end"),g,v,w,k=500,A=150,N=0,j=10;function R(O){O.property("__zoom",Yb).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",z).filter(s).on("touchstart.zoom",U).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",Q).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(O,q,E,V){var H=O.selection?O.selection():O;H.property("__zoom",Yb),O!==H?_(O,q,E,V):H.interrupt().each(function(){b(this,arguments).event(V).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},R.scaleBy=function(O,q,E,V){R.scaleTo(O,function(){var H=this.__zoom.k,I=typeof q=="function"?q.apply(this,arguments):q;return H*I},E,V)},R.scaleTo=function(O,q,E,V){R.transform(O,function(){var H=t.apply(this,arguments),I=this.__zoom,D=E==null?p(H):typeof E=="function"?E.apply(this,arguments):E,G=I.invert(D),te=typeof q=="function"?q.apply(this,arguments):q;return r(B($(I,te),D,G),H,u)},E,V)},R.translateBy=function(O,q,E,V){R.transform(O,function(){return r(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof E=="function"?E.apply(this,arguments):E),t.apply(this,arguments),u)},null,V)},R.translateTo=function(O,q,E,V,H){R.transform(O,function(){var I=t.apply(this,arguments),D=this.__zoom,G=V==null?p(I):typeof V=="function"?V.apply(this,arguments):V;return r(_a.translate(G[0],G[1]).scale(D.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof E=="function"?-E.apply(this,arguments):-E),I,u)},V,H)};function $(O,q){return q=Math.max(l[0],Math.min(l[1],q)),q===O.k?O:new Ar(q,O.x,O.y)}function B(O,q,E){var V=q[0]-E[0]*O.k,H=q[1]-E[1]*O.k;return V===O.x&&H===O.y?O:new Ar(O.k,V,H)}function p(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function _(O,q,E,V){O.on("start.zoom",function(){b(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(V).end()}).tween("zoom",function(){var H=this,I=arguments,D=b(H,I).event(V),G=t.apply(H,I),te=E==null?p(G):typeof E=="function"?E.apply(H,I):E,Z=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),J=H.__zoom,ee=typeof q=="function"?q.apply(H,I):q,Y=f(J.invert(te).concat(Z/J.k),ee.invert(te).concat(Z/ee.k));return function(K){if(K===1)K=ee;else{var ne=Y(K),fe=Z/ne[2];K=new Ar(fe,te[0]-ne[0]*fe,te[1]-ne[1]*fe)}D.zoom(null,K)}})}function b(O,q,E){return!E&&O.__zooming||new S(O,q)}function S(O,q){this.that=O,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,q),this.taps=0}S.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,q){return this.mouse&&O!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var q=Vn(this.that).datum();h.call(O,this.that,new DC(O,{sourceEvent:this.sourceEvent,target:R,transform:this.that.__zoom,dispatch:h}),q)}};function C(O,...q){if(!e.apply(this,arguments))return;var E=b(this,q).event(O),V=this.__zoom,H=Math.max(l[0],Math.min(l[1],V.k*Math.pow(2,a.apply(this,arguments)))),I=Jn(O);if(E.wheel)(E.mouse[0][0]!==I[0]||E.mouse[0][1]!==I[1])&&(E.mouse[1]=V.invert(E.mouse[0]=I)),clearTimeout(E.wheel);else{if(V.k===H)return;E.mouse=[I,V.invert(I)],jc(this),E.start()}Go(O),E.wheel=setTimeout(D,A),E.zoom("mouse",r(B($(V,H),E.mouse[0],E.mouse[1]),E.extent,u));function D(){E.wheel=null,E.end()}}function L(O,...q){if(w||!e.apply(this,arguments))return;var E=O.currentTarget,V=b(this,q,!0).event(O),H=Vn(O.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",Z,!0),I=Jn(O,E),D=O.clientX,G=O.clientY;I1(O.view),Ih(O),V.mouse=[I,this.__zoom.invert(I)],jc(this),V.start();function te(J){if(Go(J),!V.moved){var ee=J.clientX-D,Y=J.clientY-G;V.moved=ee*ee+Y*Y>N}V.event(J).zoom("mouse",r(B(V.that.__zoom,V.mouse[0]=Jn(J,E),V.mouse[1]),V.extent,u))}function Z(J){H.on("mousemove.zoom mouseup.zoom",null),q1(J.view,V.moved),Go(J),V.event(J).end()}}function z(O,...q){if(e.apply(this,arguments)){var E=this.__zoom,V=Jn(O.changedTouches?O.changedTouches[0]:O,this),H=E.invert(V),I=E.k*(O.shiftKey?.5:2),D=r(B($(E,I),V,H),t.apply(this,q),u);Go(O),d>0?Vn(this).transition().duration(d).call(_,D,V,O):Vn(this).call(R.transform,D,V,O)}}function U(O,...q){if(e.apply(this,arguments)){var E=O.touches,V=E.length,H=b(this,q,O.changedTouches.length===V).event(O),I,D,G,te;for(Ih(O),D=0;D<V;++D)G=E[D],te=Jn(G,this),te=[te,this.__zoom.invert(te),G.identifier],H.touch0?!H.touch1&&H.touch0[2]!==te[2]&&(H.touch1=te,H.taps=0):(H.touch0=te,I=!0,H.taps=1+!!g);g&&(g=clearTimeout(g)),I&&(H.taps<2&&(v=te[0],g=setTimeout(function(){g=null},k)),jc(this),H.start())}}function X(O,...q){if(this.__zooming){var E=b(this,q).event(O),V=O.changedTouches,H=V.length,I,D,G,te;for(Go(O),I=0;I<H;++I)D=V[I],G=Jn(D,this),E.touch0&&E.touch0[2]===D.identifier?E.touch0[0]=G:E.touch1&&E.touch1[2]===D.identifier&&(E.touch1[0]=G);if(D=E.that.__zoom,E.touch1){var Z=E.touch0[0],J=E.touch0[1],ee=E.touch1[0],Y=E.touch1[1],K=(K=ee[0]-Z[0])*K+(K=ee[1]-Z[1])*K,ne=(ne=Y[0]-J[0])*ne+(ne=Y[1]-J[1])*ne;D=$(D,Math.sqrt(K/ne)),G=[(Z[0]+ee[0])/2,(Z[1]+ee[1])/2],te=[(J[0]+Y[0])/2,(J[1]+Y[1])/2]}else if(E.touch0)G=E.touch0[0],te=E.touch0[1];else return;E.zoom("touch",r(B(D,G,te),E.extent,u))}}function Q(O,...q){if(this.__zooming){var E=b(this,q).event(O),V=O.changedTouches,H=V.length,I,D;for(Ih(O),w&&clearTimeout(w),w=setTimeout(function(){w=null},k),I=0;I<H;++I)D=V[I],E.touch0&&E.touch0[2]===D.identifier?delete E.touch0:E.touch1&&E.touch1[2]===D.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(D=Jn(D,this),Math.hypot(v[0]-D[0],v[1]-D[1])<j)){var G=Vn(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return R.wheelDelta=function(O){return arguments.length?(a=typeof O=="function"?O:fc(+O),R):a},R.filter=function(O){return arguments.length?(e=typeof O=="function"?O:fc(!!O),R):e},R.touchable=function(O){return arguments.length?(s=typeof O=="function"?O:fc(!!O),R):s},R.extent=function(O){return arguments.length?(t=typeof O=="function"?O:fc([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),R):t},R.scaleExtent=function(O){return arguments.length?(l[0]=+O[0],l[1]=+O[1],R):[l[0],l[1]]},R.translateExtent=function(O){return arguments.length?(u[0][0]=+O[0][0],u[1][0]=+O[1][0],u[0][1]=+O[0][1],u[1][1]=+O[1][1],R):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},R.constrain=function(O){return arguments.length?(r=O,R):r},R.duration=function(O){return arguments.length?(d=+O,R):d},R.interpolate=function(O){return arguments.length?(f=O,R):f},R.on=function(){var O=h.on.apply(h,arguments);return O===h?R:O},R.clickDistance=function(O){return arguments.length?(N=(O=+O)*O,R):Math.sqrt(N)},R.tapDistance=function(O){return arguments.length?(j=+O,R):j},R}var zm=N1();const ud=M.createContext(null),UC=ud.Provider,Nr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},ax=Nr.error001();function tt(e,t){const r=M.useContext(ud);if(r===null)throw new Error(ax);return M1(r,e,t)}const At=()=>{const e=M.useContext(ud);if(e===null)throw new Error(ax);return M.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},VC=e=>e.userSelectionActive?"none":"all";function ix({position:e,children:t,className:r,style:a,...s}){const l=tt(VC),u=`${e}`.split("-");return le.createElement("div",{className:It(["react-flow__panel",r,...u]),style:{...a,pointerEvents:l},...s},t)}function HC({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:le.createElement(ix,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},le.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const IC=({x:e,y:t,label:r,labelStyle:a={},labelShowBg:s=!0,labelBgStyle:l={},labelBgPadding:u=[2,4],labelBgBorderRadius:d=2,children:f,className:h,...g})=>{const v=M.useRef(null),[w,k]=M.useState({x:0,y:0,width:0,height:0}),A=It(["react-flow__edge-textwrapper",h]);return M.useEffect(()=>{if(v.current){const N=v.current.getBBox();k({x:N.x,y:N.y,width:N.width,height:N.height})}},[r]),typeof r>"u"||!r?null:le.createElement("g",{transform:`translate(${e-w.width/2} ${t-w.height/2})`,className:A,visibility:w.width?"visible":"hidden",...g},s&&le.createElement("rect",{width:w.width+2*u[0],x:-u[0],y:-u[1],height:w.height+2*u[1],className:"react-flow__edge-textbg",style:l,rx:d,ry:d}),le.createElement("text",{className:"react-flow__edge-text",y:w.height/2,dy:"0.3em",ref:v,style:a},r),f)};var qC=M.memo(IC);const Dg=e=>({width:e.offsetWidth,height:e.offsetHeight}),zs=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Og=(e={x:0,y:0},t)=>({x:zs(e.x,t[0][0],t[1][0]),y:zs(e.y,t[0][1],t[1][1])}),Fb=(e,t,r)=>e<t?zs(Math.abs(e-t),1,50)/50:e>r?-zs(Math.abs(e-r),1,50)/50:0,sx=(e,t)=>{const r=Fb(e.x,35,t.width-35)*20,a=Fb(e.y,35,t.height-35)*20;return[r,a]},ox=e=>e.getRootNode?.()||window?.document,GC=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),zg=({x:e,y:t,width:r,height:a})=>({x:e,y:t,x2:e+r,y2:t+a}),YC=({x:e,y:t,x2:r,y2:a})=>({x:e,y:t,width:r-e,height:a-t}),Kb=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Lm=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),a=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*a)},FC=e=>An(e.width)&&An(e.height)&&An(e.x)&&An(e.y),An=e=>!isNaN(e)&&isFinite(e),st=Symbol.for("internals"),lx=["Enter"," ","Escape"],KC=(e,t)=>{},XC=e=>"nativeEvent"in e;function Pm(e){const r=(XC(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r?.nodeName)||r?.hasAttribute("contenteditable")||!!r?.closest(".nokey")}const ux=e=>"clientX"in e,xa=(e,t)=>{const r=ux(e),a=r?e.clientX:e.touches?.[0].clientX,s=r?e.clientY:e.touches?.[0].clientY;return{x:a-(t?.left??0),y:s-(t?.top??0)}},Yc=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Ll=({id:e,path:t,labelX:r,labelY:a,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:v,markerStart:w,interactionWidth:k=20})=>le.createElement(le.Fragment,null,le.createElement("path",{id:e,style:g,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:v,markerStart:w}),k&&le.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:k,className:"react-flow__edge-interaction"}),s&&An(r)&&An(a)?le.createElement(qC,{x:r,y:a,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h}):null);Ll.displayName="BaseEdge";function Yo(e,t,r){return r===void 0?r:a=>{const s=t().edges.find(l=>l.id===e);s&&r(a,{...s})}}function cx({sourceX:e,sourceY:t,targetX:r,targetY:a}){const s=Math.abs(r-e)/2,l=r<e?r+s:r-s,u=Math.abs(a-t)/2,d=a<t?a+u:a-u;return[l,d,s,u]}function dx({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:d}){const f=e*.125+s*.375+u*.375+r*.125,h=t*.125+l*.375+d*.375+a*.125,g=Math.abs(f-e),v=Math.abs(h-t);return[f,h,g,v]}var Ea;(function(e){e.Strict="strict",e.Loose="loose"})(Ea||(Ea={}));var li;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(li||(li={}));var _l;(function(e){e.Partial="partial",e.Full="full"})(_l||(_l={}));var ga;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(ga||(ga={}));var Sa;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Sa||(Sa={}));var ve;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ve||(ve={}));function Xb({pos:e,x1:t,y1:r,x2:a,y2:s}){return e===ve.Left||e===ve.Right?[.5*(t+a),r]:[t,.5*(r+s)]}function fx({sourceX:e,sourceY:t,sourcePosition:r=ve.Bottom,targetX:a,targetY:s,targetPosition:l=ve.Top}){const[u,d]=Xb({pos:r,x1:e,y1:t,x2:a,y2:s}),[f,h]=Xb({pos:l,x1:a,y1:s,x2:e,y2:t}),[g,v,w,k]=dx({sourceX:e,sourceY:t,targetX:a,targetY:s,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${t} C${u},${d} ${f},${h} ${a},${s}`,g,v,w,k]}const Lg=M.memo(({sourceX:e,sourceY:t,targetX:r,targetY:a,sourcePosition:s=ve.Bottom,targetPosition:l=ve.Top,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:k,markerStart:A,interactionWidth:N})=>{const[j,R,$]=fx({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:a,targetPosition:l});return le.createElement(Ll,{path:j,labelX:R,labelY:$,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:k,markerStart:A,interactionWidth:N})});Lg.displayName="SimpleBezierEdge";const Zb={[ve.Left]:{x:-1,y:0},[ve.Right]:{x:1,y:0},[ve.Top]:{x:0,y:-1},[ve.Bottom]:{x:0,y:1}},ZC=({source:e,sourcePosition:t=ve.Bottom,target:r})=>t===ve.Left||t===ve.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Qb=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function QC({source:e,sourcePosition:t=ve.Bottom,target:r,targetPosition:a=ve.Top,center:s,offset:l}){const u=Zb[t],d=Zb[a],f={x:e.x+u.x*l,y:e.y+u.y*l},h={x:r.x+d.x*l,y:r.y+d.y*l},g=ZC({source:f,sourcePosition:t,target:h}),v=g.x!==0?"x":"y",w=g[v];let k=[],A,N;const j={x:0,y:0},R={x:0,y:0},[$,B,p,_]=cx({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(u[v]*d[v]===-1){A=s.x??$,N=s.y??B;const S=[{x:A,y:f.y},{x:A,y:h.y}],C=[{x:f.x,y:N},{x:h.x,y:N}];u[v]===w?k=v==="x"?S:C:k=v==="x"?C:S}else{const S=[{x:f.x,y:h.y}],C=[{x:h.x,y:f.y}];if(v==="x"?k=u.x===w?C:S:k=u.y===w?S:C,t===a){const Q=Math.abs(e[v]-r[v]);if(Q<=l){const O=Math.min(l-1,l-Q);u[v]===w?j[v]=(f[v]>e[v]?-1:1)*O:R[v]=(h[v]>r[v]?-1:1)*O}}if(t!==a){const Q=v==="x"?"y":"x",O=u[v]===d[Q],q=f[Q]>h[Q],E=f[Q]<h[Q];(u[v]===1&&(!O&&q||O&&E)||u[v]!==1&&(!O&&E||O&&q))&&(k=v==="x"?S:C)}const L={x:f.x+j.x,y:f.y+j.y},z={x:h.x+R.x,y:h.y+R.y},U=Math.max(Math.abs(L.x-k[0].x),Math.abs(z.x-k[0].x)),X=Math.max(Math.abs(L.y-k[0].y),Math.abs(z.y-k[0].y));U>=X?(A=(L.x+z.x)/2,N=k[0].y):(A=k[0].x,N=(L.y+z.y)/2)}return[[e,{x:f.x+j.x,y:f.y+j.y},...k,{x:h.x+R.x,y:h.y+R.y},r],A,N,p,_]}function WC(e,t,r,a){const s=Math.min(Qb(e,t)/2,Qb(t,r)/2,a),{x:l,y:u}=t;if(e.x===l&&l===r.x||e.y===u&&u===r.y)return`L${l} ${u}`;if(e.y===u){const h=e.x<r.x?-1:1,g=e.y<r.y?1:-1;return`L ${l+s*h},${u}Q ${l},${u} ${l},${u+s*g}`}const d=e.x<r.x?1:-1,f=e.y<r.y?-1:1;return`L ${l},${u+s*f}Q ${l},${u} ${l+s*d},${u}`}function $m({sourceX:e,sourceY:t,sourcePosition:r=ve.Bottom,targetX:a,targetY:s,targetPosition:l=ve.Top,borderRadius:u=5,centerX:d,centerY:f,offset:h=20}){const[g,v,w,k,A]=QC({source:{x:e,y:t},sourcePosition:r,target:{x:a,y:s},targetPosition:l,center:{x:d,y:f},offset:h});return[g.reduce((j,R,$)=>{let B="";return $>0&&$<g.length-1?B=WC(g[$-1],R,g[$+1],u):B=`${$===0?"M":"L"}${R.x} ${R.y}`,j+=B,j},""),v,w,k,A]}const cd=M.memo(({sourceX:e,sourceY:t,targetX:r,targetY:a,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:g,sourcePosition:v=ve.Bottom,targetPosition:w=ve.Top,markerEnd:k,markerStart:A,pathOptions:N,interactionWidth:j})=>{const[R,$,B]=$m({sourceX:e,sourceY:t,sourcePosition:v,targetX:r,targetY:a,targetPosition:w,borderRadius:N?.borderRadius,offset:N?.offset});return le.createElement(Ll,{path:R,labelX:$,labelY:B,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:k,markerStart:A,interactionWidth:j})});cd.displayName="SmoothStepEdge";const Pg=M.memo(e=>le.createElement(cd,{...e,pathOptions:M.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));Pg.displayName="StepEdge";function JC({sourceX:e,sourceY:t,targetX:r,targetY:a}){const[s,l,u,d]=cx({sourceX:e,sourceY:t,targetX:r,targetY:a});return[`M ${e},${t}L ${r},${a}`,s,l,u,d]}const $g=M.memo(({sourceX:e,sourceY:t,targetX:r,targetY:a,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:v,markerStart:w,interactionWidth:k})=>{const[A,N,j]=JC({sourceX:e,sourceY:t,targetX:r,targetY:a});return le.createElement(Ll,{path:A,labelX:N,labelY:j,label:s,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:g,markerEnd:v,markerStart:w,interactionWidth:k})});$g.displayName="StraightEdge";function hc(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Wb({pos:e,x1:t,y1:r,x2:a,y2:s,c:l}){switch(e){case ve.Left:return[t-hc(t-a,l),r];case ve.Right:return[t+hc(a-t,l),r];case ve.Top:return[t,r-hc(r-s,l)];case ve.Bottom:return[t,r+hc(s-r,l)]}}function hx({sourceX:e,sourceY:t,sourcePosition:r=ve.Bottom,targetX:a,targetY:s,targetPosition:l=ve.Top,curvature:u=.25}){const[d,f]=Wb({pos:r,x1:e,y1:t,x2:a,y2:s,c:u}),[h,g]=Wb({pos:l,x1:a,y1:s,x2:e,y2:t,c:u}),[v,w,k,A]=dx({sourceX:e,sourceY:t,targetX:a,targetY:s,sourceControlX:d,sourceControlY:f,targetControlX:h,targetControlY:g});return[`M${e},${t} C${d},${f} ${h},${g} ${a},${s}`,v,w,k,A]}const Fc=M.memo(({sourceX:e,sourceY:t,targetX:r,targetY:a,sourcePosition:s=ve.Bottom,targetPosition:l=ve.Top,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:k,markerStart:A,pathOptions:N,interactionWidth:j})=>{const[R,$,B]=hx({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:a,targetPosition:l,curvature:N?.curvature});return le.createElement(Ll,{path:R,labelX:$,labelY:B,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:k,markerStart:A,interactionWidth:j})});Fc.displayName="BezierEdge";const Bg=M.createContext(null),e4=Bg.Provider;Bg.Consumer;const t4=()=>M.useContext(Bg),n4=e=>"id"in e&&"source"in e&&"target"in e,r4=({source:e,sourceHandle:t,target:r,targetHandle:a})=>`reactflow__edge-${e}${t||""}-${r}${a||""}`,Bm=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`,a4=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),i4=(e,t)=>{if(!e.source||!e.target)return t;let r;return n4(e)?r={...e}:r={...e,id:r4(e)},a4(r,t)?t:t.concat(r)},Um=({x:e,y:t},[r,a,s],l,[u,d])=>{const f={x:(e-r)/s,y:(t-a)/s};return l?{x:u*Math.round(f.x/u),y:d*Math.round(f.y/d)}:f},mx=({x:e,y:t},[r,a,s])=>({x:e*s+r,y:t*s+a}),Ms=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],a=(e.height??0)*t[1],s={x:e.position.x-r,y:e.position.y-a};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-a}:s}},Ug=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((a,s)=>{const{x:l,y:u}=Ms(s,t).positionAbsolute;return GC(a,zg({x:l,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return YC(r)},gx=(e,t,[r,a,s]=[0,0,1],l=!1,u=!1,d=[0,0])=>{const f={x:(t.x-r)/s,y:(t.y-a)/s,width:t.width/s,height:t.height/s},h=[];return e.forEach(g=>{const{width:v,height:w,selectable:k=!0,hidden:A=!1}=g;if(u&&!k||A)return!1;const{positionAbsolute:N}=Ms(g,d),j={x:N.x,y:N.y,width:v||0,height:w||0},R=Lm(f,j),$=typeof v>"u"||typeof w>"u"||v===null||w===null,B=l&&R>0,p=(v||0)*(w||0);($||B||R>=p||g.dragging)&&h.push(g)}),h},px=(e,t)=>{const r=e.map(a=>a.id);return t.filter(a=>r.includes(a.source)||r.includes(a.target))},yx=(e,t,r,a,s,l=.1)=>{const u=t/(e.width*(1+l)),d=r/(e.height*(1+l)),f=Math.min(u,d),h=zs(f,a,s),g=e.x+e.width/2,v=e.y+e.height/2,w=t/2-g*h,k=r/2-v*h;return{x:w,y:k,zoom:h}},ni=(e,t=0)=>e.transition().duration(t);function Jb(e,t,r,a){return(t[r]||[]).reduce((s,l)=>(`${e.id}-${l.id}-${r}`!==a&&s.push({id:l.id||null,type:r,nodeId:e.id,x:(e.positionAbsolute?.x??0)+l.x+l.width/2,y:(e.positionAbsolute?.y??0)+l.y+l.height/2}),s),[])}function s4(e,t,r,a,s,l){const{x:u,y:d}=xa(e),h=t.elementsFromPoint(u,d).find(A=>A.classList.contains("react-flow__handle"));if(h){const A=h.getAttribute("data-nodeid");if(A){const N=Vg(void 0,h),j=h.getAttribute("data-handleid"),R=l({nodeId:A,id:j,type:N});if(R){const $=s.find(B=>B.nodeId===A&&B.type===N&&B.id===j);return{handle:{id:j,type:N,nodeId:A,x:$?.x||r.x,y:$?.y||r.y},validHandleResult:R}}}}let g=[],v=1/0;if(s.forEach(A=>{const N=Math.sqrt((A.x-r.x)**2+(A.y-r.y)**2);if(N<=a){const j=l(A);N<=v&&(N<v?g=[{handle:A,validHandleResult:j}]:N===v&&g.push({handle:A,validHandleResult:j}),v=N)}}),!g.length)return{handle:null,validHandleResult:vx()};if(g.length===1)return g[0];const w=g.some(({validHandleResult:A})=>A.isValid),k=g.some(({handle:A})=>A.type==="target");return g.find(({handle:A,validHandleResult:N})=>k?A.type==="target":w?N.isValid:!0)||g[0]}const o4={source:null,target:null,sourceHandle:null,targetHandle:null},vx=()=>({handleDomNode:null,isValid:!1,connection:o4,endHandle:null});function bx(e,t,r,a,s,l,u){const d=s==="target",f=u.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),h={...vx(),handleDomNode:f};if(f){const g=Vg(void 0,f),v=f.getAttribute("data-nodeid"),w=f.getAttribute("data-handleid"),k=f.classList.contains("connectable"),A=f.classList.contains("connectableend"),N={source:d?v:r,sourceHandle:d?w:a,target:d?r:v,targetHandle:d?a:w};h.connection=N,k&&A&&(t===Ea.Strict?d&&g==="source"||!d&&g==="target":v!==r||w!==a)&&(h.endHandle={nodeId:v,handleId:w,type:g},h.isValid=l(N))}return h}function l4({nodes:e,nodeId:t,handleId:r,handleType:a}){return e.reduce((s,l)=>{if(l[st]){const{handleBounds:u}=l[st];let d=[],f=[];u&&(d=Jb(l,u,"source",`${t}-${r}-${a}`),f=Jb(l,u,"target",`${t}-${r}-${a}`)),s.push(...d,...f)}return s},[])}function Vg(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function qh(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function u4(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function wx({event:e,handleId:t,nodeId:r,onConnect:a,isTarget:s,getState:l,setState:u,isValidConnection:d,edgeUpdaterType:f,onReconnectEnd:h}){const g=ox(e.target),{connectionMode:v,domNode:w,autoPanOnConnect:k,connectionRadius:A,onConnectStart:N,panBy:j,getNodes:R,cancelConnection:$}=l();let B=0,p;const{x:_,y:b}=xa(e),S=g?.elementFromPoint(_,b),C=Vg(f,S),L=w?.getBoundingClientRect();if(!L||!C)return;let z,U=xa(e,L),X=!1,Q=null,O=!1,q=null;const E=l4({nodes:R(),nodeId:r,handleId:t,handleType:C}),V=()=>{if(!k)return;const[D,G]=sx(U,L);j({x:D,y:G}),B=requestAnimationFrame(V)};u({connectionPosition:U,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:r,handleId:t,type:C},connectionEndHandle:null}),N?.(e,{nodeId:r,handleId:t,handleType:C});function H(D){const{transform:G}=l();U=xa(D,L);const{handle:te,validHandleResult:Z}=s4(D,g,Um(U,G,!1,[1,1]),A,E,J=>bx(J,v,r,t,s?"target":"source",d,g));if(p=te,X||(V(),X=!0),q=Z.handleDomNode,Q=Z.connection,O=Z.isValid,u({connectionPosition:p&&O?mx({x:p.x,y:p.y},G):U,connectionStatus:u4(!!p,O),connectionEndHandle:Z.endHandle}),!p&&!O&&!q)return qh(z);Q.source!==Q.target&&q&&(qh(z),z=q,q.classList.add("connecting","react-flow__handle-connecting"),q.classList.toggle("valid",O),q.classList.toggle("react-flow__handle-valid",O))}function I(D){(p||q)&&Q&&O&&a?.(Q),l().onConnectEnd?.(D),f&&h?.(D),qh(z),$(),cancelAnimationFrame(B),X=!1,O=!1,Q=null,q=null,g.removeEventListener("mousemove",H),g.removeEventListener("mouseup",I),g.removeEventListener("touchmove",H),g.removeEventListener("touchend",I)}g.addEventListener("mousemove",H),g.addEventListener("mouseup",I),g.addEventListener("touchmove",H),g.addEventListener("touchend",I)}const ew=()=>!0,c4=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),d4=(e,t,r)=>a=>{const{connectionStartHandle:s,connectionEndHandle:l,connectionClickStartHandle:u}=a;return{connecting:s?.nodeId===e&&s?.handleId===t&&s?.type===r||l?.nodeId===e&&l?.handleId===t&&l?.type===r,clickConnecting:u?.nodeId===e&&u?.handleId===t&&u?.type===r}},_x=M.forwardRef(({type:e="source",position:t=ve.Top,isValidConnection:r,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:u,onConnect:d,children:f,className:h,onMouseDown:g,onTouchStart:v,...w},k)=>{const A=u||null,N=e==="target",j=At(),R=t4(),{connectOnClick:$,noPanClassName:B}=tt(c4,Pt),{connecting:p,clickConnecting:_}=tt(d4(R,A,e),Pt);R||j.getState().onError?.("010",Nr.error010());const b=L=>{const{defaultEdgeOptions:z,onConnect:U,hasDefaultEdges:X}=j.getState(),Q={...z,...L};if(X){const{edges:O,setEdges:q}=j.getState();q(i4(Q,O))}U?.(Q),d?.(Q)},S=L=>{if(!R)return;const z=ux(L);s&&(z&&L.button===0||!z)&&wx({event:L,handleId:A,nodeId:R,onConnect:b,isTarget:N,getState:j.getState,setState:j.setState,isValidConnection:r||j.getState().isValidConnection||ew}),z?g?.(L):v?.(L)},C=L=>{const{onClickConnectStart:z,onClickConnectEnd:U,connectionClickStartHandle:X,connectionMode:Q,isValidConnection:O}=j.getState();if(!R||!X&&!s)return;if(!X){z?.(L,{nodeId:R,handleId:A,handleType:e}),j.setState({connectionClickStartHandle:{nodeId:R,type:e,handleId:A}});return}const q=ox(L.target),E=r||O||ew,{connection:V,isValid:H}=bx({nodeId:R,id:A,type:e},Q,X.nodeId,X.handleId||null,X.type,E,q);H&&b(V),U?.(L),j.setState({connectionClickStartHandle:null})};return le.createElement("div",{"data-handleid":A,"data-nodeid":R,"data-handlepos":t,"data-id":`${R}-${A}-${e}`,className:It(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",B,h,{source:!N,target:N,connectable:a,connectablestart:s,connectableend:l,connecting:_,connectionindicator:a&&(s&&!p||l&&p)}]),onMouseDown:S,onTouchStart:S,onClick:$?C:void 0,ref:k,...w},f)});_x.displayName="Handle";var Vt=M.memo(_x);const xx=({data:e,isConnectable:t,targetPosition:r=ve.Top,sourcePosition:a=ve.Bottom})=>le.createElement(le.Fragment,null,le.createElement(Vt,{type:"target",position:r,isConnectable:t}),e?.label,le.createElement(Vt,{type:"source",position:a,isConnectable:t}));xx.displayName="DefaultNode";var Vm=M.memo(xx);const Sx=({data:e,isConnectable:t,sourcePosition:r=ve.Bottom})=>le.createElement(le.Fragment,null,e?.label,le.createElement(Vt,{type:"source",position:r,isConnectable:t}));Sx.displayName="InputNode";var Ex=M.memo(Sx);const kx=({data:e,isConnectable:t,targetPosition:r=ve.Top})=>le.createElement(le.Fragment,null,le.createElement(Vt,{type:"target",position:r,isConnectable:t}),e?.label);kx.displayName="OutputNode";var Tx=M.memo(kx);const Hg=()=>null;Hg.displayName="GroupNode";const f4=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),mc=e=>e.id;function h4(e,t){return Pt(e.selectedNodes.map(mc),t.selectedNodes.map(mc))&&Pt(e.selectedEdges.map(mc),t.selectedEdges.map(mc))}const Ax=M.memo(({onSelectionChange:e})=>{const t=At(),{selectedNodes:r,selectedEdges:a}=tt(f4,h4);return M.useEffect(()=>{const s={nodes:r,edges:a};e?.(s),t.getState().onSelectionChange.forEach(l=>l(s))},[r,a,e]),null});Ax.displayName="SelectionListener";const m4=e=>!!e.onSelectionChange;function g4({onSelectionChange:e}){const t=tt(m4);return e||t?le.createElement(Ax,{onSelectionChange:e}):null}const p4=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ts(e,t){M.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ze(e,t,r){M.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const y4=({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,onConnect:s,onConnectStart:l,onConnectEnd:u,onClickConnectStart:d,onClickConnectEnd:f,nodesDraggable:h,nodesConnectable:g,nodesFocusable:v,edgesFocusable:w,edgesUpdatable:k,elevateNodesOnSelect:A,minZoom:N,maxZoom:j,nodeExtent:R,onNodesChange:$,onEdgesChange:B,elementsSelectable:p,connectionMode:_,snapGrid:b,snapToGrid:S,translateExtent:C,connectOnClick:L,defaultEdgeOptions:z,fitView:U,fitViewOptions:X,onNodesDelete:Q,onEdgesDelete:O,onNodeDrag:q,onNodeDragStart:E,onNodeDragStop:V,onSelectionDrag:H,onSelectionDragStart:I,onSelectionDragStop:D,noPanClassName:G,nodeOrigin:te,rfId:Z,autoPanOnConnect:J,autoPanOnNodeDrag:ee,onError:Y,connectionRadius:K,isValidConnection:ne,nodeDragThreshold:fe})=>{const{setNodes:he,setEdges:ye,setDefaultNodesAndEdges:pe,setMinZoom:ge,setMaxZoom:je,setTranslateExtent:Ce,setNodeExtent:ot,reset:_e}=tt(p4,Pt),me=At();return M.useEffect(()=>{const Ee=a?.map(fn=>({...fn,...z}));return pe(r,Ee),()=>{_e()}},[]),ze("defaultEdgeOptions",z,me.setState),ze("connectionMode",_,me.setState),ze("onConnect",s,me.setState),ze("onConnectStart",l,me.setState),ze("onConnectEnd",u,me.setState),ze("onClickConnectStart",d,me.setState),ze("onClickConnectEnd",f,me.setState),ze("nodesDraggable",h,me.setState),ze("nodesConnectable",g,me.setState),ze("nodesFocusable",v,me.setState),ze("edgesFocusable",w,me.setState),ze("edgesUpdatable",k,me.setState),ze("elementsSelectable",p,me.setState),ze("elevateNodesOnSelect",A,me.setState),ze("snapToGrid",S,me.setState),ze("snapGrid",b,me.setState),ze("onNodesChange",$,me.setState),ze("onEdgesChange",B,me.setState),ze("connectOnClick",L,me.setState),ze("fitViewOnInit",U,me.setState),ze("fitViewOnInitOptions",X,me.setState),ze("onNodesDelete",Q,me.setState),ze("onEdgesDelete",O,me.setState),ze("onNodeDrag",q,me.setState),ze("onNodeDragStart",E,me.setState),ze("onNodeDragStop",V,me.setState),ze("onSelectionDrag",H,me.setState),ze("onSelectionDragStart",I,me.setState),ze("onSelectionDragStop",D,me.setState),ze("noPanClassName",G,me.setState),ze("nodeOrigin",te,me.setState),ze("rfId",Z,me.setState),ze("autoPanOnConnect",J,me.setState),ze("autoPanOnNodeDrag",ee,me.setState),ze("onError",Y,me.setState),ze("connectionRadius",K,me.setState),ze("isValidConnection",ne,me.setState),ze("nodeDragThreshold",fe,me.setState),ts(e,he),ts(t,ye),ts(N,ge),ts(j,je),ts(C,Ce),ts(R,ot),null},tw={display:"none"},v4={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Cx="react-flow__node-desc",Nx="react-flow__edge-desc",b4="react-flow__aria-live",w4=e=>e.ariaLiveMessage;function _4({rfId:e}){const t=tt(w4);return le.createElement("div",{id:`${b4}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:v4},t)}function x4({rfId:e,disableKeyboardA11y:t}){return le.createElement(le.Fragment,null,le.createElement("div",{id:`${Cx}-${e}`,style:tw},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),le.createElement("div",{id:`${Nx}-${e}`,style:tw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&le.createElement(_4,{rfId:e}))}var xl=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,a]=M.useState(!1),s=M.useRef(!1),l=M.useRef(new Set([])),[u,d]=M.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(v=>typeof v=="string").map(v=>v.split("+")),g=h.reduce((v,w)=>v.concat(...w),[]);return[h,g]}return[[],[]]},[e]);return M.useEffect(()=>{const f=typeof document<"u"?document:null,h=t?.target||f;if(e!==null){const g=k=>{if(s.current=k.ctrlKey||k.metaKey||k.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&Pm(k))return!1;const N=rw(k.code,d);l.current.add(k[N]),nw(u,l.current,!1)&&(k.preventDefault(),a(!0))},v=k=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&Pm(k))return!1;const N=rw(k.code,d);nw(u,l.current,!0)?(a(!1),l.current.clear()):l.current.delete(k[N]),k.key==="Meta"&&l.current.clear(),s.current=!1},w=()=>{l.current.clear(),a(!1)};return h?.addEventListener("keydown",g),h?.addEventListener("keyup",v),window.addEventListener("blur",w),()=>{h?.removeEventListener("keydown",g),h?.removeEventListener("keyup",v),window.removeEventListener("blur",w)}}},[e,a]),r};function nw(e,t,r){return e.filter(a=>r||a.length===t.size).some(a=>a.every(s=>t.has(s)))}function rw(e,t){return t.includes(e)?"code":"key"}function Mx(e,t,r,a){const s=e.parentNode||e.parentId;if(!s)return r;const l=t.get(s),u=Ms(l,a);return Mx(l,t,{x:(r.x??0)+u.x,y:(r.y??0)+u.y,z:(l[st]?.z??0)>(r.z??0)?l[st]?.z??0:r.z??0},a)}function jx(e,t,r){e.forEach(a=>{const s=a.parentNode||a.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||r?.[a.id]){const{x:l,y:u,z:d}=Mx(a,e,{...a.position,z:a[st]?.z??0},t);a.positionAbsolute={x:l,y:u},a[st].z=d,r?.[a.id]&&(a[st].isParent=!0)}})}function Gh(e,t,r,a){const s=new Map,l={},u=a?1e3:0;return e.forEach(d=>{const f=(An(d.zIndex)?d.zIndex:0)+(d.selected?u:0),h=t.get(d.id),g={...d,positionAbsolute:{x:d.position.x,y:d.position.y}},v=d.parentNode||d.parentId;v&&(l[v]=!0);const w=h?.type&&h?.type!==d.type;Object.defineProperty(g,st,{enumerable:!1,value:{handleBounds:w?void 0:h?.[st]?.handleBounds,z:f}}),s.set(d.id,g)}),jx(s,r,l),s}function Rx(e,t={}){const{getNodes:r,width:a,height:s,minZoom:l,maxZoom:u,d3Zoom:d,d3Selection:f,fitViewOnInitDone:h,fitViewOnInit:g,nodeOrigin:v}=e(),w=t.initial&&!h&&g;if(d&&f&&(w||!t.initial)){const A=r().filter(j=>{const R=t.includeHiddenNodes?j.width&&j.height:!j.hidden;return t.nodes?.length?R&&t.nodes.some($=>$.id===j.id):R}),N=A.every(j=>j.width&&j.height);if(A.length>0&&N){const j=Ug(A,v),{x:R,y:$,zoom:B}=yx(j,a,s,t.minZoom??l,t.maxZoom??u,t.padding??.1),p=_a.translate(R,$).scale(B);return typeof t.duration=="number"&&t.duration>0?d.transform(ni(f,t.duration),p):d.transform(f,p),!0}}return!1}function S4(e,t){return e.forEach(r=>{const a=t.get(r.id);a&&t.set(a.id,{...a,[st]:a[st],selected:r.selected})}),new Map(t)}function E4(e,t){return t.map(r=>{const a=e.find(s=>s.id===r.id);return a&&(r.selected=a.selected),r})}function gc({changedNodes:e,changedEdges:t,get:r,set:a}){const{nodeInternals:s,edges:l,onNodesChange:u,onEdgesChange:d,hasDefaultNodes:f,hasDefaultEdges:h}=r();e?.length&&(f&&a({nodeInternals:S4(e,s)}),u?.(e)),t?.length&&(h&&a({edges:E4(t,l)}),d?.(t))}const ns=()=>{},k4={zoomIn:ns,zoomOut:ns,zoomTo:ns,getZoom:()=>1,setViewport:ns,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ns,fitBounds:ns,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},T4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),A4=()=>{const e=At(),{d3Zoom:t,d3Selection:r}=tt(T4,Pt);return M.useMemo(()=>r&&t?{zoomIn:s=>t.scaleBy(ni(r,s?.duration),1.2),zoomOut:s=>t.scaleBy(ni(r,s?.duration),1/1.2),zoomTo:(s,l)=>t.scaleTo(ni(r,l?.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,l)=>{const[u,d,f]=e.getState().transform,h=_a.translate(s.x??u,s.y??d).scale(s.zoom??f);t.transform(ni(r,l?.duration),h)},getViewport:()=>{const[s,l,u]=e.getState().transform;return{x:s,y:l,zoom:u}},fitView:s=>Rx(e.getState,s),setCenter:(s,l,u)=>{const{width:d,height:f,maxZoom:h}=e.getState(),g=typeof u?.zoom<"u"?u.zoom:h,v=d/2-s*g,w=f/2-l*g,k=_a.translate(v,w).scale(g);t.transform(ni(r,u?.duration),k)},fitBounds:(s,l)=>{const{width:u,height:d,minZoom:f,maxZoom:h}=e.getState(),{x:g,y:v,zoom:w}=yx(s,u,d,f,h,l?.padding??.1),k=_a.translate(g,v).scale(w);t.transform(ni(r,l?.duration),k)},project:s=>{const{transform:l,snapToGrid:u,snapGrid:d}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Um(s,l,u,d)},screenToFlowPosition:s=>{const{transform:l,snapToGrid:u,snapGrid:d,domNode:f}=e.getState();if(!f)return s;const{x:h,y:g}=f.getBoundingClientRect(),v={x:s.x-h,y:s.y-g};return Um(v,l,u,d)},flowToScreenPosition:s=>{const{transform:l,domNode:u}=e.getState();if(!u)return s;const{x:d,y:f}=u.getBoundingClientRect(),h=mx(s,l);return{x:h.x+d,y:h.y+f}},viewportInitialized:!0}:k4,[t,r])};function Pl(){const e=A4(),t=At(),r=M.useCallback(()=>t.getState().getNodes().map(N=>({...N})),[]),a=M.useCallback(N=>t.getState().nodeInternals.get(N),[]),s=M.useCallback(()=>{const{edges:N=[]}=t.getState();return N.map(j=>({...j}))},[]),l=M.useCallback(N=>{const{edges:j=[]}=t.getState();return j.find(R=>R.id===N)},[]),u=M.useCallback(N=>{const{getNodes:j,setNodes:R,hasDefaultNodes:$,onNodesChange:B}=t.getState(),p=j(),_=typeof N=="function"?N(p):N;if($)R(_);else if(B){const b=_.length===0?p.map(S=>({type:"remove",id:S.id})):_.map(S=>({item:S,type:"reset"}));B(b)}},[]),d=M.useCallback(N=>{const{edges:j=[],setEdges:R,hasDefaultEdges:$,onEdgesChange:B}=t.getState(),p=typeof N=="function"?N(j):N;if($)R(p);else if(B){const _=p.length===0?j.map(b=>({type:"remove",id:b.id})):p.map(b=>({item:b,type:"reset"}));B(_)}},[]),f=M.useCallback(N=>{const j=Array.isArray(N)?N:[N],{getNodes:R,setNodes:$,hasDefaultNodes:B,onNodesChange:p}=t.getState();if(B){const b=[...R(),...j];$(b)}else if(p){const _=j.map(b=>({item:b,type:"add"}));p(_)}},[]),h=M.useCallback(N=>{const j=Array.isArray(N)?N:[N],{edges:R=[],setEdges:$,hasDefaultEdges:B,onEdgesChange:p}=t.getState();if(B)$([...R,...j]);else if(p){const _=j.map(b=>({item:b,type:"add"}));p(_)}},[]),g=M.useCallback(()=>{const{getNodes:N,edges:j=[],transform:R}=t.getState(),[$,B,p]=R;return{nodes:N().map(_=>({..._})),edges:j.map(_=>({..._})),viewport:{x:$,y:B,zoom:p}}},[]),v=M.useCallback(({nodes:N,edges:j})=>{const{nodeInternals:R,getNodes:$,edges:B,hasDefaultNodes:p,hasDefaultEdges:_,onNodesDelete:b,onEdgesDelete:S,onNodesChange:C,onEdgesChange:L}=t.getState(),z=(N||[]).map(q=>q.id),U=(j||[]).map(q=>q.id),X=$().reduce((q,E)=>{const V=E.parentNode||E.parentId,H=!z.includes(E.id)&&V&&q.find(D=>D.id===V);return(typeof E.deletable=="boolean"?E.deletable:!0)&&(z.includes(E.id)||H)&&q.push(E),q},[]),Q=B.filter(q=>typeof q.deletable=="boolean"?q.deletable:!0),O=Q.filter(q=>U.includes(q.id));if(X||O){const q=px(X,Q),E=[...O,...q],V=E.reduce((H,I)=>(H.includes(I.id)||H.push(I.id),H),[]);if((_||p)&&(_&&t.setState({edges:B.filter(H=>!V.includes(H.id))}),p&&(X.forEach(H=>{R.delete(H.id)}),t.setState({nodeInternals:new Map(R)}))),V.length>0&&(S?.(E),L&&L(V.map(H=>({id:H,type:"remove"})))),X.length>0&&(b?.(X),C)){const H=X.map(I=>({id:I.id,type:"remove"}));C(H)}}},[]),w=M.useCallback(N=>{const j=FC(N),R=j?null:t.getState().nodeInternals.get(N.id);return!j&&!R?[null,null,j]:[j?N:Kb(R),R,j]},[]),k=M.useCallback((N,j=!0,R)=>{const[$,B,p]=w(N);return $?(R||t.getState().getNodes()).filter(_=>{if(!p&&(_.id===B.id||!_.positionAbsolute))return!1;const b=Kb(_),S=Lm(b,$);return j&&S>0||S>=$.width*$.height}):[]},[]),A=M.useCallback((N,j,R=!0)=>{const[$]=w(N);if(!$)return!1;const B=Lm($,j);return R&&B>0||B>=$.width*$.height},[]);return M.useMemo(()=>({...e,getNodes:r,getNode:a,getEdges:s,getEdge:l,setNodes:u,setEdges:d,addNodes:f,addEdges:h,toObject:g,deleteElements:v,getIntersectingNodes:k,isNodeIntersecting:A}),[e,r,a,s,l,u,d,f,h,g,v,k,A])}const C4={actInsideInputWithModifier:!1};var N4=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=At(),{deleteElements:a}=Pl(),s=xl(e,C4),l=xl(t);M.useEffect(()=>{if(s){const{edges:u,getNodes:d}=r.getState(),f=d().filter(g=>g.selected),h=u.filter(g=>g.selected);a({nodes:f,edges:h}),r.setState({nodesSelectionActive:!1})}},[s]),M.useEffect(()=>{r.setState({multiSelectionActive:l})},[l])};function M4(e){const t=At();M.useEffect(()=>{let r;const a=()=>{if(!e.current)return;const s=Dg(e.current);(s.height===0||s.width===0)&&t.getState().onError?.("004",Nr.error004()),t.setState({width:s.width||500,height:s.height||500})};return a(),window.addEventListener("resize",a),e.current&&(r=new ResizeObserver(()=>a()),r.observe(e.current)),()=>{window.removeEventListener("resize",a),r&&e.current&&r.unobserve(e.current)}},[])}const Ig={position:"absolute",width:"100%",height:"100%",top:0,left:0},j4=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,pc=e=>({x:e.x,y:e.y,zoom:e.k}),rs=(e,t)=>e.target.closest(`.${t}`),aw=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),iw=e=>{const t=e.ctrlKey&&Yc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},R4=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),D4=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:a,zoomOnScroll:s=!0,zoomOnPinch:l=!0,panOnScroll:u=!1,panOnScrollSpeed:d=.5,panOnScrollMode:f=li.Free,zoomOnDoubleClick:h=!0,elementsSelectable:g,panOnDrag:v=!0,defaultViewport:w,translateExtent:k,minZoom:A,maxZoom:N,zoomActivationKeyCode:j,preventScrolling:R=!0,children:$,noWheelClassName:B,noPanClassName:p})=>{const _=M.useRef(),b=At(),S=M.useRef(!1),C=M.useRef(!1),L=M.useRef(null),z=M.useRef({x:0,y:0,zoom:0}),{d3Zoom:U,d3Selection:X,d3ZoomHandler:Q,userSelectionActive:O}=tt(R4,Pt),q=xl(j),E=M.useRef(0),V=M.useRef(!1),H=M.useRef();return M4(L),M.useEffect(()=>{if(L.current){const I=L.current.getBoundingClientRect(),D=BC().scaleExtent([A,N]).translateExtent(k),G=Vn(L.current).call(D),te=_a.translate(w.x,w.y).scale(zs(w.zoom,A,N)),Z=[[0,0],[I.width,I.height]],J=D.constrain()(te,Z,k);D.transform(G,J),D.wheelDelta(iw),b.setState({d3Zoom:D,d3Selection:G,d3ZoomHandler:G.on("wheel.zoom"),transform:[J.x,J.y,J.k],domNode:L.current.closest(".react-flow")})}},[]),M.useEffect(()=>{X&&U&&(u&&!q&&!O?X.on("wheel.zoom",I=>{if(rs(I,B))return!1;I.preventDefault(),I.stopImmediatePropagation();const D=X.property("__zoom").k||1;if(I.ctrlKey&&l){const ne=Jn(I),fe=iw(I),he=D*Math.pow(2,fe);U.scaleTo(X,he,ne,I);return}const G=I.deltaMode===1?20:1;let te=f===li.Vertical?0:I.deltaX*G,Z=f===li.Horizontal?0:I.deltaY*G;!Yc()&&I.shiftKey&&f!==li.Vertical&&(te=I.deltaY*G,Z=0),U.translateBy(X,-(te/D)*d,-(Z/D)*d,{internal:!0});const J=pc(X.property("__zoom")),{onViewportChangeStart:ee,onViewportChange:Y,onViewportChangeEnd:K}=b.getState();clearTimeout(H.current),V.current||(V.current=!0,t?.(I,J),ee?.(J)),V.current&&(e?.(I,J),Y?.(J),H.current=setTimeout(()=>{r?.(I,J),K?.(J),V.current=!1},150))},{passive:!1}):typeof Q<"u"&&X.on("wheel.zoom",function(I,D){if(!R&&I.type==="wheel"&&!I.ctrlKey||rs(I,B))return null;I.preventDefault(),Q.call(this,I,D)},{passive:!1}))},[O,u,f,X,U,Q,q,l,R,B,t,e,r]),M.useEffect(()=>{U&&U.on("start",I=>{if(!I.sourceEvent||I.sourceEvent.internal)return null;E.current=I.sourceEvent?.button;const{onViewportChangeStart:D}=b.getState(),G=pc(I.transform);S.current=!0,z.current=G,I.sourceEvent?.type==="mousedown"&&b.setState({paneDragging:!0}),D?.(G),t?.(I.sourceEvent,G)})},[U,t]),M.useEffect(()=>{U&&(O&&!S.current?U.on("zoom",null):O||U.on("zoom",I=>{const{onViewportChange:D}=b.getState();if(b.setState({transform:[I.transform.x,I.transform.y,I.transform.k]}),C.current=!!(a&&aw(v,E.current??0)),(e||D)&&!I.sourceEvent?.internal){const G=pc(I.transform);D?.(G),e?.(I.sourceEvent,G)}}))},[O,U,e,v,a]),M.useEffect(()=>{U&&U.on("end",I=>{if(!I.sourceEvent||I.sourceEvent.internal)return null;const{onViewportChangeEnd:D}=b.getState();if(S.current=!1,b.setState({paneDragging:!1}),a&&aw(v,E.current??0)&&!C.current&&a(I.sourceEvent),C.current=!1,(r||D)&&j4(z.current,I.transform)){const G=pc(I.transform);z.current=G,clearTimeout(_.current),_.current=setTimeout(()=>{D?.(G),r?.(I.sourceEvent,G)},u?150:0)}})},[U,u,v,r,a]),M.useEffect(()=>{U&&U.filter(I=>{const D=q||s,G=l&&I.ctrlKey;if((v===!0||Array.isArray(v)&&v.includes(1))&&I.button===1&&I.type==="mousedown"&&(rs(I,"react-flow__node")||rs(I,"react-flow__edge")))return!0;if(!v&&!D&&!u&&!h&&!l||O||!h&&I.type==="dblclick"||rs(I,B)&&I.type==="wheel"||rs(I,p)&&(I.type!=="wheel"||u&&I.type==="wheel"&&!q)||!l&&I.ctrlKey&&I.type==="wheel"||!D&&!u&&!G&&I.type==="wheel"||!v&&(I.type==="mousedown"||I.type==="touchstart")||Array.isArray(v)&&!v.includes(I.button)&&I.type==="mousedown")return!1;const te=Array.isArray(v)&&v.includes(I.button)||!I.button||I.button<=1;return(!I.ctrlKey||I.type==="wheel")&&te})},[O,U,s,l,u,h,v,g,q]),le.createElement("div",{className:"react-flow__renderer",ref:L,style:Ig},$)},O4=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function z4(){const{userSelectionActive:e,userSelectionRect:t}=tt(O4,Pt);return e&&t?le.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function sw(e,t){const r=t.parentNode||t.parentId,a=e.find(s=>s.id===r);if(a){const s=t.position.x+t.width-a.width,l=t.position.y+t.height-a.height;if(s>0||l>0||t.position.x<0||t.position.y<0){if(a.style={...a.style},a.style.width=a.style.width??a.width,a.style.height=a.style.height??a.height,s>0&&(a.style.width+=s),l>0&&(a.style.height+=l),t.position.x<0){const u=Math.abs(t.position.x);a.position.x=a.position.x-u,a.style.width+=u,t.position.x=0}if(t.position.y<0){const u=Math.abs(t.position.y);a.position.y=a.position.y-u,a.style.height+=u,t.position.y=0}a.width=a.style.width,a.height=a.style.height}}}function Dx(e,t){if(e.some(a=>a.type==="reset"))return e.filter(a=>a.type==="reset").map(a=>a.item);const r=e.filter(a=>a.type==="add").map(a=>a.item);return t.reduce((a,s)=>{const l=e.filter(d=>d.id===s.id);if(l.length===0)return a.push(s),a;const u={...s};for(const d of l)if(d)switch(d.type){case"select":{u.selected=d.selected;break}case"position":{typeof d.position<"u"&&(u.position=d.position),typeof d.positionAbsolute<"u"&&(u.positionAbsolute=d.positionAbsolute),typeof d.dragging<"u"&&(u.dragging=d.dragging),u.expandParent&&sw(a,u);break}case"dimensions":{typeof d.dimensions<"u"&&(u.width=d.dimensions.width,u.height=d.dimensions.height),typeof d.updateStyle<"u"&&(u.style={...u.style||{},...d.dimensions}),typeof d.resizing=="boolean"&&(u.resizing=d.resizing),u.expandParent&&sw(a,u);break}case"remove":return a}return a.push(u),a},r)}function Ox(e,t){return Dx(e,t)}function L4(e,t){return Dx(e,t)}const ma=(e,t)=>({id:e,type:"select",selected:t});function _s(e,t){return e.reduce((r,a)=>{const s=t.includes(a.id);return!a.selected&&s?(a.selected=!0,r.push(ma(a.id,!0))):a.selected&&!s&&(a.selected=!1,r.push(ma(a.id,!1))),r},[])}const Yh=(e,t)=>r=>{r.target===t.current&&e?.(r)},P4=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),zx=M.memo(({isSelecting:e,selectionMode:t=_l.Full,panOnDrag:r,onSelectionStart:a,onSelectionEnd:s,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:g,children:v})=>{const w=M.useRef(null),k=At(),A=M.useRef(0),N=M.useRef(0),j=M.useRef(),{userSelectionActive:R,elementsSelectable:$,dragging:B}=tt(P4,Pt),p=()=>{k.setState({userSelectionActive:!1,userSelectionRect:null}),A.current=0,N.current=0},_=Q=>{l?.(Q),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1})},b=Q=>{if(Array.isArray(r)&&r?.includes(2)){Q.preventDefault();return}u?.(Q)},S=d?Q=>d(Q):void 0,C=Q=>{const{resetSelectedElements:O,domNode:q}=k.getState();if(j.current=q?.getBoundingClientRect(),!$||!e||Q.button!==0||Q.target!==w.current||!j.current)return;const{x:E,y:V}=xa(Q,j.current);O(),k.setState({userSelectionRect:{width:0,height:0,startX:E,startY:V,x:E,y:V}}),a?.(Q)},L=Q=>{const{userSelectionRect:O,nodeInternals:q,edges:E,transform:V,onNodesChange:H,onEdgesChange:I,nodeOrigin:D,getNodes:G}=k.getState();if(!e||!j.current||!O)return;k.setState({userSelectionActive:!0,nodesSelectionActive:!1});const te=xa(Q,j.current),Z=O.startX??0,J=O.startY??0,ee={...O,x:te.x<Z?te.x:Z,y:te.y<J?te.y:J,width:Math.abs(te.x-Z),height:Math.abs(te.y-J)},Y=G(),K=gx(q,ee,V,t===_l.Partial,!0,D),ne=px(K,E).map(he=>he.id),fe=K.map(he=>he.id);if(A.current!==fe.length){A.current=fe.length;const he=_s(Y,fe);he.length&&H?.(he)}if(N.current!==ne.length){N.current=ne.length;const he=_s(E,ne);he.length&&I?.(he)}k.setState({userSelectionRect:ee})},z=Q=>{if(Q.button!==0)return;const{userSelectionRect:O}=k.getState();!R&&O&&Q.target===w.current&&_?.(Q),k.setState({nodesSelectionActive:A.current>0}),p(),s?.(Q)},U=Q=>{R&&(k.setState({nodesSelectionActive:A.current>0}),s?.(Q)),p()},X=$&&(e||R);return le.createElement("div",{className:It(["react-flow__pane",{dragging:B,selection:e}]),onClick:X?void 0:Yh(_,w),onContextMenu:Yh(b,w),onWheel:Yh(S,w),onMouseEnter:X?void 0:f,onMouseDown:X?C:void 0,onMouseMove:X?L:h,onMouseUp:X?z:void 0,onMouseLeave:X?U:g,ref:w,style:Ig},v,le.createElement(z4,null))});zx.displayName="Pane";function Lx(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const a=t.get(r);return a?a.selected?!0:Lx(a,t):!1}function ow(e,t,r){let a=e;do{if(a?.matches(t))return!0;if(a===r.current)return!1;a=a.parentElement}while(a);return!1}function $4(e,t,r,a){return Array.from(e.values()).filter(s=>(s.selected||s.id===a)&&(!s.parentNode||s.parentId||!Lx(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-(s.positionAbsolute?.x??0),y:r.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function B4(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Px(e,t,r,a,s=[0,0],l){const u=B4(e,e.extent||a);let d=u;const f=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(f&&e.width&&e.height){const v=r.get(f),{x:w,y:k}=Ms(v,s).positionAbsolute;d=v&&An(w)&&An(k)&&An(v.width)&&An(v.height)?[[w+e.width*s[0],k+e.height*s[1]],[w+v.width-e.width+e.width*s[0],k+v.height-e.height+e.height*s[1]]]:d}else l?.("005",Nr.error005()),d=u;else if(e.extent&&f&&e.extent!=="parent"){const v=r.get(f),{x:w,y:k}=Ms(v,s).positionAbsolute;d=[[e.extent[0][0]+w,e.extent[0][1]+k],[e.extent[1][0]+w,e.extent[1][1]+k]]}let h={x:0,y:0};if(f){const v=r.get(f);h=Ms(v,s).positionAbsolute}const g=d&&d!=="parent"?Og(t,d):t;return{position:{x:g.x-h.x,y:g.y-h.y},positionAbsolute:g}}function Fh({nodeId:e,dragItems:t,nodeInternals:r}){const a=t.map(s=>({...r.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?a.find(s=>s.id===e):a[0],a]}const lw=(e,t,r,a)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const l=Array.from(s),u=t.getBoundingClientRect(),d={x:u.width*a[0],y:u.height*a[1]};return l.map(f=>{const h=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(h.left-u.left-d.x)/r,y:(h.top-u.top-d.y)/r,...Dg(f)}})};function Fo(e,t,r){return r===void 0?r:a=>{const s=t().nodeInternals.get(e);s&&r(a,{...s})}}function Hm({id:e,store:t,unselect:r=!1,nodeRef:a}){const{addSelectedNodes:s,unselectNodesAndEdges:l,multiSelectionActive:u,nodeInternals:d,onError:f}=t.getState(),h=d.get(e);if(!h){f?.("012",Nr.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(r||h.selected&&u)&&(l({nodes:[h],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):s([e])}function U4(){const e=At();return M.useCallback(({sourceEvent:r})=>{const{transform:a,snapGrid:s,snapToGrid:l}=e.getState(),u=r.touches?r.touches[0].clientX:r.clientX,d=r.touches?r.touches[0].clientY:r.clientY,f={x:(u-a[0])/a[2],y:(d-a[1])/a[2]};return{xSnapped:l?s[0]*Math.round(f.x/s[0]):f.x,ySnapped:l?s[1]*Math.round(f.y/s[1]):f.y,...f}},[])}function Kh(e){return(t,r,a)=>e?.(t,a)}function $x({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:a,nodeId:s,isSelectable:l,selectNodesOnDrag:u}){const d=At(),[f,h]=M.useState(!1),g=M.useRef([]),v=M.useRef({x:null,y:null}),w=M.useRef(0),k=M.useRef(null),A=M.useRef({x:0,y:0}),N=M.useRef(null),j=M.useRef(!1),R=M.useRef(!1),$=M.useRef(!1),B=U4();return M.useEffect(()=>{if(e?.current){const p=Vn(e.current),_=({x:C,y:L})=>{const{nodeInternals:z,onNodeDrag:U,onSelectionDrag:X,updateNodePositions:Q,nodeExtent:O,snapGrid:q,snapToGrid:E,nodeOrigin:V,onError:H}=d.getState();v.current={x:C,y:L};let I=!1,D={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&O){const te=Ug(g.current,V);D=zg(te)}if(g.current=g.current.map(te=>{const Z={x:C-te.distance.x,y:L-te.distance.y};E&&(Z.x=q[0]*Math.round(Z.x/q[0]),Z.y=q[1]*Math.round(Z.y/q[1]));const J=[[O[0][0],O[0][1]],[O[1][0],O[1][1]]];g.current.length>1&&O&&!te.extent&&(J[0][0]=te.positionAbsolute.x-D.x+O[0][0],J[1][0]=te.positionAbsolute.x+(te.width??0)-D.x2+O[1][0],J[0][1]=te.positionAbsolute.y-D.y+O[0][1],J[1][1]=te.positionAbsolute.y+(te.height??0)-D.y2+O[1][1]);const ee=Px(te,Z,z,J,V,H);return I=I||te.position.x!==ee.position.x||te.position.y!==ee.position.y,te.position=ee.position,te.positionAbsolute=ee.positionAbsolute,te}),!I)return;Q(g.current,!0,!0),h(!0);const G=s?U:Kh(X);if(G&&N.current){const[te,Z]=Fh({nodeId:s,dragItems:g.current,nodeInternals:z});G(N.current,te,Z)}},b=()=>{if(!k.current)return;const[C,L]=sx(A.current,k.current);if(C!==0||L!==0){const{transform:z,panBy:U}=d.getState();v.current.x=(v.current.x??0)-C/z[2],v.current.y=(v.current.y??0)-L/z[2],U({x:C,y:L})&&_(v.current)}w.current=requestAnimationFrame(b)},S=C=>{const{nodeInternals:L,multiSelectionActive:z,nodesDraggable:U,unselectNodesAndEdges:X,onNodeDragStart:Q,onSelectionDragStart:O}=d.getState();R.current=!0;const q=s?Q:Kh(O);(!u||!l)&&!z&&s&&(L.get(s)?.selected||X()),s&&l&&u&&Hm({id:s,store:d,nodeRef:e});const E=B(C);if(v.current=E,g.current=$4(L,U,E,s),q&&g.current){const[V,H]=Fh({nodeId:s,dragItems:g.current,nodeInternals:L});q(C.sourceEvent,V,H)}};if(t)p.on(".drag",null);else{const C=ZT().on("start",L=>{const{domNode:z,nodeDragThreshold:U}=d.getState();U===0&&S(L),$.current=!1;const X=B(L);v.current=X,k.current=z?.getBoundingClientRect()||null,A.current=xa(L.sourceEvent,k.current)}).on("drag",L=>{const z=B(L),{autoPanOnNodeDrag:U,nodeDragThreshold:X}=d.getState();if(L.sourceEvent.type==="touchmove"&&L.sourceEvent.touches.length>1&&($.current=!0),!$.current){if(!j.current&&R.current&&U&&(j.current=!0,b()),!R.current){const Q=z.xSnapped-(v?.current?.x??0),O=z.ySnapped-(v?.current?.y??0);Math.sqrt(Q*Q+O*O)>X&&S(L)}(v.current.x!==z.xSnapped||v.current.y!==z.ySnapped)&&g.current&&R.current&&(N.current=L.sourceEvent,A.current=xa(L.sourceEvent,k.current),_(z))}}).on("end",L=>{if(!(!R.current||$.current)&&(h(!1),j.current=!1,R.current=!1,cancelAnimationFrame(w.current),g.current)){const{updateNodePositions:z,nodeInternals:U,onNodeDragStop:X,onSelectionDragStop:Q}=d.getState(),O=s?X:Kh(Q);if(z(g.current,!1,!1),O){const[q,E]=Fh({nodeId:s,dragItems:g.current,nodeInternals:U});O(L.sourceEvent,q,E)}}}).filter(L=>{const z=L.target;return!L.button&&(!r||!ow(z,`.${r}`,e))&&(!a||ow(z,a,e))});return p.call(C),()=>{p.on(".drag",null)}}}},[e,t,r,a,l,d,s,u,B]),f}function Bx(){const e=At();return M.useCallback(r=>{const{nodeInternals:a,nodeExtent:s,updateNodePositions:l,getNodes:u,snapToGrid:d,snapGrid:f,onError:h,nodesDraggable:g}=e.getState(),v=u().filter($=>$.selected&&($.draggable||g&&typeof $.draggable>"u")),w=d?f[0]:5,k=d?f[1]:5,A=r.isShiftPressed?4:1,N=r.x*w*A,j=r.y*k*A,R=v.map($=>{if($.positionAbsolute){const B={x:$.positionAbsolute.x+N,y:$.positionAbsolute.y+j};d&&(B.x=f[0]*Math.round(B.x/f[0]),B.y=f[1]*Math.round(B.y/f[1]));const{positionAbsolute:p,position:_}=Px($,B,a,s,void 0,h);$.position=_,$.positionAbsolute=p}return $});l(R,!0,!1)},[])}const js={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ko=e=>{const t=({id:r,type:a,data:s,xPos:l,yPos:u,xPosOrigin:d,yPosOrigin:f,selected:h,onClick:g,onMouseEnter:v,onMouseMove:w,onMouseLeave:k,onContextMenu:A,onDoubleClick:N,style:j,className:R,isDraggable:$,isSelectable:B,isConnectable:p,isFocusable:_,selectNodesOnDrag:b,sourcePosition:S,targetPosition:C,hidden:L,resizeObserver:z,dragHandle:U,zIndex:X,isParent:Q,noDragClassName:O,noPanClassName:q,initialized:E,disableKeyboardA11y:V,ariaLabel:H,rfId:I,hasHandleBounds:D})=>{const G=At(),te=M.useRef(null),Z=M.useRef(null),J=M.useRef(S),ee=M.useRef(C),Y=M.useRef(a),K=B||$||g||v||w||k,ne=Bx(),fe=Fo(r,G.getState,v),he=Fo(r,G.getState,w),ye=Fo(r,G.getState,k),pe=Fo(r,G.getState,A),ge=Fo(r,G.getState,N),je=_e=>{const{nodeDragThreshold:me}=G.getState();if(B&&(!b||!$||me>0)&&Hm({id:r,store:G,nodeRef:te}),g){const Ee=G.getState().nodeInternals.get(r);Ee&&g(_e,{...Ee})}},Ce=_e=>{if(!Pm(_e)&&!V)if(lx.includes(_e.key)&&B){const me=_e.key==="Escape";Hm({id:r,store:G,unselect:me,nodeRef:te})}else $&&h&&Object.prototype.hasOwnProperty.call(js,_e.key)&&(G.setState({ariaLiveMessage:`Moved selected node ${_e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~l}, y: ${~~u}`}),ne({x:js[_e.key].x,y:js[_e.key].y,isShiftPressed:_e.shiftKey}))};M.useEffect(()=>()=>{Z.current&&(z?.unobserve(Z.current),Z.current=null)},[]),M.useEffect(()=>{if(te.current&&!L){const _e=te.current;(!E||!D||Z.current!==_e)&&(Z.current&&z?.unobserve(Z.current),z?.observe(_e),Z.current=_e)}},[L,E,D]),M.useEffect(()=>{const _e=Y.current!==a,me=J.current!==S,Ee=ee.current!==C;te.current&&(_e||me||Ee)&&(_e&&(Y.current=a),me&&(J.current=S),Ee&&(ee.current=C),G.getState().updateNodeDimensions([{id:r,nodeElement:te.current,forceUpdate:!0}]))},[r,a,S,C]);const ot=$x({nodeRef:te,disabled:L||!$,noDragClassName:O,handleSelector:U,nodeId:r,isSelectable:B,selectNodesOnDrag:b});return L?null:le.createElement("div",{className:It(["react-flow__node",`react-flow__node-${a}`,{[q]:$},R,{selected:h,selectable:B,parent:Q,dragging:ot}]),ref:te,style:{zIndex:X,transform:`translate(${d}px,${f}px)`,pointerEvents:K?"all":"none",visibility:E?"visible":"hidden",...j},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:fe,onMouseMove:he,onMouseLeave:ye,onContextMenu:pe,onClick:je,onDoubleClick:ge,onKeyDown:_?Ce:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":V?void 0:`${Cx}-${I}`,"aria-label":H},le.createElement(e4,{value:r},le.createElement(e,{id:r,data:s,type:a,xPos:l,yPos:u,selected:h,isConnectable:p,sourcePosition:S,targetPosition:C,dragging:ot,dragHandle:U,zIndex:X})))};return t.displayName="NodeWrapper",M.memo(t)};const V4=e=>{const t=e.getNodes().filter(r=>r.selected);return{...Ug(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function H4({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const a=At(),{width:s,height:l,x:u,y:d,transformString:f,userSelectionActive:h}=tt(V4,Pt),g=Bx(),v=M.useRef(null);if(M.useEffect(()=>{r||v.current?.focus({preventScroll:!0})},[r]),$x({nodeRef:v}),h||!s||!l)return null;const w=e?A=>{const N=a.getState().getNodes().filter(j=>j.selected);e(A,N)}:void 0,k=A=>{Object.prototype.hasOwnProperty.call(js,A.key)&&g({x:js[A.key].x,y:js[A.key].y,isShiftPressed:A.shiftKey})};return le.createElement("div",{className:It(["react-flow__nodesselection","react-flow__container",t]),style:{transform:f}},le.createElement("div",{ref:v,className:"react-flow__nodesselection-rect",onContextMenu:w,tabIndex:r?void 0:-1,onKeyDown:r?void 0:k,style:{width:s,height:l,top:d,left:u}}))}var I4=M.memo(H4);const q4=e=>e.nodesSelectionActive,Ux=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:l,onPaneScroll:u,deleteKeyCode:d,onMove:f,onMoveStart:h,onMoveEnd:g,selectionKeyCode:v,selectionOnDrag:w,selectionMode:k,onSelectionStart:A,onSelectionEnd:N,multiSelectionKeyCode:j,panActivationKeyCode:R,zoomActivationKeyCode:$,elementsSelectable:B,zoomOnScroll:p,zoomOnPinch:_,panOnScroll:b,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:L,panOnDrag:z,defaultViewport:U,translateExtent:X,minZoom:Q,maxZoom:O,preventScrolling:q,onSelectionContextMenu:E,noWheelClassName:V,noPanClassName:H,disableKeyboardA11y:I})=>{const D=tt(q4),G=xl(v),te=xl(R),Z=te||z,J=te||b,ee=G||w&&Z!==!0;return N4({deleteKeyCode:d,multiSelectionKeyCode:j}),le.createElement(D4,{onMove:f,onMoveStart:h,onMoveEnd:g,onPaneContextMenu:l,elementsSelectable:B,zoomOnScroll:p,zoomOnPinch:_,panOnScroll:J,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:L,panOnDrag:!G&&Z,defaultViewport:U,translateExtent:X,minZoom:Q,maxZoom:O,zoomActivationKeyCode:$,preventScrolling:q,noWheelClassName:V,noPanClassName:H},le.createElement(zx,{onSelectionStart:A,onSelectionEnd:N,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:l,onPaneScroll:u,panOnDrag:Z,isSelecting:!!ee,selectionMode:k},e,D&&le.createElement(I4,{onSelectionContextMenu:E,noPanClassName:H,disableKeyboardA11y:I})))};Ux.displayName="FlowRenderer";var G4=M.memo(Ux);function Y4(e){return tt(M.useCallback(r=>e?gx(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function F4(e){const t={input:Ko(e.input||Ex),default:Ko(e.default||Vm),output:Ko(e.output||Tx),group:Ko(e.group||Hg)},r={},a=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,l)=>(s[l]=Ko(e[l]||Vm),s),r);return{...t,...a}}const K4=({x:e,y:t,width:r,height:a,origin:s})=>!r||!a?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-r*s[0],y:t-a*s[1]},X4=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Vx=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,updateNodeDimensions:l,onError:u}=tt(X4,Pt),d=Y4(e.onlyRenderVisibleElements),f=M.useRef(),h=M.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(v=>{const w=v.map(k=>({id:k.target.getAttribute("data-id"),nodeElement:k.target,forceUpdate:!0}));l(w)});return f.current=g,g},[]);return M.useEffect(()=>()=>{f?.current?.disconnect()},[]),le.createElement("div",{className:"react-flow__nodes",style:Ig},d.map(g=>{let v=g.type||"default";e.nodeTypes[v]||(u?.("003",Nr.error003(v)),v="default");const w=e.nodeTypes[v]||e.nodeTypes.default,k=!!(g.draggable||t&&typeof g.draggable>"u"),A=!!(g.selectable||s&&typeof g.selectable>"u"),N=!!(g.connectable||r&&typeof g.connectable>"u"),j=!!(g.focusable||a&&typeof g.focusable>"u"),R=e.nodeExtent?Og(g.positionAbsolute,e.nodeExtent):g.positionAbsolute,$=R?.x??0,B=R?.y??0,p=K4({x:$,y:B,width:g.width??0,height:g.height??0,origin:e.nodeOrigin});return le.createElement(w,{key:g.id,id:g.id,className:g.className,style:g.style,type:v,data:g.data,sourcePosition:g.sourcePosition||ve.Bottom,targetPosition:g.targetPosition||ve.Top,hidden:g.hidden,xPos:$,yPos:B,xPosOrigin:p.x,yPosOrigin:p.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!g.selected,isDraggable:k,isSelectable:A,isConnectable:N,isFocusable:j,resizeObserver:h,dragHandle:g.dragHandle,zIndex:g[st]?.z??0,isParent:!!g[st]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!g.width&&!!g.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!g[st]?.handleBounds})}))};Vx.displayName="NodeRenderer";var Z4=M.memo(Vx);const Q4=(e,t,r)=>r===ve.Left?e-t:r===ve.Right?e+t:e,W4=(e,t,r)=>r===ve.Top?e-t:r===ve.Bottom?e+t:e,uw="react-flow__edgeupdater",cw=({position:e,centerX:t,centerY:r,radius:a=10,onMouseDown:s,onMouseEnter:l,onMouseOut:u,type:d})=>le.createElement("circle",{onMouseDown:s,onMouseEnter:l,onMouseOut:u,className:It([uw,`${uw}-${d}`]),cx:Q4(t,a,e),cy:W4(r,a,e),r:a,stroke:"transparent",fill:"transparent"}),J4=()=>!0;var as=e=>{const t=({id:r,className:a,type:s,data:l,onClick:u,onEdgeDoubleClick:d,selected:f,animated:h,label:g,labelStyle:v,labelShowBg:w,labelBgStyle:k,labelBgPadding:A,labelBgBorderRadius:N,style:j,source:R,target:$,sourceX:B,sourceY:p,targetX:_,targetY:b,sourcePosition:S,targetPosition:C,elementsSelectable:L,hidden:z,sourceHandleId:U,targetHandleId:X,onContextMenu:Q,onMouseEnter:O,onMouseMove:q,onMouseLeave:E,reconnectRadius:V,onReconnect:H,onReconnectStart:I,onReconnectEnd:D,markerEnd:G,markerStart:te,rfId:Z,ariaLabel:J,isFocusable:ee,isReconnectable:Y,pathOptions:K,interactionWidth:ne,disableKeyboardA11y:fe})=>{const he=M.useRef(null),[ye,pe]=M.useState(!1),[ge,je]=M.useState(!1),Ce=At(),ot=M.useMemo(()=>`url('#${Bm(te,Z)}')`,[te,Z]),_e=M.useMemo(()=>`url('#${Bm(G,Z)}')`,[G,Z]);if(z)return null;const me=wt=>{const{edges:hn,addSelectedEdges:mn,unselectNodesAndEdges:gn,multiSelectionActive:qt}=Ce.getState(),Bt=hn.find(tn=>tn.id===r);Bt&&(L&&(Ce.setState({nodesSelectionActive:!1}),Bt.selected&&qt?(gn({nodes:[],edges:[Bt]}),he.current?.blur()):mn([r])),u&&u(wt,Bt))},Ee=Yo(r,Ce.getState,d),fn=Yo(r,Ce.getState,Q),Rt=Yo(r,Ce.getState,O),Mn=Yo(r,Ce.getState,q),jn=Yo(r,Ce.getState,E),Rn=(wt,hn)=>{if(wt.button!==0)return;const{edges:mn,isValidConnection:gn}=Ce.getState(),qt=hn?$:R,Bt=(hn?X:U)||null,tn=hn?"target":"source",Is=gn||J4,vi=hn,Or=mn.find(ir=>ir.id===r);je(!0),I?.(wt,Or,tn);const ja=ir=>{je(!1),D?.(ir,Or,tn)};wx({event:wt,handleId:Bt,nodeId:qt,onConnect:ir=>H?.(Or,ir),isTarget:vi,getState:Ce.getState,setState:Ce.setState,isValidConnection:Is,edgeUpdaterType:tn,onReconnectEnd:ja})},Dr=wt=>Rn(wt,!0),en=wt=>Rn(wt,!1),lt=()=>pe(!0),$t=()=>pe(!1),ft=!L&&!u,Ma=wt=>{if(!fe&&lx.includes(wt.key)&&L){const{unselectNodesAndEdges:hn,addSelectedEdges:mn,edges:gn}=Ce.getState();wt.key==="Escape"?(he.current?.blur(),hn({edges:[gn.find(Bt=>Bt.id===r)]})):mn([r])}};return le.createElement("g",{className:It(["react-flow__edge",`react-flow__edge-${s}`,a,{selected:f,animated:h,inactive:ft,updating:ye}]),onClick:me,onDoubleClick:Ee,onContextMenu:fn,onMouseEnter:Rt,onMouseMove:Mn,onMouseLeave:jn,onKeyDown:ee?Ma:void 0,tabIndex:ee?0:void 0,role:ee?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":J===null?void 0:J||`Edge from ${R} to ${$}`,"aria-describedby":ee?`${Nx}-${Z}`:void 0,ref:he},!ge&&le.createElement(e,{id:r,source:R,target:$,selected:f,animated:h,label:g,labelStyle:v,labelShowBg:w,labelBgStyle:k,labelBgPadding:A,labelBgBorderRadius:N,data:l,style:j,sourceX:B,sourceY:p,targetX:_,targetY:b,sourcePosition:S,targetPosition:C,sourceHandleId:U,targetHandleId:X,markerStart:ot,markerEnd:_e,pathOptions:K,interactionWidth:ne}),Y&&le.createElement(le.Fragment,null,(Y==="source"||Y===!0)&&le.createElement(cw,{position:S,centerX:B,centerY:p,radius:V,onMouseDown:Dr,onMouseEnter:lt,onMouseOut:$t,type:"source"}),(Y==="target"||Y===!0)&&le.createElement(cw,{position:C,centerX:_,centerY:b,radius:V,onMouseDown:en,onMouseEnter:lt,onMouseOut:$t,type:"target"})))};return t.displayName="EdgeWrapper",M.memo(t)};function eN(e){const t={default:as(e.default||Fc),straight:as(e.bezier||$g),step:as(e.step||Pg),smoothstep:as(e.step||cd),simplebezier:as(e.simplebezier||Lg)},r={},a=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,l)=>(s[l]=as(e[l]||Fc),s),r);return{...t,...a}}function dw(e,t,r=null){const a=(r?.x||0)+t.x,s=(r?.y||0)+t.y,l=r?.width||t.width,u=r?.height||t.height;switch(e){case ve.Top:return{x:a+l/2,y:s};case ve.Right:return{x:a+l,y:s+u/2};case ve.Bottom:return{x:a+l/2,y:s+u};case ve.Left:return{x:a,y:s+u/2}}}function fw(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const tN=(e,t,r,a,s,l)=>{const u=dw(r,e,t),d=dw(l,a,s);return{sourceX:u.x,sourceY:u.y,targetX:d.x,targetY:d.y}};function nN({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:a,targetWidth:s,targetHeight:l,width:u,height:d,transform:f}){const h={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+s),y2:Math.max(e.y+a,t.y+l)};h.x===h.x2&&(h.x2+=1),h.y===h.y2&&(h.y2+=1);const g=zg({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:u/f[2],height:d/f[2]}),v=Math.max(0,Math.min(g.x2,h.x2)-Math.max(g.x,h.x)),w=Math.max(0,Math.min(g.y2,h.y2)-Math.max(g.y,h.y));return Math.ceil(v*w)>0}function hw(e){const t=e?.[st]?.handleBounds||null,r=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!r]}const rN=[{level:0,isMaxLevel:!0,edges:[]}];function aN(e,t,r=!1){let a=-1;const s=e.reduce((u,d)=>{const f=An(d.zIndex);let h=f?d.zIndex:0;if(r){const g=t.get(d.target),v=t.get(d.source),w=d.selected||g?.selected||v?.selected,k=Math.max(v?.[st]?.z||0,g?.[st]?.z||0,1e3);h=(f?d.zIndex:0)+(w?k:0)}return u[h]?u[h].push(d):u[h]=[d],a=h>a?h:a,u},{}),l=Object.entries(s).map(([u,d])=>{const f=+u;return{edges:d,level:f,isMaxLevel:f===a}});return l.length===0?rN:l}function iN(e,t,r){const a=tt(M.useCallback(s=>e?s.edges.filter(l=>{const u=t.get(l.source),d=t.get(l.target);return u?.width&&u?.height&&d?.width&&d?.height&&nN({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:d.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:d.width,targetHeight:d.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return aN(a,t,r)}const sN=({color:e="none",strokeWidth:t=1})=>le.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),oN=({color:e="none",strokeWidth:t=1})=>le.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),mw={[Sa.Arrow]:sN,[Sa.ArrowClosed]:oN};function lN(e){const t=At();return M.useMemo(()=>Object.prototype.hasOwnProperty.call(mw,e)?mw[e]:(t.getState().onError?.("009",Nr.error009(e)),null),[e])}const uN=({id:e,type:t,color:r,width:a=12.5,height:s=12.5,markerUnits:l="strokeWidth",strokeWidth:u,orient:d="auto-start-reverse"})=>{const f=lN(t);return f?le.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:d,refX:"0",refY:"0"},le.createElement(f,{color:r,strokeWidth:u})):null},cN=({defaultColor:e,rfId:t})=>r=>{const a=[];return r.edges.reduce((s,l)=>([l.markerStart,l.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const d=Bm(u,t);a.includes(d)||(s.push({id:d,color:u.color||e,...u}),a.push(d))}}),s),[]).sort((s,l)=>s.id.localeCompare(l.id))},Hx=({defaultColor:e,rfId:t})=>{const r=tt(M.useCallback(cN({defaultColor:e,rfId:t}),[e,t]),(a,s)=>!(a.length!==s.length||a.some((l,u)=>l.id!==s[u].id)));return le.createElement("defs",null,r.map(a=>le.createElement(uN,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})))};Hx.displayName="MarkerDefinitions";var dN=M.memo(Hx);const fN=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ix=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:a,edgeTypes:s,noPanClassName:l,onEdgeContextMenu:u,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:g,onEdgeDoubleClick:v,onReconnect:w,onReconnectStart:k,onReconnectEnd:A,reconnectRadius:N,children:j,disableKeyboardA11y:R})=>{const{edgesFocusable:$,edgesUpdatable:B,elementsSelectable:p,width:_,height:b,connectionMode:S,nodeInternals:C,onError:L}=tt(fN,Pt),z=iN(t,C,r);return _?le.createElement(le.Fragment,null,z.map(({level:U,edges:X,isMaxLevel:Q})=>le.createElement("svg",{key:U,style:{zIndex:U},width:_,height:b,className:"react-flow__edges react-flow__container"},Q&&le.createElement(dN,{defaultColor:e,rfId:a}),le.createElement("g",null,X.map(O=>{const[q,E,V]=hw(C.get(O.source)),[H,I,D]=hw(C.get(O.target));if(!V||!D)return null;let G=O.type||"default";s[G]||(L?.("011",Nr.error011(G)),G="default");const te=s[G]||s.default,Z=S===Ea.Strict?I.target:(I.target??[]).concat(I.source??[]),J=fw(E.source,O.sourceHandle),ee=fw(Z,O.targetHandle),Y=J?.position||ve.Bottom,K=ee?.position||ve.Top,ne=!!(O.focusable||$&&typeof O.focusable>"u"),fe=O.reconnectable||O.updatable,he=typeof w<"u"&&(fe||B&&typeof fe>"u");if(!J||!ee)return L?.("008",Nr.error008(J,O)),null;const{sourceX:ye,sourceY:pe,targetX:ge,targetY:je}=tN(q,J,Y,H,ee,K);return le.createElement(te,{key:O.id,id:O.id,className:It([O.className,l]),type:G,data:O.data,selected:!!O.selected,animated:!!O.animated,hidden:!!O.hidden,label:O.label,labelStyle:O.labelStyle,labelShowBg:O.labelShowBg,labelBgStyle:O.labelBgStyle,labelBgPadding:O.labelBgPadding,labelBgBorderRadius:O.labelBgBorderRadius,style:O.style,source:O.source,target:O.target,sourceHandleId:O.sourceHandle,targetHandleId:O.targetHandle,markerEnd:O.markerEnd,markerStart:O.markerStart,sourceX:ye,sourceY:pe,targetX:ge,targetY:je,sourcePosition:Y,targetPosition:K,elementsSelectable:p,onContextMenu:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onClick:g,onEdgeDoubleClick:v,onReconnect:w,onReconnectStart:k,onReconnectEnd:A,reconnectRadius:N,rfId:a,ariaLabel:O.ariaLabel,isFocusable:ne,isReconnectable:he,pathOptions:"pathOptions"in O?O.pathOptions:void 0,interactionWidth:O.interactionWidth,disableKeyboardA11y:R})})))),j):null};Ix.displayName="EdgeRenderer";var hN=M.memo(Ix);const mN=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function gN({children:e}){const t=tt(mN);return le.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function pN(e){const t=Pl(),r=M.useRef(!1);M.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const yN={[ve.Left]:ve.Right,[ve.Right]:ve.Left,[ve.Top]:ve.Bottom,[ve.Bottom]:ve.Top},qx=({nodeId:e,handleType:t,style:r,type:a=ga.Bezier,CustomComponent:s,connectionStatus:l})=>{const{fromNode:u,handleId:d,toX:f,toY:h,connectionMode:g}=tt(M.useCallback(b=>({fromNode:b.nodeInternals.get(e),handleId:b.connectionHandleId,toX:(b.connectionPosition.x-b.transform[0])/b.transform[2],toY:(b.connectionPosition.y-b.transform[1])/b.transform[2],connectionMode:b.connectionMode}),[e]),Pt),v=u?.[st]?.handleBounds;let w=v?.[t];if(g===Ea.Loose&&(w=w||v?.[t==="source"?"target":"source"]),!u||!w)return null;const k=d?w.find(b=>b.id===d):w[0],A=k?k.x+k.width/2:(u.width??0)/2,N=k?k.y+k.height/2:u.height??0,j=(u.positionAbsolute?.x??0)+A,R=(u.positionAbsolute?.y??0)+N,$=k?.position,B=$?yN[$]:null;if(!$||!B)return null;if(s)return le.createElement(s,{connectionLineType:a,connectionLineStyle:r,fromNode:u,fromHandle:k,fromX:j,fromY:R,toX:f,toY:h,fromPosition:$,toPosition:B,connectionStatus:l});let p="";const _={sourceX:j,sourceY:R,sourcePosition:$,targetX:f,targetY:h,targetPosition:B};return a===ga.Bezier?[p]=hx(_):a===ga.Step?[p]=$m({..._,borderRadius:0}):a===ga.SmoothStep?[p]=$m(_):a===ga.SimpleBezier?[p]=fx(_):p=`M${j},${R} ${f},${h}`,le.createElement("path",{d:p,fill:"none",className:"react-flow__connection-path",style:r})};qx.displayName="ConnectionLine";const vN=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function bN({containerStyle:e,style:t,type:r,component:a}){const{nodeId:s,handleType:l,nodesConnectable:u,width:d,height:f,connectionStatus:h}=tt(vN,Pt);return!(s&&l&&d&&u)?null:le.createElement("svg",{style:e,width:d,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},le.createElement("g",{className:It(["react-flow__connection",h])},le.createElement(qx,{nodeId:s,handleType:l,style:t,type:r,CustomComponent:a,connectionStatus:h})))}function gw(e,t){return M.useRef(null),At(),M.useMemo(()=>t(e),[e])}const Gx=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:a,onMoveEnd:s,onInit:l,onNodeClick:u,onEdgeClick:d,onNodeDoubleClick:f,onEdgeDoubleClick:h,onNodeMouseEnter:g,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:k,onSelectionContextMenu:A,onSelectionStart:N,onSelectionEnd:j,connectionLineType:R,connectionLineStyle:$,connectionLineComponent:B,connectionLineContainerStyle:p,selectionKeyCode:_,selectionOnDrag:b,selectionMode:S,multiSelectionKeyCode:C,panActivationKeyCode:L,zoomActivationKeyCode:z,deleteKeyCode:U,onlyRenderVisibleElements:X,elementsSelectable:Q,selectNodesOnDrag:O,defaultViewport:q,translateExtent:E,minZoom:V,maxZoom:H,preventScrolling:I,defaultMarkerColor:D,zoomOnScroll:G,zoomOnPinch:te,panOnScroll:Z,panOnScrollSpeed:J,panOnScrollMode:ee,zoomOnDoubleClick:Y,panOnDrag:K,onPaneClick:ne,onPaneMouseEnter:fe,onPaneMouseMove:he,onPaneMouseLeave:ye,onPaneScroll:pe,onPaneContextMenu:ge,onEdgeContextMenu:je,onEdgeMouseEnter:Ce,onEdgeMouseMove:ot,onEdgeMouseLeave:_e,onReconnect:me,onReconnectStart:Ee,onReconnectEnd:fn,reconnectRadius:Rt,noDragClassName:Mn,noWheelClassName:jn,noPanClassName:Rn,elevateEdgesOnSelect:Dr,disableKeyboardA11y:en,nodeOrigin:lt,nodeExtent:$t,rfId:ft})=>{const Ma=gw(e,F4),wt=gw(t,eN);return pN(l),le.createElement(G4,{onPaneClick:ne,onPaneMouseEnter:fe,onPaneMouseMove:he,onPaneMouseLeave:ye,onPaneContextMenu:ge,onPaneScroll:pe,deleteKeyCode:U,selectionKeyCode:_,selectionOnDrag:b,selectionMode:S,onSelectionStart:N,onSelectionEnd:j,multiSelectionKeyCode:C,panActivationKeyCode:L,zoomActivationKeyCode:z,elementsSelectable:Q,onMove:r,onMoveStart:a,onMoveEnd:s,zoomOnScroll:G,zoomOnPinch:te,zoomOnDoubleClick:Y,panOnScroll:Z,panOnScrollSpeed:J,panOnScrollMode:ee,panOnDrag:K,defaultViewport:q,translateExtent:E,minZoom:V,maxZoom:H,onSelectionContextMenu:A,preventScrolling:I,noDragClassName:Mn,noWheelClassName:jn,noPanClassName:Rn,disableKeyboardA11y:en},le.createElement(gN,null,le.createElement(hN,{edgeTypes:wt,onEdgeClick:d,onEdgeDoubleClick:h,onlyRenderVisibleElements:X,onEdgeContextMenu:je,onEdgeMouseEnter:Ce,onEdgeMouseMove:ot,onEdgeMouseLeave:_e,onReconnect:me,onReconnectStart:Ee,onReconnectEnd:fn,reconnectRadius:Rt,defaultMarkerColor:D,noPanClassName:Rn,elevateEdgesOnSelect:!!Dr,disableKeyboardA11y:en,rfId:ft},le.createElement(bN,{style:$,type:R,component:B,containerStyle:p})),le.createElement("div",{className:"react-flow__edgelabel-renderer"}),le.createElement(Z4,{nodeTypes:Ma,onNodeClick:u,onNodeDoubleClick:f,onNodeMouseEnter:g,onNodeMouseMove:v,onNodeMouseLeave:w,onNodeContextMenu:k,selectNodesOnDrag:O,onlyRenderVisibleElements:X,noPanClassName:Rn,noDragClassName:Mn,disableKeyboardA11y:en,nodeOrigin:lt,nodeExtent:$t,rfId:ft})))};Gx.displayName="GraphView";var wN=M.memo(Gx);const Im=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ua={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Im,nodeExtent:Im,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ea.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:KC,isValidConnection:void 0},_N=()=>lk((e,t)=>({...ua,setNodes:r=>{const{nodeInternals:a,nodeOrigin:s,elevateNodesOnSelect:l}=t();e({nodeInternals:Gh(r,a,s,l)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:a={}}=t();e({edges:r.map(s=>({...a,...s}))})},setDefaultNodesAndEdges:(r,a)=>{const s=typeof r<"u",l=typeof a<"u",u=s?Gh(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:u,edges:l?a:[],hasDefaultNodes:s,hasDefaultEdges:l})},updateNodeDimensions:r=>{const{onNodesChange:a,nodeInternals:s,fitViewOnInit:l,fitViewOnInitDone:u,fitViewOnInitOptions:d,domNode:f,nodeOrigin:h}=t(),g=f?.querySelector(".react-flow__viewport");if(!g)return;const v=window.getComputedStyle(g),{m22:w}=new window.DOMMatrixReadOnly(v.transform),k=r.reduce((N,j)=>{const R=s.get(j.id);if(R?.hidden)s.set(R.id,{...R,[st]:{...R[st],handleBounds:void 0}});else if(R){const $=Dg(j.nodeElement);!!($.width&&$.height&&(R.width!==$.width||R.height!==$.height||j.forceUpdate))&&(s.set(R.id,{...R,[st]:{...R[st],handleBounds:{source:lw(".source",j.nodeElement,w,h),target:lw(".target",j.nodeElement,w,h)}},...$}),N.push({id:R.id,type:"dimensions",dimensions:$}))}return N},[]);jx(s,h);const A=u||l&&!u&&Rx(t,{initial:!0,...d});e({nodeInternals:new Map(s),fitViewOnInitDone:A}),k?.length>0&&a?.(k)},updateNodePositions:(r,a=!0,s=!1)=>{const{triggerNodeChanges:l}=t(),u=r.map(d=>{const f={id:d.id,type:"position",dragging:s};return a&&(f.positionAbsolute=d.positionAbsolute,f.position=d.position),f});l(u)},triggerNodeChanges:r=>{const{onNodesChange:a,nodeInternals:s,hasDefaultNodes:l,nodeOrigin:u,getNodes:d,elevateNodesOnSelect:f}=t();if(r?.length){if(l){const h=Ox(r,d()),g=Gh(h,s,u,f);e({nodeInternals:g})}a?.(r)}},addSelectedNodes:r=>{const{multiSelectionActive:a,edges:s,getNodes:l}=t();let u,d=null;a?u=r.map(f=>ma(f,!0)):(u=_s(l(),r),d=_s(s,[])),gc({changedNodes:u,changedEdges:d,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:a,edges:s,getNodes:l}=t();let u,d=null;a?u=r.map(f=>ma(f,!0)):(u=_s(s,r),d=_s(l(),[])),gc({changedNodes:d,changedEdges:u,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:a}={})=>{const{edges:s,getNodes:l}=t(),u=r||l(),d=a||s,f=u.map(g=>(g.selected=!1,ma(g.id,!1))),h=d.map(g=>ma(g.id,!1));gc({changedNodes:f,changedEdges:h,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:a,maxZoom:s}=t();a?.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:a,minZoom:s}=t();a?.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{t().d3Zoom?.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:a}=t(),l=a().filter(d=>d.selected).map(d=>ma(d.id,!1)),u=r.filter(d=>d.selected).map(d=>ma(d.id,!1));gc({changedNodes:l,changedEdges:u,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:a}=t();a.forEach(s=>{s.positionAbsolute=Og(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(a)})},panBy:r=>{const{transform:a,width:s,height:l,d3Zoom:u,d3Selection:d,translateExtent:f}=t();if(!u||!d||!r.x&&!r.y)return!1;const h=_a.translate(a[0]+r.x,a[1]+r.y).scale(a[2]),g=[[0,0],[s,l]],v=u?.constrain()(h,g,f);return u.transform(d,v),a[0]!==v.x||a[1]!==v.y||a[2]!==v.k},cancelConnection:()=>e({connectionNodeId:ua.connectionNodeId,connectionHandleId:ua.connectionHandleId,connectionHandleType:ua.connectionHandleType,connectionStatus:ua.connectionStatus,connectionStartHandle:ua.connectionStartHandle,connectionEndHandle:ua.connectionEndHandle}),reset:()=>e({...ua})}),Object.is),qg=({children:e})=>{const t=M.useRef(null);return t.current||(t.current=_N()),le.createElement(UC,{value:t.current},e)};qg.displayName="ReactFlowProvider";const Yx=({children:e})=>M.useContext(ud)?le.createElement(le.Fragment,null,e):le.createElement(qg,null,e);Yx.displayName="ReactFlowWrapper";const xN={input:Ex,default:Vm,output:Tx,group:Hg},SN={default:Fc,straight:$g,step:Pg,smoothstep:cd,simplebezier:Lg},EN=[0,0],kN=[15,15],TN={x:0,y:0,zoom:1},AN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Fx=M.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:a,className:s,nodeTypes:l=xN,edgeTypes:u=SN,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:g,onMoveStart:v,onMoveEnd:w,onConnect:k,onConnectStart:A,onConnectEnd:N,onClickConnectStart:j,onClickConnectEnd:R,onNodeMouseEnter:$,onNodeMouseMove:B,onNodeMouseLeave:p,onNodeContextMenu:_,onNodeDoubleClick:b,onNodeDragStart:S,onNodeDrag:C,onNodeDragStop:L,onNodesDelete:z,onEdgesDelete:U,onSelectionChange:X,onSelectionDragStart:Q,onSelectionDrag:O,onSelectionDragStop:q,onSelectionContextMenu:E,onSelectionStart:V,onSelectionEnd:H,connectionMode:I=Ea.Strict,connectionLineType:D=ga.Bezier,connectionLineStyle:G,connectionLineComponent:te,connectionLineContainerStyle:Z,deleteKeyCode:J="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:Y=!1,selectionMode:K=_l.Full,panActivationKeyCode:ne="Space",multiSelectionKeyCode:fe=Yc()?"Meta":"Control",zoomActivationKeyCode:he=Yc()?"Meta":"Control",snapToGrid:ye=!1,snapGrid:pe=kN,onlyRenderVisibleElements:ge=!1,selectNodesOnDrag:je=!0,nodesDraggable:Ce,nodesConnectable:ot,nodesFocusable:_e,nodeOrigin:me=EN,edgesFocusable:Ee,edgesUpdatable:fn,elementsSelectable:Rt,defaultViewport:Mn=TN,minZoom:jn=.5,maxZoom:Rn=2,translateExtent:Dr=Im,preventScrolling:en=!0,nodeExtent:lt,defaultMarkerColor:$t="#b1b1b7",zoomOnScroll:ft=!0,zoomOnPinch:Ma=!0,panOnScroll:wt=!1,panOnScrollSpeed:hn=.5,panOnScrollMode:mn=li.Free,zoomOnDoubleClick:gn=!0,panOnDrag:qt=!0,onPaneClick:Bt,onPaneMouseEnter:tn,onPaneMouseMove:Is,onPaneMouseLeave:vi,onPaneScroll:Or,onPaneContextMenu:ja,children:zr,onEdgeContextMenu:ir,onEdgeDoubleClick:ql,onEdgeMouseEnter:Gl,onEdgeMouseMove:qs,onEdgeMouseLeave:Gs,onEdgeUpdate:Yl,onEdgeUpdateStart:xd,onEdgeUpdateEnd:Fn,onReconnect:_t,onReconnectStart:Dt,onReconnectEnd:Lr,reconnectRadius:Ys=10,edgeUpdaterRadius:Sd=10,onNodesChange:Ed,onEdgesChange:Fl,noDragClassName:Ra="nodrag",noWheelClassName:Fs="nowheel",noPanClassName:sr="nopan",fitView:Pr=!1,fitViewOptions:Da,connectOnClick:$r=!0,attributionPosition:ht,proOptions:Kl,defaultEdgeOptions:Xl,elevateNodesOnSelect:or=!0,elevateEdgesOnSelect:Br=!1,disableKeyboardA11y:Zl=!1,autoPanOnConnect:Ql=!0,autoPanOnNodeDrag:Wl=!0,connectionRadius:kd=20,isValidConnection:bi,onError:wi,style:Dn,id:_i,nodeDragThreshold:Jl,...Ur},Ks)=>{const Oa=_i||"1";return le.createElement("div",{...Ur,style:{...Dn,...AN},ref:Ks,className:It(["react-flow",s]),"data-testid":"rf__wrapper",id:_i},le.createElement(Yx,null,le.createElement(wN,{onInit:h,onMove:g,onMoveStart:v,onMoveEnd:w,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:$,onNodeMouseMove:B,onNodeMouseLeave:p,onNodeContextMenu:_,onNodeDoubleClick:b,nodeTypes:l,edgeTypes:u,connectionLineType:D,connectionLineStyle:G,connectionLineComponent:te,connectionLineContainerStyle:Z,selectionKeyCode:ee,selectionOnDrag:Y,selectionMode:K,deleteKeyCode:J,multiSelectionKeyCode:fe,panActivationKeyCode:ne,zoomActivationKeyCode:he,onlyRenderVisibleElements:ge,selectNodesOnDrag:je,defaultViewport:Mn,translateExtent:Dr,minZoom:jn,maxZoom:Rn,preventScrolling:en,zoomOnScroll:ft,zoomOnPinch:Ma,zoomOnDoubleClick:gn,panOnScroll:wt,panOnScrollSpeed:hn,panOnScrollMode:mn,panOnDrag:qt,onPaneClick:Bt,onPaneMouseEnter:tn,onPaneMouseMove:Is,onPaneMouseLeave:vi,onPaneScroll:Or,onPaneContextMenu:ja,onSelectionContextMenu:E,onSelectionStart:V,onSelectionEnd:H,onEdgeContextMenu:ir,onEdgeDoubleClick:ql,onEdgeMouseEnter:Gl,onEdgeMouseMove:qs,onEdgeMouseLeave:Gs,onReconnect:_t??Yl,onReconnectStart:Dt??xd,onReconnectEnd:Lr??Fn,reconnectRadius:Ys??Sd,defaultMarkerColor:$t,noDragClassName:Ra,noWheelClassName:Fs,noPanClassName:sr,elevateEdgesOnSelect:Br,rfId:Oa,disableKeyboardA11y:Zl,nodeOrigin:me,nodeExtent:lt}),le.createElement(y4,{nodes:e,edges:t,defaultNodes:r,defaultEdges:a,onConnect:k,onConnectStart:A,onConnectEnd:N,onClickConnectStart:j,onClickConnectEnd:R,nodesDraggable:Ce,nodesConnectable:ot,nodesFocusable:_e,edgesFocusable:Ee,edgesUpdatable:fn,elementsSelectable:Rt,elevateNodesOnSelect:or,minZoom:jn,maxZoom:Rn,nodeExtent:lt,onNodesChange:Ed,onEdgesChange:Fl,snapToGrid:ye,snapGrid:pe,connectionMode:I,translateExtent:Dr,connectOnClick:$r,defaultEdgeOptions:Xl,fitView:Pr,fitViewOptions:Da,onNodesDelete:z,onEdgesDelete:U,onNodeDragStart:S,onNodeDrag:C,onNodeDragStop:L,onSelectionDrag:O,onSelectionDragStart:Q,onSelectionDragStop:q,noPanClassName:sr,nodeOrigin:me,rfId:Oa,autoPanOnConnect:Ql,autoPanOnNodeDrag:Wl,onError:wi,connectionRadius:kd,isValidConnection:bi,nodeDragThreshold:Jl}),le.createElement(g4,{onSelectionChange:X}),zr,le.createElement(HC,{proOptions:Kl,position:ht}),le.createElement(x4,{rfId:Oa,disableKeyboardA11y:Zl})))});Fx.displayName="ReactFlow";function Kx(e){return t=>{const[r,a]=M.useState(t),s=M.useCallback(l=>a(u=>e(l,u)),[]);return[r,a,s]}}const CN=Kx(Ox),NN=Kx(L4);function MN(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},le.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function jN(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},le.createElement("path",{d:"M0 0h32v4.2H0z"}))}function RN(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},le.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function DN(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},le.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ON(){return le.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},le.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const rl=({children:e,className:t,...r})=>le.createElement("button",{type:"button",className:It(["react-flow__controls-button",t]),...r},e);rl.displayName="ControlButton";const zN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Xx=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:a=!0,fitViewOptions:s,onZoomIn:l,onZoomOut:u,onFitView:d,onInteractiveChange:f,className:h,children:g,position:v="bottom-left"})=>{const w=At(),[k,A]=M.useState(!1),{isInteractive:N,minZoomReached:j,maxZoomReached:R}=tt(zN,Pt),{zoomIn:$,zoomOut:B,fitView:p}=Pl();if(M.useEffect(()=>{A(!0)},[]),!k)return null;const _=()=>{$(),l?.()},b=()=>{B(),u?.()},S=()=>{p(s),d?.()},C=()=>{w.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),f?.(!N)};return le.createElement(ix,{className:It(["react-flow__controls",h]),position:v,style:e,"data-testid":"rf__controls"},t&&le.createElement(le.Fragment,null,le.createElement(rl,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:R},le.createElement(MN,null)),le.createElement(rl,{onClick:b,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:j},le.createElement(jN,null))),r&&le.createElement(rl,{className:"react-flow__controls-fitview",onClick:S,title:"fit view","aria-label":"fit view"},le.createElement(RN,null)),a&&le.createElement(rl,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},N?le.createElement(ON,null):le.createElement(DN,null)),g)};Xx.displayName="Controls";var LN=M.memo(Xx),Cn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Cn||(Cn={}));function PN({color:e,dimensions:t,lineWidth:r}){return le.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function $N({color:e,radius:t}){return le.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const BN={[Cn.Dots]:"#91919a",[Cn.Lines]:"#eee",[Cn.Cross]:"#e2e2e2"},UN={[Cn.Dots]:1,[Cn.Lines]:1,[Cn.Cross]:6},VN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Zx({id:e,variant:t=Cn.Dots,gap:r=20,size:a,lineWidth:s=1,offset:l=2,color:u,style:d,className:f}){const h=M.useRef(null),{transform:g,patternId:v}=tt(VN,Pt),w=u||BN[t],k=a||UN[t],A=t===Cn.Dots,N=t===Cn.Cross,j=Array.isArray(r)?r:[r,r],R=[j[0]*g[2]||1,j[1]*g[2]||1],$=k*g[2],B=N?[$,$]:R,p=A?[$/l,$/l]:[B[0]/l,B[1]/l];return le.createElement("svg",{className:It(["react-flow__background",f]),style:{...d,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:h,"data-testid":"rf__background"},le.createElement("pattern",{id:v+e,x:g[0]%R[0],y:g[1]%R[1],width:R[0],height:R[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${p[0]},-${p[1]})`},A?le.createElement($N,{color:w,radius:$/l}):le.createElement(PN,{dimensions:B,color:w,lineWidth:s})),le.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${v+e})`}))}Zx.displayName="Background";var HN=M.memo(Zx);const dd=M.createContext(null);dd.displayName="PanelGroupContext";const it={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Gg=10,fi=M.useLayoutEffect,pw=q8.useId,IN=typeof pw=="function"?pw:()=>null;let qN=0;function Yg(e=null){const t=IN(),r=M.useRef(e||t||null);return r.current===null&&(r.current=""+qN++),e??r.current}function Qx({children:e,className:t="",collapsedSize:r,collapsible:a,defaultSize:s,forwardedRef:l,id:u,maxSize:d,minSize:f,onCollapse:h,onExpand:g,onResize:v,order:w,style:k,tagName:A="div",...N}){const j=M.useContext(dd);if(j===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:R,expandPanel:$,getPanelSize:B,getPanelStyle:p,groupId:_,isPanelCollapsed:b,reevaluatePanelConstraints:S,registerPanel:C,resizePanel:L,unregisterPanel:z}=j,U=Yg(u),X=M.useRef({callbacks:{onCollapse:h,onExpand:g,onResize:v},constraints:{collapsedSize:r,collapsible:a,defaultSize:s,maxSize:d,minSize:f},id:U,idIsFromProps:u!==void 0,order:w});M.useRef({didLogMissingDefaultSizeWarning:!1}),fi(()=>{const{callbacks:O,constraints:q}=X.current,E={...q};X.current.id=U,X.current.idIsFromProps=u!==void 0,X.current.order=w,O.onCollapse=h,O.onExpand=g,O.onResize=v,q.collapsedSize=r,q.collapsible=a,q.defaultSize=s,q.maxSize=d,q.minSize=f,(E.collapsedSize!==q.collapsedSize||E.collapsible!==q.collapsible||E.maxSize!==q.maxSize||E.minSize!==q.minSize)&&S(X.current,E)}),fi(()=>{const O=X.current;return C(O),()=>{z(O)}},[w,U,C,z]),M.useImperativeHandle(l,()=>({collapse:()=>{R(X.current)},expand:O=>{$(X.current,O)},getId(){return U},getSize(){return B(X.current)},isCollapsed(){return b(X.current)},isExpanded(){return!b(X.current)},resize:O=>{L(X.current,O)}}),[R,$,B,b,U,L]);const Q=p(X.current,s);return M.createElement(A,{...N,children:e,className:t,id:U,style:{...Q,...k},[it.groupId]:_,[it.panel]:"",[it.panelCollapsible]:a||void 0,[it.panelId]:U,[it.panelSize]:parseFloat(""+Q.flexGrow).toFixed(1)})}const qm=M.forwardRef((e,t)=>M.createElement(Qx,{...e,forwardedRef:t}));Qx.displayName="Panel";qm.displayName="forwardRef(Panel)";let Gm=null,Rc=-1,pa=null;function GN(e,t){if(t){const r=(t&n3)!==0,a=(t&r3)!==0,s=(t&a3)!==0,l=(t&i3)!==0;if(r)return s?"se-resize":l?"ne-resize":"e-resize";if(a)return s?"sw-resize":l?"nw-resize":"w-resize";if(s)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function YN(){pa!==null&&(document.head.removeChild(pa),Gm=null,pa=null,Rc=-1)}function Xh(e,t){var r,a;const s=GN(e,t);if(Gm!==s){if(Gm=s,pa===null&&(pa=document.createElement("style"),document.head.appendChild(pa)),Rc>=0){var l;(l=pa.sheet)===null||l===void 0||l.removeRule(Rc)}Rc=(r=(a=pa.sheet)===null||a===void 0?void 0:a.insertRule(`*{cursor: ${s} !important;}`))!==null&&r!==void 0?r:-1}}function Wx(e){return e.type==="keydown"}function Jx(e){return e.type.startsWith("pointer")}function e3(e){return e.type.startsWith("mouse")}function fd(e){if(Jx(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(e3(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function FN(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function KN(e,t,r){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function XN(e,t){if(e===t)throw new Error("Cannot compare node with itself");const r={a:bw(e),b:bw(t)};let a;for(;r.a.at(-1)===r.b.at(-1);)e=r.a.pop(),t=r.b.pop(),a=e;Re(a,"Stacking order can only be calculated for elements with a common ancestor");const s={a:vw(yw(r.a)),b:vw(yw(r.b))};if(s.a===s.b){const l=a.childNodes,u={a:r.a.at(-1),b:r.b.at(-1)};let d=l.length;for(;d--;){const f=l[d];if(f===u.a)return 1;if(f===u.b)return-1}}return Math.sign(s.a-s.b)}const ZN=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function QN(e){var t;const r=getComputedStyle((t=t3(e))!==null&&t!==void 0?t:e).display;return r==="flex"||r==="inline-flex"}function WN(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||QN(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||ZN.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function yw(e){let t=e.length;for(;t--;){const r=e[t];if(Re(r,"Missing node"),WN(r))return r}return null}function vw(e){return e&&Number(getComputedStyle(e).zIndex)||0}function bw(e){const t=[];for(;e;)t.push(e),e=t3(e);return t}function t3(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const n3=1,r3=2,a3=4,i3=8,JN=FN()==="coarse";let In=[],Rs=!1,ya=new Map,hd=new Map;const Sl=new Set;function e5(e,t,r,a,s){var l;const{ownerDocument:u}=t,d={direction:r,element:t,hitAreaMargins:a,setResizeHandlerState:s},f=(l=ya.get(u))!==null&&l!==void 0?l:0;return ya.set(u,f+1),Sl.add(d),Kc(),function(){var g;hd.delete(e),Sl.delete(d);const v=(g=ya.get(u))!==null&&g!==void 0?g:1;if(ya.set(u,v-1),Kc(),v===1&&ya.delete(u),In.includes(d)){const w=In.indexOf(d);w>=0&&In.splice(w,1),Kg(),s("up",!0,null)}}}function t5(e){const{target:t}=e,{x:r,y:a}=fd(e);Rs=!0,Fg({target:t,x:r,y:a}),Kc(),In.length>0&&(Xc("down",e),e.preventDefault(),s3(t)||e.stopImmediatePropagation())}function Zh(e){const{x:t,y:r}=fd(e);if(Rs&&e.buttons===0&&(Rs=!1,Xc("up",e)),!Rs){const{target:a}=e;Fg({target:a,x:t,y:r})}Xc("move",e),Kg(),In.length>0&&e.preventDefault()}function Qh(e){const{target:t}=e,{x:r,y:a}=fd(e);hd.clear(),Rs=!1,In.length>0&&(e.preventDefault(),s3(t)||e.stopImmediatePropagation()),Xc("up",e),Fg({target:t,x:r,y:a}),Kg(),Kc()}function s3(e){let t=e;for(;t;){if(t.hasAttribute(it.resizeHandle))return!0;t=t.parentElement}return!1}function Fg({target:e,x:t,y:r}){In.splice(0);let a=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(a=e),Sl.forEach(s=>{const{element:l,hitAreaMargins:u}=s,d=l.getBoundingClientRect(),{bottom:f,left:h,right:g,top:v}=d,w=JN?u.coarse:u.fine;if(t>=h-w&&t<=g+w&&r>=v-w&&r<=f+w){if(a!==null&&document.contains(a)&&l!==a&&!l.contains(a)&&!a.contains(l)&&XN(a,l)>0){let A=a,N=!1;for(;A&&!A.contains(l);){if(KN(A.getBoundingClientRect(),d)){N=!0;break}A=A.parentElement}if(N)return}In.push(s)}})}function Wh(e,t){hd.set(e,t)}function Kg(){let e=!1,t=!1;In.forEach(a=>{const{direction:s}=a;s==="horizontal"?e=!0:t=!0});let r=0;hd.forEach(a=>{r|=a}),e&&t?Xh("intersection",r):e?Xh("horizontal",r):t?Xh("vertical",r):YN()}let Jh;function Kc(){var e;(e=Jh)===null||e===void 0||e.abort(),Jh=new AbortController;const t={capture:!0,signal:Jh.signal};Sl.size&&(Rs?(In.length>0&&ya.forEach((r,a)=>{const{body:s}=a;r>0&&(s.addEventListener("contextmenu",Qh,t),s.addEventListener("pointerleave",Zh,t),s.addEventListener("pointermove",Zh,t))}),ya.forEach((r,a)=>{const{body:s}=a;s.addEventListener("pointerup",Qh,t),s.addEventListener("pointercancel",Qh,t)})):ya.forEach((r,a)=>{const{body:s}=a;r>0&&(s.addEventListener("pointerdown",t5,t),s.addEventListener("pointermove",Zh,t))}))}function Xc(e,t){Sl.forEach(r=>{const{setResizeHandlerState:a}=r,s=In.includes(r);a(e,s,t)})}function n5(){const[e,t]=M.useState(0);return M.useCallback(()=>t(r=>r+1),[])}function Re(e,t){if(!e)throw console.error(t),Error(t)}function pi(e,t,r=Gg){return e.toFixed(r)===t.toFixed(r)?0:e>t?1:-1}function Tr(e,t,r=Gg){return pi(e,t,r)===0}function cn(e,t,r){return pi(e,t,r)===0}function r5(e,t,r){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++){const s=e[a],l=t[a];if(!cn(s,l,r))return!1}return!0}function xs({panelConstraints:e,panelIndex:t,size:r}){const a=e[t];Re(a!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:s=0,collapsible:l,maxSize:u=100,minSize:d=0}=a;if(pi(r,d)<0)if(l){const f=(s+d)/2;pi(r,f)<0?r=s:r=d}else r=d;return r=Math.min(u,r),r=parseFloat(r.toFixed(Gg)),r}function al({delta:e,initialLayout:t,panelConstraints:r,pivotIndices:a,prevLayout:s,trigger:l}){if(cn(e,0))return t;const u=[...t],[d,f]=a;Re(d!=null,"Invalid first pivot index"),Re(f!=null,"Invalid second pivot index");let h=0;if(l==="keyboard"){{const v=e<0?f:d,w=r[v];Re(w,`Panel constraints not found for index ${v}`);const{collapsedSize:k=0,collapsible:A,minSize:N=0}=w;if(A){const j=t[v];if(Re(j!=null,`Previous layout not found for panel index ${v}`),cn(j,k)){const R=N-j;pi(R,Math.abs(e))>0&&(e=e<0?0-R:R)}}}{const v=e<0?d:f,w=r[v];Re(w,`No panel constraints found for index ${v}`);const{collapsedSize:k=0,collapsible:A,minSize:N=0}=w;if(A){const j=t[v];if(Re(j!=null,`Previous layout not found for panel index ${v}`),cn(j,N)){const R=j-k;pi(R,Math.abs(e))>0&&(e=e<0?0-R:R)}}}}{const v=e<0?1:-1;let w=e<0?f:d,k=0;for(;;){const N=t[w];Re(N!=null,`Previous layout not found for panel index ${w}`);const R=xs({panelConstraints:r,panelIndex:w,size:100})-N;if(k+=R,w+=v,w<0||w>=r.length)break}const A=Math.min(Math.abs(e),Math.abs(k));e=e<0?0-A:A}{let w=e<0?d:f;for(;w>=0&&w<r.length;){const k=Math.abs(e)-Math.abs(h),A=t[w];Re(A!=null,`Previous layout not found for panel index ${w}`);const N=A-k,j=xs({panelConstraints:r,panelIndex:w,size:N});if(!cn(A,j)&&(h+=A-j,u[w]=j,h.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?w--:w++}}if(r5(s,u))return s;{const v=e<0?f:d,w=t[v];Re(w!=null,`Previous layout not found for panel index ${v}`);const k=w+h,A=xs({panelConstraints:r,panelIndex:v,size:k});if(u[v]=A,!cn(A,k)){let N=k-A,R=e<0?f:d;for(;R>=0&&R<r.length;){const $=u[R];Re($!=null,`Previous layout not found for panel index ${R}`);const B=$+N,p=xs({panelConstraints:r,panelIndex:R,size:B});if(cn($,p)||(N-=p-$,u[R]=p),cn(N,0))break;e>0?R--:R++}}}const g=u.reduce((v,w)=>w+v,0);return cn(g,100)?u:s}function a5({layout:e,panelsArray:t,pivotIndices:r}){let a=0,s=100,l=0,u=0;const d=r[0];Re(d!=null,"No pivot index found"),t.forEach((v,w)=>{const{constraints:k}=v,{maxSize:A=100,minSize:N=0}=k;w===d?(a=N,s=A):(l+=N,u+=A)});const f=Math.min(s,100-l),h=Math.max(a,100-u),g=e[d];return{valueMax:f,valueMin:h,valueNow:g}}function El(e,t=document){return Array.from(t.querySelectorAll(`[${it.resizeHandleId}][data-panel-group-id="${e}"]`))}function o3(e,t,r=document){const s=El(e,r).findIndex(l=>l.getAttribute(it.resizeHandleId)===t);return s??null}function l3(e,t,r){const a=o3(e,t,r);return a!=null?[a,a+1]:[-1,-1]}function i5(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function u3(e,t=document){if(i5(t)&&t.dataset.panelGroupId==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function md(e,t=document){const r=t.querySelector(`[${it.resizeHandleId}="${e}"]`);return r||null}function s5(e,t,r,a=document){var s,l,u,d;const f=md(t,a),h=El(e,a),g=f?h.indexOf(f):-1,v=(s=(l=r[g])===null||l===void 0?void 0:l.id)!==null&&s!==void 0?s:null,w=(u=(d=r[g+1])===null||d===void 0?void 0:d.id)!==null&&u!==void 0?u:null;return[v,w]}function o5({committedValuesRef:e,eagerValuesRef:t,groupId:r,layout:a,panelDataArray:s,panelGroupElement:l,setLayout:u}){M.useRef({didWarnAboutMissingResizeHandle:!1}),fi(()=>{if(!l)return;const d=El(r,l);for(let f=0;f<s.length-1;f++){const{valueMax:h,valueMin:g,valueNow:v}=a5({layout:a,panelsArray:s,pivotIndices:[f,f+1]}),w=d[f];if(w!=null){const k=s[f];Re(k,`No panel data found for index "${f}"`),w.setAttribute("aria-controls",k.id),w.setAttribute("aria-valuemax",""+Math.round(h)),w.setAttribute("aria-valuemin",""+Math.round(g)),w.setAttribute("aria-valuenow",v!=null?""+Math.round(v):"")}}return()=>{d.forEach((f,h)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[r,a,s,l]),M.useEffect(()=>{if(!l)return;const d=t.current;Re(d,"Eager values not found");const{panelDataArray:f}=d,h=u3(r,l);Re(h!=null,`No group found for id "${r}"`);const g=El(r,l);Re(g,`No resize handles found for group id "${r}"`);const v=g.map(w=>{const k=w.getAttribute(it.resizeHandleId);Re(k,"Resize handle element has no handle id attribute");const[A,N]=s5(r,k,f,l);if(A==null||N==null)return()=>{};const j=R=>{if(!R.defaultPrevented)switch(R.key){case"Enter":{R.preventDefault();const $=f.findIndex(B=>B.id===A);if($>=0){const B=f[$];Re(B,`No panel data found for index ${$}`);const p=a[$],{collapsedSize:_=0,collapsible:b,minSize:S=0}=B.constraints;if(p!=null&&b){const C=al({delta:cn(p,_)?S-_:_-p,initialLayout:a,panelConstraints:f.map(L=>L.constraints),pivotIndices:l3(r,k,l),prevLayout:a,trigger:"keyboard"});a!==C&&u(C)}}break}}};return w.addEventListener("keydown",j),()=>{w.removeEventListener("keydown",j)}});return()=>{v.forEach(w=>w())}},[l,e,t,r,a,s,u])}function ww(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function c3(e,t){const r=e==="horizontal",{x:a,y:s}=fd(t);return r?a:s}function l5(e,t,r,a,s){const l=r==="horizontal",u=md(t,s);Re(u,`No resize handle element found for id "${t}"`);const d=u.getAttribute(it.groupId);Re(d,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=a;const h=c3(r,e),g=u3(d,s);Re(g,`No group element found for id "${d}"`);const v=g.getBoundingClientRect(),w=l?v.width:v.height;return(h-f)/w*100}function u5(e,t,r,a,s,l){if(Wx(e)){const u=r==="horizontal";let d=0;e.shiftKey?d=100:s!=null?d=s:d=10;let f=0;switch(e.key){case"ArrowDown":f=u?0:d;break;case"ArrowLeft":f=u?-d:0;break;case"ArrowRight":f=u?d:0;break;case"ArrowUp":f=u?0:-d;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return a==null?0:l5(e,t,r,a,l)}function c5({panelDataArray:e}){const t=Array(e.length),r=e.map(l=>l.constraints);let a=0,s=100;for(let l=0;l<e.length;l++){const u=r[l];Re(u,`Panel constraints not found for index ${l}`);const{defaultSize:d}=u;d!=null&&(a++,t[l]=d,s-=d)}for(let l=0;l<e.length;l++){const u=r[l];Re(u,`Panel constraints not found for index ${l}`);const{defaultSize:d}=u;if(d!=null)continue;const f=e.length-a,h=s/f;a++,t[l]=h,s-=h}return t}function is(e,t,r){t.forEach((a,s)=>{const l=e[s];Re(l,`Panel data not found for index ${s}`);const{callbacks:u,constraints:d,id:f}=l,{collapsedSize:h=0,collapsible:g}=d,v=r[f];if(v==null||a!==v){r[f]=a;const{onCollapse:w,onExpand:k,onResize:A}=u;A&&A(a,v),g&&(w||k)&&(k&&(v==null||Tr(v,h))&&!Tr(a,h)&&k(),w&&(v==null||!Tr(v,h))&&Tr(a,h)&&w())}})}function yc(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function d5({defaultSize:e,dragState:t,layout:r,panelData:a,panelIndex:s,precision:l=3}){const u=r[s];let d;return u==null?d=e!=null?e.toPrecision(l):"1":a.length===1?d="1":d=u.toPrecision(l),{flexBasis:0,flexGrow:d,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function f5(e,t=10){let r=null;return(...s)=>{r!==null&&clearTimeout(r),r=setTimeout(()=>{e(...s)},t)}}function _w(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,r)=>{localStorage.setItem(t,r)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function d3(e){return`react-resizable-panels:${e}`}function f3(e){return e.map(t=>{const{constraints:r,id:a,idIsFromProps:s,order:l}=t;return s?a:l?`${l}:${JSON.stringify(r)}`:JSON.stringify(r)}).sort((t,r)=>t.localeCompare(r)).join(",")}function h3(e,t){try{const r=d3(e),a=t.getItem(r);if(a){const s=JSON.parse(a);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function h5(e,t,r){var a,s;const l=(a=h3(e,r))!==null&&a!==void 0?a:{},u=f3(t);return(s=l[u])!==null&&s!==void 0?s:null}function m5(e,t,r,a,s){var l;const u=d3(e),d=f3(t),f=(l=h3(e,s))!==null&&l!==void 0?l:{};f[d]={expandToSizes:Object.fromEntries(r.entries()),layout:a};try{s.setItem(u,JSON.stringify(f))}catch(h){console.error(h)}}function xw({layout:e,panelConstraints:t}){const r=[...e],a=r.reduce((l,u)=>l+u,0);if(r.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${r.map(l=>`${l}%`).join(", ")}`);if(!cn(a,100)&&r.length>0)for(let l=0;l<t.length;l++){const u=r[l];Re(u!=null,`No layout data found for index ${l}`);const d=100/a*u;r[l]=d}let s=0;for(let l=0;l<t.length;l++){const u=r[l];Re(u!=null,`No layout data found for index ${l}`);const d=xs({panelConstraints:t,panelIndex:l,size:u});u!=d&&(s+=u-d,r[l]=d)}if(!cn(s,0))for(let l=0;l<t.length;l++){const u=r[l];Re(u!=null,`No layout data found for index ${l}`);const d=u+s,f=xs({panelConstraints:t,panelIndex:l,size:d});if(u!==f&&(s-=f-u,r[l]=f,cn(s,0)))break}return r}const g5=100,il={getItem:e=>(_w(il),il.getItem(e)),setItem:(e,t)=>{_w(il),il.setItem(e,t)}},Sw={};function m3({autoSaveId:e=null,children:t,className:r="",direction:a,forwardedRef:s,id:l=null,onLayout:u=null,keyboardResizeBy:d=null,storage:f=il,style:h,tagName:g="div",...v}){const w=Yg(l),k=M.useRef(null),[A,N]=M.useState(null),[j,R]=M.useState([]),$=n5(),B=M.useRef({}),p=M.useRef(new Map),_=M.useRef(0),b=M.useRef({autoSaveId:e,direction:a,dragState:A,id:w,keyboardResizeBy:d,onLayout:u,storage:f}),S=M.useRef({layout:j,panelDataArray:[],panelDataArrayChanged:!1});M.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),M.useImperativeHandle(s,()=>({getId:()=>b.current.id,getLayout:()=>{const{layout:Z}=S.current;return Z},setLayout:Z=>{const{onLayout:J}=b.current,{layout:ee,panelDataArray:Y}=S.current,K=xw({layout:Z,panelConstraints:Y.map(ne=>ne.constraints)});ww(ee,K)||(R(K),S.current.layout=K,J&&J(K),is(Y,K,B.current))}}),[]),fi(()=>{b.current.autoSaveId=e,b.current.direction=a,b.current.dragState=A,b.current.id=w,b.current.onLayout=u,b.current.storage=f}),o5({committedValuesRef:b,eagerValuesRef:S,groupId:w,layout:j,panelDataArray:S.current.panelDataArray,setLayout:R,panelGroupElement:k.current}),M.useEffect(()=>{const{panelDataArray:Z}=S.current;if(e){if(j.length===0||j.length!==Z.length)return;let J=Sw[e];J==null&&(J=f5(m5,g5),Sw[e]=J);const ee=[...Z],Y=new Map(p.current);J(e,ee,Y,j,f)}},[e,j,f]),M.useEffect(()=>{});const C=M.useCallback(Z=>{const{onLayout:J}=b.current,{layout:ee,panelDataArray:Y}=S.current;if(Z.constraints.collapsible){const K=Y.map(ye=>ye.constraints),{collapsedSize:ne=0,panelSize:fe,pivotIndices:he}=Qa(Y,Z,ee);if(Re(fe!=null,`Panel size not found for panel "${Z.id}"`),!Tr(fe,ne)){p.current.set(Z.id,fe);const pe=vs(Y,Z)===Y.length-1?fe-ne:ne-fe,ge=al({delta:pe,initialLayout:ee,panelConstraints:K,pivotIndices:he,prevLayout:ee,trigger:"imperative-api"});yc(ee,ge)||(R(ge),S.current.layout=ge,J&&J(ge),is(Y,ge,B.current))}}},[]),L=M.useCallback((Z,J)=>{const{onLayout:ee}=b.current,{layout:Y,panelDataArray:K}=S.current;if(Z.constraints.collapsible){const ne=K.map(je=>je.constraints),{collapsedSize:fe=0,panelSize:he=0,minSize:ye=0,pivotIndices:pe}=Qa(K,Z,Y),ge=J??ye;if(Tr(he,fe)){const je=p.current.get(Z.id),Ce=je!=null&&je>=ge?je:ge,_e=vs(K,Z)===K.length-1?he-Ce:Ce-he,me=al({delta:_e,initialLayout:Y,panelConstraints:ne,pivotIndices:pe,prevLayout:Y,trigger:"imperative-api"});yc(Y,me)||(R(me),S.current.layout=me,ee&&ee(me),is(K,me,B.current))}}},[]),z=M.useCallback(Z=>{const{layout:J,panelDataArray:ee}=S.current,{panelSize:Y}=Qa(ee,Z,J);return Re(Y!=null,`Panel size not found for panel "${Z.id}"`),Y},[]),U=M.useCallback((Z,J)=>{const{panelDataArray:ee}=S.current,Y=vs(ee,Z);return d5({defaultSize:J,dragState:A,layout:j,panelData:ee,panelIndex:Y})},[A,j]),X=M.useCallback(Z=>{const{layout:J,panelDataArray:ee}=S.current,{collapsedSize:Y=0,collapsible:K,panelSize:ne}=Qa(ee,Z,J);return Re(ne!=null,`Panel size not found for panel "${Z.id}"`),K===!0&&Tr(ne,Y)},[]),Q=M.useCallback(Z=>{const{layout:J,panelDataArray:ee}=S.current,{collapsedSize:Y=0,collapsible:K,panelSize:ne}=Qa(ee,Z,J);return Re(ne!=null,`Panel size not found for panel "${Z.id}"`),!K||pi(ne,Y)>0},[]),O=M.useCallback(Z=>{const{panelDataArray:J}=S.current;J.push(Z),J.sort((ee,Y)=>{const K=ee.order,ne=Y.order;return K==null&&ne==null?0:K==null?-1:ne==null?1:K-ne}),S.current.panelDataArrayChanged=!0,$()},[$]);fi(()=>{if(S.current.panelDataArrayChanged){S.current.panelDataArrayChanged=!1;const{autoSaveId:Z,onLayout:J,storage:ee}=b.current,{layout:Y,panelDataArray:K}=S.current;let ne=null;if(Z){const he=h5(Z,K,ee);he&&(p.current=new Map(Object.entries(he.expandToSizes)),ne=he.layout)}ne==null&&(ne=c5({panelDataArray:K}));const fe=xw({layout:ne,panelConstraints:K.map(he=>he.constraints)});ww(Y,fe)||(R(fe),S.current.layout=fe,J&&J(fe),is(K,fe,B.current))}}),fi(()=>{const Z=S.current;return()=>{Z.layout=[]}},[]);const q=M.useCallback(Z=>{let J=!1;const ee=k.current;return ee&&window.getComputedStyle(ee,null).getPropertyValue("direction")==="rtl"&&(J=!0),function(K){K.preventDefault();const ne=k.current;if(!ne)return()=>null;const{direction:fe,dragState:he,id:ye,keyboardResizeBy:pe,onLayout:ge}=b.current,{layout:je,panelDataArray:Ce}=S.current,{initialLayout:ot}=he??{},_e=l3(ye,Z,ne);let me=u5(K,Z,fe,he,pe,ne);const Ee=fe==="horizontal";Ee&&J&&(me=-me);const fn=Ce.map(jn=>jn.constraints),Rt=al({delta:me,initialLayout:ot??je,panelConstraints:fn,pivotIndices:_e,prevLayout:je,trigger:Wx(K)?"keyboard":"mouse-or-touch"}),Mn=!yc(je,Rt);(Jx(K)||e3(K))&&_.current!=me&&(_.current=me,!Mn&&me!==0?Ee?Wh(Z,me<0?n3:r3):Wh(Z,me<0?a3:i3):Wh(Z,0)),Mn&&(R(Rt),S.current.layout=Rt,ge&&ge(Rt),is(Ce,Rt,B.current))}},[]),E=M.useCallback((Z,J)=>{const{onLayout:ee}=b.current,{layout:Y,panelDataArray:K}=S.current,ne=K.map(je=>je.constraints),{panelSize:fe,pivotIndices:he}=Qa(K,Z,Y);Re(fe!=null,`Panel size not found for panel "${Z.id}"`);const pe=vs(K,Z)===K.length-1?fe-J:J-fe,ge=al({delta:pe,initialLayout:Y,panelConstraints:ne,pivotIndices:he,prevLayout:Y,trigger:"imperative-api"});yc(Y,ge)||(R(ge),S.current.layout=ge,ee&&ee(ge),is(K,ge,B.current))},[]),V=M.useCallback((Z,J)=>{const{layout:ee,panelDataArray:Y}=S.current,{collapsedSize:K=0,collapsible:ne}=J,{collapsedSize:fe=0,collapsible:he,maxSize:ye=100,minSize:pe=0}=Z.constraints,{panelSize:ge}=Qa(Y,Z,ee);ge!=null&&(ne&&he&&Tr(ge,K)?Tr(K,fe)||E(Z,fe):ge<pe?E(Z,pe):ge>ye&&E(Z,ye))},[E]),H=M.useCallback((Z,J)=>{const{direction:ee}=b.current,{layout:Y}=S.current;if(!k.current)return;const K=md(Z,k.current);Re(K,`Drag handle element not found for id "${Z}"`);const ne=c3(ee,J);N({dragHandleId:Z,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:ne,initialLayout:Y})},[]),I=M.useCallback(()=>{N(null)},[]),D=M.useCallback(Z=>{const{panelDataArray:J}=S.current,ee=vs(J,Z);ee>=0&&(J.splice(ee,1),delete B.current[Z.id],S.current.panelDataArrayChanged=!0,$())},[$]),G=M.useMemo(()=>({collapsePanel:C,direction:a,dragState:A,expandPanel:L,getPanelSize:z,getPanelStyle:U,groupId:w,isPanelCollapsed:X,isPanelExpanded:Q,reevaluatePanelConstraints:V,registerPanel:O,registerResizeHandle:q,resizePanel:E,startDragging:H,stopDragging:I,unregisterPanel:D,panelGroupElement:k.current}),[C,A,a,L,z,U,w,X,Q,V,O,q,E,H,I,D]),te={display:"flex",flexDirection:a==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return M.createElement(dd.Provider,{value:G},M.createElement(g,{...v,children:t,className:r,id:l,ref:k,style:{...te,...h},[it.group]:"",[it.groupDirection]:a,[it.groupId]:w}))}const g3=M.forwardRef((e,t)=>M.createElement(m3,{...e,forwardedRef:t}));m3.displayName="PanelGroup";g3.displayName="forwardRef(PanelGroup)";function vs(e,t){return e.findIndex(r=>r===t||r.id===t.id)}function Qa(e,t,r){const a=vs(e,t),l=a===e.length-1?[a-1,a]:[a,a+1],u=r[a];return{...t.constraints,panelSize:u,pivotIndices:l}}function p5({disabled:e,handleId:t,resizeHandler:r,panelGroupElement:a}){M.useEffect(()=>{if(e||r==null||a==null)return;const s=md(t,a);if(s==null)return;const l=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),r(u);break}case"F6":{u.preventDefault();const d=s.getAttribute(it.groupId);Re(d,`No group element found for id "${d}"`);const f=El(d,a),h=o3(d,t,a);Re(h!==null,`No resize element found for id "${t}"`);const g=u.shiftKey?h>0?h-1:f.length-1:h+1<f.length?h+1:0;f[g].focus();break}}};return s.addEventListener("keydown",l),()=>{s.removeEventListener("keydown",l)}},[a,e,t,r])}function p3({children:e=null,className:t="",disabled:r=!1,hitAreaMargins:a,id:s,onBlur:l,onClick:u,onDragging:d,onFocus:f,onPointerDown:h,onPointerUp:g,style:v={},tabIndex:w=0,tagName:k="div",...A}){var N,j;const R=M.useRef(null),$=M.useRef({onClick:u,onDragging:d,onPointerDown:h,onPointerUp:g});M.useEffect(()=>{$.current.onClick=u,$.current.onDragging=d,$.current.onPointerDown=h,$.current.onPointerUp=g});const B=M.useContext(dd);if(B===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:p,groupId:_,registerResizeHandle:b,startDragging:S,stopDragging:C,panelGroupElement:L}=B,z=Yg(s),[U,X]=M.useState("inactive"),[Q,O]=M.useState(!1),[q,E]=M.useState(null),V=M.useRef({state:U});fi(()=>{V.current.state=U}),M.useEffect(()=>{if(r)E(null);else{const G=b(z);E(()=>G)}},[r,z,b]);const H=(N=a?.coarse)!==null&&N!==void 0?N:15,I=(j=a?.fine)!==null&&j!==void 0?j:5;M.useEffect(()=>{if(r||q==null)return;const G=R.current;Re(G,"Element ref not attached");let te=!1;return e5(z,G,p,{coarse:H,fine:I},(J,ee,Y)=>{if(!ee){X("inactive");return}switch(J){case"down":{X("drag"),te=!1,Re(Y,'Expected event to be defined for "down" action'),S(z,Y);const{onDragging:K,onPointerDown:ne}=$.current;K?.(!0),ne?.();break}case"move":{const{state:K}=V.current;te=!0,K!=="drag"&&X("hover"),Re(Y,'Expected event to be defined for "move" action'),q(Y);break}case"up":{X("hover"),C();const{onClick:K,onDragging:ne,onPointerUp:fe}=$.current;ne?.(!1),fe?.(),te||K?.();break}}})},[H,p,r,I,b,z,q,S,C]),p5({disabled:r,handleId:z,resizeHandler:q,panelGroupElement:L});const D={touchAction:"none",userSelect:"none"};return M.createElement(k,{...A,children:e,className:t,id:s,onBlur:()=>{O(!1),l?.()},onFocus:()=>{O(!0),f?.()},ref:R,role:"separator",style:{...D,...v},tabIndex:w,[it.groupDirection]:p,[it.groupId]:_,[it.resizeHandle]:"",[it.resizeHandleActive]:U==="drag"?"pointer":Q?"keyboard":void 0,[it.resizeHandleEnabled]:!r,[it.resizeHandleId]:z,[it.resizeHandleState]:U})}p3.displayName="PanelResizeHandle";const y5="modulepreload",v5=function(e){return"/"+e},Ew={},Aa=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(r.map(h=>{if(h=v5(h),h in Ew)return;Ew[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":y5,g||(w.as="script"),w.crossOrigin="",w.href=h,d&&w.setAttribute("nonce",d),document.head.appendChild(w),g)return new Promise((k,A)=>{w.addEventListener("load",k),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},b5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Aa(async()=>{const{default:a}=await Promise.resolve().then(()=>Bs);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)};class Xg extends Error{constructor(t,r="FunctionsError",a){super(t),this.name=r,this.context=a}}class w5 extends Xg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kw extends Xg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tw extends Xg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ym;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ym||(Ym={}));var _5=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};class x5{constructor(t,{headers:r={},customFetch:a,region:s=Ym.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=b5(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var a;return _5(this,void 0,void 0,function*(){try{const{headers:s,method:l,body:u}=r;let d={},{region:f}=r;f||(f=this.region);const h=new URL(`${this.url}/${t}`);f&&f!=="any"&&(d["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(d["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(d["Content-Type"]="application/json",g=JSON.stringify(u)));const v=yield this.fetch(h.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g}).catch(N=>{throw new w5(N)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new kw(v);if(!v.ok)throw new Tw(v);let k=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return k==="application/json"?A=yield v.json():k==="application/octet-stream"?A=yield v.blob():k==="text/event-stream"?A=v:k==="multipart/form-data"?A=yield v.formData():A=yield v.text(),{data:A,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof Tw||s instanceof kw?s.context:void 0}}})}}var kt={},ss={},os={},ls={},us={},cs={},S5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ls=S5();const E5=Ls.fetch,y3=Ls.fetch.bind(Ls),v3=Ls.Headers,k5=Ls.Request,T5=Ls.Response,Bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:v3,Request:k5,Response:T5,default:y3,fetch:E5},Symbol.toStringTag,{value:"Module"})),A5=U8(Bs);var vc={},Aw;function b3(){if(Aw)return vc;Aw=1,Object.defineProperty(vc,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return vc.default=e,vc}var Cw;function w3(){if(Cw)return cs;Cw=1;var e=cs&&cs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(A5),r=e(b3());class a{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,v,w;let k=null,A=null,N=null,j=h.status,R=h.statusText;if(h.ok){if(this.method!=="HEAD"){const _=await h.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=_:A=JSON.parse(_))}const B=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),p=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");B&&p&&p.length>1&&(N=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(k={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,N=null,j=406,R="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const B=await h.text();try{k=JSON.parse(B),Array.isArray(k)&&h.status===404&&(A=[],k=null,j=200,R="OK")}catch{h.status===404&&B===""?(j=204,R="No Content"):k={message:B}}if(k&&this.isMaybeSingle&&(!((w=k?.details)===null||w===void 0)&&w.includes("0 rows"))&&(k=null,j=200,R="OK"),k&&this.shouldThrowOnError)throw new r.default(k)}return{error:k,data:A,count:N,status:j,statusText:R}});return this.shouldThrowOnError||(f=f.catch(h=>{var g,v,w;return{error:{message:`${(g=h?.name)!==null&&g!==void 0?g:"FetchError"}: ${h?.message}`,details:`${(v=h?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=h?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}}return cs.default=a,cs}var Nw;function _3(){if(Nw)return us;Nw=1;var e=us&&us.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(us,"__esModule",{value:!0});const t=e(w3());class r extends t.default{select(s){let l=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const h=f?`${f}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${s}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(h,`${l-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:h="text"}={}){var g;const v=[s?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${w}"; options=${v};`,h==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return us.default=r,us}var Mw;function Zg(){if(Mw)return ls;Mw=1;var e=ls&&ls.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ls,"__esModule",{value:!0});const t=e(_3());class r extends t.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${f}fts${h}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}}return ls.default=r,ls}var jw;function x3(){if(jw)return os;jw=1;var e=os&&os.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(os,"__esModule",{value:!0});const t=e(Zg());class r{constructor(s,{headers:l={},schema:u,fetch:d}){this.url=s,this.headers=l,this.schema=u,this.fetch=d}select(s,{head:l=!1,count:u}={}){const d=l?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",h),u&&(this.headers.Prefer=`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:l,defaultToNull:u=!0}={}){const d="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(s)){const h=s.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){const h="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&g.push(this.headers.Prefer),d&&g.push(`count=${d}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const v=s.reduce((w,k)=>w.concat(Object.keys(k)),[]);if(v.length>0){const w=[...new Set(v)].map(k=>`"${k}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:l}={}){const u="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),this.headers.Prefer=d.join(","),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const l="DELETE",u=[];return s&&u.push(`count=${s}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return os.default=r,os}var Xo={},Zo={},Rw;function C5(){return Rw||(Rw=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.version=void 0,Zo.version="0.0.0-automated"),Zo}var Dw;function N5(){if(Dw)return Xo;Dw=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.DEFAULT_HEADERS=void 0;const e=C5();return Xo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Xo}var Ow;function M5(){if(Ow)return ss;Ow=1;var e=ss&&ss.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ss,"__esModule",{value:!0});const t=e(x3()),r=e(Zg()),a=N5();class s{constructor(u,{headers:d={},schema:f,fetch:h}={}){this.url=u,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),d),this.schemaName=f,this.fetch=h}from(u){const d=new URL(`${this.url}/${u}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new s(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:h=!1,count:g}={}){let v;const w=new URL(`${this.url}/rpc/${u}`);let k;f||h?(v=f?"HEAD":"GET",Object.entries(d).filter(([N,j])=>j!==void 0).map(([N,j])=>[N,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([N,j])=>{w.searchParams.append(N,j)})):(v="POST",k=d);const A=Object.assign({},this.headers);return g&&(A.Prefer=`count=${g}`),new r.default({method:v,url:w,headers:A,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return ss.default=s,ss}var zw;function j5(){if(zw)return kt;zw=1;var e=kt&&kt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(kt,"__esModule",{value:!0}),kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const t=e(M5());kt.PostgrestClient=t.default;const r=e(x3());kt.PostgrestQueryBuilder=r.default;const a=e(Zg());kt.PostgrestFilterBuilder=a.default;const s=e(_3());kt.PostgrestTransformBuilder=s.default;const l=e(w3());kt.PostgrestBuilder=l.default;const u=e(b3());return kt.PostgrestError=u.default,kt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:l.default,PostgrestError:u.default},kt}var R5=j5();const D5=ad(R5),{PostgrestClient:O5,PostgrestQueryBuilder:s7,PostgrestFilterBuilder:o7,PostgrestTransformBuilder:l7,PostgrestBuilder:u7,PostgrestError:c7}=D5;class z5{static dynamicRequire(t){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(t):null}catch{return null}}static detectEnvironment(){var t,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const a=parseInt(process.versions.node.split(".")[0]);if(a>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(r=s.WebSocket)!==null&&r!==void 0?r:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${a} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const a=this.getWebSocketConstructor();return new a(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const L5="2.15.0",P5=`realtime-js/${L5}`,$5="1.0.0",Fm=1e4,B5=1e3,U5=100;var ll;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ll||(ll={}));var bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(bt||(bt={}));var Un;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Un||(Un={}));var Km;(function(e){e.websocket="websocket"})(Km||(Km={}));var ii;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ii||(ii={}));class V5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),a=new TextDecoder;return this._decodeBroadcast(t,r,a)}_decodeBroadcast(t,r,a){const s=r.getUint8(1),l=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=a.decode(t.slice(u,u+s));u=u+s;const f=a.decode(t.slice(u,u+l));u=u+l;const h=JSON.parse(a.decode(t.slice(u,t.byteLength)));return{ref:null,topic:d,event:f,payload:h}}}class S3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xe||(Xe={}));const Lw=(e,t,r={})=>{var a;const s=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(t).reduce((l,u)=>(l[u]=H5(u,e,t,s),l),{})},H5=(e,t,r,a)=>{const s=t.find(d=>d.name===e),l=s?.type,u=r[e];return l&&!a.includes(l)?E3(l,u):Xm(u)},E3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Y5(t,r)}switch(e){case Xe.bool:return I5(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return q5(t);case Xe.json:case Xe.jsonb:return G5(t);case Xe.timestamp:return F5(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return Xm(t);default:return Xm(t)}},Xm=e=>e,I5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},G5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Y5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,a=e[r];if(e[0]==="{"&&a==="}"){let l;const u=e.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>E3(t,d))}return e},F5=e=>typeof e=="string"?e.replace(" ","T"):e,k3=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class em{constructor(t,r,a={},s=Fm){this.channel=t,this.event=r,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var a;return this._hasReceived(t)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pw||(Pw={}));class ul{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ul.syncState(this.state,s,l,u),this.pendingDiffs.forEach(f=>{this.state=ul.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},s=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ul.syncDiff(this.state,s,l,u),d())}),this.onJoin((s,l,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:u})}),this.onLeave((s,l,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,a,s){const l=this.cloneDeep(t),u=this.transformState(r),d={},f={};return this.map(l,(h,g)=>{u[h]||(f[h]=g)}),this.map(u,(h,g)=>{const v=l[h];if(v){const w=g.map(j=>j.presence_ref),k=v.map(j=>j.presence_ref),A=g.filter(j=>k.indexOf(j.presence_ref)<0),N=v.filter(j=>w.indexOf(j.presence_ref)<0);A.length>0&&(d[h]=A),N.length>0&&(f[h]=N)}else d[h]=g}),this.syncDiff(l,{joins:d,leaves:f},a,s)}static syncDiff(t,r,a,s){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(l,(d,f)=>{var h;const g=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(f),g.length>0){const v=t[d].map(k=>k.presence_ref),w=g.filter(k=>v.indexOf(k.presence_ref)<0);t[d].unshift(...w)}a(d,g,f)}),this.map(u,(d,f)=>{let h=t[d];if(!h)return;const g=f.map(v=>v.presence_ref);h=h.filter(v=>g.indexOf(v.presence_ref)<0),t[d]=h,s(d,h,f),h.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(a=>r(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,a)=>{const s=t[a];return"metas"in s?r[a]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $w;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})($w||($w={}));var cl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cl||(cl={}));var Er;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Er||(Er={}));class Qg{constructor(t,r={config:{}},a){this.topic=t,this.params=r,this.socket=a,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new em(this,Un.join,this.params,this.timeout),this.rejoinTimer=new S3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Un.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new ul(this),this.broadcastEndpointURL=k3(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(w=>w.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[cl.PRESENCE]&&this.bindings[cl.PRESENCE].length>0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(Er.CHANNEL_ERROR,w)),this._onClose(()=>t?.(Er.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var k;if(this.socket.setAuth(),w===void 0){t?.(Er.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,N=(k=A?.length)!==null&&k!==void 0?k:0,j=[];for(let R=0;R<N;R++){const $=A[R],{filter:{event:B,schema:p,table:_,filter:b}}=$,S=w&&w[R];if(S&&S.event===B&&S.schema===p&&S.table===_&&S.filter===b)j.push(Object.assign(Object.assign({},$),{id:S.id}));else{this.unsubscribe(),this.state=bt.errored,t?.(Er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(Er.SUBSCRIBED);return}}).receive("error",w=>{this.state=bt.errored,t?.(Er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(Er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,a){return this.state===bt.joined&&t===cl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,a)}async send(t,r={}){var a,s;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:u}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Un.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new em(this,Un.leave,{},t),a.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(t,r,a){const s=new AbortController,l=setTimeout(()=>s.abort(),a),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(l),u}_push(t,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new em(this,t,r,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>U5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,a){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,a){var s,l;const u=t.toLocaleLowerCase(),{close:d,error:f,leave:h,join:g}=Un;if(a&&[d,f,h,g].indexOf(u)>=0&&a!==this._joinRef())return;let w=this._onMessage(u,r,a);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(k=>{var A,N,j;return((A=k.filter)===null||A===void 0?void 0:A.event)==="*"||((j=(N=k.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(k=>k.callback(w,a)):(l=this.bindings[u])===null||l===void 0||l.filter(k=>{var A,N,j,R,$,B;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in k){const p=k.id,_=(A=k.filter)===null||A===void 0?void 0:A.event;return p&&((N=r.ids)===null||N===void 0?void 0:N.includes(p))&&(_==="*"||_?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const p=($=(R=k?.filter)===null||R===void 0?void 0:R.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return p==="*"||p===((B=r?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===u}).map(k=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:N,table:j,commit_timestamp:R,type:$,errors:B}=A;w=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:R,eventType:$,new:{},old:{},errors:B}),this._getPayloadRecords(A))}k.callback(w,a)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,a){const s=t.toLocaleLowerCase(),l={type:s,filter:r,callback:a};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(t,r){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&Qg.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const a in t)if(t[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Un.close,{},t)}_onError(t){this._on(Un.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Lw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Lw(t.columns,t.old_record)),r}}const Bw=()=>{},bc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K5=[1e3,2e3,5e3,1e4],X5=1e4,Z5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Q5{constructor(t,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fm,this.transport=null,this.heartbeatIntervalMs=bc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bw,this.ref=0,this.reconnectTimer=null,this.logger=Bw,this.conn=null,this.sendBuffer=[],this.serializer=new V5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...u)=>Aa(async()=>{const{default:d}=await Promise.resolve().then(()=>Bs);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Km.websocket}`,this.httpEndpoint=k3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z5.createWebSocket(this.endpointURL())}catch(t){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${t.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,a){this.logger(t,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ll.connecting:return ii.Connecting;case ll.open:return ii.Open;case ll.closing:return ii.Closing;default:return ii.Closed}}isConnected(){return this.connectionState()===ii.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const a=`realtime:${t}`,s=this.getChannels().find(l=>l.topic===a);if(s)return s;{const l=new Qg(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:a,payload:s,ref:l}=t,u=()=>{this.encode(t,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${a} (${l})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(B5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:l,ref:u}=r,d=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${s} ${d}`.trim(),l),this.channels.filter(h=>h._isMember(a)).forEach(h=>h._trigger(s,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Un.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const a=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${a}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const a=new Blob([Z5],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:P5};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Un.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new S3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,a,s,l,u,d,f,h;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Fm,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:bc.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:g=>K5[g-1]||X5,this.encode=(f=t?.encode)!==null&&f!==void 0?f:(g,v)=>v(JSON.stringify(g)),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Wg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class W5 extends Wg{constructor(t,r,a){super(t),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zm extends Wg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var J5=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};const T3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Aa(async()=>{const{default:a}=await Promise.resolve().then(()=>Bs);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},e6=()=>J5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Aa(()=>Promise.resolve().then(()=>Bs),void 0)).Response:Response}),Qm=e=>{if(Array.isArray(e))return e.map(r=>Qm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,a])=>{const s=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[s]=Qm(a)}),t},t6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var yi=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};const tm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n6=(e,t,r)=>yi(void 0,void 0,void 0,function*(){const a=yield e6();e instanceof a&&!r?.noResolveJson?e.json().then(s=>{const l=e.status||500,u=s?.statusCode||l+"";t(new W5(tm(s),l,u))}).catch(s=>{t(new Zm(tm(s),s))}):t(new Zm(tm(e),e))}),r6=(e,t,r,a)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!a?s:(t6(a)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),r))};function $l(e,t,r,a,s,l){return yi(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(r,r6(t,a,s,l)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>n6(f,d,a))})})}function Zc(e,t,r,a){return yi(this,void 0,void 0,function*(){return $l(e,"GET",t,r,a)})}function kr(e,t,r,a,s){return yi(this,void 0,void 0,function*(){return $l(e,"POST",t,a,s,r)})}function Wm(e,t,r,a,s){return yi(this,void 0,void 0,function*(){return $l(e,"PUT",t,a,s,r)})}function a6(e,t,r,a){return yi(this,void 0,void 0,function*(){return $l(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function A3(e,t,r,a,s){return yi(this,void 0,void 0,function*(){return $l(e,"DELETE",t,a,s,r)})}var Xt=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};const i6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s6{constructor(t,r={},a,s){this.url=t,this.headers=r,this.bucketId=a,this.fetch=T3(s)}uploadOrUpdate(t,r,a,s){return Xt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Uw),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s?.headers&&(d=Object.assign(Object.assign({},d),s.headers));const h=this._removeEmptyFolders(r),g=this._getFinalPath(h),v=yield(t=="PUT"?Wm:kr)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(Tt(l))return{data:null,error:l};throw l}})}upload(t,r,a){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,a)})}uploadToSignedUrl(t,r,a,s){return Xt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:Uw.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",h.cacheControl)):(f=a,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const v=yield Wm(this.fetch,d.toString(),f,{headers:g});return{data:{path:l,fullPath:v.Key},error:null}}catch(f){if(Tt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,r){return Xt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const l=yield kr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Wg("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}update(t,r,a){return Xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,a)})}move(t,r,a){return Xt(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}copy(t,r,a){return Xt(this,void 0,void 0,function*(){try{return{data:{path:(yield kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,a){return Xt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),l=yield kr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,a){return Xt(this,void 0,void 0,function*(){try{const s=yield kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}download(t,r){return Xt(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield Zc(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Tt(d))return{data:null,error:d};throw d}})}info(t){return Xt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const a=yield Zc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qm(a),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}exists(t){return Xt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield a6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Tt(a)&&a instanceof Zm){const s=a.originalError;if([400,404].includes(s?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,r){const a=this._getFinalPath(t),s=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&s.push(l);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&s.push(f);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${h}`)}}}remove(t){return Xt(this,void 0,void 0,function*(){try{return{data:yield A3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}list(t,r,a){return Xt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},i6),r),{prefix:t||""});return{data:yield kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(Tt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const o6="2.10.4",l6={"X-Client-Info":`storage-js/${o6}`};var ds=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};class u6{constructor(t,r={},a,s){const l=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},l6),r),this.fetch=T3(a)}listBuckets(){return ds(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}getBucket(t){return ds(this,void 0,void 0,function*(){try{return{data:yield Zc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ds(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return ds(this,void 0,void 0,function*(){try{return{data:yield Wm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}emptyBucket(t){return ds(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ds(this,void 0,void 0,function*(){try{return{data:yield A3(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}}class c6 extends u6{constructor(t,r={},a,s){super(t,r,a,s)}from(t){return new s6(this.url,this.headers,t,this.fetch)}}const d6="2.54.0";let sl="";typeof Deno<"u"?sl="deno":typeof document<"u"?sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sl="react-native":sl="node";const f6={"X-Client-Info":`supabase-js-${sl}/${d6}`},h6={headers:f6},m6={schema:"public"},g6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p6={};var y6=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};const v6=e=>{let t;return e?t=e:typeof fetch>"u"?t=y3:t=fetch,(...r)=>t(...r)},b6=()=>typeof Headers>"u"?v3:Headers,w6=(e,t,r)=>{const a=v6(r),s=b6();return(l,u)=>y6(void 0,void 0,void 0,function*(){var d;const f=(d=yield t())!==null&&d!==void 0?d:e;let h=new s(u?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),a(l,Object.assign(Object.assign({},u),{headers:h}))})};var _6=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};function x6(e){return e.endsWith("/")?e:e+"/"}function S6(e,t){var r,a;const{db:s,auth:l,realtime:u,global:d}=e,{db:f,auth:h,realtime:g,global:v}=t,w={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},h),l),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(r=v?.headers)!==null&&r!==void 0?r:{}),(a=d?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>_6(this,void 0,void 0,function*(){return""})};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}const C3="2.71.1",bs=30*1e3,Jm=3,nm=Jm*bs,E6="http://localhost:9999",k6="supabase.auth.token",T6={"X-Client-Info":`gotrue-js/${C3}`},eg="X-Supabase-Api-Version",N3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C6=10*60*1e3;class Jg extends Error{constructor(t,r,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class N6 extends Jg{constructor(t,r,a){super(t,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function M6(e){return Ae(e)&&e.name==="AuthApiError"}class M3 extends Jg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ca extends Jg{constructor(t,r,a,s){super(t,a,s),this.name=r,this.status=a}}class da extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j6(e){return Ae(e)&&e.name==="AuthSessionMissingError"}class wc extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _c extends Ca{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xc extends Ca{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R6(e){return Ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vw extends Ca{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tg extends Ca{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function rm(e){return Ae(e)&&e.name==="AuthRetryableFetchError"}class Hw extends Ca{constructor(t,r,a){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class ng extends Ca{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iw=` 	
\r=`.split(""),D6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Iw.length;t+=1)e[Iw[t].charCodeAt(0)]=-2;for(let t=0;t<Qc.length;t+=1)e[Qc[t].charCodeAt(0)]=t;return e})();function qw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Qc[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;r(Qc[a]),t.queuedBits-=6}}function j3(e,t,r){const a=D6[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gw(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=u=>{L6(u,a,r)};for(let u=0;u<e.length;u+=1)j3(e.charCodeAt(u),s,l);return t.join("")}function O6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function z6(e,t){for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}O6(a,t)}}function L6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function P6(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)j3(e.charCodeAt(s),r,a);return new Uint8Array(t)}function $6(e){const t=[];return z6(e,r=>t.push(r)),new Uint8Array(t)}function B6(e){const t=[],r={queue:0,queuedBits:0},a=s=>{t.push(s)};return e.forEach(s=>qw(s,r,a)),qw(null,r,a),t.join("")}function U6(e){return Math.round(Date.now()/1e3)+e}function V6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const $n=()=>typeof window<"u"&&typeof document<"u",Wa={tested:!1,writable:!1},R3=()=>{if(!$n())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wa.tested)return Wa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wa.tested=!0,Wa.writable=!0}catch{Wa.tested=!0,Wa.writable=!1}return Wa.writable};function H6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,l)=>{t[l]=s})}catch{}return r.searchParams.forEach((a,s)=>{t[s]=a}),t}const D3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Aa(async()=>{const{default:a}=await Promise.resolve().then(()=>Bs);return{default:a}},void 0).then(({default:a})=>a(...r)):t=fetch,(...r)=>t(...r)},I6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ws=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ja=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ca=async(e,t)=>{await e.removeItem(t)};class gd{constructor(){this.promise=new gd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}gd.promiseConstructor=Promise;function am(e){const t=e.split(".");if(t.length!==3)throw new ng("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!A6.test(t[a]))throw new ng("JWT not in base64url format");return{header:JSON.parse(Gw(t[0])),payload:JSON.parse(Gw(t[1])),signature:P6(t[2]),raw:{header:t[0],payload:t[1]}}}async function q6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function G6(e,t){return new Promise((a,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await e(l);if(!t(l,null,u)){a(u);return}}catch(u){if(!t(l,u)){s(u);return}}})()})}function Y6(e){return("0"+e.toString(16)).substr(-2)}function F6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let s="";for(let l=0;l<56;l++)s+=r.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(t),Array.from(t,Y6).join("")}async function K6(e){const r=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(a);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function X6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await K6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fs(e,t,r=!1){const a=F6();let s=a;r&&(s+="/PASSWORD_RECOVERY"),await ws(e,`${t}-code-verifier`,s);const l=await X6(a);return[l,a===l?"plain":"s256"]}const Z6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q6(e){const t=e.headers.get(eg);if(!t||!t.match(Z6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function W6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function J6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(e){if(!eM.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function im(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yw(e){return JSON.parse(JSON.stringify(e))}var tM=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};const ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nM=[502,503,504];async function Fw(e){var t;if(!I6(e))throw new tg(ri(e),0);if(nM.includes(e.status))throw new tg(ri(e),e.status);let r;try{r=await e.json()}catch(l){throw new M3(ri(l),l)}let a;const s=Q6(e);if(s&&s.getTime()>=N3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Hw(ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new da}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Hw(ri(r),e.status,r.weak_password.reasons);throw new N6(ri(r),e.status||500,a)}const rM=(e,t,r,a)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),r))};async function $e(e,t,r,a){var s;const l=Object.assign({},a?.headers);l[eg]||(l[eg]=N3["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(s=a?.query)!==null&&s!==void 0?s:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await aM(e,t,r+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function aM(e,t,r,a,s,l){const u=rM(t,a,s,l);let d;try{d=await e(r,Object.assign({},u))}catch(f){throw console.error(f),new tg(ri(f),0)}if(d.ok||await Fw(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await Fw(f)}}function Sr(e){var t;let r=null;lM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=U6(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:a},error:null}}function Kw(e){const t=Sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iM(e){return{data:e,error:null}}function sM(e){const{action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:l}=e,u=tM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:a,redirect_to:s,verification_type:l},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function oM(e){return e}function lM(e){return e.access_token&&e.refresh_token&&e.expires_in}const sm=["global","local","others"];var uM=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};class cM{constructor({url:t="",headers:r={},fetch:a}){this.url=t,this.headers=r,this.fetch=D3(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=sm[0]){if(sm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sm.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:va})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:r}=t,a=uM(t,["options"]),s=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(s.new_email=a?.newEmail,delete s.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sM,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:va})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,a,s,l,u,d,f;try{const h={nextPage:null,lastPage:0,total:0},g=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:oM});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,k=(f=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return k.length>0&&(k.forEach(A=>{const N=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(A.split(";")[1].split("=")[1]);h[`${j}Page`]=N}),h.total=parseInt(w)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Ae(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){hs(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:va})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){hs(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:va})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,r=!1){hs(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:va})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){hs(t.userId);try{const{data:r,error:a}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:a}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){hs(t.userId),hs(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function Xw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function dM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ms={debug:!!(globalThis&&R3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fM extends O3{}async function hM(e,t,r){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ms.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}dM();const mM={url:E6,storageKey:k6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zw(e,t,r){return await r()}const gs={};class kl{constructor(t){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kl.nextInstanceID,kl.nextInstanceID+=1,this.instanceID>0&&$n()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},mM),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new cM({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=D3(s.fetch),this.lock=s.lock||Zw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:$n()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=hM:this.lock=Zw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:R3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xw(this.memoryStorage)),$n()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=gs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gs[this.storageKey]=Object.assign(Object.assign({},gs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${C3}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=H6(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),$n()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),R6(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new M3("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,a,s;try{const l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Sr}),{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var r,a,s;try{let l;if("email"in t){const{email:g,password:v,options:w}=t;let k=null,A=null;this.flowType==="pkce"&&([k,A]=await fs(this.storage,this.storageKey)),l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:v,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:k,code_challenge_method:A},xform:Sr})}else if("phone"in t){const{phone:g,password:v,options:w}=t;l=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(a=w?.data)!==null&&a!==void 0?a:{},channel:(s=w?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Sr})}else throw new _c("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return{data:{user:null,session:null},error:d};const f=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:u,options:d}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kw})}else if("phone"in t){const{phone:l,password:u,options:d}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Kw})}else throw new _c("You must provide either an email or phone number and a password");const{data:a,error:s}=r;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new wc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,a,s,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,a,s,l,u,d,f,h,g,v,w,k;let A,N;if("message"in t)A=t.message,N=t.signature;else{const{chain:j,wallet:R,statement:$,options:B}=t;let p;if($n())if(typeof R=="object")p=R;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))p=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=R}const _=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in p&&p.signIn){const b=await p.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),$?{statement:$}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)A=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),N=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in p)||typeof p.signMessage!="function"||!("publicKey"in p)||typeof p!="object"||!p.publicKey||!("toBase58"in p.publicKey)||typeof p.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${_.host} wants you to sign in with your Solana account:`,p.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(a=B?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=B?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((u=B?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((d=B?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((h=B?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((v=(g=B?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...B.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await p.signMessage(new TextEncoder().encode(A),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=b}}try{const{data:j,error:R}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:B6(N)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Sr});if(R)throw R;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new wc}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:R})}catch(j){if(Ae(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(r??"").split("/");try{const{data:l,error:u}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Sr});if(await ca(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new wc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:u})}catch(l){if(Ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:r,provider:a,token:s,access_token:l,nonce:u}=t,d=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Sr}),{data:f,error:h}=d;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new wc}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,a,s,l,u;try{if("email"in t){const{email:d,options:f}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await fs(this.storage,this.storageKey));const{error:v}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:d,options:f}=t,{data:h,error:g}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:g}}throw new _c("You must provide either an email or phone number.")}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,a;try{let s,l;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:Sr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,h=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,a,s;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await fs(this.storage,this.storageKey)),await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:iM})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new da;const{error:s}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:a,type:s,options:l}=t,{error:u}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:a,type:s,options:l}=t,{data:u,error:d}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new _c("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ja(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<nm:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const u=await Ja(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=im()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,h,g)=>(!u&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,h,g))})}return{data:{session:t},error:null}}const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:va}):await this._useSession(async r=>{var a,s,l;const{data:u,error:d}=r;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new da}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:va})})}catch(r){if(Ae(r))return j6(r)&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async a=>{const{data:s,error:l}=a;if(l)throw l;if(!s.session)throw new da;const u=s.session;let d=null,f=null;this.flowType==="pkce"&&t.email!=null&&([d,f]=await fs(this.storage,this.storageKey));const{data:h,error:g}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:va});if(g)throw g;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new da;const r=Date.now()/1e3;let a=r,s=!0,l=null;const{payload:u}=am(t.access_token);if(u.exp&&(a=u.exp,s=a<=r),s){const{session:d,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(t.access_token);if(f)throw f;l={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var a;if(!t){const{data:u,error:d}=r;if(d)throw d;t=(a=u.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new da;const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!$n())throw new xc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vw("No code detected.");const{data:$,error:B}=await this._exchangeCodeForSession(t.code);if(B)throw B;const p=new URL(window.location.href);return p.searchParams.delete("code"),window.history.replaceState(window.history.state,"",p.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:l,refresh_token:u,expires_in:d,expires_at:f,token_type:h}=t;if(!l||!d||!u||!h)throw new xc("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let w=g+v;f&&(w=parseInt(f));const k=w-g;k*1e3<=bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${v}s`);const A=w-v;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,w,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,w,g);const{data:N,error:j}=await this._getUser(l);if(j)throw j;const R={provider_token:a,provider_refresh_token:s,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:h,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(a){if(Ae(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ja(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:s,error:l}=r;if(l)return{error:l};const u=(a=s.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(M6(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=V6(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async r=>{var a,s;try{const{data:{session:l},error:u}=r;if(u)throw u;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await fs(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:a,error:s}=await this._useSession(async l=>{var u,d,f,h,g;const{data:v,error:w}=l;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",k,{headers:this.headers,jwt:(g=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return $n()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:t.provider,url:a?.url},error:null}}catch(a){if(Ae(a))return{data:{provider:t.provider,url:null},error:a};throw a}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var a,s;const{data:l,error:u}=r;if(u)throw u;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await G6(async s=>(s>0&&await q6(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sr})),(s,l)=>{const u=200*Math.pow(2,s);return l&&rm(l)&&Date.now()+u-a<bs})}catch(a){if(this._debug(r,"error",a),Ae(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),$n()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await Ja(this.storage,this.storageKey);if(s&&this.userStorage){let u=await Ja(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await ws(this.userStorage,this.storageKey+"-user",u)),s.user=(t=u?.user)!==null&&t!==void 0?t:im()}else if(s&&!s.user&&!s.user){const u=await Ja(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await ca(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,s)):s.user=im()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const l=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<nm;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${nm}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),rm(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(s.access_token);!d&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var r,a;if(!t)throw new da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gd;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new da;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={session:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(s,"error",l),Ae(l)){const u={session:null,error:l};return rm(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,a=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await ws(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const l=Yw(s);await ws(this.storage,this.storageKey,l)}else{const s=Yw(r);await ws(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ca(this.storage,this.storageKey),await ca(this.storage,this.storageKey+"-code-verifier"),await ca(this.storage,this.storageKey+"-user"),this.userStorage&&await ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&$n()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-t)/bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bs}ms, refresh threshold is ${Jm} ticks`),s<=Jm&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof O3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$n()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,a){const s=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await fs(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);s.push(l.toString())}return a?.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var a;const{data:s,error:l}=r;return l?{data:null,error:l}:await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var a,s;const{data:l,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:f,error:h}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:l}=r;if(l)return{data:null,error:l};const{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:s,error:l}=r;return l?{data:null,error:l}:await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=s?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:a}=await this._challenge({factorId:t.factorId});return a?{data:null,error:a}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=t?.factors||[],s=a.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=a.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:a,totp:s,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,a;const{data:{session:s},error:l}=t;if(l)return{data:null,error:l};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=am(s.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((a=(r=s.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,r={keys:[]}){let a=r.keys.find(d=>d.kid===t);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(d=>d.kid===t),a&&this.jwks_cached_at+C6>s)return a;const{data:l,error:u}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,a=l.keys.find(d=>d.kid===t),!a)?null:a}async getClaims(t,r={}){try{let a=t;if(!a){const{data:k,error:A}=await this.getSession();if(A||!k.session)return{data:null,error:A};a=k.session.access_token}const{header:s,payload:l,signature:u,raw:{header:d,payload:f}}=am(a);r?.allowExpired||W6(l.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:k}=await this.getUser(a);if(k)throw k;return{data:{claims:l,header:s,signature:u},error:null}}const g=J6(s.alg),v=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,$6(`${d}.${f}`)))throw new ng("Invalid JWT signature");return{data:{claims:l,header:s,signature:u},error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}}kl.nextInstanceID=0;const gM=kl;class pM extends gM{constructor(t){super(t)}}var yM=function(e,t,r,a){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(g){try{h(a.next(g))}catch(v){u(v)}}function f(g){try{h(a.throw(g))}catch(v){u(v)}}function h(g){g.done?l(g.value):s(g.value).then(d,f)}h((a=a.apply(e,t||[])).next())})};class vM{constructor(t,r,a){var s,l,u;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=x6(t),f=new URL(d);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:m6,realtime:p6,auth:Object.assign(Object.assign({},g6),{storageKey:h}),global:h6},v=S6(a??{},g);this.storageKey=(s=v.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=w6(r,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new O5(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new c6(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new x5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},a={}){return this.rest.rpc(t,r,a)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return yM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:s,storageKey:l,flowType:u,lock:d,debug:f},h,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pM({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:a,storage:s,flowType:u,lock:d,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Q5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(t,r,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bM=(e,t,r)=>new vM(e,t,r);function wM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}wM()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const z3="https://pgndwjjhyuqjbjzybifd.supabase.co",L3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBnbmR3ampoeXVxamJqenliaWZkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3MzIwNDMsImV4cCI6MjA3MDMwODA0M30.6AdUqO3uSpuvLppchVAShu5SZzwpUQiWMQuml9-ps7w",We=bM(z3,L3),_M=z3,Qw=L3;function xM({title:e,titleId:t,...r},a){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const SM=M.forwardRef(xM);function EM({title:e,titleId:t,...r},a){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const kM=M.forwardRef(EM);function TM({title:e,titleId:t,...r},a){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const AM=M.forwardRef(TM);function CM({title:e,titleId:t,...r},a){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const NM=M.forwardRef(CM);function MM({title:e,titleId:t,...r},a){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const jM=M.forwardRef(MM);function RM({title:e,titleId:t,...r},a){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const DM=M.forwardRef(RM);function OM({title:e,titleId:t,...r},a){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?M.createElement("title",{id:t},e):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const zM=M.forwardRef(OM),ep=M.createContext({});function tp(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const np=typeof window<"u",P3=np?M.useLayoutEffect:M.useEffect,pd=M.createContext(null);function rp(e,t){e.indexOf(t)===-1&&e.push(t)}function ap(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Mr=(e,t,r)=>r>t?t:r<e?e:r;let ip=()=>{};const jr={},$3=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function B3(e){return typeof e=="object"&&e!==null}const U3=e=>/^0[^.\s]+$/u.test(e);function sp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Nn=e=>e,LM=(e,t)=>r=>t(e(r)),Bl=(...e)=>e.reduce(LM),Tl=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a};class op{constructor(){this.subscriptions=[]}add(t){return rp(this.subscriptions,t),()=>ap(this.subscriptions,t)}notify(t,r,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,a);else for(let l=0;l<s;l++){const u=this.subscriptions[l];u&&u(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tr=e=>e*1e3,nr=e=>e/1e3;function V3(e,t){return t?e*(1e3/t):0}const H3=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,PM=1e-7,$M=12;function BM(e,t,r,a,s){let l,u,d=0;do u=t+(r-t)/2,l=H3(u,a,s)-e,l>0?r=u:t=u;while(Math.abs(l)>PM&&++d<$M);return u}function Ul(e,t,r,a){if(e===t&&r===a)return Nn;const s=l=>BM(l,0,1,e,r);return l=>l===0||l===1?l:H3(s(l),t,a)}const I3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,q3=e=>t=>1-e(1-t),G3=Ul(.33,1.53,.69,.99),lp=q3(G3),Y3=I3(lp),F3=e=>(e*=2)<1?.5*lp(e):.5*(2-Math.pow(2,-10*(e-1))),up=e=>1-Math.sin(Math.acos(e)),K3=q3(up),X3=I3(up),UM=Ul(.42,0,1,1),VM=Ul(0,0,.58,1),Z3=Ul(.42,0,.58,1),HM=e=>Array.isArray(e)&&typeof e[0]!="number",Q3=e=>Array.isArray(e)&&typeof e[0]=="number",IM={linear:Nn,easeIn:UM,easeInOut:Z3,easeOut:VM,circIn:up,circInOut:X3,circOut:K3,backIn:lp,backInOut:Y3,backOut:G3,anticipate:F3},qM=e=>typeof e=="string",Ww=e=>{if(Q3(e)){ip(e.length===4);const[t,r,a,s]=e;return Ul(t,r,a,s)}else if(qM(e))return IM[e];return e},Sc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function GM(e,t){let r=new Set,a=new Set,s=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(h.schedule(g),e()),g(d)}const h={schedule:(g,v=!1,w=!1)=>{const A=w&&s?r:a;return v&&u.add(g),A.has(g)||A.add(g),g},cancel:g=>{a.delete(g),u.delete(g)},process:g=>{if(d=g,s){l=!0;return}s=!0,[r,a]=[a,r],r.forEach(f),r.clear(),s=!1,l&&(l=!1,h.process(g))}};return h}const YM=40;function W3(e,t){let r=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,u=Sc.reduce((B,p)=>(B[p]=GM(l),B),{}),{setup:d,read:f,resolveKeyframes:h,preUpdate:g,update:v,preRender:w,render:k,postRender:A}=u,N=()=>{const B=jr.useManualTiming?s.timestamp:performance.now();r=!1,jr.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(B-s.timestamp,YM),1)),s.timestamp=B,s.isProcessing=!0,d.process(s),f.process(s),h.process(s),g.process(s),v.process(s),w.process(s),k.process(s),A.process(s),s.isProcessing=!1,r&&t&&(a=!1,e(N))},j=()=>{r=!0,a=!0,s.isProcessing||e(N)};return{schedule:Sc.reduce((B,p)=>{const _=u[p];return B[p]=(b,S=!1,C=!1)=>(r||j(),_.schedule(b,S,C)),B},{}),cancel:B=>{for(let p=0;p<Sc.length;p++)u[Sc[p]].cancel(B)},state:s,steps:u}}const{schedule:Qe,cancel:ka,state:jt,steps:om}=W3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0);let Dc;function FM(){Dc=void 0}const Wt={now:()=>(Dc===void 0&&Wt.set(jt.isProcessing||jr.useManualTiming?jt.timestamp:performance.now()),Dc),set:e=>{Dc=e,queueMicrotask(FM)}},J3=e=>t=>typeof t=="string"&&t.startsWith(e),cp=J3("--"),KM=J3("var(--"),dp=e=>KM(e)?XM.test(e.split("/*")[0].trim()):!1,XM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Us={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Al={...Us,transform:e=>Mr(0,1,e)},Ec={...Us,default:1},dl=e=>Math.round(e*1e5)/1e5,fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZM(e){return e==null}const QM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hp=(e,t)=>r=>!!(typeof r=="string"&&QM.test(r)&&r.startsWith(e)||t&&!ZM(r)&&Object.prototype.hasOwnProperty.call(r,t)),e2=(e,t,r)=>a=>{if(typeof a!="string")return a;const[s,l,u,d]=a.match(fp);return{[e]:parseFloat(s),[t]:parseFloat(l),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},WM=e=>Mr(0,255,e),lm={...Us,transform:e=>Math.round(WM(e))},ui={test:hp("rgb","red"),parse:e2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+lm.transform(e)+", "+lm.transform(t)+", "+lm.transform(r)+", "+dl(Al.transform(a))+")"};function JM(e){let t="",r="",a="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const rg={test:hp("#"),parse:JM,transform:ui.transform},Vl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fa=Vl("deg"),rr=Vl("%"),Te=Vl("px"),ej=Vl("vh"),tj=Vl("vw"),Jw={...rr,parse:e=>rr.parse(e)/100,transform:e=>rr.transform(e*100)},Ss={test:hp("hsl","hue"),parse:e2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+rr.transform(dl(t))+", "+rr.transform(dl(r))+", "+dl(Al.transform(a))+")"},pt={test:e=>ui.test(e)||rg.test(e)||Ss.test(e),parse:e=>ui.test(e)?ui.parse(e):Ss.test(e)?Ss.parse(e):rg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ui.transform(e):Ss.transform(e),getAnimatableNone:e=>{const t=pt.parse(e);return t.alpha=0,pt.transform(t)}},nj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rj(e){return isNaN(e)&&typeof e=="string"&&(e.match(fp)?.length||0)+(e.match(nj)?.length||0)>0}const t2="number",n2="color",aj="var",ij="var(",e_="${}",sj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cl(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(sj,f=>(pt.test(f)?(a.color.push(l),s.push(n2),r.push(pt.parse(f))):f.startsWith(ij)?(a.var.push(l),s.push(aj),r.push(f)):(a.number.push(l),s.push(t2),r.push(parseFloat(f))),++l,e_)).split(e_);return{values:r,split:d,indexes:a,types:s}}function r2(e){return Cl(e).values}function a2(e){const{split:t,types:r}=Cl(e),a=t.length;return s=>{let l="";for(let u=0;u<a;u++)if(l+=t[u],s[u]!==void 0){const d=r[u];d===t2?l+=dl(s[u]):d===n2?l+=pt.transform(s[u]):l+=s[u]}return l}}const oj=e=>typeof e=="number"?0:pt.test(e)?pt.getAnimatableNone(e):e;function lj(e){const t=r2(e);return a2(e)(t.map(oj))}const Ta={test:rj,parse:r2,createTransformer:a2,getAnimatableNone:lj};function um(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function uj({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let s=0,l=0,u=0;if(!t)s=l=u=r;else{const d=r<.5?r*(1+t):r+t-r*t,f=2*r-d;s=um(f,d,e+1/3),l=um(f,d,e),u=um(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:a}}function Wc(e,t){return r=>r>0?t:e}const et=(e,t,r)=>e+(t-e)*r,cm=(e,t,r)=>{const a=e*e,s=r*(t*t-a)+a;return s<0?0:Math.sqrt(s)},cj=[rg,ui,Ss],dj=e=>cj.find(t=>t.test(e));function t_(e){const t=dj(e);if(!t)return!1;let r=t.parse(e);return t===Ss&&(r=uj(r)),r}const n_=(e,t)=>{const r=t_(e),a=t_(t);if(!r||!a)return Wc(e,t);const s={...r};return l=>(s.red=cm(r.red,a.red,l),s.green=cm(r.green,a.green,l),s.blue=cm(r.blue,a.blue,l),s.alpha=et(r.alpha,a.alpha,l),ui.transform(s))},ag=new Set(["none","hidden"]);function fj(e,t){return ag.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function hj(e,t){return r=>et(e,t,r)}function mp(e){return typeof e=="number"?hj:typeof e=="string"?dp(e)?Wc:pt.test(e)?n_:pj:Array.isArray(e)?i2:typeof e=="object"?pt.test(e)?n_:mj:Wc}function i2(e,t){const r=[...e],a=r.length,s=e.map((l,u)=>mp(l)(l,t[u]));return l=>{for(let u=0;u<a;u++)r[u]=s[u](l);return r}}function mj(e,t){const r={...e,...t},a={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(a[s]=mp(e[s])(e[s],t[s]));return s=>{for(const l in a)r[l]=a[l](s);return r}}function gj(e,t){const r=[],a={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],u=e.indexes[l][a[l]],d=e.values[u]??0;r[s]=d,a[l]++}return r}const pj=(e,t)=>{const r=Ta.createTransformer(t),a=Cl(e),s=Cl(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?ag.has(e)&&!s.values.length||ag.has(t)&&!a.values.length?fj(e,t):Bl(i2(gj(a,s),s.values),r):Wc(e,t)};function s2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?et(e,t,r):mp(e)(e,t)}const yj=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Qe.update(t,r),stop:()=>ka(t),now:()=>jt.isProcessing?jt.timestamp:Wt.now()}},o2=(e,t,r=10)=>{let a="";const s=Math.max(Math.round(t/r),2);for(let l=0;l<s;l++)a+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Jc=2e4;function gp(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<Jc;)t+=r,a=e.next(t);return t>=Jc?1/0:t}function vj(e,t=100,r){const a=r({...e,keyframes:[0,t]}),s=Math.min(gp(a),Jc);return{type:"keyframes",ease:l=>a.next(s*l).value/t,duration:nr(s)}}const bj=5;function l2(e,t,r){const a=Math.max(t-bj,0);return V3(r-e(a),t-a)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dm=.001;function wj({duration:e=at.duration,bounce:t=at.bounce,velocity:r=at.velocity,mass:a=at.mass}){let s,l,u=1-t;u=Mr(at.minDamping,at.maxDamping,u),e=Mr(at.minDuration,at.maxDuration,nr(e)),u<1?(s=h=>{const g=h*u,v=g*e,w=g-r,k=ig(h,u),A=Math.exp(-v);return dm-w/k*A},l=h=>{const v=h*u*e,w=v*r+r,k=Math.pow(u,2)*Math.pow(h,2)*e,A=Math.exp(-v),N=ig(Math.pow(h,2),u);return(-s(h)+dm>0?-1:1)*((w-k)*A)/N}):(s=h=>{const g=Math.exp(-h*e),v=(h-r)*e+1;return-dm+g*v},l=h=>{const g=Math.exp(-h*e),v=(r-h)*(e*e);return g*v});const d=5/e,f=xj(s,l,d);if(e=tr(e),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:e};{const h=Math.pow(f,2)*a;return{stiffness:h,damping:u*2*Math.sqrt(a*h),duration:e}}}const _j=12;function xj(e,t,r){let a=r;for(let s=1;s<_j;s++)a=a-e(a)/t(a);return a}function ig(e,t){return e*Math.sqrt(1-t*t)}const Sj=["duration","bounce"],Ej=["stiffness","damping","mass"];function r_(e,t){return t.some(r=>e[r]!==void 0)}function kj(e){let t={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...e};if(!r_(e,Ej)&&r_(e,Sj))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),s=a*a,l=2*Mr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:at.mass,stiffness:s,damping:l}}else{const r=wj(e);t={...t,...r,mass:at.mass},t.isResolvedFromDuration=!0}return t}function ed(e=at.visualDuration,t=at.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=r;const l=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:h,mass:g,duration:v,velocity:w,isResolvedFromDuration:k}=kj({...r,velocity:-nr(r.velocity||0)}),A=w||0,N=h/(2*Math.sqrt(f*g)),j=u-l,R=nr(Math.sqrt(f/g)),$=Math.abs(j)<5;a||(a=$?at.restSpeed.granular:at.restSpeed.default),s||(s=$?at.restDelta.granular:at.restDelta.default);let B;if(N<1){const _=ig(R,N);B=b=>{const S=Math.exp(-N*R*b);return u-S*((A+N*R*j)/_*Math.sin(_*b)+j*Math.cos(_*b))}}else if(N===1)B=_=>u-Math.exp(-R*_)*(j+(A+R*j)*_);else{const _=R*Math.sqrt(N*N-1);B=b=>{const S=Math.exp(-N*R*b),C=Math.min(_*b,300);return u-S*((A+N*R*j)*Math.sinh(C)+_*j*Math.cosh(C))/_}}const p={calculatedDuration:k&&v||null,next:_=>{const b=B(_);if(k)d.done=_>=v;else{let S=_===0?A:0;N<1&&(S=_===0?tr(A):l2(B,_,b));const C=Math.abs(S)<=a,L=Math.abs(u-b)<=s;d.done=C&&L}return d.value=d.done?u:b,d},toString:()=>{const _=Math.min(gp(p),Jc),b=o2(S=>p.next(_*S).value,_,30);return _+"ms "+b},toTransition:()=>{}};return p}ed.applyToOptions=e=>{const t=vj(e,100,ed);return e.ease=t.ease,e.duration=tr(t.duration),e.type="keyframes",e};function sg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:h=.5,restSpeed:g}){const v=e[0],w={done:!1,value:v},k=C=>d!==void 0&&C<d||f!==void 0&&C>f,A=C=>d===void 0?f:f===void 0||Math.abs(d-C)<Math.abs(f-C)?d:f;let N=r*t;const j=v+N,R=u===void 0?j:u(j);R!==j&&(N=R-v);const $=C=>-N*Math.exp(-C/a),B=C=>R+$(C),p=C=>{const L=$(C),z=B(C);w.done=Math.abs(L)<=h,w.value=w.done?R:z};let _,b;const S=C=>{k(w.value)&&(_=C,b=ed({keyframes:[w.value,A(w.value)],velocity:l2(B,C,w.value),damping:s,stiffness:l,restDelta:h,restSpeed:g}))};return S(0),{calculatedDuration:null,next:C=>{let L=!1;return!b&&_===void 0&&(L=!0,p(C),S(C)),_!==void 0&&C>=_?b.next(C-_):(!L&&p(C),w)}}}function Tj(e,t,r){const a=[],s=r||jr.mix||s2,l=e.length-1;for(let u=0;u<l;u++){let d=s(e[u],e[u+1]);if(t){const f=Array.isArray(t)?t[u]||Nn:t;d=Bl(f,d)}a.push(d)}return a}function Aj(e,t,{clamp:r=!0,ease:a,mixer:s}={}){const l=e.length;if(ip(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=Tj(t,a,s),f=d.length,h=g=>{if(u&&g<e[0])return t[0];let v=0;if(f>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const w=Tl(e[v],e[v+1],g);return d[v](w)};return r?g=>h(Mr(e[0],e[l-1],g)):h}function Cj(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const s=Tl(0,t,a);e.push(et(r,1,s))}}function Nj(e){const t=[0];return Cj(t,e.length-1),t}function Mj(e,t){return e.map(r=>r*t)}function jj(e,t){return e.map(()=>t||Z3).splice(0,e.length-1)}function fl({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const s=HM(a)?a.map(Ww):Ww(a),l={done:!1,value:t[0]},u=Mj(r&&r.length===t.length?r:Nj(t),e),d=Aj(u,t,{ease:Array.isArray(s)?s:jj(t,s)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const Rj=e=>e!==null;function pp(e,{repeat:t,repeatType:r="loop"},a,s=1){const l=e.filter(Rj),d=s<0||t&&r!=="loop"&&t%2===1?0:l.length-1;return!d||a===void 0?l[d]:a}const Dj={decay:sg,inertia:sg,tween:fl,keyframes:fl,spring:ed};function u2(e){typeof e.type=="string"&&(e.type=Dj[e.type])}class yp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Oj=e=>e/100;class vp extends yp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Wt.now()&&this.tick(Wt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;u2(t);const{type:r=fl,repeat:a=0,repeatDelay:s=0,repeatType:l,velocity:u=0}=t;let{keyframes:d}=t;const f=r||fl;f!==fl&&typeof d[0]!="number"&&(this.mixKeyframes=Bl(Oj,s2(d[0],d[1])),d=[0,100]);const h=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-u})),h.calculatedDuration===null&&(h.calculatedDuration=gp(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:a,totalDuration:s,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return a.next(0);const{delay:h=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:k,type:A,onUpdate:N,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const R=this.currentTime-h*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?R<0:R>s;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let B=this.currentTime,p=a;if(v){const C=Math.min(this.currentTime,s)/d;let L=Math.floor(C),z=C%1;!z&&C>=1&&(z=1),z===1&&L--,L=Math.min(L,v+1),!!(L%2)&&(w==="reverse"?(z=1-z,k&&(z-=k/d)):w==="mirror"&&(p=u)),B=Mr(0,1,z)*d}const _=$?{done:!1,value:g[0]}:p.next(B);l&&(_.value=l(_.value));let{done:b}=_;!$&&f!==null&&(b=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return S&&A!==sg&&(_.value=pp(g,this.options,j,this.speed)),N&&N(_.value),S&&this.finish(),_}then(t,r){return this.finished.then(t,r)}get duration(){return nr(this.calculatedDuration)}get time(){return nr(this.currentTime)}set time(t){t=tr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=nr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=yj,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ci=e=>e*180/Math.PI,og=e=>{const t=ci(Math.atan2(e[1],e[0]));return lg(t)},Lj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:og,rotateZ:og,skewX:e=>ci(Math.atan(e[1])),skewY:e=>ci(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},lg=e=>(e=e%360,e<0&&(e+=360),e),a_=og,i_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),s_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Pj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i_,scaleY:s_,scale:e=>(i_(e)+s_(e))/2,rotateX:e=>lg(ci(Math.atan2(e[6],e[5]))),rotateY:e=>lg(ci(Math.atan2(-e[2],e[0]))),rotateZ:a_,rotate:a_,skewX:e=>ci(Math.atan(e[4])),skewY:e=>ci(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ug(e){return e.includes("scale")?1:0}function cg(e,t){if(!e||e==="none")return ug(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(r)a=Pj,s=r;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Lj,s=d}if(!s)return ug(t);const l=a[t],u=s[1].split(",").map(Bj);return typeof l=="function"?l(u):u[l]}const $j=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return cg(r,t)};function Bj(e){return parseFloat(e.trim())}const Vs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(Vs),o_=e=>e===Us||e===Te,Uj=new Set(["x","y","z"]),Vj=Vs.filter(e=>!Uj.has(e));function Hj(e){const t=[];return Vj.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const hi={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>cg(t,"x"),y:(e,{transform:t})=>cg(t,"y")};hi.translateX=hi.x;hi.translateY=hi.y;const mi=new Set;let dg=!1,fg=!1,hg=!1;function c2(){if(fg){const e=Array.from(mi).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const s=Hj(a);s.length&&(r.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=r.get(a);s&&s.forEach(([l,u])=>{a.getValue(l)?.set(u)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}fg=!1,dg=!1,mi.forEach(e=>e.complete(hg)),mi.clear()}function d2(){mi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fg=!0)})}function Ij(){hg=!0,d2(),c2(),hg=!1}class bp{constructor(t,r,a,s,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=s,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(mi.add(this),dg||(dg=!0,Qe.read(d2),Qe.resolveKeyframes(c2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:s}=this;if(t[0]===null){const l=s?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(a&&r){const d=a.readValue(r,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),s&&l===void 0&&s.set(t[0])}zj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),mi.delete(this)}cancel(){this.state==="scheduled"&&(mi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qj=e=>e.startsWith("--");function Gj(e,t,r){qj(t)?e.style.setProperty(t,r):e.style[t]=r}const Yj=sp(()=>window.ScrollTimeline!==void 0),Fj={};function Kj(e,t){const r=sp(e);return()=>Fj[t]??r()}const f2=Kj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ol=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,l_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ol([0,.65,.55,1]),circOut:ol([.55,0,1,.45]),backIn:ol([.31,.01,.66,-.59]),backOut:ol([.33,1.53,.69,.99])};function h2(e,t){if(e)return typeof e=="function"?f2()?o2(e,t):"ease-out":Q3(e)?ol(e):Array.isArray(e)?e.map(r=>h2(r,t)||l_.easeOut):l_[e]}function Xj(e,t,r,{delay:a=0,duration:s=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:f}={},h=void 0){const g={[t]:r};f&&(g.offset=f);const v=h2(d,s);Array.isArray(v)&&(g.easing=v);const w={delay:a,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return h&&(w.pseudoElement=h),e.animate(g,w)}function m2(e){return typeof e=="function"&&"applyToOptions"in e}function Zj({type:e,...t}){return m2(e)&&f2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Qj extends yp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:a,keyframes:s,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,ip(typeof t.type!="string");const h=Zj(t);this.animation=Xj(r,a,s,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=pp(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):Gj(r,a,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return nr(Number(t))}get time(){return nr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=tr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Yj()?(this.animation.timeline=t,Nn):r(this)}}const g2={anticipate:F3,backInOut:Y3,circInOut:X3};function Wj(e){return e in g2}function Jj(e){typeof e.ease=="string"&&Wj(e.ease)&&(e.ease=g2[e.ease])}const u_=10;class eR extends Qj{constructor(t){Jj(t),u2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:a,onComplete:s,element:l,...u}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const d=new vp({...u,autoplay:!1}),f=tr(this.finishedTime??this.time);r.setWithVelocity(d.sample(f-u_).value,d.sample(f).value,u_),d.stop()}}const c_=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ta.test(e)||e==="0")&&!e.startsWith("url("));function tR(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function nR(e,t,r,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=c_(s,t),d=c_(l,t);return!u||!d?!1:tR(e)||(r==="spring"||m2(r))&&a}const rR=new Set(["opacity","clipPath","filter","transform"]),aR=sp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iR(e){const{motionValue:t,name:r,repeatDelay:a,repeatType:s,damping:l,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return aR()&&r&&rR.has(r)&&(r!=="transform"||!h)&&!f&&!a&&s!=="mirror"&&l!==0&&u!=="inertia"}const sR=40;class oR extends yp{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:f,motionValue:h,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Wt.now();const w={autoplay:t,delay:r,type:a,repeat:s,repeatDelay:l,repeatType:u,name:f,motionValue:h,element:g,...v},k=g?.KeyframeResolver||bp;this.keyframeResolver=new k(d,(A,N,j)=>this.onKeyframesResolved(A,N,w,!j),f,h,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,a,s){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:f,isHandoff:h,onUpdate:g}=a;this.resolvedAt=Wt.now(),nR(t,l,u,d)||((jr.instantAnimations||!f)&&g?.(pp(t,a,r)),t[0]=t[t.length-1],a.duration=0,a.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>sR?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:t},k=!h&&iR(w)?new eR({...w,element:w.motionValue.owner.current}):new vp(w);k.finished.then(()=>this.notifyFinished()).catch(Nn),this.pendingTimeline&&(this.stopTimeline=k.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=k}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ij()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const lR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function uR(e){const t=lR.exec(e);if(!t)return[,];const[,r,a,s]=t;return[`--${r??a}`,s]}function p2(e,t,r=1){const[a,s]=uR(e);if(!a)return;const l=window.getComputedStyle(t).getPropertyValue(a);if(l){const u=l.trim();return $3(u)?parseFloat(u):u}return dp(s)?p2(s,t,r+1):s}function wp(e,t){return e?.[t]??e?.default??e}const y2=new Set(["width","height","top","left","right","bottom",...Vs]),cR={test:e=>e==="auto",parse:e=>e},v2=e=>t=>t.test(e),b2=[Us,Te,rr,fa,tj,ej,cR],d_=e=>b2.find(v2(e));function dR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||U3(e):!0}const fR=new Set(["brightness","contrast","saturate","opacity"]);function hR(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(fp)||[];if(!a)return e;const s=r.replace(a,"");let l=fR.has(t)?1:0;return a!==r&&(l*=100),t+"("+l+s+")"}const mR=/\b([a-z-]*)\(.*?\)/gu,mg={...Ta,getAnimatableNone:e=>{const t=e.match(mR);return t?t.map(hR).join(" "):e}},f_={...Us,transform:Math.round},gR={rotate:fa,rotateX:fa,rotateY:fa,rotateZ:fa,scale:Ec,scaleX:Ec,scaleY:Ec,scaleZ:Ec,skew:fa,skewX:fa,skewY:fa,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Al,originX:Jw,originY:Jw,originZ:Te},_p={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te,...gR,zIndex:f_,fillOpacity:Al,strokeOpacity:Al,numOctaves:f_},pR={..._p,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:mg,WebkitFilter:mg},w2=e=>pR[e];function _2(e,t){let r=w2(e);return r!==mg&&(r=Ta),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const yR=new Set(["auto","none","0"]);function vR(e,t,r){let a=0,s;for(;a<e.length&&!s;){const l=e[a];typeof l=="string"&&!yR.has(l)&&Cl(l).values.length&&(s=e[a]),a++}if(s&&r)for(const l of t)e[l]=_2(r,s)}class bR extends bp{constructor(t,r,a,s,l){super(t,r,a,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let h=t[f];if(typeof h=="string"&&(h=h.trim(),dp(h))){const g=p2(h,r.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!y2.has(a)||t.length!==2)return;const[s,l]=t,u=d_(s),d=d_(l);if(u!==d)if(o_(u)&&o_(d))for(let f=0;f<t.length;f++){const h=t[f];typeof h=="string"&&(t[f]=parseFloat(h))}else hi[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||dR(t[s]))&&a.push(s);a.length&&vR(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hi[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const l=a.length-1,u=a[l];a[l]=hi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function wR(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const s=r?.[e]??a.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const x2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function S2(e){return B3(e)&&"offsetHeight"in e}const h_=30,_R=e=>!isNaN(parseFloat(e));class xR{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,s=!0)=>{const l=Wt.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Wt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_R(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new op);const a=this.events[t].add(r);return t==="change"?()=>{a(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>h_)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,h_);return V3(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ps(e,t){return new xR(e,t)}const{schedule:xp}=W3(queueMicrotask,!1),Bn={x:!1,y:!1};function E2(){return Bn.x||Bn.y}function SR(e){return e==="x"||e==="y"?Bn[e]?null:(Bn[e]=!0,()=>{Bn[e]=!1}):Bn.x||Bn.y?null:(Bn.x=Bn.y=!0,()=>{Bn.x=Bn.y=!1})}function k2(e,t){const r=wR(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[r,s,()=>a.abort()]}function m_(e){return!(e.pointerType==="touch"||E2())}function ER(e,t,r={}){const[a,s,l]=k2(e,r),u=d=>{if(!m_(d))return;const{target:f}=d,h=t(f,d);if(typeof h!="function"||!f)return;const g=v=>{m_(v)&&(h(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,s)};return a.forEach(d=>{d.addEventListener("pointerenter",u,s)}),l}const T2=(e,t)=>t?e===t?!0:T2(e,t.parentElement):!1,Sp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,kR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TR(e){return kR.has(e.tagName)||e.tabIndex!==-1}const Oc=new WeakSet;function g_(e){return t=>{t.key==="Enter"&&e(t)}}function fm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const AR=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=g_(()=>{if(Oc.has(r))return;fm(r,"down");const s=g_(()=>{fm(r,"up")}),l=()=>fm(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",l,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function p_(e){return Sp(e)&&!E2()}function CR(e,t,r={}){const[a,s,l]=k2(e,r),u=d=>{const f=d.currentTarget;if(!p_(d))return;Oc.add(f);const h=t(f,d),g=(k,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Oc.has(f)&&Oc.delete(f),p_(k)&&typeof h=="function"&&h(k,{success:A})},v=k=>{g(k,f===window||f===document||r.useGlobalTarget||T2(f,k.target))},w=k=>{g(k,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return a.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,s),S2(d)&&(d.addEventListener("focus",h=>AR(h,s)),!TR(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function A2(e){return B3(e)&&"ownerSVGElement"in e}function NR(e){return A2(e)&&e.tagName==="svg"}const Lt=e=>!!(e&&e.getVelocity),MR=[...b2,pt,Ta],jR=e=>MR.find(v2(e)),Ep=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class RR extends M.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=r.offsetParent,s=S2(a)&&a.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function DR({children:e,isPresent:t,anchorX:r,root:a}){const s=M.useId(),l=M.useRef(null),u=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=M.useContext(Ep);return M.useInsertionEffect(()=>{const{width:f,height:h,top:g,left:v,right:w}=u.current;if(t||!l.current||!f||!h)return;const k=r==="left"?`left: ${v}`:`right: ${w}`;l.current.dataset.motionPopId=s;const A=document.createElement("style");d&&(A.nonce=d);const N=a??document.head;return N.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${k}px !important;
            top: ${g}px !important;
          }
        `),()=>{N.removeChild(A),N.contains(A)&&N.removeChild(A)}},[t]),x.jsx(RR,{isPresent:t,childRef:l,sizeRef:u,children:M.cloneElement(e,{ref:l})})}const OR=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:s,presenceAffectsLayout:l,mode:u,anchorX:d,root:f})=>{const h=tp(zR),g=M.useId();let v=!0,w=M.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:r,custom:s,onExitComplete:k=>{h.set(k,!0);for(const A of h.values())if(!A)return;a&&a()},register:k=>(h.set(k,!1),()=>h.delete(k))}),[r,h,a]);return l&&v&&(w={...w}),M.useMemo(()=>{h.forEach((k,A)=>h.set(A,!1))},[r]),M.useEffect(()=>{!r&&!h.size&&a&&a()},[r]),u==="popLayout"&&(e=x.jsx(DR,{isPresent:r,anchorX:d,root:f,children:e})),x.jsx(pd.Provider,{value:w,children:e})};function zR(){return new Map}function C2(e=!0){const t=M.useContext(pd);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:s}=t,l=M.useId();M.useEffect(()=>{if(e)return s(l)},[e]);const u=M.useCallback(()=>e&&a&&a(l),[l,a,e]);return!r&&a?[!1,u]:[!0]}const kc=e=>e.key||"";function y_(e){const t=[];return M.Children.forEach(e,r=>{M.isValidElement(r)&&t.push(r)}),t}const v_=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:f})=>{const[h,g]=C2(u),v=M.useMemo(()=>y_(e),[e]),w=u&&!h?[]:v.map(kc),k=M.useRef(!0),A=M.useRef(v),N=tp(()=>new Map),[j,R]=M.useState(v),[$,B]=M.useState(v);P3(()=>{k.current=!1,A.current=v;for(let b=0;b<$.length;b++){const S=kc($[b]);w.includes(S)?N.delete(S):N.get(S)!==!0&&N.set(S,!1)}},[$,w.length,w.join("-")]);const p=[];if(v!==j){let b=[...v];for(let S=0;S<$.length;S++){const C=$[S],L=kc(C);w.includes(L)||(b.splice(S,0,C),p.push(C))}return l==="wait"&&p.length&&(b=p),B(y_(b)),R(v),null}const{forceRender:_}=M.useContext(ep);return x.jsx(x.Fragment,{children:$.map(b=>{const S=kc(b),C=u&&!h?!1:v===$||w.includes(S),L=()=>{if(N.has(S))N.set(S,!0);else return;let z=!0;N.forEach(U=>{U||(z=!1)}),z&&(_?.(),B(A.current),u&&g?.(),a&&a())};return x.jsx(OR,{isPresent:C,initial:!k.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:f,onExitComplete:C?void 0:L,anchorX:d,children:b},S)})})},N2=M.createContext({strict:!1}),b_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$s={};for(const e in b_)$s[e]={isEnabled:t=>b_[e].some(r=>!!t[r])};function LR(e){for(const t in e)$s[t]={...$s[t],...e[t]}}const PR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function td(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||PR.has(e)}let M2=e=>!td(e);function $R(e){typeof e=="function"&&(M2=t=>t.startsWith("on")?!td(t):e(t))}try{$R(require("@emotion/is-prop-valid").default)}catch{}function BR(e,t,r){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(M2(s)||r===!0&&td(s)||!t&&!td(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}const yd=M.createContext({});function vd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nl(e){return typeof e=="string"||Array.isArray(e)}const kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tp=["initial",...kp];function bd(e){return vd(e.animate)||Tp.some(t=>Nl(e[t]))}function j2(e){return!!(bd(e)||e.variants)}function UR(e,t){if(bd(e)){const{initial:r,animate:a}=e;return{initial:r===!1||Nl(r)?r:void 0,animate:Nl(a)?a:void 0}}return e.inherit!==!1?t:{}}function VR(e){const{initial:t,animate:r}=UR(e,M.useContext(yd));return M.useMemo(()=>({initial:t,animate:r}),[w_(t),w_(r)])}function w_(e){return Array.isArray(e)?e.join(" "):e}const Ml={};function HR(e){for(const t in e)Ml[t]=e[t],cp(t)&&(Ml[t].isCSSVariable=!0)}function R2(e,{layout:t,layoutId:r}){return Hs.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ml[e]||e==="opacity")}const IR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qR=Vs.length;function GR(e,t,r){let a="",s=!0;for(let l=0;l<qR;l++){const u=Vs[l],d=e[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||r){const h=x2(d,_p[u]);if(!f){s=!1;const g=IR[u]||u;a+=`${g}(${h}) `}r&&(t[u]=h)}}return a=a.trim(),r?a=r(t,s?"":a):s&&(a="none"),a}function Ap(e,t,r){const{style:a,vars:s,transformOrigin:l}=e;let u=!1,d=!1;for(const f in t){const h=t[f];if(Hs.has(f)){u=!0;continue}else if(cp(f)){s[f]=h;continue}else{const g=x2(h,_p[f]);f.startsWith("origin")?(d=!0,l[f]=g):a[f]=g}}if(t.transform||(u||r?a.transform=GR(t,e.transform,r):a.transform&&(a.transform="none")),d){const{originX:f="50%",originY:h="50%",originZ:g=0}=l;a.transformOrigin=`${f} ${h} ${g}`}}const Cp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function D2(e,t,r){for(const a in t)!Lt(t[a])&&!R2(a,r)&&(e[a]=t[a])}function YR({transformTemplate:e},t){return M.useMemo(()=>{const r=Cp();return Ap(r,t,e),Object.assign({},r.vars,r.style)},[t])}function FR(e,t){const r=e.style||{},a={};return D2(a,r,e),Object.assign(a,YR(e,t)),a}function KR(e,t){const r={},a=FR(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const XR={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZR={offset:"strokeDashoffset",array:"strokeDasharray"};function QR(e,t,r=1,a=0,s=!0){e.pathLength=1;const l=s?XR:ZR;e[l.offset]=Te.transform(-a);const u=Te.transform(t),d=Te.transform(r);e[l.array]=`${u} ${d}`}function O2(e,{attrX:t,attrY:r,attrScale:a,pathLength:s,pathSpacing:l=1,pathOffset:u=0,...d},f,h,g){if(Ap(e,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:w}=e;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=g?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),a!==void 0&&(v.scale=a),s!==void 0&&QR(v,s,l,u,!1)}const z2=()=>({...Cp(),attrs:{}}),L2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function WR(e,t,r,a){const s=M.useMemo(()=>{const l=z2();return O2(l,t,L2(a),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};D2(l,e.style,e),s.style={...l,...s.style}}return s}const JR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Np(e){return typeof e!="string"||e.includes("-")?!1:!!(JR.indexOf(e)>-1||/[A-Z]/u.test(e))}function eD(e,t,r,{latestValues:a},s,l=!1){const d=(Np(e)?WR:KR)(t,a,s,e),f=BR(t,typeof e=="string",l),h=e!==M.Fragment?{...f,...d,ref:r}:{},{children:g}=t,v=M.useMemo(()=>Lt(g)?g.get():g,[g]);return M.createElement(e,{...h,children:v})}function __(e){const t=[{},{}];return e?.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function Mp(e,t,r,a){if(typeof t=="function"){const[s,l]=__(a);t=t(r!==void 0?r:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=__(a);t=t(r!==void 0?r:e.custom,s,l)}return t}function zc(e){return Lt(e)?e.get():e}function tD({scrapeMotionValuesFromProps:e,createRenderState:t},r,a,s){return{latestValues:nD(r,a,s,e),renderState:t()}}function nD(e,t,r,a){const s={},l=a(e,{});for(const w in l)s[w]=zc(l[w]);let{initial:u,animate:d}=e;const f=bd(e),h=j2(e);t&&h&&!f&&e.inherit!==!1&&(u===void 0&&(u=t.initial),d===void 0&&(d=t.animate));let g=r?r.initial===!1:!1;g=g||u===!1;const v=g?d:u;if(v&&typeof v!="boolean"&&!vd(v)){const w=Array.isArray(v)?v:[v];for(let k=0;k<w.length;k++){const A=Mp(e,w[k]);if(A){const{transitionEnd:N,transition:j,...R}=A;for(const $ in R){let B=R[$];if(Array.isArray(B)){const p=g?B.length-1:0;B=B[p]}B!==null&&(s[$]=B)}for(const $ in N)s[$]=N[$]}}}return s}const P2=e=>(t,r)=>{const a=M.useContext(yd),s=M.useContext(pd),l=()=>tD(e,t,a,s);return r?l():tp(l)};function jp(e,t,r){const{style:a}=e,s={};for(const l in a)(Lt(a[l])||t.style&&Lt(t.style[l])||R2(l,e)||r?.getValue(l)?.liveStyle!==void 0)&&(s[l]=a[l]);return s}const rD=P2({scrapeMotionValuesFromProps:jp,createRenderState:Cp});function $2(e,t,r){const a=jp(e,t,r);for(const s in e)if(Lt(e[s])||Lt(t[s])){const l=Vs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[l]=e[s]}return a}const aD=P2({scrapeMotionValuesFromProps:$2,createRenderState:z2}),iD=Symbol.for("motionComponentSymbol");function Es(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sD(e,t,r){return M.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):Es(r)&&(r.current=a))},[t])}const Rp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oD="framerAppearId",B2="data-"+Rp(oD),U2=M.createContext({});function lD(e,t,r,a,s){const{visualElement:l}=M.useContext(yd),u=M.useContext(N2),d=M.useContext(pd),f=M.useContext(Ep).reducedMotion,h=M.useRef(null);a=a||u.renderer,!h.current&&a&&(h.current=a(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=h.current,v=M.useContext(U2);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&uD(h.current,r,s,v);const w=M.useRef(!1);M.useInsertionEffect(()=>{g&&w.current&&g.update(r,d)});const k=r[B2],A=M.useRef(!!k&&!window.MotionHandoffIsComplete?.(k)&&window.MotionHasOptimisedAnimation?.(k));return P3(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),A.current&&g.animationState&&g.animationState.animateChanges())}),M.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(k)}),A.current=!1))}),g}function uD(e,t,r,a){const{layoutId:s,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:h,layoutCrossfade:g}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:V2(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!u||d&&Es(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:g,layoutScroll:f,layoutRoot:h})}function V2(e){if(e)return e.options.allowProjection!==!1?e.projection:V2(e.parent)}function hm(e,{forwardMotionProps:t=!1}={},r,a){r&&LR(r);const s=Np(e)?aD:rD;function l(d,f){let h;const g={...M.useContext(Ep),...d,layoutId:cD(d)},{isStatic:v}=g,w=VR(d),k=s(d,v);if(!v&&np){dD();const A=fD(g);h=A.MeasureLayout,w.visualElement=lD(e,k,g,a,A.ProjectionNode)}return x.jsxs(yd.Provider,{value:w,children:[h&&w.visualElement?x.jsx(h,{visualElement:w.visualElement,...g}):null,eD(e,d,sD(k,w.visualElement,f),k,v,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=M.forwardRef(l);return u[iD]=e,u}function cD({layoutId:e}){const t=M.useContext(ep).id;return t&&e!==void 0?t+"-"+e:e}function dD(e,t){M.useContext(N2).strict}function fD(e){const{drag:t,layout:r}=$s;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function hD(e,t){if(typeof Proxy>"u")return hm;const r=new Map,a=(l,u)=>hm(l,u,e,t),s=(l,u)=>a(l,u);return new Proxy(s,{get:(l,u)=>u==="create"?a:(r.has(u)||r.set(u,hm(u,void 0,e,t)),r.get(u))})}function H2({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function mD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function gD(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function mm(e){return e===void 0||e===1}function gg({scale:e,scaleX:t,scaleY:r}){return!mm(e)||!mm(t)||!mm(r)}function ai(e){return gg(e)||I2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function I2(e){return x_(e.x)||x_(e.y)}function x_(e){return e&&e!=="0%"}function nd(e,t,r){const a=e-r,s=t*a;return r+s}function S_(e,t,r,a,s){return s!==void 0&&(e=nd(e,s,a)),nd(e,r,a)+t}function pg(e,t=0,r=1,a,s){e.min=S_(e.min,t,r,a,s),e.max=S_(e.max,t,r,a,s)}function q2(e,{x:t,y:r}){pg(e.x,t.translate,t.scale,t.originPoint),pg(e.y,r.translate,r.scale,r.originPoint)}const E_=.999999999999,k_=1.0000000000001;function pD(e,t,r,a=!1){const s=r.length;if(!s)return;t.x=t.y=1;let l,u;for(let d=0;d<s;d++){l=r[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ts(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,q2(e,u)),a&&ai(l.latestValues)&&Ts(e,l.latestValues))}t.x<k_&&t.x>E_&&(t.x=1),t.y<k_&&t.y>E_&&(t.y=1)}function ks(e,t){e.min=e.min+t,e.max=e.max+t}function T_(e,t,r,a,s=.5){const l=et(e.min,e.max,s);pg(e,t,r,l,a)}function Ts(e,t){T_(e.x,t.x,t.scaleX,t.scale,t.originX),T_(e.y,t.y,t.scaleY,t.scale,t.originY)}function G2(e,t){return H2(gD(e.getBoundingClientRect(),t))}function yD(e,t,r){const a=G2(e,r),{scroll:s}=t;return s&&(ks(a.x,s.offset.x),ks(a.y,s.offset.y)),a}const A_=()=>({translate:0,scale:1,origin:0,originPoint:0}),As=()=>({x:A_(),y:A_()}),C_=()=>({min:0,max:0}),dt=()=>({x:C_(),y:C_()}),yg={current:null},Y2={current:!1};function vD(){if(Y2.current=!0,!!np)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yg.current=e.matches;e.addEventListener("change",t),t()}else yg.current=!1}const bD=new WeakMap;function wD(e,t,r){for(const a in t){const s=t[a],l=r[a];if(Lt(s))e.addValue(a,s);else if(Lt(l))e.addValue(a,Ps(s,{owner:e}));else if(l!==s)if(e.hasValue(a)){const u=e.getValue(a);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(a);e.addValue(a,Ps(u!==void 0?u:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const N_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _D{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Wt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Qe.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=bd(r),this.isVariantNode=j2(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const w in v){const k=v[w];f[w]!==void 0&&Lt(k)&&k.set(f[w],!1)}}mount(t){this.current=t,bD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),Y2.current||vD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ka(this.notifyUpdate),ka(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Hs.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),l=r.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),l(),u&&u(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $s){const r=$s[t];if(!r)continue;const{isEnabled:a,Feature:s}=r;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<N_.length;a++){const s=N_[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,u=t[l];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=wD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=Ps(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&($3(a)||U3(a))?a=parseFloat(a):!jR(a)&&Ta.test(r)&&(a=_2(t,r)),this.setBaseTarget(t,Lt(a)?a.get():a)),Lt(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const l=Mp(this.props,r,this.presenceContext?.custom);l&&(a=l[t])}if(r&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Lt(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new op),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){xp.render(this.render)}}class F2 extends _D{constructor(){super(...arguments),this.KeyframeResolver=bR}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function K2(e,{style:t,vars:r},a,s){const l=e.style;let u;for(u in t)l[u]=t[u];s?.applyProjectionStyles(l,a);for(u in r)l.setProperty(u,r[u])}function xD(e){return window.getComputedStyle(e)}class SD extends F2{constructor(){super(...arguments),this.type="html",this.renderInstance=K2}readValueFromInstance(t,r){if(Hs.has(r))return this.projection?.isProjecting?ug(r):$j(t,r);{const a=xD(t),s=(cp(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return G2(t,r)}build(t,r,a){Ap(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return jp(t,r,a)}}const X2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ED(e,t,r,a){K2(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(X2.has(s)?s:Rp(s),t.attrs[s])}class kD extends F2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Hs.has(r)){const a=w2(r);return a&&a.default||0}return r=X2.has(r)?r:Rp(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return $2(t,r,a)}build(t,r,a){O2(t,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,r,a,s){ED(t,r,a,s)}mount(t){this.isSVGTag=L2(t.tagName),super.mount(t)}}const TD=(e,t)=>Np(e)?new kD(t):new SD(t,{allowProjection:e!==M.Fragment});function jl(e,t,r){const a=e.getProps();return Mp(a,t,r!==void 0?r:a.custom,e)}const vg=e=>Array.isArray(e);function AD(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ps(r))}function CD(e){return vg(e)?e[e.length-1]||0:e}function ND(e,t){const r=jl(e,t);let{transitionEnd:a={},transition:s={},...l}=r||{};l={...l,...a};for(const u in l){const d=CD(l[u]);AD(e,u,d)}}function MD(e){return!!(Lt(e)&&e.add)}function bg(e,t){const r=e.getValue("willChange");if(MD(r))return r.add(t);if(!r&&jr.WillChange){const a=new jr.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function Z2(e){return e.props[B2]}const jD=e=>e!==null;function RD(e,{repeat:t,repeatType:r="loop"},a){const s=e.filter(jD),l=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[l]}const DD={type:"spring",stiffness:500,damping:25,restSpeed:10},OD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),zD={type:"keyframes",duration:.8},LD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PD=(e,{keyframes:t})=>t.length>2?zD:Hs.has(e)?e.startsWith("scale")?OD(t[1]):DD:LD;function $D({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:h,...g}){return!!Object.keys(g).length}const Dp=(e,t,r,a={},s,l)=>u=>{const d=wp(a,e)||{},f=d.delay||a.delay||0;let{elapsed:h=0}=a;h=h-tr(f);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:w=>{t.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};$D(d)||Object.assign(g,PD(e,g)),g.duration&&(g.duration=tr(g.duration)),g.repeatDelay&&(g.repeatDelay=tr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),(jr.instantAnimations||jr.skipAnimations)&&(v=!0,g.duration=0,g.delay=0),g.allowFlatten=!d.type&&!d.ease,v&&!l&&t.get()!==void 0){const w=RD(g.keyframes,d);if(w!==void 0){Qe.update(()=>{g.onUpdate(w),g.onComplete()});return}}return d.isSync?new vp(g):new oR(g)};function BD({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function Q2(e,t,{delay:r=0,transitionOverride:a,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...d}=t;a&&(l=a);const f=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const g in d){const v=e.getValue(g,e.latestValues[g]??null),w=d[g];if(w===void 0||h&&BD(h,g))continue;const k={delay:r,...wp(l||{},g)},A=v.get();if(A!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===A&&!k.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const R=Z2(e);if(R){const $=window.MotionHandoffAnimation(R,g,Qe);$!==null&&(k.startTime=$,N=!0)}}bg(e,g),v.start(Dp(g,v,w,e.shouldReduceMotion&&y2.has(g)?{type:!1}:k,e,N));const j=v.animation;j&&f.push(j)}return u&&Promise.all(f).then(()=>{Qe.update(()=>{u&&ND(e,u)})}),f}function wg(e,t,r={}){const a=jl(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(s=r.transitionOverride);const l=a?()=>Promise.all(Q2(e,a,r)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:v}=s;return UD(e,t,f,h,g,v,r)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,h]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>h())}else return Promise.all([l(),u(r.delay)])}function UD(e,t,r=0,a=0,s=0,l=1,u){const d=[],f=e.variantChildren.size,h=(f-1)*s,g=typeof a=="function",v=g?w=>a(w,f):l===1?(w=0)=>w*s:(w=0)=>h-w*s;return Array.from(e.variantChildren).sort(VD).forEach((w,k)=>{w.notify("AnimationStart",t),d.push(wg(w,t,{...u,delay:r+(g?0:a)+v(k)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(d)}function VD(e,t){return e.sortNodePosition(t)}function HD(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(l=>wg(e,l,r));a=Promise.all(s)}else if(typeof t=="string")a=wg(e,t,r);else{const s=typeof t=="function"?jl(e,t,r.custom):t;a=Promise.all(Q2(e,s,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}function W2(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}const ID=Tp.length;function J2(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?J2(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<ID;r++){const a=Tp[r],s=e.props[a];(Nl(s)||s===!1)&&(t[a]=s)}return t}const qD=[...kp].reverse(),GD=kp.length;function YD(e){return t=>Promise.all(t.map(({animation:r,options:a})=>HD(e,r,a)))}function FD(e){let t=YD(e),r=M_(),a=!0;const s=f=>(h,g)=>{const v=jl(e,g,f==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:k,...A}=v;h={...h,...A,...k}}return h};function l(f){t=f(e)}function u(f){const{props:h}=e,g=J2(e.parent)||{},v=[],w=new Set;let k={},A=1/0;for(let j=0;j<GD;j++){const R=qD[j],$=r[R],B=h[R]!==void 0?h[R]:g[R],p=Nl(B),_=R===f?$.isActive:null;_===!1&&(A=j);let b=B===g[R]&&B!==h[R]&&p;if(b&&a&&e.manuallyAnimateOnMount&&(b=!1),$.protectedKeys={...k},!$.isActive&&_===null||!B&&!$.prevProp||vd(B)||typeof B=="boolean")continue;const S=KD($.prevProp,B);let C=S||R===f&&$.isActive&&!b&&p||j>A&&p,L=!1;const z=Array.isArray(B)?B:[B];let U=z.reduce(s(R),{});_===!1&&(U={});const{prevResolvedValues:X={}}=$,Q={...X,...U},O=V=>{C=!0,w.has(V)&&(L=!0,w.delete(V)),$.needsAnimating[V]=!0;const H=e.getValue(V);H&&(H.liveStyle=!1)};for(const V in Q){const H=U[V],I=X[V];if(k.hasOwnProperty(V))continue;let D=!1;vg(H)&&vg(I)?D=!W2(H,I):D=H!==I,D?H!=null?O(V):w.add(V):H!==void 0&&w.has(V)?O(V):$.protectedKeys[V]=!0}$.prevProp=B,$.prevResolvedValues=U,$.isActive&&(k={...k,...U}),a&&e.blockInitialAnimation&&(C=!1),C&&(!(b&&S)||L)&&v.push(...z.map(V=>({animation:V,options:{type:R}})))}if(w.size){const j={};if(typeof h.initial!="boolean"){const R=jl(e,Array.isArray(h.initial)?h.initial[0]:h.initial);R&&R.transition&&(j.transition=R.transition)}w.forEach(R=>{const $=e.getBaseTarget(R),B=e.getValue(R);B&&(B.liveStyle=!0),j[R]=$??null}),v.push({animation:j})}let N=!!v.length;return a&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(N=!1),a=!1,N?t(v):Promise.resolve()}function d(f,h){if(r[f].isActive===h)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(f,h)),r[f].isActive=h;const g=u(f);for(const v in r)r[v].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>r,reset:()=>{r=M_(),a=!0}}}function KD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!W2(t,e):!1}function ei(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function M_(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}class Na{constructor(t){this.isMounted=!1,this.node=t}update(){}}class XD extends Na{constructor(t){super(t),t.animationState||(t.animationState=FD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();vd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ZD=0;class QD extends Na{constructor(){super(...arguments),this.id=ZD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const WD={animation:{Feature:XD},exit:{Feature:QD}};function Rl(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function Hl(e){return{point:{x:e.pageX,y:e.pageY}}}const JD=e=>t=>Sp(t)&&e(t,Hl(t));function hl(e,t,r,a){return Rl(e,t,JD(r),a)}const eS=1e-4,eO=1-eS,tO=1+eS,tS=.01,nO=0-tS,rO=0+tS;function Ht(e){return e.max-e.min}function aO(e,t,r){return Math.abs(e-t)<=r}function j_(e,t,r,a=.5){e.origin=a,e.originPoint=et(t.min,t.max,e.origin),e.scale=Ht(r)/Ht(t),e.translate=et(r.min,r.max,e.origin)-e.originPoint,(e.scale>=eO&&e.scale<=tO||isNaN(e.scale))&&(e.scale=1),(e.translate>=nO&&e.translate<=rO||isNaN(e.translate))&&(e.translate=0)}function ml(e,t,r,a){j_(e.x,t.x,r.x,a?a.originX:void 0),j_(e.y,t.y,r.y,a?a.originY:void 0)}function R_(e,t,r){e.min=r.min+t.min,e.max=e.min+Ht(t)}function iO(e,t,r){R_(e.x,t.x,r.x),R_(e.y,t.y,r.y)}function D_(e,t,r){e.min=t.min-r.min,e.max=e.min+Ht(t)}function gl(e,t,r){D_(e.x,t.x,r.x),D_(e.y,t.y,r.y)}function Tn(e){return[e("x"),e("y")]}const nS=({current:e})=>e?e.ownerDocument.defaultView:null,O_=(e,t)=>Math.abs(e-t);function sO(e,t){const r=O_(e.x,t.x),a=O_(e.y,t.y);return Math.sqrt(r**2+a**2)}class rS{constructor(t,r,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=pm(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,A=sO(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!A)return;const{point:N}=w,{timestamp:j}=jt;this.history.push({...N,timestamp:j});const{onStart:R,onMove:$}=this.handlers;k||(R&&R(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),$&&$(this.lastMoveEvent,w)},this.handlePointerMove=(w,k)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=gm(k,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(w,k)=>{this.end();const{onEnd:A,onSessionEnd:N,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=pm(w.type==="pointercancel"?this.lastMoveEventInfo:gm(k,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,R),N&&N(w,R)},!Sp(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=s||window;const d=Hl(t),f=gm(d,this.transformPagePoint),{point:h}=f,{timestamp:g}=jt;this.history=[{...h,timestamp:g}];const{onSessionStart:v}=r;v&&v(t,pm(f,this.history)),this.removeListeners=Bl(hl(this.contextWindow,"pointermove",this.handlePointerMove),hl(this.contextWindow,"pointerup",this.handlePointerUp),hl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ka(this.updatePoint)}}function gm(e,t){return t?{point:t(e.point)}:e}function z_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pm({point:e},t){return{point:e,delta:z_(e,aS(t)),offset:z_(e,oO(t)),velocity:lO(t,.1)}}function oO(e){return e[0]}function aS(e){return e[e.length-1]}function lO(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const s=aS(e);for(;r>=0&&(a=e[r],!(s.timestamp-a.timestamp>tr(t)));)r--;if(!a)return{x:0,y:0};const l=nr(s.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const u={x:(s.x-a.x)/l,y:(s.y-a.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function uO(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?et(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?et(r,e,a.max):Math.min(e,r)),e}function L_(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function cO(e,{top:t,left:r,bottom:a,right:s}){return{x:L_(e.x,r,s),y:L_(e.y,t,a)}}function P_(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function dO(e,t){return{x:P_(e.x,t.x),y:P_(e.y,t.y)}}function fO(e,t){let r=.5;const a=Ht(e),s=Ht(t);return s>a?r=Tl(t.min,t.max-a,e.min):a>s&&(r=Tl(e.min,e.max-s,t.min)),Mr(0,1,r)}function hO(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const _g=.35;function mO(e=_g){return e===!1?e=0:e===!0&&(e=_g),{x:$_(e,"left","right"),y:$_(e,"top","bottom")}}function $_(e,t,r){return{min:B_(e,t),max:B_(e,r)}}function B_(e,t){return typeof e=="number"?e:e[t]||0}const gO=new WeakMap;class pO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Hl(v).point)},u=(v,w)=>{const{drag:k,dragPropagation:A,onDragStart:N}=this.getProps();if(k&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SR(k),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tn(R=>{let $=this.getAxisMotionValue(R).get()||0;if(rr.test($)){const{projection:B}=this.visualElement;if(B&&B.layout){const p=B.layout.layoutBox[R];p&&($=Ht(p)*(parseFloat($)/100))}}this.originPoint[R]=$}),N&&Qe.postRender(()=>N(v,w)),bg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:k,dragDirectionLock:A,onDirectionLock:N,onDrag:j}=this.getProps();if(!k&&!this.openDragLock)return;const{offset:R}=w;if(A&&this.currentDirection===null){this.currentDirection=yO(R),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",w.point,R),this.updateAxis("y",w.point,R),this.visualElement.render(),j&&j(v,w)},f=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Tn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new rS(t,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:a,contextWindow:nS(this.visualElement)})}stop(t,r){const a=t||this.latestPointerEvent,s=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!a)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Qe.postRender(()=>d(a,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:s}=this.getProps();if(!a||!Tc(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(u=uO(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Es(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=cO(a.layoutBox,t):this.constraints=!1,this.elastic=mO(r),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Tn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=hO(a.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Es(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=yD(a,s.root,this.visualElement.getTransformPagePoint());let u=dO(s.layout.layoutBox,l);if(r){const d=r(mD(u));this.hasMutatedConstraints=!!d,d&&(u=H2(d))}return u}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:s,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},h=Tn(g=>{if(!Tc(g,r,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const w=s?200:1e6,k=s?40:1e7,A={type:"inertia",velocity:a?t[g]:0,bounceStiffness:w,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(h).then(d)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return bg(this.visualElement,t),a.start(Dp(t,a,0,r,this.visualElement,!1))}stopAnimation(){Tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[r];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Tn(r=>{const{drag:a}=this.getProps();if(!Tc(r,a,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(r);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[r];l.set(t[r]-et(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Es(r)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();s[u]=fO({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Tn(u=>{if(!Tc(u,t,null))return;const d=this.getAxisMotionValue(u),{min:f,max:h}=this.constraints[u];d.set(et(f,h,s[u]))})}addListeners(){if(!this.visualElement.current)return;gO.set(this.visualElement,this);const t=this.visualElement.current,r=hl(t,"pointerdown",f=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(f)}),a=()=>{const{dragConstraints:f}=this.getProps();Es(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qe.read(a);const u=Rl(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Tn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),r(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:u=_g,dragMomentum:d=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Tc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function yO(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vO extends Na{constructor(t){super(t),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new pO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const U_=e=>(t,r)=>{e&&Qe.postRender(()=>e(t,r))};class bO extends Na{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(t){this.session=new rS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:U_(t),onStart:U_(r),onMove:a,onEnd:(l,u)=>{delete this.session,s&&Qe.postRender(()=>s(l,u))}}}mount(){this.removePointerDownListener=hl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function V_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Te.test(e))e=parseFloat(e);else return e;const r=V_(e,t.target.x),a=V_(e,t.target.y);return`${r}% ${a}%`}},wO={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,s=Ta.parse(e);if(s.length>5)return a;const l=Ta.createTransformer(e),u=typeof s[0]!="number"?1:0,d=r.x.scale*t.x,f=r.y.scale*t.y;s[0+u]/=d,s[1+u]/=f;const h=et(d,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=h),typeof s[3+u]=="number"&&(s[3+u]/=h),l(s)}};let H_=!1;class _O extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:s}=this.props,{projection:l}=t;HR(xO),l&&(r.group&&r.group.add(l),a&&a.register&&s&&a.register(l),H_&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:s,isPresent:l}=this.props,{projection:u}=a;return u&&(u.isPresent=l,H_=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||Qe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iS(e){const[t,r]=C2(),a=M.useContext(ep);return x.jsx(_O,{...e,layoutGroup:a,switchLayoutGroup:M.useContext(U2),isPresent:t,safeToRemove:r})}const xO={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:wO};function SO(e,t,r){const a=Lt(e)?e:Ps(e);return a.start(Dp("",a,t,r)),a.animation}const EO=(e,t)=>e.depth-t.depth;class kO{constructor(){this.children=[],this.isDirty=!1}add(t){rp(this.children,t),this.isDirty=!0}remove(t){ap(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(EO),this.isDirty=!1,this.children.forEach(t)}}function TO(e,t){const r=Wt.now(),a=({timestamp:s})=>{const l=s-r;l>=t&&(ka(a),e(l-t))};return Qe.setup(a,!0),()=>ka(a)}const sS=["TopLeft","TopRight","BottomLeft","BottomRight"],AO=sS.length,I_=e=>typeof e=="string"?parseFloat(e):e,q_=e=>typeof e=="number"||Te.test(e);function CO(e,t,r,a,s,l){s?(e.opacity=et(0,r.opacity??1,NO(a)),e.opacityExit=et(t.opacity??1,0,MO(a))):l&&(e.opacity=et(t.opacity??1,r.opacity??1,a));for(let u=0;u<AO;u++){const d=`border${sS[u]}Radius`;let f=G_(t,d),h=G_(r,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||q_(f)===q_(h)?(e[d]=Math.max(et(I_(f),I_(h),a),0),(rr.test(h)||rr.test(f))&&(e[d]+="%")):e[d]=h}(t.rotate||r.rotate)&&(e.rotate=et(t.rotate||0,r.rotate||0,a))}function G_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const NO=oS(0,.5,K3),MO=oS(.5,.95,Nn);function oS(e,t,r){return a=>a<e?0:a>t?1:r(Tl(e,t,a))}function Y_(e,t){e.min=t.min,e.max=t.max}function kn(e,t){Y_(e.x,t.x),Y_(e.y,t.y)}function F_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function K_(e,t,r,a,s){return e-=t,e=nd(e,1/r,a),s!==void 0&&(e=nd(e,1/s,a)),e}function jO(e,t=0,r=1,a=.5,s,l=e,u=e){if(rr.test(t)&&(t=parseFloat(t),t=et(u.min,u.max,t/100)-u.min),typeof t!="number")return;let d=et(l.min,l.max,a);e===l&&(d-=t),e.min=K_(e.min,t,r,d,s),e.max=K_(e.max,t,r,d,s)}function X_(e,t,[r,a,s],l,u){jO(e,t[r],t[a],t[s],t.scale,l,u)}const RO=["x","scaleX","originX"],DO=["y","scaleY","originY"];function Z_(e,t,r,a){X_(e.x,t,RO,r?r.x:void 0,a?a.x:void 0),X_(e.y,t,DO,r?r.y:void 0,a?a.y:void 0)}function Q_(e){return e.translate===0&&e.scale===1}function lS(e){return Q_(e.x)&&Q_(e.y)}function W_(e,t){return e.min===t.min&&e.max===t.max}function OO(e,t){return W_(e.x,t.x)&&W_(e.y,t.y)}function J_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uS(e,t){return J_(e.x,t.x)&&J_(e.y,t.y)}function e1(e){return Ht(e.x)/Ht(e.y)}function t1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class zO{constructor(){this.members=[]}add(t){rp(this.members,t),t.scheduleRender()}remove(t){if(ap(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let a;for(let s=r;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LO(e,t,r){let a="";const s=e.x.translate/t.x,l=e.y.translate/t.y,u=r?.z||0;if((s||l||u)&&(a=`translate3d(${s}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:g,rotateX:v,rotateY:w,skewX:k,skewY:A}=r;h&&(a=`perspective(${h}px) ${a}`),g&&(a+=`rotate(${g}deg) `),v&&(a+=`rotateX(${v}deg) `),w&&(a+=`rotateY(${w}deg) `),k&&(a+=`skewX(${k}deg) `),A&&(a+=`skewY(${A}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(a+=`scale(${d}, ${f})`),a||"none"}const ym=["","X","Y","Z"],PO=1e3;let $O=0;function vm(e,t,r,a){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function cS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Z2(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Qe,!(s||l))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&cS(a)}function dS({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(u={},d=t?.()){this.id=$O++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VO),this.nodes.forEach(GO),this.nodes.forEach(YO),this.nodes.forEach(HO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new kO)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new op),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=A2(u)&&!NR(u),this.instance=u;const{layoutId:d,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let g,v=0;const w=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{v=window.innerWidth}),e(u,()=>{const k=window.innerWidth;k!==v&&(v=k,this.root.updateBlockedByResize=!0,g&&g(),g=TO(w,250),Lc.hasAnimatedSinceResize&&(Lc.hasAnimatedSinceResize=!1,this.nodes.forEach(a1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||QO,{onLayoutAnimationStart:N,onLayoutAnimationComplete:j}=h.getProps(),R=!this.targetLayout||!uS(this.targetLayout,k),$=!v&&w;if(this.options.layoutRoot||this.resumeFrom||$||v&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...wp(A,"layout"),onPlay:N,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(g,$)}else v||a1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(r1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qO),this.nodes.forEach(BO),this.nodes.forEach(UO)):this.nodes.forEach(r1),this.clearAllSnapshots();const d=Wt.now();jt.delta=Mr(0,1e3/60,d-jt.timestamp),jt.timestamp=d,jt.isProcessing=!0,om.update.process(jt),om.preRender.process(jt),om.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(IO),this.sharedNodes.forEach(KO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ht(this.snapshot.measuredBox.x)&&!Ht(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!lS(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;u&&this.instance&&(d||ai(this.latestValues)||g)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),WO(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return dt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(JO))){const{scroll:h}=this.root;h&&(ks(d.x,h.offset.x),ks(d.y,h.offset.y))}return d}removeElementScroll(u){const d=dt();if(kn(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:g,options:v}=h;h!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&kn(d,u),ks(d.x,g.offset.x),ks(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const f=dt();kn(f,u);for(let h=0;h<this.path.length;h++){const g=this.path[h];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ts(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ai(g.latestValues)&&Ts(f,g.latestValues)}return ai(this.latestValues)&&Ts(f,this.latestValues),f}removeTransform(u){const d=dt();kn(d,u);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!ai(h.latestValues))continue;gg(h.latestValues)&&h.updateSnapshot();const g=dt(),v=h.measurePageBox();kn(g,v),Z_(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return ai(this.latestValues)&&Z_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),gl(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),q2(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),gl(this.relativeTargetOrigin,this.target,w.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gg(this.parent.latestValues)||I2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(f=!1),f)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;kn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;pD(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=dt());const{target:k}=u;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F_(this.prevProjectionDelta.x,this.projectionDelta.x),F_(this.prevProjectionDelta.y,this.projectionDelta.y)),ml(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!t1(this.projectionDelta.x,this.prevProjectionDelta.x)||!t1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=As(),this.projectionDelta=As(),this.projectionDeltaWithTransform=As()}setAnimationOrigin(u,d=!1){const f=this.snapshot,h=f?f.latestValues:{},g={...this.latestValues},v=As();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=dt(),k=f?f.source:void 0,A=this.layout?this.layout.source:void 0,N=k!==A,j=this.getStack(),R=!j||j.members.length<=1,$=!!(N&&!R&&this.options.crossfade===!0&&!this.path.some(ZO));this.animationProgress=0;let B;this.mixTargetDelta=p=>{const _=p/1e3;i1(v.x,u.x,_),i1(v.y,u.y,_),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XO(this.relativeTarget,this.relativeTargetOrigin,w,_),B&&OO(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=dt()),kn(B,this.relativeTarget)),N&&(this.animationValues=g,CO(g,h,this.latestValues,_,$,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{Lc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ps(0)),this.currentAnimation=SO(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:h,latestValues:g}=u;if(!(!d||!f||!h)){if(this!==u&&this.layout&&h&&fS(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||dt();const v=Ht(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const w=Ht(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}kn(d,f),Ts(d,g),ml(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new zO),this.sharedNodes.get(u).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const h={};f.z&&vm("z",u,h,this.animationValues);for(let g=0;g<ym.length;g++)vm(`rotate${ym[g]}`,u,h,this.animationValues),vm(`skew${ym[g]}`,u,h,this.animationValues);u.render();for(const g in h)u.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=zc(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=zc(d?.pointerEvents)||""),this.hasProjected&&!ai(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=LO(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:w,y:k}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${k.origin*100}% 0`,h.animationValues?u.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in Ml){if(g[A]===void 0)continue;const{correct:N,applyTo:j,isCSSVariable:R}=Ml[A],$=v==="none"?g[A]:N(g[A],h);if(j){const B=j.length;for(let p=0;p<B;p++)u[j[p]]=$}else R?this.options.visualElement.renderState.vars[A]=$:u[A]=$}this.options.layoutId&&(u.pointerEvents=h===this?zc(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(n1),this.root.sharedNodes.clear()}}}function BO(e){e.updateLayout()}function UO(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,l=t.source!==e.layout.source;s==="size"?Tn(g=>{const v=l?t.measuredBox[g]:t.layoutBox[g],w=Ht(v);v.min=r[g].min,v.max=v.min+w}):fS(s,t.layoutBox,r)&&Tn(g=>{const v=l?t.measuredBox[g]:t.layoutBox[g],w=Ht(r[g]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+w)});const u=As();ml(u,r,t.layoutBox);const d=As();l?ml(d,e.applyTransform(a,!0),t.measuredBox):ml(d,r,t.layoutBox);const f=!lS(u);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const k=dt();gl(k,t.layoutBox,v.layoutBox);const A=dt();gl(A,r,w.layoutBox),uS(k,A)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=k,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function VO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IO(e){e.clearSnapshot()}function n1(e){e.clearMeasurements()}function r1(e){e.isLayoutDirty=!1}function qO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function a1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function GO(e){e.resolveTargetDelta()}function YO(e){e.calcProjection()}function FO(e){e.resetSkewAndRotation()}function KO(e){e.removeLeadSnapshot()}function i1(e,t,r){e.translate=et(t.translate,0,r),e.scale=et(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function s1(e,t,r,a){e.min=et(t.min,r.min,a),e.max=et(t.max,r.max,a)}function XO(e,t,r,a){s1(e.x,t.x,r.x,a),s1(e.y,t.y,r.y,a)}function ZO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QO={duration:.45,ease:[.4,0,.1,1]},o1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),l1=o1("applewebkit/")&&!o1("chrome/")?Math.round:Nn;function u1(e){e.min=l1(e.min),e.max=l1(e.max)}function WO(e){u1(e.x),u1(e.y)}function fS(e,t,r){return e==="position"||e==="preserve-aspect"&&!aO(e1(t),e1(r),.2)}function JO(e){return e!==e.root&&e.scroll?.wasRoot}const ez=dS({attachResizeListener:(e,t)=>Rl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bm={current:void 0},hS=dS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bm.current){const e=new ez({});e.mount(window),e.setOptions({layoutScroll:!0}),bm.current=e}return bm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tz={pan:{Feature:bO},drag:{Feature:vO,ProjectionNode:hS,MeasureLayout:iS}};function c1(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,l=a[s];l&&Qe.postRender(()=>l(t,Hl(t)))}class nz extends Na{mount(){const{current:t}=this.node;t&&(this.unmount=ER(t,(r,a)=>(c1(this.node,a,"Start"),s=>c1(this.node,s,"End"))))}unmount(){}}class rz extends Na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bl(Rl(this.node.current,"focus",()=>this.onFocus()),Rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function d1(e,t,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),l=a[s];l&&Qe.postRender(()=>l(t,Hl(t)))}class az extends Na{mount(){const{current:t}=this.node;t&&(this.unmount=CR(t,(r,a)=>(d1(this.node,a,"Start"),(s,{success:l})=>d1(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xg=new WeakMap,wm=new WeakMap,iz=e=>{const t=xg.get(e.target);t&&t(e)},sz=e=>{e.forEach(iz)};function oz({root:e,...t}){const r=e||document;wm.has(r)||wm.set(r,{});const a=wm.get(r),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(sz,{root:e,...t})),a[s]}function lz(e,t,r){const a=oz(t);return xg.set(e,r),a.observe(e),()=>{xg.delete(e),a.unobserve(e)}}const uz={some:0,all:1};class cz extends Na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:s="some",once:l}=t,u={root:r?r.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:uz[s]},d=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=h?g:v;w&&w(f)};return lz(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(dz(t,r))&&this.startObserver()}unmount(){}}function dz({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const fz={inView:{Feature:cz},tap:{Feature:az},focus:{Feature:rz},hover:{Feature:nz}},hz={layout:{ProjectionNode:hS,MeasureLayout:iS}},mz={...WD,...fz,...tz,...hz},_m=hD(mz,TD),qn={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},Zt={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."},xm={BOARD_CREATED:"Board created successfully!",BOARD_DELETED:"Board deleted successfully!",BOARD_RENAMED:"Board renamed successfully!",CHANGES_SAVED:"Changes saved successfully!",SIGNED_IN:"Signed in successfully!",SIGNED_UP:"Account created successfully!"};function gz(){const[e,t]=M.useState(""),[r,a]=M.useState(""),[s,l]=M.useState(!1),[u,d]=M.useState(!1),[f,h]=M.useState(!1),[g,v]=M.useState(""),w=async A=>{A.preventDefault(),h(!0),v("");try{if(!e||!r)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))throw new Error(Zt.INVALID_EMAIL);if(r.length<6)throw new Error(Zt.WEAK_PASSWORD);if(s){const{error:j}=await We.auth.signUp({email:e,password:r});if(j)throw j}else{const{error:j}=await We.auth.signInWithPassword({email:e,password:r});if(j)throw j}}catch(N){v(N.message||"Authentication error")}finally{h(!1)}},k="w-full px-4 py-3 rounded-lg border bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 transition";return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/40 dark:bg-gray-950/60 backdrop-blur-sm p-4",children:x.jsxs(_m.div,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.25},className:"w-full max-w-md rounded-3xl shadow-lg bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 overflow-hidden",children:[x.jsxs("div",{className:"px-8 pt-8 pb-4 text-center",children:[x.jsx(v_,{mode:"wait",children:x.jsx(_m.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:"text-3xl font-semibold text-gray-900 dark:text-gray-100",children:s?"Create an account":"Welcome back"},s?"signup-header":"signin-header")}),x.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:s?"Start your AI‑powered journey.":"Sign in to continue."})]}),x.jsxs("form",{onSubmit:w,className:"px-8 pb-8 space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email"}),x.jsxs("div",{className:"relative",children:[x.jsx(kM,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),x.jsx("input",{id:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:A=>t(A.target.value),placeholder:"you@example.com",className:`${k} pl-11`})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(DM,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),x.jsx("input",{id:"password",type:u?"text":"password",autoComplete:s?"new-password":"current-password",required:!0,value:r,onChange:A=>a(A.target.value),placeholder:"••••••••",className:`${k} pl-11 pr-11`}),x.jsx("button",{type:"button",onClick:()=>d(A=>!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-300","aria-label":u?"Hide password":"Show password",children:u?x.jsx(NM,{className:"h-5 w-5"}):x.jsx(jM,{className:"h-5 w-5"})})]})]}),x.jsx(v_,{children:g&&x.jsxs(_m.div,{initial:{y:-6,opacity:0},animate:{y:0,opacity:1},exit:{y:-6,opacity:0},className:"flex items-start gap-3 rounded-lg border border-red-300 dark:border-red-800 bg-red-50 dark:bg-red-900/30 px-4 py-3 text-sm text-red-700 dark:text-red-300",role:"alert",children:[x.jsx(AM,{className:"h-5 w-5 flex-shrink-0"}),x.jsx("span",{children:g})]},"error")}),x.jsxs("button",{type:"submit",disabled:f,className:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-3 font-medium text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-indigo-500 dark:hover:bg-indigo-400",children:[f?x.jsxs("svg",{className:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):s?x.jsx(zM,{className:"h-5 w-5"}):x.jsx(SM,{className:"h-5 w-5"}),x.jsx("span",{children:f?s?"Creating account…":"Signing in…":s?"Sign Up":"Sign In"})]})]}),x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 px-8 py-4 text-center",children:[x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s?"Already have an account?":"New to TinkFlow?"}),x.jsx("button",{onClick:()=>l(A=>!A),type:"button",className:"mt-2 text-sm font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none dark:text-indigo-400 dark:hover:text-indigo-300",children:s?"Sign In":"Create an account"})]})]})})}function pz({show:e,onHide:t,onConfirm:r,isCreating:a=!1}){const[s,l]=M.useState(""),[u,d]=M.useState(!0),f=w=>{const k=w.target.value;l(k),d(k.trim().length>0&&k.trim().length<=50)},h=w=>{w.preventDefault();const k=s.trim();k.length>0&&k.length<=50&&(r(k),l(""),d(!0))},g=()=>{l(""),d(!0),t()},v=w=>{w.key==="Enter"&&h(w)};return e?x.jsx("div",{className:"board-name-modal fixed inset-0 bg-black/60 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-[2001]",children:x.jsxs("div",{className:"bg-gray-800 dark:bg-gray-900 rounded-xl shadow-2xl p-6 w-full max-w-md border border-gray-700 dark:border-gray-600",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-white dark:text-white",children:"Create New Board"}),x.jsx("button",{onClick:g,className:`text-gray-400 dark:text-gray-400 hover:text-gray-200 dark:hover:text-gray-200 
                                 bg-gray-700/50 dark:bg-gray-800/50 hover:bg-gray-600/50 dark:hover:bg-gray-700/50
                                 border border-gray-600 dark:border-gray-700 rounded-lg w-8 h-8 flex items-center justify-center
                                 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500/20`,"aria-label":"Close",children:"×"})]}),x.jsxs("form",{onSubmit:h,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 dark:text-gray-300 mb-2",children:"Board Name"}),x.jsx("input",{type:"text",value:s,onChange:f,onKeyDown:v,placeholder:"Enter board name...",maxLength:50,autoFocus:!0,className:`w-full px-4 py-3 bg-gray-700/50 dark:bg-gray-800/50 border rounded-lg 
                                       text-white dark:text-white placeholder-gray-400 dark:placeholder-gray-500 
                                       focus:outline-none focus:ring-2 focus:ring-blue-500/40 dark:focus:ring-blue-400/40 
                                       transition-all duration-200 font-medium
                                       ${u?"border-gray-600/50 dark:border-gray-700/50 focus:border-blue-500/60 dark:focus:border-blue-400/60":"border-red-500/60 dark:border-red-500/60 focus:border-red-500/60 dark:focus:border-red-500/60"}`}),!u&&x.jsx("p",{className:"text-red-400 dark:text-red-400 text-sm mt-2",children:"Board name must be between 1 and 50 characters long."}),x.jsxs("p",{className:`text-xs mt-1 ${s.length===50?"text-red-400 dark:text-red-400":"text-gray-500 dark:text-gray-500"}`,children:[s.length,"/50 characters"]})]}),x.jsxs("div",{className:"flex gap-3 pt-4",children:[x.jsx("button",{type:"button",onClick:g,disabled:a,className:`flex-1 px-4 py-3 bg-gray-700/50 dark:bg-gray-800/50 border border-gray-600/50 dark:border-gray-700/50
                                     text-gray-300 dark:text-gray-300 rounded-lg font-medium transition-all duration-200
                                     hover:bg-gray-600/60 dark:hover:bg-gray-700/60 hover:border-gray-500/60 dark:hover:border-gray-600/60
                                     disabled:opacity-50 disabled:cursor-not-allowed
                                     focus:outline-none focus:ring-2 focus:ring-gray-500/20 dark:focus:ring-gray-400/20`,children:"Cancel"}),x.jsx("button",{type:"submit",disabled:!u||s.trim().length===0||a,className:`flex-1 px-4 py-3 bg-blue-600/80 dark:bg-blue-500/80 border border-blue-500/50 dark:border-blue-400/50
                                     text-white rounded-lg font-medium transition-all duration-200 
                                     disabled:opacity-50 disabled:cursor-not-allowed
                                     hover:bg-blue-500/90 dark:hover:bg-blue-400/90 hover:border-blue-400/60 dark:hover:border-blue-300/60
                                     focus:outline-none focus:ring-2 focus:ring-blue-500/40 dark:focus:ring-blue-400/40`,children:a?"Creating...":"Create Board"})]})]})]})}):null}function yz({allBoards:e,currentBoard:t,onSwitchBoard:r,onCreateBoard:a,onDeleteBoard:s,onSignOut:l,isLoading:u}){const[d,f]=M.useState(!1),[h,g]=M.useState(!1),[v,w]=M.useState(null),k=async R=>{try{f(!0),await a(R),g(!1)}catch($){console.error("Error in sidebar create board:",$)}finally{f(!1)}},A=()=>{g(!0)},N=()=>{g(!1)},j=(R,$)=>{R.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s($)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"left-0 top-0 w-[100%] h-screen bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col",children:x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-900/50",children:[x.jsx("h2",{className:"m-0 mb-3 text-lg font-semibold text-gray-900 dark:text-gray-100 tracking-tight",children:"TinkFlow Boards"}),x.jsx("button",{onClick:A,disabled:u||d,className:`w-full bg-blue-600 dark:bg-blue-600 text-white dark:text-white border border-blue-600 dark:border-blue-600 
                                      px-3 py-2 rounded-lg cursor-pointer text-base font-medium transition-all duration-200 
                                      ${u||d?"cursor-not-allowed opacity-60":"hover:bg-blue-700 dark:hover:bg-blue-700 hover:border-blue-700 dark:hover:border-blue-700 hover:-translate-y-0.5 hover:shadow-md"}`,children:d?"Creating...":"+ New Board"})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:e.map(R=>{const $=t?.id===R.id,B=v===R.id;return x.jsxs("div",{onClick:()=>!u&&r(R.id),onMouseEnter:()=>w(R.id),onMouseLeave:()=>w(null),className:`
                                        min-h-[44px] px-3 py-2.5 mb-1 rounded-lg flex justify-between items-center
                                        transition-all duration-200 cursor-pointer border font-medium text-lg leading-tight
                                        ${u?"cursor-not-allowed opacity-60":"cursor-pointer"}
                                        ${$?"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/30 text-blue-900 dark:text-blue-100 font-semibold":B?"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 text-gray-900 dark:text-gray-100":"border-transparent bg-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700/30"}
                                    `,role:"button",tabIndex:0,onKeyDown:p=>{(p.key==="Enter"||p.key===" ")&&!u&&r(R.id)},children:[x.jsx("span",{className:`
                                        ${$?"font-semibold":"font-medium"} 
                                        flex-1 whitespace-nowrap overflow-hidden text-ellipsis 
                                        text-lg leading-tight
                                    `,children:R.name}),x.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[R.isOpen&&x.jsx("span",{className:"text-green-500 dark:text-green-400 text-base",children:"●"}),e.length>1&&x.jsx("button",{onClick:p=>{p.stopPropagation(),j(p,R.id)},title:"Delete board",className:`
                                                    w-5 h-5 bg-transparent border-none text-red-500 dark:text-red-400 
                                                    cursor-pointer text-lg leading-none flex items-center justify-center
                                                    rounded transition-all duration-150
                                                    ${B?"opacity-100 visible hover:bg-red-50 dark:hover:bg-red-900/30":"opacity-0 invisible"}
                                                    hover:text-red-600 dark:hover:text-red-300
                                                `,children:"×"})]})]},R.id)})}),u&&x.jsx("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400 text-base font-medium",children:"Loading boards..."}),x.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:x.jsx("button",{onClick:l,className:`w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 
                                     bg-transparent text-gray-700 dark:text-gray-300 cursor-pointer text-base font-medium
                                     transition-all duration-200
                                     hover:bg-gray-50 dark:hover:bg-gray-700/50 hover:border-gray-400 dark:hover:border-gray-500 
                                     hover:text-gray-900 dark:hover:text-gray-100`,children:"Sign Out"})})]})}),x.jsx(pz,{show:h,onHide:N,onConfirm:k,isCreating:d})]})}const mS=M.createContext(void 0),vz=()=>{const e=M.useContext(mS);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},bz=({children:e})=>{const[t,r]=M.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});M.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(t),localStorage.setItem("theme",t)},[t]);const a=()=>{r(s=>s==="light"?"dark":"light")};return x.jsx(mS.Provider,{value:{theme:t,toggleTheme:a},children:e})},gS=()=>{const{theme:e,toggleTheme:t}=vz();return x.jsx("button",{onClick:t,className:`p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 
                     hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600
                     hover:border-gray-300 dark:hover:border-gray-500 transition-all duration-200 
                     focus:outline-none focus:ring-2 focus:ring-blue-500/30 dark:focus:ring-blue-400/30
                     shadow-sm hover:shadow-md`,title:`Switch to ${e==="light"?"dark":"light"} mode`,"aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?x.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):x.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})})};function wz({name:e,onSetName:t,user:r,isSaving:a}){const[s,l]=M.useState(!1),[u,d]=M.useState(e||"");M.useEffect(()=>{d(e||"")},[e]);const f=g=>{g.key==="Enter"&&(t(u),l(!1))},h=()=>{l(!0),d(e||"")};return x.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:x.jsx("div",{className:"max-w-none mx-auto px-4",children:x.jsxs("header",{className:"flex justify-between items-center py-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-7 h-7 bg-blue-500 rounded-lg flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),x.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"TinkFlow"})]}),x.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"•"}),s?x.jsx("input",{type:"text",value:u,onChange:g=>d(g.target.value),className:`bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 
                                         rounded-md px-2 py-1 text-gray-900 dark:text-gray-100 text-sm min-w-[120px]
                                         focus:outline-none focus:border-blue-500 dark:focus:border-blue-400`,autoFocus:!0,onKeyDown:f}):x.jsx("button",{onClick:h,className:`bg-transparent border-none text-gray-600 dark:text-gray-400 text-sm cursor-pointer 
                                         px-2 py-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700`,children:e||"Untitled Board"})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[a&&x.jsxs("div",{className:`text-green-600 dark:text-green-400 text-sm flex items-center gap-2 
                                           bg-green-50 dark:bg-green-900/20 px-3 py-1.5 rounded-full`,children:[x.jsx("div",{className:"w-2 h-2 bg-green-500 dark:bg-green-400 rounded-full"}),x.jsx("span",{className:"font-medium",children:"Saving..."})]}),x.jsx(gS,{}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-white font-medium text-xs",children:r?.isAnonymous?"G":r?.email?.charAt(0).toUpperCase()||"U"})}),x.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm font-medium",children:r?.isAnonymous?"Guest":r?.email?.split("@")[0]||"User"})]})]})]})})})}const _z=(e,t)=>e.name===t.name&&e.onSetName===t.onSetName&&e.user?.isAnonymous===t.user?.isAnonymous&&e.user?.email===t.user?.email&&e.isSaving===t.isSaving,xz=M.memo(wz,_z),Sz=({notification:e,onRemove:t})=>{const r=s=>{switch(s){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"📄"}},a=s=>{switch(s){case"success":return"bg-green-900/20 dark:bg-green-900/30 border-green-500/30 dark:border-green-500/40 text-green-300 dark:text-green-400";case"error":return"bg-red-900/20 dark:bg-red-900/30 border-red-500/30 dark:border-red-500/40 text-red-300 dark:text-red-400";case"warning":return"bg-yellow-900/20 dark:bg-yellow-900/30 border-yellow-500/30 dark:border-yellow-500/40 text-yellow-300 dark:text-yellow-400";case"info":return"bg-blue-900/20 dark:bg-blue-900/30 border-blue-500/30 dark:border-blue-500/40 text-blue-300 dark:text-blue-400";default:return"bg-gray-900/20 dark:bg-gray-900/30 border-gray-500/30 dark:border-gray-500/40 text-gray-300 dark:text-gray-400"}};return x.jsxs("div",{className:`notification relative min-w-80 max-w-md p-4 rounded-xl border shadow-2xl backdrop-blur-sm                         transform transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-3xl                        ${a(e.type)}`,children:[" ",x.jsxs("div",{className:"flex items-start gap-3",children:[" ",x.jsxs("span",{className:"text-lg flex-shrink-0 mt-0.5",children:[" ",r(e.type)," "]})," ",x.jsxs("div",{className:"flex-1 min-w-0",children:[" ",x.jsxs("p",{className:"text-sm font-medium leading-5 break-words",children:[" ",e.message," "]})," "]})," ",x.jsxs("button",{onClick:()=>t(e.id),className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-200 dark:hover:text-gray-300                              hover:bg-gray-700/50 dark:hover:bg-gray-600/50                              rounded-full p-1 transition-all duration-200                              focus:outline-none focus:ring-2 focus:ring-gray-500/20 dark:focus:ring-gray-400/20","aria-label":"Close notification",children:[" ",x.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[" ",x.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})," "]})," "]})," "]})," "]})},Ez=({notifications:e,onRemove:t})=>x.jsxs("div",{className:"notification-container fixed top-4 right-4 space-y-3 z-[2000] pointer-events-none",children:[" ",e.map(r=>x.jsxs("div",{className:"pointer-events-auto",children:[" ",x.jsx(Sz,{notification:r,onRemove:t})," "]},r.id))," "]});function kz({onLogin:e}){return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 antialiased",children:[" "," ",x.jsxs("nav",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:[" ",x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",x.jsxs("div",{className:"flex justify-between items-center py-4",children:[" ",x.jsxs("div",{className:"flex items-center space-x-3",children:[" ",x.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:[" ",x.jsx("span",{className:"text-white font-bold text-lg",children:"T"})," "]})," ",x.jsxs("div",{className:"flex flex-col",children:[" ",x.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white tracking-tight",children:"TinkFlow"})," ",x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"AI Learning Platform"})," "]})," "]})," ",x.jsxs("div",{className:"flex items-center gap-4",children:[" ",x.jsx(gS,{})," ",x.jsxs("button",{onClick:e,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors duration-200",children:[" ","Get Started"," "]})," "]})," "]})," "]})," "]})," "," ",x.jsxs("section",{className:"relative overflow-hidden",children:[" ",x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32",children:[" ",x.jsxs("div",{className:"text-center",children:[" ",x.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-50 dark:bg-indigo-900/20 px-4 py-2 rounded-full mb-8",children:[" ",x.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"})," ",x.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium text-sm",children:"AI-Powered Concept Learning"})," "]})," ",x.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-6 leading-tight",children:[" ","Learn & Tinker with"," ",x.jsxs("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent block",children:[" ","AI-Powered Concepts"," "]})," "]})," ",x.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-10 max-w-3xl mx-auto leading-relaxed",children:[" ","TinkFlow is the ultimate AI-powered platform for exploring, understanding, and experimenting with new concepts. Transform your learning journey with interactive visual flows and intelligent insights."," "]})," ",x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[" ",x.jsxs("button",{onClick:e,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[" ","Start Learning Now"," "]})," ",x.jsxs("button",{className:"px-8 py-4 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-semibold text-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[" ","Watch Demo"," "]})," "]})," "]})," "]})," "," ",x.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full opacity-10 blur-3xl"})," ",x.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-10 blur-2xl"})," "]})," "," ",x.jsxs("section",{className:"py-20 bg-white dark:bg-gray-800",children:[" ",x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",x.jsxs("div",{className:"text-center mb-16",children:[" ",x.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","Everything You Need to Learn"," "]})," ",x.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","AI-powered tools and features designed to accelerate your learning and conceptual understanding"," "]})," "]})," ",x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[" ",x.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-indigo-200 dark:border-indigo-700/50 hover:transform hover:-translate-y-1",children:[" ",x.jsxs("div",{className:"w-14 h-14 bg-indigo-500 rounded-xl flex items-center justify-center mb-6",children:[" ",x.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})," "]})," "]})," ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","AI-Powered Insights"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Get intelligent explanations and connections between concepts powered by advanced AI that understands your learning style."," "]})," "]})," ",x.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-purple-200 dark:border-purple-700/50 hover:transform hover:-translate-y-1",children:[" ",x.jsxs("div",{className:"w-14 h-14 bg-purple-500 rounded-xl flex items-center justify-center mb-6",children:[" ",x.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})," "]})," "]})," ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Interactive Visual Flows"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Build and explore concept maps with interactive nodes that respond to your curiosity and create dynamic learning pathways."," "]})," "]})," ",x.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-green-200 dark:border-green-700/50 hover:transform hover:-translate-y-1",children:[" ",x.jsxs("div",{className:"w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center mb-6",children:[" ",x.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})," "]})," "]})," ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Experimentation Sandbox"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Tinker with concepts in a safe, guided environment where you can test ideas and see instant results with AI feedback."," "]})," "]})," "]})," "]})," "]})," "," ",x.jsxs("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:[" ",x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",x.jsxs("div",{className:"text-center mb-16",children:[" ",x.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","How TinkFlow Works"," "]})," ",x.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","Three simple steps to unlock your learning potential with AI-powered concept exploration"," "]})," "]})," ",x.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[" ",x.jsxs("div",{className:"text-center",children:[" ",x.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",x.jsx("span",{className:"text-white font-bold text-xl",children:"1"})," "]})," ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Input Your Concept"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Start by entering any topic, question, or concept you want to explore. Our AI understands context and complexity."," "]})," "]})," ",x.jsxs("div",{className:"text-center",children:[" ",x.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",x.jsx("span",{className:"text-white font-bold text-xl",children:"2"})," "]})," ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","AI Generates Flow"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Watch as TinkFlow creates an interactive visual map with connected nodes, each representing key aspects of your concept."," "]})," "]})," ",x.jsxs("div",{className:"text-center",children:[" ",x.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",x.jsx("span",{className:"text-white font-bold text-xl",children:"3"})," "]})," ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Explore & Learn"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Click on any node to dive deeper, ask questions, and watch new connections emerge as you explore your learning path."," "]})," "]})," "]})," "]})," "]})," "," ",x.jsxs("section",{className:"py-20 bg-gradient-to-r from-indigo-500 to-purple-600",children:[" ",x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",x.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[" ",x.jsxs("div",{className:"text-white",children:[" ",x.jsx("div",{className:"text-4xl font-bold mb-2",children:"27K+"})," ",x.jsx("div",{className:"text-indigo-100",children:"Concepts Explored"})," "]})," ",x.jsxs("div",{className:"text-white",children:[" ",x.jsx("div",{className:"text-4xl font-bold mb-2",children:"2.4K+"})," ",x.jsx("div",{className:"text-indigo-100",children:"Active Learners"})," "]})," ",x.jsxs("div",{className:"text-white",children:[" ",x.jsx("div",{className:"text-4xl font-bold mb-2",children:"98%"})," ",x.jsx("div",{className:"text-indigo-100",children:"Learning Success"})," "]})," ",x.jsxs("div",{className:"text-white",children:[" ",x.jsx("div",{className:"text-4xl font-bold mb-2",children:"24/7"})," ",x.jsx("div",{className:"text-indigo-100",children:"AI Support"})," "]})," "]})," "]})," "]})," "," ",x.jsxs("section",{className:"py-20 bg-white dark:bg-gray-800",children:[" ",x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",x.jsxs("div",{className:"text-center mb-16",children:[" ",x.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","Perfect for Every Learning Style"," "]})," ",x.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","Whether you're a student, researcher, or curious mind, TinkFlow adapts to your learning needs"," "]})," "]})," ",x.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[" ",x.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/10 dark:to-blue-800/10 p-8 rounded-2xl border border-blue-200 dark:border-blue-700/30",children:[" ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" ","🎓 Academic Learning"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Break down complex academic subjects into digestible, interconnected concepts. Perfect for studying sciences, humanities, and technical topics."," "]})," ",x.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",x.jsx("li",{children:"• Research paper analysis"})," ",x.jsx("li",{children:"• Concept mapping for exams"})," ",x.jsx("li",{children:"• Cross-disciplinary connections"})," "]})," "]})," ",x.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/10 dark:to-purple-800/10 p-8 rounded-2xl border border-purple-200 dark:border-purple-700/30",children:[" ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" ","💡 Creative Exploration"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Explore ideas, brainstorm solutions, and discover unexpected connections. Great for creative professionals and innovators."," "]})," ",x.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",x.jsx("li",{children:"• Idea generation workflows"})," ",x.jsx("li",{children:"• Problem-solving frameworks"})," ",x.jsx("li",{children:"• Innovation mapping"})," "]})," "]})," ",x.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/10 dark:to-green-800/10 p-8 rounded-2xl border border-green-200 dark:border-green-700/30",children:[" ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" ","🔬 Technical Deep Dives"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Understand complex systems, architectures, and technologies through interactive exploration and AI-guided explanations."," "]})," ",x.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",x.jsx("li",{children:"• System architecture learning"})," ",x.jsx("li",{children:"• Technology stack exploration"})," ",x.jsx("li",{children:"• Code concept mapping"})," "]})," "]})," ",x.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/10 dark:to-orange-800/10 p-8 rounded-2xl border border-orange-200 dark:border-orange-700/30",children:[" ",x.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" ","🚀 Professional Development"," "]})," ",x.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Build skills, understand industry trends, and create learning paths for career advancement with AI-powered insights."," "]})," ",x.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",x.jsx("li",{children:"• Skill gap analysis"})," ",x.jsx("li",{children:"• Career pathway planning"})," ",x.jsx("li",{children:"• Industry trend mapping"})," "]})," "]})," "]})," "]})," "]})," "," ",x.jsxs("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:[" ",x.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[" ",x.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-6",children:[" ","Ready to Transform Your Learning?"," "]})," ",x.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-10",children:[" ","Join thousands of learners who are already exploring concepts in revolutionary ways with TinkFlow's AI-powered platform."," "]})," ",x.jsxs("button",{onClick:e,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-12 py-4 rounded-xl text-lg font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[" ","Start Learning for Free"," "]})," ",x.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:[" ","No credit card required • Get started in seconds"," "]})," "]})," "]})," "," ",x.jsxs("footer",{className:"bg-gray-900 text-white py-12",children:[" ",x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",x.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[" ",x.jsxs("div",{className:"col-span-1",children:[" ",x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[" ",x.jsxs("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:[" ",x.jsx("span",{className:"text-white font-bold text-sm",children:"T"})," "]})," ",x.jsx("span",{className:"text-xl font-bold",children:"TinkFlow"})," "]})," ",x.jsxs("p",{className:"text-gray-400 text-sm",children:[" ","AI-powered concept learning platform for curious minds."," "]})," "]})," ",x.jsxs("div",{children:[" ",x.jsx("h4",{className:"font-semibold mb-4",children:"Product"})," ",x.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})})," ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})})," ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})})," "]})," "]})," ",x.jsxs("div",{children:[" ",x.jsx("h4",{className:"font-semibold mb-4",children:"Resources"})," ",x.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})})," ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Tutorials"})})," ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})})," "]})," "]})," ",x.jsxs("div",{children:[" ",x.jsx("h4",{className:"font-semibold mb-4",children:"Company"})," ",x.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})})," ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})," ",x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})})," "]})," "]})," "]})," ",x.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[" ",x.jsxs("p",{className:"text-gray-400 text-sm",children:[" ","© 2025 TinkFlow. All rights reserved."," "]})," ",x.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[" ",x.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",x.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",x.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})," "]})," "]})," ",x.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",x.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",x.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})," "]})," "]})," ",x.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",x.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",x.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.747.099.12.112.225.085.344-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.001 12.017z"})," "]})," "]})," "]})," "]})," "]})," "]})," "]})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Az=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,a)=>a?a.toUpperCase():r.toLowerCase()),f1=e=>{const t=Az(e);return t.charAt(0).toUpperCase()+t.slice(1)},pS=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim(),Cz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:u,...d},f)=>M.createElement("svg",{ref:f,...Nz,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:pS("lucide",s),...!l&&!Cz(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>M.createElement(h,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(e,t)=>{const r=M.forwardRef(({className:a,...s},l)=>M.createElement(Mz,{ref:l,iconNode:t,className:pS(`lucide-${Tz(f1(e))}`,`lucide-${e}`,a),...s}));return r.displayName=f1(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Sg=Jt("bot",jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Pc=Jt("brain",Rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Oz=Jt("download",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]],Lz=Jt("gavel",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],$z=Jt("hash",Pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Uz=Jt("info",Bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Hz=Jt("lightbulb",Vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Eg=Jt("loader-circle",Iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],yS=Jt("message-square",qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Yz=Jt("send",Gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kz=Jt("settings",Fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],wd=Jt("sparkles",Xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vS=Jt("user",Zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wz=Jt("x",Qz);class ps extends Error{constructor(t,r){super(`${t} at position ${r}`),this.position=r}}const bS=32,Jz=10,wS=9,_S=13,eL=160,tL=8192,nL=8202,rL=8239,aL=8287,iL=12288;function sL(e){return/^[0-9A-Fa-f]$/.test(e)}function ti(e){return e>="0"&&e<="9"}function oL(e){return e>=" "}function Ac(e){return`,:[]/{}()
+`.includes(e)}function h1(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"}function m1(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"||e>="0"&&e<="9"}const g1=/^(http|https|ftp|mailto|file|data|irc):\/\/$/,p1=/^[A-Za-z0-9-._~:/?#@!$&'()*+;=]$/;function y1(e){return`,[]/{}
+`.includes(e)}function v1(e){return $c(e)||lL.test(e)}const lL=/^[[{\w-]$/;function uL(e){return e===`
`||e==="\r"||e==="	"||e==="\b"||e==="\f"}function si(e,t){const r=e.charCodeAt(t);return r===bS||r===Jz||r===wS||r===_S}function cL(e,t){const r=e.charCodeAt(t);return r===bS||r===wS||r===_S}function dL(e,t){const r=e.charCodeAt(t);return r===eL||r>=tL&&r<=nL||r===rL||r===aL||r===iL}function $c(e){return xS(e)||kg(e)}function xS(e){return e==='"'||e==="“"||e==="”"}function b1(e){return e==='"'}function kg(e){return e==="'"||e==="‘"||e==="’"||e==="`"||e==="´"}function w1(e){return e==="'"}function Wo(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const a=e.lastIndexOf(t);return a!==-1?e.substring(0,a)+(r?"":e.substring(a+1)):e}function Pn(e,t){let r=e.length;if(!si(e,r-1))return e+t;for(;si(e,r-1);)r--;return e.substring(0,r)+t+e.substring(r)}function fL(e,t,r){return e.substring(0,t)+e.substring(t+r)}function hL(e){return/[,\n][ \t\r]*$/.test(e)}const mL={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},gL={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function Op(e){let t=0,r="";h(["```","[```","{```"]),l()||O(),h(["```","```]","```}"]);const s=v(",");for(s&&u(),v1(e[t])&&hL(r)?(s||(r=Pn(r,",")),R()):s&&(r=Wo(r,","));e[t]==="}"||e[t]==="]";)t++,u();if(t>=e.length)return r;Q();function l(){u();const H=N()||j()||$()||p()||_()||S(!1)||C();return u(),H}function u(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const I=t;let D=d(H);do D=f(),D&&(D=d(H));while(D);return t>I}function d(H){const I=H?si:cL;let D="";for(;;)if(I(e,t))D+=e[t],t++;else if(dL(e,t))D+=" ",t++;else break;return D.length>0?(r+=D,!0):!1}function f(){if(e[t]==="/"&&e[t+1]==="*"){for(;t<e.length&&!pL(e,t);)t++;return t+=2,!0}if(e[t]==="/"&&e[t+1]==="/"){for(;t<e.length&&e[t]!==`
`;)t++;return!0}return!1}function h(H){if(g(H)){if(h1(e[t]))for(;t<e.length&&m1(e[t]);)t++;return u(),!0}return!1}function g(H){for(const I of H){const D=t+I.length;if(e.slice(t,D)===I)return t=D,!0}return!1}function v(H){return e[t]===H?(r+=e[t],t++,!0):!1}function w(H){return e[t]===H?(t++,!0):!1}function k(){return w("\\")}function A(){return u(),e[t]==="."&&e[t+1]==="."&&e[t+2]==="."?(t+=3,u(),w(","),!0):!1}function N(){if(e[t]==="{"){r+="{",t++,u(),w(",")&&u();let H=!0;for(;t<e.length&&e[t]!=="}";){let I;if(H?(I=!0,H=!1):(I=v(","),I||(r=Pn(r,",")),u()),A(),!($()||S(!0))){e[t]==="}"||e[t]==="{"||e[t]==="]"||e[t]==="["||e[t]===void 0?r=Wo(r,","):q();break}u();const G=v(":"),te=t>=e.length;G||(v1(e[t])||te?r=Pn(r,":"):E()),l()||(G||te?r+="null":E())}return e[t]==="}"?(r+="}",t++):r=Pn(r,"}"),!0}return!1}function j(){if(e[t]==="["){r+="[",t++,u(),w(",")&&u();let H=!0;for(;t<e.length&&e[t]!=="]";)if(H?H=!1:v(",")||(r=Pn(r,",")),A(),!l()){r=Wo(r,",");break}return e[t]==="]"?(r+="]",t++):r=Pn(r,"]"),!0}return!1}function R(){let H=!0,I=!0;for(;I;)H?H=!1:v(",")||(r=Pn(r,",")),I=l();I||(r=Wo(r,",")),r=`[
${r}
]`}function $(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,D=e[t]==="\\";if(D&&(t++,D=!0),$c(e[t])){const G=b1(e[t])?b1:w1(e[t])?w1:kg(e[t])?kg:xS,te=t,Z=r.length;let J='"';for(t++;;){if(t>=e.length){const ee=L(t-1);return!H&&Ac(e.charAt(ee))?(t=te,r=r.substring(0,Z),$(!0)):(J=Pn(J,'"'),r+=J,!0)}if(t===I)return J=Pn(J,'"'),r+=J,!0;if(G(e[t])){const ee=t,Y=J.length;if(J+='"',t++,r+=J,u(!1),H||t>=e.length||Ac(e[t])||$c(e[t])||ti(e[t]))return B(),!0;const K=L(ee-1),ne=e.charAt(K);if(ne===",")return t=te,r=r.substring(0,Z),$(!1,K);if(Ac(ne))return t=te,r=r.substring(0,Z),$(!0);r=r.substring(0,Z),t=ee+1,J=`${J.substring(0,Y)}\\${J.substring(Y)}`}else if(H&&y1(e[t])){if(e[t-1]===":"&&g1.test(e.substring(te+1,t+2)))for(;t<e.length&&p1.test(e[t]);)J+=e[t],t++;return J=Pn(J,'"'),r+=J,B(),!0}else if(e[t]==="\\"){const ee=e.charAt(t+1);if(gL[ee]!==void 0)J+=e.slice(t,t+2),t+=2;else if(ee==="u"){let K=2;for(;K<6&&sL(e[t+K]);)K++;K===6?(J+=e.slice(t,t+6),t+=6):t+K>=e.length?t=e.length:V()}else J+=ee,t+=2}else{const ee=e.charAt(t);ee==='"'&&e[t-1]!=="\\"?(J+=`\\${ee}`,t++):uL(ee)?(J+=mL[ee],t++):(oL(ee)||X(ee),J+=ee,t++)}D&&k()}}return!1}function B(){let H=!1;for(u();e[t]==="+";){H=!0,t++,u(),r=Wo(r,'"',!0);const I=r.length;$()?r=fL(r,I,1):r=Pn(r,'"')}return H}function p(){const H=t;if(e[t]==="-"){if(t++,z())return U(H),!0;if(!ti(e[t]))return t=H,!1}for(;ti(e[t]);)t++;if(e[t]==="."){if(t++,z())return U(H),!0;if(!ti(e[t]))return t=H,!1;for(;ti(e[t]);)t++}if(e[t]==="e"||e[t]==="E"){if(t++,(e[t]==="-"||e[t]==="+")&&t++,z())return U(H),!0;if(!ti(e[t]))return t=H,!1;for(;ti(e[t]);)t++}if(!z())return t=H,!1;if(t>H){const I=e.slice(H,t),D=/^0\d/.test(I);return r+=D?`"${I}"`:I,!0}return!1}function _(){return b("true","true")||b("false","false")||b("null","null")||b("True","true")||b("False","false")||b("None","null")}function b(H,I){return e.slice(t,t+H.length)===H?(r+=I,t+=H.length,!0):!1}function S(H){const I=t;if(h1(e[t])){for(;t<e.length&&m1(e[t]);)t++;let D=t;for(;si(e,D);)D++;if(e[D]==="(")return t=D+1,l(),e[t]===")"&&(t++,e[t]===";"&&t++),!0}for(;t<e.length&&!y1(e[t])&&!$c(e[t])&&(!H||e[t]!==":");)t++;if(e[t-1]===":"&&g1.test(e.substring(I,t+2)))for(;t<e.length&&p1.test(e[t]);)t++;if(t>I){for(;si(e,t-1)&&t>0;)t--;const D=e.slice(I,t);return r+=D==="undefined"?"null":JSON.stringify(D),e[t]==='"'&&t++,!0}}function C(){if(e[t]==="/"){const H=t;for(t++;t<e.length&&(e[t]!=="/"||e[t-1]==="\\");)t++;return t++,r+=`"${e.substring(H,t)}"`,!0}}function L(H){let I=H;for(;I>0&&si(e,I);)I--;return I}function z(){return t>=e.length||Ac(e[t])||si(e,t)}function U(H){r+=`${e.slice(H,t)}0`}function X(H){throw new ps(`Invalid character ${JSON.stringify(H)}`,t)}function Q(){throw new ps(`Unexpected character ${JSON.stringify(e[t])}`,t)}function O(){throw new ps("Unexpected end of json string",e.length)}function q(){throw new ps("Object key expected",t)}function E(){throw new ps("Colon expected",t)}function V(){const H=e.slice(t,t+6);throw new ps(`Invalid unicode character "${H}"`,t)}}function pL(e,t){return e[t]==="*"&&e[t+1]==="/"}const yL={3:[`flowchart TD
    A[Problem Identification] -->|Analysis| B(Data Collection)
    B --> C{Decision Point}
    C -->|Option 1| D[Solution A]
    C -->|Option 2| E[Solution B]
    C -->|Complex Case| F[fa:fa-cogs Advanced Process]`,`flowchart LR
    Start([Beginning]) --> Process1[Step One]
    Process1 --> Process2[Step Two]
    Process2 --> Decision{Is Complete?}
    Decision -->|Yes| End([Finish])
    Decision -->|No| Process1`,`flowchart TB
    Input[User Input] --> Validate{Valid?}
    Validate -->|No| Error[Display Error]
    Validate -->|Yes| Process[Process Data]
    Process --> Store[(Database)]
    Store --> Output[Show Result]
    Error --> Input`],4:[`mindmap
  root((Learning Strategy))
    Visual Learning
      Diagrams
      Charts
      Infographics
    Auditory Learning
      Lectures
      Discussions
      Music
    Kinesthetic Learning
      Hands-on Activities
      Movement
      Practice`,`mindmap
  root((Project Management))
    Planning
      Requirements
      Timeline
      Resources
    Execution
      Team Coordination
      Task Management
      Quality Control
    Review
      Testing
      Feedback
      Optimization`,`mindmap
  root((Innovation Process))
    Research
      Market Analysis
      User Needs
      Technology Trends
    Ideation
      Brainstorming
      Prototyping
      Testing
    Implementation
      Development
      Launch
      Iteration`],5:[`pie
    title Learning Preferences
    "Visual Learners" : 65
    "Auditory Learners" : 20
    "Kinesthetic Learners" : 15`,`pie
    title Project Time Distribution
    "Development" : 50
    "Testing" : 25
    "Planning" : 15
    "Documentation" : 10`,`pie
    title Market Share Analysis
    "Leader" : 40
    "Challenger" : 30
    "Follower" : 20
    "Niche Player" : 10`],6:[`quadrantChart
    title Priority Matrix
    x-axis Low Effort --> High Effort
    y-axis Low Impact --> High Impact
    quadrant-1 Quick Wins
    quadrant-2 Major Projects
    quadrant-3 Fill-ins
    quadrant-4 Thankless Tasks
    "Task A": [0.2, 0.8]
    "Task B": [0.7, 0.9]
    "Task C": [0.3, 0.3]`,`quadrantChart
    title Skills Assessment
    x-axis Beginner --> Expert
    y-axis Low Demand --> High Demand
    quadrant-1 Develop
    quadrant-2 Leverage
    quadrant-3 Maintain
    quadrant-4 Focus
    "JavaScript": [0.8, 0.9]
    "Python": [0.6, 0.7]
    "Design": [0.4, 0.8]`,`quadrantChart
    title Market Position
    x-axis Low Price --> High Price
    y-axis Low Quality --> High Quality
    quadrant-1 Economy
    quadrant-2 Premium
    quadrant-3 Budget
    quadrant-4 Value
    "Product A": [0.3, 0.7]
    "Product B": [0.8, 0.8]
    "Product C": [0.2, 0.4]`]},SS={1:"Hero visual with comprehensive explanation - large image with detailed educational content",2:"Step-by-step visual guide - multiple images with substantial explanations for each step",3:"Process diagram with detailed explanation - flowchart showing complex processes with educational context",4:"Concept map with analysis - mind map with detailed explanations of relationships",5:"Data visualization with analysis - pie chart with detailed statistical breakdown and interpretation",6:"Strategic framework with detailed explanation - quadrant analysis with comprehensive guidelines",7:"Featured concept layout - large visual with title and multiple paragraphs of educational content",8:"Comparative analysis - main concept with supporting evidence and detailed explanations",9:"Video learning with context - educational video with substantial background information",12:"Illustrated guide with key insights - central visual with detailed bullet points and explanations",13:"Media-rich educational content - video with comprehensive overview and context",14:"Comprehensive topic exploration - alternating visuals and detailed explanations for thorough understanding",15:"Historical timeline with detailed context - chronological progression with substantial descriptions",16:"Multi-concept comparison - grid layout with detailed descriptions for comparing related topics",17:"Code tutorial with visual examples - code snippets with explanations and visual diagrams",18:"Technical documentation - code examples with comprehensive API documentation and use cases"},vL={1:'["compelling_title", "comprehensive_educational_content", ["hero_image_prompt", "supporting_visual_1", "supporting_visual_2"]]',2:'[["step_image_1", "detailed_step_explanation_1"], ["step_image_2", "detailed_step_explanation_2"], ["step_image_3", "detailed_step_explanation_3"]]',3:[`flowchart TD
    A[starting_concept] -->|process_1| B(intermediate_result)
    B --> C{decision_point}
    C -->|outcome_a| D[final_result_1]
    C -->|outcome_b| E[final_result_2]
    C -->|outcome_c| F[fa:fa-star special_case]`,"comprehensive_process_explanation"],4:["detailed_concept_analysis_for_mindmap"],5:[`pie
    title Educational_Data_Analysis
    "Primary_Factor" : 45
    "Secondary_Factor" : 30
    "Additional_Factors" : 25`,"comprehensive_data_interpretation"],6:[`quadrantChart
    title Educational_Framework
    x-axis Low_Complexity --> High_Complexity
    y-axis Low_Impact --> High_Impact
    quadrant-1 Quick_Concepts
    quadrant-2 Advanced_Topics
    quadrant-3 Basic_Ideas
    quadrant-4 Fundamental_Principles
    "Concept_A": [0.3, 0.7]
    "Concept_B": [0.8, 0.4]
    "Concept_C": [0.2, 0.8]`,"detailed_framework_explanation"],7:"[featured_visual_prompt, educational_title, detailed_paragraph_1, detailed_paragraph_2, detailed_paragraph_3]",8:"[main_concept_visual, educational_title, comprehensive_explanation, [evidence_visual_1, evidence_visual_2, evidence_visual_3]]",9:"[educational_video_prompt, comprehensive_contextual_explanation]",12:"[central_educational_visual, [detailed_insight_1, detailed_insight_2, detailed_insight_3, detailed_insight_4]]",13:"[educational_section_title, comprehensive_overview_text, instructional_video_prompt]",14:"[educational_visual_1, detailed_explanation_1, educational_visual_2, detailed_explanation_2, educational_visual_3, detailed_explanation_3]",15:"[date_1, historical_visual_1, comprehensive_event_description_1, date_2, historical_visual_2, comprehensive_event_description_2]",16:"[topic_title_1, topic_visual_1, detailed_description_1, topic_title_2, topic_visual_2, detailed_description_2]",17:"[tutorial_title, code_example_1, code_explanation_1, architecture_diagram_prompt, implementation_explanation, code_example_2, code_explanation_2]",18:"[api_title, code_snippet, comprehensive_documentation, usage_examples, visual_diagram_prompt, best_practices_explanation]"},ES=Object.freeze(Object.defineProperty({__proto__:null,EXAMPLE_DIAGRAMS:yL,LAYOUT_SCHEMA:vL,LAYOUT_TYPES:SS},Symbol.toStringTag,{value:"Module"})),bL=e=>`You are an expert quiz creator. Generate a quiz based on the concept: "${e}".

    - Create 4+ questions with 4 answer options each.
    - Ensure questions are clear and concise.
    - Provide one correct answer per question.
    - Format the output as a JSON array of objects, each with "question", "options", and "answer" fields.

    Example output:
    [
        {
            question: "What is React?",
            options: ["A JavaScript library", "A database", "A programming language", "A CSS framework"],
            answer: 0
        },
        {
            question: "Which company developed React?",
            options: ["Google", "Facebook", "Microsoft", "Amazon"],
            answer: 1
        },
        ...
    ]`,wL=(e,t,r,a)=>`
You are creating educational content. **Return ONLY a valid JSON _array_ — no extra text.**

════════════════════════════════════════
GLOBAL GUIDELINES
════════════════════════════════════════
• **Comprehensive** – ≥100 words per node  
• **Well‑structured** – 3–5 sentences per paragraph (20–40 words each)  
• **Visual balance** – 70% rich markdown text, 30% visuals  
• **Educational depth** – thorough explanations, concrete examples  
• **Engaging writing** – heavy markdown (**bold**, *italic*, ## headers, - lists)
USE A LOT OF MARKDOWN!!!!
════════════════════════════════════════
LAYOUT‑SPECIFIC RULES
════════════════════════════════════════
${a===12?'FOR THIS LAYOUT → Return exactly ["image_prompt", ["insight1", "insight2", "insight3", "insight4"]] — each insight 40–50 words.':""}
${a===15?"FOR THIS TIMELINE → [date1, image_prompt1, description1, …] — 4–8 items, 2–3 sentences per description.":""}
${a===14?"FOR THIS LAYOUT → Keep descriptions 2–3 sentences.":""}
${a===2?"FOR THIS LAYOUT  → Keep descriptions 2–3 sentences.":""}


IMAGE PROMPTS
• Nice and simple image prompts like "Illustration of photosynthesis" or "Diagram of the water cycle".
• No need for complex prompts, just clear and concise descriptions.

OUTPUT FORMAT (STRICT)
• Return **only** a JSON array \`[]\`.  
• Never nest objects inside the array (arrays only).  
• Absolutely no prose or code fences outside the array.

CONCEPT: ${e}
CONTEXT: ${t}
SCHEMA: ${r}
`,_L=(e,t,r)=>`
You are creating educational content.
════════════════════════════════════════
GLOBAL GUIDELINES
════════════════════════════════════════
• **Well‑structured** – 3–5 sentences per paragraph (20-40 words each)  
• **Educational depth** – thorough explanations, concrete examples  
• **Engaging writing** – heavy markdown (**bold**, *italic*, ## headers, - lists)
USE A LOT OF MARKDOWN!

════════════════════════════════════════
LAYOUT‑SPECIFIC RULES
════════════════════════════════════════
YOU NEED TO RETURN A DESCRIPTION TO THIS MERMAID DIAGRAM: ${e}
THE TOPIC IS: ${t}
THE CONTEXT IS: ${r}
OUTPUT FORMAT (STRICT)
• Return **only** an EXPLANATION OF THE DIAGRAM AS A STRING.
`,xL=(e,t)=>{const r=(a,s)=>`Respond ONLY with a valid JSON array like ["topic1", "topic2"].
        Instructions:
        - Suggest exactly ${a}-${s} logical next topics.
        - Each topic <4 words, double‑quoted.
        - No explanation or extra text.
  
    Concept: ${e}`;switch(t){case"explain":return r(4,5);case"argue":return r(3,5);case"answer":return r(2,3);default:return r(3,5)}},SL=(e,t)=>`RETURN ONLY THE FA ICON CORRESPONDING TO THE CONCEPT: "${e}". EXAMPLE: <i class="fas fa-check"></i>. If no icon is suitable, return the closest match or a generic icon like <i class="fas fa-lightbulb"></i>. Do not return any text or explanation, just the icon HTML.`,EL=(e,t,r=[])=>{const a=r.length>0?`Last used layouts: ${r.join(", ")}`:"No recent layout history available.";return`Choose the best educational layout for "${e}" - prioritize diversity and optimal content presentation.
        
        ${a}
        
        Use diverse layouts for better user experience. If multiple layouts are suitable, STRONGLY PREFER layouts that are NOT in the recent history.
        
        SELECTION CRITERIA:
        • Layout Variety - Avoid recently used layouts (${r.join(", ")})
        • Content Type Match: Which layout best fits the specific content structure?
        • Visual Balance: Optimal text-to-visual ratio for the topic
        • Learning Effectiveness: Best presentation for comprehension
        
        PRIORITY LAYOUT SELECTION GUIDE:
        • **Technical/Programming topics**: Use layouts 17, 18 (code tutorials, API docs), 1, 8
        • **Process/systems**: Use diagram layouts 3, 4, 5(good for composition data), 6
        • **Comprehensive explanations**: Use hero layouts 1, 7, 12
        • **Step-by-step content**: Use layouts 2, 15 (timeline), 17 (code tutorial)
        • **Multi-aspect topics**: Use layouts 12, 13, 16
        • **Media-heavy content**: Use layouts 9, 13
        • **Quick concepts**: Use layouts 1, 6, 8
        • **Historical/chronological**: Use layout 15
        • **Comparison content**: Use layouts 8, 16, 14
        
        DIVERSIFICATION RULES:
        - PRIORITY #1: Prefer layouts not in recent history: ${r.join(", ")}
        - Prioritize new code layouts (17, 18) for technical content
        - Rotate between different layout families
        - Match complexity of layout to complexity of content
        - Consider visual appeal and educational effectiveness
        
        Return ONLY the layout number as an integer (1-18).
        
        LAYOUT TYPES:
        ${JSON.stringify(SS)}`},kL="gpt-4o-mini",TL="gpt-4o-mini",AL="gpt-4o-mini",CL="gpt-4o-mini",_1="gpt-4o",NL="gpt-4o-mini",ML="gpt-4o-mini",jL="gpt-4o-mini",kS=e=>{try{let t=e.replace(/```json\s*\n?/gi,"").replace(/```\s*$/gi,"");t=t.trim();const r=t.match(/\[[\s\S]*\]|\{[\s\S]*\}/);return r&&(t=r[0]),Op(t)}catch(t){console.warn("Failed to repair JSON:",t),console.warn("Original response:",e);let r=e.replace(/```json\s*\n?/gi,"").replace(/```\s*$/gi,"").trim();const a=r.match(/\[[\s\S]*\]|\{[\s\S]*\}/);return a?a[0]:r}},Rr=async(e,t)=>{try{if(!e||typeof e!="string")throw new Error("Message must be a non-empty string");const r=e.trim();if(!r)throw new Error("Message cannot be empty or just whitespace");const{data:a,error:s}=await We.functions.invoke("ai-remote",{body:{message:r,model:t}});if(s)throw s;return console.log("AI response:",a),a?.response||""}catch(r){throw console.error("Supabase function error:",r),console.error("Message sent:",e),r}},RL=[{type:"function",function:{name:"create_visual",description:"Creates a detailed knowledge node with AI-generated content about a specific topic. You need to provide a detailed request for the node's contents so that it perfectly matches and accompanies your message. The visuals should be a nice representation of your words.",parameters:{type:"object",properties:{title:{type:"string",description:"The title for the content node"},description:{type:"string",description:"A detailed description and context for the node's content"}},required:["title","description"]}}}],DL=async(e,t,r,a,s,l,u,d)=>{try{if(!e||typeof e!="string")throw new Error("Message must be a non-empty string");const h=`You are an educational assistant with a chill, friendly vibe and a genuine enthusiasm for the subject. Your goal is to provide helpful, engaging explanations that are clear, concise, and easy to follow.

Use visual representations (e.g., diagrams, charts, examples) whenever they can help illustrate a concept.

Keep the tone approachable but ensure the content remains accurate and well-structured.

Show curiosity and interest in the topic, making the explanation feel inviting rather than dry.

Combine plain-text explanations with visual aids to enhance understanding.

Context:

Current board: ${r}

Current node: ${a}

Previous dialogue: ${s}

Base your response on the following message:

`+e.trim();if(!h)throw new Error("Message cannot be empty or just whitespace");const g={message:h,acceptsStreaming:!0};d?.enableTools&&d?.availableTools&&(g.tools=d.availableTools,g.tool_choice="auto");const v=await fetch(`${_M}/functions/v1/ai-remote`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream",Authorization:`Bearer ${Qw}`,apikey:Qw},body:JSON.stringify(g)});if(!v.ok){const R=await v.text().catch(()=>"");throw new Error(`Supabase function error: ${v.status} ${R}`)}if(!(v.headers.get("content-type")?.toLowerCase()||"").includes("text/event-stream")){const R=await v.json().catch(()=>({}));if(R?.type==="error")throw new Error(R.message||"Stream error");if(R?.response){const $=String(R.response);t($)}if(R?.tool_calls&&R.tool_calls.length&&d?.onToolCall)for(const $ of R.tool_calls)try{t(`
🔧 Using ${$.function.name}...
`);const B=await d.onToolCall($);t(`✅ ${B}
`)}catch(B){t(`❌ Tool execution failed: ${B?.message||B}
`)}l?.();return}const k=v.body?.getReader();if(!k)throw new Error("No response stream available");const A=new TextDecoder;let N="",j=null;for(;;){const{value:R,done:$}=await k.read();if($)break;N+=A.decode(R,{stream:!0});let B;for(;(B=N.indexOf(`

`))!==-1;){const p=N.slice(0,B);N=N.slice(B+2);for(const _ of p.split(`
`)){const b=_.match(/^data:\s*(.*)$/);if(!b)continue;const S=b[1];if(!(!S||S==="[DONE]"))try{const C=JSON.parse(S);if(C.type==="chunk"&&C.content)t(String(C.content));else{if(C.type==="error")throw new Error(C.message||"Stream error");C.type==="complete"&&(j=C)}}catch{t(S)}}}}if(j){if(j.tool_calls&&j.tool_calls.length&&d?.onToolCall)for(const R of j.tool_calls)try{t(`
🔧 Using ${R.function.name}...
`);const $=await d.onToolCall(R);t(`✅ ${$}
`)}catch($){t(`❌ Tool execution failed: ${$?.message||$}
`)}j.response}l?.()}catch(f){console.error("AI Stream error:",f);const h=f?.message||"An unexpected error occurred";t(`Sorry, there was an error: ${h}`),u?.(f instanceof Error?f:new Error(h)),l?.()}},OL=async e=>{try{const t=await Rr(bL(e),NL);return console.log("Quiz response:",t),t||"✨"}catch(t){return console.error("Error fetching icon:",t),"✨"}},TS=async e=>{try{const t=await Rr(xL(e,"default"),CL);console.log("Suggestions response:",t);const r=kS(t);try{const a=JSON.parse(r);return Array.isArray(a)?a:[]}catch(a){console.warn("JSON parse failed for suggestions, attempting repair:",a);const s=Op(t),l=JSON.parse(s);return Array.isArray(l)?l:[]}}catch(t){return console.error("Error fetching suggestions:",t),[]}},x1=async e=>{try{const t=await Rr(SL(e,"default"),TL);return console.log("Icon response:",t),t||"✨"}catch(t){return console.error("Error fetching icon:",t),"✨"}},zL=async e=>{try{const t=`Summarize the following text in 2-3 sentences, focusing on the main ideas and keeping it clear and concise. Do not include any extra commentary or formatting.

Text:
${e}

Return ONLY the summary text.`,r=await Rr(t,kL);return console.log("Summary response:",r),r||""}catch(t){return console.error("Error fetching summary:",t),""}},LL=async(e,t=[])=>{try{const r=await Rr(EL(e,"default",t),AL);console.log("Layout response:",r);const a=r.replace(/[^\d]/g,""),s=parseInt(a);return isNaN(s)||s<1||s>18?(console.warn(`Invalid layout number: ${s}, defaulting to 1`),1):s}catch(r){return console.error("Error fetching layout:",r),1}},PL=async(e,t,r)=>{try{const s={3:"flowchart/process diagram",4:"mind map/concept map",5:"pie chart/data visualization",6:"quadrant chart/strategic framework"}[r]||"diagram",l=`You are creating educational content. Generate a detailed description of what should be shown in a ${s} for the concept: "${e}".

Context: ${t}

Requirements:
- Describe the key elements that should appear in the diagram
- Explain the relationships between elements
- Specify the main flow or structure
- Include 3-5 key components/nodes
- Keep description comprehensive but focused (100-150 words)
- Write in a clear, educational tone

Return ONLY the description text, no JSON formatting or extra text.`;return await Rr(l,ML)||`Description for ${s} showing ${e}`}catch(a){return console.error("Error fetching diagram description:",a),`Educational diagram showing ${e}`}},$L=async(e,t,r,a)=>{try{const l=(await Aa(()=>Promise.resolve().then(()=>ES),void 0)).EXAMPLE_DIAGRAMS[r.toString()],u=l&&Array.isArray(l)?l.slice(0,2).join(`

--- EXAMPLE 2 ---

`):"",f={3:"flowchart",4:"mindmap",5:"pie",6:"quadrantChart"}[r]||"flowchart",h=`Generate a valid Mermaid ${f} diagram for the educational concept: "${e}".

Context: ${t}
Diagram Description: ${a}

EXAMPLES OF VALID ${f.toUpperCase()} DIAGRAMS:
${u}

REQUIREMENTS:
- Generate ONLY a valid Mermaid ${f} syntax
- Use educational, clear node names (no generic A, B, C labels)
- Include 4-7 meaningful elements
- For flowcharts: use proper arrows and decision points
- For mindmaps: use nested structure with (root)
- For pie charts: use meaningful categories with percentages
- For quadrant charts: include axis labels and data points
- Make it educational and relevant to "${e}"
- NO explanatory text, just the diagram code

Return ONLY the Mermaid diagram string, nothing else.`,g=await Rr(h,jL);console.log("Mermaid diagram response:",g);let v=g.replace(/```mermaid\s*\n?/gi,"").replace(/```\s*$/gi,"").trim();const w=v.match(/^(flowchart|mindmap|pie|quadrantChart)[\s\S]*?(?=\n\n|$)/);return w&&(v=w[0]),v||S1(r,e)}catch(s){return console.error("Error fetching Mermaid diagram:",s),S1(r,e)}},S1=(e,t)=>{const r={3:`flowchart TD
    A[${t}] --> B[Understanding]
    B --> C[Application]
    C --> D[Mastery]`,4:`mindmap
  root((${t}))
    Key Concept 1
    Key Concept 2
    Key Concept 3`,5:`pie
    title ${t} Analysis
    "Primary Aspect" : 50
    "Secondary Aspect" : 30
    "Other Aspects" : 20`,6:`quadrantChart
    title ${t} Framework
    x-axis Low --> High
    y-axis Simple --> Complex
    quadrant-1 Basic
    quadrant-2 Advanced
    quadrant-3 Elementary
    quadrant-4 Expert`};return r[e]||r[3]},BL=async(e,t,r,a)=>{try{if(r>=3&&r<=6){const h=await PL(e,t,r),[g,v]=await Promise.all([$L(e,t,r,h),Rr(_L(h,e,t),_1)]);return[g,v||`Educational explanation for ${e}`]}const l=(await Aa(()=>Promise.resolve().then(()=>ES),void 0)).LAYOUT_SCHEMA[r.toString()],u=Array.isArray(l)?JSON.stringify(l):l,d=await Rr(wL(t,e,u,r),_1);console.log("Content response:",d);const f=kS(d);try{const h=JSON.parse(f);return Array.isArray(h)?h:[]}catch(h){console.warn("JSON parse failed, attempting repair:",h);const g=Op(d),v=JSON.parse(g);return Array.isArray(v)?v:[]}}catch(s){return console.error("Error fetching content:",s),[]}},UL=async(e,t="",r="default",a=[],s=!1)=>{try{if(s){const[h,g]=await Promise.all([OL(e),x1(e)]);return{layout:-1,content:[h],suggestions:[],icon:g??"✨",title:e,fullText:e}}e.length>300&&zL(e).then(h=>{e=h,console.log("Summarized message:",e)}).catch(h=>{console.error("Error summarizing message:",h)});const l=await LL(e,a);console.log("Selected layout:",l);const[u,d,f]=await Promise.all([BL(e,t,l,r),TS(e),x1(e)]);return console.log("Generated content:",u),console.log("Generated suggestions:",d),console.log("Generated icon:",f),{layout:l,content:u,suggestions:d,icon:f,title:e,fullText:e}}catch(l){return console.error("Error in generateNodeContent:",l),{layout:1,content:[e,"Content loading failed",[]],suggestions:[],icon:"✨",title:e,fullText:e}}},VL=async(e,t,r,a)=>{try{const s=new Date().toISOString(),{error:l}=await We.from("chat_messages").insert({role:"user",content:e,timestamp:s,user_id:a||null,board_id:r});if(l)throw l;const{error:u}=await We.from("chat_messages").insert({role:"assistant",content:t,timestamp:s,user_id:a||null,board_id:r});if(u)throw u;await HL(r,e,a),console.log("Chat conversation saved successfully for board:",r)}catch(s){throw console.error("Error saving chat conversation:",s),s}},HL=async(e,t,r)=>{try{const{data:a,error:s}=await We.from("chat_sessions").select("*").eq("board_id",e).limit(1);if(s)throw s;const l=new Date().toISOString();if(!a||a.length===0){const{error:u}=await We.from("chat_sessions").insert({board_id:e,user_id:r||null,title:t.substring(0,50)+(t.length>50?"...":""),created_at:l,updated_at:l,message_count:2});if(u)throw u}else{const u=a[0],{error:d}=await We.from("chat_sessions").update({updated_at:l,message_count:(u.message_count||0)+2}).eq("id",u.id);if(d)throw d}}catch(a){throw console.error("Error updating chat session:",a),a}},IL=async(e,t=50)=>{try{const{data:r,error:a}=await We.from("chat_messages").select("*").eq("board_id",e).order("timestamp",{ascending:!0}).limit(t);if(a)throw a;return r||[]}catch(r){return console.error("Error getting chat history:",r),[]}},qL=async e=>{try{const{error:t}=await We.from("chat_messages").delete().eq("board_id",e);if(t)throw t;console.log("Chat history cleared for board:",e)}catch(t){throw console.error("Error clearing chat history:",t),t}},GL=async()=>{const{error:e}=await We.auth.signOut();if(e)throw e},AS=()=>{const[e,t]=M.useState(null);return M.useEffect(()=>{let a=!0;We.auth.getUser().then(({data:l})=>{a&&t(l.user??null)});const{data:s}=We.auth.onAuthStateChange((l,u)=>{t(u?.user??null)});return()=>{a=!1,s.subscription.unsubscribe()}},[]),{user:e,signOut:async()=>{try{await GL(),t(null)}catch(a){console.error("Error in sign out:",a)}}}},E1=()=>{const e=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return e[Math.floor(Math.random()*e.length)]},YL=e=>{const t=e.replace("#",""),r=parseInt(t.substr(0,2),16),a=parseInt(t.substr(2,2),16),s=parseInt(t.substr(4,2),16),l=30,u=Math.min(255,Math.max(0,r+(Math.random()-.5)*l*2)),d=Math.min(255,Math.max(0,a+(Math.random()-.5)*l*2)),f=Math.min(255,Math.max(0,s+(Math.random()-.5)*l*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(d).toString(16).padStart(2,"0")}${Math.round(f).toString(16).padStart(2,"0")}`},FL=e=>{const s=(Math.random()-.5)*400*2,l=(Math.random()-.5)*30*2;return{x:e.x+s,y:e.y+650+l}},KL=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,XL=(e,t)=>`edge_${e}_${t}`,ZL=(e,t,r,a,s,l,u)=>({id:KL(),type:"draggableEditable",position:e,draggable:!0,data:{label:t,title:t,summary:a,full_text:r,suggestions:[],myColor:s,tokenColors:{},previousNode:u}}),QL=(e,t,r,a)=>({id:XL(e,t),source:e,target:t,sourceHandle:a,targetHandle:null,style:{stroke:r,strokeWidth:3},markerEnd:{type:Sa.ArrowClosed,color:r}}),WL="AIzaSyD2LVnTgBbk-5Wo1V2sCmY9ebcmIPdS1ng",JL="93fe2cec9d77f4202",e9="https://www.googleapis.com/customsearch/v1",t9="AIzaSyDxTJKoi1S8YjJZD12QTa4F9hV8fN8pNqo",n9="https://www.googleapis.com/youtube/v3/search",Jo=new Map,el=new Map,Gn=async e=>{if(Jo.has(e))return Jo.get(e);try{const t=encodeURIComponent(e),r=`${e9}?key=${WL}&cx=${JL}&q=${t}&searchType=image&num=1&safe=active`,a=await fetch(r);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(s.items&&s.items.length>0){const u=s.items[0],d=u.link||u.pagemap?.cse_image?.[0]?.src;if(d)return Jo.set(e,d),d}const l=`https://via.placeholder.com/640x360/e5e7eb/6b7280?text=${t}`;return Jo.set(e,l),l}catch(t){console.error("Error fetching Google image:",t);const r="https://via.placeholder.com/640x360/ef4444/ffffff?text=Image+Error";return Jo.set(e,r),r}},CS=async e=>{if(el.has(e))return el.get(e);try{const t=encodeURIComponent(e),r=`${n9}?key=${t9}&q=${t}&part=snippet&type=video&maxResults=1&videoEmbeddable=true&safeSearch=strict`,a=await fetch(r);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=await a.json();if(s.items&&s.items.length>0){const u=s.items[0].id.videoId;if(u)return el.set(e,u),u}const l="dQw4w9WgXcQ";return el.set(e,l),l}catch(t){console.error("Error fetching YouTube video:",t);const r="dQw4w9WgXcQ";return el.set(e,r),r}},NS=e=>`https://www.youtube.com/embed/${e}`;async function _d(e){const r=(await Aa(()=>import("./mermaid.core-BRp3N5wk.js").then(l=>l.bo),[])).default??window.mermaid?.mermaidAPI;window.___mermaidInitialised||(r.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",fontFamily:"inherit"}),window.___mermaidInitialised=!0);let a;try{a=(await r.render("m_"+Math.random().toString(36).slice(2),e.trim())).svg}catch(l){throw l}return new DOMParser().parseFromString(a,"image/svg+xml").documentElement}var Bc={exports:{}},r9=Bc.exports,k1;function a9(){return k1||(k1=1,function(e){(function(){function t(p){var _={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,describe:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,describe:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,describe:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,describe:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,describe:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",describe:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,describe:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,describe:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,describe:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,describe:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,describe:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},ellipsis:{defaultValue:!0,describe:"Replaces three dots with the ellipsis unicode character",type:"boolean"},completeHTMLDocument:{defaultValue:!1,describe:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,describe:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,describe:"Split adjacent blockquote blocks",type:"boolean"}};if(p===!1)return JSON.parse(JSON.stringify(_));var b={};for(var S in _)_.hasOwnProperty(S)&&(b[S]=_[S].defaultValue);return b}function r(){var p=t(!0),_={};for(var b in p)p.hasOwnProperty(b)&&(_[b]=!0);return _}var a={},s={},l={},u=t(!0),d="vanilla",f={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:t(!0),allOn:r()};a.helper={},a.extensions={},a.setOption=function(p,_){return u[p]=_,this},a.getOption=function(p){return u[p]},a.getOptions=function(){return u},a.resetOptions=function(){u=t(!0)},a.setFlavor=function(p){if(!f.hasOwnProperty(p))throw Error(p+" flavor was not found");a.resetOptions();var _=f[p];d=p;for(var b in _)_.hasOwnProperty(b)&&(u[b]=_[b])},a.getFlavor=function(){return d},a.getFlavorOptions=function(p){if(f.hasOwnProperty(p))return f[p]},a.getDefaultOptions=function(p){return t(p)},a.subParser=function(p,_){if(a.helper.isString(p))if(typeof _<"u")s[p]=_;else{if(s.hasOwnProperty(p))return s[p];throw Error("SubParser named "+p+" not registered!")}},a.extension=function(p,_){if(!a.helper.isString(p))throw Error("Extension 'name' must be a string");if(p=a.helper.stdExtName(p),a.helper.isUndefined(_)){if(!l.hasOwnProperty(p))throw Error("Extension named "+p+" is not registered!");return l[p]}else{typeof _=="function"&&(_=_()),a.helper.isArray(_)||(_=[_]);var b=h(_,p);if(b.valid)l[p]=_;else throw Error(b.error)}},a.getAllExtensions=function(){return l},a.removeExtension=function(p){delete l[p]},a.resetExtensions=function(){l={}};function h(p,_){var b=_?"Error in "+_+" extension->":"Error in unnamed extension",S={valid:!0,error:""};a.helper.isArray(p)||(p=[p]);for(var C=0;C<p.length;++C){var L=b+" sub-extension "+C+": ",z=p[C];if(typeof z!="object")return S.valid=!1,S.error=L+"must be an object, but "+typeof z+" given",S;if(!a.helper.isString(z.type))return S.valid=!1,S.error=L+'property "type" must be a string, but '+typeof z.type+" given",S;var U=z.type=z.type.toLowerCase();if(U==="language"&&(U=z.type="lang"),U==="html"&&(U=z.type="output"),U!=="lang"&&U!=="output"&&U!=="listener")return S.valid=!1,S.error=L+"type "+U+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',S;if(U==="listener"){if(a.helper.isUndefined(z.listeners))return S.valid=!1,S.error=L+'. Extensions of type "listener" must have a property called "listeners"',S}else if(a.helper.isUndefined(z.filter)&&a.helper.isUndefined(z.regex))return S.valid=!1,S.error=L+U+' extensions must define either a "regex" property or a "filter" method',S;if(z.listeners){if(typeof z.listeners!="object")return S.valid=!1,S.error=L+'"listeners" property must be an object but '+typeof z.listeners+" given",S;for(var X in z.listeners)if(z.listeners.hasOwnProperty(X)&&typeof z.listeners[X]!="function")return S.valid=!1,S.error=L+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+X+" must be a function but "+typeof z.listeners[X]+" given",S}if(z.filter){if(typeof z.filter!="function")return S.valid=!1,S.error=L+'"filter" must be a function, but '+typeof z.filter+" given",S}else if(z.regex){if(a.helper.isString(z.regex)&&(z.regex=new RegExp(z.regex,"g")),!(z.regex instanceof RegExp))return S.valid=!1,S.error=L+'"regex" property must either be a string or a RegExp object, but '+typeof z.regex+" given",S;if(a.helper.isUndefined(z.replace))return S.valid=!1,S.error=L+'"regex" extensions must implement a replace string or function',S}}return S}a.validateExtension=function(p){var _=h(p,null);return _.valid?!0:(console.warn(_.error),!1)},a.hasOwnProperty("helper")||(a.helper={}),a.helper.isString=function(p){return typeof p=="string"||p instanceof String},a.helper.isFunction=function(p){var _={};return p&&_.toString.call(p)==="[object Function]"},a.helper.isArray=function(p){return Array.isArray(p)},a.helper.isUndefined=function(p){return typeof p>"u"},a.helper.forEach=function(p,_){if(a.helper.isUndefined(p))throw new Error("obj param is required");if(a.helper.isUndefined(_))throw new Error("callback param is required");if(!a.helper.isFunction(_))throw new Error("callback param must be a function/closure");if(typeof p.forEach=="function")p.forEach(_);else if(a.helper.isArray(p))for(var b=0;b<p.length;b++)_(p[b],b,p);else if(typeof p=="object")for(var S in p)p.hasOwnProperty(S)&&_(p[S],S,p);else throw new Error("obj does not seem to be an array or an iterable object")},a.helper.stdExtName=function(p){return p.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function g(p,_){var b=_.charCodeAt(0);return"¨E"+b+"E"}a.helper.escapeCharactersCallback=g,a.helper.escapeCharacters=function(p,_,b){var S="(["+_.replace(/([\[\]\\])/g,"\\$1")+"])";b&&(S="\\\\"+S);var C=new RegExp(S,"g");return p=p.replace(C,g),p},a.helper.unescapeHTMLEntities=function(p){return p.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var v=function(p,_,b,S){var C=S||"",L=C.indexOf("g")>-1,z=new RegExp(_+"|"+b,"g"+C.replace(/g/g,"")),U=new RegExp(_,C.replace(/g/g,"")),X=[],Q,O,q,E,V;do for(Q=0;q=z.exec(p);)if(U.test(q[0]))Q++||(O=z.lastIndex,E=O-q[0].length);else if(Q&&!--Q){V=q.index+q[0].length;var H={left:{start:E,end:O},match:{start:O,end:q.index},right:{start:q.index,end:V},wholeMatch:{start:E,end:V}};if(X.push(H),!L)return X}while(Q&&(z.lastIndex=O));return X};a.helper.matchRecursiveRegExp=function(p,_,b,S){for(var C=v(p,_,b,S),L=[],z=0;z<C.length;++z)L.push([p.slice(C[z].wholeMatch.start,C[z].wholeMatch.end),p.slice(C[z].match.start,C[z].match.end),p.slice(C[z].left.start,C[z].left.end),p.slice(C[z].right.start,C[z].right.end)]);return L},a.helper.replaceRecursiveRegExp=function(p,_,b,S,C){if(!a.helper.isFunction(_)){var L=_;_=function(){return L}}var z=v(p,b,S,C),U=p,X=z.length;if(X>0){var Q=[];z[0].wholeMatch.start!==0&&Q.push(p.slice(0,z[0].wholeMatch.start));for(var O=0;O<X;++O)Q.push(_(p.slice(z[O].wholeMatch.start,z[O].wholeMatch.end),p.slice(z[O].match.start,z[O].match.end),p.slice(z[O].left.start,z[O].left.end),p.slice(z[O].right.start,z[O].right.end))),O<X-1&&Q.push(p.slice(z[O].wholeMatch.end,z[O+1].wholeMatch.start));z[X-1].wholeMatch.end<p.length&&Q.push(p.slice(z[X-1].wholeMatch.end)),U=Q.join("")}return U},a.helper.regexIndexOf=function(p,_,b){if(!a.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(_ instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var S=p.substring(b||0).search(_);return S>=0?S+(b||0):S},a.helper.splitAtIndex=function(p,_){if(!a.helper.isString(p))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[p.substring(0,_),p.substring(_)]},a.helper.encodeEmailAddress=function(p){var _=[function(b){return"&#"+b.charCodeAt(0)+";"},function(b){return"&#x"+b.charCodeAt(0).toString(16)+";"},function(b){return b}];return p=p.replace(/./g,function(b){if(b==="@")b=_[Math.floor(Math.random()*2)](b);else{var S=Math.random();b=S>.9?_[2](b):S>.45?_[1](b):_[0](b)}return b}),p},a.helper.padEnd=function(_,b,S){return b=b>>0,S=String(S||" "),_.length>b?String(_):(b=b-_.length,b>S.length&&(S+=S.repeat(b/S.length)),String(_)+S.slice(0,b))},typeof console>"u"&&(console={warn:function(p){alert(p)},log:function(p){alert(p)},error:function(p){throw p}}),a.helper.regexes={asteriskDashAndColon:/([*_:~])/g},a.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},a.Converter=function(p){var _={},b=[],S=[],C={},L=d,z={parsed:{},raw:"",format:""};U();function U(){p=p||{};for(var E in u)u.hasOwnProperty(E)&&(_[E]=u[E]);if(typeof p=="object")for(var V in p)p.hasOwnProperty(V)&&(_[V]=p[V]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof p+" was passed instead.");_.extensions&&a.helper.forEach(_.extensions,X)}function X(E,V){if(V=V||null,a.helper.isString(E))if(E=a.helper.stdExtName(E),V=E,a.extensions[E]){console.warn("DEPRECATION WARNING: "+E+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),Q(a.extensions[E],E);return}else if(!a.helper.isUndefined(l[E]))E=l[E];else throw Error('Extension "'+E+'" could not be loaded. It was either not found or is not a valid extension.');typeof E=="function"&&(E=E()),a.helper.isArray(E)||(E=[E]);var H=h(E,V);if(!H.valid)throw Error(H.error);for(var I=0;I<E.length;++I){switch(E[I].type){case"lang":b.push(E[I]);break;case"output":S.push(E[I]);break}if(E[I].hasOwnProperty("listeners"))for(var D in E[I].listeners)E[I].listeners.hasOwnProperty(D)&&O(D,E[I].listeners[D])}}function Q(E,V){typeof E=="function"&&(E=E(new a.Converter)),a.helper.isArray(E)||(E=[E]);var H=h(E,V);if(!H.valid)throw Error(H.error);for(var I=0;I<E.length;++I)switch(E[I].type){case"lang":b.push(E[I]);break;case"output":S.push(E[I]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function O(E,V){if(!a.helper.isString(E))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof E+" given");if(typeof V!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof V+" given");C.hasOwnProperty(E)||(C[E]=[]),C[E].push(V)}function q(E){var V=E.match(/^\s*/)[0].length,H=new RegExp("^\\s{0,"+V+"}","gm");return E.replace(H,"")}this._dispatch=function(V,H,I,D){if(C.hasOwnProperty(V))for(var G=0;G<C[V].length;++G){var te=C[V][G](V,H,this,I,D);te&&typeof te<"u"&&(H=te)}return H},this.listen=function(E,V){return O(E,V),this},this.makeHtml=function(E){if(!E)return E;var V={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:b,outputModifiers:S,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return E=E.replace(/¨/g,"¨T"),E=E.replace(/\$/g,"¨D"),E=E.replace(/\r\n/g,`
`),E=E.replace(/\r/g,`
`),E=E.replace(/\u00A0/g,"&nbsp;"),_.smartIndentationFix&&(E=q(E)),E=`

`+E+`

`,E=a.subParser("detab")(E,_,V),E=E.replace(/^[ \t]+$/mg,""),a.helper.forEach(b,function(H){E=a.subParser("runExtension")(H,E,_,V)}),E=a.subParser("metadata")(E,_,V),E=a.subParser("hashPreCodeTags")(E,_,V),E=a.subParser("githubCodeBlocks")(E,_,V),E=a.subParser("hashHTMLBlocks")(E,_,V),E=a.subParser("hashCodeTags")(E,_,V),E=a.subParser("stripLinkDefinitions")(E,_,V),E=a.subParser("blockGamut")(E,_,V),E=a.subParser("unhashHTMLSpans")(E,_,V),E=a.subParser("unescapeSpecialChars")(E,_,V),E=E.replace(/¨D/g,"$$"),E=E.replace(/¨T/g,"¨"),E=a.subParser("completeHTMLDocument")(E,_,V),a.helper.forEach(S,function(H){E=a.subParser("runExtension")(H,E,_,V)}),z=V.metadata,E},this.makeMarkdown=this.makeMd=function(E,V){if(E=E.replace(/\r\n/g,`
`),E=E.replace(/\r/g,`
`),E=E.replace(/>[ \t]+</,">¨NBSP;<"),!V)if(window&&window.document)V=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var H=V.createElement("div");H.innerHTML=E;var I={preList:J(H)};Z(H);for(var D=H.childNodes,G="",te=0;te<D.length;te++)G+=a.subParser("makeMarkdown.node")(D[te],I);function Z(ee){for(var Y=0;Y<ee.childNodes.length;++Y){var K=ee.childNodes[Y];K.nodeType===3?!/\S/.test(K.nodeValue)&&!/^[ ]+$/.test(K.nodeValue)?(ee.removeChild(K),--Y):(K.nodeValue=K.nodeValue.split(`
`).join(" "),K.nodeValue=K.nodeValue.replace(/(\s)+/g,"$1")):K.nodeType===1&&Z(K)}}function J(ee){for(var Y=ee.querySelectorAll("pre"),K=[],ne=0;ne<Y.length;++ne)if(Y[ne].childElementCount===1&&Y[ne].firstChild.tagName.toLowerCase()==="code"){var fe=Y[ne].firstChild.innerHTML.trim(),he=Y[ne].firstChild.getAttribute("data-language")||"";if(he==="")for(var ye=Y[ne].firstChild.className.split(" "),pe=0;pe<ye.length;++pe){var ge=ye[pe].match(/^language-(.+)$/);if(ge!==null){he=ge[1];break}}fe=a.helper.unescapeHTMLEntities(fe),K.push(fe),Y[ne].outerHTML='<precode language="'+he+'" precodenum="'+ne.toString()+'"></precode>'}else K.push(Y[ne].innerHTML),Y[ne].innerHTML="",Y[ne].setAttribute("prenum",ne.toString());return K}return G},this.setOption=function(E,V){_[E]=V},this.getOption=function(E){return _[E]},this.getOptions=function(){return _},this.addExtension=function(E,V){V=V||null,X(E,V)},this.useExtension=function(E){X(E)},this.setFlavor=function(E){if(!f.hasOwnProperty(E))throw Error(E+" flavor was not found");var V=f[E];L=E;for(var H in V)V.hasOwnProperty(H)&&(_[H]=V[H])},this.getFlavor=function(){return L},this.removeExtension=function(E){a.helper.isArray(E)||(E=[E]);for(var V=0;V<E.length;++V){for(var H=E[V],I=0;I<b.length;++I)b[I]===H&&b.splice(I,1);for(var D=0;D<S.length;++D)S[D]===H&&S.splice(D,1)}},this.getAllExtensions=function(){return{language:b,output:S}},this.getMetadata=function(E){return E?z.raw:z.parsed},this.getMetadataFormat=function(){return z.format},this._setMetadataPair=function(E,V){z.parsed[E]=V},this._setMetadataFormat=function(E){z.format=E},this._setMetadataRaw=function(E){z.raw=E}},a.subParser("anchors",function(p,_,b){p=b.converter._dispatch("anchors.before",p,_,b);var S=function(C,L,z,U,X,Q,O){if(a.helper.isUndefined(O)&&(O=""),z=z.toLowerCase(),C.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)U="";else if(!U)if(z||(z=L.toLowerCase().replace(/ ?\n/g," ")),U="#"+z,!a.helper.isUndefined(b.gUrls[z]))U=b.gUrls[z],a.helper.isUndefined(b.gTitles[z])||(O=b.gTitles[z]);else return C;U=U.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var q='<a href="'+U+'"';return O!==""&&O!==null&&(O=O.replace(/"/g,"&quot;"),O=O.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),q+=' title="'+O+'"'),_.openLinksInNewWindow&&!/^#/.test(U)&&(q+=' rel="noopener noreferrer" target="¨E95Eblank"'),q+=">"+L+"</a>",q};return p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,S),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,S),p=p.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,S),p=p.replace(/\[([^\[\]]+)]()()()()()/g,S),_.ghMentions&&(p=p.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(C,L,z,U,X){if(z==="\\")return L+U;if(!a.helper.isString(_.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var Q=_.ghMentionsLink.replace(/\{u}/g,X),O="";return _.openLinksInNewWindow&&(O=' rel="noopener noreferrer" target="¨E95Eblank"'),L+'<a href="'+Q+'"'+O+">"+U+"</a>"})),p=b.converter._dispatch("anchors.after",p,_,b),p});var w=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,k=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,A=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,N=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,j=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,R=function(p){return function(_,b,S,C,L,z,U){S=S.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var X=S,Q="",O="",q=b||"",E=U||"";return/^www\./i.test(S)&&(S=S.replace(/^www\./i,"http://www.")),p.excludeTrailingPunctuationFromURLs&&z&&(Q=z),p.openLinksInNewWindow&&(O=' rel="noopener noreferrer" target="¨E95Eblank"'),q+'<a href="'+S+'"'+O+">"+X+"</a>"+Q+E}},$=function(p,_){return function(b,S,C){var L="mailto:";return S=S||"",C=a.subParser("unescapeSpecialChars")(C,p,_),p.encodeEmails?(L=a.helper.encodeEmailAddress(L+C),C=a.helper.encodeEmailAddress(C)):L=L+C,S+'<a href="'+L+'">'+C+"</a>"}};a.subParser("autoLinks",function(p,_,b){return p=b.converter._dispatch("autoLinks.before",p,_,b),p=p.replace(A,R(_)),p=p.replace(j,$(_,b)),p=b.converter._dispatch("autoLinks.after",p,_,b),p}),a.subParser("simplifiedAutoLinks",function(p,_,b){return _.simplifiedAutoLink&&(p=b.converter._dispatch("simplifiedAutoLinks.before",p,_,b),_.excludeTrailingPunctuationFromURLs?p=p.replace(k,R(_)):p=p.replace(w,R(_)),p=p.replace(N,$(_,b)),p=b.converter._dispatch("simplifiedAutoLinks.after",p,_,b)),p}),a.subParser("blockGamut",function(p,_,b){return p=b.converter._dispatch("blockGamut.before",p,_,b),p=a.subParser("blockQuotes")(p,_,b),p=a.subParser("headers")(p,_,b),p=a.subParser("horizontalRule")(p,_,b),p=a.subParser("lists")(p,_,b),p=a.subParser("codeBlocks")(p,_,b),p=a.subParser("tables")(p,_,b),p=a.subParser("hashHTMLBlocks")(p,_,b),p=a.subParser("paragraphs")(p,_,b),p=b.converter._dispatch("blockGamut.after",p,_,b),p}),a.subParser("blockQuotes",function(p,_,b){p=b.converter._dispatch("blockQuotes.before",p,_,b),p=p+`

`;var S=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return _.splitAdjacentBlockquotes&&(S=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),p=p.replace(S,function(C){return C=C.replace(/^[ \t]*>[ \t]?/gm,""),C=C.replace(/¨0/g,""),C=C.replace(/^[ \t]+$/gm,""),C=a.subParser("githubCodeBlocks")(C,_,b),C=a.subParser("blockGamut")(C,_,b),C=C.replace(/(^|\n)/g,"$1  "),C=C.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(L,z){var U=z;return U=U.replace(/^  /mg,"¨0"),U=U.replace(/¨0/g,""),U}),a.subParser("hashBlock")(`<blockquote>
`+C+`
</blockquote>`,_,b)}),p=b.converter._dispatch("blockQuotes.after",p,_,b),p}),a.subParser("codeBlocks",function(p,_,b){p=b.converter._dispatch("codeBlocks.before",p,_,b),p+="¨0";var S=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;return p=p.replace(S,function(C,L,z){var U=L,X=z,Q=`
`;return U=a.subParser("outdent")(U,_,b),U=a.subParser("encodeCode")(U,_,b),U=a.subParser("detab")(U,_,b),U=U.replace(/^\n+/g,""),U=U.replace(/\n+$/g,""),_.omitExtraWLInCodeBlocks&&(Q=""),U="<pre><code>"+U+Q+"</code></pre>",a.subParser("hashBlock")(U,_,b)+X}),p=p.replace(/¨0/,""),p=b.converter._dispatch("codeBlocks.after",p,_,b),p}),a.subParser("codeSpans",function(p,_,b){return p=b.converter._dispatch("codeSpans.before",p,_,b),typeof p>"u"&&(p=""),p=p.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(S,C,L,z){var U=z;return U=U.replace(/^([ \t]*)/g,""),U=U.replace(/[ \t]*$/g,""),U=a.subParser("encodeCode")(U,_,b),U=C+"<code>"+U+"</code>",U=a.subParser("hashHTMLSpans")(U,_,b),U}),p=b.converter._dispatch("codeSpans.after",p,_,b),p}),a.subParser("completeHTMLDocument",function(p,_,b){if(!_.completeHTMLDocument)return p;p=b.converter._dispatch("completeHTMLDocument.before",p,_,b);var S="html",C=`<!DOCTYPE HTML>
`,L="",z=`<meta charset="utf-8">
`,U="",X="";typeof b.metadata.parsed.doctype<"u"&&(C="<!DOCTYPE "+b.metadata.parsed.doctype+`>
`,S=b.metadata.parsed.doctype.toString().toLowerCase(),(S==="html"||S==="html5")&&(z='<meta charset="utf-8">'));for(var Q in b.metadata.parsed)if(b.metadata.parsed.hasOwnProperty(Q))switch(Q.toLowerCase()){case"doctype":break;case"title":L="<title>"+b.metadata.parsed.title+`</title>
`;break;case"charset":S==="html"||S==="html5"?z='<meta charset="'+b.metadata.parsed.charset+`">
`:z='<meta name="charset" content="'+b.metadata.parsed.charset+`">
`;break;case"language":case"lang":U=' lang="'+b.metadata.parsed[Q]+'"',X+='<meta name="'+Q+'" content="'+b.metadata.parsed[Q]+`">
`;break;default:X+='<meta name="'+Q+'" content="'+b.metadata.parsed[Q]+`">
`}return p=C+"<html"+U+`>
<head>
`+L+z+X+`</head>
<body>
`+p.trim()+`
</body>
</html>`,p=b.converter._dispatch("completeHTMLDocument.after",p,_,b),p}),a.subParser("detab",function(p,_,b){return p=b.converter._dispatch("detab.before",p,_,b),p=p.replace(/\t(?=\t)/g,"    "),p=p.replace(/\t/g,"¨A¨B"),p=p.replace(/¨B(.+?)¨A/g,function(S,C){for(var L=C,z=4-L.length%4,U=0;U<z;U++)L+=" ";return L}),p=p.replace(/¨A/g,"    "),p=p.replace(/¨B/g,""),p=b.converter._dispatch("detab.after",p,_,b),p}),a.subParser("ellipsis",function(p,_,b){return _.ellipsis&&(p=b.converter._dispatch("ellipsis.before",p,_,b),p=p.replace(/\.\.\./g,"…"),p=b.converter._dispatch("ellipsis.after",p,_,b)),p}),a.subParser("emoji",function(p,_,b){if(!_.emoji)return p;p=b.converter._dispatch("emoji.before",p,_,b);var S=/:([\S]+?):/g;return p=p.replace(S,function(C,L){return a.helper.emojis.hasOwnProperty(L)?a.helper.emojis[L]:C}),p=b.converter._dispatch("emoji.after",p,_,b),p}),a.subParser("encodeAmpsAndAngles",function(p,_,b){return p=b.converter._dispatch("encodeAmpsAndAngles.before",p,_,b),p=p.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),p=p.replace(/<(?![a-z\/?$!])/gi,"&lt;"),p=p.replace(/</g,"&lt;"),p=p.replace(/>/g,"&gt;"),p=b.converter._dispatch("encodeAmpsAndAngles.after",p,_,b),p}),a.subParser("encodeBackslashEscapes",function(p,_,b){return p=b.converter._dispatch("encodeBackslashEscapes.before",p,_,b),p=p.replace(/\\(\\)/g,a.helper.escapeCharactersCallback),p=p.replace(/\\([`*_{}\[\]()>#+.!~=|:-])/g,a.helper.escapeCharactersCallback),p=b.converter._dispatch("encodeBackslashEscapes.after",p,_,b),p}),a.subParser("encodeCode",function(p,_,b){return p=b.converter._dispatch("encodeCode.before",p,_,b),p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,a.helper.escapeCharactersCallback),p=b.converter._dispatch("encodeCode.after",p,_,b),p}),a.subParser("escapeSpecialCharsWithinTagAttributes",function(p,_,b){p=b.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",p,_,b);var S=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,C=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return p=p.replace(S,function(L){return L.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)}),p=p.replace(C,function(L){return L.replace(/([\\`*_~=|])/g,a.helper.escapeCharactersCallback)}),p=b.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",p,_,b),p}),a.subParser("githubCodeBlocks",function(p,_,b){return _.ghCodeBlocks?(p=b.converter._dispatch("githubCodeBlocks.before",p,_,b),p+="¨0",p=p.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(S,C,L,z){var U=_.omitExtraWLInCodeBlocks?"":`
`;return z=a.subParser("encodeCode")(z,_,b),z=a.subParser("detab")(z,_,b),z=z.replace(/^\n+/g,""),z=z.replace(/\n+$/g,""),z="<pre><code"+(L?' class="'+L+" language-"+L+'"':"")+">"+z+U+"</code></pre>",z=a.subParser("hashBlock")(z,_,b),`

¨G`+(b.ghCodeBlocks.push({text:S,codeblock:z})-1)+`G

`}),p=p.replace(/¨0/,""),b.converter._dispatch("githubCodeBlocks.after",p,_,b)):p}),a.subParser("hashBlock",function(p,_,b){return p=b.converter._dispatch("hashBlock.before",p,_,b),p=p.replace(/(^\n+|\n+$)/g,""),p=`

¨K`+(b.gHtmlBlocks.push(p)-1)+`K

`,p=b.converter._dispatch("hashBlock.after",p,_,b),p}),a.subParser("hashCodeTags",function(p,_,b){p=b.converter._dispatch("hashCodeTags.before",p,_,b);var S=function(C,L,z,U){var X=z+a.subParser("encodeCode")(L,_,b)+U;return"¨C"+(b.gHtmlSpans.push(X)-1)+"C"};return p=a.helper.replaceRecursiveRegExp(p,S,"<code\\b[^>]*>","</code>","gim"),p=b.converter._dispatch("hashCodeTags.after",p,_,b),p}),a.subParser("hashElement",function(p,_,b){return function(S,C){var L=C;return L=L.replace(/\n\n/g,`
`),L=L.replace(/^\n/,""),L=L.replace(/\n+$/g,""),L=`

¨K`+(b.gHtmlBlocks.push(L)-1)+`K

`,L}}),a.subParser("hashHTMLBlocks",function(p,_,b){p=b.converter._dispatch("hashHTMLBlocks.before",p,_,b);var S=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],C=function(E,V,H,I){var D=E;return H.search(/\bmarkdown\b/)!==-1&&(D=H+b.converter.makeHtml(V)+I),`

¨K`+(b.gHtmlBlocks.push(D)-1)+`K

`};_.backslashEscapesHTMLTags&&(p=p.replace(/\\<(\/?[^>]+?)>/g,function(E,V){return"&lt;"+V+"&gt;"}));for(var L=0;L<S.length;++L)for(var z,U=new RegExp("^ {0,3}(<"+S[L]+"\\b[^>]*>)","im"),X="<"+S[L]+"\\b[^>]*>",Q="</"+S[L]+">";(z=a.helper.regexIndexOf(p,U))!==-1;){var O=a.helper.splitAtIndex(p,z),q=a.helper.replaceRecursiveRegExp(O[1],C,X,Q,"im");if(q===O[1])break;p=O[0].concat(q)}return p=p.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(p,_,b)),p=a.helper.replaceRecursiveRegExp(p,function(E){return`

¨K`+(b.gHtmlBlocks.push(E)-1)+`K

`},"^ {0,3}<!--","-->","gm"),p=p.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a.subParser("hashElement")(p,_,b)),p=b.converter._dispatch("hashHTMLBlocks.after",p,_,b),p}),a.subParser("hashHTMLSpans",function(p,_,b){p=b.converter._dispatch("hashHTMLSpans.before",p,_,b);function S(C){return"¨C"+(b.gHtmlSpans.push(C)-1)+"C"}return p=p.replace(/<[^>]+?\/>/gi,function(C){return S(C)}),p=p.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(C){return S(C)}),p=p.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(C){return S(C)}),p=p.replace(/<[^>]+?>/gi,function(C){return S(C)}),p=b.converter._dispatch("hashHTMLSpans.after",p,_,b),p}),a.subParser("unhashHTMLSpans",function(p,_,b){p=b.converter._dispatch("unhashHTMLSpans.before",p,_,b);for(var S=0;S<b.gHtmlSpans.length;++S){for(var C=b.gHtmlSpans[S],L=0;/¨C(\d+)C/.test(C);){var z=RegExp.$1;if(C=C.replace("¨C"+z+"C",b.gHtmlSpans[z]),L===10){console.error("maximum nesting of 10 spans reached!!!");break}++L}p=p.replace("¨C"+S+"C",C)}return p=b.converter._dispatch("unhashHTMLSpans.after",p,_,b),p}),a.subParser("hashPreCodeTags",function(p,_,b){p=b.converter._dispatch("hashPreCodeTags.before",p,_,b);var S=function(C,L,z,U){var X=z+a.subParser("encodeCode")(L,_,b)+U;return`

¨G`+(b.ghCodeBlocks.push({text:C,codeblock:X})-1)+`G

`};return p=a.helper.replaceRecursiveRegExp(p,S,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),p=b.converter._dispatch("hashPreCodeTags.after",p,_,b),p}),a.subParser("headers",function(p,_,b){p=b.converter._dispatch("headers.before",p,_,b);var S=isNaN(parseInt(_.headerLevelStart))?1:parseInt(_.headerLevelStart),C=_.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,L=_.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;p=p.replace(C,function(X,Q){var O=a.subParser("spanGamut")(Q,_,b),q=_.noHeaderId?"":' id="'+U(Q)+'"',E=S,V="<h"+E+q+">"+O+"</h"+E+">";return a.subParser("hashBlock")(V,_,b)}),p=p.replace(L,function(X,Q){var O=a.subParser("spanGamut")(Q,_,b),q=_.noHeaderId?"":' id="'+U(Q)+'"',E=S+1,V="<h"+E+q+">"+O+"</h"+E+">";return a.subParser("hashBlock")(V,_,b)});var z=_.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;p=p.replace(z,function(X,Q,O){var q=O;_.customizedHeaderId&&(q=O.replace(/\s?\{([^{]+?)}\s*$/,""));var E=a.subParser("spanGamut")(q,_,b),V=_.noHeaderId?"":' id="'+U(O)+'"',H=S-1+Q.length,I="<h"+H+V+">"+E+"</h"+H+">";return a.subParser("hashBlock")(I,_,b)});function U(X){var Q,O;if(_.customizedHeaderId){var q=X.match(/\{([^{]+?)}\s*$/);q&&q[1]&&(X=q[1])}return Q=X,a.helper.isString(_.prefixHeaderId)?O=_.prefixHeaderId:_.prefixHeaderId===!0?O="section-":O="",_.rawPrefixHeaderId||(Q=O+Q),_.ghCompatibleHeaderId?Q=Q.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():_.rawHeaderId?Q=Q.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():Q=Q.replace(/[^\w]/g,"").toLowerCase(),_.rawPrefixHeaderId&&(Q=O+Q),b.hashLinkCounts[Q]?Q=Q+"-"+b.hashLinkCounts[Q]++:b.hashLinkCounts[Q]=1,Q}return p=b.converter._dispatch("headers.after",p,_,b),p}),a.subParser("horizontalRule",function(p,_,b){p=b.converter._dispatch("horizontalRule.before",p,_,b);var S=a.subParser("hashBlock")("<hr />",_,b);return p=p.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,S),p=p.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,S),p=p.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,S),p=b.converter._dispatch("horizontalRule.after",p,_,b),p}),a.subParser("images",function(p,_,b){p=b.converter._dispatch("images.before",p,_,b);var S=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,C=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,L=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,z=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,U=/!\[([^\[\]]+)]()()()()()/g;function X(O,q,E,V,H,I,D,G){return V=V.replace(/\s/g,""),Q(O,q,E,V,H,I,D,G)}function Q(O,q,E,V,H,I,D,G){var te=b.gUrls,Z=b.gTitles,J=b.gDimensions;if(E=E.toLowerCase(),G||(G=""),O.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)V="";else if(V===""||V===null)if((E===""||E===null)&&(E=q.toLowerCase().replace(/ ?\n/g," ")),V="#"+E,!a.helper.isUndefined(te[E]))V=te[E],a.helper.isUndefined(Z[E])||(G=Z[E]),a.helper.isUndefined(J[E])||(H=J[E].width,I=J[E].height);else return O;q=q.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),V=V.replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback);var ee='<img src="'+V+'" alt="'+q+'"';return G&&a.helper.isString(G)&&(G=G.replace(/"/g,"&quot;").replace(a.helper.regexes.asteriskDashAndColon,a.helper.escapeCharactersCallback),ee+=' title="'+G+'"'),H&&I&&(H=H==="*"?"auto":H,I=I==="*"?"auto":I,ee+=' width="'+H+'"',ee+=' height="'+I+'"'),ee+=" />",ee}return p=p.replace(z,Q),p=p.replace(L,X),p=p.replace(C,Q),p=p.replace(S,Q),p=p.replace(U,Q),p=b.converter._dispatch("images.after",p,_,b),p}),a.subParser("italicsAndBold",function(p,_,b){p=b.converter._dispatch("italicsAndBold.before",p,_,b);function S(C,L,z){return L+C+z}return _.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function(C,L){return S(L,"<strong><em>","</em></strong>")}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function(C,L){return S(L,"<strong>","</strong>")}),p=p.replace(/\b_(\S[\s\S]*?)_\b/g,function(C,L){return S(L,"<em>","</em>")})):(p=p.replace(/___(\S[\s\S]*?)___/g,function(C,L){return/\S$/.test(L)?S(L,"<strong><em>","</em></strong>"):C}),p=p.replace(/__(\S[\s\S]*?)__/g,function(C,L){return/\S$/.test(L)?S(L,"<strong>","</strong>"):C}),p=p.replace(/_([^\s_][\s\S]*?)_/g,function(C,L){return/\S$/.test(L)?S(L,"<em>","</em>"):C})),_.literalMidWordAsterisks?(p=p.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(C,L,z){return S(z,L+"<strong><em>","</em></strong>")}),p=p.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(C,L,z){return S(z,L+"<strong>","</strong>")}),p=p.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(C,L,z){return S(z,L+"<em>","</em>")})):(p=p.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(C,L){return/\S$/.test(L)?S(L,"<strong><em>","</em></strong>"):C}),p=p.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(C,L){return/\S$/.test(L)?S(L,"<strong>","</strong>"):C}),p=p.replace(/\*([^\s*][\s\S]*?)\*/g,function(C,L){return/\S$/.test(L)?S(L,"<em>","</em>"):C})),p=b.converter._dispatch("italicsAndBold.after",p,_,b),p}),a.subParser("lists",function(p,_,b){function S(z,U){b.gListLevel++,z=z.replace(/\n{2,}$/,`
`),z+="¨0";var X=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,Q=/\n[ \t]*\n(?!¨0)/.test(z);return _.disableForced4SpacesIndentedSublists&&(X=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),z=z.replace(X,function(O,q,E,V,H,I,D){D=D&&D.trim()!=="";var G=a.subParser("outdent")(H,_,b),te="";return I&&_.tasklists&&(te=' class="task-list-item" style="list-style-type: none;"',G=G.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Z='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return D&&(Z+=" checked"),Z+=">",Z})),G=G.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Z){return"¨A"+Z}),q||G.search(/\n{2,}/)>-1?(G=a.subParser("githubCodeBlocks")(G,_,b),G=a.subParser("blockGamut")(G,_,b)):(G=a.subParser("lists")(G,_,b),G=G.replace(/\n$/,""),G=a.subParser("hashHTMLBlocks")(G,_,b),G=G.replace(/\n\n+/g,`

`),Q?G=a.subParser("paragraphs")(G,_,b):G=a.subParser("spanGamut")(G,_,b)),G=G.replace("¨A",""),G="<li"+te+">"+G+`</li>
`,G}),z=z.replace(/¨0/g,""),b.gListLevel--,U&&(z=z.replace(/\s+$/,"")),z}function C(z,U){if(U==="ol"){var X=z.match(/^ *(\d+)\./);if(X&&X[1]!=="1")return' start="'+X[1]+'"'}return""}function L(z,U,X){var Q=_.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,O=_.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,q=U==="ul"?Q:O,E="";if(z.search(q)!==-1)(function H(I){var D=I.search(q),G=C(z,U);D!==-1?(E+=`

<`+U+G+`>
`+S(I.slice(0,D),!!X)+"</"+U+`>
`,U=U==="ul"?"ol":"ul",q=U==="ul"?Q:O,H(I.slice(D))):E+=`

<`+U+G+`>
`+S(I,!!X)+"</"+U+`>
`})(z);else{var V=C(z,U);E=`

<`+U+V+`>
`+S(z,!!X)+"</"+U+`>
`}return E}return p=b.converter._dispatch("lists.before",p,_,b),p+="¨0",b.gListLevel?p=p.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(z,U,X){var Q=X.search(/[*+-]/g)>-1?"ul":"ol";return L(U,Q,!0)}):p=p.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(z,U,X,Q){var O=Q.search(/[*+-]/g)>-1?"ul":"ol";return L(X,O,!1)}),p=p.replace(/¨0/,""),p=b.converter._dispatch("lists.after",p,_,b),p}),a.subParser("metadata",function(p,_,b){if(!_.metadata)return p;p=b.converter._dispatch("metadata.before",p,_,b);function S(C){b.metadata.raw=C,C=C.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),C=C.replace(/\n {4}/g," "),C.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(L,z,U){return b.metadata.parsed[z]=U,""})}return p=p.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,function(C,L,z){return S(z),"¨M"}),p=p.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(C,L,z){return L&&(b.metadata.format=L),S(z),"¨M"}),p=p.replace(/¨M/g,""),p=b.converter._dispatch("metadata.after",p,_,b),p}),a.subParser("outdent",function(p,_,b){return p=b.converter._dispatch("outdent.before",p,_,b),p=p.replace(/^(\t|[ ]{1,4})/gm,"¨0"),p=p.replace(/¨0/g,""),p=b.converter._dispatch("outdent.after",p,_,b),p}),a.subParser("paragraphs",function(p,_,b){p=b.converter._dispatch("paragraphs.before",p,_,b),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,"");for(var S=p.split(/\n{2,}/g),C=[],L=S.length,z=0;z<L;z++){var U=S[z];U.search(/¨(K|G)(\d+)\1/g)>=0?C.push(U):U.search(/\S/)>=0&&(U=a.subParser("spanGamut")(U,_,b),U=U.replace(/^([ \t]*)/g,"<p>"),U+="</p>",C.push(U))}for(L=C.length,z=0;z<L;z++){for(var X="",Q=C[z],O=!1;/¨(K|G)(\d+)\1/.test(Q);){var q=RegExp.$1,E=RegExp.$2;q==="K"?X=b.gHtmlBlocks[E]:O?X=a.subParser("encodeCode")(b.ghCodeBlocks[E].text,_,b):X=b.ghCodeBlocks[E].codeblock,X=X.replace(/\$/g,"$$$$"),Q=Q.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,X),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(Q)&&(O=!0)}C[z]=Q}return p=C.join(`
`),p=p.replace(/^\n+/g,""),p=p.replace(/\n+$/g,""),b.converter._dispatch("paragraphs.after",p,_,b)}),a.subParser("runExtension",function(p,_,b,S){if(p.filter)_=p.filter(_,S.converter,b);else if(p.regex){var C=p.regex;C instanceof RegExp||(C=new RegExp(C,"g")),_=_.replace(C,p.replace)}return _}),a.subParser("spanGamut",function(p,_,b){return p=b.converter._dispatch("spanGamut.before",p,_,b),p=a.subParser("codeSpans")(p,_,b),p=a.subParser("escapeSpecialCharsWithinTagAttributes")(p,_,b),p=a.subParser("encodeBackslashEscapes")(p,_,b),p=a.subParser("images")(p,_,b),p=a.subParser("anchors")(p,_,b),p=a.subParser("autoLinks")(p,_,b),p=a.subParser("simplifiedAutoLinks")(p,_,b),p=a.subParser("emoji")(p,_,b),p=a.subParser("underline")(p,_,b),p=a.subParser("italicsAndBold")(p,_,b),p=a.subParser("strikethrough")(p,_,b),p=a.subParser("ellipsis")(p,_,b),p=a.subParser("hashHTMLSpans")(p,_,b),p=a.subParser("encodeAmpsAndAngles")(p,_,b),_.simpleLineBreaks?/\n\n¨K/.test(p)||(p=p.replace(/\n+/g,`<br />
`)):p=p.replace(/  +\n/g,`<br />
`),p=b.converter._dispatch("spanGamut.after",p,_,b),p}),a.subParser("strikethrough",function(p,_,b){function S(C){return _.simplifiedAutoLink&&(C=a.subParser("simplifiedAutoLinks")(C,_,b)),"<del>"+C+"</del>"}return _.strikethrough&&(p=b.converter._dispatch("strikethrough.before",p,_,b),p=p.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(C,L){return S(L)}),p=b.converter._dispatch("strikethrough.after",p,_,b)),p}),a.subParser("stripLinkDefinitions",function(p,_,b){var S=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,C=/^ {0,3}\[([^\]]+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;p+="¨0";var L=function(z,U,X,Q,O,q,E){return U=U.toLowerCase(),p.toLowerCase().split(U).length-1<2?z:(X.match(/^data:.+?\/.+?;base64,/)?b.gUrls[U]=X.replace(/\s/g,""):b.gUrls[U]=a.subParser("encodeAmpsAndAngles")(X,_,b),q?q+E:(E&&(b.gTitles[U]=E.replace(/"|'/g,"&quot;")),_.parseImgDimensions&&Q&&O&&(b.gDimensions[U]={width:Q,height:O}),""))};return p=p.replace(C,L),p=p.replace(S,L),p=p.replace(/¨0/,""),p}),a.subParser("tables",function(p,_,b){if(!_.tables)return p;var S=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,C=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;function L(O){return/^:[ \t]*--*$/.test(O)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(O)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(O)?' style="text-align:center;"':""}function z(O,q){var E="";return O=O.trim(),(_.tablesHeaderId||_.tableHeaderId)&&(E=' id="'+O.replace(/ /g,"_").toLowerCase()+'"'),O=a.subParser("spanGamut")(O,_,b),"<th"+E+q+">"+O+`</th>
`}function U(O,q){var E=a.subParser("spanGamut")(O,_,b);return"<td"+q+">"+E+`</td>
`}function X(O,q){for(var E=`<table>
<thead>
<tr>
`,V=O.length,H=0;H<V;++H)E+=O[H];for(E+=`</tr>
</thead>
<tbody>
`,H=0;H<q.length;++H){E+=`<tr>
`;for(var I=0;I<V;++I)E+=q[H][I];E+=`</tr>
`}return E+=`</tbody>
</table>
`,E}function Q(O){var q,E=O.split(`
`);for(q=0;q<E.length;++q)/^ {0,3}\|/.test(E[q])&&(E[q]=E[q].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(E[q])&&(E[q]=E[q].replace(/\|[ \t]*$/,"")),E[q]=a.subParser("codeSpans")(E[q],_,b);var V=E[0].split("|").map(function(ee){return ee.trim()}),H=E[1].split("|").map(function(ee){return ee.trim()}),I=[],D=[],G=[],te=[];for(E.shift(),E.shift(),q=0;q<E.length;++q)E[q].trim()!==""&&I.push(E[q].split("|").map(function(ee){return ee.trim()}));if(V.length<H.length)return O;for(q=0;q<H.length;++q)G.push(L(H[q]));for(q=0;q<V.length;++q)a.helper.isUndefined(G[q])&&(G[q]=""),D.push(z(V[q],G[q]));for(q=0;q<I.length;++q){for(var Z=[],J=0;J<D.length;++J)a.helper.isUndefined(I[q][J]),Z.push(U(I[q][J],G[J]));te.push(Z)}return X(D,te)}return p=b.converter._dispatch("tables.before",p,_,b),p=p.replace(/\\(\|)/g,a.helper.escapeCharactersCallback),p=p.replace(S,Q),p=p.replace(C,Q),p=b.converter._dispatch("tables.after",p,_,b),p}),a.subParser("underline",function(p,_,b){return _.underline&&(p=b.converter._dispatch("underline.before",p,_,b),_.literalMidWordUnderscores?(p=p.replace(/\b___(\S[\s\S]*?)___\b/g,function(S,C){return"<u>"+C+"</u>"}),p=p.replace(/\b__(\S[\s\S]*?)__\b/g,function(S,C){return"<u>"+C+"</u>"})):(p=p.replace(/___(\S[\s\S]*?)___/g,function(S,C){return/\S$/.test(C)?"<u>"+C+"</u>":S}),p=p.replace(/__(\S[\s\S]*?)__/g,function(S,C){return/\S$/.test(C)?"<u>"+C+"</u>":S})),p=p.replace(/(_)/g,a.helper.escapeCharactersCallback),p=b.converter._dispatch("underline.after",p,_,b)),p}),a.subParser("unescapeSpecialChars",function(p,_,b){return p=b.converter._dispatch("unescapeSpecialChars.before",p,_,b),p=p.replace(/¨E(\d+)E/g,function(S,C){var L=parseInt(C);return String.fromCharCode(L)}),p=b.converter._dispatch("unescapeSpecialChars.after",p,_,b),p}),a.subParser("makeMarkdown.blockquote",function(p,_){var b="";if(p.hasChildNodes())for(var S=p.childNodes,C=S.length,L=0;L<C;++L){var z=a.subParser("makeMarkdown.node")(S[L],_);z!==""&&(b+=z)}return b=b.trim(),b="> "+b.split(`
`).join(`
> `),b}),a.subParser("makeMarkdown.codeBlock",function(p,_){var b=p.getAttribute("language"),S=p.getAttribute("precodenum");return"```"+b+`
`+_.preList[S]+"\n```"}),a.subParser("makeMarkdown.codeSpan",function(p){return"`"+p.innerHTML+"`"}),a.subParser("makeMarkdown.emphasis",function(p,_){var b="";if(p.hasChildNodes()){b+="*";for(var S=p.childNodes,C=S.length,L=0;L<C;++L)b+=a.subParser("makeMarkdown.node")(S[L],_);b+="*"}return b}),a.subParser("makeMarkdown.header",function(p,_,b){var S=new Array(b+1).join("#"),C="";if(p.hasChildNodes()){C=S+" ";for(var L=p.childNodes,z=L.length,U=0;U<z;++U)C+=a.subParser("makeMarkdown.node")(L[U],_)}return C}),a.subParser("makeMarkdown.hr",function(){return"---"}),a.subParser("makeMarkdown.image",function(p){var _="";return p.hasAttribute("src")&&(_+="!["+p.getAttribute("alt")+"](",_+="<"+p.getAttribute("src")+">",p.hasAttribute("width")&&p.hasAttribute("height")&&(_+=" ="+p.getAttribute("width")+"x"+p.getAttribute("height")),p.hasAttribute("title")&&(_+=' "'+p.getAttribute("title")+'"'),_+=")"),_}),a.subParser("makeMarkdown.links",function(p,_){var b="";if(p.hasChildNodes()&&p.hasAttribute("href")){var S=p.childNodes,C=S.length;b="[";for(var L=0;L<C;++L)b+=a.subParser("makeMarkdown.node")(S[L],_);b+="](",b+="<"+p.getAttribute("href")+">",p.hasAttribute("title")&&(b+=' "'+p.getAttribute("title")+'"'),b+=")"}return b}),a.subParser("makeMarkdown.list",function(p,_,b){var S="";if(!p.hasChildNodes())return"";for(var C=p.childNodes,L=C.length,z=p.getAttribute("start")||1,U=0;U<L;++U)if(!(typeof C[U].tagName>"u"||C[U].tagName.toLowerCase()!=="li")){var X="";b==="ol"?X=z.toString()+". ":X="- ",S+=X+a.subParser("makeMarkdown.listItem")(C[U],_),++z}return S+=`
<!-- -->
`,S.trim()}),a.subParser("makeMarkdown.listItem",function(p,_){for(var b="",S=p.childNodes,C=S.length,L=0;L<C;++L)b+=a.subParser("makeMarkdown.node")(S[L],_);return/\n$/.test(b)?b=b.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):b+=`
`,b}),a.subParser("makeMarkdown.node",function(p,_,b){b=b||!1;var S="";if(p.nodeType===3)return a.subParser("makeMarkdown.txt")(p,_);if(p.nodeType===8)return"<!--"+p.data+`-->

`;if(p.nodeType!==1)return"";var C=p.tagName.toLowerCase();switch(C){case"h1":b||(S=a.subParser("makeMarkdown.header")(p,_,1)+`

`);break;case"h2":b||(S=a.subParser("makeMarkdown.header")(p,_,2)+`

`);break;case"h3":b||(S=a.subParser("makeMarkdown.header")(p,_,3)+`

`);break;case"h4":b||(S=a.subParser("makeMarkdown.header")(p,_,4)+`

`);break;case"h5":b||(S=a.subParser("makeMarkdown.header")(p,_,5)+`

`);break;case"h6":b||(S=a.subParser("makeMarkdown.header")(p,_,6)+`

`);break;case"p":b||(S=a.subParser("makeMarkdown.paragraph")(p,_)+`

`);break;case"blockquote":b||(S=a.subParser("makeMarkdown.blockquote")(p,_)+`

`);break;case"hr":b||(S=a.subParser("makeMarkdown.hr")(p,_)+`

`);break;case"ol":b||(S=a.subParser("makeMarkdown.list")(p,_,"ol")+`

`);break;case"ul":b||(S=a.subParser("makeMarkdown.list")(p,_,"ul")+`

`);break;case"precode":b||(S=a.subParser("makeMarkdown.codeBlock")(p,_)+`

`);break;case"pre":b||(S=a.subParser("makeMarkdown.pre")(p,_)+`

`);break;case"table":b||(S=a.subParser("makeMarkdown.table")(p,_)+`

`);break;case"code":S=a.subParser("makeMarkdown.codeSpan")(p,_);break;case"em":case"i":S=a.subParser("makeMarkdown.emphasis")(p,_);break;case"strong":case"b":S=a.subParser("makeMarkdown.strong")(p,_);break;case"del":S=a.subParser("makeMarkdown.strikethrough")(p,_);break;case"a":S=a.subParser("makeMarkdown.links")(p,_);break;case"img":S=a.subParser("makeMarkdown.image")(p,_);break;default:S=p.outerHTML+`

`}return S}),a.subParser("makeMarkdown.paragraph",function(p,_){var b="";if(p.hasChildNodes())for(var S=p.childNodes,C=S.length,L=0;L<C;++L)b+=a.subParser("makeMarkdown.node")(S[L],_);return b=b.trim(),b}),a.subParser("makeMarkdown.pre",function(p,_){var b=p.getAttribute("prenum");return"<pre>"+_.preList[b]+"</pre>"}),a.subParser("makeMarkdown.strikethrough",function(p,_){var b="";if(p.hasChildNodes()){b+="~~";for(var S=p.childNodes,C=S.length,L=0;L<C;++L)b+=a.subParser("makeMarkdown.node")(S[L],_);b+="~~"}return b}),a.subParser("makeMarkdown.strong",function(p,_){var b="";if(p.hasChildNodes()){b+="**";for(var S=p.childNodes,C=S.length,L=0;L<C;++L)b+=a.subParser("makeMarkdown.node")(S[L],_);b+="**"}return b}),a.subParser("makeMarkdown.table",function(p,_){var b="",S=[[],[]],C=p.querySelectorAll("thead>tr>th"),L=p.querySelectorAll("tbody>tr"),z,U;for(z=0;z<C.length;++z){var X=a.subParser("makeMarkdown.tableCell")(C[z],_),Q="---";if(C[z].hasAttribute("style")){var O=C[z].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(O){case"text-align:left;":Q=":---";break;case"text-align:right;":Q="---:";break;case"text-align:center;":Q=":---:";break}}S[0][z]=X.trim(),S[1][z]=Q}for(z=0;z<L.length;++z){var q=S.push([])-1,E=L[z].getElementsByTagName("td");for(U=0;U<C.length;++U){var V=" ";typeof E[U]<"u"&&(V=a.subParser("makeMarkdown.tableCell")(E[U],_)),S[q].push(V)}}var H=3;for(z=0;z<S.length;++z)for(U=0;U<S[z].length;++U){var I=S[z][U].length;I>H&&(H=I)}for(z=0;z<S.length;++z){for(U=0;U<S[z].length;++U)z===1?S[z][U].slice(-1)===":"?S[z][U]=a.helper.padEnd(S[z][U].slice(-1),H-1,"-")+":":S[z][U]=a.helper.padEnd(S[z][U],H,"-"):S[z][U]=a.helper.padEnd(S[z][U],H);b+="| "+S[z].join(" | ")+` |
`}return b.trim()}),a.subParser("makeMarkdown.tableCell",function(p,_){var b="";if(!p.hasChildNodes())return"";for(var S=p.childNodes,C=S.length,L=0;L<C;++L)b+=a.subParser("makeMarkdown.node")(S[L],_,!0);return b.trim()}),a.subParser("makeMarkdown.txt",function(p){var _=p.nodeValue;return _=_.replace(/ +/g," "),_=_.replace(/¨NBSP;/g," "),_=a.helper.unescapeHTMLEntities(_),_=_.replace(/([*_~|`])/g,"\\$1"),_=_.replace(/^(\s*)>/g,"\\$1>"),_=_.replace(/^#/gm,"\\#"),_=_.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),_=_.replace(/^( {0,3}\d+)\./gm,"$1\\."),_=_.replace(/^( {0,3})([+-])/gm,"$1\\$2"),_=_.replace(/]([\s]*)\(/g,"\\]$1\\("),_=_.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),_});var B=this;e.exports?e.exports=a:B.showdown=a}).call(r9)}(Bc)),Bc.exports}var i9=a9();const s9=ad(i9),o9=()=>[{type:"lang",regex:/</g,replace:"&lt;"},{type:"lang",regex:/>/g,replace:"&gt;"}],l9=new s9.Converter({tables:!0,strikethrough:!0,emoji:!0,underline:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,openLinksInNewWindow:!0,ghCodeBlocks:!0,tasklists:!0,extensions:[o9]});function Me(e){return e?l9.makeHtml(e):""}function u9(e,t,r){return Array.isArray(e)?e.length<t?(console.warn(`Layout ${r}: Content array has ${e.length} items, expected at least ${t}`),!1):!0:(console.warn(`Layout ${r}: Content is not an array`),!1)}const c9=async(e,t,r)=>{let a="";if(!Array.isArray(t)||t.length===0)return console.warn(`Layout ${e}: Empty or invalid content array`),{html:`<div class="layout-error">
                <div class="error-icon">⚠️</div>
                <div class="error-message">No content available</div>
            </div>`};try{switch(e){case 1:a=await T1(t,r);break;case 2:a=await d9(t,r);break;case 3:a=await f9(t,r);break;case 4:a=await h9(t,r);break;case 5:a=await m9(t,r);break;case 6:a=await g9(t,r);break;case 7:a=await p9(t,r);break;case 8:a=await y9(t,r);break;case 9:a=await v9(t,r);break;case 12:a=await b9(t,r);break;case 13:a=await w9(t,r);break;case 14:a=await _9(t,r);break;case 15:a=await x9(t,r);break;case 16:a=await S9(t,r);break;case 17:a=await E9(t,r);break;case 18:a=await k9(t,r);break;default:console.warn(`Layout ${e} not implemented, falling back to layout 1`),a=await T1(t,r)}if(!a||a.trim().length===0)throw new Error("Layout parser returned empty HTML")}catch(s){console.error(`Error parsing layout ${e}:`,s),a=`
            <div class="layout-error">
                <div class="error-icon">⚠️</div>
                <div class="error-message">
                    <strong>Layout Error</strong><br>
                    Unable to render content for layout ${e}
                </div>
                <div class="error-details">
                    ${s instanceof Error?s.message:"Unknown error occurred"}
                </div>
            </div>
        `}return{html:a}};async function T1(e,t){const[r,a,s]=e;let l=`
        <div class="layout-1">
            <div class="layout-header draggable-header-block">
                <h2 class="layout-title">${Me(r||"Educational Topic")}</h2>
                <div class="layout-textbar">${Me(a||"Content description")}</div>
            </div>
    `;return Array.isArray(s)&&s.length>0&&(l+='<div class="layout-images draggable-image-grid">',(await Promise.all(s.map(d=>Gn(d).catch(()=>null)))).forEach((d,f)=>{d?l+=`
                    <div class="layout-image-wrapper draggable-image-block">
                        <img class="layout-small-image" src="${d}" alt="Illustration ${f+1}" loading="lazy" />
                    </div>
                `:l+=`
                    <div class="layout-image-wrapper draggable-image-block">
                        <div class="image-error">
                            <span class="error-icon">⚠️</span>
                            <span>Image ${f+1} unavailable</span>
                        </div>
                    </div>
                `}),l+="</div>"),l+=`
        </div>
    `,l}async function d9(e,t){let r='<div class="layout-2">',a=[];if(e.length>0&&Array.isArray(e[0]))a=e.filter(u=>Array.isArray(u)&&u.length>=2);else for(let u=0;u<e.length;u+=2)u+1<e.length&&a.push([e[u],e[u+1]]);if(a.length===0)return r+=`
            <div class="layout-error">
                <div class="error-icon">⚠️</div>
                <div class="error-message">No image-caption pairs found</div>
            </div>
        `,r+="</div>",r;const s=a.map(async([u,d])=>{try{return{url:await Gn(u),caption:d,error:null}}catch(f){return{url:null,caption:d,error:f instanceof Error?f.message:"Unknown error"}}});return(await Promise.all(s)).forEach(({url:u,caption:d,error:f},h)=>{r+=`
            <div class="layout-image-caption draggable-image-block">
        `,u?r+=`
                <div class="layout-image-wrapper">
                    <img class="layout-image" src="${u}" alt="Educational image ${h+1}" loading="lazy" />
                </div>
            `:r+=`
                <div class="layout-image-wrapper">
                    <div class="image-error">
                        <div class="error-icon">⚠️</div>
                        <span class="error-message">Image ${h+1} unavailable</span>
                        ${f?`<span class="error-details">${f}</span>`:""}
                    </div>
                </div>
            `,r+=`
                <div class="layout-caption-wrapper draggable-text-block">
                    <p class="layout-caption draggable-text-block">${Me(d)}</p>
                </div>
            </div>
        `}),r+="</div>",r}async function f9(e,t){const[r,a]=e;let l=`
        <div class="layout-3">
            <div class="layout-diagram-section draggable-diagram-block">
                <div class="diagram-container">
                    <div id="${`mermaid-${t}`}" class="layout-mermaid-enhanced">Loading diagram...</div>
                </div>
            </div>
            <div class="layout-analysis-section draggable-text-block">
                <div class="analysis-header">
                    <div class="analysis-icon">🔄</div>
                    <h3 class="analysis-title">Process Analysis</h3>
                </div>
                <div class="layout-description-content">
                    ${Me(a||"")}
                </div>
            </div>
        </div>
    `;try{const d=(await _d(r)).outerHTML.replace("<svg",'<svg class="flowchart-svg"');l=l.replace("Loading diagram...",d)}catch{l=l.replace("Loading diagram...",`<div class="mermaid-error">
                <div class="error-icon">⚠️</div>
                <div class="error-text">Unable to render process diagram</div>
                <div class="error-details">Please try refreshing or contact support</div>
            </div>`)}return l}async function h9(e,t){const[r,a]=e;let l=`
        <div class="layout-4">
            <div class="layout-mindmap-hero draggable-diagram-block">
                <div class="mindmap-container">
                    <div id="${`mermaid-${t}`}" class="layout-mermaid-large">Loading mindmap...</div>
                </div>
            </div>
            <div class="layout-concept-analysis draggable-text-block">
                <div class="concept-header">
                    <div class="concept-icon">🧠</div>
                    <h3 class="concept-title">Concept Breakdown</h3>
                </div>
                <div class="concept-description">
                    ${Me(a||"")}
                </div>
                <div class="concept-callout">
                    <div class="callout-icon">💡</div>
                    <span class="callout-text">Explore the connections between different concepts in the mindmap above</span>
                </div>
            </div>
        </div>
    `;try{const d=(await _d(r)).outerHTML.replace("<svg",'<svg class="mindmap-svg"').replace(/width="[^"]*"/,'width="100%"').replace(/height="[^"]*"/,'height="auto"');l=l.replace("Loading mindmap...",d)}catch{l=l.replace("Loading mindmap...",`<div class="mermaid-error">
                <div class="error-icon">🧠</div>
                <div class="error-text">Unable to render mindmap</div>
                <div class="error-details">Mindmap visualization temporarily unavailable</div>
            </div>`)}return l}async function m9(e,t){const[r,a]=e;let l=`
        <div class="layout-5">
            <div class="layout-chart-section draggable-diagram-block">
                <div class="chart-container">
                    <div id="${`mermaid-${t}`}" class="layout-mermaid-chart">Loading piechart...</div>
                </div>
            </div>
            <div class="layout-analysis-section draggable-text-block">
                <div class="analysis-header">
                    <div class="analysis-icon">📊</div>
                    <h3 class="analysis-title">Data Analysis</h3>
                </div>
                <div class="layout-description-content">
                    ${Me(a||"")}
                </div>
            </div>
        </div>
    `;try{const d=(await _d(r)).outerHTML.replace("<svg",'<svg class="piechart-svg"');l=l.replace("Loading piechart...",d)}catch(u){console.error("Layout 5 mermaid error:",u),l=l.replace("Loading piechart...",`<div class="mermaid-error">
                <div class="error-icon">📊</div>
                <div class="error-text">Unable to render data visualization</div>
                <div class="error-details">Chart data temporarily unavailable</div>
            </div>`)}return l}async function g9(e,t){const[r,a]=e;let l=`
        <div class="layout-6">
            <div class="layout-hero-section draggable-diagram-block">
                <div class="layout-central-visual">
                    <div id="${`mermaid-${t}`}" class="layout-mermaid">Loading quadrant chart...</div>
                </div>
            </div>
            <div class="layout-content-section">
                <div class="layout-educational-content draggable-text-block">
                    <header class="content-header">
                        <div class="layout-point-icon">🎯</div>
                        <h2 class="layout-title">Strategic Framework Analysis</h2>
                    </header>
    `;typeof a=="string"?l+=`
                    <div class="layout-text-content">
                        <p class="layout-description draggable-text-block">${Me(a)}</p>
                    </div>
        `:Array.isArray(a)&&(l+='<div class="layout-points-grid">',a.forEach((u,d)=>{const f=u.match(new RegExp("^(\\p{Emoji}|\\p{Symbol})\\s+(.+)$","u")),h=["📊","🎯","⚡","🔍","💡","🚀"],g=f?f[1]:h[d%h.length],v=f?f[2]:u;l+=`
                <div class="layout-educational-point draggable-point-item">
                    <div class="layout-point-icon">${g}</div>
                    <div class="layout-point-content">
                        <span class="layout-point-text">${Me(v)}</span>
                    </div>
                </div>
            `}),l+="</div>"),l+=`
                </div>
            </div>
        </div>
    `;try{const d=(await _d(r)).outerHTML.replace("<svg",'<svg class="quadrant-svg"');l=l.replace("Loading quadrant chart...",d)}catch(u){console.error("Layout 6 mermaid error:",u),l=l.replace("Loading quadrant chart...",`<div class="mermaid-error">
                <div class="error-icon">🎯</div>
                <div class="error-text">Unable to render strategic framework</div>
                <div class="error-details">Quadrant analysis temporarily unavailable</div>
            </div>`)}return l}async function p9(e,t){const[r,a,s,l,u]=e,d=`img-${t}`;try{const f=await Gn(r);let h=`
            <div class="layout-7">
                <div class="layout-hero-section draggable-image-block">
                    <div class="layout-central-visual">
                        <img id="${d}" class="layout-hero-image" src="${f}" alt="Featured Visual" />
                    </div>
                </div>
                <div class="layout-content-section">
                    <div class="layout-educational-content">
                        <header class="content-header draggable-header-block">
                            <h2 class="layout-title">${Me(a||"Educational Topic")}</h2>
                        </header>
                        <div class="layout-points-grid">
        `;const g=[s,l,u].filter(Boolean),v=["📚","🔍","💡"];return g.forEach((w,k)=>{w&&(h+=`
                    <div class="layout-educational-point draggable-point-item">
                        <div class="layout-point-icon">${v[k]||"✨"}</div>
                        <div class="layout-point-content">
                            <div class="layout-point-text">${Me(w)}</div>
                        </div>
                    </div>
                `)}),h+=`
                        </div>
                    </div>
                </div>
            </div>
        `,h}catch{let h=`
            <div class="layout-7">
                <div class="layout-hero-section draggable-image-block">
                    <div class="layout-central-visual">
                        <div class="image-error">
                            <div class="error-icon">⚠️</div>
                            <span>Featured image unavailable</span>
                        </div>
                    </div>
                </div>
                <div class="layout-content-section">
                    <div class="layout-educational-content">
                        <header class="content-header draggable-header-block">
                            <h2 class="layout-title">${Me(a||"Educational Topic")}</h2>
                        </header>
                        <div class="layout-points-grid">
        `;const g=[s,l,u].filter(Boolean),v=["📚","🔍","💡"];return g.forEach((w,k)=>{w&&(h+=`
                    <div class="layout-educational-point draggable-point-item">
                        <div class="layout-point-icon">${v[k]||"✨"}</div>
                        <div class="layout-point-content">
                            <div class="layout-point-text">${Me(w)}</div>
                        </div>
                    </div>
                `)}),h+=`
                        </div>
                    </div>
                </div>
            </div>
        `,h}}async function y9(e,t){const[r,a,s,l]=e,u=`img-main-${t}`;try{const d=await Gn(r);let f=`
            <div class="layout-8">
                <div class="layout-hero-section draggable-image-block">
                    <div class="layout-central-visual">
                        <img id="${u}" class="layout-hero-image" src="${d}" alt="Main Visual" loading="lazy" />
                    </div>
                </div>
                <div class="layout-content-section">
                    <div class="layout-educational-content">
                        <header class="content-header draggable-header-block">
                            <h2 class="layout-title">${Me(a||"Educational Topic")}</h2>
                        </header>
        `;return s&&(f+=`
                        <div class="layout-text-content draggable-text-block">
                            <div class="layout-description">${Me(s)}</div>
                        </div>
            `),Array.isArray(l)&&l.length>0&&(f+=`
                        <div class="layout-supporting-visuals draggable-image-grid">
                            <h4 class="visuals-title">Supporting Details</h4>
                            <div class="visuals-grid">`,(await Promise.all(l.map(g=>Gn(g).catch(()=>null)))).forEach((g,v)=>{g?f+=`
                                <div class="visual-card">
                                    <div class="visual-image-container">
                                        <img class="visual-image" src="${g}" alt="Supporting visual ${v+1}" loading="lazy" />
                                        <div class="visual-overlay">
                                            <span class="visual-number">${v+1}</span>
                                        </div>
                                    </div>
                                </div>
                    `:f+=`
                                <div class="visual-card error-card">
                                    <div class="visual-error">
                                        <span class="error-icon">⚠️</span>
                                        <span class="error-text">Visual ${v+1}</span>
                                    </div>
                                </div>
                    `}),f+=`
                            </div>
                        </div>`),f+=`
                    </div>
                </div>
            </div>
        `,f}catch(d){console.error("Layout 8 error:",d);let f=`
            <div class="layout-8">
                <div class="layout-hero-section">
                    <div class="layout-central-visual">
                        <div class="image-error">
                            <div class="error-icon">⚠️</div>
                            <span>Main image unavailable</span>
                        </div>
                    </div>
                </div>
                <div class="layout-content-section">
                    <div class="layout-educational-content">
                        <header class="content-header">
                            <h2 class="layout-title">${Me(a||"Educational Topic")}</h2>
                        </header>
        `;return s&&(f+=`
                        <div class="layout-text-content">
                            <p class="layout-description draggable-text-block">${Me(s)}</p>
                        </div>
            `),Array.isArray(l)&&l.length>0&&(f+=`
                <div class="layout-points-grid">
                    ${l.map((h,g)=>`
                        <div class="layout-educational-point">
                            <div class="layout-point-icon">⚠️</div>
                            <div class="layout-point-content">
                                <div class="layout-point-text">Detail ${g+1} unavailable</div>
                            </div>
                        </div>
                    `).join("")}
                </div>
            `),f+=`
                    </div>
                </div>
            </div>
        `,f}}async function v9(e,t){if(!u9(e,2,9))return`<div class="layout-error">
            <div class="error-icon">⚠️</div>
            <div class="error-message">Invalid content structure for video layout</div>
        </div>`;const[r,a]=e;let l=`
        <div class="layout-9-infographic">
            <div class="video-infographic-header">
                <div class="video-header-accent"></div>
                <div class="video-title-section">
                    <div class="video-icon-large">�</div>
                    <h3 class="video-infographic-title">Educational Video</h3>
                </div>
                <div class="video-header-line"></div>
            </div>
            
            <div class="video-main-container">
                <div class="video-player-section draggable-video-block">
                    <div class="video-frame">
                        <div id="${`video-${t}`}" class="video-embed-container">
                            <div class="video-loading">
                                <div class="loading-spinner"></div>
                                <span class="loading-text">Loading video...</span>
                            </div>
                        </div>
                        <div class="video-frame-overlay"></div>
                    </div>
                </div>
                
                <div class="video-context-panel draggable-text-block">
                    <div class="context-panel-header">
                        <div class="context-icon">📝</div>
                        <h4 class="context-panel-title">Video Summary</h4>
                    </div>
                    
                    <div class="context-content-card">
                        <div class="context-accent-line"></div>
                        <div class="video-caption-content">
                            ${Me(a||"Educational video content")}
                        </div>
                    </div>
                    
                    <div class="video-stats">
                        <div class="stat-item">
                            <div class="stat-icon">⏱️</div>
                            <span class="stat-label">Educational Content</span>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon">🎯</div>
                            <span class="stat-label">Interactive Learning</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="video-infographic-footer">
                <div class="footer-video-accent"></div>
            </div>
        </div>
    `;try{const u=await CS(r),f=`
            <div class="responsive-video-wrapper">
                <iframe class="video-player-iframe" 
                        src="${NS(u)}" 
                        frameborder="0" 
                        allowfullscreen
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        title="Educational Video">
                </iframe>
                <div class="video-play-overlay">
                    <div class="play-button">
                        <div class="play-icon">▶</div>
                    </div>
                </div>
            </div>
        `;l=l.replace(`<div class="video-loading">
                                <div class="loading-spinner"></div>
                                <span class="loading-text">Loading video...</span>
                            </div>`,f)}catch(u){console.error("Layout 9 video error:",u),l=l.replace(`<div class="video-loading">
                                <div class="loading-spinner"></div>
                                <span class="loading-text">Loading video...</span>
                            </div>`,`
            <div class="video-error-state">
                <div class="video-error-icon">🎥</div>
                <div class="video-error-content">
                    <h4 class="error-title">Video Temporarily Unavailable</h4>
                    <p class="error-description">Please check your connection and try again</p>
                    <div class="error-code">Error: Media not found</div>
                </div>
            </div>
        `)}return l}async function b9(e,t){const[r,a]=e,s=`illustration-${t}`;try{const l=await Gn(r);let u=`
            <div class="layout-12">
                <div class="layout-hero-section draggable-image-block">
                    <div class="layout-central-visual">
                        <img id="${s}" class="layout-hero-image" src="${l}" alt="Educational Illustration" />
                    </div>
                </div>
                <div class="layout-content-section">
                    <div class="layout-educational-content">
        `;return typeof a=="string"?u+=`
                <div class="layout-text-content draggable-text-block">
                    <p class="layout-description draggable-text-block">${Me(a)}</p>
                </div>
            `:Array.isArray(a)&&(u+='<div class="layout-points-grid">',a.forEach((d,f)=>{const h=d.match(new RegExp("^(\\p{Emoji}|\\p{Symbol})\\s+(.+)$","u")),g=h?h[1]:A1(f),v=h?h[2]:d;u+=`
                    <div class="layout-educational-point draggable-point-item">
                        <div class="layout-point-icon">${g}</div>
                        <div class="layout-point-content">
                            <span class="layout-point-text">${Me(v)}</span>
                        </div>
                    </div>
                `}),u+="</div>"),u+=`
                    </div>
                </div>
            </div>
        `,u}catch(l){console.error("Layout 12 error:",l);let u=`
            <div class="layout-12">
                <div class="layout-hero-section draggable-image-block">
                    <div class="layout-central-visual">
                        <div class="image-error">
                            <div class="error-icon">⚠️</div>
                            <span>Unable to load illustration</span>
                        </div>
                    </div>
                </div>
                <div class="layout-content-section">
                    <div class="layout-educational-content">
        `;return typeof a=="string"?u+=`
                <div class="layout-text-content draggable-text-block">
                    <p class="layout-description draggable-text-block">${Me(a)}</p>
                </div>
            `:Array.isArray(a)&&(u+='<div class="layout-points-grid">',a.forEach((d,f)=>{const h=d.match(new RegExp("^(\\p{Emoji}|\\p{Symbol})\\s+(.+)$","u")),g=h?h[1]:A1(f),v=h?h[2]:d;u+=`
                    <div class="layout-educational-point draggable-point-item">
                        <div class="layout-point-icon">${g}</div>
                        <div class="layout-point-content">
                            <span class="layout-point-text">${Me(v)}</span>
                        </div>
                    </div>
                `}),u+="</div>"),u+=`
                    </div>
                </div>
            </div>
        `,u}}function A1(e){const t=["💡","🔍","⚡","🎯","🚀","✨","🎨","🔧","📊","🌟"];return t[e%t.length]}async function w9(e,t){const[r,a,s]=e,l=`video-${t}`;try{const u=await CS(s),d=NS(u);return`
            <div class="layout-13">
                <div class="layout-split-container">
                    <div class="layout-content-section">
                        <div class="layout-educational-content draggable-text-block">
                            <header class="content-header-enhanced">
                                <div class="header-icon">📚</div>
                                <h2 class="layout-title">${Me(r||"Educational Topic")}</h2>
                            </header>
                            <div class="layout-text-content enhanced">
                                <div class="content-wrapper">
                                    <div class="content-accent"></div>
                                    <div class="layout-description">${Me(a||"")}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layout-video-section">
                        <div class="video-container-enhanced draggable-video-block">
                            <div class="video-header">
                                <div class="video-icon">🎬</div>
                                <span class="video-label">Watch & Learn</span>
                            </div>
                            <div id="${l}" class="layout-video-player enhanced">
                                <div class="responsive-video-wrapper">
                                    <iframe class="video-player-iframe" 
                                            src="${d}" 
                                            frameborder="0" 
                                            allowfullscreen
                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                            title="Educational Video">
                                    </iframe>
                                    <div class="video-play-indicator">
                                        <div class="play-pulse"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `}catch{return`
            <div class="layout-13">
                <div class="layout-split-container">
                    <div class="layout-content-section">
                        <div class="layout-educational-content draggable-text-block">
                            <header class="content-header-enhanced">
                                <div class="header-icon">📚</div>
                                <h2 class="layout-title">${Me(r||"Educational Topic")}</h2>
                            </header>
                            <div class="layout-text-content enhanced">
                                <div class="content-wrapper">
                                    <div class="content-accent"></div>
                                    <div class="layout-description">${Me(a||"")}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="layout-video-section">
                        <div class="video-container-enhanced draggable-video-block">
                            <div class="video-header">
                                <div class="video-icon">🎬</div>
                                <span class="video-label">Watch & Learn</span>
                            </div>
                            <div id="${l}" class="layout-video-player enhanced">
                                <div class="video-error-state enhanced">
                                    <div class="video-error-icon">🎥</div>
                                    <div class="video-error-content">
                                        <h4 class="error-title">Video Unavailable</h4>
                                        <p class="error-description">Please try again later</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `}}async function _9(e,t){let r='<div class="layout-14">';for(let a=0;a<e.length;a+=2){const s=e[a],l=e[a+1];if(s&&l){const u=a/2,d=u%2===0;try{const f=await Gn(s);r+=`
                    <div class="layout-section ${d?"layout-section-normal":"layout-section-reverse"} draggable-section-block">
                        <div class="layout-section-image draggable-image-block">
                            <img class="layout-large-image" src="${f}" alt="Section ${u+1}" />
                        </div>
                        <div class="layout-section-content draggable-text-block">
                            <div class="layout-text">${Me(l)}</div>
                        </div>
                    </div>
                `}catch{r+=`
                    <div class="layout-section ${d?"layout-section-normal":"layout-section-reverse"} draggable-section-block">
                        <div class="layout-section-image draggable-image-block">
                            <div class="image-error">
                                <div class="error-icon">⚠️</div>
                                <span>Section image unavailable</span>
                            </div>
                        </div>
                        <div class="layout-section-content draggable-text-block">
                            <div class="layout-text">${Me(l)}</div>
                        </div>
                    </div>
                `}}}return r+="</div>",r}async function x9(e,t){let r='<div class="layout-15"><div class="layout-15-container">';for(let a=0;a<e.length;a+=3){const s=e[a],l=e[a+1],u=e[a+2];if(s&&l&&u)try{const d=await Gn(l);r+=`
                    <div class="layout-timeline-item draggable-timeline-item">
                        <div class="layout-timeline-date">${s}</div>
                        <img class="layout-timeline-image" src="${d}" alt="Timeline event" />
                        <div class="layout-timeline-content draggable-text-block">
                            <div class="layout-timeline-text">${Me(u)}</div>
                        </div>
                    </div>
                `}catch{r+=`
                    <div class="layout-timeline-item draggable-timeline-item">
                        <div class="layout-timeline-date">${s}</div>
                        <div class="image-error">
                            <div class="error-icon">⚠️</div>
                            <span>Timeline image unavailable</span>
                        </div>
                        <div class="layout-timeline-content draggable-text-block">
                            <div class="layout-timeline-text">${Me(u)}</div>
                        </div>
                    </div>
                `}}return r+="</div></div>",r}async function S9(e,t){let r='<div class="layout-16">';for(let a=0;a<e.length;a+=3){const s=e[a],l=e[a+1],u=e[a+2];if(s&&l&&u)try{const d=await Gn(l);r+=`
                    <div class="layout-card draggable-card-item">
                        <h3 class="layout-card-title">${Me(s)}</h3>
                        <img class="layout-card-image" src="${d}" alt="${s}" />
                        <p class="layout-card-description draggable-text-block">${Me(u)}</p>
                    </div>
                `}catch{r+=`
                    <div class="layout-card draggable-card-item">
                        <h3 class="layout-card-title">${Me(s)}</h3>
                        <div class="image-error">Error loading image</div>
                        <p class="layout-card-description draggable-text-block">${Me(u)}</p>
                    </div>
                `}}return r+="</div>",r}async function E9(e,t){const[r,a,s,l,u,d,f]=e;try{const h=await Gn(l),g=j=>{let R="javascript",$=(j||"").toString();if($.startsWith("```")){const B=$.match(/```(\w+)?\n?([\s\S]*?)\n?```$/);B?(B[1]&&(R=B[1]),$=B[2]||""):$=$.replace(/^```\w*\n?/,"").replace(/\n?```$/,"")}else $.includes("def ")||$.includes("import ")||$.includes("print(")?R="python":$.includes("function ")||$.includes("const ")||$.includes("let ")?R="javascript":$.includes("public class ")||$.includes("System.out.println")?R="java":$.includes("#include")||$.includes("int main")?R="cpp":($.includes("SELECT ")||$.includes("FROM "))&&(R="sql");return(!$||$.trim()==="")&&($="// No code provided"),{lang:R,cleanCode:$}},{lang:v,cleanCode:w}=g(a),{lang:k,cleanCode:A}=g(d);return`
            <div class="layout-17">
                <h2 class="layout-title draggable-header-block">${Me(r||"Code Tutorial")}</h2>
                
                <div class="layout-code-section draggable-code-block">
                    <pre class="layout-code-block language-${v}"><code class="language-${v}">${w}</code></pre>
                    <div class="layout-code-explanation draggable-text-block">${Me(s||"")}</div>
                </div>
                
                <div class="layout-diagram-section draggable-image-block">
                    <img class="layout-diagram-image" src="${h}" alt="Architecture Diagram" />
                    <div class="layout-implementation-explanation draggable-text-block">${Me(u||"")}</div>
                </div>
                
                <div class="layout-code-section draggable-code-block">
                    <pre class="layout-code-block language-${k}"><code class="language-${k}">${A}</code></pre>
                    <div class="layout-code-explanation draggable-text-block">${Me(f||"")}</div>
                </div>
            </div>
        `}catch{return'<div class="layout-17"><div class="error-content">Error loading tutorial content</div></div>'}}async function k9(e,t){const[r,a,s,l,u,d]=e;try{const f=await Gn(u),h=k=>{let A="javascript",N=(k||"").toString();if(N.startsWith("```")){const j=N.match(/```(\w+)?\n?([\s\S]*?)\n?```$/);j?(j[1]&&(A=j[1]),N=j[2]||""):N=N.replace(/^```\w*\n?/,"").replace(/\n?```$/,"")}else N.includes("def ")||N.includes("import ")||N.includes("print(")?A="python":N.includes("function ")||N.includes("const ")||N.includes("let ")?A="javascript":N.includes("public class ")||N.includes("System.out.println")?A="java":N.includes("#include")||N.includes("int main")?A="cpp":N.includes("SELECT ")||N.includes("FROM ")?A="sql":(N.includes("curl ")||N.includes("GET ")||N.includes("POST "))&&(A="bash");return(!N||N.trim()==="")&&(N="// No code provided"),{lang:A,cleanCode:N}},{lang:g,cleanCode:v}=h(a);return`
            <div class="layout-18">
                <h2 class="layout-title draggable-header-block">${Me(r||"API Documentation")}</h2>
                
                <div class="layout-api-section">
                    <div class="layout-code-container draggable-code-block">
                        <pre class="layout-code-block language-${g}"><code class="language-${g}">${v}</code></pre>
                    </div>
                    <div class="layout-documentation draggable-text-block">${Me(s||"")}</div>
                </div>
                
                <div class="layout-usage-section draggable-text-block">
                    <h3 class="layout-subtitle">Usage Examples</h3>
                    <div class="layout-usage-examples">${Me(l||"")}</div>
                </div>
                
                <div class="layout-diagram-section">
                    <img class="layout-api-diagram draggable-image-block" src="${f}" alt="API Flow Diagram" />
                    <div class="layout-best-practices draggable-text-block">
                        <h3 class="layout-subtitle">Best Practices</h3>
                        ${Me(d||"")}
                    </div>
                </div>
            </div>
        `}catch{return'<div class="layout-18"><div class="error-content">Error loading documentation content</div></div>'}}const T9=e=>{const t=`quiz-set-${Math.random().toString(36).substr(2,9)}`,r=e.map((s,l)=>{const u=`${t}-q${l}`,d=Math.round((l+1)/e.length*100),f=s.options.map((v,w)=>{const k=w===s.answer;return`
                        <button
                            class="quiz-answer w-full border-2 border-slate-300 dark:border-slate-600
                                   bg-white dark:bg-slate-800 rounded-xl p-4 text-left
                                   font-medium text-slate-700 dark:text-slate-200
                                   transition-all duration-200 ease-out
                                   hover:-translate-y-0.5 hover:shadow-lg
                                   hover:bg-slate-50 dark:hover:bg-slate-800
                                   focus:outline-none focus:ring-2 focus:ring-offset-2
                                   focus:ring-blue-500 dark:focus:ring-blue-400
                                   disabled:cursor-not-allowed disabled:opacity-60"
                            onclick="${`
                        const quiz    = document.getElementById('${u}');
                        const result  = document.getElementById('${u}-result');
                        const nextBtn = document.getElementById('${u}-next');
                        const buttons = quiz.querySelectorAll('.quiz-answer');
                        const me      = this;

                        if (${k}) {
                            result.style.display = 'flex';
                            result.classList.remove('hidden');
                            if (nextBtn) {
                                nextBtn.style.display = 'inline-flex';
                                nextBtn.classList.remove('hidden');
                            }
                            buttons.forEach(b => b.disabled = true);

                            me.classList.add('bg-green-50','dark:bg-green-900/20',
                                             'border-green-500','text-green-800','dark:text-green-100',
                                             'shadow-inner');
                            me.classList.remove('hover:bg-slate-50','dark:hover:bg-slate-800');
                            me.classList.add('scale-105');
                        } else {
                            me.classList.add('bg-red-50','dark:bg-red-900/20',
                                             'border-red-500','text-red-800','dark:text-red-100',
                                             'animate-pulse');
                            me.classList.remove('hover:bg-slate-50','dark:hover:bg-slate-800');
                            me.disabled = true;
                        }
                    `}"
                        >
                            ${v}
                        </button>`}).join(""),h=l<e.length-1?`
                    document.getElementById('${t}-q${l}').classList.add('hidden');
                    document.getElementById('${t}-q${l+1}').classList.remove('hidden');
                    window.scrollTo({ top: document.getElementById('${t}-q${l+1}').offsetTop - 20, behavior: 'smooth' });`:`
                    document.getElementById('${t}-completion').classList.remove('hidden');
                    document.getElementById('${u}').classList.add('hidden');
                    window.scrollTo({ top: document.getElementById('${t}-completion').offsetTop - 20, behavior: 'smooth' });`,g=l<e.length-1?`<button id="${u}-next"
                           class="hidden items-center gap-2
                                  bg-blue-600 hover:bg-blue-700
                                  dark:bg-blue-500 dark:hover:bg-blue-600
                                  text-white px-6 py-2 rounded-lg font-semibold
                                  transition-colors duration-200 drop-shadow-md"
                           onclick="${h}"
                           style="display: none;">
                       Next <i class="fa-solid fa-arrow-right"></i>
                   </button>`:`<button id="${u}-next"
                           class="hidden items-center gap-2
                                  bg-green-600 hover:bg-green-700
                                  dark:bg-green-500 dark:hover:bg-green-600
                                  text-white px-6 py-2 rounded-lg font-semibold
                                  transition-colors duration-200 drop-shadow-md"
                           onclick="${h}"
                           style="display: none;">
                       Finish <i class="fa-solid fa-circle-check"></i>
                   </button>`;return`
                <div id="${u}"
                     class="${l===0?"":"hidden"}
                            bg-gradient-to-br from-white via-slate-50 to-white
                            dark:from-slate-800 dark:via-slate-800/70 dark:to-slate-900
                            border border-slate-200 dark:border-slate-700
                            shadow-xl rounded-3xl p-8 max-w-2xl mx-auto
                            animate-fade-in">

                    <div class="w-full bg-slate-200/60 dark:bg-slate-700/40 h-2 rounded-full mb-6">
                        <div class="h-2 bg-blue-500 rounded-full transition-all duration-500"
                             style="width:${d}%"></div>
                    </div>

                    <p class="text-sm font-medium text-blue-600 dark:text-blue-400 text-center mb-2">
                        Question ${l+1} / ${e.length}
                    </p>

                    <h2 class="text-xl sm:text-2xl font-semibold text-slate-900 dark:text-slate-100
                               text-center mb-8 leading-relaxed">
                        ${s.question}
                    </h2>

                    <div class="grid gap-4 sm:grid-cols-2 mb-6">
                        ${f}
                    </div>

                    <div id="${u}-result"
                         class="hidden flex-col items-center gap-6 mb-4 animate-fade-in"
                         style="display: none;">

                        <i class="fa-solid fa-circle-check text-green-500 text-6xl drop-shadow-lg animate-bounce duration-[2s]"></i>

                        <p class="text-2xl font-bold text-green-800 dark:text-green-200">
                            Correct!
                        </p>

                        ${g}
                    </div>
                </div>`}).join(""),a=`
        // completion -> hidden, first question -> visible
        const comp = document.getElementById('${t}-completion');
        comp.classList.add('hidden');
        document.getElementById('${t}-q0').classList.remove('hidden');
        window.scrollTo({ top: document.getElementById('${t}-q0').offsetTop - 20, behavior: 'smooth' });

        // iterate through every question
        ${e.map((s,l)=>`
            (function() {
                const q     = document.getElementById('${t}-q${l}');
                const res   = document.getElementById('${t}-q${l}-result');
                const next  = document.getElementById('${t}-q${l}-next');
                const btns  = q.querySelectorAll('.quiz-answer');

                res.classList.add('hidden'); res.style.display = 'none';
                if (next) {
                    next.classList.add('hidden');
                    next.style.display = 'none';
                }

                btns.forEach(b => {
                    b.disabled = false;
                    b.classList.remove(
                        'bg-green-50','dark:bg-green-900/20','border-green-500','text-green-800','dark:text-green-100',
                        'bg-red-50','dark:bg-red-900/20','border-red-500','text-red-800','dark:text-red-100',
                        'animate-pulse','shadow-inner','scale-105'
                    );
                    b.classList.add('hover:bg-slate-50','dark:hover:bg-slate-800');
                });

                if (${l} > 0) q.classList.add('hidden');
            })();
            `).join("")}
    `;return`
        <div id="${t}" class="my-12 space-y-10">
            ${r}

            <!-- completion card -->
            <div id="${t}-completion"
                 class="hidden bg-gradient-to-br from-green-50 to-blue-50
                        dark:from-green-900/25 dark:to-blue-900/25
                        border-2 border-green-200 dark:border-green-700
                        rounded-3xl p-12 text-center max-w-xl mx-auto
                        shadow-2xl space-y-8 animate-fade-in">

                <i class="fa-solid fa-trophy text-yellow-400 text-7xl drop-shadow-lg animate-bounce duration-[2s]"></i>

                <h3 class="text-3xl font-extrabold text-green-800 dark:text-green-200">
                    You finished the quiz!
                </h3>

                <p class="text-lg text-green-700 dark:text-green-300">
                    Perfect score on ${e.length} questions - great job!
                </p>

                <button onclick="${a}"
                        class="inline-flex items-center gap-3
                               bg-gradient-to-r from-green-600 to-blue-600
                               hover:from-green-700 hover:to-blue-700
                               text-white px-8 py-3 rounded-full font-semibold
                               shadow-lg transform hover:scale-105
                               transition-all duration-200">
                    <i class="fa-solid fa-rotate-right"></i> Start over
                </button>
            </div>
        </div>`},A9=e=>e.every(t=>t.question&&t.options&&t.options.length>0&&t.answer>=0&&t.answer<t.options.length&&t.options.every(r=>typeof r=="string")),C9=e=>(console.log("Processing quiz data:",e),A9(e)?T9(e):(console.warn("Invalid quiz data provided"),'<div class="error">Invalid quiz data</div>')),N9=M.createContext(null),rd=(e,t,r,a,s,l,u,d,f,h,g=!1,v,w,k,A,N,j,R,$=!1)=>{if(!s.find(S=>S.id===t))return null;let p;a==="staticEditable"?p=E1():p=v?YL(v):E1();let _=null;if(!g)_=h;else{const S=FL(r);_=ZL(S,e,"Loading...","",p,a,t);const C=QL(t,_.id,p,k);u([{type:"add",item:_}]),d([{type:"add",item:C}])}_&&(_.data.isLoading=!0,_.data.previousNode=t),g||l(S=>S.map(C=>C.id===_?.id?{...C,data:{..._.data}}:C));const b=N?N():[];return UL(e,w||"",f||"default",b,$).then(async S=>{console.log("AI Response received:",S),console.log("Selected layout:",S.layout),console.log("Content array:",S.content);const C=S.layout>-1?await(async()=>(j&&j(S.layout),(await c9(S.layout,S.content,_?.id||"")).html))():C9(JSON.parse(S.content[0]));if(l(L=>L.map(z=>{if(z.id===_?.id){const U={...z,data:{...z.data,title:e,full_text:S.fullText,suggestions:S.suggestions,layout:S.layout,contents:[C],isLoading:!1,icon:S.icon,isQuiz:$}};return console.log("Updated node data:",U.data),U}return z})),A)try{await A()}catch(L){console.error("Error saving new node content:",L)}}).catch(async S=>{if(console.error("Error generating node content:",S),l(C=>C.map(L=>L.id===_?.id?{...L,data:{...L.data,title:e,full_text:e,suggestions:[],layout:1,contents:[`<div class="error-content">Failed to load content for "${e}"</div>`],isLoading:!1,icon:"❌"}}:L)),A)try{await A()}catch(C){console.error("Error saving new node content after error:",C)}}),p},M9=({children:e,nodes:t,onNodesChange:r,onEdgesChange:a,setNodes:s,saveCallback:l,getLastTwoLayouts:u,addLayout:d})=>{const f=(h,g,v,w,k,A,N,j,R,$)=>rd(h,g,v,w,t,s,r,a,$||"default",R,!j,k,A,N,l,u,d);return x.jsx(N9.Provider,{value:{handleNodeCreation:f,setNodes:s},children:e})},j9=async(e,t,r,a,s,l,u,d)=>{const{function:f}=e,h=f.name;let g;try{g=JSON.parse(f.arguments)}catch{throw new Error(`Invalid tool arguments: ${f.arguments}`)}switch(h){case"create_visual":return await R9(g,t,r,a,s,l,u,d);default:throw new Error(`Unknown tool: ${h}`)}},R9=async(e,t,r,a,s,l,u,d)=>{const{title:f,mode:h}=e;rd(f,"1",{x:0,y:0},"staticEditable",t,r,a,s,h,void 0,!0,void 0,void 0,void 0,l,u,d)},D9=le.memo(({message:e,enableTools:t})=>{const r=e.role==="user";return x.jsxs("div",{className:`flex items-start gap-4 ${r?"flex-row-reverse":""}`,children:[x.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${r?"bg-gradient-to-br from-blue-500 to-purple-600 text-white":"bg-gradient-to-br from-emerald-500 to-teal-600 text-white"} shadow-lg shadow-black/10 ring-2 ring-white/30`,children:r?x.jsx(vS,{className:"w-5 h-5 drop-shadow"}):x.jsx(Sg,{className:"w-5 h-5 drop-shadow"})}),x.jsxs("div",{className:`flex-1 ${r?"text-right":""}`,children:[x.jsx("div",{className:`inline-block px-4 py-3 rounded-2xl text-sm leading-relaxed ${r?"bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-tr-md shadow-md shadow-blue-900/20":"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border border-gray-200/60 dark:border-gray-700/60 rounded-tl-md shadow-sm"} max-w-[320px] md:max-w-[380px]`,children:x.jsxs("div",{className:"whitespace-pre-wrap break-words",children:[e.content,e.isStreaming&&x.jsx("span",{className:"inline-block w-1.5 h-4 bg-current ml-1 animate-pulse rounded-sm"})]})}),e.role==="assistant"&&e.isStreaming&&x.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),x.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),x.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),x.jsx("span",{className:"ml-2",children:"Thinking..."})]}),t&&x.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 rounded-full",children:[x.jsx("div",{className:"w-1 h-1 bg-emerald-500 rounded-full animate-pulse"}),x.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 text-xs",children:"Tools Ready"})]})]})]})]})}),O9=({isOpen:e,onClose:t,currentBoardId:r,currentBoardName:a,nodes:s=[],setNodes:l,onNodesChange:u,onEdgesChange:d,getLastTwoLayouts:f,addLayout:h,chosenNodeText:g})=>{const[v,w]=M.useState("chat"),[k,A]=M.useState(!1),[N,j]=M.useState([]),[R,$]=M.useState(""),[B,p]=M.useState(!1),[_,b]=M.useState(!1),[S,C]=M.useState(!1),[L,z]=M.useState(!0),U=N.length>50,X=M.useRef(null),Q=M.useRef(null),O=M.useRef(null),q=M.useRef(!0),E=M.useRef(null),{user:V}=AS(),H=Y=>Y.map(K=>({role:K.role,content:K.content}));M.useEffect(()=>{(async()=>{if(!r){j([]);return}C(!0);try{const ne=(await IL(r)).map(fe=>({id:fe.id||`${fe.role}_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,role:fe.role,content:fe.content,isStreaming:!1}));j(ne),setTimeout(()=>{X.current?.scrollIntoView({behavior:"auto"})},0)}catch(K){console.error("Failed to load chat history:",K),j([])}finally{C(!1)}})()},[r]),M.useEffect(()=>{A(e)},[e]);const I=()=>{const Y=O.current;if(!Y)return;const K=Y.scrollHeight-Y.scrollTop-Y.clientHeight<40;q.current=K},D=(Y=!1)=>{if(!q.current)return;const K=Y?"smooth":"auto";X.current?.scrollIntoView({behavior:K})};M.useEffect(()=>{D(!1)},[N.length]);const G=M.useMemo(()=>[{id:"chat",label:"AI Assistant",icon:yS,description:"Chat with AI"},{id:"settings",label:"Settings",icon:Kz,description:"Panel settings"}],[]),te=async Y=>{if(Y.preventDefault(),!R.trim()||B)return;const K=R.trim(),ne=Date.now(),fe={id:`user_${ne}`,role:"user",content:K},he={id:`assistant_${ne}`,role:"assistant",content:"",isStreaming:!0};j(pe=>[...pe,fe,he]),$(""),p(!0),q.current=!0,D(!1);let ye="";try{await DL(K,pe=>{ye+=pe,E.current==null&&(E.current=requestAnimationFrame(()=>{j(ge=>{const je=ge.length-1,Ce=ge[je];if(!Ce||Ce.id!==he.id)return ge;const ot={...Ce,content:ye};return ge.slice(0,je).concat(ot)}),E.current=null}))},a||"",g||"",JSON.stringify(H(N))||"",async()=>{E.current&&cancelAnimationFrame(E.current),E.current=null,j(pe=>pe.map(ge=>ge.id===he.id?{...ge,isStreaming:!1}:ge)),p(!1),D(!0),b(!0);try{r&&await VL(K,ye,r,V?.id)}catch(pe){console.error("Error saving chat conversation:",pe)}finally{b(!1)}},pe=>{console.error("Streaming error:",pe);const ge="Sorry, I encountered an error. Please try again.";j(je=>je.map(Ce=>Ce.id===he.id?{...Ce,content:ge,isStreaming:!1}:Ce)),p(!1)},{enableTools:L,availableTools:RL,currentBoardId:r,onToolCall:async pe=>{try{return await j9(pe,s,l,u,d,void 0,f,h),"Tool executed successfully"}catch(ge){return console.error("Error executing tool:",ge),"Error executing tool"}}})}catch(pe){console.error("Chat error:",pe);const ge="Sorry, I encountered an error. Please try again.";j(je=>je.map(Ce=>Ce.id===he.id?{...Ce,content:ge,isStreaming:!1}:Ce)),p(!1)}setTimeout(()=>{Q.current?.focus()},100)},Z=async()=>{if(r)try{await qL(r),j([])}catch(Y){console.error("Failed to clear chat history:",Y)}},J=()=>{const Y={boardId:r||null,boardName:a||null,exportedAt:new Date().toISOString(),messages:N.map(pe=>({id:pe.id,role:pe.role,content:pe.content}))},K=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),ne=(a||"chat").toLowerCase().replace(/\s+/g,"-"),fe=new Date().toISOString().replace(/[:.]/g,"-"),he=`${ne}-messages-${fe}.json`,ye=document.createElement("a");ye.href=URL.createObjectURL(K),ye.download=he,document.body.appendChild(ye),ye.click(),setTimeout(()=>{URL.revokeObjectURL(ye.href),document.body.removeChild(ye)},0)},ee=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),te(Y))};return x.jsx("div",{className:`fixed top-0 right-0 h-screen z-50
                w-full sm:w-[420px] lg:w-[520px] xl:w-[560px]
                bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl
                border-l border-gray-200/60 dark:border-gray-700/60
                shadow-2xl shadow-gray-900/20
                transition-all duration-300 ease-out motion-reduce:transition-none
                ring-1 ring-white/30 dark:ring-white/10
                overflow-hidden
                ${e?"transform translate-x-0":"transform translate-x-full"}
            `,children:x.jsxs("div",{className:`w-full h-full flex flex-col transition-all duration-300 ease-out motion-reduce:transition-none ${k?"transform translate-x-0 opacity-100":"transform translate-x-full opacity-0"}`,children:[x.jsxs("div",{className:`flex justify-between items-center p-5 border-b border-gray-200/60 dark:border-gray-700/60
                           bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-pink-600/10
                           transition-all duration-400 ease-out motion-reduce:transition-none ${k?"transform translate-y-0 opacity-100":"transform -translate-y-4 opacity-0"}`,children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-purple-900/20 ring-2 ring-white/40",children:x.jsx(Sg,{className:"w-5 h-5 text-white drop-shadow"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"AI Assistant"}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enhanced tools and chat"})]})]}),x.jsx("button",{className:`text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 
                             p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700/50 
                             transition-all duration-200 transform hover:scale-105 motion-reduce:transition-none`,onClick:t,title:"Close panel","aria-label":"Close AI assistant panel",children:x.jsx(Wz,{className:"w-5 h-5"})})]}),x.jsx("div",{className:"px-5 py-3 border-b border-gray-200/60 dark:border-gray-700/60",children:x.jsx("div",{className:"flex space-x-2",children:G.map(Y=>{const K=Y.icon;return x.jsxs("button",{onClick:()=>w(Y.id),className:`
                                        flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200
                                        ${v===Y.id?"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 shadow-sm":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50"}
                                    `,children:[x.jsx(K,{className:"w-4 h-4"}),x.jsx("span",{children:Y.label})]},Y.id)})})}),x.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:v==="chat"?x.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[x.jsxs("div",{ref:O,onScroll:I,className:"flex-1 overflow-y-auto px-5 py-4 space-y-4 scrollbar-thin",children:[S&&x.jsx("div",{className:"text-center py-8",children:x.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500 dark:text-gray-400",children:[x.jsx(Eg,{className:"w-4 h-4 animate-spin"}),x.jsx("span",{className:"text-sm",children:"Loading chat history..."})]})}),!S&&N.length===0&&x.jsxs("div",{className:`text-center mt-6 transition-all duration-500 ease-out motion-reduce:transition-none ${k?"transform translate-y-0 opacity-100":"transform translate-y-8 opacity-0"}`,children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg shadow-purple-900/20 ring-2 ring-white/40",children:x.jsx(Sg,{className:"w-8 h-8 text-white"})}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"AI Assistant Ready"}),x.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-6 max-w-xs mx-auto leading-relaxed",children:"Ask anything. I can also create nodes, concept maps, and flowcharts."}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"mx-auto max-w-xs px-4 py-3 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-xl border border-emerald-200 dark:border-emerald-800 shadow-sm",children:[x.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[x.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),x.jsx("p",{className:"text-xs font-semibold text-emerald-700 dark:text-emerald-300",children:"Node Creation Tools Active"})]}),x.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Knowledge nodes, concept maps, flowcharts"})]}),r?x.jsxs("div",{className:"mx-auto max-w-xs px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl border border-blue-200 dark:border-blue-800 shadow-sm",children:[x.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[x.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),x.jsx("p",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300",children:"Board Connected"})]}),x.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:a}),x.jsx("p",{className:"text-xs text-blue-500 dark:text-blue-500 mt-1",children:"Conversations will be saved"})]}):x.jsxs("div",{className:"mx-auto max-w-xs px-4 py-3 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl border border-amber-200 dark:border-amber-800 shadow-sm",children:[x.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[x.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),x.jsx("p",{className:"text-xs font-semibold text-amber-700 dark:text-amber-300",children:"No Board Selected"})]}),x.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Conversations won't be saved"})]})]})]}),!S&&N.length>0&&x.jsxs("div",{className:"text-xs text-gray-400 mb-2 text-center",children:[N.length," message",N.length!==1?"s":""," ","loaded"]}),N.map(Y=>x.jsx(D9,{message:Y,enableTools:L},Y.id)),x.jsx("div",{ref:X})]}),x.jsxs("div",{className:`border-t border-gray-200/60 dark:border-gray-700/60 ${U?"bg-gray-50 dark:bg-gray-800":"bg-gray-50/40 dark:bg-gray-800/40 backdrop-blur"}`,children:[x.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 px-5 py-3 border-b border-gray-200/60 dark:border-gray-700/60",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"AI Tools"}),x.jsx("button",{onClick:()=>z(!L),className:`relative inline-flex h-5 w-10 items-center rounded-full transition-all duration-200 ${L?"bg-gradient-to-r from-emerald-500 to-emerald-600":"bg-gray-300 dark:bg-gray-600"}`,children:x.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 shadow ${L?"translate-x-6":"translate-x-1"}`})})]}),L&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),x.jsx("span",{className:"text-xs text-emerald-600 dark:text-emerald-400 font-medium",children:"Active"})]})]}),x.jsxs("div",{className:"p-5",children:[L&&R.length===0&&N.length===0&&x.jsxs("div",{className:"mb-3",children:[x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Try asking:"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:["Create a concept map about AI","Make a flowchart for user login","Build nodes on machine learning"].map((Y,K)=>x.jsx("button",{onClick:()=>$(Y),className:`text-xs px-3 py-1.5 bg-white/70 dark:bg-gray-700/70 text-gray-600 dark:text-gray-300 
                                                             rounded-full hover:bg-white dark:hover:bg-gray-600 transition-all duration-200 
                                                             border border-gray-200/60 dark:border-gray-600/60 backdrop-blur-sm`,children:Y},K))})]}),x.jsxs("div",{className:"flex items-end gap-3",children:[x.jsxs("div",{className:"flex-1 relative",children:[x.jsx("textarea",{ref:Q,value:R,onChange:Y=>$(Y.target.value),onKeyDown:ee,placeholder:"Ask me anything...",disabled:B,rows:1,className:`w-full px-4 py-3 pr-12 border border-gray-300/60 dark:border-gray-600/60 rounded-xl 
                                                         ${U?"bg-white dark:bg-gray-800":"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm"} text-gray-900 dark:text-white text-sm
                                                         focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50
                                                         disabled:opacity-50 disabled:cursor-not-allowed
                                                         placeholder-gray-500 dark:placeholder-gray-400
                                                         resize-none min-h-[48px] max-h-24
                                                         transition-all duration-200`,style:{height:"auto",minHeight:"48px"},onInput:Y=>{const K=Y.target;K.style.height="auto",K.style.height=Math.min(K.scrollHeight,96)+"px"}}),R.length>100&&x.jsx("div",{className:"absolute bottom-2 right-12 text-xs text-gray-400",children:R.length})]}),x.jsx("button",{onClick:te,disabled:!R.trim()||B,className:`p-3 bg-gradient-to-r from-blue-500 to-purple-600 
                                                     hover:from-blue-600 hover:to-purple-700
                                                     disabled:from-gray-400 disabled:to-gray-500
                                                     text-white rounded-xl transition-all duration-200
                                                     disabled:cursor-not-allowed hover:shadow-md
                                                     min-w-[48px] min-h-[48px] flex items-center justify-center
                                                     transform hover:scale-105 disabled:transform-none shadow-lg shadow-purple-900/20`,children:B?x.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):x.jsx(Yz,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:"flex items-center justify-between mt-3 min-h-[16px]",children:[x.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Press Enter to send • Shift+Enter for new line"}),_&&x.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400",children:[x.jsx(Eg,{className:"w-3 h-3 animate-spin"}),x.jsx("span",{children:"Saving..."})]})]})]})]})]}):x.jsx("div",{className:`flex-1 overflow-y-auto p-5 transition-all duration-500 ease-out motion-reduce:transition-none ${k?"transform translate-y-0 opacity-100":"transform translate-y-4 opacity-0"}`,children:x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl border border-gray-200/60 dark:border-gray-700/60 p-5 shadow-sm",children:[x.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[x.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center mr-3 shadow ring-2 ring-white/40",children:x.jsx(vS,{className:"w-3.5 h-3.5 text-white"})}),"Current Board"]}),r?x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"px-4 py-3 bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-sm rounded-xl border border-blue-200/60 dark:border-blue-800/60",children:[x.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:a||"Unnamed Board"}),x.jsxs("p",{className:"text-xs text-blue-600/70 dark:text-blue-400/70 mt-1 font-mono",children:["ID: ",r]})]}),x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 bg-gray-50/60 dark:bg-gray-700/30 rounded-lg px-3 py-2",children:[x.jsx("span",{children:"Active Nodes"}),x.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:s.length})]})]}):x.jsx("div",{className:"px-4 py-3 bg-amber-50/80 dark:bg-amber-900/20 backdrop-blur-sm rounded-xl border border-amber-200/60 dark:border-amber-800/60",children:x.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"No board selected"})})]}),x.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl border border-gray-200/60 dark:border-gray-700/60 p-5",children:[x.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"Actions"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsx("button",{onClick:J,disabled:N.length===0,className:"text-left px-4 py-3 text-sm bg-gray-50/80 hover:bg-gray-100 dark:bg-gray-700/40 dark:hover:bg-gray-600/50 rounded-xl transition-all duration-200 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 border border-gray-200/40 dark:border-gray-600/40 group disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full group-hover:scale-125 transition-transform duration-200"}),x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx(Oz,{className:"w-4 h-4"})," ","Export Chat (JSON)"]})]})}),x.jsx("button",{onClick:Z,disabled:!r||N.length===0,className:"text-left px-4 py-3 text-sm bg-red-50/80 hover:bg-red-100/80 dark:bg-red-900/20 dark:hover:bg-red-800/30 rounded-xl transition-all duration-200 text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-100 border border-red-200/40 dark:border-red-600/40 group disabled:opacity-50 disabled:cursor-not-allowed",children:x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full group-hover:scale-125 transition-transform duration-200"}),x.jsx("span",{children:"Clear Chat History"})]})})]})]}),x.jsxs("div",{className:"bg-gradient-to-br from-emerald-50/80 to-teal-50/80 dark:from-emerald-900/20 dark:to-teal-900/20 backdrop-blur-sm rounded-2xl border border-emerald-200/60 dark:border-emerald-800/60 p-5",children:[x.jsxs("h3",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-300 mb-3 flex items-center",children:[x.jsx("span",{className:"text-base mr-2",children:"🤖"}),"AI Capabilities"]}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 text-xs text-emerald-600 dark:text-emerald-400",children:[x.jsxs("div",{className:"flex items-center space-x-2 bg-white/40 dark:bg-gray-800/40 rounded-lg p-2 backdrop-blur-sm",children:[x.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),x.jsx("span",{children:"Knowledge nodes"})]}),x.jsxs("div",{className:"flex items-center space-x-2 bg-white/40 dark:bg-gray-800/40 rounded-lg p-2 backdrop-blur-sm",children:[x.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),x.jsx("span",{children:"Concept maps"})]}),x.jsxs("div",{className:"flex items-center space-x-2 bg-white/40 dark:bg-gray-800/40 rounded-lg p-2 backdrop-blur-sm",children:[x.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse",style:{animationDelay:"1s"}}),x.jsx("span",{children:"Flowcharts"})]}),x.jsxs("div",{className:"flex items-center space-x-2 bg-white/40 dark:bg-gray-800/40 rounded-lg p-2 backdrop-blur-sm",children:[x.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse",style:{animationDelay:"1.5s"}}),x.jsx("span",{children:"Q&A Support"})]})]})]})]})})})]})})},z9=(e,t)=>e.isOpen===t.isOpen&&e.onClose===t.onClose&&e.currentBoardId===t.currentBoardId&&e.currentBoardName===t.currentBoardName&&e.chosenNodeText===t.chosenNodeText&&e.nodes===t.nodes&&e.setNodes===t.setNodes&&e.onNodesChange===t.onNodesChange&&e.onEdgesChange===t.onEdgesChange&&e.getLastTwoLayouts===t.getLastTwoLayouts&&e.addLayout===t.addLayout,L9=le.memo(O9,z9),P9=({onClick:e,isOpen:t})=>t?null:x.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 z-40 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full hover:shadow-xl transition-all duration-200 flex items-center justify-center",title:"Open AI Assistant",children:x.jsx(yS,{className:"w-5 h-5"})}),$9=({onPeriodicSave:e,saveInterval:t=2e4})=>{const r=M.useRef(Date.now()),a=M.useRef(null),s=M.useRef(!document.hidden),l=M.useRef(!0),u=M.useCallback(()=>{s.current&&(r.current=Date.now(),l.current=!0)},[]),d=M.useCallback(()=>s.current?Date.now()-r.current<3e4:!1,[]),f=M.useCallback(async()=>{if(d())try{await e(),console.log("Periodic save completed successfully")}catch(h){console.error("Periodic save failed:",h)}else console.log("User inactive or tab hidden, skipping periodic save");a.current=setTimeout(f,t)},[e,t,d]);return M.useEffect(()=>{const h=()=>{const j=s.current;s.current=!document.hidden,s.current&&!j?(u(),console.log("Tab became visible, resuming activity tracking")):!s.current&&j&&console.log("Tab became hidden, pausing activity tracking")};let g=null;const v=()=>{g||(g=setTimeout(()=>{u(),g=null},1e3))},w=()=>{u()},k=()=>{u()},A=()=>{document.addEventListener("mousemove",v,{passive:!0}),document.addEventListener("keydown",w,{passive:!0}),document.addEventListener("click",k,{passive:!0})},N=()=>{document.removeEventListener("mousemove",v),document.removeEventListener("keydown",w),document.removeEventListener("click",k),g&&(clearTimeout(g),g=null)};return document.addEventListener("visibilitychange",h),s.current&&A(),a.current=setTimeout(f,t),()=>{document.removeEventListener("visibilitychange",h),N(),a.current&&clearTimeout(a.current)}},[e,t,u,f]),null},C1={default:{border:"border-gray-400",ring:"ring-gray-100 dark:ring-gray-500/30",placeholder:"Enter your text...",Icon:$z,color:"#6b7280"},explain:{border:"border-blue-400",ring:"ring-blue-100 dark:ring-blue-500/30",placeholder:"Explain this concept...",Icon:Uz,color:"#3b82f6"},answer:{border:"border-emerald-400",ring:"ring-emerald-100 dark:ring-emerald-500/30",placeholder:"Answer this question...",Icon:Hz,color:"#10b981"},argue:{border:"border-rose-400",ring:"ring-rose-100 dark:ring-rose-500/30",placeholder:"Argue this point...",Icon:Lz,color:"#f43f5e"},quiz:{border:"border-emerald-400",ring:"ring-emerald-100 dark:ring-emerald-500/30",placeholder:"Create quiz about...",Icon:Pc,color:"#10b981"}};function B9({data:e}){const t=e.isQuizMode?"quiz":"default",[r,a]=M.useState(t),s=M.useRef(null),[l,u]=M.useState(e.label||""),d=e.isQuizMode?["quiz"]:["default","explain","answer","argue"];M.useEffect(()=>{e.isDragConent&&e.onNodeCallback&&e.onNodeCallback(e.label)},[e.isDragConent]),M.useEffect(()=>{const j=s.current;if(!j)return;const R=setTimeout(()=>{j.focus()},100),$=new IntersectionObserver(([B])=>{B.isIntersecting&&(j.focus(),$.disconnect())},{threshold:.1});return $.observe(j),()=>{clearTimeout(R),$.disconnect()}},[]);const f=j=>{j.preventDefault();const R=l.trim();R&&(e.isQuizMode&&e.onQuizCreate?e.onQuizCreate(R):e.onNodeCallback&&e.onNodeCallback(R))},h=j=>{if(!e.isQuizMode&&(j.key==="ArrowUp"||j.key==="ArrowDown")){j.preventDefault();const R=d.indexOf(r);let $;j.key==="ArrowUp"?$=R>0?R-1:d.length-1:$=R<d.length-1?R+1:0,a(d[$])}},g=C1[r]||C1.default,{border:v,ring:w,placeholder:k,color:A}=g,N=g.Icon;return x.jsxs("div",{className:`relative bg-white dark:bg-gray-900 rounded-xl px-4 py-3 min-w-[200px] border transition-all duration-300 ease-in-out ${v} ring-1 ${w}`,style:{borderColor:A},children:[x.jsxs("form",{onSubmit:f,className:"flex items-center gap-2",children:[x.jsx("div",{className:"transition-all duration-300 ease-in-out transform hover:scale-110",children:x.jsx(N,{size:18,className:"shrink-0 transition-colors duration-300 ease-in-out animate-pulse",style:{color:A}})}),x.jsx("input",{ref:s,value:l,onChange:j=>u(j.target.value),onKeyDown:h,placeholder:k,className:"flex-1 bg-transparent outline-none text-sm placeholder-gray-400 dark:placeholder-gray-500 caret-black dark:caret-white text-gray-900 dark:text-gray-100 transition-all duration-300",style:{caretColor:A}})]}),x.jsx("div",{className:"absolute -top-2 -right-2 px-2 py-1 text-xs font-semibold text-white rounded-full transition-all duration-300 ease-in-out",style:{backgroundColor:A},children:r}),x.jsx(Vt,{type:"target",position:ve.Top}),x.jsx(Vt,{type:"source",position:ve.Bottom})]})}const MS=e=>!!(e&&e.uid),ba=[{id:"1",type:"staticEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",title:"AI & Natural Language",suggestions:["Machine Learning","Neural Networks","Deep Learning"],tokenColors:{},previousNode:null},position:{x:250,y:25},draggable:!1}],wa=[],Il=()=>new Date().toISOString(),U9=async e=>{if(!MS({uid:e}))throw new Error(Zt.AUTH_REQUIRED);const{data:t,error:r}=await We.from(qn.BOARDS).select("id,user_id,name,created_at,is_open,updated_at").eq("user_id",e).order("created_at",{ascending:!1});if(r)throw new Error(Zt.LOAD_FAILED);if(!t||t.length===0){const a={id:`board_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,name:"Default Board",createdAt:Il(),isOpen:!0},{error:s}=await We.from(qn.BOARDS).insert({id:a.id,user_id:a.userId,name:a.name,created_at:a.createdAt,is_open:a.isOpen});if(s)throw new Error(Zt.LOAD_FAILED);return[a]}return t.map(a=>({id:a.id,userId:a.user_id,name:a.name,createdAt:a.created_at,isOpen:!!a.is_open,updatedAt:a.updated_at??void 0}))},Sm=async e=>{if(!e)return ba;const{data:t,error:r}=await We.from(qn.NODES).select("id,board_id,type,data,position,draggable,style,updated_at").eq("board_id",e);return r||!t||t.length===0?ba:t.map(a=>({id:a.id,type:a.type,data:{...a.data||{},tokenColors:a.data?.tokenColors||{},previousNode:a.data?.previousNode??null},position:a.position,draggable:a.draggable??void 0,style:a.style??void 0,updatedAt:a.updated_at??void 0}))},Em=async e=>{if(!e)return wa;const{data:t,error:r}=await We.from(qn.EDGES).select("id,board_id,source,target,source_handle,target_handle,style,marker_end,updated_at").eq("board_id",e);return r||!t||t.length===0?wa:t.map(a=>({id:a.id,source:a.source,target:a.target,sourceHandle:a.source_handle??void 0,targetHandle:a.target_handle??void 0,style:a.style??void 0,markerEnd:a.marker_end??void 0,updatedAt:a.updated_at??void 0}))},km=async(e,t)=>{if(!e||!Array.isArray(t)||t.length===0)return;const r=t.map(s=>({id:s.id,board_id:e,type:s.type,data:s.data,position:s.position,draggable:s.draggable??null,style:s.style??null,updated_at:Il()})),{error:a}=await We.from(qn.NODES).upsert(r,{onConflict:"id"});if(a)throw new Error(Zt.SAVE_FAILED)},Tm=async(e,t)=>{if(!e||!Array.isArray(t))return;const r=(t||[]).map(s=>({id:s.id,board_id:e,source:s.source,target:s.target,source_handle:s.sourceHandle??null,target_handle:s.targetHandle??null,style:s.style??null,marker_end:s.markerEnd??null,updated_at:Il()}));if(r.length===0)return;const{error:a}=await We.from(qn.EDGES).upsert(r,{onConflict:"id"});if(a)throw new Error(Zt.SAVE_FAILED)},V9=async(e,t,r)=>{if(!MS({uid:e}))throw new Error(Zt.AUTH_REQUIRED);const a={id:`board_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,userId:e,name:t||`Board ${r.length+1}`,createdAt:Il(),isOpen:!1},{error:s}=await We.from(qn.BOARDS).insert({id:a.id,user_id:a.userId,name:a.name,created_at:a.createdAt,is_open:a.isOpen});if(s)throw new Error("Failed to create board. Please try again.");return a},H9=async e=>{if(!e)throw new Error("Board ID is required for deletion");const{error:t}=await We.from(qn.NODES).delete().eq("board_id",e);if(t)throw t;const{error:r}=await We.from(qn.EDGES).delete().eq("board_id",e);if(r)throw r;const{error:a}=await We.from(qn.BOARDS).delete().eq("id",e);if(a)throw a},ys=async(e,t)=>{if(!e||!t)throw new Error("Board ID and updates are required");const r={updated_at:Il()};typeof t.name=="string"&&(r.name=t.name),typeof t.isOpen=="boolean"&&(r.is_open=t.isOpen);const{error:a}=await We.from(qn.BOARDS).update(r).eq("id",e);if(a)throw a},I9=(e,{showSuccess:t,showError:r}={})=>{const[a,s,l]=CN(ba),[u,d,f]=NN(wa),[h,g]=M.useState([]),[v,w]=M.useState(null),[k,A]=M.useState(!0),[N,j]=M.useState(!1),[R,$]=M.useState(!1),B=M.useRef([]),p=M.useRef(!1),_=M.useRef(new Set),b=M.useRef(new Set),S=M.useRef(null),C=Y=>{const K=Y.find(ne=>ne.isOpen===!0);if(K)return K;if(Y.length>0){const ne={...Y[0],isOpen:!0};return ys(ne.id,ne).catch(console.error),ne}return null},L=M.useCallback(async()=>{if(!v||v.isFallback||k||N)return;const Y=Array.from(_.current),K=Array.from(b.current);if(!(Y.length===0&&K.length===0))try{$(!0);const ne=Y.map(ye=>a.find(pe=>pe.id===ye)).filter(ye=>ye!==void 0),fe=K.map(ye=>u.find(pe=>pe.id===ye)).filter(ye=>ye!==void 0),he=[];ne.length>0&&he.push(km(v.id,ne)),fe.length>0&&he.push(Tm(v.id,fe)),await Promise.all(he),_.current.clear(),b.current.clear(),console.log(`Saved: ${ne.length} nodes, ${fe.length} edges`)}catch(ne){console.error("Save failed:",ne),r&&r("Failed to save changes")}finally{$(!1)}},[v,k,N,a,u,r]),z=M.useCallback(()=>{S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{L()},2e3)},[L]),U=M.useCallback(Y=>{s(K=>{const ne=typeof Y=="function"?Y(K):Y,fe=new Set(K.map(ge=>ge.id)),he=new Set(ne.map(ge=>ge.id));let ye=!1;ne.forEach(ge=>{fe.has(ge.id)||(_.current.add(ge.id),ye=!0)}),K.forEach(ge=>{he.has(ge.id)||(_.current.delete(ge.id),ye=!0)});const pe=new Map(ne.map(ge=>[ge.id,ge]));return K.forEach(ge=>{const je=pe.get(ge.id);je&&je!==ge&&(_.current.add(ge.id),ye=!0)}),ye&&z(),ne})},[s,z]),X=M.useCallback(Y=>{d(K=>{const ne=typeof Y=="function"?Y(K):Y,fe=new Set(K.map(pe=>pe.id)),he=new Set(ne.map(pe=>pe.id));let ye=!1;return ne.forEach(pe=>{fe.has(pe.id)||(b.current.add(pe.id),ye=!0)}),K.forEach(pe=>{he.has(pe.id)||(b.current.delete(pe.id),ye=!0)}),ye&&z(),ne})},[d,z]),Q=M.useCallback(Y=>{console.log("Node changes:",Y),l(Y);let K=!1;Y.forEach(ne=>{if(ne.type==="select")return;if(ne.type==="add"&&ne.item?.id){_.current.add(ne.item.id),K=!0,console.log("Added node to pending:",ne.item.id);return}if(ne.type==="remove"&&ne.id){_.current.delete(ne.id),K=!0,console.log("Removed node from pending:",ne.id);return}const fe=ne.id||ne.item?.id;fe&&(_.current.add(fe),K=!0)}),K&&(console.log("Scheduling individual save due to node changes"),z())},[l,z]),O=M.useCallback(Y=>{f(Y);let K=!1;Y.forEach(ne=>{ne.type==="add"?ne.item?.id&&(b.current.add(ne.item.id),K=!0):ne.type==="remove"&&ne.id&&(b.current.delete(ne.id),K=!0)}),K&&z()},[f,z]),q=M.useCallback(async()=>{if(!e?.id){A(!1);return}if(p.current&&h.length>0){A(!1);return}try{A(!0),console.log("Loading boards for user:",e.id);const Y=await U9(e.id);console.log("Fetched boards:",Y),g(Y);const K=C(Y);if(K){console.log("Setting current board:",K),w(K);const[ne,fe]=await Promise.all([Sm(K.id),Em(K.id)]);console.log("Loaded nodes:",ne.length,"edges:",fe.length),U(ne),X(fe)}else console.log("No open board found, using initial data"),w(null),U(ba),X(wa);p.current=!0}catch(Y){console.error("Failed to load boards:",Y),r&&r(Zt.LOAD_FAILED),g([]),w(null),U(ba),X(wa)}finally{A(!1)}},[e?.id,r,U,X,h.length]);M.useEffect(()=>{q()},[q]);const E=M.useCallback(async()=>{p.current=!1,_.current.clear(),b.current.clear(),await q()},[q]);M.useEffect(()=>()=>{S.current&&clearTimeout(S.current)},[]);const V=M.useCallback(async()=>{if(!v||v.isFallback||k||N)return;const Y=_.current.size>0||b.current.size>0;if(!Y&&!R){console.log("Periodic save skipped - no pending changes detected");return}try{$(!0),Y?await L():(await km(v.id,a),await Tm(v.id,u)),console.log("Periodic save completed successfully")}catch(K){console.error("Periodic save failed:",K),r&&r("Failed to save board changes")}finally{$(!1)}},[v,k,N,a,u,R,L,r]),H=M.useCallback(async Y=>{if(!(!Y||v?.id===Y)){_.current.clear(),b.current.clear(),j(!0);try{const K=h.find(he=>he.id===Y)||null;if(!K)throw new Error(Zt.BOARD_NOT_FOUND);console.log("Switching to board:",K),w(K);const[ne,fe]=await Promise.all([Sm(Y),Em(Y)]);console.log("Loaded for switch - nodes:",ne.length,"edges:",fe.length),U(ne),X(fe),await ys(Y,{isOpen:!0}),v&&v.id!==Y&&await ys(v.id,{isOpen:!1}),g(he=>he.map(ye=>({...ye,isOpen:ye.id===Y})))}catch(K){console.error("Failed to switch board:",K),r&&r(Zt.LOAD_FAILED)}finally{j(!1)}}},[h,v,U,X,r]),I=M.useCallback(async Y=>{if(!e?.id)return null;try{const K=await V9(e.id,Y||null,h),ne=[K,...h.map(pe=>({...pe,isOpen:!1}))];g(ne),w(K);const fe=await TS(Y||"New Board"),he=[{id:"1",type:"staticEditable",data:{label:K.name,full_text:K.name,title:K.name,suggestions:fe,tokenColors:{},previousNode:null},position:{x:0,y:0},draggable:!1}],ye=[];console.log("New board loaded - nodes:",he.length,"edges:",ye.length),U(he),X(ye),await ys(K.id,{isOpen:!0}),v&&await ys(v.id,{isOpen:!1});try{await km(K.id,he),ye.length>0&&await Tm(K.id,ye)}catch(pe){console.error("Failed to persist initial board state:",pe)}return t&&t(xm.BOARD_CREATED),K}catch(K){return console.error("Failed to create board:",K),r&&r(Zt.SAVE_FAILED),null}},[e?.id,h,v,U,X,t,r]),D=M.useCallback(async Y=>{if(Y)try{if(await H9(Y),g(K=>K.filter(ne=>ne.id!==Y)),v?.id===Y){const K=h.find(ne=>ne.id!==Y)||null;if(w(K),K){const[ne,fe]=await Promise.all([Sm(K.id),Em(K.id)]);U(ne),X(fe)}else U(ba),X(wa)}t&&t(xm.BOARD_DELETED)}catch{r&&r(Zt.SAVE_FAILED)}},[v,h,U,X,t,r]),G=M.useCallback(async Y=>{if(v)try{await ys(v.id,{name:Y}),w(K=>K&&{...K,name:Y}),g(K=>K.map(ne=>ne.id===v.id?{...ne,name:Y}:ne)),t&&t(xm.BOARD_RENAMED)}catch{r&&r(Zt.SAVE_FAILED)}},[v,t,r]),te=M.useCallback(()=>{U(ba),X(wa),g([]),w(null)},[U,X]),Z=M.useCallback(()=>B.current.slice(-2),[]),J=M.useCallback(Y=>{B.current=[...B.current,Y].slice(-2)},[]);return{nodes:a,edges:u,allBoards:h,currentBoard:v,isLoading:k,isSwitchingBoard:N,isSaving:R,onNodesChange:Q,onEdgesChange:O,setNodes:U,setEdges:X,switchToBoard:H,createNewBoard:I,deleteBoard:D,updateBoardName:G,clearBoardState:te,saveNewNodeContent:L,performPeriodicSave:V,forceRefreshBoards:E,getLastTwoLayouts:Z,addLayout:J}},q9=()=>{const[e,t]=M.useState([]),r=h=>{t(g=>g.filter(v=>v.id!==h))},a=h=>{const g=`notification_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,v={id:g,timestamp:new Date,...h};return t(w=>[...w,v]),h.autoRemove!==!1&&setTimeout(()=>{r(g)},h.duration||5e3),g};return{notifications:e,addNotification:a,removeNotification:r,clearAllNotifications:()=>{t([])},showSuccess:(h,g={})=>a({type:"success",message:h,...g}),showError:(h,g={})=>a({type:"error",message:h,duration:7e3,...g}),showInfo:(h,g={})=>a({type:"info",message:h,...g}),showWarning:(h,g={})=>a({type:"warning",message:h,duration:6e3,...g})}},G9=6,Y9=({dragState:e,handleOrigin:t,getParentCenter:r})=>{if(!e.isDragging||typeof window>"u")return null;const a=t||r();return zm.createPortal(x.jsxs(x.Fragment,{children:[x.jsxs("svg",{className:"fixed inset-0 pointer-events-none z-[9998]",width:"100vw",height:"100vh",children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"connectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[x.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.8"}),x.jsx("stop",{offset:"100%",stopColor:"#1d4ed8",stopOpacity:"1"})]})}),x.jsx("line",{x1:a.x,y1:a.y,x2:e.x,y2:e.y,stroke:"url(#connectionGradient)",strokeWidth:3,strokeLinecap:"round",strokeDasharray:"5,5",style:{opacity:.7,animation:"quizLineFade 1.2s ease-in-out infinite"}}),x.jsx("style",{children:`
                        @keyframes quizLineFade {
                            0% { opacity: 0.7; }
                            50% { opacity: 1; }
                            100% { opacity: 0.7; }
                        }
                    `})]}),x.jsx("div",{className:"fixed pointer-events-none z-[9999] transform -translate-x-1/2 -translate-y-1/2",style:{left:e.x,top:e.y},children:x.jsx("div",{className:`px-4 py-2 rounded-lg font-medium text-white 
                               bg-gradient-to-r from-blue-600 to-blue-700 backdrop-blur-sm
                               border border-blue-500/30 animate-bounce`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(wd,{size:14,className:"animate-spin"}),e.suggestion]})})})]}),document.body)},F9=({suggestion:e,index:t,position:r,style:a,isHidden:s,onDragStart:l})=>{const u=d=>{d.stopPropagation(),d.preventDefault(),d.button===0&&l(e,d.nativeEvent)};return x.jsx("div",{className:`absolute z-10 select-none transition-all duration-200 ease-out ${s?"opacity-0 scale-95":"opacity-100 scale-100"}`,style:{...a,[r===ve.Right?"right":"left"]:"-12px",transform:"translateY(-50%)"},onPointerDown:u,draggable:!1,children:x.jsxs("div",{className:`group relative flex items-center justify-center w-8 h-8
                          bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200
                          dark:from-blue-950 dark:to-blue-900 dark:hover:from-blue-900 dark:hover:to-blue-800
                          border-2 border-blue-200 hover:border-blue-300 
                          dark:border-blue-700 dark:hover:border-blue-600
                          rounded-full cursor-grab active:cursor-grabbing 
                          hover:shadow-md transition-all duration-200 ease-out 
                          hover:scale-110 active:scale-95`,title:e,onPointerDown:u,draggable:!1,children:[x.jsx(wd,{size:16,className:`text-blue-600 dark:text-blue-400 transition-transform duration-200 
                             group-hover:rotate-12 group-active:rotate-45`}),x.jsxs("div",{className:`absolute z-20 px-3 py-1.5 text-xs font-medium text-white 
                              bg-gray-900/90 rounded-md
                              opacity-0 group-hover:opacity-100 pointer-events-none
                              transition-opacity duration-200 ease-out whitespace-nowrap
                              transform -translate-y-1/2`,style:{[r===ve.Right?"left":"right"]:"calc(100% + 8px)",top:"50%"},children:[e,x.jsx("div",{className:`absolute w-0 h-0 top-1/2 transform -translate-y-1/2
                                   border-t-[4px] border-b-[4px] border-t-transparent border-b-transparent
                                   ${r===ve.Right?"border-r-[4px] border-r-gray-900/90 -left-1":"border-l-[4px] border-l-gray-900/90 -right-1"}`})]}),x.jsx(Vt,{type:"source",position:r,id:e,className:"opacity-0"})]})},`${e}-${t}`)};function jS({suggestions:e,dragState:t,handleDragStart:r,handleOrigin:a,getParentCenter:s,displayLine:l}){if(!e?.length)return null;const u=e.slice(0,G9),d=(f,h)=>{if(h===1)return{position:ve.Right,style:{top:"50%"}};const g=f<Math.ceil(h/2),v=g?ve.Right:ve.Left,w=g?f:f-Math.ceil(h/2),k=g?Math.ceil(h/2):Math.floor(h/2),A=k===1?50:w/(k-1)*60+20;return{position:v,style:{top:`${A}%`}}};return x.jsxs(x.Fragment,{children:[u.map((f,h)=>{const{position:g,style:v}=d(h,u.length),w=t.isDragging&&t.suggestion===f;return x.jsx(F9,{suggestion:f,index:h,position:g,style:v,isHidden:w,onDragStart:r},`${f}-${h}`)}),l&&x.jsx(Y9,{dragState:t,handleOrigin:a,getParentCenter:s})]})}function K9(){return x.jsxs(x.Fragment,{children:[x.jsx(Vt,{style:{transform:"translateY(-150%)"},type:"source",position:ve.Bottom,id:"bottom-source"}),x.jsx(Vt,{style:{transform:"translateY(100%)"},type:"target",position:ve.Top,id:"top-target"}),x.jsx(Vt,{style:{transform:"translateY(100%)"},type:"source",position:ve.Left,id:"left-source"}),x.jsx(Vt,{style:{transform:"translateY(100%)"},type:"target",position:ve.Left,id:"left-target"}),x.jsx(Vt,{style:{transform:"translateY(100%)"},type:"source",position:ve.Right,id:"right-source"}),x.jsx(Vt,{style:{transform:"translateY(100%)"},type:"target",position:ve.Right,id:"right-target"})]})}function X9({data:e,id:t}){const{screenToFlowPosition:r}=Pl(),a=M.useRef(null),[s,l]=M.useState({suggestion:"",x:0,y:0,isDragging:!1}),u=M.useRef(s);M.useEffect(()=>{u.current=s},[s]);const[d,f]=M.useState(null),h=M.useCallback(()=>{if(!a.current)return{x:0,y:0};const N=a.current.getBoundingClientRect();return{x:N.left+N.width/2,y:N.top+N.height/2}},[]),g=M.useCallback((N,j)=>{const $=j.target.getBoundingClientRect();f({x:$.left+$.width/2,y:$.top+$.height/2}),l({suggestion:N,x:j.clientX,y:j.clientY,isDragging:!0}),document.addEventListener("pointermove",v),document.addEventListener("pointerup",w)},[]),v=M.useCallback(N=>{l(j=>j.isDragging?{...j,x:N.clientX,y:N.clientY}:j)},[]),w=M.useCallback(()=>{const N=u.current;if(N.isDragging&&e.onNodeCallback){const j=r({x:N.x,y:N.y});e.onNodeCallback(N.suggestion||void 0,t,j)}l({suggestion:"explain",x:0,y:0,isDragging:!1}),f(null),document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",w)},[e.onNodeCallback,t,r]),k=M.useMemo(()=>{if(!e.myColor)return!0;const N=e.myColor.replace(/^#/,""),j=parseInt(N.substring(0,2),16),R=parseInt(N.substring(2,4),16),$=parseInt(N.substring(4,6),16);return(.299*j+.587*R+.114*$)/255>.5},[e.myColor]),A=M.useMemo(()=>k?{background:e.myColor?`linear-gradient(135deg, ${e.myColor}f0, ${e.myColor}e0)`:"linear-gradient(135deg, #ffffff, #fafafa)",borderColor:e.myColor?`${e.myColor}60`:"rgba(229, 231, 235, 0.6)",color:"#1f2937",transform:"translateZ(0)",willChange:"transform",backfaceVisibility:"hidden"}:{background:"#000000",borderColor:"rgba(255, 255, 255, 0.1)",color:"#f8faff",transform:"translateZ(0)",willChange:"transform",backfaceVisibility:"hidden"},[e.myColor,k]);return x.jsxs("div",{ref:a,className:`group relative border rounded-3xl min-w-[320px] max-w-[640px] 
                       cursor-grab select-none transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]
                       ${k?"bg-white/95 border-gray-200/60 hover:border-gray-300/80":"bg-black border-white/10 hover:border-white/20"}`,style:A,children:[x.jsxs("div",{className:"relative p-6",children:[x.jsx("header",{className:"flex flex-col items-center gap-4 mb-6",children:x.jsxs("div",{className:"flex items-center gap-3 group/header",children:[e.icon?x.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-2xl border backdrop-blur-sm
                                           transition-transform duration-200 ease-out group-hover/header:scale-105
                                           ${k?"bg-white/50 border-white/80":"bg-white/10 border-white/20"}`,children:x.jsx("span",{className:"text-2xl",dangerouslySetInnerHTML:{__html:e.icon}})}):x.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 text-white 
                                           transition-transform duration-200 ease-out group-hover/header:scale-105`,children:x.jsx(wd,{className:"w-6 h-6"})}),x.jsx("h2",{className:`text-2xl font-bold tracking-tight transition-colors duration-200
                                       ${k?"text-gray-900 group-hover/header:text-gray-700":"text-gray-100 group-hover/header:text-gray-300"}`,children:e.label||e.title||"Node"})]})}),e.suggestions&&e.suggestions.length>0&&x.jsx(jS,{suggestions:e.suggestions,dragState:s,handleDragStart:g,handleOrigin:d,getParentCenter:h,displayLine:!0})]}),x.jsx(K9,{})]})}const Z9=M.memo(X9),Q9=({size:e="medium",color:t="#4f86f7"})=>{const r={small:"w-4 h-4 border-2",medium:"w-8 h-8 border-3",large:"w-12 h-12 border-4"};return x.jsx("div",{className:"flex items-center justify-center",children:x.jsx("div",{className:`${r[e]} border-gray-200 dark:border-gray-700 border-t-indigo-500 dark:border-t-indigo-400 rounded-full animate-spin`,style:{borderTopColor:t}})})};function W9(e){return x.jsx(x.Fragment,{children:x.jsx(Vt,{style:{transform:"translateY(-150%)"},type:"source",position:ve.Bottom,id:e.label+"1"})})}function J9({data:e,id:t}){M.useEffect(()=>{e.layout||(e.layout=1)},[e.layout]);const{screenToFlowPosition:r}=Pl(),a=M.useRef(null),s=M.useRef(null),[l,u]=M.useState({suggestion:"",x:0,y:0,isDragging:!1}),d=M.useRef(l);M.useEffect(()=>{d.current=l},[l]);const[f,h]=M.useState(null);M.useEffect(()=>{d.current=l},[l]);const g=M.useMemo(()=>e.contents&&e.contents.length>0?e.contents[0]?x.jsx("div",{className:"node-rich-content w-full",dangerouslySetInnerHTML:{__html:e.contents[0]}}):x.jsx("div",{className:"text-center py-8 text-gray-500",children:x.jsx("p",{children:"No content available"})}):e.isLoading?x.jsxs("div",{className:"flex items-center justify-center gap-3 py-6",children:[x.jsx(Q9,{}),x.jsx("span",{className:"text-slate-400 text-sm",children:"Generating content..."})]}):null,[e.contents,e.isLoading]),v=M.useCallback(()=>{if(!a.current)return{x:0,y:0};const S=a.current.getBoundingClientRect();return{x:S.left+S.width/2,y:S.top+S.height/2}},[]),w=M.useCallback((S,C)=>{const z=C.target.getBoundingClientRect();h({x:z.left+z.width/2,y:z.top+z.height/2}),u({suggestion:S,x:C.clientX,y:C.clientY,isDragging:!0}),document.addEventListener("pointermove",k),document.addEventListener("pointerup",A)},[]),k=M.useCallback(S=>{u(C=>C.isDragging?{...C,x:S.clientX,y:S.clientY}:C)},[]),A=M.useCallback(()=>{const S=d.current;if(S.isDragging&&e.onNodeCallback){const C=r({x:S.x,y:S.y});e.onNodeCallback(S.suggestion||void 0,t,C)}u({suggestion:"explain",x:0,y:0,isDragging:!1}),h(null),document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",A)},[e.onNodeCallback,t,r]),N=M.useCallback(S=>{const L=S.target.getBoundingClientRect();h({x:L.left+L.width/2,y:L.top+L.height/2}),u({suggestion:"quiz",x:S.clientX,y:S.clientY,isDragging:!0}),document.addEventListener("pointermove",k),document.addEventListener("pointerup",j)},[]),j=M.useCallback(()=>{const S=d.current;if(S.isDragging&&e.onNodeCallback){const C=r({x:S.x,y:S.y});e.onNodeCallback(e.label,t,C,{initialText:"",isQuizMode:!0})}u({suggestion:"explain",x:0,y:0,isDragging:!1}),h(null),document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",j)},[e.onNodeCallback,t,r]),R=M.useCallback((S,C)=>{const L=C.outerHTML,z=C.getBoundingClientRect();h({x:z.left+z.width/2,y:z.top+z.height/2}),u({suggestion:"content",x:S.clientX,y:S.clientY,isDragging:!0,draggedContent:L}),document.addEventListener("pointermove",k),document.addEventListener("pointerup",B)},[]),$=M.useCallback(S=>{const C=document.createElement("div");C.innerHTML=S;const L=[];C.querySelectorAll("img").forEach(X=>{const Q=X.title||X.alt;Q&&Q.trim()&&L.push(Q.trim())});const U=C.textContent||C.innerText;return U&&U.trim()&&L.push(U.trim()),L.length>0?L.join(" "):S},[]),B=M.useCallback(()=>{const S=d.current;if(S.isDragging&&e.onNodeCallback&&S.draggedContent){const C=s.current;if(C){const L=C.getBoundingClientRect(),z=S.x,U=S.y;if(!(z>=L.left&&z<=L.right&&U>=L.top&&U<=L.bottom)){const Q=r({x:S.x,y:S.y});e.onNodeCallback($(S.draggedContent),t,Q,{initialText:"",isQuizMode:!1,isDragConent:!0})}}}u({suggestion:"explain",x:0,y:0,isDragging:!1,draggedContent:void 0}),h(null),document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",B)},[e.onNodeCallback,t,r,$]);M.useEffect(()=>{if(!e.contents||e.contents.length===0)return;const S=s.current?.querySelector(".node-rich-content");if(!S)return;const C=[".draggable-header-block",".draggable-image-block",".draggable-image-grid",".draggable-text-block",".draggable-point-item",".draggable-diagram-block",".draggable-video-block",".draggable-code-block",".draggable-timeline-item",".draggable-card-item",".draggable-section-block"],L=z=>{const U=z;if(U.button!==0)return;const X=U.target,Q=C.find(O=>X.closest(O));if(Q){const O=X.closest(Q);O&&(z.stopPropagation(),z.preventDefault(),R(U,O))}};return S.addEventListener("pointerdown",L),()=>{S.removeEventListener("pointerdown",L)}},[e.contents,R]);const p=M.useMemo(()=>({background:e.myColor?`linear-gradient(135deg, ${e.myColor}f0, ${e.myColor}e0)`:"linear-gradient(135deg, #ffffff, #fafafa)",borderColor:e.myColor?`${e.myColor}60`:"rgba(229, 231, 235, 0.6)",transform:"translateZ(0)",willChange:"transform",backfaceVisibility:"hidden"}),[e.myColor]),_=M.useCallback(()=>{},[]),b=M.useCallback(()=>{},[]);return x.jsxs("div",{ref:s,className:`group relative bg-white/95 border rounded-3xl
                   min-w-[320px] max-w-[640px] cursor-grab select-none
                   transition-all duration-300 ease-[cubic-bezier(0.4,0,0.2,1)]
                   ${e.chosen?"border-green-500 border-2 hover:border-green-600":"border-gray-200/60 hover:border-gray-300/80"}`,style:p,onMouseEnter:_,onMouseLeave:b,onClick:e.onChoose,children:[x.jsxs("div",{className:"relative p-6 text-gray-900",children:[e.isLoading&&x.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-12",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Eg,{className:"w-8 h-8 text-blue-500 animate-spin"}),x.jsx("div",{className:"absolute inset-0 w-8 h-8 rounded-full bg-blue-500/20 animate-ping"})]}),x.jsx("span",{className:"text-gray-600 text-sm font-medium",children:"Generating content..."})]}),!e.isLoading&&x.jsxs("header",{className:"flex flex-col items-center gap-4 mb-6",children:[x.jsxs("div",{className:"flex items-center gap-3 group/header",children:[e.icon?x.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-2xl bg-white/50 border border-white/80 
                               transition-transform duration-200 ease-out group-hover/header:scale-105`,children:x.jsx("span",{className:"text-2xl",dangerouslySetInnerHTML:{__html:e.icon}})}):x.jsx("div",{className:`w-12 h-12 flex items-center justify-center rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 text-white 
                               transition-transform duration-200 ease-out group-hover/header:scale-105`,children:x.jsx(wd,{className:"w-6 h-6"})}),x.jsx("h2",{className:`text-2xl font-bold tracking-tight text-gray-900 
                          transition-colors duration-200 group-hover/header:text-gray-700`,children:e.label||"Node"})]}),!e.isQuiz&&x.jsxs("div",{className:"relative",children:[x.jsx("div",{ref:a,className:`group relative flex items-center justify-center w-10 h-10
                              bg-gradient-to-br from-emerald-50 to-emerald-100 hover:from-emerald-100 hover:to-emerald-200
                              border-2 border-emerald-200 hover:border-emerald-300 
                              rounded-full cursor-grab active:cursor-grabbing 
                              hover:shadow-md transition-all duration-200 ease-out 
                              hover:scale-110 active:scale-95`,title:"Drag to create quiz",onPointerDown:S=>{S.stopPropagation(),S.preventDefault(),S.button===0&&N(S.nativeEvent)},draggable:!1,children:x.jsx(Pc,{className:"w-5 h-5 text-emerald-600 group-hover:text-emerald-700 transition-colors duration-200"})}),x.jsxs("div",{className:`absolute -bottom-6 left-1/2 transform -translate-x-1/2 
                               text-xs text-gray-500 font-medium whitespace-nowrap`,children:["Quiz",x.jsx(Vt,{style:{transform:"translateY(-100%)"},type:"source",position:ve.Top,id:"109"})]})]}),e.onQuizCreate&&e.isQuiz&&x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:`group relative flex items-center justify-center w-10 h-10
                              bg-gradient-to-br from-emerald-50 to-emerald-100 hover:from-emerald-100 hover:to-emerald-200
                              border-2 border-emerald-200 hover:border-emerald-300 
                              rounded-full cursor-grab active:cursor-grabbing 
                              hover:shadow-md transition-all duration-200 ease-out 
                              hover:scale-110 active:scale-95`,onClick:()=>{e.onQuizCreate&&e.onQuizCreate(e.label||"New Quiz","109",v())},children:x.jsx(Pc,{className:"w-5 h-5 text-emerald-600 group-hover:text-emerald-700 transition-colors duration-200"})}),x.jsx("div",{className:`absolute -bottom-6 left-1/2 transform -translate-x-1/2 
                               text-xs text-gray-500 font-medium whitespace-nowrap`,children:"Regenerate quiz"})]})]}),!e.isLoading&&g,e.suggestions&&e.suggestions.length>0&&x.jsx(jS,{suggestions:e.suggestions,dragState:l,handleDragStart:w,handleOrigin:f,getParentCenter:v,displayLine:l.suggestion!=="quiz"&&l.suggestion!=="content"}),l.isDragging&&l.suggestion==="quiz"&&typeof window<"u"&&zm.createPortal(x.jsxs(x.Fragment,{children:[x.jsxs("svg",{className:"fixed inset-0 pointer-events-none z-[9998]",style:{width:"100vw",height:"100vh"},children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"quizConnectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[x.jsx("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.8"}),x.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:"1"})]})}),x.jsx("line",{x1:f?.x??v().x,y1:f?.y??v().y,x2:l.x,y2:l.y,stroke:"url(#quizConnectionGradient)",strokeWidth:3,strokeLinecap:"round",strokeDasharray:"10,6",style:{opacity:.7,animation:"quizLineFade 1.2s ease-in-out infinite"}}),x.jsx("style",{children:`
                        @keyframes quizLineFade {
                            0% { opacity: 0.7; }
                            50% { opacity: 1; }
                            100% { opacity: 0.7; }
                        }
                        `})]}),x.jsx("div",{className:"fixed pointer-events-none z-[9999] transform -translate-x-1/2 -translate-y-1/2",style:{left:l.x,top:l.y},children:x.jsx("div",{className:`px-4 py-2 rounded-lg font-medium text-white 
                           bg-gradient-to-r from-emerald-600 to-emerald-700
                           border border-emerald-500/30 animate-bounce`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Pc,{size:14,className:"animate-pulse"}),"Create Quiz"]})})})]}),document.body),l.isDragging&&l.suggestion==="content"&&typeof window<"u"&&zm.createPortal(x.jsxs(x.Fragment,{children:[x.jsxs("svg",{className:"fixed inset-0 pointer-events-none z-[9998]",style:{width:"100vw",height:"100vh"},children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:"contentConnectionGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[x.jsx("stop",{offset:"0%",stopColor:"#3b82f6",stopOpacity:"0.8"}),x.jsx("stop",{offset:"100%",stopColor:"#1d4ed8",stopOpacity:"1"})]})}),x.jsx("line",{x1:f?.x??v().x,y1:f?.y??v().y,x2:l.x,y2:l.y,stroke:"url(#contentConnectionGradient)",strokeWidth:3,strokeLinecap:"round",strokeDasharray:"8,4",style:{opacity:.7,animation:"contentLineFade 1s ease-in-out infinite"}}),x.jsx("style",{children:`
                        @keyframes contentLineFade {
                            0% { opacity: 0.7; }
                            50% { opacity: 1; }
                            100% { opacity: 0.7; }
                        }
                        `})]}),x.jsx("div",{className:"fixed pointer-events-none z-[9999] transform -translate-x-1/2 -translate-y-1/2",style:{left:l.x,top:l.y},children:x.jsx("div",{className:`max-w-xs p-3 rounded-lg bg-white/95
                           border-2 border-blue-500/30 animate-bounce`,style:{transform:"scale(0.8)",opacity:.9},children:l.draggedContent&&x.jsx("div",{className:"text-sm text-gray-800 overflow-hidden",style:{maxHeight:"200px",fontSize:"12px",lineHeight:"1.3"},dangerouslySetInnerHTML:{__html:l.draggedContent}})})})]}),document.body)]}),x.jsx(W9,{data:e})]})}const e7=M.memo(J9,(e,t)=>e.id===t.id&&e.data===t.data),t7={staticEditable:Z9,draggableEditable:e7};function n7(){const[e,t]=M.useState(!1),[r,a]=M.useState(!1),[s,l]=M.useState(!0),[u,d]=M.useState(null),{user:f,signOut:h}=AS(),g=M.useMemo(()=>({...t7,tempInput:B9}),[]),{notifications:v,removeNotification:w,showSuccess:k,showError:A,showInfo:N}=q9(),{nodes:j,edges:R,allBoards:$,currentBoard:B,isSwitchingBoard:p,isSaving:_,onNodesChange:b,onEdgesChange:S,setNodes:C,setEdges:L,switchToBoard:z,createNewBoard:U,deleteBoard:X,updateBoardName:Q,clearBoardState:O,saveNewNodeContent:q,performPeriodicSave:E,getLastTwoLayouts:V,addLayout:H}=I9(f,{showSuccess:k,showError:A,showInfo:N}),I=async()=>{await h(),O()},D=()=>{t(!0)},G=M.useCallback(ee=>{const Y={id:`e${ee.source}-${ee.target}`,source:ee.source,target:ee.target,sourceHandle:ee.sourceHandle,targetHandle:ee.targetHandle};S([{type:"add",item:Y}])},[S]),te=M.useCallback((ee,Y,K,ne,fe,he)=>{if(!K||!fe){console.warn("handleNodeCallback called without suggestion or position",K,fe);return}const ye=`temp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;C(ge=>[...ge,{id:ye,type:"tempInput",position:{x:fe.x-80,y:fe.y-40},data:{label:K,parent:ne,isQuizMode:he?.isQuizMode||!1,isDragConent:he?.isDragConent||!1}}]);const pe=he?.isQuizMode?"#65a30d":"#3b82f6";ne&&S([{type:"add",item:{id:`e${ne}-${ye}`,source:ne,target:ye,sourceHandle:he?.isQuizMode?null:K,style:{stroke:pe,strokeWidth:3},markerEnd:{type:Sa.ArrowClosed,color:pe}}}])},[C]),Z=M.useMemo(()=>j.map(ee=>{let Y={...ee.data};return Y.onNodeCallback=(K,ne,fe,he)=>te(ee.id,ee.data,K,ne,fe,he),Y.chosen=u===ee.id,Y.onChoose=()=>{console.log("Node chosen:",ee.id),d(ee.id)},Y.onQuizCreate=(K,ne)=>{C(me=>me.map(Ee=>Ee.id===ee.id?{...Ee,type:"draggableEditable",data:{...Ee.data,label:" Quiz: "+K}}:Ee));const fe=j.find(me=>me.id===ee.data.parent),he=fe?.data?.color,ye=fe?.data?.label,pe=ee.data.parent,ge={x:ee.position.x,y:ee.position.y},_e=rd(K,pe,ge,"draggableEditable",j,C,b,S,ee.data.mode,ee,!1,he,ye,void 0,q,V,H,void 0,!0);if(C(me=>me.map(Ee=>Ee.id===ee.id?{...Ee,data:{...Ee.data,myColor:_e}}:Ee)),ee.data.parent){if(!_e)return;L(me=>me.map(Ee=>Ee.id===`e${ee.data.parent}-${ee.id}`?{...Ee,style:{...Ee.style||{},stroke:_e,sourceHandle:ne,strokeWidth:3},markerEnd:{type:Sa.ArrowClosed,color:_e}}:Ee))}},ee.type==="tempInput"&&(Y.onNodeCallback=(K,ne)=>{C(me=>me.map(Ee=>Ee.id===ee.id?{...Ee,type:"draggableEditable",data:{...Ee.data,label:K}}:Ee));const fe=j.find(me=>me.id===ee.data.parent),he=fe?.data?.color,ye=fe?.data?.label,pe=ee.data.parent,ge={x:ee.position.x,y:ee.position.y},_e=rd(K,pe,ge,"draggableEditable",j,C,b,S,ee.data.mode,ee,!1,he,ye,void 0,q,V,H);if(C(me=>me.map(Ee=>Ee.id===ee.id?{...Ee,data:{...Ee.data,myColor:_e}}:Ee)),ee.data.parent){if(!_e)return;L(me=>me.map(Ee=>Ee.id===`e${ee.data.parent}-${ee.id}`?{...Ee,style:{...Ee.style||{},stroke:_e,strokeWidth:3},markerEnd:{type:Sa.ArrowClosed,color:_e}}:Ee))}}),{...ee,data:Y}}),[j,te,C]),J=M.useMemo(()=>x.jsxs(Fx,{nodes:Z,edges:R,onNodesChange:b,onEdgesChange:S,onConnect:G,nodeTypes:g,connectionMode:Ea.Loose,fitView:!0,minZoom:.1,className:"bg-gray-50 dark:bg-gray-900 w-full h-full",children:[x.jsx(LN,{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg"}),x.jsx(HN,{variant:Cn.Cross,gap:50,size:12,lineWidth:.5,color:"#737373",className:"bg-gray-50 dark:bg-gray-900"})]}),[Z,R,b,S,G]);return f?x.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 relative",style:{height:"100vh",width:"100vw",overflow:"hidden"},children:[x.jsx(Ez,{notifications:v,onRemove:w}),x.jsx("div",{style:{height:"100%",position:"relative"},children:x.jsxs(g3,{direction:"horizontal",children:[x.jsx(qm,{defaultSize:15,minSize:10,maxSize:30,children:x.jsx("div",{className:"bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700",children:x.jsx(yz,{allBoards:$,currentBoard:B,onSwitchBoard:z,onCreateBoard:async ee=>{await U(ee)},onDeleteBoard:X,onSignOut:I,isLoading:p})})}),x.jsx(p3,{}),x.jsx(qm,{children:x.jsxs("div",{className:"bg-white dark:bg-gray-800",style:{height:"100%",position:"relative"},children:[x.jsx(xz,{name:B?.name||"Loading...",onSetName:Q,user:f,isSaving:_}),x.jsx("div",{className:"bg-gray-50 dark:bg-gray-900",style:{height:"calc(100% - 60px)",width:"100%"},children:x.jsx(M9,{nodes:j,onNodesChange:b,onEdgesChange:S,setNodes:C,saveCallback:q,getLastTwoLayouts:V,addLayout:H,children:J})})]})})]})}),f&&x.jsx($9,{onPeriodicSave:E,saveInterval:2e4}),x.jsx(L9,{isOpen:s||r,onClose:()=>{l(!1),a(!1)},currentBoardId:B?.id,currentBoardName:B?.name,nodes:j,setNodes:C,onNodesChange:b,onEdgesChange:S,getLastTwoLayouts:V,addLayout:H,chosenNodeText:u&&j.find(ee=>ee.id===u)?.data.label||""}),x.jsx(P9,{onClick:()=>l(!0),isOpen:s||r})]}):e?x.jsx(gz,{}):x.jsx(kz,{onLogin:D})}const r7=M.memo(n7);function a7(){return x.jsx(bz,{children:x.jsx(r7,{})})}const RS=document.getElementById("root");if(!RS)throw new Error("Failed to find the root element");Z8.createRoot(RS).render(x.jsx(M.StrictMode,{children:x.jsx(qg,{children:x.jsx(a7,{})})}));export{zl as C,Qt as R,Aa as _,Bb as a,hA as b,Ng as c,bl as d,Cg as e,G1 as f,ad as g,i7 as h,ha as i,K1 as n,sA as r,Vn as s};
