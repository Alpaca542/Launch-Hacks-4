(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ya(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Og={exports:{}},cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function qk(){if(Nb)return cc;Nb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:a}}return cc.Fragment=e,cc.jsx=n,cc.jsxs=n,cc}var kb;function $k(){return kb||(kb=1,Og.exports=qk()),Og.exports}var J=$k(),Mg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function Gk(){if(Db)return $e;Db=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,I={};function D(b,Q,re){this.props=b,this.context=Q,this.refs=I,this.updater=re||E}D.prototype.isReactComponent={},D.prototype.setState=function(b,Q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Q,"setState")},D.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function P(){}P.prototype=D.prototype;function q(b,Q,re){this.props=b,this.context=Q,this.refs=I,this.updater=re||E}var $=q.prototype=new P;$.constructor=q,x($,D.prototype),$.isPureReactComponent=!0;var H=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function U(b,Q,re,k,ce,ve){return re=ve.ref,{$$typeof:t,type:b,key:Q,ref:re!==void 0?re:null,props:ve}}function C(b,Q){return U(b.type,Q,void 0,void 0,void 0,b.props)}function R(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function M(b){var Q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(re){return Q[re]})}var V=/\/+/g;function B(b,Q){return typeof b=="object"&&b!==null&&b.key!=null?M(""+b.key):Q.toString(36)}function A(){}function N(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(A,A):(b.status="pending",b.then(function(Q){b.status==="pending"&&(b.status="fulfilled",b.value=Q)},function(Q){b.status==="pending"&&(b.status="rejected",b.reason=Q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function G(b,Q,re,k,ce){var ve=typeof b;(ve==="undefined"||ve==="boolean")&&(b=null);var _e=!1;if(b===null)_e=!0;else switch(ve){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(b.$$typeof){case t:case e:_e=!0;break;case m:return _e=b._init,G(_e(b._payload),Q,re,k,ce)}}if(_e)return ce=ce(b),_e=k===""?"."+B(b,0):k,H(ce)?(re="",_e!=null&&(re=_e.replace(V,"$&/")+"/"),G(ce,Q,re,"",function(He){return He})):ce!=null&&(R(ce)&&(ce=C(ce,re+(ce.key==null||b&&b.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+_e)),Q.push(ce)),1;_e=0;var Re=k===""?".":k+":";if(H(b))for(var Se=0;Se<b.length;Se++)k=b[Se],ve=Re+B(k,Se),_e+=G(k,Q,re,ve,ce);else if(Se=v(b),typeof Se=="function")for(b=Se.call(b),Se=0;!(k=b.next()).done;)k=k.value,ve=Re+B(k,Se++),_e+=G(k,Q,re,ve,ce);else if(ve==="object"){if(typeof b.then=="function")return G(N(b),Q,re,k,ce);throw Q=String(b),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return _e}function L(b,Q,re){if(b==null)return b;var k=[],ce=0;return G(b,k,"","",function(ve){return Q.call(re,ve,ce++)}),k}function K(b){if(b._status===-1){var Q=b._result;Q=Q(),Q.then(function(re){(b._status===0||b._status===-1)&&(b._status=1,b._result=re)},function(re){(b._status===0||b._status===-1)&&(b._status=2,b._result=re)}),b._status===-1&&(b._status=0,b._result=Q)}if(b._status===1)return b._result.default;throw b._result}var ee=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Z(){}return $e.Children={map:L,forEach:function(b,Q,re){L(b,function(){Q.apply(this,arguments)},re)},count:function(b){var Q=0;return L(b,function(){Q++}),Q},toArray:function(b){return L(b,function(Q){return Q})||[]},only:function(b){if(!R(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},$e.Component=D,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=q,$e.StrictMode=r,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,$e.__COMPILER_RUNTIME={__proto__:null,c:function(b){return X.H.useMemoCache(b)}},$e.cache=function(b){return function(){return b.apply(null,arguments)}},$e.cloneElement=function(b,Q,re){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var k=x({},b.props),ce=b.key,ve=void 0;if(Q!=null)for(_e in Q.ref!==void 0&&(ve=void 0),Q.key!==void 0&&(ce=""+Q.key),Q)!j.call(Q,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Q.ref===void 0||(k[_e]=Q[_e]);var _e=arguments.length-2;if(_e===1)k.children=re;else if(1<_e){for(var Re=Array(_e),Se=0;Se<_e;Se++)Re[Se]=arguments[Se+2];k.children=Re}return U(b.type,ce,void 0,void 0,ve,k)},$e.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:a,_context:b},b},$e.createElement=function(b,Q,re){var k,ce={},ve=null;if(Q!=null)for(k in Q.key!==void 0&&(ve=""+Q.key),Q)j.call(Q,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(ce[k]=Q[k]);var _e=arguments.length-2;if(_e===1)ce.children=re;else if(1<_e){for(var Re=Array(_e),Se=0;Se<_e;Se++)Re[Se]=arguments[Se+2];ce.children=Re}if(b&&b.defaultProps)for(k in _e=b.defaultProps,_e)ce[k]===void 0&&(ce[k]=_e[k]);return U(b,ve,void 0,void 0,null,ce)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:f,render:b}},$e.isValidElement=R,$e.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:K}},$e.memo=function(b,Q){return{$$typeof:d,type:b,compare:Q===void 0?null:Q}},$e.startTransition=function(b){var Q=X.T,re={};X.T=re;try{var k=b(),ce=X.S;ce!==null&&ce(re,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(Z,ee)}catch(ve){ee(ve)}finally{X.T=Q}},$e.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},$e.use=function(b){return X.H.use(b)},$e.useActionState=function(b,Q,re){return X.H.useActionState(b,Q,re)},$e.useCallback=function(b,Q){return X.H.useCallback(b,Q)},$e.useContext=function(b){return X.H.useContext(b)},$e.useDebugValue=function(){},$e.useDeferredValue=function(b,Q){return X.H.useDeferredValue(b,Q)},$e.useEffect=function(b,Q,re){var k=X.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return k.useEffect(b,Q)},$e.useId=function(){return X.H.useId()},$e.useImperativeHandle=function(b,Q,re){return X.H.useImperativeHandle(b,Q,re)},$e.useInsertionEffect=function(b,Q){return X.H.useInsertionEffect(b,Q)},$e.useLayoutEffect=function(b,Q){return X.H.useLayoutEffect(b,Q)},$e.useMemo=function(b,Q){return X.H.useMemo(b,Q)},$e.useOptimistic=function(b,Q){return X.H.useOptimistic(b,Q)},$e.useReducer=function(b,Q,re){return X.H.useReducer(b,Q,re)},$e.useRef=function(b){return X.H.useRef(b)},$e.useState=function(b){return X.H.useState(b)},$e.useSyncExternalStore=function(b,Q,re){return X.H.useSyncExternalStore(b,Q,re)},$e.useTransition=function(){return X.H.useTransition()},$e.version="19.1.0",$e}var Ob;function af(){return Ob||(Ob=1,Mg.exports=Gk()),Mg.exports}var z=af();const fe=ya(z);var Pg={exports:{}},fc={},Vg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function Yk(){return Mb||(Mb=1,function(t){function e(L,K){var ee=L.length;L.push(K);e:for(;0<ee;){var Z=ee-1>>>1,b=L[Z];if(0<s(b,K))L[Z]=K,L[ee]=b,ee=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var K=L[0],ee=L.pop();if(ee!==K){L[0]=ee;e:for(var Z=0,b=L.length,Q=b>>>1;Z<Q;){var re=2*(Z+1)-1,k=L[re],ce=re+1,ve=L[ce];if(0>s(k,ee))ce<b&&0>s(ve,k)?(L[Z]=ve,L[ce]=ee,Z=ce):(L[Z]=k,L[re]=ee,Z=re);else if(ce<b&&0>s(ve,ee))L[Z]=ve,L[ce]=ee,Z=ce;else break e}}return K}function s(L,K){var ee=L.sortIndex-K.sortIndex;return ee!==0?ee:L.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],d=[],m=1,_=null,v=3,E=!1,x=!1,I=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function H(L){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=L)r(d),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(d)}}function X(L){if(I=!1,H(L),!x)if(n(h)!==null)x=!0,j||(j=!0,B());else{var K=n(d);K!==null&&G(X,K.startTime-L)}}var j=!1,U=-1,C=5,R=-1;function M(){return D?!0:!(t.unstable_now()-R<C)}function V(){if(D=!1,j){var L=t.unstable_now();R=L;var K=!0;try{e:{x=!1,I&&(I=!1,q(U),U=-1),E=!0;var ee=v;try{t:{for(H(L),_=n(h);_!==null&&!(_.expirationTime>L&&M());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,v=_.priorityLevel;var b=Z(_.expirationTime<=L);if(L=t.unstable_now(),typeof b=="function"){_.callback=b,H(L),K=!0;break t}_===n(h)&&r(h),H(L)}else r(h);_=n(h)}if(_!==null)K=!0;else{var Q=n(d);Q!==null&&G(X,Q.startTime-L),K=!1}}break e}finally{_=null,v=ee,E=!1}K=void 0}}finally{K?B():j=!1}}}var B;if(typeof $=="function")B=function(){$(V)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,N=A.port2;A.port1.onmessage=V,B=function(){N.postMessage(null)}}else B=function(){P(V,0)};function G(L,K){U=P(function(){L(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var ee=v;v=K;try{return L()}finally{v=ee}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ee=v;v=L;try{return K()}finally{v=ee}},t.unstable_scheduleCallback=function(L,K,ee){var Z=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Z+ee:Z):ee=Z,L){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=ee+b,L={id:m++,callback:K,priorityLevel:L,startTime:ee,expirationTime:b,sortIndex:-1},ee>Z?(L.sortIndex=ee,e(d,L),n(h)===null&&L===n(d)&&(I?(q(U),U=-1):I=!0,G(X,ee-Z))):(L.sortIndex=b,e(h,L),x||E||(x=!0,j||(j=!0,B()))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var K=v;return function(){var ee=v;v=K;try{return L.apply(this,arguments)}finally{v=ee}}}}(Lg)),Lg}var Pb;function Kk(){return Pb||(Pb=1,Vg.exports=Yk()),Vg.exports}var Ug={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function Xk(){if(Vb)return On;Vb=1;var t=af();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,On.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},On.flushSync=function(h){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=m,r.d.f()}},On.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},On.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},On.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,_=f(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):m==="script"&&r.d.X(h,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},On.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},On.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=f(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},On.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},On.requestFormReset=function(h){r.d.r(h)},On.unstable_batchedUpdates=function(h,d){return h(d)},On.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},On.useFormStatus=function(){return u.H.useHostTransitionStatus()},On.version="19.1.0",On}var Lb;function fA(){if(Lb)return Ug.exports;Lb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ug.exports=Xk(),Ug.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function Qk(){if(Ub)return fc;Ub=1;var t=Kk(),e=af(),n=fA();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,c=o;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return f(g),i;if(y===c)return f(g),o;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=y;else{for(var S=!1,O=g.child;O;){if(O===l){S=!0,l=g,c=y;break}if(O===c){S=!0,c=g,l=y;break}O=O.sibling}if(!S){for(O=y.child;O;){if(O===l){S=!0,l=y,c=g;break}if(O===c){S=!0,c=y,l=g;break}O=O.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var A=Symbol.for("react.client.reference");function N(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===A?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case D:return"Profiler";case I:return"StrictMode";case X:return"Suspense";case j:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case $:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case H:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return o=i.displayName||null,o!==null?o:N(i.type)||"Memo";case C:o=i._payload,i=i._init;try{return N(i(o))}catch{}}return null}var G=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Z=[],b=-1;function Q(i){return{current:i}}function re(i){0>b||(i.current=Z[b],Z[b]=null,b--)}function k(i,o){b++,Z[b]=i.current,i.current=o}var ce=Q(null),ve=Q(null),_e=Q(null),Re=Q(null);function Se(i,o){switch(k(_e,o),k(ve,i),k(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?ib(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=ib(o),i=sb(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ce),k(ce,i)}function He(){re(ce),re(ve),re(_e)}function Ue(i){i.memoizedState!==null&&k(Re,i);var o=ce.current,l=sb(o,i.type);o!==l&&(k(ve,i),k(ce,l))}function lt(i){ve.current===i&&(re(ce),re(ve)),Re.current===i&&(re(Re),sc._currentValue=ee)}var pt=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,mt=t.unstable_cancelCallback,Oe=t.unstable_shouldYield,Vt=t.unstable_requestPaint,Be=t.unstable_now,Ce=t.unstable_getCurrentPriorityLevel,Ot=t.unstable_ImmediatePriority,sn=t.unstable_UserBlockingPriority,bn=t.unstable_NormalPriority,Gn=t.unstable_LowPriority,Tn=t.unstable_IdlePriority,Wt=t.log,Bn=t.unstable_setDisableYieldValue,te=null,he=null;function Ae(i){if(typeof Wt=="function"&&Bn(i),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(te,i)}catch{}}var Ie=Math.clz32?Math.clz32:St,Xe=Math.log,ot=Math.LN2;function St(i){return i>>>=0,i===0?32:31-(Xe(i)/ot|0)|0}var Nt=256,Gt=4194304;function Mt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ut(i,o,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var O=c&134217727;return O!==0?(c=O&~y,c!==0?g=Mt(c):(S&=O,S!==0?g=Mt(S):l||(l=O&~i,l!==0&&(g=Mt(l))))):(O=c&~y,O!==0?g=Mt(O):S!==0?g=Mt(S):l||(l=c&~i,l!==0&&(g=Mt(l)))),g===0?0:o!==0&&o!==g&&(o&y)===0&&(y=g&-g,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:g}function Ft(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function on(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oi(){var i=Nt;return Nt<<=1,(Nt&4194048)===0&&(Nt=256),i}function Hr(){var i=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),i}function rr(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function wr(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ir(i,o,l,c,g,y){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,Y=i.expirationTimes,oe=i.hiddenUpdates;for(l=S&~l;0<l;){var de=31-Ie(l),me=1<<de;O[de]=0,Y[de]=-1;var ae=oe[de];if(ae!==null)for(oe[de]=null,de=0;de<ae.length;de++){var le=ae[de];le!==null&&(le.lane&=-536870913)}l&=~me}c!==0&&br(i,c,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~o))}function br(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var c=31-Ie(o);i.entangledLanes|=o,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function To(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var c=31-Ie(l),g=1<<c;g&o|i[c]&o&&(i[c]|=o),l&=~g}}function ni(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ys(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ri(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:Sb(i.type))}function Ta(i,o){var l=K.p;try{return K.p=i,o()}finally{K.p=l}}var At=Math.random().toString(36).slice(2),Yt="__reactFiber$"+At,Ht="__reactProps$"+At,Yn="__reactContainer$"+At,So="__reactEvents$"+At,fu="__reactListeners$"+At,ii="__reactHandles$"+At,Sa="__reactResources$"+At,Mi="__reactMarker$"+At;function si(i){delete i[Yt],delete i[Ht],delete i[So],delete i[fu],delete i[ii]}function Tr(i){var o=i[Yt];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Yn]||l[Yt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=ub(i);i!==null;){if(l=i[Yt])return l;i=ub(i)}return o}i=l,l=i.parentNode}return null}function Sr(i){if(i=i[Yt]||i[Yn]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Ar(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Sn(i){var o=i[Sa];return o||(o=i[Sa]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Lt(i){i[Mi]=!0}var Ao=new Set,_s={};function sr(i,o){jr(i,o),jr(i+"Capture",o)}function jr(i,o){for(_s[i]=o,i=0;i<o.length;i++)Ao.add(o[i])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Aa={},Pi={};function xa(i){return pt.call(Pi,i)?!0:pt.call(Aa,i)?!1:xo.test(i)?Pi[i]=!0:(Aa[i]=!0,!1)}function oi(i,o,l){if(xa(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function xr(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function an(i,o,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+c)}}var ai,Ca;function qr(i){if(ai===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);ai=o&&o[1]||"",Ca=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ai+i+Ca}var vs=!1;function li(i,o){if(!i||vs)return"";vs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var ae=le}Reflect.construct(i,[],me)}else{try{me.call()}catch(le){ae=le}i.call(me.prototype)}}else{try{throw Error()}catch(le){ae=le}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],O=y[1];if(S&&O){var Y=S.split(`
`),oe=O.split(`
`);for(g=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;g<oe.length&&!oe[g].includes("DetermineComponentFrameRoot");)g++;if(c===Y.length||g===oe.length)for(c=Y.length-1,g=oe.length-1;1<=c&&0<=g&&Y[c]!==oe[g];)g--;for(;1<=c&&0<=g;c--,g--)if(Y[c]!==oe[g]){if(c!==1||g!==1)do if(c--,g--,0>g||Y[c]!==oe[g]){var de=`
`+Y[c].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=c&&0<=g);break}}}finally{vs=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?qr(l):""}function hu(i){switch(i.tag){case 26:case 27:case 5:return qr(i.type);case 16:return qr("Lazy");case 13:return qr("Suspense");case 19:return qr("SuspenseList");case 0:case 15:return li(i.type,!1);case 11:return li(i.type.render,!1);case 1:return li(i.type,!0);case 31:return qr("Activity");default:return""}}function Ra(i){try{var o="";do o+=hu(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function du(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lp(i){var o=du(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ia(i){i._valueTracker||(i._valueTracker=Lp(i))}function pu(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return i&&(c=du(i)?i.checked?"true":"false":i.value),i=c,i!==l?(o.setValue(i),!0):!1}function Co(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Up=/[\n"\\]/g;function Zt(i){return i.replace(Up,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function or(i,o,l,c,g,y,S,O){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),o!=null?S==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Fn(o)):i.value!==""+Fn(o)&&(i.value=""+Fn(o)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),o!=null?Es(i,S,Fn(o)):l!=null?Es(i,S,Fn(l)):c!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Fn(O):i.removeAttribute("name")}function Ro(i,o,l,c,g,y,S,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+Fn(l):"",o=o!=null?""+Fn(o):l,O||o===i.value||(i.value=o),i.defaultValue=o}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=O?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function Es(i,o,l){o==="number"&&Co(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Vi(i,o,l,c){if(i=i.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=o.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Fn(l),o=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function _t(i,o,l){if(o!=null&&(o=""+Fn(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Fn(l):""}function Io(i,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(r(92));if(G(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Fn(o),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Cr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cf(i,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":c?i.setProperty(o,l):typeof l!="number"||l===0||No.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function mu(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in o)c=o[g],o.hasOwnProperty(g)&&l[g]!==c&&Cf(i,g,c)}else for(var y in o)o.hasOwnProperty(y)&&Cf(i,y,o[y])}function gu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(i){return Bp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Li=null;function Rr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,zi=null;function yu(i){var o=Sr(i);if(o&&(i=o.stateNode)){var l=i[Ht]||null;e:switch(i=o.stateNode,o.type){case"input":if(or(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==i&&c.form===i.form){var g=c[Ht]||null;if(!g)throw Error(r(90));or(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===i.form&&pu(c)}break e;case"textarea":_t(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Vi(i,!!l.multiple,o,!1)}}}var ui=!1;function Rf(i,o,l){if(ui)return i(o,l);ui=!0;try{var c=i(o);return c}finally{if(ui=!1,(Ui!==null||zi!==null)&&(wh(),Ui&&(o=Ui,i=zi,zi=Ui=null,yu(o),i)))for(o=0;o<i.length;o++)yu(i[o])}}function ko(i,o){var l=i.stateNode;if(l===null)return null;var c=l[Ht]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if($r)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Ir=!1}var ci=null,ws=null,Bi=null;function _u(){if(Bi)return Bi;var i,o=ws,l=o.length,c,g="value"in ci?ci.value:ci.textContent,y=g.length;for(i=0;i<l&&o[i]===g[i];i++);var S=l-i;for(c=1;c<=S&&o[l-c]===g[y-c];c++);return Bi=g.slice(i,1<c?1-c:void 0)}function fi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function hi(){return!0}function vu(){return!1}function mn(i){function o(l,c,g,y,S){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hi:vu,this.isPropagationStopped=vu,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),o}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=mn(ht),Oo=m({},ht,{view:0,detail:0}),If=mn(Oo),Da,Oa,di,Mo=m({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(Da=i.screenX-di.screenX,Oa=i.screenY-di.screenY):Oa=Da=0,di=i),Da)},movementY:function(i){return"movementY"in i?i.movementY:Oa}}),Nr=mn(Mo),Nf=m({},Mo,{dataTransfer:0}),Fp=mn(Nf),Po=m({},Oo,{relatedTarget:0}),Ma=mn(Po),Eu=m({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=mn(Eu),kf=m({},ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Va=mn(kf),Hp=m({},ht,{data:0}),wu=mn(Hp),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Df={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Of[i])?!!o[i]:!1}function Lo(){return bu}var Mf=m({},Oo,{key:function(i){if(i.key){var o=Vo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=fi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Df[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(i){return i.type==="keypress"?fi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),La=mn(Mf),Pf=m({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=mn(Pf),Fi=m({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),Vf=mn(Fi),Lf=m({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=mn(Lf),zf=m({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=mn(zf),Hn=m({},ht,{newState:0,oldState:0}),Bf=mn(Hn),Ff=[9,13,27,32],pi=$r&&"CompositionEvent"in window,p=null;$r&&"documentMode"in document&&(p=document.documentMode);var w=$r&&"TextEvent"in window&&!p,T=$r&&(!pi||p&&8<p&&11>=p),F=" ",ie=!1;function ue(i,o){switch(i){case"keyup":return Ff.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nt=!1;function ln(i,o){switch(i){case"compositionend":return we(o);case"keypress":return o.which!==32?null:(ie=!0,F);case"textInput":return i=o.data,i===F&&ie?null:i;default:return null}}function rt(i,o){if(nt)return i==="compositionend"||!pi&&ue(i,o)?(i=_u(),Bi=ws=ci=null,nt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!gn[i.type]:o==="textarea"}function Hi(i,o,l,c){Ui?zi?zi.push(c):zi=[c]:Ui=c,o=Ch(o,"onChange"),0<o.length&&(l=new ka("onChange","change",null,l,c),i.push({event:l,listeners:o}))}var An=null,mi=null;function Su(i){Jw(i,0)}function Hf(i){var o=Ar(i);if(pu(o))return i}function E0(i,o){if(i==="change")return o}var w0=!1;if($r){var jp;if($r){var qp="oninput"in document;if(!qp){var b0=document.createElement("div");b0.setAttribute("oninput","return;"),qp=typeof b0.oninput=="function"}jp=qp}else jp=!1;w0=jp&&(!document.documentMode||9<document.documentMode)}function T0(){An&&(An.detachEvent("onpropertychange",S0),mi=An=null)}function S0(i){if(i.propertyName==="value"&&Hf(mi)){var o=[];Hi(o,mi,i,Rr(i)),Rf(Su,o)}}function EN(i,o,l){i==="focusin"?(T0(),An=o,mi=l,An.attachEvent("onpropertychange",S0)):i==="focusout"&&T0()}function wN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Hf(mi)}function bN(i,o){if(i==="click")return Hf(o)}function TN(i,o){if(i==="input"||i==="change")return Hf(o)}function SN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ar=typeof Object.is=="function"?Object.is:SN;function Au(i,o){if(ar(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!pt.call(o,g)||!ar(i[g],o[g]))return!1}return!0}function A0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function x0(i,o){var l=A0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=o&&c>=o)return{node:l,offset:o-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=A0(l)}}function C0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?C0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function R0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Co(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Co(i.document)}return o}function $p(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var AN=$r&&"documentMode"in document&&11>=document.documentMode,za=null,Gp=null,xu=null,Yp=!1;function I0(i,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yp||za==null||za!==Co(c)||(c=za,"selectionStart"in c&&$p(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),xu&&Au(xu,c)||(xu=c,c=Ch(Gp,"onSelect"),0<c.length&&(o=new ka("onSelect","select",null,o,l),i.push({event:o,listeners:c}),o.target=za)))}function Uo(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ba={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},Kp={},N0={};$r&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function zo(i){if(Kp[i])return Kp[i];if(!Ba[i])return i;var o=Ba[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in N0)return Kp[i]=o[l];return i}var k0=zo("animationend"),D0=zo("animationiteration"),O0=zo("animationstart"),xN=zo("transitionrun"),CN=zo("transitionstart"),RN=zo("transitioncancel"),M0=zo("transitionend"),P0=new Map,Xp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xp.push("scrollEnd");function Gr(i,o){P0.set(i,o),sr(o,[i])}var V0=new WeakMap;function kr(i,o){if(typeof i=="object"&&i!==null){var l=V0.get(i);return l!==void 0?l:(o={value:i,source:o,stack:Ra(o)},V0.set(i,o),o)}return{value:i,source:o,stack:Ra(o)}}var Dr=[],Fa=0,Qp=0;function jf(){for(var i=Fa,o=Qp=Fa=0;o<i;){var l=Dr[o];Dr[o++]=null;var c=Dr[o];Dr[o++]=null;var g=Dr[o];Dr[o++]=null;var y=Dr[o];if(Dr[o++]=null,c!==null&&g!==null){var S=c.pending;S===null?g.next=g:(g.next=S.next,S.next=g),c.pending=g}y!==0&&L0(l,g,y)}}function qf(i,o,l,c){Dr[Fa++]=i,Dr[Fa++]=o,Dr[Fa++]=l,Dr[Fa++]=c,Qp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Wp(i,o,l,c){return qf(i,o,l,c),$f(i)}function Ha(i,o){return qf(i,null,null,o),$f(i)}function L0(i,o,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&o!==null&&(g=31-Ie(l),i=y.hiddenUpdates,c=i[g],c===null?i[g]=[o]:c.push(o),o.lane=l|536870912),y):null}function $f(i){if(50<Wu)throw Wu=0,rg=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var ja={};function IN(i,o,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(i,o,l,c){return new IN(i,o,l,c)}function Zp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ji(i,o){var l=i.alternate;return l===null?(l=lr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function U0(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Gf(i,o,l,c,g,y){var S=0;if(c=i,typeof i=="function")Zp(i)&&(S=1);else if(typeof i=="string")S=kk(i,l,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=lr(31,l,o,g),i.elementType=R,i.lanes=y,i;case x:return Bo(l.children,g,y,o);case I:S=8,g|=24;break;case D:return i=lr(12,l,o,g|2),i.elementType=D,i.lanes=y,i;case X:return i=lr(13,l,o,g),i.elementType=X,i.lanes=y,i;case j:return i=lr(19,l,o,g),i.elementType=j,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:case $:S=10;break e;case q:S=9;break e;case H:S=11;break e;case U:S=14;break e;case C:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return o=lr(S,l,o,g),o.elementType=i,o.type=c,o.lanes=y,o}function Bo(i,o,l,c){return i=lr(7,i,c,o),i.lanes=l,i}function Jp(i,o,l){return i=lr(6,i,null,o),i.lanes=l,i}function em(i,o,l){return o=lr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var qa=[],$a=0,Yf=null,Kf=0,Or=[],Mr=0,Fo=null,qi=1,$i="";function Ho(i,o){qa[$a++]=Kf,qa[$a++]=Yf,Yf=i,Kf=o}function z0(i,o,l){Or[Mr++]=qi,Or[Mr++]=$i,Or[Mr++]=Fo,Fo=i;var c=qi;i=$i;var g=32-Ie(c)-1;c&=~(1<<g),l+=1;var y=32-Ie(o)+g;if(30<y){var S=g-g%5;y=(c&(1<<S)-1).toString(32),c>>=S,g-=S,qi=1<<32-Ie(o)+g|l<<g|c,$i=y+i}else qi=1<<y|l<<g|c,$i=i}function tm(i){i.return!==null&&(Ho(i,1),z0(i,1,0))}function nm(i){for(;i===Yf;)Yf=qa[--$a],qa[$a]=null,Kf=qa[--$a],qa[$a]=null;for(;i===Fo;)Fo=Or[--Mr],Or[Mr]=null,$i=Or[--Mr],Or[Mr]=null,qi=Or[--Mr],Or[Mr]=null}var jn=null,jt=null,ct=!1,jo=null,gi=!1,rm=Error(r(519));function qo(i){var o=Error(r(418,""));throw Iu(kr(o,i)),rm}function B0(i){var o=i.stateNode,l=i.type,c=i.memoizedProps;switch(o[Yt]=i,o[Ht]=c,l){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(l=0;l<Ju.length;l++)Je(Ju[l],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),Ro(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ia(o);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),Io(o,c.value,c.defaultValue,c.children),Ia(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||rb(o.textContent,l)?(c.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),c.onScroll!=null&&Je("scroll",o),c.onScrollEnd!=null&&Je("scrollend",o),c.onClick!=null&&(o.onclick=Rh),o=!0):o=!1,o||qo(i)}function F0(i){for(jn=i.return;jn;)switch(jn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:jn=jn.return}}function Cu(i){if(i!==jn)return!1;if(!ct)return F0(i),ct=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||vg(i.type,i.memoizedProps)),l=!l),l&&jt&&qo(i),F0(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){jt=Kr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}jt=null}}else o===27?(o=jt,Ls(i.type)?(i=Tg,Tg=null,jt=i):jt=o):jt=jn?Kr(i.stateNode.nextSibling):null;return!0}function Ru(){jt=jn=null,ct=!1}function H0(){var i=jo;return i!==null&&(Qn===null?Qn=i:Qn.push.apply(Qn,i),jo=null),i}function Iu(i){jo===null?jo=[i]:jo.push(i)}var im=Q(null),$o=null,Gi=null;function bs(i,o,l){k(im,o._currentValue),o._currentValue=l}function Yi(i){i._currentValue=im.current,re(im)}function sm(i,o,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===l)break;i=i.return}}function om(i,o,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=g;for(var Y=0;Y<o.length;Y++)if(O.context===o[Y]){y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),sm(y.return,l,i),c||(S=null);break e}y=O.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),sm(S,l,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Nu(i,o,l,c){i=null;for(var g=o,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var O=g.type;ar(g.pendingProps.value,S.value)||(i!==null?i.push(O):i=[O])}}else if(g===Re.current){if(S=g.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(sc):i=[sc])}g=g.return}i!==null&&om(o,i,l,c),o.flags|=262144}function Xf(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Go(i){$o=i,Gi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return j0($o,i)}function Qf(i,o){return $o===null&&Go(i),j0(i,o)}function j0(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Gi===null){if(i===null)throw Error(r(308));Gi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Gi=Gi.next=o;return l}var NN=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},kN=t.unstable_scheduleCallback,DN=t.unstable_NormalPriority,cn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new NN,data:new Map,refCount:0}}function ku(i){i.refCount--,i.refCount===0&&kN(DN,function(){i.controller.abort()})}var Du=null,lm=0,Ga=0,Ya=null;function ON(i,o){if(Du===null){var l=Du=[];lm=0,Ga=cg(),Ya={status:"pending",value:void 0,then:function(c){l.push(c)}}}return lm++,o.then(q0,q0),o}function q0(){if(--lm===0&&Du!==null){Ya!==null&&(Ya.status="fulfilled");var i=Du;Du=null,Ga=0,Ya=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function MN(i,o){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var $0=L.S;L.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ON(i,o),$0!==null&&$0(i,o)};var Yo=Q(null);function um(){var i=Yo.current;return i!==null?i:xt.pooledCache}function Wf(i,o){o===null?k(Yo,Yo.current):k(Yo,o.pool)}function G0(){var i=um();return i===null?null:{parent:cn._currentValue,pool:i}}var Ou=Error(r(460)),Y0=Error(r(474)),Zf=Error(r(542)),cm={then:function(){}};function K0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jf(){}function X0(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(Jf,Jf),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,W0(i),i;default:if(typeof o.status=="string")o.then(Jf,Jf);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(c){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=c}},function(c){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,W0(i),i}throw Mu=o,Ou}}var Mu=null;function Q0(){if(Mu===null)throw Error(r(459));var i=Mu;return Mu=null,i}function W0(i){if(i===Ou||i===Zf)throw Error(r(483))}var Ts=!1;function fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ss(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function As(i,o,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(gt&2)!==0){var g=c.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),c.pending=o,o=$f(i),L0(i,null,l),o}return qf(i,c,o,l),$f(i)}function Pu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,To(i,l)}}function dm(i,o){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?g=y=o:y=y.next=o}else g=y=o;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var pm=!1;function Vu(){if(pm){var i=Ya;if(i!==null)throw i}}function Lu(i,o,l,c){pm=!1;var g=i.updateQueue;Ts=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var Y=O,oe=Y.next;Y.next=null,S===null?y=oe:S.next=oe,S=Y;var de=i.alternate;de!==null&&(de=de.updateQueue,O=de.lastBaseUpdate,O!==S&&(O===null?de.firstBaseUpdate=oe:O.next=oe,de.lastBaseUpdate=Y))}if(y!==null){var me=g.baseState;S=0,de=oe=Y=null,O=y;do{var ae=O.lane&-536870913,le=ae!==O.lane;if(le?(it&ae)===ae:(c&ae)===ae){ae!==0&&ae===Ga&&(pm=!0),de!==null&&(de=de.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var ze=i,Me=O;ae=o;var wt=l;switch(Me.tag){case 1:if(ze=Me.payload,typeof ze=="function"){me=ze.call(wt,me,ae);break e}me=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Me.payload,ae=typeof ze=="function"?ze.call(wt,me,ae):ze,ae==null)break e;me=m({},me,ae);break e;case 2:Ts=!0}}ae=O.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=g.callbacks,le===null?g.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:O.tag,payload:O.payload,callback:O.callback,next:null},de===null?(oe=de=le,Y=me):de=de.next=le,S|=ae;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;le=O,O=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);de===null&&(Y=me),g.baseState=Y,g.firstBaseUpdate=oe,g.lastBaseUpdate=de,y===null&&(g.shared.lanes=0),Os|=S,i.lanes=S,i.memoizedState=me}}function Z0(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function J0(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Z0(l[i],o)}var Ka=Q(null),eh=Q(0);function eE(i,o){i=es,k(eh,i),k(Ka,o),es=i|o.baseLanes}function mm(){k(eh,es),k(Ka,Ka.current)}function gm(){es=eh.current,re(Ka),re(eh)}var xs=0,Ye=null,vt=null,Jt=null,th=!1,Xa=!1,Ko=!1,nh=0,Uu=0,Qa=null,PN=0;function Kt(){throw Error(r(321))}function ym(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!ar(i[l],o[l]))return!1;return!0}function _m(i,o,l,c,g,y){return xs=y,Ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,L.H=i===null||i.memoizedState===null?LE:UE,Ko=!1,y=l(c,g),Ko=!1,Xa&&(y=nE(o,l,c,g)),tE(i),y}function tE(i){L.H=lh;var o=vt!==null&&vt.next!==null;if(xs=0,Jt=vt=Ye=null,th=!1,Uu=0,Qa=null,o)throw Error(r(300));i===null||yn||(i=i.dependencies,i!==null&&Xf(i)&&(yn=!0))}function nE(i,o,l,c){Ye=i;var g=0;do{if(Xa&&(Qa=null),Uu=0,Xa=!1,25<=g)throw Error(r(301));if(g+=1,Jt=vt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}L.H=HN,y=o(l,c)}while(Xa);return y}function VN(){var i=L.H,o=i.useState()[0];return o=typeof o.then=="function"?zu(o):o,i=i.useState()[0],(vt!==null?vt.memoizedState:null)!==i&&(Ye.flags|=1024),o}function vm(){var i=nh!==0;return nh=0,i}function Em(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function wm(i){if(th){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}th=!1}xs=0,Jt=vt=Ye=null,Xa=!1,Uu=nh=0,Qa=null}function Kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function en(){if(vt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=vt.next;var o=Jt===null?Ye.memoizedState:Jt.next;if(o!==null)Jt=o,vt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));vt=i,i={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function bm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(i){var o=Uu;return Uu+=1,Qa===null&&(Qa=[]),i=X0(Qa,i,o),o=Ye,(Jt===null?o.memoizedState:Jt.next)===null&&(o=o.alternate,L.H=o===null||o.memoizedState===null?LE:UE),i}function rh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return zu(i);if(i.$$typeof===$)return Dn(i)}throw Error(r(438,String(i)))}function Tm(i){var o=null,l=Ye.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=bm(),Ye.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),c=0;c<i;c++)l[c]=M;return o.index++,l}function Ki(i,o){return typeof o=="function"?o(i):o}function ih(i){var o=en();return Sm(o,vt,i)}function Sm(i,o,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,y=c.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}o.baseQueue=g=y,c.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{o=g.next;var O=S=null,Y=null,oe=o,de=!1;do{var me=oe.lane&-536870913;if(me!==oe.lane?(it&me)===me:(xs&me)===me){var ae=oe.revertLane;if(ae===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),me===Ga&&(de=!0);else if((xs&ae)===ae){oe=oe.next,ae===Ga&&(de=!0);continue}else me={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(O=Y=me,S=y):Y=Y.next=me,Ye.lanes|=ae,Os|=ae;me=oe.action,Ko&&l(y,me),y=oe.hasEagerState?oe.eagerState:l(y,me)}else ae={lane:me,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(O=Y=ae,S=y):Y=Y.next=ae,Ye.lanes|=me,Os|=me;oe=oe.next}while(oe!==null&&oe!==o);if(Y===null?S=y:Y.next=O,!ar(y,i.memoizedState)&&(yn=!0,de&&(l=Ya,l!==null)))throw l;i.memoizedState=y,i.baseState=S,i.baseQueue=Y,c.lastRenderedState=y}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Am(i){var o=en(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,y=o.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do y=i(y,S.action),S=S.next;while(S!==g);ar(y,o.memoizedState)||(yn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function rE(i,o,l){var c=Ye,g=en(),y=ct;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=o();var S=!ar((vt||g).memoizedState,l);S&&(g.memoizedState=l,yn=!0),g=g.queue;var O=oE.bind(null,c,g,i);if(Bu(2048,8,O,[i]),g.getSnapshot!==o||S||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,Wa(9,sh(),sE.bind(null,c,g,l,o),null),xt===null)throw Error(r(349));y||(xs&124)!==0||iE(c,o,l)}return l}function iE(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Ye.updateQueue,o===null?(o=bm(),Ye.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function sE(i,o,l,c){o.value=l,o.getSnapshot=c,aE(o)&&lE(i)}function oE(i,o,l){return l(function(){aE(o)&&lE(i)})}function aE(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!ar(i,l)}catch{return!0}}function lE(i){var o=Ha(i,2);o!==null&&dr(o,i,2)}function xm(i){var o=Kn();if(typeof i=="function"){var l=i;if(i=l(),Ko){Ae(!0);try{l()}finally{Ae(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:i},o}function uE(i,o,l,c){return i.baseState=l,Sm(i,vt,typeof c=="function"?c:Ki)}function LN(i,o,l,c,g){if(ah(i))throw Error(r(485));if(i=o.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};L.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,cE(o,y)):(y.next=l.next,o.pending=l.next=y)}}function cE(i,o){var l=o.action,c=o.payload,g=i.state;if(o.isTransition){var y=L.T,S={};L.T=S;try{var O=l(g,c),Y=L.S;Y!==null&&Y(S,O),fE(i,o,O)}catch(oe){Cm(i,o,oe)}finally{L.T=y}}else try{y=l(g,c),fE(i,o,y)}catch(oe){Cm(i,o,oe)}}function fE(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){hE(i,o,c)},function(c){return Cm(i,o,c)}):hE(i,o,l)}function hE(i,o,l){o.status="fulfilled",o.value=l,dE(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,cE(i,l)))}function Cm(i,o,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,dE(o),o=o.next;while(o!==c)}i.action=null}function dE(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function pE(i,o){return o}function mE(i,o){if(ct){var l=xt.formState;if(l!==null){e:{var c=Ye;if(ct){if(jt){t:{for(var g=jt,y=gi;g.nodeType!==8;){if(!y){g=null;break t}if(g=Kr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){jt=Kr(g.nextSibling),c=g.data==="F!";break e}}qo(c)}c=!1}c&&(o=l[0])}}return l=Kn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pE,lastRenderedState:o},l.queue=c,l=ME.bind(null,Ye,c),c.dispatch=l,c=xm(!1),y=Dm.bind(null,Ye,!1,c.queue),c=Kn(),g={state:o,dispatch:null,action:i,pending:null},c.queue=g,l=LN.bind(null,Ye,g,y,l),g.dispatch=l,c.memoizedState=i,[o,l,!1]}function gE(i){var o=en();return yE(o,vt,i)}function yE(i,o,l){if(o=Sm(i,o,pE)[0],i=ih(Ki)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=zu(o)}catch(S){throw S===Ou?Zf:S}else c=o;o=en();var g=o.queue,y=g.dispatch;return l!==o.memoizedState&&(Ye.flags|=2048,Wa(9,sh(),UN.bind(null,g,l),null)),[c,y,i]}function UN(i,o){i.action=o}function _E(i){var o=en(),l=vt;if(l!==null)return yE(o,l,i);en(),o=o.memoizedState,l=en();var c=l.queue.dispatch;return l.memoizedState=i,[o,c,!1]}function Wa(i,o,l,c){return i={tag:i,create:l,deps:c,inst:o,next:null},o=Ye.updateQueue,o===null&&(o=bm(),Ye.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,o.lastEffect=i),i}function sh(){return{destroy:void 0,resource:void 0}}function vE(){return en().memoizedState}function oh(i,o,l,c){var g=Kn();c=c===void 0?null:c,Ye.flags|=i,g.memoizedState=Wa(1|o,sh(),l,c)}function Bu(i,o,l,c){var g=en();c=c===void 0?null:c;var y=g.memoizedState.inst;vt!==null&&c!==null&&ym(c,vt.memoizedState.deps)?g.memoizedState=Wa(o,y,l,c):(Ye.flags|=i,g.memoizedState=Wa(1|o,y,l,c))}function EE(i,o){oh(8390656,8,i,o)}function wE(i,o){Bu(2048,8,i,o)}function bE(i,o){return Bu(4,2,i,o)}function TE(i,o){return Bu(4,4,i,o)}function SE(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function AE(i,o,l){l=l!=null?l.concat([i]):null,Bu(4,4,SE.bind(null,o,i),l)}function Rm(){}function xE(i,o){var l=en();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&ym(o,c[1])?c[0]:(l.memoizedState=[i,o],i)}function CE(i,o){var l=en();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&ym(o,c[1]))return c[0];if(c=i(),Ko){Ae(!0);try{i()}finally{Ae(!1)}}return l.memoizedState=[c,o],c}function Im(i,o,l){return l===void 0||(xs&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=Nw(),Ye.lanes|=i,Os|=i,l)}function RE(i,o,l,c){return ar(l,o)?l:Ka.current!==null?(i=Im(i,l,c),ar(i,o)||(yn=!0),i):(xs&42)===0?(yn=!0,i.memoizedState=l):(i=Nw(),Ye.lanes|=i,Os|=i,o)}function IE(i,o,l,c,g){var y=K.p;K.p=y!==0&&8>y?y:8;var S=L.T,O={};L.T=O,Dm(i,!1,o,l);try{var Y=g(),oe=L.S;if(oe!==null&&oe(O,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var de=MN(Y,c);Fu(i,o,de,hr(i))}else Fu(i,o,c,hr(i))}catch(me){Fu(i,o,{then:function(){},status:"rejected",reason:me},hr())}finally{K.p=y,L.T=S}}function zN(){}function Nm(i,o,l,c){if(i.tag!==5)throw Error(r(476));var g=NE(i).queue;IE(i,g,o,ee,l===null?zN:function(){return kE(i),l(c)})}function NE(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ee},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function kE(i){var o=NE(i).next.queue;Fu(i,o,{},hr())}function km(){return Dn(sc)}function DE(){return en().memoizedState}function OE(){return en().memoizedState}function BN(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=hr();i=Ss(l);var c=As(o,i,l);c!==null&&(dr(c,o,l),Pu(c,o,l)),o={cache:am()},i.payload=o;return}o=o.return}}function FN(i,o,l){var c=hr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ah(i)?PE(o,l):(l=Wp(i,o,l,c),l!==null&&(dr(l,i,c),VE(l,o,c)))}function ME(i,o,l){var c=hr();Fu(i,o,l,c)}function Fu(i,o,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ah(i))PE(o,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,O=y(S,l);if(g.hasEagerState=!0,g.eagerState=O,ar(O,S))return qf(i,o,g,0),xt===null&&jf(),!1}catch{}finally{}if(l=Wp(i,o,g,c),l!==null)return dr(l,i,c),VE(l,o,c),!0}return!1}function Dm(i,o,l,c){if(c={lane:2,revertLane:cg(),action:c,hasEagerState:!1,eagerState:null,next:null},ah(i)){if(o)throw Error(r(479))}else o=Wp(i,l,c,2),o!==null&&dr(o,i,2)}function ah(i){var o=i.alternate;return i===Ye||o!==null&&o===Ye}function PE(i,o){Xa=th=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function VE(i,o,l){if((l&4194048)!==0){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,To(i,l)}}var lh={readContext:Dn,use:rh,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},LE={readContext:Dn,use:rh,useCallback:function(i,o){return Kn().memoizedState=[i,o===void 0?null:o],i},useContext:Dn,useEffect:EE,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,oh(4194308,4,SE.bind(null,o,i),l)},useLayoutEffect:function(i,o){return oh(4194308,4,i,o)},useInsertionEffect:function(i,o){oh(4,2,i,o)},useMemo:function(i,o){var l=Kn();o=o===void 0?null:o;var c=i();if(Ko){Ae(!0);try{i()}finally{Ae(!1)}}return l.memoizedState=[c,o],c},useReducer:function(i,o,l){var c=Kn();if(l!==void 0){var g=l(o);if(Ko){Ae(!0);try{l(o)}finally{Ae(!1)}}}else g=o;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=FN.bind(null,Ye,i),[c.memoizedState,i]},useRef:function(i){var o=Kn();return i={current:i},o.memoizedState=i},useState:function(i){i=xm(i);var o=i.queue,l=ME.bind(null,Ye,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Rm,useDeferredValue:function(i,o){var l=Kn();return Im(l,i,o)},useTransition:function(){var i=xm(!1);return i=IE.bind(null,Ye,i.queue,!0,!1),Kn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var c=Ye,g=Kn();if(ct){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),xt===null)throw Error(r(349));(it&124)!==0||iE(c,o,l)}g.memoizedState=l;var y={value:l,getSnapshot:o};return g.queue=y,EE(oE.bind(null,c,y,i),[i]),c.flags|=2048,Wa(9,sh(),sE.bind(null,c,y,l,o),null),l},useId:function(){var i=Kn(),o=xt.identifierPrefix;if(ct){var l=$i,c=qi;l=(c&~(1<<32-Ie(c)-1)).toString(32)+l,o=""+o+"R"+l,l=nh++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=PN++,o=""+o+"r"+l.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:km,useFormState:mE,useActionState:mE,useOptimistic:function(i){var o=Kn();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Dm.bind(null,Ye,!0,l),l.dispatch=o,[i,o]},useMemoCache:Tm,useCacheRefresh:function(){return Kn().memoizedState=BN.bind(null,Ye)}},UE={readContext:Dn,use:rh,useCallback:xE,useContext:Dn,useEffect:wE,useImperativeHandle:AE,useInsertionEffect:bE,useLayoutEffect:TE,useMemo:CE,useReducer:ih,useRef:vE,useState:function(){return ih(Ki)},useDebugValue:Rm,useDeferredValue:function(i,o){var l=en();return RE(l,vt.memoizedState,i,o)},useTransition:function(){var i=ih(Ki)[0],o=en().memoizedState;return[typeof i=="boolean"?i:zu(i),o]},useSyncExternalStore:rE,useId:DE,useHostTransitionStatus:km,useFormState:gE,useActionState:gE,useOptimistic:function(i,o){var l=en();return uE(l,vt,i,o)},useMemoCache:Tm,useCacheRefresh:OE},HN={readContext:Dn,use:rh,useCallback:xE,useContext:Dn,useEffect:wE,useImperativeHandle:AE,useInsertionEffect:bE,useLayoutEffect:TE,useMemo:CE,useReducer:Am,useRef:vE,useState:function(){return Am(Ki)},useDebugValue:Rm,useDeferredValue:function(i,o){var l=en();return vt===null?Im(l,i,o):RE(l,vt.memoizedState,i,o)},useTransition:function(){var i=Am(Ki)[0],o=en().memoizedState;return[typeof i=="boolean"?i:zu(i),o]},useSyncExternalStore:rE,useId:DE,useHostTransitionStatus:km,useFormState:_E,useActionState:_E,useOptimistic:function(i,o){var l=en();return vt!==null?uE(l,vt,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:OE},Za=null,Hu=0;function uh(i){var o=Hu;return Hu+=1,Za===null&&(Za=[]),X0(Za,i,o)}function ju(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function ch(i,o){throw o.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function zE(i){var o=i._init;return o(i._payload)}function BE(i){function o(ne,W){if(i){var se=ne.deletions;se===null?(ne.deletions=[W],ne.flags|=16):se.push(W)}}function l(ne,W){if(!i)return null;for(;W!==null;)o(ne,W),W=W.sibling;return null}function c(ne){for(var W=new Map;ne!==null;)ne.key!==null?W.set(ne.key,ne):W.set(ne.index,ne),ne=ne.sibling;return W}function g(ne,W){return ne=ji(ne,W),ne.index=0,ne.sibling=null,ne}function y(ne,W,se){return ne.index=se,i?(se=ne.alternate,se!==null?(se=se.index,se<W?(ne.flags|=67108866,W):se):(ne.flags|=67108866,W)):(ne.flags|=1048576,W)}function S(ne){return i&&ne.alternate===null&&(ne.flags|=67108866),ne}function O(ne,W,se,pe){return W===null||W.tag!==6?(W=Jp(se,ne.mode,pe),W.return=ne,W):(W=g(W,se),W.return=ne,W)}function Y(ne,W,se,pe){var xe=se.type;return xe===x?de(ne,W,se.props.children,pe,se.key):W!==null&&(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&zE(xe)===W.type)?(W=g(W,se.props),ju(W,se),W.return=ne,W):(W=Gf(se.type,se.key,se.props,null,ne.mode,pe),ju(W,se),W.return=ne,W)}function oe(ne,W,se,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==se.containerInfo||W.stateNode.implementation!==se.implementation?(W=em(se,ne.mode,pe),W.return=ne,W):(W=g(W,se.children||[]),W.return=ne,W)}function de(ne,W,se,pe,xe){return W===null||W.tag!==7?(W=Bo(se,ne.mode,pe,xe),W.return=ne,W):(W=g(W,se),W.return=ne,W)}function me(ne,W,se){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Jp(""+W,ne.mode,se),W.return=ne,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return se=Gf(W.type,W.key,W.props,null,ne.mode,se),ju(se,W),se.return=ne,se;case E:return W=em(W,ne.mode,se),W.return=ne,W;case C:var pe=W._init;return W=pe(W._payload),me(ne,W,se)}if(G(W)||B(W))return W=Bo(W,ne.mode,se,null),W.return=ne,W;if(typeof W.then=="function")return me(ne,uh(W),se);if(W.$$typeof===$)return me(ne,Qf(ne,W),se);ch(ne,W)}return null}function ae(ne,W,se,pe){var xe=W!==null?W.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return xe!==null?null:O(ne,W,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return se.key===xe?Y(ne,W,se,pe):null;case E:return se.key===xe?oe(ne,W,se,pe):null;case C:return xe=se._init,se=xe(se._payload),ae(ne,W,se,pe)}if(G(se)||B(se))return xe!==null?null:de(ne,W,se,pe,null);if(typeof se.then=="function")return ae(ne,W,uh(se),pe);if(se.$$typeof===$)return ae(ne,W,Qf(ne,se),pe);ch(ne,se)}return null}function le(ne,W,se,pe,xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ne=ne.get(se)||null,O(W,ne,""+pe,xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return ne=ne.get(pe.key===null?se:pe.key)||null,Y(W,ne,pe,xe);case E:return ne=ne.get(pe.key===null?se:pe.key)||null,oe(W,ne,pe,xe);case C:var Qe=pe._init;return pe=Qe(pe._payload),le(ne,W,se,pe,xe)}if(G(pe)||B(pe))return ne=ne.get(se)||null,de(W,ne,pe,xe,null);if(typeof pe.then=="function")return le(ne,W,se,uh(pe),xe);if(pe.$$typeof===$)return le(ne,W,se,Qf(W,pe),xe);ch(W,pe)}return null}function ze(ne,W,se,pe){for(var xe=null,Qe=null,ke=W,Pe=W=0,vn=null;ke!==null&&Pe<se.length;Pe++){ke.index>Pe?(vn=ke,ke=null):vn=ke.sibling;var at=ae(ne,ke,se[Pe],pe);if(at===null){ke===null&&(ke=vn);break}i&&ke&&at.alternate===null&&o(ne,ke),W=y(at,W,Pe),Qe===null?xe=at:Qe.sibling=at,Qe=at,ke=vn}if(Pe===se.length)return l(ne,ke),ct&&Ho(ne,Pe),xe;if(ke===null){for(;Pe<se.length;Pe++)ke=me(ne,se[Pe],pe),ke!==null&&(W=y(ke,W,Pe),Qe===null?xe=ke:Qe.sibling=ke,Qe=ke);return ct&&Ho(ne,Pe),xe}for(ke=c(ke);Pe<se.length;Pe++)vn=le(ke,ne,Pe,se[Pe],pe),vn!==null&&(i&&vn.alternate!==null&&ke.delete(vn.key===null?Pe:vn.key),W=y(vn,W,Pe),Qe===null?xe=vn:Qe.sibling=vn,Qe=vn);return i&&ke.forEach(function(Hs){return o(ne,Hs)}),ct&&Ho(ne,Pe),xe}function Me(ne,W,se,pe){if(se==null)throw Error(r(151));for(var xe=null,Qe=null,ke=W,Pe=W=0,vn=null,at=se.next();ke!==null&&!at.done;Pe++,at=se.next()){ke.index>Pe?(vn=ke,ke=null):vn=ke.sibling;var Hs=ae(ne,ke,at.value,pe);if(Hs===null){ke===null&&(ke=vn);break}i&&ke&&Hs.alternate===null&&o(ne,ke),W=y(Hs,W,Pe),Qe===null?xe=Hs:Qe.sibling=Hs,Qe=Hs,ke=vn}if(at.done)return l(ne,ke),ct&&Ho(ne,Pe),xe;if(ke===null){for(;!at.done;Pe++,at=se.next())at=me(ne,at.value,pe),at!==null&&(W=y(at,W,Pe),Qe===null?xe=at:Qe.sibling=at,Qe=at);return ct&&Ho(ne,Pe),xe}for(ke=c(ke);!at.done;Pe++,at=se.next())at=le(ke,ne,Pe,at.value,pe),at!==null&&(i&&at.alternate!==null&&ke.delete(at.key===null?Pe:at.key),W=y(at,W,Pe),Qe===null?xe=at:Qe.sibling=at,Qe=at);return i&&ke.forEach(function(jk){return o(ne,jk)}),ct&&Ho(ne,Pe),xe}function wt(ne,W,se,pe){if(typeof se=="object"&&se!==null&&se.type===x&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case v:e:{for(var xe=se.key;W!==null;){if(W.key===xe){if(xe=se.type,xe===x){if(W.tag===7){l(ne,W.sibling),pe=g(W,se.props.children),pe.return=ne,ne=pe;break e}}else if(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&zE(xe)===W.type){l(ne,W.sibling),pe=g(W,se.props),ju(pe,se),pe.return=ne,ne=pe;break e}l(ne,W);break}else o(ne,W);W=W.sibling}se.type===x?(pe=Bo(se.props.children,ne.mode,pe,se.key),pe.return=ne,ne=pe):(pe=Gf(se.type,se.key,se.props,null,ne.mode,pe),ju(pe,se),pe.return=ne,ne=pe)}return S(ne);case E:e:{for(xe=se.key;W!==null;){if(W.key===xe)if(W.tag===4&&W.stateNode.containerInfo===se.containerInfo&&W.stateNode.implementation===se.implementation){l(ne,W.sibling),pe=g(W,se.children||[]),pe.return=ne,ne=pe;break e}else{l(ne,W);break}else o(ne,W);W=W.sibling}pe=em(se,ne.mode,pe),pe.return=ne,ne=pe}return S(ne);case C:return xe=se._init,se=xe(se._payload),wt(ne,W,se,pe)}if(G(se))return ze(ne,W,se,pe);if(B(se)){if(xe=B(se),typeof xe!="function")throw Error(r(150));return se=xe.call(se),Me(ne,W,se,pe)}if(typeof se.then=="function")return wt(ne,W,uh(se),pe);if(se.$$typeof===$)return wt(ne,W,Qf(ne,se),pe);ch(ne,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,W!==null&&W.tag===6?(l(ne,W.sibling),pe=g(W,se),pe.return=ne,ne=pe):(l(ne,W),pe=Jp(se,ne.mode,pe),pe.return=ne,ne=pe),S(ne)):l(ne,W)}return function(ne,W,se,pe){try{Hu=0;var xe=wt(ne,W,se,pe);return Za=null,xe}catch(ke){if(ke===Ou||ke===Zf)throw ke;var Qe=lr(29,ke,null,ne.mode);return Qe.lanes=pe,Qe.return=ne,Qe}finally{}}}var Ja=BE(!0),FE=BE(!1),Pr=Q(null),yi=null;function Cs(i){var o=i.alternate;k(fn,fn.current&1),k(Pr,i),yi===null&&(o===null||Ka.current!==null||o.memoizedState!==null)&&(yi=i)}function HE(i){if(i.tag===22){if(k(fn,fn.current),k(Pr,i),yi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(yi=i)}}else Rs()}function Rs(){k(fn,fn.current),k(Pr,Pr.current)}function Xi(i){re(Pr),yi===i&&(yi=null),re(fn)}var fn=Q(0);function fh(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||bg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Om(i,o,l,c){o=i.memoizedState,l=l(c,o),l=l==null?o:m({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Mm={enqueueSetState:function(i,o,l){i=i._reactInternals;var c=hr(),g=Ss(c);g.payload=o,l!=null&&(g.callback=l),o=As(i,g,c),o!==null&&(dr(o,i,c),Pu(o,i,c))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var c=hr(),g=Ss(c);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=As(i,g,c),o!==null&&(dr(o,i,c),Pu(o,i,c))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=hr(),c=Ss(l);c.tag=2,o!=null&&(c.callback=o),o=As(i,c,l),o!==null&&(dr(o,i,l),Pu(o,i,l))}};function jE(i,o,l,c,g,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,S):o.prototype&&o.prototype.isPureReactComponent?!Au(l,c)||!Au(g,y):!0}function qE(i,o,l,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==i&&Mm.enqueueReplaceState(o,o.state,null)}function Xo(i,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(i=i.defaultProps){l===o&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var hh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $E(i){hh(i)}function GE(i){console.error(i)}function YE(i){hh(i)}function dh(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function KE(i,o,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Pm(i,o,l){return l=Ss(l),l.tag=3,l.payload={element:null},l.callback=function(){dh(i,o)},l}function XE(i){return i=Ss(i),i.tag=3,i}function QE(i,o,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;i.payload=function(){return g(y)},i.callback=function(){KE(o,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){KE(o,l,c),typeof g!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function jN(i,o,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Nu(o,l,g,!0),l=Pr.current,l!==null){switch(l.tag){case 13:return yi===null?sg():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===cm?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),ag(i,c,g)),!1;case 22:return l.flags|=65536,c===cm?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),ag(i,c,g)),!1}throw Error(r(435,l.tag))}return ag(i,c,g),sg(),!1}if(ct)return o=Pr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,c!==rm&&(i=Error(r(422),{cause:c}),Iu(kr(i,l)))):(c!==rm&&(o=Error(r(423),{cause:c}),Iu(kr(o,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=kr(c,l),g=Pm(i.stateNode,c,g),dm(i,g),qt!==4&&(qt=2)),!1;var y=Error(r(520),{cause:c});if(y=kr(y,l),Qu===null?Qu=[y]:Qu.push(y),qt!==4&&(qt=2),o===null)return!0;c=kr(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Pm(l.stateNode,c,i),dm(l,i),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ms===null||!Ms.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=XE(g),QE(g,i,l,c),dm(l,g),!1}l=l.return}while(l!==null);return!1}var WE=Error(r(461)),yn=!1;function xn(i,o,l,c){o.child=i===null?FE(o,null,l,c):Ja(o,i.child,l,c)}function ZE(i,o,l,c,g){l=l.render;var y=o.ref;if("ref"in c){var S={};for(var O in c)O!=="ref"&&(S[O]=c[O])}else S=c;return Go(o),c=_m(i,o,l,S,y,g),O=vm(),i!==null&&!yn?(Em(i,o,g),Qi(i,o,g)):(ct&&O&&tm(o),o.flags|=1,xn(i,o,c,g),o.child)}function JE(i,o,l,c,g){if(i===null){var y=l.type;return typeof y=="function"&&!Zp(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,ew(i,o,y,c,g)):(i=Gf(l.type,null,c,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!jm(i,g)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Au,l(S,c)&&i.ref===o.ref)return Qi(i,o,g)}return o.flags|=1,i=ji(y,c),i.ref=o.ref,i.return=o,o.child=i}function ew(i,o,l,c,g){if(i!==null){var y=i.memoizedProps;if(Au(y,c)&&i.ref===o.ref)if(yn=!1,o.pendingProps=c=y,jm(i,g))(i.flags&131072)!==0&&(yn=!0);else return o.lanes=i.lanes,Qi(i,o,g)}return Vm(i,o,l,c,g)}function tw(i,o,l){var c=o.pendingProps,g=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(g=o.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return nw(i,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wf(o,y!==null?y.cachePool:null),y!==null?eE(o,y):mm(),HE(o);else return o.lanes=o.childLanes=536870912,nw(i,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(Wf(o,y.cachePool),eE(o,y),Rs(),o.memoizedState=null):(i!==null&&Wf(o,null),mm(),Rs());return xn(i,o,g,l),o.child}function nw(i,o,l,c){var g=um();return g=g===null?null:{parent:cn._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},i!==null&&Wf(o,null),mm(),HE(o),i!==null&&Nu(i,o,c,!0),null}function ph(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function Vm(i,o,l,c,g){return Go(o),l=_m(i,o,l,c,void 0,g),c=vm(),i!==null&&!yn?(Em(i,o,g),Qi(i,o,g)):(ct&&c&&tm(o),o.flags|=1,xn(i,o,l,g),o.child)}function rw(i,o,l,c,g,y){return Go(o),o.updateQueue=null,l=nE(o,c,l,g),tE(i),c=vm(),i!==null&&!yn?(Em(i,o,y),Qi(i,o,y)):(ct&&c&&tm(o),o.flags|=1,xn(i,o,l,y),o.child)}function iw(i,o,l,c,g){if(Go(o),o.stateNode===null){var y=ja,S=l.contextType;typeof S=="object"&&S!==null&&(y=Dn(S)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Mm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},fm(o),S=l.contextType,y.context=typeof S=="object"&&S!==null?Dn(S):ja,y.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Om(o,l,S,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Mm.enqueueReplaceState(y,y.state,null),Lu(o,c,y,g),Vu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(i===null){y=o.stateNode;var O=o.memoizedProps,Y=Xo(l,O);y.props=Y;var oe=y.context,de=l.contextType;S=ja,typeof de=="object"&&de!==null&&(S=Dn(de));var me=l.getDerivedStateFromProps;de=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||oe!==S)&&qE(o,y,c,S),Ts=!1;var ae=o.memoizedState;y.state=ae,Lu(o,c,y,g),Vu(),oe=o.memoizedState,O||ae!==oe||Ts?(typeof me=="function"&&(Om(o,l,me,c),oe=o.memoizedState),(Y=Ts||jE(o,l,Y,c,ae,oe,S))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=oe),y.props=c,y.state=oe,y.context=S,c=Y):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,hm(i,o),S=o.memoizedProps,de=Xo(l,S),y.props=de,me=o.pendingProps,ae=y.context,oe=l.contextType,Y=ja,typeof oe=="object"&&oe!==null&&(Y=Dn(oe)),O=l.getDerivedStateFromProps,(oe=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==me||ae!==Y)&&qE(o,y,c,Y),Ts=!1,ae=o.memoizedState,y.state=ae,Lu(o,c,y,g),Vu();var le=o.memoizedState;S!==me||ae!==le||Ts||i!==null&&i.dependencies!==null&&Xf(i.dependencies)?(typeof O=="function"&&(Om(o,l,O,c),le=o.memoizedState),(de=Ts||jE(o,l,de,c,ae,le,Y)||i!==null&&i.dependencies!==null&&Xf(i.dependencies))?(oe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,Y)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=le),y.props=c,y.state=le,y.context=Y,c=de):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),c=!1)}return y=c,ph(i,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,i!==null&&c?(o.child=Ja(o,i.child,null,g),o.child=Ja(o,null,l,g)):xn(i,o,l,g),o.memoizedState=y.state,i=o.child):i=Qi(i,o,g),i}function sw(i,o,l,c){return Ru(),o.flags|=256,xn(i,o,l,c),o.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(i){return{baseLanes:i,cachePool:G0()}}function zm(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Vr),i}function ow(i,o,l){var c=o.pendingProps,g=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(fn.current&2)!==0),S&&(g=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,i===null){if(ct){if(g?Cs(o):Rs(),ct){var O=jt,Y;if(Y=O){e:{for(Y=O,O=gi;Y.nodeType!==8;){if(!O){O=null;break e}if(Y=Kr(Y.nextSibling),Y===null){O=null;break e}}O=Y}O!==null?(o.memoizedState={dehydrated:O,treeContext:Fo!==null?{id:qi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},Y=lr(18,null,null,0),Y.stateNode=O,Y.return=o,o.child=Y,jn=o,jt=null,Y=!0):Y=!1}Y||qo(o)}if(O=o.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return bg(O)?o.lanes=32:o.lanes=536870912,null;Xi(o)}return O=c.children,c=c.fallback,g?(Rs(),g=o.mode,O=mh({mode:"hidden",children:O},g),c=Bo(c,g,l,null),O.return=o,c.return=o,O.sibling=c,o.child=O,g=o.child,g.memoizedState=Um(l),g.childLanes=zm(i,S,l),o.memoizedState=Lm,c):(Cs(o),Bm(o,O))}if(Y=i.memoizedState,Y!==null&&(O=Y.dehydrated,O!==null)){if(y)o.flags&256?(Cs(o),o.flags&=-257,o=Fm(i,o,l)):o.memoizedState!==null?(Rs(),o.child=i.child,o.flags|=128,o=null):(Rs(),g=c.fallback,O=o.mode,c=mh({mode:"visible",children:c.children},O),g=Bo(g,O,l,null),g.flags|=2,c.return=o,g.return=o,c.sibling=g,o.child=c,Ja(o,i.child,null,l),c=o.child,c.memoizedState=Um(l),c.childLanes=zm(i,S,l),o.memoizedState=Lm,o=g);else if(Cs(o),bg(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var oe=S.dgst;S=oe,c=Error(r(419)),c.stack="",c.digest=S,Iu({value:c,source:null,stack:null}),o=Fm(i,o,l)}else if(yn||Nu(i,o,l,!1),S=(l&i.childLanes)!==0,yn||S){if(S=xt,S!==null&&(c=l&-l,c=(c&42)!==0?1:ni(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==Y.retryLane))throw Y.retryLane=c,Ha(i,c),dr(S,i,c),WE;O.data==="$?"||sg(),o=Fm(i,o,l)}else O.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=Y.treeContext,jt=Kr(O.nextSibling),jn=o,ct=!0,jo=null,gi=!1,i!==null&&(Or[Mr++]=qi,Or[Mr++]=$i,Or[Mr++]=Fo,qi=i.id,$i=i.overflow,Fo=o),o=Bm(o,c.children),o.flags|=4096);return o}return g?(Rs(),g=c.fallback,O=o.mode,Y=i.child,oe=Y.sibling,c=ji(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,oe!==null?g=ji(oe,g):(g=Bo(g,O,l,null),g.flags|=2),g.return=o,c.return=o,c.sibling=g,o.child=c,c=g,g=o.child,O=i.child.memoizedState,O===null?O=Um(l):(Y=O.cachePool,Y!==null?(oe=cn._currentValue,Y=Y.parent!==oe?{parent:oe,pool:oe}:Y):Y=G0(),O={baseLanes:O.baseLanes|l,cachePool:Y}),g.memoizedState=O,g.childLanes=zm(i,S,l),o.memoizedState=Lm,c):(Cs(o),l=i.child,i=l.sibling,l=ji(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,i!==null&&(S=o.deletions,S===null?(o.deletions=[i],o.flags|=16):S.push(i)),o.child=l,o.memoizedState=null,l)}function Bm(i,o){return o=mh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function mh(i,o){return i=lr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Fm(i,o,l){return Ja(o,i.child,null,l),i=Bm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function aw(i,o,l){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),sm(i.return,o,l)}function Hm(i,o,l,c,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=g)}function lw(i,o,l){var c=o.pendingProps,g=c.revealOrder,y=c.tail;if(xn(i,o,c.children,l),c=fn.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&aw(i,l,o);else if(i.tag===19)aw(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(k(fn,c),g){case"forwards":for(l=o.child,g=null;l!==null;)i=l.alternate,i!==null&&fh(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),Hm(o,!1,g,l,y);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&fh(i)===null){o.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Hm(o,!0,l,null,y);break;case"together":Hm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Os|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(Nu(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=ji(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=ji(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function jm(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Xf(i)))}function qN(i,o,l){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),bs(o,cn,i.memoizedState.cache),Ru();break;case 27:case 5:Ue(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:bs(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(Cs(o),o.flags|=128,null):(l&o.child.childLanes)!==0?ow(i,o,l):(Cs(o),i=Qi(i,o,l),i!==null?i.sibling:null);Cs(o);break;case 19:var g=(i.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Nu(i,o,l,!1),c=(l&o.childLanes)!==0),g){if(c)return lw(i,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),k(fn,fn.current),c)break;return null;case 22:case 23:return o.lanes=0,tw(i,o,l);case 24:bs(o,cn,i.memoizedState.cache)}return Qi(i,o,l)}function uw(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)yn=!0;else{if(!jm(i,l)&&(o.flags&128)===0)return yn=!1,qN(i,o,l);yn=(i.flags&131072)!==0}else yn=!1,ct&&(o.flags&1048576)!==0&&z0(o,Kf,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var c=o.elementType,g=c._init;if(c=g(c._payload),o.type=c,typeof c=="function")Zp(c)?(i=Xo(c,i),o.tag=1,o=iw(null,o,c,i,l)):(o.tag=0,o=Vm(null,o,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===H){o.tag=11,o=ZE(null,o,c,i,l);break e}else if(g===U){o.tag=14,o=JE(null,o,c,i,l);break e}}throw o=N(c)||c,Error(r(306,o,""))}}return o;case 0:return Vm(i,o,o.type,o.pendingProps,l);case 1:return c=o.type,g=Xo(c,o.pendingProps),iw(i,o,c,g,l);case 3:e:{if(Se(o,o.stateNode.containerInfo),i===null)throw Error(r(387));c=o.pendingProps;var y=o.memoizedState;g=y.element,hm(i,o),Lu(o,c,null,l);var S=o.memoizedState;if(c=S.cache,bs(o,cn,c),c!==y.cache&&om(o,[cn],l,!0),Vu(),c=S.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=sw(i,o,c,l);break e}else if(c!==g){g=kr(Error(r(424)),o),Iu(g),o=sw(i,o,c,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(jt=Kr(i.firstChild),jn=o,ct=!0,jo=null,gi=!0,l=FE(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ru(),c===g){o=Qi(i,o,l);break e}xn(i,o,c,l)}o=o.child}return o;case 26:return ph(i,o),i===null?(l=db(o.type,null,o.pendingProps,null))?o.memoizedState=l:ct||(l=o.type,i=o.pendingProps,c=Ih(_e.current).createElement(l),c[Yt]=o,c[Ht]=i,Rn(c,l,i),Lt(c),o.stateNode=c):o.memoizedState=db(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ue(o),i===null&&ct&&(c=o.stateNode=cb(o.type,o.pendingProps,_e.current),jn=o,gi=!0,g=jt,Ls(o.type)?(Tg=g,jt=Kr(c.firstChild)):jt=g),xn(i,o,o.pendingProps.children,l),ph(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ct&&((g=c=jt)&&(c=_k(c,o.type,o.pendingProps,gi),c!==null?(o.stateNode=c,jn=o,jt=Kr(c.firstChild),gi=!1,g=!0):g=!1),g||qo(o)),Ue(o),g=o.type,y=o.pendingProps,S=i!==null?i.memoizedProps:null,c=y.children,vg(g,y)?c=null:S!==null&&vg(g,S)&&(o.flags|=32),o.memoizedState!==null&&(g=_m(i,o,VN,null,null,l),sc._currentValue=g),ph(i,o),xn(i,o,c,l),o.child;case 6:return i===null&&ct&&((i=l=jt)&&(l=vk(l,o.pendingProps,gi),l!==null?(o.stateNode=l,jn=o,jt=null,i=!0):i=!1),i||qo(o)),null;case 13:return ow(i,o,l);case 4:return Se(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=Ja(o,null,c,l):xn(i,o,c,l),o.child;case 11:return ZE(i,o,o.type,o.pendingProps,l);case 7:return xn(i,o,o.pendingProps,l),o.child;case 8:return xn(i,o,o.pendingProps.children,l),o.child;case 12:return xn(i,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,bs(o,o.type,c.value),xn(i,o,c.children,l),o.child;case 9:return g=o.type._context,c=o.pendingProps.children,Go(o),g=Dn(g),c=c(g),o.flags|=1,xn(i,o,c,l),o.child;case 14:return JE(i,o,o.type,o.pendingProps,l);case 15:return ew(i,o,o.type,o.pendingProps,l);case 19:return lw(i,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},i===null?(l=mh(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=ji(i.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return tw(i,o,l);case 24:return Go(o),c=Dn(cn),i===null?(g=um(),g===null&&(g=xt,y=am(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),o.memoizedState={parent:c,cache:g},fm(o),bs(o,cn,g)):((i.lanes&l)!==0&&(hm(i,o),Lu(o,null,null,l),Vu()),g=i.memoizedState,y=o.memoizedState,g.parent!==c?(g={parent:c,cache:c},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),bs(o,cn,c)):(c=y.cache,bs(o,cn,c),c!==g.cache&&om(o,[cn],l,!0))),xn(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Wi(i){i.flags|=4}function cw(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_b(o)){if(o=Pr.current,o!==null&&((it&4194048)===it?yi!==null:(it&62914560)!==it&&(it&536870912)===0||o!==yi))throw Mu=cm,Y0;i.flags|=8192}}function gh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Hr():536870912,i.lanes|=o,rl|=o)}function qu(i,o){if(!ct)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(o)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,o}function $N(i,o,l){var c=o.pendingProps;switch(nm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return Ut(o),null;case 3:return l=o.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Yi(cn),He(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Cu(o)?Wi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,H0())),Ut(o),null;case 26:return l=o.memoizedState,i===null?(Wi(o),l!==null?(Ut(o),cw(o,l)):(Ut(o),o.flags&=-16777217)):l?l!==i.memoizedState?(Wi(o),Ut(o),cw(o,l)):(Ut(o),o.flags&=-16777217):(i.memoizedProps!==c&&Wi(o),Ut(o),o.flags&=-16777217),null;case 27:lt(o),l=_e.current;var g=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==c&&Wi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}i=ce.current,Cu(o)?B0(o):(i=cb(g,c,l),o.stateNode=i,Wi(o))}return Ut(o),null;case 5:if(lt(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==c&&Wi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}if(i=ce.current,Cu(o))B0(o);else{switch(g=Ih(_e.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[Yt]=o,i[Ht]=c;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=i;e:switch(Rn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wi(o)}}return Ut(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==c&&Wi(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(i=_e.current,Cu(o)){if(i=o.stateNode,l=o.memoizedProps,c=null,g=jn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Yt]=o,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||rb(i.nodeValue,l)),i||qo(o)}else i=Ih(i).createTextNode(c),i[Yt]=o,o.stateNode=i}return Ut(o),null;case 13:if(c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Cu(o),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Yt]=o}else Ru(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),g=!1}else g=H0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Xi(o),o):(Xi(o),null)}if(Xi(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=o.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),gh(o,o.updateQueue),Ut(o),null;case 4:return He(),i===null&&pg(o.stateNode.containerInfo),Ut(o),null;case 10:return Yi(o.type),Ut(o),null;case 19:if(re(fn),g=o.memoizedState,g===null)return Ut(o),null;if(c=(o.flags&128)!==0,y=g.rendering,y===null)if(c)qu(g,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(y=fh(i),y!==null){for(o.flags|=128,qu(g,!1),i=y.updateQueue,o.updateQueue=i,gh(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)U0(l,i),l=l.sibling;return k(fn,fn.current&1|2),o.child}i=i.sibling}g.tail!==null&&Be()>vh&&(o.flags|=128,c=!0,qu(g,!1),o.lanes=4194304)}else{if(!c)if(i=fh(y),i!==null){if(o.flags|=128,c=!0,i=i.updateQueue,o.updateQueue=i,gh(o,i),qu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!ct)return Ut(o),null}else 2*Be()-g.renderingStartTime>vh&&l!==536870912&&(o.flags|=128,c=!0,qu(g,!1),o.lanes=4194304);g.isBackwards?(y.sibling=o.child,o.child=y):(i=g.last,i!==null?i.sibling=y:o.child=y,g.last=y)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Be(),o.sibling=null,i=fn.current,k(fn,c?i&1|2:i&1),o):(Ut(o),null);case 22:case 23:return Xi(o),gm(),c=o.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),l=o.updateQueue,l!==null&&gh(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),i!==null&&re(Yo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Yi(cn),Ut(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function GN(i,o){switch(nm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Yi(cn),He(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return lt(o),null;case 13:if(Xi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ru()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return re(fn),null;case 4:return He(),null;case 10:return Yi(o.type),null;case 22:case 23:return Xi(o),gm(),i!==null&&re(Yo),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Yi(cn),null;case 25:return null;default:return null}}function fw(i,o){switch(nm(o),o.tag){case 3:Yi(cn),He();break;case 26:case 27:case 5:lt(o);break;case 4:He();break;case 13:Xi(o);break;case 19:re(fn);break;case 10:Yi(o.type);break;case 22:case 23:Xi(o),gm(),i!==null&&re(Yo);break;case 24:Yi(cn)}}function $u(i,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var y=l.create,S=l.inst;c=y(),S.destroy=c}l=l.next}while(l!==g)}}catch(O){Tt(o,o.return,O)}}function Is(i,o,l){try{var c=o.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&i)===i){var S=c.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,g=o;var Y=l,oe=O;try{oe()}catch(de){Tt(g,Y,de)}}}c=c.next}while(c!==y)}}catch(de){Tt(o,o.return,de)}}function hw(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{J0(o,l)}catch(c){Tt(i,i.return,c)}}}function dw(i,o,l){l.props=Xo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Tt(i,o,c)}}function Gu(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){Tt(i,o,g)}}function _i(i,o){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Tt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Tt(i,o,g)}else l.current=null}function pw(i){var o=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Tt(i,i.return,g)}}function qm(i,o,l){try{var c=i.stateNode;dk(c,i.type,l,o),c[Ht]=o}catch(g){Tt(i,i.return,g)}}function mw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ls(i.type)||i.tag===4}function $m(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||mw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gm(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Rh));else if(c!==4&&(c===27&&Ls(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(Gm(i,o,l),i=i.sibling;i!==null;)Gm(i,o,l),i=i.sibling}function yh(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(c!==4&&(c===27&&Ls(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(yh(i,o,l),i=i.sibling;i!==null;)yh(i,o,l),i=i.sibling}function gw(i){var o=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Rn(o,c,l),o[Yt]=i,o[Ht]=l}catch(y){Tt(i,i.return,y)}}var Zi=!1,Xt=!1,Ym=!1,yw=typeof WeakSet=="function"?WeakSet:Set,_n=null;function YN(i,o){if(i=i.containerInfo,yg=Ph,i=R0(i),$p(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,O=-1,Y=-1,oe=0,de=0,me=i,ae=null;t:for(;;){for(var le;me!==l||g!==0&&me.nodeType!==3||(O=S+g),me!==y||c!==0&&me.nodeType!==3||(Y=S+c),me.nodeType===3&&(S+=me.nodeValue.length),(le=me.firstChild)!==null;)ae=me,me=le;for(;;){if(me===i)break t;if(ae===l&&++oe===g&&(O=S),ae===y&&++de===c&&(Y=S),(le=me.nextSibling)!==null)break;me=ae,ae=me.parentNode}me=le}l=O===-1||Y===-1?null:{start:O,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(_g={focusedElem:i,selectionRange:l},Ph=!1,_n=o;_n!==null;)if(o=_n,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,_n=i;else for(;_n!==null;){switch(o=_n,y=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=o,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var ze=Xo(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(ze,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Me){Tt(l,l.return,Me)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)wg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,_n=i;break}_n=o.return}}function _w(i,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ns(i,l),c&4&&$u(5,l);break;case 1:if(Ns(i,l),c&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(S){Tt(l,l.return,S)}else{var g=Xo(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Tt(l,l.return,S)}}c&64&&hw(l),c&512&&Gu(l,l.return);break;case 3:if(Ns(i,l),c&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{J0(i,o)}catch(S){Tt(l,l.return,S)}}break;case 27:o===null&&c&4&&gw(l);case 26:case 5:Ns(i,l),o===null&&c&4&&pw(l),c&512&&Gu(l,l.return);break;case 12:Ns(i,l);break;case 13:Ns(i,l),c&4&&ww(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=nk.bind(null,l),Ek(i,l))));break;case 22:if(c=l.memoizedState!==null||Zi,!c){o=o!==null&&o.memoizedState!==null||Xt,g=Zi;var y=Xt;Zi=c,(Xt=o)&&!y?ks(i,l,(l.subtreeFlags&8772)!==0):Ns(i,l),Zi=g,Xt=y}break;case 30:break;default:Ns(i,l)}}function vw(i){var o=i.alternate;o!==null&&(i.alternate=null,vw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&si(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Pt=null,Xn=!1;function Ji(i,o,l){for(l=l.child;l!==null;)Ew(i,o,l),l=l.sibling}function Ew(i,o,l){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(te,l)}catch{}switch(l.tag){case 26:Xt||_i(l,o),Ji(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xt||_i(l,o);var c=Pt,g=Xn;Ls(l.type)&&(Pt=l.stateNode,Xn=!1),Ji(i,o,l),tc(l.stateNode),Pt=c,Xn=g;break;case 5:Xt||_i(l,o);case 6:if(c=Pt,g=Xn,Pt=null,Ji(i,o,l),Pt=c,Xn=g,Pt!==null)if(Xn)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(l.stateNode)}catch(y){Tt(l,o,y)}else try{Pt.removeChild(l.stateNode)}catch(y){Tt(l,o,y)}break;case 18:Pt!==null&&(Xn?(i=Pt,lb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),uc(i)):lb(Pt,l.stateNode));break;case 4:c=Pt,g=Xn,Pt=l.stateNode.containerInfo,Xn=!0,Ji(i,o,l),Pt=c,Xn=g;break;case 0:case 11:case 14:case 15:Xt||Is(2,l,o),Xt||Is(4,l,o),Ji(i,o,l);break;case 1:Xt||(_i(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&dw(l,o,c)),Ji(i,o,l);break;case 21:Ji(i,o,l);break;case 22:Xt=(c=Xt)||l.memoizedState!==null,Ji(i,o,l),Xt=c;break;default:Ji(i,o,l)}}function ww(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uc(i)}catch(l){Tt(o,o.return,l)}}function KN(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new yw),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new yw),o;default:throw Error(r(435,i.tag))}}function Km(i,o){var l=KN(i);o.forEach(function(c){var g=rk.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function ur(i,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=i,S=o,O=S;e:for(;O!==null;){switch(O.tag){case 27:if(Ls(O.type)){Pt=O.stateNode,Xn=!1;break e}break;case 5:Pt=O.stateNode,Xn=!1;break e;case 3:case 4:Pt=O.stateNode.containerInfo,Xn=!0;break e}O=O.return}if(Pt===null)throw Error(r(160));Ew(y,S,g),Pt=null,Xn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)bw(o,i),o=o.sibling}var Yr=null;function bw(i,o){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ur(o,i),cr(i),c&4&&(Is(3,i,i.return),$u(3,i),Is(5,i,i.return));break;case 1:ur(o,i),cr(i),c&512&&(Xt||l===null||_i(l,l.return)),c&64&&Zi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Yr;if(ur(o,i),cr(i),c&512&&(Xt||l===null||_i(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Mi]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),Rn(y,c,l),y[Yt]=i,Lt(y),c=y;break e;case"link":var S=gb("link","href",g).get(c+(l.href||""));if(S){for(var O=0;O<S.length;O++)if(y=S[O],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(O,1);break t}}y=g.createElement(c),Rn(y,c,l),g.head.appendChild(y);break;case"meta":if(S=gb("meta","content",g).get(c+(l.content||""))){for(O=0;O<S.length;O++)if(y=S[O],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(O,1);break t}}y=g.createElement(c),Rn(y,c,l),g.head.appendChild(y);break;default:throw Error(r(468,c))}y[Yt]=i,Lt(y),c=y}i.stateNode=c}else yb(g,i.type,i.stateNode);else i.stateNode=mb(g,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?yb(g,i.type,i.stateNode):mb(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&qm(i,i.memoizedProps,l.memoizedProps)}break;case 27:ur(o,i),cr(i),c&512&&(Xt||l===null||_i(l,l.return)),l!==null&&c&4&&qm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ur(o,i),cr(i),c&512&&(Xt||l===null||_i(l,l.return)),i.flags&32){g=i.stateNode;try{Cr(g,"")}catch(le){Tt(i,i.return,le)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,qm(i,g,l!==null?l.memoizedProps:g)),c&1024&&(Ym=!0);break;case 6:if(ur(o,i),cr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(le){Tt(i,i.return,le)}}break;case 3:if(Dh=null,g=Yr,Yr=Nh(o.containerInfo),ur(o,i),Yr=g,cr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{uc(o.containerInfo)}catch(le){Tt(i,i.return,le)}Ym&&(Ym=!1,Tw(i));break;case 4:c=Yr,Yr=Nh(i.stateNode.containerInfo),ur(o,i),cr(i),Yr=c;break;case 12:ur(o,i),cr(i);break;case 13:ur(o,i),cr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(eg=Be()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Km(i,c)));break;case 22:g=i.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,oe=Zi,de=Xt;if(Zi=oe||g,Xt=de||Y,ur(o,i),Xt=de,Zi=oe,cr(i),c&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||Y||Zi||Xt||Qo(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){Y=l=o;try{if(y=Y.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=Y.stateNode;var me=Y.memoizedProps.style,ae=me!=null&&me.hasOwnProperty("display")?me.display:null;O.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(le){Tt(Y,Y.return,le)}}}else if(o.tag===6){if(l===null){Y=o;try{Y.stateNode.nodeValue=g?"":Y.memoizedProps}catch(le){Tt(Y,Y.return,le)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Km(i,l))));break;case 19:ur(o,i),cr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Km(i,c)));break;case 30:break;case 21:break;default:ur(o,i),cr(i)}}function cr(i){var o=i.flags;if(o&2){try{for(var l,c=i.return;c!==null;){if(mw(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=$m(i);yh(i,y,g);break;case 5:var S=l.stateNode;l.flags&32&&(Cr(S,""),l.flags&=-33);var O=$m(i);yh(i,O,S);break;case 3:case 4:var Y=l.stateNode.containerInfo,oe=$m(i);Gm(i,oe,Y);break;default:throw Error(r(161))}}catch(de){Tt(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Tw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Tw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ns(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)_w(i,o.alternate,o),o=o.sibling}function Qo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Is(4,o,o.return),Qo(o);break;case 1:_i(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&dw(o,o.return,l),Qo(o);break;case 27:tc(o.stateNode);case 26:case 5:_i(o,o.return),Qo(o);break;case 22:o.memoizedState===null&&Qo(o);break;case 30:Qo(o);break;default:Qo(o)}i=i.sibling}}function ks(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,g=i,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:ks(g,y,l),$u(4,y);break;case 1:if(ks(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(oe){Tt(c,c.return,oe)}if(c=y,g=c.updateQueue,g!==null){var O=c.stateNode;try{var Y=g.shared.hiddenCallbacks;if(Y!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Y.length;g++)Z0(Y[g],O)}catch(oe){Tt(c,c.return,oe)}}l&&S&64&&hw(y),Gu(y,y.return);break;case 27:gw(y);case 26:case 5:ks(g,y,l),l&&c===null&&S&4&&pw(y),Gu(y,y.return);break;case 12:ks(g,y,l);break;case 13:ks(g,y,l),l&&S&4&&ww(g,y);break;case 22:y.memoizedState===null&&ks(g,y,l),Gu(y,y.return);break;case 30:break;default:ks(g,y,l)}o=o.sibling}}function Xm(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ku(l))}function Qm(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ku(i))}function vi(i,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Sw(i,o,l,c),o=o.sibling}function Sw(i,o,l,c){var g=o.flags;switch(o.tag){case 0:case 11:case 15:vi(i,o,l,c),g&2048&&$u(9,o);break;case 1:vi(i,o,l,c);break;case 3:vi(i,o,l,c),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ku(i)));break;case 12:if(g&2048){vi(i,o,l,c),i=o.stateNode;try{var y=o.memoizedProps,S=y.id,O=y.onPostCommit;typeof O=="function"&&O(S,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){Tt(o,o.return,Y)}}else vi(i,o,l,c);break;case 13:vi(i,o,l,c);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?vi(i,o,l,c):Yu(i,o):y._visibility&2?vi(i,o,l,c):(y._visibility|=2,el(i,o,l,c,(o.subtreeFlags&10256)!==0)),g&2048&&Xm(S,o);break;case 24:vi(i,o,l,c),g&2048&&Qm(o.alternate,o);break;default:vi(i,o,l,c)}}function el(i,o,l,c,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=i,S=o,O=l,Y=c,oe=S.flags;switch(S.tag){case 0:case 11:case 15:el(y,S,O,Y,g),$u(8,S);break;case 23:break;case 22:var de=S.stateNode;S.memoizedState!==null?de._visibility&2?el(y,S,O,Y,g):Yu(y,S):(de._visibility|=2,el(y,S,O,Y,g)),g&&oe&2048&&Xm(S.alternate,S);break;case 24:el(y,S,O,Y,g),g&&oe&2048&&Qm(S.alternate,S);break;default:el(y,S,O,Y,g)}o=o.sibling}}function Yu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,c=o,g=c.flags;switch(c.tag){case 22:Yu(l,c),g&2048&&Xm(c.alternate,c);break;case 24:Yu(l,c),g&2048&&Qm(c.alternate,c);break;default:Yu(l,c)}o=o.sibling}}var Ku=8192;function tl(i){if(i.subtreeFlags&Ku)for(i=i.child;i!==null;)Aw(i),i=i.sibling}function Aw(i){switch(i.tag){case 26:tl(i),i.flags&Ku&&i.memoizedState!==null&&Ok(Yr,i.memoizedState,i.memoizedProps);break;case 5:tl(i);break;case 3:case 4:var o=Yr;Yr=Nh(i.stateNode.containerInfo),tl(i),Yr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Ku,Ku=16777216,tl(i),Ku=o):tl(i));break;default:tl(i)}}function xw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Xu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];_n=c,Rw(c,i)}xw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cw(i),i=i.sibling}function Cw(i){switch(i.tag){case 0:case 11:case 15:Xu(i),i.flags&2048&&Is(9,i,i.return);break;case 3:Xu(i);break;case 12:Xu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,_h(i)):Xu(i);break;default:Xu(i)}}function _h(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];_n=c,Rw(c,i)}xw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Is(8,o,o.return),_h(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,_h(o));break;default:_h(o)}i=i.sibling}}function Rw(i,o){for(;_n!==null;){var l=_n;switch(l.tag){case 0:case 11:case 15:Is(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ku(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,_n=c;else e:for(l=i;_n!==null;){c=_n;var g=c.sibling,y=c.return;if(vw(c),c===l){_n=null;break e}if(g!==null){g.return=y,_n=g;break e}_n=y}}}var XN={getCacheForType:function(i){var o=Dn(cn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},QN=typeof WeakMap=="function"?WeakMap:Map,gt=0,xt=null,Ze=null,it=0,yt=0,fr=null,Ds=!1,nl=!1,Wm=!1,es=0,qt=0,Os=0,Wo=0,Zm=0,Vr=0,rl=0,Qu=null,Qn=null,Jm=!1,eg=0,vh=1/0,Eh=null,Ms=null,Cn=0,Ps=null,il=null,sl=0,tg=0,ng=null,Iw=null,Wu=0,rg=null;function hr(){if((gt&2)!==0&&it!==0)return it&-it;if(L.T!==null){var i=Ga;return i!==0?i:cg()}return ri()}function Nw(){Vr===0&&(Vr=(it&536870912)===0||ct?Oi():536870912);var i=Pr.current;return i!==null&&(i.flags|=32),Vr}function dr(i,o,l){(i===xt&&(yt===2||yt===9)||i.cancelPendingCommit!==null)&&(ol(i,0),Vs(i,it,Vr,!1)),wr(i,l),((gt&2)===0||i!==xt)&&(i===xt&&((gt&2)===0&&(Wo|=l),qt===4&&Vs(i,it,Vr,!1)),Ei(i))}function kw(i,o,l){if((gt&6)!==0)throw Error(r(327));var c=!l&&(o&124)===0&&(o&i.expiredLanes)===0||Ft(i,o),g=c?JN(i,o):og(i,o,!0),y=c;do{if(g===0){nl&&!c&&Vs(i,o,0,!1);break}else{if(l=i.current.alternate,y&&!WN(l)){g=og(i,o,!1),y=!1;continue}if(g===2){if(y=o,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var O=i;g=Qu;var Y=O.current.memoizedState.isDehydrated;if(Y&&(ol(O,S).flags|=256),S=og(O,S,!1),S!==2){if(Wm&&!Y){O.errorRecoveryDisabledLanes|=y,Wo|=y,g=4;break e}y=Qn,Qn=g,y!==null&&(Qn===null?Qn=y:Qn.push.apply(Qn,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){ol(i,0),Vs(i,o,0,!0);break}e:{switch(c=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Vs(c,o,Vr,!Ds);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=eg+300-Be(),10<g)){if(Vs(c,o,Vr,!Ds),ut(c,0,!0)!==0)break e;c.timeoutHandle=ob(Dw.bind(null,c,l,Qn,Eh,Jm,o,Vr,Wo,rl,Ds,y,2,-0,0),g);break e}Dw(c,l,Qn,Eh,Jm,o,Vr,Wo,rl,Ds,y,0,-0,0)}}break}while(!0);Ei(i)}function Dw(i,o,l,c,g,y,S,O,Y,oe,de,me,ae,le){if(i.timeoutHandle=-1,me=o.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(ic={stylesheets:null,count:0,unsuspend:Dk},Aw(o),me=Mk(),me!==null)){i.cancelPendingCommit=me(zw.bind(null,i,o,y,l,c,g,S,O,Y,de,1,ae,le)),Vs(i,y,S,!oe);return}zw(i,o,y,l,c,g,S,O,Y)}function WN(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!ar(y(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vs(i,o,l,c){o&=~Zm,o&=~Wo,i.suspendedLanes|=o,i.pingedLanes&=~o,c&&(i.warmLanes|=o),c=i.expirationTimes;for(var g=o;0<g;){var y=31-Ie(g),S=1<<y;c[y]=-1,g&=~S}l!==0&&br(i,l,o)}function wh(){return(gt&6)===0?(Zu(0),!1):!0}function ig(){if(Ze!==null){if(yt===0)var i=Ze.return;else i=Ze,Gi=$o=null,wm(i),Za=null,Hu=0,i=Ze;for(;i!==null;)fw(i.alternate,i),i=i.return;Ze=null}}function ol(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,mk(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ig(),xt=i,Ze=l=ji(i.current,null),it=o,yt=0,fr=null,Ds=!1,nl=Ft(i,o),Wm=!1,rl=Vr=Zm=Wo=Os=qt=0,Qn=Qu=null,Jm=!1,(o&8)!==0&&(o|=o&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=o;0<c;){var g=31-Ie(c),y=1<<g;o|=i[g],c&=~y}return es=o,jf(),l}function Ow(i,o){Ye=null,L.H=lh,o===Ou||o===Zf?(o=Q0(),yt=3):o===Y0?(o=Q0(),yt=4):yt=o===WE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,fr=o,Ze===null&&(qt=1,dh(i,kr(o,i.current)))}function Mw(){var i=L.H;return L.H=lh,i===null?lh:i}function Pw(){var i=L.A;return L.A=XN,i}function sg(){qt=4,Ds||(it&4194048)!==it&&Pr.current!==null||(nl=!0),(Os&134217727)===0&&(Wo&134217727)===0||xt===null||Vs(xt,it,Vr,!1)}function og(i,o,l){var c=gt;gt|=2;var g=Mw(),y=Pw();(xt!==i||it!==o)&&(Eh=null,ol(i,o)),o=!1;var S=qt;e:do try{if(yt!==0&&Ze!==null){var O=Ze,Y=fr;switch(yt){case 8:ig(),S=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(o=!0);var oe=yt;if(yt=0,fr=null,al(i,O,Y,oe),l&&nl){S=0;break e}break;default:oe=yt,yt=0,fr=null,al(i,O,Y,oe)}}ZN(),S=qt;break}catch(de){Ow(i,de)}while(!0);return o&&i.shellSuspendCounter++,Gi=$o=null,gt=c,L.H=g,L.A=y,Ze===null&&(xt=null,it=0,jf()),S}function ZN(){for(;Ze!==null;)Vw(Ze)}function JN(i,o){var l=gt;gt|=2;var c=Mw(),g=Pw();xt!==i||it!==o?(Eh=null,vh=Be()+500,ol(i,o)):nl=Ft(i,o);e:do try{if(yt!==0&&Ze!==null){o=Ze;var y=fr;t:switch(yt){case 1:yt=0,fr=null,al(i,o,y,1);break;case 2:case 9:if(K0(y)){yt=0,fr=null,Lw(o);break}o=function(){yt!==2&&yt!==9||xt!==i||(yt=7),Ei(i)},y.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:K0(y)?(yt=0,fr=null,Lw(o)):(yt=0,fr=null,al(i,o,y,7));break;case 5:var S=null;switch(Ze.tag){case 26:S=Ze.memoizedState;case 5:case 27:var O=Ze;if(!S||_b(S)){yt=0,fr=null;var Y=O.sibling;if(Y!==null)Ze=Y;else{var oe=O.return;oe!==null?(Ze=oe,bh(oe)):Ze=null}break t}}yt=0,fr=null,al(i,o,y,5);break;case 6:yt=0,fr=null,al(i,o,y,6);break;case 8:ig(),qt=6;break e;default:throw Error(r(462))}}ek();break}catch(de){Ow(i,de)}while(!0);return Gi=$o=null,L.H=c,L.A=g,gt=l,Ze!==null?0:(xt=null,it=0,jf(),qt)}function ek(){for(;Ze!==null&&!Oe();)Vw(Ze)}function Vw(i){var o=uw(i.alternate,i,es);i.memoizedProps=i.pendingProps,o===null?bh(i):Ze=o}function Lw(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=rw(l,o,o.pendingProps,o.type,void 0,it);break;case 11:o=rw(l,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:wm(o);default:fw(l,o),o=Ze=U0(o,es),o=uw(l,o,es)}i.memoizedProps=i.pendingProps,o===null?bh(i):Ze=o}function al(i,o,l,c){Gi=$o=null,wm(o),Za=null,Hu=0;var g=o.return;try{if(jN(i,g,o,l,it)){qt=1,dh(i,kr(l,i.current)),Ze=null;return}}catch(y){if(g!==null)throw Ze=g,y;qt=1,dh(i,kr(l,i.current)),Ze=null;return}o.flags&32768?(ct||c===1?i=!0:nl||(it&536870912)!==0?i=!1:(Ds=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Uw(o,i)):bh(o)}function bh(i){var o=i;do{if((o.flags&32768)!==0){Uw(o,Ds);return}i=o.return;var l=$N(o.alternate,o,es);if(l!==null){Ze=l;return}if(o=o.sibling,o!==null){Ze=o;return}Ze=o=i}while(o!==null);qt===0&&(qt=5)}function Uw(i,o){do{var l=GN(i.alternate,i);if(l!==null){l.flags&=32767,Ze=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){Ze=i;return}Ze=i=l}while(i!==null);qt=6,Ze=null}function zw(i,o,l,c,g,y,S,O,Y){i.cancelPendingCommit=null;do Th();while(Cn!==0);if((gt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=Qp,ir(i,l,y,S,O,Y),i===xt&&(Ze=xt=null,it=0),il=o,Ps=i,sl=l,tg=y,ng=g,Iw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ik(bn,function(){return qw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,g=K.p,K.p=2,S=gt,gt|=4;try{YN(i,o,l)}finally{gt=S,K.p=g,L.T=c}}Cn=1,Bw(),Fw(),Hw()}}function Bw(){if(Cn===1){Cn=0;var i=Ps,o=il,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var c=K.p;K.p=2;var g=gt;gt|=4;try{bw(o,i);var y=_g,S=R0(i.containerInfo),O=y.focusedElem,Y=y.selectionRange;if(S!==O&&O&&O.ownerDocument&&C0(O.ownerDocument.documentElement,O)){if(Y!==null&&$p(O)){var oe=Y.start,de=Y.end;if(de===void 0&&(de=oe),"selectionStart"in O)O.selectionStart=oe,O.selectionEnd=Math.min(de,O.value.length);else{var me=O.ownerDocument||document,ae=me&&me.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),ze=O.textContent.length,Me=Math.min(Y.start,ze),wt=Y.end===void 0?Me:Math.min(Y.end,ze);!le.extend&&Me>wt&&(S=wt,wt=Me,Me=S);var ne=x0(O,Me),W=x0(O,wt);if(ne&&W&&(le.rangeCount!==1||le.anchorNode!==ne.node||le.anchorOffset!==ne.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var se=me.createRange();se.setStart(ne.node,ne.offset),le.removeAllRanges(),Me>wt?(le.addRange(se),le.extend(W.node,W.offset)):(se.setEnd(W.node,W.offset),le.addRange(se))}}}}for(me=[],le=O;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<me.length;O++){var pe=me[O];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Ph=!!yg,_g=yg=null}finally{gt=g,K.p=c,L.T=l}}i.current=o,Cn=2}}function Fw(){if(Cn===2){Cn=0;var i=Ps,o=il,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var c=K.p;K.p=2;var g=gt;gt|=4;try{_w(i,o.alternate,o)}finally{gt=g,K.p=c,L.T=l}}Cn=3}}function Hw(){if(Cn===4||Cn===3){Cn=0,Vt();var i=Ps,o=il,l=sl,c=Iw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Cn=5:(Cn=0,il=Ps=null,jw(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ms=null),ys(l),o=o.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(te,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=L.T,g=K.p,K.p=2,L.T=null;try{for(var y=i.onRecoverableError,S=0;S<c.length;S++){var O=c[S];y(O.value,{componentStack:O.stack})}}finally{L.T=o,K.p=g}}(sl&3)!==0&&Th(),Ei(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===rg?Wu++:(Wu=0,rg=i):Wu=0,Zu(0)}}function jw(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,ku(o)))}function Th(i){return Bw(),Fw(),Hw(),qw()}function qw(){if(Cn!==5)return!1;var i=Ps,o=tg;tg=0;var l=ys(sl),c=L.T,g=K.p;try{K.p=32>l?32:l,L.T=null,l=ng,ng=null;var y=Ps,S=sl;if(Cn=0,il=Ps=null,sl=0,(gt&6)!==0)throw Error(r(331));var O=gt;if(gt|=4,Cw(y.current),Sw(y,y.current,S,l),gt=O,Zu(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(te,y)}catch{}return!0}finally{K.p=g,L.T=c,jw(i,o)}}function $w(i,o,l){o=kr(l,o),o=Pm(i.stateNode,o,2),i=As(i,o,2),i!==null&&(wr(i,2),Ei(i))}function Tt(i,o,l){if(i.tag===3)$w(i,i,l);else for(;o!==null;){if(o.tag===3){$w(o,i,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ms===null||!Ms.has(c))){i=kr(l,i),l=XE(2),c=As(o,l,2),c!==null&&(QE(l,c,o,i),wr(c,2),Ei(c));break}}o=o.return}}function ag(i,o,l){var c=i.pingCache;if(c===null){c=i.pingCache=new QN;var g=new Set;c.set(o,g)}else g=c.get(o),g===void 0&&(g=new Set,c.set(o,g));g.has(l)||(Wm=!0,g.add(l),i=tk.bind(null,i,o,l),o.then(i,i))}function tk(i,o,l){var c=i.pingCache;c!==null&&c.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(it&l)===l&&(qt===4||qt===3&&(it&62914560)===it&&300>Be()-eg?(gt&2)===0&&ol(i,0):Zm|=l,rl===it&&(rl=0)),Ei(i)}function Gw(i,o){o===0&&(o=Hr()),i=Ha(i,o),i!==null&&(wr(i,o),Ei(i))}function nk(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Gw(i,l)}function rk(i,o){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),Gw(i,l)}function ik(i,o){return bt(i,o)}var Sh=null,ll=null,lg=!1,Ah=!1,ug=!1,Zo=0;function Ei(i){i!==ll&&i.next===null&&(ll===null?Sh=ll=i:ll=ll.next=i),Ah=!0,lg||(lg=!0,ok())}function Zu(i,o){if(!ug&&Ah){ug=!0;do for(var l=!1,c=Sh;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var S=c.suspendedLanes,O=c.pingedLanes;y=(1<<31-Ie(42|i)+1)-1,y&=g&~(S&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Qw(c,y))}else y=it,y=ut(c,c===xt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ft(c,y)||(l=!0,Qw(c,y));c=c.next}while(l);ug=!1}}function sk(){Yw()}function Yw(){Ah=lg=!1;var i=0;Zo!==0&&(pk()&&(i=Zo),Zo=0);for(var o=Be(),l=null,c=Sh;c!==null;){var g=c.next,y=Kw(c,o);y===0?(c.next=null,l===null?Sh=g:l.next=g,g===null&&(ll=l)):(l=c,(i!==0||(y&3)!==0)&&(Ah=!0)),c=g}Zu(i)}function Kw(i,o){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Ie(y),O=1<<S,Y=g[S];Y===-1?((O&l)===0||(O&c)!==0)&&(g[S]=on(O,o)):Y<=o&&(i.expiredLanes|=O),y&=~O}if(o=xt,l=it,l=ut(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===o&&(yt===2||yt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&mt(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ft(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(c!==null&&mt(c),ys(l)){case 2:case 8:l=sn;break;case 32:l=bn;break;case 268435456:l=Tn;break;default:l=bn}return c=Xw.bind(null,i),l=bt(l,c),i.callbackPriority=o,i.callbackNode=l,o}return c!==null&&c!==null&&mt(c),i.callbackPriority=2,i.callbackNode=null,2}function Xw(i,o){if(Cn!==0&&Cn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Th()&&i.callbackNode!==l)return null;var c=it;return c=ut(i,i===xt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(kw(i,c,o),Kw(i,Be()),i.callbackNode!=null&&i.callbackNode===l?Xw.bind(null,i):null)}function Qw(i,o){if(Th())return null;kw(i,o,!0)}function ok(){gk(function(){(gt&6)!==0?bt(Ot,sk):Yw()})}function cg(){return Zo===0&&(Zo=Oi()),Zo}function Ww(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Na(""+i)}function Zw(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function ak(i,o,l,c,g){if(o==="submit"&&l&&l.stateNode===g){var y=Ww((g[Ht]||null).action),S=c.submitter;S&&(o=(o=S[Ht]||null)?Ww(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var O=new ka("action","action",null,c,g);i.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Zo!==0){var Y=S?Zw(g,S):new FormData(g);Nm(l,{pending:!0,data:Y,method:g.method,action:y},null,Y)}}else typeof y=="function"&&(O.preventDefault(),Y=S?Zw(g,S):new FormData(g),Nm(l,{pending:!0,data:Y,method:g.method,action:y},y,Y))},currentTarget:g}]})}}for(var fg=0;fg<Xp.length;fg++){var hg=Xp[fg],lk=hg.toLowerCase(),uk=hg[0].toUpperCase()+hg.slice(1);Gr(lk,"on"+uk)}Gr(k0,"onAnimationEnd"),Gr(D0,"onAnimationIteration"),Gr(O0,"onAnimationStart"),Gr("dblclick","onDoubleClick"),Gr("focusin","onFocus"),Gr("focusout","onBlur"),Gr(xN,"onTransitionRun"),Gr(CN,"onTransitionStart"),Gr(RN,"onTransitionCancel"),Gr(M0,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ck=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function Jw(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var S=c.length-1;0<=S;S--){var O=c[S],Y=O.instance,oe=O.currentTarget;if(O=O.listener,Y!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=oe;try{y(g)}catch(de){hh(de)}g.currentTarget=null,y=Y}else for(S=0;S<c.length;S++){if(O=c[S],Y=O.instance,oe=O.currentTarget,O=O.listener,Y!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=oe;try{y(g)}catch(de){hh(de)}g.currentTarget=null,y=Y}}}}function Je(i,o){var l=o[So];l===void 0&&(l=o[So]=new Set);var c=i+"__bubble";l.has(c)||(eb(o,i,2,!1),l.add(c))}function dg(i,o,l){var c=0;o&&(c|=4),eb(l,i,c,o)}var xh="_reactListening"+Math.random().toString(36).slice(2);function pg(i){if(!i[xh]){i[xh]=!0,Ao.forEach(function(l){l!=="selectionchange"&&(ck.has(l)||dg(l,!1,i),dg(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[xh]||(o[xh]=!0,dg("selectionchange",!1,o))}}function eb(i,o,l,c){switch(Sb(o)){case 2:var g=Lk;break;case 8:g=Uk;break;default:g=Rg}l=g.bind(null,o,l,i),g=void 0,!Ir||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(o,l,{capture:!0,passive:g}):i.addEventListener(o,l,!0):g!==void 0?i.addEventListener(o,l,{passive:g}):i.addEventListener(o,l,!1)}function mg(i,o,l,c,g){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var O=c.stateNode.containerInfo;if(O===g)break;if(S===4)for(S=c.return;S!==null;){var Y=S.tag;if((Y===3||Y===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;O!==null;){if(S=Tr(O),S===null)return;if(Y=S.tag,Y===5||Y===6||Y===26||Y===27){c=y=S;continue e}O=O.parentNode}}c=c.return}Rf(function(){var oe=y,de=Rr(l),me=[];e:{var ae=P0.get(i);if(ae!==void 0){var le=ka,ze=i;switch(i){case"keypress":if(fi(l)===0)break e;case"keydown":case"keyup":le=La;break;case"focusin":ze="focus",le=Ma;break;case"focusout":ze="blur",le=Ma;break;case"beforeblur":case"afterblur":le=Ma;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Vf;break;case k0:case D0:case O0:le=Pa;break;case M0:le=Uf;break;case"scroll":case"scrollend":le=If;break;case"wheel":le=Ua;break;case"copy":case"cut":case"paste":le=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Tu;break;case"toggle":case"beforetoggle":le=Bf}var Me=(o&4)!==0,wt=!Me&&(i==="scroll"||i==="scrollend"),ne=Me?ae!==null?ae+"Capture":null:ae;Me=[];for(var W=oe,se;W!==null;){var pe=W;if(se=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||se===null||ne===null||(pe=ko(W,ne),pe!=null&&Me.push(ec(W,pe,se))),wt)break;W=W.return}0<Me.length&&(ae=new le(ae,ze,null,l,de),me.push({event:ae,listeners:Me}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&l!==Li&&(ze=l.relatedTarget||l.fromElement)&&(Tr(ze)||ze[Yn]))break e;if((le||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(ze=l.relatedTarget||l.toElement,le=oe,ze=ze?Tr(ze):null,ze!==null&&(wt=a(ze),Me=ze.tag,ze!==wt||Me!==5&&Me!==27&&Me!==6)&&(ze=null)):(le=null,ze=oe),le!==ze)){if(Me=Nr,pe="onMouseLeave",ne="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Me=Tu,pe="onPointerLeave",ne="onPointerEnter",W="pointer"),wt=le==null?ae:Ar(le),se=ze==null?ae:Ar(ze),ae=new Me(pe,W+"leave",le,l,de),ae.target=wt,ae.relatedTarget=se,pe=null,Tr(de)===oe&&(Me=new Me(ne,W+"enter",ze,l,de),Me.target=se,Me.relatedTarget=wt,pe=Me),wt=pe,le&&ze)t:{for(Me=le,ne=ze,W=0,se=Me;se;se=ul(se))W++;for(se=0,pe=ne;pe;pe=ul(pe))se++;for(;0<W-se;)Me=ul(Me),W--;for(;0<se-W;)ne=ul(ne),se--;for(;W--;){if(Me===ne||ne!==null&&Me===ne.alternate)break t;Me=ul(Me),ne=ul(ne)}Me=null}else Me=null;le!==null&&tb(me,ae,le,Me,!1),ze!==null&&wt!==null&&tb(me,wt,ze,Me,!0)}}e:{if(ae=oe?Ar(oe):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var xe=E0;else if(un(ae))if(w0)xe=TN;else{xe=wN;var Qe=EN}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?oe&&gu(oe.elementType)&&(xe=E0):xe=bN;if(xe&&(xe=xe(i,oe))){Hi(me,xe,l,de);break e}Qe&&Qe(i,ae,oe),i==="focusout"&&oe&&ae.type==="number"&&oe.memoizedProps.value!=null&&Es(ae,"number",ae.value)}switch(Qe=oe?Ar(oe):window,i){case"focusin":(un(Qe)||Qe.contentEditable==="true")&&(za=Qe,Gp=oe,xu=null);break;case"focusout":xu=Gp=za=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,I0(me,l,de);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":I0(me,l,de)}var ke;if(pi)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else nt?ue(i,l)&&(Pe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(T&&l.locale!=="ko"&&(nt||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&nt&&(ke=_u()):(ci=de,ws="value"in ci?ci.value:ci.textContent,nt=!0)),Qe=Ch(oe,Pe),0<Qe.length&&(Pe=new wu(Pe,i,null,l,de),me.push({event:Pe,listeners:Qe}),ke?Pe.data=ke:(ke=we(l),ke!==null&&(Pe.data=ke)))),(ke=w?ln(i,l):rt(i,l))&&(Pe=Ch(oe,"onBeforeInput"),0<Pe.length&&(Qe=new wu("onBeforeInput","beforeinput",null,l,de),me.push({event:Qe,listeners:Pe}),Qe.data=ke)),ak(me,i,oe,l,de)}Jw(me,o)})}function ec(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Ch(i,o){for(var l=o+"Capture",c=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ko(i,l),g!=null&&c.unshift(ec(i,g,y)),g=ko(i,o),g!=null&&c.push(ec(i,g,y))),i.tag===3)return c;i=i.return}return[]}function ul(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function tb(i,o,l,c,g){for(var y=o._reactName,S=[];l!==null&&l!==c;){var O=l,Y=O.alternate,oe=O.stateNode;if(O=O.tag,Y!==null&&Y===c)break;O!==5&&O!==26&&O!==27||oe===null||(Y=oe,g?(oe=ko(l,y),oe!=null&&S.unshift(ec(l,oe,Y))):g||(oe=ko(l,y),oe!=null&&S.push(ec(l,oe,Y)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var fk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function nb(i){return(typeof i=="string"?i:""+i).replace(fk,`
`).replace(hk,"")}function rb(i,o){return o=nb(o),nb(i)===o}function Rh(){}function Et(i,o,l,c,g,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Cr(i,""+c);break;case"className":xr(i,"class",c);break;case"tabIndex":xr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(i,l,c);break;case"style":mu(i,c,y);break;case"data":if(o!=="object"){xr(i,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Na(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&Et(i,o,"name",g.name,g,null),Et(i,o,"formEncType",g.formEncType,g,null),Et(i,o,"formMethod",g.formMethod,g,null),Et(i,o,"formTarget",g.formTarget,g,null)):(Et(i,o,"encType",g.encType,g,null),Et(i,o,"method",g.method,g,null),Et(i,o,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Na(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Rh);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Na(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Je("beforetoggle",i),Je("toggle",i),oi(i,"popover",c);break;case"xlinkActuate":an(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":an(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":an(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":an(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":an(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":an(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":an(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":an(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":an(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":oi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zp.get(l)||l,oi(i,l,c))}}function gg(i,o,l,c,g,y){switch(l){case"style":mu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&Cr(i,""+c);break;case"onScroll":c!=null&&Je("scroll",i);break;case"onScrollEnd":c!=null&&Je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_s.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),y=i[Ht]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(o,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):oi(i,l,c)}}}function Rn(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(i,o,y,S,l,null)}}g&&Et(i,o,"srcSet",l.srcSet,l,null),c&&Et(i,o,"src",l.src,l,null);return;case"input":Je("invalid",i);var O=y=S=g=null,Y=null,oe=null;for(c in l)if(l.hasOwnProperty(c)){var de=l[c];if(de!=null)switch(c){case"name":g=de;break;case"type":S=de;break;case"checked":Y=de;break;case"defaultChecked":oe=de;break;case"value":y=de;break;case"defaultValue":O=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:Et(i,o,c,de,l,null)}}Ro(i,y,O,Y,oe,S,g,!1),Ia(i);return;case"select":Je("invalid",i),c=S=y=null;for(g in l)if(l.hasOwnProperty(g)&&(O=l[g],O!=null))switch(g){case"value":y=O;break;case"defaultValue":S=O;break;case"multiple":c=O;default:Et(i,o,g,O,l,null)}o=y,l=S,i.multiple=!!c,o!=null?Vi(i,!!c,o,!1):l!=null&&Vi(i,!!c,l,!0);return;case"textarea":Je("invalid",i),y=g=c=null;for(S in l)if(l.hasOwnProperty(S)&&(O=l[S],O!=null))switch(S){case"value":c=O;break;case"defaultValue":g=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Et(i,o,S,O,l,null)}Io(i,c,g,y),Ia(i);return;case"option":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Et(i,o,Y,c,l,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(c=0;c<Ju.length;c++)Je(Ju[c],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(c=l[oe],c!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Et(i,o,oe,c,l,null)}return;default:if(gu(o)){for(de in l)l.hasOwnProperty(de)&&(c=l[de],c!==void 0&&gg(i,o,de,c,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(c=l[O],c!=null&&Et(i,o,O,c,l,null))}function dk(i,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,O=null,Y=null,oe=null,de=null;for(le in l){var me=l[le];if(l.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Y=me;default:c.hasOwnProperty(le)||Et(i,o,le,null,c,me)}}for(var ae in c){var le=c[ae];if(me=l[ae],c.hasOwnProperty(ae)&&(le!=null||me!=null))switch(ae){case"type":y=le;break;case"name":g=le;break;case"checked":oe=le;break;case"defaultChecked":de=le;break;case"value":S=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==me&&Et(i,o,ae,le,c,me)}}or(i,S,O,Y,oe,de,y,g);return;case"select":le=S=O=ae=null;for(y in l)if(Y=l[y],l.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":le=Y;default:c.hasOwnProperty(y)||Et(i,o,y,null,c,Y)}for(g in c)if(y=c[g],Y=l[g],c.hasOwnProperty(g)&&(y!=null||Y!=null))switch(g){case"value":ae=y;break;case"defaultValue":O=y;break;case"multiple":S=y;default:y!==Y&&Et(i,o,g,y,c,Y)}o=O,l=S,c=le,ae!=null?Vi(i,!!l,ae,!1):!!c!=!!l&&(o!=null?Vi(i,!!l,o,!0):Vi(i,!!l,l?[]:"",!1));return;case"textarea":le=ae=null;for(O in l)if(g=l[O],l.hasOwnProperty(O)&&g!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Et(i,o,O,null,c,g)}for(S in c)if(g=c[S],y=l[S],c.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":ae=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Et(i,o,S,g,c,y)}_t(i,ae,le);return;case"option":for(var ze in l)if(ae=l[ze],l.hasOwnProperty(ze)&&ae!=null&&!c.hasOwnProperty(ze))switch(ze){case"selected":i.selected=!1;break;default:Et(i,o,ze,null,c,ae)}for(Y in c)if(ae=c[Y],le=l[Y],c.hasOwnProperty(Y)&&ae!==le&&(ae!=null||le!=null))switch(Y){case"selected":i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Et(i,o,Y,ae,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in l)ae=l[Me],l.hasOwnProperty(Me)&&ae!=null&&!c.hasOwnProperty(Me)&&Et(i,o,Me,null,c,ae);for(oe in c)if(ae=c[oe],le=l[oe],c.hasOwnProperty(oe)&&ae!==le&&(ae!=null||le!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:Et(i,o,oe,ae,c,le)}return;default:if(gu(o)){for(var wt in l)ae=l[wt],l.hasOwnProperty(wt)&&ae!==void 0&&!c.hasOwnProperty(wt)&&gg(i,o,wt,void 0,c,ae);for(de in c)ae=c[de],le=l[de],!c.hasOwnProperty(de)||ae===le||ae===void 0&&le===void 0||gg(i,o,de,ae,c,le);return}}for(var ne in l)ae=l[ne],l.hasOwnProperty(ne)&&ae!=null&&!c.hasOwnProperty(ne)&&Et(i,o,ne,null,c,ae);for(me in c)ae=c[me],le=l[me],!c.hasOwnProperty(me)||ae===le||ae==null&&le==null||Et(i,o,me,ae,c,le)}var yg=null,_g=null;function Ih(i){return i.nodeType===9?i:i.ownerDocument}function ib(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sb(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function vg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Eg=null;function pk(){var i=window.event;return i&&i.type==="popstate"?i===Eg?!1:(Eg=i,!0):(Eg=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,mk=typeof clearTimeout=="function"?clearTimeout:void 0,ab=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof ab<"u"?function(i){return ab.resolve(null).then(i).catch(yk)}:ob;function yk(i){setTimeout(function(){throw i})}function Ls(i){return i==="head"}function lb(i,o){var l=o,c=0,g=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var S=i.ownerDocument;if(l&1&&tc(S.documentElement),l&2&&tc(S.body),l&4)for(l=S.head,tc(l),S=l.firstChild;S;){var O=S.nextSibling,Y=S.nodeName;S[Mi]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=O}}if(g===0){i.removeChild(y),uc(o);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);uc(o)}function wg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":wg(l),si(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function _k(i,o,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Mi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Kr(i.nextSibling),i===null)break}return null}function vk(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Kr(i.nextSibling),i===null))return null;return i}function bg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Ek(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Kr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Tg=null;function ub(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function cb(i,o,l){switch(o=Ih(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function tc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);si(i)}var Lr=new Map,fb=new Set;function Nh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ts=K.d;K.d={f:wk,r:bk,D:Tk,C:Sk,L:Ak,m:xk,X:Rk,S:Ck,M:Ik};function wk(){var i=ts.f(),o=wh();return i||o}function bk(i){var o=Sr(i);o!==null&&o.tag===5&&o.type==="form"?kE(o):ts.r(i)}var cl=typeof document>"u"?null:document;function hb(i,o,l){var c=cl;if(c&&typeof o=="string"&&o){var g=Zt(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),fb.has(g)||(fb.add(g),i={rel:i,crossOrigin:l,href:o},c.querySelector(g)===null&&(o=c.createElement("link"),Rn(o,"link",i),Lt(o),c.head.appendChild(o)))}}function Tk(i){ts.D(i),hb("dns-prefetch",i,null)}function Sk(i,o){ts.C(i,o),hb("preconnect",i,o)}function Ak(i,o,l){ts.L(i,o,l);var c=cl;if(c&&i&&o){var g='link[rel="preload"][as="'+Zt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Zt(l.imageSizes)+'"]')):g+='[href="'+Zt(i)+'"]';var y=g;switch(o){case"style":y=fl(i);break;case"script":y=hl(i)}Lr.has(y)||(i=m({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Lr.set(y,i),c.querySelector(g)!==null||o==="style"&&c.querySelector(nc(y))||o==="script"&&c.querySelector(rc(y))||(o=c.createElement("link"),Rn(o,"link",i),Lt(o),c.head.appendChild(o)))}}function xk(i,o){ts.m(i,o);var l=cl;if(l&&i){var c=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(i)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=hl(i)}if(!Lr.has(y)&&(i=m({rel:"modulepreload",href:i},o),Lr.set(y,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rc(y)))return}c=l.createElement("link"),Rn(c,"link",i),Lt(c),l.head.appendChild(c)}}}function Ck(i,o,l){ts.S(i,o,l);var c=cl;if(c&&i){var g=Sn(c).hoistableStyles,y=fl(i);o=o||"default";var S=g.get(y);if(!S){var O={loading:0,preload:null};if(S=c.querySelector(nc(y)))O.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Lr.get(y))&&Sg(i,l);var Y=S=c.createElement("link");Lt(Y),Rn(Y,"link",i),Y._p=new Promise(function(oe,de){Y.onload=oe,Y.onerror=de}),Y.addEventListener("load",function(){O.loading|=1}),Y.addEventListener("error",function(){O.loading|=2}),O.loading|=4,kh(S,o,c)}S={type:"stylesheet",instance:S,count:1,state:O},g.set(y,S)}}}function Rk(i,o){ts.X(i,o);var l=cl;if(l&&i){var c=Sn(l).hoistableScripts,g=hl(i),y=c.get(g);y||(y=l.querySelector(rc(g)),y||(i=m({src:i,async:!0},o),(o=Lr.get(g))&&Ag(i,o),y=l.createElement("script"),Lt(y),Rn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function Ik(i,o){ts.M(i,o);var l=cl;if(l&&i){var c=Sn(l).hoistableScripts,g=hl(i),y=c.get(g);y||(y=l.querySelector(rc(g)),y||(i=m({src:i,async:!0,type:"module"},o),(o=Lr.get(g))&&Ag(i,o),y=l.createElement("script"),Lt(y),Rn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function db(i,o,l,c){var g=(g=_e.current)?Nh(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=fl(l.href),l=Sn(g).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=fl(l.href);var y=Sn(g).hoistableStyles,S=y.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=g.querySelector(nc(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Lr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Lr.set(i,l),y||Nk(g,i,l,S.state))),o&&c===null)throw Error(r(528,""));return S}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=hl(l),l=Sn(g).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function fl(i){return'href="'+Zt(i)+'"'}function nc(i){return'link[rel="stylesheet"]['+i+"]"}function pb(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function Nk(i,o,l,c){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=i.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),Rn(o,"link",l),Lt(o),i.head.appendChild(o))}function hl(i){return'[src="'+Zt(i)+'"]'}function rc(i){return"script[async]"+i}function mb(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=i.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(c)return o.instance=c,Lt(c),c;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Lt(c),Rn(c,"style",g),kh(c,l.precedence,i),o.instance=c;case"stylesheet":g=fl(l.href);var y=i.querySelector(nc(g));if(y)return o.state.loading|=4,o.instance=y,Lt(y),y;c=pb(l),(g=Lr.get(g))&&Sg(c,g),y=(i.ownerDocument||i).createElement("link"),Lt(y);var S=y;return S._p=new Promise(function(O,Y){S.onload=O,S.onerror=Y}),Rn(y,"link",c),o.state.loading|=4,kh(y,l.precedence,i),o.instance=y;case"script":return y=hl(l.src),(g=i.querySelector(rc(y)))?(o.instance=g,Lt(g),g):(c=l,(g=Lr.get(y))&&(c=m({},l),Ag(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),Lt(g),Rn(g,"link",c),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,kh(c,l.precedence,i));return o.instance}function kh(i,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,S=0;S<c.length;S++){var O=c[S];if(O.dataset.precedence===o)y=O;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function Sg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Ag(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Dh=null;function gb(i,o,l){if(Dh===null){var c=new Map,g=Dh=new Map;g.set(l,c)}else g=Dh,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[Mi]||y[Yt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=i+S;var O=c.get(S);O?O.push(y):c.set(S,[y])}}return c}function yb(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function kk(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function _b(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ic=null;function Dk(){}function Ok(i,o,l){if(ic===null)throw Error(r(475));var c=ic;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=fl(l.href),y=i.querySelector(nc(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Oh.bind(c),i.then(c,c)),o.state.loading|=4,o.instance=y,Lt(y);return}y=i.ownerDocument||i,l=pb(l),(g=Lr.get(g))&&Sg(l,g),y=y.createElement("link"),Lt(y);var S=y;S._p=new Promise(function(O,Y){S.onload=O,S.onerror=Y}),Rn(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Oh.bind(c),i.addEventListener("load",o),i.addEventListener("error",o))}}function Mk(){if(ic===null)throw Error(r(475));var i=ic;return i.stylesheets&&i.count===0&&xg(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&xg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Oh(){if(this.count--,this.count===0){if(this.stylesheets)xg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Mh=null;function xg(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Mh=new Map,o.forEach(Pk,i),Mh=null,Oh.call(i))}function Pk(i,o){if(!(o.state.loading&4)){var l=Mh.get(i);if(l)var c=l.get(null);else{l=new Map,Mh.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}g=o.instance,S=g.getAttribute("data-precedence"),y=l.get(S)||c,y===c&&l.set(null,g),l.set(S,g),this.count++,c=Oh.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var sc={$$typeof:$,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Vk(i,o,l,c,g,y,S,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function vb(i,o,l,c,g,y,S,O,Y,oe,de,me){return i=new Vk(i,o,l,S,O,Y,oe,me),o=1,y===!0&&(o|=24),y=lr(3,null,null,o),i.current=y,y.stateNode=i,o=am(),o.refCount++,i.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},fm(y),i}function Eb(i){return i?(i=ja,i):ja}function wb(i,o,l,c,g,y){g=Eb(g),c.context===null?c.context=g:c.pendingContext=g,c=Ss(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=As(i,c,o),l!==null&&(dr(l,i,o),Pu(l,i,o))}function bb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Cg(i,o){bb(i,o),(i=i.alternate)&&bb(i,o)}function Tb(i){if(i.tag===13){var o=Ha(i,67108864);o!==null&&dr(o,i,67108864),Cg(i,67108864)}}var Ph=!0;function Lk(i,o,l,c){var g=L.T;L.T=null;var y=K.p;try{K.p=2,Rg(i,o,l,c)}finally{K.p=y,L.T=g}}function Uk(i,o,l,c){var g=L.T;L.T=null;var y=K.p;try{K.p=8,Rg(i,o,l,c)}finally{K.p=y,L.T=g}}function Rg(i,o,l,c){if(Ph){var g=Ig(c);if(g===null)mg(i,o,c,Vh,l),Ab(i,c);else if(Bk(g,i,o,l,c))c.stopPropagation();else if(Ab(i,c),o&4&&-1<zk.indexOf(i)){for(;g!==null;){var y=Sr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Mt(y.pendingLanes);if(S!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var Y=1<<31-Ie(S);O.entanglements[1]|=Y,S&=~Y}Ei(y),(gt&6)===0&&(vh=Be()+500,Zu(0))}}break;case 13:O=Ha(y,2),O!==null&&dr(O,y,2),wh(),Cg(y,2)}if(y=Ig(c),y===null&&mg(i,o,c,Vh,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else mg(i,o,c,null,l)}}function Ig(i){return i=Rr(i),Ng(i)}var Vh=null;function Ng(i){if(Vh=null,i=Tr(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=u(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Vh=i,null}function Sb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case Ot:return 2;case sn:return 8;case bn:case Gn:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var kg=!1,Us=null,zs=null,Bs=null,oc=new Map,ac=new Map,Fs=[],zk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(i,o){switch(i){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(o.pointerId)}}function lc(i,o,l,c,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},o!==null&&(o=Sr(o),o!==null&&Tb(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Bk(i,o,l,c,g){switch(o){case"focusin":return Us=lc(Us,i,o,l,c,g),!0;case"dragenter":return zs=lc(zs,i,o,l,c,g),!0;case"mouseover":return Bs=lc(Bs,i,o,l,c,g),!0;case"pointerover":var y=g.pointerId;return oc.set(y,lc(oc.get(y)||null,i,o,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,ac.set(y,lc(ac.get(y)||null,i,o,l,c,g)),!0}return!1}function xb(i){var o=Tr(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){i.blockedOn=o,Ta(i.priority,function(){if(l.tag===13){var c=hr();c=ni(c);var g=Ha(l,c);g!==null&&dr(g,l,c),Cg(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Ig(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Li=c,l.target.dispatchEvent(c),Li=null}else return o=Sr(l),o!==null&&Tb(o),i.blockedOn=l,!1;o.shift()}return!0}function Cb(i,o,l){Lh(i)&&l.delete(o)}function Fk(){kg=!1,Us!==null&&Lh(Us)&&(Us=null),zs!==null&&Lh(zs)&&(zs=null),Bs!==null&&Lh(Bs)&&(Bs=null),oc.forEach(Cb),ac.forEach(Cb)}function Uh(i,o){i.blockedOn===o&&(i.blockedOn=null,kg||(kg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fk)))}var zh=null;function Rb(i){zh!==i&&(zh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zh===i&&(zh=null);for(var o=0;o<i.length;o+=3){var l=i[o],c=i[o+1],g=i[o+2];if(typeof c!="function"){if(Ng(c||l)===null)continue;break}var y=Sr(l);y!==null&&(i.splice(o,3),o-=3,Nm(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function uc(i){function o(Y){return Uh(Y,i)}Us!==null&&Uh(Us,i),zs!==null&&Uh(zs,i),Bs!==null&&Uh(Bs,i),oc.forEach(o),ac.forEach(o);for(var l=0;l<Fs.length;l++){var c=Fs[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Fs.length&&(l=Fs[0],l.blockedOn===null);)xb(l),l.blockedOn===null&&Fs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],S=g[Ht]||null;if(typeof y=="function")S||Rb(l);else if(S){var O=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[Ht]||null)O=S.formAction;else if(Ng(g)!==null)continue}else O=S.action;typeof O=="function"?l[c+1]=O:(l.splice(c,3),c-=3),Rb(l)}}}function Dg(i){this._internalRoot=i}Bh.prototype.render=Dg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,c=hr();wb(l,c,i,o,null,null)},Bh.prototype.unmount=Dg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;wb(i.current,2,null,i,null,null),wh(),o[Yn]=null}};function Bh(i){this._internalRoot=i}Bh.prototype.unstable_scheduleHydration=function(i){if(i){var o=ri();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Fs.length&&o!==0&&o<Fs[l].priority;l++);Fs.splice(l,0,i),l===0&&xb(i)}};var Ib=e.version;if(Ib!=="19.1.0")throw Error(r(527,Ib,"19.1.0"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var Hk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{te=Fh.inject(Hk),he=Fh}catch{}}return fc.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,c="",g=$E,y=GE,S=YE,O=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks)),o=vb(i,1,!1,null,null,l,c,g,y,S,O,null),i[Yn]=o.current,pg(i),new Dg(o)},fc.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var c=!1,g="",y=$E,S=GE,O=YE,Y=null,oe=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Y=l.unstable_transitionCallbacks),l.formState!==void 0&&(oe=l.formState)),o=vb(i,1,!0,o,l??null,c,g,y,S,O,Y,oe),o.context=Eb(null),l=o.current,c=hr(),c=ni(c),g=Ss(c),g.callback=null,As(l,g,c),l=c,o.current.lanes=l,wr(o,l),Ei(o),i[Yn]=o.current,pg(i),new Bh(o)},fc.version="19.1.0",fc}var zb;function Wk(){if(zb)return Pg.exports;zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=Qk(),Pg.exports}var Zk=Wk();function $n(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=$n(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var zg={exports:{}},Bg={},Fg={exports:{}},Hg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function Jk(){if(Bb)return Hg;Bb=1;var t=af();function e(_,v){return _===v&&(_!==0||1/_===1/v)||_!==_&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function f(_,v){var E=v(),x=r({inst:{value:E,getSnapshot:v}}),I=x[0].inst,D=x[1];return a(function(){I.value=E,I.getSnapshot=v,h(I)&&D({inst:I})},[_,E,v]),s(function(){return h(I)&&D({inst:I}),_(function(){h(I)&&D({inst:I})})},[_]),u(E),E}function h(_){var v=_.getSnapshot;_=_.value;try{var E=v();return!n(_,E)}catch{return!0}}function d(_,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:f;return Hg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Hg}var Fb;function e2(){return Fb||(Fb=1,Fg.exports=Jk()),Fg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function t2(){if(Hb)return Bg;Hb=1;var t=af(),e=e2();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,f=t.useMemo,h=t.useDebugValue;return Bg.useSyncExternalStoreWithSelector=function(d,m,_,v,E){var x=a(null);if(x.current===null){var I={hasValue:!1,value:null};x.current=I}else I=x.current;x=f(function(){function P(j){if(!q){if(q=!0,$=j,j=v(j),E!==void 0&&I.hasValue){var U=I.value;if(E(U,j))return H=U}return H=j}if(U=H,r($,j))return U;var C=v(j);return E!==void 0&&E(U,C)?($=j,U):($=j,H=C)}var q=!1,$,H,X=_===void 0?null:_;return[function(){return P(m())},X===null?void 0:function(){return P(X())}]},[m,_,v,E]);var D=s(d,x[0],x[1]);return u(function(){I.hasValue=!0,I.value=D},[D]),h(D),D},Bg}var jb;function n2(){return jb||(jb=1,zg.exports=t2()),zg.exports}var r2=n2();const i2=ya(r2),s2={},qb=t=>{let e;const n=new Set,r=(m,_)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const E=e;e=_??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(x=>x(e,E))}},s=()=>e,h={setState:r,getState:s,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(s2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,h);return h},o2=t=>t?qb(t):qb,{useDebugValue:a2}=fe,{useSyncExternalStoreWithSelector:l2}=i2,u2=t=>t;function hA(t,e=u2,n){const r=l2(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return a2(r),r}const $b=(t,e)=>{const n=o2(t),r=(s,a=e)=>hA(n,s,a);return Object.assign(r,n),r},c2=(t,e)=>t?$b(t,e):$b;function Ln(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var f2={value:()=>{}};function rp(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ud(n)}function ud(t){this._=t}function h2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ud.prototype=rp.prototype={constructor:ud,on:function(t,e){var n=this._,r=h2(t+"",n),s,a=-1,u=r.length;if(arguments.length<2){for(;++a<u;)if((s=(t=r[a]).type)&&(s=d2(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(s=(t=r[a]).type)n[s]=Gb(n[s],t.name,e);else if(e==null)for(s in n)n[s]=Gb(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ud(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function d2(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function Gb(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=f2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Dy="http://www.w3.org/1999/xhtml";const Yb={svg:"http://www.w3.org/2000/svg",xhtml:Dy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ip(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Yb.hasOwnProperty(e)?{space:Yb[e],local:t}:t}function p2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Dy&&e.documentElement.namespaceURI===Dy?e.createElement(t):e.createElementNS(n,t)}}function m2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dA(t){var e=ip(t);return(e.local?m2:p2)(e)}function g2(){}function U_(t){return t==null?g2:function(){return this.querySelector(t)}}function y2(t){typeof t!="function"&&(t=U_(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=new Array(u),h,d,m=0;m<u;++m)(h=a[m])&&(d=t.call(h,h.__data__,m,a))&&("__data__"in h&&(d.__data__=h.__data__),f[m]=d);return new vr(r,this._parents)}function _2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function v2(){return[]}function pA(t){return t==null?v2:function(){return this.querySelectorAll(t)}}function E2(t){return function(){return _2(t.apply(this,arguments))}}function w2(t){typeof t=="function"?t=E2(t):t=pA(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var u=e[a],f=u.length,h,d=0;d<f;++d)(h=u[d])&&(r.push(t.call(h,h.__data__,d,u)),s.push(h));return new vr(r,s)}function mA(t){return function(){return this.matches(t)}}function gA(t){return function(e){return e.matches(t)}}var b2=Array.prototype.find;function T2(t){return function(){return b2.call(this.children,t)}}function S2(){return this.firstElementChild}function A2(t){return this.select(t==null?S2:T2(typeof t=="function"?t:gA(t)))}var x2=Array.prototype.filter;function C2(){return Array.from(this.children)}function R2(t){return function(){return x2.call(this.children,t)}}function I2(t){return this.selectAll(t==null?C2:R2(typeof t=="function"?t:gA(t)))}function N2(t){typeof t!="function"&&(t=mA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&f.push(h);return new vr(r,this._parents)}function yA(t){return new Array(t.length)}function k2(){return new vr(this._enter||this._groups.map(yA),this._parents)}function Sd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Sd.prototype={constructor:Sd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function D2(t){return function(){return t}}function O2(t,e,n,r,s,a){for(var u=0,f,h=e.length,d=a.length;u<d;++u)(f=e[u])?(f.__data__=a[u],r[u]=f):n[u]=new Sd(t,a[u]);for(;u<h;++u)(f=e[u])&&(s[u]=f)}function M2(t,e,n,r,s,a,u){var f,h,d=new Map,m=e.length,_=a.length,v=new Array(m),E;for(f=0;f<m;++f)(h=e[f])&&(v[f]=E=u.call(h,h.__data__,f,e)+"",d.has(E)?s[f]=h:d.set(E,h));for(f=0;f<_;++f)E=u.call(t,a[f],f,a)+"",(h=d.get(E))?(r[f]=h,h.__data__=a[f],d.delete(E)):n[f]=new Sd(t,a[f]);for(f=0;f<m;++f)(h=e[f])&&d.get(v[f])===h&&(s[f]=h)}function P2(t){return t.__data__}function V2(t,e){if(!arguments.length)return Array.from(this,P2);var n=e?M2:O2,r=this._parents,s=this._groups;typeof t!="function"&&(t=D2(t));for(var a=s.length,u=new Array(a),f=new Array(a),h=new Array(a),d=0;d<a;++d){var m=r[d],_=s[d],v=_.length,E=L2(t.call(m,m&&m.__data__,d,r)),x=E.length,I=f[d]=new Array(x),D=u[d]=new Array(x),P=h[d]=new Array(v);n(m,_,I,D,P,E,e);for(var q=0,$=0,H,X;q<x;++q)if(H=I[q]){for(q>=$&&($=q+1);!(X=D[$])&&++$<x;);H._next=X||null}}return u=new vr(u,r),u._enter=f,u._exit=h,u}function L2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U2(){return new vr(this._exit||this._groups.map(yA),this._parents)}function z2(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function B2(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,u=Math.min(s,a),f=new Array(s),h=0;h<u;++h)for(var d=n[h],m=r[h],_=d.length,v=f[h]=new Array(_),E,x=0;x<_;++x)(E=d[x]||m[x])&&(v[x]=E);for(;h<s;++h)f[h]=n[h];return new vr(f,this._parents)}function F2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],u;--s>=0;)(u=r[s])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function H2(t){t||(t=j2);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var u=n[a],f=u.length,h=s[a]=new Array(f),d,m=0;m<f;++m)(d=u[m])&&(h[m]=d);h.sort(e)}return new vr(s,this._parents).order()}function j2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function q2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function $2(){return Array.from(this)}function G2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var u=r[s];if(u)return u}return null}function Y2(){let t=0;for(const e of this)++t;return t}function K2(){return!this.node()}function X2(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,u=s.length,f;a<u;++a)(f=s[a])&&t.call(f,f.__data__,a,s);return this}function Q2(t){return function(){this.removeAttribute(t)}}function W2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Z2(t,e){return function(){this.setAttribute(t,e)}}function J2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function eD(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function tD(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nD(t,e){var n=ip(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?W2:Q2:typeof e=="function"?n.local?tD:eD:n.local?J2:Z2)(n,e))}function _A(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rD(t){return function(){this.style.removeProperty(t)}}function iD(t,e,n){return function(){this.style.setProperty(t,e,n)}}function sD(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function oD(t,e,n){return arguments.length>1?this.each((e==null?rD:typeof e=="function"?sD:iD)(t,e,n??"")):Hl(this.node(),t)}function Hl(t,e){return t.style.getPropertyValue(e)||_A(t).getComputedStyle(t,null).getPropertyValue(e)}function aD(t){return function(){delete this[t]}}function lD(t,e){return function(){this[t]=e}}function uD(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function cD(t,e){return arguments.length>1?this.each((e==null?aD:typeof e=="function"?uD:lD)(t,e)):this.node()[t]}function vA(t){return t.trim().split(/^|\s+/)}function z_(t){return t.classList||new EA(t)}function EA(t){this._node=t,this._names=vA(t.getAttribute("class")||"")}EA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function wA(t,e){for(var n=z_(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function bA(t,e){for(var n=z_(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function fD(t){return function(){wA(this,t)}}function hD(t){return function(){bA(this,t)}}function dD(t,e){return function(){(e.apply(this,arguments)?wA:bA)(this,t)}}function pD(t,e){var n=vA(t+"");if(arguments.length<2){for(var r=z_(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?dD:e?fD:hD)(n,e))}function mD(){this.textContent=""}function gD(t){return function(){this.textContent=t}}function yD(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function _D(t){return arguments.length?this.each(t==null?mD:(typeof t=="function"?yD:gD)(t)):this.node().textContent}function vD(){this.innerHTML=""}function ED(t){return function(){this.innerHTML=t}}function wD(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function bD(t){return arguments.length?this.each(t==null?vD:(typeof t=="function"?wD:ED)(t)):this.node().innerHTML}function TD(){this.nextSibling&&this.parentNode.appendChild(this)}function SD(){return this.each(TD)}function AD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xD(){return this.each(AD)}function CD(t){var e=typeof t=="function"?t:dA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function RD(){return null}function ID(t,e){var n=typeof t=="function"?t:dA(t),r=e==null?RD:typeof e=="function"?e:U_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ND(){var t=this.parentNode;t&&t.removeChild(this)}function kD(){return this.each(ND)}function DD(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function OD(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function MD(t){return this.select(t?OD:DD)}function PD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function VD(t){return function(e){t.call(this,e,this.__data__)}}function LD(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function UD(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function zD(t,e,n){return function(){var r=this.__on,s,a=VD(e);if(r){for(var u=0,f=r.length;u<f;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function BD(t,e,n){var r=LD(t+""),s,a=r.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,d=f.length,m;h<d;++h)for(s=0,m=f[h];s<a;++s)if((u=r[s]).type===m.type&&u.name===m.name)return m.value}return}for(f=e?zD:UD,s=0;s<a;++s)this.each(f(r[s],e,n));return this}function TA(t,e,n){var r=_A(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function FD(t,e){return function(){return TA(this,t,e)}}function HD(t,e){return function(){return TA(this,t,e.apply(this,arguments))}}function jD(t,e){return this.each((typeof e=="function"?HD:FD)(t,e))}function*qD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,u;s<a;++s)(u=r[s])&&(yield u)}var SA=[null];function vr(t,e){this._groups=t,this._parents=e}function lf(){return new vr([[document.documentElement]],SA)}function $D(){return this}vr.prototype=lf.prototype={constructor:vr,select:y2,selectAll:w2,selectChild:A2,selectChildren:I2,filter:N2,data:V2,enter:k2,exit:U2,join:z2,merge:B2,selection:$D,order:F2,sort:H2,call:q2,nodes:$2,node:G2,size:Y2,empty:K2,each:X2,attr:nD,style:oD,property:cD,classed:pD,text:_D,html:bD,raise:SD,lower:xD,append:CD,insert:ID,remove:kD,clone:MD,datum:PD,on:BD,dispatch:jD,[Symbol.iterator]:qD};function Xr(t){return typeof t=="string"?new vr([[document.querySelector(t)]],[document.documentElement]):new vr([[t]],SA)}function GD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function bi(t,e){if(t=GD(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const YD={passive:!1},Fc={capture:!0,passive:!1};function jg(t){t.stopImmediatePropagation()}function kl(t){t.preventDefault(),t.stopImmediatePropagation()}function AA(t){var e=t.document.documentElement,n=Xr(t).on("dragstart.drag",kl,Fc);"onselectstart"in e?n.on("selectstart.drag",kl,Fc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function xA(t,e){var n=t.document.documentElement,r=Xr(t).on("dragstart.drag",null);e&&(r.on("click.drag",kl,Fc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Hh=t=>()=>t;function Oy(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:u,y:f,dx:h,dy:d,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:m}})}Oy.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function KD(t){return!t.ctrlKey&&!t.button}function XD(){return this.parentNode}function QD(t,e){return e??{x:t.x,y:t.y}}function WD(){return navigator.maxTouchPoints||"ontouchstart"in this}function ZD(){var t=KD,e=XD,n=QD,r=WD,s={},a=rp("start","drag","end"),u=0,f,h,d,m,_=0;function v(H){H.on("mousedown.drag",E).filter(r).on("touchstart.drag",D).on("touchmove.drag",P,YD).on("touchend.drag touchcancel.drag",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(H,X){if(!(m||!t.call(this,H,X))){var j=$(this,e.call(this,H,X),H,X,"mouse");j&&(Xr(H.view).on("mousemove.drag",x,Fc).on("mouseup.drag",I,Fc),AA(H.view),jg(H),d=!1,f=H.clientX,h=H.clientY,j("start",H))}}function x(H){if(kl(H),!d){var X=H.clientX-f,j=H.clientY-h;d=X*X+j*j>_}s.mouse("drag",H)}function I(H){Xr(H.view).on("mousemove.drag mouseup.drag",null),xA(H.view,d),kl(H),s.mouse("end",H)}function D(H,X){if(t.call(this,H,X)){var j=H.changedTouches,U=e.call(this,H,X),C=j.length,R,M;for(R=0;R<C;++R)(M=$(this,U,H,X,j[R].identifier,j[R]))&&(jg(H),M("start",H,j[R]))}}function P(H){var X=H.changedTouches,j=X.length,U,C;for(U=0;U<j;++U)(C=s[X[U].identifier])&&(kl(H),C("drag",H,X[U]))}function q(H){var X=H.changedTouches,j=X.length,U,C;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),U=0;U<j;++U)(C=s[X[U].identifier])&&(jg(H),C("end",H,X[U]))}function $(H,X,j,U,C,R){var M=a.copy(),V=bi(R||j,X),B,A,N;if((N=n.call(H,new Oy("beforestart",{sourceEvent:j,target:v,identifier:C,active:u,x:V[0],y:V[1],dx:0,dy:0,dispatch:M}),U))!=null)return B=N.x-V[0]||0,A=N.y-V[1]||0,function G(L,K,ee){var Z=V,b;switch(L){case"start":s[C]=G,b=u++;break;case"end":delete s[C],--u;case"drag":V=bi(ee||K,X),b=u;break}M.call(L,H,new Oy(L,{sourceEvent:K,subject:N,target:v,identifier:C,active:b,x:V[0]+B,y:V[1]+A,dx:V[0]-Z[0],dy:V[1]-Z[1],dispatch:M}),U)}}return v.filter=function(H){return arguments.length?(t=typeof H=="function"?H:Hh(!!H),v):t},v.container=function(H){return arguments.length?(e=typeof H=="function"?H:Hh(H),v):e},v.subject=function(H){return arguments.length?(n=typeof H=="function"?H:Hh(H),v):n},v.touchable=function(H){return arguments.length?(r=typeof H=="function"?H:Hh(!!H),v):r},v.on=function(){var H=a.on.apply(a,arguments);return H===a?v:H},v.clickDistance=function(H){return arguments.length?(_=(H=+H)*H,v):Math.sqrt(_)},v}function B_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function CA(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uf(){}var Hc=.7,Ad=1/Hc,Dl="\\s*([+-]?\\d+)\\s*",jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ai="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JD=/^#([0-9a-f]{3,8})$/,eO=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),tO=new RegExp(`^rgb\\(${Ai},${Ai},${Ai}\\)$`),nO=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${jc}\\)$`),rO=new RegExp(`^rgba\\(${Ai},${Ai},${Ai},${jc}\\)$`),iO=new RegExp(`^hsl\\(${jc},${Ai},${Ai}\\)$`),sO=new RegExp(`^hsla\\(${jc},${Ai},${Ai},${jc}\\)$`),Kb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B_(uf,qc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Xb,formatHex:Xb,formatHex8:oO,formatHsl:aO,formatRgb:Qb,toString:Qb});function Xb(){return this.rgb().formatHex()}function oO(){return this.rgb().formatHex8()}function aO(){return RA(this).formatHsl()}function Qb(){return this.rgb().formatRgb()}function qc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=JD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Wb(e):n===3?new er(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eO.exec(t))?new er(e[1],e[2],e[3],1):(e=tO.exec(t))?new er(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nO.exec(t))?jh(e[1],e[2],e[3],e[4]):(e=rO.exec(t))?jh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=iO.exec(t))?eT(e[1],e[2]/100,e[3]/100,1):(e=sO.exec(t))?eT(e[1],e[2]/100,e[3]/100,e[4]):Kb.hasOwnProperty(t)?Wb(Kb[t]):t==="transparent"?new er(NaN,NaN,NaN,0):null}function Wb(t){return new er(t>>16&255,t>>8&255,t&255,1)}function jh(t,e,n,r){return r<=0&&(t=e=n=NaN),new er(t,e,n,r)}function lO(t){return t instanceof uf||(t=qc(t)),t?(t=t.rgb(),new er(t.r,t.g,t.b,t.opacity)):new er}function My(t,e,n,r){return arguments.length===1?lO(t):new er(t,e,n,r??1)}function er(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}B_(er,My,CA(uf,{brighter(t){return t=t==null?Ad:Math.pow(Ad,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new er(aa(this.r),aa(this.g),aa(this.b),xd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zb,formatHex:Zb,formatHex8:uO,formatRgb:Jb,toString:Jb}));function Zb(){return`#${ia(this.r)}${ia(this.g)}${ia(this.b)}`}function uO(){return`#${ia(this.r)}${ia(this.g)}${ia(this.b)}${ia((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jb(){const t=xd(this.opacity);return`${t===1?"rgb(":"rgba("}${aa(this.r)}, ${aa(this.g)}, ${aa(this.b)}${t===1?")":`, ${t})`}`}function xd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function aa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ia(t){return t=aa(t),(t<16?"0":"")+t.toString(16)}function eT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qr(t,e,n,r)}function RA(t){if(t instanceof Qr)return new Qr(t.h,t.s,t.l,t.opacity);if(t instanceof uf||(t=qc(t)),!t)return new Qr;if(t instanceof Qr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,f=a-s,h=(a+s)/2;return f?(e===a?u=(n-r)/f+(n<r)*6:n===a?u=(r-e)/f+2:u=(e-n)/f+4,f/=h<.5?a+s:2-a-s,u*=60):f=h>0&&h<1?0:u,new Qr(u,f,h,t.opacity)}function cO(t,e,n,r){return arguments.length===1?RA(t):new Qr(t,e,n,r??1)}function Qr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}B_(Qr,cO,CA(uf,{brighter(t){return t=t==null?Ad:Math.pow(Ad,t),new Qr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new Qr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new er(qg(t>=240?t-240:t+120,s,r),qg(t,s,r),qg(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Qr(tT(this.h),qh(this.s),qh(this.l),xd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xd(this.opacity);return`${t===1?"hsl(":"hsla("}${tT(this.h)}, ${qh(this.s)*100}%, ${qh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tT(t){return t=(t||0)%360,t<0?t+360:t}function qh(t){return Math.max(0,Math.min(1,t||0))}function qg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const IA=t=>()=>t;function fO(t,e){return function(n){return t+n*e}}function hO(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function dO(t){return(t=+t)==1?NA:function(e,n){return n-e?hO(e,n,t):IA(isNaN(e)?n:e)}}function NA(t,e){var n=e-t;return n?fO(t,n):IA(isNaN(t)?e:t)}const nT=function t(e){var n=dO(e);function r(s,a){var u=n((s=My(s)).r,(a=My(a)).r),f=n(s.g,a.g),h=n(s.b,a.b),d=NA(s.opacity,a.opacity);return function(m){return s.r=u(m),s.g=f(m),s.b=h(m),s.opacity=d(m),s+""}}return r.gamma=t,r}(1);function Gs(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$g=new RegExp(Py.source,"g");function pO(t){return function(){return t}}function mO(t){return function(e){return t(e)+""}}function gO(t,e){var n=Py.lastIndex=$g.lastIndex=0,r,s,a,u=-1,f=[],h=[];for(t=t+"",e=e+"";(r=Py.exec(t))&&(s=$g.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),f[u]?f[u]+=a:f[++u]=a),(r=r[0])===(s=s[0])?f[u]?f[u]+=s:f[++u]=s:(f[++u]=null,h.push({i:u,x:Gs(r,s)})),n=$g.lastIndex;return n<e.length&&(a=e.slice(n),f[u]?f[u]+=a:f[++u]=a),f.length<2?h[0]?mO(h[0].x):pO(e):(e=h.length,function(d){for(var m=0,_;m<e;++m)f[(_=h[m]).i]=_.x(d);return f.join("")})}var rT=180/Math.PI,Vy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kA(t,e,n,r,s,a){var u,f,h;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,h/=f),t*r<e*n&&(t=-t,e=-e,h=-h,u=-u),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*rT,skewX:Math.atan(h)*rT,scaleX:u,scaleY:f}}var $h;function yO(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vy:kA(e.a,e.b,e.c,e.d,e.e,e.f)}function _O(t){return t==null||($h||($h=document.createElementNS("http://www.w3.org/2000/svg","g")),$h.setAttribute("transform",t),!(t=$h.transform.baseVal.consolidate()))?Vy:(t=t.matrix,kA(t.a,t.b,t.c,t.d,t.e,t.f))}function DA(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function a(d,m,_,v,E,x){if(d!==_||m!==v){var I=E.push("translate(",null,e,null,n);x.push({i:I-4,x:Gs(d,_)},{i:I-2,x:Gs(m,v)})}else(_||v)&&E.push("translate("+_+e+v+n)}function u(d,m,_,v){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),v.push({i:_.push(s(_)+"rotate(",null,r)-2,x:Gs(d,m)})):m&&_.push(s(_)+"rotate("+m+r)}function f(d,m,_,v){d!==m?v.push({i:_.push(s(_)+"skewX(",null,r)-2,x:Gs(d,m)}):m&&_.push(s(_)+"skewX("+m+r)}function h(d,m,_,v,E,x){if(d!==_||m!==v){var I=E.push(s(E)+"scale(",null,",",null,")");x.push({i:I-4,x:Gs(d,_)},{i:I-2,x:Gs(m,v)})}else(_!==1||v!==1)&&E.push(s(E)+"scale("+_+","+v+")")}return function(d,m){var _=[],v=[];return d=t(d),m=t(m),a(d.translateX,d.translateY,m.translateX,m.translateY,_,v),u(d.rotate,m.rotate,_,v),f(d.skewX,m.skewX,_,v),h(d.scaleX,d.scaleY,m.scaleX,m.scaleY,_,v),d=m=null,function(E){for(var x=-1,I=v.length,D;++x<I;)_[(D=v[x]).i]=D.x(E);return _.join("")}}}var vO=DA(yO,"px, ","px)","deg)"),EO=DA(_O,", ",")",")"),wO=1e-12;function iT(t){return((t=Math.exp(t))+1/t)/2}function bO(t){return((t=Math.exp(t))-1/t)/2}function TO(t){return((t=Math.exp(2*t))-1)/(t+1)}const SO=function t(e,n,r){function s(a,u){var f=a[0],h=a[1],d=a[2],m=u[0],_=u[1],v=u[2],E=m-f,x=_-h,I=E*E+x*x,D,P;if(I<wO)P=Math.log(v/d)/e,D=function(U){return[f+U*E,h+U*x,d*Math.exp(e*U*P)]};else{var q=Math.sqrt(I),$=(v*v-d*d+r*I)/(2*d*n*q),H=(v*v-d*d-r*I)/(2*v*n*q),X=Math.log(Math.sqrt($*$+1)-$),j=Math.log(Math.sqrt(H*H+1)-H);P=(j-X)/e,D=function(U){var C=U*P,R=iT(X),M=d/(n*q)*(R*TO(e*C+X)-bO(X));return[f+M*E,h+M*x,d*R/iT(e*C+X)]}}return D.duration=P*1e3*e/Math.SQRT2,D}return s.rho=function(a){var u=Math.max(.001,+a),f=u*u,h=f*f;return t(u,f,h)},s}(Math.SQRT2,2,4);var jl=0,bc=0,hc=0,OA=1e3,Cd,Tc,Rd=0,ua=0,sp=0,$c=typeof performance=="object"&&performance.now?performance:Date,MA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function F_(){return ua||(MA(AO),ua=$c.now()+sp)}function AO(){ua=0}function Id(){this._call=this._time=this._next=null}Id.prototype=PA.prototype={constructor:Id,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?F_():+n)+(e==null?0:+e),!this._next&&Tc!==this&&(Tc?Tc._next=this:Cd=this,Tc=this),this._call=t,this._time=n,Ly()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ly())}};function PA(t,e,n){var r=new Id;return r.restart(t,e,n),r}function xO(){F_(),++jl;for(var t=Cd,e;t;)(e=ua-t._time)>=0&&t._call.call(void 0,e),t=t._next;--jl}function sT(){ua=(Rd=$c.now())+sp,jl=bc=0;try{xO()}finally{jl=0,RO(),ua=0}}function CO(){var t=$c.now(),e=t-Rd;e>OA&&(sp-=e,Rd=t)}function RO(){for(var t,e=Cd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Cd=n);Tc=t,Ly(r)}function Ly(t){if(!jl){bc&&(bc=clearTimeout(bc));var e=t-ua;e>24?(t<1/0&&(bc=setTimeout(sT,t-$c.now()-sp)),hc&&(hc=clearInterval(hc))):(hc||(Rd=$c.now(),hc=setInterval(CO,OA)),jl=1,MA(sT))}}function oT(t,e,n){var r=new Id;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var IO=rp("start","end","cancel","interrupt"),NO=[],VA=0,aT=1,Uy=2,cd=3,lT=4,zy=5,fd=6;function op(t,e,n,r,s,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;kO(t,n,{name:e,index:r,group:s,on:IO,tween:NO,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:VA})}function H_(t,e){var n=ti(t,e);if(n.state>VA)throw new Error("too late; already scheduled");return n}function Di(t,e){var n=ti(t,e);if(n.state>cd)throw new Error("too late; already running");return n}function ti(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function kO(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=PA(a,0,n.time);function a(d){n.state=aT,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var m,_,v,E;if(n.state!==aT)return h();for(m in r)if(E=r[m],E.name===n.name){if(E.state===cd)return oT(u);E.state===lT?(E.state=fd,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete r[m]):+m<e&&(E.state=fd,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete r[m])}if(oT(function(){n.state===cd&&(n.state=lT,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Uy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Uy){for(n.state=cd,s=new Array(v=n.tween.length),m=0,_=-1;m<v;++m)(E=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(s[++_]=E);s.length=_+1}}function f(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=zy,1),_=-1,v=s.length;++_<v;)s[_].call(t,m);n.state===zy&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=fd,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function hd(t,e){var n=t.__transition,r,s,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){a=!1;continue}s=r.state>Uy&&r.state<zy,r.state=fd,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}a&&delete t.__transition}}function DO(t){return this.each(function(){hd(this,t)})}function OO(t,e){var n,r;return function(){var s=Di(this,t),a=s.tween;if(a!==n){r=n=a;for(var u=0,f=r.length;u<f;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function MO(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=Di(this,t),u=a.tween;if(u!==r){s=(r=u).slice();for(var f={name:e,value:n},h=0,d=s.length;h<d;++h)if(s[h].name===e){s[h]=f;break}h===d&&s.push(f)}a.tween=s}}function PO(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ti(this.node(),n).tween,s=0,a=r.length,u;s<a;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?OO:MO)(n,t,e))}function j_(t,e,n){var r=t._id;return t.each(function(){var s=Di(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return ti(s,r).value[e]}}function LA(t,e){var n;return(typeof e=="number"?Gs:e instanceof qc?nT:(n=qc(e))?(e=n,nT):gO)(t,e)}function VO(t){return function(){this.removeAttribute(t)}}function LO(t){return function(){this.removeAttributeNS(t.space,t.local)}}function UO(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttribute(t);return u===s?null:u===r?a:a=e(r=u,n)}}function zO(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?a:a=e(r=u,n)}}function BO(t,e,n){var r,s,a;return function(){var u,f=n(this),h;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),h=f+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f)))}}function FO(t,e,n){var r,s,a;return function(){var u,f=n(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),h=f+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f)))}}function HO(t,e){var n=ip(t),r=n==="transform"?EO:LA;return this.attrTween(t,typeof e=="function"?(n.local?FO:BO)(n,r,j_(this,"attr."+t,e)):e==null?(n.local?LO:VO)(n):(n.local?zO:UO)(n,r,e))}function jO(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function qO(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function $O(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&qO(t,a)),n}return s._value=e,s}function GO(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&jO(t,a)),n}return s._value=e,s}function YO(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ip(t);return this.tween(n,(r.local?$O:GO)(r,e))}function KO(t,e){return function(){H_(this,t).delay=+e.apply(this,arguments)}}function XO(t,e){return e=+e,function(){H_(this,t).delay=e}}function QO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KO:XO)(e,t)):ti(this.node(),e).delay}function WO(t,e){return function(){Di(this,t).duration=+e.apply(this,arguments)}}function ZO(t,e){return e=+e,function(){Di(this,t).duration=e}}function JO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?WO:ZO)(e,t)):ti(this.node(),e).duration}function eM(t,e){if(typeof e!="function")throw new Error;return function(){Di(this,t).ease=e}}function tM(t){var e=this._id;return arguments.length?this.each(eM(e,t)):ti(this.node(),e).ease}function nM(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Di(this,t).ease=n}}function rM(t){if(typeof t!="function")throw new Error;return this.each(nM(this._id,t))}function iM(t){typeof t!="function"&&(t=mA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&f.push(h);return new ls(r,this._parents,this._name,this._id)}function sM(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),u=new Array(r),f=0;f<a;++f)for(var h=e[f],d=n[f],m=h.length,_=u[f]=new Array(m),v,E=0;E<m;++E)(v=h[E]||d[E])&&(_[E]=v);for(;f<r;++f)u[f]=e[f];return new ls(u,this._parents,this._name,this._id)}function oM(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function aM(t,e,n){var r,s,a=oM(e)?H_:Di;return function(){var u=a(this,t),f=u.on;f!==r&&(s=(r=f).copy()).on(e,n),u.on=s}}function lM(t,e){var n=this._id;return arguments.length<2?ti(this.node(),n).on.on(t):this.each(aM(n,t,e))}function uM(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function cM(){return this.on("end.remove",uM(this._id))}function fM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=U_(t));for(var r=this._groups,s=r.length,a=new Array(s),u=0;u<s;++u)for(var f=r[u],h=f.length,d=a[u]=new Array(h),m,_,v=0;v<h;++v)(m=f[v])&&(_=t.call(m,m.__data__,v,f))&&("__data__"in m&&(_.__data__=m.__data__),d[v]=_,op(d[v],e,n,v,d,ti(m,n)));return new ls(a,this._parents,e,n)}function hM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=pA(t));for(var r=this._groups,s=r.length,a=[],u=[],f=0;f<s;++f)for(var h=r[f],d=h.length,m,_=0;_<d;++_)if(m=h[_]){for(var v=t.call(m,m.__data__,_,h),E,x=ti(m,n),I=0,D=v.length;I<D;++I)(E=v[I])&&op(E,e,n,I,v,x);a.push(v),u.push(m)}return new ls(a,u,e,n)}var dM=lf.prototype.constructor;function pM(){return new dM(this._groups,this._parents)}function mM(t,e){var n,r,s;return function(){var a=Hl(this,t),u=(this.style.removeProperty(t),Hl(this,t));return a===u?null:a===n&&u===r?s:s=e(n=a,r=u)}}function UA(t){return function(){this.style.removeProperty(t)}}function gM(t,e,n){var r,s=n+"",a;return function(){var u=Hl(this,t);return u===s?null:u===r?a:a=e(r=u,n)}}function yM(t,e,n){var r,s,a;return function(){var u=Hl(this,t),f=n(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),Hl(this,t))),u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f))}}function _M(t,e){var n,r,s,a="style."+e,u="end."+a,f;return function(){var h=Di(this,t),d=h.on,m=h.value[a]==null?f||(f=UA(e)):void 0;(d!==n||s!==m)&&(r=(n=d).copy()).on(u,s=m),h.on=r}}function vM(t,e,n){var r=(t+="")=="transform"?vO:LA;return e==null?this.styleTween(t,mM(t,r)).on("end.style."+t,UA(t)):typeof e=="function"?this.styleTween(t,yM(t,r,j_(this,"style."+t,e))).each(_M(this._id,t)):this.styleTween(t,gM(t,r,e),n).on("end.style."+t,null)}function EM(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function wM(t,e,n){var r,s;function a(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&EM(t,u,n)),r}return a._value=e,a}function bM(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,wM(t,e,n??""))}function TM(t){return function(){this.textContent=t}}function SM(t){return function(){var e=t(this);this.textContent=e??""}}function AM(t){return this.tween("text",typeof t=="function"?SM(j_(this,"text",t)):TM(t==null?"":t+""))}function xM(t){return function(e){this.textContent=t.call(this,e)}}function CM(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&xM(s)),e}return r._value=t,r}function RM(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,CM(t))}function IM(){for(var t=this._name,e=this._id,n=zA(),r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],f=u.length,h,d=0;d<f;++d)if(h=u[d]){var m=ti(h,e);op(h,t,n,d,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ls(r,this._parents,t,n)}function NM(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,u){var f={value:u},h={value:function(){--s===0&&a()}};n.each(function(){var d=Di(this,r),m=d.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),d.on=e}),s===0&&a()})}var kM=0;function ls(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function zA(){return++kM}var ns=lf.prototype;ls.prototype={constructor:ls,select:fM,selectAll:hM,selectChild:ns.selectChild,selectChildren:ns.selectChildren,filter:iM,merge:sM,selection:pM,transition:IM,call:ns.call,nodes:ns.nodes,node:ns.node,size:ns.size,empty:ns.empty,each:ns.each,on:lM,attr:HO,attrTween:YO,style:vM,styleTween:bM,text:AM,textTween:RM,remove:cM,tween:PO,delay:QO,duration:JO,ease:tM,easeVarying:rM,end:NM,[Symbol.iterator]:ns[Symbol.iterator]};function DM(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var OM={time:null,delay:0,duration:250,ease:DM};function MM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function PM(t){var e,n;t instanceof ls?(e=t._id,t=t._name):(e=zA(),(n=OM).time=F_(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],f=u.length,h,d=0;d<f;++d)(h=u[d])&&op(h,t,e,d,u,n||MM(h,e));return new ls(r,this._parents,t,e)}lf.prototype.interrupt=DO;lf.prototype.transition=PM;const Gh=t=>()=>t;function VM(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function rs(t,e,n){this.k=t,this.x=e,this.y=n}rs.prototype={constructor:rs,scale:function(t){return t===1?this:new rs(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new rs(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var to=new rs(1,0,0);rs.prototype;function Gg(t){t.stopImmediatePropagation()}function dc(t){t.preventDefault(),t.stopImmediatePropagation()}function LM(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function UM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function uT(){return this.__zoom||to}function zM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function BM(){return navigator.maxTouchPoints||"ontouchstart"in this}function FM(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function HM(){var t=LM,e=UM,n=FM,r=zM,s=BM,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,h=SO,d=rp("start","zoom","end"),m,_,v,E=500,x=150,I=0,D=10;function P(N){N.property("__zoom",uT).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",V).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}P.transform=function(N,G,L,K){var ee=N.selection?N.selection():N;ee.property("__zoom",uT),N!==ee?X(N,G,L,K):ee.interrupt().each(function(){j(this,arguments).event(K).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},P.scaleBy=function(N,G,L,K){P.scaleTo(N,function(){var ee=this.__zoom.k,Z=typeof G=="function"?G.apply(this,arguments):G;return ee*Z},L,K)},P.scaleTo=function(N,G,L,K){P.transform(N,function(){var ee=e.apply(this,arguments),Z=this.__zoom,b=L==null?H(ee):typeof L=="function"?L.apply(this,arguments):L,Q=Z.invert(b),re=typeof G=="function"?G.apply(this,arguments):G;return n($(q(Z,re),b,Q),ee,u)},L,K)},P.translateBy=function(N,G,L,K){P.transform(N,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof L=="function"?L.apply(this,arguments):L),e.apply(this,arguments),u)},null,K)},P.translateTo=function(N,G,L,K,ee){P.transform(N,function(){var Z=e.apply(this,arguments),b=this.__zoom,Q=K==null?H(Z):typeof K=="function"?K.apply(this,arguments):K;return n(to.translate(Q[0],Q[1]).scale(b.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof L=="function"?-L.apply(this,arguments):-L),Z,u)},K,ee)};function q(N,G){return G=Math.max(a[0],Math.min(a[1],G)),G===N.k?N:new rs(G,N.x,N.y)}function $(N,G,L){var K=G[0]-L[0]*N.k,ee=G[1]-L[1]*N.k;return K===N.x&&ee===N.y?N:new rs(N.k,K,ee)}function H(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function X(N,G,L,K){N.on("start.zoom",function(){j(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(K).end()}).tween("zoom",function(){var ee=this,Z=arguments,b=j(ee,Z).event(K),Q=e.apply(ee,Z),re=L==null?H(Q):typeof L=="function"?L.apply(ee,Z):L,k=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),ce=ee.__zoom,ve=typeof G=="function"?G.apply(ee,Z):G,_e=h(ce.invert(re).concat(k/ce.k),ve.invert(re).concat(k/ve.k));return function(Re){if(Re===1)Re=ve;else{var Se=_e(Re),He=k/Se[2];Re=new rs(He,re[0]-Se[0]*He,re[1]-Se[1]*He)}b.zoom(null,Re)}})}function j(N,G,L){return!L&&N.__zooming||new U(N,G)}function U(N,G){this.that=N,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(N,G),this.taps=0}U.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,G){return this.mouse&&N!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var G=Xr(this.that).datum();d.call(N,this.that,new VM(N,{sourceEvent:this.sourceEvent,target:P,transform:this.that.__zoom,dispatch:d}),G)}};function C(N,...G){if(!t.apply(this,arguments))return;var L=j(this,G).event(N),K=this.__zoom,ee=Math.max(a[0],Math.min(a[1],K.k*Math.pow(2,r.apply(this,arguments)))),Z=bi(N);if(L.wheel)(L.mouse[0][0]!==Z[0]||L.mouse[0][1]!==Z[1])&&(L.mouse[1]=K.invert(L.mouse[0]=Z)),clearTimeout(L.wheel);else{if(K.k===ee)return;L.mouse=[Z,K.invert(Z)],hd(this),L.start()}dc(N),L.wheel=setTimeout(b,x),L.zoom("mouse",n($(q(K,ee),L.mouse[0],L.mouse[1]),L.extent,u));function b(){L.wheel=null,L.end()}}function R(N,...G){if(v||!t.apply(this,arguments))return;var L=N.currentTarget,K=j(this,G,!0).event(N),ee=Xr(N.view).on("mousemove.zoom",re,!0).on("mouseup.zoom",k,!0),Z=bi(N,L),b=N.clientX,Q=N.clientY;AA(N.view),Gg(N),K.mouse=[Z,this.__zoom.invert(Z)],hd(this),K.start();function re(ce){if(dc(ce),!K.moved){var ve=ce.clientX-b,_e=ce.clientY-Q;K.moved=ve*ve+_e*_e>I}K.event(ce).zoom("mouse",n($(K.that.__zoom,K.mouse[0]=bi(ce,L),K.mouse[1]),K.extent,u))}function k(ce){ee.on("mousemove.zoom mouseup.zoom",null),xA(ce.view,K.moved),dc(ce),K.event(ce).end()}}function M(N,...G){if(t.apply(this,arguments)){var L=this.__zoom,K=bi(N.changedTouches?N.changedTouches[0]:N,this),ee=L.invert(K),Z=L.k*(N.shiftKey?.5:2),b=n($(q(L,Z),K,ee),e.apply(this,G),u);dc(N),f>0?Xr(this).transition().duration(f).call(X,b,K,N):Xr(this).call(P.transform,b,K,N)}}function V(N,...G){if(t.apply(this,arguments)){var L=N.touches,K=L.length,ee=j(this,G,N.changedTouches.length===K).event(N),Z,b,Q,re;for(Gg(N),b=0;b<K;++b)Q=L[b],re=bi(Q,this),re=[re,this.__zoom.invert(re),Q.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==re[2]&&(ee.touch1=re,ee.taps=0):(ee.touch0=re,Z=!0,ee.taps=1+!!m);m&&(m=clearTimeout(m)),Z&&(ee.taps<2&&(_=re[0],m=setTimeout(function(){m=null},E)),hd(this),ee.start())}}function B(N,...G){if(this.__zooming){var L=j(this,G).event(N),K=N.changedTouches,ee=K.length,Z,b,Q,re;for(dc(N),Z=0;Z<ee;++Z)b=K[Z],Q=bi(b,this),L.touch0&&L.touch0[2]===b.identifier?L.touch0[0]=Q:L.touch1&&L.touch1[2]===b.identifier&&(L.touch1[0]=Q);if(b=L.that.__zoom,L.touch1){var k=L.touch0[0],ce=L.touch0[1],ve=L.touch1[0],_e=L.touch1[1],Re=(Re=ve[0]-k[0])*Re+(Re=ve[1]-k[1])*Re,Se=(Se=_e[0]-ce[0])*Se+(Se=_e[1]-ce[1])*Se;b=q(b,Math.sqrt(Re/Se)),Q=[(k[0]+ve[0])/2,(k[1]+ve[1])/2],re=[(ce[0]+_e[0])/2,(ce[1]+_e[1])/2]}else if(L.touch0)Q=L.touch0[0],re=L.touch0[1];else return;L.zoom("touch",n($(b,Q,re),L.extent,u))}}function A(N,...G){if(this.__zooming){var L=j(this,G).event(N),K=N.changedTouches,ee=K.length,Z,b;for(Gg(N),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),Z=0;Z<ee;++Z)b=K[Z],L.touch0&&L.touch0[2]===b.identifier?delete L.touch0:L.touch1&&L.touch1[2]===b.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(b=bi(b,this),Math.hypot(_[0]-b[0],_[1]-b[1])<D)){var Q=Xr(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return P.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:Gh(+N),P):r},P.filter=function(N){return arguments.length?(t=typeof N=="function"?N:Gh(!!N),P):t},P.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:Gh(!!N),P):s},P.extent=function(N){return arguments.length?(e=typeof N=="function"?N:Gh([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),P):e},P.scaleExtent=function(N){return arguments.length?(a[0]=+N[0],a[1]=+N[1],P):[a[0],a[1]]},P.translateExtent=function(N){return arguments.length?(u[0][0]=+N[0][0],u[1][0]=+N[1][0],u[0][1]=+N[0][1],u[1][1]=+N[1][1],P):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},P.constrain=function(N){return arguments.length?(n=N,P):n},P.duration=function(N){return arguments.length?(f=+N,P):f},P.interpolate=function(N){return arguments.length?(h=N,P):h},P.on=function(){var N=d.on.apply(d,arguments);return N===d?P:N},P.clickDistance=function(N){return arguments.length?(I=(N=+N)*N,P):Math.sqrt(I)},P.tapDistance=function(N){return arguments.length?(D=+N,P):D},P}var jM=fA();const Rl=ya(jM),ap=z.createContext(null),qM=ap.Provider,us={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},BA=us.error001();function zt(t,e){const n=z.useContext(ap);if(n===null)throw new Error(BA);return hA(n,t,e)}const wn=()=>{const t=z.useContext(ap);if(t===null)throw new Error(BA);return z.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},$M=t=>t.userSelectionActive?"none":"all";function FA({position:t,children:e,className:n,style:r,...s}){const a=zt($M),u=`${t}`.split("-");return fe.createElement("div",{className:$n(["react-flow__panel",n,...u]),style:{...r,pointerEvents:a},...s},e)}function GM({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:fe.createElement(FA,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},fe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const YM=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:f=2,children:h,className:d,...m})=>{const _=z.useRef(null),[v,E]=z.useState({x:0,y:0,width:0,height:0}),x=$n(["react-flow__edge-textwrapper",d]);return z.useEffect(()=>{if(_.current){const I=_.current.getBBox();E({x:I.x,y:I.y,width:I.width,height:I.height})}},[n]),typeof n>"u"||!n?null:fe.createElement("g",{transform:`translate(${t-v.width/2} ${e-v.height/2})`,className:x,visibility:v.width?"visible":"hidden",...m},s&&fe.createElement("rect",{width:v.width+2*u[0],x:-u[0],y:-u[1],height:v.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:f,ry:f}),fe.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:_,style:r},n),h)};var KM=z.memo(YM);const q_=t=>({width:t.offsetWidth,height:t.offsetHeight}),ql=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),$_=(t={x:0,y:0},e)=>({x:ql(t.x,e[0][0],e[1][0]),y:ql(t.y,e[0][1],e[1][1])}),cT=(t,e,n)=>t<e?ql(Math.abs(t-e),1,50)/50:t>n?-ql(Math.abs(t-n),1,50)/50:0,HA=(t,e)=>{const n=cT(t.x,35,e.width-35)*20,r=cT(t.y,35,e.height-35)*20;return[n,r]},jA=t=>t.getRootNode?.()||window?.document,XM=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),G_=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),QM=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),fT=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),By=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},WM=t=>Br(t.width)&&Br(t.height)&&Br(t.x)&&Br(t.y),Br=t=>!isNaN(t)&&isFinite(t),$t=Symbol.for("internals"),qA=["Enter"," ","Escape"],ZM=(t,e)=>{},JM=t=>"nativeEvent"in t;function Fy(t){const n=(JM(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const $A=t=>"clientX"in t,no=(t,e)=>{const n=$A(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},Nd=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,cf=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:_,markerStart:v,interactionWidth:E=20})=>fe.createElement(fe.Fragment,null,fe.createElement("path",{id:t,style:m,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:_,markerStart:v}),E&&fe.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),s&&Br(n)&&Br(r)?fe.createElement(KM,{x:n,y:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d}):null);cf.displayName="BaseEdge";function pc(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(a=>a.id===t);s&&n(r,{...s})}}function GA({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,u=Math.abs(r-e)/2,f=r<e?r+u:r-u;return[a,f,s,u]}function YA({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:f}){const h=t*.125+s*.375+u*.375+n*.125,d=e*.125+a*.375+f*.375+r*.125,m=Math.abs(h-t),_=Math.abs(d-e);return[h,d,m,_]}var uo;(function(t){t.Strict="strict",t.Loose="loose"})(uo||(uo={}));var sa;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(sa||(sa={}));var Gc;(function(t){t.Partial="partial",t.Full="full"})(Gc||(Gc={}));var Xs;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Xs||(Xs={}));var Yc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Yc||(Yc={}));var Ne;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ne||(Ne={}));function hT({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===Ne.Left||t===Ne.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function KA({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:a=Ne.Top}){const[u,f]=hT({pos:n,x1:t,y1:e,x2:r,y2:s}),[h,d]=hT({pos:a,x1:r,y1:s,x2:t,y2:e}),[m,_,v,E]=YA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:f,targetControlX:h,targetControlY:d});return[`M${t},${e} C${u},${f} ${h},${d} ${r},${s}`,m,_,v,E]}const Y_=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ne.Bottom,targetPosition:a=Ne.Top,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,interactionWidth:I})=>{const[D,P,q]=KA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return fe.createElement(cf,{path:D,labelX:P,labelY:q,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,interactionWidth:I})});Y_.displayName="SimpleBezierEdge";const dT={[Ne.Left]:{x:-1,y:0},[Ne.Right]:{x:1,y:0},[Ne.Top]:{x:0,y:-1},[Ne.Bottom]:{x:0,y:1}},eP=({source:t,sourcePosition:e=Ne.Bottom,target:n})=>e===Ne.Left||e===Ne.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},pT=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function tP({source:t,sourcePosition:e=Ne.Bottom,target:n,targetPosition:r=Ne.Top,center:s,offset:a}){const u=dT[e],f=dT[r],h={x:t.x+u.x*a,y:t.y+u.y*a},d={x:n.x+f.x*a,y:n.y+f.y*a},m=eP({source:h,sourcePosition:e,target:d}),_=m.x!==0?"x":"y",v=m[_];let E=[],x,I;const D={x:0,y:0},P={x:0,y:0},[q,$,H,X]=GA({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[_]*f[_]===-1){x=s.x??q,I=s.y??$;const U=[{x,y:h.y},{x,y:d.y}],C=[{x:h.x,y:I},{x:d.x,y:I}];u[_]===v?E=_==="x"?U:C:E=_==="x"?C:U}else{const U=[{x:h.x,y:d.y}],C=[{x:d.x,y:h.y}];if(_==="x"?E=u.x===v?C:U:E=u.y===v?U:C,e===r){const A=Math.abs(t[_]-n[_]);if(A<=a){const N=Math.min(a-1,a-A);u[_]===v?D[_]=(h[_]>t[_]?-1:1)*N:P[_]=(d[_]>n[_]?-1:1)*N}}if(e!==r){const A=_==="x"?"y":"x",N=u[_]===f[A],G=h[A]>d[A],L=h[A]<d[A];(u[_]===1&&(!N&&G||N&&L)||u[_]!==1&&(!N&&L||N&&G))&&(E=_==="x"?U:C)}const R={x:h.x+D.x,y:h.y+D.y},M={x:d.x+P.x,y:d.y+P.y},V=Math.max(Math.abs(R.x-E[0].x),Math.abs(M.x-E[0].x)),B=Math.max(Math.abs(R.y-E[0].y),Math.abs(M.y-E[0].y));V>=B?(x=(R.x+M.x)/2,I=E[0].y):(x=E[0].x,I=(R.y+M.y)/2)}return[[t,{x:h.x+D.x,y:h.y+D.y},...E,{x:d.x+P.x,y:d.y+P.y},n],x,I,H,X]}function nP(t,e,n,r){const s=Math.min(pT(t,e)/2,pT(e,n)/2,r),{x:a,y:u}=e;if(t.x===a&&a===n.x||t.y===u&&u===n.y)return`L${a} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${a+s*d},${u}Q ${a},${u} ${a},${u+s*m}`}const f=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${a},${u+s*h}Q ${a},${u} ${a+s*f},${u}`}function Hy({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:a=Ne.Top,borderRadius:u=5,centerX:f,centerY:h,offset:d=20}){const[m,_,v,E,x]=tP({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:f,y:h},offset:d});return[m.reduce((D,P,q)=>{let $="";return q>0&&q<m.length-1?$=nP(m[q-1],P,m[q+1],u):$=`${q===0?"M":"L"}${P.x} ${P.y}`,D+=$,D},""),_,v,E,x]}const lp=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,sourcePosition:_=Ne.Bottom,targetPosition:v=Ne.Top,markerEnd:E,markerStart:x,pathOptions:I,interactionWidth:D})=>{const[P,q,$]=Hy({sourceX:t,sourceY:e,sourcePosition:_,targetX:n,targetY:r,targetPosition:v,borderRadius:I?.borderRadius,offset:I?.offset});return fe.createElement(cf,{path:P,labelX:q,labelY:$,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:x,interactionWidth:D})});lp.displayName="SmoothStepEdge";const K_=z.memo(t=>fe.createElement(lp,{...t,pathOptions:z.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));K_.displayName="StepEdge";function rP({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,a,u,f]=GA({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,a,u,f]}const X_=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:_,markerStart:v,interactionWidth:E})=>{const[x,I,D]=rP({sourceX:t,sourceY:e,targetX:n,targetY:r});return fe.createElement(cf,{path:x,labelX:I,labelY:D,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:_,markerStart:v,interactionWidth:E})});X_.displayName="StraightEdge";function Yh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function mT({pos:t,x1:e,y1:n,x2:r,y2:s,c:a}){switch(t){case Ne.Left:return[e-Yh(e-r,a),n];case Ne.Right:return[e+Yh(r-e,a),n];case Ne.Top:return[e,n-Yh(n-s,a)];case Ne.Bottom:return[e,n+Yh(s-n,a)]}}function XA({sourceX:t,sourceY:e,sourcePosition:n=Ne.Bottom,targetX:r,targetY:s,targetPosition:a=Ne.Top,curvature:u=.25}){const[f,h]=mT({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[d,m]=mT({pos:a,x1:r,y1:s,x2:t,y2:e,c:u}),[_,v,E,x]=YA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:f,sourceControlY:h,targetControlX:d,targetControlY:m});return[`M${t},${e} C${f},${h} ${d},${m} ${r},${s}`,_,v,E,x]}const kd=z.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ne.Bottom,targetPosition:a=Ne.Top,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,pathOptions:I,interactionWidth:D})=>{const[P,q,$]=XA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:I?.curvature});return fe.createElement(cf,{path:P,labelX:q,labelY:$,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,interactionWidth:D})});kd.displayName="BezierEdge";const Q_=z.createContext(null),iP=Q_.Provider;Q_.Consumer;const sP=()=>z.useContext(Q_),oP=t=>"id"in t&&"source"in t&&"target"in t,aP=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,jy=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,lP=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),uP=(t,e)=>{if(!t.source||!t.target)return e;let n;return oP(t)?n={...t}:n={...t,id:aP(t)},lP(n,e)?e:e.concat(n)},qy=({x:t,y:e},[n,r,s],a,[u,f])=>{const h={x:(t-n)/s,y:(e-r)/s};return a?{x:u*Math.round(h.x/u),y:f*Math.round(h.y/f)}:h},QA=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),Ol=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},W_=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:a,y:u}=Ol(s,e).positionAbsolute;return XM(r,G_({x:a,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return QM(n)},WA=(t,e,[n,r,s]=[0,0,1],a=!1,u=!1,f=[0,0])=>{const h={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(m=>{const{width:_,height:v,selectable:E=!0,hidden:x=!1}=m;if(u&&!E||x)return!1;const{positionAbsolute:I}=Ol(m,f),D={x:I.x,y:I.y,width:_||0,height:v||0},P=By(h,D),q=typeof _>"u"||typeof v>"u"||_===null||v===null,$=a&&P>0,H=(_||0)*(v||0);(q||$||P>=H||m.dragging)&&d.push(m)}),d},ZA=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},JA=(t,e,n,r,s,a=.1)=>{const u=e/(t.width*(1+a)),f=n/(t.height*(1+a)),h=Math.min(u,f),d=ql(h,r,s),m=t.x+t.width/2,_=t.y+t.height/2,v=e/2-m*d,E=n/2-_*d;return{x:v,y:E,zoom:d}},Jo=(t,e=0)=>t.transition().duration(e);function gT(t,e,n,r){return(e[n]||[]).reduce((s,a)=>(`${t.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+a.x+a.width/2,y:(t.positionAbsolute?.y??0)+a.y+a.height/2}),s),[])}function cP(t,e,n,r,s,a){const{x:u,y:f}=no(t),d=e.elementsFromPoint(u,f).find(x=>x.classList.contains("react-flow__handle"));if(d){const x=d.getAttribute("data-nodeid");if(x){const I=Z_(void 0,d),D=d.getAttribute("data-handleid"),P=a({nodeId:x,id:D,type:I});if(P){const q=s.find($=>$.nodeId===x&&$.type===I&&$.id===D);return{handle:{id:D,type:I,nodeId:x,x:q?.x||n.x,y:q?.y||n.y},validHandleResult:P}}}}let m=[],_=1/0;if(s.forEach(x=>{const I=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(I<=r){const D=a(x);I<=_&&(I<_?m=[{handle:x,validHandleResult:D}]:I===_&&m.push({handle:x,validHandleResult:D}),_=I)}}),!m.length)return{handle:null,validHandleResult:ex()};if(m.length===1)return m[0];const v=m.some(({validHandleResult:x})=>x.isValid),E=m.some(({handle:x})=>x.type==="target");return m.find(({handle:x,validHandleResult:I})=>E?x.type==="target":v?I.isValid:!0)||m[0]}const fP={source:null,target:null,sourceHandle:null,targetHandle:null},ex=()=>({handleDomNode:null,isValid:!1,connection:fP,endHandle:null});function tx(t,e,n,r,s,a,u){const f=s==="target",h=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),d={...ex(),handleDomNode:h};if(h){const m=Z_(void 0,h),_=h.getAttribute("data-nodeid"),v=h.getAttribute("data-handleid"),E=h.classList.contains("connectable"),x=h.classList.contains("connectableend"),I={source:f?_:n,sourceHandle:f?v:r,target:f?n:_,targetHandle:f?r:v};d.connection=I,E&&x&&(e===uo.Strict?f&&m==="source"||!f&&m==="target":_!==n||v!==r)&&(d.endHandle={nodeId:_,handleId:v,type:m},d.isValid=a(I))}return d}function hP({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,a)=>{if(a[$t]){const{handleBounds:u}=a[$t];let f=[],h=[];u&&(f=gT(a,u,"source",`${e}-${n}-${r}`),h=gT(a,u,"target",`${e}-${n}-${r}`)),s.push(...f,...h)}return s},[])}function Z_(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Yg(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function dP(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function nx({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:u,isValidConnection:f,edgeUpdaterType:h,onReconnectEnd:d}){const m=jA(t.target),{connectionMode:_,domNode:v,autoPanOnConnect:E,connectionRadius:x,onConnectStart:I,panBy:D,getNodes:P,cancelConnection:q}=a();let $=0,H;const{x:X,y:j}=no(t),U=m?.elementFromPoint(X,j),C=Z_(h,U),R=v?.getBoundingClientRect();if(!R||!C)return;let M,V=no(t,R),B=!1,A=null,N=!1,G=null;const L=hP({nodes:P(),nodeId:n,handleId:e,handleType:C}),K=()=>{if(!E)return;const[b,Q]=HA(V,R);D({x:b,y:Q}),$=requestAnimationFrame(K)};u({connectionPosition:V,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:e,type:C},connectionEndHandle:null}),I?.(t,{nodeId:n,handleId:e,handleType:C});function ee(b){const{transform:Q}=a();V=no(b,R);const{handle:re,validHandleResult:k}=cP(b,m,qy(V,Q,!1,[1,1]),x,L,ce=>tx(ce,_,n,e,s?"target":"source",f,m));if(H=re,B||(K(),B=!0),G=k.handleDomNode,A=k.connection,N=k.isValid,u({connectionPosition:H&&N?QA({x:H.x,y:H.y},Q):V,connectionStatus:dP(!!H,N),connectionEndHandle:k.endHandle}),!H&&!N&&!G)return Yg(M);A.source!==A.target&&G&&(Yg(M),M=G,G.classList.add("connecting","react-flow__handle-connecting"),G.classList.toggle("valid",N),G.classList.toggle("react-flow__handle-valid",N))}function Z(b){(H||G)&&A&&N&&r?.(A),a().onConnectEnd?.(b),h&&d?.(b),Yg(M),q(),cancelAnimationFrame($),B=!1,N=!1,A=null,G=null,m.removeEventListener("mousemove",ee),m.removeEventListener("mouseup",Z),m.removeEventListener("touchmove",ee),m.removeEventListener("touchend",Z)}m.addEventListener("mousemove",ee),m.addEventListener("mouseup",Z),m.addEventListener("touchmove",ee),m.addEventListener("touchend",Z)}const yT=()=>!0,pP=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),mP=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||a?.nodeId===t&&a?.handleId===e&&a?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},rx=z.forwardRef(({type:t="source",position:e=Ne.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:u,onConnect:f,children:h,className:d,onMouseDown:m,onTouchStart:_,...v},E)=>{const x=u||null,I=t==="target",D=wn(),P=sP(),{connectOnClick:q,noPanClassName:$}=zt(pP,Ln),{connecting:H,clickConnecting:X}=zt(mP(P,x,t),Ln);P||D.getState().onError?.("010",us.error010());const j=R=>{const{defaultEdgeOptions:M,onConnect:V,hasDefaultEdges:B}=D.getState(),A={...M,...R};if(B){const{edges:N,setEdges:G}=D.getState();G(uP(A,N))}V?.(A),f?.(A)},U=R=>{if(!P)return;const M=$A(R);s&&(M&&R.button===0||!M)&&nx({event:R,handleId:x,nodeId:P,onConnect:j,isTarget:I,getState:D.getState,setState:D.setState,isValidConnection:n||D.getState().isValidConnection||yT}),M?m?.(R):_?.(R)},C=R=>{const{onClickConnectStart:M,onClickConnectEnd:V,connectionClickStartHandle:B,connectionMode:A,isValidConnection:N}=D.getState();if(!P||!B&&!s)return;if(!B){M?.(R,{nodeId:P,handleId:x,handleType:t}),D.setState({connectionClickStartHandle:{nodeId:P,type:t,handleId:x}});return}const G=jA(R.target),L=n||N||yT,{connection:K,isValid:ee}=tx({nodeId:P,id:x,type:t},A,B.nodeId,B.handleId||null,B.type,L,G);ee&&j(K),V?.(R),D.setState({connectionClickStartHandle:null})};return fe.createElement("div",{"data-handleid":x,"data-nodeid":P,"data-handlepos":e,"data-id":`${P}-${x}-${t}`,className:$n(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",$,d,{source:!I,target:I,connectable:r,connectablestart:s,connectableend:a,connecting:X,connectionindicator:r&&(s&&!H||a&&H)}]),onMouseDown:U,onTouchStart:U,onClick:q?C:void 0,ref:E,...v},h)});rx.displayName="Handle";var co=z.memo(rx);const ix=({data:t,isConnectable:e,targetPosition:n=Ne.Top,sourcePosition:r=Ne.Bottom})=>fe.createElement(fe.Fragment,null,fe.createElement(co,{type:"target",position:n,isConnectable:e}),t?.label,fe.createElement(co,{type:"source",position:r,isConnectable:e}));ix.displayName="DefaultNode";var $y=z.memo(ix);const sx=({data:t,isConnectable:e,sourcePosition:n=Ne.Bottom})=>fe.createElement(fe.Fragment,null,t?.label,fe.createElement(co,{type:"source",position:n,isConnectable:e}));sx.displayName="InputNode";var ox=z.memo(sx);const ax=({data:t,isConnectable:e,targetPosition:n=Ne.Top})=>fe.createElement(fe.Fragment,null,fe.createElement(co,{type:"target",position:n,isConnectable:e}),t?.label);ax.displayName="OutputNode";var lx=z.memo(ax);const J_=()=>null;J_.displayName="GroupNode";const gP=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Kh=t=>t.id;function yP(t,e){return Ln(t.selectedNodes.map(Kh),e.selectedNodes.map(Kh))&&Ln(t.selectedEdges.map(Kh),e.selectedEdges.map(Kh))}const ux=z.memo(({onSelectionChange:t})=>{const e=wn(),{selectedNodes:n,selectedEdges:r}=zt(gP,yP);return z.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,r,t]),null});ux.displayName="SelectionListener";const _P=t=>!!t.onSelectionChange;function vP({onSelectionChange:t}){const e=zt(_P);return t||e?fe.createElement(ux,{onSelectionChange:t}):null}const EP=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function dl(t,e){z.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function We(t,e,n){z.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const wP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:u,onClickConnectStart:f,onClickConnectEnd:h,nodesDraggable:d,nodesConnectable:m,nodesFocusable:_,edgesFocusable:v,edgesUpdatable:E,elevateNodesOnSelect:x,minZoom:I,maxZoom:D,nodeExtent:P,onNodesChange:q,onEdgesChange:$,elementsSelectable:H,connectionMode:X,snapGrid:j,snapToGrid:U,translateExtent:C,connectOnClick:R,defaultEdgeOptions:M,fitView:V,fitViewOptions:B,onNodesDelete:A,onEdgesDelete:N,onNodeDrag:G,onNodeDragStart:L,onNodeDragStop:K,onSelectionDrag:ee,onSelectionDragStart:Z,onSelectionDragStop:b,noPanClassName:Q,nodeOrigin:re,rfId:k,autoPanOnConnect:ce,autoPanOnNodeDrag:ve,onError:_e,connectionRadius:Re,isValidConnection:Se,nodeDragThreshold:He})=>{const{setNodes:Ue,setEdges:lt,setDefaultNodesAndEdges:pt,setMinZoom:bt,setMaxZoom:mt,setTranslateExtent:Oe,setNodeExtent:Vt,reset:Be}=zt(EP,Ln),Ce=wn();return z.useEffect(()=>{const Ot=r?.map(sn=>({...sn,...M}));return pt(n,Ot),()=>{Be()}},[]),We("defaultEdgeOptions",M,Ce.setState),We("connectionMode",X,Ce.setState),We("onConnect",s,Ce.setState),We("onConnectStart",a,Ce.setState),We("onConnectEnd",u,Ce.setState),We("onClickConnectStart",f,Ce.setState),We("onClickConnectEnd",h,Ce.setState),We("nodesDraggable",d,Ce.setState),We("nodesConnectable",m,Ce.setState),We("nodesFocusable",_,Ce.setState),We("edgesFocusable",v,Ce.setState),We("edgesUpdatable",E,Ce.setState),We("elementsSelectable",H,Ce.setState),We("elevateNodesOnSelect",x,Ce.setState),We("snapToGrid",U,Ce.setState),We("snapGrid",j,Ce.setState),We("onNodesChange",q,Ce.setState),We("onEdgesChange",$,Ce.setState),We("connectOnClick",R,Ce.setState),We("fitViewOnInit",V,Ce.setState),We("fitViewOnInitOptions",B,Ce.setState),We("onNodesDelete",A,Ce.setState),We("onEdgesDelete",N,Ce.setState),We("onNodeDrag",G,Ce.setState),We("onNodeDragStart",L,Ce.setState),We("onNodeDragStop",K,Ce.setState),We("onSelectionDrag",ee,Ce.setState),We("onSelectionDragStart",Z,Ce.setState),We("onSelectionDragStop",b,Ce.setState),We("noPanClassName",Q,Ce.setState),We("nodeOrigin",re,Ce.setState),We("rfId",k,Ce.setState),We("autoPanOnConnect",ce,Ce.setState),We("autoPanOnNodeDrag",ve,Ce.setState),We("onError",_e,Ce.setState),We("connectionRadius",Re,Ce.setState),We("isValidConnection",Se,Ce.setState),We("nodeDragThreshold",He,Ce.setState),dl(t,Ue),dl(e,lt),dl(I,bt),dl(D,mt),dl(C,Oe),dl(P,Vt),null},_T={display:"none"},bP={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},cx="react-flow__node-desc",fx="react-flow__edge-desc",TP="react-flow__aria-live",SP=t=>t.ariaLiveMessage;function AP({rfId:t}){const e=zt(SP);return fe.createElement("div",{id:`${TP}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:bP},e)}function xP({rfId:t,disableKeyboardA11y:e}){return fe.createElement(fe.Fragment,null,fe.createElement("div",{id:`${cx}-${t}`,style:_T},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),fe.createElement("div",{id:`${fx}-${t}`,style:_T},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&fe.createElement(AP,{rfId:t}))}var Kc=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=z.useState(!1),s=z.useRef(!1),a=z.useRef(new Set([])),[u,f]=z.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(_=>typeof _=="string").map(_=>_.split("+")),m=d.reduce((_,v)=>_.concat(...v),[]);return[d,m]}return[[],[]]},[t]);return z.useEffect(()=>{const h=typeof document<"u"?document:null,d=e?.target||h;if(t!==null){const m=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&Fy(E))return!1;const I=ET(E.code,f);a.current.add(E[I]),vT(u,a.current,!1)&&(E.preventDefault(),r(!0))},_=E=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&Fy(E))return!1;const I=ET(E.code,f);vT(u,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(E[I]),E.key==="Meta"&&a.current.clear(),s.current=!1},v=()=>{a.current.clear(),r(!1)};return d?.addEventListener("keydown",m),d?.addEventListener("keyup",_),window.addEventListener("blur",v),()=>{d?.removeEventListener("keydown",m),d?.removeEventListener("keyup",_),window.removeEventListener("blur",v)}}},[t,r]),n};function vT(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function ET(t,e){return e.includes(t)?"code":"key"}function hx(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),u=Ol(a,r);return hx(a,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(a[$t]?.z??0)>(n.z??0)?a[$t]?.z??0:n.z??0},r)}function dx(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:a,y:u,z:f}=hx(r,t,{...r.position,z:r[$t]?.z??0},e);r.positionAbsolute={x:a,y:u},r[$t].z=f,n?.[r.id]&&(r[$t].isParent=!0)}})}function Kg(t,e,n,r){const s=new Map,a={},u=r?1e3:0;return t.forEach(f=>{const h=(Br(f.zIndex)?f.zIndex:0)+(f.selected?u:0),d=e.get(f.id),m={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},_=f.parentNode||f.parentId;_&&(a[_]=!0);const v=d?.type&&d?.type!==f.type;Object.defineProperty(m,$t,{enumerable:!1,value:{handleBounds:v?void 0:d?.[$t]?.handleBounds,z:h}}),s.set(f.id,m)}),dx(s,n,a),s}function px(t,e={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:u,d3Zoom:f,d3Selection:h,fitViewOnInitDone:d,fitViewOnInit:m,nodeOrigin:_}=t(),v=e.initial&&!d&&m;if(f&&h&&(v||!e.initial)){const x=n().filter(D=>{const P=e.includeHiddenNodes?D.width&&D.height:!D.hidden;return e.nodes?.length?P&&e.nodes.some(q=>q.id===D.id):P}),I=x.every(D=>D.width&&D.height);if(x.length>0&&I){const D=W_(x,_),{x:P,y:q,zoom:$}=JA(D,r,s,e.minZoom??a,e.maxZoom??u,e.padding??.1),H=to.translate(P,q).scale($);return typeof e.duration=="number"&&e.duration>0?f.transform(Jo(h,e.duration),H):f.transform(h,H),!0}}return!1}function CP(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[$t]:r[$t],selected:n.selected})}),new Map(e)}function RP(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Xh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:u,onEdgesChange:f,hasDefaultNodes:h,hasDefaultEdges:d}=n();t?.length&&(h&&r({nodeInternals:CP(t,s)}),u?.(t)),e?.length&&(d&&r({edges:RP(e,a)}),f?.(e))}const pl=()=>{},IP={zoomIn:pl,zoomOut:pl,zoomTo:pl,getZoom:()=>1,setViewport:pl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:pl,fitBounds:pl,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},NP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),kP=()=>{const t=wn(),{d3Zoom:e,d3Selection:n}=zt(NP,Ln);return z.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Jo(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(Jo(n,s?.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(Jo(n,a?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[u,f,h]=t.getState().transform,d=to.translate(s.x??u,s.y??f).scale(s.zoom??h);e.transform(Jo(n,a?.duration),d)},getViewport:()=>{const[s,a,u]=t.getState().transform;return{x:s,y:a,zoom:u}},fitView:s=>px(t.getState,s),setCenter:(s,a,u)=>{const{width:f,height:h,maxZoom:d}=t.getState(),m=typeof u?.zoom<"u"?u.zoom:d,_=f/2-s*m,v=h/2-a*m,E=to.translate(_,v).scale(m);e.transform(Jo(n,u?.duration),E)},fitBounds:(s,a)=>{const{width:u,height:f,minZoom:h,maxZoom:d}=t.getState(),{x:m,y:_,zoom:v}=JA(s,u,f,h,d,a?.padding??.1),E=to.translate(m,_).scale(v);e.transform(Jo(n,a?.duration),E)},project:s=>{const{transform:a,snapToGrid:u,snapGrid:f}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),qy(s,a,u,f)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:u,snapGrid:f,domNode:h}=t.getState();if(!h)return s;const{x:d,y:m}=h.getBoundingClientRect(),_={x:s.x-d,y:s.y-m};return qy(_,a,u,f)},flowToScreenPosition:s=>{const{transform:a,domNode:u}=t.getState();if(!u)return s;const{x:f,y:h}=u.getBoundingClientRect(),d=QA(s,a);return{x:d.x+f,y:d.y+h}},viewportInitialized:!0}:IP,[e,n])};function ff(){const t=kP(),e=wn(),n=z.useCallback(()=>e.getState().getNodes().map(I=>({...I})),[]),r=z.useCallback(I=>e.getState().nodeInternals.get(I),[]),s=z.useCallback(()=>{const{edges:I=[]}=e.getState();return I.map(D=>({...D}))},[]),a=z.useCallback(I=>{const{edges:D=[]}=e.getState();return D.find(P=>P.id===I)},[]),u=z.useCallback(I=>{const{getNodes:D,setNodes:P,hasDefaultNodes:q,onNodesChange:$}=e.getState(),H=D(),X=typeof I=="function"?I(H):I;if(q)P(X);else if($){const j=X.length===0?H.map(U=>({type:"remove",id:U.id})):X.map(U=>({item:U,type:"reset"}));$(j)}},[]),f=z.useCallback(I=>{const{edges:D=[],setEdges:P,hasDefaultEdges:q,onEdgesChange:$}=e.getState(),H=typeof I=="function"?I(D):I;if(q)P(H);else if($){const X=H.length===0?D.map(j=>({type:"remove",id:j.id})):H.map(j=>({item:j,type:"reset"}));$(X)}},[]),h=z.useCallback(I=>{const D=Array.isArray(I)?I:[I],{getNodes:P,setNodes:q,hasDefaultNodes:$,onNodesChange:H}=e.getState();if($){const j=[...P(),...D];q(j)}else if(H){const X=D.map(j=>({item:j,type:"add"}));H(X)}},[]),d=z.useCallback(I=>{const D=Array.isArray(I)?I:[I],{edges:P=[],setEdges:q,hasDefaultEdges:$,onEdgesChange:H}=e.getState();if($)q([...P,...D]);else if(H){const X=D.map(j=>({item:j,type:"add"}));H(X)}},[]),m=z.useCallback(()=>{const{getNodes:I,edges:D=[],transform:P}=e.getState(),[q,$,H]=P;return{nodes:I().map(X=>({...X})),edges:D.map(X=>({...X})),viewport:{x:q,y:$,zoom:H}}},[]),_=z.useCallback(({nodes:I,edges:D})=>{const{nodeInternals:P,getNodes:q,edges:$,hasDefaultNodes:H,hasDefaultEdges:X,onNodesDelete:j,onEdgesDelete:U,onNodesChange:C,onEdgesChange:R}=e.getState(),M=(I||[]).map(G=>G.id),V=(D||[]).map(G=>G.id),B=q().reduce((G,L)=>{const K=L.parentNode||L.parentId,ee=!M.includes(L.id)&&K&&G.find(b=>b.id===K);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(M.includes(L.id)||ee)&&G.push(L),G},[]),A=$.filter(G=>typeof G.deletable=="boolean"?G.deletable:!0),N=A.filter(G=>V.includes(G.id));if(B||N){const G=ZA(B,A),L=[...N,...G],K=L.reduce((ee,Z)=>(ee.includes(Z.id)||ee.push(Z.id),ee),[]);if((X||H)&&(X&&e.setState({edges:$.filter(ee=>!K.includes(ee.id))}),H&&(B.forEach(ee=>{P.delete(ee.id)}),e.setState({nodeInternals:new Map(P)}))),K.length>0&&(U?.(L),R&&R(K.map(ee=>({id:ee,type:"remove"})))),B.length>0&&(j?.(B),C)){const ee=B.map(Z=>({id:Z.id,type:"remove"}));C(ee)}}},[]),v=z.useCallback(I=>{const D=WM(I),P=D?null:e.getState().nodeInternals.get(I.id);return!D&&!P?[null,null,D]:[D?I:fT(P),P,D]},[]),E=z.useCallback((I,D=!0,P)=>{const[q,$,H]=v(I);return q?(P||e.getState().getNodes()).filter(X=>{if(!H&&(X.id===$.id||!X.positionAbsolute))return!1;const j=fT(X),U=By(j,q);return D&&U>0||U>=q.width*q.height}):[]},[]),x=z.useCallback((I,D,P=!0)=>{const[q]=v(I);if(!q)return!1;const $=By(q,D);return P&&$>0||$>=q.width*q.height},[]);return z.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:u,setEdges:f,addNodes:h,addEdges:d,toObject:m,deleteElements:_,getIntersectingNodes:E,isNodeIntersecting:x}),[t,n,r,s,a,u,f,h,d,m,_,E,x])}const DP={actInsideInputWithModifier:!1};var OP=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=wn(),{deleteElements:r}=ff(),s=Kc(t,DP),a=Kc(e);z.useEffect(()=>{if(s){const{edges:u,getNodes:f}=n.getState(),h=f().filter(m=>m.selected),d=u.filter(m=>m.selected);r({nodes:h,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),z.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function MP(t){const e=wn();z.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=q_(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",us.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const ev={position:"absolute",width:"100%",height:"100%",top:0,left:0},PP=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Qh=t=>({x:t.x,y:t.y,zoom:t.k}),ml=(t,e)=>t.target.closest(`.${e}`),wT=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),bT=t=>{const e=t.ctrlKey&&Nd()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},VP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),LP=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:u=!1,panOnScrollSpeed:f=.5,panOnScrollMode:h=sa.Free,zoomOnDoubleClick:d=!0,elementsSelectable:m,panOnDrag:_=!0,defaultViewport:v,translateExtent:E,minZoom:x,maxZoom:I,zoomActivationKeyCode:D,preventScrolling:P=!0,children:q,noWheelClassName:$,noPanClassName:H})=>{const X=z.useRef(),j=wn(),U=z.useRef(!1),C=z.useRef(!1),R=z.useRef(null),M=z.useRef({x:0,y:0,zoom:0}),{d3Zoom:V,d3Selection:B,d3ZoomHandler:A,userSelectionActive:N}=zt(VP,Ln),G=Kc(D),L=z.useRef(0),K=z.useRef(!1),ee=z.useRef();return MP(R),z.useEffect(()=>{if(R.current){const Z=R.current.getBoundingClientRect(),b=HM().scaleExtent([x,I]).translateExtent(E),Q=Xr(R.current).call(b),re=to.translate(v.x,v.y).scale(ql(v.zoom,x,I)),k=[[0,0],[Z.width,Z.height]],ce=b.constrain()(re,k,E);b.transform(Q,ce),b.wheelDelta(bT),j.setState({d3Zoom:b,d3Selection:Q,d3ZoomHandler:Q.on("wheel.zoom"),transform:[ce.x,ce.y,ce.k],domNode:R.current.closest(".react-flow")})}},[]),z.useEffect(()=>{B&&V&&(u&&!G&&!N?B.on("wheel.zoom",Z=>{if(ml(Z,$))return!1;Z.preventDefault(),Z.stopImmediatePropagation();const b=B.property("__zoom").k||1;if(Z.ctrlKey&&a){const Se=bi(Z),He=bT(Z),Ue=b*Math.pow(2,He);V.scaleTo(B,Ue,Se,Z);return}const Q=Z.deltaMode===1?20:1;let re=h===sa.Vertical?0:Z.deltaX*Q,k=h===sa.Horizontal?0:Z.deltaY*Q;!Nd()&&Z.shiftKey&&h!==sa.Vertical&&(re=Z.deltaY*Q,k=0),V.translateBy(B,-(re/b)*f,-(k/b)*f,{internal:!0});const ce=Qh(B.property("__zoom")),{onViewportChangeStart:ve,onViewportChange:_e,onViewportChangeEnd:Re}=j.getState();clearTimeout(ee.current),K.current||(K.current=!0,e?.(Z,ce),ve?.(ce)),K.current&&(t?.(Z,ce),_e?.(ce),ee.current=setTimeout(()=>{n?.(Z,ce),Re?.(ce),K.current=!1},150))},{passive:!1}):typeof A<"u"&&B.on("wheel.zoom",function(Z,b){if(!P&&Z.type==="wheel"&&!Z.ctrlKey||ml(Z,$))return null;Z.preventDefault(),A.call(this,Z,b)},{passive:!1}))},[N,u,h,B,V,A,G,a,P,$,e,t,n]),z.useEffect(()=>{V&&V.on("start",Z=>{if(!Z.sourceEvent||Z.sourceEvent.internal)return null;L.current=Z.sourceEvent?.button;const{onViewportChangeStart:b}=j.getState(),Q=Qh(Z.transform);U.current=!0,M.current=Q,Z.sourceEvent?.type==="mousedown"&&j.setState({paneDragging:!0}),b?.(Q),e?.(Z.sourceEvent,Q)})},[V,e]),z.useEffect(()=>{V&&(N&&!U.current?V.on("zoom",null):N||V.on("zoom",Z=>{const{onViewportChange:b}=j.getState();if(j.setState({transform:[Z.transform.x,Z.transform.y,Z.transform.k]}),C.current=!!(r&&wT(_,L.current??0)),(t||b)&&!Z.sourceEvent?.internal){const Q=Qh(Z.transform);b?.(Q),t?.(Z.sourceEvent,Q)}}))},[N,V,t,_,r]),z.useEffect(()=>{V&&V.on("end",Z=>{if(!Z.sourceEvent||Z.sourceEvent.internal)return null;const{onViewportChangeEnd:b}=j.getState();if(U.current=!1,j.setState({paneDragging:!1}),r&&wT(_,L.current??0)&&!C.current&&r(Z.sourceEvent),C.current=!1,(n||b)&&PP(M.current,Z.transform)){const Q=Qh(Z.transform);M.current=Q,clearTimeout(X.current),X.current=setTimeout(()=>{b?.(Q),n?.(Z.sourceEvent,Q)},u?150:0)}})},[V,u,_,n,r]),z.useEffect(()=>{V&&V.filter(Z=>{const b=G||s,Q=a&&Z.ctrlKey;if((_===!0||Array.isArray(_)&&_.includes(1))&&Z.button===1&&Z.type==="mousedown"&&(ml(Z,"react-flow__node")||ml(Z,"react-flow__edge")))return!0;if(!_&&!b&&!u&&!d&&!a||N||!d&&Z.type==="dblclick"||ml(Z,$)&&Z.type==="wheel"||ml(Z,H)&&(Z.type!=="wheel"||u&&Z.type==="wheel"&&!G)||!a&&Z.ctrlKey&&Z.type==="wheel"||!b&&!u&&!Q&&Z.type==="wheel"||!_&&(Z.type==="mousedown"||Z.type==="touchstart")||Array.isArray(_)&&!_.includes(Z.button)&&Z.type==="mousedown")return!1;const re=Array.isArray(_)&&_.includes(Z.button)||!Z.button||Z.button<=1;return(!Z.ctrlKey||Z.type==="wheel")&&re})},[N,V,s,a,u,d,_,m,G]),fe.createElement("div",{className:"react-flow__renderer",ref:R,style:ev},q)},UP=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function zP(){const{userSelectionActive:t,userSelectionRect:e}=zt(UP,Ln);return t&&e?fe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function TT(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function mx(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const a=t.filter(f=>f.id===s.id);if(a.length===0)return r.push(s),r;const u={...s};for(const f of a)if(f)switch(f.type){case"select":{u.selected=f.selected;break}case"position":{typeof f.position<"u"&&(u.position=f.position),typeof f.positionAbsolute<"u"&&(u.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(u.dragging=f.dragging),u.expandParent&&TT(r,u);break}case"dimensions":{typeof f.dimensions<"u"&&(u.width=f.dimensions.width,u.height=f.dimensions.height),typeof f.updateStyle<"u"&&(u.style={...u.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(u.resizing=f.resizing),u.expandParent&&TT(r,u);break}case"remove":return r}return r.push(u),r},n)}function gx(t,e){return mx(t,e)}function BP(t,e){return mx(t,e)}const Ys=(t,e)=>({id:t,type:"select",selected:e});function Il(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Ys(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Ys(r.id,!1))),n},[])}const Xg=(t,e)=>n=>{n.target===e.current&&t?.(n)},FP=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),yx=z.memo(({isSelecting:t,selectionMode:e=Gc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:d,onPaneMouseLeave:m,children:_})=>{const v=z.useRef(null),E=wn(),x=z.useRef(0),I=z.useRef(0),D=z.useRef(),{userSelectionActive:P,elementsSelectable:q,dragging:$}=zt(FP,Ln),H=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,I.current=0},X=A=>{a?.(A),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},j=A=>{if(Array.isArray(n)&&n?.includes(2)){A.preventDefault();return}u?.(A)},U=f?A=>f(A):void 0,C=A=>{const{resetSelectedElements:N,domNode:G}=E.getState();if(D.current=G?.getBoundingClientRect(),!q||!t||A.button!==0||A.target!==v.current||!D.current)return;const{x:L,y:K}=no(A,D.current);N(),E.setState({userSelectionRect:{width:0,height:0,startX:L,startY:K,x:L,y:K}}),r?.(A)},R=A=>{const{userSelectionRect:N,nodeInternals:G,edges:L,transform:K,onNodesChange:ee,onEdgesChange:Z,nodeOrigin:b,getNodes:Q}=E.getState();if(!t||!D.current||!N)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const re=no(A,D.current),k=N.startX??0,ce=N.startY??0,ve={...N,x:re.x<k?re.x:k,y:re.y<ce?re.y:ce,width:Math.abs(re.x-k),height:Math.abs(re.y-ce)},_e=Q(),Re=WA(G,ve,K,e===Gc.Partial,!0,b),Se=ZA(Re,L).map(Ue=>Ue.id),He=Re.map(Ue=>Ue.id);if(x.current!==He.length){x.current=He.length;const Ue=Il(_e,He);Ue.length&&ee?.(Ue)}if(I.current!==Se.length){I.current=Se.length;const Ue=Il(L,Se);Ue.length&&Z?.(Ue)}E.setState({userSelectionRect:ve})},M=A=>{if(A.button!==0)return;const{userSelectionRect:N}=E.getState();!P&&N&&A.target===v.current&&X?.(A),E.setState({nodesSelectionActive:x.current>0}),H(),s?.(A)},V=A=>{P&&(E.setState({nodesSelectionActive:x.current>0}),s?.(A)),H()},B=q&&(t||P);return fe.createElement("div",{className:$n(["react-flow__pane",{dragging:$,selection:t}]),onClick:B?void 0:Xg(X,v),onContextMenu:Xg(j,v),onWheel:Xg(U,v),onMouseEnter:B?void 0:h,onMouseDown:B?C:void 0,onMouseMove:B?R:d,onMouseUp:B?M:void 0,onMouseLeave:B?V:m,ref:v,style:ev},_,fe.createElement(zP,null))});yx.displayName="Pane";function _x(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:_x(r,e):!1}function ST(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function HP(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!_x(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function jP(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function vx(t,e,n,r,s=[0,0],a){const u=jP(t,t.extent||r);let f=u;const h=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(h&&t.width&&t.height){const _=n.get(h),{x:v,y:E}=Ol(_,s).positionAbsolute;f=_&&Br(v)&&Br(E)&&Br(_.width)&&Br(_.height)?[[v+t.width*s[0],E+t.height*s[1]],[v+_.width-t.width+t.width*s[0],E+_.height-t.height+t.height*s[1]]]:f}else a?.("005",us.error005()),f=u;else if(t.extent&&h&&t.extent!=="parent"){const _=n.get(h),{x:v,y:E}=Ol(_,s).positionAbsolute;f=[[t.extent[0][0]+v,t.extent[0][1]+E],[t.extent[1][0]+v,t.extent[1][1]+E]]}let d={x:0,y:0};if(h){const _=n.get(h);d=Ol(_,s).positionAbsolute}const m=f&&f!=="parent"?$_(e,f):e;return{position:{x:m.x-d.x,y:m.y-d.y},positionAbsolute:m}}function Qg({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const AT=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),u=e.getBoundingClientRect(),f={x:u.width*r[0],y:u.height*r[1]};return a.map(h=>{const d=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(d.left-u.left-f.x)/n,y:(d.top-u.top-f.y)/n,...q_(h)}})};function mc(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function Gy({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:u,nodeInternals:f,onError:h}=e.getState(),d=f.get(t);if(!d){h?.("012",us.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&u)&&(a({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function qP(){const t=wn();return z.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,f=n.touches?n.touches[0].clientY:n.clientY,h={x:(u-r[0])/r[2],y:(f-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(h.x/s[0]):h.x,ySnapped:a?s[1]*Math.round(h.y/s[1]):h.y,...h}},[])}function Wg(t){return(e,n,r)=>t?.(e,r)}function Ex({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:u}){const f=wn(),[h,d]=z.useState(!1),m=z.useRef([]),_=z.useRef({x:null,y:null}),v=z.useRef(0),E=z.useRef(null),x=z.useRef({x:0,y:0}),I=z.useRef(null),D=z.useRef(!1),P=z.useRef(!1),q=z.useRef(!1),$=qP();return z.useEffect(()=>{if(t?.current){const H=Xr(t.current),X=({x:C,y:R})=>{const{nodeInternals:M,onNodeDrag:V,onSelectionDrag:B,updateNodePositions:A,nodeExtent:N,snapGrid:G,snapToGrid:L,nodeOrigin:K,onError:ee}=f.getState();_.current={x:C,y:R};let Z=!1,b={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&N){const re=W_(m.current,K);b=G_(re)}if(m.current=m.current.map(re=>{const k={x:C-re.distance.x,y:R-re.distance.y};L&&(k.x=G[0]*Math.round(k.x/G[0]),k.y=G[1]*Math.round(k.y/G[1]));const ce=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];m.current.length>1&&N&&!re.extent&&(ce[0][0]=re.positionAbsolute.x-b.x+N[0][0],ce[1][0]=re.positionAbsolute.x+(re.width??0)-b.x2+N[1][0],ce[0][1]=re.positionAbsolute.y-b.y+N[0][1],ce[1][1]=re.positionAbsolute.y+(re.height??0)-b.y2+N[1][1]);const ve=vx(re,k,M,ce,K,ee);return Z=Z||re.position.x!==ve.position.x||re.position.y!==ve.position.y,re.position=ve.position,re.positionAbsolute=ve.positionAbsolute,re}),!Z)return;A(m.current,!0,!0),d(!0);const Q=s?V:Wg(B);if(Q&&I.current){const[re,k]=Qg({nodeId:s,dragItems:m.current,nodeInternals:M});Q(I.current,re,k)}},j=()=>{if(!E.current)return;const[C,R]=HA(x.current,E.current);if(C!==0||R!==0){const{transform:M,panBy:V}=f.getState();_.current.x=(_.current.x??0)-C/M[2],_.current.y=(_.current.y??0)-R/M[2],V({x:C,y:R})&&X(_.current)}v.current=requestAnimationFrame(j)},U=C=>{const{nodeInternals:R,multiSelectionActive:M,nodesDraggable:V,unselectNodesAndEdges:B,onNodeDragStart:A,onSelectionDragStart:N}=f.getState();P.current=!0;const G=s?A:Wg(N);(!u||!a)&&!M&&s&&(R.get(s)?.selected||B()),s&&a&&u&&Gy({id:s,store:f,nodeRef:t});const L=$(C);if(_.current=L,m.current=HP(R,V,L,s),G&&m.current){const[K,ee]=Qg({nodeId:s,dragItems:m.current,nodeInternals:R});G(C.sourceEvent,K,ee)}};if(e)H.on(".drag",null);else{const C=ZD().on("start",R=>{const{domNode:M,nodeDragThreshold:V}=f.getState();V===0&&U(R),q.current=!1;const B=$(R);_.current=B,E.current=M?.getBoundingClientRect()||null,x.current=no(R.sourceEvent,E.current)}).on("drag",R=>{const M=$(R),{autoPanOnNodeDrag:V,nodeDragThreshold:B}=f.getState();if(R.sourceEvent.type==="touchmove"&&R.sourceEvent.touches.length>1&&(q.current=!0),!q.current){if(!D.current&&P.current&&V&&(D.current=!0,j()),!P.current){const A=M.xSnapped-(_?.current?.x??0),N=M.ySnapped-(_?.current?.y??0);Math.sqrt(A*A+N*N)>B&&U(R)}(_.current.x!==M.xSnapped||_.current.y!==M.ySnapped)&&m.current&&P.current&&(I.current=R.sourceEvent,x.current=no(R.sourceEvent,E.current),X(M))}}).on("end",R=>{if(!(!P.current||q.current)&&(d(!1),D.current=!1,P.current=!1,cancelAnimationFrame(v.current),m.current)){const{updateNodePositions:M,nodeInternals:V,onNodeDragStop:B,onSelectionDragStop:A}=f.getState(),N=s?B:Wg(A);if(M(m.current,!1,!1),N){const[G,L]=Qg({nodeId:s,dragItems:m.current,nodeInternals:V});N(R.sourceEvent,G,L)}}}).filter(R=>{const M=R.target;return!R.button&&(!n||!ST(M,`.${n}`,t))&&(!r||ST(M,r,t))});return H.call(C),()=>{H.on(".drag",null)}}}},[t,e,n,r,a,f,s,u,$]),h}function wx(){const t=wn();return z.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:u,snapToGrid:f,snapGrid:h,onError:d,nodesDraggable:m}=t.getState(),_=u().filter(q=>q.selected&&(q.draggable||m&&typeof q.draggable>"u")),v=f?h[0]:5,E=f?h[1]:5,x=n.isShiftPressed?4:1,I=n.x*v*x,D=n.y*E*x,P=_.map(q=>{if(q.positionAbsolute){const $={x:q.positionAbsolute.x+I,y:q.positionAbsolute.y+D};f&&($.x=h[0]*Math.round($.x/h[0]),$.y=h[1]*Math.round($.y/h[1]));const{positionAbsolute:H,position:X}=vx(q,$,r,s,void 0,d);q.position=X,q.positionAbsolute=H}return q});a(P,!0,!1)},[])}const Ml={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var gc=t=>{const e=({id:n,type:r,data:s,xPos:a,yPos:u,xPosOrigin:f,yPosOrigin:h,selected:d,onClick:m,onMouseEnter:_,onMouseMove:v,onMouseLeave:E,onContextMenu:x,onDoubleClick:I,style:D,className:P,isDraggable:q,isSelectable:$,isConnectable:H,isFocusable:X,selectNodesOnDrag:j,sourcePosition:U,targetPosition:C,hidden:R,resizeObserver:M,dragHandle:V,zIndex:B,isParent:A,noDragClassName:N,noPanClassName:G,initialized:L,disableKeyboardA11y:K,ariaLabel:ee,rfId:Z,hasHandleBounds:b})=>{const Q=wn(),re=z.useRef(null),k=z.useRef(null),ce=z.useRef(U),ve=z.useRef(C),_e=z.useRef(r),Re=$||q||m||_||v||E,Se=wx(),He=mc(n,Q.getState,_),Ue=mc(n,Q.getState,v),lt=mc(n,Q.getState,E),pt=mc(n,Q.getState,x),bt=mc(n,Q.getState,I),mt=Be=>{const{nodeDragThreshold:Ce}=Q.getState();if($&&(!j||!q||Ce>0)&&Gy({id:n,store:Q,nodeRef:re}),m){const Ot=Q.getState().nodeInternals.get(n);Ot&&m(Be,{...Ot})}},Oe=Be=>{if(!Fy(Be)&&!K)if(qA.includes(Be.key)&&$){const Ce=Be.key==="Escape";Gy({id:n,store:Q,unselect:Ce,nodeRef:re})}else q&&d&&Object.prototype.hasOwnProperty.call(Ml,Be.key)&&(Q.setState({ariaLiveMessage:`Moved selected node ${Be.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~u}`}),Se({x:Ml[Be.key].x,y:Ml[Be.key].y,isShiftPressed:Be.shiftKey}))};z.useEffect(()=>()=>{k.current&&(M?.unobserve(k.current),k.current=null)},[]),z.useEffect(()=>{if(re.current&&!R){const Be=re.current;(!L||!b||k.current!==Be)&&(k.current&&M?.unobserve(k.current),M?.observe(Be),k.current=Be)}},[R,L,b]),z.useEffect(()=>{const Be=_e.current!==r,Ce=ce.current!==U,Ot=ve.current!==C;re.current&&(Be||Ce||Ot)&&(Be&&(_e.current=r),Ce&&(ce.current=U),Ot&&(ve.current=C),Q.getState().updateNodeDimensions([{id:n,nodeElement:re.current,forceUpdate:!0}]))},[n,r,U,C]);const Vt=Ex({nodeRef:re,disabled:R||!q,noDragClassName:N,handleSelector:V,nodeId:n,isSelectable:$,selectNodesOnDrag:j});return R?null:fe.createElement("div",{className:$n(["react-flow__node",`react-flow__node-${r}`,{[G]:q},P,{selected:d,selectable:$,parent:A,dragging:Vt}]),ref:re,style:{zIndex:B,transform:`translate(${f}px,${h}px)`,pointerEvents:Re?"all":"none",visibility:L?"visible":"hidden",...D},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:He,onMouseMove:Ue,onMouseLeave:lt,onContextMenu:pt,onClick:mt,onDoubleClick:bt,onKeyDown:X?Oe:void 0,tabIndex:X?0:void 0,role:X?"button":void 0,"aria-describedby":K?void 0:`${cx}-${Z}`,"aria-label":ee},fe.createElement(iP,{value:n},fe.createElement(t,{id:n,data:s,type:r,xPos:a,yPos:u,selected:d,isConnectable:H,sourcePosition:U,targetPosition:C,dragging:Vt,dragHandle:V,zIndex:B})))};return e.displayName="NodeWrapper",z.memo(e)};const $P=t=>{const e=t.getNodes().filter(n=>n.selected);return{...W_(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function GP({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=wn(),{width:s,height:a,x:u,y:f,transformString:h,userSelectionActive:d}=zt($P,Ln),m=wx(),_=z.useRef(null);if(z.useEffect(()=>{n||_.current?.focus({preventScroll:!0})},[n]),Ex({nodeRef:_}),d||!s||!a)return null;const v=t?x=>{const I=r.getState().getNodes().filter(D=>D.selected);t(x,I)}:void 0,E=x=>{Object.prototype.hasOwnProperty.call(Ml,x.key)&&m({x:Ml[x.key].x,y:Ml[x.key].y,isShiftPressed:x.shiftKey})};return fe.createElement("div",{className:$n(["react-flow__nodesselection","react-flow__container",e]),style:{transform:h}},fe.createElement("div",{ref:_,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:n?void 0:-1,onKeyDown:n?void 0:E,style:{width:s,height:a,top:f,left:u}}))}var YP=z.memo(GP);const KP=t=>t.nodesSelectionActive,bx=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,deleteKeyCode:f,onMove:h,onMoveStart:d,onMoveEnd:m,selectionKeyCode:_,selectionOnDrag:v,selectionMode:E,onSelectionStart:x,onSelectionEnd:I,multiSelectionKeyCode:D,panActivationKeyCode:P,zoomActivationKeyCode:q,elementsSelectable:$,zoomOnScroll:H,zoomOnPinch:X,panOnScroll:j,panOnScrollSpeed:U,panOnScrollMode:C,zoomOnDoubleClick:R,panOnDrag:M,defaultViewport:V,translateExtent:B,minZoom:A,maxZoom:N,preventScrolling:G,onSelectionContextMenu:L,noWheelClassName:K,noPanClassName:ee,disableKeyboardA11y:Z})=>{const b=zt(KP),Q=Kc(_),re=Kc(P),k=re||M,ce=re||j,ve=Q||v&&k!==!0;return OP({deleteKeyCode:f,multiSelectionKeyCode:D}),fe.createElement(LP,{onMove:h,onMoveStart:d,onMoveEnd:m,onPaneContextMenu:a,elementsSelectable:$,zoomOnScroll:H,zoomOnPinch:X,panOnScroll:ce,panOnScrollSpeed:U,panOnScrollMode:C,zoomOnDoubleClick:R,panOnDrag:!Q&&k,defaultViewport:V,translateExtent:B,minZoom:A,maxZoom:N,zoomActivationKeyCode:q,preventScrolling:G,noWheelClassName:K,noPanClassName:ee},fe.createElement(yx,{onSelectionStart:x,onSelectionEnd:I,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:k,isSelecting:!!ve,selectionMode:E},t,b&&fe.createElement(YP,{onSelectionContextMenu:L,noPanClassName:ee,disableKeyboardA11y:Z})))};bx.displayName="FlowRenderer";var XP=z.memo(bx);function QP(t){return zt(z.useCallback(n=>t?WA(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function WP(t){const e={input:gc(t.input||ox),default:gc(t.default||$y),output:gc(t.output||lx),group:gc(t.group||J_)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=gc(t[a]||$y),s),n);return{...e,...r}}const ZP=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},JP=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Tx=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:u}=zt(JP,Ln),f=QP(t.onlyRenderVisibleElements),h=z.useRef(),d=z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(_=>{const v=_.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));a(v)});return h.current=m,m},[]);return z.useEffect(()=>()=>{h?.current?.disconnect()},[]),fe.createElement("div",{className:"react-flow__nodes",style:ev},f.map(m=>{let _=m.type||"default";t.nodeTypes[_]||(u?.("003",us.error003(_)),_="default");const v=t.nodeTypes[_]||t.nodeTypes.default,E=!!(m.draggable||e&&typeof m.draggable>"u"),x=!!(m.selectable||s&&typeof m.selectable>"u"),I=!!(m.connectable||n&&typeof m.connectable>"u"),D=!!(m.focusable||r&&typeof m.focusable>"u"),P=t.nodeExtent?$_(m.positionAbsolute,t.nodeExtent):m.positionAbsolute,q=P?.x??0,$=P?.y??0,H=ZP({x:q,y:$,width:m.width??0,height:m.height??0,origin:t.nodeOrigin});return fe.createElement(v,{key:m.id,id:m.id,className:m.className,style:m.style,type:_,data:m.data,sourcePosition:m.sourcePosition||Ne.Bottom,targetPosition:m.targetPosition||Ne.Top,hidden:m.hidden,xPos:q,yPos:$,xPosOrigin:H.x,yPosOrigin:H.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!m.selected,isDraggable:E,isSelectable:x,isConnectable:I,isFocusable:D,resizeObserver:d,dragHandle:m.dragHandle,zIndex:m[$t]?.z??0,isParent:!!m[$t]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!m.width&&!!m.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!m[$t]?.handleBounds})}))};Tx.displayName="NodeRenderer";var e4=z.memo(Tx);const t4=(t,e,n)=>n===Ne.Left?t-e:n===Ne.Right?t+e:t,n4=(t,e,n)=>n===Ne.Top?t-e:n===Ne.Bottom?t+e:t,xT="react-flow__edgeupdater",CT=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:u,type:f})=>fe.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:u,className:$n([xT,`${xT}-${f}`]),cx:t4(e,r,t),cy:n4(n,r,t),r,stroke:"transparent",fill:"transparent"}),r4=()=>!0;var gl=t=>{const e=({id:n,className:r,type:s,data:a,onClick:u,onEdgeDoubleClick:f,selected:h,animated:d,label:m,labelStyle:_,labelShowBg:v,labelBgStyle:E,labelBgPadding:x,labelBgBorderRadius:I,style:D,source:P,target:q,sourceX:$,sourceY:H,targetX:X,targetY:j,sourcePosition:U,targetPosition:C,elementsSelectable:R,hidden:M,sourceHandleId:V,targetHandleId:B,onContextMenu:A,onMouseEnter:N,onMouseMove:G,onMouseLeave:L,reconnectRadius:K,onReconnect:ee,onReconnectStart:Z,onReconnectEnd:b,markerEnd:Q,markerStart:re,rfId:k,ariaLabel:ce,isFocusable:ve,isReconnectable:_e,pathOptions:Re,interactionWidth:Se,disableKeyboardA11y:He})=>{const Ue=z.useRef(null),[lt,pt]=z.useState(!1),[bt,mt]=z.useState(!1),Oe=wn(),Vt=z.useMemo(()=>`url('#${jy(re,k)}')`,[re,k]),Be=z.useMemo(()=>`url('#${jy(Q,k)}')`,[Q,k]);if(M)return null;const Ce=ot=>{const{edges:St,addSelectedEdges:Nt,unselectNodesAndEdges:Gt,multiSelectionActive:Mt}=Oe.getState(),ut=St.find(Ft=>Ft.id===n);ut&&(R&&(Oe.setState({nodesSelectionActive:!1}),ut.selected&&Mt?(Gt({nodes:[],edges:[ut]}),Ue.current?.blur()):Nt([n])),u&&u(ot,ut))},Ot=pc(n,Oe.getState,f),sn=pc(n,Oe.getState,A),bn=pc(n,Oe.getState,N),Gn=pc(n,Oe.getState,G),Tn=pc(n,Oe.getState,L),Wt=(ot,St)=>{if(ot.button!==0)return;const{edges:Nt,isValidConnection:Gt}=Oe.getState(),Mt=St?q:P,ut=(St?B:V)||null,Ft=St?"target":"source",on=Gt||r4,Oi=St,Hr=Nt.find(ir=>ir.id===n);mt(!0),Z?.(ot,Hr,Ft);const rr=ir=>{mt(!1),b?.(ir,Hr,Ft)};nx({event:ot,handleId:ut,nodeId:Mt,onConnect:ir=>ee?.(Hr,ir),isTarget:Oi,getState:Oe.getState,setState:Oe.setState,isValidConnection:on,edgeUpdaterType:Ft,onReconnectEnd:rr})},Bn=ot=>Wt(ot,!0),te=ot=>Wt(ot,!1),he=()=>pt(!0),Ae=()=>pt(!1),Ie=!R&&!u,Xe=ot=>{if(!He&&qA.includes(ot.key)&&R){const{unselectNodesAndEdges:St,addSelectedEdges:Nt,edges:Gt}=Oe.getState();ot.key==="Escape"?(Ue.current?.blur(),St({edges:[Gt.find(ut=>ut.id===n)]})):Nt([n])}};return fe.createElement("g",{className:$n(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:h,animated:d,inactive:Ie,updating:lt}]),onClick:Ce,onDoubleClick:Ot,onContextMenu:sn,onMouseEnter:bn,onMouseMove:Gn,onMouseLeave:Tn,onKeyDown:ve?Xe:void 0,tabIndex:ve?0:void 0,role:ve?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ce===null?void 0:ce||`Edge from ${P} to ${q}`,"aria-describedby":ve?`${fx}-${k}`:void 0,ref:Ue},!bt&&fe.createElement(t,{id:n,source:P,target:q,selected:h,animated:d,label:m,labelStyle:_,labelShowBg:v,labelBgStyle:E,labelBgPadding:x,labelBgBorderRadius:I,data:a,style:D,sourceX:$,sourceY:H,targetX:X,targetY:j,sourcePosition:U,targetPosition:C,sourceHandleId:V,targetHandleId:B,markerStart:Vt,markerEnd:Be,pathOptions:Re,interactionWidth:Se}),_e&&fe.createElement(fe.Fragment,null,(_e==="source"||_e===!0)&&fe.createElement(CT,{position:U,centerX:$,centerY:H,radius:K,onMouseDown:Bn,onMouseEnter:he,onMouseOut:Ae,type:"source"}),(_e==="target"||_e===!0)&&fe.createElement(CT,{position:C,centerX:X,centerY:j,radius:K,onMouseDown:te,onMouseEnter:he,onMouseOut:Ae,type:"target"})))};return e.displayName="EdgeWrapper",z.memo(e)};function i4(t){const e={default:gl(t.default||kd),straight:gl(t.bezier||X_),step:gl(t.step||K_),smoothstep:gl(t.step||lp),simplebezier:gl(t.simplebezier||Y_)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=gl(t[a]||kd),s),n);return{...e,...r}}function RT(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,a=n?.width||e.width,u=n?.height||e.height;switch(t){case Ne.Top:return{x:r+a/2,y:s};case Ne.Right:return{x:r+a,y:s+u/2};case Ne.Bottom:return{x:r+a/2,y:s+u};case Ne.Left:return{x:r,y:s+u/2}}}function IT(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const s4=(t,e,n,r,s,a)=>{const u=RT(n,t,e),f=RT(a,r,s);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y}};function o4({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:u,height:f,transform:h}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+a)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const m=G_({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:u/h[2],height:f/h[2]}),_=Math.max(0,Math.min(m.x2,d.x2)-Math.max(m.x,d.x)),v=Math.max(0,Math.min(m.y2,d.y2)-Math.max(m.y,d.y));return Math.ceil(_*v)>0}function NT(t){const e=t?.[$t]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const a4=[{level:0,isMaxLevel:!0,edges:[]}];function l4(t,e,n=!1){let r=-1;const s=t.reduce((u,f)=>{const h=Br(f.zIndex);let d=h?f.zIndex:0;if(n){const m=e.get(f.target),_=e.get(f.source),v=f.selected||m?.selected||_?.selected,E=Math.max(_?.[$t]?.z||0,m?.[$t]?.z||0,1e3);d=(h?f.zIndex:0)+(v?E:0)}return u[d]?u[d].push(f):u[d]=[f],r=d>r?d:r,u},{}),a=Object.entries(s).map(([u,f])=>{const h=+u;return{edges:f,level:h,isMaxLevel:h===r}});return a.length===0?a4:a}function u4(t,e,n){const r=zt(z.useCallback(s=>t?s.edges.filter(a=>{const u=e.get(a.source),f=e.get(a.target);return u?.width&&u?.height&&f?.width&&f?.height&&o4({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:f.width,targetHeight:f.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return l4(r,e,n)}const c4=({color:t="none",strokeWidth:e=1})=>fe.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),f4=({color:t="none",strokeWidth:e=1})=>fe.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),kT={[Yc.Arrow]:c4,[Yc.ArrowClosed]:f4};function h4(t){const e=wn();return z.useMemo(()=>Object.prototype.hasOwnProperty.call(kT,t)?kT[t]:(e.getState().onError?.("009",us.error009(t)),null),[t])}const d4=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:f="auto-start-reverse"})=>{const h=h4(e);return h?fe.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:f,refX:"0",refY:"0"},fe.createElement(h,{color:n,strokeWidth:u})):null},p4=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const f=jy(u,e);r.includes(f)||(s.push({id:f,color:u.color||t,...u}),r.push(f))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},Sx=({defaultColor:t,rfId:e})=>{const n=zt(z.useCallback(p4({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((a,u)=>a.id!==s[u].id)));return fe.createElement("defs",null,n.map(r=>fe.createElement(d4,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Sx.displayName="MarkerDefinitions";var m4=z.memo(Sx);const g4=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Ax=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:u,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:d,onEdgeClick:m,onEdgeDoubleClick:_,onReconnect:v,onReconnectStart:E,onReconnectEnd:x,reconnectRadius:I,children:D,disableKeyboardA11y:P})=>{const{edgesFocusable:q,edgesUpdatable:$,elementsSelectable:H,width:X,height:j,connectionMode:U,nodeInternals:C,onError:R}=zt(g4,Ln),M=u4(e,C,n);return X?fe.createElement(fe.Fragment,null,M.map(({level:V,edges:B,isMaxLevel:A})=>fe.createElement("svg",{key:V,style:{zIndex:V},width:X,height:j,className:"react-flow__edges react-flow__container"},A&&fe.createElement(m4,{defaultColor:t,rfId:r}),fe.createElement("g",null,B.map(N=>{const[G,L,K]=NT(C.get(N.source)),[ee,Z,b]=NT(C.get(N.target));if(!K||!b)return null;let Q=N.type||"default";s[Q]||(R?.("011",us.error011(Q)),Q="default");const re=s[Q]||s.default,k=U===uo.Strict?Z.target:(Z.target??[]).concat(Z.source??[]),ce=IT(L.source,N.sourceHandle),ve=IT(k,N.targetHandle),_e=ce?.position||Ne.Bottom,Re=ve?.position||Ne.Top,Se=!!(N.focusable||q&&typeof N.focusable>"u"),He=N.reconnectable||N.updatable,Ue=typeof v<"u"&&(He||$&&typeof He>"u");if(!ce||!ve)return R?.("008",us.error008(ce,N)),null;const{sourceX:lt,sourceY:pt,targetX:bt,targetY:mt}=s4(G,ce,_e,ee,ve,Re);return fe.createElement(re,{key:N.id,id:N.id,className:$n([N.className,a]),type:Q,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:lt,sourceY:pt,targetX:bt,targetY:mt,sourcePosition:_e,targetPosition:Re,elementsSelectable:H,onContextMenu:u,onMouseEnter:f,onMouseMove:h,onMouseLeave:d,onClick:m,onEdgeDoubleClick:_,onReconnect:v,onReconnectStart:E,onReconnectEnd:x,reconnectRadius:I,rfId:r,ariaLabel:N.ariaLabel,isFocusable:Se,isReconnectable:Ue,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:P})})))),D):null};Ax.displayName="EdgeRenderer";var y4=z.memo(Ax);const _4=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function v4({children:t}){const e=zt(_4);return fe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function E4(t){const e=ff(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const w4={[Ne.Left]:Ne.Right,[Ne.Right]:Ne.Left,[Ne.Top]:Ne.Bottom,[Ne.Bottom]:Ne.Top},xx=({nodeId:t,handleType:e,style:n,type:r=Xs.Bezier,CustomComponent:s,connectionStatus:a})=>{const{fromNode:u,handleId:f,toX:h,toY:d,connectionMode:m}=zt(z.useCallback(j=>({fromNode:j.nodeInternals.get(t),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[t]),Ln),_=u?.[$t]?.handleBounds;let v=_?.[e];if(m===uo.Loose&&(v=v||_?.[e==="source"?"target":"source"]),!u||!v)return null;const E=f?v.find(j=>j.id===f):v[0],x=E?E.x+E.width/2:(u.width??0)/2,I=E?E.y+E.height/2:u.height??0,D=(u.positionAbsolute?.x??0)+x,P=(u.positionAbsolute?.y??0)+I,q=E?.position,$=q?w4[q]:null;if(!q||!$)return null;if(s)return fe.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:E,fromX:D,fromY:P,toX:h,toY:d,fromPosition:q,toPosition:$,connectionStatus:a});let H="";const X={sourceX:D,sourceY:P,sourcePosition:q,targetX:h,targetY:d,targetPosition:$};return r===Xs.Bezier?[H]=XA(X):r===Xs.Step?[H]=Hy({...X,borderRadius:0}):r===Xs.SmoothStep?[H]=Hy(X):r===Xs.SimpleBezier?[H]=KA(X):H=`M${D},${P} ${h},${d}`,fe.createElement("path",{d:H,fill:"none",className:"react-flow__connection-path",style:n})};xx.displayName="ConnectionLine";const b4=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function T4({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:u,width:f,height:h,connectionStatus:d}=zt(b4,Ln);return!(s&&a&&f&&u)?null:fe.createElement("svg",{style:t,width:f,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},fe.createElement("g",{className:$n(["react-flow__connection",d])},fe.createElement(xx,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function DT(t,e){return z.useRef(null),wn(),z.useMemo(()=>e(t),[t])}const Cx=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:u,onEdgeClick:f,onNodeDoubleClick:h,onEdgeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:E,onSelectionContextMenu:x,onSelectionStart:I,onSelectionEnd:D,connectionLineType:P,connectionLineStyle:q,connectionLineComponent:$,connectionLineContainerStyle:H,selectionKeyCode:X,selectionOnDrag:j,selectionMode:U,multiSelectionKeyCode:C,panActivationKeyCode:R,zoomActivationKeyCode:M,deleteKeyCode:V,onlyRenderVisibleElements:B,elementsSelectable:A,selectNodesOnDrag:N,defaultViewport:G,translateExtent:L,minZoom:K,maxZoom:ee,preventScrolling:Z,defaultMarkerColor:b,zoomOnScroll:Q,zoomOnPinch:re,panOnScroll:k,panOnScrollSpeed:ce,panOnScrollMode:ve,zoomOnDoubleClick:_e,panOnDrag:Re,onPaneClick:Se,onPaneMouseEnter:He,onPaneMouseMove:Ue,onPaneMouseLeave:lt,onPaneScroll:pt,onPaneContextMenu:bt,onEdgeContextMenu:mt,onEdgeMouseEnter:Oe,onEdgeMouseMove:Vt,onEdgeMouseLeave:Be,onReconnect:Ce,onReconnectStart:Ot,onReconnectEnd:sn,reconnectRadius:bn,noDragClassName:Gn,noWheelClassName:Tn,noPanClassName:Wt,elevateEdgesOnSelect:Bn,disableKeyboardA11y:te,nodeOrigin:he,nodeExtent:Ae,rfId:Ie})=>{const Xe=DT(t,WP),ot=DT(e,i4);return E4(a),fe.createElement(XP,{onPaneClick:Se,onPaneMouseEnter:He,onPaneMouseMove:Ue,onPaneMouseLeave:lt,onPaneContextMenu:bt,onPaneScroll:pt,deleteKeyCode:V,selectionKeyCode:X,selectionOnDrag:j,selectionMode:U,onSelectionStart:I,onSelectionEnd:D,multiSelectionKeyCode:C,panActivationKeyCode:R,zoomActivationKeyCode:M,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:Q,zoomOnPinch:re,zoomOnDoubleClick:_e,panOnScroll:k,panOnScrollSpeed:ce,panOnScrollMode:ve,panOnDrag:Re,defaultViewport:G,translateExtent:L,minZoom:K,maxZoom:ee,onSelectionContextMenu:x,preventScrolling:Z,noDragClassName:Gn,noWheelClassName:Tn,noPanClassName:Wt,disableKeyboardA11y:te},fe.createElement(v4,null,fe.createElement(y4,{edgeTypes:ot,onEdgeClick:f,onEdgeDoubleClick:d,onlyRenderVisibleElements:B,onEdgeContextMenu:mt,onEdgeMouseEnter:Oe,onEdgeMouseMove:Vt,onEdgeMouseLeave:Be,onReconnect:Ce,onReconnectStart:Ot,onReconnectEnd:sn,reconnectRadius:bn,defaultMarkerColor:b,noPanClassName:Wt,elevateEdgesOnSelect:!!Bn,disableKeyboardA11y:te,rfId:Ie},fe.createElement(T4,{style:q,type:P,component:$,containerStyle:H})),fe.createElement("div",{className:"react-flow__edgelabel-renderer"}),fe.createElement(e4,{nodeTypes:Xe,onNodeClick:u,onNodeDoubleClick:h,onNodeMouseEnter:m,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:E,selectNodesOnDrag:N,onlyRenderVisibleElements:B,noPanClassName:Wt,noDragClassName:Gn,disableKeyboardA11y:te,nodeOrigin:he,nodeExtent:Ae,rfId:Ie})))};Cx.displayName="GraphView";var S4=z.memo(Cx);const Yy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],js={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Yy,nodeExtent:Yy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:uo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ZM,isValidConnection:void 0},A4=()=>c2((t,e)=>({...js,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:Kg(n,r,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",u=s?Kg(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:u,fitViewOnInitOptions:f,domNode:h,nodeOrigin:d}=e(),m=h?.querySelector(".react-flow__viewport");if(!m)return;const _=window.getComputedStyle(m),{m22:v}=new window.DOMMatrixReadOnly(_.transform),E=n.reduce((I,D)=>{const P=s.get(D.id);if(P?.hidden)s.set(P.id,{...P,[$t]:{...P[$t],handleBounds:void 0}});else if(P){const q=q_(D.nodeElement);!!(q.width&&q.height&&(P.width!==q.width||P.height!==q.height||D.forceUpdate))&&(s.set(P.id,{...P,[$t]:{...P[$t],handleBounds:{source:AT(".source",D.nodeElement,v,d),target:AT(".target",D.nodeElement,v,d)}},...q}),I.push({id:P.id,type:"dimensions",dimensions:q}))}return I},[]);dx(s,d);const x=u||a&&!u&&px(e,{initial:!0,...f});t({nodeInternals:new Map(s),fitViewOnInitDone:x}),E?.length>0&&r?.(E)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),u=n.map(f=>{const h={id:f.id,type:"position",dragging:s};return r&&(h.positionAbsolute=f.positionAbsolute,h.position=f.position),h});a(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:u,getNodes:f,elevateNodesOnSelect:h}=e();if(n?.length){if(a){const d=gx(n,f()),m=Kg(d,s,u,h);t({nodeInternals:m})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,f=null;r?u=n.map(h=>Ys(h,!0)):(u=Il(a(),n),f=Il(s,[])),Xh({changedNodes:u,changedEdges:f,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,f=null;r?u=n.map(h=>Ys(h,!0)):(u=Il(s,n),f=Il(a(),[])),Xh({changedNodes:f,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=e(),u=n||a(),f=r||s,h=u.map(m=>(m.selected=!1,Ys(m.id,!1))),d=f.map(m=>Ys(m.id,!1));Xh({changedNodes:h,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(f=>f.selected).map(f=>Ys(f.id,!1)),u=n.filter(f=>f.selected).map(f=>Ys(f.id,!1));Xh({changedNodes:a,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=$_(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:u,d3Selection:f,translateExtent:h}=e();if(!u||!f||!n.x&&!n.y)return!1;const d=to.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),m=[[0,0],[s,a]],_=u?.constrain()(d,m,h);return u.transform(f,_),r[0]!==_.x||r[1]!==_.y||r[2]!==_.k},cancelConnection:()=>t({connectionNodeId:js.connectionNodeId,connectionHandleId:js.connectionHandleId,connectionHandleType:js.connectionHandleType,connectionStatus:js.connectionStatus,connectionStartHandle:js.connectionStartHandle,connectionEndHandle:js.connectionEndHandle}),reset:()=>t({...js})}),Object.is),Rx=({children:t})=>{const e=z.useRef(null);return e.current||(e.current=A4()),fe.createElement(qM,{value:e.current},t)};Rx.displayName="ReactFlowProvider";const Ix=({children:t})=>z.useContext(ap)?fe.createElement(fe.Fragment,null,t):fe.createElement(Rx,null,t);Ix.displayName="ReactFlowWrapper";const x4={input:ox,default:$y,output:lx,group:J_},C4={default:kd,straight:X_,step:K_,smoothstep:lp,simplebezier:Y_},R4=[0,0],I4=[15,15],N4={x:0,y:0,zoom:1},k4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Nx=z.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=x4,edgeTypes:u=C4,onNodeClick:f,onEdgeClick:h,onInit:d,onMove:m,onMoveStart:_,onMoveEnd:v,onConnect:E,onConnectStart:x,onConnectEnd:I,onClickConnectStart:D,onClickConnectEnd:P,onNodeMouseEnter:q,onNodeMouseMove:$,onNodeMouseLeave:H,onNodeContextMenu:X,onNodeDoubleClick:j,onNodeDragStart:U,onNodeDrag:C,onNodeDragStop:R,onNodesDelete:M,onEdgesDelete:V,onSelectionChange:B,onSelectionDragStart:A,onSelectionDrag:N,onSelectionDragStop:G,onSelectionContextMenu:L,onSelectionStart:K,onSelectionEnd:ee,connectionMode:Z=uo.Strict,connectionLineType:b=Xs.Bezier,connectionLineStyle:Q,connectionLineComponent:re,connectionLineContainerStyle:k,deleteKeyCode:ce="Backspace",selectionKeyCode:ve="Shift",selectionOnDrag:_e=!1,selectionMode:Re=Gc.Full,panActivationKeyCode:Se="Space",multiSelectionKeyCode:He=Nd()?"Meta":"Control",zoomActivationKeyCode:Ue=Nd()?"Meta":"Control",snapToGrid:lt=!1,snapGrid:pt=I4,onlyRenderVisibleElements:bt=!1,selectNodesOnDrag:mt=!0,nodesDraggable:Oe,nodesConnectable:Vt,nodesFocusable:Be,nodeOrigin:Ce=R4,edgesFocusable:Ot,edgesUpdatable:sn,elementsSelectable:bn,defaultViewport:Gn=N4,minZoom:Tn=.5,maxZoom:Wt=2,translateExtent:Bn=Yy,preventScrolling:te=!0,nodeExtent:he,defaultMarkerColor:Ae="#b1b1b7",zoomOnScroll:Ie=!0,zoomOnPinch:Xe=!0,panOnScroll:ot=!1,panOnScrollSpeed:St=.5,panOnScrollMode:Nt=sa.Free,zoomOnDoubleClick:Gt=!0,panOnDrag:Mt=!0,onPaneClick:ut,onPaneMouseEnter:Ft,onPaneMouseMove:on,onPaneMouseLeave:Oi,onPaneScroll:Hr,onPaneContextMenu:rr,children:wr,onEdgeContextMenu:ir,onEdgeDoubleClick:br,onEdgeMouseEnter:To,onEdgeMouseMove:ni,onEdgeMouseLeave:ys,onEdgeUpdate:ri,onEdgeUpdateStart:Ta,onEdgeUpdateEnd:At,onReconnect:Yt,onReconnectStart:Ht,onReconnectEnd:Yn,reconnectRadius:So=10,edgeUpdaterRadius:fu=10,onNodesChange:ii,onEdgesChange:Sa,noDragClassName:Mi="nodrag",noWheelClassName:si="nowheel",noPanClassName:Tr="nopan",fitView:Sr=!1,fitViewOptions:Ar,connectOnClick:Sn=!0,attributionPosition:Lt,proOptions:Ao,defaultEdgeOptions:_s,elevateNodesOnSelect:sr=!0,elevateEdgesOnSelect:jr=!1,disableKeyboardA11y:xo=!1,autoPanOnConnect:Aa=!0,autoPanOnNodeDrag:Pi=!0,connectionRadius:xa=20,isValidConnection:oi,onError:xr,style:an,id:ai,nodeDragThreshold:Ca,...qr},vs)=>{const li=ai||"1";return fe.createElement("div",{...qr,style:{...an,...k4},ref:vs,className:$n(["react-flow",s]),"data-testid":"rf__wrapper",id:ai},fe.createElement(Ix,null,fe.createElement(S4,{onInit:d,onMove:m,onMoveStart:_,onMoveEnd:v,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:q,onNodeMouseMove:$,onNodeMouseLeave:H,onNodeContextMenu:X,onNodeDoubleClick:j,nodeTypes:a,edgeTypes:u,connectionLineType:b,connectionLineStyle:Q,connectionLineComponent:re,connectionLineContainerStyle:k,selectionKeyCode:ve,selectionOnDrag:_e,selectionMode:Re,deleteKeyCode:ce,multiSelectionKeyCode:He,panActivationKeyCode:Se,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:bt,selectNodesOnDrag:mt,defaultViewport:Gn,translateExtent:Bn,minZoom:Tn,maxZoom:Wt,preventScrolling:te,zoomOnScroll:Ie,zoomOnPinch:Xe,zoomOnDoubleClick:Gt,panOnScroll:ot,panOnScrollSpeed:St,panOnScrollMode:Nt,panOnDrag:Mt,onPaneClick:ut,onPaneMouseEnter:Ft,onPaneMouseMove:on,onPaneMouseLeave:Oi,onPaneScroll:Hr,onPaneContextMenu:rr,onSelectionContextMenu:L,onSelectionStart:K,onSelectionEnd:ee,onEdgeContextMenu:ir,onEdgeDoubleClick:br,onEdgeMouseEnter:To,onEdgeMouseMove:ni,onEdgeMouseLeave:ys,onReconnect:Yt??ri,onReconnectStart:Ht??Ta,onReconnectEnd:Yn??At,reconnectRadius:So??fu,defaultMarkerColor:Ae,noDragClassName:Mi,noWheelClassName:si,noPanClassName:Tr,elevateEdgesOnSelect:jr,rfId:li,disableKeyboardA11y:xo,nodeOrigin:Ce,nodeExtent:he}),fe.createElement(wP,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:E,onConnectStart:x,onConnectEnd:I,onClickConnectStart:D,onClickConnectEnd:P,nodesDraggable:Oe,nodesConnectable:Vt,nodesFocusable:Be,edgesFocusable:Ot,edgesUpdatable:sn,elementsSelectable:bn,elevateNodesOnSelect:sr,minZoom:Tn,maxZoom:Wt,nodeExtent:he,onNodesChange:ii,onEdgesChange:Sa,snapToGrid:lt,snapGrid:pt,connectionMode:Z,translateExtent:Bn,connectOnClick:Sn,defaultEdgeOptions:_s,fitView:Sr,fitViewOptions:Ar,onNodesDelete:M,onEdgesDelete:V,onNodeDragStart:U,onNodeDrag:C,onNodeDragStop:R,onSelectionDrag:N,onSelectionDragStart:A,onSelectionDragStop:G,noPanClassName:Tr,nodeOrigin:Ce,rfId:li,autoPanOnConnect:Aa,autoPanOnNodeDrag:Pi,onError:xr,connectionRadius:xa,isValidConnection:oi,nodeDragThreshold:Ca}),fe.createElement(vP,{onSelectionChange:B}),wr,fe.createElement(GM,{proOptions:Ao,position:Lt}),fe.createElement(xP,{rfId:li,disableKeyboardA11y:xo})))});Nx.displayName="ReactFlow";function kx(t){return e=>{const[n,r]=z.useState(e),s=z.useCallback(a=>r(u=>t(a,u)),[]);return[n,r,s]}}const D4=kx(gx),O4=kx(BP);function M4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},fe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function P4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},fe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function V4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},fe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function L4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function U4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Sc=({children:t,className:e,...n})=>fe.createElement("button",{type:"button",className:$n(["react-flow__controls-button",e]),...n},t);Sc.displayName="ControlButton";const z4=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Dx=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:u,onFitView:f,onInteractiveChange:h,className:d,children:m,position:_="bottom-left"})=>{const v=wn(),[E,x]=z.useState(!1),{isInteractive:I,minZoomReached:D,maxZoomReached:P}=zt(z4,Ln),{zoomIn:q,zoomOut:$,fitView:H}=ff();if(z.useEffect(()=>{x(!0)},[]),!E)return null;const X=()=>{q(),a?.()},j=()=>{$(),u?.()},U=()=>{H(s),f?.()},C=()=>{v.setState({nodesDraggable:!I,nodesConnectable:!I,elementsSelectable:!I}),h?.(!I)};return fe.createElement(FA,{className:$n(["react-flow__controls",d]),position:_,style:t,"data-testid":"rf__controls"},e&&fe.createElement(fe.Fragment,null,fe.createElement(Sc,{onClick:X,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:P},fe.createElement(M4,null)),fe.createElement(Sc,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:D},fe.createElement(P4,null))),n&&fe.createElement(Sc,{className:"react-flow__controls-fitview",onClick:U,title:"fit view","aria-label":"fit view"},fe.createElement(V4,null)),r&&fe.createElement(Sc,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},I?fe.createElement(U4,null):fe.createElement(L4,null)),m)};Dx.displayName="Controls";var B4=z.memo(Dx),Fr;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Fr||(Fr={}));function F4({color:t,dimensions:e,lineWidth:n}){return fe.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function H4({color:t,radius:e}){return fe.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const j4={[Fr.Dots]:"#91919a",[Fr.Lines]:"#eee",[Fr.Cross]:"#e2e2e2"},q4={[Fr.Dots]:1,[Fr.Lines]:1,[Fr.Cross]:6},$4=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Ox({id:t,variant:e=Fr.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:u,style:f,className:h}){const d=z.useRef(null),{transform:m,patternId:_}=zt($4,Ln),v=u||j4[e],E=r||q4[e],x=e===Fr.Dots,I=e===Fr.Cross,D=Array.isArray(n)?n:[n,n],P=[D[0]*m[2]||1,D[1]*m[2]||1],q=E*m[2],$=I?[q,q]:P,H=x?[q/a,q/a]:[$[0]/a,$[1]/a];return fe.createElement("svg",{className:$n(["react-flow__background",h]),style:{...f,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},fe.createElement("pattern",{id:_+t,x:m[0]%P[0],y:m[1]%P[1],width:P[0],height:P[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${H[0]},-${H[1]})`},x?fe.createElement(H4,{color:v,radius:q/a}):fe.createElement(F4,{dimensions:$,color:v,lineWidth:s})),fe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_+t})`}))}Ox.displayName="Background";var G4=z.memo(Ox);const Y4=()=>{};var OT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},K4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],f=t[n++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,f=u?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,m=a>>2,_=(a&3)<<4|f>>4;let v=(f&15)<<2|d>>6,E=d&63;h||(E=64,u||(v=64)),r.push(n[m],n[_],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],f=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||f==null||d==null||_==null)throw new X4;const v=a<<2|f>>4;if(r.push(v),d!==64){const E=f<<4&240|d>>2;if(r.push(E),_!==64){const x=d<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class X4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q4=function(t){const e=Mx(t);return Px.encodeByteArray(e,!0)},Dd=function(t){return Q4(t).replace(/\./g,"")},Vx=function(t){try{return Px.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=()=>W4().__FIREBASE_DEFAULTS__,J4=()=>{if(typeof process>"u"||typeof OT>"u")return;const t=OT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vx(t[1]);return e&&JSON.parse(e)},up=()=>{try{return Y4()||Z4()||J4()||eV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lx=t=>{var e,n;return(n=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tV=t=>{const e=Lx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ux=()=>{var t;return(t=up())===null||t===void 0?void 0:t.config},zx=t=>{var e;return(e=up())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){return t.endsWith(".cloudworkstations.dev")}async function Bx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(u)),""].join(".")}const kc={};function iV(){const t={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?t.emulator.push(e):t.prod.push(e);return t}function sV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let MT=!1;function Fx(t,e){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||kc[t]===e||kc[t]||MT)return;kc[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=iV().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{MT=!0,u()},v}function m(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=sV(r),E=n("text"),x=document.getElementById(E)||document.createElement("span"),I=n("learnmore"),D=document.getElementById(I)||document.createElement("a"),P=n("preprendIcon"),q=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const $=v.element;f($),m(D,I);const H=d();h(q,P),$.append(q,x,D,H),document.body.appendChild($)}a?(x.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Un())}function aV(){var t;const e=(t=up())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fV(){const t=Un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hV(){return!aV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dV(){try{return typeof indexedDB=="object"}catch{return!1}}function pV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="FirebaseError";class ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mV,Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hf.prototype.create)}}class hf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?gV(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new ms(s,f,r)}}function gV(t,e){return t.replace(yV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yV=/\{\$([^}]+)}/g;function _V(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ca(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(PT(a)&&PT(u)){if(!ca(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function xc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vV(t,e){const n=new EV(t,e);return n.subscribe.bind(n)}class EV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zg),s.error===void 0&&(s.error=Zg),s.complete===void 0&&(s.complete=Zg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class fa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SV(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TV(t){return t===ea?void 0:t}function SV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const xV={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},CV=et.INFO,RV={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},IV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=RV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=CV,this._logHandler=IV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const NV=(t,e)=>e.some(n=>t instanceof n);let VT,LT;function kV(){return VT||(VT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DV(){return LT||(LT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hx=new WeakMap,Ky=new WeakMap,jx=new WeakMap,Jg=new WeakMap,nv=new WeakMap;function OV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ro(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Hx.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function MV(t){if(Ky.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Ky.set(t,e)}let Xy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ky.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PV(t){Xy=t(Xy)}function VV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ey(this),e,...n);return jx.set(r,e.sort?e.sort():[e]),ro(r)}:DV().includes(t)?function(...e){return t.apply(ey(this),e),ro(Hx.get(this))}:function(...e){return ro(t.apply(ey(this),e))}}function LV(t){return typeof t=="function"?VV(t):(t instanceof IDBTransaction&&MV(t),NV(t,kV())?new Proxy(t,Xy):t)}function ro(t){if(t instanceof IDBRequest)return OV(t);if(Jg.has(t))return Jg.get(t);const e=LV(t);return e!==t&&(Jg.set(t,e),nv.set(e,t)),e}const ey=t=>nv.get(t);function UV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),f=ro(u);return r&&u.addEventListener("upgradeneeded",h=>{r(ro(u.result),h.oldVersion,h.newVersion,ro(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const zV=["get","getKey","getAll","getAllKeys","count"],BV=["put","add","delete","clear"],ty=new Map;function UT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=BV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zV.includes(n)))return;const a=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),s&&h.done]))[0]};return ty.set(e,a),a}PV(t=>({...t,get:(e,n,r)=>UT(e,n)||t.get(e,n,r),has:(e,n)=>!!UT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HV(t){const e=t.getComponent();return e?.type==="VERSION"}const Qy="@firebase/app",zT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new tv("@firebase/app"),jV="@firebase/app-compat",qV="@firebase/analytics-compat",$V="@firebase/analytics",GV="@firebase/app-check-compat",YV="@firebase/app-check",KV="@firebase/auth",XV="@firebase/auth-compat",QV="@firebase/database",WV="@firebase/data-connect",ZV="@firebase/database-compat",JV="@firebase/functions",e3="@firebase/functions-compat",t3="@firebase/installations",n3="@firebase/installations-compat",r3="@firebase/messaging",i3="@firebase/messaging-compat",s3="@firebase/performance",o3="@firebase/performance-compat",a3="@firebase/remote-config",l3="@firebase/remote-config-compat",u3="@firebase/storage",c3="@firebase/storage-compat",f3="@firebase/firestore",h3="@firebase/ai",d3="@firebase/firestore-compat",p3="firebase",m3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="[DEFAULT]",g3={[Qy]:"fire-core",[jV]:"fire-core-compat",[$V]:"fire-analytics",[qV]:"fire-analytics-compat",[YV]:"fire-app-check",[GV]:"fire-app-check-compat",[KV]:"fire-auth",[XV]:"fire-auth-compat",[QV]:"fire-rtdb",[WV]:"fire-data-connect",[ZV]:"fire-rtdb-compat",[JV]:"fire-fn",[e3]:"fire-fn-compat",[t3]:"fire-iid",[n3]:"fire-iid-compat",[r3]:"fire-fcm",[i3]:"fire-fcm-compat",[s3]:"fire-perf",[o3]:"fire-perf-compat",[a3]:"fire-rc",[l3]:"fire-rc-compat",[u3]:"fire-gcs",[c3]:"fire-gcs-compat",[f3]:"fire-fst",[d3]:"fire-fst-compat",[h3]:"fire-vertex","fire-js":"fire-js",[p3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,y3=new Map,Zy=new Map;function BT(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $l(t){const e=t.name;if(Zy.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Zy.set(e,t);for(const n of Od.values())BT(n,t);for(const n of y3.values())BT(n,t);return!0}function rv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},io=new hf("app","Firebase",_3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=m3;function qx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Wy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw io.create("bad-app-name",{appName:String(s)});if(n||(n=Ux()),!n)throw io.create("no-options");const a=Od.get(s);if(a){if(ca(n,a.options)&&ca(r,a.config))return a;throw io.create("duplicate-app",{appName:s})}const u=new AV(s);for(const h of Zy.values())u.addComponent(h);const f=new v3(n,r,u);return Od.set(s,f),f}function $x(t=Wy){const e=Od.get(t);if(!e&&t===Wy&&Ux())return qx();if(!e)throw io.create("no-app",{appName:t});return e}function so(t,e,n){var r;let s=(r=g3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(f.join(" "));return}$l(new fa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="firebase-heartbeat-database",w3=1,Xc="firebase-heartbeat-store";let ny=null;function Gx(){return ny||(ny=UV(E3,w3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw io.create("idb-open",{originalErrorMessage:t.message})})),ny}async function b3(t){try{const n=(await Gx()).transaction(Xc),r=await n.objectStore(Xc).get(Yx(t));return await n.done,r}catch(e){if(e instanceof ms)cs.warn(e.message);else{const n=io.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}}async function FT(t,e){try{const r=(await Gx()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,Yx(t)),await r.done}catch(n){if(n instanceof ms)cs.warn(n.message);else{const r=io.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}}function Yx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1024,S3=30;class A3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=HT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>S3){const u=R3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=HT(),{heartbeatsToSend:r,unsentEntries:s}=x3(this._heartbeatsCache.heartbeats),a=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return cs.warn(n),""}}}function HT(){return new Date().toISOString().substring(0,10)}function x3(t,e=T3){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),jT(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),jT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dV()?pV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function jT(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}function R3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){$l(new fa("platform-logger",e=>new FV(e),"PRIVATE")),$l(new fa("heartbeat",e=>new A3(e),"PRIVATE")),so(Qy,zT,t),so(Qy,zT,"esm2017"),so("fire-js","")}I3("");var N3="firebase",k3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */so(N3,k3,"app");var qT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oo,Kx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,C){function R(){}R.prototype=C.prototype,U.D=C.prototype,U.prototype=new R,U.prototype.constructor=U,U.C=function(M,V,B){for(var A=Array(arguments.length-2),N=2;N<arguments.length;N++)A[N-2]=arguments[N];return C.prototype[V].apply(M,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,C,R){R||(R=0);var M=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)M[V]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(V=0;16>V;++V)M[V]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=U.g[0],R=U.g[1],V=U.g[2];var B=U.g[3],A=C+(B^R&(V^B))+M[0]+3614090360&4294967295;C=R+(A<<7&4294967295|A>>>25),A=B+(V^C&(R^V))+M[1]+3905402710&4294967295,B=C+(A<<12&4294967295|A>>>20),A=V+(R^B&(C^R))+M[2]+606105819&4294967295,V=B+(A<<17&4294967295|A>>>15),A=R+(C^V&(B^C))+M[3]+3250441966&4294967295,R=V+(A<<22&4294967295|A>>>10),A=C+(B^R&(V^B))+M[4]+4118548399&4294967295,C=R+(A<<7&4294967295|A>>>25),A=B+(V^C&(R^V))+M[5]+1200080426&4294967295,B=C+(A<<12&4294967295|A>>>20),A=V+(R^B&(C^R))+M[6]+2821735955&4294967295,V=B+(A<<17&4294967295|A>>>15),A=R+(C^V&(B^C))+M[7]+4249261313&4294967295,R=V+(A<<22&4294967295|A>>>10),A=C+(B^R&(V^B))+M[8]+1770035416&4294967295,C=R+(A<<7&4294967295|A>>>25),A=B+(V^C&(R^V))+M[9]+2336552879&4294967295,B=C+(A<<12&4294967295|A>>>20),A=V+(R^B&(C^R))+M[10]+4294925233&4294967295,V=B+(A<<17&4294967295|A>>>15),A=R+(C^V&(B^C))+M[11]+2304563134&4294967295,R=V+(A<<22&4294967295|A>>>10),A=C+(B^R&(V^B))+M[12]+1804603682&4294967295,C=R+(A<<7&4294967295|A>>>25),A=B+(V^C&(R^V))+M[13]+4254626195&4294967295,B=C+(A<<12&4294967295|A>>>20),A=V+(R^B&(C^R))+M[14]+2792965006&4294967295,V=B+(A<<17&4294967295|A>>>15),A=R+(C^V&(B^C))+M[15]+1236535329&4294967295,R=V+(A<<22&4294967295|A>>>10),A=C+(V^B&(R^V))+M[1]+4129170786&4294967295,C=R+(A<<5&4294967295|A>>>27),A=B+(R^V&(C^R))+M[6]+3225465664&4294967295,B=C+(A<<9&4294967295|A>>>23),A=V+(C^R&(B^C))+M[11]+643717713&4294967295,V=B+(A<<14&4294967295|A>>>18),A=R+(B^C&(V^B))+M[0]+3921069994&4294967295,R=V+(A<<20&4294967295|A>>>12),A=C+(V^B&(R^V))+M[5]+3593408605&4294967295,C=R+(A<<5&4294967295|A>>>27),A=B+(R^V&(C^R))+M[10]+38016083&4294967295,B=C+(A<<9&4294967295|A>>>23),A=V+(C^R&(B^C))+M[15]+3634488961&4294967295,V=B+(A<<14&4294967295|A>>>18),A=R+(B^C&(V^B))+M[4]+3889429448&4294967295,R=V+(A<<20&4294967295|A>>>12),A=C+(V^B&(R^V))+M[9]+568446438&4294967295,C=R+(A<<5&4294967295|A>>>27),A=B+(R^V&(C^R))+M[14]+3275163606&4294967295,B=C+(A<<9&4294967295|A>>>23),A=V+(C^R&(B^C))+M[3]+4107603335&4294967295,V=B+(A<<14&4294967295|A>>>18),A=R+(B^C&(V^B))+M[8]+1163531501&4294967295,R=V+(A<<20&4294967295|A>>>12),A=C+(V^B&(R^V))+M[13]+2850285829&4294967295,C=R+(A<<5&4294967295|A>>>27),A=B+(R^V&(C^R))+M[2]+4243563512&4294967295,B=C+(A<<9&4294967295|A>>>23),A=V+(C^R&(B^C))+M[7]+1735328473&4294967295,V=B+(A<<14&4294967295|A>>>18),A=R+(B^C&(V^B))+M[12]+2368359562&4294967295,R=V+(A<<20&4294967295|A>>>12),A=C+(R^V^B)+M[5]+4294588738&4294967295,C=R+(A<<4&4294967295|A>>>28),A=B+(C^R^V)+M[8]+2272392833&4294967295,B=C+(A<<11&4294967295|A>>>21),A=V+(B^C^R)+M[11]+1839030562&4294967295,V=B+(A<<16&4294967295|A>>>16),A=R+(V^B^C)+M[14]+4259657740&4294967295,R=V+(A<<23&4294967295|A>>>9),A=C+(R^V^B)+M[1]+2763975236&4294967295,C=R+(A<<4&4294967295|A>>>28),A=B+(C^R^V)+M[4]+1272893353&4294967295,B=C+(A<<11&4294967295|A>>>21),A=V+(B^C^R)+M[7]+4139469664&4294967295,V=B+(A<<16&4294967295|A>>>16),A=R+(V^B^C)+M[10]+3200236656&4294967295,R=V+(A<<23&4294967295|A>>>9),A=C+(R^V^B)+M[13]+681279174&4294967295,C=R+(A<<4&4294967295|A>>>28),A=B+(C^R^V)+M[0]+3936430074&4294967295,B=C+(A<<11&4294967295|A>>>21),A=V+(B^C^R)+M[3]+3572445317&4294967295,V=B+(A<<16&4294967295|A>>>16),A=R+(V^B^C)+M[6]+76029189&4294967295,R=V+(A<<23&4294967295|A>>>9),A=C+(R^V^B)+M[9]+3654602809&4294967295,C=R+(A<<4&4294967295|A>>>28),A=B+(C^R^V)+M[12]+3873151461&4294967295,B=C+(A<<11&4294967295|A>>>21),A=V+(B^C^R)+M[15]+530742520&4294967295,V=B+(A<<16&4294967295|A>>>16),A=R+(V^B^C)+M[2]+3299628645&4294967295,R=V+(A<<23&4294967295|A>>>9),A=C+(V^(R|~B))+M[0]+4096336452&4294967295,C=R+(A<<6&4294967295|A>>>26),A=B+(R^(C|~V))+M[7]+1126891415&4294967295,B=C+(A<<10&4294967295|A>>>22),A=V+(C^(B|~R))+M[14]+2878612391&4294967295,V=B+(A<<15&4294967295|A>>>17),A=R+(B^(V|~C))+M[5]+4237533241&4294967295,R=V+(A<<21&4294967295|A>>>11),A=C+(V^(R|~B))+M[12]+1700485571&4294967295,C=R+(A<<6&4294967295|A>>>26),A=B+(R^(C|~V))+M[3]+2399980690&4294967295,B=C+(A<<10&4294967295|A>>>22),A=V+(C^(B|~R))+M[10]+4293915773&4294967295,V=B+(A<<15&4294967295|A>>>17),A=R+(B^(V|~C))+M[1]+2240044497&4294967295,R=V+(A<<21&4294967295|A>>>11),A=C+(V^(R|~B))+M[8]+1873313359&4294967295,C=R+(A<<6&4294967295|A>>>26),A=B+(R^(C|~V))+M[15]+4264355552&4294967295,B=C+(A<<10&4294967295|A>>>22),A=V+(C^(B|~R))+M[6]+2734768916&4294967295,V=B+(A<<15&4294967295|A>>>17),A=R+(B^(V|~C))+M[13]+1309151649&4294967295,R=V+(A<<21&4294967295|A>>>11),A=C+(V^(R|~B))+M[4]+4149444226&4294967295,C=R+(A<<6&4294967295|A>>>26),A=B+(R^(C|~V))+M[11]+3174756917&4294967295,B=C+(A<<10&4294967295|A>>>22),A=V+(C^(B|~R))+M[2]+718787259&4294967295,V=B+(A<<15&4294967295|A>>>17),A=R+(B^(V|~C))+M[9]+3951481745&4294967295,U.g[0]=U.g[0]+C&4294967295,U.g[1]=U.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,U.g[2]=U.g[2]+V&4294967295,U.g[3]=U.g[3]+B&4294967295}r.prototype.u=function(U,C){C===void 0&&(C=U.length);for(var R=C-this.blockSize,M=this.B,V=this.h,B=0;B<C;){if(V==0)for(;B<=R;)s(this,U,B),B+=this.blockSize;if(typeof U=="string"){for(;B<C;)if(M[V++]=U.charCodeAt(B++),V==this.blockSize){s(this,M),V=0;break}}else for(;B<C;)if(M[V++]=U[B++],V==this.blockSize){s(this,M),V=0;break}}this.h=V,this.o+=C},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var C=1;C<U.length-8;++C)U[C]=0;var R=8*this.o;for(C=U.length-8;C<U.length;++C)U[C]=R&255,R/=256;for(this.u(U),U=Array(16),C=R=0;4>C;++C)for(var M=0;32>M;M+=8)U[R++]=this.g[C]>>>M&255;return U};function a(U,C){var R=f;return Object.prototype.hasOwnProperty.call(R,U)?R[U]:R[U]=C(U)}function u(U,C){this.h=C;for(var R=[],M=!0,V=U.length-1;0<=V;V--){var B=U[V]|0;M&&B==C||(R[V]=B,M=!1)}this.g=R}var f={};function h(U){return-128<=U&&128>U?a(U,function(C){return new u([C|0],0>C?-1:0)}):new u([U|0],0>U?-1:0)}function d(U){if(isNaN(U)||!isFinite(U))return _;if(0>U)return D(d(-U));for(var C=[],R=1,M=0;U>=R;M++)C[M]=U/R|0,R*=4294967296;return new u(C,0)}function m(U,C){if(U.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(U.charAt(0)=="-")return D(m(U.substring(1),C));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=d(Math.pow(C,8)),M=_,V=0;V<U.length;V+=8){var B=Math.min(8,U.length-V),A=parseInt(U.substring(V,V+B),C);8>B?(B=d(Math.pow(C,B)),M=M.j(B).add(d(A))):(M=M.j(R),M=M.add(d(A)))}return M}var _=h(0),v=h(1),E=h(16777216);t=u.prototype,t.m=function(){if(I(this))return-D(this).m();for(var U=0,C=1,R=0;R<this.g.length;R++){var M=this.i(R);U+=(0<=M?M:4294967296+M)*C,C*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(x(this))return"0";if(I(this))return"-"+D(this).toString(U);for(var C=d(Math.pow(U,6)),R=this,M="";;){var V=H(R,C).g;R=P(R,V.j(C));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(U);if(R=V,x(R))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function x(U){if(U.h!=0)return!1;for(var C=0;C<U.g.length;C++)if(U.g[C]!=0)return!1;return!0}function I(U){return U.h==-1}t.l=function(U){return U=P(this,U),I(U)?-1:x(U)?0:1};function D(U){for(var C=U.g.length,R=[],M=0;M<C;M++)R[M]=~U.g[M];return new u(R,~U.h).add(v)}t.abs=function(){return I(this)?D(this):this},t.add=function(U){for(var C=Math.max(this.g.length,U.g.length),R=[],M=0,V=0;V<=C;V++){var B=M+(this.i(V)&65535)+(U.i(V)&65535),A=(B>>>16)+(this.i(V)>>>16)+(U.i(V)>>>16);M=A>>>16,B&=65535,A&=65535,R[V]=A<<16|B}return new u(R,R[R.length-1]&-2147483648?-1:0)};function P(U,C){return U.add(D(C))}t.j=function(U){if(x(this)||x(U))return _;if(I(this))return I(U)?D(this).j(D(U)):D(D(this).j(U));if(I(U))return D(this.j(D(U)));if(0>this.l(E)&&0>U.l(E))return d(this.m()*U.m());for(var C=this.g.length+U.g.length,R=[],M=0;M<2*C;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<U.g.length;V++){var B=this.i(M)>>>16,A=this.i(M)&65535,N=U.i(V)>>>16,G=U.i(V)&65535;R[2*M+2*V]+=A*G,q(R,2*M+2*V),R[2*M+2*V+1]+=B*G,q(R,2*M+2*V+1),R[2*M+2*V+1]+=A*N,q(R,2*M+2*V+1),R[2*M+2*V+2]+=B*N,q(R,2*M+2*V+2)}for(M=0;M<C;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=C;M<2*C;M++)R[M]=0;return new u(R,0)};function q(U,C){for(;(U[C]&65535)!=U[C];)U[C+1]+=U[C]>>>16,U[C]&=65535,C++}function $(U,C){this.g=U,this.h=C}function H(U,C){if(x(C))throw Error("division by zero");if(x(U))return new $(_,_);if(I(U))return C=H(D(U),C),new $(D(C.g),D(C.h));if(I(C))return C=H(U,D(C)),new $(D(C.g),C.h);if(30<U.g.length){if(I(U)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,M=C;0>=M.l(U);)R=X(R),M=X(M);var V=j(R,1),B=j(M,1);for(M=j(M,2),R=j(R,2);!x(M);){var A=B.add(M);0>=A.l(U)&&(V=V.add(R),B=A),M=j(M,1),R=j(R,1)}return C=P(U,V.j(C)),new $(V,C)}for(V=_;0<=U.l(C);){for(R=Math.max(1,Math.floor(U.m()/C.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=d(R),A=B.j(C);I(A)||0<A.l(U);)R-=M,B=d(R),A=B.j(C);x(B)&&(B=v),V=V.add(B),U=P(U,A)}return new $(V,U)}t.A=function(U){return H(this,U).h},t.and=function(U){for(var C=Math.max(this.g.length,U.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)&U.i(M);return new u(R,this.h&U.h)},t.or=function(U){for(var C=Math.max(this.g.length,U.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)|U.i(M);return new u(R,this.h|U.h)},t.xor=function(U){for(var C=Math.max(this.g.length,U.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)^U.i(M);return new u(R,this.h^U.h)};function X(U){for(var C=U.g.length+1,R=[],M=0;M<C;M++)R[M]=U.i(M)<<1|U.i(M-1)>>>31;return new u(R,U.h)}function j(U,C){var R=C>>5;C%=32;for(var M=U.g.length-R,V=[],B=0;B<M;B++)V[B]=0<C?U.i(B+R)>>>C|U.i(B+R+1)<<32-C:U.i(B+R);return new u(V,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,oo=u}).apply(typeof qT<"u"?qT:typeof self<"u"?self:typeof window<"u"?window:{});var Wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xx,Cc,Qx,dd,Jy,Wx,Zx,Jx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,T){return p==Array.prototype||p==Object.prototype||(p[w]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wh=="object"&&Wh];for(var w=0;w<p.length;++w){var T=p[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(p,w){if(w)e:{var T=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var ie=p[F];if(!(ie in T))break e;T=T[ie]}p=p[p.length-1],F=T[p],w=w(F),w!=F&&w!=null&&e(T,p,{configurable:!0,writable:!0,value:w})}}function a(p,w){p instanceof String&&(p+="");var T=0,F=!1,ie={next:function(){if(!F&&T<p.length){var ue=T++;return{value:w(ue,p[ue]),done:!1}}return F=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}s("Array.prototype.values",function(p){return p||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function m(p,w,T){return p.call.apply(p.bind,arguments)}function _(p,w,T){if(!p)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,F),p.apply(w,ie)}}return function(){return p.apply(w,arguments)}}function v(p,w,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,v.apply(null,arguments)}function E(p,w){var T=Array.prototype.slice.call(arguments,1);return function(){var F=T.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function x(p,w){function T(){}T.prototype=w.prototype,p.aa=w.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(F,ie,ue){for(var we=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)we[nt-2]=arguments[nt];return w.prototype[ie].apply(F,we)}}function I(p){const w=p.length;if(0<w){const T=Array(w);for(let F=0;F<w;F++)T[F]=p[F];return T}return[]}function D(p,w){for(let T=1;T<arguments.length;T++){const F=arguments[T];if(h(F)){const ie=p.length||0,ue=F.length||0;p.length=ie+ue;for(let we=0;we<ue;we++)p[ie+we]=F[we]}else p.push(F)}}class P{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function q(p){return/^[\s\xa0]*$/.test(p)}function $(){var p=f.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var X=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function j(p,w,T){for(const F in p)w.call(T,p[F],F,p)}function U(p,w){for(const T in p)w.call(void 0,p[T],T,p)}function C(p){const w={};for(const T in p)w[T]=p[T];return w}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,w){let T,F;for(let ie=1;ie<arguments.length;ie++){F=arguments[ie];for(T in F)p[T]=F[T];for(let ue=0;ue<R.length;ue++)T=R[ue],Object.prototype.hasOwnProperty.call(F,T)&&(p[T]=F[T])}}function V(p){var w=1;p=p.split(":");const T=[];for(;0<w&&p.length;)T.push(p.shift()),w--;return p.length&&T.push(p.join(":")),T}function B(p){f.setTimeout(()=>{throw p},0)}function A(){var p=Z;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class N{constructor(){this.h=this.g=null}add(w,T){const F=G.get();F.set(w,T),this.h?this.h.next=F:this.g=F,this.h=F}}var G=new P(()=>new L,p=>p.reset());class L{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ee=!1,Z=new N,b=()=>{const p=f.Promise.resolve(void 0);K=()=>{p.then(Q)}};var Q=()=>{for(var p;p=A();){try{p.h.call(p.g)}catch(T){B(T)}var w=G;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}ee=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};f.addEventListener("test",T,w),f.removeEventListener("test",T,w)}catch{}return p}();function ve(p,w){if(k.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(X){e:{try{H(w.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(w=null)}}else T=="mouseover"?w=p.fromElement:T=="mouseout"&&(w=p.toElement);this.relatedTarget=w,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_e[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ve.aa.h.call(this)}}x(ve,k);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Se=0;function He(p,w,T,F,ie){this.listener=p,this.proxy=null,this.src=w,this.type=T,this.capture=!!F,this.ha=ie,this.key=++Se,this.da=this.fa=!1}function Ue(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function lt(p){this.src=p,this.g={},this.h=0}lt.prototype.add=function(p,w,T,F,ie){var ue=p.toString();p=this.g[ue],p||(p=this.g[ue]=[],this.h++);var we=bt(p,w,F,ie);return-1<we?(w=p[we],T||(w.fa=!1)):(w=new He(w,this.src,ue,!!F,ie),w.fa=T,p.push(w)),w};function pt(p,w){var T=w.type;if(T in p.g){var F=p.g[T],ie=Array.prototype.indexOf.call(F,w,void 0),ue;(ue=0<=ie)&&Array.prototype.splice.call(F,ie,1),ue&&(Ue(w),p.g[T].length==0&&(delete p.g[T],p.h--))}}function bt(p,w,T,F){for(var ie=0;ie<p.length;++ie){var ue=p[ie];if(!ue.da&&ue.listener==w&&ue.capture==!!T&&ue.ha==F)return ie}return-1}var mt="closure_lm_"+(1e6*Math.random()|0),Oe={};function Vt(p,w,T,F,ie){if(Array.isArray(w)){for(var ue=0;ue<w.length;ue++)Vt(p,w[ue],T,F,ie);return null}return T=Bn(T),p&&p[Re]?p.K(w,T,d(F)?!!F.capture:!1,ie):Be(p,w,T,!1,F,ie)}function Be(p,w,T,F,ie,ue){if(!w)throw Error("Invalid event type");var we=d(ie)?!!ie.capture:!!ie,nt=Tn(p);if(nt||(p[mt]=nt=new lt(p)),T=nt.add(w,T,F,we,ue),T.proxy)return T;if(F=Ce(),T.proxy=F,F.src=p,F.listener=T,p.addEventListener)ce||(ie=we),ie===void 0&&(ie=!1),p.addEventListener(w.toString(),F,ie);else if(p.attachEvent)p.attachEvent(bn(w.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ce(){function p(T){return w.call(p.src,p.listener,T)}const w=Gn;return p}function Ot(p,w,T,F,ie){if(Array.isArray(w))for(var ue=0;ue<w.length;ue++)Ot(p,w[ue],T,F,ie);else F=d(F)?!!F.capture:!!F,T=Bn(T),p&&p[Re]?(p=p.i,w=String(w).toString(),w in p.g&&(ue=p.g[w],T=bt(ue,T,F,ie),-1<T&&(Ue(ue[T]),Array.prototype.splice.call(ue,T,1),ue.length==0&&(delete p.g[w],p.h--)))):p&&(p=Tn(p))&&(w=p.g[w.toString()],p=-1,w&&(p=bt(w,T,F,ie)),(T=-1<p?w[p]:null)&&sn(T))}function sn(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[Re])pt(w.i,p);else{var T=p.type,F=p.proxy;w.removeEventListener?w.removeEventListener(T,F,p.capture):w.detachEvent?w.detachEvent(bn(T),F):w.addListener&&w.removeListener&&w.removeListener(F),(T=Tn(w))?(pt(T,p),T.h==0&&(T.src=null,w[mt]=null)):Ue(p)}}}function bn(p){return p in Oe?Oe[p]:Oe[p]="on"+p}function Gn(p,w){if(p.da)p=!0;else{w=new ve(w,this);var T=p.listener,F=p.ha||p.src;p.fa&&sn(p),p=T.call(F,w)}return p}function Tn(p){return p=p[mt],p instanceof lt?p:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bn(p){return typeof p=="function"?p:(p[Wt]||(p[Wt]=function(w){return p.handleEvent(w)}),p[Wt])}function te(){re.call(this),this.i=new lt(this),this.M=this,this.F=null}x(te,re),te.prototype[Re]=!0,te.prototype.removeEventListener=function(p,w,T,F){Ot(this,p,w,T,F)};function he(p,w){var T,F=p.F;if(F)for(T=[];F;F=F.F)T.push(F);if(p=p.M,F=w.type||w,typeof w=="string")w=new k(w,p);else if(w instanceof k)w.target=w.target||p;else{var ie=w;w=new k(F,p),M(w,ie)}if(ie=!0,T)for(var ue=T.length-1;0<=ue;ue--){var we=w.g=T[ue];ie=Ae(we,F,!0,w)&&ie}if(we=w.g=p,ie=Ae(we,F,!0,w)&&ie,ie=Ae(we,F,!1,w)&&ie,T)for(ue=0;ue<T.length;ue++)we=w.g=T[ue],ie=Ae(we,F,!1,w)&&ie}te.prototype.N=function(){if(te.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var T=p.g[w],F=0;F<T.length;F++)Ue(T[F]);delete p.g[w],p.h--}}this.F=null},te.prototype.K=function(p,w,T,F){return this.i.add(String(p),w,!1,T,F)},te.prototype.L=function(p,w,T,F){return this.i.add(String(p),w,!0,T,F)};function Ae(p,w,T,F){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var ie=!0,ue=0;ue<w.length;++ue){var we=w[ue];if(we&&!we.da&&we.capture==T){var nt=we.listener,ln=we.ha||we.src;we.fa&&pt(p.i,we),ie=nt.call(ln,F)!==!1&&ie}}return ie&&!F.defaultPrevented}function Ie(p,w,T){if(typeof p=="function")T&&(p=v(p,T));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:f.setTimeout(p,w||0)}function Xe(p){p.g=Ie(()=>{p.g=null,p.i&&(p.i=!1,Xe(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class ot extends re{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function St(p){re.call(this),this.h=p,this.g={}}x(St,re);var Nt=[];function Gt(p){j(p.g,function(w,T){this.g.hasOwnProperty(T)&&sn(w)},p),p.g={}}St.prototype.N=function(){St.aa.N.call(this),Gt(this)},St.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mt=f.JSON.stringify,ut=f.JSON.parse,Ft=class{stringify(p){return f.JSON.stringify(p,void 0)}parse(p){return f.JSON.parse(p,void 0)}};function on(){}on.prototype.h=null;function Oi(p){return p.h||(p.h=p.i())}function Hr(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){k.call(this,"d")}x(wr,k);function ir(){k.call(this,"c")}x(ir,k);var br={},To=null;function ni(){return To=To||new te}br.La="serverreachability";function ys(p){k.call(this,br.La,p)}x(ys,k);function ri(p){const w=ni();he(w,new ys(w))}br.STAT_EVENT="statevent";function Ta(p,w){k.call(this,br.STAT_EVENT,p),this.stat=w}x(Ta,k);function At(p){const w=ni();he(w,new Ta(w,p))}br.Ma="timingevent";function Yt(p,w){k.call(this,br.Ma,p),this.size=w}x(Yt,k);function Ht(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){p()},w)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function So(p,w,T,F,ie,ue){p.info(function(){if(p.g)if(ue)for(var we="",nt=ue.split("&"),ln=0;ln<nt.length;ln++){var rt=nt[ln].split("=");if(1<rt.length){var gn=rt[0];rt=rt[1];var un=gn.split("_");we=2<=un.length&&un[1]=="type"?we+(gn+"="+rt+"&"):we+(gn+"=redacted&")}}else we=null;else we=ue;return"XMLHTTP REQ ("+F+") [attempt "+ie+"]: "+w+`
`+T+`
`+we})}function fu(p,w,T,F,ie,ue,we){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ie+"]: "+w+`
`+T+`
`+ue+" "+we})}function ii(p,w,T,F){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Mi(p,T)+(F?" "+F:"")})}function Sa(p,w){p.info(function(){return"TIMEOUT: "+w})}Yn.prototype.info=function(){};function Mi(p,w){if(!p.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var F=T[p];if(!(2>F.length)){var ie=F[1];if(Array.isArray(ie)&&!(1>ie.length)){var ue=ie[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var we=1;we<ie.length;we++)ie[we]=""}}}}return Mt(T)}catch{return w}}var si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Ar(){}x(Ar,on),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},Sr=new Ar;function Sn(p,w,T,F){this.j=p,this.i=w,this.l=T,this.R=F||1,this.U=new St(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var Ao={},_s={};function sr(p,w,T){p.L=1,p.v=Io(or(w)),p.m=T,p.P=!0,jr(p,null)}function jr(p,w){p.F=Date.now(),Pi(p),p.A=or(p.v);var T=p.A,F=p.R;Array.isArray(F)||(F=[String(F)]),yu(T.i,"t",F),p.C=0,T=p.j.J,p.h=new Lt,p.g=Uf(p.j,T?w:null,!p.m),0<p.O&&(p.M=new ot(v(p.Y,p,p.g),p.O)),w=p.U,T=p.g,F=p.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Nt[0]=ie.toString()),ie=Nt);for(var ue=0;ue<ie.length;ue++){var we=Vt(T,ie[ue],F||w.handleEvent,!1,w.h||w);if(!we)break;w.g[we.key]=we}w=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),ri(),So(p.i,p.u,p.A,p.l,p.R,p.m)}Sn.prototype.ca=function(p){p=p.target;const w=this.M;w&&Nr(p)==3?w.j():this.Y(p)},Sn.prototype.Y=function(p){try{if(p==this.g)e:{const un=Nr(this.g);var w=this.g.Ba();const Hi=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Nf(this.g)))){this.J||un!=4||w==7||(w==8||0>=Hi?ri(3):ri(2)),oi(this);var T=this.g.Z();this.X=T;t:if(xo(this)){var F=Nf(this.g);p="";var ie=F.length,ue=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),xr(this);var we="";break t}this.h.i=new f.TextDecoder}for(w=0;w<ie;w++)this.h.h=!0,p+=this.h.i.decode(F[w],{stream:!(ue&&w==ie-1)});F.length=0,this.h.g+=p,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=T==200,fu(this.i,this.u,this.A,this.l,this.R,un,T),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,ln=this.g;if((nt=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(nt)){var rt=nt;break t}}rt=null}if(T=rt)ii(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ai(this,T);else{this.o=!1,this.s=3,At(12),an(this),xr(this);break e}}if(this.P){T=!0;let An;for(;!this.J&&this.C<we.length;)if(An=Aa(this,we),An==_s){un==4&&(this.s=4,At(14),T=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Ao){this.s=4,At(15),ii(this.i,this.l,we,"[Invalid Chunk]"),T=!1;break}else ii(this.i,this.l,An,null),ai(this,An);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||we.length!=0||this.h.h||(this.s=1,At(16),T=!1),this.o=this.o&&T,!T)ii(this.i,this.l,we,"[Invalid Chunked Response]"),an(this),xr(this);else if(0<we.length&&!this.W){this.W=!0;var gn=this.j;gn.g==this&&gn.ba&&!gn.M&&(gn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Lo(gn),gn.M=!0,At(11))}}else ii(this.i,this.l,we,null),ai(this,we);un==4&&an(this),this.o&&!this.J&&(un==4?Pf(this.j,this):(this.o=!1,Pi(this)))}else Fp(this.g),T==400&&0<we.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),an(this),xr(this)}}}catch{}finally{}};function xo(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Aa(p,w){var T=p.C,F=w.indexOf(`
`,T);return F==-1?_s:(T=Number(w.substring(T,F)),isNaN(T)?Ao:(F+=1,F+T>w.length?_s:(w=w.slice(F,F+T),p.C=F+T,w)))}Sn.prototype.cancel=function(){this.J=!0,an(this)};function Pi(p){p.S=Date.now()+p.I,xa(p,p.I)}function xa(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ht(v(p.ba,p),w)}function oi(p){p.B&&(f.clearTimeout(p.B),p.B=null)}Sn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Sa(this.i,this.A),this.L!=2&&(ri(),At(17)),an(this),this.s=2,xr(this)):xa(this,this.S-p)};function xr(p){p.j.G==0||p.J||Pf(p.j,p)}function an(p){oi(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Gt(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function ai(p,w){try{var T=p.j;if(T.G!=0&&(T.g==p||hu(T.h,p))){if(!p.K&&hu(T.h,p)&&T.G==3){try{var F=T.Da.g.parse(w)}catch{F=null}if(Array.isArray(F)&&F.length==3){var ie=F;if(ie[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)La(T),Pa(T);else break e;bu(T),At(18)}}else T.za=ie[1],0<T.za-T.T&&37500>ie[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ht(v(T.Za,T),6e3));if(1>=li(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Fi(T,11)}else if((p.K||T.g==p)&&La(T),!q(w))for(ie=T.Da.g.parse(w),w=0;w<ie.length;w++){let rt=ie[w];if(T.T=rt[0],rt=rt[1],T.G==2)if(rt[0]=="c"){T.K=rt[1],T.ia=rt[2];const gn=rt[3];gn!=null&&(T.la=gn,T.j.info("VER="+T.la));const un=rt[4];un!=null&&(T.Aa=un,T.j.info("SVER="+T.Aa));const Hi=rt[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(F=1.5*Hi,T.L=F,T.j.info("backChannelRequestTimeoutMs_="+F)),F=T;const An=p.g;if(An){const mi=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var ue=F.h;ue.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Ra(ue,ue.h),ue.h=null))}if(F.D){const Su=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Su&&(F.ya=Su,_t(F.I,F.D,Su))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),F=T;var we=p;if(F.qa=Lf(F,F.J?F.ia:null,F.W),we.K){Fn(F.h,we);var nt=we,ln=F.L;ln&&(nt.I=ln),nt.B&&(oi(nt),Pi(nt)),F.g=we}else Of(F);0<T.i.length&&Va(T)}else rt[0]!="stop"&&rt[0]!="close"||Fi(T,7);else T.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Fi(T,7):Eu(T):rt[0]!="noop"&&T.l&&T.l.ta(rt),T.v=0)}}ri(4)}catch{}}var Ca=class{constructor(p,w){this.g=p,this.map=w}};function qr(p){this.l=p||10,f.PerformanceNavigationTiming?(p=f.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vs(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function li(p){return p.h?1:p.g?p.g.size:0}function hu(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Ra(p,w){p.g?p.g.add(w):p.h=w}function Fn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}qr.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function du(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const T of p.g.values())w=w.concat(T.D);return w}return I(p.i)}function Lp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],T=p.length,F=0;F<T;F++)w.push(p[F]);return w}w=[],T=0;for(F in p)w[T++]=p[F];return w}function Ia(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var T=0;T<p;T++)w.push(T);return w}w=[],T=0;for(const F in p)w[T++]=F;return w}}}function pu(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var T=Ia(p),F=Lp(p),ie=F.length,ue=0;ue<ie;ue++)w.call(void 0,F[ue],T&&T[ue],p)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Up(p,w){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var F=p[T].indexOf("="),ie=null;if(0<=F){var ue=p[T].substring(0,F);ie=p[T].substring(F+1)}else ue=p[T];w(ue,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Zt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Zt){this.h=p.h,Ro(this,p.j),this.o=p.o,this.g=p.g,Es(this,p.s),this.l=p.l;var w=p.i,T=new Li;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Vi(this,T),this.m=p.m}else p&&(w=String(p).match(Co))?(this.h=!1,Ro(this,w[1]||"",!0),this.o=Cr(w[2]||""),this.g=Cr(w[3]||"",!0),Es(this,w[4]),this.l=Cr(w[5]||"",!0),Vi(this,w[6]||"",!0),this.m=Cr(w[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}Zt.prototype.toString=function(){var p=[],w=this.j;w&&p.push(No(w,mu,!0),":");var T=this.g;return(T||w=="file")&&(p.push("//"),(w=this.o)&&p.push(No(w,mu,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(No(T,T.charAt(0)=="/"?zp:gu,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",No(T,Na)),p.join("")};function or(p){return new Zt(p)}function Ro(p,w,T){p.j=T?Cr(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Es(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function Vi(p,w,T){w instanceof Li?(p.i=w,Rf(p.i,p.h)):(T||(w=No(w,Bp)),p.i=new Li(w,p.h))}function _t(p,w,T){p.i.set(w,T)}function Io(p){return _t(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Cr(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function No(p,w,T){return typeof p=="string"?(p=encodeURI(p).replace(w,Cf),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Cf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var mu=/[#\/\?@]/g,gu=/[#\?:]/g,zp=/[#\?]/g,Bp=/[#\?@]/g,Na=/#/g;function Li(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Rr(p){p.g||(p.g=new Map,p.h=0,p.i&&Up(p.i,function(w,T){p.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Li.prototype,t.add=function(p,w){Rr(this),this.i=null,p=ui(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(w),this.h+=1,this};function Ui(p,w){Rr(p),w=ui(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function zi(p,w){return Rr(p),w=ui(p,w),p.g.has(w)}t.forEach=function(p,w){Rr(this),this.g.forEach(function(T,F){T.forEach(function(ie){p.call(w,ie,F,this)},this)},this)},t.na=function(){Rr(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let F=0;F<w.length;F++){const ie=p[F];for(let ue=0;ue<ie.length;ue++)T.push(w[F])}return T},t.V=function(p){Rr(this);let w=[];if(typeof p=="string")zi(this,p)&&(w=w.concat(this.g.get(ui(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)w=w.concat(p[T])}return w},t.set=function(p,w){return Rr(this),this.i=null,p=ui(this,p),zi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function yu(p,w,T){Ui(p,w),0<T.length&&(p.i=null,p.g.set(ui(p,w),I(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var F=w[T];const ue=encodeURIComponent(String(F)),we=this.V(F);for(F=0;F<we.length;F++){var ie=ue;we[F]!==""&&(ie+="="+encodeURIComponent(String(we[F]))),p.push(ie)}}return this.i=p.join("&")};function ui(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Rf(p,w){w&&!p.j&&(Rr(p),p.i=null,p.g.forEach(function(T,F){var ie=F.toLowerCase();F!=ie&&(Ui(this,F),yu(this,ie,T))},p)),p.j=w}function ko(p,w){const T=new Yn;if(f.Image){const F=new Image;F.onload=E(Ir,T,"TestLoadImage: loaded",!0,w,F),F.onerror=E(Ir,T,"TestLoadImage: error",!1,w,F),F.onabort=E(Ir,T,"TestLoadImage: abort",!1,w,F),F.ontimeout=E(Ir,T,"TestLoadImage: timeout",!1,w,F),f.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else w(!1)}function $r(p,w){const T=new Yn,F=new AbortController,ie=setTimeout(()=>{F.abort(),Ir(T,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:F.signal}).then(ue=>{clearTimeout(ie),ue.ok?Ir(T,"TestPingServer: ok",!0,w):Ir(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ie),Ir(T,"TestPingServer: error",!1,w)})}function Ir(p,w,T,F,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),F(T)}catch{}}function Do(){this.g=new Ft}function ci(p,w,T){const F=T||"";try{pu(p,function(ie,ue){let we=ie;d(ie)&&(we=Mt(ie)),w.push(F+ue+"="+encodeURIComponent(we))})}catch(ie){throw w.push(F+"type="+encodeURIComponent("_badmap")),ie}}function ws(p){this.l=p.Ub||null,this.j=p.eb||!1}x(ws,on),ws.prototype.g=function(){return new Bi(this.l,this.j)},ws.prototype.i=function(p){return function(){return p}}({});function Bi(p,w){te.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Bi,te),t=Bi.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,hi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||f).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_u(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function _u(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?fi(this):hi(this),this.readyState==3&&_u(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,fi(this))},t.Qa=function(p){this.g&&(this.response=p,fi(this))},t.ga=function(){this.g&&fi(this)};function fi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,hi(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=w.next();return p.join(`\r
`)};function hi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function vu(p){let w="";return j(p,function(T,F){w+=F,w+=":",w+=T,w+=`\r
`}),w}function mn(p,w,T){e:{for(F in T){var F=!1;break e}F=!0}F||(T=vu(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):_t(p,w,T))}function ht(p){te.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ht,te);var ka=/^https?$/i,Oo=["POST","PUT"];t=ht.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,T,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?Oi(this.o):Oi(Sr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ue){If(this,ue);return}if(p=T||"",T=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ie in F)T.set(ie,F[ie]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ue of F.keys())T.set(ue,F.get(ue));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(T.keys()).find(ue=>ue.toLowerCase()=="content-type"),ie=f.FormData&&p instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Oo,w,void 0))||F||ie||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,we]of T)this.g.setRequestHeader(ue,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(p),this.u=!1}catch(ue){If(this,ue)}};function If(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,Da(p),di(p)}function Da(p){p.A||(p.A=!0,he(p,"complete"),he(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,he(this,"complete"),he(this,"abort"),di(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},t.bb=function(){Oa(this)};function Oa(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Nr(p)!=4||p.Z()!=2)){if(p.u&&Nr(p)==4)Ie(p.Ea,0,p);else if(he(p,"readystatechange"),Nr(p)==4){p.h=!1;try{const we=p.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var F;if(F=we===0){var ie=String(p.D).match(Co)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),F=!ka.test(ie?ie.toLowerCase():"")}T=F}if(T)he(p,"complete"),he(p,"success");else{p.m=6;try{var ue=2<Nr(p)?p.g.statusText:""}catch{ue=""}p.l=ue+" ["+p.Z()+"]",Da(p)}}finally{di(p)}}}}function di(p,w){if(p.g){Mo(p);const T=p.g,F=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||he(p,"ready");try{T.onreadystatechange=F}catch{}}}function Mo(p){p.I&&(f.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Nr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),ut(w)}};function Nf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Fp(p){const w={};p=(p.g&&2<=Nr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(q(p[F]))continue;var T=V(p[F]);const ie=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ue=w[ie]||[];w[ie]=ue,ue.push(T)}U(w,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(p,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||w}function Ma(p){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,p),this.cb=Po("retryDelaySeedMs",1e4,p),this.Wa=Po("forwardChannelMaxRetries",2,p),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(p&&p.concurrentRequestLimit),this.Da=new Do,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ma.prototype,t.la=8,t.G=1,t.connect=function(p,w,T,F){At(0),this.W=p,this.H=w||{},T&&F!==void 0&&(this.H.OSID=T,this.H.OAID=F),this.F=this.X,this.I=Lf(this,null,this.W),Va(this)};function Eu(p){if(kf(p),p.G==3){var w=p.U++,T=or(p.I);if(_t(T,"SID",p.K),_t(T,"RID",w),_t(T,"TYPE","terminate"),Vo(p,T),w=new Sn(p,p.j,w),w.L=2,w.v=Io(or(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=w.v,T=!0),T||(w.g=Uf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Pi(w)}Vf(p)}function Pa(p){p.g&&(Lo(p),p.g.cancel(),p.g=null)}function kf(p){Pa(p),p.u&&(f.clearTimeout(p.u),p.u=null),La(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&f.clearTimeout(p.s),p.s=null)}function Va(p){if(!vs(p.h)&&!p.s){p.s=!0;var w=p.Ga;K||b(),ee||(K(),ee=!0),Z.add(w,p),p.B=0}}function Hp(p,w){return li(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ht(v(p.Ga,p,w),Tu(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ie=new Sn(this,this.j,p);let ue=this.o;if(this.S&&(ue?(ue=C(ue),M(ue,this.S)):ue=this.S),this.m!==null||this.O||(ie.H=ue,ue=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var F=this.i[T];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(w+=F,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Df(this,ie,w),T=or(this.I),_t(T,"RID",p),_t(T,"CVER",22),this.D&&_t(T,"X-HTTP-Session-Id",this.D),Vo(this,T),ue&&(this.O?w="headers="+encodeURIComponent(String(vu(ue)))+"&"+w:this.m&&mn(T,this.m,ue)),Ra(this.h,ie),this.Ua&&_t(T,"TYPE","init"),this.P?(_t(T,"$req",w),_t(T,"SID","null"),ie.T=!0,sr(ie,T,null)):sr(ie,T,w),this.G=2}}else this.G==3&&(p?wu(this,p):this.i.length==0||vs(this.h)||wu(this))};function wu(p,w){var T;w?T=w.l:T=p.U++;const F=or(p.I);_t(F,"SID",p.K),_t(F,"RID",T),_t(F,"AID",p.T),Vo(p,F),p.m&&p.o&&mn(F,p.m,p.o),T=new Sn(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),w&&(p.i=w.D.concat(p.i)),w=Df(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ra(p.h,T),sr(T,F,w)}function Vo(p,w){p.H&&j(p.H,function(T,F){_t(w,F,T)}),p.l&&pu({},function(T,F){_t(w,F,T)})}function Df(p,w,T){T=Math.min(p.i.length,T);var F=p.l?v(p.l.Na,p.l,p):null;e:{var ie=p.i;let ue=-1;for(;;){const we=["count="+T];ue==-1?0<T?(ue=ie[0].g,we.push("ofs="+ue)):ue=0:we.push("ofs="+ue);let nt=!0;for(let ln=0;ln<T;ln++){let rt=ie[ln].g;const gn=ie[ln].map;if(rt-=ue,0>rt)ue=Math.max(0,ie[ln].g-100),nt=!1;else try{ci(gn,we,"req"+rt+"_")}catch{F&&F(gn)}}if(nt){F=we.join("&");break e}}}return p=p.i.splice(0,T),w.D=p,F}function Of(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;K||b(),ee||(K(),ee=!0),Z.add(w,p),p.v=0}}function bu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ht(v(p.Fa,p),Tu(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Mf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ht(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Pa(this),Mf(this))};function Lo(p){p.A!=null&&(f.clearTimeout(p.A),p.A=null)}function Mf(p){p.g=new Sn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=or(p.qa);_t(w,"RID","rpc"),_t(w,"SID",p.K),_t(w,"AID",p.T),_t(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&_t(w,"TO",p.ja),_t(w,"TYPE","xmlhttp"),Vo(p,w),p.m&&p.o&&mn(w,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=Io(or(w)),T.m=null,T.P=!0,jr(T,p)}t.Za=function(){this.C!=null&&(this.C=null,Pa(this),bu(this),At(19))};function La(p){p.C!=null&&(f.clearTimeout(p.C),p.C=null)}function Pf(p,w){var T=null;if(p.g==w){La(p),Lo(p),p.g=null;var F=2}else if(hu(p.h,w))T=w.D,Fn(p.h,w),F=1;else return;if(p.G!=0){if(w.o)if(F==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var ie=p.B;F=ni(),he(F,new Yt(F,T)),Va(p)}else Of(p);else if(ie=w.s,ie==3||ie==0&&0<w.X||!(F==1&&Hp(p,w)||F==2&&bu(p)))switch(T&&0<T.length&&(w=p.h,w.i=w.i.concat(T)),ie){case 1:Fi(p,5);break;case 4:Fi(p,10);break;case 3:Fi(p,6);break;default:Fi(p,2)}}}function Tu(p,w){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*w}function Fi(p,w){if(p.j.info("Error code "+w),w==2){var T=v(p.fb,p),F=p.Xa;const ie=!F;F=new Zt(F||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ro(F,"https"),Io(F),ie?ko(F.toString(),T):$r(F.toString(),T)}else At(2);p.G=0,p.l&&p.l.sa(w),Vf(p),kf(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Vf(p){if(p.G=0,p.ka=[],p.l){const w=du(p.h);(w.length!=0||p.i.length!=0)&&(D(p.ka,w),D(p.ka,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.ra()}}function Lf(p,w,T){var F=T instanceof Zt?or(T):new Zt(T);if(F.g!="")w&&(F.g=w+"."+F.g),Es(F,F.s);else{var ie=f.location;F=ie.protocol,w=w?w+"."+ie.hostname:ie.hostname,ie=+ie.port;var ue=new Zt(null);F&&Ro(ue,F),w&&(ue.g=w),ie&&Es(ue,ie),T&&(ue.l=T),F=ue}return T=p.D,w=p.ya,T&&w&&_t(F,T,w),_t(F,"VER",p.la),Vo(p,F),F}function Uf(p,w,T){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new ht(new ws({eb:T})):new ht(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zf(){}t=zf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ua(){}Ua.prototype.g=function(p,w){return new Hn(p,w)};function Hn(p,w){te.call(this),this.g=new Ma(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!q(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!q(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new pi(this)}x(Hn,te),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Eu(this.g)},Hn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Mt(p),p=T);w.i.push(new Ca(w.Ya++,p)),w.G==3&&Va(w)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Eu(this.g),delete this.g,Hn.aa.N.call(this)};function Bf(p){wr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const T in w){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}x(Bf,wr);function Ff(){ir.call(this),this.status=1}x(Ff,ir);function pi(p){this.g=p}x(pi,zf),pi.prototype.ua=function(){he(this.g,"a")},pi.prototype.ta=function(p){he(this.g,new Bf(p))},pi.prototype.sa=function(p){he(this.g,new Ff)},pi.prototype.ra=function(){he(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Jx=function(){return new Ua},Zx=function(){return ni()},Wx=br,Jy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,dd=si,Tr.COMPLETE="complete",Qx=Tr,Hr.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",te.prototype.listen=te.prototype.K,Cc=Hr,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Xx=ht}).apply(typeof Wh<"u"?Wh:typeof self<"u"?self:typeof window<"u"?window:{});const $T="@firebase/firestore",GT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new tv("@firebase/firestore");function Sl(){return ha.logLevel}function be(t,...e){if(ha.logLevel<=et.DEBUG){const n=e.map(iv);ha.debug(`Firestore (${tu}): ${t}`,...n)}}function fs(t,...e){if(ha.logLevel<=et.ERROR){const n=e.map(iv);ha.error(`Firestore (${tu}): ${t}`,...n)}}function Gl(t,...e){if(ha.logLevel<=et.WARN){const n=e.map(iv);ha.warn(`Firestore (${tu}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,eC(t,r,n)}function eC(t,e,n){let r=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function dt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||eC(e,s,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class O3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M3{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new ao;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ao,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ao)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new tC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class P3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new P3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=a=>{a.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new YT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new YT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=U3(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function e_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ke(r,s);{const a=nC(),u=z3(a.encode(KT(t,n)),a.encode(KT(e,n)));return u!==0?u:Ke(r,s)}}n+=r>65535?2:1}return Ke(t.length,e.length)}function KT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function z3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ke(t[n],e[n]);return Ke(t.length,e.length)}function Yl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=-62135596800,QT=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QT);return new Dt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<XT)throw new Te(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-XT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Dt(0,0))}static max(){return new je(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__name__";class Ti{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Ti.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ke(e.length,n.length)}static compareSegments(e,n){const r=Ti.isNumericId(e),s=Ti.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ti.extractNumericId(e).compare(Ti.extractNumericId(n)):e_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oo.fromString(e.substring(4,e.length-2))}}class kt extends Ti{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const B3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends Ti{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return B3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WT}static keyField(){return new Nn([WT])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Te(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Te(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Te(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new Te(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(kt.fromString(e))}static fromName(e){return new De(kt.fromString(e).popFirst(5))}static empty(){return new De(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=-1;function F3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new fo(s,De.empty(),e)}function H3(t){return new fo(t.readTime,t.key,Qc)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(je.min(),De.empty(),Qc)}static max(){return new fo(je.max(),De.empty(),Qc)}}function j3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==q3)throw t;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&n()},h=>r(h))}),u=!0,a===s&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(s=>s?ye.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const d=h;n(e[d]).next(m=>{u[d]=m,++f,f===a&&r(u)},m=>s(m))}})}static doWhile(e,n){return new ye((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function G3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}cp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-1;function fp(t){return t==null}function Md(t){return t===0&&1/t==-1/0}function Y3(t){return typeof t=="number"&&Number.isInteger(t)&&!Md(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="";function K3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZT(e)),e=X3(t.get(n),e);return ZT(e)}function X3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case iC:n+="";break;default:n+=a}}return n}function ZT(t){return t+iC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||In.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zh(this.root,e,this.comparator,!0)}}class Zh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??In.RED,this.left=s??In.EMPTY,this.right=a??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new In(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new In(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eS(this.data.getIterator())}getIteratorFrom(e){return new eS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class eS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new hn(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new oC("Invalid base64 string: "+a):a}}(e);return new kn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new kn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const Q3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=Q3.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?kn.fromBase64String(t):kn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="server_timestamp",lC="__type__",uC="__previous_value__",cC="__local_write_time__";function ov(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lC])===null||n===void 0?void 0:n.stringValue)===aC}function hp(t){const e=t.mapValue.fields[uC];return ov(e)?hp(e):e}function Wc(t){const e=ho(t.mapValue.fields[cC].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,s,a,u,f,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Pd="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Pd}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="__type__",Z3="__max__",Jh={mapValue:{}},hC="__vector__",Vd="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:eL(t)?9007199254740991:J3(t)?10:11:Le(28295,{value:t})}function Ni(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ho(s.timestampValue),f=ho(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return po(s.bytesValue).isEqual(po(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Qt(s.geoPointValue.latitude)===Qt(a.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Qt(s.integerValue)===Qt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Qt(s.doubleValue),f=Qt(a.doubleValue);return u===f?Md(u)===Md(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return Yl(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(JT(u)!==JT(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ni(u[h],f[h])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function Jc(t,e){return(t.values||[]).find(n=>Ni(n,e))!==void 0}function Kl(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Qt(a.integerValue||a.doubleValue),h=Qt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(t,e);case 3:return tS(t.timestampValue,e.timestampValue);case 4:return tS(Wc(t),Wc(e));case 5:return e_(t.stringValue,e.stringValue);case 6:return function(a,u){const f=po(a),h=po(u);return f.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let d=0;d<f.length&&d<h.length;d++){const m=Ke(f[d],h[d]);if(m!==0)return m}return Ke(f.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ke(Qt(a.latitude),Qt(u.latitude));return f!==0?f:Ke(Qt(a.longitude),Qt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nS(t.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,d,m;const _=a.fields||{},v=u.fields||{},E=(f=_[Vd])===null||f===void 0?void 0:f.arrayValue,x=(h=v[Vd])===null||h===void 0?void 0:h.arrayValue,I=Ke(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((m=x?.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:nS(E,x)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Jh.mapValue&&u===Jh.mapValue)return 0;if(a===Jh.mapValue)return 1;if(u===Jh.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),d=u.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const v=e_(h[_],m[_]);if(v!==0)return v;const E=Kl(f[h[_]],d[m[_]]);if(E!==0)return E}return Ke(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{Pe:n})}}function tS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=ho(t),r=ho(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function nS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Kl(n[s],r[s]);if(a)return a}return Ke(n.length,r.length)}function Xl(t){return t_(t)}function t_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=t_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${t_(n.fields[u])}`;return s+"}"}(t.mapValue):Le(61005,{value:t})}function pd(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hp(t);return e?16+pd(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+pd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return _o(r.fields,(a,u)=>{s+=a.length+pd(u)}),s}(t.mapValue);default:throw Le(13486,{value:t})}}function rS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function n_(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function iS(t){return!!t&&"nullValue"in t}function sS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function md(t){return!!t&&"mapValue"in t}function J3(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fC])===null||n===void 0?void 0:n.stringValue)===hC}function Dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Z3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(n)}setAll(e){let n=Nn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=f.popLast()}u?r[f.lastSegment()]=Dc(u):s.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];md(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Jn(Dc(this.value))}}function dC(t){const e=[];return _o(t.fields,(n,r)=>{const s=new Nn([n]);if(md(r)){const a=dC(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,s,a,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Vn(e,0,je.min(),je.min(),je.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,s){return new Vn(e,1,n,je.min(),r,s,0)}static newNoDocument(e,n){return new Vn(e,2,n,je.min(),je.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,je.min(),je.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function oS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=De.comparator(De.fromName(u.referenceValue),n.key):r=Kl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function aS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n="asc"){this.field=e,this.dir=n}}function tL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{}class rn extends pC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rL(e,n,r):n==="array-contains"?new oL(e,r):n==="in"?new aL(e,r):n==="not-in"?new lL(e,r):n==="array-contains-any"?new uL(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iL(e,r):new sL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kl(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends pC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Zr(e,n)}matches(e){return mC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mC(t){return t.op==="and"}function gC(t){return nL(t)&&mC(t)}function nL(t){for(const e of t.filters)if(e instanceof Zr)return!1;return!0}function r_(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(gC(t))return t.filters.map(e=>r_(e)).join(",");{const e=t.filters.map(n=>r_(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&Ni(r.value,s.value)}(t,e):t instanceof Zr?function(r,s){return s instanceof Zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&yC(u,s.filters[f]),!0):!1}(t,e):void Le(19439)}function _C(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`}(t):t instanceof Zr?function(n){return n.op.toString()+" {"+n.getFilters().map(_C).join(" ,")+"}"}(t):"Filter"}class rL extends rn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class iL extends rn{constructor(e,n){super(e,"in",n),this.keys=vC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sL extends rn{constructor(e,n){super(e,"not-in",n),this.keys=vC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class oL extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return av(n)&&Jc(n.arrayValue,this.value)}}class aL extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jc(this.value.arrayValue,n)}}class lL extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Jc(this.value.arrayValue,n)}}class uL extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Ie=null}}function lS(t,e=null,n=[],r=[],s=null,a=null,u=null){return new cL(t,e,n,r,s,a,u)}function lv(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>r_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.Ie=n}return e.Ie}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aS(t.startAt,e.startAt)&&aS(t.endAt,e.endAt)}function i_(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n=null,r=[],s=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function fL(t,e,n,r,s,a,u,f){return new iu(t,e,n,r,s,a,u,f)}function EC(t){return new iu(t)}function uS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wC(t){return t.collectionGroup!==null}function Oc(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new hn(Nn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(f=f.add(d.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ef(a,r))}),n.has(Nn.keyField().canonicalString())||e.Ee.push(new ef(Nn.keyField(),r))}return e.Ee}function xi(t){const e=qe(t);return e.de||(e.de=hL(e,Oc(t))),e.de}function hL(t,e){if(t.limitType==="F")return lS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new ef(s.field,a)});const n=t.endAt?new Ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ld(t.startAt.position,t.startAt.inclusive):null;return lS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function s_(t,e){const n=t.filters.concat([e]);return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o_(t,e,n){return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dp(t,e){return uv(xi(t),xi(e))&&t.limitType===e.limitType}function bC(t){return`${lv(xi(t))}|lt:${t.limitType}`}function Al(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>_C(s)).join(", ")}]`),fp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xl(s)).join(",")),`Target(${r})`}(xi(t))}; limitType=${t.limitType})`}function pp(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Oc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,f,h){const d=oS(u,f,h);return u.inclusive?d<=0:d<0}(r.startAt,Oc(r),s)||r.endAt&&!function(u,f,h){const d=oS(u,f,h);return u.inclusive?d>=0:d>0}(r.endAt,Oc(r),s))}(t,e)}function dL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,n)=>{let r=!1;for(const s of Oc(t)){const a=pL(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function pL(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(a,u,f){const h=u.data.field(a),d=f.data.field(a);return h!==null&&d!==null?Kl(h,d):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return sC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=new Bt(De.comparator);function hs(){return mL}const SC=new Bt(De.comparator);function Rc(...t){let e=SC;for(const n of t)e=e.insert(n.key,n);return e}function AC(t){let e=SC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oa(){return Mc()}function xC(){return Mc()}function Mc(){return new _a(t=>t.toString(),(t,e)=>t.isEqual(e))}const gL=new Bt(De.comparator),yL=new hn(De.comparator);function tt(...t){let e=yL;for(const n of t)e=e.add(n);return e}const _L=new hn(Ke);function vL(){return _L}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Md(e)?"-0":e}}function CC(t){return{integerValue:""+t}}function EL(t,e){return Y3(e)?CC(e):cv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this._=void 0}}function wL(t,e,n){return t instanceof Ud?function(s,a){const u={fields:{[lC]:{stringValue:aC},[cC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ov(a)&&(a=hp(a)),a&&(u.fields[uC]=a),{mapValue:u}}(n,e):t instanceof tf?IC(t,e):t instanceof nf?NC(t,e):function(s,a){const u=RC(s,a),f=cS(u)+cS(s.Re);return n_(u)&&n_(s.Re)?CC(f):cv(s.serializer,f)}(t,e)}function bL(t,e,n){return t instanceof tf?IC(t,e):t instanceof nf?NC(t,e):n}function RC(t,e){return t instanceof zd?function(r){return n_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ud extends mp{}class tf extends mp{constructor(e){super(),this.elements=e}}function IC(t,e){const n=kC(e);for(const r of t.elements)n.some(s=>Ni(s,r))||n.push(r);return{arrayValue:{values:n}}}class nf extends mp{constructor(e){super(),this.elements=e}}function NC(t,e){let n=kC(e);for(const r of t.elements)n=n.filter(s=>!Ni(s,r));return{arrayValue:{values:n}}}class zd extends mp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function cS(t){return Qt(t.integerValue||t.doubleValue)}function kC(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof tf&&s instanceof tf||r instanceof nf&&s instanceof nf?Yl(r.elements,s.elements,Ni):r instanceof zd&&s instanceof zd?Ni(r.Re,s.Re):r instanceof Ud&&s instanceof Ud}(t.transform,e.transform)}class SL{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gp{}function DC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yp(t.key,yr.none()):new pf(t.key,t.data,yr.none());{const n=t.data,r=Jn.empty();let s=new hn(Nn.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new vo(t.key,r,new mr(s.toArray()),yr.none())}}function AL(t,e,n){t instanceof pf?function(s,a,u){const f=s.value.clone(),h=hS(s.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(s,a,u){if(!gd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=hS(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(OC(s)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Pc(t,e,n,r){return t instanceof pf?function(a,u,f,h){if(!gd(a.precondition,u))return f;const d=a.value.clone(),m=dS(a.fieldTransforms,h,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(a,u,f,h){if(!gd(a.precondition,u))return f;const d=dS(a.fieldTransforms,h,u),m=u.data;return m.setAll(OC(a)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,u,f){return gd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function xL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=RC(r.transform,s||null);a!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,a))}return n||null}function fS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yl(r,s,(a,u)=>TL(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pf extends gp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends gp{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function OC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hS(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,bL(u,f,n[s]))}return r}function dS(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,wL(a,u,e))}return r}class yp extends gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CL extends gp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&AL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xC();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(s.key)?null:f;const h=DC(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&Yl(this.mutations,e.mutations,(n,r)=>fS(n,r))&&Yl(this.baseMutations,e.baseMutations,(n,r)=>fS(n,r))}}class fv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){dt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return gL}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new fv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,st;function kL(t){switch(t){case ge.OK:return Le(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function MC(t){if(t===void 0)return fs("GRPC error has no .code"),ge.UNKNOWN;switch(t){case tn.OK:return ge.OK;case tn.CANCELLED:return ge.CANCELLED;case tn.UNKNOWN:return ge.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ge.INTERNAL;case tn.UNAVAILABLE:return ge.UNAVAILABLE;case tn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case tn.NOT_FOUND:return ge.NOT_FOUND;case tn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case tn.ABORTED:return ge.ABORTED;case tn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case tn.DATA_LOSS:return ge.DATA_LOSS;default:return Le(39323,{code:t})}}(st=tn||(tn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=new oo([4294967295,4294967295],0);function pS(t){const e=nC().encode(t),n=new Kx;return n.update(e),new Uint8Array(n.digest())}function mS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new oo([n,r],0),new oo([s,a],0)]}class hv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=oo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(oo.fromNumber(r)));return s.compare(DL)===1&&(s=new oo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=pS(e),[r,s]=mS(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new hv(a,s,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=pS(e),[r,s]=mS(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _p(je.min(),s,new Bt(Ke),hs(),tt())}}class mf{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mf(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class PC{constructor(e,n){this.targetId=e,this.Ce=n}}class VC{constructor(e,n,r=kn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class gS{constructor(){this.Fe=0,this.Me=yS(),this.xe=kn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),n=tt(),r=tt();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Le(38017,{changeType:a})}}),new mf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=yS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class OL{constructor(e){this.ze=e,this.je=new Map,this.He=hs(),this.Je=ed(),this.Ye=ed(),this.Ze=new Bt(Ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(i_(a))if(r===0){const u=new De(a.path);this.tt(n,u,Vn.newNoDocument(u,je.min()))}else dt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const f=this.ct(e),h=f?this.lt(f,e,u):1;if(h!==0){this.st(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,f;try{u=po(r).toUint8Array()}catch(h){if(h instanceof oC)return Gl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new hv(u,s,a)}catch(h){return Gl(h instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,u)=>{const f=this._t(u);if(f){if(a.current&&i_(f.target)){const h=new De(f.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,Vn.newNoDocument(h,e))}a.Le&&(n.set(u,a.qe()),a.Qe())}});let r=tt();this.Ye.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new _p(e,n,this.Ze,this.He,r);return this.He=hs(),this.Je=ed(),this.Ye=ed(),this.Ze=new Bt(Ke),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new gS,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new hn(Ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new hn(Ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gS),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ed(){return new Bt(De.comparator)}function yS(){return new Bt(De.comparator)}const ML={asc:"ASCENDING",desc:"DESCENDING"},PL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VL={and:"AND",or:"OR"};class LL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function a_(t,e){return t.useProto3Json||fp(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UL(t,e){return Bd(t,e.toTimestamp())}function Ci(t){return dt(!!t,49232),je.fromTimestamp(function(n){const r=ho(n);return new Dt(r.seconds,r.nanos)}(t))}function dv(t,e){return l_(t,e).canonicalString()}function l_(t,e){const n=function(s){return new kt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UC(t){const e=kt.fromString(t);return dt(jC(e),10190,{key:e.toString()}),e}function u_(t,e){return dv(t.databaseId,e.path)}function ry(t,e){const n=UC(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(BC(n))}function zC(t,e){return dv(t.databaseId,e)}function zL(t){const e=UC(t);return e.length===4?kt.emptyPath():BC(e)}function c_(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BC(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _S(t,e,n){return{name:u_(t,e),fields:n.value.mapValue.fields}}function BL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(d,m){return d.useProto3Json?(dt(m===void 0||typeof m=="string",58123),kn.fromBase64String(m||"")):(dt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),kn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(d){const m=d.code===void 0?ge.UNKNOWN:MC(d.code);return new Te(m,d.message||"")}(u);n=new VC(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ry(t,r.document.name),a=Ci(r.document.updateTime),u=r.document.createTime?Ci(r.document.createTime):je.min(),f=new Jn({mapValue:{fields:r.document.fields}}),h=Vn.newFoundDocument(s,a,u,f),d=r.targetIds||[],m=r.removedTargetIds||[];n=new yd(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ry(t,r.document),a=r.readTime?Ci(r.readTime):je.min(),u=Vn.newNoDocument(s,a),f=r.removedTargetIds||[];n=new yd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ry(t,r.document),a=r.removedTargetIds||[];n=new yd([],a,s,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new NL(s,a),f=r.targetId;n=new PC(f,u)}}return n}function FL(t,e){let n;if(e instanceof pf)n={update:_S(t,e.key,e.value)};else if(e instanceof yp)n={delete:u_(t,e.key)};else if(e instanceof vo)n={update:_S(t,e.key,e.data),updateMask:QL(e.fieldMask)};else{if(!(e instanceof CL))return Le(16599,{ft:e.type});n={verify:u_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof tf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof nf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zd)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Le(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:UL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)}(t,e.precondition)),n}function HL(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(s,a){let u=s.updateTime?Ci(s.updateTime):Ci(a);return u.isEqual(je.min())&&(u=Ci(a)),new SL(u,s.transformResults||[])}(n,e))):[]}function jL(t,e){return{documents:[zC(t,e.path)]}}function qL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zC(t,s);const a=function(d){if(d.length!==0)return HC(Zr.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:xl(v.field),direction:YL(v.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=a_(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function $L(t){let e=zL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){dt(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(_){const v=FC(_);return v instanceof Zr&&gC(v)?v.getFilters():[v]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(v=>function(x){return new ef(Cl(x.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(n.orderBy));let f=null;n.limit&&(f=function(_){let v;return v=typeof _=="object"?_.value:_,fp(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(_){const v=!!_.before,E=_.values||[];return new Ld(E,v)}(n.startAt));let d=null;return n.endAt&&(d=function(_){const v=!_.before,E=_.values||[];return new Ld(E,v)}(n.endAt)),fL(e,s,u,a,f,"F",h,d)}function GL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cl(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Cl(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Cl(n.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Cl(n.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(Cl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zr.create(n.compositeFilter.filters.map(r=>FC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function YL(t){return ML[t]}function KL(t){return PL[t]}function XL(t){return VL[t]}function xl(t){return{fieldPath:t.canonicalString()}}function Cl(t){return Nn.fromServerFormat(t.fieldPath)}function HC(t){return t instanceof rn?function(n){if(n.op==="=="){if(sS(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NAN"}};if(iS(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sS(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NAN"}};if(iS(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(n.field),op:KL(n.op),value:n.value}}}(t):t instanceof Zr?function(n){const r=n.getFilters().map(s=>HC(s));return r.length===1?r[0]:{compositeFilter:{op:XL(n.op),filters:r}}}(t):Le(54877,{filter:t})}function QL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r,s,a=je.min(),u=je.min(),f=kn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.wt=e}}function ZL(t){const e=$L({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?o_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.Cn=new e6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(fo.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class e6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new hn(kt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new hn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qC=41943040;class Zn{static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(qC,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ql(0)}static lr(){return new Ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="LruGarbageCollector",t6=1048576;function wS([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class n6{constructor(e){this.Er=e,this.buffer=new hn(wS),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){be(ES,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ru(n)?be(ES,"Ignoring IndexedDB error during garbage collection: ",n):await nu(n)}await this.mr(3e5)})}}class i6{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(cp.le);const r=new n6(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(vS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,a,u,f,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),Sl()<=et.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function s6(t,e){return new i6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Pc(r.mutation,s,mr.empty(),Dt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const s=oa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=Rc();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,s){let a=hs();const u=Mc(),f=function(){return Mc()}();return n.forEach((h,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof vo)?a=a.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),Pc(m.mutation,d,m.mutation.getFieldMask(),Dt.now())):u.set(d.key,mr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,m)=>u.set(d,m)),n.forEach((d,m)=>{var _;return f.set(d,new a6(m,(_=u.get(d))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Mc();let s=new Bt((u,f)=>u-f),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||mr.empty();m=f.applyToLocalView(d,m),r.set(h,m);const _=(s.get(f.batchId)||tt()).add(h);s=s.insert(f.batchId,_)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,m=h.value,_=xC();m.forEach(v=>{if(!a.has(v)){const E=DC(n.get(v),r.get(v));E!==null&&_.set(v,E),a=a.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return ye.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ye.resolve(oa());let f=Qc,h=a;return u.next(d=>ye.forEach(d,(m,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(m)?ye.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,tt())).next(m=>({batchId:f,changes:AC(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let s=Rc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=Rc();return this.indexManager.getCollectionParents(e,a).next(f=>ye.forEach(f,h=>{const d=function(_,v){return new iu(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(m=>{m.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(u=>{a.forEach((h,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,Vn.newInvalidDocument(m)))});let f=Rc();return u.forEach((h,d)=>{const m=a.get(h);m!==void 0&&Pc(m.mutation,d,mr.empty(),Dt.now()),pp(n,d)&&(f=f.insert(h,d))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ye.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ci(s.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:ZL(s.bundledQuery),readTime:Ci(s.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.overlays=new Bt(De.comparator),this.Qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return ye.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const s=oa(),a=n.length+1,u=new De(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Bt((d,m)=>d-m);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=a.get(d.largestBatchId);m===null&&(m=oa(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const f=oa(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>f.set(d,m)),!(f.size()>=s)););return ye.resolve(f)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new IL(n,r));let a=this.Qr.get(n);a===void 0&&(a=tt(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.$r=new hn(En.Ur),this.Kr=new hn(En.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new En(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new En(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new De(new kt([])),r=new En(n,e),s=new En(n,e+1),a=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new De(new kt([])),r=new En(n,e),s=new En(n,e+1);let a=tt();return this.Kr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new En(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return De.comparator(e.key,n.key)||Ke(e.Zr,n.Zr)}static Wr(e,n){return Ke(e.Zr,n.Zr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new hn(En.Ur)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RL(a,n,r,s);this.mutationQueue.push(u);for(const f of s)this.Xr=this.Xr.add(new En(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,n){return ye.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),a=s<0?0:s;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?sv:this.nr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),s=new En(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],u=>{const f=this.ei(u.Zr);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Ke);return n.forEach(s=>{const a=new En(s,0),u=new En(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],f=>{r=r.add(f.Zr)})}),ye.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const u=new En(new De(a),0);let f=new hn(Ke);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(f=f.add(h.Zr)),!0)},u),ye.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){dt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ye.forEach(n.mutations,s=>{const a=new En(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new En(n,0),s=this.Xr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.ii=e,this.docs=function(){return new Bt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Vn.newInvalidDocument(s))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=hs();const u=n.path,f=new De(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||j3(H3(m),r)<=0||(s.has(m.key)||pp(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Le(9500)}si(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new p6(this)}getSize(e){return ye.resolve(this.size)}}class p6 extends o6{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.persistence=e,this.oi=new _a(n=>lv(n),uv),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this._i=0,this.ai=new pv,this.targetCount=0,this.ui=Ql.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ye.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ql(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Tr(n),ye.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ye.waitFor(a).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.ci={},this.overlays={},this.li=new cp(0),this.hi=!1,this.hi=!0,this.Pi=new f6,this.referenceDelegate=e(this),this.Ti=new m6(this),this.indexManager=new JL,this.remoteDocumentCache=function(s){return new d6(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new WL(n),this.Ei=new u6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new h6(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const s=new g6(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,n){return ye.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class g6 extends $3{constructor(e){super(),this.currentSequenceNumber=e}}class mv{constructor(e){this.persistence=e,this.Vi=new pv,this.mi=null}static fi(e){return new mv(e)}get gi(){if(this.mi)return this.mi;throw Le(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.gi,r=>{const s=De.fromPath(r);return this.pi(e,s).next(a=>{a||n.removeEntry(s,je.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ye.or([()=>ye.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Fd{constructor(e,n){this.persistence=e,this.yi=new _a(r=>K3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=s6(this,n)}static fi(e,n){return new Fd(e,n)}di(){}Ai(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ye.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?ye.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(f=>{f||(r++,a.removeEntry(u,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pd(e.data.value)),n}Dr(e,n,r){return ye.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return ye.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=tt(),s=tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new gv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return hV()?8:G3(Un())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ws(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,n,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new y6;return this.Ss(e,n,u).next(f=>{if(a.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>a.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Sl()<=et.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ye.resolve()):(Sl()<=et.DEBUG&&be("QueryEngine","Query:",Al(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Sl()<=et.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):ye.resolve())}ws(e,n){if(uS(n))return ye.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=o_(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=tt(...a);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.vs(n,f);return this.Cs(n,d,u,h.readTime)?this.ws(e,o_(n,null,"F")):this.Fs(e,d,n,h)}))})))}bs(e,n,r,s){return uS(n)||s.isEqual(je.min())?ye.resolve(null):this.ys.getDocuments(e,r).next(a=>{const u=this.vs(n,a);return this.Cs(n,u,r,s)?ye.resolve(null):(Sl()<=et.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Al(n)),this.Fs(e,u,n,F3(s,Qc)).next(f=>f))})}vs(e,n){let r=new hn(TC(e));return n.forEach((s,a)=>{pp(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Sl()<=et.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Al(n)),this.ys.getDocumentsMatchingQuery(e,n,fo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="LocalStore",v6=3e8;class E6{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Bt(Ke),this.Os=new _a(a=>lv(a),uv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function w6(t,e,n,r){return new E6(t,e,n,r)}async function GC(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=tt();for(const d of s){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of a){f.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:f}))})})}function b6(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,h,d,m){const _=d.batch,v=_.keys();let E=ye.resolve();return v.forEach(x=>{E=E.next(()=>m.getEntry(h,x)).next(I=>{const D=d.docVersions.get(x);dt(D!==null,48541),I.version.compareTo(D)<0&&(_.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),m.addEntry(I)))})}),E.next(()=>f.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=tt();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function YC(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function T6(t,e){const n=qe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const f=[];e.targetChanges.forEach((m,_)=>{const v=s.get(_);if(!v)return;f.push(n.Ti.removeMatchingKeys(a,m.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(a,m.addedDocuments,_)));let E=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(kn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(_,E),function(I,D,P){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=v6?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(v,E,m)&&f.push(n.Ti.updateTargetData(a,E))});let h=hs(),d=tt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),f.push(S6(a,u,e.documentUpdates).next(m=>{h=m.qs,d=m.Qs})),!r.isEqual(je.min())){const m=n.Ti.getLastRemoteSnapshotVersion(a).next(_=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(m)}return ye.waitFor(f).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(n.xs=s,a))}function S6(t,e,n){let r=tt(),s=tt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=hs();return n.forEach((f,h)=>{const d=a.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):be(yv,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)}),{qs:u,Qs:s}})}function A6(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function x6(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(a=>a?(s=a,ye.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new eo(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function f_(t,e,n){const r=qe(t),s=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ru(u))throw u;be(yv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function bS(t,e,n){const r=qe(t);let s=je.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,d,m){const _=qe(h),v=_.Os.get(m);return v!==void 0?ye.resolve(_.xs.get(v)):_.Ti.getTargetData(d,m)}(r,u,xi(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:je.min(),n?a:tt())).next(f=>(C6(r,dL(e),f),{documents:f,$s:a})))}function C6(t,e,n){let r=t.Ns.get(e)||je.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class TS{constructor(){this.activeTargetIds=vL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R6{constructor(){this.xo=new TS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new TS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="ConnectivityMonitor";class AS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){be(SS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){be(SS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function h_(){return td===null?td=function(){return 268435456+Math.round(2147483648*Math.random())}():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="RestConnection",N6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Pd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,a){const u=h_(),f=this.jo(e,n.toUriEncodedString());be(iy,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(f),m=Jl(d);return this.Jo(e,f,h,r,m).then(_=>(be(iy,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Gl(iy,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,s,a,u){return this.zo(e,n,r,s,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,n){const r=N6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class O6 extends k6{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const u=h_();return new Promise((f,h)=>{const d=new Xx;d.setWithCredentials(!0),d.listenOnce(Qx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case dd.NO_ERROR:const _=d.getResponseJson();be(Mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case dd.TIMEOUT:be(Mn,`RPC '${e}' ${u} timed out`),h(new Te(ge.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const v=d.getStatus();if(be(Mn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E?.error;if(x&&x.status&&x.message){const I=function(P){const q=P.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(q)>=0?q:ge.UNKNOWN}(x.status);h(new Te(I,x.message))}else h(new Te(ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Te(ge.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{h_:e,streamId:u,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{be(Mn,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);be(Mn,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",m,r,15)})}I_(e,n,r){const s=h_(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Jx(),f=Zx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=a.join("");be(Mn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const _=u.createWebChannel(m,h);this.E_(_);let v=!1,E=!1;const x=new D6({Zo:D=>{E?be(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(v||(be(Mn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),v=!0),be(Mn,`RPC '${e}' stream ${s} sending:`,D),_.send(D))},Xo:()=>_.close()}),I=(D,P,q)=>{D.listen(P,$=>{try{q($)}catch(H){setTimeout(()=>{throw H},0)}})};return I(_,Cc.EventType.OPEN,()=>{E||(be(Mn,`RPC '${e}' stream ${s} transport opened.`),x.__())}),I(_,Cc.EventType.CLOSE,()=>{E||(E=!0,be(Mn,`RPC '${e}' stream ${s} transport closed`),x.u_(),this.d_(_))}),I(_,Cc.EventType.ERROR,D=>{E||(E=!0,Gl(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),x.u_(new Te(ge.UNAVAILABLE,"The operation could not be completed")))}),I(_,Cc.EventType.MESSAGE,D=>{var P;if(!E){const q=D.data[0];dt(!!q,16349);const $=q,H=$?.error||((P=$[0])===null||P===void 0?void 0:P.error);if(H){be(Mn,`RPC '${e}' stream ${s} received error:`,H);const X=H.status;let j=function(R){const M=tn[R];if(M!==void 0)return MC(M)}(X),U=H.message;j===void 0&&(j=ge.INTERNAL,U="Unknown error status: "+X+" with message "+H.message),E=!0,x.u_(new Te(j,U)),_.close()}else be(Mn,`RPC '${e}' stream ${s} received:`,q),x.c_(q)}}),I(f,Wx.STAT_EVENT,D=>{D.stat===Jy.PROXY?be(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Jy.NOPROXY&&be(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){return new LL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="PersistentStream";class XC{constructor(e,n,r,s,a,u,f,h){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new KC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Te(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return be(xS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(be(xS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M6 extends XC{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=BL(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?Ci(u.readTime):je.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=c_(this.serializer),n.addTarget=function(a,u){let f;const h=u.target;if(f=i_(h)?{documents:jL(a,h)}:{query:qL(a,h).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=LC(a,u.resumeToken);const d=a_(a,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Bd(a,u.snapshotVersion.toTimestamp());const d=a_(a,u.expectedCount);d!==null&&(f.expectedCount=d)}return f}(this.serializer,e);const r=GL(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=c_(this.serializer),n.removeTarget=e,this.Q_(n)}}class P6 extends XC{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=HL(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=c_(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FL(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{}class L6 extends V6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Te(ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,l_(n,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ge.UNKNOWN,a.toString())})}Yo(e,n,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,l_(n,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(ge.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class U6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(fs(n),this.ua=!1):be("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class z6{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{r.enqueueAndForget(async()=>{va(this)&&(be(da,"Restarting streams for network reachability change."),await async function(h){const d=qe(h);d.da.add(4),await gf(d),d.Va.set("Unknown"),d.da.delete(4),await Ep(d)}(this))})}),this.Va=new U6(r,s)}}async function Ep(t){if(va(t))for(const e of t.Aa)await e(!0)}async function gf(t){for(const e of t.Aa)await e(!1)}function QC(t,e){const n=qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),wv(n)?Ev(n):su(n).N_()&&vv(n,e))}function _v(t,e){const n=qe(t),r=su(n);n.Ea.delete(e),r.N_()&&WC(n,e),n.Ea.size===0&&(r.N_()?r.k_():va(n)&&n.Va.set("Unknown"))}function vv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).Z_(e)}function WC(t,e){t.ma.Ke(e),su(t).X_(e)}function Ev(t){t.ma=new OL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),su(t).start(),t.Va.ca()}function wv(t){return va(t)&&!su(t).O_()&&t.Ea.size>0}function va(t){return qe(t).da.size===0}function ZC(t){t.ma=void 0}async function B6(t){t.Va.set("Online")}async function F6(t){t.Ea.forEach((e,n)=>{vv(t,e)})}async function H6(t,e){ZC(t),wv(t)?(t.Va.Pa(e),Ev(t)):t.Va.set("Unknown")}async function j6(t,e,n){if(t.Va.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s.Ea.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ea.delete(f),s.ma.removeTarget(f))}(t,e)}catch(r){be(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hd(t,r)}else if(e instanceof yd?t.ma.Xe(e):e instanceof PC?t.ma.ot(e):t.ma.nt(e),!n.isEqual(je.min()))try{const r=await YC(t.localStore);n.compareTo(r)>=0&&await function(a,u){const f=a.ma.It(u);return f.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ea.get(d);m&&a.Ea.set(d,m.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,d)=>{const m=a.Ea.get(h);if(!m)return;a.Ea.set(h,m.withResumeToken(kn.EMPTY_BYTE_STRING,m.snapshotVersion)),WC(a,h);const _=new eo(m.target,h,d,m.sequenceNumber);vv(a,_)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){be(da,"Failed to raise snapshot:",r),await Hd(t,r)}}async function Hd(t,e,n){if(!ru(e))throw e;t.da.add(1),await gf(t),t.Va.set("Offline"),n||(n=()=>YC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{be(da,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Ep(t)})}function JC(t,e){return e().catch(n=>Hd(t,n,e))}async function wp(t){const e=qe(t),n=go(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:sv;for(;q6(e);)try{const s=await A6(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,$6(e,s)}catch(s){await Hd(e,s)}eR(e)&&tR(e)}function q6(t){return va(t)&&t.Ia.length<10}function $6(t,e){t.Ia.push(e);const n=go(t);n.N_()&&n.ea&&n.ta(e.mutations)}function eR(t){return va(t)&&!go(t).O_()&&t.Ia.length>0}function tR(t){go(t).start()}async function G6(t){go(t).ia()}async function Y6(t){const e=go(t);for(const n of t.Ia)e.ta(n.mutations)}async function K6(t,e,n){const r=t.Ia.shift(),s=fv.from(r,e,n);await JC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await wp(t)}async function X6(t,e){e&&go(t).ea&&await async function(r,s){if(function(u){return kL(u)&&u!==ge.ABORTED}(s.code)){const a=r.Ia.shift();go(r).L_(),await JC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await wp(r)}}(t,e),eR(t)&&tR(t)}async function CS(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),be(da,"RemoteStore received new credentials");const r=va(n);n.da.add(3),await gf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Ep(n)}async function Q6(t,e){const n=qe(t);e?(n.da.delete(2),await Ep(n)):e||(n.da.add(2),await gf(n),n.Va.set("Unknown"))}function su(t){return t.fa||(t.fa=function(n,r,s){const a=qe(n);return a.oa(),new M6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:B6.bind(null,t),n_:F6.bind(null,t),i_:H6.bind(null,t),Y_:j6.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),wv(t)?Ev(t):t.Va.set("Unknown")):(await t.fa.stop(),ZC(t))})),t.fa}function go(t){return t.ga||(t.ga=function(n,r,s){const a=qe(n);return a.oa(),new P6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:G6.bind(null,t),i_:X6.bind(null,t),na:Y6.bind(null,t),ra:K6.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await wp(t)):(await t.ga.stop(),t.Ia.length>0&&(be(da,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ao,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,f=new bv(e,n,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(t,e){if(fs("AsyncQueue",`${e}: ${t}`),ru(t))return new Te(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Rc(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.pa=new Bt(De.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wl{constructor(e,n,r,s,a,u,f,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Wl(e,n,Pl.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Z6{constructor(){this.queries=IS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=qe(n),a=s.queries;s.queries=IS(),a.forEach((u,f)=>{for(const h of f.Sa)h.onError(r)})})(this,new Te(ge.ABORTED,"Firestore shutting down"))}}function IS(){return new _a(t=>bC(t),dp)}async function J6(t,e){const n=qe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new W6,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(s,!0);break;case 1:a.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=Tv(u,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&Sv(n)}async function e9(t,e){const n=qe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t9(t,e){const n=qe(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const f of u.Sa)f.Ma(s)&&(r=!0);u.ba=s}}r&&Sv(n)}function n9(t,e,n){const r=qe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Sv(t){t.Ca.forEach(e=>{e.next()})}var d_,NS;(NS=d_||(d_={})).xa="default",NS.Cache="cache";class r9{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==d_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.key=e}}class rR{constructor(e){this.key=e}}class i9{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.Za=TC(e),this.Xa=new Pl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new RS,s=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,_)=>{const v=s.get(m),E=pp(this.query,_)?_:null,x=!!v&&this.mutatedKeys.has(v.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;v&&E?v.data.isEqual(E.data)?x!==I&&(r.track({type:3,doc:E}),D=!0):this.ru(v,E)||(r.track({type:2,doc:E}),D=!0,(h&&this.Za(E,h)>0||d&&this.Za(E,d)<0)&&(f=!0)):!v&&E?(r.track({type:0,doc:E}),D=!0):v&&!E&&(r.track({type:1,doc:v}),D=!0,(h||d)&&(f=!0)),D&&(E?(u=u.add(E),a=I?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:u,nu:r,Cs:f,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((m,_)=>function(E,x){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:D})}};return I(E)-I(x)}(m.type,_.type)||this.Za(m.doc,_.doc)),this.iu(r),s=s!=null&&s;const f=n&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,u.length!==0||d?{snapshot:new Wl(this.query,e.Xa,a,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new RS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new rR(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new nR(r))}),n}au(e){this.Ha=e.$s,this.Ya=tt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Wl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Av="SyncEngine";class s9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o9{constructor(e){this.key=e,this.cu=!1}}class a9{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new _a(f=>bC(f),dp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Bt(De.comparator),this.Eu=new Map,this.du=new pv,this.Au={},this.Ru=new Map,this.Vu=Ql.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function l9(t,e,n=!0){const r=uR(t);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await iR(r,e,n,!0),s}async function u9(t,e){const n=uR(t);await iR(n,e,!0,!1)}async function iR(t,e,n,r){const s=await x6(t.localStore,xi(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return r&&(f=await c9(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&QC(t.remoteStore,s),f}async function c9(t,e,n,r,s){t.fu=(_,v,E)=>async function(I,D,P,q){let $=D.view.tu(P);$.Cs&&($=await bS(I.localStore,D.query,!1).then(({documents:U})=>D.view.tu(U,$)));const H=q&&q.targetChanges.get(D.targetId),X=q&&q.targetMismatches.get(D.targetId)!=null,j=D.view.applyChanges($,I.isPrimaryClient,H,X);return DS(I,D.targetId,j.ou),j.snapshot}(t,_,v,E);const a=await bS(t.localStore,e,!0),u=new i9(e,a.$s),f=u.tu(a.documents),h=mf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(f,t.isPrimaryClient,h);DS(t,n,d.ou);const m=new s9(e,n,u);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function f9(t,e,n){const r=qe(t),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(u=>!dp(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await f_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_v(r.remoteStore,s.targetId),p_(r,s.targetId)}).catch(nu)):(p_(r,s.targetId),await f_(r.localStore,s.targetId,!0))}async function h9(t,e){const n=qe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_v(n.remoteStore,r.targetId))}async function d9(t,e,n){const r=E9(t);try{const s=await function(u,f){const h=qe(u),d=Dt.now(),m=f.reduce((E,x)=>E.add(x.key),tt());let _,v;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=hs(),I=tt();return h.Bs.getEntries(E,m).next(D=>{x=D,x.forEach((P,q)=>{q.isValidDocument()||(I=I.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,x)).next(D=>{_=D;const P=[];for(const q of f){const $=xL(q,_.get(q.key).overlayedDocument);$!=null&&P.push(new vo(q.key,$,dC($.value.mapValue),yr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,P,f)}).next(D=>{v=D;const P=D.applyToLocalDocumentSet(_,I);return h.documentOverlayCache.saveOverlays(E,D.batchId,P)})}).then(()=>({batchId:v.batchId,changes:AC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,h){let d=u.Au[u.currentUser.toKey()];d||(d=new Bt(Ke)),d=d.insert(f,h),u.Au[u.currentUser.toKey()]=d}(r,s.batchId,n),await yf(r,s.changes),await wp(r.remoteStore)}catch(s){const a=Tv(s,"Failed to persist write");n.reject(a)}}async function sR(t,e){const n=qe(t);try{const r=await T6(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Eu.get(a);u&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?dt(u.cu,14607):s.removedDocuments.size>0&&(dt(u.cu,42227),u.cu=!1))}),await yf(n,r,e)}catch(r){await nu(r)}}function kS(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((a,u)=>{const f=u.view.Fa(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const h=qe(u);h.onlineState=f;let d=!1;h.queries.forEach((m,_)=>{for(const v of _.Sa)v.Fa(f)&&(d=!0)}),d&&Sv(h)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function p9(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new Bt(De.comparator);u=u.insert(a,Vn.newNoDocument(a,je.min()));const f=tt().add(a),h=new _p(je.min(),new Map,new Bt(Ke),u,f);await sR(r,h),r.Iu=r.Iu.remove(a),r.Eu.delete(e),xv(r)}else await f_(r.localStore,e,!1).then(()=>p_(r,e,n)).catch(nu)}async function m9(t,e){const n=qe(t),r=e.batch.batchId;try{const s=await b6(n.localStore,e);aR(n,r,null),oR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yf(n,s)}catch(s){await nu(s)}}async function g9(t,e,n){const r=qe(t);try{const s=await function(u,f){const h=qe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,f).next(_=>(dt(_!==null,37113),m=_.keys(),h.mutationQueue.removeMutationBatch(d,_))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(r.localStore,e);aR(r,e,n),oR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yf(r,s)}catch(s){await nu(s)}}function oR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function aR(t,e,n){const r=qe(t);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function p_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||lR(t,r)})}function lR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(_v(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),xv(t))}function DS(t,e,n){for(const r of n)r instanceof nR?(t.du.addReference(r.key,e),y9(t,r)):r instanceof rR?(be(Av,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||lR(t,r.key)):Le(19791,{pu:r})}function y9(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(be(Av,"New document in limbo: "+n),t.Tu.add(r),xv(t))}function xv(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new De(kt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new o9(n)),t.Iu=t.Iu.insert(n,r),QC(t.remoteStore,new eo(xi(EC(n.path)),r,"TargetPurposeLimboResolution",cp.le))}}async function yf(t,e,n){const r=qe(t),s=[],a=[],u=[];r.hu.isEmpty()||(r.hu.forEach((f,h)=>{u.push(r.fu(h,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const _=d?!d.fromCache:(m=n?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(d){s.push(d);const _=gv.Rs(h.targetId,d);a.push(_)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(h,d){const m=qe(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ye.forEach(d,v=>ye.forEach(v.ds,E=>m.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>ye.forEach(v.As,E=>m.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!ru(_))throw _;be(yv,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const E=m.xs.get(v),x=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(x);m.xs=m.xs.insert(v,I)}}}(r.localStore,a))}async function _9(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){be(Av,"User change. New user:",e.toKey());const r=await GC(n.localStore,e);n.currentUser=e,function(a,u){a.Ru.forEach(f=>{f.forEach(h=>{h.reject(new Te(ge.CANCELLED,u))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yf(n,r.ks)}}function v9(t,e){const n=qe(t),r=n.Eu.get(e);if(r&&r.cu)return tt().add(r.key);{let s=tt();const a=n.Pu.get(e);if(!a)return s;for(const u of a){const f=n.hu.get(u);s=s.unionWith(f.view.eu)}return s}}function uR(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p9.bind(null,e),e.lu.Y_=t9.bind(null,e.eventManager),e.lu.gu=n9.bind(null,e.eventManager),e}function E9(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g9.bind(null,e),e}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return w6(this.persistence,new _6,e.initialUser,this.serializer)}Su(e){return new $C(mv.fi,this.serializer)}bu(e){return new R6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class w9 extends jd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){dt(this.persistence.referenceDelegate instanceof Fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new r6(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new $C(r=>Fd.fi(r,n),this.serializer)}}class m_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_9.bind(null,this.syncEngine),await Q6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Z6}()}createDatastore(e){const n=vp(e.databaseInfo.databaseId),r=function(a){return new O6(a)}(e.databaseInfo);return function(a,u,f,h){return new L6(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,u,f){return new z6(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>kS(this.syncEngine,n,0),function(){return AS.C()?new AS:new I6}())}createSyncEngine(e,n){return function(s,a,u,f,h,d,m){const _=new a9(s,a,u,f,h,d);return m&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=qe(s);be(da,"RemoteStore shutting down."),a.da.add(5),await gf(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}m_.provider={build:()=>new m_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class T9{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=rC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{be(yo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(be(yo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ao;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Tv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function oy(t,e){t.asyncQueue.verifyOperationInProgress(),be(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function OS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S9(t);be(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>CS(e.remoteStore,s)),t._onlineComponents=e}async function S9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(yo,"Using user provided OfflineComponentProvider");try{await oy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await oy(t,new jd)}}else be(yo,"Using default OfflineComponentProvider"),await oy(t,new w9(void 0));return t._offlineComponents}async function cR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(yo,"Using user provided OnlineComponentProvider"),await OS(t,t._uninitializedComponentsProvider._online)):(be(yo,"Using default OnlineComponentProvider"),await OS(t,new m_))),t._onlineComponents}function A9(t){return cR(t).then(e=>e.syncEngine)}async function x9(t){const e=await cR(t),n=e.eventManager;return n.onListen=l9.bind(null,e.syncEngine),n.onUnlisten=f9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h9.bind(null,e.syncEngine),n}function C9(t,e,n={}){const r=new ao;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,d){const m=new b9({next:v=>{m.xu(),u.enqueueAndForget(()=>e9(a,_)),v.fromCache&&h.source==="server"?d.reject(new Te(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new r9(f,m,{includeMetadataChanges:!0,Qa:!0});return J6(a,_)}(await x9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e,n){if(!n)throw new Te(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R9(t,e,n,r){if(e===!0&&r===!0)throw new Te(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PS(t){if(!De.isDocumentKey(t))throw new Te(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VS(t){if(De.isDocumentKey(t))throw new Te(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function pa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bp(t);throw new Te(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="firestore.googleapis.com",LS=!0;class US{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dR,this.ssl=LS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:LS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<t6)throw new Te(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new US({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new US(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D3;switch(r.type){case"firstParty":return new V3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=MS.get(n);r&&(be("ComponentProvider","Removing Datastore"),MS.delete(n),r.terminate())}(this),Promise.resolve()}}function I9(t,e,n,r={}){var s;t=pa(t,Tp);const a=Jl(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(Bx(`https://${h}`),Fx("Firestore",!0)),u.host!==dR&&u.host!==h&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:r});if(!ca(d,f)&&(t._setSettings(d),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=Pn.MOCK_USER;else{m=rV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Te(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Pn(v)}t._authCredentials=new O3(new tC(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class lo extends Ea{constructor(e,n,r){super(e,n,EC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new De(e))}withConverter(e){return new lo(this.firestore,e,this._path)}}function Cv(t,e,...n){if(t=dn(t),hR("collection","path",e),t instanceof Tp){const r=kt.fromString(e,...n);return VS(r),new lo(t,null,r)}{if(!(t instanceof _r||t instanceof lo))throw new Te(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return VS(r),new lo(t.firestore,null,r)}}function ou(t,e,...n){if(t=dn(t),arguments.length===1&&(e=rC.newId()),hR("doc","path",e),t instanceof Tp){const r=kt.fromString(e,...n);return PS(r),new _r(t,null,new De(r))}{if(!(t instanceof _r||t instanceof lo))throw new Te(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return PS(r),new _r(t.firestore,t instanceof lo?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="AsyncQueue";class BS{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new KC(this,"async_queue_retry"),this.rc=()=>{const r=sy();r&&be(zS,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ao;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ru(e))throw e;be(zS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,fs("INTERNAL UNHANDLED ERROR: ",FS(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=bv.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&Le(47125,{cc:FS(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function FS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class _f extends Tp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new BS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BS(e),this._firestoreClient=void 0,await e}}}function N9(t,e){const n=typeof t=="object"?t:$x(),r=typeof t=="string"?t:Pd,s=rv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=tV("firestore");a&&I9(s,...a)}return s}function Rv(t){if(t._terminated)throw new Te(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k9(t),t._firestoreClient}function k9(t){var e,n,r;const s=t._freezeSettings(),a=function(f,h,d,m){return new W3(f,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,fR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new T9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const h=f?._online.build();return{_offline:f?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(kn.fromBase64String(e))}catch(n){throw new Te(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zl(kn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^__.*__$/;class O9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new pf(e,this.data,n,this.fieldTransforms)}}class pR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ic:t})}}class Dv{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return qd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(mR(this.Ic)&&D9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class M9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vp(e)}bc(e,n,r,s=!1){return new Dv({Ic:e,methodName:n,wc:r,path:Nn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ov(t){const e=t._freezeSettings(),n=vp(t._databaseId);return new M9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gR(t,e,n,r,s,a={}){const u=t.bc(a.merge||a.mergeFields?2:0,e,n,s);Mv("Data must be an object, but it was:",u,r);const f=yR(r,u);let h,d;if(a.merge)h=new mr(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const _ of a.mergeFields){const v=g_(e,_,n);if(!u.contains(v))throw new Te(ge.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);vR(m,v)||m.push(v)}h=new mr(m),d=u.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,d=u.fieldTransforms;return new O9(new Jn(f),h,d)}class Ap extends Iv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ap}}function P9(t,e,n,r){const s=t.bc(1,e,n);Mv("Data must be an object, but it was:",s,r);const a=[],u=Jn.empty();_o(r,(h,d)=>{const m=Pv(e,h,n);d=dn(d);const _=s.mc(m);if(d instanceof Ap)a.push(m);else{const v=vf(d,_);v!=null&&(a.push(m),u.set(m,v))}});const f=new mr(a);return new pR(u,f,s.fieldTransforms)}function V9(t,e,n,r,s,a){const u=t.bc(1,e,n),f=[g_(e,r,n)],h=[s];if(a.length%2!=0)throw new Te(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)f.push(g_(e,a[v])),h.push(a[v+1]);const d=[],m=Jn.empty();for(let v=f.length-1;v>=0;--v)if(!vR(d,f[v])){const E=f[v];let x=h[v];x=dn(x);const I=u.mc(E);if(x instanceof Ap)d.push(E);else{const D=vf(x,I);D!=null&&(d.push(E),m.set(E,D))}}const _=new mr(d);return new pR(m,_,u.fieldTransforms)}function L9(t,e,n,r=!1){return vf(n,t.bc(r?4:3,e))}function vf(t,e){if(_R(t=dn(t)))return Mv("Unsupported field value:",e,t),yR(t,e);if(t instanceof Iv)return function(r,s){if(!mR(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let h=vf(f,s.fc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Dt.fromDate(r);return{timestampValue:Bd(s.serializer,a)}}if(r instanceof Dt){const a=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(s.serializer,a)}}if(r instanceof Nv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zl)return{bytesValue:LC(s.serializer,r._byteString)};if(r instanceof _r){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof kv)return function(u,f){return{mapValue:{fields:{[fC]:{stringValue:hC},[Vd]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw f.gc("VectorValues must only contain numeric values.");return cv(f.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${bp(r)}`)}(t,e)}function yR(t,e){const n={};return sC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,s)=>{const a=vf(s,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function _R(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Nv||t instanceof Zl||t instanceof _r||t instanceof Iv||t instanceof kv)}function Mv(t,e,n){if(!_R(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=bp(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function g_(t,e,n){if((e=dn(e))instanceof Sp)return e._internalPath;if(typeof e=="string")return Pv(t,e);throw qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const U9=new RegExp("[~\\*/\\[\\]]");function Pv(t,e,n){if(e.search(U9)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sp(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qd(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new Te(ge.INVALID_ARGUMENT,f+t+h)}function vR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z9 extends ER{data(){return super.data()}}function xp(t,e){return typeof e=="string"?Pv(t,e):e instanceof Sp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vv{}class wR extends Vv{}function F9(t,e,...n){let r=[];e instanceof Vv&&r.push(e),r=r.concat(n),function(a){const u=a.filter(h=>h instanceof Lv).length,f=a.filter(h=>h instanceof Cp).length;if(u>1||u>0&&f>0)throw new Te(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Cp extends wR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cp(e,n,r)}_apply(e){const n=this._parse(e);return bR(e._query,n),new Ea(e.firestore,e.converter,s_(e._query,n))}_parse(e){const n=Ov(e.firestore);return function(a,u,f,h,d,m,_){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Te(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){jS(_,m);const x=[];for(const I of _)x.push(HS(h,a,I));v={arrayValue:{values:x}}}else v=HS(h,a,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||jS(_,m),v=L9(f,u,_,m==="in"||m==="not-in");return rn.create(d,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function H9(t,e,n){const r=e,s=xp("where",t);return Cp._create(s,r,n)}class Lv extends Vv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let u=s;const f=a.getFlattenedFilters();for(const h of f)bR(u,h),u=s_(u,h)}(e._query,n),new Ea(e.firestore,e.converter,s_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Uv extends wR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Uv(e,n)}_apply(e){const n=function(s,a,u){if(s.startAt!==null)throw new Te(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Te(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ef(a,u)}(e._query,this._field,this._direction);return new Ea(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new iu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function j9(t,e="asc"){const n=e,r=xp("orderBy",t);return Uv._create(r,n)}function HS(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new Te(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wC(e)&&n.indexOf("/")!==-1)throw new Te(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!De.isDocumentKey(r))throw new Te(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rS(t,new De(r))}if(n instanceof _r)return rS(t,n._key);throw new Te(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(n)}.`)}function jS(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bR(t,e){const n=function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Te(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class q9{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Vd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Qt(u.doubleValue));return new kv(a)}convertGeoPoint(e){return new Nv(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=ho(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);dt(jC(r),9688,{name:e});const s=new Zc(r.get(1),r.get(3)),a=new De(r.popFirst(5));return s.isEqual(n)||fs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $9 extends ER{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _d extends $9{data(e={}){return super.data(e)}}class G9{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new nd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _d(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const h=new _d(s._firestore,s._userDataWriter,f.doc.key,f.doc,new nd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new _d(s._firestore,s._userDataWriter,f.doc.key,f.doc,new nd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),m=u.indexOf(f.doc.key)),{type:Y9(f.type),doc:h,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}class K9 extends q9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function zv(t){t=pa(t,Ea);const e=pa(t.firestore,_f),n=Rv(e),r=new K9(e);return B9(t._query),C9(n,t._query).then(s=>new G9(e,r,t,s))}function Bv(t,e,n){t=pa(t,_r);const r=pa(t.firestore,_f),s=TR(t.converter,e,n);return Fv(r,[gR(Ov(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yr.none())])}function X9(t){return Fv(pa(t.firestore,_f),[new yp(t._key,yr.none())])}function Fv(t,e){return function(r,s){const a=new ao;return r.asyncQueue.enqueueAndForget(async()=>d9(await A9(r),s,a)),a.promise}(Rv(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ov(e)}set(e,n,r){this._verifyNotCommitted();const s=ay(e,this._firestore),a=TR(s.converter,n,r),u=gR(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,yr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const a=ay(e,this._firestore);let u;return u=typeof(n=dn(n))=="string"||n instanceof Sp?V9(this._dataReader,"WriteBatch.update",a._key,n,r,s):P9(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(u.toMutation(a._key,yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ay(e,this._firestore);return this._mutations=this._mutations.concat(new yp(n._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ay(t,e){if((t=dn(t)).firestore!==e)throw new Te(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){return Rv(t=pa(t,_f)),new Q9(t,e=>Fv(t,e))}(function(e,n=!0){(function(s){tu=s})(eu),$l(new fa("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new _f(new M3(r.getProvider("auth-internal")),new L3(u,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Te(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(d.options.projectId,m)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),so($T,GT,e),so($T,GT,"esm2017")})();function Hv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function AR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W9=AR,xR=new hf("auth","Firebase",AR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new tv("@firebase/auth");function Z9(t,...e){$d.logLevel<=et.WARN&&$d.warn(`Auth (${eu}): ${t}`,...e)}function vd(t,...e){$d.logLevel<=et.ERROR&&$d.error(`Auth (${eu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,...e){throw jv(t,...e)}function Ri(t,...e){return jv(t,...e)}function CR(t,e,n){const r=Object.assign(Object.assign({},W9()),{[e]:n});return new hf("auth","Firebase",r).create(e,{appName:t.name})}function os(t){return CR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xR.create(t,...e)}function Ve(t,e,...n){if(!t)throw jv(e,...n)}function is(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function ds(t,e){t||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function J9(){return qS()==="http:"||qS()==="https:"}function qS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J9()||uV()||"connection"in navigator)?navigator.onLine:!0}function t5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=oV()||cV()}get(){return e5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i5=new Ef(3e4,6e4);function Eo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wo(t,e,n,r,s={}){return IR(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=df(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},a);return lV()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(d.credentials="include"),RR.fetch()(await NR(t,t.config.apiHost,n,f),d)})}async function IR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n5),e);try{const s=new o5(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw rd(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw rd(t,"user-disabled",u);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw CR(t,m,d);Jr(t,m)}}catch(s){if(s instanceof ms)throw s;Jr(t,"network-request-failed",{message:String(s)})}}async function wf(t,e,n,r,s={}){const a=await wo(t,e,n,r,s);return"mfaPendingCredential"in a&&Jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function NR(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?qv(t.config,s):`${t.config.apiScheme}://${s}`;return r5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function s5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),i5.get())})}}function rd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ri(t,e,r);return s.customData._tokenResponse=n,s}function $S(t){return t!==void 0&&t.enterprise!==void 0}class a5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function l5(t,e){return wo(t,"GET","/v2/recaptchaConfig",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u5(t,e){return wo(t,"POST","/v1/accounts:delete",e)}async function Gd(t,e){return wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c5(t,e=!1){const n=dn(t),r=await n.getIdToken(e),s=$v(r);Ve(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Vc(ly(s.auth_time)),issuedAtTime:Vc(ly(s.iat)),expirationTime:Vc(ly(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ly(t){return Number(t)*1e3}function $v(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Vx(n);return s?JSON.parse(s):(vd("Failed to decode base64 JWT payload"),null)}catch(s){return vd("Caught error parsing JWT payload as JSON",s?.toString()),null}}function GS(t){const e=$v(t);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ms&&f5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await rf(t,Gd(n,{idToken:r}));Ve(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?kR(a.providerUserInfo):[],f=p5(t.providerData,u),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!f?.length,m=h?d:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new __(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function d5(t){const e=dn(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kR(t){return t.map(e=>{var{providerId:n}=e,r=Hv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){const n=await IR(t,{},async()=>{const r=df({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await NR(t,s,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return t.emulatorConfig&&Jl(t.emulatorConfig.host)&&(h.credentials="include"),RR.fetch()(u,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g5(t,e){return wo(t,"POST","/v2/accounts:revokeToken",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const n=GS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await m5(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new Vl;return r&&(Ve(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ve(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ve(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e){Ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Hv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new __(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await rf(this,this.stsTokenManager.getToken(this.auth,e));return Ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c5(this,e)}reload(){return d5(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zr(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await rf(this,u5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,f,h,d,m;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(u=n.photoURL)!==null&&u!==void 0?u:void 0,I=(f=n.tenantId)!==null&&f!==void 0?f:void 0,D=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,P=(d=n.createdAt)!==null&&d!==void 0?d:void 0,q=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:H,isAnonymous:X,providerData:j,stsTokenManager:U}=n;Ve($&&U,e,"internal-error");const C=Vl.fromJSON(this.name,U);Ve(typeof $=="string",e,"internal-error"),qs(_,e.name),qs(v,e.name),Ve(typeof H=="boolean",e,"internal-error"),Ve(typeof X=="boolean",e,"internal-error"),qs(E,e.name),qs(x,e.name),qs(I,e.name),qs(D,e.name),qs(P,e.name),qs(q,e.name);const R=new Wr({uid:$,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:X,photoURL:x,phoneNumber:E,tenantId:I,stsTokenManager:C,createdAt:P,lastLoginAt:q});return j&&Array.isArray(j)&&(R.providerData=j.map(M=>Object.assign({},M))),D&&(R._redirectEventId=D),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new Vl;s.updateFromServerResponse(n);const a=new Wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ve(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?kR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,f=new Vl;f.updateFromIdToken(r);const h=new Wr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new __(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=new Map;function ss(t){ds(t instanceof Function,"Expected a class definition");let e=YS.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DR.type="NONE";const KS=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Ed(this.userKey,s.apiKey,a),this.fullPersistenceKey=Ed("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gd(this.auth,{idToken:e}).catch(()=>{});return n?Wr._fromGetAccountInfoResponse(this.auth,n,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ll(ss(KS),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||ss(KS);const u=Ed(r,e.config.apiKey,e.name);let f=null;for(const d of n)try{const m=await d._get(u);if(m){let _;if(typeof m=="string"){const v=await Gd(e,{idToken:m}).catch(()=>{});if(!v)break;_=await Wr._fromGetAccountInfoResponse(e,v,m)}else _=Wr._fromJSON(e,m);d!==a&&(f=_),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ll(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Ll(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UR(e))return"Blackberry";if(zR(e))return"Webos";if(MR(e))return"Safari";if((e.includes("chrome/")||PR(e))&&!e.includes("edge/"))return"Chrome";if(LR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OR(t=Un()){return/firefox\//i.test(t)}function MR(t=Un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PR(t=Un()){return/crios\//i.test(t)}function VR(t=Un()){return/iemobile/i.test(t)}function LR(t=Un()){return/android/i.test(t)}function UR(t=Un()){return/blackberry/i.test(t)}function zR(t=Un()){return/webos/i.test(t)}function Gv(t=Un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y5(t=Un()){var e;return Gv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _5(){return fV()&&document.documentMode===10}function BR(t=Un()){return Gv(t)||LR(t)||zR(t)||UR(t)||/windows phone/i.test(t)||VR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e=[]){let n;switch(t){case"Browser":n=XS(Un());break;case"Worker":n=`${XS(Un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e={}){return wo(t,"GET","/v2/passwordPolicy",Eo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=6;class b5{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:w5,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QS(this),this.idTokenSubscription=new QS(this),this.beforeStateQueue=new v5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gd(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zr(this.app))return Promise.reject(os(this));const n=e?dn(e):null;return n&&Ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zr(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zr(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E5(this),n=new b5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await g5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;Ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ll.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Z9(`Error while retrieving App Check token: ${n.error}`),n?.token}}function wa(t){return dn(t)}class QS{constructor(e){this.auth=e,this.observer=null,this.addObserver=vV(n=>this.observer=n)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S5(t){Rp=t}function HR(t){return Rp.loadJS(t)}function A5(){return Rp.recaptchaEnterpriseScript}function x5(){return Rp.gapiScript}function C5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class R5{constructor(){this.enterprise=new I5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const N5="recaptcha-enterprise",jR="NO_RECAPTCHA";class k5{constructor(e){this.type=N5,this.auth=wa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{l5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const d=new a5(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(h=>{f(h)})})}function s(a,u,f){const h=window.grecaptcha;$S(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(jR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R5().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!n&&$S(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=A5();h.length!==0&&(h+=f),HR(h).then(()=>{s(f,a,u)}).catch(d=>{u(d)})}}).catch(f=>{u(f)})})}}async function WS(t,e,n,r=!1,s=!1){const a=new k5(t);let u;if(s)u=jR;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,d=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function v_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await WS(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await WS(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t,e){const n=rv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ca(a,e??{}))return s;Jr(s,"already-initialized")}return n.initialize({options:e})}function O5(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function M5(t,e,n){const r=wa(t);Ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=qR(e),{host:u,port:f}=P5(e),h=f===null?"":`:${f}`,d={url:`${a}//${u}${h}/`},m=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ve(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ve(ca(d,r.config.emulator)&&ca(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Jl(u)?(Bx(`${a}//${u}${h}`),Fx("Auth",!0)):V5()}function qR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P5(t){const e=qR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:ZS(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:ZS(u)}}}function ZS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function L5(t,e){return wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e){return wf(t,"POST","/v1/accounts:signInWithPassword",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Eo(t,e))}async function B5(t,e){return wf(t,"POST","/v1/accounts:signInWithEmailLink",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends Yv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v_(e,n,"signInWithPassword",U5);case"emailLink":return z5(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return v_(e,r,"signUpPassword",L5);case"emailLink":return B5(e,{idToken:n,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e){return wf(t,"POST","/v1/accounts:signInWithIdp",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="http://localhost";class ma extends Yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Hv(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new ma(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ul(e,n)}buildRequest(){const e={requestUri:F5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=df(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function j5(t){const e=Ac(xc(t)).link,n=e?Ac(xc(e)).deep_link_id:null,r=Ac(xc(t)).deep_link_id;return(r?Ac(xc(r)).link:null)||r||n||e||t}class Kv{constructor(e){var n,r,s,a,u,f;const h=Ac(xc(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,_=H5((s=h.mode)!==null&&s!==void 0?s:null);Ve(d&&m&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=m,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=j5(e);try{return new Kv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(e,n){return sf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kv.parseLink(n);return Ve(r,"argument-error"),sf._fromEmailAndCode(e,r.code,r.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends $R{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends bf{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends bf{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends bf{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q5(t,e){return wf(t,"POST","/v1/accounts:signUp",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Wr._fromIdTokenResponse(e,r,s),u=JS(r);return new ga({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=JS(r);return new ga({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function JS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends ms{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Kd(e,n,r,s)}}function GR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(t,a,e,r):a})}async function $5(t,e,n=!1){const r=await rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e,n=!1){const{auth:r}=t;if(zr(r.app))return Promise.reject(os(r));const s="reauthenticate";try{const a=await rf(t,GR(r,s,e,t),n);Ve(a.idToken,r,"internal-error");const u=$v(a.idToken);Ve(u,r,"internal-error");const{sub:f}=u;return Ve(t.uid===f,r,"user-mismatch"),ga._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e,n=!1){if(zr(t.app))return Promise.reject(os(t));const r="signIn",s=await GR(t,r,e),a=await ga._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function Y5(t,e){return YR(wa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(t){const e=wa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K5(t,e,n){if(zr(t.app))return Promise.reject(os(t));const r=wa(t),u=await v_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q5).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&KR(t),h}),f=await ga._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function X5(t,e,n){return zr(t.app)?Promise.reject(os(t)):Y5(dn(t),au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KR(t),r})}function Q5(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function W5(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function Z5(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function J5(t){return dn(t).signOut()}const Xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=1e3,tU=10;class QR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);_5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,tU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QR.type="LOCAL";const nU=QR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WR.type="SESSION";const ZR=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ip(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async d=>d(n.origin,a)),h=await rU(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const d=Xv("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(v.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function sU(t){Ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function oU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lU(){return JR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebaseLocalStorageDb",uU=1,Qd="firebaseLocalStorage",tI="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Np(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function cU(){const t=indexedDB.deleteDatabase(eI);return new Tf(t).toPromise()}function E_(){const t=indexedDB.open(eI,uU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qd,{keyPath:tI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qd)?e(r):(r.close(),await cU(),e(await E_()))})})}async function e1(t,e,n){const r=Np(t,!0).put({[tI]:e,value:n});return new Tf(r).toPromise()}async function fU(t,e){const n=Np(t,!1).get(e),r=await new Tf(n).toPromise();return r===void 0?null:r.value}function t1(t,e){const n=Np(t,!0).delete(e);return new Tf(n).toPromise()}const hU=800,dU=3;class nI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ip._getInstance(lU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oU(),!this.activeServiceWorker)return;this.sender=new iU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await E_();return await e1(e,Xd,"1"),await t1(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Np(s,!1).getAll();return new Tf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nI.type="LOCAL";const pU=nI;new Ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t,e){return e?ss(e):(Ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv extends Yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gU(t){return YR(t.auth,new Qv(t),t.bypassAuthState)}function yU(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),G5(n,new Qv(t),t.bypassAuthState)}async function _U(t){const{auth:e,user:n}=t;return Ve(n,e,"internal-error"),$5(n,new Qv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gU;case"linkViaPopup":case"linkViaRedirect":return _U;case"reauthViaPopup":case"reauthViaRedirect":return yU;default:Jr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=new Ef(2e3,1e4);class Nl extends rI{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=Xv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vU.get())};e()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="pendingRedirect",wd=new Map;class wU extends rI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const r=await bU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bU(t,e){const n=AU(e),r=SU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function TU(t,e){wd.set(t._key(),e)}function SU(t){return ss(t._redirectPersistence)}function AU(t){return Ed(EU,t.config.apiKey,t.name)}async function xU(t,e,n=!1){if(zr(t.app))return Promise.reject(os(t));const r=wa(t),s=mU(r,e),u=await new wU(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=10*60*1e3;class RU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CU&&this.cachedEventUids.clear(),this.cachedEventUids.has(n1(e))}saveEventToCache(e){this.cachedEventUids.add(n1(e)),this.lastProcessedEventTime=Date.now()}}function n1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e={}){return wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DU=/^https?/;async function OU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NU(t);for(const n of e)try{if(MU(n))return}catch{}Jr(t,"unauthorized-domain")}function MU(t){const e=y_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!DU.test(n))return!1;if(kU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new Ef(3e4,6e4);function r1(){const t=Ii().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VU(t){return new Promise((e,n)=>{var r,s,a;function u(){r1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r1(),n(Ri(t,"network-request-failed"))},timeout:PU.get()})}if(!((s=(r=Ii().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ii().gapi)===null||a===void 0)&&a.load)u();else{const f=C5("iframefcb");return Ii()[f]=()=>{gapi.load?u():n(Ri(t,"network-request-failed"))},HR(`${x5()}?onload=${f}`).catch(h=>n(h))}}).catch(e=>{throw bd=null,e})}let bd=null;function LU(t){return bd=bd||VU(t),bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=new Ef(5e3,15e3),zU="__/auth/iframe",BU="emulator/auth/iframe",FU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jU(t){const e=t.config;Ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qv(e,BU):`https://${t.config.authDomain}/${zU}`,r={apiKey:e.apiKey,appName:t.name,v:eu},s=HU.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${df(r).slice(1)}`}async function qU(t){const e=await LU(t),n=Ii().gapi;return Ve(n,t,"internal-error"),e.open({where:document.body,url:jU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FU,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ri(t,"network-request-failed"),f=Ii().setTimeout(()=>{a(u)},UU.get());function h(){Ii().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,YU=600,KU="_blank",XU="http://localhost";class i1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QU(t,e,n,r=GU,s=YU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},$U),{width:r.toString(),height:s.toString(),top:a,left:u}),d=Un().toLowerCase();n&&(f=PR(d)?KU:n),OR(d)&&(e=e||XU,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,x])=>`${v}${E}=${x},`,"");if(y5(d)&&f!=="_self")return WU(e||"",f),new i1(null);const _=window.open(e||"",f,m);Ve(_,t,"popup-blocked");try{_.focus()}catch{}return new i1(_)}function WU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="__/auth/handler",JU="emulator/auth/handler",ez=encodeURIComponent("fac");async function s1(t,e,n,r,s,a){Ve(t.config.authDomain,t,"auth-domain-config-required"),Ve(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eu,eventId:s};if(e instanceof $R){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",_V(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))u[m]=_}if(e instanceof bf){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const m of Object.keys(f))f[m]===void 0&&delete f[m];const h=await t._getAppCheckToken(),d=h?`#${ez}=${encodeURIComponent(h)}`:"";return`${tz(t)}?${df(f).slice(1)}${d}`}function tz({config:t}){return t.emulator?qv(t,JU):`https://${t.authDomain}/${ZU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="webStorageSupport";class nz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZR,this._completeRedirectFn=xU,this._overrideRedirectResult=TU}async _openPopup(e,n,r,s){var a;ds((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await s1(e,n,r,y_(),s);return QU(e,u,Xv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await s1(e,n,r,y_(),s);return sU(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ds(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qU(e),r=new RU(e);return n.register("authEvent",s=>(Ve(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uy,{type:uy},s=>{var a;const u=(a=s?.[0])===null||a===void 0?void 0:a[uy];u!==void 0&&n(!!u),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BR()||MR()||Gv()}}const rz=nz;var o1="@firebase/auth",a1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oz(t){$l(new fa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Ve(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FR(t)},d=new T5(r,s,a,h);return O5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$l(new fa("auth-internal",e=>{const n=wa(e.getProvider("auth").getImmediate());return(r=>new iz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),so(o1,a1,sz(t)),so(o1,a1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=5*60,lz=zx("authIdTokenMaxAge")||az;let l1=null;const uz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lz)return;const s=n?.token;l1!==s&&(l1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cz(t=$x()){const e=rv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D5(t,{popupRedirectResolver:rz,persistence:[pU,nU,ZR]}),r=zx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=uz(a.toString());W5(n,u,()=>u(n.currentUser)),Q5(n,f=>u(f))}}const s=Lx("auth");return s&&M5(n,`http://${s}`),n}function fz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}S5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ri("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",fz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oz("Browser");const hz={apiKey:"AIzaSyByTZ08eCsc2wv0VIWUHNtHSdmAA_JI5hM",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},sI=qx(hz),ei=N9(sI),Wd=cz(sI),Er={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},qn={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function dz(){const[t,e]=z.useState(""),[n,r]=z.useState(""),[s,a]=z.useState(!1),[u,f]=z.useState(!1),[h,d]=z.useState(""),m=async v=>{v.preventDefault(),f(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(qn.INVALID_EMAIL);if(n.length<6)throw new Error(qn.WEAK_PASSWORD);const x=await K5(Wd,t,n);console.log("User created successfully:",x.user.uid)}catch(E){console.error("Sign up error:",E);let x="Failed to create account";E.code==="auth/email-already-in-use"?x=qn.EMAIL_IN_USE:E.code==="auth/invalid-email"?x=qn.INVALID_EMAIL:E.code==="auth/weak-password"?x=qn.WEAK_PASSWORD:E.code==="auth/operation-not-allowed"?x="Email/password accounts are not enabled. Please contact support.":E.message&&(x=E.message),d(x)}finally{f(!1)}},_=async v=>{v.preventDefault(),f(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(qn.INVALID_EMAIL);const x=await X5(Wd,t,n);console.log("User signed in successfully:",x.user.uid)}catch(E){console.error("Sign in error:",E);let x="Failed to sign in";E.code==="auth/user-not-found"?x=qn.USER_NOT_FOUND:E.code==="auth/wrong-password"?x=qn.WRONG_PASSWORD:E.code==="auth/invalid-email"?x=qn.INVALID_EMAIL:E.code==="auth/user-disabled"?x="This account has been disabled. Please contact support.":E.code==="auth/too-many-requests"?x=qn.TOO_MANY_REQUESTS:E.message&&(x=E.message),d(x)}finally{f(!1)}};return J.jsx("div",{className:"auth-window-container",children:J.jsxs("div",{className:"auth-window",children:[J.jsxs("div",{className:"auth-window-header",children:[J.jsx("h2",{className:"auth-window-title",children:s?"Create Account":"Welcome Back"}),J.jsx("p",{className:"auth-window-subtitle",children:s?"Join the platform to start building your boards":"Sign in to access your boards and continue your work"})]}),J.jsxs("form",{onSubmit:s?m:_,className:"auth-form",children:[J.jsx("div",{className:"auth-input-group",children:J.jsx("input",{type:"email",placeholder:"Email address",value:t,onChange:v=>e(v.target.value),required:!0,className:"auth-input"})}),J.jsx("div",{className:"auth-input-group",children:J.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:v=>r(v.target.value),required:!0,className:"auth-input"})}),J.jsx("button",{type:"submit",disabled:u,className:`auth-submit-btn ${u?"loading":""}`,children:u?J.jsx("div",{className:"loading-spinner"}):s?"Create Account":"Sign In"}),h&&J.jsx("div",{className:"auth-error",children:h})]}),J.jsxs("div",{className:"auth-switch",children:[J.jsx("span",{className:"auth-switch-text",children:s?"Already have an account?":"Don't have an account?"}),J.jsx("button",{type:"button",onClick:()=>a(!s),className:"auth-switch-btn",children:s?"Sign In":"Sign Up"})]})]})})}var cy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var u1;function pz(){return u1||(u1=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(cy)),cy.exports}var mz=pz();const It=ya(mz),lu=!!(typeof window<"u"&&window.document&&window.document.createElement);var w_=!1,b_=!1;try{var fy={get passive(){return w_=!0},get once(){return b_=w_=!0}};lu&&(window.addEventListener("test",fy,fy),window.removeEventListener("test",fy,!0))}catch{}function oI(t,e,n,r){if(r&&typeof r!="boolean"&&!b_){var s=r.once,a=r.capture,u=n;!b_&&s&&(u=n.__once||function f(h){this.removeEventListener(e,f,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,w_?r:a)}t.addEventListener(e,n,r)}function kp(t){return t&&t.ownerDocument||document}function T_(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}var id;function c1(t){if((!id&&id!==0||t)&&lu){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),id=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return id}function gz(){return z.useState(null)}function yz(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t},[t]),e}function S_(t){const e=yz(t);return z.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const f1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function _z(t,e){const n=f1(t),r=f1(e);return s=>{n&&n(s),r&&r(s)}}function aI(t,e){return z.useMemo(()=>_z(t,e),[t,e])}function vz(t){const e=z.useRef(t);return e.current=t,e}function Ez(t){const e=vz(t);z.useEffect(()=>()=>e.current(),[])}function wz(t){var e=kp(t);return e&&e.defaultView||window}function bz(t,e){return wz(t).getComputedStyle(t,e)}var Tz=/([A-Z])/g;function Sz(t){return t.replace(Tz,"-$1").toLowerCase()}var Az=/^ms-/;function sd(t){return Sz(t).replace(Az,"-ms-")}var xz=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Cz(t){return!!(t&&xz.test(t))}function la(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(sd(e))||bz(t).getPropertyValue(sd(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?t.style.removeProperty(sd(s)):Cz(s)?r+=s+"("+a+") ":n+=sd(s)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Zd(t,e,n,r){return oI(t,e,n,r),function(){T_(t,e,n,r)}}function Rz(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function Iz(t){var e=la(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Nz(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||Rz(t,"transitionend",!0)},e+n),a=Zd(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function lI(t,e,n,r){n==null&&(n=Iz(t)||0);var s=Nz(t,n,r),a=Zd(t,"transitionend",e);return function(){s(),a()}}function hy(t){t===void 0&&(t=kp());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function h1(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function kz(){const t=z.useRef(!0),e=z.useRef(()=>t.current);return z.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Dz(t){const e=z.useRef(t);return e.current=t,e}function Oz(t){const e=Dz(t);z.useEffect(()=>()=>e.current(),[])}function Mz(t){const e=z.useRef(null);return z.useEffect(()=>{e.current=t}),e.current}function Pz(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t},[t]),e}function na(t){const e=Pz(t);return z.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Vz="data-rr-ui-";function Lz(t){return`${Vz}${t}`}function Uz(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const d1=Lz("modal-open");class Wv{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Uz(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(la(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(d1,""),la(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(d1),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const uI=z.createContext(lu?window:void 0);uI.Provider;function Zv(){return z.useContext(uI)}const dy=(t,e)=>lu?t==null?(e||kp()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function zz(t,e){const n=Zv(),[r,s]=z.useState(()=>dy(t,n?.document));if(!r){const a=dy(t);a&&s(a)}return z.useEffect(()=>{},[e,r]),z.useEffect(()=>{const a=dy(t);a!==r&&s(a)},[t,r]),r}const p1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Bz(t,e){const n=p1(t),r=p1(e);return s=>{n&&n(s),r&&r(s)}}function Jv(t,e){return z.useMemo(()=>Bz(t,e),[t,e])}const Fz=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Hz=typeof document<"u",m1=Hz||Fz?z.useLayoutEffect:z.useEffect;function jz(t){return t.code==="Escape"||t.keyCode===27}function qz(){const t=z.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Dp(t){if(!t||typeof t=="function")return null;const{major:e}=qz();return e>=19?t.props.ref:t.ref}function $z({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const a=z.useRef(null),u=z.useRef(e),f=na(n);z.useEffect(()=>{e?u.current=!0:f(a.current)},[e,f]);const h=Jv(a,Dp(t)),d=z.cloneElement(t,{ref:h});return e?d:s||!u.current&&r?null:d}const Gz=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Yz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kz(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:a,onExited:u,addEndListener:f,children:h}=t,d=Yz(t,Gz);const m=z.useRef(null),_=Jv(m,Dp(h)),v=H=>X=>{H&&m.current&&H(m.current,X)},E=z.useCallback(v(e),[e]),x=z.useCallback(v(n),[n]),I=z.useCallback(v(r),[r]),D=z.useCallback(v(s),[s]),P=z.useCallback(v(a),[a]),q=z.useCallback(v(u),[u]),$=z.useCallback(v(f),[f]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:E},n&&{onEntering:x},r&&{onEntered:I},s&&{onExit:D},a&&{onExiting:P},u&&{onExited:q},f&&{addEndListener:$},{children:typeof h=="function"?(H,X)=>h(H,Object.assign({},X,{ref:_})):z.cloneElement(h,{ref:_})})}const Xz=["component"];function Qz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Wz=z.forwardRef((t,e)=>{let{component:n}=t,r=Qz(t,Xz);const s=Kz(r);return J.jsx(n,Object.assign({ref:e},s))});function Zz({in:t,onTransition:e}){const n=z.useRef(null),r=z.useRef(!0),s=na(e);return m1(()=>{if(!n.current)return;let a=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[t,s]),m1(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Jz({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[a,u]=z.useState(!e);e&&a&&u(!1);const f=Zz({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?r?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(s(d)).then(m,_=>{throw d.in||u(!0),_})}}),h=Jv(f,Dp(t));return a&&!e?null:z.cloneElement(t,{ref:h})}function g1(t,e,n){return t?J.jsx(Wz,Object.assign({},n,{component:t})):e?J.jsx(Jz,Object.assign({},n,{transition:e})):J.jsx($z,Object.assign({},n))}const eB=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function tB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let py;function nB(t){return py||(py=new Wv({ownerDocument:t?.document})),py}function rB(t){const e=Zv(),n=t||nB(e),r=z.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:z.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:z.useCallback(s=>{r.current.backdrop=s},[])})}const cI=z.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:a,children:u,backdrop:f=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:_,runTransition:v,backdropTransition:E,runBackdropTransition:x,autoFocus:I=!0,enforceFocus:D=!0,restoreFocus:P=!0,restoreFocusOptions:q,renderDialog:$,renderBackdrop:H=Oe=>J.jsx("div",Object.assign({},Oe)),manager:X,container:j,onShow:U,onHide:C=()=>{},onExit:R,onExited:M,onExiting:V,onEnter:B,onEntering:A,onEntered:N}=t,G=tB(t,eB);const L=Zv(),K=zz(j),ee=rB(X),Z=kz(),b=Mz(n),[Q,re]=z.useState(!n),k=z.useRef(null);z.useImperativeHandle(e,()=>ee,[ee]),lu&&!b&&n&&(k.current=hy(L?.document)),n&&Q&&re(!1);const ce=na(()=>{if(ee.add(),Ue.current=Zd(document,"keydown",Se),He.current=Zd(document,"focus",()=>setTimeout(_e),!0),U&&U(),I){var Oe,Vt;const Be=hy((Oe=(Vt=ee.dialog)==null?void 0:Vt.ownerDocument)!=null?Oe:L?.document);ee.dialog&&Be&&!h1(ee.dialog,Be)&&(k.current=Be,ee.dialog.focus())}}),ve=na(()=>{if(ee.remove(),Ue.current==null||Ue.current(),He.current==null||He.current(),P){var Oe;(Oe=k.current)==null||Oe.focus==null||Oe.focus(q),k.current=null}});z.useEffect(()=>{!n||!K||ce()},[n,K,ce]),z.useEffect(()=>{Q&&ve()},[Q,ve]),Oz(()=>{ve()});const _e=na(()=>{if(!D||!Z()||!ee.isTopModal())return;const Oe=hy(L?.document);ee.dialog&&Oe&&!h1(ee.dialog,Oe)&&ee.dialog.focus()}),Re=na(Oe=>{Oe.target===Oe.currentTarget&&(d?.(Oe),f===!0&&C())}),Se=na(Oe=>{h&&jz(Oe)&&ee.isTopModal()&&(m?.(Oe),Oe.defaultPrevented||C())}),He=z.useRef(),Ue=z.useRef(),lt=(...Oe)=>{re(!0),M?.(...Oe)};if(!K)return null;const pt=Object.assign({role:r,ref:ee.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:a,className:s,tabIndex:-1});let bt=$?$(pt):J.jsx("div",Object.assign({},pt,{children:z.cloneElement(u,{role:"document"})}));bt=g1(_,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:R,onExiting:V,onExited:lt,onEnter:B,onEntering:A,onEntered:N,children:bt});let mt=null;return f&&(mt=H({ref:ee.setBackdropRef,onClick:Re}),mt=g1(E,x,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:mt})),J.jsx(J.Fragment,{children:Rl.createPortal(J.jsxs(J.Fragment,{children:[mt,bt]}),K)})});cI.displayName="Modal";const iB=Object.assign(cI,{Manager:Wv});function sB(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function oB(t,e){t.classList?t.classList.add(e):sB(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var aB=Function.prototype.bind.call(Function.prototype.call,[].slice);function yl(t,e){return aB(t.querySelectorAll(e))}function y1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function lB(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=y1(t.className,e):t.setAttribute("class",y1(t.className&&t.className.baseVal||"",e))}const _l={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class uB extends Wv{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,la(n,{[e]:`${parseFloat(la(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],la(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(oB(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";yl(n,_l.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),yl(n,_l.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),yl(n,_l.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();lB(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";yl(n,_l.FIXED_CONTENT).forEach(a=>this.restore(r,a)),yl(n,_l.STICKY_CONTENT).forEach(a=>this.restore(s,a)),yl(n,_l.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let my;function cB(t){return my||(my=new uB(t)),my}function fB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},A_(t,e)}function hB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,A_(t,e)}var gy={exports:{}},yy,_1;function dB(){if(_1)return yy;_1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yy=t,yy}var _y,v1;function pB(){if(v1)return _y;v1=1;var t=dB();function e(){}function n(){}return n.resetWarningCache=e,_y=function(){function r(u,f,h,d,m,_){if(_!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},_y}var E1;function mB(){return E1||(E1=1,gy.exports=pB()()),gy.exports}var gB=mB();const as=ya(gB),w1={disabled:!1},fI=fe.createContext(null);var yB=function(e){return e.scrollTop},Nc="unmounted",ta="exited",Ks="entering",ra="entered",x_="exiting",gs=function(t){hB(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var u=s,f=u&&!u.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?f?(h=ta,a.appearStatus=Ks):h=ra:r.unmountOnExit||r.mountOnEnter?h=Nc:h=ta,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===Nc?{status:ta}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Ks&&u!==ra&&(a=Ks):(u===Ks||u===ra)&&(a=x_)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,u,f;return a=u=f=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,f=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:f}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Ks){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Rl.findDOMNode(this);u&&yB(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ta&&this.setState({status:Nc})},n.performEnter=function(s){var a=this,u=this.props.enter,f=this.context?this.context.isMounting:s,h=this.props.nodeRef?[f]:[Rl.findDOMNode(this),f],d=h[0],m=h[1],_=this.getTimeouts(),v=f?_.appear:_.enter;if(!s&&!u||w1.disabled){this.safeSetState({status:ra},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Ks},function(){a.props.onEntering(d,m),a.onTransitionEnd(v,function(){a.safeSetState({status:ra},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:Rl.findDOMNode(this);if(!a||w1.disabled){this.safeSetState({status:ta},function(){s.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:x_},function(){s.props.onExiting(f),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:ta},function(){s.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,a.nextCallback=null,s(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Rl.findDOMNode(this),f=s==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Nc)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=fB(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fe.createElement(fI.Provider,{value:null},typeof u=="function"?u(s,f):fe.cloneElement(fe.Children.only(u),f))},e}(fe.Component);gs.contextType=fI;gs.propTypes={};function vl(){}gs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vl,onEntering:vl,onEntered:vl,onExit:vl,onExiting:vl,onExited:vl};gs.UNMOUNTED=Nc;gs.EXITED=ta;gs.ENTERING=Ks;gs.ENTERED=ra;gs.EXITING=x_;function b1(t,e){const n=la(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function _B(t,e){const n=b1(t,"transitionDuration"),r=b1(t,"transitionDelay"),s=lI(t,a=>{a.target===t&&(s(),e(a))},n+r)}function vB(t){t.offsetHeight}function EB(t){return t&&"setState"in t?Rl.findDOMNode(t):t??null}const hI=fe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:a,addEndListener:u,children:f,childRef:h,...d},m)=>{const _=z.useRef(null),v=aI(_,h),E=j=>{v(EB(j))},x=j=>U=>{j&&_.current&&j(_.current,U)},I=z.useCallback(x(t),[t]),D=z.useCallback(x(e),[e]),P=z.useCallback(x(n),[n]),q=z.useCallback(x(r),[r]),$=z.useCallback(x(s),[s]),H=z.useCallback(x(a),[a]),X=z.useCallback(x(u),[u]);return J.jsx(gs,{ref:m,...d,onEnter:I,onEntered:P,onEntering:D,onExit:q,onExited:H,onExiting:$,addEndListener:X,nodeRef:_,children:typeof f=="function"?(j,U)=>f(j,{...U,ref:E}):fe.cloneElement(f,{ref:E})})});hI.displayName="TransitionWrapper";const wB={[Ks]:"show",[ra]:"show"},e0=z.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},f=z.useCallback((h,d)=>{vB(h),r?.(h,d)},[r]);return J.jsx(hI,{ref:a,addEndListener:_B,...u,onEnter:f,childRef:Dp(e),children:(h,d)=>z.cloneElement(e,{...d,className:It("fade",t,e.props.className,wB[h],n[h])})})});e0.displayName="Fade";const bB=["xxl","xl","lg","md","sm","xs"],TB="xs",Sf=z.createContext({prefixes:{},breakpoints:bB,minBreakpoint:TB}),{Consumer:Uj,Provider:zj}=Sf;function pn(t,e){const{prefixes:n}=z.useContext(Sf);return t||n[e]||e}function SB(){const{breakpoints:t}=z.useContext(Sf);return t}function AB(){const{minBreakpoint:t}=z.useContext(Sf);return t}function xB(){const{dir:t}=z.useContext(Sf);return t==="rtl"}const dI=z.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=pn(e,"modal-body"),J.jsx(n,{ref:s,className:It(t,e),...r})));dI.displayName="ModalBody";const pI=z.createContext({onHide(){}}),t0=z.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:a,children:u,scrollable:f,...h},d)=>{t=pn(t,"modal");const m=`${t}-dialog`,_=typeof a=="string"?`${t}-fullscreen-${a}`:`${t}-fullscreen`;return J.jsx("div",{...h,ref:d,className:It(m,e,s&&`${t}-${s}`,r&&`${m}-centered`,f&&`${m}-scrollable`,a&&_),children:J.jsx("div",{className:It(`${t}-content`,n),children:u})})});t0.displayName="ModalDialog";const mI=z.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=pn(e,"modal-footer"),J.jsx(n,{ref:s,className:It(t,e),...r})));mI.displayName="ModalFooter";const CB={"aria-label":as.string,onClick:as.func,variant:as.oneOf(["white"])},n0=z.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>J.jsx("button",{ref:s,type:"button",className:It("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));n0.displayName="CloseButton";n0.propTypes=CB;const gI=z.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...a},u)=>{const f=z.useContext(pI),h=S_(()=>{f?.onHide(),r?.()});return J.jsxs("div",{ref:u,...a,children:[s,n&&J.jsx(n0,{"aria-label":t,variant:e,onClick:h})]})});gI.displayName="AbstractModalHeader";const yI=z.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},a)=>(t=pn(t,"modal-header"),J.jsx(gI,{ref:a,...s,className:It(e,t),closeLabel:n,closeButton:r})));yI.displayName="ModalHeader";const RB=t=>z.forwardRef((e,n)=>J.jsx("div",{...e,ref:n,className:It(e.className,t)})),IB=RB("h4"),_I=z.forwardRef(({className:t,bsPrefix:e,as:n=IB,...r},s)=>(e=pn(e,"modal-title"),J.jsx(n,{ref:s,className:It(t,e),...r})));_I.displayName="ModalTitle";function NB(t){return J.jsx(e0,{...t,timeout:null})}function kB(t){return J.jsx(e0,{...t,timeout:null})}const vI=z.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:a,dialogAs:u=t0,"data-bs-theme":f,"aria-labelledby":h,"aria-describedby":d,"aria-label":m,show:_=!1,animation:v=!0,backdrop:E=!0,keyboard:x=!0,onEscapeKeyDown:I,onShow:D,onHide:P,container:q,autoFocus:$=!0,enforceFocus:H=!0,restoreFocus:X=!0,restoreFocusOptions:j,onEntered:U,onExit:C,onExiting:R,onEnter:M,onEntering:V,onExited:B,backdropClassName:A,manager:N,...G},L)=>{const[K,ee]=z.useState({}),[Z,b]=z.useState(!1),Q=z.useRef(!1),re=z.useRef(!1),k=z.useRef(null),[ce,ve]=gz(),_e=aI(L,ve),Re=S_(P),Se=xB();t=pn(t,"modal");const He=z.useMemo(()=>({onHide:Re}),[Re]);function Ue(){return N||cB({isRTL:Se})}function lt(te){if(!lu)return;const he=Ue().getScrollbarWidth()>0,Ae=te.scrollHeight>kp(te).documentElement.clientHeight;ee({paddingRight:he&&!Ae?c1():void 0,paddingLeft:!he&&Ae?c1():void 0})}const pt=S_(()=>{ce&&lt(ce.dialog)});Ez(()=>{T_(window,"resize",pt),k.current==null||k.current()});const bt=()=>{Q.current=!0},mt=te=>{Q.current&&ce&&te.target===ce.dialog&&(re.current=!0),Q.current=!1},Oe=()=>{b(!0),k.current=lI(ce.dialog,()=>{b(!1)})},Vt=te=>{te.target===te.currentTarget&&Oe()},Be=te=>{if(E==="static"){Vt(te);return}if(re.current||te.target!==te.currentTarget){re.current=!1;return}P?.()},Ce=te=>{x?I?.(te):(te.preventDefault(),E==="static"&&Oe())},Ot=(te,he)=>{te&&lt(te),M?.(te,he)},sn=te=>{k.current==null||k.current(),C?.(te)},bn=(te,he)=>{V?.(te,he),oI(window,"resize",pt)},Gn=te=>{te&&(te.style.display=""),B?.(te),T_(window,"resize",pt)},Tn=z.useCallback(te=>J.jsx("div",{...te,className:It(`${t}-backdrop`,A,!v&&"show")}),[v,A,t]),Wt={...n,...K};Wt.display="block";const Bn=te=>J.jsx("div",{role:"dialog",...te,style:Wt,className:It(e,t,Z&&`${t}-static`,!v&&"show"),onClick:E?Be:void 0,onMouseUp:mt,"data-bs-theme":f,"aria-label":m,"aria-labelledby":h,"aria-describedby":d,children:J.jsx(u,{...G,onMouseDown:bt,className:r,contentClassName:s,children:a})});return J.jsx(pI.Provider,{value:He,children:J.jsx(iB,{show:_,ref:_e,backdrop:E,container:q,keyboard:!0,autoFocus:$,enforceFocus:H,restoreFocus:X,restoreFocusOptions:j,onEscapeKeyDown:Ce,onShow:D,onHide:P,onEnter:Ot,onEntering:bn,onEntered:U,onExit:sn,onExiting:R,onExited:Gn,manager:Ue(),transition:v?NB:void 0,backdropTransition:v?kB:void 0,renderBackdrop:Tn,renderDialog:Bn})})});vI.displayName="Modal";const yc=Object.assign(vI,{Body:dI,Header:yI,Title:_I,Footer:mI,Dialog:t0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),DB=["as","disabled"];function OB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MB(t){return!t||t.trim()==="#"}function EI({tagName:t,disabled:e,href:n,target:r,rel:s,role:a,onClick:u,tabIndex:f=0,type:h}){t||(n!=null||r!=null||s!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},d];const m=v=>{if((e||t==="a"&&MB(n))&&v.preventDefault(),e){v.stopPropagation();return}u?.(v)},_=v=>{v.key===" "&&(v.preventDefault(),m(v))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:f,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:m,onKeyDown:_},d]}const PB=z.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=OB(t,DB);const[a,{tagName:u}]=EI(Object.assign({tagName:n,disabled:r},s));return J.jsx(u,Object.assign({},s,a,{ref:e}))});PB.displayName="Button";const C_=z.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:a=!1,className:u,...f},h)=>{const d=pn(e,"btn"),[m,{tagName:_}]=EI({tagName:t,disabled:a,...f}),v=_;return J.jsx(v,{...m,...f,ref:h,disabled:a,className:It(u,d,s&&"active",n&&`${d}-${n}`,r&&`${d}-${r}`,f.href&&a&&"disabled")})});C_.displayName="Button";const VB={type:as.string,tooltip:as.bool,as:as.elementType},Op=z.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},a)=>J.jsx(t,{...s,ref:a,className:It(e,`${n}-${r?"tooltip":"feedback"}`)}));Op.displayName="Feedback";Op.propTypes=VB;const ps=z.createContext({}),r0=z.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:a=!1,as:u="input",...f},h)=>{const{controlId:d}=z.useContext(ps);return e=pn(e,"form-check-input"),J.jsx(u,{...f,ref:h,type:r,id:t||d,className:It(n,e,s&&"is-valid",a&&"is-invalid")})});r0.displayName="FormCheckInput";const Jd=z.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:a}=z.useContext(ps);return t=pn(t,"form-check-label"),J.jsx("label",{...r,ref:s,htmlFor:n||a,className:It(e,t)})});Jd.displayName="FormCheckLabel";function LB(t,e){return z.Children.toArray(t).some(n=>z.isValidElement(n)&&n.type===e)}const wI=z.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:a=!1,isValid:u=!1,isInvalid:f=!1,feedbackTooltip:h=!1,feedback:d,feedbackType:m,className:_,style:v,title:E="",type:x="checkbox",label:I,children:D,as:P="input",...q},$)=>{e=pn(e,"form-check"),n=pn(n,"form-switch");const{controlId:H}=z.useContext(ps),X=z.useMemo(()=>({controlId:t||H}),[H,t]),j=!D&&I!=null&&I!==!1||LB(D,Jd),U=J.jsx(r0,{...q,type:x==="switch"?"checkbox":x,ref:$,isValid:u,isInvalid:f,disabled:a,as:P});return J.jsx(ps.Provider,{value:X,children:J.jsx("div",{style:v,className:It(_,j&&e,r&&`${e}-inline`,s&&`${e}-reverse`,x==="switch"&&n),children:D||J.jsxs(J.Fragment,{children:[U,j&&J.jsx(Jd,{title:E,children:I}),d&&J.jsx(Op,{type:m,tooltip:h,children:d})]})})})});wI.displayName="FormCheck";const ep=Object.assign(wI,{Input:r0,Label:Jd}),bI=z.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:a,isValid:u=!1,isInvalid:f=!1,plaintext:h,readOnly:d,as:m="input",..._},v)=>{const{controlId:E}=z.useContext(ps);return t=pn(t,"form-control"),J.jsx(m,{..._,type:e,size:r,ref:v,readOnly:d,id:s||E,className:It(a,h?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",f&&"is-invalid")})});bI.displayName="FormControl";const UB=Object.assign(bI,{Feedback:Op}),TI=z.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=pn(e,"form-floating"),J.jsx(n,{ref:s,className:It(t,e),...r})));TI.displayName="FormFloating";const i0=z.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=z.useMemo(()=>({controlId:t}),[t]);return J.jsx(ps.Provider,{value:s,children:J.jsx(e,{...n,ref:r})})});i0.displayName="FormGroup";function zB({as:t,bsPrefix:e,className:n,...r}){e=pn(e,"col");const s=SB(),a=AB(),u=[],f=[];return s.forEach(h=>{const d=r[h];delete r[h];let m,_,v;typeof d=="object"&&d!=null?{span:m,offset:_,order:v}=d:m=d;const E=h!==a?`-${h}`:"";m&&u.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),v!=null&&f.push(`order${E}-${v}`),_!=null&&f.push(`offset${E}-${_}`)}),[{...r,className:It(n,...u,...f)},{as:t,bsPrefix:e,spans:u}]}const SI=z.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:a,spans:u}]=zB(t);return J.jsx(s,{...r,ref:e,className:It(n,!u.length&&a)})});SI.displayName="Col";const AI=z.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:a,...u},f)=>{const{controlId:h}=z.useContext(ps);e=pn(e,"form-label");let d="col-form-label";typeof n=="string"&&(d=`${d} ${d}-${n}`);const m=It(s,e,r&&"visually-hidden",n&&d);return a=a||h,n?J.jsx(SI,{ref:f,as:"label",className:m,htmlFor:a,...u}):J.jsx(t,{ref:f,className:m,htmlFor:a,...u})});AI.displayName="FormLabel";const xI=z.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:a}=z.useContext(ps);return t=pn(t,"form-range"),J.jsx("input",{...r,type:"range",ref:s,className:It(e,t),id:n||a})});xI.displayName="FormRange";const CI=z.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:a=!1,id:u,...f},h)=>{const{controlId:d}=z.useContext(ps);return t=pn(t,"form-select"),J.jsx("select",{...f,size:n,ref:h,className:It(r,t,e&&`${t}-${e}`,s&&"is-valid",a&&"is-invalid"),id:u||d})});CI.displayName="FormSelect";const RI=z.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},a)=>(t=pn(t,"form-text"),J.jsx(n,{...s,ref:a,className:It(e,t,r&&"text-muted")})));RI.displayName="FormText";const II=z.forwardRef((t,e)=>J.jsx(ep,{...t,ref:e,type:"switch"}));II.displayName="Switch";const BB=Object.assign(II,{Input:ep.Input,Label:ep.Label}),NI=z.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...a},u)=>(t=pn(t,"form-floating"),J.jsxs(i0,{ref:u,className:It(e,t),controlId:r,...a,children:[n,J.jsx("label",{htmlFor:r,children:s})]})));NI.displayName="FloatingLabel";const FB={_ref:as.any,validated:as.bool,as:as.elementType},s0=z.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>J.jsx(n,{...r,ref:s,className:It(t,e&&"was-validated")}));s0.displayName="Form";s0.propTypes=FB;const El=Object.assign(s0,{Group:i0,Control:UB,Floating:TI,Check:ep,Switch:BB,Label:AI,Text:RI,Range:xI,Select:CI,FloatingLabel:NI});function HB({show:t,onHide:e,onConfirm:n,isCreating:r=!1}){const[s,a]=z.useState(""),[u,f]=z.useState(!0),h=z.useCallback(v=>{const E=v.target.value;a(E),f(E.trim().length>0&&E.trim().length<=50)},[]),d=z.useCallback(v=>{v.preventDefault();const E=s.trim();E.length>0&&E.length<=50&&(n(E),a(""),f(!0))},[s,n]),m=z.useCallback(()=>{a(""),f(!0),e()},[e]),_=z.useCallback(v=>{v.key==="Enter"&&d(v)},[d]);return J.jsxs(yc,{show:t,onHide:m,centered:!0,backdrop:"static",keyboard:!1,className:"board-name-modal",style:{zIndex:2001},children:[J.jsx(yc.Header,{closeButton:!0,children:J.jsx(yc.Title,{children:"Create New Board"})}),J.jsxs(El,{onSubmit:d,children:[J.jsx(yc.Body,{children:J.jsxs(El.Group,{children:[J.jsx(El.Label,{children:"Board Name"}),J.jsx(El.Control,{type:"text",value:s,onChange:h,onKeyPress:_,placeholder:"Enter board name...",isInvalid:!u,maxLength:50,autoFocus:!0}),J.jsx(El.Control.Feedback,{type:"invalid",children:"Board name must be between 1 and 50 characters long."}),J.jsxs(El.Text,{className:"text-muted",children:[s.length,"/50 characters"]})]})}),J.jsxs(yc.Footer,{children:[J.jsx(C_,{variant:"secondary",onClick:m,disabled:r,children:"Cancel"}),J.jsx(C_,{variant:"primary",type:"submit",disabled:!u||s.trim().length===0||r,children:r?"Creating...":"Create Board"})]})]})]})}function jB(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const qB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$B=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,GB={};function T1(t,e){return(GB.jsx?$B:qB).test(t)}const YB=/[ \t\n\f\r]/g;function KB(t){return typeof t=="object"?t.type==="text"?S1(t.value):!1:S1(t)}function S1(t){return t.replace(YB,"")===""}class Af{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Af.prototype.normal={};Af.prototype.property={};Af.prototype.space=void 0;function kI(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Af(n,r,e)}function R_(t){return t.toLowerCase()}class nr{constructor(e,n){this.attribute=n,this.property=e}}nr.prototype.attribute="";nr.prototype.booleanish=!1;nr.prototype.boolean=!1;nr.prototype.commaOrSpaceSeparated=!1;nr.prototype.commaSeparated=!1;nr.prototype.defined=!1;nr.prototype.mustUseProperty=!1;nr.prototype.number=!1;nr.prototype.overloadedBoolean=!1;nr.prototype.property="";nr.prototype.spaceSeparated=!1;nr.prototype.space=void 0;let XB=0;const Ge=ba(),nn=ba(),I_=ba(),Ee=ba(),Ct=ba(),zl=ba(),pr=ba();function ba(){return 2**++XB}const N_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:nn,commaOrSpaceSeparated:pr,commaSeparated:zl,number:Ee,overloadedBoolean:I_,spaceSeparated:Ct},Symbol.toStringTag,{value:"Module"})),vy=Object.keys(N_);class o0 extends nr{constructor(e,n,r,s){let a=-1;if(super(e,n),A1(this,"space",s),typeof r=="number")for(;++a<vy.length;){const u=vy[a];A1(this,vy[a],(r&N_[u])===N_[u])}}}o0.prototype.defined=!0;function A1(t,e,n){n&&(t[e]=n)}function uu(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const a=new o0(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[R_(r)]=r,n[R_(a.attribute)]=r}return new Af(e,n,t.space)}const DI=uu({properties:{ariaActiveDescendant:null,ariaAtomic:nn,ariaAutoComplete:null,ariaBusy:nn,ariaChecked:nn,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:Ct,ariaCurrent:null,ariaDescribedBy:Ct,ariaDetails:null,ariaDisabled:nn,ariaDropEffect:Ct,ariaErrorMessage:null,ariaExpanded:nn,ariaFlowTo:Ct,ariaGrabbed:nn,ariaHasPopup:null,ariaHidden:nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ct,ariaLevel:Ee,ariaLive:null,ariaModal:nn,ariaMultiLine:nn,ariaMultiSelectable:nn,ariaOrientation:null,ariaOwns:Ct,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:nn,ariaReadOnly:nn,ariaRelevant:null,ariaRequired:nn,ariaRoleDescription:Ct,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:nn,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function OI(t,e){return e in t?t[e]:e}function MI(t,e){return OI(t,e.toLowerCase())}const QB=uu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zl,acceptCharset:Ct,accessKey:Ct,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:Ct,autoFocus:Ge,autoPlay:Ge,blocking:Ct,capture:null,charSet:null,checked:Ge,cite:null,className:Ct,cols:Ee,colSpan:null,content:null,contentEditable:nn,controls:Ge,controlsList:Ct,coords:Ee|zl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:I_,draggable:nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:Ct,height:Ee,hidden:I_,high:Ee,href:null,hrefLang:null,htmlFor:Ct,httpEquiv:Ct,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:Ct,itemRef:Ct,itemScope:Ge,itemType:Ct,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:Ee,pattern:null,ping:Ct,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:Ct,required:Ge,reversed:Ge,rows:Ee,rowSpan:Ee,sandbox:Ct,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:nn,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ct,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:nn,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:MI}),WB=uu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pr,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:Ct,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zl,g2:zl,glyphName:zl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ct,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pr,rev:pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pr,requiredFeatures:pr,requiredFonts:pr,requiredFormats:pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pr,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:OI}),PI=uu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),VI=uu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:MI}),LI=uu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),ZB={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},JB=/[A-Z]/g,x1=/-[a-z]/g,e8=/^data[-\w.:]+$/i;function t8(t,e){const n=R_(e);let r=e,s=nr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&e8.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(x1,r8);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!x1.test(a)){let u=a.replace(JB,n8);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=o0}return new s(r,e)}function n8(t){return"-"+t.toLowerCase()}function r8(t){return t.charAt(1).toUpperCase()}const i8=kI([DI,QB,PI,VI,LI],"html"),a0=kI([DI,WB,PI,VI,LI],"svg");function s8(t){return t.join(" ").trim()}var wl={},Ey,C1;function o8(){if(C1)return Ey;C1=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,h=`
`,d="/",m="*",_="",v="comment",E="declaration";Ey=function(I,D){if(typeof I!="string")throw new TypeError("First argument must be a string");if(!I)return[];D=D||{};var P=1,q=1;function $(A){var N=A.match(e);N&&(P+=N.length);var G=A.lastIndexOf(h);q=~G?A.length-G:q+A.length}function H(){var A={line:P,column:q};return function(N){return N.position=new X(A),C(),N}}function X(A){this.start=A,this.end={line:P,column:q},this.source=D.source}X.prototype.content=I;function j(A){var N=new Error(D.source+":"+P+":"+q+": "+A);if(N.reason=A,N.filename=D.source,N.line=P,N.column=q,N.source=I,!D.silent)throw N}function U(A){var N=A.exec(I);if(N){var G=N[0];return $(G),I=I.slice(G.length),N}}function C(){U(n)}function R(A){var N;for(A=A||[];N=M();)N!==!1&&A.push(N);return A}function M(){var A=H();if(!(d!=I.charAt(0)||m!=I.charAt(1))){for(var N=2;_!=I.charAt(N)&&(m!=I.charAt(N)||d!=I.charAt(N+1));)++N;if(N+=2,_===I.charAt(N-1))return j("End of comment missing");var G=I.slice(2,N-2);return q+=2,$(G),I=I.slice(N),q+=2,A({type:v,comment:G})}}function V(){var A=H(),N=U(r);if(N){if(M(),!U(s))return j("property missing ':'");var G=U(a),L=A({type:E,property:x(N[0].replace(t,_)),value:G?x(G[0].replace(t,_)):_});return U(u),L}}function B(){var A=[];R(A);for(var N;N=V();)N!==!1&&(A.push(N),R(A));return A}return C(),B()};function x(I){return I?I.replace(f,_):_}return Ey}var R1;function a8(){if(R1)return wl;R1=1;var t=wl&&wl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wl,"__esModule",{value:!0}),wl.default=n;var e=t(o8());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var u=(0,e.default)(r),f=typeof s=="function";return u.forEach(function(h){if(h.type==="declaration"){var d=h.property,m=h.value;f?s(d,m,h):m&&(a=a||{},a[d]=m)}}),a}return wl}var _c={},I1;function l8(){if(I1)return _c;I1=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},u=function(d,m){return m.toUpperCase()},f=function(d,m){return"".concat(m,"-")},h=function(d,m){return m===void 0&&(m={}),a(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(s,f):d=d.replace(r,f),d.replace(e,u))};return _c.camelCase=h,_c}var vc,N1;function u8(){if(N1)return vc;N1=1;var t=vc&&vc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(a8()),n=l8();function r(s,a){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(f,h){f&&h&&(u[(0,n.camelCase)(f,a)]=h)}),u}return r.default=r,vc=r,vc}var c8=u8();const f8=ya(c8),UI=zI("end"),l0=zI("start");function zI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function h8(t){const e=l0(t),n=UI(t);if(e&&n)return{start:e,end:n}}function Lc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?k1(t.position):"start"in t||"end"in t?k1(t):"line"in t||"column"in t?k_(t):""}function k_(t){return D1(t&&t.line)+":"+D1(t&&t.column)}function k1(t){return k_(t&&t.start)+"-"+k_(t&&t.end)}function D1(t){return t&&typeof t=="number"?t:1}class zn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},u=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(u=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const f=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=f?f.line:void 0,this.name=Lc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}zn.prototype.file="";zn.prototype.name="";zn.prototype.reason="";zn.prototype.message="";zn.prototype.stack="";zn.prototype.column=void 0;zn.prototype.line=void 0;zn.prototype.ancestors=void 0;zn.prototype.cause=void 0;zn.prototype.fatal=void 0;zn.prototype.place=void 0;zn.prototype.ruleId=void 0;zn.prototype.source=void 0;const u0={}.hasOwnProperty,d8=new Map,p8=/[A-Z]/g,m8=new Set(["table","tbody","thead","tfoot","tr"]),g8=new Set(["td","th"]),BI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function y8(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=A8(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=S8(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?a0:i8,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=FI(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function FI(t,e,n){if(e.type==="element")return _8(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return v8(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return w8(t,e,n);if(e.type==="mdxjsEsm")return E8(t,e);if(e.type==="root")return b8(t,e,n);if(e.type==="text")return T8(t,e)}function _8(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=a0,t.schema=s),t.ancestors.push(e);const a=jI(t,e.tagName,!1),u=x8(t,e);let f=f0(t,e);return m8.has(e.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!KB(h):!0})),HI(t,u,a,e),c0(u,f),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function v8(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}of(t,e.position)}function E8(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);of(t,e.position)}function w8(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=a0,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:jI(t,e.name,!0),u=C8(t,e),f=f0(t,e);return HI(t,u,a,e),c0(u,f),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function b8(t,e,n){const r={};return c0(r,f0(t,e)),t.create(e,t.Fragment,r,n)}function T8(t,e){return e.value}function HI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function c0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function S8(t,e,n){return r;function r(s,a,u,f){const d=Array.isArray(u.children)?n:e;return f?d(a,u,f):d(a,u)}}function A8(t,e){return n;function n(r,s,a,u){const f=Array.isArray(a.children),h=l0(r);return e(s,a,u,f,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function x8(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&u0.call(e.properties,s)){const a=R8(t,s,e.properties[s]);if(a){const[u,f]=a;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&g8.has(e.tagName)?r=f:n[u]=f}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function C8(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const u=a.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else of(t,e.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const f=r.value.data.estree.body[0];f.type,a=t.evaluater.evaluateExpression(f.expression)}else of(t,e.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function f0(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:d8;for(;++r<e.children.length;){const a=e.children[r];let u;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const d=s.get(h)||0;u=h+"-"+d,s.set(h,d+1)}}const f=FI(t,a,u);f!==void 0&&n.push(f)}return n}function R8(t,e,n){const r=t8(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?jB(n):s8(n)),r.property==="style"){let s=typeof n=="object"?n:I8(t,String(n));return t.stylePropertyNameCase==="css"&&(s=N8(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?ZB[r.property]||r.property:r.attribute,n]}}function I8(t,e){try{return f8(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new zn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=BI+"#cannot-parse-style-attribute",s}}function jI(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,u;for(;++a<s.length;){const f=T1(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(a&&f.type==="Literal"),optional:!1}:f}r=u}else r=T1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return u0.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);of(t)}function of(t,e){const n=new zn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=BI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function N8(t){const e={};let n;for(n in t)u0.call(t,n)&&(e[k8(n)]=t[n]);return e}function k8(t){let e=t.replace(p8,D8);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function D8(t){return"-"+t.toLowerCase()}const wy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},O8={};function M8(t,e){const n=O8,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return qI(t,r,s)}function qI(t,e,n){if(P8(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return O1(t.children,e,n)}return Array.isArray(t)?O1(t,e,n):""}function O1(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=qI(t[s],e,n);return r.join("")}function P8(t){return!!(t&&typeof t=="object")}const M1=document.createElement("i");function h0(t){const e="&"+t+";";M1.innerHTML=e;const n=M1.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ki(t,e,n,r){const s=t.length;let a=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);a<r.length;)u=r.slice(a,a+1e4),u.unshift(e,0),t.splice(...u),a+=1e4,e+=1e4}function Ur(t,e){return t.length>0?(ki(t,t.length,0,e),t):e}const P1={}.hasOwnProperty;function V8(t){const e={};let n=-1;for(;++n<t.length;)L8(e,t[n]);return e}function L8(t,e){let n;for(n in e){const s=(P1.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let u;if(a)for(u in a){P1.call(s,u)||(s[u]=[]);const f=a[u];U8(s[u],Array.isArray(f)?f:f?[f]:[])}}}function U8(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ki(t,0,0,r)}function $I(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Bl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Si=bo(/[A-Za-z]/),gr=bo(/[\dA-Za-z]/),z8=bo(/[#-'*+\--9=?A-Z^-~]/);function D_(t){return t!==null&&(t<32||t===127)}const O_=bo(/\d/),B8=bo(/[\dA-Fa-f]/),F8=bo(/[!-/:-@[-`{-~]/);function Fe(t){return t!==null&&t<-2}function tr(t){return t!==null&&(t<0||t===32)}function ft(t){return t===-2||t===-1||t===32}const H8=bo(new RegExp("\\p{P}|\\p{S}","u")),j8=bo(/\s/);function bo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function cu(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let u="";if(a===37&&gr(t.charCodeAt(n+1))&&gr(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const f=t.charCodeAt(n+1);a<56320&&f>56319&&f<57344?(u=String.fromCharCode(a,f),s=1):u=""}else u=String.fromCharCode(a);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function Rt(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(h){return ft(h)?(t.enter(n),f(h)):e(h)}function f(h){return ft(h)&&a++<s?(t.consume(h),f):(t.exit(n),e(h))}}const q8={tokenize:$8};function $8(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Rt(t,e,"linePrefix")}function s(f){return t.enter("paragraph"),a(f)}function a(f){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Fe(f)?(t.consume(f),t.exit("chunkText"),a):(t.consume(f),u)}}const G8={tokenize:Y8},V1={tokenize:K8};function Y8(t){const e=this,n=[];let r=0,s,a,u;return f;function f($){if(r<n.length){const H=n[r];return e.containerState=H[1],t.attempt(H[0].continuation,h,d)($)}return d($)}function h($){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&q();const H=e.events.length;let X=H,j;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){j=e.events[X][1].end;break}P(r);let U=H;for(;U<e.events.length;)e.events[U][1].end={...j},U++;return ki(e.events,X+1,0,e.events.slice(H)),e.events.length=U,d($)}return f($)}function d($){if(r===n.length){if(!s)return v($);if(s.currentConstruct&&s.currentConstruct.concrete)return x($);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(V1,m,_)($)}function m($){return s&&q(),P(r),v($)}function _($){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,x($)}function v($){return e.containerState={},t.attempt(V1,E,x)($)}function E($){return r++,n.push([e.currentConstruct,e.containerState]),v($)}function x($){if($===null){s&&q(),P(0),t.consume($);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),I($)}function I($){if($===null){D(t.exit("chunkFlow"),!0),P(0),t.consume($);return}return Fe($)?(t.consume($),D(t.exit("chunkFlow")),r=0,e.interrupt=void 0,f):(t.consume($),I)}function D($,H){const X=e.sliceStream($);if(H&&X.push(null),$.previous=a,a&&(a.next=$),a=$,s.defineSkip($.start),s.write(X),e.parser.lazy[$.start.line]){let j=s.events.length;for(;j--;)if(s.events[j][1].start.offset<u&&(!s.events[j][1].end||s.events[j][1].end.offset>u))return;const U=e.events.length;let C=U,R,M;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(R){M=e.events[C][1].end;break}R=!0}for(P(r),j=U;j<e.events.length;)e.events[j][1].end={...M},j++;ki(e.events,C+1,0,e.events.slice(U)),e.events.length=j}}function P($){let H=n.length;for(;H-- >$;){const X=n[H];e.containerState=X[1],X[0].exit.call(e,t)}n.length=$}function q(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function K8(t,e,n){return Rt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function L1(t){if(t===null||tr(t)||j8(t))return 1;if(H8(t))return 2}function d0(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const M_={name:"attention",resolveAll:X8,tokenize:Q8};function X8(t,e){let n=-1,r,s,a,u,f,h,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[r][1].end},v={...t[n][1].start};U1(_,-h),U1(v,h),u={type:h>1?"strongSequence":"emphasisSequence",start:_,end:{...t[r][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},a={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:h>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[r][1].end={...u.start},t[n][1].start={...f.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ur(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ur(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",a,e]]),d=Ur(d,d0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ur(d,[["exit",a,e],["enter",f,e],["exit",f,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=Ur(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,ki(t,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Q8(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=L1(r);let a;return u;function u(h){return a=h,t.enter("attentionSequence"),f(h)}function f(h){if(h===a)return t.consume(h),f;const d=t.exit("attentionSequence"),m=L1(h),_=!m||m===2&&s||n.includes(h),v=!s||s===2&&m||n.includes(r);return d._open=!!(a===42?_:_&&(s||!v)),d._close=!!(a===42?v:v&&(m||!_)),e(h)}}function U1(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const W8={name:"autolink",tokenize:Z8};function Z8(t,e,n){let r=0;return s;function s(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(E){return Si(E)?(t.consume(E),u):E===64?n(E):d(E)}function u(E){return E===43||E===45||E===46||gr(E)?(r=1,f(E)):d(E)}function f(E){return E===58?(t.consume(E),r=0,h):(E===43||E===45||E===46||gr(E))&&r++<32?(t.consume(E),f):(r=0,d(E))}function h(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):E===null||E===32||E===60||D_(E)?n(E):(t.consume(E),h)}function d(E){return E===64?(t.consume(E),m):z8(E)?(t.consume(E),d):n(E)}function m(E){return gr(E)?_(E):n(E)}function _(E){return E===46?(t.consume(E),r=0,m):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):v(E)}function v(E){if((E===45||gr(E))&&r++<63){const x=E===45?v:_;return t.consume(E),x}return n(E)}}const Mp={partial:!0,tokenize:J8};function J8(t,e,n){return r;function r(a){return ft(a)?Rt(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||Fe(a)?e(a):n(a)}}const GI={continuation:{tokenize:tF},exit:nF,name:"blockQuote",tokenize:eF};function eF(t,e,n){const r=this;return s;function s(u){if(u===62){const f=r.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),a}return n(u)}function a(u){return ft(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function tF(t,e,n){const r=this;return s;function s(u){return ft(u)?Rt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return t.attempt(GI,e,n)(u)}}function nF(t){t.exit("blockQuote")}const YI={name:"characterEscape",tokenize:rF};function rF(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return F8(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const KI={name:"characterReference",tokenize:iF};function iF(t,e,n){const r=this;let s=0,a,u;return f;function f(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),h}function h(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,u=gr,m(_))}function d(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,u=B8,m):(t.enter("characterReferenceValue"),a=7,u=O_,m(_))}function m(_){if(_===59&&s){const v=t.exit("characterReferenceValue");return u===gr&&!h0(r.sliceSerialize(v))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(_)&&s++<a?(t.consume(_),m):n(_)}}const z1={partial:!0,tokenize:oF},B1={concrete:!0,name:"codeFenced",tokenize:sF};function sF(t,e,n){const r=this,s={partial:!0,tokenize:X};let a=0,u=0,f;return h;function h(j){return d(j)}function d(j){const U=r.events[r.events.length-1];return a=U&&U[1].type==="linePrefix"?U[2].sliceSerialize(U[1],!0).length:0,f=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(j)}function m(j){return j===f?(u++,t.consume(j),m):u<3?n(j):(t.exit("codeFencedFenceSequence"),ft(j)?Rt(t,_,"whitespace")(j):_(j))}function _(j){return j===null||Fe(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(z1,I,H)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||Fe(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(j)):ft(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Rt(t,E,"whitespace")(j)):j===96&&j===f?n(j):(t.consume(j),v)}function E(j){return j===null||Fe(j)?_(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(j))}function x(j){return j===null||Fe(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(j)):j===96&&j===f?n(j):(t.consume(j),x)}function I(j){return t.attempt(s,H,D)(j)}function D(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),P}function P(j){return a>0&&ft(j)?Rt(t,q,"linePrefix",a+1)(j):q(j)}function q(j){return j===null||Fe(j)?t.check(z1,I,H)(j):(t.enter("codeFlowValue"),$(j))}function $(j){return j===null||Fe(j)?(t.exit("codeFlowValue"),q(j)):(t.consume(j),$)}function H(j){return t.exit("codeFenced"),e(j)}function X(j,U,C){let R=0;return M;function M(G){return j.enter("lineEnding"),j.consume(G),j.exit("lineEnding"),V}function V(G){return j.enter("codeFencedFence"),ft(G)?Rt(j,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):B(G)}function B(G){return G===f?(j.enter("codeFencedFenceSequence"),A(G)):C(G)}function A(G){return G===f?(R++,j.consume(G),A):R>=u?(j.exit("codeFencedFenceSequence"),ft(G)?Rt(j,N,"whitespace")(G):N(G)):C(G)}function N(G){return G===null||Fe(G)?(j.exit("codeFencedFence"),U(G)):C(G)}}}function oF(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const by={name:"codeIndented",tokenize:lF},aF={partial:!0,tokenize:uF};function lF(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),Rt(t,a,"linePrefix",5)(d)}function a(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?h(d):Fe(d)?t.attempt(aF,u,h)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||Fe(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),f)}function h(d){return t.exit("codeIndented"),e(d)}}function uF(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):Fe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):Rt(t,a,"linePrefix",5)(u)}function a(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Fe(u)?s(u):n(u)}}const cF={name:"codeText",previous:hF,resolve:fF,tokenize:dF};function fF(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function hF(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function dF(t,e,n){let r=0,s,a;return u;function u(_){return t.enter("codeText"),t.enter("codeTextSequence"),f(_)}function f(_){return _===96?(t.consume(_),r++,f):(t.exit("codeTextSequence"),h(_))}function h(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),h):_===96?(a=t.enter("codeTextSequence"),s=0,m(_)):Fe(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),h):(t.enter("codeTextData"),d(_))}function d(_){return _===null||_===32||_===96||Fe(_)?(t.exit("codeTextData"),h(_)):(t.consume(_),d)}function m(_){return _===96?(t.consume(_),s++,m):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",d(_))}}class pF{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Ec(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ec(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ec(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ec(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ec(this.left,n.reverse())}}}function Ec(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function XI(t){const e={};let n=-1,r,s,a,u,f,h,d;const m=new pF(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,mF(m,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(u=m.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...m.get(s)[1].start},f=m.slice(s,n),f.unshift(r),m.splice(s,n-s+1,f))}}return ki(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function mF(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const a=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,h=[],d={};let m,_,v=-1,E=n,x=0,I=0;const D=[I];for(;E;){for(;t.get(++s)[1]!==E;);a.push(s),E._tokenizer||(m=r.sliceStream(E),E.next||m.push(null),_&&u.defineSkip(E.start),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=E,E=E.next}for(E=n;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(I=v+1,D.push(I),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(u.events=[],E?(E._tokenizer=void 0,E.previous=void 0):D.pop(),v=D.length;v--;){const P=f.slice(D[v],D[v+1]),q=a.pop();h.push([q,q+P.length-1]),t.splice(q,2,P)}for(h.reverse(),v=-1;++v<h.length;)d[x+h[v][0]]=x+h[v][1],x+=h[v][1]-h[v][0]-1;return d}const gF={resolve:_F,tokenize:vF},yF={partial:!0,tokenize:EF};function _F(t){return XI(t),t}function vF(t,e){let n;return r;function r(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(f)}function s(f){return f===null?a(f):Fe(f)?t.check(yF,u,a)(f):(t.consume(f),s)}function a(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function EF(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Rt(t,a,"linePrefix")}function a(u){if(u===null||Fe(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function QI(t,e,n,r,s,a,u,f,h){const d=h||Number.POSITIVE_INFINITY;let m=0;return _;function _(P){return P===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(P),t.exit(a),v):P===null||P===32||P===41||D_(P)?n(P):(t.enter(r),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),I(P))}function v(P){return P===62?(t.enter(a),t.consume(P),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),E(P))}function E(P){return P===62?(t.exit("chunkString"),t.exit(f),v(P)):P===null||P===60||Fe(P)?n(P):(t.consume(P),P===92?x:E)}function x(P){return P===60||P===62||P===92?(t.consume(P),E):E(P)}function I(P){return!m&&(P===null||P===41||tr(P))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(r),e(P)):m<d&&P===40?(t.consume(P),m++,I):P===41?(t.consume(P),m--,I):P===null||P===32||P===40||D_(P)?n(P):(t.consume(P),P===92?D:I)}function D(P){return P===40||P===41||P===92?(t.consume(P),I):I(P)}}function WI(t,e,n,r,s,a){const u=this;let f=0,h;return d;function d(E){return t.enter(r),t.enter(s),t.consume(E),t.exit(s),t.enter(a),m}function m(E){return f>999||E===null||E===91||E===93&&!h||E===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(E):E===93?(t.exit(a),t.enter(s),t.consume(E),t.exit(s),t.exit(r),e):Fe(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),_(E))}function _(E){return E===null||E===91||E===93||Fe(E)||f++>999?(t.exit("chunkString"),m(E)):(t.consume(E),h||(h=!ft(E)),E===92?v:_)}function v(E){return E===91||E===92||E===93?(t.consume(E),f++,_):_(E)}}function ZI(t,e,n,r,s,a){let u;return f;function f(v){return v===34||v===39||v===40?(t.enter(r),t.enter(s),t.consume(v),t.exit(s),u=v===40?41:v,h):n(v)}function h(v){return v===u?(t.enter(s),t.consume(v),t.exit(s),t.exit(r),e):(t.enter(a),d(v))}function d(v){return v===u?(t.exit(a),h(u)):v===null?n(v):Fe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Rt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===u||v===null||Fe(v)?(t.exit("chunkString"),d(v)):(t.consume(v),v===92?_:m)}function _(v){return v===u||v===92?(t.consume(v),m):m(v)}}function Uc(t,e){let n;return r;function r(s){return Fe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):ft(s)?Rt(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const wF={name:"definition",tokenize:TF},bF={partial:!0,tokenize:SF};function TF(t,e,n){const r=this;let s;return a;function a(E){return t.enter("definition"),u(E)}function u(E){return WI.call(r,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function f(E){return s=Bl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),h):n(E)}function h(E){return tr(E)?Uc(t,d)(E):d(E)}function d(E){return QI(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function m(E){return t.attempt(bF,_,_)(E)}function _(E){return ft(E)?Rt(t,v,"whitespace")(E):v(E)}function v(E){return E===null||Fe(E)?(t.exit("definition"),r.parser.defined.push(s),e(E)):n(E)}}function SF(t,e,n){return r;function r(f){return tr(f)?Uc(t,s)(f):n(f)}function s(f){return ZI(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function a(f){return ft(f)?Rt(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Fe(f)?e(f):n(f)}}const AF={name:"hardBreakEscape",tokenize:xF};function xF(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return Fe(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const CF={name:"headingAtx",resolve:RF,tokenize:IF};function RF(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ki(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function IF(t,e,n){let r=0;return s;function s(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(t.consume(m),u):m===null||tr(m)?(t.exit("atxHeadingSequence"),f(m)):n(m)}function f(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||Fe(m)?(t.exit("atxHeading"),e(m)):ft(m)?Rt(t,f,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),f(m))}function d(m){return m===null||m===35||tr(m)?(t.exit("atxHeadingText"),f(m)):(t.consume(m),d)}}const NF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],F1=["pre","script","style","textarea"],kF={concrete:!0,name:"htmlFlow",resolveTo:MF,tokenize:PF},DF={partial:!0,tokenize:LF},OF={partial:!0,tokenize:VF};function MF(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function PF(t,e,n){const r=this;let s,a,u,f,h;return d;function d(k){return m(k)}function m(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),_}function _(k){return k===33?(t.consume(k),v):k===47?(t.consume(k),a=!0,I):k===63?(t.consume(k),s=3,r.interrupt?e:b):Si(k)?(t.consume(k),u=String.fromCharCode(k),D):n(k)}function v(k){return k===45?(t.consume(k),s=2,E):k===91?(t.consume(k),s=5,f=0,x):Si(k)?(t.consume(k),s=4,r.interrupt?e:b):n(k)}function E(k){return k===45?(t.consume(k),r.interrupt?e:b):n(k)}function x(k){const ce="CDATA[";return k===ce.charCodeAt(f++)?(t.consume(k),f===ce.length?r.interrupt?e:B:x):n(k)}function I(k){return Si(k)?(t.consume(k),u=String.fromCharCode(k),D):n(k)}function D(k){if(k===null||k===47||k===62||tr(k)){const ce=k===47,ve=u.toLowerCase();return!ce&&!a&&F1.includes(ve)?(s=1,r.interrupt?e(k):B(k)):NF.includes(u.toLowerCase())?(s=6,ce?(t.consume(k),P):r.interrupt?e(k):B(k)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):a?q(k):$(k))}return k===45||gr(k)?(t.consume(k),u+=String.fromCharCode(k),D):n(k)}function P(k){return k===62?(t.consume(k),r.interrupt?e:B):n(k)}function q(k){return ft(k)?(t.consume(k),q):M(k)}function $(k){return k===47?(t.consume(k),M):k===58||k===95||Si(k)?(t.consume(k),H):ft(k)?(t.consume(k),$):M(k)}function H(k){return k===45||k===46||k===58||k===95||gr(k)?(t.consume(k),H):X(k)}function X(k){return k===61?(t.consume(k),j):ft(k)?(t.consume(k),X):$(k)}function j(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),h=k,U):ft(k)?(t.consume(k),j):C(k)}function U(k){return k===h?(t.consume(k),h=null,R):k===null||Fe(k)?n(k):(t.consume(k),U)}function C(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||tr(k)?X(k):(t.consume(k),C)}function R(k){return k===47||k===62||ft(k)?$(k):n(k)}function M(k){return k===62?(t.consume(k),V):n(k)}function V(k){return k===null||Fe(k)?B(k):ft(k)?(t.consume(k),V):n(k)}function B(k){return k===45&&s===2?(t.consume(k),L):k===60&&s===1?(t.consume(k),K):k===62&&s===4?(t.consume(k),Q):k===63&&s===3?(t.consume(k),b):k===93&&s===5?(t.consume(k),Z):Fe(k)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(DF,re,A)(k)):k===null||Fe(k)?(t.exit("htmlFlowData"),A(k)):(t.consume(k),B)}function A(k){return t.check(OF,N,re)(k)}function N(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),G}function G(k){return k===null||Fe(k)?A(k):(t.enter("htmlFlowData"),B(k))}function L(k){return k===45?(t.consume(k),b):B(k)}function K(k){return k===47?(t.consume(k),u="",ee):B(k)}function ee(k){if(k===62){const ce=u.toLowerCase();return F1.includes(ce)?(t.consume(k),Q):B(k)}return Si(k)&&u.length<8?(t.consume(k),u+=String.fromCharCode(k),ee):B(k)}function Z(k){return k===93?(t.consume(k),b):B(k)}function b(k){return k===62?(t.consume(k),Q):k===45&&s===2?(t.consume(k),b):B(k)}function Q(k){return k===null||Fe(k)?(t.exit("htmlFlowData"),re(k)):(t.consume(k),Q)}function re(k){return t.exit("htmlFlow"),e(k)}}function VF(t,e,n){const r=this;return s;function s(u){return Fe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):n(u)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function LF(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Mp,e,n)}}const UF={name:"htmlText",tokenize:zF};function zF(t,e,n){const r=this;let s,a,u;return f;function f(b){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(b),h}function h(b){return b===33?(t.consume(b),d):b===47?(t.consume(b),X):b===63?(t.consume(b),$):Si(b)?(t.consume(b),C):n(b)}function d(b){return b===45?(t.consume(b),m):b===91?(t.consume(b),a=0,x):Si(b)?(t.consume(b),q):n(b)}function m(b){return b===45?(t.consume(b),E):n(b)}function _(b){return b===null?n(b):b===45?(t.consume(b),v):Fe(b)?(u=_,K(b)):(t.consume(b),_)}function v(b){return b===45?(t.consume(b),E):_(b)}function E(b){return b===62?L(b):b===45?v(b):_(b)}function x(b){const Q="CDATA[";return b===Q.charCodeAt(a++)?(t.consume(b),a===Q.length?I:x):n(b)}function I(b){return b===null?n(b):b===93?(t.consume(b),D):Fe(b)?(u=I,K(b)):(t.consume(b),I)}function D(b){return b===93?(t.consume(b),P):I(b)}function P(b){return b===62?L(b):b===93?(t.consume(b),P):I(b)}function q(b){return b===null||b===62?L(b):Fe(b)?(u=q,K(b)):(t.consume(b),q)}function $(b){return b===null?n(b):b===63?(t.consume(b),H):Fe(b)?(u=$,K(b)):(t.consume(b),$)}function H(b){return b===62?L(b):$(b)}function X(b){return Si(b)?(t.consume(b),j):n(b)}function j(b){return b===45||gr(b)?(t.consume(b),j):U(b)}function U(b){return Fe(b)?(u=U,K(b)):ft(b)?(t.consume(b),U):L(b)}function C(b){return b===45||gr(b)?(t.consume(b),C):b===47||b===62||tr(b)?R(b):n(b)}function R(b){return b===47?(t.consume(b),L):b===58||b===95||Si(b)?(t.consume(b),M):Fe(b)?(u=R,K(b)):ft(b)?(t.consume(b),R):L(b)}function M(b){return b===45||b===46||b===58||b===95||gr(b)?(t.consume(b),M):V(b)}function V(b){return b===61?(t.consume(b),B):Fe(b)?(u=V,K(b)):ft(b)?(t.consume(b),V):R(b)}function B(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),s=b,A):Fe(b)?(u=B,K(b)):ft(b)?(t.consume(b),B):(t.consume(b),N)}function A(b){return b===s?(t.consume(b),s=void 0,G):b===null?n(b):Fe(b)?(u=A,K(b)):(t.consume(b),A)}function N(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||tr(b)?R(b):(t.consume(b),N)}function G(b){return b===47||b===62||tr(b)?R(b):n(b)}function L(b){return b===62?(t.consume(b),t.exit("htmlTextData"),t.exit("htmlText"),e):n(b)}function K(b){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),ee}function ee(b){return ft(b)?Rt(t,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):Z(b)}function Z(b){return t.enter("htmlTextData"),u(b)}}const p0={name:"labelEnd",resolveAll:jF,resolveTo:qF,tokenize:$F},BF={tokenize:GF},FF={tokenize:YF},HF={tokenize:KF};function jF(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&ki(t,0,t.length,n),t}function qF(t,e){let n=t.length,r=0,s,a,u,f;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[u][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",h,e],["enter",d,e]],f=Ur(f,t.slice(a+1,a+r+3)),f=Ur(f,[["enter",m,e]]),f=Ur(f,d0(e.parser.constructs.insideSpan.null,t.slice(a+r+4,u-3),e)),f=Ur(f,[["exit",m,e],t[u-2],t[u-1],["exit",d,e]]),f=Ur(f,t.slice(u+1)),f=Ur(f,[["exit",h,e]]),ki(t,a,t.length,f),t}function $F(t,e,n){const r=this;let s=r.events.length,a,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return f;function f(v){return a?a._inactive?_(v):(u=r.parser.defined.includes(Bl(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),h):n(v)}function h(v){return v===40?t.attempt(BF,m,u?m:_)(v):v===91?t.attempt(FF,m,u?d:_)(v):u?m(v):_(v)}function d(v){return t.attempt(HF,m,_)(v)}function m(v){return e(v)}function _(v){return a._balanced=!0,n(v)}}function GF(t,e,n){return r;function r(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),s}function s(_){return tr(_)?Uc(t,a)(_):a(_)}function a(_){return _===41?m(_):QI(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return tr(_)?Uc(t,h)(_):m(_)}function f(_){return n(_)}function h(_){return _===34||_===39||_===40?ZI(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):m(_)}function d(_){return tr(_)?Uc(t,m)(_):m(_)}function m(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function YF(t,e,n){const r=this;return s;function s(f){return WI.call(r,t,a,u,"reference","referenceMarker","referenceString")(f)}function a(f){return r.parser.defined.includes(Bl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function KF(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const XF={name:"labelStartImage",resolveAll:p0.resolveAll,tokenize:QF};function QF(t,e,n){const r=this;return s;function s(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),a}function a(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):e(f)}}const WF={name:"labelStartLink",resolveAll:p0.resolveAll,tokenize:ZF};function ZF(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Ty={name:"lineEnding",tokenize:JF};function JF(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Rt(t,e,"linePrefix")}}const Td={name:"thematicBreak",tokenize:e7};function e7(t,e,n){let r=0,s;return a;function a(d){return t.enter("thematicBreak"),u(d)}function u(d){return s=d,f(d)}function f(d){return d===s?(t.enter("thematicBreakSequence"),h(d)):r>=3&&(d===null||Fe(d))?(t.exit("thematicBreak"),e(d)):n(d)}function h(d){return d===s?(t.consume(d),r++,h):(t.exit("thematicBreakSequence"),ft(d)?Rt(t,f,"whitespace")(d):f(d))}}const Wn={continuation:{tokenize:i7},exit:o7,name:"list",tokenize:r7},t7={partial:!0,tokenize:a7},n7={partial:!0,tokenize:s7};function r7(t,e,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return f;function f(E){const x=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:O_(E)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(Td,n,d)(E):d(E);if(!r.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(E)}return n(E)}function h(E){return O_(E)&&++u<10?(t.consume(E),h):(!r.interrupt||u<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),d(E)):n(E)}function d(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,t.check(Mp,r.interrupt?n:m,t.attempt(t7,v,_))}function m(E){return r.containerState.initialBlankLine=!0,a++,v(E)}function _(E){return ft(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),v):n(E)}function v(E){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(E)}}function i7(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Mp,s,a);function s(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Rt(t,e,"listItemIndent",r.containerState.size+1)(f)}function a(f){return r.containerState.furtherBlankLines||!ft(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(n7,e,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Rt(t,t.attempt(Wn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function s7(t,e,n){const r=this;return Rt(t,s,"listItemIndent",r.containerState.size+1);function s(a){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(a):n(a)}}function o7(t){t.exit(this.containerState.type)}function a7(t,e,n){const r=this;return Rt(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const u=r.events[r.events.length-1];return!ft(a)&&u&&u[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const H1={name:"setextUnderline",resolveTo:l7,tokenize:u7};function l7(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",u,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function u7(t,e,n){const r=this;let s;return a;function a(d){let m=r.events.length,_;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){_=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(t.enter("setextHeadingLine"),s=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===s?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),ft(d)?Rt(t,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Fe(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const c7={tokenize:f7};function f7(t){const e=this,n=t.attempt(Mp,r,t.attempt(this.parser.constructs.flowInitial,s,Rt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(gF,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const h7={resolveAll:eN()},d7=JI("string"),p7=JI("text");function JI(t){return{resolveAll:eN(t==="text"?m7:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],a=n.attempt(s,u,f);return u;function u(m){return d(m)?a(m):f(m)}function f(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return d(m)?(n.exit("data"),a(m)):(n.consume(m),h)}function d(m){if(m===null)return!0;const _=s[m];let v=-1;if(_)for(;++v<_.length;){const E=_[v];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function eN(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}function m7(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let a=s.length,u=-1,f=0,h;for(;a--;){const d=s[a];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)h=!0,f++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const d={type:n===t.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:r.start._bufferIndex+u,_index:r.start._index+a,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const g7={42:Wn,43:Wn,45:Wn,48:Wn,49:Wn,50:Wn,51:Wn,52:Wn,53:Wn,54:Wn,55:Wn,56:Wn,57:Wn,62:GI},y7={91:wF},_7={[-2]:by,[-1]:by,32:by},v7={35:CF,42:Td,45:[H1,Td],60:kF,61:H1,95:Td,96:B1,126:B1},E7={38:KI,92:YI},w7={[-5]:Ty,[-4]:Ty,[-3]:Ty,33:XF,38:KI,42:M_,60:[W8,UF],91:WF,92:[AF,YI],93:p0,95:M_,96:cF},b7={null:[M_,h7]},T7={null:[42,95]},S7={null:[]},A7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:T7,contentInitial:y7,disable:S7,document:g7,flow:v7,flowInitial:_7,insideSpan:b7,string:E7,text:w7},Symbol.toStringTag,{value:"Module"}));function x7(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let u=[],f=[];const h={attempt:U(X),check:U(j),consume:q,enter:$,exit:H,interrupt:U(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:I,events:[],now:x,parser:t,previous:null,sliceSerialize:v,sliceStream:E,write:_};let m=e.tokenize.call(d,h);return e.resolveAll&&a.push(e),d;function _(V){return u=Ur(u,V),D(),u[u.length-1]!==null?[]:(C(e,0),d.events=d0(a,d.events,d),d.events)}function v(V,B){return R7(E(V),B)}function E(V){return C7(u,V)}function x(){const{_bufferIndex:V,_index:B,line:A,column:N,offset:G}=r;return{_bufferIndex:V,_index:B,line:A,column:N,offset:G}}function I(V){s[V.line]=V.column,M()}function D(){let V;for(;r._index<u.length;){const B=u[r._index];if(typeof B=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<B.length;)P(B.charCodeAt(r._bufferIndex));else P(B)}}function P(V){m=m(V)}function q(V){Fe(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,M()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=V}function $(V,B){const A=B||{};return A.type=V,A.start=x(),d.events.push(["enter",A,d]),f.push(A),A}function H(V){const B=f.pop();return B.end=x(),d.events.push(["exit",B,d]),B}function X(V,B){C(V,B.from)}function j(V,B){B.restore()}function U(V,B){return A;function A(N,G,L){let K,ee,Z,b;return Array.isArray(N)?re(N):"tokenize"in N?re([N]):Q(N);function Q(_e){return Re;function Re(Se){const He=Se!==null&&_e[Se],Ue=Se!==null&&_e.null,lt=[...Array.isArray(He)?He:He?[He]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return re(lt)(Se)}}function re(_e){return K=_e,ee=0,_e.length===0?L:k(_e[ee])}function k(_e){return Re;function Re(Se){return b=R(),Z=_e,_e.partial||(d.currentConstruct=_e),_e.name&&d.parser.constructs.disable.null.includes(_e.name)?ve():_e.tokenize.call(B?Object.assign(Object.create(d),B):d,h,ce,ve)(Se)}}function ce(_e){return V(Z,b),G}function ve(_e){return b.restore(),++ee<K.length?k(K[ee]):L}}}function C(V,B){V.resolveAll&&!a.includes(V)&&a.push(V),V.resolve&&ki(d.events,B,d.events.length-B,V.resolve(d.events.slice(B),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function R(){const V=x(),B=d.previous,A=d.currentConstruct,N=d.events.length,G=Array.from(f);return{from:N,restore:L};function L(){r=V,d.previous=B,d.currentConstruct=A,d.events.length=N,f=G,M()}}function M(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function C7(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,a)];else{if(u=t.slice(n,s),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}a>0&&u.push(t[s].slice(0,a))}return u}function R7(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const a=t[n];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(a)}s=a===-2,r.push(u)}return r.join("")}function I7(t){const r={constructs:V8([A7,...(t||{}).extensions||[]]),content:s(q8),defined:[],document:s(G8),flow:s(c7),lazy:{},string:s(d7),text:s(p7)};return r;function s(a){return u;function u(f){return x7(r,a,f)}}}function N7(t){for(;!XI(t););return t}const j1=/[\0\t\n\r]/g;function k7(){let t=1,e="",n=!0,r;return s;function s(a,u,f){const h=[];let d,m,_,v,E;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(j1.lastIndex=_,d=j1.exec(a),v=d&&d.index!==void 0?d.index:a.length,E=a.charCodeAt(v),!d){e=a.slice(_);break}if(E===10&&_===v&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),_<v&&(h.push(a.slice(_,v)),t+=v-_),E){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}_=v+1}return f&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const D7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function O7(t){return t.replace(D7,M7)}function M7(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return $I(n.slice(a?2:1),a?16:10)}return h0(n)||t}const tN={}.hasOwnProperty;function P7(t,e,n){return typeof e!="string"&&(n=e,e=void 0),V7(n)(N7(I7(n).document().write(k7()(t,e,!0))))}function V7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ot),autolinkProtocol:R,autolinkEmail:R,atxHeading:a(Oe),blockQuote:a(Ue),characterEscape:R,characterReference:R,codeFenced:a(lt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(lt,u),codeText:a(pt,u),codeTextData:R,data:R,codeFlowValue:R,definition:a(bt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(mt),hardBreakEscape:a(Vt),hardBreakTrailing:a(Vt),htmlFlow:a(Be,u),htmlFlowData:R,htmlText:a(Be,u),htmlTextData:R,image:a(Ce),label:u,link:a(Ot),listItem:a(bn),listItemValue:v,listOrdered:a(sn,_),listUnordered:a(sn),paragraph:a(Gn),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(Oe),strong:a(Tn),thematicBreak:a(Bn)},exit:{atxHeading:h(),atxHeadingSequence:X,autolink:h(),autolinkEmail:He,autolinkProtocol:Se,blockQuote:h(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:_e,characterReference:Re,codeFenced:h(D),codeFencedFence:I,codeFencedFenceInfo:E,codeFencedFenceMeta:x,codeFlowValue:M,codeIndented:h(P),codeText:h(G),codeTextData:M,data:M,definition:h(),definitionDestinationString:H,definitionLabelString:q,definitionTitleString:$,emphasis:h(),hardBreakEscape:h(B),hardBreakTrailing:h(B),htmlFlow:h(A),htmlFlowData:M,htmlText:h(N),htmlTextData:M,image:h(K),label:Z,labelText:ee,lineEnding:V,link:h(L),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ce,resourceDestinationString:b,resourceTitleString:Q,resource:re,setextHeading:h(C),setextHeadingLineSequence:U,setextHeadingText:j,strong:h(),thematicBreak:h()}};nN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(te){let he={type:"root",children:[]};const Ae={stack:[he],tokenStack:[],config:e,enter:f,exit:d,buffer:u,resume:m,data:n},Ie=[];let Xe=-1;for(;++Xe<te.length;)if(te[Xe][1].type==="listOrdered"||te[Xe][1].type==="listUnordered")if(te[Xe][0]==="enter")Ie.push(Xe);else{const ot=Ie.pop();Xe=s(te,ot,Xe)}for(Xe=-1;++Xe<te.length;){const ot=e[te[Xe][0]];tN.call(ot,te[Xe][1].type)&&ot[te[Xe][1].type].call(Object.assign({sliceSerialize:te[Xe][2].sliceSerialize},Ae),te[Xe][1])}if(Ae.tokenStack.length>0){const ot=Ae.tokenStack[Ae.tokenStack.length-1];(ot[1]||q1).call(Ae,void 0,ot[0])}for(he.position={start:$s(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:$s(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<e.transforms.length;)he=e.transforms[Xe](he)||he;return he}function s(te,he,Ae){let Ie=he-1,Xe=-1,ot=!1,St,Nt,Gt,Mt;for(;++Ie<=Ae;){const ut=te[Ie];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?Xe++:Xe--,Mt=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(St&&!Mt&&!Xe&&!Gt&&(Gt=Ie),Mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mt=void 0}if(!Xe&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||Xe===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(St){let Ft=Ie;for(Nt=void 0;Ft--;){const on=te[Ft];if(on[1].type==="lineEnding"||on[1].type==="lineEndingBlank"){if(on[0]==="exit")continue;Nt&&(te[Nt][1].type="lineEndingBlank",ot=!0),on[1].type="lineEnding",Nt=Ft}else if(!(on[1].type==="linePrefix"||on[1].type==="blockQuotePrefix"||on[1].type==="blockQuotePrefixWhitespace"||on[1].type==="blockQuoteMarker"||on[1].type==="listItemIndent"))break}Gt&&(!Nt||Gt<Nt)&&(St._spread=!0),St.end=Object.assign({},Nt?te[Nt][1].start:ut[1].end),te.splice(Nt||Ie,0,["exit",St,ut[2]]),Ie++,Ae++}if(ut[1].type==="listItemPrefix"){const Ft={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};St=Ft,te.splice(Ie,0,["enter",Ft,ut[2]]),Ie++,Ae++,Gt=void 0,Mt=!0}}}return te[he][1]._spread=ot,Ae}function a(te,he){return Ae;function Ae(Ie){f.call(this,te(Ie),Ie),he&&he.call(this,Ie)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(te,he,Ae){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([he,Ae||void 0]),te.position={start:$s(he.start),end:void 0}}function h(te){return he;function he(Ae){te&&te.call(this,Ae),d.call(this,Ae)}}function d(te,he){const Ae=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==te.type&&(he?he.call(this,te,Ie[0]):(Ie[1]||q1).call(this,te,Ie[0]));else throw new Error("Cannot close `"+te.type+"` ("+Lc({start:te.start,end:te.end})+"): its not open");Ae.position.end=$s(te.end)}function m(){return M8(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function v(te){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function E(){const te=this.resume(),he=this.stack[this.stack.length-1];he.lang=te}function x(){const te=this.resume(),he=this.stack[this.stack.length-1];he.meta=te}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function P(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te.replace(/(\r?\n|\r)$/g,"")}function q(te){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=Bl(this.sliceSerialize(te)).toLowerCase()}function $(){const te=this.resume(),he=this.stack[this.stack.length-1];he.title=te}function H(){const te=this.resume(),he=this.stack[this.stack.length-1];he.url=te}function X(te){const he=this.stack[this.stack.length-1];if(!he.depth){const Ae=this.sliceSerialize(te).length;he.depth=Ae}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function U(te){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function R(te){const Ae=this.stack[this.stack.length-1].children;let Ie=Ae[Ae.length-1];(!Ie||Ie.type!=="text")&&(Ie=Wt(),Ie.position={start:$s(te.start),end:void 0},Ae.push(Ie)),this.stack.push(Ie)}function M(te){const he=this.stack.pop();he.value+=this.sliceSerialize(te),he.position.end=$s(te.end)}function V(te){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=he.children[he.children.length-1];Ae.position.end=$s(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(R.call(this,te),M.call(this,te))}function B(){this.data.atHardBreak=!0}function A(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te}function N(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te}function G(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te}function L(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=he,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function K(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=he,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function ee(te){const he=this.sliceSerialize(te),Ae=this.stack[this.stack.length-2];Ae.label=O7(he),Ae.identifier=Bl(he).toLowerCase()}function Z(){const te=this.stack[this.stack.length-1],he=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const Ie=te.children;Ae.children=Ie}else Ae.alt=he}function b(){const te=this.resume(),he=this.stack[this.stack.length-1];he.url=te}function Q(){const te=this.resume(),he=this.stack[this.stack.length-1];he.title=te}function re(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function ce(te){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=Bl(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function ve(te){this.data.characterReferenceType=te.type}function _e(te){const he=this.sliceSerialize(te),Ae=this.data.characterReferenceType;let Ie;Ae?(Ie=$I(he,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=h0(he);const Xe=this.stack[this.stack.length-1];Xe.value+=Ie}function Re(te){const he=this.stack.pop();he.position.end=$s(te.end)}function Se(te){M.call(this,te);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(te)}function He(te){M.call(this,te);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(te)}function Ue(){return{type:"blockquote",children:[]}}function lt(){return{type:"code",lang:null,meta:null,value:""}}function pt(){return{type:"inlineCode",value:""}}function bt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function mt(){return{type:"emphasis",children:[]}}function Oe(){return{type:"heading",depth:0,children:[]}}function Vt(){return{type:"break"}}function Be(){return{type:"html",value:""}}function Ce(){return{type:"image",title:null,url:"",alt:null}}function Ot(){return{type:"link",title:null,url:"",children:[]}}function sn(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function bn(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function Gn(){return{type:"paragraph",children:[]}}function Tn(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function Bn(){return{type:"thematicBreak"}}}function $s(t){return{line:t.line,column:t.column,offset:t.offset}}function nN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?nN(t,r):L7(t,r)}}function L7(t,e){let n;for(n in e)if(tN.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function q1(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Lc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Lc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Lc({start:e.start,end:e.end})+") is still open")}function U7(t){const e=this;e.parser=n;function n(r){return P7(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function z7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function B7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function F7(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function H7(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function j7(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function q7(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=cu(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let u,f=t.footnoteCounts.get(r);f===void 0?(f=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=a+1,f+=1,t.footnoteCounts.set(r,f);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,d),t.applyData(e,d)}function $7(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function G7(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function rN(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function Y7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return rN(t,e);const s={src:cu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function K7(t,e){const n={src:cu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function X7(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Q7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return rN(t,e);const s={href:cu(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function W7(t,e){const n={href:cu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Z7(t,e,n){const r=t.all(e),s=n?J7(n):iN(e),a={},u=[];if(typeof e.checked=="boolean"){const m=r[0];let _;m&&m.type==="element"&&m.tagName==="p"?_=m:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const m=r[f];(s||f!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?u.push(...m.children):u.push(m)}const h=r[r.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:u};return t.patch(e,d),t.applyData(e,d)}function J7(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=iN(n[r])}return e}function iN(t){const e=t.spread;return e??t.children.length>1}function eH(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function tH(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function nH(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function rH(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function iH(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=l0(e.children[1]),h=UI(e.children[e.children.length-1]);f&&h&&(u.position={start:f,end:h}),s.push(u)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function sH(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let h=-1;const d=[];for(;++h<f;){const _=e.children[h],v={},E=u?u[h]:void 0;E&&(v.align=E);let x={type:"element",tagName:a,properties:v,children:[]};_&&(x.children=t.all(_),t.patch(_,x),x=t.applyData(_,x)),d.push(x)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function oH(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const $1=9,G1=32;function aH(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const a=[];for(;r;)a.push(Y1(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return a.push(Y1(e.slice(s),s>0,!1)),a.join("")}function Y1(t,e,n){let r=0,s=t.length;if(e){let a=t.codePointAt(r);for(;a===$1||a===G1;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(s-1);for(;a===$1||a===G1;)s--,a=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function lH(t,e){const n={type:"text",value:aH(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function uH(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const cH={blockquote:z7,break:B7,code:F7,delete:H7,emphasis:j7,footnoteReference:q7,heading:$7,html:G7,imageReference:Y7,image:K7,inlineCode:X7,linkReference:Q7,link:W7,listItem:Z7,list:eH,paragraph:tH,root:nH,strong:rH,table:iH,tableCell:oH,tableRow:sH,text:lH,thematicBreak:uH,toml:od,yaml:od,definition:od,footnoteDefinition:od};function od(){}const sN=-1,Pp=0,zc=1,tp=2,m0=3,g0=4,y0=5,_0=6,oN=7,aN=8,K1=typeof self=="object"?self:globalThis,fH=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),r=s=>{if(t.has(s))return t.get(s);const[a,u]=e[s];switch(a){case Pp:case sN:return n(u,s);case zc:{const f=n([],s);for(const h of u)f.push(r(h));return f}case tp:{const f=n({},s);for(const[h,d]of u)f[r(h)]=r(d);return f}case m0:return n(new Date(u),s);case g0:{const{source:f,flags:h}=u;return n(new RegExp(f,h),s)}case y0:{const f=n(new Map,s);for(const[h,d]of u)f.set(r(h),r(d));return f}case _0:{const f=n(new Set,s);for(const h of u)f.add(r(h));return f}case oN:{const{name:f,message:h}=u;return n(new K1[f](h),s)}case aN:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new K1[a](u),s)};return r},X1=t=>fH(new Map,t)(0),bl="",{toString:hH}={},{keys:dH}=Object,wc=t=>{const e=typeof t;if(e!=="object"||!t)return[Pp,e];const n=hH.call(t).slice(8,-1);switch(n){case"Array":return[zc,bl];case"Object":return[tp,bl];case"Date":return[m0,bl];case"RegExp":return[g0,bl];case"Map":return[y0,bl];case"Set":return[_0,bl];case"DataView":return[zc,n]}return n.includes("Array")?[zc,n]:n.includes("Error")?[oN,n]:[tp,n]},ad=([t,e])=>t===Pp&&(e==="function"||e==="symbol"),pH=(t,e,n,r)=>{const s=(u,f)=>{const h=r.push(u)-1;return n.set(f,h),h},a=u=>{if(n.has(u))return n.get(u);let[f,h]=wc(u);switch(f){case Pp:{let m=u;switch(h){case"bigint":f=aN,m=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return s([sN],u)}return s([f,m],u)}case zc:{if(h){let v=u;return h==="DataView"?v=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(u)),s([h,[...v]],u)}const m=[],_=s([f,m],u);for(const v of u)m.push(a(v));return _}case tp:{if(h)switch(h){case"BigInt":return s([h,u.toString()],u);case"Boolean":case"Number":case"String":return s([h,u.valueOf()],u)}if(e&&"toJSON"in u)return a(u.toJSON());const m=[],_=s([f,m],u);for(const v of dH(u))(t||!ad(wc(u[v])))&&m.push([a(v),a(u[v])]);return _}case m0:return s([f,u.toISOString()],u);case g0:{const{source:m,flags:_}=u;return s([f,{source:m,flags:_}],u)}case y0:{const m=[],_=s([f,m],u);for(const[v,E]of u)(t||!(ad(wc(v))||ad(wc(E))))&&m.push([a(v),a(E)]);return _}case _0:{const m=[],_=s([f,m],u);for(const v of u)(t||!ad(wc(v)))&&m.push(a(v));return _}}const{message:d}=u;return s([f,{name:h,message:d}],u)};return a},Q1=(t,{json:e,lossy:n}={})=>{const r=[];return pH(!(e||n),!!e,new Map,r)(t),r},np=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?X1(Q1(t,e)):structuredClone(t):(t,e)=>X1(Q1(t,e));function mH(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function gH(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function yH(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||mH,r=t.options.footnoteBackLabel||gH,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[h]);if(!d)continue;const m=t.all(d),_=String(d.identifier).toUpperCase(),v=cu(_.toLowerCase());let E=0;const x=[],I=t.footnoteCounts.get(_);for(;I!==void 0&&++E<=I;){x.length>0&&x.push({type:"text",value:" "});let q=typeof n=="string"?n:n(h,E);typeof q=="string"&&(q={type:"text",value:q}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,E),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const D=m[m.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const q=D.children[D.children.length-1];q&&q.type==="text"?q.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...x)}else m.push(...x);const P={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(m,!0)};t.patch(d,P),f.push(P)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...np(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const lN=function(t){if(t==null)return wH;if(typeof t=="function")return Vp(t);if(typeof t=="object")return Array.isArray(t)?_H(t):vH(t);if(typeof t=="string")return EH(t);throw new Error("Expected function, string, or object as test")};function _H(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=lN(t[n]);return Vp(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function vH(t){const e=t;return Vp(n);function n(r){const s=r;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function EH(t){return Vp(e);function e(n){return n&&n.type===t}}function Vp(t){return e;function e(n,r,s){return!!(bH(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function wH(){return!0}function bH(t){return t!==null&&typeof t=="object"&&"type"in t}const uN=[],TH=!0,W1=!1,SH="skip";function AH(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const a=lN(s),u=r?-1:1;f(t,void 0,[])();function f(h,d,m){const _=h&&typeof h=="object"?h:{};if(typeof _.type=="string"){const E=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(E?"<"+E+">":""))+")"})}return v;function v(){let E=uN,x,I,D;if((!e||a(h,d,m[m.length-1]||void 0))&&(E=xH(n(h,m)),E[0]===W1))return E;if("children"in h&&h.children){const P=h;if(P.children&&E[0]!==SH)for(I=(r?P.children.length:-1)+u,D=m.concat(P);I>-1&&I<P.children.length;){const q=P.children[I];if(x=f(q,I,D)(),x[0]===W1)return x;I=typeof x[1]=="number"?x[1]:I+u}}return E}}}function xH(t){return Array.isArray(t)?t:typeof t=="number"?[TH,t]:t==null?uN:[t]}function cN(t,e,n,r){let s,a,u;typeof e=="function"&&typeof n!="function"?(a=void 0,u=e,s=n):(a=e,u=n,s=r),AH(t,a,f,s);function f(h,d){const m=d[d.length-1],_=m?m.children.indexOf(h):void 0;return u(h,_,m)}}const P_={}.hasOwnProperty,CH={};function RH(t,e){const n=e||CH,r=new Map,s=new Map,a=new Map,u={...cH,...n.handlers},f={all:d,applyData:NH,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:u,one:h,options:n,patch:IH,wrap:DH};return cN(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const _=m.type==="definition"?r:s,v=String(m.identifier).toUpperCase();_.has(v)||_.set(v,m)}}),f;function h(m,_){const v=m.type,E=f.handlers[v];if(P_.call(f.handlers,v)&&E)return E(f,m,_);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in m){const{children:I,...D}=m,P=np(D);return P.children=f.all(m),P}return np(m)}return(f.options.unknownHandler||kH)(f,m,_)}function d(m){const _=[];if("children"in m){const v=m.children;let E=-1;for(;++E<v.length;){const x=f.one(v[E],m);if(x){if(E&&v[E-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=Z1(x.value)),!Array.isArray(x)&&x.type==="element")){const I=x.children[0];I&&I.type==="text"&&(I.value=Z1(I.value))}Array.isArray(x)?_.push(...x):_.push(x)}}}return _}}function IH(t,e){t.position&&(e.position=h8(t))}function NH(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&a&&Object.assign(n.properties,np(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function kH(t,e){const n=e.data||{},r="value"in e&&!(P_.call(n,"hProperties")||P_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function DH(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Z1(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function J1(t,e){const n=RH(t,e),r=n.one(t,void 0),s=yH(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function OH(t,e){return t&&"run"in t?async function(n,r){const s=J1(n,{file:r,...e});await t.run(s,r)}:function(n,r){return J1(n,{file:r,...t||e})}}function eA(t){if(t)throw t}var Sy,tA;function MH(){if(tA)return Sy;tA=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),_=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!_)return!1;var v;for(v in d);return typeof v>"u"||t.call(d,v)},u=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},f=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return Sy=function h(){var d,m,_,v,E,x,I=arguments[0],D=1,P=arguments.length,q=!1;for(typeof I=="boolean"&&(q=I,I=arguments[1]||{},D=2),(I==null||typeof I!="object"&&typeof I!="function")&&(I={});D<P;++D)if(d=arguments[D],d!=null)for(m in d)_=f(I,m),v=f(d,m),I!==v&&(q&&v&&(a(v)||(E=s(v)))?(E?(E=!1,x=_&&s(_)?_:[]):x=_&&a(_)?_:{},u(I,{name:m,newValue:h(q,x,v)})):typeof v<"u"&&u(I,{name:m,newValue:v}));return I},Sy}var PH=MH();const Ay=ya(PH);function V_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function VH(){const t=[],e={run:n,use:r};return e;function n(...s){let a=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...s);function f(h,...d){const m=t[++a];let _=-1;if(h){u(h);return}for(;++_<s.length;)(d[_]===null||d[_]===void 0)&&(d[_]=s[_]);s=d,m?LH(m,f)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function LH(t,e){let n;return r;function r(...u){const f=t.length>u.length;let h;f&&u.push(s);try{h=t.apply(this,u)}catch(d){const m=d;if(f&&n)throw m;return s(m)}f||(h&&h.then&&typeof h.then=="function"?h.then(a,s):h instanceof Error?s(h):a(h))}function s(u,...f){n||(n=!0,e(u,...f))}function a(u){s(null,u)}}const wi={basename:UH,dirname:zH,extname:BH,join:FH,sep:"/"};function UH(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');xf(t);let n=0,r=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,f=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else u<0&&(a=!0,u=s+1),f>-1&&(t.codePointAt(s)===e.codePointAt(f--)?f<0&&(r=s):(f=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function zH(t){if(xf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function BH(t){xf(t);let e=t.length,n=-1,r=0,s=-1,a=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function FH(...t){let e=-1,n;for(;++e<t.length;)xf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":HH(n)}function HH(t){xf(t);const e=t.codePointAt(0)===47;let n=jH(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function jH(t,e){let n="",r=0,s=-1,a=0,u=-1,f,h;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(s===u-1||a===1))if(s!==u-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),s=u,a=0;continue}}else if(n.length>0){n="",r=0,s=u,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,a=0}else f===46&&a>-1?a++:a=-1}return n}function xf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const qH={cwd:$H};function $H(){return"/"}function L_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function GH(t){if(typeof t=="string")t=new URL(t);else if(!L_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return YH(t)}function YH(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const xy=["history","path","basename","stem","extname","dirname"];class fN{constructor(e){let n;e?L_(e)?n={path:e}:typeof e=="string"||KH(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":qH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<xy.length;){const a=xy[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)xy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?wi.basename(this.path):void 0}set basename(e){Ry(e,"basename"),Cy(e,"basename"),this.path=wi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?wi.dirname(this.path):void 0}set dirname(e){nA(this.basename,"dirname"),this.path=wi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?wi.extname(this.path):void 0}set extname(e){if(Cy(e,"extname"),nA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){L_(e)&&(e=GH(e)),Ry(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?wi.basename(this.path,this.extname):void 0}set stem(e){Ry(e,"stem"),Cy(e,"stem"),this.path=wi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new zn(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Cy(t,e){if(t&&t.includes(wi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+wi.sep+"`")}function Ry(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function nA(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function KH(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const XH=function(t){const r=this.constructor.prototype,s=r[t],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},QH={}.hasOwnProperty;class v0 extends XH{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=VH()}copy(){const e=new v0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ay(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ky("data",this.frozen),this.namespace[e]=n,this):QH.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ky("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ld(e),r=this.parser||this.Parser;return Iy("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Iy("process",this.parser||this.Parser),Ny("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,u){const f=ld(e),h=r.parse(f);r.run(h,f,function(m,_,v){if(m||!_||!v)return d(m);const E=_,x=r.stringify(E,v);JH(x)?v.value=x:v.result=x,d(m,v)});function d(m,_){m||!_?u(m):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,r;return this.freeze(),Iy("processSync",this.parser||this.Parser),Ny("processSync",this.compiler||this.Compiler),this.process(e,s),iA("processSync","process",n),r;function s(a,u){n=!0,eA(a),r=u}}run(e,n,r){rA(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(u,f){const h=ld(n);s.run(e,h,d);function d(m,_,v){const E=_||e;m?f(m):u?u(E):r(void 0,E,v)}}}runSync(e,n){let r=!1,s;return this.run(e,n,a),iA("runSync","run",r),s;function a(u,f){eA(u),s=f,r=!0}}stringify(e,n){this.freeze();const r=ld(n),s=this.compiler||this.Compiler;return Ny("stringify",s),rA(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(ky("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,..._]=d;h(m,_)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(s.settings=Ay(!0,s.settings,d.settings))}function f(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const _=d[m];a(_)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,m){let _=-1,v=-1;for(;++_<r.length;)if(r[_][0]===d){v=_;break}if(v===-1)r.push([d,...m]);else if(m.length>0){let[E,...x]=m;const I=r[v][1];V_(I)&&V_(E)&&(E=Ay(!0,I,E)),r[v]=[d,E,...x]}}}}const WH=new v0().freeze();function Iy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ny(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function ky(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rA(t){if(!V_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function iA(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ld(t){return ZH(t)?t:new fN(t)}function ZH(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function JH(t){return typeof t=="string"||ej(t)}function ej(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const tj="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",sA=[],oA={allowDangerousHtml:!0},nj=/^(https?|ircs?|mailto|xmpp)$/i,rj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ij(t){const e=sj(t),n=oj(t);return aj(e.runSync(e.parse(n),n),t)}function sj(t){const e=t.rehypePlugins||sA,n=t.remarkPlugins||sA,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...oA}:oA;return WH().use(U7).use(n).use(OH,r).use(e)}function oj(t){const e=t.children||"",n=new fN;return typeof e=="string"&&(n.value=e),n}function aj(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,a=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,h=e.urlTransform||lj;for(const m of rj)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+tj+m.id,void 0);return cN(t,d),y8(t,{Fragment:J.Fragment,components:s,ignoreInvalidStyle:!0,jsx:J.jsx,jsxs:J.jsxs,passKeys:!0,passNode:!0});function d(m,_,v){if(m.type==="raw"&&v&&typeof _=="number")return u?v.children.splice(_,1):v.children[_]={type:"text",value:m.value},_;if(m.type==="element"){let E;for(E in wy)if(Object.hasOwn(wy,E)&&Object.hasOwn(m.properties,E)){const x=m.properties[E],I=wy[E];(I===null||I.includes(m.tagName))&&(m.properties[E]=h(String(x||""),E,m))}}if(m.type==="element"){let E=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!E&&r&&typeof _=="number"&&(E=!r(m,_,v)),E&&v&&typeof _=="number")return f&&m.children?v.children.splice(_,1,...m.children):v.children.splice(_,1),_}}}function lj(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||nj.test(t.slice(0,e))?t:""}function uj({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:a,isLoading:u,isCollapsed:f=!1,onToggleSidebar:h,mode:d="boards",onModeChange:m,explanation:_}){const[v,E]=z.useState(!1),[x,I]=z.useState(!1),D=async H=>{try{E(!0),await r(H),I(!1)}catch(X){console.error("Error in sidebar create board:",X)}finally{E(!1)}},P=()=>{I(!0)},q=()=>{I(!1)},$=(H,X)=>{H.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(X)};return J.jsxs(J.Fragment,{children:[J.jsx("button",{className:`sidebar-toggle ${f?"sidebar-collapsed":""}`,onClick:h,title:f?"Show Sidebar":"Hide Sidebar",children:f?"":""}),J.jsxs("div",{className:`sidebar ${f?"collapsed":""}`,children:[J.jsx("div",{className:"sidebar-header",children:J.jsxs("div",{className:"sidebar-mode-switch",children:[J.jsx("button",{className:`mode-switch-btn ${d==="boards"?"active":""}`,onClick:()=>m&&m("boards"),children:" Boards"}),J.jsx("button",{className:`mode-switch-btn ${d==="explanation"?"active":""}`,onClick:()=>m&&m("explanation"),children:" Explanation"})]})}),J.jsx("div",{className:"sidebar-content",children:d==="boards"?J.jsxs(J.Fragment,{children:[J.jsx("div",{className:"boards-section-header",children:J.jsx("button",{onClick:P,disabled:u||v,className:"new-board-btn",children:v?"Creating...":"+ New Board"})}),J.jsx("ul",{children:t?.map(H=>J.jsxs("li",{onClick:()=>!u&&n(H.id),className:e?.id===H.id?"active":"",children:[J.jsx("span",{className:"board-name",children:H.name}),J.jsxs("div",{className:"board-actions",children:[H.isOpen&&J.jsx("span",{className:"open-indicator",children:""}),t.length>1&&J.jsx("button",{className:"delete-btn",onClick:X=>$(X,H.id),title:"Delete board",children:""})]})]},H.id))}),u&&J.jsx("div",{className:"loading-indicator",children:"Loading boards..."}),J.jsx("div",{className:"sidebar-footer",children:J.jsx("button",{onClick:a,children:"Sign Out"})})]}):J.jsx("div",{className:"explanation-content",children:_?J.jsxs(J.Fragment,{children:[J.jsx("div",{className:"explanation-header",children:J.jsx("h3",{children:_.title})}),J.jsx("div",{className:"explanation-text",children:J.jsx(ij,{children:_.text})})]}):J.jsx("div",{className:"explanation-placeholder",children:J.jsx("p",{children:"Click on a node's explanation button () to view its detailed information here."})})})})]}),J.jsx(HB,{show:x,onHide:q,onConfirm:D,isCreating:v})]})}function cj({name:t,onSetName:e,user:n,isSaving:r,sidebarCollapsed:s=!1}){const[a,u]=z.useState(!1),[f,h]=z.useState(t||"");z.useEffect(()=>{h(t||"")},[t]);const d=_=>{_.key==="Enter"&&(e(f),u(!1))},m=()=>{u(!0),h(t||"")};return J.jsx(J.Fragment,{children:J.jsx("div",{className:`name ${s?"sidebar-collapsed":""}`,children:J.jsx("div",{className:"app-container",children:J.jsxs("header",{className:"app-header",children:[J.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[J.jsx("h1",{children:"Launch Flow"}),J.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:""}),a?J.jsx("input",{type:"text",value:f,onChange:_=>h(_.target.value),onKeyDown:d,onBlur:()=>{e(f),u(!1)},style:{background:"#2a2a2a",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",padding:"4px 8px",color:"#f1f5f9",fontSize:"14px",minWidth:"120px"},autoFocus:!0}):J.jsx("button",{onClick:m,style:{background:"none",border:"none",color:"#94a3b8",fontSize:"14px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"all 0.15s ease"},onMouseEnter:_=>{_.currentTarget.style.background="rgba(255, 255, 255, 0.05)",_.currentTarget.style.color="#f1f5f9"},onMouseLeave:_=>{_.currentTarget.style.background="none",_.currentTarget.style.color="#94a3b8"},children:t||"Untitled Board"})]}),J.jsxs("div",{className:"user-info",children:[J.jsx("p",{children:n?.isAnonymous?"Guest":n?.email?.split("@")[0]||"User"}),r&&J.jsx("span",{className:"save-indicator",children:" Saving"})]})]})})})})}const fj=({notification:t,onRemove:e})=>{const n=r=>{switch(r){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return J.jsxs("div",{className:`notification notification-${t.type}`,children:[J.jsxs("div",{className:"notification-content",children:[J.jsx("span",{className:"notification-icon",children:n(t.type)}),J.jsx("span",{className:"notification-message",children:t.message})]}),J.jsx("button",{className:"notification-close",onClick:()=>e(t.id),children:""})]})},hj=({notifications:t,onRemove:e})=>t.length===0?null:J.jsx("div",{className:"notifications-container",children:t.map(n=>J.jsx(fj,{notification:n,onRemove:e},n.id))}),dj=async()=>{try{await J5(Wd),console.log("User signed out successfully")}catch(t){throw console.error("Error signing out:",t),t}},aA=async t=>{try{const e=await fetch(`https://groqchat-zm2y2mo6eq-uc.a.run.app?message=${encodeURIComponent(t)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();return console.log(n),n}catch(e){throw console.error("Fetch error:",e),e}},pj=async(t,e)=>{try{const n=`You are an expert educator. Explain the following concept clearly and comprehensively. 

        Context: ${e}

        Instructions:
        - Provide a detailed explanation suitable for learning
        - Mark ALL key concepts with curly-braces tags like {concept} (e.g., {algorithm}, {variable})
        - Use examples where appropriate
        - Structure your response logically
        - CRITICAL: Every important concept MUST be put in currly braces like {concept} (e.g., {algorithm}, {variable})
        - Do not include any meta-commentary, introductions, or conclusions
        - Only provide the educational content requested
        - Start directly with the explanation

        Concept to explain: `,r=`Create a concise summary of the following explanation in exactly 40 words or less.

        CRITICAL REQUIREMENTS:
        - Preserve ALL concepts marked with curly-braces exactly as {concept}
        - EVERY key concept MUST be put in currly braces like {concept} (e.g., {algorithm}, {variable})
        - Do not add any introductory text like "Here is a summary" or "The summary is"
        - Do not add any concluding remarks
        - Start directly with the summary content
        - Use simple language
        - Maintain technical accuracy
        - Do not use bullet points, lists, or any formatting except curly-braces tags
        - Respond ONLY with the summary text

        Text to summarize: `,s=await aA(n+t),a=await aA(r+s.response);return{firstResponse:{...s,response:s.response?.replace(/\{/g,"_").replace(/\}/g,"_")},secondResponse:{...a,response:a.response?.replace(/\{/g,"_").replace(/\}/g,"_")}}}catch(n){throw console.error("Error in askAITwice:",n),n}},mj=()=>{const[t,e]=z.useState(null);return z.useEffect(()=>{const r=Z5(Wd,s=>{e(s),s?console.log("User signed in:",s.uid):console.log("No user signed in")});return()=>r()},[]),{user:t,signOut:async()=>{try{await dj(),e(null)}catch(r){console.error("Error in sign out:",r)}}}},hN=t=>!!(t&&t.uid),Bc=[{id:"1",type:"staticEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",tokenColors:{},previousNode:null},position:{x:250,y:25},draggable:!1}],Fl=[],gj=async t=>{if(!hN({uid:t}))throw new Error(qn.AUTH_REQUIRED);try{const e=Cv(ei,Er.BOARDS),n=F9(e,H9("userId","==",t),j9("createdAt","desc")),r=await zv(n);if(r.empty){const a={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:Dt.now(),isOpen:!0};return await Bv(ou(ei,Er.BOARDS,a.id),a),console.log("Created default board:",a),[a]}const s=r.docs.map(a=>({id:a.id,...a.data()}));return console.log("Fetched all boards:",s),s}catch(e){if(console.error("Fetch all boards error:",e),e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:Dt.now(),isOpen:!0,isFallback:!0}]}throw new Error(qn.LOAD_FAILED)}},lA=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),Bc;try{const e=Cv(ei,Er.BOARDS,t,Er.NODES),n=await zv(e);if(n.empty)return console.log("No nodes found for board, using initial nodes"),Bc;const r=n.docs.map(s=>{const a=s.data(),u={...a.data,tokenColors:a.data?.tokenColors||{},previousNode:a.data?.previousNode||null};return{id:s.id,type:a.type,position:a.position,data:u,draggable:a.draggable,style:a.style}});return console.log("Fetched nodes from board:",r),r}catch(e){return console.error("Fetch nodes error:",e),Bc}},uA=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),Fl;try{const e=Cv(ei,Er.BOARDS,t,Er.EDGES),n=await zv(e);if(n.empty)return console.log("No edges found for board, using initial edges"),Fl;const r=n.docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched edges from board:",r),r}catch(e){return console.error("Fetch edges error:",e),Fl}},yj=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving nodes:",{boardId:t,nodesCount:e?.length});return}try{const n=SR(ei);e.forEach(r=>{const s=ou(ei,Er.BOARDS,t,Er.NODES,r.id),a={type:r.type,data:r.data,position:r.position,updatedAt:Dt.now()};r.draggable!=null&&(a.draggable=r.draggable),r.style!=null&&(a.style=r.style),n.set(s,a)}),await n.commit(),console.log("Nodes saved to board")}catch(n){throw console.error("Save nodes error:",n),new Error(qn.SAVE_FAILED)}},_j=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving edges:",{boardId:t,edgesCount:e?.length});return}try{const n=SR(ei);e.forEach(r=>{const s=ou(ei,Er.BOARDS,t,Er.EDGES,r.id),a={source:r.source,target:r.target,updatedAt:Dt.now()};r.sourceHandle!=null&&(a.sourceHandle=r.sourceHandle),r.targetHandle!=null&&(a.targetHandle=r.targetHandle),r.style!=null&&(a.style=r.style),r.markerEnd!=null&&(a.markerEnd=r.markerEnd),n.set(s,a)}),await n.commit(),console.log("Edges saved to board")}catch(n){throw console.error("Save edges error:",n),new Error(qn.SAVE_FAILED)}},vj=async(t,e,n)=>{if(!hN({uid:t}))throw new Error(qn.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:Dt.now(),isOpen:!1};return console.log("Creating board:",r),await Bv(ou(ei,Er.BOARDS,r.id),r),console.log("Board created successfully:",r),r}catch(r){throw console.error("Error creating new board:",r),r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},Ej=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await X9(ou(ei,Er.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},Tl=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:Dt.now()};await Bv(ou(ei,Er.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},wj=(t,e={})=>{const[n,r,s]=D4([]),[a,u,f]=O4([]),[h,d]=z.useState(!0),[m,_]=z.useState(!1),[v,E]=z.useState(!1),[x,I]=z.useState([]),[D,P]=z.useState(null),q=z.useRef(null),{showSuccess:$,showError:H,showInfo:X}=e,j=A=>{const N=A.find(G=>G.isOpen===!0);if(N)return N;if(A.length>0){const G={...A[0],isOpen:!0};return Tl(G.id,G).catch(console.error),G}return null};z.useEffect(()=>{(async()=>{if(t)try{d(!0);const N=await gj(t.uid);I(N);const G=N.some(Z=>Z.isFallback);G&&H&&H("Database index missing. Please create the required Firestore index. Check console for details.");const L=j(N);if(!L){console.error("No board found for user"),H&&H("No boards found. Creating a default board..."),r(Bc),u(Fl);return}P(L);const[K,ee]=await Promise.all([lA(L.id),uA(L.id)]);r(K),u(ee),X&&!G&&X("Board loaded successfully!")}catch(N){console.error("Error loading initial data:",N),H&&H("Failed to load board data. Using default board."),r(Bc),u(Fl)}finally{d(!1)}})()},[t,r,u]);const U=z.useCallback(async(A,N,G)=>{q.current&&clearTimeout(q.current);const L=setTimeout(async()=>{try{E(!0);const K=[];N&&N.length>0&&K.push(yj(A,N)),G&&G.length>0&&K.push(_j(A,G)),K.length>0&&(await Promise.all(K),console.log("Auto-save completed successfully"))}catch(K){console.error("Auto-save failed:",K),H&&H("Failed to save changes automatically")}finally{E(!1),q.current=null}},1e3);q.current=L},[H]);z.useEffect(()=>(!h&&D&&!m&&!D.isFallback&&U(D.id,n,a),()=>{q.current&&clearTimeout(q.current)}),[n,a,h,D,m]);const C=z.useCallback(async A=>{try{if(D?.id===A)return;if(D?.isFallback||x.find(G=>G.id===A)?.isFallback){H&&H("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(_(!0),D&&!D.isFallback){const G={...D,isOpen:!1};await Tl(D.id,G),I(L=>L.map(K=>K.id===D.id?G:K))}const N=x.find(G=>G.id===A);if(N){const G={...N,isOpen:!0};await Tl(A,G),P(G),I(ee=>ee.map(Z=>Z.id===A?G:Z));const[L,K]=await Promise.all([lA(A),uA(A)]);r(L),u(K),$&&$(`Switched to "${G.name}"`)}else console.error("Board not found:",A),H&&H("Board not found")}catch(N){console.error("Error switching board:",N),H&&H("Failed to switch board. Please try again.")}finally{_(!1)}},[D,x,r,u,$,H]),R=z.useCallback(async A=>{try{if(!t)return H&&H("You must be logged in to create a board"),null;X&&X("Creating new board...");const N=await vj(t.uid,A||null,x);if(N){if(D&&!D.isFallback){const L={...D,isOpen:!1};Tl(D.id,L).catch(console.error)}const G={...N,isOpen:!0};return I(L=>{const K=L.map(ee=>ee.id===D?.id?{...ee,isOpen:!1}:ee);return[G,...K]}),P(G),Tl(N.id,G).catch(console.error),r([{id:"1",type:"staticEditable",data:{label:A||"New Board"},position:{x:250,y:25},draggable:!1}]),u(Fl),$&&$(`Board "${N.name}" created and opened!`),G}else return H&&H("Failed to create board. Please try again."),null}catch(N){return H&&H(`Failed to create board: ${N.message}`),null}},[t,x,D,$,H,X,r,u]),M=z.useCallback(async A=>{try{if(x.length<=1){H&&H("Cannot delete the last board!");return}if(!x.find(G=>G.id===A)){console.error("Board not found for deletion"),H&&H("Board not found");return}if(X&&X("Deleting board..."),D?.id===A){const G=x.find(L=>L.id!==A);G&&await C(G.id)}await Ej(A),I(G=>G.filter(L=>L.id!==A)),$&&$("Board deleted successfully!")}catch(N){console.error("Error deleting board:",N),H&&H("Failed to delete board. Please try again.")}},[x,D,C,$,H,X]),V=z.useCallback(async A=>{if(D&&D.name!==A){const N={...D,name:A};P(N),I(G=>G.map(L=>L.id===D.id?N:L));try{await Tl(D.id,N),console.log("Board name updated successfully")}catch(G){console.error("Error updating board name:",G)}}},[D]),B=z.useCallback(()=>{q.current&&(clearTimeout(q.current),q.current=null),I([]),P(null),r([]),u([]),d(!0),_(!1),E(!1)},[r,u,q]);return{nodes:n,edges:a,allBoards:x,currentBoard:D,isLoading:h,isSwitchingBoard:m,isSaving:v,onNodesChange:s,onEdgesChange:f,setNodes:r,switchToBoard:C,createNewBoard:R,deleteBoard:M,updateBoardName:V,clearBoardState:B}},bj=({allBoards:t,currentBoard:e,createNewBoard:n,switchToBoard:r})=>{z.useEffect(()=>{const s=a=>{if((a.ctrlKey||a.metaKey)&&a.key==="n"&&(a.preventDefault(),n()),(a.ctrlKey||a.metaKey)&&a.key>="1"&&a.key<="9"){a.preventDefault();const u=parseInt(a.key)-1;t[u]&&t[u].id!==e?.id&&r(t[u].id)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e,n,r])},Tj=()=>{const[t,e]=z.useState([]),n=z.useCallback(d=>{const m=Date.now().toString(),_={id:m,timestamp:new Date,...d};return e(v=>[...v,_]),d.autoRemove!==!1&&setTimeout(()=>{r(m)},d.duration||5e3),m},[]),r=z.useCallback(d=>{e(m=>m.filter(_=>_.id!==d))},[]),s=z.useCallback(()=>{e([])},[]),a=z.useCallback((d,m={})=>n({type:"success",message:d,...m}),[n]),u=z.useCallback((d,m={})=>n({type:"error",message:d,duration:7e3,...m}),[n]),f=z.useCallback((d,m={})=>n({type:"info",message:d,...m}),[n]),h=z.useCallback((d,m={})=>n({type:"warning",message:d,duration:6e3,...m}),[n]);return{notifications:t,addNotification:n,removeNotification:r,clearAllNotifications:s,showSuccess:a,showError:u,showInfo:f,showWarning:h}},dN=t=>{const e=[],n=t.split("_");for(let r=0;r<n.length;r++)if(r%2===0)n[r].split(/\s+/).filter(a=>a.trim()!=="").forEach(a=>{e.push({word:a.trim()})});else{const s=n[r].trim();s.split(/\s+/).filter(u=>u.trim()!=="").forEach(u=>{e.push({word:u.trim(),myConcept:s})})}return e},cA=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return t[Math.floor(Math.random()*t.length)]},Sj=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16),a=30,u=Math.min(255,Math.max(0,n+(Math.random()-.5)*a*2)),f=Math.min(255,Math.max(0,r+(Math.random()-.5)*a*2)),h=Math.min(255,Math.max(0,s+(Math.random()-.5)*a*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(f).toString(16).padStart(2,"0")}${Math.round(h).toString(16).padStart(2,"0")}`},Aj=(t,e)=>{const s=[0,45,90,135,180,225,270,315];for(const u of s){const f=u*Math.PI/180,h=t.x+Math.cos(f)*200,d=t.y+Math.sin(f)*200;if(!e.some(_=>Math.sqrt(Math.pow(_.position.x-h,2)+Math.pow(_.position.y-d,2))<150))return{x:h,y:d}}const a=Math.random()*2*Math.PI;return{x:t.x+Math.cos(a)*(200+Math.random()*100),y:t.y+Math.sin(a)*(200+Math.random()*100)}},xj=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Cj=(t,e)=>`edge_${t}_${e}`,Rj=(t,e,n,r,s,a,u)=>({id:xj(),type:"draggableEditable",position:t,draggable:!0,data:{label:e,summary:r,full_text:n,myColor:s,tokenColors:{},previousNode:u}}),Ij=(t,e,n)=>({id:Cj(t,e),source:t,target:e,sourceHandle:null,targetHandle:null,style:{stroke:n,strokeWidth:3},markerEnd:{type:Yc.ArrowClosed,color:n}}),pN=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16);return(.299*n+.587*r+.114*s)/255>.5?"#000000":"#FFFFFF"},mN=(t,e)=>{const n=t.replace("#",""),r=parseInt(n.substr(0,2),16),s=parseInt(n.substr(2,2),16),a=parseInt(n.substr(4,2),16),u=Math.max(0,Math.floor(r*(1-e/100))),f=Math.max(0,Math.floor(s*(1-e/100))),h=Math.max(0,Math.floor(a*(1-e/100)));return`#${u.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}`},gN=z.createContext(null),Nj=({children:t,nodes:e,onNodesChange:n,onEdgesChange:r,setNodes:s,showExplanation:a})=>{const u=z.useCallback((f,h,d,m,_,v)=>{const E=e.find(X=>X.id===h);if(!E)return null;const x=E.data.tokenColors||{},I=f.myConcept||f.word;if(x[I])return console.log(`Token "${I}" is already colored, ignoring click`),null;let D;m==="staticEditable"?D=cA():D=_?Sj(_):cA();const P={...x};f.myConcept?P[f.myConcept]=D:P[f.word]=D,s(X=>X.map(j=>j.id===h?{...j,data:{...j.data,tokenColors:P}}:j));const q=Aj(d,e),$=Rj(q,"Loading...","Loading...","Loading...",D,m,h);$.data.isLoading=!0;const H=Ij(h,$.id,D);return n([{type:"add",item:$}]),r([{type:"add",item:H}]),pj(f.word,v||"").then(X=>{const j=X.firstResponse?.response||f.word,U=X.secondResponse?.response||f.word;s(C=>C.map(R=>R.id===$.id?{...R,data:{...R.data,label:U,summary:U,full_text:j,isLoading:!1}}:R))}).catch(()=>{s(X=>X.map(j=>j.id===$.id?{...j,data:{...j.data,label:f.word,summary:f.word,full_text:f.word,isLoading:!1}}:j))}),D},[e,n,r,s]);return J.jsx(gN.Provider,{value:{handleTokenClick:u,setNodes:s,showExplanation:a},children:t})},yN=()=>{const t=z.useContext(gN);if(!t)throw new Error("useTokenInteraction must be used within a TokenInteractionProvider");return t},_N=({size:t="medium",color:e="#4f86f7"})=>J.jsx("div",{className:`loading-spinner ${t}`,children:J.jsx("div",{className:"spinner-ring",style:{borderTopColor:e}})});function kj({data:t,id:e}){const[n,r]=z.useState(!1),[s,a]=z.useState(t.summary||t.label||"Static Node"),[u,f]=z.useState(!1),{handleTokenClick:h,showExplanation:d}=yN(),{getNode:m,setViewport:_}=ff();z.useEffect(()=>{n||a(t.summary||t.label||"Static Node")},[t.summary,t.label,n]);const v=z.useMemo(()=>dN(s),[s]),E=z.useCallback((C,R)=>{R.stopPropagation(),console.log("Static Token clicked:",C),h(C,e,{x:0,y:0},"staticEditable",t.myColor,t.summary||t.label||"Draggable Node")},[e,h,t.myColor]),x=z.useCallback(C=>{C.stopPropagation(),r(!0)},[]),I=z.useCallback(()=>{r(!1)},[]),D=z.useCallback(C=>{C.stopPropagation()},[]),P=z.useCallback(C=>{C.stopPropagation(),C.key==="Enter"&&I(),C.key==="Escape"&&(a(t.summary||t.label||"Static Node"),r(!1))},[I,t.summary,t.label]),q=z.useCallback(C=>{C.stopPropagation(),f(!u)},[u]),$=z.useCallback(C=>{C.stopPropagation(),d&&d(s,t.full_text||"No detailed information available.")},[d,s,t.full_text]),H=z.useCallback(C=>{if(C.stopPropagation(),t.previousNode){const R=m(t.previousNode);if(R){const{x:M,y:V}=R.position;_({x:-M+200,y:-V+100,zoom:1},{duration:500})}}},[t.previousNode,m,_]),X=z.useMemo(()=>{const C=t.tokenColors||{};return v.map((R,M)=>{const V=R.myConcept||R.word,B=C[V],A=!B;return J.jsxs("span",{className:`word-token ${A?"":"disabled"} ${R.myConcept?"concept-highlight":""}`,style:{backgroundColor:B||"transparent",color:B?t.myColor||"#ffffff":"inherit",border:B?`1px solid ${B}`:""},onClick:N=>A?E(R,N):N.stopPropagation(),children:[R.word,M<v.length-1?" ":""]},M)})},[v,E,t.tokenColors,t.myColor]),j=z.useMemo(()=>J.jsxs("div",{className:"node-buttons",children:[t.previousNode&&J.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:H,title:"Go to previous node",children:""}),v.length>5&&J.jsx("button",{className:"node-expand-btn",onClick:q,title:u?"Show less":"Show more",children:u?"":"+"}),J.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:$,title:"Show full text",children:""})]}),[v.length,q,u,$,t.previousNode,H]),U=z.useMemo(()=>t.isLoading?J.jsxs("div",{className:"node-loading-content",children:[J.jsx(_N,{size:"small",color:t.myColor||"#4f86f7"}),J.jsx("span",{className:"loading-text",children:"Loading concept..."})]}):n?J.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),onBlur:I,onKeyDown:P,onClick:D,className:"node-input nodrag",autoFocus:!0}):J.jsxs("div",{className:"node-content-word",children:[J.jsxs("div",{onClick:x,children:[X,v.length>5&&!u&&J.jsx("span",{className:"token-truncation",children:"..."})]}),j]}),[n,s,u,v.length,x,I,P,D,X,j]);return J.jsxs("div",{className:"static-editable-node nodrag",style:{backgroundColor:t.myColor,color:t.myColor?pN(t.myColor):"",border:t.myColor?`2px solid ${mN(t.myColor,20)}`:""},children:[J.jsx("div",{className:"node-content",children:U}),J.jsx(co,{type:"source",position:Ne.Bottom,id:"bottom-source"}),J.jsx(co,{type:"target",position:Ne.Bottom,id:"bottom-target"})]})}function Dj({data:t,id:e}){const[n,r]=z.useState(!1),[s,a]=z.useState(t.summary||t.label||"Draggable Node"),[u,f]=z.useState(t.expanded||!1),{getNodes:h,getNode:d,setViewport:m}=ff(),{handleTokenClick:_,showExplanation:v}=yN();z.useEffect(()=>{n||a(t.summary||t.label||"Draggable Node")},[t.summary,t.label,n]);const E=z.useMemo(()=>dN(s),[s]),x=z.useMemo(()=>u||E.length<=5?E:E.slice(0,5),[E,u]),I=z.useCallback(()=>!0,[]),D=z.useCallback((M,V)=>{V.stopPropagation();const A=h().find(G=>G.id===e);return A?_(M,e,A.position,A.type||"draggableEditable",t.myColor,t.summary||t.label||"Draggable Node"):void 0},[e,h,_,t.myColor]),P=z.useCallback(M=>{M.stopPropagation(),r(!0)},[]),q=z.useCallback(()=>{r(!1)},[]),$=z.useCallback(M=>{M.stopPropagation()},[]),H=z.useCallback(M=>{M.stopPropagation(),M.key==="Enter"&&q(),M.key==="Escape"&&(a(t.summary||t.label||"Draggable Node"),r(!1))},[q,t.summary,t.label]),X=z.useCallback(M=>{M.stopPropagation(),f(!u),!u&&t.onExpand&&t.onExpand()},[u,t.onExpand]),j=z.useCallback(M=>{M.stopPropagation(),v&&v(s,t.full_text||"No detailed information available.")},[v,s,t.full_text]),U=z.useCallback(M=>{if(M.stopPropagation(),t.previousNode){const V=d(t.previousNode);if(V){const{x:B,y:A}=V.position;m({x:-B+200,y:-A+100,zoom:1},{duration:500})}}},[t.previousNode,d,m]),C=z.useMemo(()=>{const M={};return x.forEach(V=>{const B=V.myConcept||V.word;M[B]||(M[B]=[]),M[B].push(V)}),M},[x]),R=z.useMemo(()=>t.isLoading?J.jsxs("div",{className:"node-loading-content",children:[J.jsx(_N,{size:"small",color:t.myColor||"#4f86f7"}),J.jsx("span",{className:"loading-text",children:"Loading concept..."})]}):n?J.jsx("input",{type:"text",value:s,onChange:M=>a(M.target.value),onBlur:q,onKeyDown:H,onClick:$,className:"node-input nodrag",autoFocus:!0}):J.jsxs("div",{className:"node-content-word",children:[J.jsxs("div",{onClick:P,children:[x.map((M,V)=>{const B=t.tokenColors||{},A=M.myConcept||M.word,N=B[A],G=I()&&!N;return J.jsxs("span",{className:`word-token ${G?"":"disabled"} ${M.myConcept?"concept-highlight":""}`,style:{backgroundColor:N||"transparent",color:N?t.myColor||"#ffffff":"inherit",border:N?`1px solid ${N}`:""},onClick:L=>G?D(M,L):L.stopPropagation(),children:[M.word,V<x.length-1?" ":""]},V)}),E.length>5&&!u&&J.jsx("span",{className:"token-truncation",children:"..."})]}),J.jsxs("div",{className:"node-buttons",children:[t.previousNode&&J.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:U,title:"Go to previous node",children:""}),E.length>5&&J.jsx("button",{className:"node-expand-btn",onClick:X,title:u?"Show less":"Show more",children:u?"":"+"}),J.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:j,title:"Show full text",children:""})]})]}),[n,s,x,E,u,C,P,q,H,$,X,j,D,I,t.previousNode,U,t.tokenColors,t.myColor,t.isLoading]);return J.jsxs("div",{className:"draggable-editable-node",style:{background:t.myColor,color:t.myColor?pN(t.myColor):"",border:t.myColor?`2px solid ${mN(t.myColor,20)}`:""},children:[J.jsx("div",{className:"node-content",children:R}),J.jsx(co,{type:"source",position:Ne.Bottom,id:"bottom-source"}),J.jsx(co,{type:"target",position:Ne.Bottom,id:"bottom-target"})]})}const Oj={staticEditable:kj,draggableEditable:Dj};function Mj(){const[t,e]=z.useState(!1),[n,r]=z.useState("boards"),[s,a]=z.useState(null),{user:u,signOut:f}=mj(),{notifications:h,removeNotification:d,showSuccess:m,showError:_,showInfo:v}=Tj(),{nodes:E,edges:x,allBoards:I,currentBoard:D,isSwitchingBoard:P,isSaving:q,onNodesChange:$,onEdgesChange:H,setNodes:X,switchToBoard:j,createNewBoard:U,deleteBoard:C,updateBoardName:R,clearBoardState:M}=wj(u,{showSuccess:m,showError:_,showInfo:v});bj({allBoards:I,currentBoard:D,createNewBoard:U,switchToBoard:j});const V=async()=>{await f(),M()},B=()=>{e(!t)},A=z.useCallback((L,K)=>{a({title:L,text:K}),r("explanation"),t&&e(!1)},[t]),N=z.useCallback(L=>{r(L)},[]),G=z.useCallback(L=>{const K={id:`e${L.source}-${L.target}`,source:L.source,target:L.target,sourceHandle:L.sourceHandle,targetHandle:L.targetHandle};H([{type:"add",item:K}])},[H]);return u?J.jsxs(J.Fragment,{children:[J.jsx(uj,{allBoards:I,currentBoard:D,onSwitchBoard:j,onCreateBoard:async L=>{await U(L)},onDeleteBoard:C,onSignOut:V,isLoading:P,isCollapsed:t,onToggleSidebar:B,mode:n,onModeChange:N,explanation:s}),J.jsx(cj,{name:D?.name||"Loading...",onSetName:R,user:u,isSaving:q,sidebarCollapsed:t}),J.jsx(hj,{notifications:h,onRemove:d}),J.jsx("div",{className:`reactflow-board-container ${t?"sidebar-collapsed":"with-sidebar"}`,children:J.jsx(Nj,{nodes:E,onNodesChange:$,onEdgesChange:H,setNodes:X,showExplanation:A,children:J.jsxs(Nx,{nodes:E,edges:x,onNodesChange:$,onEdgesChange:H,onConnect:G,nodeTypes:Oj,connectionMode:uo.Loose,fitView:!0,children:[J.jsx(B4,{}),J.jsx(G4,{variant:Fr.Cross,gap:30,size:10,lineWidth:.5,color:"#616161"})]})})})]}):J.jsx(dz,{})}function Pj(){return J.jsx(Mj,{})}const vN=document.getElementById("root");if(!vN)throw new Error("Failed to find the root element");Zk.createRoot(vN).render(J.jsx(z.StrictMode,{children:J.jsx(Pj,{})}));
