(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ma(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rg={exports:{}},uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function R2(){if(Tb)return uc;Tb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:a}}return uc.Fragment=e,uc.jsx=n,uc.jsxs=n,uc}var Sb;function I2(){return Sb||(Sb=1,Rg.exports=R2()),Rg.exports}var fe=I2(),Ig={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function N2(){if(Ab)return $e;Ab=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,R={};function O(b,Q,ne){this.props=b,this.context=Q,this.refs=R,this.updater=ne||E}O.prototype.isReactComponent={},O.prototype.setState=function(b,Q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Q,"setState")},O.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function M(){}M.prototype=O.prototype;function q(b,Q,ne){this.props=b,this.context=Q,this.refs=R,this.updater=ne||E}var $=q.prototype=new M;$.constructor=q,x($,O.prototype),$.isPureReactComponent=!0;var j=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function P(b,Q,ne,N,le,ve){return ne=ve.ref,{$$typeof:t,type:b,key:Q,ref:ne!==void 0?ne:null,props:ve}}function C(b,Q){return P(b.type,Q,void 0,void 0,void 0,b.props)}function I(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function z(b){var Q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ne){return Q[ne]})}var L=/\/+/g;function B(b,Q){return typeof b=="object"&&b!==null&&b.key!=null?z(""+b.key):Q.toString(36)}function A(){}function k(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(A,A):(b.status="pending",b.then(function(Q){b.status==="pending"&&(b.status="fulfilled",b.value=Q)},function(Q){b.status==="pending"&&(b.status="rejected",b.reason=Q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function G(b,Q,ne,N,le){var ve=typeof b;(ve==="undefined"||ve==="boolean")&&(b=null);var _e=!1;if(b===null)_e=!0;else switch(ve){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(b.$$typeof){case t:case e:_e=!0;break;case g:return _e=b._init,G(_e(b._payload),Q,ne,N,le)}}if(_e)return le=le(b),_e=N===""?"."+B(b,0):N,j(le)?(ne="",_e!=null&&(ne=_e.replace(L,"$&/")+"/"),G(le,Q,ne,"",function(De){return De})):le!=null&&(I(le)&&(le=C(le,ne+(le.key==null||b&&b.key===le.key?"":(""+le.key).replace(L,"$&/")+"/")+_e)),Q.push(le)),1;_e=0;var Ce=N===""?".":N+":";if(j(b))for(var be=0;be<b.length;be++)N=b[be],ve=Ce+B(N,be),_e+=G(N,Q,ne,ve,le);else if(be=v(b),typeof be=="function")for(b=be.call(b),be=0;!(N=b.next()).done;)N=N.value,ve=Ce+B(N,be++),_e+=G(N,Q,ne,ve,le);else if(ve==="object"){if(typeof b.then=="function")return G(k(b),Q,ne,N,le);throw Q=String(b),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return _e}function V(b,Q,ne){if(b==null)return b;var N=[],le=0;return G(b,N,"","",function(ve){return Q.call(ne,ve,le++)}),N}function K(b){if(b._status===-1){var Q=b._result;Q=Q(),Q.then(function(ne){(b._status===0||b._status===-1)&&(b._status=1,b._result=ne)},function(ne){(b._status===0||b._status===-1)&&(b._status=2,b._result=ne)}),b._status===-1&&(b._status=0,b._result=Q)}if(b._status===1)return b._result.default;throw b._result}var J=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Z(){}return $e.Children={map:V,forEach:function(b,Q,ne){V(b,function(){Q.apply(this,arguments)},ne)},count:function(b){var Q=0;return V(b,function(){Q++}),Q},toArray:function(b){return V(b,function(Q){return Q})||[]},only:function(b){if(!I(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},$e.Component=O,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=q,$e.StrictMode=r,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,$e.__COMPILER_RUNTIME={__proto__:null,c:function(b){return X.H.useMemoCache(b)}},$e.cache=function(b){return function(){return b.apply(null,arguments)}},$e.cloneElement=function(b,Q,ne){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var N=x({},b.props),le=b.key,ve=void 0;if(Q!=null)for(_e in Q.ref!==void 0&&(ve=void 0),Q.key!==void 0&&(le=""+Q.key),Q)!H.call(Q,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Q.ref===void 0||(N[_e]=Q[_e]);var _e=arguments.length-2;if(_e===1)N.children=ne;else if(1<_e){for(var Ce=Array(_e),be=0;be<_e;be++)Ce[be]=arguments[be+2];N.children=Ce}return P(b.type,le,void 0,void 0,ve,N)},$e.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:a,_context:b},b},$e.createElement=function(b,Q,ne){var N,le={},ve=null;if(Q!=null)for(N in Q.key!==void 0&&(ve=""+Q.key),Q)H.call(Q,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(le[N]=Q[N]);var _e=arguments.length-2;if(_e===1)le.children=ne;else if(1<_e){for(var Ce=Array(_e),be=0;be<_e;be++)Ce[be]=arguments[be+2];le.children=Ce}if(b&&b.defaultProps)for(N in _e=b.defaultProps,_e)le[N]===void 0&&(le[N]=_e[N]);return P(b,ve,void 0,void 0,null,le)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:f,render:b}},$e.isValidElement=I,$e.lazy=function(b){return{$$typeof:g,_payload:{_status:-1,_result:b},_init:K}},$e.memo=function(b,Q){return{$$typeof:d,type:b,compare:Q===void 0?null:Q}},$e.startTransition=function(b){var Q=X.T,ne={};X.T=ne;try{var N=b(),le=X.S;le!==null&&le(ne,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(Z,J)}catch(ve){J(ve)}finally{X.T=Q}},$e.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},$e.use=function(b){return X.H.use(b)},$e.useActionState=function(b,Q,ne){return X.H.useActionState(b,Q,ne)},$e.useCallback=function(b,Q){return X.H.useCallback(b,Q)},$e.useContext=function(b){return X.H.useContext(b)},$e.useDebugValue=function(){},$e.useDeferredValue=function(b,Q){return X.H.useDeferredValue(b,Q)},$e.useEffect=function(b,Q,ne){var N=X.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return N.useEffect(b,Q)},$e.useId=function(){return X.H.useId()},$e.useImperativeHandle=function(b,Q,ne){return X.H.useImperativeHandle(b,Q,ne)},$e.useInsertionEffect=function(b,Q){return X.H.useInsertionEffect(b,Q)},$e.useLayoutEffect=function(b,Q){return X.H.useLayoutEffect(b,Q)},$e.useMemo=function(b,Q){return X.H.useMemo(b,Q)},$e.useOptimistic=function(b,Q){return X.H.useOptimistic(b,Q)},$e.useReducer=function(b,Q,ne){return X.H.useReducer(b,Q,ne)},$e.useRef=function(b){return X.H.useRef(b)},$e.useState=function(b){return X.H.useState(b)},$e.useSyncExternalStore=function(b,Q,ne){return X.H.useSyncExternalStore(b,Q,ne)},$e.useTransition=function(){return X.H.useTransition()},$e.version="19.1.0",$e}var xb;function sf(){return xb||(xb=1,Ig.exports=N2()),Ig.exports}var F=sf();const ce=ma(F);var Ng={exports:{}},cc={},kg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function k2(){return Cb||(Cb=1,function(t){function e(V,K){var J=V.length;V.push(K);e:for(;0<J;){var Z=J-1>>>1,b=V[Z];if(0<s(b,K))V[Z]=K,V[J]=b,J=Z;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],J=V.pop();if(J!==K){V[0]=J;e:for(var Z=0,b=V.length,Q=b>>>1;Z<Q;){var ne=2*(Z+1)-1,N=V[ne],le=ne+1,ve=V[le];if(0>s(N,J))le<b&&0>s(ve,N)?(V[Z]=ve,V[le]=J,Z=le):(V[Z]=N,V[ne]=J,Z=ne);else if(le<b&&0>s(ve,J))V[Z]=ve,V[le]=J,Z=le;else break e}}return K}function s(V,K){var J=V.sortIndex-K.sortIndex;return J!==0?J:V.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],d=[],g=1,_=null,v=3,E=!1,x=!1,R=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function j(V){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=V)r(d),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(d)}}function X(V){if(R=!1,j(V),!x)if(n(h)!==null)x=!0,H||(H=!0,B());else{var K=n(d);K!==null&&G(X,K.startTime-V)}}var H=!1,P=-1,C=5,I=-1;function z(){return O?!0:!(t.unstable_now()-I<C)}function L(){if(O=!1,H){var V=t.unstable_now();I=V;var K=!0;try{e:{x=!1,R&&(R=!1,q(P),P=-1),E=!0;var J=v;try{t:{for(j(V),_=n(h);_!==null&&!(_.expirationTime>V&&z());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,v=_.priorityLevel;var b=Z(_.expirationTime<=V);if(V=t.unstable_now(),typeof b=="function"){_.callback=b,j(V),K=!0;break t}_===n(h)&&r(h),j(V)}else r(h);_=n(h)}if(_!==null)K=!0;else{var Q=n(d);Q!==null&&G(X,Q.startTime-V),K=!1}}break e}finally{_=null,v=J,E=!1}K=void 0}}finally{K?B():H=!1}}}var B;if(typeof $=="function")B=function(){$(L)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,k=A.port2;A.port1.onmessage=L,B=function(){k.postMessage(null)}}else B=function(){M(L,0)};function G(V,K){P=M(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(V){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var J=v;v=K;try{return V()}finally{v=J}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=v;v=V;try{return K()}finally{v=J}},t.unstable_scheduleCallback=function(V,K,J){var Z=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Z+J:Z):J=Z,V){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=J+b,V={id:g++,callback:K,priorityLevel:V,startTime:J,expirationTime:b,sortIndex:-1},J>Z?(V.sortIndex=J,e(d,V),n(h)===null&&V===n(d)&&(R?(q(P),P=-1):R=!0,G(X,J-Z))):(V.sortIndex=b,e(h,V),x||E||(x=!0,H||(H=!0,B()))),V},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(V){var K=v;return function(){var J=v;v=K;try{return V.apply(this,arguments)}finally{v=J}}}}(Dg)),Dg}var Rb;function D2(){return Rb||(Rb=1,kg.exports=k2()),kg.exports}var Og={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function O2(){if(Ib)return On;Ib=1;var t=sf();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,On.createPortal=function(h,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,g)},On.flushSync=function(h){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=g,r.d.f()}},On.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},On.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},On.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var g=d.as,_=f(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):g==="script"&&r.d.X(h,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},On.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},On.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=f(g,d.crossOrigin);r.d.L(h,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},On.preloadModule=function(h,d){if(typeof h=="string")if(d){var g=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},On.requestFormReset=function(h){r.d.r(h)},On.unstable_batchedUpdates=function(h,d){return h(d)},On.useFormState=function(h,d,g){return u.H.useFormState(h,d,g)},On.useFormStatus=function(){return u.H.useHostTransitionStatus()},On.version="19.1.0",On}var Nb;function rA(){if(Nb)return Og.exports;Nb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Og.exports=O2(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function M2(){if(kb)return cc;kb=1;var t=D2(),e=sf(),n=rA();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,c=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return f(m),i;if(y===c)return f(m),o;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var S=!1,D=m.child;D;){if(D===l){S=!0,l=m,c=y;break}if(D===c){S=!0,c=m,l=y;break}D=D.sibling}if(!S){for(D=y.child;D;){if(D===l){S=!0,l=y,c=m;break}if(D===c){S=!0,c=y,l=m;break}D=D.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var A=Symbol.for("react.client.reference");function k(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===A?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case X:return"Suspense";case H:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case $:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case j:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return o=i.displayName||null,o!==null?o:k(i.type)||"Memo";case C:o=i._payload,i=i._init;try{return k(i(o))}catch{}}return null}var G=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Z=[],b=-1;function Q(i){return{current:i}}function ne(i){0>b||(i.current=Z[b],Z[b]=null,b--)}function N(i,o){b++,Z[b]=i.current,i.current=o}var le=Q(null),ve=Q(null),_e=Q(null),Ce=Q(null);function be(i,o){switch(N(_e,o),N(ve,i),N(le,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Ww(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Ww(o),i=Zw(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(le),N(le,i)}function De(){ne(le),ne(ve),ne(_e)}function Oe(i){i.memoizedState!==null&&N(Ce,i);var o=le.current,l=Zw(o,i.type);o!==l&&(N(ve,i),N(le,l))}function Ze(i){ve.current===i&&(ne(le),ne(ve)),Ce.current===i&&(ne(Ce),ic._currentValue=J)}var tt=Object.prototype.hasOwnProperty,ft=t.unstable_scheduleCallback,lt=t.unstable_cancelCallback,Me=t.unstable_shouldYield,St=t.unstable_requestPaint,Le=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,$t=t.unstable_UserBlockingPriority,wn=t.unstable_NormalPriority,qn=t.unstable_LowPriority,bn=t.unstable_IdlePriority,Wt=t.log,zn=t.unstable_setDisableYieldValue,ee=null,he=null;function Ae(i){if(typeof Wt=="function"&&zn(i),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(ee,i)}catch{}}var Ie=Math.clz32?Math.clz32:xt,Xe=Math.log,ut=Math.LN2;function xt(i){return i>>>=0,i===0?32:31-(Xe(i)/ut|0)|0}var Dt=256,Gt=4194304;function Pt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ht(i,o,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var D=c&134217727;return D!==0?(c=D&~y,c!==0?m=Pt(c):(S&=D,S!==0?m=Pt(S):l||(l=D&~i,l!==0&&(m=Pt(l))))):(D=c&~y,D!==0?m=Pt(D):S!==0?m=Pt(S):l||(l=c&~i,l!==0&&(m=Pt(l)))),m===0?0:o!==0&&o!==m&&(o&y)===0&&(y=m&-m,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:m}function Bt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function sn(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(){var i=Dt;return Dt<<=1,(Dt&4194048)===0&&(Dt=256),i}function Hr(){var i=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),i}function tr(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function vr(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nr(i,o,l,c,m,y){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var D=i.entanglements,Y=i.expirationTimes,se=i.hiddenUpdates;for(l=S&~l;0<l;){var de=31-Ie(l),me=1<<de;D[de]=0,Y[de]=-1;var oe=se[de];if(oe!==null)for(se[de]=null,de=0;de<oe.length;de++){var ae=oe[de];ae!==null&&(ae.lane&=-536870913)}l&=~me}c!==0&&Er(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~o))}function Er(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var c=31-Ie(o);i.entangledLanes|=o,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function vo(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var c=31-Ie(l),m=1<<c;m&o|i[c]&o&&(i[c]|=o),l&=~m}}function ni(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ms(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ri(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:yb(i.type))}function wa(i,o){var l=K.p;try{return K.p=i,o()}finally{K.p=l}}var Ct=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Ct,Ht="__reactProps$"+Ct,$n="__reactContainer$"+Ct,Eo="__reactEvents$"+Ct,cu="__reactListeners$"+Ct,ii="__reactHandles$"+Ct,ba="__reactResources$"+Ct,Oi="__reactMarker$"+Ct;function si(i){delete i[Yt],delete i[Ht],delete i[Eo],delete i[cu],delete i[ii]}function wr(i){var o=i[Yt];if(o)return o;for(var l=i.parentNode;l;){if(o=l[$n]||l[Yt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=nb(i);i!==null;){if(l=i[Yt])return l;i=nb(i)}return o}i=l,l=i.parentNode}return null}function br(i){if(i=i[Yt]||i[$n]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Tr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Tn(i){var o=i[ba];return o||(o=i[ba]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Lt(i){i[Oi]=!0}var wo=new Set,gs={};function rr(i,o){Fr(i,o),Fr(i+"Capture",o)}function Fr(i,o){for(gs[i]=o,i=0;i<o.length;i++)wo.add(o[i])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ta={},Mi={};function Sa(i){return tt.call(Mi,i)?!0:tt.call(Ta,i)?!1:bo.test(i)?Mi[i]=!0:(Ta[i]=!0,!1)}function oi(i,o,l){if(Sa(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function Sr(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function on(i,o,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+c)}}var ai,Aa;function jr(i){if(ai===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);ai=o&&o[1]||"",Aa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ai+i+Aa}var ys=!1;function li(i,o){if(!i||ys)return"";ys=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var oe=ae}Reflect.construct(i,[],me)}else{try{me.call()}catch(ae){oe=ae}i.call(me.prototype)}}else{try{throw Error()}catch(ae){oe=ae}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&oe&&typeof ae.stack=="string")return[ae.stack,oe.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],D=y[1];if(S&&D){var Y=S.split(`
`),se=D.split(`
`);for(m=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;m<se.length&&!se[m].includes("DetermineComponentFrameRoot");)m++;if(c===Y.length||m===se.length)for(c=Y.length-1,m=se.length-1;1<=c&&0<=m&&Y[c]!==se[m];)m--;for(;1<=c&&0<=m;c--,m--)if(Y[c]!==se[m]){if(c!==1||m!==1)do if(c--,m--,0>m||Y[c]!==se[m]){var de=`
`+Y[c].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=c&&0<=m);break}}}finally{ys=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?jr(l):""}function fu(i){switch(i.tag){case 26:case 27:case 5:return jr(i.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return li(i.type,!1);case 11:return li(i.type.render,!1);case 1:return li(i.type,!0);case 31:return jr("Activity");default:return""}}function xa(i){try{var o="";do o+=fu(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hu(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Dp(i){var o=hu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Ca(i){i._valueTracker||(i._valueTracker=Dp(i))}function du(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return i&&(c=hu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(o.setValue(i),!0):!1}function To(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Op=/[\n"\\]/g;function Zt(i){return i.replace(Op,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ir(i,o,l,c,m,y,S,D){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),o!=null?S==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Bn(o)):i.value!==""+Bn(o)&&(i.value=""+Bn(o)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),o!=null?_s(i,S,Bn(o)):l!=null?_s(i,S,Bn(l)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.name=""+Bn(D):i.removeAttribute("name")}function So(i,o,l,c,m,y,S,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+Bn(l):"",o=o!=null?""+Bn(o):l,D||o===i.value||(i.value=o),i.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=D?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function _s(i,o,l){o==="number"&&To(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pi(i,o,l,c){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Bn(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function vt(i,o,l){if(o!=null&&(o=""+Bn(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Bn(l):""}function Ao(i,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(r(92));if(G(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Bn(o),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Ar(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sf(i,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":c?i.setProperty(o,l):typeof l!="number"||l===0||xo.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function pu(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&l[m]!==c&&Sf(i,m,c)}else for(var y in o)o.hasOwnProperty(y)&&Sf(i,y,o[y])}function mu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(i){return Pp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Vi=null;function xr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Li=null,Ui=null;function gu(i){var o=br(i);if(o&&(i=o.stateNode)){var l=i[Ht]||null;e:switch(i=o.stateNode,o.type){case"input":if(ir(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==i&&c.form===i.form){var m=c[Ht]||null;if(!m)throw Error(r(90));ir(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===i.form&&du(c)}break e;case"textarea":vt(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Pi(i,!!l.multiple,o,!1)}}}var ui=!1;function Af(i,o,l){if(ui)return i(o,l);ui=!0;try{var c=i(o);return c}finally{if(ui=!1,(Li!==null||Ui!==null)&&(_h(),Li&&(o=Li,i=Ui,Ui=Li=null,gu(o),i)))for(o=0;o<i.length;o++)gu(i[o])}}function Co(i,o){var l=i.stateNode;if(l===null)return null;var c=l[Ht]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(qr)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Cr=!1}var ci=null,vs=null,zi=null;function yu(){if(zi)return zi;var i,o=vs,l=o.length,c,m="value"in ci?ci.value:ci.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var S=l-i;for(c=1;c<=S&&o[l-c]===m[y-c];c++);return zi=m.slice(i,1<c?1-c:void 0)}function fi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function hi(){return!0}function _u(){return!1}function pn(i){function o(l,c,m,y,S){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hi:_u,this.isPropagationStopped=_u,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),o}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=pn(mt),Io=g({},mt,{view:0,detail:0}),xf=pn(Io),Na,ka,di,No=g({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(Na=i.screenX-di.screenX,ka=i.screenY-di.screenY):ka=Na=0,di=i),Na)},movementY:function(i){return"movementY"in i?i.movementY:ka}}),Rr=pn(No),Cf=g({},No,{dataTransfer:0}),Vp=pn(Cf),ko=g({},Io,{relatedTarget:0}),Da=pn(ko),vu=g({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=pn(vu),Rf=g({},mt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ma=pn(Rf),Lp=g({},mt,{data:0}),Eu=pn(Lp),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},If={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Nf[i])?!!o[i]:!1}function Oo(){return wu}var kf=g({},Io,{key:function(i){if(i.key){var o=Do[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=fi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?If[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(i){return i.type==="keypress"?fi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Pa=pn(kf),Df=g({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=pn(Df),Bi=g({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),Of=pn(Bi),Mf=g({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=pn(Mf),Vf=g({},No,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=pn(Vf),Hn=g({},mt,{newState:0,oldState:0}),Lf=pn(Hn),Uf=[9,13,27,32],pi=qr&&"CompositionEvent"in window,p=null;qr&&"documentMode"in document&&(p=document.documentMode);var w=qr&&"TextEvent"in window&&!p,T=qr&&(!pi||p&&8<p&&11>=p),U=" ",re=!1;function ue(i,o){switch(i){case"keyup":return Uf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var it=!1;function an(i,o){switch(i){case"compositionend":return we(o);case"keypress":return o.which!==32?null:(re=!0,U);case"textInput":return i=o.data,i===U&&re?null:i;default:return null}}function st(i,o){if(it)return i==="compositionend"||!pi&&ue(i,o)?(i=yu(),zi=vs=ci=null,it=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ln(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!mn[i.type]:o==="textarea"}function Hi(i,o,l,c){Li?Ui?Ui.push(c):Ui=[c]:Li=c,o=Sh(o,"onChange"),0<o.length&&(l=new Ia("onChange","change",null,l,c),i.push({event:l,listeners:o}))}var Sn=null,mi=null;function Tu(i){Gw(i,0)}function zf(i){var o=Tr(i);if(du(o))return i}function dv(i,o){if(i==="change")return o}var pv=!1;if(qr){var Up;if(qr){var zp="oninput"in document;if(!zp){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),zp=typeof mv.oninput=="function"}Up=zp}else Up=!1;pv=Up&&(!document.documentMode||9<document.documentMode)}function gv(){Sn&&(Sn.detachEvent("onpropertychange",yv),mi=Sn=null)}function yv(i){if(i.propertyName==="value"&&zf(mi)){var o=[];Hi(o,mi,i,xr(i)),Af(Tu,o)}}function iN(i,o,l){i==="focusin"?(gv(),Sn=o,mi=l,Sn.attachEvent("onpropertychange",yv)):i==="focusout"&&gv()}function sN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return zf(mi)}function oN(i,o){if(i==="click")return zf(o)}function aN(i,o){if(i==="input"||i==="change")return zf(o)}function lN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var sr=typeof Object.is=="function"?Object.is:lN;function Su(i,o){if(sr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!tt.call(o,m)||!sr(i[m],o[m]))return!1}return!0}function _v(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vv(i,o){var l=_v(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=o&&c>=o)return{node:l,offset:o-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_v(l)}}function Ev(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Ev(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function wv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=To(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=To(i.document)}return o}function Bp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var uN=qr&&"documentMode"in document&&11>=document.documentMode,La=null,Hp=null,Au=null,Fp=!1;function bv(i,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fp||La==null||La!==To(c)||(c=La,"selectionStart"in c&&Bp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Au&&Su(Au,c)||(Au=c,c=Sh(Hp,"onSelect"),0<c.length&&(o=new Ia("onSelect","select",null,o,l),i.push({event:o,listeners:c}),o.target=La)))}function Mo(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ua={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionrun:Mo("Transition","TransitionRun"),transitionstart:Mo("Transition","TransitionStart"),transitioncancel:Mo("Transition","TransitionCancel"),transitionend:Mo("Transition","TransitionEnd")},jp={},Tv={};qr&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Po(i){if(jp[i])return jp[i];if(!Ua[i])return i;var o=Ua[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Tv)return jp[i]=o[l];return i}var Sv=Po("animationend"),Av=Po("animationiteration"),xv=Po("animationstart"),cN=Po("transitionrun"),fN=Po("transitionstart"),hN=Po("transitioncancel"),Cv=Po("transitionend"),Rv=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qp.push("scrollEnd");function $r(i,o){Rv.set(i,o),rr(o,[i])}var Iv=new WeakMap;function Ir(i,o){if(typeof i=="object"&&i!==null){var l=Iv.get(i);return l!==void 0?l:(o={value:i,source:o,stack:xa(o)},Iv.set(i,o),o)}return{value:i,source:o,stack:xa(o)}}var Nr=[],za=0,$p=0;function Bf(){for(var i=za,o=$p=za=0;o<i;){var l=Nr[o];Nr[o++]=null;var c=Nr[o];Nr[o++]=null;var m=Nr[o];Nr[o++]=null;var y=Nr[o];if(Nr[o++]=null,c!==null&&m!==null){var S=c.pending;S===null?m.next=m:(m.next=S.next,S.next=m),c.pending=m}y!==0&&Nv(l,m,y)}}function Hf(i,o,l,c){Nr[za++]=i,Nr[za++]=o,Nr[za++]=l,Nr[za++]=c,$p|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Gp(i,o,l,c){return Hf(i,o,l,c),Ff(i)}function Ba(i,o){return Hf(i,null,null,o),Ff(i)}function Nv(i,o,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&o!==null&&(m=31-Ie(l),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[o]:c.push(o),o.lane=l|536870912),y):null}function Ff(i){if(50<Qu)throw Qu=0,Zm=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ha={};function dN(i,o,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(i,o,l,c){return new dN(i,o,l,c)}function Yp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Fi(i,o){var l=i.alternate;return l===null?(l=or(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function kv(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function jf(i,o,l,c,m,y){var S=0;if(c=i,typeof i=="function")Yp(i)&&(S=1);else if(typeof i=="string")S=m2(i,l,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=or(31,l,o,m),i.elementType=I,i.lanes=y,i;case x:return Vo(l.children,m,y,o);case R:S=8,m|=24;break;case O:return i=or(12,l,o,m|2),i.elementType=O,i.lanes=y,i;case X:return i=or(13,l,o,m),i.elementType=X,i.lanes=y,i;case H:return i=or(19,l,o,m),i.elementType=H,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case $:S=10;break e;case q:S=9;break e;case j:S=11;break e;case P:S=14;break e;case C:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return o=or(S,l,o,m),o.elementType=i,o.type=c,o.lanes=y,o}function Vo(i,o,l,c){return i=or(7,i,c,o),i.lanes=l,i}function Kp(i,o,l){return i=or(6,i,null,o),i.lanes=l,i}function Xp(i,o,l){return o=or(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Fa=[],ja=0,qf=null,$f=0,kr=[],Dr=0,Lo=null,ji=1,qi="";function Uo(i,o){Fa[ja++]=$f,Fa[ja++]=qf,qf=i,$f=o}function Dv(i,o,l){kr[Dr++]=ji,kr[Dr++]=qi,kr[Dr++]=Lo,Lo=i;var c=ji;i=qi;var m=32-Ie(c)-1;c&=~(1<<m),l+=1;var y=32-Ie(o)+m;if(30<y){var S=m-m%5;y=(c&(1<<S)-1).toString(32),c>>=S,m-=S,ji=1<<32-Ie(o)+m|l<<m|c,qi=y+i}else ji=1<<y|l<<m|c,qi=i}function Qp(i){i.return!==null&&(Uo(i,1),Dv(i,1,0))}function Wp(i){for(;i===qf;)qf=Fa[--ja],Fa[ja]=null,$f=Fa[--ja],Fa[ja]=null;for(;i===Lo;)Lo=kr[--Dr],kr[Dr]=null,qi=kr[--Dr],kr[Dr]=null,ji=kr[--Dr],kr[Dr]=null}var Fn=null,Ft=null,dt=!1,zo=null,gi=!1,Zp=Error(r(519));function Bo(i){var o=Error(r(418,""));throw Ru(Ir(o,i)),Zp}function Ov(i){var o=i.stateNode,l=i.type,c=i.memoizedProps;switch(o[Yt]=i,o[Ht]=c,l){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(l=0;l<Zu.length;l++)et(Zu[l],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),So(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ca(o);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),Ao(o,c.value,c.defaultValue,c.children),Ca(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||Qw(o.textContent,l)?(c.popover!=null&&(et("beforetoggle",o),et("toggle",o)),c.onScroll!=null&&et("scroll",o),c.onScrollEnd!=null&&et("scrollend",o),c.onClick!=null&&(o.onclick=Ah),o=!0):o=!1,o||Bo(i)}function Mv(i){for(Fn=i.return;Fn;)switch(Fn.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:Fn=Fn.return}}function xu(i){if(i!==Fn)return!1;if(!dt)return Mv(i),dt=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||pg(i.type,i.memoizedProps)),l=!l),l&&Ft&&Bo(i),Mv(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){Ft=Yr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}Ft=null}}else o===27?(o=Ft,Ps(i.type)?(i=_g,_g=null,Ft=i):Ft=o):Ft=Fn?Yr(i.stateNode.nextSibling):null;return!0}function Cu(){Ft=Fn=null,dt=!1}function Pv(){var i=zo;return i!==null&&(Kn===null?Kn=i:Kn.push.apply(Kn,i),zo=null),i}function Ru(i){zo===null?zo=[i]:zo.push(i)}var Jp=Q(null),Ho=null,$i=null;function Es(i,o,l){N(Jp,o._currentValue),o._currentValue=l}function Gi(i){i._currentValue=Jp.current,ne(Jp)}function em(i,o,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===l)break;i=i.return}}function tm(i,o,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var S=m.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=m;for(var Y=0;Y<o.length;Y++)if(D.context===o[Y]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),em(y.return,l,i),c||(S=null);break e}y=D.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),em(S,l,i),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===i){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function Iu(i,o,l,c){i=null;for(var m=o,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var D=m.type;sr(m.pendingProps.value,S.value)||(i!==null?i.push(D):i=[D])}}else if(m===Ce.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(ic):i=[ic])}m=m.return}i!==null&&tm(o,i,l,c),o.flags|=262144}function Gf(i){for(i=i.firstContext;i!==null;){if(!sr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fo(i){Ho=i,$i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return Vv(Ho,i)}function Yf(i,o){return Ho===null&&Fo(i),Vv(i,o)}function Vv(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},$i===null){if(i===null)throw Error(r(308));$i=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else $i=$i.next=o;return l}var pN=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},mN=t.unstable_scheduleCallback,gN=t.unstable_NormalPriority,un={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nm(){return{controller:new pN,data:new Map,refCount:0}}function Nu(i){i.refCount--,i.refCount===0&&mN(gN,function(){i.controller.abort()})}var ku=null,rm=0,qa=0,$a=null;function yN(i,o){if(ku===null){var l=ku=[];rm=0,qa=sg(),$a={status:"pending",value:void 0,then:function(c){l.push(c)}}}return rm++,o.then(Lv,Lv),o}function Lv(){if(--rm===0&&ku!==null){$a!==null&&($a.status="fulfilled");var i=ku;ku=null,qa=0,$a=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function _N(i,o){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var Uv=V.S;V.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&yN(i,o),Uv!==null&&Uv(i,o)};var jo=Q(null);function im(){var i=jo.current;return i!==null?i:Rt.pooledCache}function Kf(i,o){o===null?N(jo,jo.current):N(jo,o.pool)}function zv(){var i=im();return i===null?null:{parent:un._currentValue,pool:i}}var Du=Error(r(460)),Bv=Error(r(474)),Xf=Error(r(542)),sm={then:function(){}};function Hv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Qf(){}function Fv(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(Qf,Qf),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,qv(i),i;default:if(typeof o.status=="string")o.then(Qf,Qf);else{if(i=Rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,qv(i),i}throw Ou=o,Du}}var Ou=null;function jv(){if(Ou===null)throw Error(r(459));var i=Ou;return Ou=null,i}function qv(i){if(i===Du||i===Xf)throw Error(r(483))}var ws=!1;function om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function am(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ts(i,o,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(yt&2)!==0){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=Ff(i),Nv(i,null,l),o}return Hf(i,c,o,l),Ff(i)}function Mu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,vo(i,l)}}function lm(i,o){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var um=!1;function Pu(){if(um){var i=$a;if(i!==null)throw i}}function Vu(i,o,l,c){um=!1;var m=i.updateQueue;ws=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var Y=D,se=Y.next;Y.next=null,S===null?y=se:S.next=se,S=Y;var de=i.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==S&&(D===null?de.firstBaseUpdate=se:D.next=se,de.lastBaseUpdate=Y))}if(y!==null){var me=m.baseState;S=0,de=se=Y=null,D=y;do{var oe=D.lane&-536870913,ae=oe!==D.lane;if(ae?(ot&oe)===oe:(c&oe)===oe){oe!==0&&oe===qa&&(um=!0),de!==null&&(de=de.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var He=i,Ve=D;oe=o;var bt=l;switch(Ve.tag){case 1:if(He=Ve.payload,typeof He=="function"){me=He.call(bt,me,oe);break e}me=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Ve.payload,oe=typeof He=="function"?He.call(bt,me,oe):He,oe==null)break e;me=g({},me,oe);break e;case 2:ws=!0}}oe=D.callback,oe!==null&&(i.flags|=64,ae&&(i.flags|=8192),ae=m.callbacks,ae===null?m.callbacks=[oe]:ae.push(oe))}else ae={lane:oe,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(se=de=ae,Y=me):de=de.next=ae,S|=oe;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);de===null&&(Y=me),m.baseState=Y,m.firstBaseUpdate=se,m.lastBaseUpdate=de,y===null&&(m.shared.lanes=0),ks|=S,i.lanes=S,i.memoizedState=me}}function $v(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Gv(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)$v(l[i],o)}var Ga=Q(null),Wf=Q(0);function Yv(i,o){i=Ji,N(Wf,i),N(Ga,o),Ji=i|o.baseLanes}function cm(){N(Wf,Ji),N(Ga,Ga.current)}function fm(){Ji=Wf.current,ne(Ga),ne(Wf)}var Ss=0,Ye=null,Et=null,Jt=null,Zf=!1,Ya=!1,qo=!1,Jf=0,Lu=0,Ka=null,vN=0;function Kt(){throw Error(r(321))}function hm(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!sr(i[l],o[l]))return!1;return!0}function dm(i,o,l,c,m,y){return Ss=y,Ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=i===null||i.memoizedState===null?NE:kE,qo=!1,y=l(c,m),qo=!1,Ya&&(y=Xv(o,l,c,m)),Kv(i),y}function Kv(i){V.H=sh;var o=Et!==null&&Et.next!==null;if(Ss=0,Jt=Et=Ye=null,Zf=!1,Lu=0,Ka=null,o)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&Gf(i)&&(gn=!0))}function Xv(i,o,l,c){Ye=i;var m=0;do{if(Ya&&(Ka=null),Lu=0,Ya=!1,25<=m)throw Error(r(301));if(m+=1,Jt=Et=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=xN,y=o(l,c)}while(Ya);return y}function EN(){var i=V.H,o=i.useState()[0];return o=typeof o.then=="function"?Uu(o):o,i=i.useState()[0],(Et!==null?Et.memoizedState:null)!==i&&(Ye.flags|=1024),o}function pm(){var i=Jf!==0;return Jf=0,i}function mm(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function gm(i){if(Zf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Zf=!1}Ss=0,Jt=Et=Ye=null,Ya=!1,Lu=Jf=0,Ka=null}function Gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i,Jt}function en(){if(Et===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var o=Jt===null?Ye.memoizedState:Jt.next;if(o!==null)Jt=o,Et=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Jt===null?Ye.memoizedState=Jt=i:Jt=Jt.next=i}return Jt}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uu(i){var o=Lu;return Lu+=1,Ka===null&&(Ka=[]),i=Fv(Ka,i,o),o=Ye,(Jt===null?o.memoizedState:Jt.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?NE:kE),i}function eh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Uu(i);if(i.$$typeof===$)return Dn(i)}throw Error(r(438,String(i)))}function _m(i){var o=null,l=Ye.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=ym(),Ye.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),c=0;c<i;c++)l[c]=z;return o.index++,l}function Yi(i,o){return typeof o=="function"?o(i):o}function th(i){var o=en();return vm(o,Et,i)}function vm(i,o,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}o.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{o=m.next;var D=S=null,Y=null,se=o,de=!1;do{var me=se.lane&-536870913;if(me!==se.lane?(ot&me)===me:(Ss&me)===me){var oe=se.revertLane;if(oe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),me===qa&&(de=!0);else if((Ss&oe)===oe){se=se.next,oe===qa&&(de=!0);continue}else me={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(D=Y=me,S=y):Y=Y.next=me,Ye.lanes|=oe,ks|=oe;me=se.action,qo&&l(y,me),y=se.hasEagerState?se.eagerState:l(y,me)}else oe={lane:me,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(D=Y=oe,S=y):Y=Y.next=oe,Ye.lanes|=me,ks|=me;se=se.next}while(se!==null&&se!==o);if(Y===null?S=y:Y.next=D,!sr(y,i.memoizedState)&&(gn=!0,de&&(l=$a,l!==null)))throw l;i.memoizedState=y,i.baseState=S,i.baseQueue=Y,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Em(i){var o=en(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);sr(y,o.memoizedState)||(gn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function Qv(i,o,l){var c=Ye,m=en(),y=dt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=o();var S=!sr((Et||m).memoizedState,l);S&&(m.memoizedState=l,gn=!0),m=m.queue;var D=Jv.bind(null,c,m,i);if(zu(2048,8,D,[i]),m.getSnapshot!==o||S||Jt!==null&&Jt.memoizedState.tag&1){if(c.flags|=2048,Xa(9,nh(),Zv.bind(null,c,m,l,o),null),Rt===null)throw Error(r(349));y||(Ss&124)!==0||Wv(c,o,l)}return l}function Wv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Ye.updateQueue,o===null?(o=ym(),Ye.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Zv(i,o,l,c){o.value=l,o.getSnapshot=c,eE(o)&&tE(i)}function Jv(i,o,l){return l(function(){eE(o)&&tE(i)})}function eE(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!sr(i,l)}catch{return!0}}function tE(i){var o=Ba(i,2);o!==null&&fr(o,i,2)}function wm(i){var o=Gn();if(typeof i=="function"){var l=i;if(i=l(),qo){Ae(!0);try{l()}finally{Ae(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:i},o}function nE(i,o,l,c){return i.baseState=l,vm(i,Et,typeof c=="function"?c:Yi)}function wN(i,o,l,c,m){if(ih(i))throw Error(r(485));if(i=o.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};V.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,rE(o,y)):(y.next=l.next,o.pending=l.next=y)}}function rE(i,o){var l=o.action,c=o.payload,m=i.state;if(o.isTransition){var y=V.T,S={};V.T=S;try{var D=l(m,c),Y=V.S;Y!==null&&Y(S,D),iE(i,o,D)}catch(se){bm(i,o,se)}finally{V.T=y}}else try{y=l(m,c),iE(i,o,y)}catch(se){bm(i,o,se)}}function iE(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){sE(i,o,c)},function(c){return bm(i,o,c)}):sE(i,o,l)}function sE(i,o,l){o.status="fulfilled",o.value=l,oE(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,rE(i,l)))}function bm(i,o,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,oE(o),o=o.next;while(o!==c)}i.action=null}function oE(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function aE(i,o){return o}function lE(i,o){if(dt){var l=Rt.formState;if(l!==null){e:{var c=Ye;if(dt){if(Ft){t:{for(var m=Ft,y=gi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Yr(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ft=Yr(m.nextSibling),c=m.data==="F!";break e}}Bo(c)}c=!1}c&&(o=l[0])}}return l=Gn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aE,lastRenderedState:o},l.queue=c,l=CE.bind(null,Ye,c),c.dispatch=l,c=wm(!1),y=Cm.bind(null,Ye,!1,c.queue),c=Gn(),m={state:o,dispatch:null,action:i,pending:null},c.queue=m,l=wN.bind(null,Ye,m,y,l),m.dispatch=l,c.memoizedState=i,[o,l,!1]}function uE(i){var o=en();return cE(o,Et,i)}function cE(i,o,l){if(o=vm(i,o,aE)[0],i=th(Yi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Uu(o)}catch(S){throw S===Du?Xf:S}else c=o;o=en();var m=o.queue,y=m.dispatch;return l!==o.memoizedState&&(Ye.flags|=2048,Xa(9,nh(),bN.bind(null,m,l),null)),[c,y,i]}function bN(i,o){i.action=o}function fE(i){var o=en(),l=Et;if(l!==null)return cE(o,l,i);en(),o=o.memoizedState,l=en();var c=l.queue.dispatch;return l.memoizedState=i,[o,c,!1]}function Xa(i,o,l,c){return i={tag:i,create:l,deps:c,inst:o,next:null},o=Ye.updateQueue,o===null&&(o=ym(),Ye.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,o.lastEffect=i),i}function nh(){return{destroy:void 0,resource:void 0}}function hE(){return en().memoizedState}function rh(i,o,l,c){var m=Gn();c=c===void 0?null:c,Ye.flags|=i,m.memoizedState=Xa(1|o,nh(),l,c)}function zu(i,o,l,c){var m=en();c=c===void 0?null:c;var y=m.memoizedState.inst;Et!==null&&c!==null&&hm(c,Et.memoizedState.deps)?m.memoizedState=Xa(o,y,l,c):(Ye.flags|=i,m.memoizedState=Xa(1|o,y,l,c))}function dE(i,o){rh(8390656,8,i,o)}function pE(i,o){zu(2048,8,i,o)}function mE(i,o){return zu(4,2,i,o)}function gE(i,o){return zu(4,4,i,o)}function yE(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function _E(i,o,l){l=l!=null?l.concat([i]):null,zu(4,4,yE.bind(null,o,i),l)}function Tm(){}function vE(i,o){var l=en();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&hm(o,c[1])?c[0]:(l.memoizedState=[i,o],i)}function EE(i,o){var l=en();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&hm(o,c[1]))return c[0];if(c=i(),qo){Ae(!0);try{i()}finally{Ae(!1)}}return l.memoizedState=[c,o],c}function Sm(i,o,l){return l===void 0||(Ss&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=Tw(),Ye.lanes|=i,ks|=i,l)}function wE(i,o,l,c){return sr(l,o)?l:Ga.current!==null?(i=Sm(i,l,c),sr(i,o)||(gn=!0),i):(Ss&42)===0?(gn=!0,i.memoizedState=l):(i=Tw(),Ye.lanes|=i,ks|=i,o)}function bE(i,o,l,c,m){var y=K.p;K.p=y!==0&&8>y?y:8;var S=V.T,D={};V.T=D,Cm(i,!1,o,l);try{var Y=m(),se=V.S;if(se!==null&&se(D,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var de=_N(Y,c);Bu(i,o,de,cr(i))}else Bu(i,o,c,cr(i))}catch(me){Bu(i,o,{then:function(){},status:"rejected",reason:me},cr())}finally{K.p=y,V.T=S}}function TN(){}function Am(i,o,l,c){if(i.tag!==5)throw Error(r(476));var m=TE(i).queue;bE(i,m,o,J,l===null?TN:function(){return SE(i),l(c)})}function TE(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:J},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function SE(i){var o=TE(i).next.queue;Bu(i,o,{},cr())}function xm(){return Dn(ic)}function AE(){return en().memoizedState}function xE(){return en().memoizedState}function SN(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=cr();i=bs(l);var c=Ts(o,i,l);c!==null&&(fr(c,o,l),Mu(c,o,l)),o={cache:nm()},i.payload=o;return}o=o.return}}function AN(i,o,l){var c=cr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ih(i)?RE(o,l):(l=Gp(i,o,l,c),l!==null&&(fr(l,i,c),IE(l,o,c)))}function CE(i,o,l){var c=cr();Bu(i,o,l,c)}function Bu(i,o,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ih(i))RE(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,D=y(S,l);if(m.hasEagerState=!0,m.eagerState=D,sr(D,S))return Hf(i,o,m,0),Rt===null&&Bf(),!1}catch{}finally{}if(l=Gp(i,o,m,c),l!==null)return fr(l,i,c),IE(l,o,c),!0}return!1}function Cm(i,o,l,c){if(c={lane:2,revertLane:sg(),action:c,hasEagerState:!1,eagerState:null,next:null},ih(i)){if(o)throw Error(r(479))}else o=Gp(i,l,c,2),o!==null&&fr(o,i,2)}function ih(i){var o=i.alternate;return i===Ye||o!==null&&o===Ye}function RE(i,o){Ya=Zf=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function IE(i,o,l){if((l&4194048)!==0){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,vo(i,l)}}var sh={readContext:Dn,use:eh,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},NE={readContext:Dn,use:eh,useCallback:function(i,o){return Gn().memoizedState=[i,o===void 0?null:o],i},useContext:Dn,useEffect:dE,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,rh(4194308,4,yE.bind(null,o,i),l)},useLayoutEffect:function(i,o){return rh(4194308,4,i,o)},useInsertionEffect:function(i,o){rh(4,2,i,o)},useMemo:function(i,o){var l=Gn();o=o===void 0?null:o;var c=i();if(qo){Ae(!0);try{i()}finally{Ae(!1)}}return l.memoizedState=[c,o],c},useReducer:function(i,o,l){var c=Gn();if(l!==void 0){var m=l(o);if(qo){Ae(!0);try{l(o)}finally{Ae(!1)}}}else m=o;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=AN.bind(null,Ye,i),[c.memoizedState,i]},useRef:function(i){var o=Gn();return i={current:i},o.memoizedState=i},useState:function(i){i=wm(i);var o=i.queue,l=CE.bind(null,Ye,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Tm,useDeferredValue:function(i,o){var l=Gn();return Sm(l,i,o)},useTransition:function(){var i=wm(!1);return i=bE.bind(null,Ye,i.queue,!0,!1),Gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var c=Ye,m=Gn();if(dt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Rt===null)throw Error(r(349));(ot&124)!==0||Wv(c,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,dE(Jv.bind(null,c,y,i),[i]),c.flags|=2048,Xa(9,nh(),Zv.bind(null,c,y,l,o),null),l},useId:function(){var i=Gn(),o=Rt.identifierPrefix;if(dt){var l=qi,c=ji;l=(c&~(1<<32-Ie(c)-1)).toString(32)+l,o=""+o+"R"+l,l=Jf++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=vN++,o=""+o+"r"+l.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:xm,useFormState:lE,useActionState:lE,useOptimistic:function(i){var o=Gn();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Cm.bind(null,Ye,!0,l),l.dispatch=o,[i,o]},useMemoCache:_m,useCacheRefresh:function(){return Gn().memoizedState=SN.bind(null,Ye)}},kE={readContext:Dn,use:eh,useCallback:vE,useContext:Dn,useEffect:pE,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:gE,useMemo:EE,useReducer:th,useRef:hE,useState:function(){return th(Yi)},useDebugValue:Tm,useDeferredValue:function(i,o){var l=en();return wE(l,Et.memoizedState,i,o)},useTransition:function(){var i=th(Yi)[0],o=en().memoizedState;return[typeof i=="boolean"?i:Uu(i),o]},useSyncExternalStore:Qv,useId:AE,useHostTransitionStatus:xm,useFormState:uE,useActionState:uE,useOptimistic:function(i,o){var l=en();return nE(l,Et,i,o)},useMemoCache:_m,useCacheRefresh:xE},xN={readContext:Dn,use:eh,useCallback:vE,useContext:Dn,useEffect:pE,useImperativeHandle:_E,useInsertionEffect:mE,useLayoutEffect:gE,useMemo:EE,useReducer:Em,useRef:hE,useState:function(){return Em(Yi)},useDebugValue:Tm,useDeferredValue:function(i,o){var l=en();return Et===null?Sm(l,i,o):wE(l,Et.memoizedState,i,o)},useTransition:function(){var i=Em(Yi)[0],o=en().memoizedState;return[typeof i=="boolean"?i:Uu(i),o]},useSyncExternalStore:Qv,useId:AE,useHostTransitionStatus:xm,useFormState:fE,useActionState:fE,useOptimistic:function(i,o){var l=en();return Et!==null?nE(l,Et,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:_m,useCacheRefresh:xE},Qa=null,Hu=0;function oh(i){var o=Hu;return Hu+=1,Qa===null&&(Qa=[]),Fv(Qa,i,o)}function Fu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function ah(i,o){throw o.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function DE(i){var o=i._init;return o(i._payload)}function OE(i){function o(te,W){if(i){var ie=te.deletions;ie===null?(te.deletions=[W],te.flags|=16):ie.push(W)}}function l(te,W){if(!i)return null;for(;W!==null;)o(te,W),W=W.sibling;return null}function c(te){for(var W=new Map;te!==null;)te.key!==null?W.set(te.key,te):W.set(te.index,te),te=te.sibling;return W}function m(te,W){return te=Fi(te,W),te.index=0,te.sibling=null,te}function y(te,W,ie){return te.index=ie,i?(ie=te.alternate,ie!==null?(ie=ie.index,ie<W?(te.flags|=67108866,W):ie):(te.flags|=67108866,W)):(te.flags|=1048576,W)}function S(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function D(te,W,ie,pe){return W===null||W.tag!==6?(W=Kp(ie,te.mode,pe),W.return=te,W):(W=m(W,ie),W.return=te,W)}function Y(te,W,ie,pe){var xe=ie.type;return xe===x?de(te,W,ie.props.children,pe,ie.key):W!==null&&(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&DE(xe)===W.type)?(W=m(W,ie.props),Fu(W,ie),W.return=te,W):(W=jf(ie.type,ie.key,ie.props,null,te.mode,pe),Fu(W,ie),W.return=te,W)}function se(te,W,ie,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=Xp(ie,te.mode,pe),W.return=te,W):(W=m(W,ie.children||[]),W.return=te,W)}function de(te,W,ie,pe,xe){return W===null||W.tag!==7?(W=Vo(ie,te.mode,pe,xe),W.return=te,W):(W=m(W,ie),W.return=te,W)}function me(te,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Kp(""+W,te.mode,ie),W.return=te,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return ie=jf(W.type,W.key,W.props,null,te.mode,ie),Fu(ie,W),ie.return=te,ie;case E:return W=Xp(W,te.mode,ie),W.return=te,W;case C:var pe=W._init;return W=pe(W._payload),me(te,W,ie)}if(G(W)||B(W))return W=Vo(W,te.mode,ie,null),W.return=te,W;if(typeof W.then=="function")return me(te,oh(W),ie);if(W.$$typeof===$)return me(te,Yf(te,W),ie);ah(te,W)}return null}function oe(te,W,ie,pe){var xe=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return xe!==null?null:D(te,W,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===xe?Y(te,W,ie,pe):null;case E:return ie.key===xe?se(te,W,ie,pe):null;case C:return xe=ie._init,ie=xe(ie._payload),oe(te,W,ie,pe)}if(G(ie)||B(ie))return xe!==null?null:de(te,W,ie,pe,null);if(typeof ie.then=="function")return oe(te,W,oh(ie),pe);if(ie.$$typeof===$)return oe(te,W,Yf(te,ie),pe);ah(te,ie)}return null}function ae(te,W,ie,pe,xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return te=te.get(ie)||null,D(W,te,""+pe,xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return te=te.get(pe.key===null?ie:pe.key)||null,Y(W,te,pe,xe);case E:return te=te.get(pe.key===null?ie:pe.key)||null,se(W,te,pe,xe);case C:var Qe=pe._init;return pe=Qe(pe._payload),ae(te,W,ie,pe,xe)}if(G(pe)||B(pe))return te=te.get(ie)||null,de(W,te,pe,xe,null);if(typeof pe.then=="function")return ae(te,W,ie,oh(pe),xe);if(pe.$$typeof===$)return ae(te,W,ie,Yf(W,pe),xe);ah(W,pe)}return null}function He(te,W,ie,pe){for(var xe=null,Qe=null,Ne=W,Ue=W=0,_n=null;Ne!==null&&Ue<ie.length;Ue++){Ne.index>Ue?(_n=Ne,Ne=null):_n=Ne.sibling;var ct=oe(te,Ne,ie[Ue],pe);if(ct===null){Ne===null&&(Ne=_n);break}i&&Ne&&ct.alternate===null&&o(te,Ne),W=y(ct,W,Ue),Qe===null?xe=ct:Qe.sibling=ct,Qe=ct,Ne=_n}if(Ue===ie.length)return l(te,Ne),dt&&Uo(te,Ue),xe;if(Ne===null){for(;Ue<ie.length;Ue++)Ne=me(te,ie[Ue],pe),Ne!==null&&(W=y(Ne,W,Ue),Qe===null?xe=Ne:Qe.sibling=Ne,Qe=Ne);return dt&&Uo(te,Ue),xe}for(Ne=c(Ne);Ue<ie.length;Ue++)_n=ae(Ne,te,Ue,ie[Ue],pe),_n!==null&&(i&&_n.alternate!==null&&Ne.delete(_n.key===null?Ue:_n.key),W=y(_n,W,Ue),Qe===null?xe=_n:Qe.sibling=_n,Qe=_n);return i&&Ne.forEach(function(Bs){return o(te,Bs)}),dt&&Uo(te,Ue),xe}function Ve(te,W,ie,pe){if(ie==null)throw Error(r(151));for(var xe=null,Qe=null,Ne=W,Ue=W=0,_n=null,ct=ie.next();Ne!==null&&!ct.done;Ue++,ct=ie.next()){Ne.index>Ue?(_n=Ne,Ne=null):_n=Ne.sibling;var Bs=oe(te,Ne,ct.value,pe);if(Bs===null){Ne===null&&(Ne=_n);break}i&&Ne&&Bs.alternate===null&&o(te,Ne),W=y(Bs,W,Ue),Qe===null?xe=Bs:Qe.sibling=Bs,Qe=Bs,Ne=_n}if(ct.done)return l(te,Ne),dt&&Uo(te,Ue),xe;if(Ne===null){for(;!ct.done;Ue++,ct=ie.next())ct=me(te,ct.value,pe),ct!==null&&(W=y(ct,W,Ue),Qe===null?xe=ct:Qe.sibling=ct,Qe=ct);return dt&&Uo(te,Ue),xe}for(Ne=c(Ne);!ct.done;Ue++,ct=ie.next())ct=ae(Ne,te,Ue,ct.value,pe),ct!==null&&(i&&ct.alternate!==null&&Ne.delete(ct.key===null?Ue:ct.key),W=y(ct,W,Ue),Qe===null?xe=ct:Qe.sibling=ct,Qe=ct);return i&&Ne.forEach(function(C2){return o(te,C2)}),dt&&Uo(te,Ue),xe}function bt(te,W,ie,pe){if(typeof ie=="object"&&ie!==null&&ie.type===x&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var xe=ie.key;W!==null;){if(W.key===xe){if(xe=ie.type,xe===x){if(W.tag===7){l(te,W.sibling),pe=m(W,ie.props.children),pe.return=te,te=pe;break e}}else if(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===C&&DE(xe)===W.type){l(te,W.sibling),pe=m(W,ie.props),Fu(pe,ie),pe.return=te,te=pe;break e}l(te,W);break}else o(te,W);W=W.sibling}ie.type===x?(pe=Vo(ie.props.children,te.mode,pe,ie.key),pe.return=te,te=pe):(pe=jf(ie.type,ie.key,ie.props,null,te.mode,pe),Fu(pe,ie),pe.return=te,te=pe)}return S(te);case E:e:{for(xe=ie.key;W!==null;){if(W.key===xe)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){l(te,W.sibling),pe=m(W,ie.children||[]),pe.return=te,te=pe;break e}else{l(te,W);break}else o(te,W);W=W.sibling}pe=Xp(ie,te.mode,pe),pe.return=te,te=pe}return S(te);case C:return xe=ie._init,ie=xe(ie._payload),bt(te,W,ie,pe)}if(G(ie))return He(te,W,ie,pe);if(B(ie)){if(xe=B(ie),typeof xe!="function")throw Error(r(150));return ie=xe.call(ie),Ve(te,W,ie,pe)}if(typeof ie.then=="function")return bt(te,W,oh(ie),pe);if(ie.$$typeof===$)return bt(te,W,Yf(te,ie),pe);ah(te,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(l(te,W.sibling),pe=m(W,ie),pe.return=te,te=pe):(l(te,W),pe=Kp(ie,te.mode,pe),pe.return=te,te=pe),S(te)):l(te,W)}return function(te,W,ie,pe){try{Hu=0;var xe=bt(te,W,ie,pe);return Qa=null,xe}catch(Ne){if(Ne===Du||Ne===Xf)throw Ne;var Qe=or(29,Ne,null,te.mode);return Qe.lanes=pe,Qe.return=te,Qe}finally{}}}var Wa=OE(!0),ME=OE(!1),Or=Q(null),yi=null;function As(i){var o=i.alternate;N(cn,cn.current&1),N(Or,i),yi===null&&(o===null||Ga.current!==null||o.memoizedState!==null)&&(yi=i)}function PE(i){if(i.tag===22){if(N(cn,cn.current),N(Or,i),yi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(yi=i)}}else xs()}function xs(){N(cn,cn.current),N(Or,Or.current)}function Ki(i){ne(Or),yi===i&&(yi=null),ne(cn)}var cn=Q(0);function lh(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||yg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Rm(i,o,l,c){o=i.memoizedState,l=l(c,o),l=l==null?o:g({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Im={enqueueSetState:function(i,o,l){i=i._reactInternals;var c=cr(),m=bs(c);m.payload=o,l!=null&&(m.callback=l),o=Ts(i,m,c),o!==null&&(fr(o,i,c),Mu(o,i,c))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var c=cr(),m=bs(c);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=Ts(i,m,c),o!==null&&(fr(o,i,c),Mu(o,i,c))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=cr(),c=bs(l);c.tag=2,o!=null&&(c.callback=o),o=Ts(i,c,l),o!==null&&(fr(o,i,l),Mu(o,i,l))}};function VE(i,o,l,c,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,S):o.prototype&&o.prototype.isPureReactComponent?!Su(l,c)||!Su(m,y):!0}function LE(i,o,l,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==i&&Im.enqueueReplaceState(o,o.state,null)}function $o(i,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(i=i.defaultProps){l===o&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var uh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function UE(i){uh(i)}function zE(i){console.error(i)}function BE(i){uh(i)}function ch(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function HE(i,o,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Nm(i,o,l){return l=bs(l),l.tag=3,l.payload={element:null},l.callback=function(){ch(i,o)},l}function FE(i){return i=bs(i),i.tag=3,i}function jE(i,o,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){HE(o,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){HE(o,l,c),typeof m!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var D=c.stack;this.componentDidCatch(c.value,{componentStack:D!==null?D:""})})}function CN(i,o,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Iu(o,l,m,!0),l=Or.current,l!==null){switch(l.tag){case 13:return yi===null?eg():l.alternate===null&&jt===0&&(jt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===sm?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),ng(i,c,m)),!1;case 22:return l.flags|=65536,c===sm?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),ng(i,c,m)),!1}throw Error(r(435,l.tag))}return ng(i,c,m),eg(),!1}if(dt)return o=Or.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==Zp&&(i=Error(r(422),{cause:c}),Ru(Ir(i,l)))):(c!==Zp&&(o=Error(r(423),{cause:c}),Ru(Ir(o,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Ir(c,l),m=Nm(i.stateNode,c,m),lm(i,m),jt!==4&&(jt=2)),!1;var y=Error(r(520),{cause:c});if(y=Ir(y,l),Xu===null?Xu=[y]:Xu.push(y),jt!==4&&(jt=2),o===null)return!0;c=Ir(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Nm(l.stateNode,c,i),lm(l,i),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ds===null||!Ds.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=FE(m),jE(m,i,l,c),lm(l,m),!1}l=l.return}while(l!==null);return!1}var qE=Error(r(461)),gn=!1;function An(i,o,l,c){o.child=i===null?ME(o,null,l,c):Wa(o,i.child,l,c)}function $E(i,o,l,c,m){l=l.render;var y=o.ref;if("ref"in c){var S={};for(var D in c)D!=="ref"&&(S[D]=c[D])}else S=c;return Fo(o),c=dm(i,o,l,S,y,m),D=pm(),i!==null&&!gn?(mm(i,o,m),Xi(i,o,m)):(dt&&D&&Qp(o),o.flags|=1,An(i,o,c,m),o.child)}function GE(i,o,l,c,m){if(i===null){var y=l.type;return typeof y=="function"&&!Yp(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,YE(i,o,y,c,m)):(i=jf(l.type,null,c,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!Um(i,m)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Su,l(S,c)&&i.ref===o.ref)return Xi(i,o,m)}return o.flags|=1,i=Fi(y,c),i.ref=o.ref,i.return=o,o.child=i}function YE(i,o,l,c,m){if(i!==null){var y=i.memoizedProps;if(Su(y,c)&&i.ref===o.ref)if(gn=!1,o.pendingProps=c=y,Um(i,m))(i.flags&131072)!==0&&(gn=!0);else return o.lanes=i.lanes,Xi(i,o,m)}return km(i,o,l,c,m)}function KE(i,o,l){var c=o.pendingProps,m=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(m=o.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return XE(i,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Kf(o,y!==null?y.cachePool:null),y!==null?Yv(o,y):cm(),PE(o);else return o.lanes=o.childLanes=536870912,XE(i,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(Kf(o,y.cachePool),Yv(o,y),xs(),o.memoizedState=null):(i!==null&&Kf(o,null),cm(),xs());return An(i,o,m,l),o.child}function XE(i,o,l,c){var m=im();return m=m===null?null:{parent:un._currentValue,pool:m},o.memoizedState={baseLanes:l,cachePool:m},i!==null&&Kf(o,null),cm(),PE(o),i!==null&&Iu(i,o,c,!0),null}function fh(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function km(i,o,l,c,m){return Fo(o),l=dm(i,o,l,c,void 0,m),c=pm(),i!==null&&!gn?(mm(i,o,m),Xi(i,o,m)):(dt&&c&&Qp(o),o.flags|=1,An(i,o,l,m),o.child)}function QE(i,o,l,c,m,y){return Fo(o),o.updateQueue=null,l=Xv(o,c,l,m),Kv(i),c=pm(),i!==null&&!gn?(mm(i,o,y),Xi(i,o,y)):(dt&&c&&Qp(o),o.flags|=1,An(i,o,l,y),o.child)}function WE(i,o,l,c,m){if(Fo(o),o.stateNode===null){var y=Ha,S=l.contextType;typeof S=="object"&&S!==null&&(y=Dn(S)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Im,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},om(o),S=l.contextType,y.context=typeof S=="object"&&S!==null?Dn(S):Ha,y.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Rm(o,l,S,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Im.enqueueReplaceState(y,y.state,null),Vu(o,c,y,m),Pu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(i===null){y=o.stateNode;var D=o.memoizedProps,Y=$o(l,D);y.props=Y;var se=y.context,de=l.contextType;S=Ha,typeof de=="object"&&de!==null&&(S=Dn(de));var me=l.getDerivedStateFromProps;de=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||se!==S)&&LE(o,y,c,S),ws=!1;var oe=o.memoizedState;y.state=oe,Vu(o,c,y,m),Pu(),se=o.memoizedState,D||oe!==se||ws?(typeof me=="function"&&(Rm(o,l,me,c),se=o.memoizedState),(Y=ws||VE(o,l,Y,c,oe,se,S))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=se),y.props=c,y.state=se,y.context=S,c=Y):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,am(i,o),S=o.memoizedProps,de=$o(l,S),y.props=de,me=o.pendingProps,oe=y.context,se=l.contextType,Y=Ha,typeof se=="object"&&se!==null&&(Y=Dn(se)),D=l.getDerivedStateFromProps,(se=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==me||oe!==Y)&&LE(o,y,c,Y),ws=!1,oe=o.memoizedState,y.state=oe,Vu(o,c,y,m),Pu();var ae=o.memoizedState;S!==me||oe!==ae||ws||i!==null&&i.dependencies!==null&&Gf(i.dependencies)?(typeof D=="function"&&(Rm(o,l,D,c),ae=o.memoizedState),(de=ws||VE(o,l,de,c,oe,ae,Y)||i!==null&&i.dependencies!==null&&Gf(i.dependencies))?(se||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ae,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ae,Y)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=ae),y.props=c,y.state=ae,y.context=Y,c=de):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),c=!1)}return y=c,fh(i,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,i!==null&&c?(o.child=Wa(o,i.child,null,m),o.child=Wa(o,null,l,m)):An(i,o,l,m),o.memoizedState=y.state,i=o.child):i=Xi(i,o,m),i}function ZE(i,o,l,c){return Cu(),o.flags|=256,An(i,o,l,c),o.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(i){return{baseLanes:i,cachePool:zv()}}function Mm(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Mr),i}function JE(i,o,l){var c=o.pendingProps,m=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(cn.current&2)!==0),S&&(m=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,i===null){if(dt){if(m?As(o):xs(),dt){var D=Ft,Y;if(Y=D){e:{for(Y=D,D=gi;Y.nodeType!==8;){if(!D){D=null;break e}if(Y=Yr(Y.nextSibling),Y===null){D=null;break e}}D=Y}D!==null?(o.memoizedState={dehydrated:D,treeContext:Lo!==null?{id:ji,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},Y=or(18,null,null,0),Y.stateNode=D,Y.return=o,o.child=Y,Fn=o,Ft=null,Y=!0):Y=!1}Y||Bo(o)}if(D=o.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return yg(D)?o.lanes=32:o.lanes=536870912,null;Ki(o)}return D=c.children,c=c.fallback,m?(xs(),m=o.mode,D=hh({mode:"hidden",children:D},m),c=Vo(c,m,l,null),D.return=o,c.return=o,D.sibling=c,o.child=D,m=o.child,m.memoizedState=Om(l),m.childLanes=Mm(i,S,l),o.memoizedState=Dm,c):(As(o),Pm(o,D))}if(Y=i.memoizedState,Y!==null&&(D=Y.dehydrated,D!==null)){if(y)o.flags&256?(As(o),o.flags&=-257,o=Vm(i,o,l)):o.memoizedState!==null?(xs(),o.child=i.child,o.flags|=128,o=null):(xs(),m=c.fallback,D=o.mode,c=hh({mode:"visible",children:c.children},D),m=Vo(m,D,l,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,Wa(o,i.child,null,l),c=o.child,c.memoizedState=Om(l),c.childLanes=Mm(i,S,l),o.memoizedState=Dm,o=m);else if(As(o),yg(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var se=S.dgst;S=se,c=Error(r(419)),c.stack="",c.digest=S,Ru({value:c,source:null,stack:null}),o=Vm(i,o,l)}else if(gn||Iu(i,o,l,!1),S=(l&i.childLanes)!==0,gn||S){if(S=Rt,S!==null&&(c=l&-l,c=(c&42)!==0?1:ni(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==Y.retryLane))throw Y.retryLane=c,Ba(i,c),fr(S,i,c),qE;D.data==="$?"||eg(),o=Vm(i,o,l)}else D.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=Y.treeContext,Ft=Yr(D.nextSibling),Fn=o,dt=!0,zo=null,gi=!1,i!==null&&(kr[Dr++]=ji,kr[Dr++]=qi,kr[Dr++]=Lo,ji=i.id,qi=i.overflow,Lo=o),o=Pm(o,c.children),o.flags|=4096);return o}return m?(xs(),m=c.fallback,D=o.mode,Y=i.child,se=Y.sibling,c=Fi(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,se!==null?m=Fi(se,m):(m=Vo(m,D,l,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,D=i.child.memoizedState,D===null?D=Om(l):(Y=D.cachePool,Y!==null?(se=un._currentValue,Y=Y.parent!==se?{parent:se,pool:se}:Y):Y=zv(),D={baseLanes:D.baseLanes|l,cachePool:Y}),m.memoizedState=D,m.childLanes=Mm(i,S,l),o.memoizedState=Dm,c):(As(o),l=i.child,i=l.sibling,l=Fi(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,i!==null&&(S=o.deletions,S===null?(o.deletions=[i],o.flags|=16):S.push(i)),o.child=l,o.memoizedState=null,l)}function Pm(i,o){return o=hh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function hh(i,o){return i=or(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Vm(i,o,l){return Wa(o,i.child,null,l),i=Pm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function ew(i,o,l){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),em(i.return,o,l)}function Lm(i,o,l,c,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function tw(i,o,l){var c=o.pendingProps,m=c.revealOrder,y=c.tail;if(An(i,o,c.children,l),c=cn.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ew(i,l,o);else if(i.tag===19)ew(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(N(cn,c),m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&lh(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Lm(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&lh(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Lm(o,!0,l,null,y);break;case"together":Lm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ks|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(Iu(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=Fi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Fi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function Um(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Gf(i)))}function RN(i,o,l){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Es(o,un,i.memoizedState.cache),Cu();break;case 27:case 5:Oe(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Es(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(As(o),o.flags|=128,null):(l&o.child.childLanes)!==0?JE(i,o,l):(As(o),i=Xi(i,o,l),i!==null?i.sibling:null);As(o);break;case 19:var m=(i.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Iu(i,o,l,!1),c=(l&o.childLanes)!==0),m){if(c)return tw(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),N(cn,cn.current),c)break;return null;case 22:case 23:return o.lanes=0,KE(i,o,l);case 24:Es(o,un,i.memoizedState.cache)}return Xi(i,o,l)}function nw(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)gn=!0;else{if(!Um(i,l)&&(o.flags&128)===0)return gn=!1,RN(i,o,l);gn=(i.flags&131072)!==0}else gn=!1,dt&&(o.flags&1048576)!==0&&Dv(o,$f,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var c=o.elementType,m=c._init;if(c=m(c._payload),o.type=c,typeof c=="function")Yp(c)?(i=$o(c,i),o.tag=1,o=WE(null,o,c,i,l)):(o.tag=0,o=km(null,o,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===j){o.tag=11,o=$E(null,o,c,i,l);break e}else if(m===P){o.tag=14,o=GE(null,o,c,i,l);break e}}throw o=k(c)||c,Error(r(306,o,""))}}return o;case 0:return km(i,o,o.type,o.pendingProps,l);case 1:return c=o.type,m=$o(c,o.pendingProps),WE(i,o,c,m,l);case 3:e:{if(be(o,o.stateNode.containerInfo),i===null)throw Error(r(387));c=o.pendingProps;var y=o.memoizedState;m=y.element,am(i,o),Vu(o,c,null,l);var S=o.memoizedState;if(c=S.cache,Es(o,un,c),c!==y.cache&&tm(o,[un],l,!0),Pu(),c=S.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=ZE(i,o,c,l);break e}else if(c!==m){m=Ir(Error(r(424)),o),Ru(m),o=ZE(i,o,c,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ft=Yr(i.firstChild),Fn=o,dt=!0,zo=null,gi=!0,l=ME(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Cu(),c===m){o=Xi(i,o,l);break e}An(i,o,c,l)}o=o.child}return o;case 26:return fh(i,o),i===null?(l=ob(o.type,null,o.pendingProps,null))?o.memoizedState=l:dt||(l=o.type,i=o.pendingProps,c=xh(_e.current).createElement(l),c[Yt]=o,c[Ht]=i,Cn(c,l,i),Lt(c),o.stateNode=c):o.memoizedState=ob(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Oe(o),i===null&&dt&&(c=o.stateNode=rb(o.type,o.pendingProps,_e.current),Fn=o,gi=!0,m=Ft,Ps(o.type)?(_g=m,Ft=Yr(c.firstChild)):Ft=m),An(i,o,o.pendingProps.children,l),fh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&dt&&((m=c=Ft)&&(c=n2(c,o.type,o.pendingProps,gi),c!==null?(o.stateNode=c,Fn=o,Ft=Yr(c.firstChild),gi=!1,m=!0):m=!1),m||Bo(o)),Oe(o),m=o.type,y=o.pendingProps,S=i!==null?i.memoizedProps:null,c=y.children,pg(m,y)?c=null:S!==null&&pg(m,S)&&(o.flags|=32),o.memoizedState!==null&&(m=dm(i,o,EN,null,null,l),ic._currentValue=m),fh(i,o),An(i,o,c,l),o.child;case 6:return i===null&&dt&&((i=l=Ft)&&(l=r2(l,o.pendingProps,gi),l!==null?(o.stateNode=l,Fn=o,Ft=null,i=!0):i=!1),i||Bo(o)),null;case 13:return JE(i,o,l);case 4:return be(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=Wa(o,null,c,l):An(i,o,c,l),o.child;case 11:return $E(i,o,o.type,o.pendingProps,l);case 7:return An(i,o,o.pendingProps,l),o.child;case 8:return An(i,o,o.pendingProps.children,l),o.child;case 12:return An(i,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,Es(o,o.type,c.value),An(i,o,c.children,l),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,Fo(o),m=Dn(m),c=c(m),o.flags|=1,An(i,o,c,l),o.child;case 14:return GE(i,o,o.type,o.pendingProps,l);case 15:return YE(i,o,o.type,o.pendingProps,l);case 19:return tw(i,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},i===null?(l=hh(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=Fi(i.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return KE(i,o,l);case 24:return Fo(o),c=Dn(un),i===null?(m=im(),m===null&&(m=Rt,y=nm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),o.memoizedState={parent:c,cache:m},om(o),Es(o,un,m)):((i.lanes&l)!==0&&(am(i,o),Vu(o,null,null,l),Pu()),m=i.memoizedState,y=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Es(o,un,c)):(c=y.cache,Es(o,un,c),c!==m.cache&&tm(o,[un],l,!0))),An(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Qi(i){i.flags|=4}function rw(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!fb(o)){if(o=Or.current,o!==null&&((ot&4194048)===ot?yi!==null:(ot&62914560)!==ot&&(ot&536870912)===0||o!==yi))throw Ou=sm,Bv;i.flags|=8192}}function dh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Hr():536870912,i.lanes|=o,tl|=o)}function ju(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,o}function IN(i,o,l){var c=o.pendingProps;switch(Wp(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return Ut(o),null;case 3:return l=o.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Gi(un),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(xu(o)?Qi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Pv())),Ut(o),null;case 26:return l=o.memoizedState,i===null?(Qi(o),l!==null?(Ut(o),rw(o,l)):(Ut(o),o.flags&=-16777217)):l?l!==i.memoizedState?(Qi(o),Ut(o),rw(o,l)):(Ut(o),o.flags&=-16777217):(i.memoizedProps!==c&&Qi(o),Ut(o),o.flags&=-16777217),null;case 27:Ze(o),l=_e.current;var m=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==c&&Qi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}i=le.current,xu(o)?Ov(o):(i=rb(m,c,l),o.stateNode=i,Qi(o))}return Ut(o),null;case 5:if(Ze(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==c&&Qi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}if(i=le.current,xu(o))Ov(o);else{switch(m=xh(_e.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[Yt]=o,i[Ht]=c;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=i;e:switch(Cn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Qi(o)}}return Ut(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==c&&Qi(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(i=_e.current,xu(o)){if(i=o.stateNode,l=o.memoizedProps,c=null,m=Fn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Yt]=o,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Qw(i.nodeValue,l)),i||Bo(o)}else i=xh(i).createTextNode(c),i[Yt]=o,o.stateNode=i}return Ut(o),null;case 13:if(c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=xu(o),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Yt]=o}else Cu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),m=!1}else m=Pv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ki(o),o):(Ki(o),null)}if(Ki(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),dh(o,o.updateQueue),Ut(o),null;case 4:return De(),i===null&&ug(o.stateNode.containerInfo),Ut(o),null;case 10:return Gi(o.type),Ut(o),null;case 19:if(ne(cn),m=o.memoizedState,m===null)return Ut(o),null;if(c=(o.flags&128)!==0,y=m.rendering,y===null)if(c)ju(m,!1);else{if(jt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(y=lh(i),y!==null){for(o.flags|=128,ju(m,!1),i=y.updateQueue,o.updateQueue=i,dh(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)kv(l,i),l=l.sibling;return N(cn,cn.current&1|2),o.child}i=i.sibling}m.tail!==null&&Le()>gh&&(o.flags|=128,c=!0,ju(m,!1),o.lanes=4194304)}else{if(!c)if(i=lh(y),i!==null){if(o.flags|=128,c=!0,i=i.updateQueue,o.updateQueue=i,dh(o,i),ju(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!dt)return Ut(o),null}else 2*Le()-m.renderingStartTime>gh&&l!==536870912&&(o.flags|=128,c=!0,ju(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(i=m.last,i!==null?i.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=Le(),o.sibling=null,i=cn.current,N(cn,c?i&1|2:i&1),o):(Ut(o),null);case 22:case 23:return Ki(o),fm(),c=o.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),l=o.updateQueue,l!==null&&dh(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),i!==null&&ne(jo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Gi(un),Ut(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function NN(i,o){switch(Wp(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Gi(un),De(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ze(o),null;case 13:if(Ki(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Cu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ne(cn),null;case 4:return De(),null;case 10:return Gi(o.type),null;case 22:case 23:return Ki(o),fm(),i!==null&&ne(jo),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Gi(un),null;case 25:return null;default:return null}}function iw(i,o){switch(Wp(o),o.tag){case 3:Gi(un),De();break;case 26:case 27:case 5:Ze(o);break;case 4:De();break;case 13:Ki(o);break;case 19:ne(cn);break;case 10:Gi(o.type);break;case 22:case 23:Ki(o),fm(),i!==null&&ne(jo);break;case 24:Gi(un)}}function qu(i,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var y=l.create,S=l.inst;c=y(),S.destroy=c}l=l.next}while(l!==m)}}catch(D){Tt(o,o.return,D)}}function Cs(i,o,l){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var S=c.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,m=o;var Y=l,se=D;try{se()}catch(de){Tt(m,Y,de)}}}c=c.next}while(c!==y)}}catch(de){Tt(o,o.return,de)}}function sw(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{Gv(o,l)}catch(c){Tt(i,i.return,c)}}}function ow(i,o,l){l.props=$o(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Tt(i,o,c)}}function $u(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Tt(i,o,m)}}function _i(i,o){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Tt(i,o,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Tt(i,o,m)}else l.current=null}function aw(i){var o=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Tt(i,i.return,m)}}function zm(i,o,l){try{var c=i.stateNode;WN(c,i.type,l,o),c[Ht]=o}catch(m){Tt(i,i.return,m)}}function lw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ps(i.type)||i.tag===4}function Bm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||lw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ps(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hm(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ah));else if(c!==4&&(c===27&&Ps(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(Hm(i,o,l),i=i.sibling;i!==null;)Hm(i,o,l),i=i.sibling}function ph(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(c!==4&&(c===27&&Ps(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ph(i,o,l),i=i.sibling;i!==null;)ph(i,o,l),i=i.sibling}function uw(i){var o=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);Cn(o,c,l),o[Yt]=i,o[Ht]=l}catch(y){Tt(i,i.return,y)}}var Wi=!1,Xt=!1,Fm=!1,cw=typeof WeakSet=="function"?WeakSet:Set,yn=null;function kN(i,o){if(i=i.containerInfo,hg=Dh,i=wv(i),Bp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,D=-1,Y=-1,se=0,de=0,me=i,oe=null;t:for(;;){for(var ae;me!==l||m!==0&&me.nodeType!==3||(D=S+m),me!==y||c!==0&&me.nodeType!==3||(Y=S+c),me.nodeType===3&&(S+=me.nodeValue.length),(ae=me.firstChild)!==null;)oe=me,me=ae;for(;;){if(me===i)break t;if(oe===l&&++se===m&&(D=S),oe===y&&++de===c&&(Y=S),(ae=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=ae}l=D===-1||Y===-1?null:{start:D,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(dg={focusedElem:i,selectionRange:l},Dh=!1,yn=o;yn!==null;)if(o=yn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,yn=i;else for(;yn!==null;){switch(o=yn,y=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=o,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var He=$o(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(He,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Tt(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)gg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":gg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,yn=i;break}yn=o.return}}function fw(i,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Rs(i,l),c&4&&qu(5,l);break;case 1:if(Rs(i,l),c&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(S){Tt(l,l.return,S)}else{var m=$o(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(m,o,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Tt(l,l.return,S)}}c&64&&sw(l),c&512&&$u(l,l.return);break;case 3:if(Rs(i,l),c&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Gv(i,o)}catch(S){Tt(l,l.return,S)}}break;case 27:o===null&&c&4&&uw(l);case 26:case 5:Rs(i,l),o===null&&c&4&&aw(l),c&512&&$u(l,l.return);break;case 12:Rs(i,l);break;case 13:Rs(i,l),c&4&&pw(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=BN.bind(null,l),i2(i,l))));break;case 22:if(c=l.memoizedState!==null||Wi,!c){o=o!==null&&o.memoizedState!==null||Xt,m=Wi;var y=Xt;Wi=c,(Xt=o)&&!y?Is(i,l,(l.subtreeFlags&8772)!==0):Rs(i,l),Wi=m,Xt=y}break;case 30:break;default:Rs(i,l)}}function hw(i){var o=i.alternate;o!==null&&(i.alternate=null,hw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&si(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Vt=null,Yn=!1;function Zi(i,o,l){for(l=l.child;l!==null;)dw(i,o,l),l=l.sibling}function dw(i,o,l){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(ee,l)}catch{}switch(l.tag){case 26:Xt||_i(l,o),Zi(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xt||_i(l,o);var c=Vt,m=Yn;Ps(l.type)&&(Vt=l.stateNode,Yn=!1),Zi(i,o,l),ec(l.stateNode),Vt=c,Yn=m;break;case 5:Xt||_i(l,o);case 6:if(c=Vt,m=Yn,Vt=null,Zi(i,o,l),Vt=c,Yn=m,Vt!==null)if(Yn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(l.stateNode)}catch(y){Tt(l,o,y)}else try{Vt.removeChild(l.stateNode)}catch(y){Tt(l,o,y)}break;case 18:Vt!==null&&(Yn?(i=Vt,tb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),lc(i)):tb(Vt,l.stateNode));break;case 4:c=Vt,m=Yn,Vt=l.stateNode.containerInfo,Yn=!0,Zi(i,o,l),Vt=c,Yn=m;break;case 0:case 11:case 14:case 15:Xt||Cs(2,l,o),Xt||Cs(4,l,o),Zi(i,o,l);break;case 1:Xt||(_i(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&ow(l,o,c)),Zi(i,o,l);break;case 21:Zi(i,o,l);break;case 22:Xt=(c=Xt)||l.memoizedState!==null,Zi(i,o,l),Xt=c;break;default:Zi(i,o,l)}}function pw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{lc(i)}catch(l){Tt(o,o.return,l)}}function DN(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new cw),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new cw),o;default:throw Error(r(435,i.tag))}}function jm(i,o){var l=DN(i);o.forEach(function(c){var m=HN.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function ar(i,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=i,S=o,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(Ps(D.type)){Vt=D.stateNode,Yn=!1;break e}break;case 5:Vt=D.stateNode,Yn=!1;break e;case 3:case 4:Vt=D.stateNode.containerInfo,Yn=!0;break e}D=D.return}if(Vt===null)throw Error(r(160));dw(y,S,m),Vt=null,Yn=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)mw(o,i),o=o.sibling}var Gr=null;function mw(i,o){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ar(o,i),lr(i),c&4&&(Cs(3,i,i.return),qu(3,i),Cs(5,i,i.return));break;case 1:ar(o,i),lr(i),c&512&&(Xt||l===null||_i(l,l.return)),c&64&&Wi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=Gr;if(ar(o,i),lr(i),c&512&&(Xt||l===null||_i(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Oi]||y[Yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Cn(y,c,l),y[Yt]=i,Lt(y),c=y;break e;case"link":var S=ub("link","href",m).get(c+(l.href||""));if(S){for(var D=0;D<S.length;D++)if(y=S[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(D,1);break t}}y=m.createElement(c),Cn(y,c,l),m.head.appendChild(y);break;case"meta":if(S=ub("meta","content",m).get(c+(l.content||""))){for(D=0;D<S.length;D++)if(y=S[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(D,1);break t}}y=m.createElement(c),Cn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[Yt]=i,Lt(y),c=y}i.stateNode=c}else cb(m,i.type,i.stateNode);else i.stateNode=lb(m,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?cb(m,i.type,i.stateNode):lb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&zm(i,i.memoizedProps,l.memoizedProps)}break;case 27:ar(o,i),lr(i),c&512&&(Xt||l===null||_i(l,l.return)),l!==null&&c&4&&zm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ar(o,i),lr(i),c&512&&(Xt||l===null||_i(l,l.return)),i.flags&32){m=i.stateNode;try{Ar(m,"")}catch(ae){Tt(i,i.return,ae)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,zm(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Fm=!0);break;case 6:if(ar(o,i),lr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ae){Tt(i,i.return,ae)}}break;case 3:if(Ih=null,m=Gr,Gr=Ch(o.containerInfo),ar(o,i),Gr=m,lr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{lc(o.containerInfo)}catch(ae){Tt(i,i.return,ae)}Fm&&(Fm=!1,gw(i));break;case 4:c=Gr,Gr=Ch(i.stateNode.containerInfo),ar(o,i),lr(i),Gr=c;break;case 12:ar(o,i),lr(i);break;case 13:ar(o,i),lr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xm=Le()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jm(i,c)));break;case 22:m=i.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,se=Wi,de=Xt;if(Wi=se||m,Xt=de||Y,ar(o,i),Xt=de,Wi=se,lr(i),c&8192)e:for(o=i.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||Y||Wi||Xt||Go(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){Y=l=o;try{if(y=Y.stateNode,m)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=Y.stateNode;var me=Y.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(ae){Tt(Y,Y.return,ae)}}}else if(o.tag===6){if(l===null){Y=o;try{Y.stateNode.nodeValue=m?"":Y.memoizedProps}catch(ae){Tt(Y,Y.return,ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,jm(i,l))));break;case 19:ar(o,i),lr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jm(i,c)));break;case 30:break;case 21:break;default:ar(o,i),lr(i)}}function lr(i){var o=i.flags;if(o&2){try{for(var l,c=i.return;c!==null;){if(lw(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=Bm(i);ph(i,y,m);break;case 5:var S=l.stateNode;l.flags&32&&(Ar(S,""),l.flags&=-33);var D=Bm(i);ph(i,D,S);break;case 3:case 4:var Y=l.stateNode.containerInfo,se=Bm(i);Hm(i,se,Y);break;default:throw Error(r(161))}}catch(de){Tt(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function gw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;gw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Rs(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)fw(i,o.alternate,o),o=o.sibling}function Go(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Cs(4,o,o.return),Go(o);break;case 1:_i(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&ow(o,o.return,l),Go(o);break;case 27:ec(o.stateNode);case 26:case 5:_i(o,o.return),Go(o);break;case 22:o.memoizedState===null&&Go(o);break;case 30:Go(o);break;default:Go(o)}i=i.sibling}}function Is(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=i,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Is(m,y,l),qu(4,y);break;case 1:if(Is(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(se){Tt(c,c.return,se)}if(c=y,m=c.updateQueue,m!==null){var D=c.stateNode;try{var Y=m.shared.hiddenCallbacks;if(Y!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Y.length;m++)$v(Y[m],D)}catch(se){Tt(c,c.return,se)}}l&&S&64&&sw(y),$u(y,y.return);break;case 27:uw(y);case 26:case 5:Is(m,y,l),l&&c===null&&S&4&&aw(y),$u(y,y.return);break;case 12:Is(m,y,l);break;case 13:Is(m,y,l),l&&S&4&&pw(m,y);break;case 22:y.memoizedState===null&&Is(m,y,l),$u(y,y.return);break;case 30:break;default:Is(m,y,l)}o=o.sibling}}function qm(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Nu(l))}function $m(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i))}function vi(i,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yw(i,o,l,c),o=o.sibling}function yw(i,o,l,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:vi(i,o,l,c),m&2048&&qu(9,o);break;case 1:vi(i,o,l,c);break;case 3:vi(i,o,l,c),m&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i)));break;case 12:if(m&2048){vi(i,o,l,c),i=o.stateNode;try{var y=o.memoizedProps,S=y.id,D=y.onPostCommit;typeof D=="function"&&D(S,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){Tt(o,o.return,Y)}}else vi(i,o,l,c);break;case 13:vi(i,o,l,c);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?vi(i,o,l,c):Gu(i,o):y._visibility&2?vi(i,o,l,c):(y._visibility|=2,Za(i,o,l,c,(o.subtreeFlags&10256)!==0)),m&2048&&qm(S,o);break;case 24:vi(i,o,l,c),m&2048&&$m(o.alternate,o);break;default:vi(i,o,l,c)}}function Za(i,o,l,c,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=i,S=o,D=l,Y=c,se=S.flags;switch(S.tag){case 0:case 11:case 15:Za(y,S,D,Y,m),qu(8,S);break;case 23:break;case 22:var de=S.stateNode;S.memoizedState!==null?de._visibility&2?Za(y,S,D,Y,m):Gu(y,S):(de._visibility|=2,Za(y,S,D,Y,m)),m&&se&2048&&qm(S.alternate,S);break;case 24:Za(y,S,D,Y,m),m&&se&2048&&$m(S.alternate,S);break;default:Za(y,S,D,Y,m)}o=o.sibling}}function Gu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,c=o,m=c.flags;switch(c.tag){case 22:Gu(l,c),m&2048&&qm(c.alternate,c);break;case 24:Gu(l,c),m&2048&&$m(c.alternate,c);break;default:Gu(l,c)}o=o.sibling}}var Yu=8192;function Ja(i){if(i.subtreeFlags&Yu)for(i=i.child;i!==null;)_w(i),i=i.sibling}function _w(i){switch(i.tag){case 26:Ja(i),i.flags&Yu&&i.memoizedState!==null&&y2(Gr,i.memoizedState,i.memoizedProps);break;case 5:Ja(i);break;case 3:case 4:var o=Gr;Gr=Ch(i.stateNode.containerInfo),Ja(i),Gr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Yu,Yu=16777216,Ja(i),Yu=o):Ja(i));break;default:Ja(i)}}function vw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Ku(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];yn=c,ww(c,i)}vw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ew(i),i=i.sibling}function Ew(i){switch(i.tag){case 0:case 11:case 15:Ku(i),i.flags&2048&&Cs(9,i,i.return);break;case 3:Ku(i);break;case 12:Ku(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,mh(i)):Ku(i);break;default:Ku(i)}}function mh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];yn=c,ww(c,i)}vw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Cs(8,o,o.return),mh(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,mh(o));break;default:mh(o)}i=i.sibling}}function ww(i,o){for(;yn!==null;){var l=yn;switch(l.tag){case 0:case 11:case 15:Cs(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Nu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,yn=c;else e:for(l=i;yn!==null;){c=yn;var m=c.sibling,y=c.return;if(hw(c),c===l){yn=null;break e}if(m!==null){m.return=y,yn=m;break e}yn=y}}}var ON={getCacheForType:function(i){var o=Dn(un),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},MN=typeof WeakMap=="function"?WeakMap:Map,yt=0,Rt=null,Je=null,ot=0,_t=0,ur=null,Ns=!1,el=!1,Gm=!1,Ji=0,jt=0,ks=0,Yo=0,Ym=0,Mr=0,tl=0,Xu=null,Kn=null,Km=!1,Xm=0,gh=1/0,yh=null,Ds=null,xn=0,Os=null,nl=null,rl=0,Qm=0,Wm=null,bw=null,Qu=0,Zm=null;function cr(){if((yt&2)!==0&&ot!==0)return ot&-ot;if(V.T!==null){var i=qa;return i!==0?i:sg()}return ri()}function Tw(){Mr===0&&(Mr=(ot&536870912)===0||dt?Di():536870912);var i=Or.current;return i!==null&&(i.flags|=32),Mr}function fr(i,o,l){(i===Rt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(il(i,0),Ms(i,ot,Mr,!1)),vr(i,l),((yt&2)===0||i!==Rt)&&(i===Rt&&((yt&2)===0&&(Yo|=l),jt===4&&Ms(i,ot,Mr,!1)),Ei(i))}function Sw(i,o,l){if((yt&6)!==0)throw Error(r(327));var c=!l&&(o&124)===0&&(o&i.expiredLanes)===0||Bt(i,o),m=c?LN(i,o):tg(i,o,!0),y=c;do{if(m===0){el&&!c&&Ms(i,o,0,!1);break}else{if(l=i.current.alternate,y&&!PN(l)){m=tg(i,o,!1),y=!1;continue}if(m===2){if(y=o,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var D=i;m=Xu;var Y=D.current.memoizedState.isDehydrated;if(Y&&(il(D,S).flags|=256),S=tg(D,S,!1),S!==2){if(Gm&&!Y){D.errorRecoveryDisabledLanes|=y,Yo|=y,m=4;break e}y=Kn,Kn=m,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}m=S}if(y=!1,m!==2)continue}}if(m===1){il(i,0),Ms(i,o,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ms(c,o,Mr,!Ns);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(m=Xm+300-Le(),10<m)){if(Ms(c,o,Mr,!Ns),ht(c,0,!0)!==0)break e;c.timeoutHandle=Jw(Aw.bind(null,c,l,Kn,yh,Km,o,Mr,Yo,tl,Ns,y,2,-0,0),m);break e}Aw(c,l,Kn,yh,Km,o,Mr,Yo,tl,Ns,y,0,-0,0)}}break}while(!0);Ei(i)}function Aw(i,o,l,c,m,y,S,D,Y,se,de,me,oe,ae){if(i.timeoutHandle=-1,me=o.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(rc={stylesheets:null,count:0,unsuspend:g2},_w(o),me=_2(),me!==null)){i.cancelPendingCommit=me(Dw.bind(null,i,o,y,l,c,m,S,D,Y,de,1,oe,ae)),Ms(i,y,S,!se);return}Dw(i,o,y,l,c,m,S,D,Y)}function PN(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!sr(y(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ms(i,o,l,c){o&=~Ym,o&=~Yo,i.suspendedLanes|=o,i.pingedLanes&=~o,c&&(i.warmLanes|=o),c=i.expirationTimes;for(var m=o;0<m;){var y=31-Ie(m),S=1<<y;c[y]=-1,m&=~S}l!==0&&Er(i,l,o)}function _h(){return(yt&6)===0?(Wu(0),!1):!0}function Jm(){if(Je!==null){if(_t===0)var i=Je.return;else i=Je,$i=Ho=null,gm(i),Qa=null,Hu=0,i=Je;for(;i!==null;)iw(i.alternate,i),i=i.return;Je=null}}function il(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,JN(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Jm(),Rt=i,Je=l=Fi(i.current,null),ot=o,_t=0,ur=null,Ns=!1,el=Bt(i,o),Gm=!1,tl=Mr=Ym=Yo=ks=jt=0,Kn=Xu=null,Km=!1,(o&8)!==0&&(o|=o&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=o;0<c;){var m=31-Ie(c),y=1<<m;o|=i[m],c&=~y}return Ji=o,Bf(),l}function xw(i,o){Ye=null,V.H=sh,o===Du||o===Xf?(o=jv(),_t=3):o===Bv?(o=jv(),_t=4):_t=o===qE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ur=o,Je===null&&(jt=1,ch(i,Ir(o,i.current)))}function Cw(){var i=V.H;return V.H=sh,i===null?sh:i}function Rw(){var i=V.A;return V.A=ON,i}function eg(){jt=4,Ns||(ot&4194048)!==ot&&Or.current!==null||(el=!0),(ks&134217727)===0&&(Yo&134217727)===0||Rt===null||Ms(Rt,ot,Mr,!1)}function tg(i,o,l){var c=yt;yt|=2;var m=Cw(),y=Rw();(Rt!==i||ot!==o)&&(yh=null,il(i,o)),o=!1;var S=jt;e:do try{if(_t!==0&&Je!==null){var D=Je,Y=ur;switch(_t){case 8:Jm(),S=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(o=!0);var se=_t;if(_t=0,ur=null,sl(i,D,Y,se),l&&el){S=0;break e}break;default:se=_t,_t=0,ur=null,sl(i,D,Y,se)}}VN(),S=jt;break}catch(de){xw(i,de)}while(!0);return o&&i.shellSuspendCounter++,$i=Ho=null,yt=c,V.H=m,V.A=y,Je===null&&(Rt=null,ot=0,Bf()),S}function VN(){for(;Je!==null;)Iw(Je)}function LN(i,o){var l=yt;yt|=2;var c=Cw(),m=Rw();Rt!==i||ot!==o?(yh=null,gh=Le()+500,il(i,o)):el=Bt(i,o);e:do try{if(_t!==0&&Je!==null){o=Je;var y=ur;t:switch(_t){case 1:_t=0,ur=null,sl(i,o,y,1);break;case 2:case 9:if(Hv(y)){_t=0,ur=null,Nw(o);break}o=function(){_t!==2&&_t!==9||Rt!==i||(_t=7),Ei(i)},y.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Hv(y)?(_t=0,ur=null,Nw(o)):(_t=0,ur=null,sl(i,o,y,7));break;case 5:var S=null;switch(Je.tag){case 26:S=Je.memoizedState;case 5:case 27:var D=Je;if(!S||fb(S)){_t=0,ur=null;var Y=D.sibling;if(Y!==null)Je=Y;else{var se=D.return;se!==null?(Je=se,vh(se)):Je=null}break t}}_t=0,ur=null,sl(i,o,y,5);break;case 6:_t=0,ur=null,sl(i,o,y,6);break;case 8:Jm(),jt=6;break e;default:throw Error(r(462))}}UN();break}catch(de){xw(i,de)}while(!0);return $i=Ho=null,V.H=c,V.A=m,yt=l,Je!==null?0:(Rt=null,ot=0,Bf(),jt)}function UN(){for(;Je!==null&&!Me();)Iw(Je)}function Iw(i){var o=nw(i.alternate,i,Ji);i.memoizedProps=i.pendingProps,o===null?vh(i):Je=o}function Nw(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=QE(l,o,o.pendingProps,o.type,void 0,ot);break;case 11:o=QE(l,o,o.pendingProps,o.type.render,o.ref,ot);break;case 5:gm(o);default:iw(l,o),o=Je=kv(o,Ji),o=nw(l,o,Ji)}i.memoizedProps=i.pendingProps,o===null?vh(i):Je=o}function sl(i,o,l,c){$i=Ho=null,gm(o),Qa=null,Hu=0;var m=o.return;try{if(CN(i,m,o,l,ot)){jt=1,ch(i,Ir(l,i.current)),Je=null;return}}catch(y){if(m!==null)throw Je=m,y;jt=1,ch(i,Ir(l,i.current)),Je=null;return}o.flags&32768?(dt||c===1?i=!0:el||(ot&536870912)!==0?i=!1:(Ns=i=!0,(c===2||c===9||c===3||c===6)&&(c=Or.current,c!==null&&c.tag===13&&(c.flags|=16384))),kw(o,i)):vh(o)}function vh(i){var o=i;do{if((o.flags&32768)!==0){kw(o,Ns);return}i=o.return;var l=IN(o.alternate,o,Ji);if(l!==null){Je=l;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=i}while(o!==null);jt===0&&(jt=5)}function kw(i,o){do{var l=NN(i.alternate,i);if(l!==null){l.flags&=32767,Je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){Je=i;return}Je=i=l}while(i!==null);jt=6,Je=null}function Dw(i,o,l,c,m,y,S,D,Y){i.cancelPendingCommit=null;do Eh();while(xn!==0);if((yt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=$p,nr(i,l,y,S,D,Y),i===Rt&&(Je=Rt=null,ot=0),nl=o,Os=i,rl=l,Qm=y,Wm=m,bw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FN(wn,function(){return Lw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,m=K.p,K.p=2,S=yt,yt|=4;try{kN(i,o,l)}finally{yt=S,K.p=m,V.T=c}}xn=1,Ow(),Mw(),Pw()}}function Ow(){if(xn===1){xn=0;var i=Os,o=nl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=V.T,V.T=null;var c=K.p;K.p=2;var m=yt;yt|=4;try{mw(o,i);var y=dg,S=wv(i.containerInfo),D=y.focusedElem,Y=y.selectionRange;if(S!==D&&D&&D.ownerDocument&&Ev(D.ownerDocument.documentElement,D)){if(Y!==null&&Bp(D)){var se=Y.start,de=Y.end;if(de===void 0&&(de=se),"selectionStart"in D)D.selectionStart=se,D.selectionEnd=Math.min(de,D.value.length);else{var me=D.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var ae=oe.getSelection(),He=D.textContent.length,Ve=Math.min(Y.start,He),bt=Y.end===void 0?Ve:Math.min(Y.end,He);!ae.extend&&Ve>bt&&(S=bt,bt=Ve,Ve=S);var te=vv(D,Ve),W=vv(D,bt);if(te&&W&&(ae.rangeCount!==1||ae.anchorNode!==te.node||ae.anchorOffset!==te.offset||ae.focusNode!==W.node||ae.focusOffset!==W.offset)){var ie=me.createRange();ie.setStart(te.node,te.offset),ae.removeAllRanges(),Ve>bt?(ae.addRange(ie),ae.extend(W.node,W.offset)):(ie.setEnd(W.node,W.offset),ae.addRange(ie))}}}}for(me=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var pe=me[D];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Dh=!!hg,dg=hg=null}finally{yt=m,K.p=c,V.T=l}}i.current=o,xn=2}}function Mw(){if(xn===2){xn=0;var i=Os,o=nl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=V.T,V.T=null;var c=K.p;K.p=2;var m=yt;yt|=4;try{fw(i,o.alternate,o)}finally{yt=m,K.p=c,V.T=l}}xn=3}}function Pw(){if(xn===4||xn===3){xn=0,St();var i=Os,o=nl,l=rl,c=bw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?xn=5:(xn=0,nl=Os=null,Vw(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ds=null),ms(l),o=o.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(ee,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=V.T,m=K.p,K.p=2,V.T=null;try{for(var y=i.onRecoverableError,S=0;S<c.length;S++){var D=c[S];y(D.value,{componentStack:D.stack})}}finally{V.T=o,K.p=m}}(rl&3)!==0&&Eh(),Ei(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Zm?Qu++:(Qu=0,Zm=i):Qu=0,Wu(0)}}function Vw(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Nu(o)))}function Eh(i){return Ow(),Mw(),Pw(),Lw()}function Lw(){if(xn!==5)return!1;var i=Os,o=Qm;Qm=0;var l=ms(rl),c=V.T,m=K.p;try{K.p=32>l?32:l,V.T=null,l=Wm,Wm=null;var y=Os,S=rl;if(xn=0,nl=Os=null,rl=0,(yt&6)!==0)throw Error(r(331));var D=yt;if(yt|=4,Ew(y.current),yw(y,y.current,S,l),yt=D,Wu(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(ee,y)}catch{}return!0}finally{K.p=m,V.T=c,Vw(i,o)}}function Uw(i,o,l){o=Ir(l,o),o=Nm(i.stateNode,o,2),i=Ts(i,o,2),i!==null&&(vr(i,2),Ei(i))}function Tt(i,o,l){if(i.tag===3)Uw(i,i,l);else for(;o!==null;){if(o.tag===3){Uw(o,i,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ds===null||!Ds.has(c))){i=Ir(l,i),l=FE(2),c=Ts(o,l,2),c!==null&&(jE(l,c,o,i),vr(c,2),Ei(c));break}}o=o.return}}function ng(i,o,l){var c=i.pingCache;if(c===null){c=i.pingCache=new MN;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(l)||(Gm=!0,m.add(l),i=zN.bind(null,i,o,l),o.then(i,i))}function zN(i,o,l){var c=i.pingCache;c!==null&&c.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Rt===i&&(ot&l)===l&&(jt===4||jt===3&&(ot&62914560)===ot&&300>Le()-Xm?(yt&2)===0&&il(i,0):Ym|=l,tl===ot&&(tl=0)),Ei(i)}function zw(i,o){o===0&&(o=Hr()),i=Ba(i,o),i!==null&&(vr(i,o),Ei(i))}function BN(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),zw(i,l)}function HN(i,o){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),zw(i,l)}function FN(i,o){return ft(i,o)}var wh=null,ol=null,rg=!1,bh=!1,ig=!1,Ko=0;function Ei(i){i!==ol&&i.next===null&&(ol===null?wh=ol=i:ol=ol.next=i),bh=!0,rg||(rg=!0,qN())}function Wu(i,o){if(!ig&&bh){ig=!0;do for(var l=!1,c=wh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var S=c.suspendedLanes,D=c.pingedLanes;y=(1<<31-Ie(42|i)+1)-1,y&=m&~(S&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,jw(c,y))}else y=ot,y=ht(c,c===Rt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Bt(c,y)||(l=!0,jw(c,y));c=c.next}while(l);ig=!1}}function jN(){Bw()}function Bw(){bh=rg=!1;var i=0;Ko!==0&&(ZN()&&(i=Ko),Ko=0);for(var o=Le(),l=null,c=wh;c!==null;){var m=c.next,y=Hw(c,o);y===0?(c.next=null,l===null?wh=m:l.next=m,m===null&&(ol=l)):(l=c,(i!==0||(y&3)!==0)&&(bh=!0)),c=m}Wu(i)}function Hw(i,o){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Ie(y),D=1<<S,Y=m[S];Y===-1?((D&l)===0||(D&c)!==0)&&(m[S]=sn(D,o)):Y<=o&&(i.expiredLanes|=D),y&=~D}if(o=Rt,l=ot,l=ht(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&lt(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Bt(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(c!==null&&lt(c),ms(l)){case 2:case 8:l=$t;break;case 32:l=wn;break;case 268435456:l=bn;break;default:l=wn}return c=Fw.bind(null,i),l=ft(l,c),i.callbackPriority=o,i.callbackNode=l,o}return c!==null&&c!==null&&lt(c),i.callbackPriority=2,i.callbackNode=null,2}function Fw(i,o){if(xn!==0&&xn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Eh()&&i.callbackNode!==l)return null;var c=ot;return c=ht(i,i===Rt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Sw(i,c,o),Hw(i,Le()),i.callbackNode!=null&&i.callbackNode===l?Fw.bind(null,i):null)}function jw(i,o){if(Eh())return null;Sw(i,o,!0)}function qN(){e2(function(){(yt&6)!==0?ft(At,jN):Bw()})}function sg(){return Ko===0&&(Ko=Di()),Ko}function qw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ra(""+i)}function $w(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function $N(i,o,l,c,m){if(o==="submit"&&l&&l.stateNode===m){var y=qw((m[Ht]||null).action),S=c.submitter;S&&(o=(o=S[Ht]||null)?qw(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var D=new Ia("action","action",null,c,m);i.push({event:D,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ko!==0){var Y=S?$w(m,S):new FormData(m);Am(l,{pending:!0,data:Y,method:m.method,action:y},null,Y)}}else typeof y=="function"&&(D.preventDefault(),Y=S?$w(m,S):new FormData(m),Am(l,{pending:!0,data:Y,method:m.method,action:y},y,Y))},currentTarget:m}]})}}for(var og=0;og<qp.length;og++){var ag=qp[og],GN=ag.toLowerCase(),YN=ag[0].toUpperCase()+ag.slice(1);$r(GN,"on"+YN)}$r(Sv,"onAnimationEnd"),$r(Av,"onAnimationIteration"),$r(xv,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(cN,"onTransitionRun"),$r(fN,"onTransitionStart"),$r(hN,"onTransitionCancel"),$r(Cv,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function Gw(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var S=c.length-1;0<=S;S--){var D=c[S],Y=D.instance,se=D.currentTarget;if(D=D.listener,Y!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=se;try{y(m)}catch(de){uh(de)}m.currentTarget=null,y=Y}else for(S=0;S<c.length;S++){if(D=c[S],Y=D.instance,se=D.currentTarget,D=D.listener,Y!==y&&m.isPropagationStopped())break e;y=D,m.currentTarget=se;try{y(m)}catch(de){uh(de)}m.currentTarget=null,y=Y}}}}function et(i,o){var l=o[Eo];l===void 0&&(l=o[Eo]=new Set);var c=i+"__bubble";l.has(c)||(Yw(o,i,2,!1),l.add(c))}function lg(i,o,l){var c=0;o&&(c|=4),Yw(l,i,c,o)}var Th="_reactListening"+Math.random().toString(36).slice(2);function ug(i){if(!i[Th]){i[Th]=!0,wo.forEach(function(l){l!=="selectionchange"&&(KN.has(l)||lg(l,!1,i),lg(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Th]||(o[Th]=!0,lg("selectionchange",!1,o))}}function Yw(i,o,l,c){switch(yb(o)){case 2:var m=w2;break;case 8:m=b2;break;default:m=Tg}l=m.bind(null,o,l,i),m=void 0,!Cr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function cg(i,o,l,c,m){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var D=c.stateNode.containerInfo;if(D===m)break;if(S===4)for(S=c.return;S!==null;){var Y=S.tag;if((Y===3||Y===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;D!==null;){if(S=wr(D),S===null)return;if(Y=S.tag,Y===5||Y===6||Y===26||Y===27){c=y=S;continue e}D=D.parentNode}}c=c.return}Af(function(){var se=y,de=xr(l),me=[];e:{var oe=Rv.get(i);if(oe!==void 0){var ae=Ia,He=i;switch(i){case"keypress":if(fi(l)===0)break e;case"keydown":case"keyup":ae=Pa;break;case"focusin":He="focus",ae=Da;break;case"focusout":He="blur",ae=Da;break;case"beforeblur":case"afterblur":ae=Da;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Of;break;case Sv:case Av:case xv:ae=Oa;break;case Cv:ae=Pf;break;case"scroll":case"scrollend":ae=xf;break;case"wheel":ae=Va;break;case"copy":case"cut":case"paste":ae=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=bu;break;case"toggle":case"beforetoggle":ae=Lf}var Ve=(o&4)!==0,bt=!Ve&&(i==="scroll"||i==="scrollend"),te=Ve?oe!==null?oe+"Capture":null:oe;Ve=[];for(var W=se,ie;W!==null;){var pe=W;if(ie=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ie===null||te===null||(pe=Co(W,te),pe!=null&&Ve.push(Ju(W,pe,ie))),bt)break;W=W.return}0<Ve.length&&(oe=new ae(oe,He,null,l,de),me.push({event:oe,listeners:Ve}))}}if((o&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",oe&&l!==Vi&&(He=l.relatedTarget||l.fromElement)&&(wr(He)||He[$n]))break e;if((ae||oe)&&(oe=de.window===de?de:(oe=de.ownerDocument)?oe.defaultView||oe.parentWindow:window,ae?(He=l.relatedTarget||l.toElement,ae=se,He=He?wr(He):null,He!==null&&(bt=a(He),Ve=He.tag,He!==bt||Ve!==5&&Ve!==27&&Ve!==6)&&(He=null)):(ae=null,He=se),ae!==He)){if(Ve=Rr,pe="onMouseLeave",te="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=bu,pe="onPointerLeave",te="onPointerEnter",W="pointer"),bt=ae==null?oe:Tr(ae),ie=He==null?oe:Tr(He),oe=new Ve(pe,W+"leave",ae,l,de),oe.target=bt,oe.relatedTarget=ie,pe=null,wr(de)===se&&(Ve=new Ve(te,W+"enter",He,l,de),Ve.target=ie,Ve.relatedTarget=bt,pe=Ve),bt=pe,ae&&He)t:{for(Ve=ae,te=He,W=0,ie=Ve;ie;ie=al(ie))W++;for(ie=0,pe=te;pe;pe=al(pe))ie++;for(;0<W-ie;)Ve=al(Ve),W--;for(;0<ie-W;)te=al(te),ie--;for(;W--;){if(Ve===te||te!==null&&Ve===te.alternate)break t;Ve=al(Ve),te=al(te)}Ve=null}else Ve=null;ae!==null&&Kw(me,oe,ae,Ve,!1),He!==null&&bt!==null&&Kw(me,bt,He,Ve,!0)}}e:{if(oe=se?Tr(se):window,ae=oe.nodeName&&oe.nodeName.toLowerCase(),ae==="select"||ae==="input"&&oe.type==="file")var xe=dv;else if(ln(oe))if(pv)xe=aN;else{xe=sN;var Qe=iN}else ae=oe.nodeName,!ae||ae.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&mu(se.elementType)&&(xe=dv):xe=oN;if(xe&&(xe=xe(i,se))){Hi(me,xe,l,de);break e}Qe&&Qe(i,oe,se),i==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&_s(oe,"number",oe.value)}switch(Qe=se?Tr(se):window,i){case"focusin":(ln(Qe)||Qe.contentEditable==="true")&&(La=Qe,Hp=se,Au=null);break;case"focusout":Au=Hp=La=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,bv(me,l,de);break;case"selectionchange":if(uN)break;case"keydown":case"keyup":bv(me,l,de)}var Ne;if(pi)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else it?ue(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(T&&l.locale!=="ko"&&(it||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&it&&(Ne=yu()):(ci=de,vs="value"in ci?ci.value:ci.textContent,it=!0)),Qe=Sh(se,Ue),0<Qe.length&&(Ue=new Eu(Ue,i,null,l,de),me.push({event:Ue,listeners:Qe}),Ne?Ue.data=Ne:(Ne=we(l),Ne!==null&&(Ue.data=Ne)))),(Ne=w?an(i,l):st(i,l))&&(Ue=Sh(se,"onBeforeInput"),0<Ue.length&&(Qe=new Eu("onBeforeInput","beforeinput",null,l,de),me.push({event:Qe,listeners:Ue}),Qe.data=Ne)),$N(me,i,se,l,de)}Gw(me,o)})}function Ju(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Sh(i,o){for(var l=o+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Co(i,l),m!=null&&c.unshift(Ju(i,m,y)),m=Co(i,o),m!=null&&c.push(Ju(i,m,y))),i.tag===3)return c;i=i.return}return[]}function al(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Kw(i,o,l,c,m){for(var y=o._reactName,S=[];l!==null&&l!==c;){var D=l,Y=D.alternate,se=D.stateNode;if(D=D.tag,Y!==null&&Y===c)break;D!==5&&D!==26&&D!==27||se===null||(Y=se,m?(se=Co(l,y),se!=null&&S.unshift(Ju(l,se,Y))):m||(se=Co(l,y),se!=null&&S.push(Ju(l,se,Y)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var XN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function Xw(i){return(typeof i=="string"?i:""+i).replace(XN,`
`).replace(QN,"")}function Qw(i,o){return o=Xw(o),Xw(i)===o}function Ah(){}function wt(i,o,l,c,m,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Ar(i,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Ar(i,""+c);break;case"className":Sr(i,"class",c);break;case"tabIndex":Sr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(i,l,c);break;case"style":pu(i,c,y);break;case"data":if(o!=="object"){Sr(i,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ra(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&wt(i,o,"name",m.name,m,null),wt(i,o,"formEncType",m.formEncType,m,null),wt(i,o,"formMethod",m.formMethod,m,null),wt(i,o,"formTarget",m.formTarget,m,null)):(wt(i,o,"encType",m.encType,m,null),wt(i,o,"method",m.method,m,null),wt(i,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ra(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Ah);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ra(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":et("beforetoggle",i),et("toggle",i),oi(i,"popover",c);break;case"xlinkActuate":on(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":on(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":on(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":on(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":on(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":on(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":on(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":on(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":on(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":oi(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mp.get(l)||l,oi(i,l,c))}}function fg(i,o,l,c,m,y){switch(l){case"style":pu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Ar(i,c):(typeof c=="number"||typeof c=="bigint")&&Ar(i,""+c);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),y=i[Ht]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(o,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):oi(i,l,c)}}}function Cn(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,y,S,l,null)}}m&&wt(i,o,"srcSet",l.srcSet,l,null),c&&wt(i,o,"src",l.src,l,null);return;case"input":et("invalid",i);var D=y=S=m=null,Y=null,se=null;for(c in l)if(l.hasOwnProperty(c)){var de=l[c];if(de!=null)switch(c){case"name":m=de;break;case"type":S=de;break;case"checked":Y=de;break;case"defaultChecked":se=de;break;case"value":y=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:wt(i,o,c,de,l,null)}}So(i,y,D,Y,se,S,m,!1),Ca(i);return;case"select":et("invalid",i),c=S=y=null;for(m in l)if(l.hasOwnProperty(m)&&(D=l[m],D!=null))switch(m){case"value":y=D;break;case"defaultValue":S=D;break;case"multiple":c=D;default:wt(i,o,m,D,l,null)}o=y,l=S,i.multiple=!!c,o!=null?Pi(i,!!c,o,!1):l!=null&&Pi(i,!!c,l,!0);return;case"textarea":et("invalid",i),y=m=c=null;for(S in l)if(l.hasOwnProperty(S)&&(D=l[S],D!=null))switch(S){case"value":c=D;break;case"defaultValue":m=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:wt(i,o,S,D,l,null)}Ao(i,c,m,y),Ca(i);return;case"option":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:wt(i,o,Y,c,l,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(c=0;c<Zu.length;c++)et(Zu[c],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in l)if(l.hasOwnProperty(se)&&(c=l[se],c!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,se,c,l,null)}return;default:if(mu(o)){for(de in l)l.hasOwnProperty(de)&&(c=l[de],c!==void 0&&fg(i,o,de,c,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(c=l[D],c!=null&&wt(i,o,D,c,l,null))}function WN(i,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,S=null,D=null,Y=null,se=null,de=null;for(ae in l){var me=l[ae];if(l.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":Y=me;default:c.hasOwnProperty(ae)||wt(i,o,ae,null,c,me)}}for(var oe in c){var ae=c[oe];if(me=l[oe],c.hasOwnProperty(oe)&&(ae!=null||me!=null))switch(oe){case"type":y=ae;break;case"name":m=ae;break;case"checked":se=ae;break;case"defaultChecked":de=ae;break;case"value":S=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:ae!==me&&wt(i,o,oe,ae,c,me)}}ir(i,S,D,Y,se,de,y,m);return;case"select":ae=S=D=oe=null;for(y in l)if(Y=l[y],l.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":ae=Y;default:c.hasOwnProperty(y)||wt(i,o,y,null,c,Y)}for(m in c)if(y=c[m],Y=l[m],c.hasOwnProperty(m)&&(y!=null||Y!=null))switch(m){case"value":oe=y;break;case"defaultValue":D=y;break;case"multiple":S=y;default:y!==Y&&wt(i,o,m,y,c,Y)}o=D,l=S,c=ae,oe!=null?Pi(i,!!l,oe,!1):!!c!=!!l&&(o!=null?Pi(i,!!l,o,!0):Pi(i,!!l,l?[]:"",!1));return;case"textarea":ae=oe=null;for(D in l)if(m=l[D],l.hasOwnProperty(D)&&m!=null&&!c.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:wt(i,o,D,null,c,m)}for(S in c)if(m=c[S],y=l[S],c.hasOwnProperty(S)&&(m!=null||y!=null))switch(S){case"value":oe=m;break;case"defaultValue":ae=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&wt(i,o,S,m,c,y)}vt(i,oe,ae);return;case"option":for(var He in l)if(oe=l[He],l.hasOwnProperty(He)&&oe!=null&&!c.hasOwnProperty(He))switch(He){case"selected":i.selected=!1;break;default:wt(i,o,He,null,c,oe)}for(Y in c)if(oe=c[Y],ae=l[Y],c.hasOwnProperty(Y)&&oe!==ae&&(oe!=null||ae!=null))switch(Y){case"selected":i.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:wt(i,o,Y,oe,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)oe=l[Ve],l.hasOwnProperty(Ve)&&oe!=null&&!c.hasOwnProperty(Ve)&&wt(i,o,Ve,null,c,oe);for(se in c)if(oe=c[se],ae=l[se],c.hasOwnProperty(se)&&oe!==ae&&(oe!=null||ae!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:wt(i,o,se,oe,c,ae)}return;default:if(mu(o)){for(var bt in l)oe=l[bt],l.hasOwnProperty(bt)&&oe!==void 0&&!c.hasOwnProperty(bt)&&fg(i,o,bt,void 0,c,oe);for(de in c)oe=c[de],ae=l[de],!c.hasOwnProperty(de)||oe===ae||oe===void 0&&ae===void 0||fg(i,o,de,oe,c,ae);return}}for(var te in l)oe=l[te],l.hasOwnProperty(te)&&oe!=null&&!c.hasOwnProperty(te)&&wt(i,o,te,null,c,oe);for(me in c)oe=c[me],ae=l[me],!c.hasOwnProperty(me)||oe===ae||oe==null&&ae==null||wt(i,o,me,oe,c,ae)}var hg=null,dg=null;function xh(i){return i.nodeType===9?i:i.ownerDocument}function Ww(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zw(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function pg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mg=null;function ZN(){var i=window.event;return i&&i.type==="popstate"?i===mg?!1:(mg=i,!0):(mg=null,!1)}var Jw=typeof setTimeout=="function"?setTimeout:void 0,JN=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(i){return eb.resolve(null).then(i).catch(t2)}:Jw;function t2(i){setTimeout(function(){throw i})}function Ps(i){return i==="head"}function tb(i,o){var l=o,c=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var S=i.ownerDocument;if(l&1&&ec(S.documentElement),l&2&&ec(S.body),l&4)for(l=S.head,ec(l),S=l.firstChild;S;){var D=S.nextSibling,Y=S.nodeName;S[Oi]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=D}}if(m===0){i.removeChild(y),lc(o);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);lc(o)}function gg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gg(l),si(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function n2(i,o,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Oi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Yr(i.nextSibling),i===null)break}return null}function r2(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Yr(i.nextSibling),i===null))return null;return i}function yg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function i2(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Yr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var _g=null;function nb(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function rb(i,o,l){switch(o=xh(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ec(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);si(i)}var Pr=new Map,ib=new Set;function Ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var es=K.d;K.d={f:s2,r:o2,D:a2,C:l2,L:u2,m:c2,X:h2,S:f2,M:d2};function s2(){var i=es.f(),o=_h();return i||o}function o2(i){var o=br(i);o!==null&&o.tag===5&&o.type==="form"?SE(o):es.r(i)}var ll=typeof document>"u"?null:document;function sb(i,o,l){var c=ll;if(c&&typeof o=="string"&&o){var m=Zt(o);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ib.has(m)||(ib.add(m),i={rel:i,crossOrigin:l,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),Cn(o,"link",i),Lt(o),c.head.appendChild(o)))}}function a2(i){es.D(i),sb("dns-prefetch",i,null)}function l2(i,o){es.C(i,o),sb("preconnect",i,o)}function u2(i,o,l){es.L(i,o,l);var c=ll;if(c&&i&&o){var m='link[rel="preload"][as="'+Zt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Zt(l.imageSizes)+'"]')):m+='[href="'+Zt(i)+'"]';var y=m;switch(o){case"style":y=ul(i);break;case"script":y=cl(i)}Pr.has(y)||(i=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Pr.set(y,i),c.querySelector(m)!==null||o==="style"&&c.querySelector(tc(y))||o==="script"&&c.querySelector(nc(y))||(o=c.createElement("link"),Cn(o,"link",i),Lt(o),c.head.appendChild(o)))}}function c2(i,o){es.m(i,o);var l=ll;if(l&&i){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Zt(c)+'"][href="'+Zt(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cl(i)}if(!Pr.has(y)&&(i=g({rel:"modulepreload",href:i},o),Pr.set(y,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(nc(y)))return}c=l.createElement("link"),Cn(c,"link",i),Lt(c),l.head.appendChild(c)}}}function f2(i,o,l){es.S(i,o,l);var c=ll;if(c&&i){var m=Tn(c).hoistableStyles,y=ul(i);o=o||"default";var S=m.get(y);if(!S){var D={loading:0,preload:null};if(S=c.querySelector(tc(y)))D.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Pr.get(y))&&vg(i,l);var Y=S=c.createElement("link");Lt(Y),Cn(Y,"link",i),Y._p=new Promise(function(se,de){Y.onload=se,Y.onerror=de}),Y.addEventListener("load",function(){D.loading|=1}),Y.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Rh(S,o,c)}S={type:"stylesheet",instance:S,count:1,state:D},m.set(y,S)}}}function h2(i,o){es.X(i,o);var l=ll;if(l&&i){var c=Tn(l).hoistableScripts,m=cl(i),y=c.get(m);y||(y=l.querySelector(nc(m)),y||(i=g({src:i,async:!0},o),(o=Pr.get(m))&&Eg(i,o),y=l.createElement("script"),Lt(y),Cn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function d2(i,o){es.M(i,o);var l=ll;if(l&&i){var c=Tn(l).hoistableScripts,m=cl(i),y=c.get(m);y||(y=l.querySelector(nc(m)),y||(i=g({src:i,async:!0,type:"module"},o),(o=Pr.get(m))&&Eg(i,o),y=l.createElement("script"),Lt(y),Cn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function ob(i,o,l,c){var m=(m=_e.current)?Ch(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=ul(l.href),l=Tn(m).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ul(l.href);var y=Tn(m).hoistableStyles,S=y.get(i);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=m.querySelector(tc(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Pr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pr.set(i,l),y||p2(m,i,l,S.state))),o&&c===null)throw Error(r(528,""));return S}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=cl(l),l=Tn(m).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ul(i){return'href="'+Zt(i)+'"'}function tc(i){return'link[rel="stylesheet"]['+i+"]"}function ab(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function p2(i,o,l,c){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=i.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),Cn(o,"link",l),Lt(o),i.head.appendChild(o))}function cl(i){return'[src="'+Zt(i)+'"]'}function nc(i){return"script[async]"+i}function lb(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=i.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(c)return o.instance=c,Lt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Lt(c),Cn(c,"style",m),Rh(c,l.precedence,i),o.instance=c;case"stylesheet":m=ul(l.href);var y=i.querySelector(tc(m));if(y)return o.state.loading|=4,o.instance=y,Lt(y),y;c=ab(l),(m=Pr.get(m))&&vg(c,m),y=(i.ownerDocument||i).createElement("link"),Lt(y);var S=y;return S._p=new Promise(function(D,Y){S.onload=D,S.onerror=Y}),Cn(y,"link",c),o.state.loading|=4,Rh(y,l.precedence,i),o.instance=y;case"script":return y=cl(l.src),(m=i.querySelector(nc(y)))?(o.instance=m,Lt(m),m):(c=l,(m=Pr.get(y))&&(c=g({},l),Eg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Lt(m),Cn(m,"link",c),i.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Rh(c,l.precedence,i));return o.instance}function Rh(i,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,S=0;S<c.length;S++){var D=c[S];if(D.dataset.precedence===o)y=D;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function vg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Eg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Ih=null;function ub(i,o,l){if(Ih===null){var c=new Map,m=Ih=new Map;m.set(l,c)}else m=Ih,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[Oi]||y[Yt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=i+S;var D=c.get(S);D?D.push(y):c.set(S,[y])}}return c}function cb(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function m2(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function fb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var rc=null;function g2(){}function y2(i,o,l){if(rc===null)throw Error(r(475));var c=rc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=ul(l.href),y=i.querySelector(tc(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Nh.bind(c),i.then(c,c)),o.state.loading|=4,o.instance=y,Lt(y);return}y=i.ownerDocument||i,l=ab(l),(m=Pr.get(m))&&vg(l,m),y=y.createElement("link"),Lt(y);var S=y;S._p=new Promise(function(D,Y){S.onload=D,S.onerror=Y}),Cn(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Nh.bind(c),i.addEventListener("load",o),i.addEventListener("error",o))}}function _2(){if(rc===null)throw Error(r(475));var i=rc;return i.stylesheets&&i.count===0&&wg(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&wg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Nh(){if(this.count--,this.count===0){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kh=null;function wg(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kh=new Map,o.forEach(v2,i),kh=null,Nh.call(i))}function v2(i,o){if(!(o.state.loading&4)){var l=kh.get(i);if(l)var c=l.get(null);else{l=new Map,kh.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var S=m[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}m=o.instance,S=m.getAttribute("data-precedence"),y=l.get(S)||c,y===c&&l.set(null,m),l.set(S,m),this.count++,c=Nh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),o.state.loading|=4}}var ic={$$typeof:$,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function E2(i,o,l,c,m,y,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.hiddenUpdates=tr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function hb(i,o,l,c,m,y,S,D,Y,se,de,me){return i=new E2(i,o,l,S,D,Y,se,me),o=1,y===!0&&(o|=24),y=or(3,null,null,o),i.current=y,y.stateNode=i,o=nm(),o.refCount++,i.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},om(y),i}function db(i){return i?(i=Ha,i):Ha}function pb(i,o,l,c,m,y){m=db(m),c.context===null?c.context=m:c.pendingContext=m,c=bs(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ts(i,c,o),l!==null&&(fr(l,i,o),Mu(l,i,o))}function mb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function bg(i,o){mb(i,o),(i=i.alternate)&&mb(i,o)}function gb(i){if(i.tag===13){var o=Ba(i,67108864);o!==null&&fr(o,i,67108864),bg(i,67108864)}}var Dh=!0;function w2(i,o,l,c){var m=V.T;V.T=null;var y=K.p;try{K.p=2,Tg(i,o,l,c)}finally{K.p=y,V.T=m}}function b2(i,o,l,c){var m=V.T;V.T=null;var y=K.p;try{K.p=8,Tg(i,o,l,c)}finally{K.p=y,V.T=m}}function Tg(i,o,l,c){if(Dh){var m=Sg(c);if(m===null)cg(i,o,c,Oh,l),_b(i,c);else if(S2(m,i,o,l,c))c.stopPropagation();else if(_b(i,c),o&4&&-1<T2.indexOf(i)){for(;m!==null;){var y=br(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Pt(y.pendingLanes);if(S!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var Y=1<<31-Ie(S);D.entanglements[1]|=Y,S&=~Y}Ei(y),(yt&6)===0&&(gh=Le()+500,Wu(0))}}break;case 13:D=Ba(y,2),D!==null&&fr(D,y,2),_h(),bg(y,2)}if(y=Sg(c),y===null&&cg(i,o,c,Oh,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else cg(i,o,c,null,l)}}function Sg(i){return i=xr(i),Ag(i)}var Oh=null;function Ag(i){if(Oh=null,i=wr(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=u(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Oh=i,null}function yb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case At:return 2;case $t:return 8;case wn:case qn:return 32;case bn:return 268435456;default:return 32}default:return 32}}var xg=!1,Vs=null,Ls=null,Us=null,sc=new Map,oc=new Map,zs=[],T2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(i,o){switch(i){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":sc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(o.pointerId)}}function ac(i,o,l,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},o!==null&&(o=br(o),o!==null&&gb(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function S2(i,o,l,c,m){switch(o){case"focusin":return Vs=ac(Vs,i,o,l,c,m),!0;case"dragenter":return Ls=ac(Ls,i,o,l,c,m),!0;case"mouseover":return Us=ac(Us,i,o,l,c,m),!0;case"pointerover":var y=m.pointerId;return sc.set(y,ac(sc.get(y)||null,i,o,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,oc.set(y,ac(oc.get(y)||null,i,o,l,c,m)),!0}return!1}function vb(i){var o=wr(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){i.blockedOn=o,wa(i.priority,function(){if(l.tag===13){var c=cr();c=ni(c);var m=Ba(l,c);m!==null&&fr(m,l,c),bg(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Sg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Vi=c,l.target.dispatchEvent(c),Vi=null}else return o=br(l),o!==null&&gb(o),i.blockedOn=l,!1;o.shift()}return!0}function Eb(i,o,l){Mh(i)&&l.delete(o)}function A2(){xg=!1,Vs!==null&&Mh(Vs)&&(Vs=null),Ls!==null&&Mh(Ls)&&(Ls=null),Us!==null&&Mh(Us)&&(Us=null),sc.forEach(Eb),oc.forEach(Eb)}function Ph(i,o){i.blockedOn===o&&(i.blockedOn=null,xg||(xg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,A2)))}var Vh=null;function wb(i){Vh!==i&&(Vh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vh===i&&(Vh=null);for(var o=0;o<i.length;o+=3){var l=i[o],c=i[o+1],m=i[o+2];if(typeof c!="function"){if(Ag(c||l)===null)continue;break}var y=br(l);y!==null&&(i.splice(o,3),o-=3,Am(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function lc(i){function o(Y){return Ph(Y,i)}Vs!==null&&Ph(Vs,i),Ls!==null&&Ph(Ls,i),Us!==null&&Ph(Us,i),sc.forEach(o),oc.forEach(o);for(var l=0;l<zs.length;l++){var c=zs[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<zs.length&&(l=zs[0],l.blockedOn===null);)vb(l),l.blockedOn===null&&zs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],S=m[Ht]||null;if(typeof y=="function")S||wb(l);else if(S){var D=null;if(y&&y.hasAttribute("formAction")){if(m=y,S=y[Ht]||null)D=S.formAction;else if(Ag(m)!==null)continue}else D=S.action;typeof D=="function"?l[c+1]=D:(l.splice(c,3),c-=3),wb(l)}}}function Cg(i){this._internalRoot=i}Lh.prototype.render=Cg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,c=cr();pb(l,c,i,o,null,null)},Lh.prototype.unmount=Cg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;pb(i.current,2,null,i,null,null),_h(),o[$n]=null}};function Lh(i){this._internalRoot=i}Lh.prototype.unstable_scheduleHydration=function(i){if(i){var o=ri();i={blockedOn:null,target:i,priority:o};for(var l=0;l<zs.length&&o!==0&&o<zs[l].priority;l++);zs.splice(l,0,i),l===0&&vb(i)}};var bb=e.version;if(bb!=="19.1.0")throw Error(r(527,bb,"19.1.0"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var x2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{ee=Uh.inject(x2),he=Uh}catch{}}return cc.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,c="",m=UE,y=zE,S=BE,D=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks)),o=hb(i,1,!1,null,null,l,c,m,y,S,D,null),i[$n]=o.current,ug(i),new Cg(o)},cc.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var c=!1,m="",y=UE,S=zE,D=BE,Y=null,se=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Y=l.unstable_transitionCallbacks),l.formState!==void 0&&(se=l.formState)),o=hb(i,1,!0,o,l??null,c,m,y,S,D,Y,se),o.context=db(null),l=o.current,c=cr(),c=ni(c),m=bs(c),m.callback=null,Ts(l,m,c),l=c,o.current.lanes=l,vr(o,l),Ei(o),i[$n]=o.current,ug(i),new Lh(o)},cc.version="19.1.0",cc}var Db;function P2(){if(Db)return Ng.exports;Db=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ng.exports=M2(),Ng.exports}var V2=P2();function kn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=kn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Mg={exports:{}},Pg={},Vg={exports:{}},Lg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function L2(){if(Ob)return Lg;Ob=1;var t=sf();function e(_,v){return _===v&&(_!==0||1/_===1/v)||_!==_&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function f(_,v){var E=v(),x=r({inst:{value:E,getSnapshot:v}}),R=x[0].inst,O=x[1];return a(function(){R.value=E,R.getSnapshot=v,h(R)&&O({inst:R})},[_,E,v]),s(function(){return h(R)&&O({inst:R}),_(function(){h(R)&&O({inst:R})})},[_]),u(E),E}function h(_){var v=_.getSnapshot;_=_.value;try{var E=v();return!n(_,E)}catch{return!0}}function d(_,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:f;return Lg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Lg}var Mb;function U2(){return Mb||(Mb=1,Vg.exports=L2()),Vg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function z2(){if(Pb)return Pg;Pb=1;var t=sf(),e=U2();function n(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,f=t.useMemo,h=t.useDebugValue;return Pg.useSyncExternalStoreWithSelector=function(d,g,_,v,E){var x=a(null);if(x.current===null){var R={hasValue:!1,value:null};x.current=R}else R=x.current;x=f(function(){function M(H){if(!q){if(q=!0,$=H,H=v(H),E!==void 0&&R.hasValue){var P=R.value;if(E(P,H))return j=P}return j=H}if(P=j,r($,H))return P;var C=v(H);return E!==void 0&&E(P,C)?($=H,P):($=H,j=C)}var q=!1,$,j,X=_===void 0?null:_;return[function(){return M(g())},X===null?void 0:function(){return M(X())}]},[g,_,v,E]);var O=s(d,x[0],x[1]);return u(function(){R.hasValue=!0,R.value=O},[O]),h(O),O},Pg}var Vb;function B2(){return Vb||(Vb=1,Mg.exports=z2()),Mg.exports}var H2=B2();const F2=ma(H2),j2={},Lb=t=>{let e;const n=new Set,r=(g,_)=>{const v=typeof g=="function"?g(e):g;if(!Object.is(v,e)){const E=e;e=_??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(x=>x(e,E))}},s=()=>e,h={setState:r,getState:s,getInitialState:()=>d,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(j2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,h);return h},q2=t=>t?Lb(t):Lb,{useDebugValue:$2}=ce,{useSyncExternalStoreWithSelector:G2}=F2,Y2=t=>t;function iA(t,e=Y2,n){const r=G2(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return $2(r),r}const Ub=(t,e)=>{const n=q2(t),r=(s,a=e)=>iA(n,s,a);return Object.assign(r,n),r},K2=(t,e)=>t?Ub(t,e):Ub;function En(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var X2={value:()=>{}};function Zd(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new od(n)}function od(t){this._=t}function Q2(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}od.prototype=Zd.prototype={constructor:od,on:function(t,e){var n=this._,r=Q2(t+"",n),s,a=-1,u=r.length;if(arguments.length<2){for(;++a<u;)if((s=(t=r[a]).type)&&(s=W2(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(s=(t=r[a]).type)n[s]=zb(n[s],t.name,e);else if(e==null)for(s in n)n[s]=zb(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new od(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function W2(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function zb(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=X2,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Iy="http://www.w3.org/1999/xhtml";const Bb={svg:"http://www.w3.org/2000/svg",xhtml:Iy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jd(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Bb.hasOwnProperty(e)?{space:Bb[e],local:t}:t}function Z2(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Iy&&e.documentElement.namespaceURI===Iy?e.createElement(t):e.createElementNS(n,t)}}function J2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function sA(t){var e=Jd(t);return(e.local?J2:Z2)(e)}function ek(){}function M_(t){return t==null?ek:function(){return this.querySelector(t)}}function tk(t){typeof t!="function"&&(t=M_(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=new Array(u),h,d,g=0;g<u;++g)(h=a[g])&&(d=t.call(h,h.__data__,g,a))&&("__data__"in h&&(d.__data__=h.__data__),f[g]=d);return new yr(r,this._parents)}function nk(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rk(){return[]}function oA(t){return t==null?rk:function(){return this.querySelectorAll(t)}}function ik(t){return function(){return nk(t.apply(this,arguments))}}function sk(t){typeof t=="function"?t=ik(t):t=oA(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var u=e[a],f=u.length,h,d=0;d<f;++d)(h=u[d])&&(r.push(t.call(h,h.__data__,d,u)),s.push(h));return new yr(r,s)}function aA(t){return function(){return this.matches(t)}}function lA(t){return function(e){return e.matches(t)}}var ok=Array.prototype.find;function ak(t){return function(){return ok.call(this.children,t)}}function lk(){return this.firstElementChild}function uk(t){return this.select(t==null?lk:ak(typeof t=="function"?t:lA(t)))}var ck=Array.prototype.filter;function fk(){return Array.from(this.children)}function hk(t){return function(){return ck.call(this.children,t)}}function dk(t){return this.selectAll(t==null?fk:hk(typeof t=="function"?t:lA(t)))}function pk(t){typeof t!="function"&&(t=aA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&f.push(h);return new yr(r,this._parents)}function uA(t){return new Array(t.length)}function mk(){return new yr(this._enter||this._groups.map(uA),this._parents)}function wd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}wd.prototype={constructor:wd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gk(t){return function(){return t}}function yk(t,e,n,r,s,a){for(var u=0,f,h=e.length,d=a.length;u<d;++u)(f=e[u])?(f.__data__=a[u],r[u]=f):n[u]=new wd(t,a[u]);for(;u<h;++u)(f=e[u])&&(s[u]=f)}function _k(t,e,n,r,s,a,u){var f,h,d=new Map,g=e.length,_=a.length,v=new Array(g),E;for(f=0;f<g;++f)(h=e[f])&&(v[f]=E=u.call(h,h.__data__,f,e)+"",d.has(E)?s[f]=h:d.set(E,h));for(f=0;f<_;++f)E=u.call(t,a[f],f,a)+"",(h=d.get(E))?(r[f]=h,h.__data__=a[f],d.delete(E)):n[f]=new wd(t,a[f]);for(f=0;f<g;++f)(h=e[f])&&d.get(v[f])===h&&(s[f]=h)}function vk(t){return t.__data__}function Ek(t,e){if(!arguments.length)return Array.from(this,vk);var n=e?_k:yk,r=this._parents,s=this._groups;typeof t!="function"&&(t=gk(t));for(var a=s.length,u=new Array(a),f=new Array(a),h=new Array(a),d=0;d<a;++d){var g=r[d],_=s[d],v=_.length,E=wk(t.call(g,g&&g.__data__,d,r)),x=E.length,R=f[d]=new Array(x),O=u[d]=new Array(x),M=h[d]=new Array(v);n(g,_,R,O,M,E,e);for(var q=0,$=0,j,X;q<x;++q)if(j=R[q]){for(q>=$&&($=q+1);!(X=O[$])&&++$<x;);j._next=X||null}}return u=new yr(u,r),u._enter=f,u._exit=h,u}function wk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bk(){return new yr(this._exit||this._groups.map(uA),this._parents)}function Tk(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function Sk(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,u=Math.min(s,a),f=new Array(s),h=0;h<u;++h)for(var d=n[h],g=r[h],_=d.length,v=f[h]=new Array(_),E,x=0;x<_;++x)(E=d[x]||g[x])&&(v[x]=E);for(;h<s;++h)f[h]=n[h];return new yr(f,this._parents)}function Ak(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],u;--s>=0;)(u=r[s])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function xk(t){t||(t=Ck);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var u=n[a],f=u.length,h=s[a]=new Array(f),d,g=0;g<f;++g)(d=u[g])&&(h[g]=d);h.sort(e)}return new yr(s,this._parents).order()}function Ck(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Rk(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ik(){return Array.from(this)}function Nk(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var u=r[s];if(u)return u}return null}function kk(){let t=0;for(const e of this)++t;return t}function Dk(){return!this.node()}function Ok(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,u=s.length,f;a<u;++a)(f=s[a])&&t.call(f,f.__data__,a,s);return this}function Mk(t){return function(){this.removeAttribute(t)}}function Pk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vk(t,e){return function(){this.setAttribute(t,e)}}function Lk(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Uk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function zk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Bk(t,e){var n=Jd(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Pk:Mk:typeof e=="function"?n.local?zk:Uk:n.local?Lk:Vk)(n,e))}function cA(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Hk(t){return function(){this.style.removeProperty(t)}}function Fk(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jk(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qk(t,e,n){return arguments.length>1?this.each((e==null?Hk:typeof e=="function"?jk:Fk)(t,e,n??"")):Bl(this.node(),t)}function Bl(t,e){return t.style.getPropertyValue(e)||cA(t).getComputedStyle(t,null).getPropertyValue(e)}function $k(t){return function(){delete this[t]}}function Gk(t,e){return function(){this[t]=e}}function Yk(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Kk(t,e){return arguments.length>1?this.each((e==null?$k:typeof e=="function"?Yk:Gk)(t,e)):this.node()[t]}function fA(t){return t.trim().split(/^|\s+/)}function P_(t){return t.classList||new hA(t)}function hA(t){this._node=t,this._names=fA(t.getAttribute("class")||"")}hA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dA(t,e){for(var n=P_(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function pA(t,e){for(var n=P_(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Xk(t){return function(){dA(this,t)}}function Qk(t){return function(){pA(this,t)}}function Wk(t,e){return function(){(e.apply(this,arguments)?dA:pA)(this,t)}}function Zk(t,e){var n=fA(t+"");if(arguments.length<2){for(var r=P_(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Wk:e?Xk:Qk)(n,e))}function Jk(){this.textContent=""}function eD(t){return function(){this.textContent=t}}function tD(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function nD(t){return arguments.length?this.each(t==null?Jk:(typeof t=="function"?tD:eD)(t)):this.node().textContent}function rD(){this.innerHTML=""}function iD(t){return function(){this.innerHTML=t}}function sD(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function oD(t){return arguments.length?this.each(t==null?rD:(typeof t=="function"?sD:iD)(t)):this.node().innerHTML}function aD(){this.nextSibling&&this.parentNode.appendChild(this)}function lD(){return this.each(aD)}function uD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cD(){return this.each(uD)}function fD(t){var e=typeof t=="function"?t:sA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function hD(){return null}function dD(t,e){var n=typeof t=="function"?t:sA(t),r=e==null?hD:typeof e=="function"?e:M_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function pD(){var t=this.parentNode;t&&t.removeChild(this)}function mD(){return this.each(pD)}function gD(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yD(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _D(t){return this.select(t?yD:gD)}function vD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ED(t){return function(e){t.call(this,e,this.__data__)}}function wD(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function bD(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function TD(t,e,n){return function(){var r=this.__on,s,a=ED(e);if(r){for(var u=0,f=r.length;u<f;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function SD(t,e,n){var r=wD(t+""),s,a=r.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,d=f.length,g;h<d;++h)for(s=0,g=f[h];s<a;++s)if((u=r[s]).type===g.type&&u.name===g.name)return g.value}return}for(f=e?TD:bD,s=0;s<a;++s)this.each(f(r[s],e,n));return this}function mA(t,e,n){var r=cA(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function AD(t,e){return function(){return mA(this,t,e)}}function xD(t,e){return function(){return mA(this,t,e.apply(this,arguments))}}function CD(t,e){return this.each((typeof e=="function"?xD:AD)(t,e))}function*RD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,u;s<a;++s)(u=r[s])&&(yield u)}var gA=[null];function yr(t,e){this._groups=t,this._parents=e}function of(){return new yr([[document.documentElement]],gA)}function ID(){return this}yr.prototype=of.prototype={constructor:yr,select:tk,selectAll:sk,selectChild:uk,selectChildren:dk,filter:pk,data:Ek,enter:mk,exit:bk,join:Tk,merge:Sk,selection:ID,order:Ak,sort:xk,call:Rk,nodes:Ik,node:Nk,size:kk,empty:Dk,each:Ok,attr:Bk,style:qk,property:Kk,classed:Zk,text:nD,html:oD,raise:lD,lower:cD,append:fD,insert:dD,remove:mD,clone:_D,datum:vD,on:SD,dispatch:CD,[Symbol.iterator]:RD};function Lr(t){return typeof t=="string"?new yr([[document.querySelector(t)]],[document.documentElement]):new yr([[t]],gA)}function ND(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Kr(t,e){if(t=ND(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const kD={passive:!1},Uc={capture:!0,passive:!1};function Ug(t){t.stopImmediatePropagation()}function Il(t){t.preventDefault(),t.stopImmediatePropagation()}function yA(t){var e=t.document.documentElement,n=Lr(t).on("dragstart.drag",Il,Uc);"onselectstart"in e?n.on("selectstart.drag",Il,Uc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _A(t,e){var n=t.document.documentElement,r=Lr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Il,Uc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const zh=t=>()=>t;function Ny(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:u,y:f,dx:h,dy:d,dispatch:g}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:g}})}Ny.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function DD(t){return!t.ctrlKey&&!t.button}function OD(){return this.parentNode}function MD(t,e){return e??{x:t.x,y:t.y}}function PD(){return navigator.maxTouchPoints||"ontouchstart"in this}function VD(){var t=DD,e=OD,n=MD,r=PD,s={},a=Zd("start","drag","end"),u=0,f,h,d,g,_=0;function v(j){j.on("mousedown.drag",E).filter(r).on("touchstart.drag",O).on("touchmove.drag",M,kD).on("touchend.drag touchcancel.drag",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(j,X){if(!(g||!t.call(this,j,X))){var H=$(this,e.call(this,j,X),j,X,"mouse");H&&(Lr(j.view).on("mousemove.drag",x,Uc).on("mouseup.drag",R,Uc),yA(j.view),Ug(j),d=!1,f=j.clientX,h=j.clientY,H("start",j))}}function x(j){if(Il(j),!d){var X=j.clientX-f,H=j.clientY-h;d=X*X+H*H>_}s.mouse("drag",j)}function R(j){Lr(j.view).on("mousemove.drag mouseup.drag",null),_A(j.view,d),Il(j),s.mouse("end",j)}function O(j,X){if(t.call(this,j,X)){var H=j.changedTouches,P=e.call(this,j,X),C=H.length,I,z;for(I=0;I<C;++I)(z=$(this,P,j,X,H[I].identifier,H[I]))&&(Ug(j),z("start",j,H[I]))}}function M(j){var X=j.changedTouches,H=X.length,P,C;for(P=0;P<H;++P)(C=s[X[P].identifier])&&(Il(j),C("drag",j,X[P]))}function q(j){var X=j.changedTouches,H=X.length,P,C;for(g&&clearTimeout(g),g=setTimeout(function(){g=null},500),P=0;P<H;++P)(C=s[X[P].identifier])&&(Ug(j),C("end",j,X[P]))}function $(j,X,H,P,C,I){var z=a.copy(),L=Kr(I||H,X),B,A,k;if((k=n.call(j,new Ny("beforestart",{sourceEvent:H,target:v,identifier:C,active:u,x:L[0],y:L[1],dx:0,dy:0,dispatch:z}),P))!=null)return B=k.x-L[0]||0,A=k.y-L[1]||0,function G(V,K,J){var Z=L,b;switch(V){case"start":s[C]=G,b=u++;break;case"end":delete s[C],--u;case"drag":L=Kr(J||K,X),b=u;break}z.call(V,j,new Ny(V,{sourceEvent:K,subject:k,target:v,identifier:C,active:b,x:L[0]+B,y:L[1]+A,dx:L[0]-Z[0],dy:L[1]-Z[1],dispatch:z}),P)}}return v.filter=function(j){return arguments.length?(t=typeof j=="function"?j:zh(!!j),v):t},v.container=function(j){return arguments.length?(e=typeof j=="function"?j:zh(j),v):e},v.subject=function(j){return arguments.length?(n=typeof j=="function"?j:zh(j),v):n},v.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:zh(!!j),v):r},v.on=function(){var j=a.on.apply(a,arguments);return j===a?v:j},v.clickDistance=function(j){return arguments.length?(_=(j=+j)*j,v):Math.sqrt(_)},v}function V_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function vA(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function af(){}var zc=.7,bd=1/zc,Nl="\\s*([+-]?\\d+)\\s*",Bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LD=/^#([0-9a-f]{3,8})$/,UD=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),zD=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),BD=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${Bc}\\)$`),HD=new RegExp(`^rgba\\(${Si},${Si},${Si},${Bc}\\)$`),FD=new RegExp(`^hsl\\(${Bc},${Si},${Si}\\)$`),jD=new RegExp(`^hsla\\(${Bc},${Si},${Si},${Bc}\\)$`),Hb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};V_(af,Hc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Fb,formatHex:Fb,formatHex8:qD,formatHsl:$D,formatRgb:jb,toString:jb});function Fb(){return this.rgb().formatHex()}function qD(){return this.rgb().formatHex8()}function $D(){return EA(this).formatHsl()}function jb(){return this.rgb().formatRgb()}function Hc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=LD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qb(e):n===3?new Zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=UD.exec(t))?new Zn(e[1],e[2],e[3],1):(e=zD.exec(t))?new Zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BD.exec(t))?Bh(e[1],e[2],e[3],e[4]):(e=HD.exec(t))?Bh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FD.exec(t))?Yb(e[1],e[2]/100,e[3]/100,1):(e=jD.exec(t))?Yb(e[1],e[2]/100,e[3]/100,e[4]):Hb.hasOwnProperty(t)?qb(Hb[t]):t==="transparent"?new Zn(NaN,NaN,NaN,0):null}function qb(t){return new Zn(t>>16&255,t>>8&255,t&255,1)}function Bh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zn(t,e,n,r)}function GD(t){return t instanceof af||(t=Hc(t)),t?(t=t.rgb(),new Zn(t.r,t.g,t.b,t.opacity)):new Zn}function ky(t,e,n,r){return arguments.length===1?GD(t):new Zn(t,e,n,r??1)}function Zn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}V_(Zn,ky,vA(af,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new Zn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zn(ra(this.r),ra(this.g),ra(this.b),Td(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$b,formatHex:$b,formatHex8:YD,formatRgb:Gb,toString:Gb}));function $b(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}`}function YD(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}${ea((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gb(){const t=Td(this.opacity);return`${t===1?"rgb(":"rgba("}${ra(this.r)}, ${ra(this.g)}, ${ra(this.b)}${t===1?")":`, ${t})`}`}function Td(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ra(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ea(t){return t=ra(t),(t<16?"0":"")+t.toString(16)}function Yb(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xr(t,e,n,r)}function EA(t){if(t instanceof Xr)return new Xr(t.h,t.s,t.l,t.opacity);if(t instanceof af||(t=Hc(t)),!t)return new Xr;if(t instanceof Xr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,f=a-s,h=(a+s)/2;return f?(e===a?u=(n-r)/f+(n<r)*6:n===a?u=(r-e)/f+2:u=(e-n)/f+4,f/=h<.5?a+s:2-a-s,u*=60):f=h>0&&h<1?0:u,new Xr(u,f,h,t.opacity)}function KD(t,e,n,r){return arguments.length===1?EA(t):new Xr(t,e,n,r??1)}function Xr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}V_(Xr,KD,vA(af,{brighter(t){return t=t==null?bd:Math.pow(bd,t),new Xr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?zc:Math.pow(zc,t),new Xr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Zn(zg(t>=240?t-240:t+120,s,r),zg(t,s,r),zg(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Xr(Kb(this.h),Hh(this.s),Hh(this.l),Td(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Td(this.opacity);return`${t===1?"hsl(":"hsla("}${Kb(this.h)}, ${Hh(this.s)*100}%, ${Hh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kb(t){return t=(t||0)%360,t<0?t+360:t}function Hh(t){return Math.max(0,Math.min(1,t||0))}function zg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wA=t=>()=>t;function XD(t,e){return function(n){return t+n*e}}function QD(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WD(t){return(t=+t)==1?bA:function(e,n){return n-e?QD(e,n,t):wA(isNaN(e)?n:e)}}function bA(t,e){var n=e-t;return n?XD(t,n):wA(isNaN(t)?e:t)}const Xb=function t(e){var n=WD(e);function r(s,a){var u=n((s=ky(s)).r,(a=ky(a)).r),f=n(s.g,a.g),h=n(s.b,a.b),d=bA(s.opacity,a.opacity);return function(g){return s.r=u(g),s.g=f(g),s.b=h(g),s.opacity=d(g),s+""}}return r.gamma=t,r}(1);function qs(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bg=new RegExp(Dy.source,"g");function ZD(t){return function(){return t}}function JD(t){return function(e){return t(e)+""}}function eO(t,e){var n=Dy.lastIndex=Bg.lastIndex=0,r,s,a,u=-1,f=[],h=[];for(t=t+"",e=e+"";(r=Dy.exec(t))&&(s=Bg.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),f[u]?f[u]+=a:f[++u]=a),(r=r[0])===(s=s[0])?f[u]?f[u]+=s:f[++u]=s:(f[++u]=null,h.push({i:u,x:qs(r,s)})),n=Bg.lastIndex;return n<e.length&&(a=e.slice(n),f[u]?f[u]+=a:f[++u]=a),f.length<2?h[0]?JD(h[0].x):ZD(e):(e=h.length,function(d){for(var g=0,_;g<e;++g)f[(_=h[g]).i]=_.x(d);return f.join("")})}var Qb=180/Math.PI,Oy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function TA(t,e,n,r,s,a){var u,f,h;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,h/=f),t*r<e*n&&(t=-t,e=-e,h=-h,u=-u),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*Qb,skewX:Math.atan(h)*Qb,scaleX:u,scaleY:f}}var Fh;function tO(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Oy:TA(e.a,e.b,e.c,e.d,e.e,e.f)}function nO(t){return t==null||(Fh||(Fh=document.createElementNS("http://www.w3.org/2000/svg","g")),Fh.setAttribute("transform",t),!(t=Fh.transform.baseVal.consolidate()))?Oy:(t=t.matrix,TA(t.a,t.b,t.c,t.d,t.e,t.f))}function SA(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function a(d,g,_,v,E,x){if(d!==_||g!==v){var R=E.push("translate(",null,e,null,n);x.push({i:R-4,x:qs(d,_)},{i:R-2,x:qs(g,v)})}else(_||v)&&E.push("translate("+_+e+v+n)}function u(d,g,_,v){d!==g?(d-g>180?g+=360:g-d>180&&(d+=360),v.push({i:_.push(s(_)+"rotate(",null,r)-2,x:qs(d,g)})):g&&_.push(s(_)+"rotate("+g+r)}function f(d,g,_,v){d!==g?v.push({i:_.push(s(_)+"skewX(",null,r)-2,x:qs(d,g)}):g&&_.push(s(_)+"skewX("+g+r)}function h(d,g,_,v,E,x){if(d!==_||g!==v){var R=E.push(s(E)+"scale(",null,",",null,")");x.push({i:R-4,x:qs(d,_)},{i:R-2,x:qs(g,v)})}else(_!==1||v!==1)&&E.push(s(E)+"scale("+_+","+v+")")}return function(d,g){var _=[],v=[];return d=t(d),g=t(g),a(d.translateX,d.translateY,g.translateX,g.translateY,_,v),u(d.rotate,g.rotate,_,v),f(d.skewX,g.skewX,_,v),h(d.scaleX,d.scaleY,g.scaleX,g.scaleY,_,v),d=g=null,function(E){for(var x=-1,R=v.length,O;++x<R;)_[(O=v[x]).i]=O.x(E);return _.join("")}}}var rO=SA(tO,"px, ","px)","deg)"),iO=SA(nO,", ",")",")"),sO=1e-12;function Wb(t){return((t=Math.exp(t))+1/t)/2}function oO(t){return((t=Math.exp(t))-1/t)/2}function aO(t){return((t=Math.exp(2*t))-1)/(t+1)}const lO=function t(e,n,r){function s(a,u){var f=a[0],h=a[1],d=a[2],g=u[0],_=u[1],v=u[2],E=g-f,x=_-h,R=E*E+x*x,O,M;if(R<sO)M=Math.log(v/d)/e,O=function(P){return[f+P*E,h+P*x,d*Math.exp(e*P*M)]};else{var q=Math.sqrt(R),$=(v*v-d*d+r*R)/(2*d*n*q),j=(v*v-d*d-r*R)/(2*v*n*q),X=Math.log(Math.sqrt($*$+1)-$),H=Math.log(Math.sqrt(j*j+1)-j);M=(H-X)/e,O=function(P){var C=P*M,I=Wb(X),z=d/(n*q)*(I*aO(e*C+X)-oO(X));return[f+z*E,h+z*x,d*I/Wb(e*C+X)]}}return O.duration=M*1e3*e/Math.SQRT2,O}return s.rho=function(a){var u=Math.max(.001,+a),f=u*u,h=f*f;return t(u,f,h)},s}(Math.SQRT2,2,4);var Hl=0,Ec=0,fc=0,AA=1e3,Sd,wc,Ad=0,oa=0,ep=0,Fc=typeof performance=="object"&&performance.now?performance:Date,xA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function L_(){return oa||(xA(uO),oa=Fc.now()+ep)}function uO(){oa=0}function xd(){this._call=this._time=this._next=null}xd.prototype=CA.prototype={constructor:xd,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?L_():+n)+(e==null?0:+e),!this._next&&wc!==this&&(wc?wc._next=this:Sd=this,wc=this),this._call=t,this._time=n,My()},stop:function(){this._call&&(this._call=null,this._time=1/0,My())}};function CA(t,e,n){var r=new xd;return r.restart(t,e,n),r}function cO(){L_(),++Hl;for(var t=Sd,e;t;)(e=oa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hl}function Zb(){oa=(Ad=Fc.now())+ep,Hl=Ec=0;try{cO()}finally{Hl=0,hO(),oa=0}}function fO(){var t=Fc.now(),e=t-Ad;e>AA&&(ep-=e,Ad=t)}function hO(){for(var t,e=Sd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Sd=n);wc=t,My(r)}function My(t){if(!Hl){Ec&&(Ec=clearTimeout(Ec));var e=t-oa;e>24?(t<1/0&&(Ec=setTimeout(Zb,t-Fc.now()-ep)),fc&&(fc=clearInterval(fc))):(fc||(Ad=Fc.now(),fc=setInterval(fO,AA)),Hl=1,xA(Zb))}}function Jb(t,e,n){var r=new xd;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var dO=Zd("start","end","cancel","interrupt"),pO=[],RA=0,eT=1,Py=2,ad=3,tT=4,Vy=5,ld=6;function tp(t,e,n,r,s,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;mO(t,n,{name:e,index:r,group:s,on:dO,tween:pO,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:RA})}function U_(t,e){var n=ti(t,e);if(n.state>RA)throw new Error("too late; already scheduled");return n}function ki(t,e){var n=ti(t,e);if(n.state>ad)throw new Error("too late; already running");return n}function ti(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function mO(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=CA(a,0,n.time);function a(d){n.state=eT,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var g,_,v,E;if(n.state!==eT)return h();for(g in r)if(E=r[g],E.name===n.name){if(E.state===ad)return Jb(u);E.state===tT?(E.state=ld,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete r[g]):+g<e&&(E.state=ld,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete r[g])}if(Jb(function(){n.state===ad&&(n.state=tT,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Py,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Py){for(n.state=ad,s=new Array(v=n.tween.length),g=0,_=-1;g<v;++g)(E=n.tween[g].value.call(t,t.__data__,n.index,n.group))&&(s[++_]=E);s.length=_+1}}function f(d){for(var g=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=Vy,1),_=-1,v=s.length;++_<v;)s[_].call(t,g);n.state===Vy&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=ld,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function ud(t,e){var n=t.__transition,r,s,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){a=!1;continue}s=r.state>Py&&r.state<Vy,r.state=ld,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}a&&delete t.__transition}}function gO(t){return this.each(function(){ud(this,t)})}function yO(t,e){var n,r;return function(){var s=ki(this,t),a=s.tween;if(a!==n){r=n=a;for(var u=0,f=r.length;u<f;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function _O(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=ki(this,t),u=a.tween;if(u!==r){s=(r=u).slice();for(var f={name:e,value:n},h=0,d=s.length;h<d;++h)if(s[h].name===e){s[h]=f;break}h===d&&s.push(f)}a.tween=s}}function vO(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ti(this.node(),n).tween,s=0,a=r.length,u;s<a;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?yO:_O)(n,t,e))}function z_(t,e,n){var r=t._id;return t.each(function(){var s=ki(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return ti(s,r).value[e]}}function IA(t,e){var n;return(typeof e=="number"?qs:e instanceof Hc?Xb:(n=Hc(e))?(e=n,Xb):eO)(t,e)}function EO(t){return function(){this.removeAttribute(t)}}function wO(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bO(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttribute(t);return u===s?null:u===r?a:a=e(r=u,n)}}function TO(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?a:a=e(r=u,n)}}function SO(t,e,n){var r,s,a;return function(){var u,f=n(this),h;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),h=f+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f)))}}function AO(t,e,n){var r,s,a;return function(){var u,f=n(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),h=f+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f)))}}function xO(t,e){var n=Jd(t),r=n==="transform"?iO:IA;return this.attrTween(t,typeof e=="function"?(n.local?AO:SO)(n,r,z_(this,"attr."+t,e)):e==null?(n.local?wO:EO)(n):(n.local?TO:bO)(n,r,e))}function CO(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function RO(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function IO(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&RO(t,a)),n}return s._value=e,s}function NO(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&CO(t,a)),n}return s._value=e,s}function kO(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jd(t);return this.tween(n,(r.local?IO:NO)(r,e))}function DO(t,e){return function(){U_(this,t).delay=+e.apply(this,arguments)}}function OO(t,e){return e=+e,function(){U_(this,t).delay=e}}function MO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?DO:OO)(e,t)):ti(this.node(),e).delay}function PO(t,e){return function(){ki(this,t).duration=+e.apply(this,arguments)}}function VO(t,e){return e=+e,function(){ki(this,t).duration=e}}function LO(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?PO:VO)(e,t)):ti(this.node(),e).duration}function UO(t,e){if(typeof e!="function")throw new Error;return function(){ki(this,t).ease=e}}function zO(t){var e=this._id;return arguments.length?this.each(UO(e,t)):ti(this.node(),e).ease}function BO(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ki(this,t).ease=n}}function HO(t){if(typeof t!="function")throw new Error;return this.each(BO(this._id,t))}function FO(t){typeof t!="function"&&(t=aA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&f.push(h);return new as(r,this._parents,this._name,this._id)}function jO(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),u=new Array(r),f=0;f<a;++f)for(var h=e[f],d=n[f],g=h.length,_=u[f]=new Array(g),v,E=0;E<g;++E)(v=h[E]||d[E])&&(_[E]=v);for(;f<r;++f)u[f]=e[f];return new as(u,this._parents,this._name,this._id)}function qO(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function $O(t,e,n){var r,s,a=qO(e)?U_:ki;return function(){var u=a(this,t),f=u.on;f!==r&&(s=(r=f).copy()).on(e,n),u.on=s}}function GO(t,e){var n=this._id;return arguments.length<2?ti(this.node(),n).on.on(t):this.each($O(n,t,e))}function YO(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function KO(){return this.on("end.remove",YO(this._id))}function XO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=M_(t));for(var r=this._groups,s=r.length,a=new Array(s),u=0;u<s;++u)for(var f=r[u],h=f.length,d=a[u]=new Array(h),g,_,v=0;v<h;++v)(g=f[v])&&(_=t.call(g,g.__data__,v,f))&&("__data__"in g&&(_.__data__=g.__data__),d[v]=_,tp(d[v],e,n,v,d,ti(g,n)));return new as(a,this._parents,e,n)}function QO(t){var e=this._name,n=this._id;typeof t!="function"&&(t=oA(t));for(var r=this._groups,s=r.length,a=[],u=[],f=0;f<s;++f)for(var h=r[f],d=h.length,g,_=0;_<d;++_)if(g=h[_]){for(var v=t.call(g,g.__data__,_,h),E,x=ti(g,n),R=0,O=v.length;R<O;++R)(E=v[R])&&tp(E,e,n,R,v,x);a.push(v),u.push(g)}return new as(a,u,e,n)}var WO=of.prototype.constructor;function ZO(){return new WO(this._groups,this._parents)}function JO(t,e){var n,r,s;return function(){var a=Bl(this,t),u=(this.style.removeProperty(t),Bl(this,t));return a===u?null:a===n&&u===r?s:s=e(n=a,r=u)}}function NA(t){return function(){this.style.removeProperty(t)}}function eM(t,e,n){var r,s=n+"",a;return function(){var u=Bl(this,t);return u===s?null:u===r?a:a=e(r=u,n)}}function tM(t,e,n){var r,s,a;return function(){var u=Bl(this,t),f=n(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),Bl(this,t))),u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f))}}function nM(t,e){var n,r,s,a="style."+e,u="end."+a,f;return function(){var h=ki(this,t),d=h.on,g=h.value[a]==null?f||(f=NA(e)):void 0;(d!==n||s!==g)&&(r=(n=d).copy()).on(u,s=g),h.on=r}}function rM(t,e,n){var r=(t+="")=="transform"?rO:IA;return e==null?this.styleTween(t,JO(t,r)).on("end.style."+t,NA(t)):typeof e=="function"?this.styleTween(t,tM(t,r,z_(this,"style."+t,e))).each(nM(this._id,t)):this.styleTween(t,eM(t,r,e),n).on("end.style."+t,null)}function iM(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function sM(t,e,n){var r,s;function a(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&iM(t,u,n)),r}return a._value=e,a}function oM(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,sM(t,e,n??""))}function aM(t){return function(){this.textContent=t}}function lM(t){return function(){var e=t(this);this.textContent=e??""}}function uM(t){return this.tween("text",typeof t=="function"?lM(z_(this,"text",t)):aM(t==null?"":t+""))}function cM(t){return function(e){this.textContent=t.call(this,e)}}function fM(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&cM(s)),e}return r._value=t,r}function hM(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,fM(t))}function dM(){for(var t=this._name,e=this._id,n=kA(),r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],f=u.length,h,d=0;d<f;++d)if(h=u[d]){var g=ti(h,e);tp(h,t,n,d,u,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new as(r,this._parents,t,n)}function pM(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,u){var f={value:u},h={value:function(){--s===0&&a()}};n.each(function(){var d=ki(this,r),g=d.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),d.on=e}),s===0&&a()})}var mM=0;function as(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function kA(){return++mM}var ts=of.prototype;as.prototype={constructor:as,select:XO,selectAll:QO,selectChild:ts.selectChild,selectChildren:ts.selectChildren,filter:FO,merge:jO,selection:ZO,transition:dM,call:ts.call,nodes:ts.nodes,node:ts.node,size:ts.size,empty:ts.empty,each:ts.each,on:GO,attr:xO,attrTween:kO,style:rM,styleTween:oM,text:uM,textTween:hM,remove:KO,tween:vO,delay:MO,duration:LO,ease:zO,easeVarying:HO,end:pM,[Symbol.iterator]:ts[Symbol.iterator]};function gM(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var yM={time:null,delay:0,duration:250,ease:gM};function _M(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function vM(t){var e,n;t instanceof as?(e=t._id,t=t._name):(e=kA(),(n=yM).time=L_(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],f=u.length,h,d=0;d<f;++d)(h=u[d])&&tp(h,t,e,d,u,n||_M(h,e));return new as(r,this._parents,t,e)}of.prototype.interrupt=gO;of.prototype.transition=vM;const jh=t=>()=>t;function EM(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ns(t,e,n){this.k=t,this.x=e,this.y=n}ns.prototype={constructor:ns,scale:function(t){return t===1?this:new ns(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ns(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ss=new ns(1,0,0);ns.prototype;function Hg(t){t.stopImmediatePropagation()}function hc(t){t.preventDefault(),t.stopImmediatePropagation()}function wM(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function bM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function nT(){return this.__zoom||ss}function TM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function SM(){return navigator.maxTouchPoints||"ontouchstart"in this}function AM(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function DA(){var t=wM,e=bM,n=AM,r=TM,s=SM,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,h=lO,d=Zd("start","zoom","end"),g,_,v,E=500,x=150,R=0,O=10;function M(k){k.property("__zoom",nT).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",z).filter(s).on("touchstart.zoom",L).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(k,G,V,K){var J=k.selection?k.selection():k;J.property("__zoom",nT),k!==J?X(k,G,V,K):J.interrupt().each(function(){H(this,arguments).event(K).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},M.scaleBy=function(k,G,V,K){M.scaleTo(k,function(){var J=this.__zoom.k,Z=typeof G=="function"?G.apply(this,arguments):G;return J*Z},V,K)},M.scaleTo=function(k,G,V,K){M.transform(k,function(){var J=e.apply(this,arguments),Z=this.__zoom,b=V==null?j(J):typeof V=="function"?V.apply(this,arguments):V,Q=Z.invert(b),ne=typeof G=="function"?G.apply(this,arguments):G;return n($(q(Z,ne),b,Q),J,u)},V,K)},M.translateBy=function(k,G,V,K){M.transform(k,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof V=="function"?V.apply(this,arguments):V),e.apply(this,arguments),u)},null,K)},M.translateTo=function(k,G,V,K,J){M.transform(k,function(){var Z=e.apply(this,arguments),b=this.__zoom,Q=K==null?j(Z):typeof K=="function"?K.apply(this,arguments):K;return n(ss.translate(Q[0],Q[1]).scale(b.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof V=="function"?-V.apply(this,arguments):-V),Z,u)},K,J)};function q(k,G){return G=Math.max(a[0],Math.min(a[1],G)),G===k.k?k:new ns(G,k.x,k.y)}function $(k,G,V){var K=G[0]-V[0]*k.k,J=G[1]-V[1]*k.k;return K===k.x&&J===k.y?k:new ns(k.k,K,J)}function j(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function X(k,G,V,K){k.on("start.zoom",function(){H(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){H(this,arguments).event(K).end()}).tween("zoom",function(){var J=this,Z=arguments,b=H(J,Z).event(K),Q=e.apply(J,Z),ne=V==null?j(Q):typeof V=="function"?V.apply(J,Z):V,N=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),le=J.__zoom,ve=typeof G=="function"?G.apply(J,Z):G,_e=h(le.invert(ne).concat(N/le.k),ve.invert(ne).concat(N/ve.k));return function(Ce){if(Ce===1)Ce=ve;else{var be=_e(Ce),De=N/be[2];Ce=new ns(De,ne[0]-be[0]*De,ne[1]-be[1]*De)}b.zoom(null,Ce)}})}function H(k,G,V){return!V&&k.__zooming||new P(k,G)}function P(k,G){this.that=k,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,G),this.taps=0}P.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,G){return this.mouse&&k!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var G=Lr(this.that).datum();d.call(k,this.that,new EM(k,{sourceEvent:this.sourceEvent,target:M,transform:this.that.__zoom,dispatch:d}),G)}};function C(k,...G){if(!t.apply(this,arguments))return;var V=H(this,G).event(k),K=this.__zoom,J=Math.max(a[0],Math.min(a[1],K.k*Math.pow(2,r.apply(this,arguments)))),Z=Kr(k);if(V.wheel)(V.mouse[0][0]!==Z[0]||V.mouse[0][1]!==Z[1])&&(V.mouse[1]=K.invert(V.mouse[0]=Z)),clearTimeout(V.wheel);else{if(K.k===J)return;V.mouse=[Z,K.invert(Z)],ud(this),V.start()}hc(k),V.wheel=setTimeout(b,x),V.zoom("mouse",n($(q(K,J),V.mouse[0],V.mouse[1]),V.extent,u));function b(){V.wheel=null,V.end()}}function I(k,...G){if(v||!t.apply(this,arguments))return;var V=k.currentTarget,K=H(this,G,!0).event(k),J=Lr(k.view).on("mousemove.zoom",ne,!0).on("mouseup.zoom",N,!0),Z=Kr(k,V),b=k.clientX,Q=k.clientY;yA(k.view),Hg(k),K.mouse=[Z,this.__zoom.invert(Z)],ud(this),K.start();function ne(le){if(hc(le),!K.moved){var ve=le.clientX-b,_e=le.clientY-Q;K.moved=ve*ve+_e*_e>R}K.event(le).zoom("mouse",n($(K.that.__zoom,K.mouse[0]=Kr(le,V),K.mouse[1]),K.extent,u))}function N(le){J.on("mousemove.zoom mouseup.zoom",null),_A(le.view,K.moved),hc(le),K.event(le).end()}}function z(k,...G){if(t.apply(this,arguments)){var V=this.__zoom,K=Kr(k.changedTouches?k.changedTouches[0]:k,this),J=V.invert(K),Z=V.k*(k.shiftKey?.5:2),b=n($(q(V,Z),K,J),e.apply(this,G),u);hc(k),f>0?Lr(this).transition().duration(f).call(X,b,K,k):Lr(this).call(M.transform,b,K,k)}}function L(k,...G){if(t.apply(this,arguments)){var V=k.touches,K=V.length,J=H(this,G,k.changedTouches.length===K).event(k),Z,b,Q,ne;for(Hg(k),b=0;b<K;++b)Q=V[b],ne=Kr(Q,this),ne=[ne,this.__zoom.invert(ne),Q.identifier],J.touch0?!J.touch1&&J.touch0[2]!==ne[2]&&(J.touch1=ne,J.taps=0):(J.touch0=ne,Z=!0,J.taps=1+!!g);g&&(g=clearTimeout(g)),Z&&(J.taps<2&&(_=ne[0],g=setTimeout(function(){g=null},E)),ud(this),J.start())}}function B(k,...G){if(this.__zooming){var V=H(this,G).event(k),K=k.changedTouches,J=K.length,Z,b,Q,ne;for(hc(k),Z=0;Z<J;++Z)b=K[Z],Q=Kr(b,this),V.touch0&&V.touch0[2]===b.identifier?V.touch0[0]=Q:V.touch1&&V.touch1[2]===b.identifier&&(V.touch1[0]=Q);if(b=V.that.__zoom,V.touch1){var N=V.touch0[0],le=V.touch0[1],ve=V.touch1[0],_e=V.touch1[1],Ce=(Ce=ve[0]-N[0])*Ce+(Ce=ve[1]-N[1])*Ce,be=(be=_e[0]-le[0])*be+(be=_e[1]-le[1])*be;b=q(b,Math.sqrt(Ce/be)),Q=[(N[0]+ve[0])/2,(N[1]+ve[1])/2],ne=[(le[0]+_e[0])/2,(le[1]+_e[1])/2]}else if(V.touch0)Q=V.touch0[0],ne=V.touch0[1];else return;V.zoom("touch",n($(b,Q,ne),V.extent,u))}}function A(k,...G){if(this.__zooming){var V=H(this,G).event(k),K=k.changedTouches,J=K.length,Z,b;for(Hg(k),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),Z=0;Z<J;++Z)b=K[Z],V.touch0&&V.touch0[2]===b.identifier?delete V.touch0:V.touch1&&V.touch1[2]===b.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(b=Kr(b,this),Math.hypot(_[0]-b[0],_[1]-b[1])<O)){var Q=Lr(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return M.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:jh(+k),M):r},M.filter=function(k){return arguments.length?(t=typeof k=="function"?k:jh(!!k),M):t},M.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:jh(!!k),M):s},M.extent=function(k){return arguments.length?(e=typeof k=="function"?k:jh([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),M):e},M.scaleExtent=function(k){return arguments.length?(a[0]=+k[0],a[1]=+k[1],M):[a[0],a[1]]},M.translateExtent=function(k){return arguments.length?(u[0][0]=+k[0][0],u[1][0]=+k[1][0],u[0][1]=+k[0][1],u[1][1]=+k[1][1],M):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},M.constrain=function(k){return arguments.length?(n=k,M):n},M.duration=function(k){return arguments.length?(f=+k,M):f},M.interpolate=function(k){return arguments.length?(h=k,M):h},M.on=function(){var k=d.on.apply(d,arguments);return k===d?M:k},M.clickDistance=function(k){return arguments.length?(R=(k=+k)*k,M):Math.sqrt(R)},M.tapDistance=function(k){return arguments.length?(O=+k,M):O},M}var xM=rA();const xl=ma(xM),np=F.createContext(null),CM=np.Provider,ls={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},OA=ls.error001();function kt(t,e){const n=F.useContext(np);if(n===null)throw new Error(OA);return iA(n,t,e)}const dn=()=>{const t=F.useContext(np);if(t===null)throw new Error(OA);return F.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},RM=t=>t.userSelectionActive?"none":"all";function B_({position:t,children:e,className:n,style:r,...s}){const a=kt(RM),u=`${t}`.split("-");return ce.createElement("div",{className:kn(["react-flow__panel",n,...u]),style:{...r,pointerEvents:a},...s},e)}function IM({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:ce.createElement(B_,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ce.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const NM=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:f=2,children:h,className:d,...g})=>{const _=F.useRef(null),[v,E]=F.useState({x:0,y:0,width:0,height:0}),x=kn(["react-flow__edge-textwrapper",d]);return F.useEffect(()=>{if(_.current){const R=_.current.getBBox();E({x:R.x,y:R.y,width:R.width,height:R.height})}},[n]),typeof n>"u"||!n?null:ce.createElement("g",{transform:`translate(${t-v.width/2} ${e-v.height/2})`,className:x,visibility:v.width?"visible":"hidden",...g},s&&ce.createElement("rect",{width:v.width+2*u[0],x:-u[0],y:-u[1],height:v.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:f,ry:f}),ce.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:_,style:r},n),h)};var kM=F.memo(NM);const H_=t=>({width:t.offsetWidth,height:t.offsetHeight}),Fl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),F_=(t={x:0,y:0},e)=>({x:Fl(t.x,e[0][0],e[1][0]),y:Fl(t.y,e[0][1],e[1][1])}),rT=(t,e,n)=>t<e?Fl(Math.abs(t-e),1,50)/50:t>n?-Fl(Math.abs(t-n),1,50)/50:0,MA=(t,e)=>{const n=rT(t.x,35,e.width-35)*20,r=rT(t.y,35,e.height-35)*20;return[n,r]},PA=t=>t.getRootNode?.()||window?.document,VA=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),jc=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),LA=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),iT=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),DM=(t,e)=>LA(VA(jc(t),jc(e))),Ly=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},OM=t=>zr(t.width)&&zr(t.height)&&zr(t.x)&&zr(t.y),zr=t=>!isNaN(t)&&isFinite(t),qt=Symbol.for("internals"),UA=["Enter"," ","Escape"],MM=(t,e)=>{},PM=t=>"nativeEvent"in t;function Uy(t){const n=(PM(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const zA=t=>"clientX"in t,Js=(t,e)=>{const n=zA(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},Cd=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,lf=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:g,markerEnd:_,markerStart:v,interactionWidth:E=20})=>ce.createElement(ce.Fragment,null,ce.createElement("path",{id:t,style:g,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:_,markerStart:v}),E&&ce.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),s&&zr(n)&&zr(r)?ce.createElement(kM,{x:n,y:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d}):null);lf.displayName="BaseEdge";function dc(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(a=>a.id===t);s&&n(r,{...s})}}function BA({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,u=Math.abs(r-e)/2,f=r<e?r+u:r-u;return[a,f,s,u]}function HA({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:f}){const h=t*.125+s*.375+u*.375+n*.125,d=e*.125+a*.375+f*.375+r*.125,g=Math.abs(h-t),_=Math.abs(d-e);return[h,d,g,_]}var oo;(function(t){t.Strict="strict",t.Loose="loose"})(oo||(oo={}));var ta;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ta||(ta={}));var qc;(function(t){t.Partial="partial",t.Full="full"})(qc||(qc={}));var Ys;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ys||(Ys={}));var $c;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})($c||($c={}));var ke;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ke||(ke={}));function sT({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===ke.Left||t===ke.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function FA({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:a=ke.Top}){const[u,f]=sT({pos:n,x1:t,y1:e,x2:r,y2:s}),[h,d]=sT({pos:a,x1:r,y1:s,x2:t,y2:e}),[g,_,v,E]=HA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:f,targetControlX:h,targetControlY:d});return[`M${t},${e} C${u},${f} ${h},${d} ${r},${s}`,g,_,v,E]}const j_=F.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:a=ke.Top,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:g,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,interactionWidth:R})=>{const[O,M,q]=FA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return ce.createElement(lf,{path:O,labelX:M,labelY:q,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:g,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,interactionWidth:R})});j_.displayName="SimpleBezierEdge";const oT={[ke.Left]:{x:-1,y:0},[ke.Right]:{x:1,y:0},[ke.Top]:{x:0,y:-1},[ke.Bottom]:{x:0,y:1}},VM=({source:t,sourcePosition:e=ke.Bottom,target:n})=>e===ke.Left||e===ke.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},aT=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function LM({source:t,sourcePosition:e=ke.Bottom,target:n,targetPosition:r=ke.Top,center:s,offset:a}){const u=oT[e],f=oT[r],h={x:t.x+u.x*a,y:t.y+u.y*a},d={x:n.x+f.x*a,y:n.y+f.y*a},g=VM({source:h,sourcePosition:e,target:d}),_=g.x!==0?"x":"y",v=g[_];let E=[],x,R;const O={x:0,y:0},M={x:0,y:0},[q,$,j,X]=BA({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[_]*f[_]===-1){x=s.x??q,R=s.y??$;const P=[{x,y:h.y},{x,y:d.y}],C=[{x:h.x,y:R},{x:d.x,y:R}];u[_]===v?E=_==="x"?P:C:E=_==="x"?C:P}else{const P=[{x:h.x,y:d.y}],C=[{x:d.x,y:h.y}];if(_==="x"?E=u.x===v?C:P:E=u.y===v?P:C,e===r){const A=Math.abs(t[_]-n[_]);if(A<=a){const k=Math.min(a-1,a-A);u[_]===v?O[_]=(h[_]>t[_]?-1:1)*k:M[_]=(d[_]>n[_]?-1:1)*k}}if(e!==r){const A=_==="x"?"y":"x",k=u[_]===f[A],G=h[A]>d[A],V=h[A]<d[A];(u[_]===1&&(!k&&G||k&&V)||u[_]!==1&&(!k&&V||k&&G))&&(E=_==="x"?P:C)}const I={x:h.x+O.x,y:h.y+O.y},z={x:d.x+M.x,y:d.y+M.y},L=Math.max(Math.abs(I.x-E[0].x),Math.abs(z.x-E[0].x)),B=Math.max(Math.abs(I.y-E[0].y),Math.abs(z.y-E[0].y));L>=B?(x=(I.x+z.x)/2,R=E[0].y):(x=E[0].x,R=(I.y+z.y)/2)}return[[t,{x:h.x+O.x,y:h.y+O.y},...E,{x:d.x+M.x,y:d.y+M.y},n],x,R,j,X]}function UM(t,e,n,r){const s=Math.min(aT(t,e)/2,aT(e,n)/2,r),{x:a,y:u}=e;if(t.x===a&&a===n.x||t.y===u&&u===n.y)return`L${a} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,g=t.y<n.y?1:-1;return`L ${a+s*d},${u}Q ${a},${u} ${a},${u+s*g}`}const f=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${a},${u+s*h}Q ${a},${u} ${a+s*f},${u}`}function zy({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:a=ke.Top,borderRadius:u=5,centerX:f,centerY:h,offset:d=20}){const[g,_,v,E,x]=LM({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:f,y:h},offset:d});return[g.reduce((O,M,q)=>{let $="";return q>0&&q<g.length-1?$=UM(g[q-1],M,g[q+1],u):$=`${q===0?"M":"L"}${M.x} ${M.y}`,O+=$,O},""),_,v,E,x]}const rp=F.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:g,sourcePosition:_=ke.Bottom,targetPosition:v=ke.Top,markerEnd:E,markerStart:x,pathOptions:R,interactionWidth:O})=>{const[M,q,$]=zy({sourceX:t,sourceY:e,sourcePosition:_,targetX:n,targetY:r,targetPosition:v,borderRadius:R?.borderRadius,offset:R?.offset});return ce.createElement(lf,{path:M,labelX:q,labelY:$,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:g,markerEnd:E,markerStart:x,interactionWidth:O})});rp.displayName="SmoothStepEdge";const q_=F.memo(t=>ce.createElement(rp,{...t,pathOptions:F.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));q_.displayName="StepEdge";function zM({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,a,u,f]=BA({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,a,u,f]}const $_=F.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:g,markerEnd:_,markerStart:v,interactionWidth:E})=>{const[x,R,O]=zM({sourceX:t,sourceY:e,targetX:n,targetY:r});return ce.createElement(lf,{path:x,labelX:R,labelY:O,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:g,markerEnd:_,markerStart:v,interactionWidth:E})});$_.displayName="StraightEdge";function qh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function lT({pos:t,x1:e,y1:n,x2:r,y2:s,c:a}){switch(t){case ke.Left:return[e-qh(e-r,a),n];case ke.Right:return[e+qh(r-e,a),n];case ke.Top:return[e,n-qh(n-s,a)];case ke.Bottom:return[e,n+qh(s-n,a)]}}function jA({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:a=ke.Top,curvature:u=.25}){const[f,h]=lT({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[d,g]=lT({pos:a,x1:r,y1:s,x2:t,y2:e,c:u}),[_,v,E,x]=HA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:f,sourceControlY:h,targetControlX:d,targetControlY:g});return[`M${t},${e} C${f},${h} ${d},${g} ${r},${s}`,_,v,E,x]}const Rd=F.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:a=ke.Top,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:g,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,pathOptions:R,interactionWidth:O})=>{const[M,q,$]=jA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:R?.curvature});return ce.createElement(lf,{path:M,labelX:q,labelY:$,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:g,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:x,interactionWidth:O})});Rd.displayName="BezierEdge";const G_=F.createContext(null),BM=G_.Provider;G_.Consumer;const HM=()=>F.useContext(G_),FM=t=>"id"in t&&"source"in t&&"target"in t,jM=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,By=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,qM=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),$M=(t,e)=>{if(!t.source||!t.target)return e;let n;return FM(t)?n={...t}:n={...t,id:jM(t)},qM(n,e)?e:e.concat(n)},Hy=({x:t,y:e},[n,r,s],a,[u,f])=>{const h={x:(t-n)/s,y:(e-r)/s};return a?{x:u*Math.round(h.x/u),y:f*Math.round(h.y/f)}:h},qA=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),ia=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},ip=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:a,y:u}=ia(s,e).positionAbsolute;return VA(r,jc({x:a,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return LA(n)},$A=(t,e,[n,r,s]=[0,0,1],a=!1,u=!1,f=[0,0])=>{const h={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(g=>{const{width:_,height:v,selectable:E=!0,hidden:x=!1}=g;if(u&&!E||x)return!1;const{positionAbsolute:R}=ia(g,f),O={x:R.x,y:R.y,width:_||0,height:v||0},M=Ly(h,O),q=typeof _>"u"||typeof v>"u"||_===null||v===null,$=a&&M>0,j=(_||0)*(v||0);(q||$||M>=j||g.dragging)&&d.push(g)}),d},GA=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},YA=(t,e,n,r,s,a=.1)=>{const u=e/(t.width*(1+a)),f=n/(t.height*(1+a)),h=Math.min(u,f),d=Fl(h,r,s),g=t.x+t.width/2,_=t.y+t.height/2,v=e/2-g*d,E=n/2-_*d;return{x:v,y:E,zoom:d}},Xo=(t,e=0)=>t.transition().duration(e);function uT(t,e,n,r){return(e[n]||[]).reduce((s,a)=>(`${t.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+a.x+a.width/2,y:(t.positionAbsolute?.y??0)+a.y+a.height/2}),s),[])}function GM(t,e,n,r,s,a){const{x:u,y:f}=Js(t),d=e.elementsFromPoint(u,f).find(x=>x.classList.contains("react-flow__handle"));if(d){const x=d.getAttribute("data-nodeid");if(x){const R=Y_(void 0,d),O=d.getAttribute("data-handleid"),M=a({nodeId:x,id:O,type:R});if(M){const q=s.find($=>$.nodeId===x&&$.type===R&&$.id===O);return{handle:{id:O,type:R,nodeId:x,x:q?.x||n.x,y:q?.y||n.y},validHandleResult:M}}}}let g=[],_=1/0;if(s.forEach(x=>{const R=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(R<=r){const O=a(x);R<=_&&(R<_?g=[{handle:x,validHandleResult:O}]:R===_&&g.push({handle:x,validHandleResult:O}),_=R)}}),!g.length)return{handle:null,validHandleResult:KA()};if(g.length===1)return g[0];const v=g.some(({validHandleResult:x})=>x.isValid),E=g.some(({handle:x})=>x.type==="target");return g.find(({handle:x,validHandleResult:R})=>E?x.type==="target":v?R.isValid:!0)||g[0]}const YM={source:null,target:null,sourceHandle:null,targetHandle:null},KA=()=>({handleDomNode:null,isValid:!1,connection:YM,endHandle:null});function XA(t,e,n,r,s,a,u){const f=s==="target",h=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),d={...KA(),handleDomNode:h};if(h){const g=Y_(void 0,h),_=h.getAttribute("data-nodeid"),v=h.getAttribute("data-handleid"),E=h.classList.contains("connectable"),x=h.classList.contains("connectableend"),R={source:f?_:n,sourceHandle:f?v:r,target:f?n:_,targetHandle:f?r:v};d.connection=R,E&&x&&(e===oo.Strict?f&&g==="source"||!f&&g==="target":_!==n||v!==r)&&(d.endHandle={nodeId:_,handleId:v,type:g},d.isValid=a(R))}return d}function KM({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,a)=>{if(a[qt]){const{handleBounds:u}=a[qt];let f=[],h=[];u&&(f=uT(a,u,"source",`${e}-${n}-${r}`),h=uT(a,u,"target",`${e}-${n}-${r}`)),s.push(...f,...h)}return s},[])}function Y_(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Fg(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function XM(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function QA({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:u,isValidConnection:f,edgeUpdaterType:h,onReconnectEnd:d}){const g=PA(t.target),{connectionMode:_,domNode:v,autoPanOnConnect:E,connectionRadius:x,onConnectStart:R,panBy:O,getNodes:M,cancelConnection:q}=a();let $=0,j;const{x:X,y:H}=Js(t),P=g?.elementFromPoint(X,H),C=Y_(h,P),I=v?.getBoundingClientRect();if(!I||!C)return;let z,L=Js(t,I),B=!1,A=null,k=!1,G=null;const V=KM({nodes:M(),nodeId:n,handleId:e,handleType:C}),K=()=>{if(!E)return;const[b,Q]=MA(L,I);O({x:b,y:Q}),$=requestAnimationFrame(K)};u({connectionPosition:L,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:e,type:C},connectionEndHandle:null}),R?.(t,{nodeId:n,handleId:e,handleType:C});function J(b){const{transform:Q}=a();L=Js(b,I);const{handle:ne,validHandleResult:N}=GM(b,g,Hy(L,Q,!1,[1,1]),x,V,le=>XA(le,_,n,e,s?"target":"source",f,g));if(j=ne,B||(K(),B=!0),G=N.handleDomNode,A=N.connection,k=N.isValid,u({connectionPosition:j&&k?qA({x:j.x,y:j.y},Q):L,connectionStatus:XM(!!j,k),connectionEndHandle:N.endHandle}),!j&&!k&&!G)return Fg(z);A.source!==A.target&&G&&(Fg(z),z=G,G.classList.add("connecting","react-flow__handle-connecting"),G.classList.toggle("valid",k),G.classList.toggle("react-flow__handle-valid",k))}function Z(b){(j||G)&&A&&k&&r?.(A),a().onConnectEnd?.(b),h&&d?.(b),Fg(z),q(),cancelAnimationFrame($),B=!1,k=!1,A=null,G=null,g.removeEventListener("mousemove",J),g.removeEventListener("mouseup",Z),g.removeEventListener("touchmove",J),g.removeEventListener("touchend",Z)}g.addEventListener("mousemove",J),g.addEventListener("mouseup",Z),g.addEventListener("touchmove",J),g.addEventListener("touchend",Z)}const cT=()=>!0,QM=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),WM=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||a?.nodeId===t&&a?.handleId===e&&a?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},WA=F.forwardRef(({type:t="source",position:e=ke.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:u,onConnect:f,children:h,className:d,onMouseDown:g,onTouchStart:_,...v},E)=>{const x=u||null,R=t==="target",O=dn(),M=HM(),{connectOnClick:q,noPanClassName:$}=kt(QM,En),{connecting:j,clickConnecting:X}=kt(WM(M,x,t),En);M||O.getState().onError?.("010",ls.error010());const H=I=>{const{defaultEdgeOptions:z,onConnect:L,hasDefaultEdges:B}=O.getState(),A={...z,...I};if(B){const{edges:k,setEdges:G}=O.getState();G($M(A,k))}L?.(A),f?.(A)},P=I=>{if(!M)return;const z=zA(I);s&&(z&&I.button===0||!z)&&QA({event:I,handleId:x,nodeId:M,onConnect:H,isTarget:R,getState:O.getState,setState:O.setState,isValidConnection:n||O.getState().isValidConnection||cT}),z?g?.(I):_?.(I)},C=I=>{const{onClickConnectStart:z,onClickConnectEnd:L,connectionClickStartHandle:B,connectionMode:A,isValidConnection:k}=O.getState();if(!M||!B&&!s)return;if(!B){z?.(I,{nodeId:M,handleId:x,handleType:t}),O.setState({connectionClickStartHandle:{nodeId:M,type:t,handleId:x}});return}const G=PA(I.target),V=n||k||cT,{connection:K,isValid:J}=XA({nodeId:M,id:x,type:t},A,B.nodeId,B.handleId||null,B.type,V,G);J&&H(K),L?.(I),O.setState({connectionClickStartHandle:null})};return ce.createElement("div",{"data-handleid":x,"data-nodeid":M,"data-handlepos":e,"data-id":`${M}-${x}-${t}`,className:kn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",$,d,{source:!R,target:R,connectable:r,connectablestart:s,connectableend:a,connecting:X,connectionindicator:r&&(s&&!j||a&&j)}]),onMouseDown:P,onTouchStart:P,onClick:q?C:void 0,ref:E,...v},h)});WA.displayName="Handle";var aa=F.memo(WA);const ZA=({data:t,isConnectable:e,targetPosition:n=ke.Top,sourcePosition:r=ke.Bottom})=>ce.createElement(ce.Fragment,null,ce.createElement(aa,{type:"target",position:n,isConnectable:e}),t?.label,ce.createElement(aa,{type:"source",position:r,isConnectable:e}));ZA.displayName="DefaultNode";var Fy=F.memo(ZA);const JA=({data:t,isConnectable:e,sourcePosition:n=ke.Bottom})=>ce.createElement(ce.Fragment,null,t?.label,ce.createElement(aa,{type:"source",position:n,isConnectable:e}));JA.displayName="InputNode";var ex=F.memo(JA);const tx=({data:t,isConnectable:e,targetPosition:n=ke.Top})=>ce.createElement(ce.Fragment,null,ce.createElement(aa,{type:"target",position:n,isConnectable:e}),t?.label);tx.displayName="OutputNode";var nx=F.memo(tx);const K_=()=>null;K_.displayName="GroupNode";const ZM=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),$h=t=>t.id;function JM(t,e){return En(t.selectedNodes.map($h),e.selectedNodes.map($h))&&En(t.selectedEdges.map($h),e.selectedEdges.map($h))}const rx=F.memo(({onSelectionChange:t})=>{const e=dn(),{selectedNodes:n,selectedEdges:r}=kt(ZM,JM);return F.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,r,t]),null});rx.displayName="SelectionListener";const eP=t=>!!t.onSelectionChange;function tP({onSelectionChange:t}){const e=kt(eP);return t||e?ce.createElement(rx,{onSelectionChange:t}):null}const nP=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function fl(t,e){F.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function We(t,e,n){F.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const rP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:u,onClickConnectStart:f,onClickConnectEnd:h,nodesDraggable:d,nodesConnectable:g,nodesFocusable:_,edgesFocusable:v,edgesUpdatable:E,elevateNodesOnSelect:x,minZoom:R,maxZoom:O,nodeExtent:M,onNodesChange:q,onEdgesChange:$,elementsSelectable:j,connectionMode:X,snapGrid:H,snapToGrid:P,translateExtent:C,connectOnClick:I,defaultEdgeOptions:z,fitView:L,fitViewOptions:B,onNodesDelete:A,onEdgesDelete:k,onNodeDrag:G,onNodeDragStart:V,onNodeDragStop:K,onSelectionDrag:J,onSelectionDragStart:Z,onSelectionDragStop:b,noPanClassName:Q,nodeOrigin:ne,rfId:N,autoPanOnConnect:le,autoPanOnNodeDrag:ve,onError:_e,connectionRadius:Ce,isValidConnection:be,nodeDragThreshold:De})=>{const{setNodes:Oe,setEdges:Ze,setDefaultNodesAndEdges:tt,setMinZoom:ft,setMaxZoom:lt,setTranslateExtent:Me,setNodeExtent:St,reset:Le}=kt(nP,En),Re=dn();return F.useEffect(()=>{const At=r?.map($t=>({...$t,...z}));return tt(n,At),()=>{Le()}},[]),We("defaultEdgeOptions",z,Re.setState),We("connectionMode",X,Re.setState),We("onConnect",s,Re.setState),We("onConnectStart",a,Re.setState),We("onConnectEnd",u,Re.setState),We("onClickConnectStart",f,Re.setState),We("onClickConnectEnd",h,Re.setState),We("nodesDraggable",d,Re.setState),We("nodesConnectable",g,Re.setState),We("nodesFocusable",_,Re.setState),We("edgesFocusable",v,Re.setState),We("edgesUpdatable",E,Re.setState),We("elementsSelectable",j,Re.setState),We("elevateNodesOnSelect",x,Re.setState),We("snapToGrid",P,Re.setState),We("snapGrid",H,Re.setState),We("onNodesChange",q,Re.setState),We("onEdgesChange",$,Re.setState),We("connectOnClick",I,Re.setState),We("fitViewOnInit",L,Re.setState),We("fitViewOnInitOptions",B,Re.setState),We("onNodesDelete",A,Re.setState),We("onEdgesDelete",k,Re.setState),We("onNodeDrag",G,Re.setState),We("onNodeDragStart",V,Re.setState),We("onNodeDragStop",K,Re.setState),We("onSelectionDrag",J,Re.setState),We("onSelectionDragStart",Z,Re.setState),We("onSelectionDragStop",b,Re.setState),We("noPanClassName",Q,Re.setState),We("nodeOrigin",ne,Re.setState),We("rfId",N,Re.setState),We("autoPanOnConnect",le,Re.setState),We("autoPanOnNodeDrag",ve,Re.setState),We("onError",_e,Re.setState),We("connectionRadius",Ce,Re.setState),We("isValidConnection",be,Re.setState),We("nodeDragThreshold",De,Re.setState),fl(t,Oe),fl(e,Ze),fl(R,ft),fl(O,lt),fl(C,Me),fl(M,St),null},fT={display:"none"},iP={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ix="react-flow__node-desc",sx="react-flow__edge-desc",sP="react-flow__aria-live",oP=t=>t.ariaLiveMessage;function aP({rfId:t}){const e=kt(oP);return ce.createElement("div",{id:`${sP}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:iP},e)}function lP({rfId:t,disableKeyboardA11y:e}){return ce.createElement(ce.Fragment,null,ce.createElement("div",{id:`${ix}-${t}`,style:fT},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ce.createElement("div",{id:`${sx}-${t}`,style:fT},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ce.createElement(aP,{rfId:t}))}var Gc=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=F.useState(!1),s=F.useRef(!1),a=F.useRef(new Set([])),[u,f]=F.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(_=>typeof _=="string").map(_=>_.split("+")),g=d.reduce((_,v)=>_.concat(...v),[]);return[d,g]}return[[],[]]},[t]);return F.useEffect(()=>{const h=typeof document<"u"?document:null,d=e?.target||h;if(t!==null){const g=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&Uy(E))return!1;const R=dT(E.code,f);a.current.add(E[R]),hT(u,a.current,!1)&&(E.preventDefault(),r(!0))},_=E=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&Uy(E))return!1;const R=dT(E.code,f);hT(u,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(E[R]),E.key==="Meta"&&a.current.clear(),s.current=!1},v=()=>{a.current.clear(),r(!1)};return d?.addEventListener("keydown",g),d?.addEventListener("keyup",_),window.addEventListener("blur",v),()=>{d?.removeEventListener("keydown",g),d?.removeEventListener("keyup",_),window.removeEventListener("blur",v)}}},[t,r]),n};function hT(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function dT(t,e){return e.includes(t)?"code":"key"}function ox(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),u=ia(a,r);return ox(a,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(a[qt]?.z??0)>(n.z??0)?a[qt]?.z??0:n.z??0},r)}function ax(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:a,y:u,z:f}=ox(r,t,{...r.position,z:r[qt]?.z??0},e);r.positionAbsolute={x:a,y:u},r[qt].z=f,n?.[r.id]&&(r[qt].isParent=!0)}})}function jg(t,e,n,r){const s=new Map,a={},u=r?1e3:0;return t.forEach(f=>{const h=(zr(f.zIndex)?f.zIndex:0)+(f.selected?u:0),d=e.get(f.id),g={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},_=f.parentNode||f.parentId;_&&(a[_]=!0);const v=d?.type&&d?.type!==f.type;Object.defineProperty(g,qt,{enumerable:!1,value:{handleBounds:v?void 0:d?.[qt]?.handleBounds,z:h}}),s.set(f.id,g)}),ax(s,n,a),s}function lx(t,e={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:u,d3Zoom:f,d3Selection:h,fitViewOnInitDone:d,fitViewOnInit:g,nodeOrigin:_}=t(),v=e.initial&&!d&&g;if(f&&h&&(v||!e.initial)){const x=n().filter(O=>{const M=e.includeHiddenNodes?O.width&&O.height:!O.hidden;return e.nodes?.length?M&&e.nodes.some(q=>q.id===O.id):M}),R=x.every(O=>O.width&&O.height);if(x.length>0&&R){const O=ip(x,_),{x:M,y:q,zoom:$}=YA(O,r,s,e.minZoom??a,e.maxZoom??u,e.padding??.1),j=ss.translate(M,q).scale($);return typeof e.duration=="number"&&e.duration>0?f.transform(Xo(h,e.duration),j):f.transform(h,j),!0}}return!1}function uP(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[qt]:r[qt],selected:n.selected})}),new Map(e)}function cP(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Gh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:u,onEdgesChange:f,hasDefaultNodes:h,hasDefaultEdges:d}=n();t?.length&&(h&&r({nodeInternals:uP(t,s)}),u?.(t)),e?.length&&(d&&r({edges:cP(e,a)}),f?.(e))}const hl=()=>{},fP={zoomIn:hl,zoomOut:hl,zoomTo:hl,getZoom:()=>1,setViewport:hl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:hl,fitBounds:hl,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},hP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),dP=()=>{const t=dn(),{d3Zoom:e,d3Selection:n}=kt(hP,En);return F.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Xo(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(Xo(n,s?.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(Xo(n,a?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[u,f,h]=t.getState().transform,d=ss.translate(s.x??u,s.y??f).scale(s.zoom??h);e.transform(Xo(n,a?.duration),d)},getViewport:()=>{const[s,a,u]=t.getState().transform;return{x:s,y:a,zoom:u}},fitView:s=>lx(t.getState,s),setCenter:(s,a,u)=>{const{width:f,height:h,maxZoom:d}=t.getState(),g=typeof u?.zoom<"u"?u.zoom:d,_=f/2-s*g,v=h/2-a*g,E=ss.translate(_,v).scale(g);e.transform(Xo(n,u?.duration),E)},fitBounds:(s,a)=>{const{width:u,height:f,minZoom:h,maxZoom:d}=t.getState(),{x:g,y:_,zoom:v}=YA(s,u,f,h,d,a?.padding??.1),E=ss.translate(g,_).scale(v);e.transform(Xo(n,a?.duration),E)},project:s=>{const{transform:a,snapToGrid:u,snapGrid:f}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Hy(s,a,u,f)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:u,snapGrid:f,domNode:h}=t.getState();if(!h)return s;const{x:d,y:g}=h.getBoundingClientRect(),_={x:s.x-d,y:s.y-g};return Hy(_,a,u,f)},flowToScreenPosition:s=>{const{transform:a,domNode:u}=t.getState();if(!u)return s;const{x:f,y:h}=u.getBoundingClientRect(),d=qA(s,a);return{x:d.x+f,y:d.y+h}},viewportInitialized:!0}:fP,[e,n])};function uf(){const t=dP(),e=dn(),n=F.useCallback(()=>e.getState().getNodes().map(R=>({...R})),[]),r=F.useCallback(R=>e.getState().nodeInternals.get(R),[]),s=F.useCallback(()=>{const{edges:R=[]}=e.getState();return R.map(O=>({...O}))},[]),a=F.useCallback(R=>{const{edges:O=[]}=e.getState();return O.find(M=>M.id===R)},[]),u=F.useCallback(R=>{const{getNodes:O,setNodes:M,hasDefaultNodes:q,onNodesChange:$}=e.getState(),j=O(),X=typeof R=="function"?R(j):R;if(q)M(X);else if($){const H=X.length===0?j.map(P=>({type:"remove",id:P.id})):X.map(P=>({item:P,type:"reset"}));$(H)}},[]),f=F.useCallback(R=>{const{edges:O=[],setEdges:M,hasDefaultEdges:q,onEdgesChange:$}=e.getState(),j=typeof R=="function"?R(O):R;if(q)M(j);else if($){const X=j.length===0?O.map(H=>({type:"remove",id:H.id})):j.map(H=>({item:H,type:"reset"}));$(X)}},[]),h=F.useCallback(R=>{const O=Array.isArray(R)?R:[R],{getNodes:M,setNodes:q,hasDefaultNodes:$,onNodesChange:j}=e.getState();if($){const H=[...M(),...O];q(H)}else if(j){const X=O.map(H=>({item:H,type:"add"}));j(X)}},[]),d=F.useCallback(R=>{const O=Array.isArray(R)?R:[R],{edges:M=[],setEdges:q,hasDefaultEdges:$,onEdgesChange:j}=e.getState();if($)q([...M,...O]);else if(j){const X=O.map(H=>({item:H,type:"add"}));j(X)}},[]),g=F.useCallback(()=>{const{getNodes:R,edges:O=[],transform:M}=e.getState(),[q,$,j]=M;return{nodes:R().map(X=>({...X})),edges:O.map(X=>({...X})),viewport:{x:q,y:$,zoom:j}}},[]),_=F.useCallback(({nodes:R,edges:O})=>{const{nodeInternals:M,getNodes:q,edges:$,hasDefaultNodes:j,hasDefaultEdges:X,onNodesDelete:H,onEdgesDelete:P,onNodesChange:C,onEdgesChange:I}=e.getState(),z=(R||[]).map(G=>G.id),L=(O||[]).map(G=>G.id),B=q().reduce((G,V)=>{const K=V.parentNode||V.parentId,J=!z.includes(V.id)&&K&&G.find(b=>b.id===K);return(typeof V.deletable=="boolean"?V.deletable:!0)&&(z.includes(V.id)||J)&&G.push(V),G},[]),A=$.filter(G=>typeof G.deletable=="boolean"?G.deletable:!0),k=A.filter(G=>L.includes(G.id));if(B||k){const G=GA(B,A),V=[...k,...G],K=V.reduce((J,Z)=>(J.includes(Z.id)||J.push(Z.id),J),[]);if((X||j)&&(X&&e.setState({edges:$.filter(J=>!K.includes(J.id))}),j&&(B.forEach(J=>{M.delete(J.id)}),e.setState({nodeInternals:new Map(M)}))),K.length>0&&(P?.(V),I&&I(K.map(J=>({id:J,type:"remove"})))),B.length>0&&(H?.(B),C)){const J=B.map(Z=>({id:Z.id,type:"remove"}));C(J)}}},[]),v=F.useCallback(R=>{const O=OM(R),M=O?null:e.getState().nodeInternals.get(R.id);return!O&&!M?[null,null,O]:[O?R:iT(M),M,O]},[]),E=F.useCallback((R,O=!0,M)=>{const[q,$,j]=v(R);return q?(M||e.getState().getNodes()).filter(X=>{if(!j&&(X.id===$.id||!X.positionAbsolute))return!1;const H=iT(X),P=Ly(H,q);return O&&P>0||P>=q.width*q.height}):[]},[]),x=F.useCallback((R,O,M=!0)=>{const[q]=v(R);if(!q)return!1;const $=Ly(q,O);return M&&$>0||$>=q.width*q.height},[]);return F.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:u,setEdges:f,addNodes:h,addEdges:d,toObject:g,deleteElements:_,getIntersectingNodes:E,isNodeIntersecting:x}),[t,n,r,s,a,u,f,h,d,g,_,E,x])}const pP={actInsideInputWithModifier:!1};var mP=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=dn(),{deleteElements:r}=uf(),s=Gc(t,pP),a=Gc(e);F.useEffect(()=>{if(s){const{edges:u,getNodes:f}=n.getState(),h=f().filter(g=>g.selected),d=u.filter(g=>g.selected);r({nodes:h,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),F.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function gP(t){const e=dn();F.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=H_(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",ls.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const X_={position:"absolute",width:"100%",height:"100%",top:0,left:0},yP=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Yh=t=>({x:t.x,y:t.y,zoom:t.k}),dl=(t,e)=>t.target.closest(`.${e}`),pT=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),mT=t=>{const e=t.ctrlKey&&Cd()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},_P=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),vP=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:u=!1,panOnScrollSpeed:f=.5,panOnScrollMode:h=ta.Free,zoomOnDoubleClick:d=!0,elementsSelectable:g,panOnDrag:_=!0,defaultViewport:v,translateExtent:E,minZoom:x,maxZoom:R,zoomActivationKeyCode:O,preventScrolling:M=!0,children:q,noWheelClassName:$,noPanClassName:j})=>{const X=F.useRef(),H=dn(),P=F.useRef(!1),C=F.useRef(!1),I=F.useRef(null),z=F.useRef({x:0,y:0,zoom:0}),{d3Zoom:L,d3Selection:B,d3ZoomHandler:A,userSelectionActive:k}=kt(_P,En),G=Gc(O),V=F.useRef(0),K=F.useRef(!1),J=F.useRef();return gP(I),F.useEffect(()=>{if(I.current){const Z=I.current.getBoundingClientRect(),b=DA().scaleExtent([x,R]).translateExtent(E),Q=Lr(I.current).call(b),ne=ss.translate(v.x,v.y).scale(Fl(v.zoom,x,R)),N=[[0,0],[Z.width,Z.height]],le=b.constrain()(ne,N,E);b.transform(Q,le),b.wheelDelta(mT),H.setState({d3Zoom:b,d3Selection:Q,d3ZoomHandler:Q.on("wheel.zoom"),transform:[le.x,le.y,le.k],domNode:I.current.closest(".react-flow")})}},[]),F.useEffect(()=>{B&&L&&(u&&!G&&!k?B.on("wheel.zoom",Z=>{if(dl(Z,$))return!1;Z.preventDefault(),Z.stopImmediatePropagation();const b=B.property("__zoom").k||1;if(Z.ctrlKey&&a){const be=Kr(Z),De=mT(Z),Oe=b*Math.pow(2,De);L.scaleTo(B,Oe,be,Z);return}const Q=Z.deltaMode===1?20:1;let ne=h===ta.Vertical?0:Z.deltaX*Q,N=h===ta.Horizontal?0:Z.deltaY*Q;!Cd()&&Z.shiftKey&&h!==ta.Vertical&&(ne=Z.deltaY*Q,N=0),L.translateBy(B,-(ne/b)*f,-(N/b)*f,{internal:!0});const le=Yh(B.property("__zoom")),{onViewportChangeStart:ve,onViewportChange:_e,onViewportChangeEnd:Ce}=H.getState();clearTimeout(J.current),K.current||(K.current=!0,e?.(Z,le),ve?.(le)),K.current&&(t?.(Z,le),_e?.(le),J.current=setTimeout(()=>{n?.(Z,le),Ce?.(le),K.current=!1},150))},{passive:!1}):typeof A<"u"&&B.on("wheel.zoom",function(Z,b){if(!M&&Z.type==="wheel"&&!Z.ctrlKey||dl(Z,$))return null;Z.preventDefault(),A.call(this,Z,b)},{passive:!1}))},[k,u,h,B,L,A,G,a,M,$,e,t,n]),F.useEffect(()=>{L&&L.on("start",Z=>{if(!Z.sourceEvent||Z.sourceEvent.internal)return null;V.current=Z.sourceEvent?.button;const{onViewportChangeStart:b}=H.getState(),Q=Yh(Z.transform);P.current=!0,z.current=Q,Z.sourceEvent?.type==="mousedown"&&H.setState({paneDragging:!0}),b?.(Q),e?.(Z.sourceEvent,Q)})},[L,e]),F.useEffect(()=>{L&&(k&&!P.current?L.on("zoom",null):k||L.on("zoom",Z=>{const{onViewportChange:b}=H.getState();if(H.setState({transform:[Z.transform.x,Z.transform.y,Z.transform.k]}),C.current=!!(r&&pT(_,V.current??0)),(t||b)&&!Z.sourceEvent?.internal){const Q=Yh(Z.transform);b?.(Q),t?.(Z.sourceEvent,Q)}}))},[k,L,t,_,r]),F.useEffect(()=>{L&&L.on("end",Z=>{if(!Z.sourceEvent||Z.sourceEvent.internal)return null;const{onViewportChangeEnd:b}=H.getState();if(P.current=!1,H.setState({paneDragging:!1}),r&&pT(_,V.current??0)&&!C.current&&r(Z.sourceEvent),C.current=!1,(n||b)&&yP(z.current,Z.transform)){const Q=Yh(Z.transform);z.current=Q,clearTimeout(X.current),X.current=setTimeout(()=>{b?.(Q),n?.(Z.sourceEvent,Q)},u?150:0)}})},[L,u,_,n,r]),F.useEffect(()=>{L&&L.filter(Z=>{const b=G||s,Q=a&&Z.ctrlKey;if((_===!0||Array.isArray(_)&&_.includes(1))&&Z.button===1&&Z.type==="mousedown"&&(dl(Z,"react-flow__node")||dl(Z,"react-flow__edge")))return!0;if(!_&&!b&&!u&&!d&&!a||k||!d&&Z.type==="dblclick"||dl(Z,$)&&Z.type==="wheel"||dl(Z,j)&&(Z.type!=="wheel"||u&&Z.type==="wheel"&&!G)||!a&&Z.ctrlKey&&Z.type==="wheel"||!b&&!u&&!Q&&Z.type==="wheel"||!_&&(Z.type==="mousedown"||Z.type==="touchstart")||Array.isArray(_)&&!_.includes(Z.button)&&Z.type==="mousedown")return!1;const ne=Array.isArray(_)&&_.includes(Z.button)||!Z.button||Z.button<=1;return(!Z.ctrlKey||Z.type==="wheel")&&ne})},[k,L,s,a,u,d,_,g,G]),ce.createElement("div",{className:"react-flow__renderer",ref:I,style:X_},q)},EP=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function wP(){const{userSelectionActive:t,userSelectionRect:e}=kt(EP,En);return t&&e?ce.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function gT(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function ux(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const a=t.filter(f=>f.id===s.id);if(a.length===0)return r.push(s),r;const u={...s};for(const f of a)if(f)switch(f.type){case"select":{u.selected=f.selected;break}case"position":{typeof f.position<"u"&&(u.position=f.position),typeof f.positionAbsolute<"u"&&(u.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(u.dragging=f.dragging),u.expandParent&&gT(r,u);break}case"dimensions":{typeof f.dimensions<"u"&&(u.width=f.dimensions.width,u.height=f.dimensions.height),typeof f.updateStyle<"u"&&(u.style={...u.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(u.resizing=f.resizing),u.expandParent&&gT(r,u);break}case"remove":return r}return r.push(u),r},n)}function cx(t,e){return ux(t,e)}function bP(t,e){return ux(t,e)}const $s=(t,e)=>({id:t,type:"select",selected:e});function Cl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push($s(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push($s(r.id,!1))),n},[])}const qg=(t,e)=>n=>{n.target===e.current&&t?.(n)},TP=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),fx=F.memo(({isSelecting:t,selectionMode:e=qc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:d,onPaneMouseLeave:g,children:_})=>{const v=F.useRef(null),E=dn(),x=F.useRef(0),R=F.useRef(0),O=F.useRef(),{userSelectionActive:M,elementsSelectable:q,dragging:$}=kt(TP,En),j=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,R.current=0},X=A=>{a?.(A),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},H=A=>{if(Array.isArray(n)&&n?.includes(2)){A.preventDefault();return}u?.(A)},P=f?A=>f(A):void 0,C=A=>{const{resetSelectedElements:k,domNode:G}=E.getState();if(O.current=G?.getBoundingClientRect(),!q||!t||A.button!==0||A.target!==v.current||!O.current)return;const{x:V,y:K}=Js(A,O.current);k(),E.setState({userSelectionRect:{width:0,height:0,startX:V,startY:K,x:V,y:K}}),r?.(A)},I=A=>{const{userSelectionRect:k,nodeInternals:G,edges:V,transform:K,onNodesChange:J,onEdgesChange:Z,nodeOrigin:b,getNodes:Q}=E.getState();if(!t||!O.current||!k)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const ne=Js(A,O.current),N=k.startX??0,le=k.startY??0,ve={...k,x:ne.x<N?ne.x:N,y:ne.y<le?ne.y:le,width:Math.abs(ne.x-N),height:Math.abs(ne.y-le)},_e=Q(),Ce=$A(G,ve,K,e===qc.Partial,!0,b),be=GA(Ce,V).map(Oe=>Oe.id),De=Ce.map(Oe=>Oe.id);if(x.current!==De.length){x.current=De.length;const Oe=Cl(_e,De);Oe.length&&J?.(Oe)}if(R.current!==be.length){R.current=be.length;const Oe=Cl(V,be);Oe.length&&Z?.(Oe)}E.setState({userSelectionRect:ve})},z=A=>{if(A.button!==0)return;const{userSelectionRect:k}=E.getState();!M&&k&&A.target===v.current&&X?.(A),E.setState({nodesSelectionActive:x.current>0}),j(),s?.(A)},L=A=>{M&&(E.setState({nodesSelectionActive:x.current>0}),s?.(A)),j()},B=q&&(t||M);return ce.createElement("div",{className:kn(["react-flow__pane",{dragging:$,selection:t}]),onClick:B?void 0:qg(X,v),onContextMenu:qg(H,v),onWheel:qg(P,v),onMouseEnter:B?void 0:h,onMouseDown:B?C:void 0,onMouseMove:B?I:d,onMouseUp:B?z:void 0,onMouseLeave:B?L:g,ref:v,style:X_},_,ce.createElement(wP,null))});fx.displayName="Pane";function hx(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:hx(r,e):!1}function yT(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function SP(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!hx(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function AP(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function dx(t,e,n,r,s=[0,0],a){const u=AP(t,t.extent||r);let f=u;const h=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(h&&t.width&&t.height){const _=n.get(h),{x:v,y:E}=ia(_,s).positionAbsolute;f=_&&zr(v)&&zr(E)&&zr(_.width)&&zr(_.height)?[[v+t.width*s[0],E+t.height*s[1]],[v+_.width-t.width+t.width*s[0],E+_.height-t.height+t.height*s[1]]]:f}else a?.("005",ls.error005()),f=u;else if(t.extent&&h&&t.extent!=="parent"){const _=n.get(h),{x:v,y:E}=ia(_,s).positionAbsolute;f=[[t.extent[0][0]+v,t.extent[0][1]+E],[t.extent[1][0]+v,t.extent[1][1]+E]]}let d={x:0,y:0};if(h){const _=n.get(h);d=ia(_,s).positionAbsolute}const g=f&&f!=="parent"?F_(e,f):e;return{position:{x:g.x-d.x,y:g.y-d.y},positionAbsolute:g}}function $g({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const _T=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),u=e.getBoundingClientRect(),f={x:u.width*r[0],y:u.height*r[1]};return a.map(h=>{const d=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(d.left-u.left-f.x)/n,y:(d.top-u.top-f.y)/n,...H_(h)}})};function pc(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function jy({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:u,nodeInternals:f,onError:h}=e.getState(),d=f.get(t);if(!d){h?.("012",ls.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&u)&&(a({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function xP(){const t=dn();return F.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,f=n.touches?n.touches[0].clientY:n.clientY,h={x:(u-r[0])/r[2],y:(f-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(h.x/s[0]):h.x,ySnapped:a?s[1]*Math.round(h.y/s[1]):h.y,...h}},[])}function Gg(t){return(e,n,r)=>t?.(e,r)}function px({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:u}){const f=dn(),[h,d]=F.useState(!1),g=F.useRef([]),_=F.useRef({x:null,y:null}),v=F.useRef(0),E=F.useRef(null),x=F.useRef({x:0,y:0}),R=F.useRef(null),O=F.useRef(!1),M=F.useRef(!1),q=F.useRef(!1),$=xP();return F.useEffect(()=>{if(t?.current){const j=Lr(t.current),X=({x:C,y:I})=>{const{nodeInternals:z,onNodeDrag:L,onSelectionDrag:B,updateNodePositions:A,nodeExtent:k,snapGrid:G,snapToGrid:V,nodeOrigin:K,onError:J}=f.getState();_.current={x:C,y:I};let Z=!1,b={x:0,y:0,x2:0,y2:0};if(g.current.length>1&&k){const ne=ip(g.current,K);b=jc(ne)}if(g.current=g.current.map(ne=>{const N={x:C-ne.distance.x,y:I-ne.distance.y};V&&(N.x=G[0]*Math.round(N.x/G[0]),N.y=G[1]*Math.round(N.y/G[1]));const le=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];g.current.length>1&&k&&!ne.extent&&(le[0][0]=ne.positionAbsolute.x-b.x+k[0][0],le[1][0]=ne.positionAbsolute.x+(ne.width??0)-b.x2+k[1][0],le[0][1]=ne.positionAbsolute.y-b.y+k[0][1],le[1][1]=ne.positionAbsolute.y+(ne.height??0)-b.y2+k[1][1]);const ve=dx(ne,N,z,le,K,J);return Z=Z||ne.position.x!==ve.position.x||ne.position.y!==ve.position.y,ne.position=ve.position,ne.positionAbsolute=ve.positionAbsolute,ne}),!Z)return;A(g.current,!0,!0),d(!0);const Q=s?L:Gg(B);if(Q&&R.current){const[ne,N]=$g({nodeId:s,dragItems:g.current,nodeInternals:z});Q(R.current,ne,N)}},H=()=>{if(!E.current)return;const[C,I]=MA(x.current,E.current);if(C!==0||I!==0){const{transform:z,panBy:L}=f.getState();_.current.x=(_.current.x??0)-C/z[2],_.current.y=(_.current.y??0)-I/z[2],L({x:C,y:I})&&X(_.current)}v.current=requestAnimationFrame(H)},P=C=>{const{nodeInternals:I,multiSelectionActive:z,nodesDraggable:L,unselectNodesAndEdges:B,onNodeDragStart:A,onSelectionDragStart:k}=f.getState();M.current=!0;const G=s?A:Gg(k);(!u||!a)&&!z&&s&&(I.get(s)?.selected||B()),s&&a&&u&&jy({id:s,store:f,nodeRef:t});const V=$(C);if(_.current=V,g.current=SP(I,L,V,s),G&&g.current){const[K,J]=$g({nodeId:s,dragItems:g.current,nodeInternals:I});G(C.sourceEvent,K,J)}};if(e)j.on(".drag",null);else{const C=VD().on("start",I=>{const{domNode:z,nodeDragThreshold:L}=f.getState();L===0&&P(I),q.current=!1;const B=$(I);_.current=B,E.current=z?.getBoundingClientRect()||null,x.current=Js(I.sourceEvent,E.current)}).on("drag",I=>{const z=$(I),{autoPanOnNodeDrag:L,nodeDragThreshold:B}=f.getState();if(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1&&(q.current=!0),!q.current){if(!O.current&&M.current&&L&&(O.current=!0,H()),!M.current){const A=z.xSnapped-(_?.current?.x??0),k=z.ySnapped-(_?.current?.y??0);Math.sqrt(A*A+k*k)>B&&P(I)}(_.current.x!==z.xSnapped||_.current.y!==z.ySnapped)&&g.current&&M.current&&(R.current=I.sourceEvent,x.current=Js(I.sourceEvent,E.current),X(z))}}).on("end",I=>{if(!(!M.current||q.current)&&(d(!1),O.current=!1,M.current=!1,cancelAnimationFrame(v.current),g.current)){const{updateNodePositions:z,nodeInternals:L,onNodeDragStop:B,onSelectionDragStop:A}=f.getState(),k=s?B:Gg(A);if(z(g.current,!1,!1),k){const[G,V]=$g({nodeId:s,dragItems:g.current,nodeInternals:L});k(I.sourceEvent,G,V)}}}).filter(I=>{const z=I.target;return!I.button&&(!n||!yT(z,`.${n}`,t))&&(!r||yT(z,r,t))});return j.call(C),()=>{j.on(".drag",null)}}}},[t,e,n,r,a,f,s,u,$]),h}function mx(){const t=dn();return F.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:u,snapToGrid:f,snapGrid:h,onError:d,nodesDraggable:g}=t.getState(),_=u().filter(q=>q.selected&&(q.draggable||g&&typeof q.draggable>"u")),v=f?h[0]:5,E=f?h[1]:5,x=n.isShiftPressed?4:1,R=n.x*v*x,O=n.y*E*x,M=_.map(q=>{if(q.positionAbsolute){const $={x:q.positionAbsolute.x+R,y:q.positionAbsolute.y+O};f&&($.x=h[0]*Math.round($.x/h[0]),$.y=h[1]*Math.round($.y/h[1]));const{positionAbsolute:j,position:X}=dx(q,$,r,s,void 0,d);q.position=X,q.positionAbsolute=j}return q});a(M,!0,!1)},[])}const kl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var mc=t=>{const e=({id:n,type:r,data:s,xPos:a,yPos:u,xPosOrigin:f,yPosOrigin:h,selected:d,onClick:g,onMouseEnter:_,onMouseMove:v,onMouseLeave:E,onContextMenu:x,onDoubleClick:R,style:O,className:M,isDraggable:q,isSelectable:$,isConnectable:j,isFocusable:X,selectNodesOnDrag:H,sourcePosition:P,targetPosition:C,hidden:I,resizeObserver:z,dragHandle:L,zIndex:B,isParent:A,noDragClassName:k,noPanClassName:G,initialized:V,disableKeyboardA11y:K,ariaLabel:J,rfId:Z,hasHandleBounds:b})=>{const Q=dn(),ne=F.useRef(null),N=F.useRef(null),le=F.useRef(P),ve=F.useRef(C),_e=F.useRef(r),Ce=$||q||g||_||v||E,be=mx(),De=pc(n,Q.getState,_),Oe=pc(n,Q.getState,v),Ze=pc(n,Q.getState,E),tt=pc(n,Q.getState,x),ft=pc(n,Q.getState,R),lt=Le=>{const{nodeDragThreshold:Re}=Q.getState();if($&&(!H||!q||Re>0)&&jy({id:n,store:Q,nodeRef:ne}),g){const At=Q.getState().nodeInternals.get(n);At&&g(Le,{...At})}},Me=Le=>{if(!Uy(Le)&&!K)if(UA.includes(Le.key)&&$){const Re=Le.key==="Escape";jy({id:n,store:Q,unselect:Re,nodeRef:ne})}else q&&d&&Object.prototype.hasOwnProperty.call(kl,Le.key)&&(Q.setState({ariaLiveMessage:`Moved selected node ${Le.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~u}`}),be({x:kl[Le.key].x,y:kl[Le.key].y,isShiftPressed:Le.shiftKey}))};F.useEffect(()=>()=>{N.current&&(z?.unobserve(N.current),N.current=null)},[]),F.useEffect(()=>{if(ne.current&&!I){const Le=ne.current;(!V||!b||N.current!==Le)&&(N.current&&z?.unobserve(N.current),z?.observe(Le),N.current=Le)}},[I,V,b]),F.useEffect(()=>{const Le=_e.current!==r,Re=le.current!==P,At=ve.current!==C;ne.current&&(Le||Re||At)&&(Le&&(_e.current=r),Re&&(le.current=P),At&&(ve.current=C),Q.getState().updateNodeDimensions([{id:n,nodeElement:ne.current,forceUpdate:!0}]))},[n,r,P,C]);const St=px({nodeRef:ne,disabled:I||!q,noDragClassName:k,handleSelector:L,nodeId:n,isSelectable:$,selectNodesOnDrag:H});return I?null:ce.createElement("div",{className:kn(["react-flow__node",`react-flow__node-${r}`,{[G]:q},M,{selected:d,selectable:$,parent:A,dragging:St}]),ref:ne,style:{zIndex:B,transform:`translate(${f}px,${h}px)`,pointerEvents:Ce?"all":"none",visibility:V?"visible":"hidden",...O},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:De,onMouseMove:Oe,onMouseLeave:Ze,onContextMenu:tt,onClick:lt,onDoubleClick:ft,onKeyDown:X?Me:void 0,tabIndex:X?0:void 0,role:X?"button":void 0,"aria-describedby":K?void 0:`${ix}-${Z}`,"aria-label":J},ce.createElement(BM,{value:n},ce.createElement(t,{id:n,data:s,type:r,xPos:a,yPos:u,selected:d,isConnectable:j,sourcePosition:P,targetPosition:C,dragging:St,dragHandle:L,zIndex:B})))};return e.displayName="NodeWrapper",F.memo(e)};const CP=t=>{const e=t.getNodes().filter(n=>n.selected);return{...ip(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function RP({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=dn(),{width:s,height:a,x:u,y:f,transformString:h,userSelectionActive:d}=kt(CP,En),g=mx(),_=F.useRef(null);if(F.useEffect(()=>{n||_.current?.focus({preventScroll:!0})},[n]),px({nodeRef:_}),d||!s||!a)return null;const v=t?x=>{const R=r.getState().getNodes().filter(O=>O.selected);t(x,R)}:void 0,E=x=>{Object.prototype.hasOwnProperty.call(kl,x.key)&&g({x:kl[x.key].x,y:kl[x.key].y,isShiftPressed:x.shiftKey})};return ce.createElement("div",{className:kn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:h}},ce.createElement("div",{ref:_,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:n?void 0:-1,onKeyDown:n?void 0:E,style:{width:s,height:a,top:f,left:u}}))}var IP=F.memo(RP);const NP=t=>t.nodesSelectionActive,gx=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,deleteKeyCode:f,onMove:h,onMoveStart:d,onMoveEnd:g,selectionKeyCode:_,selectionOnDrag:v,selectionMode:E,onSelectionStart:x,onSelectionEnd:R,multiSelectionKeyCode:O,panActivationKeyCode:M,zoomActivationKeyCode:q,elementsSelectable:$,zoomOnScroll:j,zoomOnPinch:X,panOnScroll:H,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:z,defaultViewport:L,translateExtent:B,minZoom:A,maxZoom:k,preventScrolling:G,onSelectionContextMenu:V,noWheelClassName:K,noPanClassName:J,disableKeyboardA11y:Z})=>{const b=kt(NP),Q=Gc(_),ne=Gc(M),N=ne||z,le=ne||H,ve=Q||v&&N!==!0;return mP({deleteKeyCode:f,multiSelectionKeyCode:O}),ce.createElement(vP,{onMove:h,onMoveStart:d,onMoveEnd:g,onPaneContextMenu:a,elementsSelectable:$,zoomOnScroll:j,zoomOnPinch:X,panOnScroll:le,panOnScrollSpeed:P,panOnScrollMode:C,zoomOnDoubleClick:I,panOnDrag:!Q&&N,defaultViewport:L,translateExtent:B,minZoom:A,maxZoom:k,zoomActivationKeyCode:q,preventScrolling:G,noWheelClassName:K,noPanClassName:J},ce.createElement(fx,{onSelectionStart:x,onSelectionEnd:R,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:N,isSelecting:!!ve,selectionMode:E},t,b&&ce.createElement(IP,{onSelectionContextMenu:V,noPanClassName:J,disableKeyboardA11y:Z})))};gx.displayName="FlowRenderer";var kP=F.memo(gx);function DP(t){return kt(F.useCallback(n=>t?$A(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function OP(t){const e={input:mc(t.input||ex),default:mc(t.default||Fy),output:mc(t.output||nx),group:mc(t.group||K_)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=mc(t[a]||Fy),s),n);return{...e,...r}}const MP=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},PP=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),yx=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:u}=kt(PP,En),f=DP(t.onlyRenderVisibleElements),h=F.useRef(),d=F.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const g=new ResizeObserver(_=>{const v=_.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));a(v)});return h.current=g,g},[]);return F.useEffect(()=>()=>{h?.current?.disconnect()},[]),ce.createElement("div",{className:"react-flow__nodes",style:X_},f.map(g=>{let _=g.type||"default";t.nodeTypes[_]||(u?.("003",ls.error003(_)),_="default");const v=t.nodeTypes[_]||t.nodeTypes.default,E=!!(g.draggable||e&&typeof g.draggable>"u"),x=!!(g.selectable||s&&typeof g.selectable>"u"),R=!!(g.connectable||n&&typeof g.connectable>"u"),O=!!(g.focusable||r&&typeof g.focusable>"u"),M=t.nodeExtent?F_(g.positionAbsolute,t.nodeExtent):g.positionAbsolute,q=M?.x??0,$=M?.y??0,j=MP({x:q,y:$,width:g.width??0,height:g.height??0,origin:t.nodeOrigin});return ce.createElement(v,{key:g.id,id:g.id,className:g.className,style:g.style,type:_,data:g.data,sourcePosition:g.sourcePosition||ke.Bottom,targetPosition:g.targetPosition||ke.Top,hidden:g.hidden,xPos:q,yPos:$,xPosOrigin:j.x,yPosOrigin:j.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!g.selected,isDraggable:E,isSelectable:x,isConnectable:R,isFocusable:O,resizeObserver:d,dragHandle:g.dragHandle,zIndex:g[qt]?.z??0,isParent:!!g[qt]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!g.width&&!!g.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:g.ariaLabel,hasHandleBounds:!!g[qt]?.handleBounds})}))};yx.displayName="NodeRenderer";var VP=F.memo(yx);const LP=(t,e,n)=>n===ke.Left?t-e:n===ke.Right?t+e:t,UP=(t,e,n)=>n===ke.Top?t-e:n===ke.Bottom?t+e:t,vT="react-flow__edgeupdater",ET=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:u,type:f})=>ce.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:u,className:kn([vT,`${vT}-${f}`]),cx:LP(e,r,t),cy:UP(n,r,t),r,stroke:"transparent",fill:"transparent"}),zP=()=>!0;var pl=t=>{const e=({id:n,className:r,type:s,data:a,onClick:u,onEdgeDoubleClick:f,selected:h,animated:d,label:g,labelStyle:_,labelShowBg:v,labelBgStyle:E,labelBgPadding:x,labelBgBorderRadius:R,style:O,source:M,target:q,sourceX:$,sourceY:j,targetX:X,targetY:H,sourcePosition:P,targetPosition:C,elementsSelectable:I,hidden:z,sourceHandleId:L,targetHandleId:B,onContextMenu:A,onMouseEnter:k,onMouseMove:G,onMouseLeave:V,reconnectRadius:K,onReconnect:J,onReconnectStart:Z,onReconnectEnd:b,markerEnd:Q,markerStart:ne,rfId:N,ariaLabel:le,isFocusable:ve,isReconnectable:_e,pathOptions:Ce,interactionWidth:be,disableKeyboardA11y:De})=>{const Oe=F.useRef(null),[Ze,tt]=F.useState(!1),[ft,lt]=F.useState(!1),Me=dn(),St=F.useMemo(()=>`url('#${By(ne,N)}')`,[ne,N]),Le=F.useMemo(()=>`url('#${By(Q,N)}')`,[Q,N]);if(z)return null;const Re=ut=>{const{edges:xt,addSelectedEdges:Dt,unselectNodesAndEdges:Gt,multiSelectionActive:Pt}=Me.getState(),ht=xt.find(Bt=>Bt.id===n);ht&&(I&&(Me.setState({nodesSelectionActive:!1}),ht.selected&&Pt?(Gt({nodes:[],edges:[ht]}),Oe.current?.blur()):Dt([n])),u&&u(ut,ht))},At=dc(n,Me.getState,f),$t=dc(n,Me.getState,A),wn=dc(n,Me.getState,k),qn=dc(n,Me.getState,G),bn=dc(n,Me.getState,V),Wt=(ut,xt)=>{if(ut.button!==0)return;const{edges:Dt,isValidConnection:Gt}=Me.getState(),Pt=xt?q:M,ht=(xt?B:L)||null,Bt=xt?"target":"source",sn=Gt||zP,Di=xt,Hr=Dt.find(nr=>nr.id===n);lt(!0),Z?.(ut,Hr,Bt);const tr=nr=>{lt(!1),b?.(nr,Hr,Bt)};QA({event:ut,handleId:ht,nodeId:Pt,onConnect:nr=>J?.(Hr,nr),isTarget:Di,getState:Me.getState,setState:Me.setState,isValidConnection:sn,edgeUpdaterType:Bt,onReconnectEnd:tr})},zn=ut=>Wt(ut,!0),ee=ut=>Wt(ut,!1),he=()=>tt(!0),Ae=()=>tt(!1),Ie=!I&&!u,Xe=ut=>{if(!De&&UA.includes(ut.key)&&I){const{unselectNodesAndEdges:xt,addSelectedEdges:Dt,edges:Gt}=Me.getState();ut.key==="Escape"?(Oe.current?.blur(),xt({edges:[Gt.find(ht=>ht.id===n)]})):Dt([n])}};return ce.createElement("g",{className:kn(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:h,animated:d,inactive:Ie,updating:Ze}]),onClick:Re,onDoubleClick:At,onContextMenu:$t,onMouseEnter:wn,onMouseMove:qn,onMouseLeave:bn,onKeyDown:ve?Xe:void 0,tabIndex:ve?0:void 0,role:ve?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":le===null?void 0:le||`Edge from ${M} to ${q}`,"aria-describedby":ve?`${sx}-${N}`:void 0,ref:Oe},!ft&&ce.createElement(t,{id:n,source:M,target:q,selected:h,animated:d,label:g,labelStyle:_,labelShowBg:v,labelBgStyle:E,labelBgPadding:x,labelBgBorderRadius:R,data:a,style:O,sourceX:$,sourceY:j,targetX:X,targetY:H,sourcePosition:P,targetPosition:C,sourceHandleId:L,targetHandleId:B,markerStart:St,markerEnd:Le,pathOptions:Ce,interactionWidth:be}),_e&&ce.createElement(ce.Fragment,null,(_e==="source"||_e===!0)&&ce.createElement(ET,{position:P,centerX:$,centerY:j,radius:K,onMouseDown:zn,onMouseEnter:he,onMouseOut:Ae,type:"source"}),(_e==="target"||_e===!0)&&ce.createElement(ET,{position:C,centerX:X,centerY:H,radius:K,onMouseDown:ee,onMouseEnter:he,onMouseOut:Ae,type:"target"})))};return e.displayName="EdgeWrapper",F.memo(e)};function BP(t){const e={default:pl(t.default||Rd),straight:pl(t.bezier||$_),step:pl(t.step||q_),smoothstep:pl(t.step||rp),simplebezier:pl(t.simplebezier||j_)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=pl(t[a]||Rd),s),n);return{...e,...r}}function wT(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,a=n?.width||e.width,u=n?.height||e.height;switch(t){case ke.Top:return{x:r+a/2,y:s};case ke.Right:return{x:r+a,y:s+u/2};case ke.Bottom:return{x:r+a/2,y:s+u};case ke.Left:return{x:r,y:s+u/2}}}function bT(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const HP=(t,e,n,r,s,a)=>{const u=wT(n,t,e),f=wT(a,r,s);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y}};function FP({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:u,height:f,transform:h}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+a)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const g=jc({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:u/h[2],height:f/h[2]}),_=Math.max(0,Math.min(g.x2,d.x2)-Math.max(g.x,d.x)),v=Math.max(0,Math.min(g.y2,d.y2)-Math.max(g.y,d.y));return Math.ceil(_*v)>0}function TT(t){const e=t?.[qt]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const jP=[{level:0,isMaxLevel:!0,edges:[]}];function qP(t,e,n=!1){let r=-1;const s=t.reduce((u,f)=>{const h=zr(f.zIndex);let d=h?f.zIndex:0;if(n){const g=e.get(f.target),_=e.get(f.source),v=f.selected||g?.selected||_?.selected,E=Math.max(_?.[qt]?.z||0,g?.[qt]?.z||0,1e3);d=(h?f.zIndex:0)+(v?E:0)}return u[d]?u[d].push(f):u[d]=[f],r=d>r?d:r,u},{}),a=Object.entries(s).map(([u,f])=>{const h=+u;return{edges:f,level:h,isMaxLevel:h===r}});return a.length===0?jP:a}function $P(t,e,n){const r=kt(F.useCallback(s=>t?s.edges.filter(a=>{const u=e.get(a.source),f=e.get(a.target);return u?.width&&u?.height&&f?.width&&f?.height&&FP({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:f.width,targetHeight:f.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return qP(r,e,n)}const GP=({color:t="none",strokeWidth:e=1})=>ce.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),YP=({color:t="none",strokeWidth:e=1})=>ce.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),ST={[$c.Arrow]:GP,[$c.ArrowClosed]:YP};function KP(t){const e=dn();return F.useMemo(()=>Object.prototype.hasOwnProperty.call(ST,t)?ST[t]:(e.getState().onError?.("009",ls.error009(t)),null),[t])}const XP=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:f="auto-start-reverse"})=>{const h=KP(e);return h?ce.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:f,refX:"0",refY:"0"},ce.createElement(h,{color:n,strokeWidth:u})):null},QP=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const f=By(u,e);r.includes(f)||(s.push({id:f,color:u.color||t,...u}),r.push(f))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},_x=({defaultColor:t,rfId:e})=>{const n=kt(F.useCallback(QP({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((a,u)=>a.id!==s[u].id)));return ce.createElement("defs",null,n.map(r=>ce.createElement(XP,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};_x.displayName="MarkerDefinitions";var WP=F.memo(_x);const ZP=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),vx=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:u,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:d,onEdgeClick:g,onEdgeDoubleClick:_,onReconnect:v,onReconnectStart:E,onReconnectEnd:x,reconnectRadius:R,children:O,disableKeyboardA11y:M})=>{const{edgesFocusable:q,edgesUpdatable:$,elementsSelectable:j,width:X,height:H,connectionMode:P,nodeInternals:C,onError:I}=kt(ZP,En),z=$P(e,C,n);return X?ce.createElement(ce.Fragment,null,z.map(({level:L,edges:B,isMaxLevel:A})=>ce.createElement("svg",{key:L,style:{zIndex:L},width:X,height:H,className:"react-flow__edges react-flow__container"},A&&ce.createElement(WP,{defaultColor:t,rfId:r}),ce.createElement("g",null,B.map(k=>{const[G,V,K]=TT(C.get(k.source)),[J,Z,b]=TT(C.get(k.target));if(!K||!b)return null;let Q=k.type||"default";s[Q]||(I?.("011",ls.error011(Q)),Q="default");const ne=s[Q]||s.default,N=P===oo.Strict?Z.target:(Z.target??[]).concat(Z.source??[]),le=bT(V.source,k.sourceHandle),ve=bT(N,k.targetHandle),_e=le?.position||ke.Bottom,Ce=ve?.position||ke.Top,be=!!(k.focusable||q&&typeof k.focusable>"u"),De=k.reconnectable||k.updatable,Oe=typeof v<"u"&&(De||$&&typeof De>"u");if(!le||!ve)return I?.("008",ls.error008(le,k)),null;const{sourceX:Ze,sourceY:tt,targetX:ft,targetY:lt}=HP(G,le,_e,J,ve,Ce);return ce.createElement(ne,{key:k.id,id:k.id,className:kn([k.className,a]),type:Q,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:Ze,sourceY:tt,targetX:ft,targetY:lt,sourcePosition:_e,targetPosition:Ce,elementsSelectable:j,onContextMenu:u,onMouseEnter:f,onMouseMove:h,onMouseLeave:d,onClick:g,onEdgeDoubleClick:_,onReconnect:v,onReconnectStart:E,onReconnectEnd:x,reconnectRadius:R,rfId:r,ariaLabel:k.ariaLabel,isFocusable:be,isReconnectable:Oe,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:M})})))),O):null};vx.displayName="EdgeRenderer";var JP=F.memo(vx);const e4=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function t4({children:t}){const e=kt(e4);return ce.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function n4(t){const e=uf(),n=F.useRef(!1);F.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const r4={[ke.Left]:ke.Right,[ke.Right]:ke.Left,[ke.Top]:ke.Bottom,[ke.Bottom]:ke.Top},Ex=({nodeId:t,handleType:e,style:n,type:r=Ys.Bezier,CustomComponent:s,connectionStatus:a})=>{const{fromNode:u,handleId:f,toX:h,toY:d,connectionMode:g}=kt(F.useCallback(H=>({fromNode:H.nodeInternals.get(t),handleId:H.connectionHandleId,toX:(H.connectionPosition.x-H.transform[0])/H.transform[2],toY:(H.connectionPosition.y-H.transform[1])/H.transform[2],connectionMode:H.connectionMode}),[t]),En),_=u?.[qt]?.handleBounds;let v=_?.[e];if(g===oo.Loose&&(v=v||_?.[e==="source"?"target":"source"]),!u||!v)return null;const E=f?v.find(H=>H.id===f):v[0],x=E?E.x+E.width/2:(u.width??0)/2,R=E?E.y+E.height/2:u.height??0,O=(u.positionAbsolute?.x??0)+x,M=(u.positionAbsolute?.y??0)+R,q=E?.position,$=q?r4[q]:null;if(!q||!$)return null;if(s)return ce.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:E,fromX:O,fromY:M,toX:h,toY:d,fromPosition:q,toPosition:$,connectionStatus:a});let j="";const X={sourceX:O,sourceY:M,sourcePosition:q,targetX:h,targetY:d,targetPosition:$};return r===Ys.Bezier?[j]=jA(X):r===Ys.Step?[j]=zy({...X,borderRadius:0}):r===Ys.SmoothStep?[j]=zy(X):r===Ys.SimpleBezier?[j]=FA(X):j=`M${O},${M} ${h},${d}`,ce.createElement("path",{d:j,fill:"none",className:"react-flow__connection-path",style:n})};Ex.displayName="ConnectionLine";const i4=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function s4({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:u,width:f,height:h,connectionStatus:d}=kt(i4,En);return!(s&&a&&f&&u)?null:ce.createElement("svg",{style:t,width:f,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},ce.createElement("g",{className:kn(["react-flow__connection",d])},ce.createElement(Ex,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function AT(t,e){return F.useRef(null),dn(),F.useMemo(()=>e(t),[t])}const wx=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:u,onEdgeClick:f,onNodeDoubleClick:h,onEdgeDoubleClick:d,onNodeMouseEnter:g,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:E,onSelectionContextMenu:x,onSelectionStart:R,onSelectionEnd:O,connectionLineType:M,connectionLineStyle:q,connectionLineComponent:$,connectionLineContainerStyle:j,selectionKeyCode:X,selectionOnDrag:H,selectionMode:P,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:z,deleteKeyCode:L,onlyRenderVisibleElements:B,elementsSelectable:A,selectNodesOnDrag:k,defaultViewport:G,translateExtent:V,minZoom:K,maxZoom:J,preventScrolling:Z,defaultMarkerColor:b,zoomOnScroll:Q,zoomOnPinch:ne,panOnScroll:N,panOnScrollSpeed:le,panOnScrollMode:ve,zoomOnDoubleClick:_e,panOnDrag:Ce,onPaneClick:be,onPaneMouseEnter:De,onPaneMouseMove:Oe,onPaneMouseLeave:Ze,onPaneScroll:tt,onPaneContextMenu:ft,onEdgeContextMenu:lt,onEdgeMouseEnter:Me,onEdgeMouseMove:St,onEdgeMouseLeave:Le,onReconnect:Re,onReconnectStart:At,onReconnectEnd:$t,reconnectRadius:wn,noDragClassName:qn,noWheelClassName:bn,noPanClassName:Wt,elevateEdgesOnSelect:zn,disableKeyboardA11y:ee,nodeOrigin:he,nodeExtent:Ae,rfId:Ie})=>{const Xe=AT(t,OP),ut=AT(e,BP);return n4(a),ce.createElement(kP,{onPaneClick:be,onPaneMouseEnter:De,onPaneMouseMove:Oe,onPaneMouseLeave:Ze,onPaneContextMenu:ft,onPaneScroll:tt,deleteKeyCode:L,selectionKeyCode:X,selectionOnDrag:H,selectionMode:P,onSelectionStart:R,onSelectionEnd:O,multiSelectionKeyCode:C,panActivationKeyCode:I,zoomActivationKeyCode:z,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:Q,zoomOnPinch:ne,zoomOnDoubleClick:_e,panOnScroll:N,panOnScrollSpeed:le,panOnScrollMode:ve,panOnDrag:Ce,defaultViewport:G,translateExtent:V,minZoom:K,maxZoom:J,onSelectionContextMenu:x,preventScrolling:Z,noDragClassName:qn,noWheelClassName:bn,noPanClassName:Wt,disableKeyboardA11y:ee},ce.createElement(t4,null,ce.createElement(JP,{edgeTypes:ut,onEdgeClick:f,onEdgeDoubleClick:d,onlyRenderVisibleElements:B,onEdgeContextMenu:lt,onEdgeMouseEnter:Me,onEdgeMouseMove:St,onEdgeMouseLeave:Le,onReconnect:Re,onReconnectStart:At,onReconnectEnd:$t,reconnectRadius:wn,defaultMarkerColor:b,noPanClassName:Wt,elevateEdgesOnSelect:!!zn,disableKeyboardA11y:ee,rfId:Ie},ce.createElement(s4,{style:q,type:M,component:$,containerStyle:j})),ce.createElement("div",{className:"react-flow__edgelabel-renderer"}),ce.createElement(VP,{nodeTypes:Xe,onNodeClick:u,onNodeDoubleClick:h,onNodeMouseEnter:g,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:E,selectNodesOnDrag:k,onlyRenderVisibleElements:B,noPanClassName:Wt,noDragClassName:qn,disableKeyboardA11y:ee,nodeOrigin:he,nodeExtent:Ae,rfId:Ie})))};wx.displayName="GraphView";var o4=F.memo(wx);const qy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Hs={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:qy,nodeExtent:qy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:oo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:MM,isValidConnection:void 0},a4=()=>K2((t,e)=>({...Hs,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:jg(n,r,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",u=s?jg(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:u,fitViewOnInitOptions:f,domNode:h,nodeOrigin:d}=e(),g=h?.querySelector(".react-flow__viewport");if(!g)return;const _=window.getComputedStyle(g),{m22:v}=new window.DOMMatrixReadOnly(_.transform),E=n.reduce((R,O)=>{const M=s.get(O.id);if(M?.hidden)s.set(M.id,{...M,[qt]:{...M[qt],handleBounds:void 0}});else if(M){const q=H_(O.nodeElement);!!(q.width&&q.height&&(M.width!==q.width||M.height!==q.height||O.forceUpdate))&&(s.set(M.id,{...M,[qt]:{...M[qt],handleBounds:{source:_T(".source",O.nodeElement,v,d),target:_T(".target",O.nodeElement,v,d)}},...q}),R.push({id:M.id,type:"dimensions",dimensions:q}))}return R},[]);ax(s,d);const x=u||a&&!u&&lx(e,{initial:!0,...f});t({nodeInternals:new Map(s),fitViewOnInitDone:x}),E?.length>0&&r?.(E)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),u=n.map(f=>{const h={id:f.id,type:"position",dragging:s};return r&&(h.positionAbsolute=f.positionAbsolute,h.position=f.position),h});a(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:u,getNodes:f,elevateNodesOnSelect:h}=e();if(n?.length){if(a){const d=cx(n,f()),g=jg(d,s,u,h);t({nodeInternals:g})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,f=null;r?u=n.map(h=>$s(h,!0)):(u=Cl(a(),n),f=Cl(s,[])),Gh({changedNodes:u,changedEdges:f,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,f=null;r?u=n.map(h=>$s(h,!0)):(u=Cl(s,n),f=Cl(a(),[])),Gh({changedNodes:f,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=e(),u=n||a(),f=r||s,h=u.map(g=>(g.selected=!1,$s(g.id,!1))),d=f.map(g=>$s(g.id,!1));Gh({changedNodes:h,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(f=>f.selected).map(f=>$s(f.id,!1)),u=n.filter(f=>f.selected).map(f=>$s(f.id,!1));Gh({changedNodes:a,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=F_(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:u,d3Selection:f,translateExtent:h}=e();if(!u||!f||!n.x&&!n.y)return!1;const d=ss.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),g=[[0,0],[s,a]],_=u?.constrain()(d,g,h);return u.transform(f,_),r[0]!==_.x||r[1]!==_.y||r[2]!==_.k},cancelConnection:()=>t({connectionNodeId:Hs.connectionNodeId,connectionHandleId:Hs.connectionHandleId,connectionHandleType:Hs.connectionHandleType,connectionStatus:Hs.connectionStatus,connectionStartHandle:Hs.connectionStartHandle,connectionEndHandle:Hs.connectionEndHandle}),reset:()=>t({...Hs})}),Object.is),bx=({children:t})=>{const e=F.useRef(null);return e.current||(e.current=a4()),ce.createElement(CM,{value:e.current},t)};bx.displayName="ReactFlowProvider";const Tx=({children:t})=>F.useContext(np)?ce.createElement(ce.Fragment,null,t):ce.createElement(bx,null,t);Tx.displayName="ReactFlowWrapper";const l4={input:ex,default:Fy,output:nx,group:K_},u4={default:Rd,straight:$_,step:q_,smoothstep:rp,simplebezier:j_},c4=[0,0],f4=[15,15],h4={x:0,y:0,zoom:1},d4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Sx=F.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=l4,edgeTypes:u=u4,onNodeClick:f,onEdgeClick:h,onInit:d,onMove:g,onMoveStart:_,onMoveEnd:v,onConnect:E,onConnectStart:x,onConnectEnd:R,onClickConnectStart:O,onClickConnectEnd:M,onNodeMouseEnter:q,onNodeMouseMove:$,onNodeMouseLeave:j,onNodeContextMenu:X,onNodeDoubleClick:H,onNodeDragStart:P,onNodeDrag:C,onNodeDragStop:I,onNodesDelete:z,onEdgesDelete:L,onSelectionChange:B,onSelectionDragStart:A,onSelectionDrag:k,onSelectionDragStop:G,onSelectionContextMenu:V,onSelectionStart:K,onSelectionEnd:J,connectionMode:Z=oo.Strict,connectionLineType:b=Ys.Bezier,connectionLineStyle:Q,connectionLineComponent:ne,connectionLineContainerStyle:N,deleteKeyCode:le="Backspace",selectionKeyCode:ve="Shift",selectionOnDrag:_e=!1,selectionMode:Ce=qc.Full,panActivationKeyCode:be="Space",multiSelectionKeyCode:De=Cd()?"Meta":"Control",zoomActivationKeyCode:Oe=Cd()?"Meta":"Control",snapToGrid:Ze=!1,snapGrid:tt=f4,onlyRenderVisibleElements:ft=!1,selectNodesOnDrag:lt=!0,nodesDraggable:Me,nodesConnectable:St,nodesFocusable:Le,nodeOrigin:Re=c4,edgesFocusable:At,edgesUpdatable:$t,elementsSelectable:wn,defaultViewport:qn=h4,minZoom:bn=.5,maxZoom:Wt=2,translateExtent:zn=qy,preventScrolling:ee=!0,nodeExtent:he,defaultMarkerColor:Ae="#b1b1b7",zoomOnScroll:Ie=!0,zoomOnPinch:Xe=!0,panOnScroll:ut=!1,panOnScrollSpeed:xt=.5,panOnScrollMode:Dt=ta.Free,zoomOnDoubleClick:Gt=!0,panOnDrag:Pt=!0,onPaneClick:ht,onPaneMouseEnter:Bt,onPaneMouseMove:sn,onPaneMouseLeave:Di,onPaneScroll:Hr,onPaneContextMenu:tr,children:vr,onEdgeContextMenu:nr,onEdgeDoubleClick:Er,onEdgeMouseEnter:vo,onEdgeMouseMove:ni,onEdgeMouseLeave:ms,onEdgeUpdate:ri,onEdgeUpdateStart:wa,onEdgeUpdateEnd:Ct,onReconnect:Yt,onReconnectStart:Ht,onReconnectEnd:$n,reconnectRadius:Eo=10,edgeUpdaterRadius:cu=10,onNodesChange:ii,onEdgesChange:ba,noDragClassName:Oi="nodrag",noWheelClassName:si="nowheel",noPanClassName:wr="nopan",fitView:br=!1,fitViewOptions:Tr,connectOnClick:Tn=!0,attributionPosition:Lt,proOptions:wo,defaultEdgeOptions:gs,elevateNodesOnSelect:rr=!0,elevateEdgesOnSelect:Fr=!1,disableKeyboardA11y:bo=!1,autoPanOnConnect:Ta=!0,autoPanOnNodeDrag:Mi=!0,connectionRadius:Sa=20,isValidConnection:oi,onError:Sr,style:on,id:ai,nodeDragThreshold:Aa,...jr},ys)=>{const li=ai||"1";return ce.createElement("div",{...jr,style:{...on,...d4},ref:ys,className:kn(["react-flow",s]),"data-testid":"rf__wrapper",id:ai},ce.createElement(Tx,null,ce.createElement(o4,{onInit:d,onMove:g,onMoveStart:_,onMoveEnd:v,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:q,onNodeMouseMove:$,onNodeMouseLeave:j,onNodeContextMenu:X,onNodeDoubleClick:H,nodeTypes:a,edgeTypes:u,connectionLineType:b,connectionLineStyle:Q,connectionLineComponent:ne,connectionLineContainerStyle:N,selectionKeyCode:ve,selectionOnDrag:_e,selectionMode:Ce,deleteKeyCode:le,multiSelectionKeyCode:De,panActivationKeyCode:be,zoomActivationKeyCode:Oe,onlyRenderVisibleElements:ft,selectNodesOnDrag:lt,defaultViewport:qn,translateExtent:zn,minZoom:bn,maxZoom:Wt,preventScrolling:ee,zoomOnScroll:Ie,zoomOnPinch:Xe,zoomOnDoubleClick:Gt,panOnScroll:ut,panOnScrollSpeed:xt,panOnScrollMode:Dt,panOnDrag:Pt,onPaneClick:ht,onPaneMouseEnter:Bt,onPaneMouseMove:sn,onPaneMouseLeave:Di,onPaneScroll:Hr,onPaneContextMenu:tr,onSelectionContextMenu:V,onSelectionStart:K,onSelectionEnd:J,onEdgeContextMenu:nr,onEdgeDoubleClick:Er,onEdgeMouseEnter:vo,onEdgeMouseMove:ni,onEdgeMouseLeave:ms,onReconnect:Yt??ri,onReconnectStart:Ht??wa,onReconnectEnd:$n??Ct,reconnectRadius:Eo??cu,defaultMarkerColor:Ae,noDragClassName:Oi,noWheelClassName:si,noPanClassName:wr,elevateEdgesOnSelect:Fr,rfId:li,disableKeyboardA11y:bo,nodeOrigin:Re,nodeExtent:he}),ce.createElement(rP,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:E,onConnectStart:x,onConnectEnd:R,onClickConnectStart:O,onClickConnectEnd:M,nodesDraggable:Me,nodesConnectable:St,nodesFocusable:Le,edgesFocusable:At,edgesUpdatable:$t,elementsSelectable:wn,elevateNodesOnSelect:rr,minZoom:bn,maxZoom:Wt,nodeExtent:he,onNodesChange:ii,onEdgesChange:ba,snapToGrid:Ze,snapGrid:tt,connectionMode:Z,translateExtent:zn,connectOnClick:Tn,defaultEdgeOptions:gs,fitView:br,fitViewOptions:Tr,onNodesDelete:z,onEdgesDelete:L,onNodeDragStart:P,onNodeDrag:C,onNodeDragStop:I,onSelectionDrag:k,onSelectionDragStart:A,onSelectionDragStop:G,noPanClassName:wr,nodeOrigin:Re,rfId:li,autoPanOnConnect:Ta,autoPanOnNodeDrag:Mi,onError:Sr,connectionRadius:Sa,isValidConnection:oi,nodeDragThreshold:Aa}),ce.createElement(tP,{onSelectionChange:B}),vr,ce.createElement(IM,{proOptions:wo,position:Lt}),ce.createElement(lP,{rfId:li,disableKeyboardA11y:bo})))});Sx.displayName="ReactFlow";function Ax(t){return e=>{const[n,r]=F.useState(e),s=F.useCallback(a=>r(u=>t(a,u)),[]);return[n,r,s]}}const p4=Ax(cx),m4=Ax(bP),xx=({id:t,x:e,y:n,width:r,height:s,style:a,color:u,strokeColor:f,strokeWidth:h,className:d,borderRadius:g,shapeRendering:_,onClick:v,selected:E})=>{const{background:x,backgroundColor:R}=a||{},O=u||x||R;return ce.createElement("rect",{className:kn(["react-flow__minimap-node",{selected:E},d]),x:e,y:n,rx:g,ry:g,width:r,height:s,fill:O,stroke:f,strokeWidth:h,shapeRendering:_,onClick:v?M=>v(M,t):void 0})};xx.displayName="MiniMapNode";var g4=F.memo(xx);const y4=t=>t.nodeOrigin,_4=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Yg=t=>t instanceof Function?t:()=>t;function v4({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:a=g4,onClick:u}){const f=kt(_4,En),h=kt(y4),d=Yg(e),g=Yg(t),_=Yg(n),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ce.createElement(ce.Fragment,null,f.map(E=>{const{x,y:R}=ia(E,h).positionAbsolute;return ce.createElement(a,{key:E.id,x,y:R,width:E.width,height:E.height,style:E.style,selected:E.selected,className:_(E),color:d(E),borderRadius:r,strokeColor:g(E),strokeWidth:s,shapeRendering:v,onClick:u,id:E.id})}))}var E4=F.memo(v4);const w4=200,b4=150,T4=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?DM(ip(e,t.nodeOrigin),n):n,rfId:t.rfId}},S4="react-flow__minimap-desc";function Cx({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:u=2,nodeComponent:f,maskColor:h="rgb(240, 240, 240, 0.6)",maskStrokeColor:d="none",maskStrokeWidth:g=1,position:_="bottom-right",onClick:v,onNodeClick:E,pannable:x=!1,zoomable:R=!1,ariaLabel:O="React Flow mini map",inversePan:M=!1,zoomStep:q=10,offsetScale:$=5}){const j=dn(),X=F.useRef(null),{boundingRect:H,viewBB:P,rfId:C}=kt(T4,En),I=t?.width??w4,z=t?.height??b4,L=H.width/I,B=H.height/z,A=Math.max(L,B),k=A*I,G=A*z,V=$*A,K=H.x-(k-H.width)/2-V,J=H.y-(G-H.height)/2-V,Z=k+V*2,b=G+V*2,Q=`${S4}-${C}`,ne=F.useRef(0);ne.current=A,F.useEffect(()=>{if(X.current){const ve=Lr(X.current),_e=De=>{const{transform:Oe,d3Selection:Ze,d3Zoom:tt}=j.getState();if(De.sourceEvent.type!=="wheel"||!Ze||!tt)return;const ft=-De.sourceEvent.deltaY*(De.sourceEvent.deltaMode===1?.05:De.sourceEvent.deltaMode?1:.002)*q,lt=Oe[2]*Math.pow(2,ft);tt.scaleTo(Ze,lt)},Ce=De=>{const{transform:Oe,d3Selection:Ze,d3Zoom:tt,translateExtent:ft,width:lt,height:Me}=j.getState();if(De.sourceEvent.type!=="mousemove"||!Ze||!tt)return;const St=ne.current*Math.max(1,Oe[2])*(M?-1:1),Le={x:Oe[0]-De.sourceEvent.movementX*St,y:Oe[1]-De.sourceEvent.movementY*St},Re=[[0,0],[lt,Me]],At=ss.translate(Le.x,Le.y).scale(Oe[2]),$t=tt.constrain()(At,Re,ft);tt.transform(Ze,$t)},be=DA().on("zoom",x?Ce:null).on("zoom.wheel",R?_e:null);return ve.call(be),()=>{ve.on("zoom",null)}}},[x,R,M,q]);const N=v?ve=>{const _e=Kr(ve);v(ve,{x:_e[0],y:_e[1]})}:void 0,le=E?(ve,_e)=>{const Ce=j.getState().nodeInternals.get(_e);E(ve,Ce)}:void 0;return ce.createElement(B_,{position:_,style:t,className:kn(["react-flow__minimap",e]),"data-testid":"rf__minimap"},ce.createElement("svg",{width:I,height:z,viewBox:`${K} ${J} ${Z} ${b}`,role:"img","aria-labelledby":Q,ref:X,onClick:N},O&&ce.createElement("title",{id:Q},O),ce.createElement(E4,{onClick:le,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:u,nodeComponent:f}),ce.createElement("path",{className:"react-flow__minimap-mask",d:`M${K-V},${J-V}h${Z+V*2}v${b+V*2}h${-Z-V*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fill:h,fillRule:"evenodd",stroke:d,strokeWidth:g,pointerEvents:"none"})))}Cx.displayName="MiniMap";var A4=F.memo(Cx);function x4(){return ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ce.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function C4(){return ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ce.createElement("path",{d:"M0 0h32v4.2H0z"}))}function R4(){return ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ce.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function I4(){return ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ce.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function N4(){return ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ce.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const bc=({children:t,className:e,...n})=>ce.createElement("button",{type:"button",className:kn(["react-flow__controls-button",e]),...n},t);bc.displayName="ControlButton";const k4=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Rx=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:u,onFitView:f,onInteractiveChange:h,className:d,children:g,position:_="bottom-left"})=>{const v=dn(),[E,x]=F.useState(!1),{isInteractive:R,minZoomReached:O,maxZoomReached:M}=kt(k4,En),{zoomIn:q,zoomOut:$,fitView:j}=uf();if(F.useEffect(()=>{x(!0)},[]),!E)return null;const X=()=>{q(),a?.()},H=()=>{$(),u?.()},P=()=>{j(s),f?.()},C=()=>{v.setState({nodesDraggable:!R,nodesConnectable:!R,elementsSelectable:!R}),h?.(!R)};return ce.createElement(B_,{className:kn(["react-flow__controls",d]),position:_,style:t,"data-testid":"rf__controls"},e&&ce.createElement(ce.Fragment,null,ce.createElement(bc,{onClick:X,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:M},ce.createElement(x4,null)),ce.createElement(bc,{onClick:H,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:O},ce.createElement(C4,null))),n&&ce.createElement(bc,{className:"react-flow__controls-fitview",onClick:P,title:"fit view","aria-label":"fit view"},ce.createElement(R4,null)),r&&ce.createElement(bc,{className:"react-flow__controls-interactive",onClick:C,title:"toggle interactivity","aria-label":"toggle interactivity"},R?ce.createElement(N4,null):ce.createElement(I4,null)),g)};Rx.displayName="Controls";var D4=F.memo(Rx),Br;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Br||(Br={}));function O4({color:t,dimensions:e,lineWidth:n}){return ce.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function M4({color:t,radius:e}){return ce.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const P4={[Br.Dots]:"#91919a",[Br.Lines]:"#eee",[Br.Cross]:"#e2e2e2"},V4={[Br.Dots]:1,[Br.Lines]:1,[Br.Cross]:6},L4=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Ix({id:t,variant:e=Br.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:u,style:f,className:h}){const d=F.useRef(null),{transform:g,patternId:_}=kt(L4,En),v=u||P4[e],E=r||V4[e],x=e===Br.Dots,R=e===Br.Cross,O=Array.isArray(n)?n:[n,n],M=[O[0]*g[2]||1,O[1]*g[2]||1],q=E*g[2],$=R?[q,q]:M,j=x?[q/a,q/a]:[$[0]/a,$[1]/a];return ce.createElement("svg",{className:kn(["react-flow__background",h]),style:{...f,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},ce.createElement("pattern",{id:_+t,x:g[0]%M[0],y:g[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`},x?ce.createElement(M4,{color:v,radius:q/a}):ce.createElement(O4,{dimensions:$,color:v,lineWidth:s})),ce.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_+t})`}))}Ix.displayName="Background";var U4=F.memo(Ix);const z4=()=>{};var xT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},B4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],f=t[n++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,f=u?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,g=a>>2,_=(a&3)<<4|f>>4;let v=(f&15)<<2|d>>6,E=d&63;h||(E=64,u||(v=64)),r.push(n[g],n[_],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],f=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||f==null||d==null||_==null)throw new H4;const v=a<<2|f>>4;if(r.push(v),d!==64){const E=f<<4&240|d>>2;if(r.push(E),_!==64){const x=d<<6&192|_;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F4=function(t){const e=Nx(t);return kx.encodeByteArray(e,!0)},Id=function(t){return F4(t).replace(/\./g,"")},Dx=function(t){try{return kx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=()=>j4().__FIREBASE_DEFAULTS__,$4=()=>{if(typeof process>"u"||typeof xT>"u")return;const t=xT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dx(t[1]);return e&&JSON.parse(e)},sp=()=>{try{return z4()||q4()||$4()||G4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ox=t=>{var e,n;return(n=(e=sp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Y4=t=>{const e=Ox(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Mx=()=>{var t;return(t=sp())===null||t===void 0?void 0:t.config},Px=t=>{var e;return(e=sp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){return t.endsWith(".cloudworkstations.dev")}async function Vx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Id(JSON.stringify(n)),Id(JSON.stringify(u)),""].join(".")}const Ic={};function Q4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ic))Ic[e]?t.emulator.push(e):t.prod.push(e);return t}function W4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CT=!1;function Lx(t,e){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||Ic[t]===e||Ic[t]||CT)return;Ic[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=Q4().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{CT=!0,u()},v}function g(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=W4(r),E=n("text"),x=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),O=document.getElementById(R)||document.createElement("a"),M=n("preprendIcon"),q=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const $=v.element;f($),g(O,R);const j=d();h(q,M),$.append(q,x,O,j),document.body.appendChild($)}a?(x.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function J4(){var t;const e=(t=sp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rV(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iV(){return!J4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sV(){try{return typeof indexedDB=="object"}catch{return!1}}function oV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aV,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cf.prototype.create)}}class cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?lV(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new ds(s,f,r)}}function lV(t,e){return t.replace(uV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const uV=/\{\$([^}]+)}/g;function cV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function la(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(RT(a)&&RT(u)){if(!la(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function RT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Sc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fV(t,e){const n=new hV(t,e);return n.subscribe.bind(n)}class hV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Kg),s.error===void 0&&(s.error=Kg),s.complete===void 0&&(s.complete=Kg);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gV(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mV(t){return t===Qo?void 0:t}function gV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const _V={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},vV=nt.INFO,EV={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},wV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=EV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q_{constructor(e){this.name=e,this._logLevel=vV,this._logHandler=wV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const bV=(t,e)=>e.some(n=>t instanceof n);let IT,NT;function TV(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return NT||(NT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ux=new WeakMap,$y=new WeakMap,zx=new WeakMap,Xg=new WeakMap,W_=new WeakMap;function AV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(eo(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Ux.set(n,t)}).catch(()=>{}),W_.set(e,t),e}function xV(t){if($y.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});$y.set(t,e)}let Gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CV(t){Gy=t(Gy)}function RV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qg(this),e,...n);return zx.set(r,e.sort?e.sort():[e]),eo(r)}:SV().includes(t)?function(...e){return t.apply(Qg(this),e),eo(Ux.get(this))}:function(...e){return eo(t.apply(Qg(this),e))}}function IV(t){return typeof t=="function"?RV(t):(t instanceof IDBTransaction&&xV(t),bV(t,TV())?new Proxy(t,Gy):t)}function eo(t){if(t instanceof IDBRequest)return AV(t);if(Xg.has(t))return Xg.get(t);const e=IV(t);return e!==t&&(Xg.set(t,e),W_.set(e,t)),e}const Qg=t=>W_.get(t);function NV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),f=eo(u);return r&&u.addEventListener("upgradeneeded",h=>{r(eo(u.result),h.oldVersion,h.newVersion,eo(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const kV=["get","getKey","getAll","getAllKeys","count"],DV=["put","add","delete","clear"],Wg=new Map;function kT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wg.get(e))return Wg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=DV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kV.includes(n)))return;const a=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),s&&h.done]))[0]};return Wg.set(e,a),a}CV(t=>({...t,get:(e,n,r)=>kT(e,n)||t.get(e,n,r),has:(e,n)=>!!kT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MV(t){const e=t.getComponent();return e?.type==="VERSION"}const Yy="@firebase/app",DT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Q_("@firebase/app"),PV="@firebase/app-compat",VV="@firebase/analytics-compat",LV="@firebase/analytics",UV="@firebase/app-check-compat",zV="@firebase/app-check",BV="@firebase/auth",HV="@firebase/auth-compat",FV="@firebase/database",jV="@firebase/data-connect",qV="@firebase/database-compat",$V="@firebase/functions",GV="@firebase/functions-compat",YV="@firebase/installations",KV="@firebase/installations-compat",XV="@firebase/messaging",QV="@firebase/messaging-compat",WV="@firebase/performance",ZV="@firebase/performance-compat",JV="@firebase/remote-config",e3="@firebase/remote-config-compat",t3="@firebase/storage",n3="@firebase/storage-compat",r3="@firebase/firestore",i3="@firebase/ai",s3="@firebase/firestore-compat",o3="firebase",a3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="[DEFAULT]",l3={[Yy]:"fire-core",[PV]:"fire-core-compat",[LV]:"fire-analytics",[VV]:"fire-analytics-compat",[zV]:"fire-app-check",[UV]:"fire-app-check-compat",[BV]:"fire-auth",[HV]:"fire-auth-compat",[FV]:"fire-rtdb",[jV]:"fire-data-connect",[qV]:"fire-rtdb-compat",[$V]:"fire-fn",[GV]:"fire-fn-compat",[YV]:"fire-iid",[KV]:"fire-iid-compat",[XV]:"fire-fcm",[QV]:"fire-fcm-compat",[WV]:"fire-perf",[ZV]:"fire-perf-compat",[JV]:"fire-rc",[e3]:"fire-rc-compat",[t3]:"fire-gcs",[n3]:"fire-gcs-compat",[r3]:"fire-fst",[s3]:"fire-fst-compat",[i3]:"fire-vertex","fire-js":"fire-js",[o3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd=new Map,u3=new Map,Xy=new Map;function OT(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jl(t){const e=t.name;if(Xy.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,t);for(const n of Nd.values())OT(n,t);for(const n of u3.values())OT(n,t);return!0}function Z_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new cf("app","Firebase",c3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=a3;function Bx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ky,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw to.create("bad-app-name",{appName:String(s)});if(n||(n=Mx()),!n)throw to.create("no-options");const a=Nd.get(s);if(a){if(la(n,a.options)&&la(r,a.config))return a;throw to.create("duplicate-app",{appName:s})}const u=new yV(s);for(const h of Xy.values())u.addComponent(h);const f=new f3(n,r,u);return Nd.set(s,f),f}function Hx(t=Ky){const e=Nd.get(t);if(!e&&t===Ky&&Mx())return Bx();if(!e)throw to.create("no-app",{appName:t});return e}function no(t,e,n){var r;let s=(r=l3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(f.join(" "));return}jl(new ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebase-heartbeat-database",d3=1,Yc="firebase-heartbeat-store";let Zg=null;function Fx(){return Zg||(Zg=NV(h3,d3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),Zg}async function p3(t){try{const n=(await Fx()).transaction(Yc),r=await n.objectStore(Yc).get(jx(t));return await n.done,r}catch(e){if(e instanceof ds)us.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e?.message});us.warn(n.message)}}}async function MT(t,e){try{const r=(await Fx()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,jx(t)),await r.done}catch(n){if(n instanceof ds)us.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n?.message});us.warn(r.message)}}}function jx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=1024,g3=30;class y3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=PT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>g3){const u=E3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PT(),{heartbeatsToSend:r,unsentEntries:s}=_3(this._heartbeatsCache.heartbeats),a=Id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return us.warn(n),""}}}function PT(){return new Date().toISOString().substring(0,10)}function _3(t,e=m3){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),VT(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),VT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sV()?oV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return MT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function VT(t){return Id(JSON.stringify({version:2,heartbeats:t})).length}function E3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){jl(new ua("platform-logger",e=>new OV(e),"PRIVATE")),jl(new ua("heartbeat",e=>new y3(e),"PRIVATE")),no(Yy,DT,t),no(Yy,DT,"esm2017"),no("fire-js","")}w3("");var b3="firebase",T3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(b3,T3,"app");var LT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ro,qx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function I(){}I.prototype=C.prototype,P.D=C.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(z,L,B){for(var A=Array(arguments.length-2),k=2;k<arguments.length;k++)A[k-2]=arguments[k];return C.prototype[L].apply(z,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,C,I){I||(I=0);var z=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)z[L]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(L=0;16>L;++L)z[L]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=P.g[0],I=P.g[1],L=P.g[2];var B=P.g[3],A=C+(B^I&(L^B))+z[0]+3614090360&4294967295;C=I+(A<<7&4294967295|A>>>25),A=B+(L^C&(I^L))+z[1]+3905402710&4294967295,B=C+(A<<12&4294967295|A>>>20),A=L+(I^B&(C^I))+z[2]+606105819&4294967295,L=B+(A<<17&4294967295|A>>>15),A=I+(C^L&(B^C))+z[3]+3250441966&4294967295,I=L+(A<<22&4294967295|A>>>10),A=C+(B^I&(L^B))+z[4]+4118548399&4294967295,C=I+(A<<7&4294967295|A>>>25),A=B+(L^C&(I^L))+z[5]+1200080426&4294967295,B=C+(A<<12&4294967295|A>>>20),A=L+(I^B&(C^I))+z[6]+2821735955&4294967295,L=B+(A<<17&4294967295|A>>>15),A=I+(C^L&(B^C))+z[7]+4249261313&4294967295,I=L+(A<<22&4294967295|A>>>10),A=C+(B^I&(L^B))+z[8]+1770035416&4294967295,C=I+(A<<7&4294967295|A>>>25),A=B+(L^C&(I^L))+z[9]+2336552879&4294967295,B=C+(A<<12&4294967295|A>>>20),A=L+(I^B&(C^I))+z[10]+4294925233&4294967295,L=B+(A<<17&4294967295|A>>>15),A=I+(C^L&(B^C))+z[11]+2304563134&4294967295,I=L+(A<<22&4294967295|A>>>10),A=C+(B^I&(L^B))+z[12]+1804603682&4294967295,C=I+(A<<7&4294967295|A>>>25),A=B+(L^C&(I^L))+z[13]+4254626195&4294967295,B=C+(A<<12&4294967295|A>>>20),A=L+(I^B&(C^I))+z[14]+2792965006&4294967295,L=B+(A<<17&4294967295|A>>>15),A=I+(C^L&(B^C))+z[15]+1236535329&4294967295,I=L+(A<<22&4294967295|A>>>10),A=C+(L^B&(I^L))+z[1]+4129170786&4294967295,C=I+(A<<5&4294967295|A>>>27),A=B+(I^L&(C^I))+z[6]+3225465664&4294967295,B=C+(A<<9&4294967295|A>>>23),A=L+(C^I&(B^C))+z[11]+643717713&4294967295,L=B+(A<<14&4294967295|A>>>18),A=I+(B^C&(L^B))+z[0]+3921069994&4294967295,I=L+(A<<20&4294967295|A>>>12),A=C+(L^B&(I^L))+z[5]+3593408605&4294967295,C=I+(A<<5&4294967295|A>>>27),A=B+(I^L&(C^I))+z[10]+38016083&4294967295,B=C+(A<<9&4294967295|A>>>23),A=L+(C^I&(B^C))+z[15]+3634488961&4294967295,L=B+(A<<14&4294967295|A>>>18),A=I+(B^C&(L^B))+z[4]+3889429448&4294967295,I=L+(A<<20&4294967295|A>>>12),A=C+(L^B&(I^L))+z[9]+568446438&4294967295,C=I+(A<<5&4294967295|A>>>27),A=B+(I^L&(C^I))+z[14]+3275163606&4294967295,B=C+(A<<9&4294967295|A>>>23),A=L+(C^I&(B^C))+z[3]+4107603335&4294967295,L=B+(A<<14&4294967295|A>>>18),A=I+(B^C&(L^B))+z[8]+1163531501&4294967295,I=L+(A<<20&4294967295|A>>>12),A=C+(L^B&(I^L))+z[13]+2850285829&4294967295,C=I+(A<<5&4294967295|A>>>27),A=B+(I^L&(C^I))+z[2]+4243563512&4294967295,B=C+(A<<9&4294967295|A>>>23),A=L+(C^I&(B^C))+z[7]+1735328473&4294967295,L=B+(A<<14&4294967295|A>>>18),A=I+(B^C&(L^B))+z[12]+2368359562&4294967295,I=L+(A<<20&4294967295|A>>>12),A=C+(I^L^B)+z[5]+4294588738&4294967295,C=I+(A<<4&4294967295|A>>>28),A=B+(C^I^L)+z[8]+2272392833&4294967295,B=C+(A<<11&4294967295|A>>>21),A=L+(B^C^I)+z[11]+1839030562&4294967295,L=B+(A<<16&4294967295|A>>>16),A=I+(L^B^C)+z[14]+4259657740&4294967295,I=L+(A<<23&4294967295|A>>>9),A=C+(I^L^B)+z[1]+2763975236&4294967295,C=I+(A<<4&4294967295|A>>>28),A=B+(C^I^L)+z[4]+1272893353&4294967295,B=C+(A<<11&4294967295|A>>>21),A=L+(B^C^I)+z[7]+4139469664&4294967295,L=B+(A<<16&4294967295|A>>>16),A=I+(L^B^C)+z[10]+3200236656&4294967295,I=L+(A<<23&4294967295|A>>>9),A=C+(I^L^B)+z[13]+681279174&4294967295,C=I+(A<<4&4294967295|A>>>28),A=B+(C^I^L)+z[0]+3936430074&4294967295,B=C+(A<<11&4294967295|A>>>21),A=L+(B^C^I)+z[3]+3572445317&4294967295,L=B+(A<<16&4294967295|A>>>16),A=I+(L^B^C)+z[6]+76029189&4294967295,I=L+(A<<23&4294967295|A>>>9),A=C+(I^L^B)+z[9]+3654602809&4294967295,C=I+(A<<4&4294967295|A>>>28),A=B+(C^I^L)+z[12]+3873151461&4294967295,B=C+(A<<11&4294967295|A>>>21),A=L+(B^C^I)+z[15]+530742520&4294967295,L=B+(A<<16&4294967295|A>>>16),A=I+(L^B^C)+z[2]+3299628645&4294967295,I=L+(A<<23&4294967295|A>>>9),A=C+(L^(I|~B))+z[0]+4096336452&4294967295,C=I+(A<<6&4294967295|A>>>26),A=B+(I^(C|~L))+z[7]+1126891415&4294967295,B=C+(A<<10&4294967295|A>>>22),A=L+(C^(B|~I))+z[14]+2878612391&4294967295,L=B+(A<<15&4294967295|A>>>17),A=I+(B^(L|~C))+z[5]+4237533241&4294967295,I=L+(A<<21&4294967295|A>>>11),A=C+(L^(I|~B))+z[12]+1700485571&4294967295,C=I+(A<<6&4294967295|A>>>26),A=B+(I^(C|~L))+z[3]+2399980690&4294967295,B=C+(A<<10&4294967295|A>>>22),A=L+(C^(B|~I))+z[10]+4293915773&4294967295,L=B+(A<<15&4294967295|A>>>17),A=I+(B^(L|~C))+z[1]+2240044497&4294967295,I=L+(A<<21&4294967295|A>>>11),A=C+(L^(I|~B))+z[8]+1873313359&4294967295,C=I+(A<<6&4294967295|A>>>26),A=B+(I^(C|~L))+z[15]+4264355552&4294967295,B=C+(A<<10&4294967295|A>>>22),A=L+(C^(B|~I))+z[6]+2734768916&4294967295,L=B+(A<<15&4294967295|A>>>17),A=I+(B^(L|~C))+z[13]+1309151649&4294967295,I=L+(A<<21&4294967295|A>>>11),A=C+(L^(I|~B))+z[4]+4149444226&4294967295,C=I+(A<<6&4294967295|A>>>26),A=B+(I^(C|~L))+z[11]+3174756917&4294967295,B=C+(A<<10&4294967295|A>>>22),A=L+(C^(B|~I))+z[2]+718787259&4294967295,L=B+(A<<15&4294967295|A>>>17),A=I+(B^(L|~C))+z[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var I=C-this.blockSize,z=this.B,L=this.h,B=0;B<C;){if(L==0)for(;B<=I;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<C;)if(z[L++]=P.charCodeAt(B++),L==this.blockSize){s(this,z),L=0;break}}else for(;B<C;)if(z[L++]=P[B++],L==this.blockSize){s(this,z),L=0;break}}this.h=L,this.o+=C},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var I=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=I&255,I/=256;for(this.u(P),P=Array(16),C=I=0;4>C;++C)for(var z=0;32>z;z+=8)P[I++]=this.g[C]>>>z&255;return P};function a(P,C){var I=f;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=C(P)}function u(P,C){this.h=C;for(var I=[],z=!0,L=P.length-1;0<=L;L--){var B=P[L]|0;z&&B==C||(I[L]=B,z=!1)}this.g=I}var f={};function h(P){return-128<=P&&128>P?a(P,function(C){return new u([C|0],0>C?-1:0)}):new u([P|0],0>P?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return O(d(-P));for(var C=[],I=1,z=0;P>=I;z++)C[z]=P/I|0,I*=4294967296;return new u(C,0)}function g(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return O(g(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(C,8)),z=_,L=0;L<P.length;L+=8){var B=Math.min(8,P.length-L),A=parseInt(P.substring(L,L+B),C);8>B?(B=d(Math.pow(C,B)),z=z.j(B).add(d(A))):(z=z.j(I),z=z.add(d(A)))}return z}var _=h(0),v=h(1),E=h(16777216);t=u.prototype,t.m=function(){if(R(this))return-O(this).m();for(var P=0,C=1,I=0;I<this.g.length;I++){var z=this.i(I);P+=(0<=z?z:4294967296+z)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(R(this))return"-"+O(this).toString(P);for(var C=d(Math.pow(P,6)),I=this,z="";;){var L=j(I,C).g;I=M(I,L.j(C));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=L,x(I))return B+z;for(;6>B.length;)B="0"+B;z=B+z}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function R(P){return P.h==-1}t.l=function(P){return P=M(this,P),R(P)?-1:x(P)?0:1};function O(P){for(var C=P.g.length,I=[],z=0;z<C;z++)I[z]=~P.g[z];return new u(I,~P.h).add(v)}t.abs=function(){return R(this)?O(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],z=0,L=0;L<=C;L++){var B=z+(this.i(L)&65535)+(P.i(L)&65535),A=(B>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);z=A>>>16,B&=65535,A&=65535,I[L]=A<<16|B}return new u(I,I[I.length-1]&-2147483648?-1:0)};function M(P,C){return P.add(O(C))}t.j=function(P){if(x(this)||x(P))return _;if(R(this))return R(P)?O(this).j(O(P)):O(O(this).j(P));if(R(P))return O(this.j(O(P)));if(0>this.l(E)&&0>P.l(E))return d(this.m()*P.m());for(var C=this.g.length+P.g.length,I=[],z=0;z<2*C;z++)I[z]=0;for(z=0;z<this.g.length;z++)for(var L=0;L<P.g.length;L++){var B=this.i(z)>>>16,A=this.i(z)&65535,k=P.i(L)>>>16,G=P.i(L)&65535;I[2*z+2*L]+=A*G,q(I,2*z+2*L),I[2*z+2*L+1]+=B*G,q(I,2*z+2*L+1),I[2*z+2*L+1]+=A*k,q(I,2*z+2*L+1),I[2*z+2*L+2]+=B*k,q(I,2*z+2*L+2)}for(z=0;z<C;z++)I[z]=I[2*z+1]<<16|I[2*z];for(z=C;z<2*C;z++)I[z]=0;return new u(I,0)};function q(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function $(P,C){this.g=P,this.h=C}function j(P,C){if(x(C))throw Error("division by zero");if(x(P))return new $(_,_);if(R(P))return C=j(O(P),C),new $(O(C.g),O(C.h));if(R(C))return C=j(P,O(C)),new $(O(C.g),C.h);if(30<P.g.length){if(R(P)||R(C))throw Error("slowDivide_ only works with positive integers.");for(var I=v,z=C;0>=z.l(P);)I=X(I),z=X(z);var L=H(I,1),B=H(z,1);for(z=H(z,2),I=H(I,2);!x(z);){var A=B.add(z);0>=A.l(P)&&(L=L.add(I),B=A),z=H(z,1),I=H(I,1)}return C=M(P,L.j(C)),new $(L,C)}for(L=_;0<=P.l(C);){for(I=Math.max(1,Math.floor(P.m()/C.m())),z=Math.ceil(Math.log(I)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),B=d(I),A=B.j(C);R(A)||0<A.l(P);)I-=z,B=d(I),A=B.j(C);x(B)&&(B=v),L=L.add(B),P=M(P,A)}return new $(L,P)}t.A=function(P){return j(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],z=0;z<C;z++)I[z]=this.i(z)&P.i(z);return new u(I,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],z=0;z<C;z++)I[z]=this.i(z)|P.i(z);return new u(I,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),I=[],z=0;z<C;z++)I[z]=this.i(z)^P.i(z);return new u(I,this.h^P.h)};function X(P){for(var C=P.g.length+1,I=[],z=0;z<C;z++)I[z]=P.i(z)<<1|P.i(z-1)>>>31;return new u(I,P.h)}function H(P,C){var I=C>>5;C%=32;for(var z=P.g.length-I,L=[],B=0;B<z;B++)L[B]=0<C?P.i(B+I)>>>C|P.i(B+I+1)<<32-C:P.i(B+I);return new u(L,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ro=u}).apply(typeof LT<"u"?LT:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $x,Ac,Gx,cd,Qy,Yx,Kx,Xx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,T){return p==Array.prototype||p==Object.prototype||(p[w]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var w=0;w<p.length;++w){var T=p[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(p,w){if(w)e:{var T=r;p=p.split(".");for(var U=0;U<p.length-1;U++){var re=p[U];if(!(re in T))break e;T=T[re]}p=p[p.length-1],U=T[p],w=w(U),w!=U&&w!=null&&e(T,p,{configurable:!0,writable:!0,value:w})}}function a(p,w){p instanceof String&&(p+="");var T=0,U=!1,re={next:function(){if(!U&&T<p.length){var ue=T++;return{value:w(ue,p[ue]),done:!1}}return U=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}s("Array.prototype.values",function(p){return p||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function g(p,w,T){return p.call.apply(p.bind,arguments)}function _(p,w,T){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,U),p.apply(w,re)}}return function(){return p.apply(w,arguments)}}function v(p,w,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function E(p,w){var T=Array.prototype.slice.call(arguments,1);return function(){var U=T.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function x(p,w){function T(){}T.prototype=w.prototype,p.aa=w.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(U,re,ue){for(var we=Array(arguments.length-2),it=2;it<arguments.length;it++)we[it-2]=arguments[it];return w.prototype[re].apply(U,we)}}function R(p){const w=p.length;if(0<w){const T=Array(w);for(let U=0;U<w;U++)T[U]=p[U];return T}return[]}function O(p,w){for(let T=1;T<arguments.length;T++){const U=arguments[T];if(h(U)){const re=p.length||0,ue=U.length||0;p.length=re+ue;for(let we=0;we<ue;we++)p[re+we]=U[we]}else p.push(U)}}class M{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function q(p){return/^[\s\xa0]*$/.test(p)}function $(){var p=f.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var X=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function H(p,w,T){for(const U in p)w.call(T,p[U],U,p)}function P(p,w){for(const T in p)w.call(void 0,p[T],T,p)}function C(p){const w={};for(const T in p)w[T]=p[T];return w}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(p,w){let T,U;for(let re=1;re<arguments.length;re++){U=arguments[re];for(T in U)p[T]=U[T];for(let ue=0;ue<I.length;ue++)T=I[ue],Object.prototype.hasOwnProperty.call(U,T)&&(p[T]=U[T])}}function L(p){var w=1;p=p.split(":");const T=[];for(;0<w&&p.length;)T.push(p.shift()),w--;return p.length&&T.push(p.join(":")),T}function B(p){f.setTimeout(()=>{throw p},0)}function A(){var p=Z;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class k{constructor(){this.h=this.g=null}add(w,T){const U=G.get();U.set(w,T),this.h?this.h.next=U:this.g=U,this.h=U}}var G=new M(()=>new V,p=>p.reset());class V{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,J=!1,Z=new k,b=()=>{const p=f.Promise.resolve(void 0);K=()=>{p.then(Q)}};var Q=()=>{for(var p;p=A();){try{p.h.call(p.g)}catch(T){B(T)}var w=G;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}J=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};f.addEventListener("test",T,w),f.removeEventListener("test",T,w)}catch{}return p}();function ve(p,w){if(N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(X){e:{try{j(w.nodeName);var re=!0;break e}catch{}re=!1}re||(w=null)}}else T=="mouseover"?w=p.fromElement:T=="mouseout"&&(w=p.toElement);this.relatedTarget=w,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_e[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ve.aa.h.call(this)}}x(ve,N);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),be=0;function De(p,w,T,U,re){this.listener=p,this.proxy=null,this.src=w,this.type=T,this.capture=!!U,this.ha=re,this.key=++be,this.da=this.fa=!1}function Oe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ze(p){this.src=p,this.g={},this.h=0}Ze.prototype.add=function(p,w,T,U,re){var ue=p.toString();p=this.g[ue],p||(p=this.g[ue]=[],this.h++);var we=ft(p,w,U,re);return-1<we?(w=p[we],T||(w.fa=!1)):(w=new De(w,this.src,ue,!!U,re),w.fa=T,p.push(w)),w};function tt(p,w){var T=w.type;if(T in p.g){var U=p.g[T],re=Array.prototype.indexOf.call(U,w,void 0),ue;(ue=0<=re)&&Array.prototype.splice.call(U,re,1),ue&&(Oe(w),p.g[T].length==0&&(delete p.g[T],p.h--))}}function ft(p,w,T,U){for(var re=0;re<p.length;++re){var ue=p[re];if(!ue.da&&ue.listener==w&&ue.capture==!!T&&ue.ha==U)return re}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),Me={};function St(p,w,T,U,re){if(Array.isArray(w)){for(var ue=0;ue<w.length;ue++)St(p,w[ue],T,U,re);return null}return T=zn(T),p&&p[Ce]?p.K(w,T,d(U)?!!U.capture:!1,re):Le(p,w,T,!1,U,re)}function Le(p,w,T,U,re,ue){if(!w)throw Error("Invalid event type");var we=d(re)?!!re.capture:!!re,it=bn(p);if(it||(p[lt]=it=new Ze(p)),T=it.add(w,T,U,we,ue),T.proxy)return T;if(U=Re(),T.proxy=U,U.src=p,U.listener=T,p.addEventListener)le||(re=we),re===void 0&&(re=!1),p.addEventListener(w.toString(),U,re);else if(p.attachEvent)p.attachEvent(wn(w.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Re(){function p(T){return w.call(p.src,p.listener,T)}const w=qn;return p}function At(p,w,T,U,re){if(Array.isArray(w))for(var ue=0;ue<w.length;ue++)At(p,w[ue],T,U,re);else U=d(U)?!!U.capture:!!U,T=zn(T),p&&p[Ce]?(p=p.i,w=String(w).toString(),w in p.g&&(ue=p.g[w],T=ft(ue,T,U,re),-1<T&&(Oe(ue[T]),Array.prototype.splice.call(ue,T,1),ue.length==0&&(delete p.g[w],p.h--)))):p&&(p=bn(p))&&(w=p.g[w.toString()],p=-1,w&&(p=ft(w,T,U,re)),(T=-1<p?w[p]:null)&&$t(T))}function $t(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[Ce])tt(w.i,p);else{var T=p.type,U=p.proxy;w.removeEventListener?w.removeEventListener(T,U,p.capture):w.detachEvent?w.detachEvent(wn(T),U):w.addListener&&w.removeListener&&w.removeListener(U),(T=bn(w))?(tt(T,p),T.h==0&&(T.src=null,w[lt]=null)):Oe(p)}}}function wn(p){return p in Me?Me[p]:Me[p]="on"+p}function qn(p,w){if(p.da)p=!0;else{w=new ve(w,this);var T=p.listener,U=p.ha||p.src;p.fa&&$t(p),p=T.call(U,w)}return p}function bn(p){return p=p[lt],p instanceof Ze?p:null}var Wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(p){return typeof p=="function"?p:(p[Wt]||(p[Wt]=function(w){return p.handleEvent(w)}),p[Wt])}function ee(){ne.call(this),this.i=new Ze(this),this.M=this,this.F=null}x(ee,ne),ee.prototype[Ce]=!0,ee.prototype.removeEventListener=function(p,w,T,U){At(this,p,w,T,U)};function he(p,w){var T,U=p.F;if(U)for(T=[];U;U=U.F)T.push(U);if(p=p.M,U=w.type||w,typeof w=="string")w=new N(w,p);else if(w instanceof N)w.target=w.target||p;else{var re=w;w=new N(U,p),z(w,re)}if(re=!0,T)for(var ue=T.length-1;0<=ue;ue--){var we=w.g=T[ue];re=Ae(we,U,!0,w)&&re}if(we=w.g=p,re=Ae(we,U,!0,w)&&re,re=Ae(we,U,!1,w)&&re,T)for(ue=0;ue<T.length;ue++)we=w.g=T[ue],re=Ae(we,U,!1,w)&&re}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var T=p.g[w],U=0;U<T.length;U++)Oe(T[U]);delete p.g[w],p.h--}}this.F=null},ee.prototype.K=function(p,w,T,U){return this.i.add(String(p),w,!1,T,U)},ee.prototype.L=function(p,w,T,U){return this.i.add(String(p),w,!0,T,U)};function Ae(p,w,T,U){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var re=!0,ue=0;ue<w.length;++ue){var we=w[ue];if(we&&!we.da&&we.capture==T){var it=we.listener,an=we.ha||we.src;we.fa&&tt(p.i,we),re=it.call(an,U)!==!1&&re}}return re&&!U.defaultPrevented}function Ie(p,w,T){if(typeof p=="function")T&&(p=v(p,T));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:f.setTimeout(p,w||0)}function Xe(p){p.g=Ie(()=>{p.g=null,p.i&&(p.i=!1,Xe(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class ut extends ne{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(p){ne.call(this),this.h=p,this.g={}}x(xt,ne);var Dt=[];function Gt(p){H(p.g,function(w,T){this.g.hasOwnProperty(T)&&$t(w)},p),p.g={}}xt.prototype.N=function(){xt.aa.N.call(this),Gt(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pt=f.JSON.stringify,ht=f.JSON.parse,Bt=class{stringify(p){return f.JSON.stringify(p,void 0)}parse(p){return f.JSON.parse(p,void 0)}};function sn(){}sn.prototype.h=null;function Di(p){return p.h||(p.h=p.i())}function Hr(){}var tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){N.call(this,"d")}x(vr,N);function nr(){N.call(this,"c")}x(nr,N);var Er={},vo=null;function ni(){return vo=vo||new ee}Er.La="serverreachability";function ms(p){N.call(this,Er.La,p)}x(ms,N);function ri(p){const w=ni();he(w,new ms(w))}Er.STAT_EVENT="statevent";function wa(p,w){N.call(this,Er.STAT_EVENT,p),this.stat=w}x(wa,N);function Ct(p){const w=ni();he(w,new wa(w,p))}Er.Ma="timingevent";function Yt(p,w){N.call(this,Er.Ma,p),this.size=w}x(Yt,N);function Ht(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){p()},w)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function Eo(p,w,T,U,re,ue){p.info(function(){if(p.g)if(ue)for(var we="",it=ue.split("&"),an=0;an<it.length;an++){var st=it[an].split("=");if(1<st.length){var mn=st[0];st=st[1];var ln=mn.split("_");we=2<=ln.length&&ln[1]=="type"?we+(mn+"="+st+"&"):we+(mn+"=redacted&")}}else we=null;else we=ue;return"XMLHTTP REQ ("+U+") [attempt "+re+"]: "+w+`
`+T+`
`+we})}function cu(p,w,T,U,re,ue,we){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+re+"]: "+w+`
`+T+`
`+ue+" "+we})}function ii(p,w,T,U){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Oi(p,T)+(U?" "+U:"")})}function ba(p,w){p.info(function(){return"TIMEOUT: "+w})}$n.prototype.info=function(){};function Oi(p,w){if(!p.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var U=T[p];if(!(2>U.length)){var re=U[1];if(Array.isArray(re)&&!(1>re.length)){var ue=re[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var we=1;we<re.length;we++)re[we]=""}}}}return Pt(T)}catch{return w}}var si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function Tr(){}x(Tr,sn),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},br=new Tr;function Tn(p,w,T,U){this.j=p,this.i=w,this.l=T,this.R=U||1,this.U=new xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}var wo={},gs={};function rr(p,w,T){p.L=1,p.v=Ao(ir(w)),p.m=T,p.P=!0,Fr(p,null)}function Fr(p,w){p.F=Date.now(),Mi(p),p.A=ir(p.v);var T=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),gu(T.i,"t",U),p.C=0,T=p.j.J,p.h=new Lt,p.g=Pf(p.j,T?w:null,!p.m),0<p.O&&(p.M=new ut(v(p.Y,p,p.g),p.O)),w=p.U,T=p.g,U=p.ca;var re="readystatechange";Array.isArray(re)||(re&&(Dt[0]=re.toString()),re=Dt);for(var ue=0;ue<re.length;ue++){var we=St(T,re[ue],U||w.handleEvent,!1,w.h||w);if(!we)break;w.g[we.key]=we}w=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),ri(),Eo(p.i,p.u,p.A,p.l,p.R,p.m)}Tn.prototype.ca=function(p){p=p.target;const w=this.M;w&&Rr(p)==3?w.j():this.Y(p)},Tn.prototype.Y=function(p){try{if(p==this.g)e:{const ln=Rr(this.g);var w=this.g.Ba();const Hi=this.g.Z();if(!(3>ln)&&(ln!=3||this.g&&(this.h.h||this.g.oa()||Cf(this.g)))){this.J||ln!=4||w==7||(w==8||0>=Hi?ri(3):ri(2)),oi(this);var T=this.g.Z();this.X=T;t:if(bo(this)){var U=Cf(this.g);p="";var re=U.length,ue=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Sr(this);var we="";break t}this.h.i=new f.TextDecoder}for(w=0;w<re;w++)this.h.h=!0,p+=this.h.i.decode(U[w],{stream:!(ue&&w==re-1)});U.length=0,this.h.g+=p,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=T==200,cu(this.i,this.u,this.A,this.l,this.R,ln,T),this.o){if(this.T&&!this.K){t:{if(this.g){var it,an=this.g;if((it=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(it)){var st=it;break t}}st=null}if(T=st)ii(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ai(this,T);else{this.o=!1,this.s=3,Ct(12),on(this),Sr(this);break e}}if(this.P){T=!0;let Sn;for(;!this.J&&this.C<we.length;)if(Sn=Ta(this,we),Sn==gs){ln==4&&(this.s=4,Ct(14),T=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==wo){this.s=4,Ct(15),ii(this.i,this.l,we,"[Invalid Chunk]"),T=!1;break}else ii(this.i,this.l,Sn,null),ai(this,Sn);if(bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||we.length!=0||this.h.h||(this.s=1,Ct(16),T=!1),this.o=this.o&&T,!T)ii(this.i,this.l,we,"[Invalid Chunked Response]"),on(this),Sr(this);else if(0<we.length&&!this.W){this.W=!0;var mn=this.j;mn.g==this&&mn.ba&&!mn.M&&(mn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Oo(mn),mn.M=!0,Ct(11))}}else ii(this.i,this.l,we,null),ai(this,we);ln==4&&on(this),this.o&&!this.J&&(ln==4?Df(this.j,this):(this.o=!1,Mi(this)))}else Vp(this.g),T==400&&0<we.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),on(this),Sr(this)}}}catch{}finally{}};function bo(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ta(p,w){var T=p.C,U=w.indexOf(`
`,T);return U==-1?gs:(T=Number(w.substring(T,U)),isNaN(T)?wo:(U+=1,U+T>w.length?gs:(w=w.slice(U,U+T),p.C=U+T,w)))}Tn.prototype.cancel=function(){this.J=!0,on(this)};function Mi(p){p.S=Date.now()+p.I,Sa(p,p.I)}function Sa(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ht(v(p.ba,p),w)}function oi(p){p.B&&(f.clearTimeout(p.B),p.B=null)}Tn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ba(this.i,this.A),this.L!=2&&(ri(),Ct(17)),on(this),this.s=2,Sr(this)):Sa(this,this.S-p)};function Sr(p){p.j.G==0||p.J||Df(p.j,p)}function on(p){oi(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Gt(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function ai(p,w){try{var T=p.j;if(T.G!=0&&(T.g==p||fu(T.h,p))){if(!p.K&&fu(T.h,p)&&T.G==3){try{var U=T.Da.g.parse(w)}catch{U=null}if(Array.isArray(U)&&U.length==3){var re=U;if(re[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)Pa(T),Oa(T);else break e;wu(T),Ct(18)}}else T.za=re[1],0<T.za-T.T&&37500>re[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ht(v(T.Za,T),6e3));if(1>=li(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Bi(T,11)}else if((p.K||T.g==p)&&Pa(T),!q(w))for(re=T.Da.g.parse(w),w=0;w<re.length;w++){let st=re[w];if(T.T=st[0],st=st[1],T.G==2)if(st[0]=="c"){T.K=st[1],T.ia=st[2];const mn=st[3];mn!=null&&(T.la=mn,T.j.info("VER="+T.la));const ln=st[4];ln!=null&&(T.Aa=ln,T.j.info("SVER="+T.Aa));const Hi=st[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(U=1.5*Hi,T.L=U,T.j.info("backChannelRequestTimeoutMs_="+U)),U=T;const Sn=p.g;if(Sn){const mi=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var ue=U.h;ue.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(xa(ue,ue.h),ue.h=null))}if(U.D){const Tu=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tu&&(U.ya=Tu,vt(U.I,U.D,Tu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),U=T;var we=p;if(U.qa=Mf(U,U.J?U.ia:null,U.W),we.K){Bn(U.h,we);var it=we,an=U.L;an&&(it.I=an),it.B&&(oi(it),Mi(it)),U.g=we}else Nf(U);0<T.i.length&&Ma(T)}else st[0]!="stop"&&st[0]!="close"||Bi(T,7);else T.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Bi(T,7):vu(T):st[0]!="noop"&&T.l&&T.l.ta(st),T.v=0)}}ri(4)}catch{}}var Aa=class{constructor(p,w){this.g=p,this.map=w}};function jr(p){this.l=p||10,f.PerformanceNavigationTiming?(p=f.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function li(p){return p.h?1:p.g?p.g.size:0}function fu(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function xa(p,w){p.g?p.g.add(w):p.h=w}function Bn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}jr.prototype.cancel=function(){if(this.i=hu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function hu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const T of p.g.values())w=w.concat(T.D);return w}return R(p.i)}function Dp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],T=p.length,U=0;U<T;U++)w.push(p[U]);return w}w=[],T=0;for(U in p)w[T++]=p[U];return w}function Ca(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var T=0;T<p;T++)w.push(T);return w}w=[],T=0;for(const U in p)w[T++]=U;return w}}}function du(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var T=Ca(p),U=Dp(p),re=U.length,ue=0;ue<re;ue++)w.call(void 0,U[ue],T&&T[ue],p)}var To=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Op(p,w){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var U=p[T].indexOf("="),re=null;if(0<=U){var ue=p[T].substring(0,U);re=p[T].substring(U+1)}else ue=p[T];w(ue,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Zt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Zt){this.h=p.h,So(this,p.j),this.o=p.o,this.g=p.g,_s(this,p.s),this.l=p.l;var w=p.i,T=new Vi;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Pi(this,T),this.m=p.m}else p&&(w=String(p).match(To))?(this.h=!1,So(this,w[1]||"",!0),this.o=Ar(w[2]||""),this.g=Ar(w[3]||"",!0),_s(this,w[4]),this.l=Ar(w[5]||"",!0),Pi(this,w[6]||"",!0),this.m=Ar(w[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Zt.prototype.toString=function(){var p=[],w=this.j;w&&p.push(xo(w,pu,!0),":");var T=this.g;return(T||w=="file")&&(p.push("//"),(w=this.o)&&p.push(xo(w,pu,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(xo(T,T.charAt(0)=="/"?Mp:mu,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",xo(T,Ra)),p.join("")};function ir(p){return new Zt(p)}function So(p,w,T){p.j=T?Ar(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function _s(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function Pi(p,w,T){w instanceof Vi?(p.i=w,Af(p.i,p.h)):(T||(w=xo(w,Pp)),p.i=new Vi(w,p.h))}function vt(p,w,T){p.i.set(w,T)}function Ao(p){return vt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Ar(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function xo(p,w,T){return typeof p=="string"?(p=encodeURI(p).replace(w,Sf),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Sf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var pu=/[#\/\?@]/g,mu=/[#\?:]/g,Mp=/[#\?]/g,Pp=/[#\?@]/g,Ra=/#/g;function Vi(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function xr(p){p.g||(p.g=new Map,p.h=0,p.i&&Op(p.i,function(w,T){p.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Vi.prototype,t.add=function(p,w){xr(this),this.i=null,p=ui(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(w),this.h+=1,this};function Li(p,w){xr(p),w=ui(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Ui(p,w){return xr(p),w=ui(p,w),p.g.has(w)}t.forEach=function(p,w){xr(this),this.g.forEach(function(T,U){T.forEach(function(re){p.call(w,re,U,this)},this)},this)},t.na=function(){xr(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let U=0;U<w.length;U++){const re=p[U];for(let ue=0;ue<re.length;ue++)T.push(w[U])}return T},t.V=function(p){xr(this);let w=[];if(typeof p=="string")Ui(this,p)&&(w=w.concat(this.g.get(ui(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)w=w.concat(p[T])}return w},t.set=function(p,w){return xr(this),this.i=null,p=ui(this,p),Ui(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function gu(p,w,T){Li(p,w),0<T.length&&(p.i=null,p.g.set(ui(p,w),R(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var U=w[T];const ue=encodeURIComponent(String(U)),we=this.V(U);for(U=0;U<we.length;U++){var re=ue;we[U]!==""&&(re+="="+encodeURIComponent(String(we[U]))),p.push(re)}}return this.i=p.join("&")};function ui(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Af(p,w){w&&!p.j&&(xr(p),p.i=null,p.g.forEach(function(T,U){var re=U.toLowerCase();U!=re&&(Li(this,U),gu(this,re,T))},p)),p.j=w}function Co(p,w){const T=new $n;if(f.Image){const U=new Image;U.onload=E(Cr,T,"TestLoadImage: loaded",!0,w,U),U.onerror=E(Cr,T,"TestLoadImage: error",!1,w,U),U.onabort=E(Cr,T,"TestLoadImage: abort",!1,w,U),U.ontimeout=E(Cr,T,"TestLoadImage: timeout",!1,w,U),f.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else w(!1)}function qr(p,w){const T=new $n,U=new AbortController,re=setTimeout(()=>{U.abort(),Cr(T,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:U.signal}).then(ue=>{clearTimeout(re),ue.ok?Cr(T,"TestPingServer: ok",!0,w):Cr(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(re),Cr(T,"TestPingServer: error",!1,w)})}function Cr(p,w,T,U,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),U(T)}catch{}}function Ro(){this.g=new Bt}function ci(p,w,T){const U=T||"";try{du(p,function(re,ue){let we=re;d(re)&&(we=Pt(re)),w.push(U+ue+"="+encodeURIComponent(we))})}catch(re){throw w.push(U+"type="+encodeURIComponent("_badmap")),re}}function vs(p){this.l=p.Ub||null,this.j=p.eb||!1}x(vs,sn),vs.prototype.g=function(){return new zi(this.l,this.j)},vs.prototype.i=function(p){return function(){return p}}({});function zi(p,w){ee.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(zi,ee),t=zi.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,hi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||f).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function yu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?fi(this):hi(this),this.readyState==3&&yu(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,fi(this))},t.Qa=function(p){this.g&&(this.response=p,fi(this))},t.ga=function(){this.g&&fi(this)};function fi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,hi(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=w.next();return p.join(`\r
`)};function hi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function _u(p){let w="";return H(p,function(T,U){w+=U,w+=":",w+=T,w+=`\r
`}),w}function pn(p,w,T){e:{for(U in T){var U=!1;break e}U=!0}U||(T=_u(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):vt(p,w,T))}function mt(p){ee.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(mt,ee);var Ia=/^https?$/i,Io=["POST","PUT"];t=mt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,T,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?Di(this.o):Di(br),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ue){xf(this,ue);return}if(p=T||"",T=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var re in U)T.set(re,U[re]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ue of U.keys())T.set(ue,U.get(ue));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(T.keys()).find(ue=>ue.toLowerCase()=="content-type"),re=f.FormData&&p instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Io,w,void 0))||U||re||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,we]of T)this.g.setRequestHeader(ue,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(p),this.u=!1}catch(ue){xf(this,ue)}};function xf(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,Na(p),di(p)}function Na(p){p.A||(p.A=!0,he(p,"complete"),he(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,he(this,"complete"),he(this,"abort"),di(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},t.bb=function(){ka(this)};function ka(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Rr(p)!=4||p.Z()!=2)){if(p.u&&Rr(p)==4)Ie(p.Ea,0,p);else if(he(p,"readystatechange"),Rr(p)==4){p.h=!1;try{const we=p.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var U;if(U=we===0){var re=String(p.D).match(To)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),U=!Ia.test(re?re.toLowerCase():"")}T=U}if(T)he(p,"complete"),he(p,"success");else{p.m=6;try{var ue=2<Rr(p)?p.g.statusText:""}catch{ue=""}p.l=ue+" ["+p.Z()+"]",Na(p)}}finally{di(p)}}}}function di(p,w){if(p.g){No(p);const T=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||he(p,"ready");try{T.onreadystatechange=U}catch{}}}function No(p){p.I&&(f.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Rr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),ht(w)}};function Cf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Vp(p){const w={};p=(p.g&&2<=Rr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(q(p[U]))continue;var T=L(p[U]);const re=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ue=w[re]||[];w[re]=ue,ue.push(T)}P(w,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(p,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||w}function Da(p){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ko("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ko("baseRetryDelayMs",5e3,p),this.cb=ko("retryDelaySeedMs",1e4,p),this.Wa=ko("forwardChannelMaxRetries",2,p),this.wa=ko("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new jr(p&&p.concurrentRequestLimit),this.Da=new Ro,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Da.prototype,t.la=8,t.G=1,t.connect=function(p,w,T,U){Ct(0),this.W=p,this.H=w||{},T&&U!==void 0&&(this.H.OSID=T,this.H.OAID=U),this.F=this.X,this.I=Mf(this,null,this.W),Ma(this)};function vu(p){if(Rf(p),p.G==3){var w=p.U++,T=ir(p.I);if(vt(T,"SID",p.K),vt(T,"RID",w),vt(T,"TYPE","terminate"),Do(p,T),w=new Tn(p,p.j,w),w.L=2,w.v=Ao(ir(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=w.v,T=!0),T||(w.g=Pf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Mi(w)}Of(p)}function Oa(p){p.g&&(Oo(p),p.g.cancel(),p.g=null)}function Rf(p){Oa(p),p.u&&(f.clearTimeout(p.u),p.u=null),Pa(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&f.clearTimeout(p.s),p.s=null)}function Ma(p){if(!ys(p.h)&&!p.s){p.s=!0;var w=p.Ga;K||b(),J||(K(),J=!0),Z.add(w,p),p.B=0}}function Lp(p,w){return li(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ht(v(p.Ga,p,w),bu(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const re=new Tn(this,this.j,p);let ue=this.o;if(this.S&&(ue?(ue=C(ue),z(ue,this.S)):ue=this.S),this.m!==null||this.O||(re.H=ue,ue=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var U=this.i[T];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(w+=U,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=If(this,re,w),T=ir(this.I),vt(T,"RID",p),vt(T,"CVER",22),this.D&&vt(T,"X-HTTP-Session-Id",this.D),Do(this,T),ue&&(this.O?w="headers="+encodeURIComponent(String(_u(ue)))+"&"+w:this.m&&pn(T,this.m,ue)),xa(this.h,re),this.Ua&&vt(T,"TYPE","init"),this.P?(vt(T,"$req",w),vt(T,"SID","null"),re.T=!0,rr(re,T,null)):rr(re,T,w),this.G=2}}else this.G==3&&(p?Eu(this,p):this.i.length==0||ys(this.h)||Eu(this))};function Eu(p,w){var T;w?T=w.l:T=p.U++;const U=ir(p.I);vt(U,"SID",p.K),vt(U,"RID",T),vt(U,"AID",p.T),Do(p,U),p.m&&p.o&&pn(U,p.m,p.o),T=new Tn(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),w&&(p.i=w.D.concat(p.i)),w=If(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),xa(p.h,T),rr(T,U,w)}function Do(p,w){p.H&&H(p.H,function(T,U){vt(w,U,T)}),p.l&&du({},function(T,U){vt(w,U,T)})}function If(p,w,T){T=Math.min(p.i.length,T);var U=p.l?v(p.l.Na,p.l,p):null;e:{var re=p.i;let ue=-1;for(;;){const we=["count="+T];ue==-1?0<T?(ue=re[0].g,we.push("ofs="+ue)):ue=0:we.push("ofs="+ue);let it=!0;for(let an=0;an<T;an++){let st=re[an].g;const mn=re[an].map;if(st-=ue,0>st)ue=Math.max(0,re[an].g-100),it=!1;else try{ci(mn,we,"req"+st+"_")}catch{U&&U(mn)}}if(it){U=we.join("&");break e}}}return p=p.i.splice(0,T),w.D=p,U}function Nf(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;K||b(),J||(K(),J=!0),Z.add(w,p),p.v=0}}function wu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ht(v(p.Fa,p),bu(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,kf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ht(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),Oa(this),kf(this))};function Oo(p){p.A!=null&&(f.clearTimeout(p.A),p.A=null)}function kf(p){p.g=new Tn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=ir(p.qa);vt(w,"RID","rpc"),vt(w,"SID",p.K),vt(w,"AID",p.T),vt(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&vt(w,"TO",p.ja),vt(w,"TYPE","xmlhttp"),Do(p,w),p.m&&p.o&&pn(w,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=Ao(ir(w)),T.m=null,T.P=!0,Fr(T,p)}t.Za=function(){this.C!=null&&(this.C=null,Oa(this),wu(this),Ct(19))};function Pa(p){p.C!=null&&(f.clearTimeout(p.C),p.C=null)}function Df(p,w){var T=null;if(p.g==w){Pa(p),Oo(p),p.g=null;var U=2}else if(fu(p.h,w))T=w.D,Bn(p.h,w),U=1;else return;if(p.G!=0){if(w.o)if(U==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var re=p.B;U=ni(),he(U,new Yt(U,T)),Ma(p)}else Nf(p);else if(re=w.s,re==3||re==0&&0<w.X||!(U==1&&Lp(p,w)||U==2&&wu(p)))switch(T&&0<T.length&&(w=p.h,w.i=w.i.concat(T)),re){case 1:Bi(p,5);break;case 4:Bi(p,10);break;case 3:Bi(p,6);break;default:Bi(p,2)}}}function bu(p,w){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*w}function Bi(p,w){if(p.j.info("Error code "+w),w==2){var T=v(p.fb,p),U=p.Xa;const re=!U;U=new Zt(U||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||So(U,"https"),Ao(U),re?Co(U.toString(),T):qr(U.toString(),T)}else Ct(2);p.G=0,p.l&&p.l.sa(w),Of(p),Rf(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Of(p){if(p.G=0,p.ka=[],p.l){const w=hu(p.h);(w.length!=0||p.i.length!=0)&&(O(p.ka,w),O(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function Mf(p,w,T){var U=T instanceof Zt?ir(T):new Zt(T);if(U.g!="")w&&(U.g=w+"."+U.g),_s(U,U.s);else{var re=f.location;U=re.protocol,w=w?w+"."+re.hostname:re.hostname,re=+re.port;var ue=new Zt(null);U&&So(ue,U),w&&(ue.g=w),re&&_s(ue,re),T&&(ue.l=T),U=ue}return T=p.D,w=p.ya,T&&w&&vt(U,T,w),vt(U,"VER",p.la),Do(p,U),U}function Pf(p,w,T){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new mt(new vs({eb:T})):new mt(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vf(){}t=Vf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(p,w){return new Hn(p,w)};function Hn(p,w){ee.call(this),this.g=new Da(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!q(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!q(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new pi(this)}x(Hn,ee),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){vu(this.g)},Hn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Pt(p),p=T);w.i.push(new Aa(w.Ya++,p)),w.G==3&&Ma(w)},Hn.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,Hn.aa.N.call(this)};function Lf(p){vr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const T in w){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}x(Lf,vr);function Uf(){nr.call(this),this.status=1}x(Uf,nr);function pi(p){this.g=p}x(pi,Vf),pi.prototype.ua=function(){he(this.g,"a")},pi.prototype.ta=function(p){he(this.g,new Lf(p))},pi.prototype.sa=function(p){he(this.g,new Uf)},pi.prototype.ra=function(){he(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,Xx=function(){return new Va},Kx=function(){return ni()},Yx=Er,Qy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,cd=si,wr.COMPLETE="complete",Gx=wr,Hr.EventType=tr,tr.OPEN="a",tr.CLOSE="b",tr.ERROR="c",tr.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Ac=Hr,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,$x=mt}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const UT="@firebase/firestore",zT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Q_("@firebase/firestore");function bl(){return ca.logLevel}function Te(t,...e){if(ca.logLevel<=nt.DEBUG){const n=e.map(J_);ca.debug(`Firestore (${Jl}): ${t}`,...n)}}function cs(t,...e){if(ca.logLevel<=nt.ERROR){const n=e.map(J_);ca.error(`Firestore (${Jl}): ${t}`,...n)}}function ql(t,...e){if(ca.logLevel<=nt.WARN){const n=e.map(J_);ca.warn(`Firestore (${Jl}): ${t}`,...n)}}function J_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Qx(t,r,n)}function Qx(t,e,n){let r=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function gt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Qx(e,s,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class A3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x3{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new io;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new io,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new io)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new Wx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class C3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=N3(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Wy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ke(r,s);{const a=Zx(),u=k3(a.encode(HT(t,n)),a.encode(HT(e,n)));return u!==0?u:Ke(r,s)}}n+=r>65535?2:1}return Ke(t.length,e.length)}function HT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function k3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ke(t[n],e[n]);return Ke(t.length,e.length)}function $l(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=-62135596800,jT=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jT);return new Mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FT)throw new Se(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-FT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Mt(0,0))}static max(){return new je(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__name__";class bi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=bi.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ke(e.length,n.length)}static compareSegments(e,n){const r=bi.isNumericId(e),s=bi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?bi.extractNumericId(e).compare(bi.extractNumericId(n)):Wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ro.fromString(e.substring(4,e.length-2))}}class Ot extends bi{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const D3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends bi{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return D3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qT}static keyField(){return new In([qT])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Se(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Se(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Se(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new Se(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ot.fromString(e))}static fromName(e){return new Pe(Ot.fromString(e).popFirst(5))}static empty(){return new Pe(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=-1;function O3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new ao(s,Pe.empty(),e)}function M3(t){return new ao(t.readTime,t.key,Kc)}class ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ao(je.min(),Pe.empty(),Kc)}static max(){return new ao(je.max(),Pe.empty(),Kc)}}function P3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==V3)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&n()},h=>r(h))}),u=!0,a===s&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(s=>s?ye.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const d=h;n(e[d]).next(g=>{u[d]=g,++f,f===a&&r(u)},g=>s(g))}})}static doWhile(e,n){return new ye((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function U3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}op.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-1;function ap(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function z3(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="";function B3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$T(e)),e=H3(t.get(n),e);return $T(e)}function H3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case eC:n+="";break;default:n+=a}}return n}function $T(t){return t+eC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xh(this.root,e,this.comparator,!0)}}class Xh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Rn.RED,this.left=s??Rn.EMPTY,this.right=a??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Rn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new dr([])}unionWith(e){let n=new fn(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new nC("Invalid base64 string: "+a):a}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=F3.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="server_timestamp",iC="__type__",sC="__previous_value__",oC="__local_write_time__";function t0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iC])===null||n===void 0?void 0:n.stringValue)===rC}function lp(t){const e=t.mapValue.fields[sC];return t0(e)?lp(e):e}function Xc(t){const e=lo(t.mapValue.fields[oC].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r,s,a,u,f,h,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const Dd="(default)";class Qc{constructor(e,n){this.projectId=e,this.database=n||Dd}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Dd}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="__type__",q3="__max__",Qh={mapValue:{}},lC="__vector__",Od="value";function co(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t0(t)?4:G3(t)?9007199254740991:$3(t)?10:11:Be(28295,{value:t})}function Ii(t,e){if(t===e)return!0;const n=co(t);if(n!==co(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=lo(s.timestampValue),f=lo(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return uo(s.bytesValue).isEqual(uo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Qt(s.geoPointValue.latitude)===Qt(a.geoPointValue.latitude)&&Qt(s.geoPointValue.longitude)===Qt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Qt(s.integerValue)===Qt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Qt(s.doubleValue),f=Qt(a.doubleValue);return u===f?kd(u)===kd(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(GT(u)!==GT(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!Ii(u[h],f[h])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function Wc(t,e){return(t.values||[]).find(n=>Ii(n,e))!==void 0}function Gl(t,e){if(t===e)return 0;const n=co(t),r=co(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Qt(a.integerValue||a.doubleValue),h=Qt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(t,e);case 3:return KT(t.timestampValue,e.timestampValue);case 4:return KT(Xc(t),Xc(e));case 5:return Wy(t.stringValue,e.stringValue);case 6:return function(a,u){const f=uo(a),h=uo(u);return f.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let d=0;d<f.length&&d<h.length;d++){const g=Ke(f[d],h[d]);if(g!==0)return g}return Ke(f.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ke(Qt(a.latitude),Qt(u.latitude));return f!==0?f:Ke(Qt(a.longitude),Qt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XT(t.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,d,g;const _=a.fields||{},v=u.fields||{},E=(f=_[Od])===null||f===void 0?void 0:f.arrayValue,x=(h=v[Od])===null||h===void 0?void 0:h.arrayValue,R=Ke(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((g=x?.values)===null||g===void 0?void 0:g.length)||0);return R!==0?R:XT(E,x)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Qh.mapValue&&u===Qh.mapValue)return 0;if(a===Qh.mapValue)return 1;if(u===Qh.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),d=u.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let _=0;_<h.length&&_<g.length;++_){const v=Wy(h[_],g[_]);if(v!==0)return v;const E=Gl(f[h[_]],d[g[_]]);if(E!==0)return E}return Ke(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{Pe:n})}}function KT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=lo(t),r=lo(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function XT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Gl(n[s],r[s]);if(a)return a}return Ke(n.length,r.length)}function Yl(t){return Zy(t)}function Zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Zy(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Zy(n.fields[u])}`;return s+"}"}(t.mapValue):Be(61005,{value:t})}function fd(t){switch(co(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lp(t);return e?16+fd(e):16;case 5:return 2*t.stringValue.length;case 6:return uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+fd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return po(r.fields,(a,u)=>{s+=a.length+fd(u)}),s}(t.mapValue);default:throw Be(13486,{value:t})}}function QT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jy(t){return!!t&&"integerValue"in t}function n0(t){return!!t&&"arrayValue"in t}function WT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hd(t){return!!t&&"mapValue"in t}function $3(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[aC])===null||n===void 0?void 0:n.stringValue)===lC}function Nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===q3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=In.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=f.popLast()}u?r[f.lastSegment()]=Nc(u):s.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];hd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){po(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Wn(Nc(this.value))}}function uC(t){const e=[];return po(t.fields,(n,r)=>{const s=new In([n]);if(hd(r)){const a=uC(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,s,a,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Vn(e,0,je.min(),je.min(),je.min(),Wn.empty(),0)}static newFoundDocument(e,n,r,s){return new Vn(e,1,n,je.min(),r,s,0)}static newNoDocument(e,n){return new Vn(e,2,n,je.min(),je.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new Vn(e,3,n,je.min(),je.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.position=e,this.inclusive=n}}function JT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),n.key):r=Gl(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function e1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{}class rn extends cC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X3(e,n,r):n==="array-contains"?new Z3(e,r):n==="in"?new J3(e,r):n==="not-in"?new eL(e,r):n==="array-contains-any"?new tL(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q3(e,r):new W3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gl(n,this.value)):n!==null&&co(this.value)===co(n)&&this.matchesComparison(Gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wr extends cC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Wr(e,n)}matches(e){return fC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fC(t){return t.op==="and"}function hC(t){return K3(t)&&fC(t)}function K3(t){for(const e of t.filters)if(e instanceof Wr)return!1;return!0}function e_(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(hC(t))return t.filters.map(e=>e_(e)).join(",");{const e=t.filters.map(n=>e_(n)).join(",");return`${t.op}(${e})`}}function dC(t,e){return t instanceof rn?function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&Ii(r.value,s.value)}(t,e):t instanceof Wr?function(r,s){return s instanceof Wr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&dC(u,s.filters[f]),!0):!1}(t,e):void Be(19439)}function pC(t){return t instanceof rn?function(n){return`${n.field.canonicalString()} ${n.op} ${Yl(n.value)}`}(t):t instanceof Wr?function(n){return n.op.toString()+" {"+n.getFilters().map(pC).join(" ,")+"}"}(t):"Filter"}class X3 extends rn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q3 extends rn{constructor(e,n){super(e,"in",n),this.keys=mC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W3 extends rn{constructor(e,n){super(e,"not-in",n),this.keys=mC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class Z3 extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return n0(n)&&Wc(n.arrayValue,this.value)}}class J3 extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}}class eL extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wc(this.value.arrayValue,n)}}class tL extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!n0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Ie=null}}function t1(t,e=null,n=[],r=[],s=null,a=null,u=null){return new nL(t,e,n,r,s,a,u)}function r0(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>e_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yl(r)).join(",")),e.Ie=n}return e.Ie}function i0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e1(t.startAt,e.startAt)&&e1(t.endAt,e.endAt)}function t_(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n=null,r=[],s=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rL(t,e,n,r,s,a,u,f){return new nu(t,e,n,r,s,a,u,f)}function gC(t){return new nu(t)}function n1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yC(t){return t.collectionGroup!==null}function kc(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new fn(In.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(f=f.add(d.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Zc(a,r))}),n.has(In.keyField().canonicalString())||e.Ee.push(new Zc(In.keyField(),r))}return e.Ee}function Ai(t){const e=qe(t);return e.de||(e.de=iL(e,kc(t))),e.de}function iL(t,e){if(t.limitType==="F")return t1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Zc(s.field,a)});const n=t.endAt?new Md(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Md(t.startAt.position,t.startAt.inclusive):null;return t1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function n_(t,e){const n=t.filters.concat([e]);return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function r_(t,e,n){return new nu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function up(t,e){return i0(Ai(t),Ai(e))&&t.limitType===e.limitType}function _C(t){return`${r0(Ai(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pC(s)).join(", ")}]`),ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Yl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Yl(s)).join(",")),`Target(${r})`}(Ai(t))}; limitType=${t.limitType})`}function cp(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of kc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,f,h){const d=JT(u,f,h);return u.inclusive?d<=0:d<0}(r.startAt,kc(r),s)||r.endAt&&!function(u,f,h){const d=JT(u,f,h);return u.inclusive?d>=0:d>0}(r.endAt,kc(r),s))}(t,e)}function sL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vC(t){return(e,n)=>{let r=!1;for(const s of kc(t)){const a=oL(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function oL(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(a,u,f){const h=u.data.field(a),d=f.data.field(a);return h!==null&&d!==null?Gl(h,d):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return tC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new zt(Pe.comparator);function fs(){return aL}const EC=new zt(Pe.comparator);function xc(...t){let e=EC;for(const n of t)e=e.insert(n.key,n);return e}function wC(t){let e=EC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function na(){return Dc()}function bC(){return Dc()}function Dc(){return new ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const lL=new zt(Pe.comparator),uL=new fn(Pe.comparator);function rt(...t){let e=uL;for(const n of t)e=e.add(n);return e}const cL=new fn(Ke);function fL(){return cL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function TC(t){return{integerValue:""+t}}function hL(t,e){return z3(e)?TC(e):s0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this._=void 0}}function dL(t,e,n){return t instanceof Pd?function(s,a){const u={fields:{[iC]:{stringValue:rC},[oC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&t0(a)&&(a=lp(a)),a&&(u.fields[sC]=a),{mapValue:u}}(n,e):t instanceof Jc?AC(t,e):t instanceof ef?xC(t,e):function(s,a){const u=SC(s,a),f=r1(u)+r1(s.Re);return Jy(u)&&Jy(s.Re)?TC(f):s0(s.serializer,f)}(t,e)}function pL(t,e,n){return t instanceof Jc?AC(t,e):t instanceof ef?xC(t,e):n}function SC(t,e){return t instanceof Vd?function(r){return Jy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Pd extends fp{}class Jc extends fp{constructor(e){super(),this.elements=e}}function AC(t,e){const n=CC(e);for(const r of t.elements)n.some(s=>Ii(s,r))||n.push(r);return{arrayValue:{values:n}}}class ef extends fp{constructor(e){super(),this.elements=e}}function xC(t,e){let n=CC(e);for(const r of t.elements)n=n.filter(s=>!Ii(s,r));return{arrayValue:{values:n}}}class Vd extends fp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function r1(t){return Qt(t.integerValue||t.doubleValue)}function CC(t){return n0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Jc&&s instanceof Jc||r instanceof ef&&s instanceof ef?$l(r.elements,s.elements,Ii):r instanceof Vd&&s instanceof Vd?Ii(r.Re,s.Re):r instanceof Pd&&s instanceof Pd}(t.transform,e.transform)}class gL{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hp{}function RC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dp(t.key,mr.none()):new hf(t.key,t.data,mr.none());{const n=t.data,r=Wn.empty();let s=new fn(In.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new mo(t.key,r,new dr(s.toArray()),mr.none())}}function yL(t,e,n){t instanceof hf?function(s,a,u){const f=s.value.clone(),h=s1(s.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof mo?function(s,a,u){if(!dd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=s1(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(IC(s)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Oc(t,e,n,r){return t instanceof hf?function(a,u,f,h){if(!dd(a.precondition,u))return f;const d=a.value.clone(),g=o1(a.fieldTransforms,h,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof mo?function(a,u,f,h){if(!dd(a.precondition,u))return f;const d=o1(a.fieldTransforms,h,u),g=u.data;return g.setAll(IC(a)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,u,f){return dd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function _L(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=SC(r.transform,s||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function i1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$l(r,s,(a,u)=>mL(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hf extends hp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mo extends hp{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function IC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s1(t,e,n){const r=new Map;gt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,pL(u,f,n[s]))}return r}function o1(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,dL(a,u,e))}return r}class dp extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vL extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&yL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bC();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(s.key)?null:f;const h=RC(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(n,r)=>i1(n,r))&&$l(this.baseMutations,e.baseMutations,(n,r)=>i1(n,r))}}class o0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){gt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return lL}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new o0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,at;function TL(t){switch(t){case ge.OK:return Be(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function NC(t){if(t===void 0)return cs("GRPC error has no .code"),ge.UNKNOWN;switch(t){case tn.OK:return ge.OK;case tn.CANCELLED:return ge.CANCELLED;case tn.UNKNOWN:return ge.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ge.INTERNAL;case tn.UNAVAILABLE:return ge.UNAVAILABLE;case tn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case tn.NOT_FOUND:return ge.NOT_FOUND;case tn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case tn.ABORTED:return ge.ABORTED;case tn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case tn.DATA_LOSS:return ge.DATA_LOSS;default:return Be(39323,{code:t})}}(at=tn||(tn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new ro([4294967295,4294967295],0);function a1(t){const e=Zx().encode(t),n=new qx;return n.update(e),new Uint8Array(n.digest())}function l1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ro([n,r],0),new ro([s,a],0)]}class a0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cc(`Invalid padding: ${n}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ro.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(ro.fromNumber(r)));return s.compare(SL)===1&&(s=new ro([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=a1(e),[r,s]=l1(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new a0(a,s,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=a1(e),[r,s]=l1(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pp(je.min(),s,new zt(Ke),fs(),rt())}}class df{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new df(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class kC{constructor(e,n){this.targetId=e,this.Ce=n}}class DC{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class u1{constructor(){this.Fe=0,this.Me=c1(),this.xe=Nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=rt(),n=rt(),r=rt();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:a})}}),new df(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=c1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AL{constructor(e){this.ze=e,this.je=new Map,this.He=fs(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new zt(Ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(t_(a))if(r===0){const u=new Pe(a.path);this.tt(n,u,Vn.newNoDocument(u,je.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const f=this.ct(e),h=f?this.lt(f,e,u):1;if(h!==0){this.st(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,f;try{u=uo(r).toUint8Array()}catch(h){if(h instanceof nC)return ql("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new a0(u,s,a)}catch(h){return ql(h instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,u)=>{const f=this._t(u);if(f){if(a.current&&t_(f.target)){const h=new Pe(f.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,Vn.newNoDocument(h,e))}a.Le&&(n.set(u,a.qe()),a.Qe())}});let r=rt();this.Ye.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new pp(e,n,this.Ze,this.He,r);return this.He=fs(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new zt(Ke),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new u1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new fn(Ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new fn(Ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new u1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Wh(){return new zt(Pe.comparator)}function c1(){return new zt(Pe.comparator)}const xL={asc:"ASCENDING",desc:"DESCENDING"},CL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RL={and:"AND",or:"OR"};class IL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function i_(t,e){return t.useProto3Json||ap(e)?e:{value:e}}function Ld(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NL(t,e){return Ld(t,e.toTimestamp())}function xi(t){return gt(!!t,49232),je.fromTimestamp(function(n){const r=lo(n);return new Mt(r.seconds,r.nanos)}(t))}function l0(t,e){return s_(t,e).canonicalString()}function s_(t,e){const n=function(s){return new Ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MC(t){const e=Ot.fromString(t);return gt(zC(e),10190,{key:e.toString()}),e}function o_(t,e){return l0(t.databaseId,e.path)}function Jg(t,e){const n=MC(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(VC(n))}function PC(t,e){return l0(t.databaseId,e)}function kL(t){const e=MC(t);return e.length===4?Ot.emptyPath():VC(e)}function a_(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VC(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function f1(t,e,n){return{name:o_(t,e),fields:n.value.mapValue.fields}}function DL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Be(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(d,g){return d.useProto3Json?(gt(g===void 0||typeof g=="string",58123),Nn.fromBase64String(g||"")):(gt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Nn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(d){const g=d.code===void 0?ge.UNKNOWN:NC(d.code);return new Se(g,d.message||"")}(u);n=new DC(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jg(t,r.document.name),a=xi(r.document.updateTime),u=r.document.createTime?xi(r.document.createTime):je.min(),f=new Wn({mapValue:{fields:r.document.fields}}),h=Vn.newFoundDocument(s,a,u,f),d=r.targetIds||[],g=r.removedTargetIds||[];n=new pd(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jg(t,r.document),a=r.readTime?xi(r.readTime):je.min(),u=Vn.newNoDocument(s,a),f=r.removedTargetIds||[];n=new pd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jg(t,r.document),a=r.removedTargetIds||[];n=new pd([],a,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new bL(s,a),f=r.targetId;n=new kC(f,u)}}return n}function OL(t,e){let n;if(e instanceof hf)n={update:f1(t,e.key,e.value)};else if(e instanceof dp)n={delete:o_(t,e.key)};else if(e instanceof mo)n={update:f1(t,e.key,e.data),updateMask:FL(e.fieldMask)};else{if(!(e instanceof vL))return Be(16599,{ft:e.type});n={verify:o_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof Pd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ef)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Vd)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Be(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:NL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(t,e.precondition)),n}function ML(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map(n=>function(s,a){let u=s.updateTime?xi(s.updateTime):xi(a);return u.isEqual(je.min())&&(u=xi(a)),new gL(u,s.transformResults||[])}(n,e))):[]}function PL(t,e){return{documents:[PC(t,e.path)]}}function VL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PC(t,s);const a=function(d){if(d.length!==0)return UC(Wr.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:Sl(v.field),direction:zL(v.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=i_(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function LL(t){let e=kL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){gt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const v=LC(_);return v instanceof Wr&&hC(v)?v.getFilters():[v]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(v=>function(x){return new Zc(Al(x.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(n.orderBy));let f=null;n.limit&&(f=function(_){let v;return v=typeof _=="object"?_.value:_,ap(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(_){const v=!!_.before,E=_.values||[];return new Md(E,v)}(n.startAt));let d=null;return n.endAt&&(d=function(_){const v=!_.before,E=_.values||[];return new Md(E,v)}(n.endAt)),rL(e,s,u,a,f,"F",h,d)}function UL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Al(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Al(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Al(n.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Al(n.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return rn.create(Al(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wr.create(n.compositeFilter.filters.map(r=>LC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function zL(t){return xL[t]}function BL(t){return CL[t]}function HL(t){return RL[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function Al(t){return In.fromServerFormat(t.fieldPath)}function UC(t){return t instanceof rn?function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(WT(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(WT(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:BL(n.op),value:n.value}}}(t):t instanceof Wr?function(n){const r=n.getFilters().map(s=>UC(s));return r.length===1?r[0]:{compositeFilter:{op:HL(n.op),filters:r}}}(t):Be(54877,{filter:t})}function FL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,s,a=je.min(),u=je.min(),f=Nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.wt=e}}function qL(t){const e=LL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?r_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.Cn=new GL}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(ao.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class GL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new fn(Ot.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new fn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BC=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(BC,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Kl(0)}static lr(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="LruGarbageCollector",YL=1048576;function p1([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class KL{constructor(e){this.Er=e,this.buffer=new fn(p1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(d1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tu(n)?Te(d1,"Ignoring IndexedDB error during garbage collection: ",n):await eu(n)}await this.mr(3e5)})}}class QL{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(op.le);const r=new KL(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(h1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,a,u,f,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),bl()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function WL(t,e){return new QL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Oc(r.mutation,s,dr.empty(),Mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const s=na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=xc();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=na();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,s){let a=fs();const u=Dc(),f=function(){return Dc()}();return n.forEach((h,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof mo)?a=a.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Oc(g.mutation,d,g.mutation.getFieldMask(),Mt.now())):u.set(d.key,dr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,g)=>u.set(d,g)),n.forEach((d,g)=>{var _;return f.set(d,new JL(g,(_=u.get(d))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Dc();let s=new zt((u,f)=>u-f),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let g=r.get(h)||dr.empty();g=f.applyToLocalView(d,g),r.set(h,g);const _=(s.get(f.batchId)||rt()).add(h);s=s.insert(f.batchId,_)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,g=h.value,_=bC();g.forEach(v=>{if(!a.has(v)){const E=RC(n.get(v),r.get(v));E!==null&&_.set(v,E),a=a.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return ye.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ye.resolve(na());let f=Kc,h=a;return u.next(d=>ye.forEach(d,(g,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(g)?ye.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{h=h.insert(g,v)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,rt())).next(g=>({batchId:f,changes:wC(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let s=xc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=xc();return this.indexManager.getCollectionParents(e,a).next(f=>ye.forEach(f,h=>{const d=function(_,v){return new nu(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(u=>{a.forEach((h,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,Vn.newInvalidDocument(g)))});let f=xc();return u.forEach((h,d)=>{const g=a.get(h);g!==void 0&&Oc(g.mutation,d,dr.empty(),Mt.now()),cp(n,d)&&(f=f.insert(h,d))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ye.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xi(s.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:qL(s.bundledQuery),readTime:xi(s.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.overlays=new zt(Pe.comparator),this.Qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=na();return ye.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const s=na(),a=n.length+1,u=new Pe(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new zt((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=a.get(d.largestBatchId);g===null&&(g=na(),a=a.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const f=na(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>f.set(d,g)),!(f.size()>=s)););return ye.resolve(f)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new wL(n,r));let a=this.Qr.get(n);a===void 0&&(a=rt(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.$r=new fn(vn.Ur),this.Kr=new fn(vn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new vn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new vn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Pe(new Ot([])),r=new vn(n,e),s=new vn(n,e+1),a=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Pe(new Ot([])),r=new vn(n,e),s=new vn(n,e+1);let a=rt();return this.Kr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new vn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Pe.comparator(e.key,n.key)||Ke(e.Zr,n.Zr)}static Wr(e,n){return Ke(e.Zr,n.Zr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new fn(vn.Ur)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new EL(a,n,r,s);this.mutationQueue.push(u);for(const f of s)this.Xr=this.Xr.add(new vn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,n){return ye.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),a=s<0?0:s;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?e0:this.nr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),s=new vn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],u=>{const f=this.ei(u.Zr);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(Ke);return n.forEach(s=>{const a=new vn(s,0),u=new vn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],f=>{r=r.add(f.Zr)})}),ye.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const u=new vn(new Pe(a),0);let f=new fn(Ke);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(f=f.add(h.Zr)),!0)},u),ye.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ye.forEach(n.mutations,s=>{const a=new vn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new vn(n,0),s=this.Xr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.ii=e,this.docs=function(){return new zt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Vn.newInvalidDocument(s))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=fs();const u=n.path,f=new Pe(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||P3(M3(g),r)<=0||(s.has(g.key)||cp(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}si(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o6(this)}getSize(e){return ye.resolve(this.size)}}class o6 extends ZL{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.persistence=e,this.oi=new ga(n=>r0(n),i0),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this._i=0,this.ai=new u0,this.targetCount=0,this.ui=Kl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ye.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Tr(n),ye.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ye.waitFor(a).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.ci={},this.overlays={},this.li=new op(0),this.hi=!1,this.hi=!0,this.Pi=new r6,this.referenceDelegate=e(this),this.Ti=new a6(this),this.indexManager=new $L,this.remoteDocumentCache=function(s){return new s6(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new jL(n),this.Ei=new t6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new n6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new i6(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new l6(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,n){return ye.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class l6 extends L3{constructor(e){super(),this.currentSequenceNumber=e}}class c0{constructor(e){this.persistence=e,this.Vi=new u0,this.mi=null}static fi(e){return new c0(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.gi,r=>{const s=Pe.fromPath(r);return this.pi(e,s).next(a=>{a||n.removeEntry(s,je.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ye.or([()=>ye.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Ud{constructor(e,n){this.persistence=e,this.yi=new ga(r=>B3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=WL(this,n)}static fi(e,n){return new Ud(e,n)}di(){}Ai(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ye.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?ye.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(f=>{f||(r++,a.removeEntry(u,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fd(e.data.value)),n}Dr(e,n,r){return ye.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return ye.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=rt(),s=rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new f0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iV()?8:U3(Ln())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ws(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,n,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new u6;return this.Ss(e,n,u).next(f=>{if(a.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>a.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(bl()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ye.resolve()):(bl()<=nt.DEBUG&&Te("QueryEngine","Query:",Tl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(bl()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):ye.resolve())}ws(e,n){if(n1(n))return ye.resolve(null);let r=Ai(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=r_(n,null,"F"),r=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=rt(...a);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.vs(n,f);return this.Cs(n,d,u,h.readTime)?this.ws(e,r_(n,null,"F")):this.Fs(e,d,n,h)}))})))}bs(e,n,r,s){return n1(n)||s.isEqual(je.min())?ye.resolve(null):this.ys.getDocuments(e,r).next(a=>{const u=this.vs(n,a);return this.Cs(n,u,r,s)?ye.resolve(null):(bl()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Tl(n)),this.Fs(e,u,n,O3(s,Kc)).next(f=>f))})}vs(e,n){let r=new fn(vC(e));return n.forEach((s,a)=>{cp(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return bl()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ys.getDocumentsMatchingQuery(e,n,ao.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="LocalStore",f6=3e8;class h6{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new zt(Ke),this.Os=new ga(a=>r0(a),i0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function d6(t,e,n,r){return new h6(t,e,n,r)}async function FC(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=rt();for(const d of s){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of a){f.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:f}))})})}function p6(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,h,d,g){const _=d.batch,v=_.keys();let E=ye.resolve();return v.forEach(x=>{E=E.next(()=>g.getEntry(h,x)).next(R=>{const O=d.docVersions.get(x);gt(O!==null,48541),R.version.compareTo(O)<0&&(_.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),g.addEntry(R)))})}),E.next(()=>f.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=rt();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jC(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function m6(t,e){const n=qe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const f=[];e.targetChanges.forEach((g,_)=>{const v=s.get(_);if(!v)return;f.push(n.Ti.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(a,g.addedDocuments,_)));let E=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Nn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(_,E),function(R,O,M){return R.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=f6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(v,E,g)&&f.push(n.Ti.updateTargetData(a,E))});let h=fs(),d=rt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),f.push(g6(a,u,e.documentUpdates).next(g=>{h=g.qs,d=g.Qs})),!r.isEqual(je.min())){const g=n.Ti.getLastRemoteSnapshotVersion(a).next(_=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(g)}return ye.waitFor(f).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(n.xs=s,a))}function g6(t,e,n){let r=rt(),s=rt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=fs();return n.forEach((f,h)=>{const d=a.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Te(h0,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)}),{qs:u,Qs:s}})}function y6(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=e0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _6(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(a=>a?(s=a,ye.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new Zs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function l_(t,e,n){const r=qe(t),s=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!tu(u))throw u;Te(h0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function m1(t,e,n){const r=qe(t);let s=je.min(),a=rt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,d,g){const _=qe(h),v=_.Os.get(g);return v!==void 0?ye.resolve(_.xs.get(v)):_.Ti.getTargetData(d,g)}(r,u,Ai(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:je.min(),n?a:rt())).next(f=>(v6(r,sL(e),f),{documents:f,$s:a})))}function v6(t,e,n){let r=t.Ns.get(e)||je.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class g1{constructor(){this.activeTargetIds=fL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E6{constructor(){this.xo=new g1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new g1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="ConnectivityMonitor";class _1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(y1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function u_(){return Zh===null?Zh=function(){return 268435456+Math.round(2147483648*Math.random())}():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="RestConnection",b6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Dd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,a){const u=u_(),f=this.jo(e,n.toUriEncodedString());Te(ey,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(f),g=Wl(d);return this.Jo(e,f,h,r,g).then(_=>(Te(ey,`Received RPC '${e}' ${u}: `,_),_),_=>{throw ql(ey,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,s,a,u){return this.zo(e,n,r,s,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,n){const r=b6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="WebChannelConnection";class A6 extends T6{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const u=u_();return new Promise((f,h)=>{const d=new $x;d.setWithCredentials(!0),d.listenOnce(Gx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case cd.NO_ERROR:const _=d.getResponseJson();Te(Mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case cd.TIMEOUT:Te(Mn,`RPC '${e}' ${u} timed out`),h(new Se(ge.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const v=d.getStatus();if(Te(Mn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E?.error;if(x&&x.status&&x.message){const R=function(M){const q=M.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(q)>=0?q:ge.UNKNOWN}(x.status);h(new Se(R,x.message))}else h(new Se(ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Se(ge.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{h_:e,streamId:u,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Te(Mn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);Te(Mn,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",g,r,15)})}I_(e,n,r){const s=u_(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Xx(),f=Kx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");Te(Mn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const _=u.createWebChannel(g,h);this.E_(_);let v=!1,E=!1;const x=new S6({Zo:O=>{E?Te(Mn,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(v||(Te(Mn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),v=!0),Te(Mn,`RPC '${e}' stream ${s} sending:`,O),_.send(O))},Xo:()=>_.close()}),R=(O,M,q)=>{O.listen(M,$=>{try{q($)}catch(j){setTimeout(()=>{throw j},0)}})};return R(_,Ac.EventType.OPEN,()=>{E||(Te(Mn,`RPC '${e}' stream ${s} transport opened.`),x.__())}),R(_,Ac.EventType.CLOSE,()=>{E||(E=!0,Te(Mn,`RPC '${e}' stream ${s} transport closed`),x.u_(),this.d_(_))}),R(_,Ac.EventType.ERROR,O=>{E||(E=!0,ql(Mn,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),x.u_(new Se(ge.UNAVAILABLE,"The operation could not be completed")))}),R(_,Ac.EventType.MESSAGE,O=>{var M;if(!E){const q=O.data[0];gt(!!q,16349);const $=q,j=$?.error||((M=$[0])===null||M===void 0?void 0:M.error);if(j){Te(Mn,`RPC '${e}' stream ${s} received error:`,j);const X=j.status;let H=function(I){const z=tn[I];if(z!==void 0)return NC(z)}(X),P=j.message;H===void 0&&(H=ge.INTERNAL,P="Unknown error status: "+X+" with message "+j.message),E=!0,x.u_(new Se(H,P)),_.close()}else Te(Mn,`RPC '${e}' stream ${s} received:`,q),x.c_(q)}}),R(f,Yx.STAT_EVENT,O=>{O.stat===Qy.PROXY?Te(Mn,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===Qy.NOPROXY&&Te(Mn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function ty(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){return new IL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="PersistentStream";class $C{constructor(e,n,r,s,a,u,f,h){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new qC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Se(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Te(v1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Te(v1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x6 extends $C{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=DL(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?xi(u.readTime):je.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=a_(this.serializer),n.addTarget=function(a,u){let f;const h=u.target;if(f=t_(h)?{documents:PL(a,h)}:{query:VL(a,h).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=OC(a,u.resumeToken);const d=i_(a,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Ld(a,u.snapshotVersion.toTimestamp());const d=i_(a,u.expectedCount);d!==null&&(f.expectedCount=d)}return f}(this.serializer,e);const r=UL(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=a_(this.serializer),n.removeTarget=e,this.Q_(n)}}class C6 extends $C{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=ML(e.writeResults,e.commitTime),r=xi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=a_(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OL(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{}class I6 extends R6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Se(ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,s_(n,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ge.UNKNOWN,a.toString())})}Yo(e,n,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,s_(n,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ge.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class N6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(cs(n),this.ua=!1):Te("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class k6{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{r.enqueueAndForget(async()=>{ya(this)&&(Te(fa,"Restarting streams for network reachability change."),await async function(h){const d=qe(h);d.da.add(4),await pf(d),d.Va.set("Unknown"),d.da.delete(4),await gp(d)}(this))})}),this.Va=new N6(r,s)}}async function gp(t){if(ya(t))for(const e of t.Aa)await e(!0)}async function pf(t){for(const e of t.Aa)await e(!1)}function GC(t,e){const n=qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),g0(n)?m0(n):ru(n).N_()&&p0(n,e))}function d0(t,e){const n=qe(t),r=ru(n);n.Ea.delete(e),r.N_()&&YC(n,e),n.Ea.size===0&&(r.N_()?r.k_():ya(n)&&n.Va.set("Unknown"))}function p0(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ru(t).Z_(e)}function YC(t,e){t.ma.Ke(e),ru(t).X_(e)}function m0(t){t.ma=new AL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ru(t).start(),t.Va.ca()}function g0(t){return ya(t)&&!ru(t).O_()&&t.Ea.size>0}function ya(t){return qe(t).da.size===0}function KC(t){t.ma=void 0}async function D6(t){t.Va.set("Online")}async function O6(t){t.Ea.forEach((e,n)=>{p0(t,e)})}async function M6(t,e){KC(t),g0(t)?(t.Va.Pa(e),m0(t)):t.Va.set("Unknown")}async function P6(t,e,n){if(t.Va.set("Online"),e instanceof DC&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s.Ea.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ea.delete(f),s.ma.removeTarget(f))}(t,e)}catch(r){Te(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zd(t,r)}else if(e instanceof pd?t.ma.Xe(e):e instanceof kC?t.ma.ot(e):t.ma.nt(e),!n.isEqual(je.min()))try{const r=await jC(t.localStore);n.compareTo(r)>=0&&await function(a,u){const f=a.ma.It(u);return f.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ea.get(d);g&&a.Ea.set(d,g.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,d)=>{const g=a.Ea.get(h);if(!g)return;a.Ea.set(h,g.withResumeToken(Nn.EMPTY_BYTE_STRING,g.snapshotVersion)),YC(a,h);const _=new Zs(g.target,h,d,g.sequenceNumber);p0(a,_)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){Te(fa,"Failed to raise snapshot:",r),await zd(t,r)}}async function zd(t,e,n){if(!tu(e))throw e;t.da.add(1),await pf(t),t.Va.set("Offline"),n||(n=()=>jC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(fa,"Retrying IndexedDB access"),await n(),t.da.delete(1),await gp(t)})}function XC(t,e){return e().catch(n=>zd(t,n,e))}async function yp(t){const e=qe(t),n=fo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:e0;for(;V6(e);)try{const s=await y6(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,L6(e,s)}catch(s){await zd(e,s)}QC(e)&&WC(e)}function V6(t){return ya(t)&&t.Ia.length<10}function L6(t,e){t.Ia.push(e);const n=fo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function QC(t){return ya(t)&&!fo(t).O_()&&t.Ia.length>0}function WC(t){fo(t).start()}async function U6(t){fo(t).ia()}async function z6(t){const e=fo(t);for(const n of t.Ia)e.ta(n.mutations)}async function B6(t,e,n){const r=t.Ia.shift(),s=o0.from(r,e,n);await XC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await yp(t)}async function H6(t,e){e&&fo(t).ea&&await async function(r,s){if(function(u){return TL(u)&&u!==ge.ABORTED}(s.code)){const a=r.Ia.shift();fo(r).L_(),await XC(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await yp(r)}}(t,e),QC(t)&&WC(t)}async function E1(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Te(fa,"RemoteStore received new credentials");const r=ya(n);n.da.add(3),await pf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await gp(n)}async function F6(t,e){const n=qe(t);e?(n.da.delete(2),await gp(n)):e||(n.da.add(2),await pf(n),n.Va.set("Unknown"))}function ru(t){return t.fa||(t.fa=function(n,r,s){const a=qe(n);return a.oa(),new x6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:D6.bind(null,t),n_:O6.bind(null,t),i_:M6.bind(null,t),Y_:P6.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),g0(t)?m0(t):t.Va.set("Unknown")):(await t.fa.stop(),KC(t))})),t.fa}function fo(t){return t.ga||(t.ga=function(n,r,s){const a=qe(n);return a.oa(),new C6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:U6.bind(null,t),i_:H6.bind(null,t),na:z6.bind(null,t),ra:B6.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await yp(t)):(await t.ga.stop(),t.Ia.length>0&&(Te(fa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,f=new y0(e,n,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(t,e){if(cs("AsyncQueue",`${e}: ${t}`),tu(t))return new Se(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static emptySet(e){return new Dl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=xc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.pa=new zt(Pe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xl{constructor(e,n,r,s,a,u,f,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Xl(e,n,Dl.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class q6{constructor(){this.queries=b1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=qe(n),a=s.queries;s.queries=b1(),a.forEach((u,f)=>{for(const h of f.Sa)h.onError(r)})})(this,new Se(ge.ABORTED,"Firestore shutting down"))}}function b1(){return new ga(t=>_C(t),up)}async function $6(t,e){const n=qe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new j6,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(s,!0);break;case 1:a.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=_0(u,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&v0(n)}async function G6(t,e){const n=qe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Y6(t,e){const n=qe(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const f of u.Sa)f.Ma(s)&&(r=!0);u.ba=s}}r&&v0(n)}function K6(t,e,n){const r=qe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function v0(t){t.Ca.forEach(e=>{e.next()})}var c_,T1;(T1=c_||(c_={})).xa="default",T1.Cache="cache";class X6{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==c_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.key=e}}class JC{constructor(e){this.key=e}}class Q6{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.Za=vC(e),this.Xa=new Dl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new w1,s=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const v=s.get(g),E=cp(this.query,_)?_:null,x=!!v&&this.mutatedKeys.has(v.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let O=!1;v&&E?v.data.isEqual(E.data)?x!==R&&(r.track({type:3,doc:E}),O=!0):this.ru(v,E)||(r.track({type:2,doc:E}),O=!0,(h&&this.Za(E,h)>0||d&&this.Za(E,d)<0)&&(f=!0)):!v&&E?(r.track({type:0,doc:E}),O=!0):v&&!E&&(r.track({type:1,doc:v}),O=!0,(h||d)&&(f=!0)),O&&(E?(u=u.add(E),a=R?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Xa:u,nu:r,Cs:f,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((g,_)=>function(E,x){const R=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:O})}};return R(E)-R(x)}(g.type,_.type)||this.Za(g.doc,_.doc)),this.iu(r),s=s!=null&&s;const f=n&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,u.length!==0||d?{snapshot:new Xl(this.query,e.Xa,a,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new w1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=rt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new JC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new ZC(r))}),n}au(e){this.Ha=e.$s,this.Ya=rt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Xl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const E0="SyncEngine";class W6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Z6{constructor(e){this.key=e,this.cu=!1}}class J6{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new ga(f=>_C(f),up),this.Pu=new Map,this.Tu=new Set,this.Iu=new zt(Pe.comparator),this.Eu=new Map,this.du=new u0,this.Au={},this.Ru=new Map,this.Vu=Kl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function e9(t,e,n=!0){const r=sR(t);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await eR(r,e,n,!0),s}async function t9(t,e){const n=sR(t);await eR(n,e,!0,!1)}async function eR(t,e,n,r){const s=await _6(t.localStore,Ai(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return r&&(f=await n9(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&GC(t.remoteStore,s),f}async function n9(t,e,n,r,s){t.fu=(_,v,E)=>async function(R,O,M,q){let $=O.view.tu(M);$.Cs&&($=await m1(R.localStore,O.query,!1).then(({documents:P})=>O.view.tu(P,$)));const j=q&&q.targetChanges.get(O.targetId),X=q&&q.targetMismatches.get(O.targetId)!=null,H=O.view.applyChanges($,R.isPrimaryClient,j,X);return A1(R,O.targetId,H.ou),H.snapshot}(t,_,v,E);const a=await m1(t.localStore,e,!0),u=new Q6(e,a.$s),f=u.tu(a.documents),h=df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(f,t.isPrimaryClient,h);A1(t,n,d.ou);const g=new W6(e,n,u);return t.hu.set(e,g),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function r9(t,e,n){const r=qe(t),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(u=>!up(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await l_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&d0(r.remoteStore,s.targetId),f_(r,s.targetId)}).catch(eu)):(f_(r,s.targetId),await l_(r.localStore,s.targetId,!0))}async function i9(t,e){const n=qe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),d0(n.remoteStore,r.targetId))}async function s9(t,e,n){const r=h9(t);try{const s=await function(u,f){const h=qe(u),d=Mt.now(),g=f.reduce((E,x)=>E.add(x.key),rt());let _,v;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=fs(),R=rt();return h.Bs.getEntries(E,g).next(O=>{x=O,x.forEach((M,q)=>{q.isValidDocument()||(R=R.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,x)).next(O=>{_=O;const M=[];for(const q of f){const $=_L(q,_.get(q.key).overlayedDocument);$!=null&&M.push(new mo(q.key,$,uC($.value.mapValue),mr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,M,f)}).next(O=>{v=O;const M=O.applyToLocalDocumentSet(_,R);return h.documentOverlayCache.saveOverlays(E,O.batchId,M)})}).then(()=>({batchId:v.batchId,changes:wC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,h){let d=u.Au[u.currentUser.toKey()];d||(d=new zt(Ke)),d=d.insert(f,h),u.Au[u.currentUser.toKey()]=d}(r,s.batchId,n),await mf(r,s.changes),await yp(r.remoteStore)}catch(s){const a=_0(s,"Failed to persist write");n.reject(a)}}async function tR(t,e){const n=qe(t);try{const r=await m6(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Eu.get(a);u&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?gt(u.cu,14607):s.removedDocuments.size>0&&(gt(u.cu,42227),u.cu=!1))}),await mf(n,r,e)}catch(r){await eu(r)}}function S1(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((a,u)=>{const f=u.view.Fa(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const h=qe(u);h.onlineState=f;let d=!1;h.queries.forEach((g,_)=>{for(const v of _.Sa)v.Fa(f)&&(d=!0)}),d&&v0(h)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o9(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new zt(Pe.comparator);u=u.insert(a,Vn.newNoDocument(a,je.min()));const f=rt().add(a),h=new pp(je.min(),new Map,new zt(Ke),u,f);await tR(r,h),r.Iu=r.Iu.remove(a),r.Eu.delete(e),w0(r)}else await l_(r.localStore,e,!1).then(()=>f_(r,e,n)).catch(eu)}async function a9(t,e){const n=qe(t),r=e.batch.batchId;try{const s=await p6(n.localStore,e);rR(n,r,null),nR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mf(n,s)}catch(s){await eu(s)}}async function l9(t,e,n){const r=qe(t);try{const s=await function(u,f){const h=qe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,f).next(_=>(gt(_!==null,37113),g=_.keys(),h.mutationQueue.removeMutationBatch(d,_))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(r.localStore,e);rR(r,e,n),nR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mf(r,s)}catch(s){await eu(s)}}function nR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function rR(t,e,n){const r=qe(t);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function f_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||iR(t,r)})}function iR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(d0(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),w0(t))}function A1(t,e,n){for(const r of n)r instanceof ZC?(t.du.addReference(r.key,e),u9(t,r)):r instanceof JC?(Te(E0,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||iR(t,r.key)):Be(19791,{pu:r})}function u9(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Te(E0,"New document in limbo: "+n),t.Tu.add(r),w0(t))}function w0(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Pe(Ot.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Z6(n)),t.Iu=t.Iu.insert(n,r),GC(t.remoteStore,new Zs(Ai(gC(n.path)),r,"TargetPurposeLimboResolution",op.le))}}async function mf(t,e,n){const r=qe(t),s=[],a=[],u=[];r.hu.isEmpty()||(r.hu.forEach((f,h)=>{u.push(r.fu(h,e,n).then(d=>{var g;if((d||n)&&r.isPrimaryClient){const _=d?!d.fromCache:(g=n?.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(d){s.push(d);const _=f0.Rs(h.targetId,d);a.push(_)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(h,d){const g=qe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ye.forEach(d,v=>ye.forEach(v.ds,E=>g.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>ye.forEach(v.As,E=>g.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!tu(_))throw _;Te(h0,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const E=g.xs.get(v),x=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(x);g.xs=g.xs.insert(v,R)}}}(r.localStore,a))}async function c9(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Te(E0,"User change. New user:",e.toKey());const r=await FC(n.localStore,e);n.currentUser=e,function(a,u){a.Ru.forEach(f=>{f.forEach(h=>{h.reject(new Se(ge.CANCELLED,u))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mf(n,r.ks)}}function f9(t,e){const n=qe(t),r=n.Eu.get(e);if(r&&r.cu)return rt().add(r.key);{let s=rt();const a=n.Pu.get(e);if(!a)return s;for(const u of a){const f=n.hu.get(u);s=s.unionWith(f.view.eu)}return s}}function sR(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o9.bind(null,e),e.lu.Y_=Y6.bind(null,e.eventManager),e.lu.gu=K6.bind(null,e.eventManager),e}function h9(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l9.bind(null,e),e}class Bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return d6(this.persistence,new c6,e.initialUser,this.serializer)}Su(e){return new HC(c0.fi,this.serializer)}bu(e){return new E6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bd.provider={build:()=>new Bd};class d9 extends Bd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){gt(this.persistence.referenceDelegate instanceof Ud,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XL(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new HC(r=>Ud.fi(r,n),this.serializer)}}class h_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c9.bind(null,this.syncEngine),await F6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new q6}()}createDatastore(e){const n=mp(e.databaseInfo.databaseId),r=function(a){return new A6(a)}(e.databaseInfo);return function(a,u,f,h){return new I6(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,u,f){return new k6(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>S1(this.syncEngine,n,0),function(){return _1.C()?new _1:new w6}())}createSyncEngine(e,n){return function(s,a,u,f,h,d,g){const _=new J6(s,a,u,f,h,d);return g&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=qe(s);Te(fa,"RemoteStore shutting down."),a.da.add(5),await pf(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}h_.provider={build:()=>new h_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="FirestoreClient";class m9{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=Jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Te(ho,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Te(ho,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ny(t,e){t.asyncQueue.verifyOperationInProgress(),Te(ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await FC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g9(t);Te(ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>E1(e.remoteStore,s)),t._onlineComponents=e}async function g9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(ho,"Using user provided OfflineComponentProvider");try{await ny(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ql("Error using user provided cache. Falling back to memory cache: "+n),await ny(t,new Bd)}}else Te(ho,"Using default OfflineComponentProvider"),await ny(t,new d9(void 0));return t._offlineComponents}async function oR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(ho,"Using user provided OnlineComponentProvider"),await x1(t,t._uninitializedComponentsProvider._online)):(Te(ho,"Using default OnlineComponentProvider"),await x1(t,new h_))),t._onlineComponents}function y9(t){return oR(t).then(e=>e.syncEngine)}async function _9(t){const e=await oR(t),n=e.eventManager;return n.onListen=e9.bind(null,e.syncEngine),n.onUnlisten=r9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i9.bind(null,e.syncEngine),n}function v9(t,e,n={}){const r=new io;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,d){const g=new p9({next:v=>{g.xu(),u.enqueueAndForget(()=>G6(a,_)),v.fromCache&&h.source==="server"?d.reject(new Se(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new X6(f,g,{includeMetadataChanges:!0,Qa:!0});return $6(a,_)}(await _9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e,n){if(!n)throw new Se(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E9(t,e,n,r){if(e===!0&&r===!0)throw new Se(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R1(t){if(!Pe.isDocumentKey(t))throw new Se(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I1(t){if(Pe.isDocumentKey(t))throw new Se(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_p(t);throw new Se(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firestore.googleapis.com",N1=!0;class k1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uR,this.ssl=N1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:N1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YL)throw new Se(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S3;switch(r.type){case"firstParty":return new R3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=C1.get(n);r&&(Te("ComponentProvider","Removing Datastore"),C1.delete(n),r.terminate())}(this),Promise.resolve()}}function w9(t,e,n,r={}){var s;t=ha(t,vp);const a=Wl(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(Vx(`https://${h}`),Lx("Firestore",!0)),u.host!==uR&&u.host!==h&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:r});if(!la(d,f)&&(t._setSettings(d),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=Pn.MOCK_USER;else{g=X4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Se(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Pn(v)}t._authCredentials=new A3(new Wx(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _a(this.firestore,e,this._query)}}class gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class so extends _a{constructor(e,n,r){super(e,n,gC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new Pe(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function b0(t,e,...n){if(t=hn(t),lR("collection","path",e),t instanceof vp){const r=Ot.fromString(e,...n);return I1(r),new so(t,null,r)}{if(!(t instanceof gr||t instanceof so))throw new Se(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return I1(r),new so(t.firestore,null,r)}}function iu(t,e,...n){if(t=hn(t),arguments.length===1&&(e=Jx.newId()),lR("doc","path",e),t instanceof vp){const r=Ot.fromString(e,...n);return R1(r),new gr(t,null,new Pe(r))}{if(!(t instanceof gr||t instanceof so))throw new Se(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return R1(r),new gr(t.firestore,t instanceof so?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new qC(this,"async_queue_retry"),this.rc=()=>{const r=ty();r&&Te(D1,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=ty();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=ty();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new io;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!tu(e))throw e;Te(D1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,cs("INTERNAL UNHANDLED ERROR: ",M1(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=y0.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&Be(47125,{cc:M1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function M1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gf extends vp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new O1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,await e}}}function b9(t,e){const n=typeof t=="object"?t:Hx(),r=typeof t=="string"?t:Dd,s=Z_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=Y4("firestore");a&&w9(s,...a)}return s}function T0(t){if(t._terminated)throw new Se(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T9(t),t._firestoreClient}function T9(t){var e,n,r;const s=t._freezeSettings(),a=function(f,h,d,g){return new j3(f,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,aR(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new m9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const h=f?._online.build();return{_offline:f?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(Nn.fromBase64String(e))}catch(n){throw new Se(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=/^__.*__$/;class A9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new hf(e,this.data,n,this.fieldTransforms)}}class cR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ic:t})}}class C0{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new C0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Hd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(fR(this.Ic)&&S9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class x9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mp(e)}bc(e,n,r,s=!1){return new C0({Ic:e,methodName:n,wc:r,path:In.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R0(t){const e=t._freezeSettings(),n=mp(t._databaseId);return new x9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hR(t,e,n,r,s,a={}){const u=t.bc(a.merge||a.mergeFields?2:0,e,n,s);I0("Data must be an object, but it was:",u,r);const f=dR(r,u);let h,d;if(a.merge)h=new dr(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const v=d_(e,_,n);if(!u.contains(v))throw new Se(ge.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);mR(g,v)||g.push(v)}h=new dr(g),d=u.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,d=u.fieldTransforms;return new A9(new Wn(f),h,d)}class wp extends S0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wp}}function C9(t,e,n,r){const s=t.bc(1,e,n);I0("Data must be an object, but it was:",s,r);const a=[],u=Wn.empty();po(r,(h,d)=>{const g=N0(e,h,n);d=hn(d);const _=s.mc(g);if(d instanceof wp)a.push(g);else{const v=yf(d,_);v!=null&&(a.push(g),u.set(g,v))}});const f=new dr(a);return new cR(u,f,s.fieldTransforms)}function R9(t,e,n,r,s,a){const u=t.bc(1,e,n),f=[d_(e,r,n)],h=[s];if(a.length%2!=0)throw new Se(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)f.push(d_(e,a[v])),h.push(a[v+1]);const d=[],g=Wn.empty();for(let v=f.length-1;v>=0;--v)if(!mR(d,f[v])){const E=f[v];let x=h[v];x=hn(x);const R=u.mc(E);if(x instanceof wp)d.push(E);else{const O=yf(x,R);O!=null&&(d.push(E),g.set(E,O))}}const _=new dr(d);return new cR(g,_,u.fieldTransforms)}function I9(t,e,n,r=!1){return yf(n,t.bc(r?4:3,e))}function yf(t,e){if(pR(t=hn(t)))return I0("Unsupported field value:",e,t),dR(t,e);if(t instanceof S0)return function(r,s){if(!fR(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let h=yf(f,s.fc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Mt.fromDate(r);return{timestampValue:Ld(s.serializer,a)}}if(r instanceof Mt){const a=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ld(s.serializer,a)}}if(r instanceof A0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:OC(s.serializer,r._byteString)};if(r instanceof gr){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:l0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof x0)return function(u,f){return{mapValue:{fields:{[aC]:{stringValue:lC},[Od]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw f.gc("VectorValues must only contain numeric values.");return s0(f.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${_p(r)}`)}(t,e)}function dR(t,e){const n={};return tC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,(r,s)=>{const a=yf(s,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function pR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof A0||t instanceof Ql||t instanceof gr||t instanceof S0||t instanceof x0)}function I0(t,e,n){if(!pR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=_p(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function d_(t,e,n){if((e=hn(e))instanceof Ep)return e._internalPath;if(typeof e=="string")return N0(t,e);throw Hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const N9=new RegExp("[~\\*/\\[\\]]");function N0(t,e,n){if(e.search(N9)>=0)throw Hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ep(...e.split("."))._internalPath}catch{throw Hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hd(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new Se(ge.INVALID_ARGUMENT,f+t+h)}function mR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k9 extends gR{data(){return super.data()}}function bp(t,e){return typeof e=="string"?N0(t,e):e instanceof Ep?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k0{}class yR extends k0{}function O9(t,e,...n){let r=[];e instanceof k0&&r.push(e),r=r.concat(n),function(a){const u=a.filter(h=>h instanceof D0).length,f=a.filter(h=>h instanceof Tp).length;if(u>1||u>0&&f>0)throw new Se(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Tp extends yR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tp(e,n,r)}_apply(e){const n=this._parse(e);return _R(e._query,n),new _a(e.firestore,e.converter,n_(e._query,n))}_parse(e){const n=R0(e.firestore);return function(a,u,f,h,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Se(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){V1(_,g);const x=[];for(const R of _)x.push(P1(h,a,R));v={arrayValue:{values:x}}}else v=P1(h,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||V1(_,g),v=I9(f,u,_,g==="in"||g==="not-in");return rn.create(d,g,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function M9(t,e,n){const r=e,s=bp("where",t);return Tp._create(s,r,n)}class D0 extends k0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new D0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let u=s;const f=a.getFlattenedFilters();for(const h of f)_R(u,h),u=n_(u,h)}(e._query,n),new _a(e.firestore,e.converter,n_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class O0 extends yR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new O0(e,n)}_apply(e){const n=function(s,a,u){if(s.startAt!==null)throw new Se(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(a,u)}(e._query,this._field,this._direction);return new _a(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new nu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function P9(t,e="asc"){const n=e,r=bp("orderBy",t);return O0._create(r,n)}function P1(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new Se(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yC(e)&&n.indexOf("/")!==-1)throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!Pe.isDocumentKey(r))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QT(t,new Pe(r))}if(n instanceof gr)return QT(t,n._key);throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_p(n)}.`)}function V1(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _R(t,e){const n=function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V9{convertValue(e,n="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return po(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Od].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Qt(u.doubleValue));return new x0(a)}convertGeoPoint(e){return new A0(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=lo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);gt(zC(r),9688,{name:e});const s=new Qc(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return s.isEqual(n)||cs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class L9 extends gR{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class md extends L9{data(e={}){return super.data(e)}}class U9{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Jh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new md(this._firestore,this._userDataWriter,r.key,r,new Jh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const h=new md(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Jh(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new md(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Jh(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:z9(f.type),doc:h,oldIndex:d,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}class B9 extends V9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function M0(t){t=ha(t,_a);const e=ha(t.firestore,gf),n=T0(e),r=new B9(e);return D9(t._query),v9(n,t._query).then(s=>new U9(e,r,t,s))}function P0(t,e,n){t=ha(t,gr);const r=ha(t.firestore,gf),s=vR(t.converter,e,n);return V0(r,[hR(R0(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,mr.none())])}function H9(t){return V0(ha(t.firestore,gf),[new dp(t._key,mr.none())])}function V0(t,e){return function(r,s){const a=new io;return r.asyncQueue.enqueueAndForget(async()=>s9(await y9(r),s,a)),a.promise}(T0(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=R0(e)}set(e,n,r){this._verifyNotCommitted();const s=ry(e,this._firestore),a=vR(s.converter,n,r),u=hR(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,mr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const a=ry(e,this._firestore);let u;return u=typeof(n=hn(n))=="string"||n instanceof Ep?R9(this._dataReader,"WriteBatch.update",a._key,n,r,s):C9(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(u.toMutation(a._key,mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ry(e,this._firestore);return this._mutations=this._mutations.concat(new dp(n._key,mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ry(t,e){if((t=hn(t)).firestore!==e)throw new Se(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t){return T0(t=ha(t,gf)),new F9(t,e=>V0(t,e))}(function(e,n=!0){(function(s){Jl=s})(Zl),jl(new ua("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new gf(new x3(r.getProvider("auth-internal")),new I3(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(d.options.projectId,g)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),no(UT,zT,e),no(UT,zT,"esm2017")})();function L0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j9=wR,bR=new cf("auth","Firebase",wR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Q_("@firebase/auth");function q9(t,...e){Fd.logLevel<=nt.WARN&&Fd.warn(`Auth (${Zl}): ${t}`,...e)}function gd(t,...e){Fd.logLevel<=nt.ERROR&&Fd.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t,...e){throw U0(t,...e)}function Ci(t,...e){return U0(t,...e)}function TR(t,e,n){const r=Object.assign(Object.assign({},j9()),{[e]:n});return new cf("auth","Firebase",r).create(e,{appName:t.name})}function os(t){return TR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bR.create(t,...e)}function ze(t,e,...n){if(!t)throw U0(e,...n)}function rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function hs(t,e){t||rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $9(){return L1()==="http:"||L1()==="https:"}function L1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($9()||tV()||"connection"in navigator)?navigator.onLine:!0}function Y9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=Z4()||nV()}get(){return G9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q9=new _f(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function yo(t,e,n,r,s={}){return AR(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=ff(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},a);return eV()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(d.credentials="include"),SR.fetch()(await xR(t,t.config.apiHost,n,f),d)})}async function AR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},K9),e);try{const s=new Z9(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw ed(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw ed(t,"user-disabled",u);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw TR(t,g,d);Zr(t,g)}}catch(s){if(s instanceof ds)throw s;Zr(t,"network-request-failed",{message:String(s)})}}async function vf(t,e,n,r,s={}){const a=await yo(t,e,n,r,s);return"mfaPendingCredential"in a&&Zr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function xR(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?z0(t.config,s):`${t.config.apiScheme}://${s}`;return X9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function W9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),Q9.get())})}}function ed(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ci(t,e,r);return s.customData._tokenResponse=n,s}function U1(t){return t!==void 0&&t.enterprise!==void 0}class J9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e5(t,e){return yo(t,"GET","/v2/recaptchaConfig",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t5(t,e){return yo(t,"POST","/v1/accounts:delete",e)}async function jd(t,e){return yo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n5(t,e=!1){const n=hn(t),r=await n.getIdToken(e),s=B0(r);ze(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Mc(iy(s.auth_time)),issuedAtTime:Mc(iy(s.iat)),expirationTime:Mc(iy(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function iy(t){return Number(t)*1e3}function B0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dx(n);return s?JSON.parse(s):(gd("Failed to decode base64 JWT payload"),null)}catch(s){return gd("Caught error parsing JWT payload as JSON",s?.toString()),null}}function z1(t){const e=B0(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&r5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await tf(t,jd(n,{idToken:r}));ze(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?CR(a.providerUserInfo):[],f=o5(t.providerData,u),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!f?.length,g=h?d:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new m_(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function s5(t){const e=hn(t);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function CR(t){return t.map(e=>{var{providerId:n}=e,r=L0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(t,e){const n=await AR(t,{},async()=>{const r=ff({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await xR(t,s,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return t.emulatorConfig&&Wl(t.emulatorConfig.host)&&(h.credentials="include"),SR.fetch()(u,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l5(t,e){return yo(t,"POST","/v2/accounts:revokeToken",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=z1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await a5(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new Ol;return r&&(ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ze(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(ze(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=L0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new m_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await tf(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n5(this,e)}reload(){return s5(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await tf(this,t5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,f,h,d,g;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(f=n.tenantId)!==null&&f!==void 0?f:void 0,O=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,M=(d=n.createdAt)!==null&&d!==void 0?d:void 0,q=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:$,emailVerified:j,isAnonymous:X,providerData:H,stsTokenManager:P}=n;ze($&&P,e,"internal-error");const C=Ol.fromJSON(this.name,P);ze(typeof $=="string",e,"internal-error"),Fs(_,e.name),Fs(v,e.name),ze(typeof j=="boolean",e,"internal-error"),ze(typeof X=="boolean",e,"internal-error"),Fs(E,e.name),Fs(x,e.name),Fs(R,e.name),Fs(O,e.name),Fs(M,e.name),Fs(q,e.name);const I=new Qr({uid:$,auth:e,email:v,emailVerified:j,displayName:_,isAnonymous:X,photoURL:x,phoneNumber:E,tenantId:R,stsTokenManager:C,createdAt:M,lastLoginAt:q});return H&&Array.isArray(H)&&(I.providerData=H.map(z=>Object.assign({},z))),O&&(I._redirectEventId=O),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ol;s.updateFromServerResponse(n);const a=new Qr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await qd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ze(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?CR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,f=new Ol;f.updateFromIdToken(r);const h=new Qr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new m_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=new Map;function is(t){hs(t instanceof Function,"Expected a class definition");let e=B1.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,B1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RR.type="NONE";const H1=RR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=yd(this.userKey,s.apiKey,a),this.fullPersistenceKey=yd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await jd(this.auth,{idToken:e}).catch(()=>{});return n?Qr._fromGetAccountInfoResponse(this.auth,n,e):null}return Qr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ml(is(H1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||is(H1);const u=yd(r,e.config.apiKey,e.name);let f=null;for(const d of n)try{const g=await d._get(u);if(g){let _;if(typeof g=="string"){const v=await jd(e,{idToken:g}).catch(()=>{});if(!v)break;_=await Qr._fromGetAccountInfoResponse(e,v,g)}else _=Qr._fromJSON(e,g);d!==a&&(f=_),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ml(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Ml(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MR(e))return"Blackberry";if(PR(e))return"Webos";if(NR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(OR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IR(t=Ln()){return/firefox\//i.test(t)}function NR(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(t=Ln()){return/crios\//i.test(t)}function DR(t=Ln()){return/iemobile/i.test(t)}function OR(t=Ln()){return/android/i.test(t)}function MR(t=Ln()){return/blackberry/i.test(t)}function PR(t=Ln()){return/webos/i.test(t)}function H0(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u5(t=Ln()){var e;return H0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c5(){return rV()&&document.documentMode===10}function VR(t=Ln()){return H0(t)||OR(t)||PR(t)||MR(t)||/windows phone/i.test(t)||DR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e=[]){let n;switch(t){case"Browser":n=F1(Ln());break;case"Worker":n=`${F1(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e={}){return yo(t,"GET","/v2/passwordPolicy",go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=6;class p5{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:d5,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new f5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=is(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jd(this,{idToken:e}),r=await Qr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(os(this));const n=e?hn(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h5(this),n=new p5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&is(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&q9(`Error while retrieving App Check token: ${n.error}`),n?.token}}function va(t){return hn(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=fV(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g5(t){Sp=t}function UR(t){return Sp.loadJS(t)}function y5(){return Sp.recaptchaEnterpriseScript}function _5(){return Sp.gapiScript}function v5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class E5{constructor(){this.enterprise=new w5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class w5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const b5="recaptcha-enterprise",zR="NO_RECAPTCHA";class T5{constructor(e){this.type=b5,this.auth=va(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{e5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const d=new J9(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(h=>{f(h)})})}function s(a,u,f){const h=window.grecaptcha;U1(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(zR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E5().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!n&&U1(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=y5();h.length!==0&&(h+=f),UR(h).then(()=>{s(f,a,u)}).catch(d=>{u(d)})}}).catch(f=>{u(f)})})}}async function q1(t,e,n,r=!1,s=!1){const a=new T5(t);let u;if(s)u=zR;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,d=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function g_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await q1(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await q1(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e){const n=Z_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(la(a,e??{}))return s;Zr(s,"already-initialized")}return n.initialize({options:e})}function A5(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(is);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function x5(t,e,n){const r=va(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=BR(e),{host:u,port:f}=C5(e),h=f===null?"":`:${f}`,d={url:`${a}//${u}${h}/`},g=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(la(d,r.config.emulator)&&la(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Wl(u)?(Vx(`${a}//${u}${h}`),Lx("Auth",!0)):R5()}function BR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C5(t){const e=BR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:$1(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:$1(u)}}}function $1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rs("not implemented")}_getIdTokenResponse(e){return rs("not implemented")}_linkToIdToken(e,n){return rs("not implemented")}_getReauthenticationResolver(e){return rs("not implemented")}}async function I5(t,e){return yo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e){return vf(t,"POST","/v1/accounts:signInWithPassword",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}async function D5(t,e){return vf(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends F0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new nf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g_(e,n,"signInWithPassword",N5);case"emailLink":return k5(e,{email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g_(e,r,"signUpPassword",I5);case"emailLink":return D5(e,{idToken:n,email:this._email,oobCode:this._password});default:Zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e){return vf(t,"POST","/v1/accounts:signInWithIdp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5="http://localhost";class da extends F0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=L0(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new da(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pl(e,n)}buildRequest(){const e={requestUri:O5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ff(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P5(t){const e=Tc(Sc(t)).link,n=e?Tc(Sc(e)).deep_link_id:null,r=Tc(Sc(t)).deep_link_id;return(r?Tc(Sc(r)).link:null)||r||n||e||t}class j0{constructor(e){var n,r,s,a,u,f;const h=Tc(Sc(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,_=M5((s=h.mode)!==null&&s!==void 0?s:null);ze(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=P5(e);try{return new j0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.providerId=su.PROVIDER_ID}static credential(e,n){return nf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=j0.parseLink(n);return ze(r,"argument-error"),nf._fromEmailAndCode(e,r.code,r.tenantId)}}su.PROVIDER_ID="password";su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends HR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Ef{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xs.credential(n,r)}catch{return null}}}Xs.GOOGLE_SIGN_IN_METHOD="google.com";Xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Ef{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Ef{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){return vf(t,"POST","/v1/accounts:signUp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Qr._fromIdTokenResponse(e,r,s),u=G1(r);return new pa({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=G1(r);return new pa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function G1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends ds{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$d.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $d(e,n,r,s)}}function FR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$d._fromErrorAndOperation(t,a,e,r):a})}async function L5(t,e,n=!1){const r=await tf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U5(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(os(r));const s="reauthenticate";try{const a=await tf(t,FR(r,s,e,t),n);ze(a.idToken,r,"internal-error");const u=B0(a.idToken);ze(u,r,"internal-error");const{sub:f}=u;return ze(t.uid===f,r,"user-mismatch"),pa._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Zr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e,n=!1){if(Ur(t.app))return Promise.reject(os(t));const r="signIn",s=await FR(t,r,e),a=await pa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function z5(t,e){return jR(va(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t){const e=va(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function B5(t,e,n){if(Ur(t.app))return Promise.reject(os(t));const r=va(t),u=await g_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V5).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&qR(t),h}),f=await pa._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function H5(t,e,n){return Ur(t.app)?Promise.reject(os(t)):z5(hn(t),su.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qR(t),r})}function F5(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function j5(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function q5(t,e,n,r){return hn(t).onAuthStateChanged(e,n,r)}function $5(t){return hn(t).signOut()}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=1e3,Y5=10;class GR extends $R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);c5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Y5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GR.type="LOCAL";const K5=GR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends $R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YR.type="SESSION";const KR=YR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ap(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async d=>d(n.origin,a)),h=await X5(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ap.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const d=q0("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(v.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function W5(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function Z5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eU(){return XR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebaseLocalStorageDb",tU=1,Yd="firebaseLocalStorage",WR="fbase_key";class wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xp(t,e){return t.transaction([Yd],e?"readwrite":"readonly").objectStore(Yd)}function nU(){const t=indexedDB.deleteDatabase(QR);return new wf(t).toPromise()}function y_(){const t=indexedDB.open(QR,tU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Yd,{keyPath:WR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Yd)?e(r):(r.close(),await nU(),e(await y_()))})})}async function Y1(t,e,n){const r=xp(t,!0).put({[WR]:e,value:n});return new wf(r).toPromise()}async function rU(t,e){const n=xp(t,!1).get(e),r=await new wf(n).toPromise();return r===void 0?null:r.value}function K1(t,e){const n=xp(t,!0).delete(e);return new wf(n).toPromise()}const iU=800,sU=3;class ZR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ap._getInstance(eU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z5(),!this.activeServiceWorker)return;this.sender=new Q5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y_();return await Y1(e,Gd,"1"),await K1(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=xp(s,!1).getAll();return new wf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZR.type="LOCAL";const oU=ZR;new _f(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){return e?is(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends F0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lU(t){return jR(t.auth,new $0(t),t.bypassAuthState)}function uU(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),U5(n,new $0(t),t.bypassAuthState)}async function cU(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),L5(n,new $0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lU;case"linkViaPopup":case"linkViaRedirect":return cU;case"reauthViaPopup":case"reauthViaRedirect":return uU;default:Zr(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new _f(2e3,1e4);class Rl extends JR{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=q0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fU.get())};e()}}Rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="pendingRedirect",_d=new Map;class dU extends JR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await pU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pU(t,e){const n=yU(e),r=gU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mU(t,e){_d.set(t._key(),e)}function gU(t){return is(t._redirectPersistence)}function yU(t){return yd(hU,t.config.apiKey,t.name)}async function _U(t,e,n=!1){if(Ur(t.app))return Promise.reject(os(t));const r=va(t),s=aU(r,e),u=await new dU(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=10*60*1e3;class EU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vU&&this.cachedEventUids.clear(),this.cachedEventUids.has(X1(e))}saveEventToCache(e){this.cachedEventUids.add(X1(e)),this.lastProcessedEventTime=Date.now()}}function X1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function wU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e={}){return yo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SU=/^https?/;async function AU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bU(t);for(const n of e)try{if(xU(n))return}catch{}Zr(t,"unauthorized-domain")}function xU(t){const e=p_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!SU.test(n))return!1;if(TU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=new _f(3e4,6e4);function Q1(){const t=Ri().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RU(t){return new Promise((e,n)=>{var r,s,a;function u(){Q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q1(),n(Ci(t,"network-request-failed"))},timeout:CU.get()})}if(!((s=(r=Ri().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ri().gapi)===null||a===void 0)&&a.load)u();else{const f=v5("iframefcb");return Ri()[f]=()=>{gapi.load?u():n(Ci(t,"network-request-failed"))},UR(`${_5()}?onload=${f}`).catch(h=>n(h))}}).catch(e=>{throw vd=null,e})}let vd=null;function IU(t){return vd=vd||RU(t),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new _f(5e3,15e3),kU="__/auth/iframe",DU="emulator/auth/iframe",OU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PU(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z0(e,DU):`https://${t.config.authDomain}/${kU}`,r={apiKey:e.apiKey,appName:t.name,v:Zl},s=MU.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ff(r).slice(1)}`}async function VU(t){const e=await IU(t),n=Ri().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:PU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OU,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ci(t,"network-request-failed"),f=Ri().setTimeout(()=>{a(u)},NU.get());function h(){Ri().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UU=500,zU=600,BU="_blank",HU="http://localhost";class W1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FU(t,e,n,r=UU,s=zU){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},LU),{width:r.toString(),height:s.toString(),top:a,left:u}),d=Ln().toLowerCase();n&&(f=kR(d)?BU:n),IR(d)&&(e=e||HU,h.scrollbars="yes");const g=Object.entries(h).reduce((v,[E,x])=>`${v}${E}=${x},`,"");if(u5(d)&&f!=="_self")return jU(e||"",f),new W1(null);const _=window.open(e||"",f,g);ze(_,t,"popup-blocked");try{_.focus()}catch{}return new W1(_)}function jU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU="__/auth/handler",$U="emulator/auth/handler",GU=encodeURIComponent("fac");async function Z1(t,e,n,r,s,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zl,eventId:s};if(e instanceof HR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",cV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof Ef){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const g of Object.keys(f))f[g]===void 0&&delete f[g];const h=await t._getAppCheckToken(),d=h?`#${GU}=${encodeURIComponent(h)}`:"";return`${YU(t)}?${ff(f).slice(1)}${d}`}function YU({config:t}){return t.emulator?z0(t,$U):`https://${t.authDomain}/${qU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="webStorageSupport";class KU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KR,this._completeRedirectFn=_U,this._overrideRedirectResult=mU}async _openPopup(e,n,r,s){var a;hs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Z1(e,n,r,p_(),s);return FU(e,u,q0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Z1(e,n,r,p_(),s);return W5(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(hs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VU(e),r=new EU(e);return n.register("authEvent",s=>(ze(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sy,{type:sy},s=>{var a;const u=(a=s?.[0])===null||a===void 0?void 0:a[sy];u!==void 0&&n(!!u),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VR()||NR()||H0()}}const XU=KU;var J1="@firebase/auth",eS="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZU(t){jl(new ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LR(t)},d=new m5(r,s,a,h);return A5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jl(new ua("auth-internal",e=>{const n=va(e.getProvider("auth").getImmediate());return(r=>new QU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),no(J1,eS,WU(t)),no(J1,eS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU=5*60,ez=Px("authIdTokenMaxAge")||JU;let tS=null;const tz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ez)return;const s=n?.token;tS!==s&&(tS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nz(t=Hx()){const e=Z_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S5(t,{popupRedirectResolver:XU,persistence:[oU,K5,KR]}),r=Px("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=tz(a.toString());j5(n,u,()=>u(n.currentUser)),F5(n,f=>u(f))}}const s=Ox("auth");return s&&x5(n,`http://${s}`),n}function rz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}g5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ci("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",rz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZU("Browser");const iz={apiKey:"AIzaSyByTZ08eCsc2wv0VIWUHNtHSdmAA_JI5hM",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},tI=Bx(iz),Jr=b9(tI),Kd=nz(tI),_r={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},jn={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function sz(){const[t,e]=F.useState(""),[n,r]=F.useState(""),[s,a]=F.useState(!1),[u,f]=F.useState(!1),[h,d]=F.useState(""),g=async v=>{v.preventDefault(),f(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(jn.INVALID_EMAIL);if(n.length<6)throw new Error(jn.WEAK_PASSWORD);await B5(Kd,t,n)}catch(E){let x="Failed to create account";E.code==="auth/email-already-in-use"?x=jn.EMAIL_IN_USE:E.code==="auth/invalid-email"?x=jn.INVALID_EMAIL:E.code==="auth/weak-password"?x=jn.WEAK_PASSWORD:E.code==="auth/operation-not-allowed"?x="Email/password accounts are not enabled. Please contact support.":E.message&&(x=E.message),d(x)}finally{f(!1)}},_=async v=>{v.preventDefault(),f(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(jn.INVALID_EMAIL);await H5(Kd,t,n)}catch(E){let x="Failed to sign in";E.code==="auth/user-not-found"?x=jn.USER_NOT_FOUND:E.code==="auth/wrong-password"?x=jn.WRONG_PASSWORD:E.code==="auth/invalid-email"?x=jn.INVALID_EMAIL:E.code==="auth/user-disabled"?x="This account has been disabled. Please contact support.":E.code==="auth/too-many-requests"?x=jn.TOO_MANY_REQUESTS:E.message&&(x=E.message),d(x)}finally{f(!1)}};return fe.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"Arial, sans-serif",backgroundColor:"#f5f5f5"},children:fe.jsxs("div",{style:{padding:"2rem",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"white",minWidth:"300px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[fe.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:s?"Sign Up":"Sign In"}),fe.jsxs("form",{onSubmit:s?g:_,children:[fe.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:v=>e(v.target.value),required:!0,style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem",boxSizing:"border-box"}}),fe.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:v=>r(v.target.value),required:!0,style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem",boxSizing:"border-box"}}),fe.jsx("button",{type:"submit",disabled:u,style:{width:"100%",padding:"0.75rem",backgroundColor:u?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:u?"not-allowed":"pointer",marginBottom:"1rem"},children:u?"Loading...":s?"Sign Up":"Sign In"}),h&&fe.jsx("p",{style:{color:"red",textAlign:"center",marginBottom:"1rem",fontSize:"0.9rem"},children:h})]}),fe.jsxs("p",{style:{textAlign:"center",margin:0},children:[s?"Already have an account?":"Don't have an account?",fe.jsx("button",{type:"button",onClick:()=>a(!s),style:{background:"none",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",marginLeft:"0.5rem",fontSize:"1rem"},children:s?"Sign In":"Sign Up"})]})]})})}function oz({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:a,isLoading:u}){const[f,h]=F.useState(!1),d=async()=>{try{h(!0),await r()}catch(_){console.error("Error in sidebar create board:",_)}finally{h(!1)}},g=(_,v)=>{_.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(v)};return fe.jsx(fe.Fragment,{children:fe.jsxs("div",{className:"sidebar",children:[fe.jsxs("div",{className:"sidebar-header",children:[fe.jsx("h2",{children:"Launch Hacks"}),fe.jsx("button",{onClick:d,disabled:u||f,style:{opacity:u||f?.6:1,cursor:u||f?"not-allowed":"pointer"},children:f?"Creating...":"+ New Board"})]}),fe.jsxs("div",{className:"sidebar-content",children:[u&&fe.jsx("div",{className:"loading-indicator",children:"Switching boards..."}),fe.jsxs("div",{style:{padding:"10px",fontSize:"12px",color:"#666"},children:["Boards: ",t?.length||0]}),fe.jsx("ul",{children:t?.map(_=>fe.jsxs("li",{onClick:()=>!u&&n(_.id),className:e?.id===_.id?"active":"",children:[fe.jsx("span",{className:"board-name",children:_.name}),fe.jsxs("div",{className:"board-actions",children:[_.isOpen&&fe.jsx("span",{className:"open-indicator",children:""}),t.length>1&&fe.jsx("button",{className:"delete-btn",onClick:v=>g(v,_.id),title:"Delete board",children:""})]})]},_.id))})]}),fe.jsx("div",{className:"sidebar-footer",children:fe.jsx("button",{onClick:a,children:"Sign Out"})})]})})}function az({name:t,onSetName:e,user:n,isSaving:r}){const[s,a]=F.useState(!1),[u,f]=F.useState(t||"");F.useEffect(()=>{f(t||"")},[t]);const h=g=>{g.key==="Enter"&&(e(u),a(!1))},d=()=>{a(!0),f(t||"")};return fe.jsx(fe.Fragment,{children:fe.jsxs("div",{className:"name",children:[fe.jsx("div",{className:"app-container",children:fe.jsxs("header",{className:"app-header",children:[fe.jsx("h1",{children:"Tink Flow Editor"}),fe.jsxs("div",{className:"user-info",children:[fe.jsxs("p",{children:["Welcome,"," ",n?.isAnonymous?"Anonymous User":n?.email||"User"]}),r&&fe.jsx("span",{className:"save-indicator",children:" Saving..."})]})]})}),fe.jsxs("div",{className:"board-title-section",children:[s?fe.jsx("input",{type:"text",value:u,onChange:g=>f(g.target.value),onKeyDown:h,onBlur:()=>{e(u),a(!1)},autoFocus:!0}):fe.jsx("h6",{onClick:d,style:{cursor:"pointer"},children:t||"Untitled Board"}),fe.jsx("div",{className:"keyboard-shortcuts",children:fe.jsx("small",{children:" Tips: Ctrl+N for new board, Ctrl+1-9 to switch boards"})})]})]})})}const lz=({notification:t,onRemove:e})=>{const n=r=>{switch(r){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return fe.jsxs("div",{className:`notification notification-${t.type}`,children:[fe.jsxs("div",{className:"notification-content",children:[fe.jsx("span",{className:"notification-icon",children:n(t.type)}),fe.jsx("span",{className:"notification-message",children:t.message})]}),fe.jsx("button",{className:"notification-close",onClick:()=>e(t.id),children:""})]})},uz=({notifications:t,onRemove:e})=>t.length===0?null:fe.jsx("div",{className:"notifications-container",children:t.map(n=>fe.jsx(lz,{notification:n,onRemove:e},n.id))}),cz=async()=>{try{await $5(Kd)}catch(t){throw t}},fz=()=>{const[t,e]=F.useState(null);return F.useEffect(()=>{const r=q5(Kd,s=>{e(s)});return()=>r()},[]),{user:t,signOut:async()=>{try{await cz(),e(null)}catch(r){throw r}}}},nI=t=>!!(t&&t.uid),Vl=[{id:"1",type:"draggableEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",summary:"The _artificial intelligence_ system processes _natural language_ effectively",full_text:""},position:{x:250,y:25}},{id:"2",type:"draggableEditable",data:{label:"This is a simple sentence with multiple words to demonstrate word mode functionality",summary:"This is a simple sentence with multiple words to demonstrate word mode functionality",full_text:""},position:{x:100,y:125}},{id:"3",type:"draggableEditable",data:{label:"_Machine learning_ algorithms can _predict outcomes_ with high accuracy",summary:"_Machine learning_ algorithms can _predict outcomes_ with high accuracy",full_text:""},position:{x:400,y:125}},{id:"4",type:"staticEditable",data:{label:"Static node with _key concepts_ highlighted",summary:"Static node with _key concepts_ highlighted",full_text:""},position:{x:250,y:200},draggable:!1}],Ll=[{id:"e1-2",source:"1",target:"2"},{id:"e1-3",source:"1",target:"3"},{id:"e2-4",source:"2",target:"4"},{id:"e3-4",source:"3",target:"4"}],hz=async t=>{if(!nI({uid:t}))throw new Error(jn.AUTH_REQUIRED);try{const e=b0(Jr,_r.BOARDS),n=O9(e,M9("userId","==",t),P9("createdAt","desc")),r=await M0(n);if(r.empty){const a={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:Mt.now(),isOpen:!0};return await P0(iu(Jr,_r.BOARDS,a.id),a),[a]}return r.docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:Mt.now(),isOpen:!0,isFallback:!0}]}throw new Error(jn.LOAD_FAILED)}},nS=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),Vl;try{const e=b0(Jr,_r.BOARDS,t,_r.NODES),n=await M0(e);return n.empty?Vl:n.docs.map(s=>{const a=s.data(),u={...a.data};return{id:s.id,type:a.type,position:a.position,data:u,draggable:a.draggable,style:a.style}})}catch{return Vl}},rS=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),Ll;try{const e=b0(Jr,_r.BOARDS,t,_r.EDGES),n=await M0(e);return n.empty?Ll:n.docs.map(s=>({id:s.id,...s.data()}))}catch{return Ll}},dz=async(t,e)=>{if(!(!t||!e?.length))try{const n=ER(Jr);e.forEach(r=>{const s=iu(Jr,_r.BOARDS,t,_r.NODES,r.id),a={type:r.type,data:r.data,position:r.position,updatedAt:Mt.now()};r.draggable!==void 0&&(a.draggable=r.draggable),r.style!==void 0&&(a.style=r.style),n.set(s,a)}),await n.commit()}catch{throw new Error(jn.SAVE_FAILED)}},pz=async(t,e)=>{if(!(!t||!e?.length))try{const n=ER(Jr);e.forEach(r=>{const s=iu(Jr,_r.BOARDS,t,_r.EDGES,r.id),a={source:r.source,target:r.target,updatedAt:Mt.now()};r.sourceHandle!==void 0&&(a.sourceHandle=r.sourceHandle),r.targetHandle!==void 0&&(a.targetHandle=r.targetHandle),r.style!==void 0&&(a.style=r.style),r.markerEnd!==void 0&&(a.markerEnd=r.markerEnd),n.set(s,a)}),await n.commit()}catch{throw new Error(jn.SAVE_FAILED)}},mz=async(t,e,n)=>{if(!nI({uid:t}))throw new Error(jn.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:Mt.now(),isOpen:!1};return await P0(iu(Jr,_r.BOARDS,r.id),r),r}catch(r){throw r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},gz=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await H9(iu(Jr,_r.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},ml=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:Mt.now()};await P0(iu(Jr,_r.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},yz=(t,e={})=>{const[n,r,s]=p4([]),[a,u,f]=m4([]),[h,d]=F.useState(!0),[g,_]=F.useState(!1),[v,E]=F.useState(!1),[x,R]=F.useState([]),[O,M]=F.useState(null),q=F.useRef(null),{showSuccess:$,showError:j,showInfo:X}=e,H=A=>{const k=A.find(G=>G.isOpen===!0);if(k)return k;if(A.length>0){const G={...A[0],isOpen:!0};return ml(G.id,G).catch(console.error),G}return null};F.useEffect(()=>{(async()=>{if(t)try{d(!0);const k=await hz(t.uid);R(k);const G=k.some(Z=>Z.isFallback);G&&j&&j("Database index missing. Please create the required Firestore index. Check console for details.");const V=H(k);if(!V){console.error("No board found for user"),j&&j("No boards found. Creating a default board..."),r(Vl),u(Ll);return}M(V);const[K,J]=await Promise.all([nS(V.id),rS(V.id)]);r(K),u(J),X&&!G&&X("Board loaded successfully!")}catch(k){console.error("Error loading initial data:",k),j&&j("Failed to load board data. Using default board."),r(Vl),u(Ll)}finally{d(!1)}})()},[t,r,u]);const P=F.useCallback(async(A,k,G)=>{q.current&&clearTimeout(q.current);const V=setTimeout(async()=>{try{E(!0);const K=[];k&&k.length>0&&K.push(dz(A,k)),G&&G.length>0&&K.push(pz(A,G)),K.length>0&&(await Promise.all(K),console.log("Auto-save completed successfully"))}catch(K){console.error("Auto-save failed:",K),j&&j("Failed to save changes automatically")}finally{E(!1),q.current=null}},1e3);q.current=V},[j]);F.useEffect(()=>(!h&&O&&!g&&!O.isFallback&&P(O.id,n,a),()=>{q.current&&clearTimeout(q.current)}),[n,a,h,O,g]);const C=F.useCallback(async A=>{try{if(O?.id===A)return;if(O?.isFallback||x.find(G=>G.id===A)?.isFallback){j&&j("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(_(!0),O&&!O.isFallback){const G={...O,isOpen:!1};await ml(O.id,G),R(V=>V.map(K=>K.id===O.id?G:K))}const k=x.find(G=>G.id===A);if(k){const G={...k,isOpen:!0};await ml(A,G),M(G),R(J=>J.map(Z=>Z.id===A?G:Z));const[V,K]=await Promise.all([nS(A),rS(A)]);r(V),u(K),$&&$(`Switched to "${G.name}"`)}else console.error("Board not found:",A),j&&j("Board not found")}catch(k){console.error("Error switching board:",k),j&&j("Failed to switch board. Please try again.")}finally{_(!1)}},[O,x,r,u,$,j]),I=F.useCallback(async()=>{try{if(!t)return j&&j("You must be logged in to create a board"),null;X&&X("Creating new board..."),console.log("Creating new board for user:",t.uid),console.log("Current boards count:",x.length);const A=await mz(t.uid,null,x);if(A){if(console.log("Board created successfully:",A),O&&!O.isFallback){const G={...O,isOpen:!1};ml(O.id,G).catch(console.error)}const k={...A,isOpen:!0};return R(G=>{const V=G.map(K=>K.id===O?.id?{...K,isOpen:!1}:K);return[k,...V]}),M(k),ml(A.id,k).catch(console.error),r(Vl),u(Ll),$&&$("New board created and opened!"),k}else return j&&j("Failed to create board. Please try again."),null}catch(A){return console.error("Error creating new board:",A),j&&j(`Failed to create board: ${A.message}`),null}},[t,x,O,$,j,X,r,u]),z=F.useCallback(async A=>{try{if(x.length<=1){j&&j("Cannot delete the last board!");return}if(!x.find(G=>G.id===A)){console.error("Board not found for deletion"),j&&j("Board not found");return}if(X&&X("Deleting board..."),O?.id===A){const G=x.find(V=>V.id!==A);G&&await C(G.id)}await gz(A),R(G=>G.filter(V=>V.id!==A)),$&&$("Board deleted successfully!")}catch(k){console.error("Error deleting board:",k),j&&j("Failed to delete board. Please try again.")}},[x,O,C,$,j,X]),L=F.useCallback(async A=>{if(O&&O.name!==A){const k={...O,name:A};M(k),R(G=>G.map(V=>V.id===O.id?k:V));try{await ml(O.id,k),console.log("Board name updated successfully")}catch(G){console.error("Error updating board name:",G)}}},[O]),B=F.useCallback(()=>{q.current&&(clearTimeout(q.current),q.current=null),R([]),M(null),r([]),u([]),d(!0),_(!1),E(!1)},[r,u,q]);return{nodes:n,edges:a,allBoards:x,currentBoard:O,isLoading:h,isSwitchingBoard:g,isSaving:v,onNodesChange:s,onEdgesChange:f,switchToBoard:C,createNewBoard:I,deleteBoard:z,updateBoardName:L,clearBoardState:B}},_z=({allBoards:t,currentBoard:e,createNewBoard:n,switchToBoard:r})=>{F.useEffect(()=>{const s=a=>{if((a.ctrlKey||a.metaKey)&&a.key==="n"&&(a.preventDefault(),n()),(a.ctrlKey||a.metaKey)&&a.key>="1"&&a.key<="9"){a.preventDefault();const u=parseInt(a.key)-1;t[u]&&t[u].id!==e?.id&&r(t[u].id)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e,n,r])},vz=()=>{const[t,e]=F.useState([]),n=F.useCallback(d=>{const g=Date.now().toString(),_={id:g,timestamp:new Date,...d};return e(v=>[...v,_]),d.autoRemove!==!1&&setTimeout(()=>{r(g)},d.duration||5e3),g},[]),r=F.useCallback(d=>{e(g=>g.filter(_=>_.id!==d))},[]),s=F.useCallback(()=>{e([])},[]),a=F.useCallback((d,g={})=>n({type:"success",message:d,...g}),[n]),u=F.useCallback((d,g={})=>n({type:"error",message:d,duration:7e3,...g}),[n]),f=F.useCallback((d,g={})=>n({type:"info",message:d,...g}),[n]),h=F.useCallback((d,g={})=>n({type:"warning",message:d,duration:6e3,...g}),[n]);return{notifications:t,addNotification:n,removeNotification:r,clearAllNotifications:s,showSuccess:a,showError:u,showInfo:f,showWarning:h}},rI=t=>{const e=[],n=t.split("_");console.log("Parsing text:",t),console.log("Split parts:",n);for(let r=0;r<n.length;r++)if(r%2===0)n[r].split(/\s+/).filter(a=>a.trim()!=="").forEach(a=>{e.push({word:a.trim()})});else{const s=n[r].trim();s.split(/\s+/).filter(u=>u.trim()!=="").forEach(u=>{e.push({word:u.trim(),myConcept:s})})}return console.log("Parsed tokens:",e),e},iS=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return t[Math.floor(Math.random()*t.length)]},Ez=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16),a=30,u=Math.min(255,Math.max(0,n+(Math.random()-.5)*a*2)),f=Math.min(255,Math.max(0,r+(Math.random()-.5)*a*2)),h=Math.min(255,Math.max(0,s+(Math.random()-.5)*a*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(f).toString(16).padStart(2,"0")}${Math.round(h).toString(16).padStart(2,"0")}`},wz=(t,e)=>{const s=[0,45,90,135,180,225,270,315];for(const u of s){const f=u*Math.PI/180,h=t.x+Math.cos(f)*200,d=t.y+Math.sin(f)*200;if(!e.some(_=>Math.sqrt(Math.pow(_.position.x-h,2)+Math.pow(_.position.y-d,2))<150))return{x:h,y:d}}const a=Math.random()*2*Math.PI;return{x:t.x+Math.cos(a)*(200+Math.random()*100),y:t.y+Math.sin(a)*(200+Math.random()*100)}},bz=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Tz=(t,e)=>`edge_${t}_${e}`,Sz=(t,e,n,r,s)=>({id:bz(),type:"draggableEditable",position:t,data:{label:e,summary:e,full_text:"",myColor:n,onCallback:s}}),Az=(t,e,n)=>({id:Tz(t,e),source:t,target:e,style:{stroke:n,strokeWidth:3},markerEnd:{type:$c.ArrowClosed,color:n}}),iI=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16);return(.299*n+.587*r+.114*s)/255>.5?"#000000":"#FFFFFF"},sI=(t,e)=>{const n=t.replace("#",""),r=parseInt(n.substr(0,2),16),s=parseInt(n.substr(2,2),16),a=parseInt(n.substr(4,2),16),u=Math.max(0,Math.floor(r*(1-e/100))),f=Math.max(0,Math.floor(s*(1-e/100))),h=Math.max(0,Math.floor(a*(1-e/100)));return`#${u.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}`};function xz(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Cz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Iz={};function sS(t,e){return(Iz.jsx?Rz:Cz).test(t)}const Nz=/[ \t\n\f\r]/g;function kz(t){return typeof t=="object"?t.type==="text"?oS(t.value):!1:oS(t)}function oS(t){return t.replace(Nz,"")===""}class bf{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}bf.prototype.normal={};bf.prototype.property={};bf.prototype.space=void 0;function oI(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new bf(n,r,e)}function __(t){return t.toLowerCase()}class er{constructor(e,n){this.attribute=n,this.property=e}}er.prototype.attribute="";er.prototype.booleanish=!1;er.prototype.boolean=!1;er.prototype.commaOrSpaceSeparated=!1;er.prototype.commaSeparated=!1;er.prototype.defined=!1;er.prototype.mustUseProperty=!1;er.prototype.number=!1;er.prototype.overloadedBoolean=!1;er.prototype.property="";er.prototype.spaceSeparated=!1;er.prototype.space=void 0;let Dz=0;const Ge=Ea(),nn=Ea(),v_=Ea(),Ee=Ea(),It=Ea(),Ul=Ea(),hr=Ea();function Ea(){return 2**++Dz}const E_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:nn,commaOrSpaceSeparated:hr,commaSeparated:Ul,number:Ee,overloadedBoolean:v_,spaceSeparated:It},Symbol.toStringTag,{value:"Module"})),oy=Object.keys(E_);class G0 extends er{constructor(e,n,r,s){let a=-1;if(super(e,n),aS(this,"space",s),typeof r=="number")for(;++a<oy.length;){const u=oy[a];aS(this,oy[a],(r&E_[u])===E_[u])}}}G0.prototype.defined=!0;function aS(t,e,n){n&&(t[e]=n)}function ou(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const a=new G0(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[__(r)]=r,n[__(a.attribute)]=r}return new bf(e,n,t.space)}const aI=ou({properties:{ariaActiveDescendant:null,ariaAtomic:nn,ariaAutoComplete:null,ariaBusy:nn,ariaChecked:nn,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:It,ariaCurrent:null,ariaDescribedBy:It,ariaDetails:null,ariaDisabled:nn,ariaDropEffect:It,ariaErrorMessage:null,ariaExpanded:nn,ariaFlowTo:It,ariaGrabbed:nn,ariaHasPopup:null,ariaHidden:nn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:It,ariaLevel:Ee,ariaLive:null,ariaModal:nn,ariaMultiLine:nn,ariaMultiSelectable:nn,ariaOrientation:null,ariaOwns:It,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:nn,ariaReadOnly:nn,ariaRelevant:null,ariaRequired:nn,ariaRoleDescription:It,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:nn,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function lI(t,e){return e in t?t[e]:e}function uI(t,e){return lI(t,e.toLowerCase())}const Oz=ou({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ul,acceptCharset:It,accessKey:It,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:It,autoFocus:Ge,autoPlay:Ge,blocking:It,capture:null,charSet:null,checked:Ge,cite:null,className:It,cols:Ee,colSpan:null,content:null,contentEditable:nn,controls:Ge,controlsList:It,coords:Ee|Ul,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:v_,draggable:nn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:It,height:Ee,hidden:v_,high:Ee,href:null,hrefLang:null,htmlFor:It,httpEquiv:It,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:It,itemRef:It,itemScope:Ge,itemType:It,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:Ee,pattern:null,ping:It,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:It,required:Ge,reversed:Ge,rows:Ee,rowSpan:Ee,sandbox:It,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:nn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:nn,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:It,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:nn,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:uI}),Mz=ou({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hr,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:It,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ul,g2:Ul,glyphName:Ul,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:hr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:It,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hr,rev:hr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hr,requiredFeatures:hr,requiredFonts:hr,requiredFormats:hr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:hr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hr,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lI}),cI=ou({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),fI=ou({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:uI}),hI=ou({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Pz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Vz=/[A-Z]/g,lS=/-[a-z]/g,Lz=/^data[-\w.:]+$/i;function Uz(t,e){const n=__(e);let r=e,s=er;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Lz.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(lS,Bz);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!lS.test(a)){let u=a.replace(Vz,zz);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=G0}return new s(r,e)}function zz(t){return"-"+t.toLowerCase()}function Bz(t){return t.charAt(1).toUpperCase()}const Hz=oI([aI,Oz,cI,fI,hI],"html"),Y0=oI([aI,Mz,cI,fI,hI],"svg");function Fz(t){return t.join(" ").trim()}var gl={},ay,uS;function jz(){if(uS)return ay;uS=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,h=`
`,d="/",g="*",_="",v="comment",E="declaration";ay=function(R,O){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];O=O||{};var M=1,q=1;function $(A){var k=A.match(e);k&&(M+=k.length);var G=A.lastIndexOf(h);q=~G?A.length-G:q+A.length}function j(){var A={line:M,column:q};return function(k){return k.position=new X(A),C(),k}}function X(A){this.start=A,this.end={line:M,column:q},this.source=O.source}X.prototype.content=R;function H(A){var k=new Error(O.source+":"+M+":"+q+": "+A);if(k.reason=A,k.filename=O.source,k.line=M,k.column=q,k.source=R,!O.silent)throw k}function P(A){var k=A.exec(R);if(k){var G=k[0];return $(G),R=R.slice(G.length),k}}function C(){P(n)}function I(A){var k;for(A=A||[];k=z();)k!==!1&&A.push(k);return A}function z(){var A=j();if(!(d!=R.charAt(0)||g!=R.charAt(1))){for(var k=2;_!=R.charAt(k)&&(g!=R.charAt(k)||d!=R.charAt(k+1));)++k;if(k+=2,_===R.charAt(k-1))return H("End of comment missing");var G=R.slice(2,k-2);return q+=2,$(G),R=R.slice(k),q+=2,A({type:v,comment:G})}}function L(){var A=j(),k=P(r);if(k){if(z(),!P(s))return H("property missing ':'");var G=P(a),V=A({type:E,property:x(k[0].replace(t,_)),value:G?x(G[0].replace(t,_)):_});return P(u),V}}function B(){var A=[];I(A);for(var k;k=L();)k!==!1&&(A.push(k),I(A));return A}return C(),B()};function x(R){return R?R.replace(f,_):_}return ay}var cS;function qz(){if(cS)return gl;cS=1;var t=gl&&gl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gl,"__esModule",{value:!0}),gl.default=n;var e=t(jz());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var u=(0,e.default)(r),f=typeof s=="function";return u.forEach(function(h){if(h.type==="declaration"){var d=h.property,g=h.value;f?s(d,g,h):g&&(a=a||{},a[d]=g)}}),a}return gl}var gc={},fS;function $z(){if(fS)return gc;fS=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},u=function(d,g){return g.toUpperCase()},f=function(d,g){return"".concat(g,"-")},h=function(d,g){return g===void 0&&(g={}),a(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(s,f):d=d.replace(r,f),d.replace(e,u))};return gc.camelCase=h,gc}var yc,hS;function Gz(){if(hS)return yc;hS=1;var t=yc&&yc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(qz()),n=$z();function r(s,a){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(f,h){f&&h&&(u[(0,n.camelCase)(f,a)]=h)}),u}return r.default=r,yc=r,yc}var Yz=Gz();const Kz=ma(Yz),dI=pI("end"),K0=pI("start");function pI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Xz(t){const e=K0(t),n=dI(t);if(e&&n)return{start:e,end:n}}function Pc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?dS(t.position):"start"in t||"end"in t?dS(t):"line"in t||"column"in t?w_(t):""}function w_(t){return pS(t&&t.line)+":"+pS(t&&t.column)}function dS(t){return w_(t&&t.start)+"-"+w_(t&&t.end)}function pS(t){return t&&typeof t=="number"?t:1}class Un extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},u=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(u=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const f=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=f?f.line:void 0,this.name=Pc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Un.prototype.file="";Un.prototype.name="";Un.prototype.reason="";Un.prototype.message="";Un.prototype.stack="";Un.prototype.column=void 0;Un.prototype.line=void 0;Un.prototype.ancestors=void 0;Un.prototype.cause=void 0;Un.prototype.fatal=void 0;Un.prototype.place=void 0;Un.prototype.ruleId=void 0;Un.prototype.source=void 0;const X0={}.hasOwnProperty,Qz=new Map,Wz=/[A-Z]/g,Zz=new Set(["table","tbody","thead","tfoot","tr"]),Jz=new Set(["td","th"]),mI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eB(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=lB(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=aB(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Y0:Hz,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=gI(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function gI(t,e,n){if(e.type==="element")return tB(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return nB(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return iB(t,e,n);if(e.type==="mdxjsEsm")return rB(t,e);if(e.type==="root")return sB(t,e,n);if(e.type==="text")return oB(t,e)}function tB(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Y0,t.schema=s),t.ancestors.push(e);const a=_I(t,e.tagName,!1),u=uB(t,e);let f=W0(t,e);return Zz.has(e.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!kz(h):!0})),yI(t,u,a,e),Q0(u,f),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function nB(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}rf(t,e.position)}function rB(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);rf(t,e.position)}function iB(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=Y0,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:_I(t,e.name,!0),u=cB(t,e),f=W0(t,e);return yI(t,u,a,e),Q0(u,f),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function sB(t,e,n){const r={};return Q0(r,W0(t,e)),t.create(e,t.Fragment,r,n)}function oB(t,e){return e.value}function yI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Q0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function aB(t,e,n){return r;function r(s,a,u,f){const d=Array.isArray(u.children)?n:e;return f?d(a,u,f):d(a,u)}}function lB(t,e){return n;function n(r,s,a,u){const f=Array.isArray(a.children),h=K0(r);return e(s,a,u,f,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function uB(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&X0.call(e.properties,s)){const a=fB(t,s,e.properties[s]);if(a){const[u,f]=a;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&Jz.has(e.tagName)?r=f:n[u]=f}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function cB(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const u=a.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else rf(t,e.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const f=r.value.data.estree.body[0];f.type,a=t.evaluater.evaluateExpression(f.expression)}else rf(t,e.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function W0(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:Qz;for(;++r<e.children.length;){const a=e.children[r];let u;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const d=s.get(h)||0;u=h+"-"+d,s.set(h,d+1)}}const f=gI(t,a,u);f!==void 0&&n.push(f)}return n}function fB(t,e,n){const r=Uz(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xz(n):Fz(n)),r.property==="style"){let s=typeof n=="object"?n:hB(t,String(n));return t.stylePropertyNameCase==="css"&&(s=dB(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?Pz[r.property]||r.property:r.attribute,n]}}function hB(t,e){try{return Kz(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new Un("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=mI+"#cannot-parse-style-attribute",s}}function _I(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,u;for(;++a<s.length;){const f=sS(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(a&&f.type==="Literal"),optional:!1}:f}r=u}else r=sS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return X0.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);rf(t)}function rf(t,e){const n=new Un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=mI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function dB(t){const e={};let n;for(n in t)X0.call(t,n)&&(e[pB(n)]=t[n]);return e}function pB(t){let e=t.replace(Wz,mB);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function mB(t){return"-"+t.toLowerCase()}const ly={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},gB={};function yB(t,e){const n=gB,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vI(t,r,s)}function vI(t,e,n){if(_B(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return mS(t.children,e,n)}return Array.isArray(t)?mS(t,e,n):""}function mS(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=vI(t[s],e,n);return r.join("")}function _B(t){return!!(t&&typeof t=="object")}const gS=document.createElement("i");function Z0(t){const e="&"+t+";";gS.innerHTML=e;const n=gS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ni(t,e,n,r){const s=t.length;let a=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);a<r.length;)u=r.slice(a,a+1e4),u.unshift(e,0),t.splice(...u),a+=1e4,e+=1e4}function Vr(t,e){return t.length>0?(Ni(t,t.length,0,e),t):e}const yS={}.hasOwnProperty;function vB(t){const e={};let n=-1;for(;++n<t.length;)EB(e,t[n]);return e}function EB(t,e){let n;for(n in e){const s=(yS.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let u;if(a)for(u in a){yS.call(s,u)||(s[u]=[]);const f=a[u];wB(s[u],Array.isArray(f)?f:f?[f]:[])}}}function wB(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ni(t,0,0,r)}function EI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ti=_o(/[A-Za-z]/),pr=_o(/[\dA-Za-z]/),bB=_o(/[#-'*+\--9=?A-Z^-~]/);function b_(t){return t!==null&&(t<32||t===127)}const T_=_o(/\d/),TB=_o(/[\dA-Fa-f]/),SB=_o(/[!-/:-@[-`{-~]/);function Fe(t){return t!==null&&t<-2}function Jn(t){return t!==null&&(t<0||t===32)}function pt(t){return t===-2||t===-1||t===32}const AB=_o(new RegExp("\\p{P}|\\p{S}","u")),xB=_o(/\s/);function _o(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function au(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let u="";if(a===37&&pr(t.charCodeAt(n+1))&&pr(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const f=t.charCodeAt(n+1);a<56320&&f>56319&&f<57344?(u=String.fromCharCode(a,f),s=1):u=""}else u=String.fromCharCode(a);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function Nt(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(h){return pt(h)?(t.enter(n),f(h)):e(h)}function f(h){return pt(h)&&a++<s?(t.consume(h),f):(t.exit(n),e(h))}}const CB={tokenize:RB};function RB(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Nt(t,e,"linePrefix")}function s(f){return t.enter("paragraph"),a(f)}function a(f){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Fe(f)?(t.consume(f),t.exit("chunkText"),a):(t.consume(f),u)}}const IB={tokenize:NB},_S={tokenize:kB};function NB(t){const e=this,n=[];let r=0,s,a,u;return f;function f($){if(r<n.length){const j=n[r];return e.containerState=j[1],t.attempt(j[0].continuation,h,d)($)}return d($)}function h($){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&q();const j=e.events.length;let X=j,H;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){H=e.events[X][1].end;break}M(r);let P=j;for(;P<e.events.length;)e.events[P][1].end={...H},P++;return Ni(e.events,X+1,0,e.events.slice(j)),e.events.length=P,d($)}return f($)}function d($){if(r===n.length){if(!s)return v($);if(s.currentConstruct&&s.currentConstruct.concrete)return x($);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(_S,g,_)($)}function g($){return s&&q(),M(r),v($)}function _($){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,x($)}function v($){return e.containerState={},t.attempt(_S,E,x)($)}function E($){return r++,n.push([e.currentConstruct,e.containerState]),v($)}function x($){if($===null){s&&q(),M(0),t.consume($);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),R($)}function R($){if($===null){O(t.exit("chunkFlow"),!0),M(0),t.consume($);return}return Fe($)?(t.consume($),O(t.exit("chunkFlow")),r=0,e.interrupt=void 0,f):(t.consume($),R)}function O($,j){const X=e.sliceStream($);if(j&&X.push(null),$.previous=a,a&&(a.next=$),a=$,s.defineSkip($.start),s.write(X),e.parser.lazy[$.start.line]){let H=s.events.length;for(;H--;)if(s.events[H][1].start.offset<u&&(!s.events[H][1].end||s.events[H][1].end.offset>u))return;const P=e.events.length;let C=P,I,z;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(I){z=e.events[C][1].end;break}I=!0}for(M(r),H=P;H<e.events.length;)e.events[H][1].end={...z},H++;Ni(e.events,C+1,0,e.events.slice(P)),e.events.length=H}}function M($){let j=n.length;for(;j-- >$;){const X=n[j];e.containerState=X[1],X[0].exit.call(e,t)}n.length=$}function q(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function kB(t,e,n){return Nt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function vS(t){if(t===null||Jn(t)||xB(t))return 1;if(AB(t))return 2}function J0(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const S_={name:"attention",resolveAll:DB,tokenize:OB};function DB(t,e){let n=-1,r,s,a,u,f,h,d,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[r][1].end},v={...t[n][1].start};ES(_,-h),ES(v,h),u={type:h>1?"strongSequence":"emphasisSequence",start:_,end:{...t[r][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},a={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:h>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[r][1].end={...u.start},t[n][1].start={...f.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Vr(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Vr(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",a,e]]),d=Vr(d,J0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Vr(d,[["exit",a,e],["enter",f,e],["exit",f,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,d=Vr(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,Ni(t,r-1,n-r+3,d),n=r+d.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function OB(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=vS(r);let a;return u;function u(h){return a=h,t.enter("attentionSequence"),f(h)}function f(h){if(h===a)return t.consume(h),f;const d=t.exit("attentionSequence"),g=vS(h),_=!g||g===2&&s||n.includes(h),v=!s||s===2&&g||n.includes(r);return d._open=!!(a===42?_:_&&(s||!v)),d._close=!!(a===42?v:v&&(g||!_)),e(h)}}function ES(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const MB={name:"autolink",tokenize:PB};function PB(t,e,n){let r=0;return s;function s(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(E){return Ti(E)?(t.consume(E),u):E===64?n(E):d(E)}function u(E){return E===43||E===45||E===46||pr(E)?(r=1,f(E)):d(E)}function f(E){return E===58?(t.consume(E),r=0,h):(E===43||E===45||E===46||pr(E))&&r++<32?(t.consume(E),f):(r=0,d(E))}function h(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):E===null||E===32||E===60||b_(E)?n(E):(t.consume(E),h)}function d(E){return E===64?(t.consume(E),g):bB(E)?(t.consume(E),d):n(E)}function g(E){return pr(E)?_(E):n(E)}function _(E){return E===46?(t.consume(E),r=0,g):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):v(E)}function v(E){if((E===45||pr(E))&&r++<63){const x=E===45?v:_;return t.consume(E),x}return n(E)}}const Cp={partial:!0,tokenize:VB};function VB(t,e,n){return r;function r(a){return pt(a)?Nt(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||Fe(a)?e(a):n(a)}}const wI={continuation:{tokenize:UB},exit:zB,name:"blockQuote",tokenize:LB};function LB(t,e,n){const r=this;return s;function s(u){if(u===62){const f=r.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),a}return n(u)}function a(u){return pt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function UB(t,e,n){const r=this;return s;function s(u){return pt(u)?Nt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return t.attempt(wI,e,n)(u)}}function zB(t){t.exit("blockQuote")}const bI={name:"characterEscape",tokenize:BB};function BB(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return SB(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const TI={name:"characterReference",tokenize:HB};function HB(t,e,n){const r=this;let s=0,a,u;return f;function f(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),h}function h(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,u=pr,g(_))}function d(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,u=TB,g):(t.enter("characterReferenceValue"),a=7,u=T_,g(_))}function g(_){if(_===59&&s){const v=t.exit("characterReferenceValue");return u===pr&&!Z0(r.sliceSerialize(v))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(_)&&s++<a?(t.consume(_),g):n(_)}}const wS={partial:!0,tokenize:jB},bS={concrete:!0,name:"codeFenced",tokenize:FB};function FB(t,e,n){const r=this,s={partial:!0,tokenize:X};let a=0,u=0,f;return h;function h(H){return d(H)}function d(H){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,f=H,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(H)}function g(H){return H===f?(u++,t.consume(H),g):u<3?n(H):(t.exit("codeFencedFenceSequence"),pt(H)?Nt(t,_,"whitespace")(H):_(H))}function _(H){return H===null||Fe(H)?(t.exit("codeFencedFence"),r.interrupt?e(H):t.check(wS,R,j)(H)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(H))}function v(H){return H===null||Fe(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(H)):pt(H)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Nt(t,E,"whitespace")(H)):H===96&&H===f?n(H):(t.consume(H),v)}function E(H){return H===null||Fe(H)?_(H):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(H))}function x(H){return H===null||Fe(H)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(H)):H===96&&H===f?n(H):(t.consume(H),x)}function R(H){return t.attempt(s,j,O)(H)}function O(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),M}function M(H){return a>0&&pt(H)?Nt(t,q,"linePrefix",a+1)(H):q(H)}function q(H){return H===null||Fe(H)?t.check(wS,R,j)(H):(t.enter("codeFlowValue"),$(H))}function $(H){return H===null||Fe(H)?(t.exit("codeFlowValue"),q(H)):(t.consume(H),$)}function j(H){return t.exit("codeFenced"),e(H)}function X(H,P,C){let I=0;return z;function z(G){return H.enter("lineEnding"),H.consume(G),H.exit("lineEnding"),L}function L(G){return H.enter("codeFencedFence"),pt(G)?Nt(H,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):B(G)}function B(G){return G===f?(H.enter("codeFencedFenceSequence"),A(G)):C(G)}function A(G){return G===f?(I++,H.consume(G),A):I>=u?(H.exit("codeFencedFenceSequence"),pt(G)?Nt(H,k,"whitespace")(G):k(G)):C(G)}function k(G){return G===null||Fe(G)?(H.exit("codeFencedFence"),P(G)):C(G)}}}function jB(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const uy={name:"codeIndented",tokenize:$B},qB={partial:!0,tokenize:GB};function $B(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),Nt(t,a,"linePrefix",5)(d)}function a(d){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?h(d):Fe(d)?t.attempt(qB,u,h)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||Fe(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),f)}function h(d){return t.exit("codeIndented"),e(d)}}function GB(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):Fe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):Nt(t,a,"linePrefix",5)(u)}function a(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Fe(u)?s(u):n(u)}}const YB={name:"codeText",previous:XB,resolve:KB,tokenize:QB};function KB(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function XB(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function QB(t,e,n){let r=0,s,a;return u;function u(_){return t.enter("codeText"),t.enter("codeTextSequence"),f(_)}function f(_){return _===96?(t.consume(_),r++,f):(t.exit("codeTextSequence"),h(_))}function h(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),h):_===96?(a=t.enter("codeTextSequence"),s=0,g(_)):Fe(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),h):(t.enter("codeTextData"),d(_))}function d(_){return _===null||_===32||_===96||Fe(_)?(t.exit("codeTextData"),h(_)):(t.consume(_),d)}function g(_){return _===96?(t.consume(_),s++,g):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",d(_))}}class WB{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&_c(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),_c(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),_c(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);_c(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);_c(this.left,n.reverse())}}}function _c(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function SI(t){const e={};let n=-1,r,s,a,u,f,h,d;const g=new WB(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ZB(g,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(u=g.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...g.get(s)[1].start},f=g.slice(s,n),f.unshift(r),g.splice(s,n-s+1,f))}}return Ni(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function ZB(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const a=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,h=[],d={};let g,_,v=-1,E=n,x=0,R=0;const O=[R];for(;E;){for(;t.get(++s)[1]!==E;);a.push(s),E._tokenizer||(g=r.sliceStream(E),E.next||g.push(null),_&&u.defineSkip(E.start),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=E,E=E.next}for(E=n;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(R=v+1,O.push(R),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(u.events=[],E?(E._tokenizer=void 0,E.previous=void 0):O.pop(),v=O.length;v--;){const M=f.slice(O[v],O[v+1]),q=a.pop();h.push([q,q+M.length-1]),t.splice(q,2,M)}for(h.reverse(),v=-1;++v<h.length;)d[x+h[v][0]]=x+h[v][1],x+=h[v][1]-h[v][0]-1;return d}const JB={resolve:t8,tokenize:n8},e8={partial:!0,tokenize:r8};function t8(t){return SI(t),t}function n8(t,e){let n;return r;function r(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(f)}function s(f){return f===null?a(f):Fe(f)?t.check(e8,u,a)(f):(t.consume(f),s)}function a(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function r8(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Nt(t,a,"linePrefix")}function a(u){if(u===null||Fe(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function AI(t,e,n,r,s,a,u,f,h){const d=h||Number.POSITIVE_INFINITY;let g=0;return _;function _(M){return M===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(M),t.exit(a),v):M===null||M===32||M===41||b_(M)?n(M):(t.enter(r),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),R(M))}function v(M){return M===62?(t.enter(a),t.consume(M),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),E(M))}function E(M){return M===62?(t.exit("chunkString"),t.exit(f),v(M)):M===null||M===60||Fe(M)?n(M):(t.consume(M),M===92?x:E)}function x(M){return M===60||M===62||M===92?(t.consume(M),E):E(M)}function R(M){return!g&&(M===null||M===41||Jn(M))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(r),e(M)):g<d&&M===40?(t.consume(M),g++,R):M===41?(t.consume(M),g--,R):M===null||M===32||M===40||b_(M)?n(M):(t.consume(M),M===92?O:R)}function O(M){return M===40||M===41||M===92?(t.consume(M),R):R(M)}}function xI(t,e,n,r,s,a){const u=this;let f=0,h;return d;function d(E){return t.enter(r),t.enter(s),t.consume(E),t.exit(s),t.enter(a),g}function g(E){return f>999||E===null||E===91||E===93&&!h||E===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(E):E===93?(t.exit(a),t.enter(s),t.consume(E),t.exit(s),t.exit(r),e):Fe(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),_(E))}function _(E){return E===null||E===91||E===93||Fe(E)||f++>999?(t.exit("chunkString"),g(E)):(t.consume(E),h||(h=!pt(E)),E===92?v:_)}function v(E){return E===91||E===92||E===93?(t.consume(E),f++,_):_(E)}}function CI(t,e,n,r,s,a){let u;return f;function f(v){return v===34||v===39||v===40?(t.enter(r),t.enter(s),t.consume(v),t.exit(s),u=v===40?41:v,h):n(v)}function h(v){return v===u?(t.enter(s),t.consume(v),t.exit(s),t.exit(r),e):(t.enter(a),d(v))}function d(v){return v===u?(t.exit(a),h(u)):v===null?n(v):Fe(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Nt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===u||v===null||Fe(v)?(t.exit("chunkString"),d(v)):(t.consume(v),v===92?_:g)}function _(v){return v===u||v===92?(t.consume(v),g):g(v)}}function Vc(t,e){let n;return r;function r(s){return Fe(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):pt(s)?Nt(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const i8={name:"definition",tokenize:o8},s8={partial:!0,tokenize:a8};function o8(t,e,n){const r=this;let s;return a;function a(E){return t.enter("definition"),u(E)}function u(E){return xI.call(r,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function f(E){return s=zl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),h):n(E)}function h(E){return Jn(E)?Vc(t,d)(E):d(E)}function d(E){return AI(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function g(E){return t.attempt(s8,_,_)(E)}function _(E){return pt(E)?Nt(t,v,"whitespace")(E):v(E)}function v(E){return E===null||Fe(E)?(t.exit("definition"),r.parser.defined.push(s),e(E)):n(E)}}function a8(t,e,n){return r;function r(f){return Jn(f)?Vc(t,s)(f):n(f)}function s(f){return CI(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function a(f){return pt(f)?Nt(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Fe(f)?e(f):n(f)}}const l8={name:"hardBreakEscape",tokenize:u8};function u8(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return Fe(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const c8={name:"headingAtx",resolve:f8,tokenize:h8};function f8(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ni(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function h8(t,e,n){let r=0;return s;function s(g){return t.enter("atxHeading"),a(g)}function a(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&r++<6?(t.consume(g),u):g===null||Jn(g)?(t.exit("atxHeadingSequence"),f(g)):n(g)}function f(g){return g===35?(t.enter("atxHeadingSequence"),h(g)):g===null||Fe(g)?(t.exit("atxHeading"),e(g)):pt(g)?Nt(t,f,"whitespace")(g):(t.enter("atxHeadingText"),d(g))}function h(g){return g===35?(t.consume(g),h):(t.exit("atxHeadingSequence"),f(g))}function d(g){return g===null||g===35||Jn(g)?(t.exit("atxHeadingText"),f(g)):(t.consume(g),d)}}const d8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TS=["pre","script","style","textarea"],p8={concrete:!0,name:"htmlFlow",resolveTo:y8,tokenize:_8},m8={partial:!0,tokenize:E8},g8={partial:!0,tokenize:v8};function y8(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function _8(t,e,n){const r=this;let s,a,u,f,h;return d;function d(N){return g(N)}function g(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),_}function _(N){return N===33?(t.consume(N),v):N===47?(t.consume(N),a=!0,R):N===63?(t.consume(N),s=3,r.interrupt?e:b):Ti(N)?(t.consume(N),u=String.fromCharCode(N),O):n(N)}function v(N){return N===45?(t.consume(N),s=2,E):N===91?(t.consume(N),s=5,f=0,x):Ti(N)?(t.consume(N),s=4,r.interrupt?e:b):n(N)}function E(N){return N===45?(t.consume(N),r.interrupt?e:b):n(N)}function x(N){const le="CDATA[";return N===le.charCodeAt(f++)?(t.consume(N),f===le.length?r.interrupt?e:B:x):n(N)}function R(N){return Ti(N)?(t.consume(N),u=String.fromCharCode(N),O):n(N)}function O(N){if(N===null||N===47||N===62||Jn(N)){const le=N===47,ve=u.toLowerCase();return!le&&!a&&TS.includes(ve)?(s=1,r.interrupt?e(N):B(N)):d8.includes(u.toLowerCase())?(s=6,le?(t.consume(N),M):r.interrupt?e(N):B(N)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):a?q(N):$(N))}return N===45||pr(N)?(t.consume(N),u+=String.fromCharCode(N),O):n(N)}function M(N){return N===62?(t.consume(N),r.interrupt?e:B):n(N)}function q(N){return pt(N)?(t.consume(N),q):z(N)}function $(N){return N===47?(t.consume(N),z):N===58||N===95||Ti(N)?(t.consume(N),j):pt(N)?(t.consume(N),$):z(N)}function j(N){return N===45||N===46||N===58||N===95||pr(N)?(t.consume(N),j):X(N)}function X(N){return N===61?(t.consume(N),H):pt(N)?(t.consume(N),X):$(N)}function H(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),h=N,P):pt(N)?(t.consume(N),H):C(N)}function P(N){return N===h?(t.consume(N),h=null,I):N===null||Fe(N)?n(N):(t.consume(N),P)}function C(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Jn(N)?X(N):(t.consume(N),C)}function I(N){return N===47||N===62||pt(N)?$(N):n(N)}function z(N){return N===62?(t.consume(N),L):n(N)}function L(N){return N===null||Fe(N)?B(N):pt(N)?(t.consume(N),L):n(N)}function B(N){return N===45&&s===2?(t.consume(N),V):N===60&&s===1?(t.consume(N),K):N===62&&s===4?(t.consume(N),Q):N===63&&s===3?(t.consume(N),b):N===93&&s===5?(t.consume(N),Z):Fe(N)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(m8,ne,A)(N)):N===null||Fe(N)?(t.exit("htmlFlowData"),A(N)):(t.consume(N),B)}function A(N){return t.check(g8,k,ne)(N)}function k(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),G}function G(N){return N===null||Fe(N)?A(N):(t.enter("htmlFlowData"),B(N))}function V(N){return N===45?(t.consume(N),b):B(N)}function K(N){return N===47?(t.consume(N),u="",J):B(N)}function J(N){if(N===62){const le=u.toLowerCase();return TS.includes(le)?(t.consume(N),Q):B(N)}return Ti(N)&&u.length<8?(t.consume(N),u+=String.fromCharCode(N),J):B(N)}function Z(N){return N===93?(t.consume(N),b):B(N)}function b(N){return N===62?(t.consume(N),Q):N===45&&s===2?(t.consume(N),b):B(N)}function Q(N){return N===null||Fe(N)?(t.exit("htmlFlowData"),ne(N)):(t.consume(N),Q)}function ne(N){return t.exit("htmlFlow"),e(N)}}function v8(t,e,n){const r=this;return s;function s(u){return Fe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):n(u)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function E8(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Cp,e,n)}}const w8={name:"htmlText",tokenize:b8};function b8(t,e,n){const r=this;let s,a,u;return f;function f(b){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(b),h}function h(b){return b===33?(t.consume(b),d):b===47?(t.consume(b),X):b===63?(t.consume(b),$):Ti(b)?(t.consume(b),C):n(b)}function d(b){return b===45?(t.consume(b),g):b===91?(t.consume(b),a=0,x):Ti(b)?(t.consume(b),q):n(b)}function g(b){return b===45?(t.consume(b),E):n(b)}function _(b){return b===null?n(b):b===45?(t.consume(b),v):Fe(b)?(u=_,K(b)):(t.consume(b),_)}function v(b){return b===45?(t.consume(b),E):_(b)}function E(b){return b===62?V(b):b===45?v(b):_(b)}function x(b){const Q="CDATA[";return b===Q.charCodeAt(a++)?(t.consume(b),a===Q.length?R:x):n(b)}function R(b){return b===null?n(b):b===93?(t.consume(b),O):Fe(b)?(u=R,K(b)):(t.consume(b),R)}function O(b){return b===93?(t.consume(b),M):R(b)}function M(b){return b===62?V(b):b===93?(t.consume(b),M):R(b)}function q(b){return b===null||b===62?V(b):Fe(b)?(u=q,K(b)):(t.consume(b),q)}function $(b){return b===null?n(b):b===63?(t.consume(b),j):Fe(b)?(u=$,K(b)):(t.consume(b),$)}function j(b){return b===62?V(b):$(b)}function X(b){return Ti(b)?(t.consume(b),H):n(b)}function H(b){return b===45||pr(b)?(t.consume(b),H):P(b)}function P(b){return Fe(b)?(u=P,K(b)):pt(b)?(t.consume(b),P):V(b)}function C(b){return b===45||pr(b)?(t.consume(b),C):b===47||b===62||Jn(b)?I(b):n(b)}function I(b){return b===47?(t.consume(b),V):b===58||b===95||Ti(b)?(t.consume(b),z):Fe(b)?(u=I,K(b)):pt(b)?(t.consume(b),I):V(b)}function z(b){return b===45||b===46||b===58||b===95||pr(b)?(t.consume(b),z):L(b)}function L(b){return b===61?(t.consume(b),B):Fe(b)?(u=L,K(b)):pt(b)?(t.consume(b),L):I(b)}function B(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),s=b,A):Fe(b)?(u=B,K(b)):pt(b)?(t.consume(b),B):(t.consume(b),k)}function A(b){return b===s?(t.consume(b),s=void 0,G):b===null?n(b):Fe(b)?(u=A,K(b)):(t.consume(b),A)}function k(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||Jn(b)?I(b):(t.consume(b),k)}function G(b){return b===47||b===62||Jn(b)?I(b):n(b)}function V(b){return b===62?(t.consume(b),t.exit("htmlTextData"),t.exit("htmlText"),e):n(b)}function K(b){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),J}function J(b){return pt(b)?Nt(t,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):Z(b)}function Z(b){return t.enter("htmlTextData"),u(b)}}const ev={name:"labelEnd",resolveAll:x8,resolveTo:C8,tokenize:R8},T8={tokenize:I8},S8={tokenize:N8},A8={tokenize:k8};function x8(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Ni(t,0,t.length,n),t}function C8(t,e){let n=t.length,r=0,s,a,u,f;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",h,e],["enter",d,e]],f=Vr(f,t.slice(a+1,a+r+3)),f=Vr(f,[["enter",g,e]]),f=Vr(f,J0(e.parser.constructs.insideSpan.null,t.slice(a+r+4,u-3),e)),f=Vr(f,[["exit",g,e],t[u-2],t[u-1],["exit",d,e]]),f=Vr(f,t.slice(u+1)),f=Vr(f,[["exit",h,e]]),Ni(t,a,t.length,f),t}function R8(t,e,n){const r=this;let s=r.events.length,a,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return f;function f(v){return a?a._inactive?_(v):(u=r.parser.defined.includes(zl(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),h):n(v)}function h(v){return v===40?t.attempt(T8,g,u?g:_)(v):v===91?t.attempt(S8,g,u?d:_)(v):u?g(v):_(v)}function d(v){return t.attempt(A8,g,_)(v)}function g(v){return e(v)}function _(v){return a._balanced=!0,n(v)}}function I8(t,e,n){return r;function r(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),s}function s(_){return Jn(_)?Vc(t,a)(_):a(_)}function a(_){return _===41?g(_):AI(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return Jn(_)?Vc(t,h)(_):g(_)}function f(_){return n(_)}function h(_){return _===34||_===39||_===40?CI(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):g(_)}function d(_){return Jn(_)?Vc(t,g)(_):g(_)}function g(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function N8(t,e,n){const r=this;return s;function s(f){return xI.call(r,t,a,u,"reference","referenceMarker","referenceString")(f)}function a(f){return r.parser.defined.includes(zl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function k8(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const D8={name:"labelStartImage",resolveAll:ev.resolveAll,tokenize:O8};function O8(t,e,n){const r=this;return s;function s(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),a}function a(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):e(f)}}const M8={name:"labelStartLink",resolveAll:ev.resolveAll,tokenize:P8};function P8(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const cy={name:"lineEnding",tokenize:V8};function V8(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Nt(t,e,"linePrefix")}}const Ed={name:"thematicBreak",tokenize:L8};function L8(t,e,n){let r=0,s;return a;function a(d){return t.enter("thematicBreak"),u(d)}function u(d){return s=d,f(d)}function f(d){return d===s?(t.enter("thematicBreakSequence"),h(d)):r>=3&&(d===null||Fe(d))?(t.exit("thematicBreak"),e(d)):n(d)}function h(d){return d===s?(t.consume(d),r++,h):(t.exit("thematicBreakSequence"),pt(d)?Nt(t,f,"whitespace")(d):f(d))}}const Xn={continuation:{tokenize:H8},exit:j8,name:"list",tokenize:B8},U8={partial:!0,tokenize:q8},z8={partial:!0,tokenize:F8};function B8(t,e,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return f;function f(E){const x=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:T_(E)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(Ed,n,d)(E):d(E);if(!r.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(E)}return n(E)}function h(E){return T_(E)&&++u<10?(t.consume(E),h):(!r.interrupt||u<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),d(E)):n(E)}function d(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,t.check(Cp,r.interrupt?n:g,t.attempt(U8,v,_))}function g(E){return r.containerState.initialBlankLine=!0,a++,v(E)}function _(E){return pt(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),v):n(E)}function v(E){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(E)}}function H8(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Cp,s,a);function s(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Nt(t,e,"listItemIndent",r.containerState.size+1)(f)}function a(f){return r.containerState.furtherBlankLines||!pt(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(z8,e,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Nt(t,t.attempt(Xn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function F8(t,e,n){const r=this;return Nt(t,s,"listItemIndent",r.containerState.size+1);function s(a){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(a):n(a)}}function j8(t){t.exit(this.containerState.type)}function q8(t,e,n){const r=this;return Nt(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const u=r.events[r.events.length-1];return!pt(a)&&u&&u[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const SS={name:"setextUnderline",resolveTo:$8,tokenize:G8};function $8(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",u,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function G8(t,e,n){const r=this;let s;return a;function a(d){let g=r.events.length,_;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){_=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(t.enter("setextHeadingLine"),s=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===s?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),pt(d)?Nt(t,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Fe(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const Y8={tokenize:K8};function K8(t){const e=this,n=t.attempt(Cp,r,t.attempt(this.parser.constructs.flowInitial,s,Nt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(JB,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const X8={resolveAll:II()},Q8=RI("string"),W8=RI("text");function RI(t){return{resolveAll:II(t==="text"?Z8:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],a=n.attempt(s,u,f);return u;function u(g){return d(g)?a(g):f(g)}function f(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),h}function h(g){return d(g)?(n.exit("data"),a(g)):(n.consume(g),h)}function d(g){if(g===null)return!0;const _=s[g];let v=-1;if(_)for(;++v<_.length;){const E=_[v];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function II(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}function Z8(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let a=s.length,u=-1,f=0,h;for(;a--;){const d=s[a];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)h=!0,f++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const d={type:n===t.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:r.start._bufferIndex+u,_index:r.start._index+a,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const J8={42:Xn,43:Xn,45:Xn,48:Xn,49:Xn,50:Xn,51:Xn,52:Xn,53:Xn,54:Xn,55:Xn,56:Xn,57:Xn,62:wI},e7={91:i8},t7={[-2]:uy,[-1]:uy,32:uy},n7={35:c8,42:Ed,45:[SS,Ed],60:p8,61:SS,95:Ed,96:bS,126:bS},r7={38:TI,92:bI},i7={[-5]:cy,[-4]:cy,[-3]:cy,33:D8,38:TI,42:S_,60:[MB,w8],91:M8,92:[l8,bI],93:ev,95:S_,96:YB},s7={null:[S_,X8]},o7={null:[42,95]},a7={null:[]},l7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:o7,contentInitial:e7,disable:a7,document:J8,flow:n7,flowInitial:t7,insideSpan:s7,string:r7,text:i7},Symbol.toStringTag,{value:"Module"}));function u7(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let u=[],f=[];const h={attempt:P(X),check:P(H),consume:q,enter:$,exit:j,interrupt:P(H,{interrupt:!0})},d={code:null,containerState:{},defineSkip:R,events:[],now:x,parser:t,previous:null,sliceSerialize:v,sliceStream:E,write:_};let g=e.tokenize.call(d,h);return e.resolveAll&&a.push(e),d;function _(L){return u=Vr(u,L),O(),u[u.length-1]!==null?[]:(C(e,0),d.events=J0(a,d.events,d),d.events)}function v(L,B){return f7(E(L),B)}function E(L){return c7(u,L)}function x(){const{_bufferIndex:L,_index:B,line:A,column:k,offset:G}=r;return{_bufferIndex:L,_index:B,line:A,column:k,offset:G}}function R(L){s[L.line]=L.column,z()}function O(){let L;for(;r._index<u.length;){const B=u[r._index];if(typeof B=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<B.length;)M(B.charCodeAt(r._bufferIndex));else M(B)}}function M(L){g=g(L)}function q(L){Fe(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,z()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=L}function $(L,B){const A=B||{};return A.type=L,A.start=x(),d.events.push(["enter",A,d]),f.push(A),A}function j(L){const B=f.pop();return B.end=x(),d.events.push(["exit",B,d]),B}function X(L,B){C(L,B.from)}function H(L,B){B.restore()}function P(L,B){return A;function A(k,G,V){let K,J,Z,b;return Array.isArray(k)?ne(k):"tokenize"in k?ne([k]):Q(k);function Q(_e){return Ce;function Ce(be){const De=be!==null&&_e[be],Oe=be!==null&&_e.null,Ze=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return ne(Ze)(be)}}function ne(_e){return K=_e,J=0,_e.length===0?V:N(_e[J])}function N(_e){return Ce;function Ce(be){return b=I(),Z=_e,_e.partial||(d.currentConstruct=_e),_e.name&&d.parser.constructs.disable.null.includes(_e.name)?ve():_e.tokenize.call(B?Object.assign(Object.create(d),B):d,h,le,ve)(be)}}function le(_e){return L(Z,b),G}function ve(_e){return b.restore(),++J<K.length?N(K[J]):V}}}function C(L,B){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&Ni(d.events,B,d.events.length-B,L.resolve(d.events.slice(B),d)),L.resolveTo&&(d.events=L.resolveTo(d.events,d))}function I(){const L=x(),B=d.previous,A=d.currentConstruct,k=d.events.length,G=Array.from(f);return{from:k,restore:V};function V(){r=L,d.previous=B,d.currentConstruct=A,d.events.length=k,f=G,z()}}function z(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function c7(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,a)];else{if(u=t.slice(n,s),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}a>0&&u.push(t[s].slice(0,a))}return u}function f7(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const a=t[n];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(a)}s=a===-2,r.push(u)}return r.join("")}function h7(t){const r={constructs:vB([l7,...(t||{}).extensions||[]]),content:s(CB),defined:[],document:s(IB),flow:s(Y8),lazy:{},string:s(Q8),text:s(W8)};return r;function s(a){return u;function u(f){return u7(r,a,f)}}}function d7(t){for(;!SI(t););return t}const AS=/[\0\t\n\r]/g;function p7(){let t=1,e="",n=!0,r;return s;function s(a,u,f){const h=[];let d,g,_,v,E;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(AS.lastIndex=_,d=AS.exec(a),v=d&&d.index!==void 0?d.index:a.length,E=a.charCodeAt(v),!d){e=a.slice(_);break}if(E===10&&_===v&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),_<v&&(h.push(a.slice(_,v)),t+=v-_),E){case 0:{h.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,h.push(-2);t++<g;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}_=v+1}return f&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const m7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function g7(t){return t.replace(m7,y7)}function y7(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return EI(n.slice(a?2:1),a?16:10)}return Z0(n)||t}const NI={}.hasOwnProperty;function _7(t,e,n){return typeof e!="string"&&(n=e,e=void 0),v7(n)(d7(h7(n).document().write(p7()(t,e,!0))))}function v7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(At),autolinkProtocol:I,autolinkEmail:I,atxHeading:a(Me),blockQuote:a(Oe),characterEscape:I,characterReference:I,codeFenced:a(Ze),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(Ze,u),codeText:a(tt,u),codeTextData:I,data:I,codeFlowValue:I,definition:a(ft),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(lt),hardBreakEscape:a(St),hardBreakTrailing:a(St),htmlFlow:a(Le,u),htmlFlowData:I,htmlText:a(Le,u),htmlTextData:I,image:a(Re),label:u,link:a(At),listItem:a(wn),listItemValue:v,listOrdered:a($t,_),listUnordered:a($t),paragraph:a(qn),reference:N,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(Me),strong:a(bn),thematicBreak:a(zn)},exit:{atxHeading:h(),atxHeadingSequence:X,autolink:h(),autolinkEmail:De,autolinkProtocol:be,blockQuote:h(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:_e,characterReference:Ce,codeFenced:h(O),codeFencedFence:R,codeFencedFenceInfo:E,codeFencedFenceMeta:x,codeFlowValue:z,codeIndented:h(M),codeText:h(G),codeTextData:z,data:z,definition:h(),definitionDestinationString:j,definitionLabelString:q,definitionTitleString:$,emphasis:h(),hardBreakEscape:h(B),hardBreakTrailing:h(B),htmlFlow:h(A),htmlFlowData:z,htmlText:h(k),htmlTextData:z,image:h(K),label:Z,labelText:J,lineEnding:L,link:h(V),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:le,resourceDestinationString:b,resourceTitleString:Q,resource:ne,setextHeading:h(C),setextHeadingLineSequence:P,setextHeadingText:H,strong:h(),thematicBreak:h()}};kI(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let he={type:"root",children:[]};const Ae={stack:[he],tokenStack:[],config:e,enter:f,exit:d,buffer:u,resume:g,data:n},Ie=[];let Xe=-1;for(;++Xe<ee.length;)if(ee[Xe][1].type==="listOrdered"||ee[Xe][1].type==="listUnordered")if(ee[Xe][0]==="enter")Ie.push(Xe);else{const ut=Ie.pop();Xe=s(ee,ut,Xe)}for(Xe=-1;++Xe<ee.length;){const ut=e[ee[Xe][0]];NI.call(ut,ee[Xe][1].type)&&ut[ee[Xe][1].type].call(Object.assign({sliceSerialize:ee[Xe][2].sliceSerialize},Ae),ee[Xe][1])}if(Ae.tokenStack.length>0){const ut=Ae.tokenStack[Ae.tokenStack.length-1];(ut[1]||xS).call(Ae,void 0,ut[0])}for(he.position={start:js(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:js(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<e.transforms.length;)he=e.transforms[Xe](he)||he;return he}function s(ee,he,Ae){let Ie=he-1,Xe=-1,ut=!1,xt,Dt,Gt,Pt;for(;++Ie<=Ae;){const ht=ee[Ie];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?Xe++:Xe--,Pt=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(xt&&!Pt&&!Xe&&!Gt&&(Gt=Ie),Pt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pt=void 0}if(!Xe&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||Xe===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(xt){let Bt=Ie;for(Dt=void 0;Bt--;){const sn=ee[Bt];if(sn[1].type==="lineEnding"||sn[1].type==="lineEndingBlank"){if(sn[0]==="exit")continue;Dt&&(ee[Dt][1].type="lineEndingBlank",ut=!0),sn[1].type="lineEnding",Dt=Bt}else if(!(sn[1].type==="linePrefix"||sn[1].type==="blockQuotePrefix"||sn[1].type==="blockQuotePrefixWhitespace"||sn[1].type==="blockQuoteMarker"||sn[1].type==="listItemIndent"))break}Gt&&(!Dt||Gt<Dt)&&(xt._spread=!0),xt.end=Object.assign({},Dt?ee[Dt][1].start:ht[1].end),ee.splice(Dt||Ie,0,["exit",xt,ht[2]]),Ie++,Ae++}if(ht[1].type==="listItemPrefix"){const Bt={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};xt=Bt,ee.splice(Ie,0,["enter",Bt,ht[2]]),Ie++,Ae++,Gt=void 0,Pt=!0}}}return ee[he][1]._spread=ut,Ae}function a(ee,he){return Ae;function Ae(Ie){f.call(this,ee(Ie),Ie),he&&he.call(this,Ie)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(ee,he,Ae){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([he,Ae||void 0]),ee.position={start:js(he.start),end:void 0}}function h(ee){return he;function he(Ae){ee&&ee.call(this,Ae),d.call(this,Ae)}}function d(ee,he){const Ae=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==ee.type&&(he?he.call(this,ee,Ie[0]):(Ie[1]||xS).call(this,ee,Ie[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Pc({start:ee.start,end:ee.end})+"): its not open");Ae.position.end=js(ee.end)}function g(){return yB(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function v(ee){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function E(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.lang=ee}function x(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.meta=ee}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/(\r?\n|\r)$/g,"")}function q(ee){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=zl(this.sliceSerialize(ee)).toLowerCase()}function $(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function j(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function X(ee){const he=this.stack[this.stack.length-1];if(!he.depth){const Ae=this.sliceSerialize(ee).length;he.depth=Ae}}function H(){this.data.setextHeadingSlurpLineEnding=!0}function P(ee){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function I(ee){const Ae=this.stack[this.stack.length-1].children;let Ie=Ae[Ae.length-1];(!Ie||Ie.type!=="text")&&(Ie=Wt(),Ie.position={start:js(ee.start),end:void 0},Ae.push(Ie)),this.stack.push(Ie)}function z(ee){const he=this.stack.pop();he.value+=this.sliceSerialize(ee),he.position.end=js(ee.end)}function L(ee){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=he.children[he.children.length-1];Ae.position.end=js(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(I.call(this,ee),z.call(this,ee))}function B(){this.data.atHardBreak=!0}function A(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function k(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function G(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function V(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function K(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function J(ee){const he=this.sliceSerialize(ee),Ae=this.stack[this.stack.length-2];Ae.label=g7(he),Ae.identifier=zl(he).toLowerCase()}function Z(){const ee=this.stack[this.stack.length-1],he=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const Ie=ee.children;Ae.children=Ie}else Ae.alt=he}function b(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function Q(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function ne(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function le(ee){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=zl(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function ve(ee){this.data.characterReferenceType=ee.type}function _e(ee){const he=this.sliceSerialize(ee),Ae=this.data.characterReferenceType;let Ie;Ae?(Ie=EI(he,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=Z0(he);const Xe=this.stack[this.stack.length-1];Xe.value+=Ie}function Ce(ee){const he=this.stack.pop();he.position.end=js(ee.end)}function be(ee){z.call(this,ee);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(ee)}function De(ee){z.call(this,ee);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(ee)}function Oe(){return{type:"blockquote",children:[]}}function Ze(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lt(){return{type:"emphasis",children:[]}}function Me(){return{type:"heading",depth:0,children:[]}}function St(){return{type:"break"}}function Le(){return{type:"html",value:""}}function Re(){return{type:"image",title:null,url:"",alt:null}}function At(){return{type:"link",title:null,url:"",children:[]}}function $t(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function wn(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function qn(){return{type:"paragraph",children:[]}}function bn(){return{type:"strong",children:[]}}function Wt(){return{type:"text",value:""}}function zn(){return{type:"thematicBreak"}}}function js(t){return{line:t.line,column:t.column,offset:t.offset}}function kI(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?kI(t,r):E7(t,r)}}function E7(t,e){let n;for(n in e)if(NI.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function xS(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Pc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Pc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Pc({start:e.start,end:e.end})+") is still open")}function w7(t){const e=this;e.parser=n;function n(r){return _7(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function b7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function T7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function S7(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function A7(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function x7(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function C7(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=au(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let u,f=t.footnoteCounts.get(r);f===void 0?(f=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=a+1,f+=1,t.footnoteCounts.set(r,f);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,d),t.applyData(e,d)}function R7(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I7(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function DI(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function N7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return DI(t,e);const s={src:au(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function k7(t,e){const n={src:au(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function D7(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function O7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return DI(t,e);const s={href:au(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function M7(t,e){const n={href:au(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function P7(t,e,n){const r=t.all(e),s=n?V7(n):OI(e),a={},u=[];if(typeof e.checked=="boolean"){const g=r[0];let _;g&&g.type==="element"&&g.tagName==="p"?_=g:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const g=r[f];(s||f!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?u.push(...g.children):u.push(g)}const h=r[r.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:u};return t.patch(e,d),t.applyData(e,d)}function V7(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=OI(n[r])}return e}function OI(t){const e=t.spread;return e??t.children.length>1}function L7(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function U7(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function z7(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function B7(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function H7(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=K0(e.children[1]),h=dI(e.children[e.children.length-1]);f&&h&&(u.position={start:f,end:h}),s.push(u)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function F7(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let h=-1;const d=[];for(;++h<f;){const _=e.children[h],v={},E=u?u[h]:void 0;E&&(v.align=E);let x={type:"element",tagName:a,properties:v,children:[]};_&&(x.children=t.all(_),t.patch(_,x),x=t.applyData(_,x)),d.push(x)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,g),t.applyData(e,g)}function j7(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const CS=9,RS=32;function q7(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const a=[];for(;r;)a.push(IS(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return a.push(IS(e.slice(s),s>0,!1)),a.join("")}function IS(t,e,n){let r=0,s=t.length;if(e){let a=t.codePointAt(r);for(;a===CS||a===RS;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(s-1);for(;a===CS||a===RS;)s--,a=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function $7(t,e){const n={type:"text",value:q7(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function G7(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Y7={blockquote:b7,break:T7,code:S7,delete:A7,emphasis:x7,footnoteReference:C7,heading:R7,html:I7,imageReference:N7,image:k7,inlineCode:D7,linkReference:O7,link:M7,listItem:P7,list:L7,paragraph:U7,root:z7,strong:B7,table:H7,tableCell:j7,tableRow:F7,text:$7,thematicBreak:G7,toml:td,yaml:td,definition:td,footnoteDefinition:td};function td(){}const MI=-1,Rp=0,Lc=1,Xd=2,tv=3,nv=4,rv=5,iv=6,PI=7,VI=8,NS=typeof self=="object"?self:globalThis,K7=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),r=s=>{if(t.has(s))return t.get(s);const[a,u]=e[s];switch(a){case Rp:case MI:return n(u,s);case Lc:{const f=n([],s);for(const h of u)f.push(r(h));return f}case Xd:{const f=n({},s);for(const[h,d]of u)f[r(h)]=r(d);return f}case tv:return n(new Date(u),s);case nv:{const{source:f,flags:h}=u;return n(new RegExp(f,h),s)}case rv:{const f=n(new Map,s);for(const[h,d]of u)f.set(r(h),r(d));return f}case iv:{const f=n(new Set,s);for(const h of u)f.add(r(h));return f}case PI:{const{name:f,message:h}=u;return n(new NS[f](h),s)}case VI:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new NS[a](u),s)};return r},kS=t=>K7(new Map,t)(0),yl="",{toString:X7}={},{keys:Q7}=Object,vc=t=>{const e=typeof t;if(e!=="object"||!t)return[Rp,e];const n=X7.call(t).slice(8,-1);switch(n){case"Array":return[Lc,yl];case"Object":return[Xd,yl];case"Date":return[tv,yl];case"RegExp":return[nv,yl];case"Map":return[rv,yl];case"Set":return[iv,yl];case"DataView":return[Lc,n]}return n.includes("Array")?[Lc,n]:n.includes("Error")?[PI,n]:[Xd,n]},nd=([t,e])=>t===Rp&&(e==="function"||e==="symbol"),W7=(t,e,n,r)=>{const s=(u,f)=>{const h=r.push(u)-1;return n.set(f,h),h},a=u=>{if(n.has(u))return n.get(u);let[f,h]=vc(u);switch(f){case Rp:{let g=u;switch(h){case"bigint":f=VI,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);g=null;break;case"undefined":return s([MI],u)}return s([f,g],u)}case Lc:{if(h){let v=u;return h==="DataView"?v=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(u)),s([h,[...v]],u)}const g=[],_=s([f,g],u);for(const v of u)g.push(a(v));return _}case Xd:{if(h)switch(h){case"BigInt":return s([h,u.toString()],u);case"Boolean":case"Number":case"String":return s([h,u.valueOf()],u)}if(e&&"toJSON"in u)return a(u.toJSON());const g=[],_=s([f,g],u);for(const v of Q7(u))(t||!nd(vc(u[v])))&&g.push([a(v),a(u[v])]);return _}case tv:return s([f,u.toISOString()],u);case nv:{const{source:g,flags:_}=u;return s([f,{source:g,flags:_}],u)}case rv:{const g=[],_=s([f,g],u);for(const[v,E]of u)(t||!(nd(vc(v))||nd(vc(E))))&&g.push([a(v),a(E)]);return _}case iv:{const g=[],_=s([f,g],u);for(const v of u)(t||!nd(vc(v)))&&g.push(a(v));return _}}const{message:d}=u;return s([f,{name:h,message:d}],u)};return a},DS=(t,{json:e,lossy:n}={})=>{const r=[];return W7(!(e||n),!!e,new Map,r)(t),r},Qd=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?kS(DS(t,e)):structuredClone(t):(t,e)=>kS(DS(t,e));function Z7(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function J7(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function eH(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Z7,r=t.options.footnoteBackLabel||J7,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[h]);if(!d)continue;const g=t.all(d),_=String(d.identifier).toUpperCase(),v=au(_.toLowerCase());let E=0;const x=[],R=t.footnoteCounts.get(_);for(;R!==void 0&&++E<=R;){x.length>0&&x.push({type:"text",value:" "});let q=typeof n=="string"?n:n(h,E);typeof q=="string"&&(q={type:"text",value:q}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,E),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const O=g[g.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const q=O.children[O.children.length-1];q&&q.type==="text"?q.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(...x)}else g.push(...x);const M={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(g,!0)};t.patch(d,M),f.push(M)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Qd(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const LI=function(t){if(t==null)return iH;if(typeof t=="function")return Ip(t);if(typeof t=="object")return Array.isArray(t)?tH(t):nH(t);if(typeof t=="string")return rH(t);throw new Error("Expected function, string, or object as test")};function tH(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=LI(t[n]);return Ip(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function nH(t){const e=t;return Ip(n);function n(r){const s=r;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function rH(t){return Ip(e);function e(n){return n&&n.type===t}}function Ip(t){return e;function e(n,r,s){return!!(sH(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function iH(){return!0}function sH(t){return t!==null&&typeof t=="object"&&"type"in t}const UI=[],oH=!0,OS=!1,aH="skip";function lH(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const a=LI(s),u=r?-1:1;f(t,void 0,[])();function f(h,d,g){const _=h&&typeof h=="object"?h:{};if(typeof _.type=="string"){const E=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(E?"<"+E+">":""))+")"})}return v;function v(){let E=UI,x,R,O;if((!e||a(h,d,g[g.length-1]||void 0))&&(E=uH(n(h,g)),E[0]===OS))return E;if("children"in h&&h.children){const M=h;if(M.children&&E[0]!==aH)for(R=(r?M.children.length:-1)+u,O=g.concat(M);R>-1&&R<M.children.length;){const q=M.children[R];if(x=f(q,R,O)(),x[0]===OS)return x;R=typeof x[1]=="number"?x[1]:R+u}}return E}}}function uH(t){return Array.isArray(t)?t:typeof t=="number"?[oH,t]:t==null?UI:[t]}function zI(t,e,n,r){let s,a,u;typeof e=="function"&&typeof n!="function"?(a=void 0,u=e,s=n):(a=e,u=n,s=r),lH(t,a,f,s);function f(h,d){const g=d[d.length-1],_=g?g.children.indexOf(h):void 0;return u(h,_,g)}}const A_={}.hasOwnProperty,cH={};function fH(t,e){const n=e||cH,r=new Map,s=new Map,a=new Map,u={...Y7,...n.handlers},f={all:d,applyData:dH,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:u,one:h,options:n,patch:hH,wrap:mH};return zI(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const _=g.type==="definition"?r:s,v=String(g.identifier).toUpperCase();_.has(v)||_.set(v,g)}}),f;function h(g,_){const v=g.type,E=f.handlers[v];if(A_.call(f.handlers,v)&&E)return E(f,g,_);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in g){const{children:R,...O}=g,M=Qd(O);return M.children=f.all(g),M}return Qd(g)}return(f.options.unknownHandler||pH)(f,g,_)}function d(g){const _=[];if("children"in g){const v=g.children;let E=-1;for(;++E<v.length;){const x=f.one(v[E],g);if(x){if(E&&v[E-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=MS(x.value)),!Array.isArray(x)&&x.type==="element")){const R=x.children[0];R&&R.type==="text"&&(R.value=MS(R.value))}Array.isArray(x)?_.push(...x):_.push(x)}}}return _}}function hH(t,e){t.position&&(e.position=Xz(t))}function dH(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&a&&Object.assign(n.properties,Qd(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function pH(t,e){const n=e.data||{},r="value"in e&&!(A_.call(n,"hProperties")||A_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function mH(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function MS(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function PS(t,e){const n=fH(t,e),r=n.one(t,void 0),s=eH(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function gH(t,e){return t&&"run"in t?async function(n,r){const s=PS(n,{file:r,...e});await t.run(s,r)}:function(n,r){return PS(n,{file:r,...t||e})}}function VS(t){if(t)throw t}var fy,LS;function yH(){if(LS)return fy;LS=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var g=t.call(d,"constructor"),_=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!_)return!1;var v;for(v in d);return typeof v>"u"||t.call(d,v)},u=function(d,g){n&&g.name==="__proto__"?n(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},f=function(d,g){if(g==="__proto__")if(t.call(d,g)){if(r)return r(d,g).value}else return;return d[g]};return fy=function h(){var d,g,_,v,E,x,R=arguments[0],O=1,M=arguments.length,q=!1;for(typeof R=="boolean"&&(q=R,R=arguments[1]||{},O=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});O<M;++O)if(d=arguments[O],d!=null)for(g in d)_=f(R,g),v=f(d,g),R!==v&&(q&&v&&(a(v)||(E=s(v)))?(E?(E=!1,x=_&&s(_)?_:[]):x=_&&a(_)?_:{},u(R,{name:g,newValue:h(q,x,v)})):typeof v<"u"&&u(R,{name:g,newValue:v}));return R},fy}var _H=yH();const hy=ma(_H);function x_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function vH(){const t=[],e={run:n,use:r};return e;function n(...s){let a=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...s);function f(h,...d){const g=t[++a];let _=-1;if(h){u(h);return}for(;++_<s.length;)(d[_]===null||d[_]===void 0)&&(d[_]=s[_]);s=d,g?EH(g,f)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function EH(t,e){let n;return r;function r(...u){const f=t.length>u.length;let h;f&&u.push(s);try{h=t.apply(this,u)}catch(d){const g=d;if(f&&n)throw g;return s(g)}f||(h&&h.then&&typeof h.then=="function"?h.then(a,s):h instanceof Error?s(h):a(h))}function s(u,...f){n||(n=!0,e(u,...f))}function a(u){s(null,u)}}const wi={basename:wH,dirname:bH,extname:TH,join:SH,sep:"/"};function wH(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Tf(t);let n=0,r=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,f=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else u<0&&(a=!0,u=s+1),f>-1&&(t.codePointAt(s)===e.codePointAt(f--)?f<0&&(r=s):(f=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function bH(t){if(Tf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function TH(t){Tf(t);let e=t.length,n=-1,r=0,s=-1,a=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function SH(...t){let e=-1,n;for(;++e<t.length;)Tf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":AH(n)}function AH(t){Tf(t);const e=t.codePointAt(0)===47;let n=xH(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function xH(t,e){let n="",r=0,s=-1,a=0,u=-1,f,h;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(s===u-1||a===1))if(s!==u-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),s=u,a=0;continue}}else if(n.length>0){n="",r=0,s=u,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,a=0}else f===46&&a>-1?a++:a=-1}return n}function Tf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const CH={cwd:RH};function RH(){return"/"}function C_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function IH(t){if(typeof t=="string")t=new URL(t);else if(!C_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return NH(t)}function NH(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const dy=["history","path","basename","stem","extname","dirname"];class BI{constructor(e){let n;e?C_(e)?n={path:e}:typeof e=="string"||kH(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":CH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<dy.length;){const a=dy[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)dy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?wi.basename(this.path):void 0}set basename(e){my(e,"basename"),py(e,"basename"),this.path=wi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?wi.dirname(this.path):void 0}set dirname(e){US(this.basename,"dirname"),this.path=wi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?wi.extname(this.path):void 0}set extname(e){if(py(e,"extname"),US(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){C_(e)&&(e=IH(e)),my(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?wi.basename(this.path,this.extname):void 0}set stem(e){my(e,"stem"),py(e,"stem"),this.path=wi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Un(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function py(t,e){if(t&&t.includes(wi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+wi.sep+"`")}function my(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function US(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function kH(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const DH=function(t){const r=this.constructor.prototype,s=r[t],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},OH={}.hasOwnProperty;class sv extends DH{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vH()}copy(){const e=new sv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(hy(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(_y("data",this.frozen),this.namespace[e]=n,this):OH.call(this.namespace,e)&&this.namespace[e]||void 0:e?(_y("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=rd(e),r=this.parser||this.Parser;return gy("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),gy("process",this.parser||this.Parser),yy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,u){const f=rd(e),h=r.parse(f);r.run(h,f,function(g,_,v){if(g||!_||!v)return d(g);const E=_,x=r.stringify(E,v);VH(x)?v.value=x:v.result=x,d(g,v)});function d(g,_){g||!_?u(g):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,r;return this.freeze(),gy("processSync",this.parser||this.Parser),yy("processSync",this.compiler||this.Compiler),this.process(e,s),BS("processSync","process",n),r;function s(a,u){n=!0,VS(a),r=u}}run(e,n,r){zS(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(u,f){const h=rd(n);s.run(e,h,d);function d(g,_,v){const E=_||e;g?f(g):u?u(E):r(void 0,E,v)}}}runSync(e,n){let r=!1,s;return this.run(e,n,a),BS("runSync","run",r),s;function a(u,f){VS(u),s=f,r=!0}}stringify(e,n){this.freeze();const r=rd(n),s=this.compiler||this.Compiler;return yy("stringify",s),zS(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(_y("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,..._]=d;h(g,_)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(s.settings=hy(!0,s.settings,d.settings))}function f(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const _=d[g];a(_)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,g){let _=-1,v=-1;for(;++_<r.length;)if(r[_][0]===d){v=_;break}if(v===-1)r.push([d,...g]);else if(g.length>0){let[E,...x]=g;const R=r[v][1];x_(R)&&x_(E)&&(E=hy(!0,R,E)),r[v]=[d,E,...x]}}}}const MH=new sv().freeze();function gy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function yy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function _y(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zS(t){if(!x_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function BS(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function rd(t){return PH(t)?t:new BI(t)}function PH(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function VH(t){return typeof t=="string"||LH(t)}function LH(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const UH="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",HS=[],FS={allowDangerousHtml:!0},zH=/^(https?|ircs?|mailto|xmpp)$/i,BH=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function HH(t){const e=FH(t),n=jH(t);return qH(e.runSync(e.parse(n),n),t)}function FH(t){const e=t.rehypePlugins||HS,n=t.remarkPlugins||HS,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...FS}:FS;return MH().use(w7).use(n).use(gH,r).use(e)}function jH(t){const e=t.children||"",n=new BI;return typeof e=="string"&&(n.value=e),n}function qH(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,a=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,h=e.urlTransform||$H;for(const g of BH)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+UH+g.id,void 0);return zI(t,d),eB(t,{Fragment:fe.Fragment,components:s,ignoreInvalidStyle:!0,jsx:fe.jsx,jsxs:fe.jsxs,passKeys:!0,passNode:!0});function d(g,_,v){if(g.type==="raw"&&v&&typeof _=="number")return u?v.children.splice(_,1):v.children[_]={type:"text",value:g.value},_;if(g.type==="element"){let E;for(E in ly)if(Object.hasOwn(ly,E)&&Object.hasOwn(g.properties,E)){const x=g.properties[E],R=ly[E];(R===null||R.includes(g.tagName))&&(g.properties[E]=h(String(x||""),E,g))}}if(g.type==="element"){let E=n?!n.includes(g.tagName):a?a.includes(g.tagName):!1;if(!E&&r&&typeof _=="number"&&(E=!r(g,_,v)),E&&v&&typeof _=="number")return f&&g.children?v.children.splice(_,1,...g.children):v.children.splice(_,1),_}}}function $H(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||zH.test(t.slice(0,e))?t:""}var vy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jS;function GH(){return jS||(jS=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(vy)),vy.exports}var YH=GH();const ei=ma(YH),lu=!!(typeof window<"u"&&window.document&&window.document.createElement);var R_=!1,I_=!1;try{var Ey={get passive(){return R_=!0},get once(){return I_=R_=!0}};lu&&(window.addEventListener("test",Ey,Ey),window.removeEventListener("test",Ey,!0))}catch{}function HI(t,e,n,r){if(r&&typeof r!="boolean"&&!I_){var s=r.once,a=r.capture,u=n;!I_&&s&&(u=n.__once||function f(h){this.removeEventListener(e,f,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,R_?r:a)}t.addEventListener(e,n,r)}function Np(t){return t&&t.ownerDocument||document}function N_(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}var id;function qS(t){if((!id&&id!==0||t)&&lu){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),id=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return id}function KH(){return F.useState(null)}function XH(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t},[t]),e}function k_(t){const e=XH(t);return F.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const $S=t=>!t||typeof t=="function"?t:e=>{t.current=e};function QH(t,e){const n=$S(t),r=$S(e);return s=>{n&&n(s),r&&r(s)}}function FI(t,e){return F.useMemo(()=>QH(t,e),[t,e])}function WH(t){const e=F.useRef(t);return e.current=t,e}function ZH(t){const e=WH(t);F.useEffect(()=>()=>e.current(),[])}function JH(t){var e=Np(t);return e&&e.defaultView||window}function eF(t,e){return JH(t).getComputedStyle(t,e)}var tF=/([A-Z])/g;function nF(t){return t.replace(tF,"-$1").toLowerCase()}var rF=/^ms-/;function sd(t){return nF(t).replace(rF,"-ms-")}var iF=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function sF(t){return!!(t&&iF.test(t))}function sa(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(sd(e))||eF(t).getPropertyValue(sd(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?t.style.removeProperty(sd(s)):sF(s)?r+=s+"("+a+") ":n+=sd(s)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Wd(t,e,n,r){return HI(t,e,n,r),function(){N_(t,e,n,r)}}function oF(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function aF(t){var e=sa(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function lF(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||oF(t,"transitionend",!0)},e+n),a=Wd(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function jI(t,e,n,r){n==null&&(n=aF(t)||0);var s=lF(t,n,r),a=Wd(t,"transitionend",e);return function(){s(),a()}}function wy(t){t===void 0&&(t=Np());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function GS(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function uF(){const t=F.useRef(!0),e=F.useRef(()=>t.current);return F.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function cF(t){const e=F.useRef(t);return e.current=t,e}function fF(t){const e=cF(t);F.useEffect(()=>()=>e.current(),[])}function hF(t){const e=F.useRef(null);return F.useEffect(()=>{e.current=t}),e.current}function dF(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t},[t]),e}function Zo(t){const e=dF(t);return F.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const pF="data-rr-ui-";function mF(t){return`${pF}${t}`}function gF(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const YS=mF("modal-open");class ov{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return gF(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(sa(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(YS,""),sa(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(YS),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const qI=F.createContext(lu?window:void 0);qI.Provider;function av(){return F.useContext(qI)}const by=(t,e)=>lu?t==null?(e||Np()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function yF(t,e){const n=av(),[r,s]=F.useState(()=>by(t,n?.document));if(!r){const a=by(t);a&&s(a)}return F.useEffect(()=>{},[e,r]),F.useEffect(()=>{const a=by(t);a!==r&&s(a)},[t,r]),r}const KS=t=>!t||typeof t=="function"?t:e=>{t.current=e};function _F(t,e){const n=KS(t),r=KS(e);return s=>{n&&n(s),r&&r(s)}}function lv(t,e){return F.useMemo(()=>_F(t,e),[t,e])}const vF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",EF=typeof document<"u",XS=EF||vF?F.useLayoutEffect:F.useEffect;function wF(t){return t.code==="Escape"||t.keyCode===27}function bF(){const t=F.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function kp(t){if(!t||typeof t=="function")return null;const{major:e}=bF();return e>=19?t.props.ref:t.ref}function TF({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const a=F.useRef(null),u=F.useRef(e),f=Zo(n);F.useEffect(()=>{e?u.current=!0:f(a.current)},[e,f]);const h=lv(a,kp(t)),d=F.cloneElement(t,{ref:h});return e?d:s||!u.current&&r?null:d}const SF=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function AF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xF(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:a,onExited:u,addEndListener:f,children:h}=t,d=AF(t,SF);const g=F.useRef(null),_=lv(g,kp(h)),v=j=>X=>{j&&g.current&&j(g.current,X)},E=F.useCallback(v(e),[e]),x=F.useCallback(v(n),[n]),R=F.useCallback(v(r),[r]),O=F.useCallback(v(s),[s]),M=F.useCallback(v(a),[a]),q=F.useCallback(v(u),[u]),$=F.useCallback(v(f),[f]);return Object.assign({},d,{nodeRef:g},e&&{onEnter:E},n&&{onEntering:x},r&&{onEntered:R},s&&{onExit:O},a&&{onExiting:M},u&&{onExited:q},f&&{addEndListener:$},{children:typeof h=="function"?(j,X)=>h(j,Object.assign({},X,{ref:_})):F.cloneElement(h,{ref:_})})}const CF=["component"];function RF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const IF=F.forwardRef((t,e)=>{let{component:n}=t,r=RF(t,CF);const s=xF(r);return fe.jsx(n,Object.assign({ref:e},s))});function NF({in:t,onTransition:e}){const n=F.useRef(null),r=F.useRef(!0),s=Zo(e);return XS(()=>{if(!n.current)return;let a=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[t,s]),XS(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function kF({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[a,u]=F.useState(!e);e&&a&&u(!1);const f=NF({in:!!e,onTransition:d=>{const g=()=>{d.isStale()||(d.in?r?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(s(d)).then(g,_=>{throw d.in||u(!0),_})}}),h=lv(f,kp(t));return a&&!e?null:F.cloneElement(t,{ref:h})}function QS(t,e,n){return t?fe.jsx(IF,Object.assign({},n,{component:t})):e?fe.jsx(kF,Object.assign({},n,{transition:e})):fe.jsx(TF,Object.assign({},n))}const DF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function OF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Ty;function MF(t){return Ty||(Ty=new ov({ownerDocument:t?.document})),Ty}function PF(t){const e=av(),n=t||MF(e),r=F.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:F.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:F.useCallback(s=>{r.current.backdrop=s},[])})}const $I=F.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:a,children:u,backdrop:f=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:g,transition:_,runTransition:v,backdropTransition:E,runBackdropTransition:x,autoFocus:R=!0,enforceFocus:O=!0,restoreFocus:M=!0,restoreFocusOptions:q,renderDialog:$,renderBackdrop:j=Me=>fe.jsx("div",Object.assign({},Me)),manager:X,container:H,onShow:P,onHide:C=()=>{},onExit:I,onExited:z,onExiting:L,onEnter:B,onEntering:A,onEntered:k}=t,G=OF(t,DF);const V=av(),K=yF(H),J=PF(X),Z=uF(),b=hF(n),[Q,ne]=F.useState(!n),N=F.useRef(null);F.useImperativeHandle(e,()=>J,[J]),lu&&!b&&n&&(N.current=wy(V?.document)),n&&Q&&ne(!1);const le=Zo(()=>{if(J.add(),Oe.current=Wd(document,"keydown",be),De.current=Wd(document,"focus",()=>setTimeout(_e),!0),P&&P(),R){var Me,St;const Le=wy((Me=(St=J.dialog)==null?void 0:St.ownerDocument)!=null?Me:V?.document);J.dialog&&Le&&!GS(J.dialog,Le)&&(N.current=Le,J.dialog.focus())}}),ve=Zo(()=>{if(J.remove(),Oe.current==null||Oe.current(),De.current==null||De.current(),M){var Me;(Me=N.current)==null||Me.focus==null||Me.focus(q),N.current=null}});F.useEffect(()=>{!n||!K||le()},[n,K,le]),F.useEffect(()=>{Q&&ve()},[Q,ve]),fF(()=>{ve()});const _e=Zo(()=>{if(!O||!Z()||!J.isTopModal())return;const Me=wy(V?.document);J.dialog&&Me&&!GS(J.dialog,Me)&&J.dialog.focus()}),Ce=Zo(Me=>{Me.target===Me.currentTarget&&(d?.(Me),f===!0&&C())}),be=Zo(Me=>{h&&wF(Me)&&J.isTopModal()&&(g?.(Me),Me.defaultPrevented||C())}),De=F.useRef(),Oe=F.useRef(),Ze=(...Me)=>{ne(!0),z?.(...Me)};if(!K)return null;const tt=Object.assign({role:r,ref:J.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:a,className:s,tabIndex:-1});let ft=$?$(tt):fe.jsx("div",Object.assign({},tt,{children:F.cloneElement(u,{role:"document"})}));ft=QS(_,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:L,onExited:Ze,onEnter:B,onEntering:A,onEntered:k,children:ft});let lt=null;return f&&(lt=j({ref:J.setBackdropRef,onClick:Ce}),lt=QS(E,x,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:lt})),fe.jsx(fe.Fragment,{children:xl.createPortal(fe.jsxs(fe.Fragment,{children:[lt,ft]}),K)})});$I.displayName="Modal";const VF=Object.assign($I,{Manager:ov});function LF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function UF(t,e){t.classList?t.classList.add(e):LF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var zF=Function.prototype.bind.call(Function.prototype.call,[].slice);function _l(t,e){return zF(t.querySelectorAll(e))}function WS(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function BF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=WS(t.className,e):t.setAttribute("class",WS(t.className&&t.className.baseVal||"",e))}const vl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class HF extends ov{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,sa(n,{[e]:`${parseFloat(sa(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],sa(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(UF(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";_l(n,vl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),_l(n,vl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),_l(n,vl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();BF(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";_l(n,vl.FIXED_CONTENT).forEach(a=>this.restore(r,a)),_l(n,vl.STICKY_CONTENT).forEach(a=>this.restore(s,a)),_l(n,vl.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let Sy;function FF(t){return Sy||(Sy=new HF(t)),Sy}function jF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},D_(t,e)}function qF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,D_(t,e)}var Ay={exports:{}},xy,ZS;function $F(){if(ZS)return xy;ZS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xy=t,xy}var Cy,JS;function GF(){if(JS)return Cy;JS=1;var t=$F();function e(){}function n(){}return n.resetWarningCache=e,Cy=function(){function r(u,f,h,d,g,_){if(_!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Cy}var eA;function YF(){return eA||(eA=1,Ay.exports=GF()()),Ay.exports}var KF=YF();const Ry=ma(KF),tA={disabled:!1},GI=ce.createContext(null);var XF=function(e){return e.scrollTop},Rc="unmounted",Wo="exited",Gs="entering",Jo="entered",O_="exiting",ps=function(t){qF(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var u=s,f=u&&!u.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?f?(h=Wo,a.appearStatus=Gs):h=Jo:r.unmountOnExit||r.mountOnEnter?h=Rc:h=Wo,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===Rc?{status:Wo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Gs&&u!==Jo&&(a=Gs):(u===Gs||u===Jo)&&(a=O_)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,u,f;return a=u=f=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,f=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:f}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Gs){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:xl.findDOMNode(this);u&&XF(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wo&&this.setState({status:Rc})},n.performEnter=function(s){var a=this,u=this.props.enter,f=this.context?this.context.isMounting:s,h=this.props.nodeRef?[f]:[xl.findDOMNode(this),f],d=h[0],g=h[1],_=this.getTimeouts(),v=f?_.appear:_.enter;if(!s&&!u||tA.disabled){this.safeSetState({status:Jo},function(){a.props.onEntered(d)});return}this.props.onEnter(d,g),this.safeSetState({status:Gs},function(){a.props.onEntering(d,g),a.onTransitionEnd(v,function(){a.safeSetState({status:Jo},function(){a.props.onEntered(d,g)})})})},n.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:xl.findDOMNode(this);if(!a||tA.disabled){this.safeSetState({status:Wo},function(){s.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:O_},function(){s.props.onExiting(f),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:Wo},function(){s.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,a.nextCallback=null,s(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:xl.findDOMNode(this),f=s==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],g=h[1];this.props.addEndListener(d,g)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Rc)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=jF(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ce.createElement(GI.Provider,{value:null},typeof u=="function"?u(s,f):ce.cloneElement(ce.Children.only(u),f))},e}(ce.Component);ps.contextType=GI;ps.propTypes={};function El(){}ps.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:El,onEntering:El,onEntered:El,onExit:El,onExiting:El,onExited:El};ps.UNMOUNTED=Rc;ps.EXITED=Wo;ps.ENTERING=Gs;ps.ENTERED=Jo;ps.EXITING=O_;function nA(t,e){const n=sa(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function QF(t,e){const n=nA(t,"transitionDuration"),r=nA(t,"transitionDelay"),s=jI(t,a=>{a.target===t&&(s(),e(a))},n+r)}function WF(t){t.offsetHeight}function ZF(t){return t&&"setState"in t?xl.findDOMNode(t):t??null}const YI=ce.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:a,addEndListener:u,children:f,childRef:h,...d},g)=>{const _=F.useRef(null),v=FI(_,h),E=H=>{v(ZF(H))},x=H=>P=>{H&&_.current&&H(_.current,P)},R=F.useCallback(x(t),[t]),O=F.useCallback(x(e),[e]),M=F.useCallback(x(n),[n]),q=F.useCallback(x(r),[r]),$=F.useCallback(x(s),[s]),j=F.useCallback(x(a),[a]),X=F.useCallback(x(u),[u]);return fe.jsx(ps,{ref:g,...d,onEnter:R,onEntered:M,onEntering:O,onExit:q,onExited:j,onExiting:$,addEndListener:X,nodeRef:_,children:typeof f=="function"?(H,P)=>f(H,{...P,ref:E}):ce.cloneElement(f,{ref:E})})});YI.displayName="TransitionWrapper";const JF={[Gs]:"show",[Jo]:"show"},uv=F.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},f=F.useCallback((h,d)=>{WF(h),r?.(h,d)},[r]);return fe.jsx(YI,{ref:a,addEndListener:QF,...u,onEnter:f,childRef:kp(e),children:(h,d)=>F.cloneElement(e,{...d,className:ei("fade",t,e.props.className,JF[h],n[h])})})});uv.displayName="Fade";const ej=["xxl","xl","lg","md","sm","xs"],tj="xs",cv=F.createContext({prefixes:{},breakpoints:ej,minBreakpoint:tj}),{Consumer:yj,Provider:_j}=cv;function uu(t,e){const{prefixes:n}=F.useContext(cv);return t||n[e]||e}function nj(){const{dir:t}=F.useContext(cv);return t==="rtl"}const KI=F.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=uu(e,"modal-body"),fe.jsx(n,{ref:s,className:ei(t,e),...r})));KI.displayName="ModalBody";const XI=F.createContext({onHide(){}}),fv=F.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:a,children:u,scrollable:f,...h},d)=>{t=uu(t,"modal");const g=`${t}-dialog`,_=typeof a=="string"?`${t}-fullscreen-${a}`:`${t}-fullscreen`;return fe.jsx("div",{...h,ref:d,className:ei(g,e,s&&`${t}-${s}`,r&&`${g}-centered`,f&&`${g}-scrollable`,a&&_),children:fe.jsx("div",{className:ei(`${t}-content`,n),children:u})})});fv.displayName="ModalDialog";const QI=F.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=uu(e,"modal-footer"),fe.jsx(n,{ref:s,className:ei(t,e),...r})));QI.displayName="ModalFooter";const rj={"aria-label":Ry.string,onClick:Ry.func,variant:Ry.oneOf(["white"])},hv=F.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>fe.jsx("button",{ref:s,type:"button",className:ei("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));hv.displayName="CloseButton";hv.propTypes=rj;const WI=F.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...a},u)=>{const f=F.useContext(XI),h=k_(()=>{f?.onHide(),r?.()});return fe.jsxs("div",{ref:u,...a,children:[s,n&&fe.jsx(hv,{"aria-label":t,variant:e,onClick:h})]})});WI.displayName="AbstractModalHeader";const ZI=F.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},a)=>(t=uu(t,"modal-header"),fe.jsx(WI,{ref:a,...s,className:ei(e,t),closeLabel:n,closeButton:r})));ZI.displayName="ModalHeader";const ij=t=>F.forwardRef((e,n)=>fe.jsx("div",{...e,ref:n,className:ei(e.className,t)})),sj=ij("h4"),JI=F.forwardRef(({className:t,bsPrefix:e,as:n=sj,...r},s)=>(e=uu(e,"modal-title"),fe.jsx(n,{ref:s,className:ei(t,e),...r})));JI.displayName="ModalTitle";function oj(t){return fe.jsx(uv,{...t,timeout:null})}function aj(t){return fe.jsx(uv,{...t,timeout:null})}const eN=F.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:a,dialogAs:u=fv,"data-bs-theme":f,"aria-labelledby":h,"aria-describedby":d,"aria-label":g,show:_=!1,animation:v=!0,backdrop:E=!0,keyboard:x=!0,onEscapeKeyDown:R,onShow:O,onHide:M,container:q,autoFocus:$=!0,enforceFocus:j=!0,restoreFocus:X=!0,restoreFocusOptions:H,onEntered:P,onExit:C,onExiting:I,onEnter:z,onEntering:L,onExited:B,backdropClassName:A,manager:k,...G},V)=>{const[K,J]=F.useState({}),[Z,b]=F.useState(!1),Q=F.useRef(!1),ne=F.useRef(!1),N=F.useRef(null),[le,ve]=KH(),_e=FI(V,ve),Ce=k_(M),be=nj();t=uu(t,"modal");const De=F.useMemo(()=>({onHide:Ce}),[Ce]);function Oe(){return k||FF({isRTL:be})}function Ze(ee){if(!lu)return;const he=Oe().getScrollbarWidth()>0,Ae=ee.scrollHeight>Np(ee).documentElement.clientHeight;J({paddingRight:he&&!Ae?qS():void 0,paddingLeft:!he&&Ae?qS():void 0})}const tt=k_(()=>{le&&Ze(le.dialog)});ZH(()=>{N_(window,"resize",tt),N.current==null||N.current()});const ft=()=>{Q.current=!0},lt=ee=>{Q.current&&le&&ee.target===le.dialog&&(ne.current=!0),Q.current=!1},Me=()=>{b(!0),N.current=jI(le.dialog,()=>{b(!1)})},St=ee=>{ee.target===ee.currentTarget&&Me()},Le=ee=>{if(E==="static"){St(ee);return}if(ne.current||ee.target!==ee.currentTarget){ne.current=!1;return}M?.()},Re=ee=>{x?R?.(ee):(ee.preventDefault(),E==="static"&&Me())},At=(ee,he)=>{ee&&Ze(ee),z?.(ee,he)},$t=ee=>{N.current==null||N.current(),C?.(ee)},wn=(ee,he)=>{L?.(ee,he),HI(window,"resize",tt)},qn=ee=>{ee&&(ee.style.display=""),B?.(ee),N_(window,"resize",tt)},bn=F.useCallback(ee=>fe.jsx("div",{...ee,className:ei(`${t}-backdrop`,A,!v&&"show")}),[v,A,t]),Wt={...n,...K};Wt.display="block";const zn=ee=>fe.jsx("div",{role:"dialog",...ee,style:Wt,className:ei(e,t,Z&&`${t}-static`,!v&&"show"),onClick:E?Le:void 0,onMouseUp:lt,"data-bs-theme":f,"aria-label":g,"aria-labelledby":h,"aria-describedby":d,children:fe.jsx(u,{...G,onMouseDown:ft,className:r,contentClassName:s,children:a})});return fe.jsx(XI.Provider,{value:De,children:fe.jsx(VF,{show:_,ref:_e,backdrop:E,container:q,keyboard:!0,autoFocus:$,enforceFocus:j,restoreFocus:X,restoreFocusOptions:H,onEscapeKeyDown:Re,onShow:O,onHide:M,onEnter:At,onEntering:wn,onEntered:P,onExit:$t,onExiting:I,onExited:qn,manager:Oe(),transition:v?oj:void 0,backdropTransition:v?aj:void 0,renderBackdrop:bn,renderDialog:zn})})});eN.displayName="Modal";const wl=Object.assign(eN,{Body:KI,Header:ZI,Title:JI,Footer:QI,Dialog:fv,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function lj(t){return fe.jsxs(wl,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[fe.jsx(wl.Header,{closeButton:!0,children:fe.jsxs(wl.Title,{id:"contained-modal-title-vcenter",children:["title",t.title]})}),fe.jsx(wl.Body,{children:fe.jsx("p",{children:fe.jsx(HH,{children:t.text})})}),fe.jsx(wl.Footer,{children:fe.jsx(wl.Footer,{children:fe.jsx("button",{onClick:t.onHide,style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#5a6268",onMouseOut:e=>e.currentTarget.style.backgroundColor="#6c757d",children:"Close"})})})]})}const tN=F.createContext(null),uj=({children:t,nodes:e,onNodesChange:n,onEdgesChange:r})=>{const[s,a]=F.useState({isVisible:!1,text:""}),u=F.useCallback((g,_)=>g==="staticEditable"?iS():_?Ez(_):iS(),[]),f=F.useCallback((g,_)=>{e.find(E=>E.id===g)&&a({isVisible:!0,text:_})},[e]),h=F.useCallback(()=>{a({isVisible:!1,text:""})},[]),d=F.useCallback((g,_,v,E,x)=>{const R=u(E,x),O=wz(v,e),M=g.myConcept||g.word,q=Sz(O,M,R,E,f),$=Az(_,q.id,R);return n([{type:"add",item:q}]),r([{type:"add",item:$}]),R},[e,n,r,u,f]);return fe.jsxs(tN.Provider,{value:{handleTokenClick:d},children:[fe.jsx(lj,{show:s.isVisible,title:"Extended Node Information",text:s.text,onHide:h}),t]})},nN=()=>{const t=F.useContext(tN);if(!t)throw new Error("useTokenInteraction must be used within a TokenInteractionProvider");return t};function cj({data:t,id:e}){const[n,r]=F.useState(!1),[s,a]=F.useState(t.summary||t.label||"Static Node"),[u,f]=F.useState(!1),[h,d]=F.useState(!1),{getNodes:g}=uf(),{handleTokenClick:_}=nN(),v=F.useMemo(()=>rI(s),[s]),E=F.useCallback(()=>!0,[]),x=F.useCallback((X,H)=>{H.stopPropagation();const C=g().find(I=>I.id===e);C&&(_(X,e,C.position,C.type||"staticEditable",t.myColor),t.onCallback&&t.onCallback(e,{action:"tokenClick",token:X}))},[e,g,_,t.myColor,t.onCallback]),R=F.useCallback(X=>{X.stopPropagation(),r(!0)},[]),O=F.useCallback(()=>{r(!1),t.onCallback&&t.onCallback(e,{summary:s,full_text:t.full_text,action:"save"})},[e,s,t]),M=F.useCallback(X=>{X.stopPropagation()},[]),q=F.useCallback(X=>{X.stopPropagation(),X.key==="Enter"&&O(),X.key==="Escape"&&(a(t.summary||t.label||"Static Node"),r(!1))},[O,t.summary,t.label]),$=F.useCallback(X=>{X.stopPropagation(),d(!h)},[h]),j=F.useMemo(()=>n?fe.jsx("input",{type:"text",value:s,onChange:X=>a(X.target.value),onBlur:O,onKeyDown:q,onClick:M,className:"node-input nodrag",autoFocus:!0}):fe.jsxs("div",{className:"node-content-word",children:[fe.jsxs("div",{onClick:R,children:[v.map((X,H)=>{const P=E();return fe.jsxs("span",{className:`word-token ${P?"":"disabled"}`,style:{cursor:P?"pointer":"default",padding:"1px 3px",borderRadius:"4px",margin:"1px",display:"inline-block",opacity:P?1:.7,border:X.myConcept?"2px solid #4A90E2":void 0},onClick:C=>P?x(X,C):C.stopPropagation(),children:[X.word,H<v.length-1?" ":""]},H)}),v.length>5&&!h&&fe.jsx("span",{children:"..."})]}),v.length>5&&fe.jsx("button",{className:"node-expand-btn",onClick:$,title:h?"Show less":"Show more",children:h?"":"+"})]}),[n,s,h,v,R,O,q,M,$,x,E]);return fe.jsxs("div",{className:"static-editable-node nodrag",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{backgroundColor:t.myColor,color:t.myColor?iI(t.myColor):void 0,border:t.myColor?`2px solid ${sI(t.myColor,20)}`:void 0},children:[fe.jsx(aa,{type:"target",position:ke.Bottom,id:"bottom"}),u&&fe.jsx("div",{className:"node-tooltip",children:fe.jsxs("div",{className:"tooltip-content",children:[fe.jsx("span",{children:" Static Node"}),fe.jsx("span",{children:"Click to edit text"}),fe.jsx("span",{children:"Click words to create connections"})]})}),j,fe.jsx(aa,{type:"source",position:ke.Bottom,id:"bottom-source"})]})}function fj({data:t,id:e}){const[n,r]=F.useState(!1),[s,a]=F.useState(t.summary||t.label||"Draggable Node"),[u,f]=F.useState(!1),[h,d]=F.useState(t.expanded||!1),{getNodes:g}=uf(),{handleTokenClick:_}=nN(),v=F.useMemo(()=>rI(s),[s]),E=F.useMemo(()=>h||v.length<=5?v:v.slice(0,5),[v,h]),x=F.useCallback(()=>!0,[]),R=F.useCallback((H,P)=>{P.stopPropagation();const I=g().find(L=>L.id===e);if(!I)return;const z=_(H,e,I.position,I.type||"draggableEditable",t.myColor);return t.onCallback&&t.onCallback(e,{action:"tokenClick",token:H,newNodeColor:z}),z},[e,g,_,t.myColor,t.onCallback]),O=F.useCallback(H=>{H.stopPropagation(),r(!0)},[]),M=F.useCallback(()=>{r(!1),t.onCallback&&t.onCallback(e,{summary:s,full_text:t.full_text,action:"save"})},[e,s,t]),q=F.useCallback(H=>{H.stopPropagation()},[]),$=F.useCallback(H=>{H.stopPropagation(),H.key==="Enter"&&M(),H.key==="Escape"&&(a(t.summary||t.label||"Draggable Node"),r(!1))},[M,t.summary,t.label]),j=F.useCallback(H=>{H.stopPropagation(),d(!h),!h&&t.onExpand&&t.onExpand(),t.onCallback&&t.onCallback(e,{action:"expand",expanded:!h})},[h,t.onExpand,t.onCallback,e]),X=F.useMemo(()=>n?fe.jsx("input",{type:"text",value:s,onChange:H=>a(H.target.value),onBlur:M,onKeyDown:$,onClick:q,className:"node-input nodrag",autoFocus:!0}):fe.jsxs("div",{className:"node-content-word",children:[fe.jsxs("div",{onClick:O,children:[E.map((H,P)=>{const C=x();return fe.jsxs("span",{className:`word-token ${C?"":"disabled"}`,style:{cursor:C?"pointer":"default",padding:"1px 3px",borderRadius:"4px",margin:"1px",display:"inline-block",opacity:C?1:.7,border:H.myConcept?"2px solid #4A90E2":void 0},onClick:I=>C?R(H,I):I.stopPropagation(),children:[H.word,P<E.length-1?" ":""]},P)}),v.length>5&&!h&&fe.jsx("span",{children:"..."})]}),v.length>5&&fe.jsx("button",{className:"node-expand-btn",onClick:j,title:h?"Show less":"Show more",children:h?"":"+"})]}),[n,s,h,E,v,O,M,$,q,j,R,x]);return fe.jsxs("div",{className:"draggable-editable-node",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{background:t.myColor,color:t.myColor?iI(t.myColor):void 0,border:t.myColor?`2px solid ${sI(t.myColor,20)}`:void 0},children:[u&&fe.jsx("div",{className:"node-tooltip",children:fe.jsxs("div",{className:"tooltip-content",children:[fe.jsx("span",{children:" Draggable Node"}),fe.jsx("span",{children:"Drag me around!"}),fe.jsx("span",{children:"Click to edit text"}),fe.jsx("span",{children:"Click words to create connections"})]})}),fe.jsx("div",{className:"node-content",children:X}),fe.jsx(aa,{type:"source",position:ke.Bottom,id:"bottom-source"})]})}const hj={staticEditable:cj,draggableEditable:fj};function dj(){const{user:t,signOut:e}=fz(),{notifications:n,removeNotification:r,showSuccess:s,showError:a,showInfo:u}=vz(),{nodes:f,edges:h,allBoards:d,currentBoard:g,isSwitchingBoard:_,isSaving:v,onNodesChange:E,onEdgesChange:x,switchToBoard:R,createNewBoard:O,deleteBoard:M,updateBoardName:q,clearBoardState:$}=yz(t,{showSuccess:s,showError:a,showInfo:u});_z({allBoards:d,currentBoard:g,createNewBoard:O,switchToBoard:R});const j=async()=>{await e(),$()},X=F.useCallback(H=>{const P={id:`e${H.source}-${H.target}`,source:H.source,target:H.target,sourceHandle:H.sourceHandle,targetHandle:H.targetHandle};x([{type:"add",item:P}])},[x]);return t?fe.jsxs(fe.Fragment,{children:[fe.jsx(oz,{allBoards:d,currentBoard:g,onSwitchBoard:R,onCreateBoard:()=>(O(),Promise.resolve()),onDeleteBoard:M,onSignOut:j,isLoading:_}),fe.jsx(az,{name:g?.name||"Loading...",onSetName:q,user:t,isSaving:v}),fe.jsx(uz,{notifications:n,onRemove:r}),fe.jsx("div",{style:{width:"100vw",height:"100vh"},children:fe.jsx(uj,{nodes:f,onNodesChange:E,onEdgesChange:x,children:fe.jsxs(Sx,{nodes:f,edges:h,onNodesChange:E,onEdgesChange:x,onConnect:X,nodeTypes:hj,connectionMode:oo.Loose,fitView:!0,children:[fe.jsx(D4,{}),fe.jsx(A4,{}),fe.jsx(U4,{variant:Br.Cross,gap:12,size:1})]})})})]}):fe.jsx(sz,{})}function pj(){return fe.jsx(dj,{})}const rN=document.getElementById("root");if(!rN)throw new Error("Failed to find the root element");V2.createRoot(rN).render(fe.jsx(F.StrictMode,{children:fe.jsx(pj,{})}));
