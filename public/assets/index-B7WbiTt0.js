(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Fa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gg={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function U2(){if(Jb)return bc;Jb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:a}}return bc.Fragment=e,bc.jsx=n,bc.jsxs=n,bc}var eS;function B2(){return eS||(eS=1,Gg.exports=U2()),Gg.exports}var te=B2(),Yg={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tS;function F2(){if(tS)return We;tS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=y&&b[y]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function N(b,Q,re){this.props=b,this.context=Q,this.refs=C,this.updater=re||E}N.prototype.isReactComponent={},N.prototype.setState=function(b,Q){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Q,"setState")},N.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function k(){}k.prototype=N.prototype;function j(b,Q,re){this.props=b,this.context=Q,this.refs=C,this.updater=re||E}var q=j.prototype=new k;q.constructor=j,T(q,N.prototype),q.isPureReactComponent=!0;var F=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function R(b,Q,re,M,ce,be){return re=be.ref,{$$typeof:t,type:b,key:Q,ref:re!==void 0?re:null,props:be}}function I(b,Q){return R(b.type,Q,void 0,void 0,void 0,b.props)}function D(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function P(b){var Q={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(re){return Q[re]})}var U=/\/+/g;function L(b,Q){return typeof b=="object"&&b!==null&&b.key!=null?P(""+b.key):Q.toString(36)}function A(){}function O(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(A,A):(b.status="pending",b.then(function(Q){b.status==="pending"&&(b.status="fulfilled",b.value=Q)},function(Q){b.status==="pending"&&(b.status="rejected",b.reason=Q)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function G(b,Q,re,M,ce){var be=typeof b;(be==="undefined"||be==="boolean")&&(b=null);var we=!1;if(b===null)we=!0;else switch(be){case"bigint":case"string":case"number":we=!0;break;case"object":switch(b.$$typeof){case t:case e:we=!0;break;case m:return we=b._init,G(we(b._payload),Q,re,M,ce)}}if(we)return ce=ce(b),we=M===""?"."+L(b,0):M,F(ce)?(re="",we!=null&&(re=we.replace(U,"$&/")+"/"),G(ce,Q,re,"",function(xe){return xe})):ce!=null&&(D(ce)&&(ce=I(ce,re+(ce.key==null||b&&b.key===ce.key?"":(""+ce.key).replace(U,"$&/")+"/")+we)),Q.push(ce)),1;we=0;var De=M===""?".":M+":";if(F(b))for(var ye=0;ye<b.length;ye++)M=b[ye],be=De+L(M,ye),we+=G(M,Q,re,be,ce);else if(ye=_(b),typeof ye=="function")for(b=ye.call(b),ye=0;!(M=b.next()).done;)M=M.value,be=De+L(M,ye++),we+=G(M,Q,re,be,ce);else if(be==="object"){if(typeof b.then=="function")return G(O(b),Q,re,M,ce);throw Q=String(b),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return we}function z(b,Q,re){if(b==null)return b;var M=[],ce=0;return G(b,M,"","",function(be){return Q.call(re,be,ce++)}),M}function Y(b){if(b._status===-1){var Q=b._result;Q=Q(),Q.then(function(re){(b._status===0||b._status===-1)&&(b._status=1,b._result=re)},function(re){(b._status===0||b._status===-1)&&(b._status=2,b._result=re)}),b._status===-1&&(b._status=0,b._result=Q)}if(b._status===1)return b._result.default;throw b._result}var Z=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function J(){}return We.Children={map:z,forEach:function(b,Q,re){z(b,function(){Q.apply(this,arguments)},re)},count:function(b){var Q=0;return z(b,function(){Q++}),Q},toArray:function(b){return z(b,function(Q){return Q})||[]},only:function(b){if(!D(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},We.Component=N,We.Fragment=n,We.Profiler=s,We.PureComponent=j,We.StrictMode=r,We.Suspense=h,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,We.__COMPILER_RUNTIME={__proto__:null,c:function(b){return K.H.useMemoCache(b)}},We.cache=function(b){return function(){return b.apply(null,arguments)}},We.cloneElement=function(b,Q,re){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var M=T({},b.props),ce=b.key,be=void 0;if(Q!=null)for(we in Q.ref!==void 0&&(be=void 0),Q.key!==void 0&&(ce=""+Q.key),Q)!$.call(Q,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Q.ref===void 0||(M[we]=Q[we]);var we=arguments.length-2;if(we===1)M.children=re;else if(1<we){for(var De=Array(we),ye=0;ye<we;ye++)De[ye]=arguments[ye+2];M.children=De}return R(b.type,ce,void 0,void 0,be,M)},We.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:a,_context:b},b},We.createElement=function(b,Q,re){var M,ce={},be=null;if(Q!=null)for(M in Q.key!==void 0&&(be=""+Q.key),Q)$.call(Q,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(ce[M]=Q[M]);var we=arguments.length-2;if(we===1)ce.children=re;else if(1<we){for(var De=Array(we),ye=0;ye<we;ye++)De[ye]=arguments[ye+2];ce.children=De}if(b&&b.defaultProps)for(M in we=b.defaultProps,we)ce[M]===void 0&&(ce[M]=we[M]);return R(b,be,void 0,void 0,null,ce)},We.createRef=function(){return{current:null}},We.forwardRef=function(b){return{$$typeof:c,render:b}},We.isValidElement=D,We.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:Y}},We.memo=function(b,Q){return{$$typeof:d,type:b,compare:Q===void 0?null:Q}},We.startTransition=function(b){var Q=K.T,re={};K.T=re;try{var M=b(),ce=K.S;ce!==null&&ce(re,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(J,Z)}catch(be){Z(be)}finally{K.T=Q}},We.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},We.use=function(b){return K.H.use(b)},We.useActionState=function(b,Q,re){return K.H.useActionState(b,Q,re)},We.useCallback=function(b,Q){return K.H.useCallback(b,Q)},We.useContext=function(b){return K.H.useContext(b)},We.useDebugValue=function(){},We.useDeferredValue=function(b,Q){return K.H.useDeferredValue(b,Q)},We.useEffect=function(b,Q,re){var M=K.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return M.useEffect(b,Q)},We.useId=function(){return K.H.useId()},We.useImperativeHandle=function(b,Q,re){return K.H.useImperativeHandle(b,Q,re)},We.useInsertionEffect=function(b,Q){return K.H.useInsertionEffect(b,Q)},We.useLayoutEffect=function(b,Q){return K.H.useLayoutEffect(b,Q)},We.useMemo=function(b,Q){return K.H.useMemo(b,Q)},We.useOptimistic=function(b,Q){return K.H.useOptimistic(b,Q)},We.useReducer=function(b,Q,re){return K.H.useReducer(b,Q,re)},We.useRef=function(b){return K.H.useRef(b)},We.useState=function(b){return K.H.useState(b)},We.useSyncExternalStore=function(b,Q,re){return K.H.useSyncExternalStore(b,Q,re)},We.useTransition=function(){return K.H.useTransition()},We.version="19.1.0",We}var nS;function wf(){return nS||(nS=1,Yg.exports=F2()),Yg.exports}var V=wf();const de=Fa(V);var Kg={exports:{}},Sc={},Xg={exports:{}},Qg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function j2(){return rS||(rS=1,function(t){function e(z,Y){var Z=z.length;z.push(Y);e:for(;0<Z;){var J=Z-1>>>1,b=z[J];if(0<s(b,Y))z[J]=Y,z[Z]=b,Z=J;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],Z=z.pop();if(Z!==Y){z[0]=Z;e:for(var J=0,b=z.length,Q=b>>>1;J<Q;){var re=2*(J+1)-1,M=z[re],ce=re+1,be=z[ce];if(0>s(M,Z))ce<b&&0>s(be,M)?(z[J]=be,z[ce]=Z,J=ce):(z[J]=M,z[re]=Z,J=re);else if(ce<b&&0>s(be,Z))z[J]=be,z[ce]=Z,J=ce;else break e}}return Y}function s(z,Y){var Z=z.sortIndex-Y.sortIndex;return Z!==0?Z:z.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],m=1,y=null,_=3,E=!1,T=!1,C=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function F(z){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=z)r(d),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(d)}}function K(z){if(C=!1,F(z),!T)if(n(h)!==null)T=!0,$||($=!0,L());else{var Y=n(d);Y!==null&&G(K,Y.startTime-z)}}var $=!1,R=-1,I=5,D=-1;function P(){return N?!0:!(t.unstable_now()-D<I)}function U(){if(N=!1,$){var z=t.unstable_now();D=z;var Y=!0;try{e:{T=!1,C&&(C=!1,j(R),R=-1),E=!0;var Z=_;try{t:{for(F(z),y=n(h);y!==null&&!(y.expirationTime>z&&P());){var J=y.callback;if(typeof J=="function"){y.callback=null,_=y.priorityLevel;var b=J(y.expirationTime<=z);if(z=t.unstable_now(),typeof b=="function"){y.callback=b,F(z),Y=!0;break t}y===n(h)&&r(h),F(z)}else r(h);y=n(h)}if(y!==null)Y=!0;else{var Q=n(d);Q!==null&&G(K,Q.startTime-z),Y=!1}}break e}finally{y=null,_=Z,E=!1}Y=void 0}}finally{Y?L():$=!1}}}var L;if(typeof q=="function")L=function(){q(U)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,O=A.port2;A.port1.onmessage=U,L=function(){O.postMessage(null)}}else L=function(){k(U,0)};function G(z,Y){R=k(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(z){switch(_){case 1:case 2:case 3:var Y=3;break;default:Y=_}var Z=_;_=Y;try{return z()}finally{_=Z}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=_;_=z;try{return Y()}finally{_=Z}},t.unstable_scheduleCallback=function(z,Y,Z){var J=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?J+Z:J):Z=J,z){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=Z+b,z={id:m++,callback:Y,priorityLevel:z,startTime:Z,expirationTime:b,sortIndex:-1},Z>J?(z.sortIndex=Z,e(d,z),n(h)===null&&z===n(d)&&(C?(j(R),R=-1):C=!0,G(K,Z-J))):(z.sortIndex=b,e(h,z),T||E||(T=!0,$||($=!0,L()))),z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(z){var Y=_;return function(){var Z=_;_=Y;try{return z.apply(this,arguments)}finally{_=Z}}}}(Qg)),Qg}var iS;function H2(){return iS||(iS=1,Xg.exports=j2()),Xg.exports}var Wg={exports:{}},ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function q2(){if(sS)return ar;sS=1;var t=wf();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ar.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},ar.flushSync=function(h){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=m,r.d.f()}},ar.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},ar.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ar.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:E}):m==="script"&&r.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ar.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},ar.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ar.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},ar.requestFormReset=function(h){r.d.r(h)},ar.unstable_batchedUpdates=function(h,d){return h(d)},ar.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},ar.useFormStatus=function(){return u.H.useHostTransitionStatus()},ar.version="19.1.0",ar}var oS;function Zx(){if(oS)return Wg.exports;oS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wg.exports=q2(),Wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function $2(){if(aS)return Sc;aS=1;var t=H2(),e=wf(),n=Zx();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(a(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,f=o;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return c(g),i;if(v===f)return c(g),o;v=v.sibling}throw Error(r(188))}if(l.return!==f.return)l=g,f=v;else{for(var x=!1,B=g.child;B;){if(B===l){x=!0,l=g,f=v;break}if(B===f){x=!0,f=g,l=v;break}B=B.sibling}if(!x){for(B=v.child;B;){if(B===l){x=!0,l=v,f=g;break}if(B===f){x=!0,f=v,l=g;break}B=B.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==f)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),q=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var A=Symbol.for("react.client.reference");function O(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===A?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case N:return"Profiler";case C:return"StrictMode";case K:return"Suspense";case $:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case q:return(i.displayName||"Context")+".Provider";case j:return(i._context.displayName||"Context")+".Consumer";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return o=i.displayName||null,o!==null?o:O(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return O(i(o))}catch{}}return null}var G=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},J=[],b=-1;function Q(i){return{current:i}}function re(i){0>b||(i.current=J[b],J[b]=null,b--)}function M(i,o){b++,J[b]=i.current,i.current=o}var ce=Q(null),be=Q(null),we=Q(null),De=Q(null);function ye(i,o){switch(M(we,o),M(be,i),M(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Cb(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Cb(o),i=Ib(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ce),M(ce,i)}function xe(){re(ce),re(be),re(we)}function Ce(i){i.memoizedState!==null&&M(De,i);var o=ce.current,l=Ib(o,i.type);o!==l&&(M(be,i),M(ce,l))}function Fe(i){be.current===i&&(re(ce),re(be)),De.current===i&&(re(De),yc._currentValue=Z)}var _t=Object.prototype.hasOwnProperty,Et=t.unstable_scheduleCallback,wt=t.unstable_cancelCallback,ze=t.unstable_shouldYield,Wt=t.unstable_requestPaint,Ue=t.unstable_now,Me=t.unstable_getCurrentPriorityLevel,$t=t.unstable_ImmediatePriority,dn=t.unstable_UserBlockingPriority,pn=t.unstable_NormalPriority,En=t.unstable_LowPriority,mn=t.unstable_IdlePriority,en=t.log,Cn=t.unstable_setDisableYieldValue,ne=null,pe=null;function Re(i){if(typeof en=="function"&&Cn(i),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(ne,i)}catch{}}var Pe=Math.clz32?Math.clz32:Dt,Je=Math.log,ft=Math.LN2;function Dt(i){return i>>>=0,i===0?32:31-(Je(i)/ft|0)|0}var Ot=256,Mt=4194304;function ht(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function et(i,o,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,v=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var B=f&134217727;return B!==0?(f=B&~v,f!==0?g=ht(f):(x&=B,x!==0?g=ht(x):l||(l=B&~i,l!==0&&(g=ht(l))))):(B=f&~v,B!==0?g=ht(B):x!==0?g=ht(x):l||(l=f&~i,l!==0&&(g=ht(l)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,l=o&-o,v>=l||v===32&&(l&4194048)!==0)?o:g}function Ht(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function zt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(){var i=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),i}function ir(){var i=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),i}function In(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function pr(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sr(i,o,l,f,g,v){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var B=i.entanglements,X=i.expirationTimes,ae=i.hiddenUpdates;for(l=x&~l;0<l;){var me=31-Pe(l),ve=1<<me;B[me]=0,X[me]=-1;var le=ae[me];if(le!==null)for(ae[me]=null,me=0;me<le.length;me++){var ue=le[me];ue!==null&&(ue.lane&=-536870913)}l&=~ve}f!==0&&Cr(i,f,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(x&~o))}function Cr(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Pe(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|l&4194090}function fs(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var f=31-Pe(l),g=1<<f;g&o|i[f]&o&&(i[f]|=o),l&=~g}}function zr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ti(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function mr(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:Yb(i.type))}function Ur(i,o){var l=Y.p;try{return Y.p=i,o()}finally{Y.p=l}}var Ut=Math.random().toString(36).slice(2),At="__reactFiber$"+Ut,tn="__reactProps$"+Ut,ln="__reactContainer$"+Ut,zi="__reactEvents$"+Ut,Zo="__reactListeners$"+Ut,gr="__reactHandles$"+Ut,Ui="__reactResources$"+Ut,ni="__reactMarker$"+Ut;function Br(i){delete i[At],delete i[tn],delete i[zi],delete i[Zo],delete i[gr]}function yr(i){var o=i[At];if(o)return o;for(var l=i.parentNode;l;){if(o=l[ln]||l[At]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Db(i);i!==null;){if(l=i[At])return l;i=Db(i)}return o}i=l,l=i.parentNode}return null}function Ln(i){if(i=i[At]||i[ln]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function vr(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Rn(i){var o=i[Ui];return o||(o=i[Ui]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function W(i){i[ni]=!0}var fe=new Set,Se={};function Ie(i,o){st(i,o),st(i+"Capture",o)}function st(i,o){for(Se[i]=o,i=0;i<o.length;i++)fe.add(o[i])}var Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pt={},Ct={};function zn(i){return _t.call(Ct,i)?!0:_t.call(Pt,i)?!1:Xe.test(i)?Ct[i]=!0:(Pt[i]=!0,!1)}function It(i,o,l){if(zn(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function bt(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function Rt(i,o,l,f){if(f===null)i.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+f)}}var wn,un;function gn(i){if(wn===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);wn=o&&o[1]||"",un=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wn+i+un}var _r=!1;function Er(i,o){if(!i||_r)return"";_r=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ue){var le=ue}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(ue){le=ue}i.call(ve.prototype)}}else{try{throw Error()}catch(ue){le=ue}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ue){if(ue&&le&&typeof ue.stack=="string")return[ue.stack,le.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),x=v[0],B=v[1];if(x&&B){var X=x.split(`
`),ae=B.split(`
`);for(g=f=0;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ae.length&&!ae[g].includes("DetermineComponentFrameRoot");)g++;if(f===X.length||g===ae.length)for(f=X.length-1,g=ae.length-1;1<=f&&0<=g&&X[f]!==ae[g];)g--;for(;1<=f&&0<=g;f--,g--)if(X[f]!==ae[g]){if(f!==1||g!==1)do if(f--,g--,0>g||X[f]!==ae[g]){var me=`
`+X[f].replace(" at new "," at ");return i.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",i.displayName)),me}while(1<=f&&0<=g);break}}}finally{_r=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?gn(l):""}function ri(i){switch(i.tag){case 26:case 27:case 5:return gn(i.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return Er(i.type,!1);case 11:return Er(i.type.render,!1);case 1:return Er(i.type,!0);case 31:return gn("Activity");default:return""}}function ii(i){try{var o="";do o+=ri(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Jo(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Iu(i){var o=Jo(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(x){f=""+x,v.call(this,x)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(x){f=""+x},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function dt(i){i._valueTracker||(i._valueTracker=Iu(i))}function ct(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return i&&(f=Jo(i)?i.checked?"true":"false":i.value),i=f,i!==l?(o.setValue(i),!0):!1}function si(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var oi=/[\n"\\]/g;function nn(i){return i.replace(oi,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Gt(i,o,l,f,g,v,x,B){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),o!=null?x==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Un(o)):i.value!==""+Un(o)&&(i.value=""+Un(o)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),o!=null?Kn(i,x,Un(o)):l!=null?Kn(i,x,Un(l)):f!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Un(B):i.removeAttribute("name")}function Yn(i,o,l,f,g,v,x,B){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),o!=null||l!=null){if(!(v!=="submit"&&v!=="reset"||o!=null))return;l=l!=null?""+Un(l):"",o=o!=null?""+Un(o):l,B||o===i.value||(i.value=o),i.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=B?i.checked:!!f,i.defaultChecked=!!f,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x)}function Kn(i,o,l){o==="number"&&si(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function wr(i,o,l,f){if(i=i.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=o.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&f&&(i[l].defaultSelected=!0)}else{for(l=""+Un(l),o=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function vt(i,o,l){if(o!=null&&(o=""+Un(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Un(l):""}function xi(i,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(r(92));if(G(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=Un(o),i.defaultValue=l,f=i.textContent,f===l&&f!==""&&f!==null&&(i.value=f)}function Xn(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ea(i,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,l):typeof l!="number"||l===0||br.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function Bi(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&l[g]!==f&&ea(i,g,f)}else for(var v in o)o.hasOwnProperty(v)&&ea(i,v,o[v])}function hs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ds(i){return Ks.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ir=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ps=null,ms=null;function Ru(i){var o=Ln(i);if(o&&(i=o.stateNode)){var l=i[tn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Gt(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==i&&f.form===i.form){var g=f[tn]||null;if(!g)throw Error(r(90));Gt(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===i.form&&ct(f)}break e;case"textarea":vt(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&wr(i,!!l.multiple,o,!1)}}}var Fi=!1;function jf(i,o,l){if(Fi)return i(o,l);Fi=!0;try{var f=i(o);return f}finally{if(Fi=!1,(ps!==null||ms!==null)&&(Ph(),ps&&(o=ps,i=ms,ms=ps=null,Ru(o),i)))for(o=0;o<i.length;o++)Ru(i[o])}}function ta(i,o){var l=i.stateNode;if(l===null)return null;var f=l[tn]||null;if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Ai)try{var na={};Object.defineProperty(na,"passive",{get:function(){ai=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{ai=!1}var ji=null,Xs=null,gs=null;function Nu(){if(gs)return gs;var i,o=Xs,l=o.length,f,g="value"in ji?ji.value:ji.textContent,v=g.length;for(i=0;i<l&&o[i]===g[i];i++);var x=l-i;for(f=1;f<=x&&o[l-f]===g[v-f];f++);return gs=g.slice(i,1<f?1-f:void 0)}function Hi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function qi(){return!0}function ku(){return!1}function Bn(i){function o(l,f,g,v,x){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(l=i[B],this[B]=l?l(v):v[B]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qi:ku,this.isPropagationStopped=ku,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),o}var Nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Bn(Nt),ra=m({},Nt,{view:0,detail:0}),Hf=Bn(ra),Ka,Xa,$i,ia=m({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(Ka=i.screenX-$i.screenX,Xa=i.screenY-$i.screenY):Xa=Ka=0,$i=i),Ka)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),li=Bn(ia),qf=m({},ia,{dataTransfer:0}),em=Bn(qf),sa=m({},ra,{relatedTarget:0}),Qa=Bn(sa),Du=m({},Nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Bn(Du),$f=m({},Nt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Za=Bn($f),tm=m({},Nt,{data:0}),Ou=Bn(tm),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Yf[i])?!!o[i]:!1}function aa(){return Mu}var Kf=m({},ra,{key:function(i){if(i.key){var o=oa[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(i){return i.type==="keypress"?Hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ja=Bn(Kf),Xf=m({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=Bn(Xf),ys=m({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),Qf=Bn(ys),Wf=m({},Nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zf=Bn(Wf),Jf=m({},ia,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),el=Bn(Jf),Sr=m({},Nt,{newState:0,oldState:0}),eh=Bn(Sr),th=[9,13,27,32],Gi=Ai&&"CompositionEvent"in window,p=null;Ai&&"documentMode"in document&&(p=document.documentMode);var w=Ai&&"TextEvent"in window&&!p,S=Ai&&(!Gi||p&&8<p&&11>=p),H=" ",se=!1;function he(i,o){switch(i){case"keyup":return th.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pt=!1;function Nn(i,o){switch(i){case"compositionend":return Ae(o);case"keypress":return o.which!==32?null:(se=!0,H);case"textInput":return i=o.data,i===H&&se?null:i;default:return null}}function mt(i,o){if(pt)return i==="compositionend"||!Gi&&he(i,o)?(i=Nu(),gs=Xs=ji=null,pt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return S&&o.locale!=="ko"?null:o.data;default:return null}}var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kn(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Fn[i.type]:o==="textarea"}function vs(i,o,l,f){ps?ms?ms.push(f):ms=[f]:ps=f,o=Fh(o,"onChange"),0<o.length&&(l=new Ya("onChange","change",null,l,f),i.push({event:l,listeners:o}))}var Wn=null,Yi=null;function Vu(i){bb(i,0)}function nh(i){var o=vr(i);if(ct(o))return i}function H0(i,o){if(i==="change")return o}var q0=!1;if(Ai){var nm;if(Ai){var rm="oninput"in document;if(!rm){var $0=document.createElement("div");$0.setAttribute("oninput","return;"),rm=typeof $0.oninput=="function"}nm=rm}else nm=!1;q0=nm&&(!document.documentMode||9<document.documentMode)}function G0(){Wn&&(Wn.detachEvent("onpropertychange",Y0),Yi=Wn=null)}function Y0(i){if(i.propertyName==="value"&&nh(Yi)){var o=[];vs(o,Yi,i,Qn(i)),jf(Vu,o)}}function mk(i,o,l){i==="focusin"?(G0(),Wn=o,Yi=l,Wn.attachEvent("onpropertychange",Y0)):i==="focusout"&&G0()}function gk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return nh(Yi)}function yk(i,o){if(i==="click")return nh(o)}function vk(i,o){if(i==="input"||i==="change")return nh(o)}function _k(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Fr=typeof Object.is=="function"?Object.is:_k;function Lu(i,o){if(Fr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!_t.call(o,g)||!Fr(i[g],o[g]))return!1}return!0}function K0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function X0(i,o){var l=K0(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=o&&f>=o)return{node:l,offset:o-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=K0(l)}}function Q0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Q0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function W0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=si(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=si(i.document)}return o}function im(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var Ek=Ai&&"documentMode"in document&&11>=document.documentMode,tl=null,sm=null,zu=null,om=!1;function Z0(i,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;om||tl==null||tl!==si(f)||(f=tl,"selectionStart"in f&&im(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),zu&&Lu(zu,f)||(zu=f,f=Fh(sm,"onSelect"),0<f.length&&(o=new Ya("onSelect","select",null,o,l),i.push({event:o,listeners:f}),o.target=tl)))}function la(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var nl={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},am={},J0={};Ai&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function ua(i){if(am[i])return am[i];if(!nl[i])return i;var o=nl[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in J0)return am[i]=o[l];return i}var eE=ua("animationend"),tE=ua("animationiteration"),nE=ua("animationstart"),wk=ua("transitionrun"),bk=ua("transitionstart"),Sk=ua("transitioncancel"),rE=ua("transitionend"),iE=new Map,lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lm.push("scrollEnd");function Ci(i,o){iE.set(i,o),Ie(o,[i])}var sE=new WeakMap;function ui(i,o){if(typeof i=="object"&&i!==null){var l=sE.get(i);return l!==void 0?l:(o={value:i,source:o,stack:ii(o)},sE.set(i,o),o)}return{value:i,source:o,stack:ii(o)}}var ci=[],rl=0,um=0;function rh(){for(var i=rl,o=um=rl=0;o<i;){var l=ci[o];ci[o++]=null;var f=ci[o];ci[o++]=null;var g=ci[o];ci[o++]=null;var v=ci[o];if(ci[o++]=null,f!==null&&g!==null){var x=f.pending;x===null?g.next=g:(g.next=x.next,x.next=g),f.pending=g}v!==0&&oE(l,g,v)}}function ih(i,o,l,f){ci[rl++]=i,ci[rl++]=o,ci[rl++]=l,ci[rl++]=f,um|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function cm(i,o,l,f){return ih(i,o,l,f),sh(i)}function il(i,o){return ih(i,null,null,o),sh(i)}function oE(i,o,l){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l);for(var g=!1,v=i.return;v!==null;)v.childLanes|=l,f=v.alternate,f!==null&&(f.childLanes|=l),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&o!==null&&(g=31-Pe(l),i=v.hiddenUpdates,f=i[g],f===null?i[g]=[o]:f.push(o),o.lane=l|536870912),v):null}function sh(i){if(50<uc)throw uc=0,gg=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var sl={};function Tk(i,o,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(i,o,l,f){return new Tk(i,o,l,f)}function fm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function _s(i,o){var l=i.alternate;return l===null?(l=jr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function aE(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function oh(i,o,l,f,g,v){var x=0;if(f=i,typeof i=="function")fm(i)&&(x=1);else if(typeof i=="string")x=A2(i,l,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=jr(31,l,o,g),i.elementType=D,i.lanes=v,i;case T:return ca(l.children,g,v,o);case C:x=8,g|=24;break;case N:return i=jr(12,l,o,g|2),i.elementType=N,i.lanes=v,i;case K:return i=jr(13,l,o,g),i.elementType=K,i.lanes=v,i;case $:return i=jr(19,l,o,g),i.elementType=$,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case q:x=10;break e;case j:x=9;break e;case F:x=11;break e;case R:x=14;break e;case I:x=16,f=null;break e}x=29,l=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=jr(x,l,o,g),o.elementType=i,o.type=f,o.lanes=v,o}function ca(i,o,l,f){return i=jr(7,i,f,o),i.lanes=l,i}function hm(i,o,l){return i=jr(6,i,null,o),i.lanes=l,i}function dm(i,o,l){return o=jr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var ol=[],al=0,ah=null,lh=0,fi=[],hi=0,fa=null,Es=1,ws="";function ha(i,o){ol[al++]=lh,ol[al++]=ah,ah=i,lh=o}function lE(i,o,l){fi[hi++]=Es,fi[hi++]=ws,fi[hi++]=fa,fa=i;var f=Es;i=ws;var g=32-Pe(f)-1;f&=~(1<<g),l+=1;var v=32-Pe(o)+g;if(30<v){var x=g-g%5;v=(f&(1<<x)-1).toString(32),f>>=x,g-=x,Es=1<<32-Pe(o)+g|l<<g|f,ws=v+i}else Es=1<<v|l<<g|f,ws=i}function pm(i){i.return!==null&&(ha(i,1),lE(i,1,0))}function mm(i){for(;i===ah;)ah=ol[--al],ol[al]=null,lh=ol[--al],ol[al]=null;for(;i===fa;)fa=fi[--hi],fi[hi]=null,ws=fi[--hi],fi[hi]=null,Es=fi[--hi],fi[hi]=null}var Tr=null,cn=null,Tt=!1,da=null,Ki=!1,gm=Error(r(519));function pa(i){var o=Error(r(418,""));throw Fu(ui(o,i)),gm}function uE(i){var o=i.stateNode,l=i.type,f=i.memoizedProps;switch(o[At]=i,o[tn]=f,l){case"dialog":at("cancel",o),at("close",o);break;case"iframe":case"object":case"embed":at("load",o);break;case"video":case"audio":for(l=0;l<fc.length;l++)at(fc[l],o);break;case"source":at("error",o);break;case"img":case"image":case"link":at("error",o),at("load",o);break;case"details":at("toggle",o);break;case"input":at("invalid",o),Yn(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),dt(o);break;case"select":at("invalid",o);break;case"textarea":at("invalid",o),xi(o,f.value,f.defaultValue,f.children),dt(o)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||Ab(o.textContent,l)?(f.popover!=null&&(at("beforetoggle",o),at("toggle",o)),f.onScroll!=null&&at("scroll",o),f.onScrollEnd!=null&&at("scrollend",o),f.onClick!=null&&(o.onclick=jh),o=!0):o=!1,o||pa(i)}function cE(i){for(Tr=i.return;Tr;)switch(Tr.tag){case 5:case 13:Ki=!1;return;case 27:case 3:Ki=!0;return;default:Tr=Tr.return}}function Uu(i){if(i!==Tr)return!1;if(!Tt)return cE(i),Tt=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Dg(i.type,i.memoizedProps)),l=!l),l&&cn&&pa(i),cE(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){cn=Ri(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}cn=null}}else o===27?(o=cn,fo(i.type)?(i=Vg,Vg=null,cn=i):cn=o):cn=Tr?Ri(i.stateNode.nextSibling):null;return!0}function Bu(){cn=Tr=null,Tt=!1}function fE(){var i=da;return i!==null&&(kr===null?kr=i:kr.push.apply(kr,i),da=null),i}function Fu(i){da===null?da=[i]:da.push(i)}var ym=Q(null),ma=null,bs=null;function Qs(i,o,l){M(ym,o._currentValue),o._currentValue=l}function Ss(i){i._currentValue=ym.current,re(ym)}function vm(i,o,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===l)break;i=i.return}}function _m(i,o,l,f){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var x=g.child;v=v.firstContext;e:for(;v!==null;){var B=v;v=g;for(var X=0;X<o.length;X++)if(B.context===o[X]){v.lanes|=l,B=v.alternate,B!==null&&(B.lanes|=l),vm(v.return,l,i),f||(x=null);break e}v=B.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(r(341));x.lanes|=l,v=x.alternate,v!==null&&(v.lanes|=l),vm(x,l,i),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function ju(i,o,l,f){i=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var B=g.type;Fr(g.pendingProps.value,x.value)||(i!==null?i.push(B):i=[B])}}else if(g===De.current){if(x=g.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(yc):i=[yc])}g=g.return}i!==null&&_m(o,i,l,f),o.flags|=262144}function uh(i){for(i=i.firstContext;i!==null;){if(!Fr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ga(i){ma=i,bs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function or(i){return hE(ma,i)}function ch(i,o){return ma===null&&ga(i),hE(i,o)}function hE(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},bs===null){if(i===null)throw Error(r(308));bs=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else bs=bs.next=o;return l}var xk=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},Ak=t.unstable_scheduleCallback,Ck=t.unstable_NormalPriority,Dn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Em(){return{controller:new xk,data:new Map,refCount:0}}function Hu(i){i.refCount--,i.refCount===0&&Ak(Ck,function(){i.controller.abort()})}var qu=null,wm=0,ll=0,ul=null;function Ik(i,o){if(qu===null){var l=qu=[];wm=0,ll=Sg(),ul={status:"pending",value:void 0,then:function(f){l.push(f)}}}return wm++,o.then(dE,dE),o}function dE(){if(--wm===0&&qu!==null){ul!==null&&(ul.status="fulfilled");var i=qu;qu=null,ll=0,ul=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function Rk(i,o){var l=[],f={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),f}var pE=z.S;z.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Ik(i,o),pE!==null&&pE(i,o)};var ya=Q(null);function bm(){var i=ya.current;return i!==null?i:Yt.pooledCache}function fh(i,o){o===null?M(ya,ya.current):M(ya,o.pool)}function mE(){var i=bm();return i===null?null:{parent:Dn._currentValue,pool:i}}var $u=Error(r(460)),gE=Error(r(474)),hh=Error(r(542)),Sm={then:function(){}};function yE(i){return i=i.status,i==="fulfilled"||i==="rejected"}function dh(){}function vE(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(dh,dh),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,EE(i),i;default:if(typeof o.status=="string")o.then(dh,dh);else{if(i=Yt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,EE(i),i}throw Gu=o,$u}}var Gu=null;function _E(){if(Gu===null)throw Error(r(459));var i=Gu;return Gu=null,i}function EE(i){if(i===$u||i===hh)throw Error(r(483))}var Ws=!1;function Tm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Zs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Js(i,o,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Vt&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=sh(i),oE(i,null,l),o}return ih(i,f,o,l),sh(i)}function Yu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,fs(i,l)}}function Am(i,o){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};v===null?g=v=x:v=v.next=x,l=l.next}while(l!==null);v===null?g=v=o:v=v.next=o}else g=v=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var Cm=!1;function Ku(){if(Cm){var i=ul;if(i!==null)throw i}}function Xu(i,o,l,f){Cm=!1;var g=i.updateQueue;Ws=!1;var v=g.firstBaseUpdate,x=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var X=B,ae=X.next;X.next=null,x===null?v=ae:x.next=ae,x=X;var me=i.alternate;me!==null&&(me=me.updateQueue,B=me.lastBaseUpdate,B!==x&&(B===null?me.firstBaseUpdate=ae:B.next=ae,me.lastBaseUpdate=X))}if(v!==null){var ve=g.baseState;x=0,me=ae=X=null,B=v;do{var le=B.lane&-536870913,ue=le!==B.lane;if(ue?(gt&le)===le:(f&le)===le){le!==0&&le===ll&&(Cm=!0),me!==null&&(me=me.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Ge=i,je=B;le=o;var jt=l;switch(je.tag){case 1:if(Ge=je.payload,typeof Ge=="function"){ve=Ge.call(jt,ve,le);break e}ve=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=je.payload,le=typeof Ge=="function"?Ge.call(jt,ve,le):Ge,le==null)break e;ve=m({},ve,le);break e;case 2:Ws=!0}}le=B.callback,le!==null&&(i.flags|=64,ue&&(i.flags|=8192),ue=g.callbacks,ue===null?g.callbacks=[le]:ue.push(le))}else ue={lane:le,tag:B.tag,payload:B.payload,callback:B.callback,next:null},me===null?(ae=me=ue,X=ve):me=me.next=ue,x|=le;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;ue=B,B=ue.next,ue.next=null,g.lastBaseUpdate=ue,g.shared.pending=null}}while(!0);me===null&&(X=ve),g.baseState=X,g.firstBaseUpdate=ae,g.lastBaseUpdate=me,v===null&&(g.shared.lanes=0),ao|=x,i.lanes=x,i.memoizedState=ve}}function wE(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function bE(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)wE(l[i],o)}var cl=Q(null),ph=Q(0);function SE(i,o){i=Ns,M(ph,i),M(cl,o),Ns=i|o.baseLanes}function Im(){M(ph,Ns),M(cl,cl.current)}function Rm(){Ns=ph.current,re(cl),re(ph)}var eo=0,tt=null,Bt=null,bn=null,mh=!1,fl=!1,va=!1,gh=0,Qu=0,hl=null,Nk=0;function yn(){throw Error(r(321))}function Nm(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Fr(i[l],o[l]))return!1;return!0}function km(i,o,l,f,g,v){return eo=v,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,z.H=i===null||i.memoizedState===null?ow:aw,va=!1,v=l(f,g),va=!1,fl&&(v=xE(o,l,f,g)),TE(i),v}function TE(i){z.H=bh;var o=Bt!==null&&Bt.next!==null;if(eo=0,bn=Bt=tt=null,mh=!1,Qu=0,hl=null,o)throw Error(r(300));i===null||jn||(i=i.dependencies,i!==null&&uh(i)&&(jn=!0))}function xE(i,o,l,f){tt=i;var g=0;do{if(fl&&(hl=null),Qu=0,fl=!1,25<=g)throw Error(r(301));if(g+=1,bn=Bt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}z.H=Lk,v=o(l,f)}while(fl);return v}function kk(){var i=z.H,o=i.useState()[0];return o=typeof o.then=="function"?Wu(o):o,i=i.useState()[0],(Bt!==null?Bt.memoizedState:null)!==i&&(tt.flags|=1024),o}function Dm(){var i=gh!==0;return gh=0,i}function Om(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Mm(i){if(mh){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}mh=!1}eo=0,bn=Bt=tt=null,fl=!1,Qu=gh=0,hl=null}function Rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?tt.memoizedState=bn=i:bn=bn.next=i,bn}function Sn(){if(Bt===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=Bt.next;var o=bn===null?tt.memoizedState:bn.next;if(o!==null)bn=o,Bt=i;else{if(i===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Bt=i,i={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},bn===null?tt.memoizedState=bn=i:bn=bn.next=i}return bn}function Pm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wu(i){var o=Qu;return Qu+=1,hl===null&&(hl=[]),i=vE(hl,i,o),o=tt,(bn===null?o.memoizedState:bn.next)===null&&(o=o.alternate,z.H=o===null||o.memoizedState===null?ow:aw),i}function yh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Wu(i);if(i.$$typeof===q)return or(i)}throw Error(r(438,String(i)))}function Vm(i){var o=null,l=tt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=tt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Pm(),tt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),f=0;f<i;f++)l[f]=P;return o.index++,l}function Ts(i,o){return typeof o=="function"?o(i):o}function vh(i){var o=Sn();return Lm(o,Bt,i)}function Lm(i,o,l){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var g=i.baseQueue,v=f.pending;if(v!==null){if(g!==null){var x=g.next;g.next=v.next,v.next=x}o.baseQueue=g=v,f.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{o=g.next;var B=x=null,X=null,ae=o,me=!1;do{var ve=ae.lane&-536870913;if(ve!==ae.lane?(gt&ve)===ve:(eo&ve)===ve){var le=ae.revertLane;if(le===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ve===ll&&(me=!0);else if((eo&le)===le){ae=ae.next,le===ll&&(me=!0);continue}else ve={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},X===null?(B=X=ve,x=v):X=X.next=ve,tt.lanes|=le,ao|=le;ve=ae.action,va&&l(v,ve),v=ae.hasEagerState?ae.eagerState:l(v,ve)}else le={lane:ve,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},X===null?(B=X=le,x=v):X=X.next=le,tt.lanes|=ve,ao|=ve;ae=ae.next}while(ae!==null&&ae!==o);if(X===null?x=v:X.next=B,!Fr(v,i.memoizedState)&&(jn=!0,me&&(l=ul,l!==null)))throw l;i.memoizedState=v,i.baseState=x,i.baseQueue=X,f.lastRenderedState=v}return g===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function zm(i){var o=Sn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var f=l.dispatch,g=l.pending,v=o.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do v=i(v,x.action),x=x.next;while(x!==g);Fr(v,o.memoizedState)||(jn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,f]}function AE(i,o,l){var f=tt,g=Sn(),v=Tt;if(v){if(l===void 0)throw Error(r(407));l=l()}else l=o();var x=!Fr((Bt||g).memoizedState,l);x&&(g.memoizedState=l,jn=!0),g=g.queue;var B=RE.bind(null,f,g,i);if(Zu(2048,8,B,[i]),g.getSnapshot!==o||x||bn!==null&&bn.memoizedState.tag&1){if(f.flags|=2048,dl(9,_h(),IE.bind(null,f,g,l,o),null),Yt===null)throw Error(r(349));v||(eo&124)!==0||CE(f,o,l)}return l}function CE(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=tt.updateQueue,o===null?(o=Pm(),tt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function IE(i,o,l,f){o.value=l,o.getSnapshot=f,NE(o)&&kE(i)}function RE(i,o,l){return l(function(){NE(o)&&kE(i)})}function NE(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Fr(i,l)}catch{return!0}}function kE(i){var o=il(i,2);o!==null&&Yr(o,i,2)}function Um(i){var o=Rr();if(typeof i=="function"){var l=i;if(i=l(),va){Re(!0);try{l()}finally{Re(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:i},o}function DE(i,o,l,f){return i.baseState=l,Lm(i,Bt,typeof f=="function"?f:Ts)}function Dk(i,o,l,f,g){if(wh(i))throw Error(r(485));if(i=o.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){v.listeners.push(x)}};z.T!==null?l(!0):v.isTransition=!1,f(v),l=o.pending,l===null?(v.next=o.pending=v,OE(o,v)):(v.next=l.next,o.pending=l.next=v)}}function OE(i,o){var l=o.action,f=o.payload,g=i.state;if(o.isTransition){var v=z.T,x={};z.T=x;try{var B=l(g,f),X=z.S;X!==null&&X(x,B),ME(i,o,B)}catch(ae){Bm(i,o,ae)}finally{z.T=v}}else try{v=l(g,f),ME(i,o,v)}catch(ae){Bm(i,o,ae)}}function ME(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){PE(i,o,f)},function(f){return Bm(i,o,f)}):PE(i,o,l)}function PE(i,o,l){o.status="fulfilled",o.value=l,VE(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,OE(i,l)))}function Bm(i,o,l){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,VE(o),o=o.next;while(o!==f)}i.action=null}function VE(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function LE(i,o){return o}function zE(i,o){if(Tt){var l=Yt.formState;if(l!==null){e:{var f=tt;if(Tt){if(cn){t:{for(var g=cn,v=Ki;g.nodeType!==8;){if(!v){g=null;break t}if(g=Ri(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){cn=Ri(g.nextSibling),f=g.data==="F!";break e}}pa(f)}f=!1}f&&(o=l[0])}}return l=Rr(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LE,lastRenderedState:o},l.queue=f,l=rw.bind(null,tt,f),f.dispatch=l,f=Um(!1),v=$m.bind(null,tt,!1,f.queue),f=Rr(),g={state:o,dispatch:null,action:i,pending:null},f.queue=g,l=Dk.bind(null,tt,g,v,l),g.dispatch=l,f.memoizedState=i,[o,l,!1]}function UE(i){var o=Sn();return BE(o,Bt,i)}function BE(i,o,l){if(o=Lm(i,o,LE)[0],i=vh(Ts)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Wu(o)}catch(x){throw x===$u?hh:x}else f=o;o=Sn();var g=o.queue,v=g.dispatch;return l!==o.memoizedState&&(tt.flags|=2048,dl(9,_h(),Ok.bind(null,g,l),null)),[f,v,i]}function Ok(i,o){i.action=o}function FE(i){var o=Sn(),l=Bt;if(l!==null)return BE(o,l,i);Sn(),o=o.memoizedState,l=Sn();var f=l.queue.dispatch;return l.memoizedState=i,[o,f,!1]}function dl(i,o,l,f){return i={tag:i,create:l,deps:f,inst:o,next:null},o=tt.updateQueue,o===null&&(o=Pm(),tt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,o.lastEffect=i),i}function _h(){return{destroy:void 0,resource:void 0}}function jE(){return Sn().memoizedState}function Eh(i,o,l,f){var g=Rr();f=f===void 0?null:f,tt.flags|=i,g.memoizedState=dl(1|o,_h(),l,f)}function Zu(i,o,l,f){var g=Sn();f=f===void 0?null:f;var v=g.memoizedState.inst;Bt!==null&&f!==null&&Nm(f,Bt.memoizedState.deps)?g.memoizedState=dl(o,v,l,f):(tt.flags|=i,g.memoizedState=dl(1|o,v,l,f))}function HE(i,o){Eh(8390656,8,i,o)}function qE(i,o){Zu(2048,8,i,o)}function $E(i,o){return Zu(4,2,i,o)}function GE(i,o){return Zu(4,4,i,o)}function YE(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function KE(i,o,l){l=l!=null?l.concat([i]):null,Zu(4,4,YE.bind(null,o,i),l)}function Fm(){}function XE(i,o){var l=Sn();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&Nm(o,f[1])?f[0]:(l.memoizedState=[i,o],i)}function QE(i,o){var l=Sn();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&Nm(o,f[1]))return f[0];if(f=i(),va){Re(!0);try{i()}finally{Re(!1)}}return l.memoizedState=[f,o],f}function jm(i,o,l){return l===void 0||(eo&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=Jw(),tt.lanes|=i,ao|=i,l)}function WE(i,o,l,f){return Fr(l,o)?l:cl.current!==null?(i=jm(i,l,f),Fr(i,o)||(jn=!0),i):(eo&42)===0?(jn=!0,i.memoizedState=l):(i=Jw(),tt.lanes|=i,ao|=i,o)}function ZE(i,o,l,f,g){var v=Y.p;Y.p=v!==0&&8>v?v:8;var x=z.T,B={};z.T=B,$m(i,!1,o,l);try{var X=g(),ae=z.S;if(ae!==null&&ae(B,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var me=Rk(X,f);Ju(i,o,me,Gr(i))}else Ju(i,o,f,Gr(i))}catch(ve){Ju(i,o,{then:function(){},status:"rejected",reason:ve},Gr())}finally{Y.p=v,z.T=x}}function Mk(){}function Hm(i,o,l,f){if(i.tag!==5)throw Error(r(476));var g=JE(i).queue;ZE(i,g,o,Z,l===null?Mk:function(){return ew(i),l(f)})}function JE(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:Z},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function ew(i){var o=JE(i).next.queue;Ju(i,o,{},Gr())}function qm(){return or(yc)}function tw(){return Sn().memoizedState}function nw(){return Sn().memoizedState}function Pk(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=Gr();i=Zs(l);var f=Js(o,i,l);f!==null&&(Yr(f,o,l),Yu(f,o,l)),o={cache:Em()},i.payload=o;return}o=o.return}}function Vk(i,o,l){var f=Gr();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},wh(i)?iw(o,l):(l=cm(i,o,l,f),l!==null&&(Yr(l,i,f),sw(l,o,f)))}function rw(i,o,l){var f=Gr();Ju(i,o,l,f)}function Ju(i,o,l,f){var g={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(wh(i))iw(o,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var x=o.lastRenderedState,B=v(x,l);if(g.hasEagerState=!0,g.eagerState=B,Fr(B,x))return ih(i,o,g,0),Yt===null&&rh(),!1}catch{}finally{}if(l=cm(i,o,g,f),l!==null)return Yr(l,i,f),sw(l,o,f),!0}return!1}function $m(i,o,l,f){if(f={lane:2,revertLane:Sg(),action:f,hasEagerState:!1,eagerState:null,next:null},wh(i)){if(o)throw Error(r(479))}else o=cm(i,l,f,2),o!==null&&Yr(o,i,2)}function wh(i){var o=i.alternate;return i===tt||o!==null&&o===tt}function iw(i,o){fl=mh=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function sw(i,o,l){if((l&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,l|=f,o.lanes=l,fs(i,l)}}var bh={readContext:or,use:yh,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn},ow={readContext:or,use:yh,useCallback:function(i,o){return Rr().memoizedState=[i,o===void 0?null:o],i},useContext:or,useEffect:HE,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,Eh(4194308,4,YE.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Eh(4194308,4,i,o)},useInsertionEffect:function(i,o){Eh(4,2,i,o)},useMemo:function(i,o){var l=Rr();o=o===void 0?null:o;var f=i();if(va){Re(!0);try{i()}finally{Re(!1)}}return l.memoizedState=[f,o],f},useReducer:function(i,o,l){var f=Rr();if(l!==void 0){var g=l(o);if(va){Re(!0);try{l(o)}finally{Re(!1)}}}else g=o;return f.memoizedState=f.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},f.queue=i,i=i.dispatch=Vk.bind(null,tt,i),[f.memoizedState,i]},useRef:function(i){var o=Rr();return i={current:i},o.memoizedState=i},useState:function(i){i=Um(i);var o=i.queue,l=rw.bind(null,tt,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Fm,useDeferredValue:function(i,o){var l=Rr();return jm(l,i,o)},useTransition:function(){var i=Um(!1);return i=ZE.bind(null,tt,i.queue,!0,!1),Rr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var f=tt,g=Rr();if(Tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Yt===null)throw Error(r(349));(gt&124)!==0||CE(f,o,l)}g.memoizedState=l;var v={value:l,getSnapshot:o};return g.queue=v,HE(RE.bind(null,f,v,i),[i]),f.flags|=2048,dl(9,_h(),IE.bind(null,f,v,l,o),null),l},useId:function(){var i=Rr(),o=Yt.identifierPrefix;if(Tt){var l=ws,f=Es;l=(f&~(1<<32-Pe(f)-1)).toString(32)+l,o=""+o+"R"+l,l=gh++,0<l&&(o+="H"+l.toString(32)),o+=""}else l=Nk++,o=""+o+"r"+l.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:qm,useFormState:zE,useActionState:zE,useOptimistic:function(i){var o=Rr();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=$m.bind(null,tt,!0,l),l.dispatch=o,[i,o]},useMemoCache:Vm,useCacheRefresh:function(){return Rr().memoizedState=Pk.bind(null,tt)}},aw={readContext:or,use:yh,useCallback:XE,useContext:or,useEffect:qE,useImperativeHandle:KE,useInsertionEffect:$E,useLayoutEffect:GE,useMemo:QE,useReducer:vh,useRef:jE,useState:function(){return vh(Ts)},useDebugValue:Fm,useDeferredValue:function(i,o){var l=Sn();return WE(l,Bt.memoizedState,i,o)},useTransition:function(){var i=vh(Ts)[0],o=Sn().memoizedState;return[typeof i=="boolean"?i:Wu(i),o]},useSyncExternalStore:AE,useId:tw,useHostTransitionStatus:qm,useFormState:UE,useActionState:UE,useOptimistic:function(i,o){var l=Sn();return DE(l,Bt,i,o)},useMemoCache:Vm,useCacheRefresh:nw},Lk={readContext:or,use:yh,useCallback:XE,useContext:or,useEffect:qE,useImperativeHandle:KE,useInsertionEffect:$E,useLayoutEffect:GE,useMemo:QE,useReducer:zm,useRef:jE,useState:function(){return zm(Ts)},useDebugValue:Fm,useDeferredValue:function(i,o){var l=Sn();return Bt===null?jm(l,i,o):WE(l,Bt.memoizedState,i,o)},useTransition:function(){var i=zm(Ts)[0],o=Sn().memoizedState;return[typeof i=="boolean"?i:Wu(i),o]},useSyncExternalStore:AE,useId:tw,useHostTransitionStatus:qm,useFormState:FE,useActionState:FE,useOptimistic:function(i,o){var l=Sn();return Bt!==null?DE(l,Bt,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Vm,useCacheRefresh:nw},pl=null,ec=0;function Sh(i){var o=ec;return ec+=1,pl===null&&(pl=[]),vE(pl,i,o)}function tc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Th(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function lw(i){var o=i._init;return o(i._payload)}function uw(i){function o(ie,ee){if(i){var oe=ie.deletions;oe===null?(ie.deletions=[ee],ie.flags|=16):oe.push(ee)}}function l(ie,ee){if(!i)return null;for(;ee!==null;)o(ie,ee),ee=ee.sibling;return null}function f(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function g(ie,ee){return ie=_s(ie,ee),ie.index=0,ie.sibling=null,ie}function v(ie,ee,oe){return ie.index=oe,i?(oe=ie.alternate,oe!==null?(oe=oe.index,oe<ee?(ie.flags|=67108866,ee):oe):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function x(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function B(ie,ee,oe,ge){return ee===null||ee.tag!==6?(ee=hm(oe,ie.mode,ge),ee.return=ie,ee):(ee=g(ee,oe),ee.return=ie,ee)}function X(ie,ee,oe,ge){var Oe=oe.type;return Oe===T?me(ie,ee,oe.props.children,ge,oe.key):ee!==null&&(ee.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&lw(Oe)===ee.type)?(ee=g(ee,oe.props),tc(ee,oe),ee.return=ie,ee):(ee=oh(oe.type,oe.key,oe.props,null,ie.mode,ge),tc(ee,oe),ee.return=ie,ee)}function ae(ie,ee,oe,ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==oe.containerInfo||ee.stateNode.implementation!==oe.implementation?(ee=dm(oe,ie.mode,ge),ee.return=ie,ee):(ee=g(ee,oe.children||[]),ee.return=ie,ee)}function me(ie,ee,oe,ge,Oe){return ee===null||ee.tag!==7?(ee=ca(oe,ie.mode,ge,Oe),ee.return=ie,ee):(ee=g(ee,oe),ee.return=ie,ee)}function ve(ie,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=hm(""+ee,ie.mode,oe),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case _:return oe=oh(ee.type,ee.key,ee.props,null,ie.mode,oe),tc(oe,ee),oe.return=ie,oe;case E:return ee=dm(ee,ie.mode,oe),ee.return=ie,ee;case I:var ge=ee._init;return ee=ge(ee._payload),ve(ie,ee,oe)}if(G(ee)||L(ee))return ee=ca(ee,ie.mode,oe,null),ee.return=ie,ee;if(typeof ee.then=="function")return ve(ie,Sh(ee),oe);if(ee.$$typeof===q)return ve(ie,ch(ie,ee),oe);Th(ie,ee)}return null}function le(ie,ee,oe,ge){var Oe=ee!==null?ee.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Oe!==null?null:B(ie,ee,""+oe,ge);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return oe.key===Oe?X(ie,ee,oe,ge):null;case E:return oe.key===Oe?ae(ie,ee,oe,ge):null;case I:return Oe=oe._init,oe=Oe(oe._payload),le(ie,ee,oe,ge)}if(G(oe)||L(oe))return Oe!==null?null:me(ie,ee,oe,ge,null);if(typeof oe.then=="function")return le(ie,ee,Sh(oe),ge);if(oe.$$typeof===q)return le(ie,ee,ch(ie,oe),ge);Th(ie,oe)}return null}function ue(ie,ee,oe,ge,Oe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ie=ie.get(oe)||null,B(ee,ie,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case _:return ie=ie.get(ge.key===null?oe:ge.key)||null,X(ee,ie,ge,Oe);case E:return ie=ie.get(ge.key===null?oe:ge.key)||null,ae(ee,ie,ge,Oe);case I:var rt=ge._init;return ge=rt(ge._payload),ue(ie,ee,oe,ge,Oe)}if(G(ge)||L(ge))return ie=ie.get(oe)||null,me(ee,ie,ge,Oe,null);if(typeof ge.then=="function")return ue(ie,ee,oe,Sh(ge),Oe);if(ge.$$typeof===q)return ue(ie,ee,oe,ch(ee,ge),Oe);Th(ee,ge)}return null}function Ge(ie,ee,oe,ge){for(var Oe=null,rt=null,Le=ee,He=ee=0,qn=null;Le!==null&&He<oe.length;He++){Le.index>He?(qn=Le,Le=null):qn=Le.sibling;var St=le(ie,Le,oe[He],ge);if(St===null){Le===null&&(Le=qn);break}i&&Le&&St.alternate===null&&o(ie,Le),ee=v(St,ee,He),rt===null?Oe=St:rt.sibling=St,rt=St,Le=qn}if(He===oe.length)return l(ie,Le),Tt&&ha(ie,He),Oe;if(Le===null){for(;He<oe.length;He++)Le=ve(ie,oe[He],ge),Le!==null&&(ee=v(Le,ee,He),rt===null?Oe=Le:rt.sibling=Le,rt=Le);return Tt&&ha(ie,He),Oe}for(Le=f(Le);He<oe.length;He++)qn=ue(Le,ie,He,oe[He],ge),qn!==null&&(i&&qn.alternate!==null&&Le.delete(qn.key===null?He:qn.key),ee=v(qn,ee,He),rt===null?Oe=qn:rt.sibling=qn,rt=qn);return i&&Le.forEach(function(yo){return o(ie,yo)}),Tt&&ha(ie,He),Oe}function je(ie,ee,oe,ge){if(oe==null)throw Error(r(151));for(var Oe=null,rt=null,Le=ee,He=ee=0,qn=null,St=oe.next();Le!==null&&!St.done;He++,St=oe.next()){Le.index>He?(qn=Le,Le=null):qn=Le.sibling;var yo=le(ie,Le,St.value,ge);if(yo===null){Le===null&&(Le=qn);break}i&&Le&&yo.alternate===null&&o(ie,Le),ee=v(yo,ee,He),rt===null?Oe=yo:rt.sibling=yo,rt=yo,Le=qn}if(St.done)return l(ie,Le),Tt&&ha(ie,He),Oe;if(Le===null){for(;!St.done;He++,St=oe.next())St=ve(ie,St.value,ge),St!==null&&(ee=v(St,ee,He),rt===null?Oe=St:rt.sibling=St,rt=St);return Tt&&ha(ie,He),Oe}for(Le=f(Le);!St.done;He++,St=oe.next())St=ue(Le,ie,He,St.value,ge),St!==null&&(i&&St.alternate!==null&&Le.delete(St.key===null?He:St.key),ee=v(St,ee,He),rt===null?Oe=St:rt.sibling=St,rt=St);return i&&Le.forEach(function(z2){return o(ie,z2)}),Tt&&ha(ie,He),Oe}function jt(ie,ee,oe,ge){if(typeof oe=="object"&&oe!==null&&oe.type===T&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:e:{for(var Oe=oe.key;ee!==null;){if(ee.key===Oe){if(Oe=oe.type,Oe===T){if(ee.tag===7){l(ie,ee.sibling),ge=g(ee,oe.props.children),ge.return=ie,ie=ge;break e}}else if(ee.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===I&&lw(Oe)===ee.type){l(ie,ee.sibling),ge=g(ee,oe.props),tc(ge,oe),ge.return=ie,ie=ge;break e}l(ie,ee);break}else o(ie,ee);ee=ee.sibling}oe.type===T?(ge=ca(oe.props.children,ie.mode,ge,oe.key),ge.return=ie,ie=ge):(ge=oh(oe.type,oe.key,oe.props,null,ie.mode,ge),tc(ge,oe),ge.return=ie,ie=ge)}return x(ie);case E:e:{for(Oe=oe.key;ee!==null;){if(ee.key===Oe)if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){l(ie,ee.sibling),ge=g(ee,oe.children||[]),ge.return=ie,ie=ge;break e}else{l(ie,ee);break}else o(ie,ee);ee=ee.sibling}ge=dm(oe,ie.mode,ge),ge.return=ie,ie=ge}return x(ie);case I:return Oe=oe._init,oe=Oe(oe._payload),jt(ie,ee,oe,ge)}if(G(oe))return Ge(ie,ee,oe,ge);if(L(oe)){if(Oe=L(oe),typeof Oe!="function")throw Error(r(150));return oe=Oe.call(oe),je(ie,ee,oe,ge)}if(typeof oe.then=="function")return jt(ie,ee,Sh(oe),ge);if(oe.$$typeof===q)return jt(ie,ee,ch(ie,oe),ge);Th(ie,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ee!==null&&ee.tag===6?(l(ie,ee.sibling),ge=g(ee,oe),ge.return=ie,ie=ge):(l(ie,ee),ge=hm(oe,ie.mode,ge),ge.return=ie,ie=ge),x(ie)):l(ie,ee)}return function(ie,ee,oe,ge){try{ec=0;var Oe=jt(ie,ee,oe,ge);return pl=null,Oe}catch(Le){if(Le===$u||Le===hh)throw Le;var rt=jr(29,Le,null,ie.mode);return rt.lanes=ge,rt.return=ie,rt}finally{}}}var ml=uw(!0),cw=uw(!1),di=Q(null),Xi=null;function to(i){var o=i.alternate;M(On,On.current&1),M(di,i),Xi===null&&(o===null||cl.current!==null||o.memoizedState!==null)&&(Xi=i)}function fw(i){if(i.tag===22){if(M(On,On.current),M(di,i),Xi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Xi=i)}}else no()}function no(){M(On,On.current),M(di,di.current)}function xs(i){re(di),Xi===i&&(Xi=null),re(On)}var On=Q(0);function xh(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Pg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Gm(i,o,l,f){o=i.memoizedState,l=l(f,o),l=l==null?o:m({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ym={enqueueSetState:function(i,o,l){i=i._reactInternals;var f=Gr(),g=Zs(f);g.payload=o,l!=null&&(g.callback=l),o=Js(i,g,f),o!==null&&(Yr(o,i,f),Yu(o,i,f))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var f=Gr(),g=Zs(f);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=Js(i,g,f),o!==null&&(Yr(o,i,f),Yu(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Gr(),f=Zs(l);f.tag=2,o!=null&&(f.callback=o),o=Js(i,f,l),o!==null&&(Yr(o,i,l),Yu(o,i,l))}};function hw(i,o,l,f,g,v,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,x):o.prototype&&o.prototype.isPureReactComponent?!Lu(l,f)||!Lu(g,v):!0}function dw(i,o,l,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==i&&Ym.enqueueReplaceState(o,o.state,null)}function _a(i,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(i=i.defaultProps){l===o&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Ah=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function pw(i){Ah(i)}function mw(i){console.error(i)}function gw(i){Ah(i)}function Ch(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function yw(i,o,l){try{var f=i.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Km(i,o,l){return l=Zs(l),l.tag=3,l.payload={element:null},l.callback=function(){Ch(i,o)},l}function vw(i){return i=Zs(i),i.tag=3,i}function _w(i,o,l,f){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var v=f.value;i.payload=function(){return g(v)},i.callback=function(){yw(o,l,f)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){yw(o,l,f),typeof g!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var B=f.stack;this.componentDidCatch(f.value,{componentStack:B!==null?B:""})})}function zk(i,o,l,f,g){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&ju(o,l,g,!0),l=di.current,l!==null){switch(l.tag){case 13:return Xi===null?vg():l.alternate===null&&fn===0&&(fn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,f===Sm?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),Eg(i,f,g)),!1;case 22:return l.flags|=65536,f===Sm?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),Eg(i,f,g)),!1}throw Error(r(435,l.tag))}return Eg(i,f,g),vg(),!1}if(Tt)return o=di.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==gm&&(i=Error(r(422),{cause:f}),Fu(ui(i,l)))):(f!==gm&&(o=Error(r(423),{cause:f}),Fu(ui(o,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,f=ui(f,l),g=Km(i.stateNode,f,g),Am(i,g),fn!==4&&(fn=2)),!1;var v=Error(r(520),{cause:f});if(v=ui(v,l),lc===null?lc=[v]:lc.push(v),fn!==4&&(fn=2),o===null)return!0;f=ui(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Km(l.stateNode,f,i),Am(l,i),!1;case 1:if(o=l.type,v=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(lo===null||!lo.has(v))))return l.flags|=65536,g&=-g,l.lanes|=g,g=vw(g),_w(g,i,l,f),Am(l,g),!1}l=l.return}while(l!==null);return!1}var Ew=Error(r(461)),jn=!1;function Zn(i,o,l,f){o.child=i===null?cw(o,null,l,f):ml(o,i.child,l,f)}function ww(i,o,l,f,g){l=l.render;var v=o.ref;if("ref"in f){var x={};for(var B in f)B!=="ref"&&(x[B]=f[B])}else x=f;return ga(o),f=km(i,o,l,x,v,g),B=Dm(),i!==null&&!jn?(Om(i,o,g),As(i,o,g)):(Tt&&B&&pm(o),o.flags|=1,Zn(i,o,f,g),o.child)}function bw(i,o,l,f,g){if(i===null){var v=l.type;return typeof v=="function"&&!fm(v)&&v.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=v,Sw(i,o,v,f,g)):(i=oh(l.type,null,f,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!ng(i,g)){var x=v.memoizedProps;if(l=l.compare,l=l!==null?l:Lu,l(x,f)&&i.ref===o.ref)return As(i,o,g)}return o.flags|=1,i=_s(v,f),i.ref=o.ref,i.return=o,o.child=i}function Sw(i,o,l,f,g){if(i!==null){var v=i.memoizedProps;if(Lu(v,f)&&i.ref===o.ref)if(jn=!1,o.pendingProps=f=v,ng(i,g))(i.flags&131072)!==0&&(jn=!0);else return o.lanes=i.lanes,As(i,o,g)}return Xm(i,o,l,f,g)}function Tw(i,o,l){var f=o.pendingProps,g=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=v!==null?v.baseLanes|l:l,i!==null){for(g=o.child=i.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;o.childLanes=v&~f}else o.childLanes=0,o.child=null;return xw(i,o,f,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&fh(o,v!==null?v.cachePool:null),v!==null?SE(o,v):Im(),fw(o);else return o.lanes=o.childLanes=536870912,xw(i,o,v!==null?v.baseLanes|l:l,l)}else v!==null?(fh(o,v.cachePool),SE(o,v),no(),o.memoizedState=null):(i!==null&&fh(o,null),Im(),no());return Zn(i,o,g,l),o.child}function xw(i,o,l,f){var g=bm();return g=g===null?null:{parent:Dn._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},i!==null&&fh(o,null),Im(),fw(o),i!==null&&ju(i,o,f,!0),null}function Ih(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function Xm(i,o,l,f,g){return ga(o),l=km(i,o,l,f,void 0,g),f=Dm(),i!==null&&!jn?(Om(i,o,g),As(i,o,g)):(Tt&&f&&pm(o),o.flags|=1,Zn(i,o,l,g),o.child)}function Aw(i,o,l,f,g,v){return ga(o),o.updateQueue=null,l=xE(o,f,l,g),TE(i),f=Dm(),i!==null&&!jn?(Om(i,o,v),As(i,o,v)):(Tt&&f&&pm(o),o.flags|=1,Zn(i,o,l,v),o.child)}function Cw(i,o,l,f,g){if(ga(o),o.stateNode===null){var v=sl,x=l.contextType;typeof x=="object"&&x!==null&&(v=or(x)),v=new l(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ym,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},Tm(o),x=l.contextType,v.context=typeof x=="object"&&x!==null?or(x):sl,v.state=o.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Gm(o,l,x,f),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(x=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),x!==v.state&&Ym.enqueueReplaceState(v,v.state,null),Xu(o,f,v,g),Ku(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){v=o.stateNode;var B=o.memoizedProps,X=_a(l,B);v.props=X;var ae=v.context,me=l.contextType;x=sl,typeof me=="object"&&me!==null&&(x=or(me));var ve=l.getDerivedStateFromProps;me=typeof ve=="function"||typeof v.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,me||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(B||ae!==x)&&dw(o,v,f,x),Ws=!1;var le=o.memoizedState;v.state=le,Xu(o,f,v,g),Ku(),ae=o.memoizedState,B||le!==ae||Ws?(typeof ve=="function"&&(Gm(o,l,ve,f),ae=o.memoizedState),(X=Ws||hw(o,l,X,f,le,ae,x))?(me||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=ae),v.props=f,v.state=ae,v.context=x,f=X):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,xm(i,o),x=o.memoizedProps,me=_a(l,x),v.props=me,ve=o.pendingProps,le=v.context,ae=l.contextType,X=sl,typeof ae=="object"&&ae!==null&&(X=or(ae)),B=l.getDerivedStateFromProps,(ae=typeof B=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==ve||le!==X)&&dw(o,v,f,X),Ws=!1,le=o.memoizedState,v.state=le,Xu(o,f,v,g),Ku();var ue=o.memoizedState;x!==ve||le!==ue||Ws||i!==null&&i.dependencies!==null&&uh(i.dependencies)?(typeof B=="function"&&(Gm(o,l,B,f),ue=o.memoizedState),(me=Ws||hw(o,l,me,f,le,ue,X)||i!==null&&i.dependencies!==null&&uh(i.dependencies))?(ae||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,ue,X),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,ue,X)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ue),v.props=f,v.state=ue,v.context=X,f=me):(typeof v.componentDidUpdate!="function"||x===i.memoizedProps&&le===i.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&le===i.memoizedState||(o.flags|=1024),f=!1)}return v=f,Ih(i,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,i!==null&&f?(o.child=ml(o,i.child,null,g),o.child=ml(o,null,l,g)):Zn(i,o,l,g),o.memoizedState=v.state,i=o.child):i=As(i,o,g),i}function Iw(i,o,l,f){return Bu(),o.flags|=256,Zn(i,o,l,f),o.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wm(i){return{baseLanes:i,cachePool:mE()}}function Zm(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=pi),i}function Rw(i,o,l){var f=o.pendingProps,g=!1,v=(o.flags&128)!==0,x;if((x=v)||(x=i!==null&&i.memoizedState===null?!1:(On.current&2)!==0),x&&(g=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,i===null){if(Tt){if(g?to(o):no(),Tt){var B=cn,X;if(X=B){e:{for(X=B,B=Ki;X.nodeType!==8;){if(!B){B=null;break e}if(X=Ri(X.nextSibling),X===null){B=null;break e}}B=X}B!==null?(o.memoizedState={dehydrated:B,treeContext:fa!==null?{id:Es,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},X=jr(18,null,null,0),X.stateNode=B,X.return=o,o.child=X,Tr=o,cn=null,X=!0):X=!1}X||pa(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return Pg(B)?o.lanes=32:o.lanes=536870912,null;xs(o)}return B=f.children,f=f.fallback,g?(no(),g=o.mode,B=Rh({mode:"hidden",children:B},g),f=ca(f,g,l,null),B.return=o,f.return=o,B.sibling=f,o.child=B,g=o.child,g.memoizedState=Wm(l),g.childLanes=Zm(i,x,l),o.memoizedState=Qm,f):(to(o),Jm(o,B))}if(X=i.memoizedState,X!==null&&(B=X.dehydrated,B!==null)){if(v)o.flags&256?(to(o),o.flags&=-257,o=eg(i,o,l)):o.memoizedState!==null?(no(),o.child=i.child,o.flags|=128,o=null):(no(),g=f.fallback,B=o.mode,f=Rh({mode:"visible",children:f.children},B),g=ca(g,B,l,null),g.flags|=2,f.return=o,g.return=o,f.sibling=g,o.child=f,ml(o,i.child,null,l),f=o.child,f.memoizedState=Wm(l),f.childLanes=Zm(i,x,l),o.memoizedState=Qm,o=g);else if(to(o),Pg(B)){if(x=B.nextSibling&&B.nextSibling.dataset,x)var ae=x.dgst;x=ae,f=Error(r(419)),f.stack="",f.digest=x,Fu({value:f,source:null,stack:null}),o=eg(i,o,l)}else if(jn||ju(i,o,l,!1),x=(l&i.childLanes)!==0,jn||x){if(x=Yt,x!==null&&(f=l&-l,f=(f&42)!==0?1:zr(f),f=(f&(x.suspendedLanes|l))!==0?0:f,f!==0&&f!==X.retryLane))throw X.retryLane=f,il(i,f),Yr(x,i,f),Ew;B.data==="$?"||vg(),o=eg(i,o,l)}else B.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=X.treeContext,cn=Ri(B.nextSibling),Tr=o,Tt=!0,da=null,Ki=!1,i!==null&&(fi[hi++]=Es,fi[hi++]=ws,fi[hi++]=fa,Es=i.id,ws=i.overflow,fa=o),o=Jm(o,f.children),o.flags|=4096);return o}return g?(no(),g=f.fallback,B=o.mode,X=i.child,ae=X.sibling,f=_s(X,{mode:"hidden",children:f.children}),f.subtreeFlags=X.subtreeFlags&65011712,ae!==null?g=_s(ae,g):(g=ca(g,B,l,null),g.flags|=2),g.return=o,f.return=o,f.sibling=g,o.child=f,f=g,g=o.child,B=i.child.memoizedState,B===null?B=Wm(l):(X=B.cachePool,X!==null?(ae=Dn._currentValue,X=X.parent!==ae?{parent:ae,pool:ae}:X):X=mE(),B={baseLanes:B.baseLanes|l,cachePool:X}),g.memoizedState=B,g.childLanes=Zm(i,x,l),o.memoizedState=Qm,f):(to(o),l=i.child,i=l.sibling,l=_s(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,i!==null&&(x=o.deletions,x===null?(o.deletions=[i],o.flags|=16):x.push(i)),o.child=l,o.memoizedState=null,l)}function Jm(i,o){return o=Rh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Rh(i,o){return i=jr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function eg(i,o,l){return ml(o,i.child,null,l),i=Jm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Nw(i,o,l){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),vm(i.return,o,l)}function tg(i,o,l,f,g){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=g)}function kw(i,o,l){var f=o.pendingProps,g=f.revealOrder,v=f.tail;if(Zn(i,o,f.children,l),f=On.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Nw(i,l,o);else if(i.tag===19)Nw(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(M(On,f),g){case"forwards":for(l=o.child,g=null;l!==null;)i=l.alternate,i!==null&&xh(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),tg(o,!1,g,l,v);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&xh(i)===null){o.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}tg(o,!0,l,null,v);break;case"together":tg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function As(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),ao|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(ju(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=_s(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=_s(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function ng(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&uh(i)))}function Uk(i,o,l){switch(o.tag){case 3:ye(o,o.stateNode.containerInfo),Qs(o,Dn,i.memoizedState.cache),Bu();break;case 27:case 5:Ce(o);break;case 4:ye(o,o.stateNode.containerInfo);break;case 10:Qs(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(to(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Rw(i,o,l):(to(o),i=As(i,o,l),i!==null?i.sibling:null);to(o);break;case 19:var g=(i.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(ju(i,o,l,!1),f=(l&o.childLanes)!==0),g){if(f)return kw(i,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),M(On,On.current),f)break;return null;case 22:case 23:return o.lanes=0,Tw(i,o,l);case 24:Qs(o,Dn,i.memoizedState.cache)}return As(i,o,l)}function Dw(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)jn=!0;else{if(!ng(i,l)&&(o.flags&128)===0)return jn=!1,Uk(i,o,l);jn=(i.flags&131072)!==0}else jn=!1,Tt&&(o.flags&1048576)!==0&&lE(o,lh,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,g=f._init;if(f=g(f._payload),o.type=f,typeof f=="function")fm(f)?(i=_a(f,i),o.tag=1,o=Cw(null,o,f,i,l)):(o.tag=0,o=Xm(null,o,f,i,l));else{if(f!=null){if(g=f.$$typeof,g===F){o.tag=11,o=ww(null,o,f,i,l);break e}else if(g===R){o.tag=14,o=bw(null,o,f,i,l);break e}}throw o=O(f)||f,Error(r(306,o,""))}}return o;case 0:return Xm(i,o,o.type,o.pendingProps,l);case 1:return f=o.type,g=_a(f,o.pendingProps),Cw(i,o,f,g,l);case 3:e:{if(ye(o,o.stateNode.containerInfo),i===null)throw Error(r(387));f=o.pendingProps;var v=o.memoizedState;g=v.element,xm(i,o),Xu(o,f,null,l);var x=o.memoizedState;if(f=x.cache,Qs(o,Dn,f),f!==v.cache&&_m(o,[Dn],l,!0),Ku(),f=x.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Iw(i,o,f,l);break e}else if(f!==g){g=ui(Error(r(424)),o),Fu(g),o=Iw(i,o,f,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(cn=Ri(i.firstChild),Tr=o,Tt=!0,da=null,Ki=!0,l=cw(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Bu(),f===g){o=As(i,o,l);break e}Zn(i,o,f,l)}o=o.child}return o;case 26:return Ih(i,o),i===null?(l=Vb(o.type,null,o.pendingProps,null))?o.memoizedState=l:Tt||(l=o.type,i=o.pendingProps,f=Hh(we.current).createElement(l),f[At]=o,f[tn]=i,er(f,l,i),W(f),o.stateNode=f):o.memoizedState=Vb(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ce(o),i===null&&Tt&&(f=o.stateNode=Ob(o.type,o.pendingProps,we.current),Tr=o,Ki=!0,g=cn,fo(o.type)?(Vg=g,cn=Ri(f.firstChild)):cn=g),Zn(i,o,o.pendingProps.children,l),Ih(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Tt&&((g=f=cn)&&(f=d2(f,o.type,o.pendingProps,Ki),f!==null?(o.stateNode=f,Tr=o,cn=Ri(f.firstChild),Ki=!1,g=!0):g=!1),g||pa(o)),Ce(o),g=o.type,v=o.pendingProps,x=i!==null?i.memoizedProps:null,f=v.children,Dg(g,v)?f=null:x!==null&&Dg(g,x)&&(o.flags|=32),o.memoizedState!==null&&(g=km(i,o,kk,null,null,l),yc._currentValue=g),Ih(i,o),Zn(i,o,f,l),o.child;case 6:return i===null&&Tt&&((i=l=cn)&&(l=p2(l,o.pendingProps,Ki),l!==null?(o.stateNode=l,Tr=o,cn=null,i=!0):i=!1),i||pa(o)),null;case 13:return Rw(i,o,l);case 4:return ye(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=ml(o,null,f,l):Zn(i,o,f,l),o.child;case 11:return ww(i,o,o.type,o.pendingProps,l);case 7:return Zn(i,o,o.pendingProps,l),o.child;case 8:return Zn(i,o,o.pendingProps.children,l),o.child;case 12:return Zn(i,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,Qs(o,o.type,f.value),Zn(i,o,f.children,l),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,ga(o),g=or(g),f=f(g),o.flags|=1,Zn(i,o,f,l),o.child;case 14:return bw(i,o,o.type,o.pendingProps,l);case 15:return Sw(i,o,o.type,o.pendingProps,l);case 19:return kw(i,o,l);case 31:return f=o.pendingProps,l=o.mode,f={mode:f.mode,children:f.children},i===null?(l=Rh(f,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=_s(i.child,f),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return Tw(i,o,l);case 24:return ga(o),f=or(Dn),i===null?(g=bm(),g===null&&(g=Yt,v=Em(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=l),g=v),o.memoizedState={parent:f,cache:g},Tm(o),Qs(o,Dn,g)):((i.lanes&l)!==0&&(xm(i,o),Xu(o,null,null,l),Ku()),g=i.memoizedState,v=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Qs(o,Dn,f)):(f=v.cache,Qs(o,Dn,f),f!==g.cache&&_m(o,[Dn],l,!0))),Zn(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Cs(i){i.flags|=4}function Ow(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Fb(o)){if(o=di.current,o!==null&&((gt&4194048)===gt?Xi!==null:(gt&62914560)!==gt&&(gt&536870912)===0||o!==Xi))throw Gu=Sm,gE;i.flags|=8192}}function Nh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ir():536870912,i.lanes|=o,_l|=o)}function nc(i,o){if(!Tt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function sn(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(o)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=l,o}function Bk(i,o,l){var f=o.pendingProps;switch(mm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(o),null;case 1:return sn(o),null;case 3:return l=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ss(Dn),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Uu(o)?Cs(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fE())),sn(o),null;case 26:return l=o.memoizedState,i===null?(Cs(o),l!==null?(sn(o),Ow(o,l)):(sn(o),o.flags&=-16777217)):l?l!==i.memoizedState?(Cs(o),sn(o),Ow(o,l)):(sn(o),o.flags&=-16777217):(i.memoizedProps!==f&&Cs(o),sn(o),o.flags&=-16777217),null;case 27:Fe(o),l=we.current;var g=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Cs(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return sn(o),null}i=ce.current,Uu(o)?uE(o):(i=Ob(g,f,l),o.stateNode=i,Cs(o))}return sn(o),null;case 5:if(Fe(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&Cs(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return sn(o),null}if(i=ce.current,Uu(o))uE(o);else{switch(g=Hh(we.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?g.createElement(l,{is:f.is}):g.createElement(l)}}i[At]=o,i[tn]=f;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=i;e:switch(er(i,l,f),l){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Cs(o)}}return sn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&Cs(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=we.current,Uu(o)){if(i=o.stateNode,l=o.memoizedProps,f=null,g=Tr,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}i[At]=o,i=!!(i.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Ab(i.nodeValue,l)),i||pa(o)}else i=Hh(i).createTextNode(f),i[At]=o,o.stateNode=i}return sn(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Uu(o),f!==null&&f.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[At]=o}else Bu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;sn(o),g=!1}else g=fE(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(xs(o),o):(xs(o),null)}if(xs(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=f!==null,i=i!==null&&i.memoizedState!==null,l){f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==g&&(f.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),Nh(o,o.updateQueue),sn(o),null;case 4:return xe(),i===null&&Cg(o.stateNode.containerInfo),sn(o),null;case 10:return Ss(o.type),sn(o),null;case 19:if(re(On),g=o.memoizedState,g===null)return sn(o),null;if(f=(o.flags&128)!==0,v=g.rendering,v===null)if(f)nc(g,!1);else{if(fn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(v=xh(i),v!==null){for(o.flags|=128,nc(g,!1),i=v.updateQueue,o.updateQueue=i,Nh(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)aE(l,i),l=l.sibling;return M(On,On.current&1|2),o.child}i=i.sibling}g.tail!==null&&Ue()>Oh&&(o.flags|=128,f=!0,nc(g,!1),o.lanes=4194304)}else{if(!f)if(i=xh(v),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,Nh(o,i),nc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!Tt)return sn(o),null}else 2*Ue()-g.renderingStartTime>Oh&&l!==536870912&&(o.flags|=128,f=!0,nc(g,!1),o.lanes=4194304);g.isBackwards?(v.sibling=o.child,o.child=v):(i=g.last,i!==null?i.sibling=v:o.child=v,g.last=v)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ue(),o.sibling=null,i=On.current,M(On,f?i&1|2:i&1),o):(sn(o),null);case 22:case 23:return xs(o),Rm(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(sn(o),o.subtreeFlags&6&&(o.flags|=8192)):sn(o),l=o.updateQueue,l!==null&&Nh(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),i!==null&&re(ya),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ss(Dn),sn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Fk(i,o){switch(mm(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ss(Dn),xe(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Fe(o),null;case 13:if(xs(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Bu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return re(On),null;case 4:return xe(),null;case 10:return Ss(o.type),null;case 22:case 23:return xs(o),Rm(),i!==null&&re(ya),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ss(Dn),null;case 25:return null;default:return null}}function Mw(i,o){switch(mm(o),o.tag){case 3:Ss(Dn),xe();break;case 26:case 27:case 5:Fe(o);break;case 4:xe();break;case 13:xs(o);break;case 19:re(On);break;case 10:Ss(o.type);break;case 22:case 23:xs(o),Rm(),i!==null&&re(ya);break;case 24:Ss(Dn)}}function rc(i,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&i)===i){f=void 0;var v=l.create,x=l.inst;f=v(),x.destroy=f}l=l.next}while(l!==g)}}catch(B){qt(o,o.return,B)}}function ro(i,o,l){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&i)===i){var x=f.inst,B=x.destroy;if(B!==void 0){x.destroy=void 0,g=o;var X=l,ae=B;try{ae()}catch(me){qt(g,X,me)}}}f=f.next}while(f!==v)}}catch(me){qt(o,o.return,me)}}function Pw(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{bE(o,l)}catch(f){qt(i,i.return,f)}}}function Vw(i,o,l){l.props=_a(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(f){qt(i,o,f)}}function ic(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof l=="function"?i.refCleanup=l(f):l.current=f}}catch(g){qt(i,o,g)}}function Qi(i,o){var l=i.ref,f=i.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(g){qt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){qt(i,o,g)}else l.current=null}function Lw(i){var o=i.type,l=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(g){qt(i,i.return,g)}}function rg(i,o,l){try{var f=i.stateNode;l2(f,i.type,l,o),f[tn]=o}catch(g){qt(i,i.return,g)}}function zw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fo(i.type)||i.tag===4}function ig(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function sg(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=jh));else if(f!==4&&(f===27&&fo(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(sg(i,o,l),i=i.sibling;i!==null;)sg(i,o,l),i=i.sibling}function kh(i,o,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(f!==4&&(f===27&&fo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(kh(i,o,l),i=i.sibling;i!==null;)kh(i,o,l),i=i.sibling}function Uw(i){var o=i.stateNode,l=i.memoizedProps;try{for(var f=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);er(o,f,l),o[At]=i,o[tn]=l}catch(v){qt(i,i.return,v)}}var Is=!1,vn=!1,og=!1,Bw=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function jk(i,o){if(i=i.containerInfo,Ng=Xh,i=W0(i),im(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var x=0,B=-1,X=-1,ae=0,me=0,ve=i,le=null;t:for(;;){for(var ue;ve!==l||g!==0&&ve.nodeType!==3||(B=x+g),ve!==v||f!==0&&ve.nodeType!==3||(X=x+f),ve.nodeType===3&&(x+=ve.nodeValue.length),(ue=ve.firstChild)!==null;)le=ve,ve=ue;for(;;){if(ve===i)break t;if(le===l&&++ae===g&&(B=x),le===v&&++me===f&&(X=x),(ue=ve.nextSibling)!==null)break;ve=le,le=ve.parentNode}ve=ue}l=B===-1||X===-1?null:{start:B,end:X}}else l=null}l=l||{start:0,end:0}}else l=null;for(kg={focusedElem:i,selectionRange:l},Xh=!1,Hn=o;Hn!==null;)if(o=Hn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Hn=i;else for(;Hn!==null;){switch(o=Hn,v=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,l=o,g=v.memoizedProps,v=v.memoizedState,f=l.stateNode;try{var Ge=_a(l.type,g,l.elementType===l.type);i=f.getSnapshotBeforeUpdate(Ge,v),f.__reactInternalSnapshotBeforeUpdate=i}catch(je){qt(l,l.return,je)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)Mg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Hn=i;break}Hn=o.return}}function Fw(i,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:io(i,l),f&4&&rc(5,l);break;case 1:if(io(i,l),f&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(x){qt(l,l.return,x)}else{var g=_a(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(x){qt(l,l.return,x)}}f&64&&Pw(l),f&512&&ic(l,l.return);break;case 3:if(io(i,l),f&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{bE(i,o)}catch(x){qt(l,l.return,x)}}break;case 27:o===null&&f&4&&Uw(l);case 26:case 5:io(i,l),o===null&&f&4&&Lw(l),f&512&&ic(l,l.return);break;case 12:io(i,l);break;case 13:io(i,l),f&4&&qw(i,l),f&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Wk.bind(null,l),m2(i,l))));break;case 22:if(f=l.memoizedState!==null||Is,!f){o=o!==null&&o.memoizedState!==null||vn,g=Is;var v=vn;Is=f,(vn=o)&&!v?so(i,l,(l.subtreeFlags&8772)!==0):io(i,l),Is=g,vn=v}break;case 30:break;default:io(i,l)}}function jw(i){var o=i.alternate;o!==null&&(i.alternate=null,jw(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Br(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rn=null,Nr=!1;function Rs(i,o,l){for(l=l.child;l!==null;)Hw(i,o,l),l=l.sibling}function Hw(i,o,l){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(ne,l)}catch{}switch(l.tag){case 26:vn||Qi(l,o),Rs(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:vn||Qi(l,o);var f=rn,g=Nr;fo(l.type)&&(rn=l.stateNode,Nr=!1),Rs(i,o,l),dc(l.stateNode),rn=f,Nr=g;break;case 5:vn||Qi(l,o);case 6:if(f=rn,g=Nr,rn=null,Rs(i,o,l),rn=f,Nr=g,rn!==null)if(Nr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(l.stateNode)}catch(v){qt(l,o,v)}else try{rn.removeChild(l.stateNode)}catch(v){qt(l,o,v)}break;case 18:rn!==null&&(Nr?(i=rn,kb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),wc(i)):kb(rn,l.stateNode));break;case 4:f=rn,g=Nr,rn=l.stateNode.containerInfo,Nr=!0,Rs(i,o,l),rn=f,Nr=g;break;case 0:case 11:case 14:case 15:vn||ro(2,l,o),vn||ro(4,l,o),Rs(i,o,l);break;case 1:vn||(Qi(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Vw(l,o,f)),Rs(i,o,l);break;case 21:Rs(i,o,l);break;case 22:vn=(f=vn)||l.memoizedState!==null,Rs(i,o,l),vn=f;break;default:Rs(i,o,l)}}function qw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wc(i)}catch(l){qt(o,o.return,l)}}function Hk(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Bw),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Bw),o;default:throw Error(r(435,i.tag))}}function ag(i,o){var l=Hk(i);o.forEach(function(f){var g=Zk.bind(null,i,f);l.has(f)||(l.add(f),f.then(g,g))})}function Hr(i,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f],v=i,x=o,B=x;e:for(;B!==null;){switch(B.tag){case 27:if(fo(B.type)){rn=B.stateNode,Nr=!1;break e}break;case 5:rn=B.stateNode,Nr=!1;break e;case 3:case 4:rn=B.stateNode.containerInfo,Nr=!0;break e}B=B.return}if(rn===null)throw Error(r(160));Hw(v,x,g),rn=null,Nr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)$w(o,i),o=o.sibling}var Ii=null;function $w(i,o){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hr(o,i),qr(i),f&4&&(ro(3,i,i.return),rc(3,i),ro(5,i,i.return));break;case 1:Hr(o,i),qr(i),f&512&&(vn||l===null||Qi(l,l.return)),f&64&&Is&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var g=Ii;if(Hr(o,i),qr(i),f&512&&(vn||l===null||Qi(l,l.return)),f&4){var v=l!==null?l.memoizedState:null;if(f=i.memoizedState,l===null)if(f===null)if(i.stateNode===null){e:{f=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":v=g.getElementsByTagName("title")[0],(!v||v[ni]||v[At]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(f),g.head.insertBefore(v,g.querySelector("head > title"))),er(v,f,l),v[At]=i,W(v),f=v;break e;case"link":var x=Ub("link","href",g).get(f+(l.href||""));if(x){for(var B=0;B<x.length;B++)if(v=x[B],v.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&v.getAttribute("rel")===(l.rel==null?null:l.rel)&&v.getAttribute("title")===(l.title==null?null:l.title)&&v.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(B,1);break t}}v=g.createElement(f),er(v,f,l),g.head.appendChild(v);break;case"meta":if(x=Ub("meta","content",g).get(f+(l.content||""))){for(B=0;B<x.length;B++)if(v=x[B],v.getAttribute("content")===(l.content==null?null:""+l.content)&&v.getAttribute("name")===(l.name==null?null:l.name)&&v.getAttribute("property")===(l.property==null?null:l.property)&&v.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&v.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(B,1);break t}}v=g.createElement(f),er(v,f,l),g.head.appendChild(v);break;default:throw Error(r(468,f))}v[At]=i,W(v),f=v}i.stateNode=f}else Bb(g,i.type,i.stateNode);else i.stateNode=zb(g,f,i.memoizedProps);else v!==f?(v===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):v.count--,f===null?Bb(g,i.type,i.stateNode):zb(g,f,i.memoizedProps)):f===null&&i.stateNode!==null&&rg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Hr(o,i),qr(i),f&512&&(vn||l===null||Qi(l,l.return)),l!==null&&f&4&&rg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Hr(o,i),qr(i),f&512&&(vn||l===null||Qi(l,l.return)),i.flags&32){g=i.stateNode;try{Xn(g,"")}catch(ue){qt(i,i.return,ue)}}f&4&&i.stateNode!=null&&(g=i.memoizedProps,rg(i,g,l!==null?l.memoizedProps:g)),f&1024&&(og=!0);break;case 6:if(Hr(o,i),qr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,l=i.stateNode;try{l.nodeValue=f}catch(ue){qt(i,i.return,ue)}}break;case 3:if(Gh=null,g=Ii,Ii=qh(o.containerInfo),Hr(o,i),Ii=g,qr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{wc(o.containerInfo)}catch(ue){qt(i,i.return,ue)}og&&(og=!1,Gw(i));break;case 4:f=Ii,Ii=qh(i.stateNode.containerInfo),Hr(o,i),qr(i),Ii=f;break;case 12:Hr(o,i),qr(i);break;case 13:Hr(o,i),qr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(dg=Ue()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,ag(i,f)));break;case 22:g=i.memoizedState!==null;var X=l!==null&&l.memoizedState!==null,ae=Is,me=vn;if(Is=ae||g,vn=me||X,Hr(o,i),vn=me,Is=ae,qr(i),f&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||X||Is||vn||Ea(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){X=l=o;try{if(v=X.stateNode,g)x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{B=X.stateNode;var ve=X.memoizedProps.style,le=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;B.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(ue){qt(X,X.return,ue)}}}else if(o.tag===6){if(l===null){X=o;try{X.stateNode.nodeValue=g?"":X.memoizedProps}catch(ue){qt(X,X.return,ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,ag(i,l))));break;case 19:Hr(o,i),qr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,ag(i,f)));break;case 30:break;case 21:break;default:Hr(o,i),qr(i)}}function qr(i){var o=i.flags;if(o&2){try{for(var l,f=i.return;f!==null;){if(zw(f)){l=f;break}f=f.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,v=ig(i);kh(i,v,g);break;case 5:var x=l.stateNode;l.flags&32&&(Xn(x,""),l.flags&=-33);var B=ig(i);kh(i,B,x);break;case 3:case 4:var X=l.stateNode.containerInfo,ae=ig(i);sg(i,ae,X);break;default:throw Error(r(161))}}catch(me){qt(i,i.return,me)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Gw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Gw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function io(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Fw(i,o.alternate,o),o=o.sibling}function Ea(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ro(4,o,o.return),Ea(o);break;case 1:Qi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Vw(o,o.return,l),Ea(o);break;case 27:dc(o.stateNode);case 26:case 5:Qi(o,o.return),Ea(o);break;case 22:o.memoizedState===null&&Ea(o);break;case 30:Ea(o);break;default:Ea(o)}i=i.sibling}}function so(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=i,v=o,x=v.flags;switch(v.tag){case 0:case 11:case 15:so(g,v,l),rc(4,v);break;case 1:if(so(g,v,l),f=v,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ae){qt(f,f.return,ae)}if(f=v,g=f.updateQueue,g!==null){var B=f.stateNode;try{var X=g.shared.hiddenCallbacks;if(X!==null)for(g.shared.hiddenCallbacks=null,g=0;g<X.length;g++)wE(X[g],B)}catch(ae){qt(f,f.return,ae)}}l&&x&64&&Pw(v),ic(v,v.return);break;case 27:Uw(v);case 26:case 5:so(g,v,l),l&&f===null&&x&4&&Lw(v),ic(v,v.return);break;case 12:so(g,v,l);break;case 13:so(g,v,l),l&&x&4&&qw(g,v);break;case 22:v.memoizedState===null&&so(g,v,l),ic(v,v.return);break;case 30:break;default:so(g,v,l)}o=o.sibling}}function lg(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Hu(l))}function ug(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Hu(i))}function Wi(i,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Yw(i,o,l,f),o=o.sibling}function Yw(i,o,l,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(i,o,l,f),g&2048&&rc(9,o);break;case 1:Wi(i,o,l,f);break;case 3:Wi(i,o,l,f),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Hu(i)));break;case 12:if(g&2048){Wi(i,o,l,f),i=o.stateNode;try{var v=o.memoizedProps,x=v.id,B=v.onPostCommit;typeof B=="function"&&B(x,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){qt(o,o.return,X)}}else Wi(i,o,l,f);break;case 13:Wi(i,o,l,f);break;case 23:break;case 22:v=o.stateNode,x=o.alternate,o.memoizedState!==null?v._visibility&2?Wi(i,o,l,f):sc(i,o):v._visibility&2?Wi(i,o,l,f):(v._visibility|=2,gl(i,o,l,f,(o.subtreeFlags&10256)!==0)),g&2048&&lg(x,o);break;case 24:Wi(i,o,l,f),g&2048&&ug(o.alternate,o);break;default:Wi(i,o,l,f)}}function gl(i,o,l,f,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var v=i,x=o,B=l,X=f,ae=x.flags;switch(x.tag){case 0:case 11:case 15:gl(v,x,B,X,g),rc(8,x);break;case 23:break;case 22:var me=x.stateNode;x.memoizedState!==null?me._visibility&2?gl(v,x,B,X,g):sc(v,x):(me._visibility|=2,gl(v,x,B,X,g)),g&&ae&2048&&lg(x.alternate,x);break;case 24:gl(v,x,B,X,g),g&&ae&2048&&ug(x.alternate,x);break;default:gl(v,x,B,X,g)}o=o.sibling}}function sc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,f=o,g=f.flags;switch(f.tag){case 22:sc(l,f),g&2048&&lg(f.alternate,f);break;case 24:sc(l,f),g&2048&&ug(f.alternate,f);break;default:sc(l,f)}o=o.sibling}}var oc=8192;function yl(i){if(i.subtreeFlags&oc)for(i=i.child;i!==null;)Kw(i),i=i.sibling}function Kw(i){switch(i.tag){case 26:yl(i),i.flags&oc&&i.memoizedState!==null&&I2(Ii,i.memoizedState,i.memoizedProps);break;case 5:yl(i);break;case 3:case 4:var o=Ii;Ii=qh(i.stateNode.containerInfo),yl(i),Ii=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=oc,oc=16777216,yl(i),oc=o):yl(i));break;default:yl(i)}}function Xw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ac(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];Hn=f,Ww(f,i)}Xw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qw(i),i=i.sibling}function Qw(i){switch(i.tag){case 0:case 11:case 15:ac(i),i.flags&2048&&ro(9,i,i.return);break;case 3:ac(i);break;case 12:ac(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Dh(i)):ac(i);break;default:ac(i)}}function Dh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];Hn=f,Ww(f,i)}Xw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ro(8,o,o.return),Dh(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Dh(o));break;default:Dh(o)}i=i.sibling}}function Ww(i,o){for(;Hn!==null;){var l=Hn;switch(l.tag){case 0:case 11:case 15:ro(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Hu(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Hn=f;else e:for(l=i;Hn!==null;){f=Hn;var g=f.sibling,v=f.return;if(jw(f),f===l){Hn=null;break e}if(g!==null){g.return=v,Hn=g;break e}Hn=v}}}var qk={getCacheForType:function(i){var o=or(Dn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},$k=typeof WeakMap=="function"?WeakMap:Map,Vt=0,Yt=null,ot=null,gt=0,Lt=0,$r=null,oo=!1,vl=!1,cg=!1,Ns=0,fn=0,ao=0,wa=0,fg=0,pi=0,_l=0,lc=null,kr=null,hg=!1,dg=0,Oh=1/0,Mh=null,lo=null,Jn=0,uo=null,El=null,wl=0,pg=0,mg=null,Zw=null,uc=0,gg=null;function Gr(){if((Vt&2)!==0&&gt!==0)return gt&-gt;if(z.T!==null){var i=ll;return i!==0?i:Sg()}return mr()}function Jw(){pi===0&&(pi=(gt&536870912)===0||Tt?Si():536870912);var i=di.current;return i!==null&&(i.flags|=32),pi}function Yr(i,o,l){(i===Yt&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)&&(bl(i,0),co(i,gt,pi,!1)),pr(i,l),((Vt&2)===0||i!==Yt)&&(i===Yt&&((Vt&2)===0&&(wa|=l),fn===4&&co(i,gt,pi,!1)),Zi(i))}function eb(i,o,l){if((Vt&6)!==0)throw Error(r(327));var f=!l&&(o&124)===0&&(o&i.expiredLanes)===0||Ht(i,o),g=f?Kk(i,o):_g(i,o,!0),v=f;do{if(g===0){vl&&!f&&co(i,o,0,!1);break}else{if(l=i.current.alternate,v&&!Gk(l)){g=_g(i,o,!1),v=!1;continue}if(g===2){if(v=o,i.errorRecoveryDisabledLanes&v)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var B=i;g=lc;var X=B.current.memoizedState.isDehydrated;if(X&&(bl(B,x).flags|=256),x=_g(B,x,!1),x!==2){if(cg&&!X){B.errorRecoveryDisabledLanes|=v,wa|=v,g=4;break e}v=kr,kr=g,v!==null&&(kr===null?kr=v:kr.push.apply(kr,v))}g=x}if(v=!1,g!==2)continue}}if(g===1){bl(i,0),co(i,o,0,!0);break}e:{switch(f=i,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:co(f,o,pi,!oo);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=dg+300-Ue(),10<g)){if(co(f,o,pi,!oo),et(f,0,!0)!==0)break e;f.timeoutHandle=Rb(tb.bind(null,f,l,kr,Mh,hg,o,pi,wa,_l,oo,v,2,-0,0),g);break e}tb(f,l,kr,Mh,hg,o,pi,wa,_l,oo,v,0,-0,0)}}break}while(!0);Zi(i)}function tb(i,o,l,f,g,v,x,B,X,ae,me,ve,le,ue){if(i.timeoutHandle=-1,ve=o.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(gc={stylesheets:null,count:0,unsuspend:C2},Kw(o),ve=R2(),ve!==null)){i.cancelPendingCommit=ve(lb.bind(null,i,o,v,l,f,g,x,B,X,me,1,le,ue)),co(i,v,x,!ae);return}lb(i,o,v,l,f,g,x,B,X)}function Gk(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var g=l[f],v=g.getSnapshot;g=g.value;try{if(!Fr(v(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function co(i,o,l,f){o&=~fg,o&=~wa,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var g=o;0<g;){var v=31-Pe(g),x=1<<v;f[v]=-1,g&=~x}l!==0&&Cr(i,l,o)}function Ph(){return(Vt&6)===0?(cc(0),!1):!0}function yg(){if(ot!==null){if(Lt===0)var i=ot.return;else i=ot,bs=ma=null,Mm(i),pl=null,ec=0,i=ot;for(;i!==null;)Mw(i.alternate,i),i=i.return;ot=null}}function bl(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,c2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),yg(),Yt=i,ot=l=_s(i.current,null),gt=o,Lt=0,$r=null,oo=!1,vl=Ht(i,o),cg=!1,_l=pi=fg=wa=ao=fn=0,kr=lc=null,hg=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var g=31-Pe(f),v=1<<g;o|=i[g],f&=~v}return Ns=o,rh(),l}function nb(i,o){tt=null,z.H=bh,o===$u||o===hh?(o=_E(),Lt=3):o===gE?(o=_E(),Lt=4):Lt=o===Ew?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,$r=o,ot===null&&(fn=1,Ch(i,ui(o,i.current)))}function rb(){var i=z.H;return z.H=bh,i===null?bh:i}function ib(){var i=z.A;return z.A=qk,i}function vg(){fn=4,oo||(gt&4194048)!==gt&&di.current!==null||(vl=!0),(ao&134217727)===0&&(wa&134217727)===0||Yt===null||co(Yt,gt,pi,!1)}function _g(i,o,l){var f=Vt;Vt|=2;var g=rb(),v=ib();(Yt!==i||gt!==o)&&(Mh=null,bl(i,o)),o=!1;var x=fn;e:do try{if(Lt!==0&&ot!==null){var B=ot,X=$r;switch(Lt){case 8:yg(),x=6;break e;case 3:case 2:case 9:case 6:di.current===null&&(o=!0);var ae=Lt;if(Lt=0,$r=null,Sl(i,B,X,ae),l&&vl){x=0;break e}break;default:ae=Lt,Lt=0,$r=null,Sl(i,B,X,ae)}}Yk(),x=fn;break}catch(me){nb(i,me)}while(!0);return o&&i.shellSuspendCounter++,bs=ma=null,Vt=f,z.H=g,z.A=v,ot===null&&(Yt=null,gt=0,rh()),x}function Yk(){for(;ot!==null;)sb(ot)}function Kk(i,o){var l=Vt;Vt|=2;var f=rb(),g=ib();Yt!==i||gt!==o?(Mh=null,Oh=Ue()+500,bl(i,o)):vl=Ht(i,o);e:do try{if(Lt!==0&&ot!==null){o=ot;var v=$r;t:switch(Lt){case 1:Lt=0,$r=null,Sl(i,o,v,1);break;case 2:case 9:if(yE(v)){Lt=0,$r=null,ob(o);break}o=function(){Lt!==2&&Lt!==9||Yt!==i||(Lt=7),Zi(i)},v.then(o,o);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:yE(v)?(Lt=0,$r=null,ob(o)):(Lt=0,$r=null,Sl(i,o,v,7));break;case 5:var x=null;switch(ot.tag){case 26:x=ot.memoizedState;case 5:case 27:var B=ot;if(!x||Fb(x)){Lt=0,$r=null;var X=B.sibling;if(X!==null)ot=X;else{var ae=B.return;ae!==null?(ot=ae,Vh(ae)):ot=null}break t}}Lt=0,$r=null,Sl(i,o,v,5);break;case 6:Lt=0,$r=null,Sl(i,o,v,6);break;case 8:yg(),fn=6;break e;default:throw Error(r(462))}}Xk();break}catch(me){nb(i,me)}while(!0);return bs=ma=null,z.H=f,z.A=g,Vt=l,ot!==null?0:(Yt=null,gt=0,rh(),fn)}function Xk(){for(;ot!==null&&!ze();)sb(ot)}function sb(i){var o=Dw(i.alternate,i,Ns);i.memoizedProps=i.pendingProps,o===null?Vh(i):ot=o}function ob(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=Aw(l,o,o.pendingProps,o.type,void 0,gt);break;case 11:o=Aw(l,o,o.pendingProps,o.type.render,o.ref,gt);break;case 5:Mm(o);default:Mw(l,o),o=ot=aE(o,Ns),o=Dw(l,o,Ns)}i.memoizedProps=i.pendingProps,o===null?Vh(i):ot=o}function Sl(i,o,l,f){bs=ma=null,Mm(o),pl=null,ec=0;var g=o.return;try{if(zk(i,g,o,l,gt)){fn=1,Ch(i,ui(l,i.current)),ot=null;return}}catch(v){if(g!==null)throw ot=g,v;fn=1,Ch(i,ui(l,i.current)),ot=null;return}o.flags&32768?(Tt||f===1?i=!0:vl||(gt&536870912)!==0?i=!1:(oo=i=!0,(f===2||f===9||f===3||f===6)&&(f=di.current,f!==null&&f.tag===13&&(f.flags|=16384))),ab(o,i)):Vh(o)}function Vh(i){var o=i;do{if((o.flags&32768)!==0){ab(o,oo);return}i=o.return;var l=Bk(o.alternate,o,Ns);if(l!==null){ot=l;return}if(o=o.sibling,o!==null){ot=o;return}ot=o=i}while(o!==null);fn===0&&(fn=5)}function ab(i,o){do{var l=Fk(i.alternate,i);if(l!==null){l.flags&=32767,ot=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){ot=i;return}ot=i=l}while(i!==null);fn=6,ot=null}function lb(i,o,l,f,g,v,x,B,X){i.cancelPendingCommit=null;do Lh();while(Jn!==0);if((Vt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(v=o.lanes|o.childLanes,v|=um,sr(i,l,v,x,B,X),i===Yt&&(ot=Yt=null,gt=0),El=o,uo=i,wl=l,pg=v,mg=g,Zw=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Jk(pn,function(){return db(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,g=Y.p,Y.p=2,x=Vt,Vt|=4;try{jk(i,o,l)}finally{Vt=x,Y.p=g,z.T=f}}Jn=1,ub(),cb(),fb()}}function ub(){if(Jn===1){Jn=0;var i=uo,o=El,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var f=Y.p;Y.p=2;var g=Vt;Vt|=4;try{$w(o,i);var v=kg,x=W0(i.containerInfo),B=v.focusedElem,X=v.selectionRange;if(x!==B&&B&&B.ownerDocument&&Q0(B.ownerDocument.documentElement,B)){if(X!==null&&im(B)){var ae=X.start,me=X.end;if(me===void 0&&(me=ae),"selectionStart"in B)B.selectionStart=ae,B.selectionEnd=Math.min(me,B.value.length);else{var ve=B.ownerDocument||document,le=ve&&ve.defaultView||window;if(le.getSelection){var ue=le.getSelection(),Ge=B.textContent.length,je=Math.min(X.start,Ge),jt=X.end===void 0?je:Math.min(X.end,Ge);!ue.extend&&je>jt&&(x=jt,jt=je,je=x);var ie=X0(B,je),ee=X0(B,jt);if(ie&&ee&&(ue.rangeCount!==1||ue.anchorNode!==ie.node||ue.anchorOffset!==ie.offset||ue.focusNode!==ee.node||ue.focusOffset!==ee.offset)){var oe=ve.createRange();oe.setStart(ie.node,ie.offset),ue.removeAllRanges(),je>jt?(ue.addRange(oe),ue.extend(ee.node,ee.offset)):(oe.setEnd(ee.node,ee.offset),ue.addRange(oe))}}}}for(ve=[],ue=B;ue=ue.parentNode;)ue.nodeType===1&&ve.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<ve.length;B++){var ge=ve[B];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Xh=!!Ng,kg=Ng=null}finally{Vt=g,Y.p=f,z.T=l}}i.current=o,Jn=2}}function cb(){if(Jn===2){Jn=0;var i=uo,o=El,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var f=Y.p;Y.p=2;var g=Vt;Vt|=4;try{Fw(i,o.alternate,o)}finally{Vt=g,Y.p=f,z.T=l}}Jn=3}}function fb(){if(Jn===4||Jn===3){Jn=0,Wt();var i=uo,o=El,l=wl,f=Zw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Jn=5:(Jn=0,El=uo=null,hb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(lo=null),Ti(l),o=o.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(ne,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=z.T,g=Y.p,Y.p=2,z.T=null;try{for(var v=i.onRecoverableError,x=0;x<f.length;x++){var B=f[x];v(B.value,{componentStack:B.stack})}}finally{z.T=o,Y.p=g}}(wl&3)!==0&&Lh(),Zi(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===gg?uc++:(uc=0,gg=i):uc=0,cc(0)}}function hb(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Hu(o)))}function Lh(i){return ub(),cb(),fb(),db()}function db(){if(Jn!==5)return!1;var i=uo,o=pg;pg=0;var l=Ti(wl),f=z.T,g=Y.p;try{Y.p=32>l?32:l,z.T=null,l=mg,mg=null;var v=uo,x=wl;if(Jn=0,El=uo=null,wl=0,(Vt&6)!==0)throw Error(r(331));var B=Vt;if(Vt|=4,Qw(v.current),Yw(v,v.current,x,l),Vt=B,cc(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(ne,v)}catch{}return!0}finally{Y.p=g,z.T=f,hb(i,o)}}function pb(i,o,l){o=ui(l,o),o=Km(i.stateNode,o,2),i=Js(i,o,2),i!==null&&(pr(i,2),Zi(i))}function qt(i,o,l){if(i.tag===3)pb(i,i,l);else for(;o!==null;){if(o.tag===3){pb(o,i,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(lo===null||!lo.has(f))){i=ui(l,i),l=vw(2),f=Js(o,l,2),f!==null&&(_w(l,f,o,i),pr(f,2),Zi(f));break}}o=o.return}}function Eg(i,o,l){var f=i.pingCache;if(f===null){f=i.pingCache=new $k;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(cg=!0,g.add(l),i=Qk.bind(null,i,o,l),o.then(i,i))}function Qk(i,o,l){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Yt===i&&(gt&l)===l&&(fn===4||fn===3&&(gt&62914560)===gt&&300>Ue()-dg?(Vt&2)===0&&bl(i,0):fg|=l,_l===gt&&(_l=0)),Zi(i)}function mb(i,o){o===0&&(o=ir()),i=il(i,o),i!==null&&(pr(i,o),Zi(i))}function Wk(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),mb(i,l)}function Zk(i,o){var l=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),mb(i,l)}function Jk(i,o){return Et(i,o)}var zh=null,Tl=null,wg=!1,Uh=!1,bg=!1,ba=0;function Zi(i){i!==Tl&&i.next===null&&(Tl===null?zh=Tl=i:Tl=Tl.next=i),Uh=!0,wg||(wg=!0,t2())}function cc(i,o){if(!bg&&Uh){bg=!0;do for(var l=!1,f=zh;f!==null;){if(i!==0){var g=f.pendingLanes;if(g===0)var v=0;else{var x=f.suspendedLanes,B=f.pingedLanes;v=(1<<31-Pe(42|i)+1)-1,v&=g&~(x&~B),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(l=!0,_b(f,v))}else v=gt,v=et(f,f===Yt?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Ht(f,v)||(l=!0,_b(f,v));f=f.next}while(l);bg=!1}}function e2(){gb()}function gb(){Uh=wg=!1;var i=0;ba!==0&&(u2()&&(i=ba),ba=0);for(var o=Ue(),l=null,f=zh;f!==null;){var g=f.next,v=yb(f,o);v===0?(f.next=null,l===null?zh=g:l.next=g,g===null&&(Tl=l)):(l=f,(i!==0||(v&3)!==0)&&(Uh=!0)),f=g}cc(i)}function yb(i,o){for(var l=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var x=31-Pe(v),B=1<<x,X=g[x];X===-1?((B&l)===0||(B&f)!==0)&&(g[x]=zt(B,o)):X<=o&&(i.expiredLanes|=B),v&=~B}if(o=Yt,l=gt,l=et(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,l===0||i===o&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&wt(f),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ht(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(f!==null&&wt(f),Ti(l)){case 2:case 8:l=dn;break;case 32:l=pn;break;case 268435456:l=mn;break;default:l=pn}return f=vb.bind(null,i),l=Et(l,f),i.callbackPriority=o,i.callbackNode=l,o}return f!==null&&f!==null&&wt(f),i.callbackPriority=2,i.callbackNode=null,2}function vb(i,o){if(Jn!==0&&Jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Lh()&&i.callbackNode!==l)return null;var f=gt;return f=et(i,i===Yt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(eb(i,f,o),yb(i,Ue()),i.callbackNode!=null&&i.callbackNode===l?vb.bind(null,i):null)}function _b(i,o){if(Lh())return null;eb(i,o,!0)}function t2(){f2(function(){(Vt&6)!==0?Et($t,e2):gb()})}function Sg(){return ba===0&&(ba=Si()),ba}function Eb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ds(""+i)}function wb(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function n2(i,o,l,f,g){if(o==="submit"&&l&&l.stateNode===g){var v=Eb((g[tn]||null).action),x=f.submitter;x&&(o=(o=x[tn]||null)?Eb(o.formAction):x.getAttribute("formAction"),o!==null&&(v=o,x=null));var B=new Ya("action","action",null,f,g);i.push({event:B,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ba!==0){var X=x?wb(g,x):new FormData(g);Hm(l,{pending:!0,data:X,method:g.method,action:v},null,X)}}else typeof v=="function"&&(B.preventDefault(),X=x?wb(g,x):new FormData(g),Hm(l,{pending:!0,data:X,method:g.method,action:v},v,X))},currentTarget:g}]})}}for(var Tg=0;Tg<lm.length;Tg++){var xg=lm[Tg],r2=xg.toLowerCase(),i2=xg[0].toUpperCase()+xg.slice(1);Ci(r2,"on"+i2)}Ci(eE,"onAnimationEnd"),Ci(tE,"onAnimationIteration"),Ci(nE,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(wk,"onTransitionRun"),Ci(bk,"onTransitionStart"),Ci(Sk,"onTransitionCancel"),Ci(rE,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),Ie("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ie("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ie("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ie("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ie("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function bb(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],g=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var x=f.length-1;0<=x;x--){var B=f[x],X=B.instance,ae=B.currentTarget;if(B=B.listener,X!==v&&g.isPropagationStopped())break e;v=B,g.currentTarget=ae;try{v(g)}catch(me){Ah(me)}g.currentTarget=null,v=X}else for(x=0;x<f.length;x++){if(B=f[x],X=B.instance,ae=B.currentTarget,B=B.listener,X!==v&&g.isPropagationStopped())break e;v=B,g.currentTarget=ae;try{v(g)}catch(me){Ah(me)}g.currentTarget=null,v=X}}}}function at(i,o){var l=o[zi];l===void 0&&(l=o[zi]=new Set);var f=i+"__bubble";l.has(f)||(Sb(o,i,2,!1),l.add(f))}function Ag(i,o,l){var f=0;o&&(f|=4),Sb(l,i,f,o)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function Cg(i){if(!i[Bh]){i[Bh]=!0,fe.forEach(function(l){l!=="selectionchange"&&(s2.has(l)||Ag(l,!1,i),Ag(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Bh]||(o[Bh]=!0,Ag("selectionchange",!1,o))}}function Sb(i,o,l,f){switch(Yb(o)){case 2:var g=D2;break;case 8:g=O2;break;default:g=Fg}l=g.bind(null,o,l,i),g=void 0,!ai||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(o,l,{capture:!0,passive:g}):i.addEventListener(o,l,!0):g!==void 0?i.addEventListener(o,l,{passive:g}):i.addEventListener(o,l,!1)}function Ig(i,o,l,f,g){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var x=f.tag;if(x===3||x===4){var B=f.stateNode.containerInfo;if(B===g)break;if(x===4)for(x=f.return;x!==null;){var X=x.tag;if((X===3||X===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;B!==null;){if(x=yr(B),x===null)return;if(X=x.tag,X===5||X===6||X===26||X===27){f=v=x;continue e}B=B.parentNode}}f=f.return}jf(function(){var ae=v,me=Qn(l),ve=[];e:{var le=iE.get(i);if(le!==void 0){var ue=Ya,Ge=i;switch(i){case"keypress":if(Hi(l)===0)break e;case"keydown":case"keyup":ue=Ja;break;case"focusin":Ge="focus",ue=Qa;break;case"focusout":Ge="blur",ue=Qa;break;case"beforeblur":case"afterblur":ue=Qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=em;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Qf;break;case eE:case tE:case nE:ue=Wa;break;case rE:ue=Zf;break;case"scroll":case"scrollend":ue=Hf;break;case"wheel":ue=el;break;case"copy":case"cut":case"paste":ue=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Pu;break;case"toggle":case"beforetoggle":ue=eh}var je=(o&4)!==0,jt=!je&&(i==="scroll"||i==="scrollend"),ie=je?le!==null?le+"Capture":null:le;je=[];for(var ee=ae,oe;ee!==null;){var ge=ee;if(oe=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||oe===null||ie===null||(ge=ta(ee,ie),ge!=null&&je.push(hc(ee,ge,oe))),jt)break;ee=ee.return}0<je.length&&(le=new ue(le,Ge,null,l,me),ve.push({event:le,listeners:je}))}}if((o&7)===0){e:{if(le=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",le&&l!==Ir&&(Ge=l.relatedTarget||l.fromElement)&&(yr(Ge)||Ge[ln]))break e;if((ue||le)&&(le=me.window===me?me:(le=me.ownerDocument)?le.defaultView||le.parentWindow:window,ue?(Ge=l.relatedTarget||l.toElement,ue=ae,Ge=Ge?yr(Ge):null,Ge!==null&&(jt=a(Ge),je=Ge.tag,Ge!==jt||je!==5&&je!==27&&je!==6)&&(Ge=null)):(ue=null,Ge=ae),ue!==Ge)){if(je=li,ge="onMouseLeave",ie="onMouseEnter",ee="mouse",(i==="pointerout"||i==="pointerover")&&(je=Pu,ge="onPointerLeave",ie="onPointerEnter",ee="pointer"),jt=ue==null?le:vr(ue),oe=Ge==null?le:vr(Ge),le=new je(ge,ee+"leave",ue,l,me),le.target=jt,le.relatedTarget=oe,ge=null,yr(me)===ae&&(je=new je(ie,ee+"enter",Ge,l,me),je.target=oe,je.relatedTarget=jt,ge=je),jt=ge,ue&&Ge)t:{for(je=ue,ie=Ge,ee=0,oe=je;oe;oe=xl(oe))ee++;for(oe=0,ge=ie;ge;ge=xl(ge))oe++;for(;0<ee-oe;)je=xl(je),ee--;for(;0<oe-ee;)ie=xl(ie),oe--;for(;ee--;){if(je===ie||ie!==null&&je===ie.alternate)break t;je=xl(je),ie=xl(ie)}je=null}else je=null;ue!==null&&Tb(ve,le,ue,je,!1),Ge!==null&&jt!==null&&Tb(ve,jt,Ge,je,!0)}}e:{if(le=ae?vr(ae):window,ue=le.nodeName&&le.nodeName.toLowerCase(),ue==="select"||ue==="input"&&le.type==="file")var Oe=H0;else if(kn(le))if(q0)Oe=vk;else{Oe=gk;var rt=mk}else ue=le.nodeName,!ue||ue.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?ae&&hs(ae.elementType)&&(Oe=H0):Oe=yk;if(Oe&&(Oe=Oe(i,ae))){vs(ve,Oe,l,me);break e}rt&&rt(i,le,ae),i==="focusout"&&ae&&le.type==="number"&&ae.memoizedProps.value!=null&&Kn(le,"number",le.value)}switch(rt=ae?vr(ae):window,i){case"focusin":(kn(rt)||rt.contentEditable==="true")&&(tl=rt,sm=ae,zu=null);break;case"focusout":zu=sm=tl=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,Z0(ve,l,me);break;case"selectionchange":if(Ek)break;case"keydown":case"keyup":Z0(ve,l,me)}var Le;if(Gi)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else pt?he(i,l)&&(He="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(S&&l.locale!=="ko"&&(pt||He!=="onCompositionStart"?He==="onCompositionEnd"&&pt&&(Le=Nu()):(ji=me,Xs="value"in ji?ji.value:ji.textContent,pt=!0)),rt=Fh(ae,He),0<rt.length&&(He=new Ou(He,i,null,l,me),ve.push({event:He,listeners:rt}),Le?He.data=Le:(Le=Ae(l),Le!==null&&(He.data=Le)))),(Le=w?Nn(i,l):mt(i,l))&&(He=Fh(ae,"onBeforeInput"),0<He.length&&(rt=new Ou("onBeforeInput","beforeinput",null,l,me),ve.push({event:rt,listeners:He}),rt.data=Le)),n2(ve,i,ae,l,me)}bb(ve,o)})}function hc(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Fh(i,o){for(var l=o+"Capture",f=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=ta(i,l),g!=null&&f.unshift(hc(i,g,v)),g=ta(i,o),g!=null&&f.push(hc(i,g,v))),i.tag===3)return f;i=i.return}return[]}function xl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Tb(i,o,l,f,g){for(var v=o._reactName,x=[];l!==null&&l!==f;){var B=l,X=B.alternate,ae=B.stateNode;if(B=B.tag,X!==null&&X===f)break;B!==5&&B!==26&&B!==27||ae===null||(X=ae,g?(ae=ta(l,v),ae!=null&&x.unshift(hc(l,ae,X))):g||(ae=ta(l,v),ae!=null&&x.push(hc(l,ae,X)))),l=l.return}x.length!==0&&i.push({event:o,listeners:x})}var o2=/\r\n?/g,a2=/\u0000|\uFFFD/g;function xb(i){return(typeof i=="string"?i:""+i).replace(o2,`
`).replace(a2,"")}function Ab(i,o){return o=xb(o),xb(i)===o}function jh(){}function Ft(i,o,l,f,g,v){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Xn(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Xn(i,""+f);break;case"className":bt(i,"class",f);break;case"tabIndex":bt(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":bt(i,l,f);break;case"style":Bi(i,f,v);break;case"data":if(o!=="object"){bt(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ds(""+f),i.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(l==="formAction"?(o!=="input"&&Ft(i,o,"name",g.name,g,null),Ft(i,o,"formEncType",g.formEncType,g,null),Ft(i,o,"formMethod",g.formMethod,g,null),Ft(i,o,"formTarget",g.formTarget,g,null)):(Ft(i,o,"encType",g.encType,g,null),Ft(i,o,"method",g.method,g,null),Ft(i,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(l);break}f=ds(""+f),i.setAttribute(l,f);break;case"onClick":f!=null&&(i.onclick=jh);break;case"onScroll":f!=null&&at("scroll",i);break;case"onScrollEnd":f!=null&&at("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}l=ds(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""+f):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":f===!0?i.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(l,f):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(l,f):i.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(l):i.setAttribute(l,f);break;case"popover":at("beforetoggle",i),at("toggle",i),It(i,"popover",f);break;case"xlinkActuate":Rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Rt(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Rt(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Rt(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Rt(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":It(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ys.get(l)||l,It(i,l,f))}}function Rg(i,o,l,f,g,v){switch(l){case"style":Bi(i,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(l=f.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof f=="string"?Xn(i,f):(typeof f=="number"||typeof f=="bigint")&&Xn(i,""+f);break;case"onScroll":f!=null&&at("scroll",i);break;case"onScrollEnd":f!=null&&at("scrollend",i);break;case"onClick":f!=null&&(i.onclick=jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Se.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),v=i[tn]||null,v=v!=null?v[l]:null,typeof v=="function"&&i.removeEventListener(o,v,g),typeof f=="function")){typeof v!="function"&&v!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,f,g);break e}l in i?i[l]=f:f===!0?i.setAttribute(l,""):It(i,l,f)}}}function er(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",i),at("load",i);var f=!1,g=!1,v;for(v in l)if(l.hasOwnProperty(v)){var x=l[v];if(x!=null)switch(v){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ft(i,o,v,x,l,null)}}g&&Ft(i,o,"srcSet",l.srcSet,l,null),f&&Ft(i,o,"src",l.src,l,null);return;case"input":at("invalid",i);var B=v=x=g=null,X=null,ae=null;for(f in l)if(l.hasOwnProperty(f)){var me=l[f];if(me!=null)switch(f){case"name":g=me;break;case"type":x=me;break;case"checked":X=me;break;case"defaultChecked":ae=me;break;case"value":v=me;break;case"defaultValue":B=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:Ft(i,o,f,me,l,null)}}Yn(i,v,B,X,ae,x,g,!1),dt(i);return;case"select":at("invalid",i),f=x=v=null;for(g in l)if(l.hasOwnProperty(g)&&(B=l[g],B!=null))switch(g){case"value":v=B;break;case"defaultValue":x=B;break;case"multiple":f=B;default:Ft(i,o,g,B,l,null)}o=v,l=x,i.multiple=!!f,o!=null?wr(i,!!f,o,!1):l!=null&&wr(i,!!f,l,!0);return;case"textarea":at("invalid",i),v=g=f=null;for(x in l)if(l.hasOwnProperty(x)&&(B=l[x],B!=null))switch(x){case"value":f=B;break;case"defaultValue":g=B;break;case"children":v=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Ft(i,o,x,B,l,null)}xi(i,f,g,v),dt(i);return;case"option":for(X in l)if(l.hasOwnProperty(X)&&(f=l[X],f!=null))switch(X){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ft(i,o,X,f,l,null)}return;case"dialog":at("beforetoggle",i),at("toggle",i),at("cancel",i),at("close",i);break;case"iframe":case"object":at("load",i);break;case"video":case"audio":for(f=0;f<fc.length;f++)at(fc[f],i);break;case"image":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"embed":case"source":case"link":at("error",i),at("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in l)if(l.hasOwnProperty(ae)&&(f=l[ae],f!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ft(i,o,ae,f,l,null)}return;default:if(hs(o)){for(me in l)l.hasOwnProperty(me)&&(f=l[me],f!==void 0&&Rg(i,o,me,f,l,void 0));return}}for(B in l)l.hasOwnProperty(B)&&(f=l[B],f!=null&&Ft(i,o,B,f,l,null))}function l2(i,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,x=null,B=null,X=null,ae=null,me=null;for(ue in l){var ve=l[ue];if(l.hasOwnProperty(ue)&&ve!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":X=ve;default:f.hasOwnProperty(ue)||Ft(i,o,ue,null,f,ve)}}for(var le in f){var ue=f[le];if(ve=l[le],f.hasOwnProperty(le)&&(ue!=null||ve!=null))switch(le){case"type":v=ue;break;case"name":g=ue;break;case"checked":ae=ue;break;case"defaultChecked":me=ue;break;case"value":x=ue;break;case"defaultValue":B=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,o));break;default:ue!==ve&&Ft(i,o,le,ue,f,ve)}}Gt(i,x,B,X,ae,me,v,g);return;case"select":ue=x=B=le=null;for(v in l)if(X=l[v],l.hasOwnProperty(v)&&X!=null)switch(v){case"value":break;case"multiple":ue=X;default:f.hasOwnProperty(v)||Ft(i,o,v,null,f,X)}for(g in f)if(v=f[g],X=l[g],f.hasOwnProperty(g)&&(v!=null||X!=null))switch(g){case"value":le=v;break;case"defaultValue":B=v;break;case"multiple":x=v;default:v!==X&&Ft(i,o,g,v,f,X)}o=B,l=x,f=ue,le!=null?wr(i,!!l,le,!1):!!f!=!!l&&(o!=null?wr(i,!!l,o,!0):wr(i,!!l,l?[]:"",!1));return;case"textarea":ue=le=null;for(B in l)if(g=l[B],l.hasOwnProperty(B)&&g!=null&&!f.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Ft(i,o,B,null,f,g)}for(x in f)if(g=f[x],v=l[x],f.hasOwnProperty(x)&&(g!=null||v!=null))switch(x){case"value":le=g;break;case"defaultValue":ue=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Ft(i,o,x,g,f,v)}vt(i,le,ue);return;case"option":for(var Ge in l)if(le=l[Ge],l.hasOwnProperty(Ge)&&le!=null&&!f.hasOwnProperty(Ge))switch(Ge){case"selected":i.selected=!1;break;default:Ft(i,o,Ge,null,f,le)}for(X in f)if(le=f[X],ue=l[X],f.hasOwnProperty(X)&&le!==ue&&(le!=null||ue!=null))switch(X){case"selected":i.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Ft(i,o,X,le,f,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in l)le=l[je],l.hasOwnProperty(je)&&le!=null&&!f.hasOwnProperty(je)&&Ft(i,o,je,null,f,le);for(ae in f)if(le=f[ae],ue=l[ae],f.hasOwnProperty(ae)&&le!==ue&&(le!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:Ft(i,o,ae,le,f,ue)}return;default:if(hs(o)){for(var jt in l)le=l[jt],l.hasOwnProperty(jt)&&le!==void 0&&!f.hasOwnProperty(jt)&&Rg(i,o,jt,void 0,f,le);for(me in f)le=f[me],ue=l[me],!f.hasOwnProperty(me)||le===ue||le===void 0&&ue===void 0||Rg(i,o,me,le,f,ue);return}}for(var ie in l)le=l[ie],l.hasOwnProperty(ie)&&le!=null&&!f.hasOwnProperty(ie)&&Ft(i,o,ie,null,f,le);for(ve in f)le=f[ve],ue=l[ve],!f.hasOwnProperty(ve)||le===ue||le==null&&ue==null||Ft(i,o,ve,le,f,ue)}var Ng=null,kg=null;function Hh(i){return i.nodeType===9?i:i.ownerDocument}function Cb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ib(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Dg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Og=null;function u2(){var i=window.event;return i&&i.type==="popstate"?i===Og?!1:(Og=i,!0):(Og=null,!1)}var Rb=typeof setTimeout=="function"?setTimeout:void 0,c2=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(i){return Nb.resolve(null).then(i).catch(h2)}:Rb;function h2(i){setTimeout(function(){throw i})}function fo(i){return i==="head"}function kb(i,o){var l=o,f=0,g=0;do{var v=l.nextSibling;if(i.removeChild(l),v&&v.nodeType===8)if(l=v.data,l==="/$"){if(0<f&&8>f){l=f;var x=i.ownerDocument;if(l&1&&dc(x.documentElement),l&2&&dc(x.body),l&4)for(l=x.head,dc(l),x=l.firstChild;x;){var B=x.nextSibling,X=x.nodeName;x[ni]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=B}}if(g===0){i.removeChild(v),wc(o);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:f=l.charCodeAt(0)-48;else f=0;l=v}while(l);wc(o)}function Mg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mg(l),Br(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function d2(i,o,l,f){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ni])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Ri(i.nextSibling),i===null)break}return null}function p2(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ri(i.nextSibling),i===null))return null;return i}function Pg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function m2(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var f=function(){o(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Ri(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Vg=null;function Db(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function Ob(i,o,l){switch(o=Hh(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function dc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Br(i)}var mi=new Map,Mb=new Set;function qh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ks=Y.d;Y.d={f:g2,r:y2,D:v2,C:_2,L:E2,m:w2,X:S2,S:b2,M:T2};function g2(){var i=ks.f(),o=Ph();return i||o}function y2(i){var o=Ln(i);o!==null&&o.tag===5&&o.type==="form"?ew(o):ks.r(i)}var Al=typeof document>"u"?null:document;function Pb(i,o,l){var f=Al;if(f&&typeof o=="string"&&o){var g=nn(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Mb.has(g)||(Mb.add(g),i={rel:i,crossOrigin:l,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),er(o,"link",i),W(o),f.head.appendChild(o)))}}function v2(i){ks.D(i),Pb("dns-prefetch",i,null)}function _2(i,o){ks.C(i,o),Pb("preconnect",i,o)}function E2(i,o,l){ks.L(i,o,l);var f=Al;if(f&&i&&o){var g='link[rel="preload"][as="'+nn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+nn(l.imageSizes)+'"]')):g+='[href="'+nn(i)+'"]';var v=g;switch(o){case"style":v=Cl(i);break;case"script":v=Il(i)}mi.has(v)||(i=m({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),mi.set(v,i),f.querySelector(g)!==null||o==="style"&&f.querySelector(pc(v))||o==="script"&&f.querySelector(mc(v))||(o=f.createElement("link"),er(o,"link",i),W(o),f.head.appendChild(o)))}}function w2(i,o){ks.m(i,o);var l=Al;if(l&&i){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+nn(f)+'"][href="'+nn(i)+'"]',v=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Il(i)}if(!mi.has(v)&&(i=m({rel:"modulepreload",href:i},o),mi.set(v,i),l.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mc(v)))return}f=l.createElement("link"),er(f,"link",i),W(f),l.head.appendChild(f)}}}function b2(i,o,l){ks.S(i,o,l);var f=Al;if(f&&i){var g=Rn(f).hoistableStyles,v=Cl(i);o=o||"default";var x=g.get(v);if(!x){var B={loading:0,preload:null};if(x=f.querySelector(pc(v)))B.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},l),(l=mi.get(v))&&Lg(i,l);var X=x=f.createElement("link");W(X),er(X,"link",i),X._p=new Promise(function(ae,me){X.onload=ae,X.onerror=me}),X.addEventListener("load",function(){B.loading|=1}),X.addEventListener("error",function(){B.loading|=2}),B.loading|=4,$h(x,o,f)}x={type:"stylesheet",instance:x,count:1,state:B},g.set(v,x)}}}function S2(i,o){ks.X(i,o);var l=Al;if(l&&i){var f=Rn(l).hoistableScripts,g=Il(i),v=f.get(g);v||(v=l.querySelector(mc(g)),v||(i=m({src:i,async:!0},o),(o=mi.get(g))&&zg(i,o),v=l.createElement("script"),W(v),er(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function T2(i,o){ks.M(i,o);var l=Al;if(l&&i){var f=Rn(l).hoistableScripts,g=Il(i),v=f.get(g);v||(v=l.querySelector(mc(g)),v||(i=m({src:i,async:!0,type:"module"},o),(o=mi.get(g))&&zg(i,o),v=l.createElement("script"),W(v),er(v,"link",i),l.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function Vb(i,o,l,f){var g=(g=we.current)?qh(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Cl(l.href),l=Rn(g).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Cl(l.href);var v=Rn(g).hoistableStyles,x=v.get(i);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,x),(v=g.querySelector(pc(i)))&&!v._p&&(x.instance=v,x.state.loading=5),mi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},mi.set(i,l),v||x2(g,i,l,x.state))),o&&f===null)throw Error(r(528,""));return x}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Il(l),l=Rn(g).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cl(i){return'href="'+nn(i)+'"'}function pc(i){return'link[rel="stylesheet"]['+i+"]"}function Lb(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function x2(i,o,l,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),er(o,"link",l),W(o),i.head.appendChild(o))}function Il(i){return'[src="'+nn(i)+'"]'}function mc(i){return"script[async]"+i}function zb(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+nn(l.href)+'"]');if(f)return o.instance=f,W(f),f;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),W(f),er(f,"style",g),$h(f,l.precedence,i),o.instance=f;case"stylesheet":g=Cl(l.href);var v=i.querySelector(pc(g));if(v)return o.state.loading|=4,o.instance=v,W(v),v;f=Lb(l),(g=mi.get(g))&&Lg(f,g),v=(i.ownerDocument||i).createElement("link"),W(v);var x=v;return x._p=new Promise(function(B,X){x.onload=B,x.onerror=X}),er(v,"link",f),o.state.loading|=4,$h(v,l.precedence,i),o.instance=v;case"script":return v=Il(l.src),(g=i.querySelector(mc(v)))?(o.instance=g,W(g),g):(f=l,(g=mi.get(v))&&(f=m({},l),zg(f,g)),i=i.ownerDocument||i,g=i.createElement("script"),W(g),er(g,"link",f),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,$h(f,l.precedence,i));return o.instance}function $h(i,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,v=g,x=0;x<f.length;x++){var B=f[x];if(B.dataset.precedence===o)v=B;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function Lg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function zg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Gh=null;function Ub(i,o,l){if(Gh===null){var f=new Map,g=Gh=new Map;g.set(l,f)}else g=Gh,f=g.get(l),f||(f=new Map,g.set(l,f));if(f.has(i))return f;for(f.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var v=l[g];if(!(v[ni]||v[At]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var x=v.getAttribute(o)||"";x=i+x;var B=f.get(x);B?B.push(v):f.set(x,[v])}}return f}function Bb(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function A2(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Fb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var gc=null;function C2(){}function I2(i,o,l){if(gc===null)throw Error(r(475));var f=gc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Cl(l.href),v=i.querySelector(pc(g));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Yh.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=v,W(v);return}v=i.ownerDocument||i,l=Lb(l),(g=mi.get(g))&&Lg(l,g),v=v.createElement("link"),W(v);var x=v;x._p=new Promise(function(B,X){x.onload=B,x.onerror=X}),er(v,"link",l),o.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=Yh.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function R2(){if(gc===null)throw Error(r(475));var i=gc;return i.stylesheets&&i.count===0&&Ug(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&Ug(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Yh(){if(this.count--,this.count===0){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kh=null;function Ug(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kh=new Map,o.forEach(N2,i),Kh=null,Yh.call(i))}function N2(i,o){if(!(o.state.loading&4)){var l=Kh.get(i);if(l)var f=l.get(null);else{l=new Map,Kh.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var x=g[v];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),f=x)}f&&l.set(null,f)}g=o.instance,x=g.getAttribute("data-precedence"),v=l.get(x)||f,v===f&&l.set(null,g),l.set(x,g),this.count++,f=Yh.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var yc={$$typeof:q,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function k2(i,o,l,f,g,v,x,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=In(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=In(0),this.hiddenUpdates=In(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function jb(i,o,l,f,g,v,x,B,X,ae,me,ve){return i=new k2(i,o,l,x,B,X,ae,ve),o=1,v===!0&&(o|=24),v=jr(3,null,null,o),i.current=v,v.stateNode=i,o=Em(),o.refCount++,i.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:l,cache:o},Tm(v),i}function Hb(i){return i?(i=sl,i):sl}function qb(i,o,l,f,g,v){g=Hb(g),f.context===null?f.context=g:f.pendingContext=g,f=Zs(o),f.payload={element:l},v=v===void 0?null:v,v!==null&&(f.callback=v),l=Js(i,f,o),l!==null&&(Yr(l,i,o),Yu(l,i,o))}function $b(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Bg(i,o){$b(i,o),(i=i.alternate)&&$b(i,o)}function Gb(i){if(i.tag===13){var o=il(i,67108864);o!==null&&Yr(o,i,67108864),Bg(i,67108864)}}var Xh=!0;function D2(i,o,l,f){var g=z.T;z.T=null;var v=Y.p;try{Y.p=2,Fg(i,o,l,f)}finally{Y.p=v,z.T=g}}function O2(i,o,l,f){var g=z.T;z.T=null;var v=Y.p;try{Y.p=8,Fg(i,o,l,f)}finally{Y.p=v,z.T=g}}function Fg(i,o,l,f){if(Xh){var g=jg(f);if(g===null)Ig(i,o,f,Qh,l),Kb(i,f);else if(P2(g,i,o,l,f))f.stopPropagation();else if(Kb(i,f),o&4&&-1<M2.indexOf(i)){for(;g!==null;){var v=Ln(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var x=ht(v.pendingLanes);if(x!==0){var B=v;for(B.pendingLanes|=2,B.entangledLanes|=2;x;){var X=1<<31-Pe(x);B.entanglements[1]|=X,x&=~X}Zi(v),(Vt&6)===0&&(Oh=Ue()+500,cc(0))}}break;case 13:B=il(v,2),B!==null&&Yr(B,v,2),Ph(),Bg(v,2)}if(v=jg(f),v===null&&Ig(i,o,f,Qh,l),v===g)break;g=v}g!==null&&f.stopPropagation()}else Ig(i,o,f,null,l)}}function jg(i){return i=Qn(i),Hg(i)}var Qh=null;function Hg(i){if(Qh=null,i=yr(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=u(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Qh=i,null}function Yb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case $t:return 2;case dn:return 8;case pn:case En:return 32;case mn:return 268435456;default:return 32}default:return 32}}var qg=!1,ho=null,po=null,mo=null,vc=new Map,_c=new Map,go=[],M2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(i,o){switch(i){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":vc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(o.pointerId)}}function Ec(i,o,l,f,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Ln(o),o!==null&&Gb(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function P2(i,o,l,f,g){switch(o){case"focusin":return ho=Ec(ho,i,o,l,f,g),!0;case"dragenter":return po=Ec(po,i,o,l,f,g),!0;case"mouseover":return mo=Ec(mo,i,o,l,f,g),!0;case"pointerover":var v=g.pointerId;return vc.set(v,Ec(vc.get(v)||null,i,o,l,f,g)),!0;case"gotpointercapture":return v=g.pointerId,_c.set(v,Ec(_c.get(v)||null,i,o,l,f,g)),!0}return!1}function Xb(i){var o=yr(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){i.blockedOn=o,Ur(i.priority,function(){if(l.tag===13){var f=Gr();f=zr(f);var g=il(l,f);g!==null&&Yr(g,l,f),Bg(l,f)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=jg(i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);Ir=f,l.target.dispatchEvent(f),Ir=null}else return o=Ln(l),o!==null&&Gb(o),i.blockedOn=l,!1;o.shift()}return!0}function Qb(i,o,l){Wh(i)&&l.delete(o)}function V2(){qg=!1,ho!==null&&Wh(ho)&&(ho=null),po!==null&&Wh(po)&&(po=null),mo!==null&&Wh(mo)&&(mo=null),vc.forEach(Qb),_c.forEach(Qb)}function Zh(i,o){i.blockedOn===o&&(i.blockedOn=null,qg||(qg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V2)))}var Jh=null;function Wb(i){Jh!==i&&(Jh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jh===i&&(Jh=null);for(var o=0;o<i.length;o+=3){var l=i[o],f=i[o+1],g=i[o+2];if(typeof f!="function"){if(Hg(f||l)===null)continue;break}var v=Ln(l);v!==null&&(i.splice(o,3),o-=3,Hm(v,{pending:!0,data:g,method:l.method,action:f},f,g))}}))}function wc(i){function o(X){return Zh(X,i)}ho!==null&&Zh(ho,i),po!==null&&Zh(po,i),mo!==null&&Zh(mo,i),vc.forEach(o),_c.forEach(o);for(var l=0;l<go.length;l++){var f=go[l];f.blockedOn===i&&(f.blockedOn=null)}for(;0<go.length&&(l=go[0],l.blockedOn===null);)Xb(l),l.blockedOn===null&&go.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var g=l[f],v=l[f+1],x=g[tn]||null;if(typeof v=="function")x||Wb(l);else if(x){var B=null;if(v&&v.hasAttribute("formAction")){if(g=v,x=v[tn]||null)B=x.formAction;else if(Hg(g)!==null)continue}else B=x.action;typeof B=="function"?l[f+1]=B:(l.splice(f,3),f-=3),Wb(l)}}}function $g(i){this._internalRoot=i}ed.prototype.render=$g.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,f=Gr();qb(l,f,i,o,null,null)},ed.prototype.unmount=$g.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;qb(i.current,2,null,i,null,null),Ph(),o[ln]=null}};function ed(i){this._internalRoot=i}ed.prototype.unstable_scheduleHydration=function(i){if(i){var o=mr();i={blockedOn:null,target:i,priority:o};for(var l=0;l<go.length&&o!==0&&o<go[l].priority;l++);go.splice(l,0,i),l===0&&Xb(i)}};var Zb=e.version;if(Zb!=="19.1.0")throw Error(r(527,Zb,"19.1.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var L2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{ne=td.inject(L2),pe=td}catch{}}return Sc.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,f="",g=pw,v=mw,x=gw,B=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=jb(i,1,!1,null,null,l,f,g,v,x,B,null),i[ln]=o.current,Cg(i),new $g(o)},Sc.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var f=!1,g="",v=pw,x=mw,B=gw,X=null,ae=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(X=l.unstable_transitionCallbacks),l.formState!==void 0&&(ae=l.formState)),o=jb(i,1,!0,o,l??null,f,g,v,x,B,X,ae),o.context=Hb(null),l=o.current,f=Gr(),f=zr(f),g=Zs(f),g.callback=null,Js(l,g,f),l=f,o.current.lanes=l,pr(o,l),Zi(o),i[ln]=o.current,Cg(i),new ed(o)},Sc.version="19.1.0",Sc}var lS;function G2(){if(lS)return Kg.exports;lS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kg.exports=$2(),Kg.exports}var Y2=G2();function Ar(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Ar(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Zg={exports:{}},Jg={},ey={exports:{}},ty={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function K2(){if(uS)return ty;uS=1;var t=wf();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function c(y,_){var E=_(),T=r({inst:{value:E,getSnapshot:_}}),C=T[0].inst,N=T[1];return a(function(){C.value=E,C.getSnapshot=_,h(C)&&N({inst:C})},[y,E,_]),s(function(){return h(C)&&N({inst:C}),y(function(){h(C)&&N({inst:C})})},[y]),u(E),E}function h(y){var _=y.getSnapshot;y=y.value;try{var E=_();return!n(y,E)}catch{return!0}}function d(y,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return ty.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ty}var cS;function X2(){return cS||(cS=1,ey.exports=K2()),ey.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function Q2(){if(fS)return Jg;fS=1;var t=wf(),e=X2();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,c=t.useMemo,h=t.useDebugValue;return Jg.useSyncExternalStoreWithSelector=function(d,m,y,_,E){var T=a(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=c(function(){function k($){if(!j){if(j=!0,q=$,$=_($),E!==void 0&&C.hasValue){var R=C.value;if(E(R,$))return F=R}return F=$}if(R=F,r(q,$))return R;var I=_($);return E!==void 0&&E(R,I)?(q=$,R):(q=$,F=I)}var j=!1,q,F,K=y===void 0?null:y;return[function(){return k(m())},K===null?void 0:function(){return k(K())}]},[m,y,_,E]);var N=s(d,T[0],T[1]);return u(function(){C.hasValue=!0,C.value=N},[N]),h(N),N},Jg}var hS;function W2(){return hS||(hS=1,Zg.exports=Q2()),Zg.exports}var Z2=W2();const J2=Fa(Z2),eD={},dS=t=>{let e;const n=new Set,r=(m,y)=>{const _=typeof m=="function"?m(e):m;if(!Object.is(_,e)){const E=e;e=y??(typeof _!="object"||_===null)?_:Object.assign({},e,_),n.forEach(T=>T(e,E))}},s=()=>e,h={setState:r,getState:s,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(eD?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,h);return h},tD=t=>t?dS(t):dS,{useDebugValue:nD}=de,{useSyncExternalStoreWithSelector:rD}=J2,iD=t=>t;function Jx(t,e=iD,n){const r=rD(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return nD(r),r}const pS=(t,e)=>{const n=tD(t),r=(s,a=e)=>Jx(n,s,a);return Object.assign(r,n),r},sD=(t,e)=>t?pS(t,e):pS;function fr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var oD={value:()=>{}};function Ep(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xd(n)}function xd(t){this._=t}function aD(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xd.prototype=Ep.prototype={constructor:xd,on:function(t,e){var n=this._,r=aD(t+"",n),s,a=-1,u=r.length;if(arguments.length<2){for(;++a<u;)if((s=(t=r[a]).type)&&(s=lD(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(s=(t=r[a]).type)n[s]=mS(n[s],t.name,e);else if(e==null)for(s in n)n[s]=mS(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xd(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function lD(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function mS(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=oD,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Zy="http://www.w3.org/1999/xhtml";const gS={svg:"http://www.w3.org/2000/svg",xhtml:Zy,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wp(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gS.hasOwnProperty(e)?{space:gS[e],local:t}:t}function uD(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Zy&&e.documentElement.namespaceURI===Zy?e.createElement(t):e.createElementNS(n,t)}}function cD(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function eA(t){var e=wp(t);return(e.local?cD:uD)(e)}function fD(){}function s_(t){return t==null?fD:function(){return this.querySelector(t)}}function hD(t){typeof t!="function"&&(t=s_(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,c=r[s]=new Array(u),h,d,m=0;m<u;++m)(h=a[m])&&(d=t.call(h,h.__data__,m,a))&&("__data__"in h&&(d.__data__=h.__data__),c[m]=d);return new ei(r,this._parents)}function dD(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function pD(){return[]}function tA(t){return t==null?pD:function(){return this.querySelectorAll(t)}}function mD(t){return function(){return dD(t.apply(this,arguments))}}function gD(t){typeof t=="function"?t=mD(t):t=tA(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var u=e[a],c=u.length,h,d=0;d<c;++d)(h=u[d])&&(r.push(t.call(h,h.__data__,d,u)),s.push(h));return new ei(r,s)}function nA(t){return function(){return this.matches(t)}}function rA(t){return function(e){return e.matches(t)}}var yD=Array.prototype.find;function vD(t){return function(){return yD.call(this.children,t)}}function _D(){return this.firstElementChild}function ED(t){return this.select(t==null?_D:vD(typeof t=="function"?t:rA(t)))}var wD=Array.prototype.filter;function bD(){return Array.from(this.children)}function SD(t){return function(){return wD.call(this.children,t)}}function TD(t){return this.selectAll(t==null?bD:SD(typeof t=="function"?t:rA(t)))}function xD(t){typeof t!="function"&&(t=nA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,c=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&c.push(h);return new ei(r,this._parents)}function iA(t){return new Array(t.length)}function AD(){return new ei(this._enter||this._groups.map(iA),this._parents)}function Bd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Bd.prototype={constructor:Bd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function CD(t){return function(){return t}}function ID(t,e,n,r,s,a){for(var u=0,c,h=e.length,d=a.length;u<d;++u)(c=e[u])?(c.__data__=a[u],r[u]=c):n[u]=new Bd(t,a[u]);for(;u<h;++u)(c=e[u])&&(s[u]=c)}function RD(t,e,n,r,s,a,u){var c,h,d=new Map,m=e.length,y=a.length,_=new Array(m),E;for(c=0;c<m;++c)(h=e[c])&&(_[c]=E=u.call(h,h.__data__,c,e)+"",d.has(E)?s[c]=h:d.set(E,h));for(c=0;c<y;++c)E=u.call(t,a[c],c,a)+"",(h=d.get(E))?(r[c]=h,h.__data__=a[c],d.delete(E)):n[c]=new Bd(t,a[c]);for(c=0;c<m;++c)(h=e[c])&&d.get(_[c])===h&&(s[c]=h)}function ND(t){return t.__data__}function kD(t,e){if(!arguments.length)return Array.from(this,ND);var n=e?RD:ID,r=this._parents,s=this._groups;typeof t!="function"&&(t=CD(t));for(var a=s.length,u=new Array(a),c=new Array(a),h=new Array(a),d=0;d<a;++d){var m=r[d],y=s[d],_=y.length,E=DD(t.call(m,m&&m.__data__,d,r)),T=E.length,C=c[d]=new Array(T),N=u[d]=new Array(T),k=h[d]=new Array(_);n(m,y,C,N,k,E,e);for(var j=0,q=0,F,K;j<T;++j)if(F=C[j]){for(j>=q&&(q=j+1);!(K=N[q])&&++q<T;);F._next=K||null}}return u=new ei(u,r),u._enter=c,u._exit=h,u}function DD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function OD(){return new ei(this._exit||this._groups.map(iA),this._parents)}function MD(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function PD(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,u=Math.min(s,a),c=new Array(s),h=0;h<u;++h)for(var d=n[h],m=r[h],y=d.length,_=c[h]=new Array(y),E,T=0;T<y;++T)(E=d[T]||m[T])&&(_[T]=E);for(;h<s;++h)c[h]=n[h];return new ei(c,this._parents)}function VD(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],u;--s>=0;)(u=r[s])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function LD(t){t||(t=zD);function e(y,_){return y&&_?t(y.__data__,_.__data__):!y-!_}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var u=n[a],c=u.length,h=s[a]=new Array(c),d,m=0;m<c;++m)(d=u[m])&&(h[m]=d);h.sort(e)}return new ei(s,this._parents).order()}function zD(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function UD(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function BD(){return Array.from(this)}function FD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var u=r[s];if(u)return u}return null}function jD(){let t=0;for(const e of this)++t;return t}function HD(){return!this.node()}function qD(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,u=s.length,c;a<u;++a)(c=s[a])&&t.call(c,c.__data__,a,s);return this}function $D(t){return function(){this.removeAttribute(t)}}function GD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function YD(t,e){return function(){this.setAttribute(t,e)}}function KD(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function XD(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function QD(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function WD(t,e){var n=wp(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?GD:$D:typeof e=="function"?n.local?QD:XD:n.local?KD:YD)(n,e))}function sA(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ZD(t){return function(){this.style.removeProperty(t)}}function JD(t,e,n){return function(){this.style.setProperty(t,e,n)}}function eO(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function tO(t,e,n){return arguments.length>1?this.each((e==null?ZD:typeof e=="function"?eO:JD)(t,e,n??"")):su(this.node(),t)}function su(t,e){return t.style.getPropertyValue(e)||sA(t).getComputedStyle(t,null).getPropertyValue(e)}function nO(t){return function(){delete this[t]}}function rO(t,e){return function(){this[t]=e}}function iO(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function sO(t,e){return arguments.length>1?this.each((e==null?nO:typeof e=="function"?iO:rO)(t,e)):this.node()[t]}function oA(t){return t.trim().split(/^|\s+/)}function o_(t){return t.classList||new aA(t)}function aA(t){this._node=t,this._names=oA(t.getAttribute("class")||"")}aA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function lA(t,e){for(var n=o_(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function uA(t,e){for(var n=o_(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function oO(t){return function(){lA(this,t)}}function aO(t){return function(){uA(this,t)}}function lO(t,e){return function(){(e.apply(this,arguments)?lA:uA)(this,t)}}function uO(t,e){var n=oA(t+"");if(arguments.length<2){for(var r=o_(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?lO:e?oO:aO)(n,e))}function cO(){this.textContent=""}function fO(t){return function(){this.textContent=t}}function hO(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function dO(t){return arguments.length?this.each(t==null?cO:(typeof t=="function"?hO:fO)(t)):this.node().textContent}function pO(){this.innerHTML=""}function mO(t){return function(){this.innerHTML=t}}function gO(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function yO(t){return arguments.length?this.each(t==null?pO:(typeof t=="function"?gO:mO)(t)):this.node().innerHTML}function vO(){this.nextSibling&&this.parentNode.appendChild(this)}function _O(){return this.each(vO)}function EO(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wO(){return this.each(EO)}function bO(t){var e=typeof t=="function"?t:eA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function SO(){return null}function TO(t,e){var n=typeof t=="function"?t:eA(t),r=e==null?SO:typeof e=="function"?e:s_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function xO(){var t=this.parentNode;t&&t.removeChild(this)}function AO(){return this.each(xO)}function CO(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function IO(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function RO(t){return this.select(t?IO:CO)}function NO(t){return arguments.length?this.property("__data__",t):this.node().__data__}function kO(t){return function(e){t.call(this,e,this.__data__)}}function DO(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function OO(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function MO(t,e,n){return function(){var r=this.__on,s,a=kO(e);if(r){for(var u=0,c=r.length;u<c;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function PO(t,e,n){var r=DO(t+""),s,a=r.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var h=0,d=c.length,m;h<d;++h)for(s=0,m=c[h];s<a;++s)if((u=r[s]).type===m.type&&u.name===m.name)return m.value}return}for(c=e?MO:OO,s=0;s<a;++s)this.each(c(r[s],e,n));return this}function cA(t,e,n){var r=sA(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function VO(t,e){return function(){return cA(this,t,e)}}function LO(t,e){return function(){return cA(this,t,e.apply(this,arguments))}}function zO(t,e){return this.each((typeof e=="function"?LO:VO)(t,e))}function*UO(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,u;s<a;++s)(u=r[s])&&(yield u)}var fA=[null];function ei(t,e){this._groups=t,this._parents=e}function bf(){return new ei([[document.documentElement]],fA)}function BO(){return this}ei.prototype=bf.prototype={constructor:ei,select:hD,selectAll:gD,selectChild:ED,selectChildren:TD,filter:xD,data:kD,enter:AD,exit:OD,join:MD,merge:PD,selection:BO,order:VD,sort:LD,call:UD,nodes:BD,node:FD,size:jD,empty:HD,each:qD,attr:WD,style:tO,property:sO,classed:uO,text:dO,html:yO,raise:_O,lower:wO,append:bO,insert:TO,remove:AO,clone:RO,datum:NO,on:PO,dispatch:zO,[Symbol.iterator]:UO};function ki(t){return typeof t=="string"?new ei([[document.querySelector(t)]],[document.documentElement]):new ei([[t]],fA)}function FO(t){let e;for(;e=t.sourceEvent;)t=e;return t}function es(t,e){if(t=FO(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const jO={passive:!1},tf={capture:!0,passive:!1};function ny(t){t.stopImmediatePropagation()}function Kl(t){t.preventDefault(),t.stopImmediatePropagation()}function hA(t){var e=t.document.documentElement,n=ki(t).on("dragstart.drag",Kl,tf);"onselectstart"in e?n.on("selectstart.drag",Kl,tf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function dA(t,e){var n=t.document.documentElement,r=ki(t).on("dragstart.drag",null);e&&(r.on("click.drag",Kl,tf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const nd=t=>()=>t;function Jy(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:u,y:c,dx:h,dy:d,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:m}})}Jy.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function HO(t){return!t.ctrlKey&&!t.button}function qO(){return this.parentNode}function $O(t,e){return e??{x:t.x,y:t.y}}function GO(){return navigator.maxTouchPoints||"ontouchstart"in this}function YO(){var t=HO,e=qO,n=$O,r=GO,s={},a=Ep("start","drag","end"),u=0,c,h,d,m,y=0;function _(F){F.on("mousedown.drag",E).filter(r).on("touchstart.drag",N).on("touchmove.drag",k,jO).on("touchend.drag touchcancel.drag",j).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(F,K){if(!(m||!t.call(this,F,K))){var $=q(this,e.call(this,F,K),F,K,"mouse");$&&(ki(F.view).on("mousemove.drag",T,tf).on("mouseup.drag",C,tf),hA(F.view),ny(F),d=!1,c=F.clientX,h=F.clientY,$("start",F))}}function T(F){if(Kl(F),!d){var K=F.clientX-c,$=F.clientY-h;d=K*K+$*$>y}s.mouse("drag",F)}function C(F){ki(F.view).on("mousemove.drag mouseup.drag",null),dA(F.view,d),Kl(F),s.mouse("end",F)}function N(F,K){if(t.call(this,F,K)){var $=F.changedTouches,R=e.call(this,F,K),I=$.length,D,P;for(D=0;D<I;++D)(P=q(this,R,F,K,$[D].identifier,$[D]))&&(ny(F),P("start",F,$[D]))}}function k(F){var K=F.changedTouches,$=K.length,R,I;for(R=0;R<$;++R)(I=s[K[R].identifier])&&(Kl(F),I("drag",F,K[R]))}function j(F){var K=F.changedTouches,$=K.length,R,I;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<$;++R)(I=s[K[R].identifier])&&(ny(F),I("end",F,K[R]))}function q(F,K,$,R,I,D){var P=a.copy(),U=es(D||$,K),L,A,O;if((O=n.call(F,new Jy("beforestart",{sourceEvent:$,target:_,identifier:I,active:u,x:U[0],y:U[1],dx:0,dy:0,dispatch:P}),R))!=null)return L=O.x-U[0]||0,A=O.y-U[1]||0,function G(z,Y,Z){var J=U,b;switch(z){case"start":s[I]=G,b=u++;break;case"end":delete s[I],--u;case"drag":U=es(Z||Y,K),b=u;break}P.call(z,F,new Jy(z,{sourceEvent:Y,subject:O,target:_,identifier:I,active:b,x:U[0]+L,y:U[1]+A,dx:U[0]-J[0],dy:U[1]-J[1],dispatch:P}),R)}}return _.filter=function(F){return arguments.length?(t=typeof F=="function"?F:nd(!!F),_):t},_.container=function(F){return arguments.length?(e=typeof F=="function"?F:nd(F),_):e},_.subject=function(F){return arguments.length?(n=typeof F=="function"?F:nd(F),_):n},_.touchable=function(F){return arguments.length?(r=typeof F=="function"?F:nd(!!F),_):r},_.on=function(){var F=a.on.apply(a,arguments);return F===a?_:F},_.clickDistance=function(F){return arguments.length?(y=(F=+F)*F,_):Math.sqrt(y)},_}function a_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pA(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sf(){}var nf=.7,Fd=1/nf,Xl="\\s*([+-]?\\d+)\\s*",rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KO=/^#([0-9a-f]{3,8})$/,XO=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),QO=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),WO=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${rf}\\)$`),ZO=new RegExp(`^rgba\\(${rs},${rs},${rs},${rf}\\)$`),JO=new RegExp(`^hsl\\(${rf},${rs},${rs}\\)$`),eM=new RegExp(`^hsla\\(${rf},${rs},${rs},${rf}\\)$`),yS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a_(Sf,sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vS,formatHex:vS,formatHex8:tM,formatHsl:nM,formatRgb:_S,toString:_S});function vS(){return this.rgb().formatHex()}function tM(){return this.rgb().formatHex8()}function nM(){return mA(this).formatHsl()}function _S(){return this.rgb().formatRgb()}function sf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=KO.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ES(e):n===3?new Pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=XO.exec(t))?new Pr(e[1],e[2],e[3],1):(e=QO.exec(t))?new Pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WO.exec(t))?rd(e[1],e[2],e[3],e[4]):(e=ZO.exec(t))?rd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=JO.exec(t))?SS(e[1],e[2]/100,e[3]/100,1):(e=eM.exec(t))?SS(e[1],e[2]/100,e[3]/100,e[4]):yS.hasOwnProperty(t)?ES(yS[t]):t==="transparent"?new Pr(NaN,NaN,NaN,0):null}function ES(t){return new Pr(t>>16&255,t>>8&255,t&255,1)}function rd(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pr(t,e,n,r)}function rM(t){return t instanceof Sf||(t=sf(t)),t?(t=t.rgb(),new Pr(t.r,t.g,t.b,t.opacity)):new Pr}function ev(t,e,n,r){return arguments.length===1?rM(t):new Pr(t,e,n,r??1)}function Pr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}a_(Pr,ev,pA(Sf,{brighter(t){return t=t==null?Fd:Math.pow(Fd,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?nf:Math.pow(nf,t),new Pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pr(ka(this.r),ka(this.g),ka(this.b),jd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wS,formatHex:wS,formatHex8:iM,formatRgb:bS,toString:bS}));function wS(){return`#${Ia(this.r)}${Ia(this.g)}${Ia(this.b)}`}function iM(){return`#${Ia(this.r)}${Ia(this.g)}${Ia(this.b)}${Ia((isNaN(this.opacity)?1:this.opacity)*255)}`}function bS(){const t=jd(this.opacity);return`${t===1?"rgb(":"rgba("}${ka(this.r)}, ${ka(this.g)}, ${ka(this.b)}${t===1?")":`, ${t})`}`}function jd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ka(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ia(t){return t=ka(t),(t<16?"0":"")+t.toString(16)}function SS(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Di(t,e,n,r)}function mA(t){if(t instanceof Di)return new Di(t.h,t.s,t.l,t.opacity);if(t instanceof Sf||(t=sf(t)),!t)return new Di;if(t instanceof Di)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,c=a-s,h=(a+s)/2;return c?(e===a?u=(n-r)/c+(n<r)*6:n===a?u=(r-e)/c+2:u=(e-n)/c+4,c/=h<.5?a+s:2-a-s,u*=60):c=h>0&&h<1?0:u,new Di(u,c,h,t.opacity)}function sM(t,e,n,r){return arguments.length===1?mA(t):new Di(t,e,n,r??1)}function Di(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}a_(Di,sM,pA(Sf,{brighter(t){return t=t==null?Fd:Math.pow(Fd,t),new Di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?nf:Math.pow(nf,t),new Di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Pr(ry(t>=240?t-240:t+120,s,r),ry(t,s,r),ry(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Di(TS(this.h),id(this.s),id(this.l),jd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jd(this.opacity);return`${t===1?"hsl(":"hsla("}${TS(this.h)}, ${id(this.s)*100}%, ${id(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TS(t){return t=(t||0)%360,t<0?t+360:t}function id(t){return Math.max(0,Math.min(1,t||0))}function ry(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gA=t=>()=>t;function oM(t,e){return function(n){return t+n*e}}function aM(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lM(t){return(t=+t)==1?yA:function(e,n){return n-e?aM(e,n,t):gA(isNaN(e)?n:e)}}function yA(t,e){var n=e-t;return n?oM(t,n):gA(isNaN(t)?e:t)}const xS=function t(e){var n=lM(e);function r(s,a){var u=n((s=ev(s)).r,(a=ev(a)).r),c=n(s.g,a.g),h=n(s.b,a.b),d=yA(s.opacity,a.opacity);return function(m){return s.r=u(m),s.g=c(m),s.b=h(m),s.opacity=d(m),s+""}}return r.gamma=t,r}(1);function wo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var tv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iy=new RegExp(tv.source,"g");function uM(t){return function(){return t}}function cM(t){return function(e){return t(e)+""}}function fM(t,e){var n=tv.lastIndex=iy.lastIndex=0,r,s,a,u=-1,c=[],h=[];for(t=t+"",e=e+"";(r=tv.exec(t))&&(s=iy.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),c[u]?c[u]+=a:c[++u]=a),(r=r[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,h.push({i:u,x:wo(r,s)})),n=iy.lastIndex;return n<e.length&&(a=e.slice(n),c[u]?c[u]+=a:c[++u]=a),c.length<2?h[0]?cM(h[0].x):uM(e):(e=h.length,function(d){for(var m=0,y;m<e;++m)c[(y=h[m]).i]=y.x(d);return c.join("")})}var AS=180/Math.PI,nv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vA(t,e,n,r,s,a){var u,c,h;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,h/=c),t*r<e*n&&(t=-t,e=-e,h=-h,u=-u),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*AS,skewX:Math.atan(h)*AS,scaleX:u,scaleY:c}}var sd;function hM(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nv:vA(e.a,e.b,e.c,e.d,e.e,e.f)}function dM(t){return t==null||(sd||(sd=document.createElementNS("http://www.w3.org/2000/svg","g")),sd.setAttribute("transform",t),!(t=sd.transform.baseVal.consolidate()))?nv:(t=t.matrix,vA(t.a,t.b,t.c,t.d,t.e,t.f))}function _A(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function a(d,m,y,_,E,T){if(d!==y||m!==_){var C=E.push("translate(",null,e,null,n);T.push({i:C-4,x:wo(d,y)},{i:C-2,x:wo(m,_)})}else(y||_)&&E.push("translate("+y+e+_+n)}function u(d,m,y,_){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),_.push({i:y.push(s(y)+"rotate(",null,r)-2,x:wo(d,m)})):m&&y.push(s(y)+"rotate("+m+r)}function c(d,m,y,_){d!==m?_.push({i:y.push(s(y)+"skewX(",null,r)-2,x:wo(d,m)}):m&&y.push(s(y)+"skewX("+m+r)}function h(d,m,y,_,E,T){if(d!==y||m!==_){var C=E.push(s(E)+"scale(",null,",",null,")");T.push({i:C-4,x:wo(d,y)},{i:C-2,x:wo(m,_)})}else(y!==1||_!==1)&&E.push(s(E)+"scale("+y+","+_+")")}return function(d,m){var y=[],_=[];return d=t(d),m=t(m),a(d.translateX,d.translateY,m.translateX,m.translateY,y,_),u(d.rotate,m.rotate,y,_),c(d.skewX,m.skewX,y,_),h(d.scaleX,d.scaleY,m.scaleX,m.scaleY,y,_),d=m=null,function(E){for(var T=-1,C=_.length,N;++T<C;)y[(N=_[T]).i]=N.x(E);return y.join("")}}}var pM=_A(hM,"px, ","px)","deg)"),mM=_A(dM,", ",")",")"),gM=1e-12;function CS(t){return((t=Math.exp(t))+1/t)/2}function yM(t){return((t=Math.exp(t))-1/t)/2}function vM(t){return((t=Math.exp(2*t))-1)/(t+1)}const _M=function t(e,n,r){function s(a,u){var c=a[0],h=a[1],d=a[2],m=u[0],y=u[1],_=u[2],E=m-c,T=y-h,C=E*E+T*T,N,k;if(C<gM)k=Math.log(_/d)/e,N=function(R){return[c+R*E,h+R*T,d*Math.exp(e*R*k)]};else{var j=Math.sqrt(C),q=(_*_-d*d+r*C)/(2*d*n*j),F=(_*_-d*d-r*C)/(2*_*n*j),K=Math.log(Math.sqrt(q*q+1)-q),$=Math.log(Math.sqrt(F*F+1)-F);k=($-K)/e,N=function(R){var I=R*k,D=CS(K),P=d/(n*j)*(D*vM(e*I+K)-yM(K));return[c+P*E,h+P*T,d*D/CS(e*I+K)]}}return N.duration=k*1e3*e/Math.SQRT2,N}return s.rho=function(a){var u=Math.max(.001,+a),c=u*u,h=c*c;return t(u,c,h)},s}(Math.SQRT2,2,4);var ou=0,Pc=0,Tc=0,EA=1e3,Hd,Vc,qd=0,Oa=0,bp=0,of=typeof performance=="object"&&performance.now?performance:Date,wA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function l_(){return Oa||(wA(EM),Oa=of.now()+bp)}function EM(){Oa=0}function $d(){this._call=this._time=this._next=null}$d.prototype=bA.prototype={constructor:$d,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?l_():+n)+(e==null?0:+e),!this._next&&Vc!==this&&(Vc?Vc._next=this:Hd=this,Vc=this),this._call=t,this._time=n,rv()},stop:function(){this._call&&(this._call=null,this._time=1/0,rv())}};function bA(t,e,n){var r=new $d;return r.restart(t,e,n),r}function wM(){l_(),++ou;for(var t=Hd,e;t;)(e=Oa-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ou}function IS(){Oa=(qd=of.now())+bp,ou=Pc=0;try{wM()}finally{ou=0,SM(),Oa=0}}function bM(){var t=of.now(),e=t-qd;e>EA&&(bp-=e,qd=t)}function SM(){for(var t,e=Hd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hd=n);Vc=t,rv(r)}function rv(t){if(!ou){Pc&&(Pc=clearTimeout(Pc));var e=t-Oa;e>24?(t<1/0&&(Pc=setTimeout(IS,t-of.now()-bp)),Tc&&(Tc=clearInterval(Tc))):(Tc||(qd=of.now(),Tc=setInterval(bM,EA)),ou=1,wA(IS))}}function RS(t,e,n){var r=new $d;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var TM=Ep("start","end","cancel","interrupt"),xM=[],SA=0,NS=1,iv=2,Ad=3,kS=4,sv=5,Cd=6;function Sp(t,e,n,r,s,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;AM(t,n,{name:e,index:r,group:s,on:TM,tween:xM,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:SA})}function u_(t,e){var n=Li(t,e);if(n.state>SA)throw new Error("too late; already scheduled");return n}function cs(t,e){var n=Li(t,e);if(n.state>Ad)throw new Error("too late; already running");return n}function Li(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function AM(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=bA(a,0,n.time);function a(d){n.state=NS,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var m,y,_,E;if(n.state!==NS)return h();for(m in r)if(E=r[m],E.name===n.name){if(E.state===Ad)return RS(u);E.state===kS?(E.state=Cd,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete r[m]):+m<e&&(E.state=Cd,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete r[m])}if(RS(function(){n.state===Ad&&(n.state=kS,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=iv,n.on.call("start",t,t.__data__,n.index,n.group),n.state===iv){for(n.state=Ad,s=new Array(_=n.tween.length),m=0,y=-1;m<_;++m)(E=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(s[++y]=E);s.length=y+1}}function c(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=sv,1),y=-1,_=s.length;++y<_;)s[y].call(t,m);n.state===sv&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=Cd,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Id(t,e){var n=t.__transition,r,s,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){a=!1;continue}s=r.state>iv&&r.state<sv,r.state=Cd,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}a&&delete t.__transition}}function CM(t){return this.each(function(){Id(this,t)})}function IM(t,e){var n,r;return function(){var s=cs(this,t),a=s.tween;if(a!==n){r=n=a;for(var u=0,c=r.length;u<c;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function RM(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=cs(this,t),u=a.tween;if(u!==r){s=(r=u).slice();for(var c={name:e,value:n},h=0,d=s.length;h<d;++h)if(s[h].name===e){s[h]=c;break}h===d&&s.push(c)}a.tween=s}}function NM(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Li(this.node(),n).tween,s=0,a=r.length,u;s<a;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?IM:RM)(n,t,e))}function c_(t,e,n){var r=t._id;return t.each(function(){var s=cs(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Li(s,r).value[e]}}function TA(t,e){var n;return(typeof e=="number"?wo:e instanceof sf?xS:(n=sf(e))?(e=n,xS):fM)(t,e)}function kM(t){return function(){this.removeAttribute(t)}}function DM(t){return function(){this.removeAttributeNS(t.space,t.local)}}function OM(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttribute(t);return u===s?null:u===r?a:a=e(r=u,n)}}function MM(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?a:a=e(r=u,n)}}function PM(t,e,n){var r,s,a;return function(){var u,c=n(this),h;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),h=c+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,c)))}}function VM(t,e,n){var r,s,a;return function(){var u,c=n(this),h;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),h=c+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,c)))}}function LM(t,e){var n=wp(t),r=n==="transform"?mM:TA;return this.attrTween(t,typeof e=="function"?(n.local?VM:PM)(n,r,c_(this,"attr."+t,e)):e==null?(n.local?DM:kM)(n):(n.local?MM:OM)(n,r,e))}function zM(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function UM(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function BM(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&UM(t,a)),n}return s._value=e,s}function FM(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&zM(t,a)),n}return s._value=e,s}function jM(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=wp(t);return this.tween(n,(r.local?BM:FM)(r,e))}function HM(t,e){return function(){u_(this,t).delay=+e.apply(this,arguments)}}function qM(t,e){return e=+e,function(){u_(this,t).delay=e}}function $M(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?HM:qM)(e,t)):Li(this.node(),e).delay}function GM(t,e){return function(){cs(this,t).duration=+e.apply(this,arguments)}}function YM(t,e){return e=+e,function(){cs(this,t).duration=e}}function KM(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?GM:YM)(e,t)):Li(this.node(),e).duration}function XM(t,e){if(typeof e!="function")throw new Error;return function(){cs(this,t).ease=e}}function QM(t){var e=this._id;return arguments.length?this.each(XM(e,t)):Li(this.node(),e).ease}function WM(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;cs(this,t).ease=n}}function ZM(t){if(typeof t!="function")throw new Error;return this.each(WM(this._id,t))}function JM(t){typeof t!="function"&&(t=nA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,c=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&c.push(h);return new zs(r,this._parents,this._name,this._id)}function eP(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),u=new Array(r),c=0;c<a;++c)for(var h=e[c],d=n[c],m=h.length,y=u[c]=new Array(m),_,E=0;E<m;++E)(_=h[E]||d[E])&&(y[E]=_);for(;c<r;++c)u[c]=e[c];return new zs(u,this._parents,this._name,this._id)}function tP(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function nP(t,e,n){var r,s,a=tP(e)?u_:cs;return function(){var u=a(this,t),c=u.on;c!==r&&(s=(r=c).copy()).on(e,n),u.on=s}}function rP(t,e){var n=this._id;return arguments.length<2?Li(this.node(),n).on.on(t):this.each(nP(n,t,e))}function iP(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function sP(){return this.on("end.remove",iP(this._id))}function oP(t){var e=this._name,n=this._id;typeof t!="function"&&(t=s_(t));for(var r=this._groups,s=r.length,a=new Array(s),u=0;u<s;++u)for(var c=r[u],h=c.length,d=a[u]=new Array(h),m,y,_=0;_<h;++_)(m=c[_])&&(y=t.call(m,m.__data__,_,c))&&("__data__"in m&&(y.__data__=m.__data__),d[_]=y,Sp(d[_],e,n,_,d,Li(m,n)));return new zs(a,this._parents,e,n)}function aP(t){var e=this._name,n=this._id;typeof t!="function"&&(t=tA(t));for(var r=this._groups,s=r.length,a=[],u=[],c=0;c<s;++c)for(var h=r[c],d=h.length,m,y=0;y<d;++y)if(m=h[y]){for(var _=t.call(m,m.__data__,y,h),E,T=Li(m,n),C=0,N=_.length;C<N;++C)(E=_[C])&&Sp(E,e,n,C,_,T);a.push(_),u.push(m)}return new zs(a,u,e,n)}var lP=bf.prototype.constructor;function uP(){return new lP(this._groups,this._parents)}function cP(t,e){var n,r,s;return function(){var a=su(this,t),u=(this.style.removeProperty(t),su(this,t));return a===u?null:a===n&&u===r?s:s=e(n=a,r=u)}}function xA(t){return function(){this.style.removeProperty(t)}}function fP(t,e,n){var r,s=n+"",a;return function(){var u=su(this,t);return u===s?null:u===r?a:a=e(r=u,n)}}function hP(t,e,n){var r,s,a;return function(){var u=su(this,t),c=n(this),h=c+"";return c==null&&(h=c=(this.style.removeProperty(t),su(this,t))),u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,c))}}function dP(t,e){var n,r,s,a="style."+e,u="end."+a,c;return function(){var h=cs(this,t),d=h.on,m=h.value[a]==null?c||(c=xA(e)):void 0;(d!==n||s!==m)&&(r=(n=d).copy()).on(u,s=m),h.on=r}}function pP(t,e,n){var r=(t+="")=="transform"?pM:TA;return e==null?this.styleTween(t,cP(t,r)).on("end.style."+t,xA(t)):typeof e=="function"?this.styleTween(t,hP(t,r,c_(this,"style."+t,e))).each(dP(this._id,t)):this.styleTween(t,fP(t,r,e),n).on("end.style."+t,null)}function mP(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function gP(t,e,n){var r,s;function a(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&mP(t,u,n)),r}return a._value=e,a}function yP(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,gP(t,e,n??""))}function vP(t){return function(){this.textContent=t}}function _P(t){return function(){var e=t(this);this.textContent=e??""}}function EP(t){return this.tween("text",typeof t=="function"?_P(c_(this,"text",t)):vP(t==null?"":t+""))}function wP(t){return function(e){this.textContent=t.call(this,e)}}function bP(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&wP(s)),e}return r._value=t,r}function SP(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bP(t))}function TP(){for(var t=this._name,e=this._id,n=AA(),r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],c=u.length,h,d=0;d<c;++d)if(h=u[d]){var m=Li(h,e);Sp(h,t,n,d,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new zs(r,this._parents,t,n)}function xP(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,u){var c={value:u},h={value:function(){--s===0&&a()}};n.each(function(){var d=cs(this,r),m=d.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(h)),d.on=e}),s===0&&a()})}var AP=0;function zs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function AA(){return++AP}var Ds=bf.prototype;zs.prototype={constructor:zs,select:oP,selectAll:aP,selectChild:Ds.selectChild,selectChildren:Ds.selectChildren,filter:JM,merge:eP,selection:uP,transition:TP,call:Ds.call,nodes:Ds.nodes,node:Ds.node,size:Ds.size,empty:Ds.empty,each:Ds.each,on:rP,attr:LM,attrTween:jM,style:pP,styleTween:yP,text:EP,textTween:SP,remove:sP,tween:NM,delay:$M,duration:KM,ease:QM,easeVarying:ZM,end:xP,[Symbol.iterator]:Ds[Symbol.iterator]};function CP(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var IP={time:null,delay:0,duration:250,ease:CP};function RP(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function NP(t){var e,n;t instanceof zs?(e=t._id,t=t._name):(e=AA(),(n=IP).time=l_(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],c=u.length,h,d=0;d<c;++d)(h=u[d])&&Sp(h,t,e,d,u,n||RP(h,e));return new zs(r,this._parents,t,e)}bf.prototype.interrupt=CM;bf.prototype.transition=NP;const od=t=>()=>t;function kP(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Os(t,e,n){this.k=t,this.x=e,this.y=n}Os.prototype={constructor:Os,scale:function(t){return t===1?this:new Os(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Os(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ko=new Os(1,0,0);Os.prototype;function sy(t){t.stopImmediatePropagation()}function xc(t){t.preventDefault(),t.stopImmediatePropagation()}function DP(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function OP(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function DS(){return this.__zoom||ko}function MP(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function PP(){return navigator.maxTouchPoints||"ontouchstart"in this}function VP(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function LP(){var t=DP,e=OP,n=VP,r=MP,s=PP,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=_M,d=Ep("start","zoom","end"),m,y,_,E=500,T=150,C=0,N=10;function k(O){O.property("__zoom",DS).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",P).filter(s).on("touchstart.zoom",U).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(O,G,z,Y){var Z=O.selection?O.selection():O;Z.property("__zoom",DS),O!==Z?K(O,G,z,Y):Z.interrupt().each(function(){$(this,arguments).event(Y).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},k.scaleBy=function(O,G,z,Y){k.scaleTo(O,function(){var Z=this.__zoom.k,J=typeof G=="function"?G.apply(this,arguments):G;return Z*J},z,Y)},k.scaleTo=function(O,G,z,Y){k.transform(O,function(){var Z=e.apply(this,arguments),J=this.__zoom,b=z==null?F(Z):typeof z=="function"?z.apply(this,arguments):z,Q=J.invert(b),re=typeof G=="function"?G.apply(this,arguments):G;return n(q(j(J,re),b,Q),Z,u)},z,Y)},k.translateBy=function(O,G,z,Y){k.transform(O,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof z=="function"?z.apply(this,arguments):z),e.apply(this,arguments),u)},null,Y)},k.translateTo=function(O,G,z,Y,Z){k.transform(O,function(){var J=e.apply(this,arguments),b=this.__zoom,Q=Y==null?F(J):typeof Y=="function"?Y.apply(this,arguments):Y;return n(ko.translate(Q[0],Q[1]).scale(b.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof z=="function"?-z.apply(this,arguments):-z),J,u)},Y,Z)};function j(O,G){return G=Math.max(a[0],Math.min(a[1],G)),G===O.k?O:new Os(G,O.x,O.y)}function q(O,G,z){var Y=G[0]-z[0]*O.k,Z=G[1]-z[1]*O.k;return Y===O.x&&Z===O.y?O:new Os(O.k,Y,Z)}function F(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function K(O,G,z,Y){O.on("start.zoom",function(){$(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(Y).end()}).tween("zoom",function(){var Z=this,J=arguments,b=$(Z,J).event(Y),Q=e.apply(Z,J),re=z==null?F(Q):typeof z=="function"?z.apply(Z,J):z,M=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),ce=Z.__zoom,be=typeof G=="function"?G.apply(Z,J):G,we=h(ce.invert(re).concat(M/ce.k),be.invert(re).concat(M/be.k));return function(De){if(De===1)De=be;else{var ye=we(De),xe=M/ye[2];De=new Os(xe,re[0]-ye[0]*xe,re[1]-ye[1]*xe)}b.zoom(null,De)}})}function $(O,G,z){return!z&&O.__zooming||new R(O,G)}function R(O,G){this.that=O,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(O,G),this.taps=0}R.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,G){return this.mouse&&O!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var G=ki(this.that).datum();d.call(O,this.that,new kP(O,{sourceEvent:this.sourceEvent,target:k,transform:this.that.__zoom,dispatch:d}),G)}};function I(O,...G){if(!t.apply(this,arguments))return;var z=$(this,G).event(O),Y=this.__zoom,Z=Math.max(a[0],Math.min(a[1],Y.k*Math.pow(2,r.apply(this,arguments)))),J=es(O);if(z.wheel)(z.mouse[0][0]!==J[0]||z.mouse[0][1]!==J[1])&&(z.mouse[1]=Y.invert(z.mouse[0]=J)),clearTimeout(z.wheel);else{if(Y.k===Z)return;z.mouse=[J,Y.invert(J)],Id(this),z.start()}xc(O),z.wheel=setTimeout(b,T),z.zoom("mouse",n(q(j(Y,Z),z.mouse[0],z.mouse[1]),z.extent,u));function b(){z.wheel=null,z.end()}}function D(O,...G){if(_||!t.apply(this,arguments))return;var z=O.currentTarget,Y=$(this,G,!0).event(O),Z=ki(O.view).on("mousemove.zoom",re,!0).on("mouseup.zoom",M,!0),J=es(O,z),b=O.clientX,Q=O.clientY;hA(O.view),sy(O),Y.mouse=[J,this.__zoom.invert(J)],Id(this),Y.start();function re(ce){if(xc(ce),!Y.moved){var be=ce.clientX-b,we=ce.clientY-Q;Y.moved=be*be+we*we>C}Y.event(ce).zoom("mouse",n(q(Y.that.__zoom,Y.mouse[0]=es(ce,z),Y.mouse[1]),Y.extent,u))}function M(ce){Z.on("mousemove.zoom mouseup.zoom",null),dA(ce.view,Y.moved),xc(ce),Y.event(ce).end()}}function P(O,...G){if(t.apply(this,arguments)){var z=this.__zoom,Y=es(O.changedTouches?O.changedTouches[0]:O,this),Z=z.invert(Y),J=z.k*(O.shiftKey?.5:2),b=n(q(j(z,J),Y,Z),e.apply(this,G),u);xc(O),c>0?ki(this).transition().duration(c).call(K,b,Y,O):ki(this).call(k.transform,b,Y,O)}}function U(O,...G){if(t.apply(this,arguments)){var z=O.touches,Y=z.length,Z=$(this,G,O.changedTouches.length===Y).event(O),J,b,Q,re;for(sy(O),b=0;b<Y;++b)Q=z[b],re=es(Q,this),re=[re,this.__zoom.invert(re),Q.identifier],Z.touch0?!Z.touch1&&Z.touch0[2]!==re[2]&&(Z.touch1=re,Z.taps=0):(Z.touch0=re,J=!0,Z.taps=1+!!m);m&&(m=clearTimeout(m)),J&&(Z.taps<2&&(y=re[0],m=setTimeout(function(){m=null},E)),Id(this),Z.start())}}function L(O,...G){if(this.__zooming){var z=$(this,G).event(O),Y=O.changedTouches,Z=Y.length,J,b,Q,re;for(xc(O),J=0;J<Z;++J)b=Y[J],Q=es(b,this),z.touch0&&z.touch0[2]===b.identifier?z.touch0[0]=Q:z.touch1&&z.touch1[2]===b.identifier&&(z.touch1[0]=Q);if(b=z.that.__zoom,z.touch1){var M=z.touch0[0],ce=z.touch0[1],be=z.touch1[0],we=z.touch1[1],De=(De=be[0]-M[0])*De+(De=be[1]-M[1])*De,ye=(ye=we[0]-ce[0])*ye+(ye=we[1]-ce[1])*ye;b=j(b,Math.sqrt(De/ye)),Q=[(M[0]+be[0])/2,(M[1]+be[1])/2],re=[(ce[0]+we[0])/2,(ce[1]+we[1])/2]}else if(z.touch0)Q=z.touch0[0],re=z.touch0[1];else return;z.zoom("touch",n(q(b,Q,re),z.extent,u))}}function A(O,...G){if(this.__zooming){var z=$(this,G).event(O),Y=O.changedTouches,Z=Y.length,J,b;for(sy(O),_&&clearTimeout(_),_=setTimeout(function(){_=null},E),J=0;J<Z;++J)b=Y[J],z.touch0&&z.touch0[2]===b.identifier?delete z.touch0:z.touch1&&z.touch1[2]===b.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(b=es(b,this),Math.hypot(y[0]-b[0],y[1]-b[1])<N)){var Q=ki(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return k.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:od(+O),k):r},k.filter=function(O){return arguments.length?(t=typeof O=="function"?O:od(!!O),k):t},k.touchable=function(O){return arguments.length?(s=typeof O=="function"?O:od(!!O),k):s},k.extent=function(O){return arguments.length?(e=typeof O=="function"?O:od([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),k):e},k.scaleExtent=function(O){return arguments.length?(a[0]=+O[0],a[1]=+O[1],k):[a[0],a[1]]},k.translateExtent=function(O){return arguments.length?(u[0][0]=+O[0][0],u[1][0]=+O[1][0],u[0][1]=+O[0][1],u[1][1]=+O[1][1],k):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},k.constrain=function(O){return arguments.length?(n=O,k):n},k.duration=function(O){return arguments.length?(c=+O,k):c},k.interpolate=function(O){return arguments.length?(h=O,k):h},k.on=function(){var O=d.on.apply(d,arguments);return O===d?k:O},k.clickDistance=function(O){return arguments.length?(C=(O=+O)*O,k):Math.sqrt(C)},k.tapDistance=function(O){return arguments.length?(N=+O,k):N},k}var zP=Zx();const $l=Fa(zP),Tp=V.createContext(null),UP=Tp.Provider,Us={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},CA=Us.error001();function on(t,e){const n=V.useContext(Tp);if(n===null)throw new Error(CA);return Jx(n,t,e)}const Gn=()=>{const t=V.useContext(Tp);if(t===null)throw new Error(CA);return V.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},BP=t=>t.userSelectionActive?"none":"all";function IA({position:t,children:e,className:n,style:r,...s}){const a=on(BP),u=`${t}`.split("-");return de.createElement("div",{className:Ar(["react-flow__panel",n,...u]),style:{...r,pointerEvents:a},...s},e)}function FP({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:de.createElement(IA,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},de.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const jP=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:c=2,children:h,className:d,...m})=>{const y=V.useRef(null),[_,E]=V.useState({x:0,y:0,width:0,height:0}),T=Ar(["react-flow__edge-textwrapper",d]);return V.useEffect(()=>{if(y.current){const C=y.current.getBBox();E({x:C.x,y:C.y,width:C.width,height:C.height})}},[n]),typeof n>"u"||!n?null:de.createElement("g",{transform:`translate(${t-_.width/2} ${e-_.height/2})`,className:T,visibility:_.width?"visible":"hidden",...m},s&&de.createElement("rect",{width:_.width+2*u[0],x:-u[0],y:-u[1],height:_.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:c,ry:c}),de.createElement("text",{className:"react-flow__edge-text",y:_.height/2,dy:"0.3em",ref:y,style:r},n),h)};var HP=V.memo(jP);const f_=t=>({width:t.offsetWidth,height:t.offsetHeight}),au=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),h_=(t={x:0,y:0},e)=>({x:au(t.x,e[0][0],e[1][0]),y:au(t.y,e[0][1],e[1][1])}),OS=(t,e,n)=>t<e?au(Math.abs(t-e),1,50)/50:t>n?-au(Math.abs(t-n),1,50)/50:0,RA=(t,e)=>{const n=OS(t.x,35,e.width-35)*20,r=OS(t.y,35,e.height-35)*20;return[n,r]},NA=t=>t.getRootNode?.()||window?.document,qP=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),d_=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),$P=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),MS=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),ov=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},GP=t=>wi(t.width)&&wi(t.height)&&wi(t.x)&&wi(t.y),wi=t=>!isNaN(t)&&isFinite(t),hn=Symbol.for("internals"),kA=["Enter"," ","Escape"],YP=(t,e)=>{},KP=t=>"nativeEvent"in t;function av(t){const n=(KP(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const DA=t=>"clientX"in t,Do=(t,e)=>{const n=DA(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},Gd=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Tf=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:y,markerStart:_,interactionWidth:E=20})=>de.createElement(de.Fragment,null,de.createElement("path",{id:t,style:m,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:_}),E&&de.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),s&&wi(n)&&wi(r)?de.createElement(HP,{x:n,y:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d}):null);Tf.displayName="BaseEdge";function Ac(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(a=>a.id===t);s&&n(r,{...s})}}function OA({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,u=Math.abs(r-e)/2,c=r<e?r+u:r-u;return[a,c,s,u]}function MA({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:c}){const h=t*.125+s*.375+u*.375+n*.125,d=e*.125+a*.375+c*.375+r*.125,m=Math.abs(h-t),y=Math.abs(d-e);return[h,d,m,y]}var Uo;(function(t){t.Strict="strict",t.Loose="loose"})(Uo||(Uo={}));var Ra;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Ra||(Ra={}));var af;(function(t){t.Partial="partial",t.Full="full"})(af||(af={}));var To;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(To||(To={}));var lf;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(lf||(lf={}));var Ve;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ve||(Ve={}));function PS({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===Ve.Left||t===Ve.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function PA({sourceX:t,sourceY:e,sourcePosition:n=Ve.Bottom,targetX:r,targetY:s,targetPosition:a=Ve.Top}){const[u,c]=PS({pos:n,x1:t,y1:e,x2:r,y2:s}),[h,d]=PS({pos:a,x1:r,y1:s,x2:t,y2:e}),[m,y,_,E]=MA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:c,targetControlX:h,targetControlY:d});return[`M${t},${e} C${u},${c} ${h},${d} ${r},${s}`,m,y,_,E]}const p_=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ve.Bottom,targetPosition:a=Ve.Top,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:y,style:_,markerEnd:E,markerStart:T,interactionWidth:C})=>{const[N,k,j]=PA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return de.createElement(Tf,{path:N,labelX:k,labelY:j,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:y,style:_,markerEnd:E,markerStart:T,interactionWidth:C})});p_.displayName="SimpleBezierEdge";const VS={[Ve.Left]:{x:-1,y:0},[Ve.Right]:{x:1,y:0},[Ve.Top]:{x:0,y:-1},[Ve.Bottom]:{x:0,y:1}},XP=({source:t,sourcePosition:e=Ve.Bottom,target:n})=>e===Ve.Left||e===Ve.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},LS=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function QP({source:t,sourcePosition:e=Ve.Bottom,target:n,targetPosition:r=Ve.Top,center:s,offset:a}){const u=VS[e],c=VS[r],h={x:t.x+u.x*a,y:t.y+u.y*a},d={x:n.x+c.x*a,y:n.y+c.y*a},m=XP({source:h,sourcePosition:e,target:d}),y=m.x!==0?"x":"y",_=m[y];let E=[],T,C;const N={x:0,y:0},k={x:0,y:0},[j,q,F,K]=OA({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[y]*c[y]===-1){T=s.x??j,C=s.y??q;const R=[{x:T,y:h.y},{x:T,y:d.y}],I=[{x:h.x,y:C},{x:d.x,y:C}];u[y]===_?E=y==="x"?R:I:E=y==="x"?I:R}else{const R=[{x:h.x,y:d.y}],I=[{x:d.x,y:h.y}];if(y==="x"?E=u.x===_?I:R:E=u.y===_?R:I,e===r){const A=Math.abs(t[y]-n[y]);if(A<=a){const O=Math.min(a-1,a-A);u[y]===_?N[y]=(h[y]>t[y]?-1:1)*O:k[y]=(d[y]>n[y]?-1:1)*O}}if(e!==r){const A=y==="x"?"y":"x",O=u[y]===c[A],G=h[A]>d[A],z=h[A]<d[A];(u[y]===1&&(!O&&G||O&&z)||u[y]!==1&&(!O&&z||O&&G))&&(E=y==="x"?R:I)}const D={x:h.x+N.x,y:h.y+N.y},P={x:d.x+k.x,y:d.y+k.y},U=Math.max(Math.abs(D.x-E[0].x),Math.abs(P.x-E[0].x)),L=Math.max(Math.abs(D.y-E[0].y),Math.abs(P.y-E[0].y));U>=L?(T=(D.x+P.x)/2,C=E[0].y):(T=E[0].x,C=(D.y+P.y)/2)}return[[t,{x:h.x+N.x,y:h.y+N.y},...E,{x:d.x+k.x,y:d.y+k.y},n],T,C,F,K]}function WP(t,e,n,r){const s=Math.min(LS(t,e)/2,LS(e,n)/2,r),{x:a,y:u}=e;if(t.x===a&&a===n.x||t.y===u&&u===n.y)return`L${a} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${a+s*d},${u}Q ${a},${u} ${a},${u+s*m}`}const c=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${a},${u+s*h}Q ${a},${u} ${a+s*c},${u}`}function lv({sourceX:t,sourceY:e,sourcePosition:n=Ve.Bottom,targetX:r,targetY:s,targetPosition:a=Ve.Top,borderRadius:u=5,centerX:c,centerY:h,offset:d=20}){const[m,y,_,E,T]=QP({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:c,y:h},offset:d});return[m.reduce((N,k,j)=>{let q="";return j>0&&j<m.length-1?q=WP(m[j-1],k,m[j+1],u):q=`${j===0?"M":"L"}${k.x} ${k.y}`,N+=q,N},""),y,_,E,T]}const xp=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:m,sourcePosition:y=Ve.Bottom,targetPosition:_=Ve.Top,markerEnd:E,markerStart:T,pathOptions:C,interactionWidth:N})=>{const[k,j,q]=lv({sourceX:t,sourceY:e,sourcePosition:y,targetX:n,targetY:r,targetPosition:_,borderRadius:C?.borderRadius,offset:C?.offset});return de.createElement(Tf,{path:k,labelX:j,labelY:q,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:T,interactionWidth:N})});xp.displayName="SmoothStepEdge";const m_=V.memo(t=>de.createElement(xp,{...t,pathOptions:V.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));m_.displayName="StepEdge";function ZP({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,a,u,c]=OA({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,a,u,c]}const g_=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:y,markerStart:_,interactionWidth:E})=>{const[T,C,N]=ZP({sourceX:t,sourceY:e,targetX:n,targetY:r});return de.createElement(Tf,{path:T,labelX:C,labelY:N,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:y,markerStart:_,interactionWidth:E})});g_.displayName="StraightEdge";function ad(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function zS({pos:t,x1:e,y1:n,x2:r,y2:s,c:a}){switch(t){case Ve.Left:return[e-ad(e-r,a),n];case Ve.Right:return[e+ad(r-e,a),n];case Ve.Top:return[e,n-ad(n-s,a)];case Ve.Bottom:return[e,n+ad(s-n,a)]}}function VA({sourceX:t,sourceY:e,sourcePosition:n=Ve.Bottom,targetX:r,targetY:s,targetPosition:a=Ve.Top,curvature:u=.25}){const[c,h]=zS({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[d,m]=zS({pos:a,x1:r,y1:s,x2:t,y2:e,c:u}),[y,_,E,T]=MA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:c,sourceControlY:h,targetControlX:d,targetControlY:m});return[`M${t},${e} C${c},${h} ${d},${m} ${r},${s}`,y,_,E,T]}const Yd=V.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ve.Bottom,targetPosition:a=Ve.Top,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:y,style:_,markerEnd:E,markerStart:T,pathOptions:C,interactionWidth:N})=>{const[k,j,q]=VA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:C?.curvature});return de.createElement(Tf,{path:k,labelX:j,labelY:q,label:u,labelStyle:c,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:y,style:_,markerEnd:E,markerStart:T,interactionWidth:N})});Yd.displayName="BezierEdge";const y_=V.createContext(null),JP=y_.Provider;y_.Consumer;const eV=()=>V.useContext(y_),tV=t=>"id"in t&&"source"in t&&"target"in t,nV=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,uv=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,rV=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),iV=(t,e)=>{if(!t.source||!t.target)return e;let n;return tV(t)?n={...t}:n={...t,id:nV(t)},rV(n,e)?e:e.concat(n)},cv=({x:t,y:e},[n,r,s],a,[u,c])=>{const h={x:(t-n)/s,y:(e-r)/s};return a?{x:u*Math.round(h.x/u),y:c*Math.round(h.y/c)}:h},LA=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),Ql=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},v_=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:a,y:u}=Ql(s,e).positionAbsolute;return qP(r,d_({x:a,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $P(n)},zA=(t,e,[n,r,s]=[0,0,1],a=!1,u=!1,c=[0,0])=>{const h={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(m=>{const{width:y,height:_,selectable:E=!0,hidden:T=!1}=m;if(u&&!E||T)return!1;const{positionAbsolute:C}=Ql(m,c),N={x:C.x,y:C.y,width:y||0,height:_||0},k=ov(h,N),j=typeof y>"u"||typeof _>"u"||y===null||_===null,q=a&&k>0,F=(y||0)*(_||0);(j||q||k>=F||m.dragging)&&d.push(m)}),d},UA=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},BA=(t,e,n,r,s,a=.1)=>{const u=e/(t.width*(1+a)),c=n/(t.height*(1+a)),h=Math.min(u,c),d=au(h,r,s),m=t.x+t.width/2,y=t.y+t.height/2,_=e/2-m*d,E=n/2-y*d;return{x:_,y:E,zoom:d}},Sa=(t,e=0)=>t.transition().duration(e);function US(t,e,n,r){return(e[n]||[]).reduce((s,a)=>(`${t.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+a.x+a.width/2,y:(t.positionAbsolute?.y??0)+a.y+a.height/2}),s),[])}function sV(t,e,n,r,s,a){const{x:u,y:c}=Do(t),d=e.elementsFromPoint(u,c).find(T=>T.classList.contains("react-flow__handle"));if(d){const T=d.getAttribute("data-nodeid");if(T){const C=__(void 0,d),N=d.getAttribute("data-handleid"),k=a({nodeId:T,id:N,type:C});if(k){const j=s.find(q=>q.nodeId===T&&q.type===C&&q.id===N);return{handle:{id:N,type:C,nodeId:T,x:j?.x||n.x,y:j?.y||n.y},validHandleResult:k}}}}let m=[],y=1/0;if(s.forEach(T=>{const C=Math.sqrt((T.x-n.x)**2+(T.y-n.y)**2);if(C<=r){const N=a(T);C<=y&&(C<y?m=[{handle:T,validHandleResult:N}]:C===y&&m.push({handle:T,validHandleResult:N}),y=C)}}),!m.length)return{handle:null,validHandleResult:FA()};if(m.length===1)return m[0];const _=m.some(({validHandleResult:T})=>T.isValid),E=m.some(({handle:T})=>T.type==="target");return m.find(({handle:T,validHandleResult:C})=>E?T.type==="target":_?C.isValid:!0)||m[0]}const oV={source:null,target:null,sourceHandle:null,targetHandle:null},FA=()=>({handleDomNode:null,isValid:!1,connection:oV,endHandle:null});function jA(t,e,n,r,s,a,u){const c=s==="target",h=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),d={...FA(),handleDomNode:h};if(h){const m=__(void 0,h),y=h.getAttribute("data-nodeid"),_=h.getAttribute("data-handleid"),E=h.classList.contains("connectable"),T=h.classList.contains("connectableend"),C={source:c?y:n,sourceHandle:c?_:r,target:c?n:y,targetHandle:c?r:_};d.connection=C,E&&T&&(e===Uo.Strict?c&&m==="source"||!c&&m==="target":y!==n||_!==r)&&(d.endHandle={nodeId:y,handleId:_,type:m},d.isValid=a(C))}return d}function aV({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,a)=>{if(a[hn]){const{handleBounds:u}=a[hn];let c=[],h=[];u&&(c=US(a,u,"source",`${e}-${n}-${r}`),h=US(a,u,"target",`${e}-${n}-${r}`)),s.push(...c,...h)}return s},[])}function __(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function oy(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function lV(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function HA({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:u,isValidConnection:c,edgeUpdaterType:h,onReconnectEnd:d}){const m=NA(t.target),{connectionMode:y,domNode:_,autoPanOnConnect:E,connectionRadius:T,onConnectStart:C,panBy:N,getNodes:k,cancelConnection:j}=a();let q=0,F;const{x:K,y:$}=Do(t),R=m?.elementFromPoint(K,$),I=__(h,R),D=_?.getBoundingClientRect();if(!D||!I)return;let P,U=Do(t,D),L=!1,A=null,O=!1,G=null;const z=aV({nodes:k(),nodeId:n,handleId:e,handleType:I}),Y=()=>{if(!E)return;const[b,Q]=RA(U,D);N({x:b,y:Q}),q=requestAnimationFrame(Y)};u({connectionPosition:U,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:I,connectionStartHandle:{nodeId:n,handleId:e,type:I},connectionEndHandle:null}),C?.(t,{nodeId:n,handleId:e,handleType:I});function Z(b){const{transform:Q}=a();U=Do(b,D);const{handle:re,validHandleResult:M}=sV(b,m,cv(U,Q,!1,[1,1]),T,z,ce=>jA(ce,y,n,e,s?"target":"source",c,m));if(F=re,L||(Y(),L=!0),G=M.handleDomNode,A=M.connection,O=M.isValid,u({connectionPosition:F&&O?LA({x:F.x,y:F.y},Q):U,connectionStatus:lV(!!F,O),connectionEndHandle:M.endHandle}),!F&&!O&&!G)return oy(P);A.source!==A.target&&G&&(oy(P),P=G,G.classList.add("connecting","react-flow__handle-connecting"),G.classList.toggle("valid",O),G.classList.toggle("react-flow__handle-valid",O))}function J(b){(F||G)&&A&&O&&r?.(A),a().onConnectEnd?.(b),h&&d?.(b),oy(P),j(),cancelAnimationFrame(q),L=!1,O=!1,A=null,G=null,m.removeEventListener("mousemove",Z),m.removeEventListener("mouseup",J),m.removeEventListener("touchmove",Z),m.removeEventListener("touchend",J)}m.addEventListener("mousemove",Z),m.addEventListener("mouseup",J),m.addEventListener("touchmove",Z),m.addEventListener("touchend",J)}const BS=()=>!0,uV=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),cV=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||a?.nodeId===t&&a?.handleId===e&&a?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},qA=V.forwardRef(({type:t="source",position:e=Ve.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:u,onConnect:c,children:h,className:d,onMouseDown:m,onTouchStart:y,..._},E)=>{const T=u||null,C=t==="target",N=Gn(),k=eV(),{connectOnClick:j,noPanClassName:q}=on(uV,fr),{connecting:F,clickConnecting:K}=on(cV(k,T,t),fr);k||N.getState().onError?.("010",Us.error010());const $=D=>{const{defaultEdgeOptions:P,onConnect:U,hasDefaultEdges:L}=N.getState(),A={...P,...D};if(L){const{edges:O,setEdges:G}=N.getState();G(iV(A,O))}U?.(A),c?.(A)},R=D=>{if(!k)return;const P=DA(D);s&&(P&&D.button===0||!P)&&HA({event:D,handleId:T,nodeId:k,onConnect:$,isTarget:C,getState:N.getState,setState:N.setState,isValidConnection:n||N.getState().isValidConnection||BS}),P?m?.(D):y?.(D)},I=D=>{const{onClickConnectStart:P,onClickConnectEnd:U,connectionClickStartHandle:L,connectionMode:A,isValidConnection:O}=N.getState();if(!k||!L&&!s)return;if(!L){P?.(D,{nodeId:k,handleId:T,handleType:t}),N.setState({connectionClickStartHandle:{nodeId:k,type:t,handleId:T}});return}const G=NA(D.target),z=n||O||BS,{connection:Y,isValid:Z}=jA({nodeId:k,id:T,type:t},A,L.nodeId,L.handleId||null,L.type,z,G);Z&&$(Y),U?.(D),N.setState({connectionClickStartHandle:null})};return de.createElement("div",{"data-handleid":T,"data-nodeid":k,"data-handlepos":e,"data-id":`${k}-${T}-${t}`,className:Ar(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",q,d,{source:!C,target:C,connectable:r,connectablestart:s,connectableend:a,connecting:K,connectionindicator:r&&(s&&!F||a&&F)}]),onMouseDown:R,onTouchStart:R,onClick:j?I:void 0,ref:E,..._},h)});qA.displayName="Handle";var Bo=V.memo(qA);const $A=({data:t,isConnectable:e,targetPosition:n=Ve.Top,sourcePosition:r=Ve.Bottom})=>de.createElement(de.Fragment,null,de.createElement(Bo,{type:"target",position:n,isConnectable:e}),t?.label,de.createElement(Bo,{type:"source",position:r,isConnectable:e}));$A.displayName="DefaultNode";var fv=V.memo($A);const GA=({data:t,isConnectable:e,sourcePosition:n=Ve.Bottom})=>de.createElement(de.Fragment,null,t?.label,de.createElement(Bo,{type:"source",position:n,isConnectable:e}));GA.displayName="InputNode";var YA=V.memo(GA);const KA=({data:t,isConnectable:e,targetPosition:n=Ve.Top})=>de.createElement(de.Fragment,null,de.createElement(Bo,{type:"target",position:n,isConnectable:e}),t?.label);KA.displayName="OutputNode";var XA=V.memo(KA);const E_=()=>null;E_.displayName="GroupNode";const fV=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),ld=t=>t.id;function hV(t,e){return fr(t.selectedNodes.map(ld),e.selectedNodes.map(ld))&&fr(t.selectedEdges.map(ld),e.selectedEdges.map(ld))}const QA=V.memo(({onSelectionChange:t})=>{const e=Gn(),{selectedNodes:n,selectedEdges:r}=on(fV,hV);return V.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,r,t]),null});QA.displayName="SelectionListener";const dV=t=>!!t.onSelectionChange;function pV({onSelectionChange:t}){const e=on(dV);return t||e?de.createElement(QA,{onSelectionChange:t}):null}const mV=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Rl(t,e){V.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function it(t,e,n){V.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const gV=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:u,onClickConnectStart:c,onClickConnectEnd:h,nodesDraggable:d,nodesConnectable:m,nodesFocusable:y,edgesFocusable:_,edgesUpdatable:E,elevateNodesOnSelect:T,minZoom:C,maxZoom:N,nodeExtent:k,onNodesChange:j,onEdgesChange:q,elementsSelectable:F,connectionMode:K,snapGrid:$,snapToGrid:R,translateExtent:I,connectOnClick:D,defaultEdgeOptions:P,fitView:U,fitViewOptions:L,onNodesDelete:A,onEdgesDelete:O,onNodeDrag:G,onNodeDragStart:z,onNodeDragStop:Y,onSelectionDrag:Z,onSelectionDragStart:J,onSelectionDragStop:b,noPanClassName:Q,nodeOrigin:re,rfId:M,autoPanOnConnect:ce,autoPanOnNodeDrag:be,onError:we,connectionRadius:De,isValidConnection:ye,nodeDragThreshold:xe})=>{const{setNodes:Ce,setEdges:Fe,setDefaultNodesAndEdges:_t,setMinZoom:Et,setMaxZoom:wt,setTranslateExtent:ze,setNodeExtent:Wt,reset:Ue}=on(mV,fr),Me=Gn();return V.useEffect(()=>{const $t=r?.map(dn=>({...dn,...P}));return _t(n,$t),()=>{Ue()}},[]),it("defaultEdgeOptions",P,Me.setState),it("connectionMode",K,Me.setState),it("onConnect",s,Me.setState),it("onConnectStart",a,Me.setState),it("onConnectEnd",u,Me.setState),it("onClickConnectStart",c,Me.setState),it("onClickConnectEnd",h,Me.setState),it("nodesDraggable",d,Me.setState),it("nodesConnectable",m,Me.setState),it("nodesFocusable",y,Me.setState),it("edgesFocusable",_,Me.setState),it("edgesUpdatable",E,Me.setState),it("elementsSelectable",F,Me.setState),it("elevateNodesOnSelect",T,Me.setState),it("snapToGrid",R,Me.setState),it("snapGrid",$,Me.setState),it("onNodesChange",j,Me.setState),it("onEdgesChange",q,Me.setState),it("connectOnClick",D,Me.setState),it("fitViewOnInit",U,Me.setState),it("fitViewOnInitOptions",L,Me.setState),it("onNodesDelete",A,Me.setState),it("onEdgesDelete",O,Me.setState),it("onNodeDrag",G,Me.setState),it("onNodeDragStart",z,Me.setState),it("onNodeDragStop",Y,Me.setState),it("onSelectionDrag",Z,Me.setState),it("onSelectionDragStart",J,Me.setState),it("onSelectionDragStop",b,Me.setState),it("noPanClassName",Q,Me.setState),it("nodeOrigin",re,Me.setState),it("rfId",M,Me.setState),it("autoPanOnConnect",ce,Me.setState),it("autoPanOnNodeDrag",be,Me.setState),it("onError",we,Me.setState),it("connectionRadius",De,Me.setState),it("isValidConnection",ye,Me.setState),it("nodeDragThreshold",xe,Me.setState),Rl(t,Ce),Rl(e,Fe),Rl(C,Et),Rl(N,wt),Rl(I,ze),Rl(k,Wt),null},FS={display:"none"},yV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},WA="react-flow__node-desc",ZA="react-flow__edge-desc",vV="react-flow__aria-live",_V=t=>t.ariaLiveMessage;function EV({rfId:t}){const e=on(_V);return de.createElement("div",{id:`${vV}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:yV},e)}function wV({rfId:t,disableKeyboardA11y:e}){return de.createElement(de.Fragment,null,de.createElement("div",{id:`${WA}-${t}`,style:FS},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),de.createElement("div",{id:`${ZA}-${t}`,style:FS},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&de.createElement(EV,{rfId:t}))}var uf=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=V.useState(!1),s=V.useRef(!1),a=V.useRef(new Set([])),[u,c]=V.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.split("+")),m=d.reduce((y,_)=>y.concat(..._),[]);return[d,m]}return[[],[]]},[t]);return V.useEffect(()=>{const h=typeof document<"u"?document:null,d=e?.target||h;if(t!==null){const m=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&av(E))return!1;const C=HS(E.code,c);a.current.add(E[C]),jS(u,a.current,!1)&&(E.preventDefault(),r(!0))},y=E=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&av(E))return!1;const C=HS(E.code,c);jS(u,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(E[C]),E.key==="Meta"&&a.current.clear(),s.current=!1},_=()=>{a.current.clear(),r(!1)};return d?.addEventListener("keydown",m),d?.addEventListener("keyup",y),window.addEventListener("blur",_),()=>{d?.removeEventListener("keydown",m),d?.removeEventListener("keyup",y),window.removeEventListener("blur",_)}}},[t,r]),n};function jS(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function HS(t,e){return e.includes(t)?"code":"key"}function JA(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),u=Ql(a,r);return JA(a,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(a[hn]?.z??0)>(n.z??0)?a[hn]?.z??0:n.z??0},r)}function eC(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:a,y:u,z:c}=JA(r,t,{...r.position,z:r[hn]?.z??0},e);r.positionAbsolute={x:a,y:u},r[hn].z=c,n?.[r.id]&&(r[hn].isParent=!0)}})}function ay(t,e,n,r){const s=new Map,a={},u=r?1e3:0;return t.forEach(c=>{const h=(wi(c.zIndex)?c.zIndex:0)+(c.selected?u:0),d=e.get(c.id),m={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},y=c.parentNode||c.parentId;y&&(a[y]=!0);const _=d?.type&&d?.type!==c.type;Object.defineProperty(m,hn,{enumerable:!1,value:{handleBounds:_?void 0:d?.[hn]?.handleBounds,z:h}}),s.set(c.id,m)}),eC(s,n,a),s}function tC(t,e={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:u,d3Zoom:c,d3Selection:h,fitViewOnInitDone:d,fitViewOnInit:m,nodeOrigin:y}=t(),_=e.initial&&!d&&m;if(c&&h&&(_||!e.initial)){const T=n().filter(N=>{const k=e.includeHiddenNodes?N.width&&N.height:!N.hidden;return e.nodes?.length?k&&e.nodes.some(j=>j.id===N.id):k}),C=T.every(N=>N.width&&N.height);if(T.length>0&&C){const N=v_(T,y),{x:k,y:j,zoom:q}=BA(N,r,s,e.minZoom??a,e.maxZoom??u,e.padding??.1),F=ko.translate(k,j).scale(q);return typeof e.duration=="number"&&e.duration>0?c.transform(Sa(h,e.duration),F):c.transform(h,F),!0}}return!1}function bV(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[hn]:r[hn],selected:n.selected})}),new Map(e)}function SV(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function ud({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:u,onEdgesChange:c,hasDefaultNodes:h,hasDefaultEdges:d}=n();t?.length&&(h&&r({nodeInternals:bV(t,s)}),u?.(t)),e?.length&&(d&&r({edges:SV(e,a)}),c?.(e))}const Nl=()=>{},TV={zoomIn:Nl,zoomOut:Nl,zoomTo:Nl,getZoom:()=>1,setViewport:Nl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Nl,fitBounds:Nl,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},xV=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),AV=()=>{const t=Gn(),{d3Zoom:e,d3Selection:n}=on(xV,fr);return V.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Sa(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(Sa(n,s?.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(Sa(n,a?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[u,c,h]=t.getState().transform,d=ko.translate(s.x??u,s.y??c).scale(s.zoom??h);e.transform(Sa(n,a?.duration),d)},getViewport:()=>{const[s,a,u]=t.getState().transform;return{x:s,y:a,zoom:u}},fitView:s=>tC(t.getState,s),setCenter:(s,a,u)=>{const{width:c,height:h,maxZoom:d}=t.getState(),m=typeof u?.zoom<"u"?u.zoom:d,y=c/2-s*m,_=h/2-a*m,E=ko.translate(y,_).scale(m);e.transform(Sa(n,u?.duration),E)},fitBounds:(s,a)=>{const{width:u,height:c,minZoom:h,maxZoom:d}=t.getState(),{x:m,y,zoom:_}=BA(s,u,c,h,d,a?.padding??.1),E=ko.translate(m,y).scale(_);e.transform(Sa(n,a?.duration),E)},project:s=>{const{transform:a,snapToGrid:u,snapGrid:c}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),cv(s,a,u,c)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:u,snapGrid:c,domNode:h}=t.getState();if(!h)return s;const{x:d,y:m}=h.getBoundingClientRect(),y={x:s.x-d,y:s.y-m};return cv(y,a,u,c)},flowToScreenPosition:s=>{const{transform:a,domNode:u}=t.getState();if(!u)return s;const{x:c,y:h}=u.getBoundingClientRect(),d=LA(s,a);return{x:d.x+c,y:d.y+h}},viewportInitialized:!0}:TV,[e,n])};function xf(){const t=AV(),e=Gn(),n=V.useCallback(()=>e.getState().getNodes().map(C=>({...C})),[]),r=V.useCallback(C=>e.getState().nodeInternals.get(C),[]),s=V.useCallback(()=>{const{edges:C=[]}=e.getState();return C.map(N=>({...N}))},[]),a=V.useCallback(C=>{const{edges:N=[]}=e.getState();return N.find(k=>k.id===C)},[]),u=V.useCallback(C=>{const{getNodes:N,setNodes:k,hasDefaultNodes:j,onNodesChange:q}=e.getState(),F=N(),K=typeof C=="function"?C(F):C;if(j)k(K);else if(q){const $=K.length===0?F.map(R=>({type:"remove",id:R.id})):K.map(R=>({item:R,type:"reset"}));q($)}},[]),c=V.useCallback(C=>{const{edges:N=[],setEdges:k,hasDefaultEdges:j,onEdgesChange:q}=e.getState(),F=typeof C=="function"?C(N):C;if(j)k(F);else if(q){const K=F.length===0?N.map($=>({type:"remove",id:$.id})):F.map($=>({item:$,type:"reset"}));q(K)}},[]),h=V.useCallback(C=>{const N=Array.isArray(C)?C:[C],{getNodes:k,setNodes:j,hasDefaultNodes:q,onNodesChange:F}=e.getState();if(q){const $=[...k(),...N];j($)}else if(F){const K=N.map($=>({item:$,type:"add"}));F(K)}},[]),d=V.useCallback(C=>{const N=Array.isArray(C)?C:[C],{edges:k=[],setEdges:j,hasDefaultEdges:q,onEdgesChange:F}=e.getState();if(q)j([...k,...N]);else if(F){const K=N.map($=>({item:$,type:"add"}));F(K)}},[]),m=V.useCallback(()=>{const{getNodes:C,edges:N=[],transform:k}=e.getState(),[j,q,F]=k;return{nodes:C().map(K=>({...K})),edges:N.map(K=>({...K})),viewport:{x:j,y:q,zoom:F}}},[]),y=V.useCallback(({nodes:C,edges:N})=>{const{nodeInternals:k,getNodes:j,edges:q,hasDefaultNodes:F,hasDefaultEdges:K,onNodesDelete:$,onEdgesDelete:R,onNodesChange:I,onEdgesChange:D}=e.getState(),P=(C||[]).map(G=>G.id),U=(N||[]).map(G=>G.id),L=j().reduce((G,z)=>{const Y=z.parentNode||z.parentId,Z=!P.includes(z.id)&&Y&&G.find(b=>b.id===Y);return(typeof z.deletable=="boolean"?z.deletable:!0)&&(P.includes(z.id)||Z)&&G.push(z),G},[]),A=q.filter(G=>typeof G.deletable=="boolean"?G.deletable:!0),O=A.filter(G=>U.includes(G.id));if(L||O){const G=UA(L,A),z=[...O,...G],Y=z.reduce((Z,J)=>(Z.includes(J.id)||Z.push(J.id),Z),[]);if((K||F)&&(K&&e.setState({edges:q.filter(Z=>!Y.includes(Z.id))}),F&&(L.forEach(Z=>{k.delete(Z.id)}),e.setState({nodeInternals:new Map(k)}))),Y.length>0&&(R?.(z),D&&D(Y.map(Z=>({id:Z,type:"remove"})))),L.length>0&&($?.(L),I)){const Z=L.map(J=>({id:J.id,type:"remove"}));I(Z)}}},[]),_=V.useCallback(C=>{const N=GP(C),k=N?null:e.getState().nodeInternals.get(C.id);return!N&&!k?[null,null,N]:[N?C:MS(k),k,N]},[]),E=V.useCallback((C,N=!0,k)=>{const[j,q,F]=_(C);return j?(k||e.getState().getNodes()).filter(K=>{if(!F&&(K.id===q.id||!K.positionAbsolute))return!1;const $=MS(K),R=ov($,j);return N&&R>0||R>=j.width*j.height}):[]},[]),T=V.useCallback((C,N,k=!0)=>{const[j]=_(C);if(!j)return!1;const q=ov(j,N);return k&&q>0||q>=j.width*j.height},[]);return V.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:u,setEdges:c,addNodes:h,addEdges:d,toObject:m,deleteElements:y,getIntersectingNodes:E,isNodeIntersecting:T}),[t,n,r,s,a,u,c,h,d,m,y,E,T])}const CV={actInsideInputWithModifier:!1};var IV=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Gn(),{deleteElements:r}=xf(),s=uf(t,CV),a=uf(e);V.useEffect(()=>{if(s){const{edges:u,getNodes:c}=n.getState(),h=c().filter(m=>m.selected),d=u.filter(m=>m.selected);r({nodes:h,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),V.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function RV(t){const e=Gn();V.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=f_(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",Us.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const w_={position:"absolute",width:"100%",height:"100%",top:0,left:0},NV=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,cd=t=>({x:t.x,y:t.y,zoom:t.k}),kl=(t,e)=>t.target.closest(`.${e}`),qS=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),$S=t=>{const e=t.ctrlKey&&Gd()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},kV=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),DV=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:u=!1,panOnScrollSpeed:c=.5,panOnScrollMode:h=Ra.Free,zoomOnDoubleClick:d=!0,elementsSelectable:m,panOnDrag:y=!0,defaultViewport:_,translateExtent:E,minZoom:T,maxZoom:C,zoomActivationKeyCode:N,preventScrolling:k=!0,children:j,noWheelClassName:q,noPanClassName:F})=>{const K=V.useRef(),$=Gn(),R=V.useRef(!1),I=V.useRef(!1),D=V.useRef(null),P=V.useRef({x:0,y:0,zoom:0}),{d3Zoom:U,d3Selection:L,d3ZoomHandler:A,userSelectionActive:O}=on(kV,fr),G=uf(N),z=V.useRef(0),Y=V.useRef(!1),Z=V.useRef();return RV(D),V.useEffect(()=>{if(D.current){const J=D.current.getBoundingClientRect(),b=LP().scaleExtent([T,C]).translateExtent(E),Q=ki(D.current).call(b),re=ko.translate(_.x,_.y).scale(au(_.zoom,T,C)),M=[[0,0],[J.width,J.height]],ce=b.constrain()(re,M,E);b.transform(Q,ce),b.wheelDelta($S),$.setState({d3Zoom:b,d3Selection:Q,d3ZoomHandler:Q.on("wheel.zoom"),transform:[ce.x,ce.y,ce.k],domNode:D.current.closest(".react-flow")})}},[]),V.useEffect(()=>{L&&U&&(u&&!G&&!O?L.on("wheel.zoom",J=>{if(kl(J,q))return!1;J.preventDefault(),J.stopImmediatePropagation();const b=L.property("__zoom").k||1;if(J.ctrlKey&&a){const ye=es(J),xe=$S(J),Ce=b*Math.pow(2,xe);U.scaleTo(L,Ce,ye,J);return}const Q=J.deltaMode===1?20:1;let re=h===Ra.Vertical?0:J.deltaX*Q,M=h===Ra.Horizontal?0:J.deltaY*Q;!Gd()&&J.shiftKey&&h!==Ra.Vertical&&(re=J.deltaY*Q,M=0),U.translateBy(L,-(re/b)*c,-(M/b)*c,{internal:!0});const ce=cd(L.property("__zoom")),{onViewportChangeStart:be,onViewportChange:we,onViewportChangeEnd:De}=$.getState();clearTimeout(Z.current),Y.current||(Y.current=!0,e?.(J,ce),be?.(ce)),Y.current&&(t?.(J,ce),we?.(ce),Z.current=setTimeout(()=>{n?.(J,ce),De?.(ce),Y.current=!1},150))},{passive:!1}):typeof A<"u"&&L.on("wheel.zoom",function(J,b){if(!k&&J.type==="wheel"&&!J.ctrlKey||kl(J,q))return null;J.preventDefault(),A.call(this,J,b)},{passive:!1}))},[O,u,h,L,U,A,G,a,k,q,e,t,n]),V.useEffect(()=>{U&&U.on("start",J=>{if(!J.sourceEvent||J.sourceEvent.internal)return null;z.current=J.sourceEvent?.button;const{onViewportChangeStart:b}=$.getState(),Q=cd(J.transform);R.current=!0,P.current=Q,J.sourceEvent?.type==="mousedown"&&$.setState({paneDragging:!0}),b?.(Q),e?.(J.sourceEvent,Q)})},[U,e]),V.useEffect(()=>{U&&(O&&!R.current?U.on("zoom",null):O||U.on("zoom",J=>{const{onViewportChange:b}=$.getState();if($.setState({transform:[J.transform.x,J.transform.y,J.transform.k]}),I.current=!!(r&&qS(y,z.current??0)),(t||b)&&!J.sourceEvent?.internal){const Q=cd(J.transform);b?.(Q),t?.(J.sourceEvent,Q)}}))},[O,U,t,y,r]),V.useEffect(()=>{U&&U.on("end",J=>{if(!J.sourceEvent||J.sourceEvent.internal)return null;const{onViewportChangeEnd:b}=$.getState();if(R.current=!1,$.setState({paneDragging:!1}),r&&qS(y,z.current??0)&&!I.current&&r(J.sourceEvent),I.current=!1,(n||b)&&NV(P.current,J.transform)){const Q=cd(J.transform);P.current=Q,clearTimeout(K.current),K.current=setTimeout(()=>{b?.(Q),n?.(J.sourceEvent,Q)},u?150:0)}})},[U,u,y,n,r]),V.useEffect(()=>{U&&U.filter(J=>{const b=G||s,Q=a&&J.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&J.button===1&&J.type==="mousedown"&&(kl(J,"react-flow__node")||kl(J,"react-flow__edge")))return!0;if(!y&&!b&&!u&&!d&&!a||O||!d&&J.type==="dblclick"||kl(J,q)&&J.type==="wheel"||kl(J,F)&&(J.type!=="wheel"||u&&J.type==="wheel"&&!G)||!a&&J.ctrlKey&&J.type==="wheel"||!b&&!u&&!Q&&J.type==="wheel"||!y&&(J.type==="mousedown"||J.type==="touchstart")||Array.isArray(y)&&!y.includes(J.button)&&J.type==="mousedown")return!1;const re=Array.isArray(y)&&y.includes(J.button)||!J.button||J.button<=1;return(!J.ctrlKey||J.type==="wheel")&&re})},[O,U,s,a,u,d,y,m,G]),de.createElement("div",{className:"react-flow__renderer",ref:D,style:w_},j)},OV=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function MV(){const{userSelectionActive:t,userSelectionRect:e}=on(OV,fr);return t&&e?de.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function GS(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function nC(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const a=t.filter(c=>c.id===s.id);if(a.length===0)return r.push(s),r;const u={...s};for(const c of a)if(c)switch(c.type){case"select":{u.selected=c.selected;break}case"position":{typeof c.position<"u"&&(u.position=c.position),typeof c.positionAbsolute<"u"&&(u.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(u.dragging=c.dragging),u.expandParent&&GS(r,u);break}case"dimensions":{typeof c.dimensions<"u"&&(u.width=c.dimensions.width,u.height=c.dimensions.height),typeof c.updateStyle<"u"&&(u.style={...u.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(u.resizing=c.resizing),u.expandParent&&GS(r,u);break}case"remove":return r}return r.push(u),r},n)}function rC(t,e){return nC(t,e)}function PV(t,e){return nC(t,e)}const bo=(t,e)=>({id:t,type:"select",selected:e});function Gl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(bo(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(bo(r.id,!1))),n},[])}const ly=(t,e)=>n=>{n.target===e.current&&t?.(n)},VV=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),iC=V.memo(({isSelecting:t,selectionMode:e=af.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:h,onPaneMouseMove:d,onPaneMouseLeave:m,children:y})=>{const _=V.useRef(null),E=Gn(),T=V.useRef(0),C=V.useRef(0),N=V.useRef(),{userSelectionActive:k,elementsSelectable:j,dragging:q}=on(VV,fr),F=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),T.current=0,C.current=0},K=A=>{a?.(A),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},$=A=>{if(Array.isArray(n)&&n?.includes(2)){A.preventDefault();return}u?.(A)},R=c?A=>c(A):void 0,I=A=>{const{resetSelectedElements:O,domNode:G}=E.getState();if(N.current=G?.getBoundingClientRect(),!j||!t||A.button!==0||A.target!==_.current||!N.current)return;const{x:z,y:Y}=Do(A,N.current);O(),E.setState({userSelectionRect:{width:0,height:0,startX:z,startY:Y,x:z,y:Y}}),r?.(A)},D=A=>{const{userSelectionRect:O,nodeInternals:G,edges:z,transform:Y,onNodesChange:Z,onEdgesChange:J,nodeOrigin:b,getNodes:Q}=E.getState();if(!t||!N.current||!O)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const re=Do(A,N.current),M=O.startX??0,ce=O.startY??0,be={...O,x:re.x<M?re.x:M,y:re.y<ce?re.y:ce,width:Math.abs(re.x-M),height:Math.abs(re.y-ce)},we=Q(),De=zA(G,be,Y,e===af.Partial,!0,b),ye=UA(De,z).map(Ce=>Ce.id),xe=De.map(Ce=>Ce.id);if(T.current!==xe.length){T.current=xe.length;const Ce=Gl(we,xe);Ce.length&&Z?.(Ce)}if(C.current!==ye.length){C.current=ye.length;const Ce=Gl(z,ye);Ce.length&&J?.(Ce)}E.setState({userSelectionRect:be})},P=A=>{if(A.button!==0)return;const{userSelectionRect:O}=E.getState();!k&&O&&A.target===_.current&&K?.(A),E.setState({nodesSelectionActive:T.current>0}),F(),s?.(A)},U=A=>{k&&(E.setState({nodesSelectionActive:T.current>0}),s?.(A)),F()},L=j&&(t||k);return de.createElement("div",{className:Ar(["react-flow__pane",{dragging:q,selection:t}]),onClick:L?void 0:ly(K,_),onContextMenu:ly($,_),onWheel:ly(R,_),onMouseEnter:L?void 0:h,onMouseDown:L?I:void 0,onMouseMove:L?D:d,onMouseUp:L?P:void 0,onMouseLeave:L?U:m,ref:_,style:w_},y,de.createElement(MV,null))});iC.displayName="Pane";function sC(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:sC(r,e):!1}function YS(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function LV(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!sC(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function zV(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function oC(t,e,n,r,s=[0,0],a){const u=zV(t,t.extent||r);let c=u;const h=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(h&&t.width&&t.height){const y=n.get(h),{x:_,y:E}=Ql(y,s).positionAbsolute;c=y&&wi(_)&&wi(E)&&wi(y.width)&&wi(y.height)?[[_+t.width*s[0],E+t.height*s[1]],[_+y.width-t.width+t.width*s[0],E+y.height-t.height+t.height*s[1]]]:c}else a?.("005",Us.error005()),c=u;else if(t.extent&&h&&t.extent!=="parent"){const y=n.get(h),{x:_,y:E}=Ql(y,s).positionAbsolute;c=[[t.extent[0][0]+_,t.extent[0][1]+E],[t.extent[1][0]+_,t.extent[1][1]+E]]}let d={x:0,y:0};if(h){const y=n.get(h);d=Ql(y,s).positionAbsolute}const m=c&&c!=="parent"?h_(e,c):e;return{position:{x:m.x-d.x,y:m.y-d.y},positionAbsolute:m}}function uy({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const KS=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),u=e.getBoundingClientRect(),c={x:u.width*r[0],y:u.height*r[1]};return a.map(h=>{const d=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(d.left-u.left-c.x)/n,y:(d.top-u.top-c.y)/n,...f_(h)}})};function Cc(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function hv({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:u,nodeInternals:c,onError:h}=e.getState(),d=c.get(t);if(!d){h?.("012",Us.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&u)&&(a({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function UV(){const t=Gn();return V.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,h={x:(u-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(h.x/s[0]):h.x,ySnapped:a?s[1]*Math.round(h.y/s[1]):h.y,...h}},[])}function cy(t){return(e,n,r)=>t?.(e,r)}function aC({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:u}){const c=Gn(),[h,d]=V.useState(!1),m=V.useRef([]),y=V.useRef({x:null,y:null}),_=V.useRef(0),E=V.useRef(null),T=V.useRef({x:0,y:0}),C=V.useRef(null),N=V.useRef(!1),k=V.useRef(!1),j=V.useRef(!1),q=UV();return V.useEffect(()=>{if(t?.current){const F=ki(t.current),K=({x:I,y:D})=>{const{nodeInternals:P,onNodeDrag:U,onSelectionDrag:L,updateNodePositions:A,nodeExtent:O,snapGrid:G,snapToGrid:z,nodeOrigin:Y,onError:Z}=c.getState();y.current={x:I,y:D};let J=!1,b={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&O){const re=v_(m.current,Y);b=d_(re)}if(m.current=m.current.map(re=>{const M={x:I-re.distance.x,y:D-re.distance.y};z&&(M.x=G[0]*Math.round(M.x/G[0]),M.y=G[1]*Math.round(M.y/G[1]));const ce=[[O[0][0],O[0][1]],[O[1][0],O[1][1]]];m.current.length>1&&O&&!re.extent&&(ce[0][0]=re.positionAbsolute.x-b.x+O[0][0],ce[1][0]=re.positionAbsolute.x+(re.width??0)-b.x2+O[1][0],ce[0][1]=re.positionAbsolute.y-b.y+O[0][1],ce[1][1]=re.positionAbsolute.y+(re.height??0)-b.y2+O[1][1]);const be=oC(re,M,P,ce,Y,Z);return J=J||re.position.x!==be.position.x||re.position.y!==be.position.y,re.position=be.position,re.positionAbsolute=be.positionAbsolute,re}),!J)return;A(m.current,!0,!0),d(!0);const Q=s?U:cy(L);if(Q&&C.current){const[re,M]=uy({nodeId:s,dragItems:m.current,nodeInternals:P});Q(C.current,re,M)}},$=()=>{if(!E.current)return;const[I,D]=RA(T.current,E.current);if(I!==0||D!==0){const{transform:P,panBy:U}=c.getState();y.current.x=(y.current.x??0)-I/P[2],y.current.y=(y.current.y??0)-D/P[2],U({x:I,y:D})&&K(y.current)}_.current=requestAnimationFrame($)},R=I=>{const{nodeInternals:D,multiSelectionActive:P,nodesDraggable:U,unselectNodesAndEdges:L,onNodeDragStart:A,onSelectionDragStart:O}=c.getState();k.current=!0;const G=s?A:cy(O);(!u||!a)&&!P&&s&&(D.get(s)?.selected||L()),s&&a&&u&&hv({id:s,store:c,nodeRef:t});const z=q(I);if(y.current=z,m.current=LV(D,U,z,s),G&&m.current){const[Y,Z]=uy({nodeId:s,dragItems:m.current,nodeInternals:D});G(I.sourceEvent,Y,Z)}};if(e)F.on(".drag",null);else{const I=YO().on("start",D=>{const{domNode:P,nodeDragThreshold:U}=c.getState();U===0&&R(D),j.current=!1;const L=q(D);y.current=L,E.current=P?.getBoundingClientRect()||null,T.current=Do(D.sourceEvent,E.current)}).on("drag",D=>{const P=q(D),{autoPanOnNodeDrag:U,nodeDragThreshold:L}=c.getState();if(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1&&(j.current=!0),!j.current){if(!N.current&&k.current&&U&&(N.current=!0,$()),!k.current){const A=P.xSnapped-(y?.current?.x??0),O=P.ySnapped-(y?.current?.y??0);Math.sqrt(A*A+O*O)>L&&R(D)}(y.current.x!==P.xSnapped||y.current.y!==P.ySnapped)&&m.current&&k.current&&(C.current=D.sourceEvent,T.current=Do(D.sourceEvent,E.current),K(P))}}).on("end",D=>{if(!(!k.current||j.current)&&(d(!1),N.current=!1,k.current=!1,cancelAnimationFrame(_.current),m.current)){const{updateNodePositions:P,nodeInternals:U,onNodeDragStop:L,onSelectionDragStop:A}=c.getState(),O=s?L:cy(A);if(P(m.current,!1,!1),O){const[G,z]=uy({nodeId:s,dragItems:m.current,nodeInternals:U});O(D.sourceEvent,G,z)}}}).filter(D=>{const P=D.target;return!D.button&&(!n||!YS(P,`.${n}`,t))&&(!r||YS(P,r,t))});return F.call(I),()=>{F.on(".drag",null)}}}},[t,e,n,r,a,c,s,u,q]),h}function lC(){const t=Gn();return V.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:u,snapToGrid:c,snapGrid:h,onError:d,nodesDraggable:m}=t.getState(),y=u().filter(j=>j.selected&&(j.draggable||m&&typeof j.draggable>"u")),_=c?h[0]:5,E=c?h[1]:5,T=n.isShiftPressed?4:1,C=n.x*_*T,N=n.y*E*T,k=y.map(j=>{if(j.positionAbsolute){const q={x:j.positionAbsolute.x+C,y:j.positionAbsolute.y+N};c&&(q.x=h[0]*Math.round(q.x/h[0]),q.y=h[1]*Math.round(q.y/h[1]));const{positionAbsolute:F,position:K}=oC(j,q,r,s,void 0,d);j.position=K,j.positionAbsolute=F}return j});a(k,!0,!1)},[])}const Wl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ic=t=>{const e=({id:n,type:r,data:s,xPos:a,yPos:u,xPosOrigin:c,yPosOrigin:h,selected:d,onClick:m,onMouseEnter:y,onMouseMove:_,onMouseLeave:E,onContextMenu:T,onDoubleClick:C,style:N,className:k,isDraggable:j,isSelectable:q,isConnectable:F,isFocusable:K,selectNodesOnDrag:$,sourcePosition:R,targetPosition:I,hidden:D,resizeObserver:P,dragHandle:U,zIndex:L,isParent:A,noDragClassName:O,noPanClassName:G,initialized:z,disableKeyboardA11y:Y,ariaLabel:Z,rfId:J,hasHandleBounds:b})=>{const Q=Gn(),re=V.useRef(null),M=V.useRef(null),ce=V.useRef(R),be=V.useRef(I),we=V.useRef(r),De=q||j||m||y||_||E,ye=lC(),xe=Cc(n,Q.getState,y),Ce=Cc(n,Q.getState,_),Fe=Cc(n,Q.getState,E),_t=Cc(n,Q.getState,T),Et=Cc(n,Q.getState,C),wt=Ue=>{const{nodeDragThreshold:Me}=Q.getState();if(q&&(!$||!j||Me>0)&&hv({id:n,store:Q,nodeRef:re}),m){const $t=Q.getState().nodeInternals.get(n);$t&&m(Ue,{...$t})}},ze=Ue=>{if(!av(Ue)&&!Y)if(kA.includes(Ue.key)&&q){const Me=Ue.key==="Escape";hv({id:n,store:Q,unselect:Me,nodeRef:re})}else j&&d&&Object.prototype.hasOwnProperty.call(Wl,Ue.key)&&(Q.setState({ariaLiveMessage:`Moved selected node ${Ue.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~u}`}),ye({x:Wl[Ue.key].x,y:Wl[Ue.key].y,isShiftPressed:Ue.shiftKey}))};V.useEffect(()=>()=>{M.current&&(P?.unobserve(M.current),M.current=null)},[]),V.useEffect(()=>{if(re.current&&!D){const Ue=re.current;(!z||!b||M.current!==Ue)&&(M.current&&P?.unobserve(M.current),P?.observe(Ue),M.current=Ue)}},[D,z,b]),V.useEffect(()=>{const Ue=we.current!==r,Me=ce.current!==R,$t=be.current!==I;re.current&&(Ue||Me||$t)&&(Ue&&(we.current=r),Me&&(ce.current=R),$t&&(be.current=I),Q.getState().updateNodeDimensions([{id:n,nodeElement:re.current,forceUpdate:!0}]))},[n,r,R,I]);const Wt=aC({nodeRef:re,disabled:D||!j,noDragClassName:O,handleSelector:U,nodeId:n,isSelectable:q,selectNodesOnDrag:$});return D?null:de.createElement("div",{className:Ar(["react-flow__node",`react-flow__node-${r}`,{[G]:j},k,{selected:d,selectable:q,parent:A,dragging:Wt}]),ref:re,style:{zIndex:L,transform:`translate(${c}px,${h}px)`,pointerEvents:De?"all":"none",visibility:z?"visible":"hidden",...N},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:xe,onMouseMove:Ce,onMouseLeave:Fe,onContextMenu:_t,onClick:wt,onDoubleClick:Et,onKeyDown:K?ze:void 0,tabIndex:K?0:void 0,role:K?"button":void 0,"aria-describedby":Y?void 0:`${WA}-${J}`,"aria-label":Z},de.createElement(JP,{value:n},de.createElement(t,{id:n,data:s,type:r,xPos:a,yPos:u,selected:d,isConnectable:F,sourcePosition:R,targetPosition:I,dragging:Wt,dragHandle:U,zIndex:L})))};return e.displayName="NodeWrapper",V.memo(e)};const BV=t=>{const e=t.getNodes().filter(n=>n.selected);return{...v_(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function FV({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Gn(),{width:s,height:a,x:u,y:c,transformString:h,userSelectionActive:d}=on(BV,fr),m=lC(),y=V.useRef(null);if(V.useEffect(()=>{n||y.current?.focus({preventScroll:!0})},[n]),aC({nodeRef:y}),d||!s||!a)return null;const _=t?T=>{const C=r.getState().getNodes().filter(N=>N.selected);t(T,C)}:void 0,E=T=>{Object.prototype.hasOwnProperty.call(Wl,T.key)&&m({x:Wl[T.key].x,y:Wl[T.key].y,isShiftPressed:T.shiftKey})};return de.createElement("div",{className:Ar(["react-flow__nodesselection","react-flow__container",e]),style:{transform:h}},de.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:_,tabIndex:n?void 0:-1,onKeyDown:n?void 0:E,style:{width:s,height:a,top:c,left:u}}))}var jV=V.memo(FV);const HV=t=>t.nodesSelectionActive,uC=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,deleteKeyCode:c,onMove:h,onMoveStart:d,onMoveEnd:m,selectionKeyCode:y,selectionOnDrag:_,selectionMode:E,onSelectionStart:T,onSelectionEnd:C,multiSelectionKeyCode:N,panActivationKeyCode:k,zoomActivationKeyCode:j,elementsSelectable:q,zoomOnScroll:F,zoomOnPinch:K,panOnScroll:$,panOnScrollSpeed:R,panOnScrollMode:I,zoomOnDoubleClick:D,panOnDrag:P,defaultViewport:U,translateExtent:L,minZoom:A,maxZoom:O,preventScrolling:G,onSelectionContextMenu:z,noWheelClassName:Y,noPanClassName:Z,disableKeyboardA11y:J})=>{const b=on(HV),Q=uf(y),re=uf(k),M=re||P,ce=re||$,be=Q||_&&M!==!0;return IV({deleteKeyCode:c,multiSelectionKeyCode:N}),de.createElement(DV,{onMove:h,onMoveStart:d,onMoveEnd:m,onPaneContextMenu:a,elementsSelectable:q,zoomOnScroll:F,zoomOnPinch:K,panOnScroll:ce,panOnScrollSpeed:R,panOnScrollMode:I,zoomOnDoubleClick:D,panOnDrag:!Q&&M,defaultViewport:U,translateExtent:L,minZoom:A,maxZoom:O,zoomActivationKeyCode:j,preventScrolling:G,noWheelClassName:Y,noPanClassName:Z},de.createElement(iC,{onSelectionStart:T,onSelectionEnd:C,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:M,isSelecting:!!be,selectionMode:E},t,b&&de.createElement(jV,{onSelectionContextMenu:z,noPanClassName:Z,disableKeyboardA11y:J})))};uC.displayName="FlowRenderer";var qV=V.memo(uC);function $V(t){return on(V.useCallback(n=>t?zA(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function GV(t){const e={input:Ic(t.input||YA),default:Ic(t.default||fv),output:Ic(t.output||XA),group:Ic(t.group||E_)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=Ic(t[a]||fv),s),n);return{...e,...r}}const YV=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},KV=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),cC=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:u}=on(KV,fr),c=$V(t.onlyRenderVisibleElements),h=V.useRef(),d=V.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(y=>{const _=y.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));a(_)});return h.current=m,m},[]);return V.useEffect(()=>()=>{h?.current?.disconnect()},[]),de.createElement("div",{className:"react-flow__nodes",style:w_},c.map(m=>{let y=m.type||"default";t.nodeTypes[y]||(u?.("003",Us.error003(y)),y="default");const _=t.nodeTypes[y]||t.nodeTypes.default,E=!!(m.draggable||e&&typeof m.draggable>"u"),T=!!(m.selectable||s&&typeof m.selectable>"u"),C=!!(m.connectable||n&&typeof m.connectable>"u"),N=!!(m.focusable||r&&typeof m.focusable>"u"),k=t.nodeExtent?h_(m.positionAbsolute,t.nodeExtent):m.positionAbsolute,j=k?.x??0,q=k?.y??0,F=YV({x:j,y:q,width:m.width??0,height:m.height??0,origin:t.nodeOrigin});return de.createElement(_,{key:m.id,id:m.id,className:m.className,style:m.style,type:y,data:m.data,sourcePosition:m.sourcePosition||Ve.Bottom,targetPosition:m.targetPosition||Ve.Top,hidden:m.hidden,xPos:j,yPos:q,xPosOrigin:F.x,yPosOrigin:F.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!m.selected,isDraggable:E,isSelectable:T,isConnectable:C,isFocusable:N,resizeObserver:d,dragHandle:m.dragHandle,zIndex:m[hn]?.z??0,isParent:!!m[hn]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!m.width&&!!m.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!m[hn]?.handleBounds})}))};cC.displayName="NodeRenderer";var XV=V.memo(cC);const QV=(t,e,n)=>n===Ve.Left?t-e:n===Ve.Right?t+e:t,WV=(t,e,n)=>n===Ve.Top?t-e:n===Ve.Bottom?t+e:t,XS="react-flow__edgeupdater",QS=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:u,type:c})=>de.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:u,className:Ar([XS,`${XS}-${c}`]),cx:QV(e,r,t),cy:WV(n,r,t),r,stroke:"transparent",fill:"transparent"}),ZV=()=>!0;var Dl=t=>{const e=({id:n,className:r,type:s,data:a,onClick:u,onEdgeDoubleClick:c,selected:h,animated:d,label:m,labelStyle:y,labelShowBg:_,labelBgStyle:E,labelBgPadding:T,labelBgBorderRadius:C,style:N,source:k,target:j,sourceX:q,sourceY:F,targetX:K,targetY:$,sourcePosition:R,targetPosition:I,elementsSelectable:D,hidden:P,sourceHandleId:U,targetHandleId:L,onContextMenu:A,onMouseEnter:O,onMouseMove:G,onMouseLeave:z,reconnectRadius:Y,onReconnect:Z,onReconnectStart:J,onReconnectEnd:b,markerEnd:Q,markerStart:re,rfId:M,ariaLabel:ce,isFocusable:be,isReconnectable:we,pathOptions:De,interactionWidth:ye,disableKeyboardA11y:xe})=>{const Ce=V.useRef(null),[Fe,_t]=V.useState(!1),[Et,wt]=V.useState(!1),ze=Gn(),Wt=V.useMemo(()=>`url('#${uv(re,M)}')`,[re,M]),Ue=V.useMemo(()=>`url('#${uv(Q,M)}')`,[Q,M]);if(P)return null;const Me=ft=>{const{edges:Dt,addSelectedEdges:Ot,unselectNodesAndEdges:Mt,multiSelectionActive:ht}=ze.getState(),et=Dt.find(Ht=>Ht.id===n);et&&(D&&(ze.setState({nodesSelectionActive:!1}),et.selected&&ht?(Mt({nodes:[],edges:[et]}),Ce.current?.blur()):Ot([n])),u&&u(ft,et))},$t=Ac(n,ze.getState,c),dn=Ac(n,ze.getState,A),pn=Ac(n,ze.getState,O),En=Ac(n,ze.getState,G),mn=Ac(n,ze.getState,z),en=(ft,Dt)=>{if(ft.button!==0)return;const{edges:Ot,isValidConnection:Mt}=ze.getState(),ht=Dt?j:k,et=(Dt?L:U)||null,Ht=Dt?"target":"source",zt=Mt||ZV,Si=Dt,ir=Ot.find(sr=>sr.id===n);wt(!0),J?.(ft,ir,Ht);const In=sr=>{wt(!1),b?.(sr,ir,Ht)};HA({event:ft,handleId:et,nodeId:ht,onConnect:sr=>Z?.(ir,sr),isTarget:Si,getState:ze.getState,setState:ze.setState,isValidConnection:zt,edgeUpdaterType:Ht,onReconnectEnd:In})},Cn=ft=>en(ft,!0),ne=ft=>en(ft,!1),pe=()=>_t(!0),Re=()=>_t(!1),Pe=!D&&!u,Je=ft=>{if(!xe&&kA.includes(ft.key)&&D){const{unselectNodesAndEdges:Dt,addSelectedEdges:Ot,edges:Mt}=ze.getState();ft.key==="Escape"?(Ce.current?.blur(),Dt({edges:[Mt.find(et=>et.id===n)]})):Ot([n])}};return de.createElement("g",{className:Ar(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:h,animated:d,inactive:Pe,updating:Fe}]),onClick:Me,onDoubleClick:$t,onContextMenu:dn,onMouseEnter:pn,onMouseMove:En,onMouseLeave:mn,onKeyDown:be?Je:void 0,tabIndex:be?0:void 0,role:be?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ce===null?void 0:ce||`Edge from ${k} to ${j}`,"aria-describedby":be?`${ZA}-${M}`:void 0,ref:Ce},!Et&&de.createElement(t,{id:n,source:k,target:j,selected:h,animated:d,label:m,labelStyle:y,labelShowBg:_,labelBgStyle:E,labelBgPadding:T,labelBgBorderRadius:C,data:a,style:N,sourceX:q,sourceY:F,targetX:K,targetY:$,sourcePosition:R,targetPosition:I,sourceHandleId:U,targetHandleId:L,markerStart:Wt,markerEnd:Ue,pathOptions:De,interactionWidth:ye}),we&&de.createElement(de.Fragment,null,(we==="source"||we===!0)&&de.createElement(QS,{position:R,centerX:q,centerY:F,radius:Y,onMouseDown:Cn,onMouseEnter:pe,onMouseOut:Re,type:"source"}),(we==="target"||we===!0)&&de.createElement(QS,{position:I,centerX:K,centerY:$,radius:Y,onMouseDown:ne,onMouseEnter:pe,onMouseOut:Re,type:"target"})))};return e.displayName="EdgeWrapper",V.memo(e)};function JV(t){const e={default:Dl(t.default||Yd),straight:Dl(t.bezier||g_),step:Dl(t.step||m_),smoothstep:Dl(t.step||xp),simplebezier:Dl(t.simplebezier||p_)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=Dl(t[a]||Yd),s),n);return{...e,...r}}function WS(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,a=n?.width||e.width,u=n?.height||e.height;switch(t){case Ve.Top:return{x:r+a/2,y:s};case Ve.Right:return{x:r+a,y:s+u/2};case Ve.Bottom:return{x:r+a/2,y:s+u};case Ve.Left:return{x:r,y:s+u/2}}}function ZS(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const e4=(t,e,n,r,s,a)=>{const u=WS(n,t,e),c=WS(a,r,s);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y}};function t4({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:u,height:c,transform:h}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+a)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const m=d_({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:u/h[2],height:c/h[2]}),y=Math.max(0,Math.min(m.x2,d.x2)-Math.max(m.x,d.x)),_=Math.max(0,Math.min(m.y2,d.y2)-Math.max(m.y,d.y));return Math.ceil(y*_)>0}function JS(t){const e=t?.[hn]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const n4=[{level:0,isMaxLevel:!0,edges:[]}];function r4(t,e,n=!1){let r=-1;const s=t.reduce((u,c)=>{const h=wi(c.zIndex);let d=h?c.zIndex:0;if(n){const m=e.get(c.target),y=e.get(c.source),_=c.selected||m?.selected||y?.selected,E=Math.max(y?.[hn]?.z||0,m?.[hn]?.z||0,1e3);d=(h?c.zIndex:0)+(_?E:0)}return u[d]?u[d].push(c):u[d]=[c],r=d>r?d:r,u},{}),a=Object.entries(s).map(([u,c])=>{const h=+u;return{edges:c,level:h,isMaxLevel:h===r}});return a.length===0?n4:a}function i4(t,e,n){const r=on(V.useCallback(s=>t?s.edges.filter(a=>{const u=e.get(a.source),c=e.get(a.target);return u?.width&&u?.height&&c?.width&&c?.height&&t4({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return r4(r,e,n)}const s4=({color:t="none",strokeWidth:e=1})=>de.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),o4=({color:t="none",strokeWidth:e=1})=>de.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),e1={[lf.Arrow]:s4,[lf.ArrowClosed]:o4};function a4(t){const e=Gn();return V.useMemo(()=>Object.prototype.hasOwnProperty.call(e1,t)?e1[t]:(e.getState().onError?.("009",Us.error009(t)),null),[t])}const l4=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:c="auto-start-reverse"})=>{const h=a4(e);return h?de.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:c,refX:"0",refY:"0"},de.createElement(h,{color:n,strokeWidth:u})):null},u4=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const c=uv(u,e);r.includes(c)||(s.push({id:c,color:u.color||t,...u}),r.push(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},fC=({defaultColor:t,rfId:e})=>{const n=on(V.useCallback(u4({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((a,u)=>a.id!==s[u].id)));return de.createElement("defs",null,n.map(r=>de.createElement(l4,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};fC.displayName="MarkerDefinitions";var c4=V.memo(fC);const f4=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),hC=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:u,onEdgeMouseEnter:c,onEdgeMouseMove:h,onEdgeMouseLeave:d,onEdgeClick:m,onEdgeDoubleClick:y,onReconnect:_,onReconnectStart:E,onReconnectEnd:T,reconnectRadius:C,children:N,disableKeyboardA11y:k})=>{const{edgesFocusable:j,edgesUpdatable:q,elementsSelectable:F,width:K,height:$,connectionMode:R,nodeInternals:I,onError:D}=on(f4,fr),P=i4(e,I,n);return K?de.createElement(de.Fragment,null,P.map(({level:U,edges:L,isMaxLevel:A})=>de.createElement("svg",{key:U,style:{zIndex:U},width:K,height:$,className:"react-flow__edges react-flow__container"},A&&de.createElement(c4,{defaultColor:t,rfId:r}),de.createElement("g",null,L.map(O=>{const[G,z,Y]=JS(I.get(O.source)),[Z,J,b]=JS(I.get(O.target));if(!Y||!b)return null;let Q=O.type||"default";s[Q]||(D?.("011",Us.error011(Q)),Q="default");const re=s[Q]||s.default,M=R===Uo.Strict?J.target:(J.target??[]).concat(J.source??[]),ce=ZS(z.source,O.sourceHandle),be=ZS(M,O.targetHandle),we=ce?.position||Ve.Bottom,De=be?.position||Ve.Top,ye=!!(O.focusable||j&&typeof O.focusable>"u"),xe=O.reconnectable||O.updatable,Ce=typeof _<"u"&&(xe||q&&typeof xe>"u");if(!ce||!be)return D?.("008",Us.error008(ce,O)),null;const{sourceX:Fe,sourceY:_t,targetX:Et,targetY:wt}=e4(G,ce,we,Z,be,De);return de.createElement(re,{key:O.id,id:O.id,className:Ar([O.className,a]),type:Q,data:O.data,selected:!!O.selected,animated:!!O.animated,hidden:!!O.hidden,label:O.label,labelStyle:O.labelStyle,labelShowBg:O.labelShowBg,labelBgStyle:O.labelBgStyle,labelBgPadding:O.labelBgPadding,labelBgBorderRadius:O.labelBgBorderRadius,style:O.style,source:O.source,target:O.target,sourceHandleId:O.sourceHandle,targetHandleId:O.targetHandle,markerEnd:O.markerEnd,markerStart:O.markerStart,sourceX:Fe,sourceY:_t,targetX:Et,targetY:wt,sourcePosition:we,targetPosition:De,elementsSelectable:F,onContextMenu:u,onMouseEnter:c,onMouseMove:h,onMouseLeave:d,onClick:m,onEdgeDoubleClick:y,onReconnect:_,onReconnectStart:E,onReconnectEnd:T,reconnectRadius:C,rfId:r,ariaLabel:O.ariaLabel,isFocusable:ye,isReconnectable:Ce,pathOptions:"pathOptions"in O?O.pathOptions:void 0,interactionWidth:O.interactionWidth,disableKeyboardA11y:k})})))),N):null};hC.displayName="EdgeRenderer";var h4=V.memo(hC);const d4=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function p4({children:t}){const e=on(d4);return de.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function m4(t){const e=xf(),n=V.useRef(!1);V.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const g4={[Ve.Left]:Ve.Right,[Ve.Right]:Ve.Left,[Ve.Top]:Ve.Bottom,[Ve.Bottom]:Ve.Top},dC=({nodeId:t,handleType:e,style:n,type:r=To.Bezier,CustomComponent:s,connectionStatus:a})=>{const{fromNode:u,handleId:c,toX:h,toY:d,connectionMode:m}=on(V.useCallback($=>({fromNode:$.nodeInternals.get(t),handleId:$.connectionHandleId,toX:($.connectionPosition.x-$.transform[0])/$.transform[2],toY:($.connectionPosition.y-$.transform[1])/$.transform[2],connectionMode:$.connectionMode}),[t]),fr),y=u?.[hn]?.handleBounds;let _=y?.[e];if(m===Uo.Loose&&(_=_||y?.[e==="source"?"target":"source"]),!u||!_)return null;const E=c?_.find($=>$.id===c):_[0],T=E?E.x+E.width/2:(u.width??0)/2,C=E?E.y+E.height/2:u.height??0,N=(u.positionAbsolute?.x??0)+T,k=(u.positionAbsolute?.y??0)+C,j=E?.position,q=j?g4[j]:null;if(!j||!q)return null;if(s)return de.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:E,fromX:N,fromY:k,toX:h,toY:d,fromPosition:j,toPosition:q,connectionStatus:a});let F="";const K={sourceX:N,sourceY:k,sourcePosition:j,targetX:h,targetY:d,targetPosition:q};return r===To.Bezier?[F]=VA(K):r===To.Step?[F]=lv({...K,borderRadius:0}):r===To.SmoothStep?[F]=lv(K):r===To.SimpleBezier?[F]=PA(K):F=`M${N},${k} ${h},${d}`,de.createElement("path",{d:F,fill:"none",className:"react-flow__connection-path",style:n})};dC.displayName="ConnectionLine";const y4=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function v4({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:u,width:c,height:h,connectionStatus:d}=on(y4,fr);return!(s&&a&&c&&u)?null:de.createElement("svg",{style:t,width:c,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},de.createElement("g",{className:Ar(["react-flow__connection",d])},de.createElement(dC,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function t1(t,e){return V.useRef(null),Gn(),V.useMemo(()=>e(t),[t])}const pC=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:u,onEdgeClick:c,onNodeDoubleClick:h,onEdgeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:E,onSelectionContextMenu:T,onSelectionStart:C,onSelectionEnd:N,connectionLineType:k,connectionLineStyle:j,connectionLineComponent:q,connectionLineContainerStyle:F,selectionKeyCode:K,selectionOnDrag:$,selectionMode:R,multiSelectionKeyCode:I,panActivationKeyCode:D,zoomActivationKeyCode:P,deleteKeyCode:U,onlyRenderVisibleElements:L,elementsSelectable:A,selectNodesOnDrag:O,defaultViewport:G,translateExtent:z,minZoom:Y,maxZoom:Z,preventScrolling:J,defaultMarkerColor:b,zoomOnScroll:Q,zoomOnPinch:re,panOnScroll:M,panOnScrollSpeed:ce,panOnScrollMode:be,zoomOnDoubleClick:we,panOnDrag:De,onPaneClick:ye,onPaneMouseEnter:xe,onPaneMouseMove:Ce,onPaneMouseLeave:Fe,onPaneScroll:_t,onPaneContextMenu:Et,onEdgeContextMenu:wt,onEdgeMouseEnter:ze,onEdgeMouseMove:Wt,onEdgeMouseLeave:Ue,onReconnect:Me,onReconnectStart:$t,onReconnectEnd:dn,reconnectRadius:pn,noDragClassName:En,noWheelClassName:mn,noPanClassName:en,elevateEdgesOnSelect:Cn,disableKeyboardA11y:ne,nodeOrigin:pe,nodeExtent:Re,rfId:Pe})=>{const Je=t1(t,GV),ft=t1(e,JV);return m4(a),de.createElement(qV,{onPaneClick:ye,onPaneMouseEnter:xe,onPaneMouseMove:Ce,onPaneMouseLeave:Fe,onPaneContextMenu:Et,onPaneScroll:_t,deleteKeyCode:U,selectionKeyCode:K,selectionOnDrag:$,selectionMode:R,onSelectionStart:C,onSelectionEnd:N,multiSelectionKeyCode:I,panActivationKeyCode:D,zoomActivationKeyCode:P,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:Q,zoomOnPinch:re,zoomOnDoubleClick:we,panOnScroll:M,panOnScrollSpeed:ce,panOnScrollMode:be,panOnDrag:De,defaultViewport:G,translateExtent:z,minZoom:Y,maxZoom:Z,onSelectionContextMenu:T,preventScrolling:J,noDragClassName:En,noWheelClassName:mn,noPanClassName:en,disableKeyboardA11y:ne},de.createElement(p4,null,de.createElement(h4,{edgeTypes:ft,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:L,onEdgeContextMenu:wt,onEdgeMouseEnter:ze,onEdgeMouseMove:Wt,onEdgeMouseLeave:Ue,onReconnect:Me,onReconnectStart:$t,onReconnectEnd:dn,reconnectRadius:pn,defaultMarkerColor:b,noPanClassName:en,elevateEdgesOnSelect:!!Cn,disableKeyboardA11y:ne,rfId:Pe},de.createElement(v4,{style:j,type:k,component:q,containerStyle:F})),de.createElement("div",{className:"react-flow__edgelabel-renderer"}),de.createElement(XV,{nodeTypes:Je,onNodeClick:u,onNodeDoubleClick:h,onNodeMouseEnter:m,onNodeMouseMove:y,onNodeMouseLeave:_,onNodeContextMenu:E,selectNodesOnDrag:O,onlyRenderVisibleElements:L,noPanClassName:en,noDragClassName:En,disableKeyboardA11y:ne,nodeOrigin:pe,nodeExtent:Re,rfId:Pe})))};pC.displayName="GraphView";var _4=V.memo(pC);const dv=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],vo={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:dv,nodeExtent:dv,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Uo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:YP,isValidConnection:void 0},E4=()=>sD((t,e)=>({...vo,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:ay(n,r,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",u=s?ay(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:u,fitViewOnInitOptions:c,domNode:h,nodeOrigin:d}=e(),m=h?.querySelector(".react-flow__viewport");if(!m)return;const y=window.getComputedStyle(m),{m22:_}=new window.DOMMatrixReadOnly(y.transform),E=n.reduce((C,N)=>{const k=s.get(N.id);if(k?.hidden)s.set(k.id,{...k,[hn]:{...k[hn],handleBounds:void 0}});else if(k){const j=f_(N.nodeElement);!!(j.width&&j.height&&(k.width!==j.width||k.height!==j.height||N.forceUpdate))&&(s.set(k.id,{...k,[hn]:{...k[hn],handleBounds:{source:KS(".source",N.nodeElement,_,d),target:KS(".target",N.nodeElement,_,d)}},...j}),C.push({id:k.id,type:"dimensions",dimensions:j}))}return C},[]);eC(s,d);const T=u||a&&!u&&tC(e,{initial:!0,...c});t({nodeInternals:new Map(s),fitViewOnInitDone:T}),E?.length>0&&r?.(E)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),u=n.map(c=>{const h={id:c.id,type:"position",dragging:s};return r&&(h.positionAbsolute=c.positionAbsolute,h.position=c.position),h});a(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:u,getNodes:c,elevateNodesOnSelect:h}=e();if(n?.length){if(a){const d=rC(n,c()),m=ay(d,s,u,h);t({nodeInternals:m})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,c=null;r?u=n.map(h=>bo(h,!0)):(u=Gl(a(),n),c=Gl(s,[])),ud({changedNodes:u,changedEdges:c,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,c=null;r?u=n.map(h=>bo(h,!0)):(u=Gl(s,n),c=Gl(a(),[])),ud({changedNodes:c,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=e(),u=n||a(),c=r||s,h=u.map(m=>(m.selected=!1,bo(m.id,!1))),d=c.map(m=>bo(m.id,!1));ud({changedNodes:h,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(c=>c.selected).map(c=>bo(c.id,!1)),u=n.filter(c=>c.selected).map(c=>bo(c.id,!1));ud({changedNodes:a,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=h_(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:u,d3Selection:c,translateExtent:h}=e();if(!u||!c||!n.x&&!n.y)return!1;const d=ko.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),m=[[0,0],[s,a]],y=u?.constrain()(d,m,h);return u.transform(c,y),r[0]!==y.x||r[1]!==y.y||r[2]!==y.k},cancelConnection:()=>t({connectionNodeId:vo.connectionNodeId,connectionHandleId:vo.connectionHandleId,connectionHandleType:vo.connectionHandleType,connectionStatus:vo.connectionStatus,connectionStartHandle:vo.connectionStartHandle,connectionEndHandle:vo.connectionEndHandle}),reset:()=>t({...vo})}),Object.is),mC=({children:t})=>{const e=V.useRef(null);return e.current||(e.current=E4()),de.createElement(UP,{value:e.current},t)};mC.displayName="ReactFlowProvider";const gC=({children:t})=>V.useContext(Tp)?de.createElement(de.Fragment,null,t):de.createElement(mC,null,t);gC.displayName="ReactFlowWrapper";const w4={input:YA,default:fv,output:XA,group:E_},b4={default:Yd,straight:g_,step:m_,smoothstep:xp,simplebezier:p_},S4=[0,0],T4=[15,15],x4={x:0,y:0,zoom:1},A4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},yC=V.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=w4,edgeTypes:u=b4,onNodeClick:c,onEdgeClick:h,onInit:d,onMove:m,onMoveStart:y,onMoveEnd:_,onConnect:E,onConnectStart:T,onConnectEnd:C,onClickConnectStart:N,onClickConnectEnd:k,onNodeMouseEnter:j,onNodeMouseMove:q,onNodeMouseLeave:F,onNodeContextMenu:K,onNodeDoubleClick:$,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:D,onNodesDelete:P,onEdgesDelete:U,onSelectionChange:L,onSelectionDragStart:A,onSelectionDrag:O,onSelectionDragStop:G,onSelectionContextMenu:z,onSelectionStart:Y,onSelectionEnd:Z,connectionMode:J=Uo.Strict,connectionLineType:b=To.Bezier,connectionLineStyle:Q,connectionLineComponent:re,connectionLineContainerStyle:M,deleteKeyCode:ce="Backspace",selectionKeyCode:be="Shift",selectionOnDrag:we=!1,selectionMode:De=af.Full,panActivationKeyCode:ye="Space",multiSelectionKeyCode:xe=Gd()?"Meta":"Control",zoomActivationKeyCode:Ce=Gd()?"Meta":"Control",snapToGrid:Fe=!1,snapGrid:_t=T4,onlyRenderVisibleElements:Et=!1,selectNodesOnDrag:wt=!0,nodesDraggable:ze,nodesConnectable:Wt,nodesFocusable:Ue,nodeOrigin:Me=S4,edgesFocusable:$t,edgesUpdatable:dn,elementsSelectable:pn,defaultViewport:En=x4,minZoom:mn=.5,maxZoom:en=2,translateExtent:Cn=dv,preventScrolling:ne=!0,nodeExtent:pe,defaultMarkerColor:Re="#b1b1b7",zoomOnScroll:Pe=!0,zoomOnPinch:Je=!0,panOnScroll:ft=!1,panOnScrollSpeed:Dt=.5,panOnScrollMode:Ot=Ra.Free,zoomOnDoubleClick:Mt=!0,panOnDrag:ht=!0,onPaneClick:et,onPaneMouseEnter:Ht,onPaneMouseMove:zt,onPaneMouseLeave:Si,onPaneScroll:ir,onPaneContextMenu:In,children:pr,onEdgeContextMenu:sr,onEdgeDoubleClick:Cr,onEdgeMouseEnter:fs,onEdgeMouseMove:zr,onEdgeMouseLeave:Ti,onEdgeUpdate:mr,onEdgeUpdateStart:Ur,onEdgeUpdateEnd:Ut,onReconnect:At,onReconnectStart:tn,onReconnectEnd:ln,reconnectRadius:zi=10,edgeUpdaterRadius:Zo=10,onNodesChange:gr,onEdgesChange:Ui,noDragClassName:ni="nodrag",noWheelClassName:Br="nowheel",noPanClassName:yr="nopan",fitView:Ln=!1,fitViewOptions:vr,connectOnClick:Rn=!0,attributionPosition:W,proOptions:fe,defaultEdgeOptions:Se,elevateNodesOnSelect:Ie=!0,elevateEdgesOnSelect:st=!1,disableKeyboardA11y:Xe=!1,autoPanOnConnect:Pt=!0,autoPanOnNodeDrag:Ct=!0,connectionRadius:zn=20,isValidConnection:It,onError:bt,style:Rt,id:wn,nodeDragThreshold:un,...gn},_r)=>{const Er=wn||"1";return de.createElement("div",{...gn,style:{...Rt,...A4},ref:_r,className:Ar(["react-flow",s]),"data-testid":"rf__wrapper",id:wn},de.createElement(gC,null,de.createElement(_4,{onInit:d,onMove:m,onMoveStart:y,onMoveEnd:_,onNodeClick:c,onEdgeClick:h,onNodeMouseEnter:j,onNodeMouseMove:q,onNodeMouseLeave:F,onNodeContextMenu:K,onNodeDoubleClick:$,nodeTypes:a,edgeTypes:u,connectionLineType:b,connectionLineStyle:Q,connectionLineComponent:re,connectionLineContainerStyle:M,selectionKeyCode:be,selectionOnDrag:we,selectionMode:De,deleteKeyCode:ce,multiSelectionKeyCode:xe,panActivationKeyCode:ye,zoomActivationKeyCode:Ce,onlyRenderVisibleElements:Et,selectNodesOnDrag:wt,defaultViewport:En,translateExtent:Cn,minZoom:mn,maxZoom:en,preventScrolling:ne,zoomOnScroll:Pe,zoomOnPinch:Je,zoomOnDoubleClick:Mt,panOnScroll:ft,panOnScrollSpeed:Dt,panOnScrollMode:Ot,panOnDrag:ht,onPaneClick:et,onPaneMouseEnter:Ht,onPaneMouseMove:zt,onPaneMouseLeave:Si,onPaneScroll:ir,onPaneContextMenu:In,onSelectionContextMenu:z,onSelectionStart:Y,onSelectionEnd:Z,onEdgeContextMenu:sr,onEdgeDoubleClick:Cr,onEdgeMouseEnter:fs,onEdgeMouseMove:zr,onEdgeMouseLeave:Ti,onReconnect:At??mr,onReconnectStart:tn??Ur,onReconnectEnd:ln??Ut,reconnectRadius:zi??Zo,defaultMarkerColor:Re,noDragClassName:ni,noWheelClassName:Br,noPanClassName:yr,elevateEdgesOnSelect:st,rfId:Er,disableKeyboardA11y:Xe,nodeOrigin:Me,nodeExtent:pe}),de.createElement(gV,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:E,onConnectStart:T,onConnectEnd:C,onClickConnectStart:N,onClickConnectEnd:k,nodesDraggable:ze,nodesConnectable:Wt,nodesFocusable:Ue,edgesFocusable:$t,edgesUpdatable:dn,elementsSelectable:pn,elevateNodesOnSelect:Ie,minZoom:mn,maxZoom:en,nodeExtent:pe,onNodesChange:gr,onEdgesChange:Ui,snapToGrid:Fe,snapGrid:_t,connectionMode:J,translateExtent:Cn,connectOnClick:Rn,defaultEdgeOptions:Se,fitView:Ln,fitViewOptions:vr,onNodesDelete:P,onEdgesDelete:U,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:D,onSelectionDrag:O,onSelectionDragStart:A,onSelectionDragStop:G,noPanClassName:yr,nodeOrigin:Me,rfId:Er,autoPanOnConnect:Pt,autoPanOnNodeDrag:Ct,onError:bt,connectionRadius:zn,isValidConnection:It,nodeDragThreshold:un}),de.createElement(pV,{onSelectionChange:L}),pr,de.createElement(FP,{proOptions:fe,position:W}),de.createElement(wV,{rfId:Er,disableKeyboardA11y:Xe})))});yC.displayName="ReactFlow";function vC(t){return e=>{const[n,r]=V.useState(e),s=V.useCallback(a=>r(u=>t(a,u)),[]);return[n,r,s]}}const C4=vC(rC),I4=vC(PV);function R4(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},de.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function N4(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},de.createElement("path",{d:"M0 0h32v4.2H0z"}))}function k4(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},de.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function D4(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},de.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function O4(){return de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},de.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Lc=({children:t,className:e,...n})=>de.createElement("button",{type:"button",className:Ar(["react-flow__controls-button",e]),...n},t);Lc.displayName="ControlButton";const M4=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),_C=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:u,onFitView:c,onInteractiveChange:h,className:d,children:m,position:y="bottom-left"})=>{const _=Gn(),[E,T]=V.useState(!1),{isInteractive:C,minZoomReached:N,maxZoomReached:k}=on(M4,fr),{zoomIn:j,zoomOut:q,fitView:F}=xf();if(V.useEffect(()=>{T(!0)},[]),!E)return null;const K=()=>{j(),a?.()},$=()=>{q(),u?.()},R=()=>{F(s),c?.()},I=()=>{_.setState({nodesDraggable:!C,nodesConnectable:!C,elementsSelectable:!C}),h?.(!C)};return de.createElement(IA,{className:Ar(["react-flow__controls",d]),position:y,style:t,"data-testid":"rf__controls"},e&&de.createElement(de.Fragment,null,de.createElement(Lc,{onClick:K,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:k},de.createElement(R4,null)),de.createElement(Lc,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N},de.createElement(N4,null))),n&&de.createElement(Lc,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},de.createElement(k4,null)),r&&de.createElement(Lc,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity"},C?de.createElement(O4,null):de.createElement(D4,null)),m)};_C.displayName="Controls";var P4=V.memo(_C),bi;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(bi||(bi={}));function V4({color:t,dimensions:e,lineWidth:n}){return de.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function L4({color:t,radius:e}){return de.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const z4={[bi.Dots]:"#91919a",[bi.Lines]:"#eee",[bi.Cross]:"#e2e2e2"},U4={[bi.Dots]:1,[bi.Lines]:1,[bi.Cross]:6},B4=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function EC({id:t,variant:e=bi.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:u,style:c,className:h}){const d=V.useRef(null),{transform:m,patternId:y}=on(B4,fr),_=u||z4[e],E=r||U4[e],T=e===bi.Dots,C=e===bi.Cross,N=Array.isArray(n)?n:[n,n],k=[N[0]*m[2]||1,N[1]*m[2]||1],j=E*m[2],q=C?[j,j]:k,F=T?[j/a,j/a]:[q[0]/a,q[1]/a];return de.createElement("svg",{className:Ar(["react-flow__background",h]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},de.createElement("pattern",{id:y+t,x:m[0]%k[0],y:m[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`},T?de.createElement(L4,{color:_,radius:j/a}):de.createElement(V4,{dimensions:q,color:_,lineWidth:s})),de.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${y+t})`}))}EC.displayName="Background";var F4=V.memo(EC);function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(null,arguments)}var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n1,r1={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var fy,i1,s1,j4=(n1||(n1=1,fy=r1,function(){var t={}.hasOwnProperty;function e(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var a=typeof s;if(a==="string"||a==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var u=e.apply(null,s);u&&n.push(u)}}else if(a==="object")if(s.toString===Object.prototype.toString)for(var c in s)t.call(s,c)&&s[c]&&n.push(c);else n.push(s.toString())}}return n.join(" ")}fy.exports?(e.default=e,fy.exports=e):window.classNames=e}()),r1.exports),pv=Af(j4),o1,Ni=Af(function(){if(s1)return i1;s1=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,a=Object.prototype.toString;function u(h){var d=typeof h;return!!h&&(d=="object"||d=="function")}function c(h){if(typeof h=="number")return h;if(function(y){return typeof y=="symbol"||function(_){return!!_&&typeof _=="object"}(y)&&a.call(y)=="[object Symbol]"}(h))return NaN;if(u(h)){var d=typeof h.valueOf=="function"?h.valueOf():h;h=u(d)?d+"":d}if(typeof h!="string")return h===0?h:+h;h=h.replace(t,"");var m=n.test(h);return m||r.test(h)?s(h.slice(2),m?2:8):e.test(h)?NaN:+h}return i1=function(h,d,m){return m===void 0&&(m=d,d=void 0),m!==void 0&&(m=(m=c(m))==m?m:0),d!==void 0&&(d=(d=c(d))==d?d:0),function(y,_,E){return y==y&&(E!==void 0&&(y=y<=E?y:E),_!==void 0&&(y=y>=_?y:_)),y}(c(h),d,m)}}()),hy={exports:{}},H4=(o1||(o1=1,function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",a="[object Array]",u="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Function]",m="[object Map]",y="[object Number]",_="[object Object]",E="[object Promise]",T="[object RegExp]",C="[object Set]",N="[object String]",k="[object Symbol]",j="[object WeakMap]",q="[object ArrayBuffer]",F="[object DataView]",K=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[s]=R[a]=R[q]=R[u]=R[F]=R[c]=R[h]=R[d]=R[m]=R[y]=R[_]=R[T]=R[C]=R[N]=R[j]=!1;var I=typeof Ro=="object"&&Ro&&Ro.Object===Object&&Ro,D=typeof self=="object"&&self&&self.Object===Object&&self,P=I||D||Function("return this")(),U=e&&!e.nodeType&&e,L=U&&t&&!t.nodeType&&t,A=L&&L.exports===U,O=A&&I.process,G=function(){try{return O&&O.binding&&O.binding("util")}catch{}}(),z=G&&G.isTypedArray;function Y(W,fe){for(var Se=-1,Ie=W==null?0:W.length;++Se<Ie;)if(fe(W[Se],Se,W))return!0;return!1}function Z(W){var fe=-1,Se=Array(W.size);return W.forEach(function(Ie,st){Se[++fe]=[st,Ie]}),Se}function J(W){var fe=-1,Se=Array(W.size);return W.forEach(function(Ie){Se[++fe]=Ie}),Se}var b,Q,re,M=Array.prototype,ce=Function.prototype,be=Object.prototype,we=P["__core-js_shared__"],De=ce.toString,ye=be.hasOwnProperty,xe=(b=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",Ce=be.toString,Fe=RegExp("^"+De.call(ye).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_t=A?P.Buffer:void 0,Et=P.Symbol,wt=P.Uint8Array,ze=be.propertyIsEnumerable,Wt=M.splice,Ue=Et?Et.toStringTag:void 0,Me=Object.getOwnPropertySymbols,$t=_t?_t.isBuffer:void 0,dn=(Q=Object.keys,re=Object,function(W){return Q(re(W))}),pn=Ur(P,"DataView"),En=Ur(P,"Map"),mn=Ur(P,"Promise"),en=Ur(P,"Set"),Cn=Ur(P,"WeakMap"),ne=Ur(Object,"create"),pe=ln(pn),Re=ln(En),Pe=ln(mn),Je=ln(en),ft=ln(Cn),Dt=Et?Et.prototype:void 0,Ot=Dt?Dt.valueOf:void 0;function Mt(W){var fe=-1,Se=W==null?0:W.length;for(this.clear();++fe<Se;){var Ie=W[fe];this.set(Ie[0],Ie[1])}}function ht(W){var fe=-1,Se=W==null?0:W.length;for(this.clear();++fe<Se;){var Ie=W[fe];this.set(Ie[0],Ie[1])}}function et(W){var fe=-1,Se=W==null?0:W.length;for(this.clear();++fe<Se;){var Ie=W[fe];this.set(Ie[0],Ie[1])}}function Ht(W){var fe=-1,Se=W==null?0:W.length;for(this.__data__=new et;++fe<Se;)this.add(W[fe])}function zt(W){var fe=this.__data__=new ht(W);this.size=fe.size}function Si(W,fe){var Se=gr(W),Ie=!Se&&Zo(W),st=!Se&&!Ie&&Ui(W),Xe=!Se&&!Ie&&!st&&vr(W),Pt=Se||Ie||st||Xe,Ct=Pt?function(bt,Rt){for(var wn=-1,un=Array(bt);++wn<bt;)un[wn]=Rt(wn);return un}(W.length,String):[],zn=Ct.length;for(var It in W)!ye.call(W,It)||Pt&&(It=="length"||st&&(It=="offset"||It=="parent")||Xe&&(It=="buffer"||It=="byteLength"||It=="byteOffset")||tn(It,zn))||Ct.push(It);return Ct}function ir(W,fe){for(var Se=W.length;Se--;)if(zi(W[Se][0],fe))return Se;return-1}function In(W){return W==null?W===void 0?"[object Undefined]":"[object Null]":Ue&&Ue in Object(W)?function(fe){var Se=ye.call(fe,Ue),Ie=fe[Ue];try{fe[Ue]=void 0;var st=!0}catch{}var Xe=Ce.call(fe);return st&&(Se?fe[Ue]=Ie:delete fe[Ue]),Xe}(W):function(fe){return Ce.call(fe)}(W)}function pr(W){return Ln(W)&&In(W)==s}function sr(W,fe,Se,Ie,st){return W===fe||(W==null||fe==null||!Ln(W)&&!Ln(fe)?W!=W&&fe!=fe:function(Xe,Pt,Ct,zn,It,bt){var Rt=gr(Xe),wn=gr(Pt),un=Rt?a:At(Xe),gn=wn?a:At(Pt),_r=(un=un==s?_:un)==_,Er=(gn=gn==s?_:gn)==_,ri=un==gn;if(ri&&Ui(Xe)){if(!Ui(Pt))return!1;Rt=!0,_r=!1}if(ri&&!_r)return bt||(bt=new zt),Rt||vr(Xe)?zr(Xe,Pt,Ct,zn,It,bt):function(dt,ct,si,oi,nn,Gt,Yn){switch(si){case F:if(dt.byteLength!=ct.byteLength||dt.byteOffset!=ct.byteOffset)return!1;dt=dt.buffer,ct=ct.buffer;case q:return!(dt.byteLength!=ct.byteLength||!Gt(new wt(dt),new wt(ct)));case u:case c:case y:return zi(+dt,+ct);case h:return dt.name==ct.name&&dt.message==ct.message;case T:case N:return dt==ct+"";case m:var Kn=Z;case C:var wr=1&oi;if(Kn||(Kn=J),dt.size!=ct.size&&!wr)return!1;var vt=Yn.get(dt);if(vt)return vt==ct;oi|=2,Yn.set(dt,ct);var xi=zr(Kn(dt),Kn(ct),oi,nn,Gt,Yn);return Yn.delete(dt),xi;case k:if(Ot)return Ot.call(dt)==Ot.call(ct)}return!1}(Xe,Pt,un,Ct,zn,It,bt);if(!(1&Ct)){var ii=_r&&ye.call(Xe,"__wrapped__"),Un=Er&&ye.call(Pt,"__wrapped__");if(ii||Un){var Jo=ii?Xe.value():Xe,Iu=Un?Pt.value():Pt;return bt||(bt=new zt),It(Jo,Iu,Ct,zn,bt)}}return!!ri&&(bt||(bt=new zt),function(dt,ct,si,oi,nn,Gt){var Yn=1&si,Kn=Ti(dt),wr=Kn.length,vt=Ti(ct),xi=vt.length;if(wr!=xi&&!Yn)return!1;for(var Xn=wr;Xn--;){var br=Kn[Xn];if(!(Yn?br in ct:ye.call(ct,br)))return!1}var ea=Gt.get(dt);if(ea&&Gt.get(ct))return ea==ct;var Bi=!0;Gt.set(dt,ct),Gt.set(ct,dt);for(var hs=Yn;++Xn<wr;){var Ys=dt[br=Kn[Xn]],Ks=ct[br];if(oi)var ds=Yn?oi(Ks,Ys,br,ct,dt,Gt):oi(Ys,Ks,br,dt,ct,Gt);if(!(ds===void 0?Ys===Ks||nn(Ys,Ks,si,oi,Gt):ds)){Bi=!1;break}hs||(hs=br=="constructor")}if(Bi&&!hs){var Ir=dt.constructor,Qn=ct.constructor;Ir==Qn||!("constructor"in dt)||!("constructor"in ct)||typeof Ir=="function"&&Ir instanceof Ir&&typeof Qn=="function"&&Qn instanceof Qn||(Bi=!1)}return Gt.delete(dt),Gt.delete(ct),Bi}(Xe,Pt,Ct,zn,It,bt))}(W,fe,Se,Ie,sr,st))}function Cr(W){return!(!yr(W)||function(fe){return!!xe&&xe in fe}(W))&&(ni(W)?Fe:K).test(ln(W))}function fs(W){if(Se=(fe=W)&&fe.constructor,Ie=typeof Se=="function"&&Se.prototype||be,fe!==Ie)return dn(W);var fe,Se,Ie,st=[];for(var Xe in Object(W))ye.call(W,Xe)&&Xe!="constructor"&&st.push(Xe);return st}function zr(W,fe,Se,Ie,st,Xe){var Pt=1&Se,Ct=W.length,zn=fe.length;if(Ct!=zn&&!(Pt&&zn>Ct))return!1;var It=Xe.get(W);if(It&&Xe.get(fe))return It==fe;var bt=-1,Rt=!0,wn=2&Se?new Ht:void 0;for(Xe.set(W,fe),Xe.set(fe,W);++bt<Ct;){var un=W[bt],gn=fe[bt];if(Ie)var _r=Pt?Ie(gn,un,bt,fe,W,Xe):Ie(un,gn,bt,W,fe,Xe);if(_r!==void 0){if(_r)continue;Rt=!1;break}if(wn){if(!Y(fe,function(Er,ri){if(ii=ri,!wn.has(ii)&&(un===Er||st(un,Er,Se,Ie,Xe)))return wn.push(ri);var ii})){Rt=!1;break}}else if(un!==gn&&!st(un,gn,Se,Ie,Xe)){Rt=!1;break}}return Xe.delete(W),Xe.delete(fe),Rt}function Ti(W){return function(fe,Se,Ie){var st=Se(fe);return gr(fe)?st:function(Xe,Pt){for(var Ct=-1,zn=Pt.length,It=Xe.length;++Ct<zn;)Xe[It+Ct]=Pt[Ct];return Xe}(st,Ie(fe))}(W,Rn,Ut)}function mr(W,fe){var Se,Ie,st=W.__data__;return((Ie=typeof(Se=fe))=="string"||Ie=="number"||Ie=="symbol"||Ie=="boolean"?Se!=="__proto__":Se===null)?st[typeof fe=="string"?"string":"hash"]:st.map}function Ur(W,fe){var Se=function(Ie,st){return Ie?.[st]}(W,fe);return Cr(Se)?Se:void 0}Mt.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},Mt.prototype.delete=function(W){var fe=this.has(W)&&delete this.__data__[W];return this.size-=fe?1:0,fe},Mt.prototype.get=function(W){var fe=this.__data__;if(ne){var Se=fe[W];return Se===n?void 0:Se}return ye.call(fe,W)?fe[W]:void 0},Mt.prototype.has=function(W){var fe=this.__data__;return ne?fe[W]!==void 0:ye.call(fe,W)},Mt.prototype.set=function(W,fe){var Se=this.__data__;return this.size+=this.has(W)?0:1,Se[W]=ne&&fe===void 0?n:fe,this},ht.prototype.clear=function(){this.__data__=[],this.size=0},ht.prototype.delete=function(W){var fe=this.__data__,Se=ir(fe,W);return!(Se<0||(Se==fe.length-1?fe.pop():Wt.call(fe,Se,1),--this.size,0))},ht.prototype.get=function(W){var fe=this.__data__,Se=ir(fe,W);return Se<0?void 0:fe[Se][1]},ht.prototype.has=function(W){return ir(this.__data__,W)>-1},ht.prototype.set=function(W,fe){var Se=this.__data__,Ie=ir(Se,W);return Ie<0?(++this.size,Se.push([W,fe])):Se[Ie][1]=fe,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new Mt,map:new(En||ht),string:new Mt}},et.prototype.delete=function(W){var fe=mr(this,W).delete(W);return this.size-=fe?1:0,fe},et.prototype.get=function(W){return mr(this,W).get(W)},et.prototype.has=function(W){return mr(this,W).has(W)},et.prototype.set=function(W,fe){var Se=mr(this,W),Ie=Se.size;return Se.set(W,fe),this.size+=Se.size==Ie?0:1,this},Ht.prototype.add=Ht.prototype.push=function(W){return this.__data__.set(W,n),this},Ht.prototype.has=function(W){return this.__data__.has(W)},zt.prototype.clear=function(){this.__data__=new ht,this.size=0},zt.prototype.delete=function(W){var fe=this.__data__,Se=fe.delete(W);return this.size=fe.size,Se},zt.prototype.get=function(W){return this.__data__.get(W)},zt.prototype.has=function(W){return this.__data__.has(W)},zt.prototype.set=function(W,fe){var Se=this.__data__;if(Se instanceof ht){var Ie=Se.__data__;if(!En||Ie.length<199)return Ie.push([W,fe]),this.size=++Se.size,this;Se=this.__data__=new et(Ie)}return Se.set(W,fe),this.size=Se.size,this};var Ut=Me?function(W){return W==null?[]:(W=Object(W),function(fe,Se){for(var Ie=-1,st=fe==null?0:fe.length,Xe=0,Pt=[];++Ie<st;){var Ct=fe[Ie];Se(Ct,Ie,fe)&&(Pt[Xe++]=Ct)}return Pt}(Me(W),function(fe){return ze.call(W,fe)}))}:function(){return[]},At=In;function tn(W,fe){return!!(fe=fe??r)&&(typeof W=="number"||$.test(W))&&W>-1&&W%1==0&&W<fe}function ln(W){if(W!=null){try{return De.call(W)}catch{}try{return W+""}catch{}}return""}function zi(W,fe){return W===fe||W!=W&&fe!=fe}(pn&&At(new pn(new ArrayBuffer(1)))!=F||En&&At(new En)!=m||mn&&At(mn.resolve())!=E||en&&At(new en)!=C||Cn&&At(new Cn)!=j)&&(At=function(W){var fe=In(W),Se=fe==_?W.constructor:void 0,Ie=Se?ln(Se):"";if(Ie)switch(Ie){case pe:return F;case Re:return m;case Pe:return E;case Je:return C;case ft:return j}return fe});var Zo=pr(function(){return arguments}())?pr:function(W){return Ln(W)&&ye.call(W,"callee")&&!ze.call(W,"callee")},gr=Array.isArray,Ui=$t||function(){return!1};function ni(W){if(!yr(W))return!1;var fe=In(W);return fe==d||fe=="[object GeneratorFunction]"||fe=="[object AsyncFunction]"||fe=="[object Proxy]"}function Br(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=r}function yr(W){var fe=typeof W;return W!=null&&(fe=="object"||fe=="function")}function Ln(W){return W!=null&&typeof W=="object"}var vr=z?function(W){return function(fe){return W(fe)}}(z):function(W){return Ln(W)&&Br(W.length)&&!!R[In(W)]};function Rn(W){return(fe=W)!=null&&Br(fe.length)&&!ni(fe)?Si(W):fs(W);var fe}t.exports=function(W,fe){return sr(W,fe)}}(hy,hy.exports)),hy.exports),q4=Af(H4);function a1(t,e,n){return t[e]?t[e][0]?t[e][0][n]:t[e][n]:e==="contentBoxSize"?t.contentRect[n==="inlineSize"?"width":"height"]:void 0}function $4(t){t===void 0&&(t={});var e=t.onResize,n=V.useRef(void 0);n.current=e;var r=t.round||Math.round,s=V.useRef(),a=V.useState({width:void 0,height:void 0}),u=a[0],c=a[1],h=V.useRef(!1);V.useEffect(function(){return h.current=!1,function(){h.current=!0}},[]);var d=V.useRef({width:void 0,height:void 0}),m=function(y,_){var E=V.useRef(null),T=V.useRef(null);T.current=_;var C=V.useRef(null);V.useEffect(function(){N()});var N=V.useCallback(function(){var k=C.current,j=T.current,q=k||(j?j instanceof Element?j:j.current:null);E.current&&E.current.element===q&&E.current.subscriber===y||(E.current&&E.current.cleanup&&E.current.cleanup(),E.current={element:q,subscriber:y,cleanup:q?y(q):void 0})},[y]);return V.useEffect(function(){return function(){E.current&&E.current.cleanup&&(E.current.cleanup(),E.current=null)}},[]),V.useCallback(function(k){C.current=k,N()},[N])}(V.useCallback(function(y){return s.current&&s.current.box===t.box&&s.current.round===r||(s.current={box:t.box,round:r,instance:new ResizeObserver(function(_){var E=_[0],T=t.box==="border-box"?"borderBoxSize":t.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",C=a1(E,T,"inlineSize"),N=a1(E,T,"blockSize"),k=C?r(C):void 0,j=N?r(N):void 0;if(d.current.width!==k||d.current.height!==j){var q={width:k,height:j};d.current.width=k,d.current.height=j,n.current?n.current(q):h.current||c(q)}})}),s.current.instance.observe(y,{box:t.box}),function(){s.current&&s.current.instance.unobserve(y)}},[t.box,r]),t.ref);return V.useMemo(function(){return{ref:m,width:u.width,height:u.height}},[m,u.width,u.height])}var G4="allotment-module_splitView__L-yRc",Y4="allotment-module_sashContainer__fzwJF",K4="allotment-module_splitViewContainer__rQnVa",wC="allotment-module_splitViewView__MGZ6O",X4="allotment-module_vertical__WSwwa",Q4="allotment-module_horizontal__7doS8",W4="allotment-module_separatorBorder__x-rDS";let Rc,bC=!1,SC=!1;typeof navigator=="object"&&(Rc=navigator.userAgent,SC=Rc.indexOf("Macintosh")>=0,bC=(Rc.indexOf("Macintosh")>=0||Rc.indexOf("iPad")>=0||Rc.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const TC=bC,Z4=SC,l1=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?V.useLayoutEffect:V.useEffect;let J4=class{constructor(){this._size=void 0}getSize(){return this._size}setSize(e){this._size=e}};function fd(t,e){const n=t.length,r=n-e.length;return r>=0&&t.slice(r,n)===e}var u1,c1={exports:{}},f1,h1,eL=(u1||(u1=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function s(h,d,m){this.fn=h,this.context=d,this.once=m||!1}function a(h,d,m,y,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var E=new s(m,y||h,_),T=n?n+d:d;return h._events[T]?h._events[T].fn?h._events[T]=[h._events[T],E]:h._events[T].push(E):(h._events[T]=E,h._eventsCount++),h}function u(h,d){--h._eventsCount==0?h._events=new r:delete h._events[d]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),c.prototype.eventNames=function(){var h,d,m=[];if(this._eventsCount===0)return m;for(d in h=this._events)e.call(h,d)&&m.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},c.prototype.listeners=function(h){var d=n?n+h:h,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,_=m.length,E=new Array(_);y<_;y++)E[y]=m[y].fn;return E},c.prototype.listenerCount=function(h){var d=n?n+h:h,m=this._events[d];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,d,m,y,_,E){var T=n?n+h:h;if(!this._events[T])return!1;var C,N,k=this._events[T],j=arguments.length;if(k.fn){switch(k.once&&this.removeListener(h,k.fn,void 0,!0),j){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,m),!0;case 4:return k.fn.call(k.context,d,m,y),!0;case 5:return k.fn.call(k.context,d,m,y,_),!0;case 6:return k.fn.call(k.context,d,m,y,_,E),!0}for(N=1,C=new Array(j-1);N<j;N++)C[N-1]=arguments[N];k.fn.apply(k.context,C)}else{var q,F=k.length;for(N=0;N<F;N++)switch(k[N].once&&this.removeListener(h,k[N].fn,void 0,!0),j){case 1:k[N].fn.call(k[N].context);break;case 2:k[N].fn.call(k[N].context,d);break;case 3:k[N].fn.call(k[N].context,d,m);break;case 4:k[N].fn.call(k[N].context,d,m,y);break;default:if(!C)for(q=1,C=new Array(j-1);q<j;q++)C[q-1]=arguments[q];k[N].fn.apply(k[N].context,C)}}return!0},c.prototype.on=function(h,d,m){return a(this,h,d,m,!1)},c.prototype.once=function(h,d,m){return a(this,h,d,m,!0)},c.prototype.removeListener=function(h,d,m,y){var _=n?n+h:h;if(!this._events[_])return this;if(!d)return u(this,_),this;var E=this._events[_];if(E.fn)E.fn!==d||y&&!E.once||m&&E.context!==m||u(this,_);else{for(var T=0,C=[],N=E.length;T<N;T++)(E[T].fn!==d||y&&!E[T].once||m&&E[T].context!==m)&&C.push(E[T]);C.length?this._events[_]=C.length===1?C[0]:C:u(this,_)}return this},c.prototype.removeAllListeners=function(h){var d;return h?(d=n?n+h:h,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(c1)),c1.exports),b_=Af(eL);function d1(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.unshift(e))}function dy(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.push(e))}function gi(t,e,n=1){const r=Math.max(0,Math.ceil((e-t)/n)),s=new Array(r);let a=-1;for(;++a<r;)s[a]=t+a*n;return s}var tL=Af(function(){if(h1)return f1;h1=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,a=typeof Ro=="object"&&Ro&&Ro.Object===Object&&Ro,u=typeof self=="object"&&self&&self.Object===Object&&self,c=a||u||Function("return this")(),h=Object.prototype.toString,d=Math.max,m=Math.min,y=function(){return c.Date.now()};function _(T){var C=typeof T;return!!T&&(C=="object"||C=="function")}function E(T){if(typeof T=="number")return T;if(function(k){return typeof k=="symbol"||function(j){return!!j&&typeof j=="object"}(k)&&h.call(k)=="[object Symbol]"}(T))return NaN;if(_(T)){var C=typeof T.valueOf=="function"?T.valueOf():T;T=_(C)?C+"":C}if(typeof T!="string")return T===0?T:+T;T=T.replace(t,"");var N=n.test(T);return N||r.test(T)?s(T.slice(2),N?2:8):e.test(T)?NaN:+T}return f1=function(T,C,N){var k,j,q,F,K,$,R=0,I=!1,D=!1,P=!0;if(typeof T!="function")throw new TypeError("Expected a function");function U(z){var Y=k,Z=j;return k=j=void 0,R=z,F=T.apply(Z,Y)}function L(z){var Y=z-$;return $===void 0||Y>=C||Y<0||D&&z-R>=q}function A(){var z=y();if(L(z))return O(z);K=setTimeout(A,function(Y){var Z=C-(Y-$);return D?m(Z,q-(Y-R)):Z}(z))}function O(z){return K=void 0,P&&k?U(z):(k=j=void 0,F)}function G(){var z=y(),Y=L(z);if(k=arguments,j=this,$=z,Y){if(K===void 0)return function(Z){return R=Z,K=setTimeout(A,C),I?U(Z):F}($);if(D)return K=setTimeout(A,C),U($)}return K===void 0&&(K=setTimeout(A,C)),F}return C=E(C)||0,_(N)&&(I=!!N.leading,q=(D="maxWait"in N)?d(E(N.maxWait)||0,C):q,P="trailing"in N?!!N.trailing:P),G.cancel=function(){K!==void 0&&clearTimeout(K),R=0,k=$=j=K=void 0},G.flush=function(){return K===void 0?F:O(y())},G}}()),nL="sash-module_sash__K-9lB",rL="sash-module_disabled__Hm-wx",iL="sash-module_mac__Jf6OJ",p1="sash-module_vertical__pB-rs",sL="sash-module_minimum__-UKxp",oL="sash-module_maximum__TCWxD",m1="sash-module_horizontal__kFbiw",py="sash-module_hover__80W6I",my="sash-module_active__bJspD";let vi=function(t){return t.Vertical="VERTICAL",t.Horizontal="HORIZONTAL",t}({}),Xr=function(t){return t.Disabled="DISABLED",t.Minimum="MINIMUM",t.Maximum="MAXIMUM",t.Enabled="ENABLED",t}({}),xC=TC?20:8;const AC=new b_;class g1 extends b_{get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle(rL,e===Xr.Disabled),this.el.classList.toggle("sash-disabled",e===Xr.Disabled),this.el.classList.toggle(sL,e===Xr.Minimum),this.el.classList.toggle("sash-minimum",e===Xr.Minimum),this.el.classList.toggle(oL,e===Xr.Maximum),this.el.classList.toggle("sash-maximum",e===Xr.Maximum),this._state=e,this.emit("enablementChange",e))}constructor(e,n,r){var s;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=tL(a=>a.classList.add("sash-hover",py),this.hoverDelay),this._state=Xr.Enabled,this.onPointerStart=a=>{const u=a.pageX,c=a.pageY,h={startX:u,currentX:u,startY:c,currentY:c};this.el.classList.add("sash-active",my),this.emit("start",h),this.el.setPointerCapture(a.pointerId);const d=y=>{y.preventDefault();const _={startX:u,currentX:y.pageX,startY:c,currentY:y.pageY};this.emit("change",_)},m=y=>{y.preventDefault(),this.el.classList.remove("sash-active",my),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(y.pointerId),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",m)};window.addEventListener("pointermove",d),window.addEventListener("pointerup",m)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(my)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",py)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",py)},this.el=document.createElement("div"),this.el.classList.add("sash",nL),this.el.dataset.testid="sash",e.append(this.el),Z4&&this.el.classList.add("sash-mac",iL),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof r.size=="number"?(this.size=r.size,r.orientation===vi.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=xC,AC.on("onDidChangeGlobalSize",a=>{this.size=a,this.layout()})),this.layoutProvider=n,this.orientation=(s=r.orientation)!=null?s:vi.Vertical,this.orientation===vi.Horizontal?(this.el.classList.add("sash-horizontal",m1),this.el.classList.remove("sash-vertical",p1)):(this.el.classList.remove("sash-horizontal",m1),this.el.classList.add("sash-vertical",p1)),this.layout()}layout(){if(this.orientation===vi.Vertical){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}let Kd;var gy;(gy=Kd||(Kd={})).Distribute={type:"distribute"},gy.Split=function(t){return{type:"split",index:t}},gy.Invisible=function(t){return{type:"invisible",cachedVisibleSize:t}};let yi=function(t){return t.Normal="NORMAL",t.Low="LOW",t.High="HIGH",t}({});class CC{constructor(e,n,r){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=e,this.view=n,this.container.classList.add("split-view-view",wC),this.container.dataset.testid="split-view-view",typeof r=="number"?(this._size=r,this._cachedVisibleSize=void 0,e.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=r.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(e,n){e!==this.visible&&(e?(this.size=Ni(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof n=="number"?n:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e){this.layoutContainer(e),this.view.layout(this.size,e)}}class aL extends CC{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}class lL extends CC{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class uL extends b_{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,n={},r,s,a){var u,c;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=h=>{this.emit("sashchange",h),this.saveProportions();for(const d of this.viewItems)d.enabled=!0},this.orientation=(u=n.orientation)!=null?u:vi.Vertical,this.proportionalLayout=(c=n.proportionalLayout)!=null?c:!0,this.getSashOrthogonalSize=n.getSashOrthogonalSize,r&&(this.onDidChange=r),s&&(this.onDidDragStart=s),a&&(this.onDidDragEnd=a),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",Y4),e.prepend(this.sashContainer),n.descriptor){this.size=n.descriptor.size;for(const[h,d]of n.descriptor.views.entries()){const m=d.size,y=d.container,_=d.view;this.addView(y,_,m,h,!0)}this.contentSize=this.viewItems.reduce((h,d)=>h+d.size,0),this.saveProportions()}}addView(e,n,r,s=this.viewItems.length,a){let u;u=typeof r=="number"?r:r.type==="split"?this.getViewSize(r.index)/2:r.type==="invisible"?{cachedVisibleSize:r.cachedVisibleSize}:n.minimumSize;const c=this.orientation===vi.Vertical?new lL(e,n,u):new aL(e,n,u);if(this.viewItems.splice(s,0,c),this.viewItems.length>1){const h=this.orientation===vi.Vertical?new g1(this.sashContainer,{getHorizontalSashTop:y=>this.getSashPosition(y),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:vi.Horizontal}):new g1(this.sashContainer,{getVerticalSashLeft:y=>this.getSashPosition(y),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:vi.Vertical}),d=this.orientation===vi.Vertical?y=>({sash:h,start:y.startY,current:y.currentY}):y=>({sash:h,start:y.startX,current:y.currentX});h.on("start",y=>{var _;this.emit("sashDragStart"),this.onSashStart(d(y));const E=this.viewItems.map(T=>T.size);(_=this.onDidDragStart)==null||_.call(this,E)}),h.on("change",y=>this.onSashChange(d(y))),h.on("end",()=>{var y;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(E=>E.sash===h));const _=this.viewItems.map(E=>E.size);(y=this.onDidDragEnd)==null||y.call(this,_)}),h.on("reset",()=>{const y=this.sashItems.findIndex(N=>N.sash===h),_=gi(y,-1,-1),E=gi(y+1,this.viewItems.length),T=this.findFirstSnapIndex(_),C=this.findFirstSnapIndex(E);(typeof T!="number"||this.viewItems[T].visible)&&(typeof C!="number"||this.viewItems[C].visible)&&this.emit("sashreset",y)});const m={sash:h};this.sashItems.splice(s-1,0,m)}a||this.relayout(),a||typeof r=="number"||r.type!=="distribute"||this.distributeViewSizes()}removeView(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");const r=this.viewItems.splice(e,1)[0].view;if(this.viewItems.length>=1){const s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].sash.dispose()}return this.relayout(),n&&n.type==="distribute"&&this.distributeViewSizes(),r}moveView(e,n,r){const s=this.getViewCachedVisibleSize(n),a=s===void 0?this.getViewSize(n):Kd.Invisible(s),u=this.removeView(n);this.addView(e,u,a,r)}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e=this.size){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.proportions)for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r];s.size=Ni(Math.round(this.proportions[r]*e),s.minimumSize,s.maximumSize)}else{const r=gi(0,this.viewItems.length),s=r.filter(u=>this.viewItems[u].priority===yi.Low),a=r.filter(u=>this.viewItems[u].priority===yi.High);this.resize(this.viewItems.length-1,e-n,void 0,s,a)}this.distributeEmptySpace(),this.layoutViews()}resizeView(e,n){if(e<0||e>=this.viewItems.length)return;const r=gi(0,this.viewItems.length).filter(c=>c!==e),s=[...r.filter(c=>this.viewItems[c].priority===yi.Low),e],a=r.filter(c=>this.viewItems[c].priority===yi.High),u=this.viewItems[e];n=Math.round(n),n=Ni(n,u.minimumSize,Math.min(u.maximumSize,this.size)),u.size=n,this.relayout(s,a)}resizeViews(e){for(let n=0;n<e.length;n++){const r=this.viewItems[n];let s=e[n];s=Math.round(s),s=Ni(s,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=s}this.contentSize=this.viewItems.reduce((n,r)=>n+r.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(n),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const e=[];let n=0;for(const c of this.viewItems)c.maximumSize-c.minimumSize>0&&(e.push(c),n+=c.size);const r=Math.floor(n/e.length);for(const c of e)c.size=Ni(r,c.minimumSize,c.maximumSize);const s=gi(0,this.viewItems.length),a=s.filter(c=>this.viewItems[c].priority===yi.Low),u=s.filter(c=>this.viewItems[c].priority===yi.High);this.relayout(a,u)}dispose(){this.sashItems.forEach(e=>e.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(e,n){const r=this.viewItems.reduce((s,a)=>s+a.size,0);this.resize(this.viewItems.length-1,this.size-r,void 0,e,n),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:e,start:n}){const r=this.sashItems.findIndex(s=>s.sash===e);(s=>{const a=this.viewItems.map(j=>j.size);let u,c,h=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;const m=gi(r,-1,-1),y=gi(r+1,this.viewItems.length),_=m.reduce((j,q)=>j+(this.viewItems[q].minimumSize-a[q]),0),E=m.reduce((j,q)=>j+(this.viewItems[q].viewMaximumSize-a[q]),0),T=y.length===0?Number.POSITIVE_INFINITY:y.reduce((j,q)=>j+(a[q]-this.viewItems[q].minimumSize),0),C=y.length===0?Number.NEGATIVE_INFINITY:y.reduce((j,q)=>j+(a[q]-this.viewItems[q].viewMaximumSize),0);h=Math.max(_,C),d=Math.min(T,E);const N=this.findFirstSnapIndex(m),k=this.findFirstSnapIndex(y);if(typeof N=="number"){const j=this.viewItems[N],q=Math.floor(j.viewMinimumSize/2);u={index:N,limitDelta:j.visible?h-q:h+q,size:j.size}}if(typeof k=="number"){const j=this.viewItems[k],q=Math.floor(j.viewMinimumSize/2);c={index:k,limitDelta:j.visible?d+q:d-q,size:j.size}}this.sashDragState={start:s,current:s,index:r,sizes:a,minDelta:h,maxDelta:d,snapBefore:u,snapAfter:c}})(n)}onSashChange({current:e}){const{index:n,start:r,sizes:s,minDelta:a,maxDelta:u,snapBefore:c,snapAfter:h}=this.sashDragState;this.sashDragState.current=e;const d=e-r;this.resize(n,d,s,void 0,void 0,a,u,c,h),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(e){let n=0;for(let r=0;r<this.sashItems.length;r++)if(n+=this.viewItems[r].size,this.sashItems[r].sash===e)return n;return 0}resize(e,n,r=this.viewItems.map(m=>m.size),s,a,u=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,h,d){if(e<0||e>=this.viewItems.length)return 0;const m=gi(e,-1,-1),y=gi(e+1,this.viewItems.length);if(a)for(const R of a)d1(m,R),d1(y,R);if(s)for(const R of s)dy(m,R),dy(y,R);const _=m.map(R=>this.viewItems[R]),E=m.map(R=>r[R]),T=y.map(R=>this.viewItems[R]),C=y.map(R=>r[R]),N=m.reduce((R,I)=>R+(this.viewItems[I].minimumSize-r[I]),0),k=m.reduce((R,I)=>R+(this.viewItems[I].maximumSize-r[I]),0),j=y.length===0?Number.POSITIVE_INFINITY:y.reduce((R,I)=>R+(r[I]-this.viewItems[I].minimumSize),0),q=y.length===0?Number.NEGATIVE_INFINITY:y.reduce((R,I)=>R+(r[I]-this.viewItems[I].maximumSize),0),F=Math.max(N,q,u),K=Math.min(j,k,c);let $=!1;if(h){const R=this.viewItems[h.index],I=n>=h.limitDelta;$=I!==R.visible,R.setVisible(I,h.size)}if(!$&&d){const R=this.viewItems[d.index],I=n<d.limitDelta;$=I!==R.visible,R.setVisible(I,d.size)}if($)return this.resize(e,n,r,s,a,u,c);for(let R=0,I=n=Ni(n,F,K);R<_.length;R++){const D=_[R],P=Ni(E[R]+I,D.minimumSize,D.maximumSize);I-=P-E[R],D.size=P}for(let R=0,I=n;R<T.length;R++){const D=T[R],P=Ni(C[R]-I,D.minimumSize,D.maximumSize);I+=P-C[R],D.size=P}return n}distributeEmptySpace(e){const n=this.viewItems.reduce((d,m)=>d+m.size,0);let r=this.size-n;const s=gi(0,this.viewItems.length),a=[],u=s.filter(d=>this.viewItems[d].priority===yi.Low),c=s.filter(d=>this.viewItems[d].priority===yi.Normal),h=s.filter(d=>this.viewItems[d].priority===yi.High);a.push(...h,...c,...u),typeof e=="number"&&dy(a,e);for(let d=0;r!==0&&d<a.length;d++){const m=this.viewItems[a[d]],y=Ni(m.size+r,m.minimumSize,m.maximumSize);r-=y-m.size,m.size=y}}layoutViews(){var e;this.contentSize=this.viewItems.reduce((r,s)=>r+s.size,0);let n=0;for(const r of this.viewItems)r.layout(n),n+=r.size;(e=this.onDidChange)!=null&&e.call(this,this.viewItems.map(r=>r.size)),this.sashItems.forEach(r=>r.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}updateSashEnablement(){let e=!1;const n=this.viewItems.map(h=>e=h.size-h.minimumSize>0||e);e=!1;const r=this.viewItems.map(h=>e=h.maximumSize-h.size>0||e),s=[...this.viewItems].reverse();e=!1;const a=s.map(h=>e=h.size-h.minimumSize>0||e).reverse();e=!1;const u=s.map(h=>e=h.maximumSize-h.size>0||e).reverse();let c=0;for(let h=0;h<this.sashItems.length;h++){const{sash:d}=this.sashItems[h];c+=this.viewItems[h].size;const m=!(n[h]&&u[h+1]),y=!(r[h]&&a[h+1]);if(m&&y){const _=gi(h,-1,-1),E=gi(h+1,this.viewItems.length),T=this.findFirstSnapIndex(_),C=this.findFirstSnapIndex(E),N=typeof T=="number"&&!this.viewItems[T].visible,k=typeof C=="number"&&!this.viewItems[C].visible;N&&a[h]&&(c>0||this.startSnappingEnabled)?d.state=Xr.Minimum:k&&n[h]&&(c<this.contentSize||this.endSnappingEnabled)?d.state=Xr.Maximum:d.state=Xr.Disabled}else d.state=m&&!y?Xr.Minimum:!m&&y?Xr.Maximum:Xr.Enabled}}findFirstSnapIndex(e){for(const n of e){const r=this.viewItems[n];if(r.visible&&r.snap)return n}for(const n of e){const r=this.viewItems[n];if(r.visible&&r.maximumSize-r.minimumSize>0)return;if(!r.visible&&r.snap)return n}}}class Ol{constructor(e){this.size=void 0,this.size=e}getPreferredSize(){return this.size}}class y1{constructor(e,n){this.proportion=void 0,this.layoutService=void 0,this.proportion=e,this.layoutService=n}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class hd{getPreferredSize(){}}class v1{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(e){if(typeof e=="number")this.layoutStrategy=new Ol(e);else if(typeof e=="string"){const n=e.trim();if(fd(n,"%")){const r=Number(n.slice(0,-1))/100;this.layoutStrategy=new y1(r,this.layoutService)}else if(fd(n,"px")){const r=Number(n.slice(0,-2))/100;this.layoutStrategy=new Ol(r)}else if(typeof Number.parseFloat(n)=="number"){const r=Number.parseFloat(n);this.layoutStrategy=new Ol(r)}else this.layoutStrategy=new hd}else this.layoutStrategy=new hd}constructor(e,n){var r;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=e,this.element=n.element,this.minimumSize=typeof n.minimumSize=="number"?n.minimumSize:30,this.maximumSize=typeof n.maximumSize=="number"?n.maximumSize:Number.POSITIVE_INFINITY,typeof n.preferredSize=="number")this.layoutStrategy=new Ol(n.preferredSize);else if(typeof n.preferredSize=="string"){const s=n.preferredSize.trim();if(fd(s,"%")){const a=Number(s.slice(0,-1))/100;this.layoutStrategy=new y1(a,this.layoutService)}else if(fd(s,"px")){const a=Number(s.slice(0,-2));this.layoutStrategy=new Ol(a)}else if(typeof Number.parseFloat(s)=="number"){const a=Number.parseFloat(s);this.layoutStrategy=new Ol(a)}else this.layoutStrategy=new hd}else this.layoutStrategy=new hd;this.priority=(r=n.priority)!=null?r:yi.Normal,this.snap=typeof n.snap=="boolean"&&n.snap}layout(e){}}function _1(t){return t.minSize!==void 0||t.maxSize!==void 0||t.preferredSize!==void 0||t.priority!==void 0||t.visible!==void 0}const S_=V.forwardRef(({className:t,children:e},n)=>de.createElement("div",{ref:n,className:pv("split-view-view",wC,t)},e));S_.displayName="Allotment.Pane";const IC=V.forwardRef(({children:t,className:e,id:n,maxSize:r=1/0,minSize:s=30,proportionalLayout:a=!0,separator:u=!0,sizes:c,defaultSizes:h=c,snap:d=!1,vertical:m=!1,onChange:y,onReset:_,onVisibleChange:E,onDragStart:T,onDragEnd:C},N)=>{const k=V.useRef(null),j=V.useRef([]),q=V.useRef(new Map),F=V.useRef(null),K=V.useRef(new Map),$=V.useRef(new J4),R=V.useRef([]),[I,D]=V.useState(!1),P=V.useMemo(()=>de.Children.toArray(t).filter(de.isValidElement),[t]),U=V.useCallback(L=>{var A,O;const G=(A=R.current)==null?void 0:A[L];return typeof G?.preferredSize=="number"&&((O=F.current)!=null&&O.resizeView(L,Math.round(G.preferredSize)),!0)},[]);return V.useImperativeHandle(N,()=>({reset:()=>{if(_)_();else{var L;(L=F.current)==null||L.distributeViewSizes();for(let A=0;A<R.current.length;A++)U(A)}},resize:L=>{var A;(A=F.current)==null||A.resizeViews(L)}})),l1(()=>{let L=!0;h&&K.current.size!==h.length&&(L=!1,console.warn(`Expected ${h.length} children based on defaultSizes but found ${K.current.size}`)),L&&h&&(j.current=P.map(G=>G.key));const A=qc({orientation:m?vi.Vertical:vi.Horizontal,proportionalLayout:a},L&&h&&{descriptor:{size:h.reduce((G,z)=>G+z,0),views:h.map((G,z)=>{var Y,Z,J,b;const Q=q.current.get(j.current[z]),re=new v1($.current,qc({element:document.createElement("div"),minimumSize:(Y=Q?.minSize)!=null?Y:s,maximumSize:(Z=Q?.maxSize)!=null?Z:r,priority:(J=Q?.priority)!=null?J:yi.Normal},Q?.preferredSize&&{preferredSize:Q?.preferredSize},{snap:(b=Q?.snap)!=null?b:d}));return R.current.push(re),{container:[...K.current.values()][z],size:G,view:re}})}});F.current=new uL(k.current,A,y,T,C),F.current.on("sashDragStart",()=>{var G;(G=k.current)==null||G.classList.add("split-view-sash-dragging")}),F.current.on("sashDragEnd",()=>{var G;(G=k.current)==null||G.classList.remove("split-view-sash-dragging")}),F.current.on("sashchange",G=>{if(E&&F.current){const z=P.map(Y=>Y.key);for(let Y=0;Y<z.length;Y++){const Z=q.current.get(z[Y]);Z?.visible!==void 0&&Z.visible!==F.current.isViewVisible(Y)&&E(Y,F.current.isViewVisible(Y))}}}),F.current.on("sashreset",G=>{if(_)_();else{var z;if(U(G)||U(G+1))return;(z=F.current)==null||z.distributeViewSizes()}});const O=F.current;return()=>{O.dispose()}},[]),l1(()=>{if(I){const M=P.map(ye=>ye.key),ce=[...j.current],be=M.filter(ye=>!j.current.includes(ye)),we=M.filter(ye=>j.current.includes(ye)),De=j.current.map(ye=>!M.includes(ye));for(let ye=De.length-1;ye>=0;ye--){var L;De[ye]&&((L=F.current)!=null&&L.removeView(ye),ce.splice(ye,1),R.current.splice(ye,1))}for(const ye of be){var A,O,G,z,Y;const xe=q.current.get(ye),Ce=new v1($.current,qc({element:document.createElement("div"),minimumSize:(A=xe?.minSize)!=null?A:s,maximumSize:(O=xe?.maxSize)!=null?O:r,priority:(G=xe?.priority)!=null?G:yi.Normal},xe?.preferredSize&&{preferredSize:xe?.preferredSize},{snap:(z=xe?.snap)!=null?z:d}));(Y=F.current)!=null&&Y.addView(K.current.get(ye),Ce,Kd.Distribute,M.findIndex(Fe=>Fe===ye)),ce.splice(M.findIndex(Fe=>Fe===ye),0,ye),R.current.splice(M.findIndex(Fe=>Fe===ye),0,Ce)}for(;!q4(M,ce);)for(const[ye,xe]of M.entries()){const Ce=ce.findIndex(Fe=>Fe===xe);if(Ce!==ye){var Z;(Z=F.current)==null||Z.moveView(K.current.get(xe),Ce,ye);const Fe=ce[Ce];ce.splice(Ce,1),ce.splice(ye,0,Fe);break}}for(const ye of be){var J;const xe=M.findIndex(Fe=>Fe===ye),Ce=R.current[xe].preferredSize;Ce!==void 0&&((J=F.current)==null||J.resizeView(xe,Ce))}for(const ye of[...be,...we]){var b,Q;const xe=q.current.get(ye),Ce=M.findIndex(Fe=>Fe===ye);xe&&_1(xe)&&xe.visible!==void 0&&((b=F.current)==null?void 0:b.isViewVisible(Ce))!==xe.visible&&((Q=F.current)==null||Q.setViewVisible(Ce,xe.visible))}for(const ye of we){const xe=q.current.get(ye),Ce=M.findIndex(Fe=>Fe===ye);if(xe&&_1(xe)){var re;xe.preferredSize!==void 0&&R.current[Ce].preferredSize!==xe.preferredSize&&(R.current[Ce].preferredSize=xe.preferredSize);let Fe=!1;xe.minSize!==void 0&&R.current[Ce].minimumSize!==xe.minSize&&(R.current[Ce].minimumSize=xe.minSize,Fe=!0),xe.maxSize!==void 0&&R.current[Ce].maximumSize!==xe.maxSize&&(R.current[Ce].maximumSize=xe.maxSize,Fe=!0),Fe&&((re=F.current)==null||re.layout())}}(be.length>0||De.length>0)&&(j.current=M)}},[P,I,r,s,d]),V.useEffect(()=>{F.current&&(F.current.onDidChange=y)},[y]),V.useEffect(()=>{F.current&&(F.current.onDidDragStart=T)},[T]),V.useEffect(()=>{F.current&&(F.current.onDidDragEnd=C)},[C]),$4({ref:k,onResize:({width:L,height:A})=>{var O;L&&A&&((O=F.current)!=null&&O.layout(m?A:L),$.current.setSize(m?A:L),D(!0))}}),V.useEffect(()=>{TC&&cL(20)},[]),de.createElement("div",{ref:k,className:pv("split-view",m?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":u},G4,m?X4:Q4,{[W4]:u},e),id:n},de.createElement("div",{className:pv("split-view-container",K4)},de.Children.toArray(t).map(L=>{if(!de.isValidElement(L))return null;const A=L.key;return L.type.displayName==="Allotment.Pane"?(q.current.set(A,L.props),de.cloneElement(L,{key:A,ref:O=>{const G=L.ref;G&&(G.current=O),O?K.current.set(A,O):K.current.delete(A)}})):de.createElement(S_,{key:A,ref:O=>{O?K.current.set(A,O):K.current.delete(A)}},L)})))});function cL(t){const e=Ni(t,4,20),n=Ni(t,1,8);document.documentElement.style.setProperty("--sash-size",e+"px"),document.documentElement.style.setProperty("--sash-hover-size",n+"px"),function(r){xC=r,AC.emit("onDidChangeGlobalSize",r)}(e)}IC.displayName="Allotment";var yy=Object.assign(IC,{Pane:S_});const fL=()=>{};var E1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},hL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],c=t[n++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},NC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,c=u?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|d>>6,E=d&63;h||(E=64,u||(_=64)),r.push(n[m],n[y],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||d==null||y==null)throw new dL;const _=a<<2|c>>4;if(r.push(_),d!==64){const E=c<<4&240|d>>2;if(r.push(E),y!==64){const T=d<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pL=function(t){const e=RC(t);return NC.encodeByteArray(e,!0)},Xd=function(t){return pL(t).replace(/\./g,"")},kC=function(t){try{return NC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=()=>mL().__FIREBASE_DEFAULTS__,yL=()=>{if(typeof process>"u"||typeof E1>"u")return;const t=E1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kC(t[1]);return e&&JSON.parse(e)},Ap=()=>{try{return fL()||gL()||yL()||vL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DC=t=>{var e,n;return(n=(e=Ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_L=t=>{const e=DC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OC=()=>{var t;return(t=Ap())===null||t===void 0?void 0:t.config},MC=t=>{var e;return(e=Ap())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){return t.endsWith(".cloudworkstations.dev")}async function PC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xd(JSON.stringify(n)),Xd(JSON.stringify(u)),""].join(".")}const $c={};function bL(){const t={prod:[],emulator:[]};for(const e of Object.keys($c))$c[e]?t.emulator.push(e):t.prod.push(e);return t}function SL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let w1=!1;function VC(t,e){if(typeof window>"u"||typeof document>"u"||!gu(window.location.host)||$c[t]===e||$c[t]||w1)return;$c[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=bL().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{w1=!0,u()},_}function m(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=SL(r),E=n("text"),T=document.getElementById(E)||document.createElement("span"),C=n("learnmore"),N=document.getElementById(C)||document.createElement("a"),k=n("preprendIcon"),j=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;c(q),m(N,C);const F=d();h(j,k),q.append(j,T,N,F),document.body.appendChild(q)}a?(T.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function xL(){var t;const e=(t=Ap())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RL(){const t=hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NL(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kL(){try{return typeof indexedDB=="object"}catch{return!1}}function DL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL="FirebaseError";class $s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OL,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?ML(a,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new $s(s,c,r)}}function ML(t,e){return t.replace(PL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PL=/\{\$([^}]+)}/g;function VL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ma(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(b1(a)&&b1(u)){if(!Ma(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function b1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LL(t,e){const n=new zL(t,e);return n.subscribe.bind(n)}class zL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=vy),s.error===void 0&&(s.error=vy),s.complete===void 0&&(s.complete=vy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Pa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jL(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FL(t){return t===Ta?void 0:t}function jL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const qL={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},$L=lt.INFO,GL={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},YL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=GL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T_{constructor(e){this.name=e,this._logLevel=$L,this._logHandler=YL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const KL=(t,e)=>e.some(n=>t instanceof n);let S1,T1;function XL(){return S1||(S1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QL(){return T1||(T1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LC=new WeakMap,mv=new WeakMap,zC=new WeakMap,_y=new WeakMap,x_=new WeakMap;function WL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Oo(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&LC.set(n,t)}).catch(()=>{}),x_.set(e,t),e}function ZL(t){if(mv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});mv.set(t,e)}let gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JL(t){gv=t(gv)}function ez(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ey(this),e,...n);return zC.set(r,e.sort?e.sort():[e]),Oo(r)}:QL().includes(t)?function(...e){return t.apply(Ey(this),e),Oo(LC.get(this))}:function(...e){return Oo(t.apply(Ey(this),e))}}function tz(t){return typeof t=="function"?ez(t):(t instanceof IDBTransaction&&ZL(t),KL(t,XL())?new Proxy(t,gv):t)}function Oo(t){if(t instanceof IDBRequest)return WL(t);if(_y.has(t))return _y.get(t);const e=tz(t);return e!==t&&(_y.set(t,e),x_.set(e,t)),e}const Ey=t=>x_.get(t);function nz(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),c=Oo(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Oo(u.result),h.oldVersion,h.newVersion,Oo(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const rz=["get","getKey","getAll","getAllKeys","count"],iz=["put","add","delete","clear"],wy=new Map;function x1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wy.get(e))return wy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=iz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rz.includes(n)))return;const a=async function(u,...c){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&h.done]))[0]};return wy.set(e,a),a}JL(t=>({...t,get:(e,n,r)=>x1(e,n)||t.get(e,n,r),has:(e,n)=>!!x1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oz(t){const e=t.getComponent();return e?.type==="VERSION"}const yv="@firebase/app",A1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new T_("@firebase/app"),az="@firebase/app-compat",lz="@firebase/analytics-compat",uz="@firebase/analytics",cz="@firebase/app-check-compat",fz="@firebase/app-check",hz="@firebase/auth",dz="@firebase/auth-compat",pz="@firebase/database",mz="@firebase/data-connect",gz="@firebase/database-compat",yz="@firebase/functions",vz="@firebase/functions-compat",_z="@firebase/installations",Ez="@firebase/installations-compat",wz="@firebase/messaging",bz="@firebase/messaging-compat",Sz="@firebase/performance",Tz="@firebase/performance-compat",xz="@firebase/remote-config",Az="@firebase/remote-config-compat",Cz="@firebase/storage",Iz="@firebase/storage-compat",Rz="@firebase/firestore",Nz="@firebase/ai",kz="@firebase/firestore-compat",Dz="firebase",Oz="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="[DEFAULT]",Mz={[yv]:"fire-core",[az]:"fire-core-compat",[uz]:"fire-analytics",[lz]:"fire-analytics-compat",[fz]:"fire-app-check",[cz]:"fire-app-check-compat",[hz]:"fire-auth",[dz]:"fire-auth-compat",[pz]:"fire-rtdb",[mz]:"fire-data-connect",[gz]:"fire-rtdb-compat",[yz]:"fire-fn",[vz]:"fire-fn-compat",[_z]:"fire-iid",[Ez]:"fire-iid-compat",[wz]:"fire-fcm",[bz]:"fire-fcm-compat",[Sz]:"fire-perf",[Tz]:"fire-perf-compat",[xz]:"fire-rc",[Az]:"fire-rc-compat",[Cz]:"fire-gcs",[Iz]:"fire-gcs-compat",[Rz]:"fire-fst",[kz]:"fire-fst-compat",[Nz]:"fire-vertex","fire-js":"fire-js",[Dz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Map,Pz=new Map,_v=new Map;function C1(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lu(t){const e=t.name;if(_v.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;_v.set(e,t);for(const n of Qd.values())C1(n,t);for(const n of Pz.values())C1(n,t);return!0}function A_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ei(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mo=new Cf("app","Firebase",Vz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=Oz;function UC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Mo.create("bad-app-name",{appName:String(s)});if(n||(n=OC()),!n)throw Mo.create("no-options");const a=Qd.get(s);if(a){if(Ma(n,a.options)&&Ma(r,a.config))return a;throw Mo.create("duplicate-app",{appName:s})}const u=new HL(s);for(const h of _v.values())u.addComponent(h);const c=new Lz(n,r,u);return Qd.set(s,c),c}function BC(t=vv){const e=Qd.get(t);if(!e&&t===vv&&OC())return UC();if(!e)throw Mo.create("no-app",{appName:t});return e}function Po(t,e,n){var r;let s=(r=Mz[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(c.join(" "));return}lu(new Pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="firebase-heartbeat-database",Uz=1,cf="firebase-heartbeat-store";let by=null;function FC(){return by||(by=nz(zz,Uz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mo.create("idb-open",{originalErrorMessage:t.message})})),by}async function Bz(t){try{const n=(await FC()).transaction(cf),r=await n.objectStore(cf).get(jC(t));return await n.done,r}catch(e){if(e instanceof $s)Bs.warn(e.message);else{const n=Mo.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(n.message)}}}async function I1(t,e){try{const r=(await FC()).transaction(cf,"readwrite");await r.objectStore(cf).put(e,jC(t)),await r.done}catch(n){if(n instanceof $s)Bs.warn(n.message);else{const r=Mo.create("idb-set",{originalErrorMessage:n?.message});Bs.warn(r.message)}}}function jC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=1024,jz=30;class Hz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $z(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=R1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>jz){const u=Gz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Bs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:s}=qz(this._heartbeatsCache.heartbeats),a=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Bs.warn(n),""}}}function R1(){return new Date().toISOString().substring(0,10)}function qz(t,e=Fz){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),N1(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $z{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kL()?DL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Bz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function N1(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}function Gz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t){lu(new Pa("platform-logger",e=>new sz(e),"PRIVATE")),lu(new Pa("heartbeat",e=>new Hz(e),"PRIVATE")),Po(yv,A1,t),Po(yv,A1,"esm2017"),Po("fire-js","")}Yz("");var Kz="firebase",Xz="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(Kz,Xz,"app");var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vo,HC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function D(){}D.prototype=I.prototype,R.D=I.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(P,U,L){for(var A=Array(arguments.length-2),O=2;O<arguments.length;O++)A[O-2]=arguments[O];return I.prototype[U].apply(P,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,I,D){D||(D=0);var P=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)P[U]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(U=0;16>U;++U)P[U]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=R.g[0],D=R.g[1],U=R.g[2];var L=R.g[3],A=I+(L^D&(U^L))+P[0]+3614090360&4294967295;I=D+(A<<7&4294967295|A>>>25),A=L+(U^I&(D^U))+P[1]+3905402710&4294967295,L=I+(A<<12&4294967295|A>>>20),A=U+(D^L&(I^D))+P[2]+606105819&4294967295,U=L+(A<<17&4294967295|A>>>15),A=D+(I^U&(L^I))+P[3]+3250441966&4294967295,D=U+(A<<22&4294967295|A>>>10),A=I+(L^D&(U^L))+P[4]+4118548399&4294967295,I=D+(A<<7&4294967295|A>>>25),A=L+(U^I&(D^U))+P[5]+1200080426&4294967295,L=I+(A<<12&4294967295|A>>>20),A=U+(D^L&(I^D))+P[6]+2821735955&4294967295,U=L+(A<<17&4294967295|A>>>15),A=D+(I^U&(L^I))+P[7]+4249261313&4294967295,D=U+(A<<22&4294967295|A>>>10),A=I+(L^D&(U^L))+P[8]+1770035416&4294967295,I=D+(A<<7&4294967295|A>>>25),A=L+(U^I&(D^U))+P[9]+2336552879&4294967295,L=I+(A<<12&4294967295|A>>>20),A=U+(D^L&(I^D))+P[10]+4294925233&4294967295,U=L+(A<<17&4294967295|A>>>15),A=D+(I^U&(L^I))+P[11]+2304563134&4294967295,D=U+(A<<22&4294967295|A>>>10),A=I+(L^D&(U^L))+P[12]+1804603682&4294967295,I=D+(A<<7&4294967295|A>>>25),A=L+(U^I&(D^U))+P[13]+4254626195&4294967295,L=I+(A<<12&4294967295|A>>>20),A=U+(D^L&(I^D))+P[14]+2792965006&4294967295,U=L+(A<<17&4294967295|A>>>15),A=D+(I^U&(L^I))+P[15]+1236535329&4294967295,D=U+(A<<22&4294967295|A>>>10),A=I+(U^L&(D^U))+P[1]+4129170786&4294967295,I=D+(A<<5&4294967295|A>>>27),A=L+(D^U&(I^D))+P[6]+3225465664&4294967295,L=I+(A<<9&4294967295|A>>>23),A=U+(I^D&(L^I))+P[11]+643717713&4294967295,U=L+(A<<14&4294967295|A>>>18),A=D+(L^I&(U^L))+P[0]+3921069994&4294967295,D=U+(A<<20&4294967295|A>>>12),A=I+(U^L&(D^U))+P[5]+3593408605&4294967295,I=D+(A<<5&4294967295|A>>>27),A=L+(D^U&(I^D))+P[10]+38016083&4294967295,L=I+(A<<9&4294967295|A>>>23),A=U+(I^D&(L^I))+P[15]+3634488961&4294967295,U=L+(A<<14&4294967295|A>>>18),A=D+(L^I&(U^L))+P[4]+3889429448&4294967295,D=U+(A<<20&4294967295|A>>>12),A=I+(U^L&(D^U))+P[9]+568446438&4294967295,I=D+(A<<5&4294967295|A>>>27),A=L+(D^U&(I^D))+P[14]+3275163606&4294967295,L=I+(A<<9&4294967295|A>>>23),A=U+(I^D&(L^I))+P[3]+4107603335&4294967295,U=L+(A<<14&4294967295|A>>>18),A=D+(L^I&(U^L))+P[8]+1163531501&4294967295,D=U+(A<<20&4294967295|A>>>12),A=I+(U^L&(D^U))+P[13]+2850285829&4294967295,I=D+(A<<5&4294967295|A>>>27),A=L+(D^U&(I^D))+P[2]+4243563512&4294967295,L=I+(A<<9&4294967295|A>>>23),A=U+(I^D&(L^I))+P[7]+1735328473&4294967295,U=L+(A<<14&4294967295|A>>>18),A=D+(L^I&(U^L))+P[12]+2368359562&4294967295,D=U+(A<<20&4294967295|A>>>12),A=I+(D^U^L)+P[5]+4294588738&4294967295,I=D+(A<<4&4294967295|A>>>28),A=L+(I^D^U)+P[8]+2272392833&4294967295,L=I+(A<<11&4294967295|A>>>21),A=U+(L^I^D)+P[11]+1839030562&4294967295,U=L+(A<<16&4294967295|A>>>16),A=D+(U^L^I)+P[14]+4259657740&4294967295,D=U+(A<<23&4294967295|A>>>9),A=I+(D^U^L)+P[1]+2763975236&4294967295,I=D+(A<<4&4294967295|A>>>28),A=L+(I^D^U)+P[4]+1272893353&4294967295,L=I+(A<<11&4294967295|A>>>21),A=U+(L^I^D)+P[7]+4139469664&4294967295,U=L+(A<<16&4294967295|A>>>16),A=D+(U^L^I)+P[10]+3200236656&4294967295,D=U+(A<<23&4294967295|A>>>9),A=I+(D^U^L)+P[13]+681279174&4294967295,I=D+(A<<4&4294967295|A>>>28),A=L+(I^D^U)+P[0]+3936430074&4294967295,L=I+(A<<11&4294967295|A>>>21),A=U+(L^I^D)+P[3]+3572445317&4294967295,U=L+(A<<16&4294967295|A>>>16),A=D+(U^L^I)+P[6]+76029189&4294967295,D=U+(A<<23&4294967295|A>>>9),A=I+(D^U^L)+P[9]+3654602809&4294967295,I=D+(A<<4&4294967295|A>>>28),A=L+(I^D^U)+P[12]+3873151461&4294967295,L=I+(A<<11&4294967295|A>>>21),A=U+(L^I^D)+P[15]+530742520&4294967295,U=L+(A<<16&4294967295|A>>>16),A=D+(U^L^I)+P[2]+3299628645&4294967295,D=U+(A<<23&4294967295|A>>>9),A=I+(U^(D|~L))+P[0]+4096336452&4294967295,I=D+(A<<6&4294967295|A>>>26),A=L+(D^(I|~U))+P[7]+1126891415&4294967295,L=I+(A<<10&4294967295|A>>>22),A=U+(I^(L|~D))+P[14]+2878612391&4294967295,U=L+(A<<15&4294967295|A>>>17),A=D+(L^(U|~I))+P[5]+4237533241&4294967295,D=U+(A<<21&4294967295|A>>>11),A=I+(U^(D|~L))+P[12]+1700485571&4294967295,I=D+(A<<6&4294967295|A>>>26),A=L+(D^(I|~U))+P[3]+2399980690&4294967295,L=I+(A<<10&4294967295|A>>>22),A=U+(I^(L|~D))+P[10]+4293915773&4294967295,U=L+(A<<15&4294967295|A>>>17),A=D+(L^(U|~I))+P[1]+2240044497&4294967295,D=U+(A<<21&4294967295|A>>>11),A=I+(U^(D|~L))+P[8]+1873313359&4294967295,I=D+(A<<6&4294967295|A>>>26),A=L+(D^(I|~U))+P[15]+4264355552&4294967295,L=I+(A<<10&4294967295|A>>>22),A=U+(I^(L|~D))+P[6]+2734768916&4294967295,U=L+(A<<15&4294967295|A>>>17),A=D+(L^(U|~I))+P[13]+1309151649&4294967295,D=U+(A<<21&4294967295|A>>>11),A=I+(U^(D|~L))+P[4]+4149444226&4294967295,I=D+(A<<6&4294967295|A>>>26),A=L+(D^(I|~U))+P[11]+3174756917&4294967295,L=I+(A<<10&4294967295|A>>>22),A=U+(I^(L|~D))+P[2]+718787259&4294967295,U=L+(A<<15&4294967295|A>>>17),A=D+(L^(U|~I))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(U+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var D=I-this.blockSize,P=this.B,U=this.h,L=0;L<I;){if(U==0)for(;L<=D;)s(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<I;)if(P[U++]=R.charCodeAt(L++),U==this.blockSize){s(this,P),U=0;break}}else for(;L<I;)if(P[U++]=R[L++],U==this.blockSize){s(this,P),U=0;break}}this.h=U,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var D=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=D&255,D/=256;for(this.u(R),R=Array(16),I=D=0;4>I;++I)for(var P=0;32>P;P+=8)R[D++]=this.g[I]>>>P&255;return R};function a(R,I){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=I(R)}function u(R,I){this.h=I;for(var D=[],P=!0,U=R.length-1;0<=U;U--){var L=R[U]|0;P&&L==I||(D[U]=L,P=!1)}this.g=D}var c={};function h(R){return-128<=R&&128>R?a(R,function(I){return new u([I|0],0>I?-1:0)}):new u([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return N(d(-R));for(var I=[],D=1,P=0;R>=D;P++)I[P]=R/D|0,D*=4294967296;return new u(I,0)}function m(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return N(m(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(I,8)),P=y,U=0;U<R.length;U+=8){var L=Math.min(8,R.length-U),A=parseInt(R.substring(U,U+L),I);8>L?(L=d(Math.pow(I,L)),P=P.j(L).add(d(A))):(P=P.j(D),P=P.add(d(A)))}return P}var y=h(0),_=h(1),E=h(16777216);t=u.prototype,t.m=function(){if(C(this))return-N(this).m();for(var R=0,I=1,D=0;D<this.g.length;D++){var P=this.i(D);R+=(0<=P?P:4294967296+P)*I,I*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(T(this))return"0";if(C(this))return"-"+N(this).toString(R);for(var I=d(Math.pow(R,6)),D=this,P="";;){var U=F(D,I).g;D=k(D,U.j(I));var L=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=U,T(D))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function T(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function C(R){return R.h==-1}t.l=function(R){return R=k(this,R),C(R)?-1:T(R)?0:1};function N(R){for(var I=R.g.length,D=[],P=0;P<I;P++)D[P]=~R.g[P];return new u(D,~R.h).add(_)}t.abs=function(){return C(this)?N(this):this},t.add=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],P=0,U=0;U<=I;U++){var L=P+(this.i(U)&65535)+(R.i(U)&65535),A=(L>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);P=A>>>16,L&=65535,A&=65535,D[U]=A<<16|L}return new u(D,D[D.length-1]&-2147483648?-1:0)};function k(R,I){return R.add(N(I))}t.j=function(R){if(T(this)||T(R))return y;if(C(this))return C(R)?N(this).j(N(R)):N(N(this).j(R));if(C(R))return N(this.j(N(R)));if(0>this.l(E)&&0>R.l(E))return d(this.m()*R.m());for(var I=this.g.length+R.g.length,D=[],P=0;P<2*I;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var U=0;U<R.g.length;U++){var L=this.i(P)>>>16,A=this.i(P)&65535,O=R.i(U)>>>16,G=R.i(U)&65535;D[2*P+2*U]+=A*G,j(D,2*P+2*U),D[2*P+2*U+1]+=L*G,j(D,2*P+2*U+1),D[2*P+2*U+1]+=A*O,j(D,2*P+2*U+1),D[2*P+2*U+2]+=L*O,j(D,2*P+2*U+2)}for(P=0;P<I;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=I;P<2*I;P++)D[P]=0;return new u(D,0)};function j(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function q(R,I){this.g=R,this.h=I}function F(R,I){if(T(I))throw Error("division by zero");if(T(R))return new q(y,y);if(C(R))return I=F(N(R),I),new q(N(I.g),N(I.h));if(C(I))return I=F(R,N(I)),new q(N(I.g),I.h);if(30<R.g.length){if(C(R)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var D=_,P=I;0>=P.l(R);)D=K(D),P=K(P);var U=$(D,1),L=$(P,1);for(P=$(P,2),D=$(D,2);!T(P);){var A=L.add(P);0>=A.l(R)&&(U=U.add(D),L=A),P=$(P,1),D=$(D,1)}return I=k(R,U.j(I)),new q(U,I)}for(U=y;0<=R.l(I);){for(D=Math.max(1,Math.floor(R.m()/I.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=d(D),A=L.j(I);C(A)||0<A.l(R);)D-=P,L=d(D),A=L.j(I);T(L)&&(L=_),U=U.add(L),R=k(R,A)}return new q(U,R)}t.A=function(R){return F(this,R).h},t.and=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],P=0;P<I;P++)D[P]=this.i(P)&R.i(P);return new u(D,this.h&R.h)},t.or=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],P=0;P<I;P++)D[P]=this.i(P)|R.i(P);return new u(D,this.h|R.h)},t.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),D=[],P=0;P<I;P++)D[P]=this.i(P)^R.i(P);return new u(D,this.h^R.h)};function K(R){for(var I=R.g.length+1,D=[],P=0;P<I;P++)D[P]=R.i(P)<<1|R.i(P-1)>>>31;return new u(D,R.h)}function $(R,I){var D=I>>5;I%=32;for(var P=R.g.length-D,U=[],L=0;L<P;L++)U[L]=0<I?R.i(L+D)>>>I|R.i(L+D+1)<<32-I:R.i(L+D);return new u(U,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,Vo=u}).apply(typeof k1<"u"?k1:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qC,Bc,$C,Rd,Ev,GC,YC,KC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,S){return p==Array.prototype||p==Object.prototype||(p[w]=S.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var w=0;w<p.length;++w){var S=p[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function s(p,w){if(w)e:{var S=r;p=p.split(".");for(var H=0;H<p.length-1;H++){var se=p[H];if(!(se in S))break e;S=S[se]}p=p[p.length-1],H=S[p],w=w(H),w!=H&&w!=null&&e(S,p,{configurable:!0,writable:!0,value:w})}}function a(p,w){p instanceof String&&(p+="");var S=0,H=!1,se={next:function(){if(!H&&S<p.length){var he=S++;return{value:w(he,p[he]),done:!1}}return H=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}s("Array.prototype.values",function(p){return p||function(){return a(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function m(p,w,S){return p.call.apply(p.bind,arguments)}function y(p,w,S){if(!p)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,H),p.apply(w,se)}}return function(){return p.apply(w,arguments)}}function _(p,w,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function E(p,w){var S=Array.prototype.slice.call(arguments,1);return function(){var H=S.slice();return H.push.apply(H,arguments),p.apply(this,H)}}function T(p,w){function S(){}S.prototype=w.prototype,p.aa=w.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(H,se,he){for(var Ae=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Ae[pt-2]=arguments[pt];return w.prototype[se].apply(H,Ae)}}function C(p){const w=p.length;if(0<w){const S=Array(w);for(let H=0;H<w;H++)S[H]=p[H];return S}return[]}function N(p,w){for(let S=1;S<arguments.length;S++){const H=arguments[S];if(h(H)){const se=p.length||0,he=H.length||0;p.length=se+he;for(let Ae=0;Ae<he;Ae++)p[se+Ae]=H[Ae]}else p.push(H)}}class k{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function j(p){return/^[\s\xa0]*$/.test(p)}function q(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function F(p){return F[" "](p),p}F[" "]=function(){};var K=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function $(p,w,S){for(const H in p)w.call(S,p[H],H,p)}function R(p,w){for(const S in p)w.call(void 0,p[S],S,p)}function I(p){const w={};for(const S in p)w[S]=p[S];return w}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,w){let S,H;for(let se=1;se<arguments.length;se++){H=arguments[se];for(S in H)p[S]=H[S];for(let he=0;he<D.length;he++)S=D[he],Object.prototype.hasOwnProperty.call(H,S)&&(p[S]=H[S])}}function U(p){var w=1;p=p.split(":");const S=[];for(;0<w&&p.length;)S.push(p.shift()),w--;return p.length&&S.push(p.join(":")),S}function L(p){c.setTimeout(()=>{throw p},0)}function A(){var p=J;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class O{constructor(){this.h=this.g=null}add(w,S){const H=G.get();H.set(w,S),this.h?this.h.next=H:this.g=H,this.h=H}}var G=new k(()=>new z,p=>p.reset());class z{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Z=!1,J=new O,b=()=>{const p=c.Promise.resolve(void 0);Y=()=>{p.then(Q)}};var Q=()=>{for(var p;p=A();){try{p.h.call(p.g)}catch(S){L(S)}var w=G;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}Z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};c.addEventListener("test",S,w),c.removeEventListener("test",S,w)}catch{}return p}();function be(p,w){if(M.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,H=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(K){e:{try{F(w.nodeName);var se=!0;break e}catch{}se=!1}se||(w=null)}}else S=="mouseover"?w=p.fromElement:S=="mouseout"&&(w=p.toElement);this.relatedTarget=w,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:we[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&be.aa.h.call(this)}}T(be,M);var we={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),ye=0;function xe(p,w,S,H,se){this.listener=p,this.proxy=null,this.src=w,this.type=S,this.capture=!!H,this.ha=se,this.key=++ye,this.da=this.fa=!1}function Ce(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Fe(p){this.src=p,this.g={},this.h=0}Fe.prototype.add=function(p,w,S,H,se){var he=p.toString();p=this.g[he],p||(p=this.g[he]=[],this.h++);var Ae=Et(p,w,H,se);return-1<Ae?(w=p[Ae],S||(w.fa=!1)):(w=new xe(w,this.src,he,!!H,se),w.fa=S,p.push(w)),w};function _t(p,w){var S=w.type;if(S in p.g){var H=p.g[S],se=Array.prototype.indexOf.call(H,w,void 0),he;(he=0<=se)&&Array.prototype.splice.call(H,se,1),he&&(Ce(w),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Et(p,w,S,H){for(var se=0;se<p.length;++se){var he=p[se];if(!he.da&&he.listener==w&&he.capture==!!S&&he.ha==H)return se}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),ze={};function Wt(p,w,S,H,se){if(Array.isArray(w)){for(var he=0;he<w.length;he++)Wt(p,w[he],S,H,se);return null}return S=Cn(S),p&&p[De]?p.K(w,S,d(H)?!!H.capture:!1,se):Ue(p,w,S,!1,H,se)}function Ue(p,w,S,H,se,he){if(!w)throw Error("Invalid event type");var Ae=d(se)?!!se.capture:!!se,pt=mn(p);if(pt||(p[wt]=pt=new Fe(p)),S=pt.add(w,S,H,Ae,he),S.proxy)return S;if(H=Me(),S.proxy=H,H.src=p,H.listener=S,p.addEventListener)ce||(se=Ae),se===void 0&&(se=!1),p.addEventListener(w.toString(),H,se);else if(p.attachEvent)p.attachEvent(pn(w.toString()),H);else if(p.addListener&&p.removeListener)p.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Me(){function p(S){return w.call(p.src,p.listener,S)}const w=En;return p}function $t(p,w,S,H,se){if(Array.isArray(w))for(var he=0;he<w.length;he++)$t(p,w[he],S,H,se);else H=d(H)?!!H.capture:!!H,S=Cn(S),p&&p[De]?(p=p.i,w=String(w).toString(),w in p.g&&(he=p.g[w],S=Et(he,S,H,se),-1<S&&(Ce(he[S]),Array.prototype.splice.call(he,S,1),he.length==0&&(delete p.g[w],p.h--)))):p&&(p=mn(p))&&(w=p.g[w.toString()],p=-1,w&&(p=Et(w,S,H,se)),(S=-1<p?w[p]:null)&&dn(S))}function dn(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[De])_t(w.i,p);else{var S=p.type,H=p.proxy;w.removeEventListener?w.removeEventListener(S,H,p.capture):w.detachEvent?w.detachEvent(pn(S),H):w.addListener&&w.removeListener&&w.removeListener(H),(S=mn(w))?(_t(S,p),S.h==0&&(S.src=null,w[wt]=null)):Ce(p)}}}function pn(p){return p in ze?ze[p]:ze[p]="on"+p}function En(p,w){if(p.da)p=!0;else{w=new be(w,this);var S=p.listener,H=p.ha||p.src;p.fa&&dn(p),p=S.call(H,w)}return p}function mn(p){return p=p[wt],p instanceof Fe?p:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(p){return typeof p=="function"?p:(p[en]||(p[en]=function(w){return p.handleEvent(w)}),p[en])}function ne(){re.call(this),this.i=new Fe(this),this.M=this,this.F=null}T(ne,re),ne.prototype[De]=!0,ne.prototype.removeEventListener=function(p,w,S,H){$t(this,p,w,S,H)};function pe(p,w){var S,H=p.F;if(H)for(S=[];H;H=H.F)S.push(H);if(p=p.M,H=w.type||w,typeof w=="string")w=new M(w,p);else if(w instanceof M)w.target=w.target||p;else{var se=w;w=new M(H,p),P(w,se)}if(se=!0,S)for(var he=S.length-1;0<=he;he--){var Ae=w.g=S[he];se=Re(Ae,H,!0,w)&&se}if(Ae=w.g=p,se=Re(Ae,H,!0,w)&&se,se=Re(Ae,H,!1,w)&&se,S)for(he=0;he<S.length;he++)Ae=w.g=S[he],se=Re(Ae,H,!1,w)&&se}ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var S=p.g[w],H=0;H<S.length;H++)Ce(S[H]);delete p.g[w],p.h--}}this.F=null},ne.prototype.K=function(p,w,S,H){return this.i.add(String(p),w,!1,S,H)},ne.prototype.L=function(p,w,S,H){return this.i.add(String(p),w,!0,S,H)};function Re(p,w,S,H){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var se=!0,he=0;he<w.length;++he){var Ae=w[he];if(Ae&&!Ae.da&&Ae.capture==S){var pt=Ae.listener,Nn=Ae.ha||Ae.src;Ae.fa&&_t(p.i,Ae),se=pt.call(Nn,H)!==!1&&se}}return se&&!H.defaultPrevented}function Pe(p,w,S){if(typeof p=="function")S&&(p=_(p,S));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(p,w||0)}function Je(p){p.g=Pe(()=>{p.g=null,p.i&&(p.i=!1,Je(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class ft extends re{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(p){re.call(this),this.h=p,this.g={}}T(Dt,re);var Ot=[];function Mt(p){$(p.g,function(w,S){this.g.hasOwnProperty(S)&&dn(w)},p),p.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),Mt(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=c.JSON.stringify,et=c.JSON.parse,Ht=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function zt(){}zt.prototype.h=null;function Si(p){return p.h||(p.h=p.i())}function ir(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){M.call(this,"d")}T(pr,M);function sr(){M.call(this,"c")}T(sr,M);var Cr={},fs=null;function zr(){return fs=fs||new ne}Cr.La="serverreachability";function Ti(p){M.call(this,Cr.La,p)}T(Ti,M);function mr(p){const w=zr();pe(w,new Ti(w))}Cr.STAT_EVENT="statevent";function Ur(p,w){M.call(this,Cr.STAT_EVENT,p),this.stat=w}T(Ur,M);function Ut(p){const w=zr();pe(w,new Ur(w,p))}Cr.Ma="timingevent";function At(p,w){M.call(this,Cr.Ma,p),this.size=w}T(At,M);function tn(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},w)}function ln(){this.g=!0}ln.prototype.xa=function(){this.g=!1};function zi(p,w,S,H,se,he){p.info(function(){if(p.g)if(he)for(var Ae="",pt=he.split("&"),Nn=0;Nn<pt.length;Nn++){var mt=pt[Nn].split("=");if(1<mt.length){var Fn=mt[0];mt=mt[1];var kn=Fn.split("_");Ae=2<=kn.length&&kn[1]=="type"?Ae+(Fn+"="+mt+"&"):Ae+(Fn+"=redacted&")}}else Ae=null;else Ae=he;return"XMLHTTP REQ ("+H+") [attempt "+se+"]: "+w+`
`+S+`
`+Ae})}function Zo(p,w,S,H,se,he,Ae){p.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+se+"]: "+w+`
`+S+`
`+he+" "+Ae})}function gr(p,w,S,H){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+ni(p,S)+(H?" "+H:"")})}function Ui(p,w){p.info(function(){return"TIMEOUT: "+w})}ln.prototype.info=function(){};function ni(p,w){if(!p.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var H=S[p];if(!(2>H.length)){var se=H[1];if(Array.isArray(se)&&!(1>se.length)){var he=se[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Ae=1;Ae<se.length;Ae++)se[Ae]=""}}}}return ht(S)}catch{return w}}var Br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function vr(){}T(vr,zt),vr.prototype.g=function(){return new XMLHttpRequest},vr.prototype.i=function(){return{}},Ln=new vr;function Rn(p,w,S,H){this.j=p,this.i=w,this.l=S,this.R=H||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new W}function W(){this.i=null,this.g="",this.h=!1}var fe={},Se={};function Ie(p,w,S){p.L=1,p.v=xi(Gt(w)),p.m=S,p.P=!0,st(p,null)}function st(p,w){p.F=Date.now(),Ct(p),p.A=Gt(p.v);var S=p.A,H=p.R;Array.isArray(H)||(H=[String(H)]),Ru(S.i,"t",H),p.C=0,S=p.j.J,p.h=new W,p.g=Zf(p.j,S?w:null,!p.m),0<p.O&&(p.M=new ft(_(p.Y,p,p.g),p.O)),w=p.U,S=p.g,H=p.ca;var se="readystatechange";Array.isArray(se)||(se&&(Ot[0]=se.toString()),se=Ot);for(var he=0;he<se.length;he++){var Ae=Wt(S,se[he],H||w.handleEvent,!1,w.h||w);if(!Ae)break;w.g[Ae.key]=Ae}w=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),mr(),zi(p.i,p.u,p.A,p.l,p.R,p.m)}Rn.prototype.ca=function(p){p=p.target;const w=this.M;w&&li(p)==3?w.j():this.Y(p)},Rn.prototype.Y=function(p){try{if(p==this.g)e:{const kn=li(this.g);var w=this.g.Ba();const vs=this.g.Z();if(!(3>kn)&&(kn!=3||this.g&&(this.h.h||this.g.oa()||qf(this.g)))){this.J||kn!=4||w==7||(w==8||0>=vs?mr(3):mr(2)),It(this);var S=this.g.Z();this.X=S;t:if(Xe(this)){var H=qf(this.g);p="";var se=H.length,he=li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rt(this),bt(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(w=0;w<se;w++)this.h.h=!0,p+=this.h.i.decode(H[w],{stream:!(he&&w==se-1)});H.length=0,this.h.g+=p,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=S==200,Zo(this.i,this.u,this.A,this.l,this.R,kn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Nn=this.g;if((pt=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(pt)){var mt=pt;break t}}mt=null}if(S=mt)gr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wn(this,S);else{this.o=!1,this.s=3,Ut(12),Rt(this),bt(this);break e}}if(this.P){S=!0;let Wn;for(;!this.J&&this.C<Ae.length;)if(Wn=Pt(this,Ae),Wn==Se){kn==4&&(this.s=4,Ut(14),S=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==fe){this.s=4,Ut(15),gr(this.i,this.l,Ae,"[Invalid Chunk]"),S=!1;break}else gr(this.i,this.l,Wn,null),wn(this,Wn);if(Xe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kn!=4||Ae.length!=0||this.h.h||(this.s=1,Ut(16),S=!1),this.o=this.o&&S,!S)gr(this.i,this.l,Ae,"[Invalid Chunked Response]"),Rt(this),bt(this);else if(0<Ae.length&&!this.W){this.W=!0;var Fn=this.j;Fn.g==this&&Fn.ba&&!Fn.M&&(Fn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),aa(Fn),Fn.M=!0,Ut(11))}}else gr(this.i,this.l,Ae,null),wn(this,Ae);kn==4&&Rt(this),this.o&&!this.J&&(kn==4?Xf(this.j,this):(this.o=!1,Ct(this)))}else em(this.g),S==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Rt(this),bt(this)}}}catch{}finally{}};function Xe(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Pt(p,w){var S=p.C,H=w.indexOf(`
`,S);return H==-1?Se:(S=Number(w.substring(S,H)),isNaN(S)?fe:(H+=1,H+S>w.length?Se:(w=w.slice(H,H+S),p.C=H+S,w)))}Rn.prototype.cancel=function(){this.J=!0,Rt(this)};function Ct(p){p.S=Date.now()+p.I,zn(p,p.I)}function zn(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=tn(_(p.ba,p),w)}function It(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Rn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ui(this.i,this.A),this.L!=2&&(mr(),Ut(17)),Rt(this),this.s=2,bt(this)):zn(this,this.S-p)};function bt(p){p.j.G==0||p.J||Xf(p.j,p)}function Rt(p){It(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Mt(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function wn(p,w){try{var S=p.j;if(S.G!=0&&(S.g==p||ri(S.h,p))){if(!p.K&&ri(S.h,p)&&S.G==3){try{var H=S.Da.g.parse(w)}catch{H=null}if(Array.isArray(H)&&H.length==3){var se=H;if(se[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Ja(S),Wa(S);else break e;Mu(S),Ut(18)}}else S.za=se[1],0<S.za-S.T&&37500>se[2]&&S.F&&S.v==0&&!S.C&&(S.C=tn(_(S.Za,S),6e3));if(1>=Er(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ys(S,11)}else if((p.K||S.g==p)&&Ja(S),!j(w))for(se=S.Da.g.parse(w),w=0;w<se.length;w++){let mt=se[w];if(S.T=mt[0],mt=mt[1],S.G==2)if(mt[0]=="c"){S.K=mt[1],S.ia=mt[2];const Fn=mt[3];Fn!=null&&(S.la=Fn,S.j.info("VER="+S.la));const kn=mt[4];kn!=null&&(S.Aa=kn,S.j.info("SVER="+S.Aa));const vs=mt[5];vs!=null&&typeof vs=="number"&&0<vs&&(H=1.5*vs,S.L=H,S.j.info("backChannelRequestTimeoutMs_="+H)),H=S;const Wn=p.g;if(Wn){const Yi=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var he=H.h;he.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ii(he,he.h),he.h=null))}if(H.D){const Vu=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vu&&(H.ya=Vu,vt(H.I,H.D,Vu))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),H=S;var Ae=p;if(H.qa=Wf(H,H.J?H.ia:null,H.W),Ae.K){Un(H.h,Ae);var pt=Ae,Nn=H.L;Nn&&(pt.I=Nn),pt.B&&(It(pt),Ct(pt)),H.g=Ae}else Yf(H);0<S.i.length&&Za(S)}else mt[0]!="stop"&&mt[0]!="close"||ys(S,7);else S.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ys(S,7):Du(S):mt[0]!="noop"&&S.l&&S.l.ta(mt),S.v=0)}}mr(4)}catch{}}var un=class{constructor(p,w){this.g=p,this.map=w}};function gn(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _r(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Er(p){return p.h?1:p.g?p.g.size:0}function ri(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function ii(p,w){p.g?p.g.add(w):p.h=w}function Un(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}gn.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Jo(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const S of p.g.values())w=w.concat(S.D);return w}return C(p.i)}function Iu(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],S=p.length,H=0;H<S;H++)w.push(p[H]);return w}w=[],S=0;for(H in p)w[S++]=p[H];return w}function dt(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var S=0;S<p;S++)w.push(S);return w}w=[],S=0;for(const H in p)w[S++]=H;return w}}}function ct(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var S=dt(p),H=Iu(p),se=H.length,he=0;he<se;he++)w.call(void 0,H[he],S&&S[he],p)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oi(p,w){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var H=p[S].indexOf("="),se=null;if(0<=H){var he=p[S].substring(0,H);se=p[S].substring(H+1)}else he=p[S];w(he,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function nn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof nn){this.h=p.h,Yn(this,p.j),this.o=p.o,this.g=p.g,Kn(this,p.s),this.l=p.l;var w=p.i,S=new Ir;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),wr(this,S),this.m=p.m}else p&&(w=String(p).match(si))?(this.h=!1,Yn(this,w[1]||"",!0),this.o=Xn(w[2]||""),this.g=Xn(w[3]||"",!0),Kn(this,w[4]),this.l=Xn(w[5]||"",!0),wr(this,w[6]||"",!0),this.m=Xn(w[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}nn.prototype.toString=function(){var p=[],w=this.j;w&&p.push(br(w,Bi,!0),":");var S=this.g;return(S||w=="file")&&(p.push("//"),(w=this.o)&&p.push(br(w,Bi,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(br(S,S.charAt(0)=="/"?Ys:hs,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",br(S,ds)),p.join("")};function Gt(p){return new nn(p)}function Yn(p,w,S){p.j=S?Xn(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Kn(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function wr(p,w,S){w instanceof Ir?(p.i=w,jf(p.i,p.h)):(S||(w=br(w,Ks)),p.i=new Ir(w,p.h))}function vt(p,w,S){p.i.set(w,S)}function xi(p){return vt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Xn(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function br(p,w,S){return typeof p=="string"?(p=encodeURI(p).replace(w,ea),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ea(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Bi=/[#\/\?@]/g,hs=/[#\?:]/g,Ys=/[#\?]/g,Ks=/[#\?@]/g,ds=/#/g;function Ir(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Qn(p){p.g||(p.g=new Map,p.h=0,p.i&&oi(p.i,function(w,S){p.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}t=Ir.prototype,t.add=function(p,w){Qn(this),this.i=null,p=Fi(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(w),this.h+=1,this};function ps(p,w){Qn(p),w=Fi(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function ms(p,w){return Qn(p),w=Fi(p,w),p.g.has(w)}t.forEach=function(p,w){Qn(this),this.g.forEach(function(S,H){S.forEach(function(se){p.call(w,se,H,this)},this)},this)},t.na=function(){Qn(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let H=0;H<w.length;H++){const se=p[H];for(let he=0;he<se.length;he++)S.push(w[H])}return S},t.V=function(p){Qn(this);let w=[];if(typeof p=="string")ms(this,p)&&(w=w.concat(this.g.get(Fi(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)w=w.concat(p[S])}return w},t.set=function(p,w){return Qn(this),this.i=null,p=Fi(this,p),ms(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function Ru(p,w,S){ps(p,w),0<S.length&&(p.i=null,p.g.set(Fi(p,w),C(S)),p.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var H=w[S];const he=encodeURIComponent(String(H)),Ae=this.V(H);for(H=0;H<Ae.length;H++){var se=he;Ae[H]!==""&&(se+="="+encodeURIComponent(String(Ae[H]))),p.push(se)}}return this.i=p.join("&")};function Fi(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function jf(p,w){w&&!p.j&&(Qn(p),p.i=null,p.g.forEach(function(S,H){var se=H.toLowerCase();H!=se&&(ps(this,H),Ru(this,se,S))},p)),p.j=w}function ta(p,w){const S=new ln;if(c.Image){const H=new Image;H.onload=E(ai,S,"TestLoadImage: loaded",!0,w,H),H.onerror=E(ai,S,"TestLoadImage: error",!1,w,H),H.onabort=E(ai,S,"TestLoadImage: abort",!1,w,H),H.ontimeout=E(ai,S,"TestLoadImage: timeout",!1,w,H),c.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=p}else w(!1)}function Ai(p,w){const S=new ln,H=new AbortController,se=setTimeout(()=>{H.abort(),ai(S,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:H.signal}).then(he=>{clearTimeout(se),he.ok?ai(S,"TestPingServer: ok",!0,w):ai(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(se),ai(S,"TestPingServer: error",!1,w)})}function ai(p,w,S,H,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),H(S)}catch{}}function na(){this.g=new Ht}function ji(p,w,S){const H=S||"";try{ct(p,function(se,he){let Ae=se;d(se)&&(Ae=ht(se)),w.push(H+he+"="+encodeURIComponent(Ae))})}catch(se){throw w.push(H+"type="+encodeURIComponent("_badmap")),se}}function Xs(p){this.l=p.Ub||null,this.j=p.eb||!1}T(Xs,zt),Xs.prototype.g=function(){return new gs(this.l,this.j)},Xs.prototype.i=function(p){return function(){return p}}({});function gs(p,w){ne.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(gs,ne),t=gs.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,qi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?Hi(this):qi(this),this.readyState==3&&Nu(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Hi(this))},t.Qa=function(p){this.g&&(this.response=p,Hi(this))},t.ga=function(){this.g&&Hi(this)};function Hi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,qi(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=w.next();return p.join(`\r
`)};function qi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ku(p){let w="";return $(p,function(S,H){w+=H,w+=":",w+=S,w+=`\r
`}),w}function Bn(p,w,S){e:{for(H in S){var H=!1;break e}H=!0}H||(S=ku(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):vt(p,w,S))}function Nt(p){ne.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Nt,ne);var Ya=/^https?$/i,ra=["POST","PUT"];t=Nt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,S,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?Si(this.o):Si(Ln),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(he){Hf(this,he);return}if(p=S||"",S=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var se in H)S.set(se,H[se]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const he of H.keys())S.set(he,H.get(he));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(S.keys()).find(he=>he.toLowerCase()=="content-type"),se=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ra,w,void 0))||H||se||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Ae]of S)this.g.setRequestHeader(he,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(p),this.u=!1}catch(he){Hf(this,he)}};function Hf(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,Ka(p),$i(p)}function Ka(p){p.A||(p.A=!0,pe(p,"complete"),pe(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,pe(this,"complete"),pe(this,"abort"),$i(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},t.bb=function(){Xa(this)};function Xa(p){if(p.h&&typeof u<"u"&&(!p.v[1]||li(p)!=4||p.Z()!=2)){if(p.u&&li(p)==4)Pe(p.Ea,0,p);else if(pe(p,"readystatechange"),li(p)==4){p.h=!1;try{const Ae=p.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var H;if(H=Ae===0){var se=String(p.D).match(si)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),H=!Ya.test(se?se.toLowerCase():"")}S=H}if(S)pe(p,"complete"),pe(p,"success");else{p.m=6;try{var he=2<li(p)?p.g.statusText:""}catch{he=""}p.l=he+" ["+p.Z()+"]",Ka(p)}}finally{$i(p)}}}}function $i(p,w){if(p.g){ia(p);const S=p.g,H=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||pe(p,"ready");try{S.onreadystatechange=H}catch{}}}function ia(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function li(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<li(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),et(w)}};function qf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function em(p){const w={};p=(p.g&&2<=li(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<p.length;H++){if(j(p[H]))continue;var S=U(p[H]);const se=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const he=w[se]||[];w[se]=he,he.push(S)}R(w,function(H){return H.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(p,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||w}function Qa(p){this.Aa=0,this.i=[],this.j=new ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,p),this.cb=sa("retryDelaySeedMs",1e4,p),this.Wa=sa("forwardChannelMaxRetries",2,p),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new gn(p&&p.concurrentRequestLimit),this.Da=new na,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qa.prototype,t.la=8,t.G=1,t.connect=function(p,w,S,H){Ut(0),this.W=p,this.H=w||{},S&&H!==void 0&&(this.H.OSID=S,this.H.OAID=H),this.F=this.X,this.I=Wf(this,null,this.W),Za(this)};function Du(p){if($f(p),p.G==3){var w=p.U++,S=Gt(p.I);if(vt(S,"SID",p.K),vt(S,"RID",w),vt(S,"TYPE","terminate"),oa(p,S),w=new Rn(p,p.j,w),w.L=2,w.v=xi(Gt(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=w.v,S=!0),S||(w.g=Zf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ct(w)}Qf(p)}function Wa(p){p.g&&(aa(p),p.g.cancel(),p.g=null)}function $f(p){Wa(p),p.u&&(c.clearTimeout(p.u),p.u=null),Ja(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Za(p){if(!_r(p.h)&&!p.s){p.s=!0;var w=p.Ga;Y||b(),Z||(Y(),Z=!0),J.add(w,p),p.B=0}}function tm(p,w){return Er(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=tn(_(p.Ga,p,w),Pu(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const se=new Rn(this,this.j,p);let he=this.o;if(this.S&&(he?(he=I(he),P(he,this.S)):he=this.S),this.m!==null||this.O||(se.H=he,he=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var H=this.i[S];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(w+=H,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=Gf(this,se,w),S=Gt(this.I),vt(S,"RID",p),vt(S,"CVER",22),this.D&&vt(S,"X-HTTP-Session-Id",this.D),oa(this,S),he&&(this.O?w="headers="+encodeURIComponent(String(ku(he)))+"&"+w:this.m&&Bn(S,this.m,he)),ii(this.h,se),this.Ua&&vt(S,"TYPE","init"),this.P?(vt(S,"$req",w),vt(S,"SID","null"),se.T=!0,Ie(se,S,null)):Ie(se,S,w),this.G=2}}else this.G==3&&(p?Ou(this,p):this.i.length==0||_r(this.h)||Ou(this))};function Ou(p,w){var S;w?S=w.l:S=p.U++;const H=Gt(p.I);vt(H,"SID",p.K),vt(H,"RID",S),vt(H,"AID",p.T),oa(p,H),p.m&&p.o&&Bn(H,p.m,p.o),S=new Rn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),w&&(p.i=w.D.concat(p.i)),w=Gf(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ii(p.h,S),Ie(S,H,w)}function oa(p,w){p.H&&$(p.H,function(S,H){vt(w,H,S)}),p.l&&ct({},function(S,H){vt(w,H,S)})}function Gf(p,w,S){S=Math.min(p.i.length,S);var H=p.l?_(p.l.Na,p.l,p):null;e:{var se=p.i;let he=-1;for(;;){const Ae=["count="+S];he==-1?0<S?(he=se[0].g,Ae.push("ofs="+he)):he=0:Ae.push("ofs="+he);let pt=!0;for(let Nn=0;Nn<S;Nn++){let mt=se[Nn].g;const Fn=se[Nn].map;if(mt-=he,0>mt)he=Math.max(0,se[Nn].g-100),pt=!1;else try{ji(Fn,Ae,"req"+mt+"_")}catch{H&&H(Fn)}}if(pt){H=Ae.join("&");break e}}}return p=p.i.splice(0,S),w.D=p,H}function Yf(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;Y||b(),Z||(Y(),Z=!0),J.add(w,p),p.v=0}}function Mu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=tn(_(p.Fa,p),Pu(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Kf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=tn(_(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Wa(this),Kf(this))};function aa(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Kf(p){p.g=new Rn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=Gt(p.qa);vt(w,"RID","rpc"),vt(w,"SID",p.K),vt(w,"AID",p.T),vt(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&vt(w,"TO",p.ja),vt(w,"TYPE","xmlhttp"),oa(p,w),p.m&&p.o&&Bn(w,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=xi(Gt(w)),S.m=null,S.P=!0,st(S,p)}t.Za=function(){this.C!=null&&(this.C=null,Wa(this),Mu(this),Ut(19))};function Ja(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Xf(p,w){var S=null;if(p.g==w){Ja(p),aa(p),p.g=null;var H=2}else if(ri(p.h,w))S=w.D,Un(p.h,w),H=1;else return;if(p.G!=0){if(w.o)if(H==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var se=p.B;H=zr(),pe(H,new At(H,S)),Za(p)}else Yf(p);else if(se=w.s,se==3||se==0&&0<w.X||!(H==1&&tm(p,w)||H==2&&Mu(p)))switch(S&&0<S.length&&(w=p.h,w.i=w.i.concat(S)),se){case 1:ys(p,5);break;case 4:ys(p,10);break;case 3:ys(p,6);break;default:ys(p,2)}}}function Pu(p,w){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*w}function ys(p,w){if(p.j.info("Error code "+w),w==2){var S=_(p.fb,p),H=p.Xa;const se=!H;H=new nn(H||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yn(H,"https"),xi(H),se?ta(H.toString(),S):Ai(H.toString(),S)}else Ut(2);p.G=0,p.l&&p.l.sa(w),Qf(p),$f(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Qf(p){if(p.G=0,p.ka=[],p.l){const w=Jo(p.h);(w.length!=0||p.i.length!=0)&&(N(p.ka,w),N(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function Wf(p,w,S){var H=S instanceof nn?Gt(S):new nn(S);if(H.g!="")w&&(H.g=w+"."+H.g),Kn(H,H.s);else{var se=c.location;H=se.protocol,w=w?w+"."+se.hostname:se.hostname,se=+se.port;var he=new nn(null);H&&Yn(he,H),w&&(he.g=w),se&&Kn(he,se),S&&(he.l=S),H=he}return S=p.D,w=p.ya,S&&w&&vt(H,S,w),vt(H,"VER",p.la),oa(p,H),H}function Zf(p,w,S){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new Nt(new Xs({eb:S})):new Nt(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jf(){}t=Jf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function el(){}el.prototype.g=function(p,w){return new Sr(p,w)};function Sr(p,w){ne.call(this),this.g=new Qa(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!j(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!j(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new Gi(this)}T(Sr,ne),Sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){Du(this.g)},Sr.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=ht(p),p=S);w.i.push(new un(w.Ya++,p)),w.G==3&&Za(w)},Sr.prototype.N=function(){this.g.l=null,delete this.j,Du(this.g),delete this.g,Sr.aa.N.call(this)};function eh(p){pr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const S in w){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}T(eh,pr);function th(){sr.call(this),this.status=1}T(th,sr);function Gi(p){this.g=p}T(Gi,Jf),Gi.prototype.ua=function(){pe(this.g,"a")},Gi.prototype.ta=function(p){pe(this.g,new eh(p))},Gi.prototype.sa=function(p){pe(this.g,new th)},Gi.prototype.ra=function(){pe(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,KC=function(){return new el},YC=function(){return zr()},GC=Cr,Ev={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,Rd=Br,yr.COMPLETE="complete",$C=yr,ir.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Bc=ir,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,qC=Nt}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const D1="@firebase/firestore",O1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid"),ur.MOCK_USER=new ur("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new T_("@firebase/firestore");function Fl(){return Va.logLevel}function Ne(t,...e){if(Va.logLevel<=lt.DEBUG){const n=e.map(C_);Va.debug(`Firestore (${vu}): ${t}`,...n)}}function Fs(t,...e){if(Va.logLevel<=lt.ERROR){const n=e.map(C_);Va.error(`Firestore (${vu}): ${t}`,...n)}}function uu(t,...e){if(Va.logLevel<=lt.WARN){const n=e.map(C_);Va.warn(`Firestore (${vu}): ${t}`,...n)}}function C_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XC(t,r,n)}function XC(t,e,n){let r=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fs(r),new Error(r)}function kt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||XC(e,s,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ur.UNAUTHENTICATED))}shutdown(){}}class Wz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Zz{constructor(e){this.t=e,this.currentUser=ur.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){kt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Lo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Lo)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new QC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new ur(e)}}class Jz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ur.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ur.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){kt(this.o===void 0,3512);const r=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=n6(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function wv(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return nt(r,s);{const a=WC(),u=r6(a.encode(P1(t,n)),a.encode(P1(e,n)));return u!==0?u:nt(r,s)}}n+=r>65535?2:1}return nt(t.length,e.length)}function P1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function r6(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return nt(t[n],e[n]);return nt(t.length,e.length)}function cu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=-62135596800,L1=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L1);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<V1)throw new ke(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L1}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-V1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Jt(0,0))}static max(){return new Ke(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__name__";class ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ts?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=ts.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return nt(e.length,n.length)}static compareSegments(e,n){const r=ts.isNumericId(e),s=ts.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ts.extractNumericId(e).compare(ts.extractNumericId(n)):wv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vo.fromString(e.substring(4,e.length-2))}}class Zt extends ts{construct(e,n,r){return new Zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const i6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends ts{construct(e,n,r){return new nr(e,n,r)}static isValidIdentifier(e){return i6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z1}static keyField(){return new nr([z1])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ke(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ke(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ke(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(a(),s++)}if(a(),u)throw new ke(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(n)}static emptyPath(){return new nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Zt.fromString(e))}static fromName(e){return new Be(Zt.fromString(e).popFirst(5))}static empty(){return new Be(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=-1;function s6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ke.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new Fo(s,Be.empty(),e)}function o6(t){return new Fo(t.readTime,t.key,ff)}class Fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fo(Ke.min(),Be.empty(),ff)}static max(){return new Fo(Ke.max(),Be.empty(),ff)}}function a6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==l6)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ee((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ee?n:Ee.resolve(n)}catch(n){return Ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ee.reject(n)}static resolve(e){return new Ee((n,r)=>{n(e)})}static reject(e){return new Ee((n,r)=>{r(e)})}static waitFor(e){return new Ee((n,r)=>{let s=0,a=0,u=!1;e.forEach(c=>{++s,c.next(()=>{++a,u&&a===s&&n()},h=>r(h))}),u=!0,a===s&&n()})}static or(e){let n=Ee.resolve(!1);for(const r of e)n=n.next(s=>s?Ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Ee((r,s)=>{const a=e.length,u=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;n(e[d]).next(m=>{u[d]=m,++c,c===a&&r(u)},m=>s(m))}})}static doWhile(e,n){return new Ee((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function c6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Cp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-1;function Ip(t){return t==null}function Wd(t){return t===0&&1/t==-1/0}function f6(t){return typeof t=="number"&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="";function h6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U1(e)),e=d6(t.get(n),e);return U1(e)}function d6(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case JC:n+="";break;default:n+=a}}return n}function U1(t){return t+JC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.comparator=e,this.root=n||tr.EMPTY}insert(e,n){return new an(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tr{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??tr.RED,this.left=s??tr.EMPTY,this.right=a??tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new tr(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return tr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $e(27949);return e+(this.isRed()?0:1)}}tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw $e(57766)}get value(){throw $e(16141)}get color(){throw $e(16727)}get left(){throw $e(29726)}get right(){throw $e(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F1(this.data.getIterator())}getIteratorFrom(e){return new F1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class F1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new Qr([])}unionWith(e){let n=new Mn(nr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tI("Invalid base64 string: "+a):a}}(e);return new rr(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const p6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(t){if(kt(!!t,39018),typeof t=="string"){let e=0;const n=p6.exec(t);if(kt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_n(t.seconds),nanos:_n(t.nanos)}}function _n(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ho(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="server_timestamp",rI="__type__",iI="__previous_value__",sI="__local_write_time__";function R_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rI])===null||n===void 0?void 0:n.stringValue)===nI}function Rp(t){const e=t.mapValue.fields[iI];return R_(e)?Rp(e):e}function hf(t){const e=jo(t.mapValue.fields[sI].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,n,r,s,a,u,c,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Zd="(default)";class df{constructor(e,n){this.projectId=e,this.database=n||Zd}static empty(){return new df("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof df&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="__type__",g6="__max__",md={mapValue:{}},aI="__vector__",Jd="value";function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?R_(t)?4:v6(t)?9007199254740991:y6(t)?10:11:$e(28295,{value:t})}function ls(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hf(t).isEqual(hf(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=jo(s.timestampValue),c=jo(a.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Ho(s.bytesValue).isEqual(Ho(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return _n(s.geoPointValue.latitude)===_n(a.geoPointValue.latitude)&&_n(s.geoPointValue.longitude)===_n(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return _n(s.integerValue)===_n(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=_n(s.doubleValue),c=_n(a.doubleValue);return u===c?Wd(u)===Wd(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},c=a.mapValue.fields||{};if(B1(u)!==B1(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!ls(u[h],c[h])))return!1;return!0}(t,e);default:return $e(52216,{left:t})}}function pf(t,e){return(t.values||[]).find(n=>ls(n,e))!==void 0}function fu(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(a,u){const c=_n(a.integerValue||a.doubleValue),h=_n(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return j1(t.timestampValue,e.timestampValue);case 4:return j1(hf(t),hf(e));case 5:return wv(t.stringValue,e.stringValue);case 6:return function(a,u){const c=Ho(a),h=Ho(u);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const c=a.split("/"),h=u.split("/");for(let d=0;d<c.length&&d<h.length;d++){const m=nt(c[d],h[d]);if(m!==0)return m}return nt(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const c=nt(_n(a.latitude),_n(u.latitude));return c!==0?c:nt(_n(a.longitude),_n(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return H1(t.arrayValue,e.arrayValue);case 10:return function(a,u){var c,h,d,m;const y=a.fields||{},_=u.fields||{},E=(c=y[Jd])===null||c===void 0?void 0:c.arrayValue,T=(h=_[Jd])===null||h===void 0?void 0:h.arrayValue,C=nt(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((m=T?.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:H1(E,T)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===md.mapValue&&u===md.mapValue)return 0;if(a===md.mapValue)return 1;if(u===md.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=u.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const _=wv(h[y],m[y]);if(_!==0)return _;const E=fu(c[h[y]],d[m[y]]);if(E!==0)return E}return nt(h.length,m.length)}(t.mapValue,e.mapValue);default:throw $e(23264,{Pe:n})}}function j1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=jo(t),r=jo(e),s=nt(n.seconds,r.seconds);return s!==0?s:nt(n.nanos,r.nanos)}function H1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=fu(n[s],r[s]);if(a)return a}return nt(n.length,r.length)}function hu(t){return bv(t)}function bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=jo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=bv(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${bv(n.fields[u])}`;return s+"}"}(t.mapValue):$e(61005,{value:t})}function Nd(t){switch(qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rp(t);return e?16+Nd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ho(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Nd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Yo(r.fields,(a,u)=>{s+=a.length+Nd(u)}),s}(t.mapValue);default:throw $e(13486,{value:t})}}function q1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sv(t){return!!t&&"integerValue"in t}function N_(t){return!!t&&"arrayValue"in t}function $1(t){return!!t&&"nullValue"in t}function G1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kd(t){return!!t&&"mapValue"in t}function y6(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[oI])===null||n===void 0?void 0:n.stringValue)===aI}function Gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===g6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=nr.emptyPath(),r={},s=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=c.popLast()}u?r[c.lastSegment()]=Gc(u):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];kd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Yo(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Mr(Gc(this.value))}}function lI(t){const e=[];return Yo(t.fields,(n,r)=>{const s=new nr([n]);if(kd(r)){const a=lI(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,s,a,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=c}static newInvalidDocument(e){return new cr(e,0,Ke.min(),Ke.min(),Ke.min(),Mr.empty(),0)}static newFoundDocument(e,n,r,s){return new cr(e,1,n,Ke.min(),r,s,0)}static newNoDocument(e,n){return new cr(e,2,n,Ke.min(),Ke.min(),Mr.empty(),0)}static newUnknownDocument(e,n){return new cr(e,3,n,Ke.min(),Ke.min(),Mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.position=e,this.inclusive=n}}function Y1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(u.referenceValue),n.key):r=fu(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function K1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ls(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n="asc"){this.field=e,this.dir=n}}function _6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{}class An extends uI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new w6(e,n,r):n==="array-contains"?new T6(e,r):n==="in"?new x6(e,r):n==="not-in"?new A6(e,r):n==="array-contains-any"?new C6(e,r):new An(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b6(e,r):new S6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fu(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(fu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends uI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Mi(e,n)}matches(e){return cI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cI(t){return t.op==="and"}function fI(t){return E6(t)&&cI(t)}function E6(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function Tv(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+hu(t.value);if(fI(t))return t.filters.map(e=>Tv(e)).join(",");{const e=t.filters.map(n=>Tv(n)).join(",");return`${t.op}(${e})`}}function hI(t,e){return t instanceof An?function(r,s){return s instanceof An&&r.op===s.op&&r.field.isEqual(s.field)&&ls(r.value,s.value)}(t,e):t instanceof Mi?function(r,s){return s instanceof Mi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,c)=>a&&hI(u,s.filters[c]),!0):!1}(t,e):void $e(19439)}function dI(t){return t instanceof An?function(n){return`${n.field.canonicalString()} ${n.op} ${hu(n.value)}`}(t):t instanceof Mi?function(n){return n.op.toString()+" {"+n.getFilters().map(dI).join(" ,")+"}"}(t):"Filter"}class w6 extends An{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class b6 extends An{constructor(e,n){super(e,"in",n),this.keys=pI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S6 extends An{constructor(e,n){super(e,"not-in",n),this.keys=pI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class T6 extends An{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return N_(n)&&pf(n.arrayValue,this.value)}}class x6 extends An{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pf(this.value.arrayValue,n)}}class A6 extends An{constructor(e,n){super(e,"not-in",n)}matches(e){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pf(this.value.arrayValue,n)}}class C6 extends An{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n=null,r=[],s=[],a=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=c,this.Ie=null}}function X1(t,e=null,n=[],r=[],s=null,a=null,u=null){return new I6(t,e,n,r,s,a,u)}function k_(t){const e=Qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hu(r)).join(",")),e.Ie=n}return e.Ie}function D_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K1(t.startAt,e.startAt)&&K1(t.endAt,e.endAt)}function xv(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],s=[],a=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function R6(t,e,n,r,s,a,u,c){return new wu(t,e,n,r,s,a,u,c)}function mI(t){return new wu(t)}function Q1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gI(t){return t.collectionGroup!==null}function Yc(t){const e=Qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Mn(nr.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new mf(a,r))}),n.has(nr.keyField().canonicalString())||e.Ee.push(new mf(nr.keyField(),r))}return e.Ee}function is(t){const e=Qe(t);return e.de||(e.de=N6(e,Yc(t))),e.de}function N6(t,e){if(t.limitType==="F")return X1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new mf(s.field,a)});const n=t.endAt?new ep(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ep(t.startAt.position,t.startAt.inclusive):null;return X1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Av(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cv(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Np(t,e){return D_(is(t),is(e))&&t.limitType===e.limitType}function yI(t){return`${k_(is(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dI(s)).join(", ")}]`),Ip(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>hu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>hu(s)).join(",")),`Target(${r})`}(is(t))}; limitType=${t.limitType})`}function kp(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Yc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,c,h){const d=Y1(u,c,h);return u.inclusive?d<=0:d<0}(r.startAt,Yc(r),s)||r.endAt&&!function(u,c,h){const d=Y1(u,c,h);return u.inclusive?d>=0:d>0}(r.endAt,Yc(r),s))}(t,e)}function k6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vI(t){return(e,n)=>{let r=!1;for(const s of Yc(t)){const a=D6(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function D6(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(a,u,c){const h=u.data.field(a),d=c.data.field(a);return h!==null&&d!==null?fu(h,d):$e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return eI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=new an(Be.comparator);function js(){return O6}const _I=new an(Be.comparator);function Fc(...t){let e=_I;for(const n of t)e=e.insert(n.key,n);return e}function EI(t){let e=_I;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Na(){return Kc()}function wI(){return Kc()}function Kc(){return new ja(t=>t.toString(),(t,e)=>t.isEqual(e))}const M6=new an(Be.comparator),P6=new Mn(Be.comparator);function ut(...t){let e=P6;for(const n of t)e=e.add(n);return e}const V6=new Mn(nt);function L6(){return V6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function bI(t){return{integerValue:""+t}}function z6(t,e){return f6(e)?bI(e):O_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this._=void 0}}function U6(t,e,n){return t instanceof tp?function(s,a){const u={fields:{[rI]:{stringValue:nI},[sI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&R_(a)&&(a=Rp(a)),a&&(u.fields[iI]=a),{mapValue:u}}(n,e):t instanceof gf?TI(t,e):t instanceof yf?xI(t,e):function(s,a){const u=SI(s,a),c=W1(u)+W1(s.Re);return Sv(u)&&Sv(s.Re)?bI(c):O_(s.serializer,c)}(t,e)}function B6(t,e,n){return t instanceof gf?TI(t,e):t instanceof yf?xI(t,e):n}function SI(t,e){return t instanceof np?function(r){return Sv(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class tp extends Dp{}class gf extends Dp{constructor(e){super(),this.elements=e}}function TI(t,e){const n=AI(e);for(const r of t.elements)n.some(s=>ls(s,r))||n.push(r);return{arrayValue:{values:n}}}class yf extends Dp{constructor(e){super(),this.elements=e}}function xI(t,e){let n=AI(e);for(const r of t.elements)n=n.filter(s=>!ls(s,r));return{arrayValue:{values:n}}}class np extends Dp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function W1(t){return _n(t.integerValue||t.doubleValue)}function AI(t){return N_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function F6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof gf&&s instanceof gf||r instanceof yf&&s instanceof yf?cu(r.elements,s.elements,ls):r instanceof np&&s instanceof np?ls(r.Re,s.Re):r instanceof tp&&s instanceof tp}(t.transform,e.transform)}class j6{constructor(e,n){this.version=e,this.transformResults=n}}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Op{}function CI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mp(t.key,Zr.none()):new Rf(t.key,t.data,Zr.none());{const n=t.data,r=Mr.empty();let s=new Mn(nr.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Ko(t.key,r,new Qr(s.toArray()),Zr.none())}}function H6(t,e,n){t instanceof Rf?function(s,a,u){const c=s.value.clone(),h=J1(s.fieldTransforms,a,u.transformResults);c.setAll(h),a.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ko?function(s,a,u){if(!Dd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const c=J1(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(II(s)),h.setAll(c),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Xc(t,e,n,r){return t instanceof Rf?function(a,u,c,h){if(!Dd(a.precondition,u))return c;const d=a.value.clone(),m=eT(a.fieldTransforms,h,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ko?function(a,u,c,h){if(!Dd(a.precondition,u))return c;const d=eT(a.fieldTransforms,h,u),m=u.data;return m.setAll(II(a)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,u,c){return Dd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function q6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=SI(r.transform,s||null);a!=null&&(n===null&&(n=Mr.empty()),n.set(r.field,a))}return n||null}function Z1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&cu(r,s,(a,u)=>F6(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rf extends Op{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ko extends Op{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function II(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function J1(t,e,n){const r=new Map;kt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,c=e.data.field(a.field);r.set(a.field,B6(u,c,n[s]))}return r}function eT(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,U6(a,u,e))}return r}class Mp extends Op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $6 extends Op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&H6(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wI();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let c=this.applyToLocalView(u,a.mutatedFields);c=n.has(s.key)?null:c;const h=CI(u,c);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(Ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,(n,r)=>Z1(n,r))&&cu(this.baseMutations,e.baseMutations,(n,r)=>Z1(n,r))}}class M_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){kt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return M6}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new M_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,yt;function X6(t){switch(t){case _e.OK:return $e(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return $e(15467,{code:t})}}function RI(t){if(t===void 0)return Fs("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Tn.OK:return _e.OK;case Tn.CANCELLED:return _e.CANCELLED;case Tn.UNKNOWN:return _e.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return _e.INTERNAL;case Tn.UNAVAILABLE:return _e.UNAVAILABLE;case Tn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Tn.NOT_FOUND:return _e.NOT_FOUND;case Tn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Tn.ABORTED:return _e.ABORTED;case Tn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Tn.DATA_LOSS:return _e.DATA_LOSS;default:return $e(39323,{code:t})}}(yt=Tn||(Tn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=new Vo([4294967295,4294967295],0);function tT(t){const e=WC().encode(t),n=new HC;return n.update(e),new Uint8Array(n.digest())}function nT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Vo([n,r],0),new Vo([s,a],0)]}class P_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Vo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Vo.fromNumber(r)));return s.compare(Q6)===1&&(s=new Vo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=tT(e),[r,s]=nT(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new P_(a,s,n);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const n=tT(e),[r,s]=nT(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pp(Ke.min(),s,new an(nt),js(),ut())}}class Nf{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nf(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class NI{constructor(e,n){this.targetId=e,this.Ce=n}}class kI{constructor(e,n,r=rr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class rT{constructor(){this.Fe=0,this.Me=iT(),this.xe=rr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ut(),n=ut(),r=ut();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:$e(38017,{changeType:a})}}),new Nf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=iT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,kt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class W6{constructor(e){this.ze=e,this.je=new Map,this.He=js(),this.Je=gd(),this.Ye=gd(),this.Ze=new an(nt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:$e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(xv(a))if(r===0){const u=new Be(a.path);this.tt(n,u,cr.newNoDocument(u,Ke.min()))}else kt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const c=this.ct(e),h=c?this.lt(c,e,u):1;if(h!==0){this.st(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,c;try{u=Ho(r).toUint8Array()}catch(h){if(h instanceof tI)return uu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new P_(u,s,a)}catch(h){return uu(h instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,u)=>{const c=this._t(u);if(c){if(a.current&&xv(c.target)){const h=new Be(c.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,cr.newNoDocument(h,e))}a.Le&&(n.set(u,a.qe()),a.Qe())}});let r=ut();this.Ye.forEach((a,u)=>{let c=!0;u.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new Pp(e,n,this.Ze,this.He,r);return this.He=js(),this.Je=gd(),this.Ye=gd(),this.Ze=new an(nt),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new rT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Mn(nt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Mn(nt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new rT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function gd(){return new an(Be.comparator)}function iT(){return new an(Be.comparator)}const Z6={asc:"ASCENDING",desc:"DESCENDING"},J6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e3={and:"AND",or:"OR"};class t3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iv(t,e){return t.useProto3Json||Ip(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function n3(t,e){return rp(t,e.toTimestamp())}function ss(t){return kt(!!t,49232),Ke.fromTimestamp(function(n){const r=jo(n);return new Jt(r.seconds,r.nanos)}(t))}function V_(t,e){return Rv(t,e).canonicalString()}function Rv(t,e){const n=function(s){return new Zt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OI(t){const e=Zt.fromString(t);return kt(zI(e),10190,{key:e.toString()}),e}function Nv(t,e){return V_(t.databaseId,e.path)}function Sy(t,e){const n=OI(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(PI(n))}function MI(t,e){return V_(t.databaseId,e)}function r3(t){const e=OI(t);return e.length===4?Zt.emptyPath():PI(e)}function kv(t){return new Zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sT(t,e,n){return{name:Nv(t,e),fields:n.value.mapValue.fields}}function i3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:$e(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(d,m){return d.useProto3Json?(kt(m===void 0||typeof m=="string",58123),rr.fromBase64String(m||"")):(kt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),rr.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const m=d.code===void 0?_e.UNKNOWN:RI(d.code);return new ke(m,d.message||"")}(u);n=new kI(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sy(t,r.document.name),a=ss(r.document.updateTime),u=r.document.createTime?ss(r.document.createTime):Ke.min(),c=new Mr({mapValue:{fields:r.document.fields}}),h=cr.newFoundDocument(s,a,u,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Od(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sy(t,r.document),a=r.readTime?ss(r.readTime):Ke.min(),u=cr.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Od([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sy(t,r.document),a=r.removedTargetIds||[];n=new Od([],a,s,null)}else{if(!("filter"in e))return $e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new K6(s,a),c=r.targetId;n=new NI(c,u)}}return n}function s3(t,e){let n;if(e instanceof Rf)n={update:sT(t,e.key,e.value)};else if(e instanceof Mp)n={delete:Nv(t,e.key)};else if(e instanceof Ko)n={update:sT(t,e.key,e.data),updateMask:p3(e.fieldMask)};else{if(!(e instanceof $6))return $e(16599,{ft:e.type});n={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const c=u.transform;if(c instanceof tp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof np)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw $e(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:n3(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:$e(27497)}(t,e.precondition)),n}function o3(t,e){return t&&t.length>0?(kt(e!==void 0,14353),t.map(n=>function(s,a){let u=s.updateTime?ss(s.updateTime):ss(a);return u.isEqual(Ke.min())&&(u=ss(a)),new j6(u,s.transformResults||[])}(n,e))):[]}function a3(t,e){return{documents:[MI(t,e.path)]}}function l3(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MI(t,s);const a=function(d){if(d.length!==0)return LI(Mi.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:Hl(_.field),direction:f3(_.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=Iv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function u3(t){let e=r3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){kt(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(y){const _=VI(y);return _ instanceof Mi&&fI(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(y){return y.map(_=>function(T){return new mf(ql(T.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(y){let _;return _=typeof y=="object"?y.value:y,Ip(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,E=y.values||[];return new ep(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const _=!y.before,E=y.values||[];return new ep(E,_)}(n.endAt)),R6(e,s,u,a,c,"F",h,d)}function c3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ql(n.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ql(n.unaryFilter.field);return An.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ql(n.unaryFilter.field);return An.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ql(n.unaryFilter.field);return An.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $e(61313);default:return $e(60726)}}(t):t.fieldFilter!==void 0?function(n){return An.create(ql(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $e(58110);default:return $e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mi.create(n.compositeFilter.filters.map(r=>VI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $e(1026)}}(n.compositeFilter.op))}(t):$e(30097,{filter:t})}function f3(t){return Z6[t]}function h3(t){return J6[t]}function d3(t){return e3[t]}function Hl(t){return{fieldPath:t.canonicalString()}}function ql(t){return nr.fromServerFormat(t.fieldPath)}function LI(t){return t instanceof An?function(n){if(n.op==="=="){if(G1(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NAN"}};if($1(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G1(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NAN"}};if($1(n.value))return{unaryFilter:{field:Hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(n.field),op:h3(n.op),value:n.value}}}(t):t instanceof Mi?function(n){const r=n.getFilters().map(s=>LI(s));return r.length===1?r[0]:{compositeFilter:{op:d3(n.op),filters:r}}}(t):$e(54877,{filter:t})}function p3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,s,a=Ke.min(),u=Ke.min(),c=rr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.wt=e}}function g3(t){const e=u3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.Cn=new v3}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ee.resolve()}getCollectionParents(e,n){return Ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ee.resolve()}deleteFieldIndex(e,n){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,n){return Ee.resolve()}getDocumentsMatchingTarget(e,n){return Ee.resolve(null)}getIndexType(e,n){return Ee.resolve(0)}getFieldIndexes(e,n){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,n){return Ee.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,n){return Ee.resolve(Fo.min())}updateCollectionGroup(e,n,r){return Ee.resolve()}updateIndexEntries(e,n){return Ee.resolve()}}class v3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Mn(Zt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Mn(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UI=41943040;class Or{static withCacheSize(e){return new Or(e,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(UI,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new du(0)}static lr(){return new du(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="LruGarbageCollector",_3=1048576;function lT([t,e],[n,r]){const s=nt(t,n);return s===0?nt(e,r):s}class E3{constructor(e){this.Er=e,this.buffer=new Mn(lT),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ne(aT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eu(n)?Ne(aT,"Ignoring IndexedDB error during garbage collection: ",n):await _u(n)}await this.mr(3e5)})}}class b3{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ee.resolve(Cp.le);const r=new E3(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(oT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,a,u,c,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,u=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),Fl()<=lt.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function S3(t,e){return new b3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.changes=new ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Xc(r.mutation,s,Qr.empty(),Jt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const s=Na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=Fc();return a.forEach((c,h)=>{u=u.insert(c,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,s){let a=js();const u=Kc(),c=function(){return Kc()}();return n.forEach((h,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof Ko)?a=a.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),Xc(m.mutation,d,m.mutation.getFieldMask(),Jt.now())):u.set(d.key,Qr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,m)=>u.set(d,m)),n.forEach((d,m)=>{var y;return c.set(d,new x3(m,(y=u.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Kc();let s=new an((u,c)=>u-c),a=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||Qr.empty();m=c.applyToLocalView(d,m),r.set(h,m);const y=(s.get(c.batchId)||ut()).add(h);s=s.insert(c.batchId,y)})}).next(()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,m=h.value,y=wI();m.forEach(_=>{if(!a.has(_)){const E=CI(n.get(_),r.get(_));E!==null&&y.set(_,E),a=a.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,y))}return Ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return Be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Ee.resolve(Na());let c=ff,h=a;return u.next(d=>Ee.forEach(d,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?Ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{h=h.insert(m,_)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,ut())).next(m=>({batchId:c,changes:EI(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let s=Fc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=Fc();return this.indexManager.getCollectionParents(e,a).next(c=>Ee.forEach(c,h=>{const d=function(y,_){return new wu(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(m=>{m.forEach((y,_)=>{u=u.insert(y,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(u=>{a.forEach((h,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,cr.newInvalidDocument(m)))});let c=Fc();return u.forEach((h,d)=>{const m=a.get(h);m!==void 0&&Xc(m.mutation,d,Qr.empty(),Jt.now()),kp(n,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Ee.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ss(s.createTime)}}(n)),Ee.resolve()}getNamedQuery(e,n){return Ee.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:g3(s.bundledQuery),readTime:ss(s.readTime)}}(n)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.overlays=new an(Be.comparator),this.Qr=new Map}getOverlay(e,n){return Ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return Ee.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),Ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),Ee.resolve()}getOverlaysForCollection(e,n,r){const s=Na(),a=n.length+1,u=new Be(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return Ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new an((d,m)=>d-m);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=a.get(d.largestBatchId);m===null&&(m=Na(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=Na(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=s)););return Ee.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Y6(n,r));let a=this.Qr.get(n);a===void 0&&(a=ut(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.$r=new Mn($n.Ur),this.Kr=new Mn($n.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new $n(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new $n(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Be(new Zt([])),r=new $n(n,e),s=new $n(n,e+1),a=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Be(new Zt([])),r=new $n(n,e),s=new $n(n,e+1);let a=ut();return this.Kr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new $n(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Be.comparator(e.key,n.key)||nt(e.Zr,n.Zr)}static Wr(e,n){return nt(e.Zr,n.Zr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Mn($n.Ur)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new G6(a,n,r,s);this.mutationQueue.push(u);for(const c of s)this.Xr=this.Xr.add(new $n(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ee.resolve(u)}lookupMutationBatch(e,n){return Ee.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),a=s<0?0:s;return Ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?I_:this.nr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $n(n,0),s=new $n(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],u=>{const c=this.ei(u.Zr);a.push(c)}),Ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(nt);return n.forEach(s=>{const a=new $n(s,0),u=new $n(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],c=>{r=r.add(c.Zr)})}),Ee.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const u=new $n(new Be(a),0);let c=new Mn(nt);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(h.Zr)),!0)},u),Ee.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){kt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Ee.forEach(n.mutations,s=>{const a=new $n(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new $n(n,0),s=this.Xr.firstAfterOrEqual(r);return Ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.ii=e,this.docs=function(){return new an(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ee.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(n))}getEntries(e,n){let r=js();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():cr.newInvalidDocument(s))}),Ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=js();const u=n.path,c=new Be(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||a6(o6(m),r)<=0||(s.has(m.key)||kp(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Ee.resolve(a)}getAllFromCollectionGroup(e,n,r,s){$e(9500)}si(e,n){return Ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D3(this)}getSize(e){return Ee.resolve(this.size)}}class D3 extends T3{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),Ee.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.persistence=e,this.oi=new ja(n=>k_(n),D_),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this._i=0,this.ai=new L_,this.targetCount=0,this.ui=du.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Ee.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new du(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Ee.resolve()}updateTargetData(e,n){return this.Tr(n),Ee.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.oi.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Ee.waitFor(a).next(()=>s)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Ee.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Ee.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Ee.resolve(r)}containsKey(e,n){return Ee.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.ci={},this.overlays={},this.li=new Cp(0),this.hi=!1,this.hi=!0,this.Pi=new R3,this.referenceDelegate=e(this),this.Ti=new O3(this),this.indexManager=new y3,this.remoteDocumentCache=function(s){return new k3(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new m3(n),this.Ei=new C3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new N3(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new M3(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,n){return Ee.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class M3 extends u6{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.Vi=new L_,this.mi=null}static fi(e){return new z_(e)}get gi(){if(this.mi)return this.mi;throw $e(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Ee.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Ee.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Ee.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.gi,r=>{const s=Be.fromPath(r);return this.pi(e,s).next(a=>{a||n.removeEntry(s,Ke.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Ee.or([()=>Ee.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ip{constructor(e,n){this.persistence=e,this.yi=new ja(r=>h6(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=S3(this,n)}static fi(e,n){return new ip(e,n)}di(){}Ai(e){return Ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Ee.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?Ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(c=>{c||(r++,a.removeEntry(u,Ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ee.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Ee.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nd(e.data.value)),n}Dr(e,n,r){return Ee.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return Ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ut(),s=ut();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new U_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return NL()?8:c6(hr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ws(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,n,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new P3;return this.Ss(e,n,u).next(c=>{if(a.result=c,this.fs)return this.Ds(e,n,u,c.size)})}).next(()=>a.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Fl()<=lt.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ee.resolve()):(Fl()<=lt.DEBUG&&Ne("QueryEngine","Query:",jl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Fl()<=lt.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,is(n))):Ee.resolve())}ws(e,n){if(Q1(n))return Ee.resolve(null);let r=is(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Cv(n,null,"F"),r=is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=ut(...a);return this.ys.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.vs(n,c);return this.Cs(n,d,u,h.readTime)?this.ws(e,Cv(n,null,"F")):this.Fs(e,d,n,h)}))})))}bs(e,n,r,s){return Q1(n)||s.isEqual(Ke.min())?Ee.resolve(null):this.ys.getDocuments(e,r).next(a=>{const u=this.vs(n,a);return this.Cs(n,u,r,s)?Ee.resolve(null):(Fl()<=lt.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jl(n)),this.Fs(e,u,n,s6(s,ff)).next(c=>c))})}vs(e,n){let r=new Mn(vI(e));return n.forEach((s,a)=>{kp(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return Fl()<=lt.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",jl(n)),this.ys.getDocumentsMatchingQuery(e,n,Fo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LocalStore",L3=3e8;class z3{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new an(nt),this.Os=new ja(a=>k_(a),D_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function U3(t,e,n,r){return new z3(t,e,n,r)}async function FI(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],c=[];let h=ut();for(const d of s){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of a){c.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:c}))})})}function B3(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,m){const y=d.batch,_=y.keys();let E=Ee.resolve();return _.forEach(T=>{E=E.next(()=>m.getEntry(h,T)).next(C=>{const N=d.docVersions.get(T);kt(N!==null,48541),C.version.compareTo(N)<0&&(y.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),m.addEntry(C)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(h,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=ut();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jI(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function F3(t,e){const n=Qe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((m,y)=>{const _=s.get(y);if(!_)return;c.push(n.Ti.removeMatchingKeys(a,m.removedDocuments,y).next(()=>n.Ti.addMatchingKeys(a,m.addedDocuments,y)));let E=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(rr.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(y,E),function(C,N,k){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=L3?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(_,E,m)&&c.push(n.Ti.updateTargetData(a,E))});let h=js(),d=ut();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(j3(a,u,e.documentUpdates).next(m=>{h=m.qs,d=m.Qs})),!r.isEqual(Ke.min())){const m=n.Ti.getLastRemoteSnapshotVersion(a).next(y=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return Ee.waitFor(c).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(n.xs=s,a))}function j3(t,e,n){let r=ut(),s=ut();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=js();return n.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(Ke.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):Ne(B_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{qs:u,Qs:s}})}function H3(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=I_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function q3(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(a=>a?(s=a,Ee.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new No(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Dv(t,e,n){const r=Qe(t),s=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Eu(u))throw u;Ne(B_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function uT(t,e,n){const r=Qe(t);let s=Ke.min(),a=ut();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,d,m){const y=Qe(h),_=y.Os.get(m);return _!==void 0?Ee.resolve(y.xs.get(_)):y.Ti.getTargetData(d,m)}(r,u,is(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,c.targetId).next(h=>{a=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:Ke.min(),n?a:ut())).next(c=>($3(r,k6(e),c),{documents:c,$s:a})))}function $3(t,e,n){let r=t.Ns.get(e)||Ke.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class cT{constructor(){this.activeTargetIds=L6()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G3{constructor(){this.xo=new cT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new cT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="ConnectivityMonitor";class hT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ne(fT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ne(fT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd=null;function Ov(){return yd===null?yd=function(){return 268435456+Math.round(2147483648*Math.random())}():yd++,"0x"+yd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="RestConnection",K3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X3{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Zd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,a){const u=Ov(),c=this.jo(e,n.toUriEncodedString());Ne(Ty,`Sending RPC '${e}' ${u}:`,c,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(c),m=gu(d);return this.Jo(e,c,h,r,m).then(y=>(Ne(Ty,`Received RPC '${e}' ${u}: `,y),y),y=>{throw uu(Ty,`RPC '${e}' ${u} failed with error: `,y,"url: ",c,"request:",r),y})}Yo(e,n,r,s,a,u){return this.zo(e,n,r,s,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,n){const r=K3[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="WebChannelConnection";class W3 extends X3{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const u=Ov();return new Promise((c,h)=>{const d=new qC;d.setWithCredentials(!0),d.listenOnce($C.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Rd.NO_ERROR:const y=d.getResponseJson();Ne(lr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),c(y);break;case Rd.TIMEOUT:Ne(lr,`RPC '${e}' ${u} timed out`),h(new ke(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const _=d.getStatus();if(Ne(lr,`RPC '${e}' ${u} failed with status:`,_,"response text:",d.getResponseText()),_>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E?.error;if(T&&T.status&&T.message){const C=function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(j)>=0?j:_e.UNKNOWN}(T.status);h(new ke(C,T.message))}else h(new ke(_e.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ke(_e.UNAVAILABLE,"Connection failed."));break;default:$e(9055,{h_:e,streamId:u,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Ne(lr,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);Ne(lr,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",m,r,15)})}I_(e,n,r){const s=Ov(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=KC(),c=YC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=a.join("");Ne(lr,`Creating RPC '${e}' stream ${s}: ${m}`,h);const y=u.createWebChannel(m,h);this.E_(y);let _=!1,E=!1;const T=new Q3({Zo:N=>{E?Ne(lr,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(_||(Ne(lr,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),Ne(lr,`RPC '${e}' stream ${s} sending:`,N),y.send(N))},Xo:()=>y.close()}),C=(N,k,j)=>{N.listen(k,q=>{try{j(q)}catch(F){setTimeout(()=>{throw F},0)}})};return C(y,Bc.EventType.OPEN,()=>{E||(Ne(lr,`RPC '${e}' stream ${s} transport opened.`),T.__())}),C(y,Bc.EventType.CLOSE,()=>{E||(E=!0,Ne(lr,`RPC '${e}' stream ${s} transport closed`),T.u_(),this.d_(y))}),C(y,Bc.EventType.ERROR,N=>{E||(E=!0,uu(lr,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),T.u_(new ke(_e.UNAVAILABLE,"The operation could not be completed")))}),C(y,Bc.EventType.MESSAGE,N=>{var k;if(!E){const j=N.data[0];kt(!!j,16349);const q=j,F=q?.error||((k=q[0])===null||k===void 0?void 0:k.error);if(F){Ne(lr,`RPC '${e}' stream ${s} received error:`,F);const K=F.status;let $=function(D){const P=Tn[D];if(P!==void 0)return RI(P)}(K),R=F.message;$===void 0&&($=_e.INTERNAL,R="Unknown error status: "+K+" with message "+F.message),E=!0,T.u_(new ke($,R)),y.close()}else Ne(lr,`RPC '${e}' stream ${s} received:`,j),T.c_(j)}}),C(c,GC.STAT_EVENT,N=>{N.stat===Ev.PROXY?Ne(lr,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Ev.NOPROXY&&Ne(lr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function xy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t){return new t3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="PersistentStream";class qI{constructor(e,n,r,s,a,u,c,h){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new HI(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(Fs(n.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new ke(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ne(dT,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ne(dT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z3 extends qI{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=i3(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ke.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ke.min():u.readTime?ss(u.readTime):Ke.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=kv(this.serializer),n.addTarget=function(a,u){let c;const h=u.target;if(c=xv(h)?{documents:a3(a,h)}:{query:l3(a,h).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=DI(a,u.resumeToken);const d=Iv(a,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ke.min())>0){c.readTime=rp(a,u.snapshotVersion.toTimestamp());const d=Iv(a,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=c3(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=kv(this.serializer),n.removeTarget=e,this.Q_(n)}}class J3 extends qI{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=o3(e.writeResults,e.commitTime),r=ss(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=kv(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s3(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{}class t9 extends e9{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ke(_e.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,Rv(n,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(_e.UNKNOWN,a.toString())})}Yo(e,n,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Yo(e,Rv(n,r),s,u,c,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ke(_e.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class n9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fs(n),this.ua=!1):Ne("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class r9{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Ha(this)&&(Ne(La,"Restarting streams for network reachability change."),await async function(h){const d=Qe(h);d.da.add(4),await kf(d),d.Va.set("Unknown"),d.da.delete(4),await Lp(d)}(this))})}),this.Va=new n9(r,s)}}async function Lp(t){if(Ha(t))for(const e of t.Aa)await e(!0)}async function kf(t){for(const e of t.Aa)await e(!1)}function $I(t,e){const n=Qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),q_(n)?H_(n):bu(n).N_()&&j_(n,e))}function F_(t,e){const n=Qe(t),r=bu(n);n.Ea.delete(e),r.N_()&&GI(n,e),n.Ea.size===0&&(r.N_()?r.k_():Ha(n)&&n.Va.set("Unknown"))}function j_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bu(t).Z_(e)}function GI(t,e){t.ma.Ke(e),bu(t).X_(e)}function H_(t){t.ma=new W6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),bu(t).start(),t.Va.ca()}function q_(t){return Ha(t)&&!bu(t).O_()&&t.Ea.size>0}function Ha(t){return Qe(t).da.size===0}function YI(t){t.ma=void 0}async function i9(t){t.Va.set("Online")}async function s9(t){t.Ea.forEach((e,n)=>{j_(t,e)})}async function o9(t,e){YI(t),q_(t)?(t.Va.Pa(e),H_(t)):t.Va.set("Unknown")}async function a9(t,e,n){if(t.Va.set("Online"),e instanceof kI&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const c of a.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Ne(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sp(t,r)}else if(e instanceof Od?t.ma.Xe(e):e instanceof NI?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ke.min()))try{const r=await jI(t.localStore);n.compareTo(r)>=0&&await function(a,u){const c=a.ma.It(u);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ea.get(d);m&&a.Ea.set(d,m.withResumeToken(h.resumeToken,u))}}),c.targetMismatches.forEach((h,d)=>{const m=a.Ea.get(h);if(!m)return;a.Ea.set(h,m.withResumeToken(rr.EMPTY_BYTE_STRING,m.snapshotVersion)),GI(a,h);const y=new No(m.target,h,d,m.sequenceNumber);j_(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Ne(La,"Failed to raise snapshot:",r),await sp(t,r)}}async function sp(t,e,n){if(!Eu(e))throw e;t.da.add(1),await kf(t),t.Va.set("Offline"),n||(n=()=>jI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne(La,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Lp(t)})}function KI(t,e){return e().catch(n=>sp(t,n,e))}async function zp(t){const e=Qe(t),n=$o(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:I_;for(;l9(e);)try{const s=await H3(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,u9(e,s)}catch(s){await sp(e,s)}XI(e)&&QI(e)}function l9(t){return Ha(t)&&t.Ia.length<10}function u9(t,e){t.Ia.push(e);const n=$o(t);n.N_()&&n.ea&&n.ta(e.mutations)}function XI(t){return Ha(t)&&!$o(t).O_()&&t.Ia.length>0}function QI(t){$o(t).start()}async function c9(t){$o(t).ia()}async function f9(t){const e=$o(t);for(const n of t.Ia)e.ta(n.mutations)}async function h9(t,e,n){const r=t.Ia.shift(),s=M_.from(r,e,n);await KI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zp(t)}async function d9(t,e){e&&$o(t).ea&&await async function(r,s){if(function(u){return X6(u)&&u!==_e.ABORTED}(s.code)){const a=r.Ia.shift();$o(r).L_(),await KI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await zp(r)}}(t,e),XI(t)&&QI(t)}async function pT(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Ne(La,"RemoteStore received new credentials");const r=Ha(n);n.da.add(3),await kf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Lp(n)}async function p9(t,e){const n=Qe(t);e?(n.da.delete(2),await Lp(n)):e||(n.da.add(2),await kf(n),n.Va.set("Unknown"))}function bu(t){return t.fa||(t.fa=function(n,r,s){const a=Qe(n);return a.oa(),new Z3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:i9.bind(null,t),n_:s9.bind(null,t),i_:o9.bind(null,t),Y_:a9.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),q_(t)?H_(t):t.Va.set("Unknown")):(await t.fa.stop(),YI(t))})),t.fa}function $o(t){return t.ga||(t.ga=function(n,r,s){const a=Qe(n);return a.oa(),new J3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:c9.bind(null,t),i_:d9.bind(null,t),na:f9.bind(null,t),ra:h9.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await zp(t)):(await t.ga.stop(),t.Ia.length>0&&(Ne(La,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,c=new $_(e,n,u,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G_(t,e){if(Fs("AsyncQueue",`${e}: ${t}`),Eu(t))return new ke(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(e){return new Zl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Fc(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.pa=new an(Be.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):$e(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class pu{constructor(e,n,r,s,a,u,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new pu(e,n,Zl.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class g9{constructor(){this.queries=gT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Qe(n),a=s.queries;s.queries=gT(),a.forEach((u,c)=>{for(const h of c.Sa)h.onError(r)})})(this,new ke(_e.ABORTED,"Firestore shutting down"))}}function gT(){return new ja(t=>yI(t),Np)}async function y9(t,e){const n=Qe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new m9,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(s,!0);break;case 1:a.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const c=G_(u,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&Y_(n)}async function v9(t,e){const n=Qe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _9(t,e){const n=Qe(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const c of u.Sa)c.Ma(s)&&(r=!0);u.ba=s}}r&&Y_(n)}function E9(t,e,n){const r=Qe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Y_(t){t.Ca.forEach(e=>{e.next()})}var Mv,yT;(yT=Mv||(Mv={})).xa="default",yT.Cache="cache";class w9{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.key=e}}class ZI{constructor(e){this.key=e}}class b9{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.Za=vI(e),this.Xa=new Zl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new mT,s=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const _=s.get(m),E=kp(this.query,y)?y:null,T=!!_&&this.mutatedKeys.has(_.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;_&&E?_.data.isEqual(E.data)?T!==C&&(r.track({type:3,doc:E}),N=!0):this.ru(_,E)||(r.track({type:2,doc:E}),N=!0,(h&&this.Za(E,h)>0||d&&this.Za(E,d)<0)&&(c=!0)):!_&&E?(r.track({type:0,doc:E}),N=!0):_&&!E&&(r.track({type:1,doc:_}),N=!0,(h||d)&&(c=!0)),N&&(E?(u=u.add(E),a=C?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:u,nu:r,Cs:c,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((m,y)=>function(E,T){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e(20277,{Vt:N})}};return C(E)-C(T)}(m.type,y.type)||this.Za(m.doc,y.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,u.length!==0||d?{snapshot:new pu(this.query,e.Xa,a,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new ZI(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new WI(r))}),n}au(e){this.Ha=e.$s,this.Ya=ut();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return pu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const K_="SyncEngine";class S9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T9{constructor(e){this.key=e,this.cu=!1}}class x9{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new ja(c=>yI(c),Np),this.Pu=new Map,this.Tu=new Set,this.Iu=new an(Be.comparator),this.Eu=new Map,this.du=new L_,this.Au={},this.Ru=new Map,this.Vu=du.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function A9(t,e,n=!0){const r=iR(t);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await JI(r,e,n,!0),s}async function C9(t,e){const n=iR(t);await JI(n,e,!0,!1)}async function JI(t,e,n,r){const s=await q3(t.localStore,is(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await I9(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&$I(t.remoteStore,s),c}async function I9(t,e,n,r,s){t.fu=(y,_,E)=>async function(C,N,k,j){let q=N.view.tu(k);q.Cs&&(q=await uT(C.localStore,N.query,!1).then(({documents:R})=>N.view.tu(R,q)));const F=j&&j.targetChanges.get(N.targetId),K=j&&j.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(q,C.isPrimaryClient,F,K);return _T(C,N.targetId,$.ou),$.snapshot}(t,y,_,E);const a=await uT(t.localStore,e,!0),u=new b9(e,a.$s),c=u.tu(a.documents),h=Nf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(c,t.isPrimaryClient,h);_T(t,n,d.ou);const m=new S9(e,n,u);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function R9(t,e,n){const r=Qe(t),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(u=>!Np(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&F_(r.remoteStore,s.targetId),Pv(r,s.targetId)}).catch(_u)):(Pv(r,s.targetId),await Dv(r.localStore,s.targetId,!0))}async function N9(t,e){const n=Qe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),F_(n.remoteStore,r.targetId))}async function k9(t,e,n){const r=z9(t);try{const s=await function(u,c){const h=Qe(u),d=Jt.now(),m=c.reduce((E,T)=>E.add(T.key),ut());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let T=js(),C=ut();return h.Bs.getEntries(E,m).next(N=>{T=N,T.forEach((k,j)=>{j.isValidDocument()||(C=C.add(k))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,T)).next(N=>{y=N;const k=[];for(const j of c){const q=q6(j,y.get(j.key).overlayedDocument);q!=null&&k.push(new Ko(j.key,q,lI(q.value.mapValue),Zr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,k,c)}).next(N=>{_=N;const k=N.applyToLocalDocumentSet(y,C);return h.documentOverlayCache.saveOverlays(E,N.batchId,k)})}).then(()=>({batchId:_.batchId,changes:EI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,h){let d=u.Au[u.currentUser.toKey()];d||(d=new an(nt)),d=d.insert(c,h),u.Au[u.currentUser.toKey()]=d}(r,s.batchId,n),await Df(r,s.changes),await zp(r.remoteStore)}catch(s){const a=G_(s,"Failed to persist write");n.reject(a)}}async function eR(t,e){const n=Qe(t);try{const r=await F3(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Eu.get(a);u&&(kt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?kt(u.cu,14607):s.removedDocuments.size>0&&(kt(u.cu,42227),u.cu=!1))}),await Df(n,r,e)}catch(r){await _u(r)}}function vT(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((a,u)=>{const c=u.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(u,c){const h=Qe(u);h.onlineState=c;let d=!1;h.queries.forEach((m,y)=>{for(const _ of y.Sa)_.Fa(c)&&(d=!0)}),d&&Y_(h)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D9(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new an(Be.comparator);u=u.insert(a,cr.newNoDocument(a,Ke.min()));const c=ut().add(a),h=new Pp(Ke.min(),new Map,new an(nt),u,c);await eR(r,h),r.Iu=r.Iu.remove(a),r.Eu.delete(e),X_(r)}else await Dv(r.localStore,e,!1).then(()=>Pv(r,e,n)).catch(_u)}async function O9(t,e){const n=Qe(t),r=e.batch.batchId;try{const s=await B3(n.localStore,e);nR(n,r,null),tR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Df(n,s)}catch(s){await _u(s)}}async function M9(t,e,n){const r=Qe(t);try{const s=await function(u,c){const h=Qe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,c).next(y=>(kt(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(d,y))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(r.localStore,e);nR(r,e,n),tR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Df(r,s)}catch(s){await _u(s)}}function tR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function nR(t,e,n){const r=Qe(t);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Pv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||rR(t,r)})}function rR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(F_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),X_(t))}function _T(t,e,n){for(const r of n)r instanceof WI?(t.du.addReference(r.key,e),P9(t,r)):r instanceof ZI?(Ne(K_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||rR(t,r.key)):$e(19791,{pu:r})}function P9(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ne(K_,"New document in limbo: "+n),t.Tu.add(r),X_(t))}function X_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Be(Zt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new T9(n)),t.Iu=t.Iu.insert(n,r),$I(t.remoteStore,new No(is(mI(n.path)),r,"TargetPurposeLimboResolution",Cp.le))}}async function Df(t,e,n){const r=Qe(t),s=[],a=[],u=[];r.hu.isEmpty()||(r.hu.forEach((c,h)=>{u.push(r.fu(h,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const y=d?!d.fromCache:(m=n?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(d){s.push(d);const y=U_.Rs(h.targetId,d);a.push(y)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(h,d){const m=Qe(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Ee.forEach(d,_=>Ee.forEach(_.ds,E=>m.persistence.referenceDelegate.addReference(y,_.targetId,E)).next(()=>Ee.forEach(_.As,E=>m.persistence.referenceDelegate.removeReference(y,_.targetId,E)))))}catch(y){if(!Eu(y))throw y;Ne(B_,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const E=m.xs.get(_),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T);m.xs=m.xs.insert(_,C)}}}(r.localStore,a))}async function V9(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Ne(K_,"User change. New user:",e.toKey());const r=await FI(n.localStore,e);n.currentUser=e,function(a,u){a.Ru.forEach(c=>{c.forEach(h=>{h.reject(new ke(_e.CANCELLED,u))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Df(n,r.ks)}}function L9(t,e){const n=Qe(t),r=n.Eu.get(e);if(r&&r.cu)return ut().add(r.key);{let s=ut();const a=n.Pu.get(e);if(!a)return s;for(const u of a){const c=n.hu.get(u);s=s.unionWith(c.view.eu)}return s}}function iR(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D9.bind(null,e),e.lu.Y_=_9.bind(null,e.eventManager),e.lu.gu=E9.bind(null,e.eventManager),e}function z9(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M9.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return U3(this.persistence,new V3,e.initialUser,this.serializer)}Su(e){return new BI(z_.fi,this.serializer)}bu(e){return new G3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class U9 extends op{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){kt(this.persistence.referenceDelegate instanceof ip,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w3(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new BI(r=>ip.fi(r,n),this.serializer)}}class Vv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V9.bind(null,this.syncEngine),await p9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new g9}()}createDatastore(e){const n=Vp(e.databaseInfo.databaseId),r=function(a){return new W3(a)}(e.databaseInfo);return function(a,u,c,h){return new t9(a,u,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,u,c){return new r9(r,s,a,u,c)}(this.localStore,this.datastore,e.asyncQueue,n=>vT(this.syncEngine,n,0),function(){return hT.C()?new hT:new Y3}())}createSyncEngine(e,n){return function(s,a,u,c,h,d,m){const y=new x9(s,a,u,c,h,d);return m&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Qe(s);Ne(La,"RemoteStore shutting down."),a.da.add(5),await kf(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vv.provider={build:()=>new Vv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="FirestoreClient";class F9{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ur.UNAUTHENTICATED,this.clientId=ZC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Ne(Go,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ne(Go,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=G_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ay(t,e){t.asyncQueue.verifyOperationInProgress(),Ne(Go,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await FI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ET(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j9(t);Ne(Go,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>pT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>pT(e.remoteStore,s)),t._onlineComponents=e}async function j9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne(Go,"Using user provided OfflineComponentProvider");try{await Ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===_e.FAILED_PRECONDITION||s.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;uu("Error using user provided cache. Falling back to memory cache: "+n),await Ay(t,new op)}}else Ne(Go,"Using default OfflineComponentProvider"),await Ay(t,new U9(void 0));return t._offlineComponents}async function sR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne(Go,"Using user provided OnlineComponentProvider"),await ET(t,t._uninitializedComponentsProvider._online)):(Ne(Go,"Using default OnlineComponentProvider"),await ET(t,new Vv))),t._onlineComponents}function H9(t){return sR(t).then(e=>e.syncEngine)}async function q9(t){const e=await sR(t),n=e.eventManager;return n.onListen=A9.bind(null,e.syncEngine),n.onUnlisten=R9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N9.bind(null,e.syncEngine),n}function $9(t,e,n={}){const r=new Lo;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,c,h,d){const m=new B9({next:_=>{m.xu(),u.enqueueAndForget(()=>v9(a,y)),_.fromCache&&h.source==="server"?d.reject(new ke(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new w9(c,m,{includeMetadataChanges:!0,Qa:!0});return y9(a,y)}(await q9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e,n){if(!n)throw new ke(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G9(t,e,n,r){if(e===!0&&r===!0)throw new ke(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bT(t){if(!Be.isDocumentKey(t))throw new ke(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ST(t){if(Be.isDocumentKey(t))throw new ke(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e(12329,{type:typeof t})}function za(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(t);throw new ke(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firestore.googleapis.com",TT=!0;class xT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lR,this.ssl=TT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_3)throw new ke(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ke(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ke(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ke(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qz;switch(r.type){case"firstParty":return new e6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=wT.get(n);r&&(Ne("ComponentProvider","Removing Datastore"),wT.delete(n),r.terminate())}(this),Promise.resolve()}}function Y9(t,e,n,r={}){var s;t=za(t,Bp);const a=gu(e),u=t._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&(PC(`https://${h}`),VC("Firestore",!0)),u.host!==lR&&u.host!==h&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:r});if(!Ma(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=ur.MOCK_USER;else{m=wL(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ke(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ur(_)}t._authCredentials=new Wz(new QC(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qa(this.firestore,e,this._query)}}class Jr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jr(this.firestore,e,this._key)}}class zo extends qa{constructor(e,n,r){super(e,n,mI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jr(this.firestore,null,new Be(e))}withConverter(e){return new zo(this.firestore,e,this._path)}}function Q_(t,e,...n){if(t=Pn(t),aR("collection","path",e),t instanceof Bp){const r=Zt.fromString(e,...n);return ST(r),new zo(t,null,r)}{if(!(t instanceof Jr||t instanceof zo))throw new ke(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zt.fromString(e,...n));return ST(r),new zo(t.firestore,null,r)}}function Su(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=ZC.newId()),aR("doc","path",e),t instanceof Bp){const r=Zt.fromString(e,...n);return bT(r),new Jr(t,null,new Be(r))}{if(!(t instanceof Jr||t instanceof zo))throw new ke(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zt.fromString(e,...n));return bT(r),new Jr(t.firestore,t instanceof zo?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="AsyncQueue";class CT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new HI(this,"async_queue_retry"),this.rc=()=>{const r=xy();r&&Ne(AT,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=xy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Lo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Eu(e))throw e;Ne(AT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Fs("INTERNAL UNHANDLED ERROR: ",IT(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=$_.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&$e(47125,{cc:IT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function IT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Of extends Bp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new CT,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function K9(t,e){const n=typeof t=="object"?t:BC(),r=typeof t=="string"?t:Zd,s=A_(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=_L("firestore");a&&Y9(s,...a)}return s}function W_(t){if(t._terminated)throw new ke(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X9(t),t._firestoreClient}function X9(t){var e,n,r;const s=t._freezeSettings(),a=function(c,h,d,m){return new m6(c,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,oR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new F9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c?._online.build();return{_offline:c?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu(rr.fromBase64String(e))}catch(n){throw new ke(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mu(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9=/^__.*__$/;class W9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rf(e,this.data,n,this.fieldTransforms)}}class uR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ko(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e(40011,{Ic:t})}}class t0{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new t0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ap(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(cR(this.Ic)&&Q9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Z9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vp(e)}bc(e,n,r,s=!1){return new t0({Ic:e,methodName:n,wc:r,path:nr.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n0(t){const e=t._freezeSettings(),n=Vp(t._databaseId);return new Z9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fR(t,e,n,r,s,a={}){const u=t.bc(a.merge||a.mergeFields?2:0,e,n,s);r0("Data must be an object, but it was:",u,r);const c=hR(r,u);let h,d;if(a.merge)h=new Qr(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const _=Lv(e,y,n);if(!u.contains(_))throw new ke(_e.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);pR(m,_)||m.push(_)}h=new Qr(m),d=u.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=u.fieldTransforms;return new W9(new Mr(c),h,d)}class jp extends Z_{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jp}}function J9(t,e,n,r){const s=t.bc(1,e,n);r0("Data must be an object, but it was:",s,r);const a=[],u=Mr.empty();Yo(r,(h,d)=>{const m=i0(e,h,n);d=Pn(d);const y=s.mc(m);if(d instanceof jp)a.push(m);else{const _=Mf(d,y);_!=null&&(a.push(m),u.set(m,_))}});const c=new Qr(a);return new uR(u,c,s.fieldTransforms)}function eU(t,e,n,r,s,a){const u=t.bc(1,e,n),c=[Lv(e,r,n)],h=[s];if(a.length%2!=0)throw new ke(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<a.length;_+=2)c.push(Lv(e,a[_])),h.push(a[_+1]);const d=[],m=Mr.empty();for(let _=c.length-1;_>=0;--_)if(!pR(d,c[_])){const E=c[_];let T=h[_];T=Pn(T);const C=u.mc(E);if(T instanceof jp)d.push(E);else{const N=Mf(T,C);N!=null&&(d.push(E),m.set(E,N))}}const y=new Qr(d);return new uR(m,y,u.fieldTransforms)}function tU(t,e,n,r=!1){return Mf(n,t.bc(r?4:3,e))}function Mf(t,e){if(dR(t=Pn(t)))return r0("Unsupported field value:",e,t),hR(t,e);if(t instanceof Z_)return function(r,s){if(!cR(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const c of r){let h=Mf(c,s.fc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Jt.fromDate(r);return{timestampValue:rp(s.serializer,a)}}if(r instanceof Jt){const a=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rp(s.serializer,a)}}if(r instanceof J_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mu)return{bytesValue:DI(s.serializer,r._byteString)};if(r instanceof Jr){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:V_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof e0)return function(u,c){return{mapValue:{fields:{[oI]:{stringValue:aI},[Jd]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return O_(c.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Up(r)}`)}(t,e)}function hR(t,e){const n={};return eI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(r,s)=>{const a=Mf(s,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function dR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof J_||t instanceof mu||t instanceof Jr||t instanceof Z_||t instanceof e0)}function r0(t,e,n){if(!dR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Up(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Lv(t,e,n){if((e=Pn(e))instanceof Fp)return e._internalPath;if(typeof e=="string")return i0(t,e);throw ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const nU=new RegExp("[~\\*/\\[\\]]");function i0(t,e,n){if(e.search(nU)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fp(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ap(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new ke(_e.INVALID_ARGUMENT,c+t+h)}function pR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rU extends mR{data(){return super.data()}}function Hp(t,e){return typeof e=="string"?i0(t,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s0{}class gR extends s0{}function sU(t,e,...n){let r=[];e instanceof s0&&r.push(e),r=r.concat(n),function(a){const u=a.filter(h=>h instanceof o0).length,c=a.filter(h=>h instanceof qp).length;if(u>1||u>0&&c>0)throw new ke(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class qp extends gR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qp(e,n,r)}_apply(e){const n=this._parse(e);return yR(e._query,n),new qa(e.firestore,e.converter,Av(e._query,n))}_parse(e){const n=n0(e.firestore);return function(a,u,c,h,d,m,y){let _;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ke(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){NT(y,m);const T=[];for(const C of y)T.push(RT(h,a,C));_={arrayValue:{values:T}}}else _=RT(h,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||NT(y,m),_=tU(c,u,y,m==="in"||m==="not-in");return An.create(d,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oU(t,e,n){const r=e,s=Hp("where",t);return qp._create(s,r,n)}class o0 extends s0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let u=s;const c=a.getFlattenedFilters();for(const h of c)yR(u,h),u=Av(u,h)}(e._query,n),new qa(e.firestore,e.converter,Av(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class a0 extends gR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new a0(e,n)}_apply(e){const n=function(s,a,u){if(s.startAt!==null)throw new ke(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ke(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mf(a,u)}(e._query,this._field,this._direction);return new qa(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new wu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function aU(t,e="asc"){const n=e,r=Hp("orderBy",t);return a0._create(r,n)}function RT(t,e,n){if(typeof(n=Pn(n))=="string"){if(n==="")throw new ke(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gI(e)&&n.indexOf("/")!==-1)throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Zt.fromString(n));if(!Be.isDocumentKey(r))throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q1(t,new Be(r))}if(n instanceof Jr)return q1(t,n._key);throw new ke(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Up(n)}.`)}function NT(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yR(t,e){const n=function(s,a){for(const u of s)for(const c of u.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lU{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _n(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yo(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Jd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>_n(u.doubleValue));return new e0(a)}convertGeoPoint(e){return new J_(_n(e.latitude),_n(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hf(e));default:return null}}convertTimestamp(e){const n=jo(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Zt.fromString(e);kt(zI(r),9688,{name:e});const s=new df(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return s.isEqual(n)||Fs(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uU extends mR{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Md extends uU{data(e={}){return super.data(e)}}class cU{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Md(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(c=>{const h=new Md(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Md(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),m=u.indexOf(c.doc.key)),{type:fU(c.type),doc:h,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e(61501,{type:t})}}class hU extends lU{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jr(this.firestore,null,n)}}function l0(t){t=za(t,qa);const e=za(t.firestore,Of),n=W_(e),r=new hU(e);return iU(t._query),$9(n,t._query).then(s=>new cU(e,r,t,s))}function u0(t,e,n){t=za(t,Jr);const r=za(t.firestore,Of),s=vR(t.converter,e,n);return c0(r,[fR(n0(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Zr.none())])}function dU(t){return c0(za(t.firestore,Of),[new Mp(t._key,Zr.none())])}function c0(t,e){return function(r,s){const a=new Lo;return r.asyncQueue.enqueueAndForget(async()=>k9(await H9(r),s,a)),a.promise}(W_(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=n0(e)}set(e,n,r){this._verifyNotCommitted();const s=Cy(e,this._firestore),a=vR(s.converter,n,r),u=fR(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Zr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const a=Cy(e,this._firestore);let u;return u=typeof(n=Pn(n))=="string"||n instanceof Fp?eU(this._dataReader,"WriteBatch.update",a._key,n,r,s):J9(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(u.toMutation(a._key,Zr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Cy(e,this._firestore);return this._mutations=this._mutations.concat(new Mp(n._key,Zr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cy(t,e){if((t=Pn(t)).firestore!==e)throw new ke(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){return W_(t=za(t,Of)),new pU(t,e=>c0(t,e))}(function(e,n=!0){(function(s){vu=s})(yu),lu(new Pa("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),c=new Of(new Zz(r.getProvider("auth-internal")),new t6(u,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ke(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(d.options.projectId,m)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Po(D1,O1,e),Po(D1,O1,"esm2017")})();function f0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ER(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mU=ER,wR=new Cf("auth","Firebase",ER());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new T_("@firebase/auth");function gU(t,...e){lp.logLevel<=lt.WARN&&lp.warn(`Auth (${yu}): ${t}`,...e)}function Pd(t,...e){lp.logLevel<=lt.ERROR&&lp.error(`Auth (${yu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw h0(t,...e)}function os(t,...e){return h0(t,...e)}function bR(t,e,n){const r=Object.assign(Object.assign({},mU()),{[e]:n});return new Cf("auth","Firebase",r).create(e,{appName:t.name})}function Vs(t){return bR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wR.create(t,...e)}function qe(t,e,...n){if(!t)throw h0(e,...n)}function Ms(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pd(e),new Error(e)}function Hs(t,e){t||Ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yU(){return kT()==="http:"||kT()==="https:"}function kT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yU()||CL()||"connection"in navigator)?navigator.onLine:!0}function _U(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hs(n>e,"Short delay should be less than long delay!"),this.isMobile=TL()||IL()}get(){return vU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bU=new Pf(3e4,6e4);function Xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qo(t,e,n,r,s={}){return TR(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const c=If(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},a);return AL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&gu(t.emulatorConfig.host)&&(d.credentials="include"),SR.fetch()(await xR(t,t.config.apiHost,n,c),d)})}async function TR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},EU),e);try{const s=new TU(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw _d(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const c=a.ok?u.errorMessage:u.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw _d(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw _d(t,"user-disabled",u);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw bR(t,m,d);Pi(t,m)}}catch(s){if(s instanceof $s)throw s;Pi(t,"network-request-failed",{message:String(s)})}}async function Vf(t,e,n,r,s={}){const a=await Qo(t,e,n,r,s);return"mfaPendingCredential"in a&&Pi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function xR(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?d0(t.config,s):`${t.config.apiScheme}://${s}`;return wU.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function SU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),bU.get())})}}function _d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=os(t,e,r);return s.customData._tokenResponse=n,s}function DT(t){return t!==void 0&&t.enterprise!==void 0}class xU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AU(t,e){return Qo(t,"GET","/v2/recaptchaConfig",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e){return Qo(t,"POST","/v1/accounts:delete",e)}async function up(t,e){return Qo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IU(t,e=!1){const n=Pn(t),r=await n.getIdToken(e),s=p0(r);qe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Qc(Iy(s.auth_time)),issuedAtTime:Qc(Iy(s.iat)),expirationTime:Qc(Iy(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Iy(t){return Number(t)*1e3}function p0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{const s=kC(n);return s?JSON.parse(s):(Pd("Failed to decode base64 JWT payload"),null)}catch(s){return Pd("Caught error parsing JWT payload as JSON",s?.toString()),null}}function OT(t){const e=p0(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $s&&RU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await vf(t,up(n,{idToken:r}));qe(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?AR(a.providerUserInfo):[],c=DU(t.providerData,u),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!c?.length,m=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Uv(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function kU(t){const e=Pn(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function AR(t){return t.map(e=>{var{providerId:n}=e,r=f0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(t,e){const n=await TR(t,{},async()=>{const r=If({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await xR(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return t.emulatorConfig&&gu(t.emulatorConfig.host)&&(h.credentials="include"),SR.fetch()(u,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MU(t,e){return Qo(t,"POST","/v2/accounts:revokeToken",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=OT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await OU(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new Jl;return r&&(qe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(qe(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(qe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return Ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=f0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Uv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await vf(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IU(this,e)}reload(){return kU(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await vf(this,CU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,c,h,d,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,T=(u=n.photoURL)!==null&&u!==void 0?u:void 0,C=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,j=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:q,emailVerified:F,isAnonymous:K,providerData:$,stsTokenManager:R}=n;qe(q&&R,e,"internal-error");const I=Jl.fromJSON(this.name,R);qe(typeof q=="string",e,"internal-error"),_o(y,e.name),_o(_,e.name),qe(typeof F=="boolean",e,"internal-error"),qe(typeof K=="boolean",e,"internal-error"),_o(E,e.name),_o(T,e.name),_o(C,e.name),_o(N,e.name),_o(k,e.name),_o(j,e.name);const D=new Oi({uid:q,auth:e,email:_,emailVerified:F,displayName:y,isAnonymous:K,photoURL:T,phoneNumber:E,tenantId:C,stsTokenManager:I,createdAt:k,lastLoginAt:j});return $&&Array.isArray($)&&(D.providerData=$.map(P=>Object.assign({},P))),N&&(D._redirectEventId=N),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new Jl;s.updateFromServerResponse(n);const a=new Oi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cp(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];qe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?AR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,c=new Jl;c.updateFromIdToken(r);const h=new Oi({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Uv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=new Map;function Ps(t){Hs(t instanceof Function,"Expected a class definition");let e=MT.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CR.type="NONE";const PT=CR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t,e,n){return`firebase:${t}:${e}:${n}`}class eu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Vd(this.userKey,s.apiKey,a),this.fullPersistenceKey=Vd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await up(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new eu(Ps(PT),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||Ps(PT);const u=Vd(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(u);if(m){let y;if(typeof m=="string"){const _=await up(e,{idToken:m}).catch(()=>{});if(!_)break;y=await Oi._fromGetAccountInfoResponse(e,_,m)}else y=Oi._fromJSON(e,m);d!==a&&(c=y),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new eu(a,e,r):(a=h[0],c&&await a._set(u,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new eu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OR(e))return"Blackberry";if(MR(e))return"Webos";if(RR(e))return"Safari";if((e.includes("chrome/")||NR(e))&&!e.includes("edge/"))return"Chrome";if(DR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function IR(t=hr()){return/firefox\//i.test(t)}function RR(t=hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NR(t=hr()){return/crios\//i.test(t)}function kR(t=hr()){return/iemobile/i.test(t)}function DR(t=hr()){return/android/i.test(t)}function OR(t=hr()){return/blackberry/i.test(t)}function MR(t=hr()){return/webos/i.test(t)}function m0(t=hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PU(t=hr()){var e;return m0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VU(){return RL()&&document.documentMode===10}function PR(t=hr()){return m0(t)||DR(t)||MR(t)||OR(t)||/windows phone/i.test(t)||kR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e=[]){let n;switch(t){case"Browser":n=VT(hr());break;case"Worker":n=`${VT(hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,c)=>{try{const h=e(a);u(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e={}){return Qo(t,"GET","/v2/passwordPolicy",Xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=6;class BU{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:UU,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LT(this),this.idTokenSubscription=new LT(this),this.beforeStateQueue=new LU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ps(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await eu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await up(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_U()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(Vs(this));const n=e?Pn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zU(this),n=new BU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ps(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await eu.create(this,[Ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(c,this,"internal-error"),c.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&gU(`Error while retrieving App Check token: ${n.error}`),n?.token}}function $a(t){return Pn(t)}class LT{constructor(e){this.auth=e,this.observer=null,this.addObserver=LL(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jU(t){$p=t}function LR(t){return $p.loadJS(t)}function HU(){return $p.recaptchaEnterpriseScript}function qU(){return $p.gapiScript}function $U(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class GU{constructor(){this.enterprise=new YU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class YU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KU="recaptcha-enterprise",zR="NO_RECAPTCHA";class XU{constructor(e){this.type=KU,this.auth=$a(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,c)=>{AU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new xU(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(h=>{c(h)})})}function s(a,u,c){const h=window.grecaptcha;DT(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(zR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GU().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(c=>{if(!n&&DT(window.grecaptcha))s(c,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=HU();h.length!==0&&(h+=c),LR(h).then(()=>{s(c,a,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function zT(t,e,n,r=!1,s=!1){const a=new XU(t);let u;if(s)u=zR;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Bv(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await zT(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await zT(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t,e){const n=A_(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ma(a,e??{}))return s;Pi(s,"already-initialized")}return n.initialize({options:e})}function WU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ps);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZU(t,e,n){const r=$a(t);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=UR(e),{host:u,port:c}=JU(e),h=c===null?"":`:${c}`,d={url:`${a}//${u}${h}/`},m=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(Ma(d,r.config.emulator)&&Ma(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,gu(u)?(PC(`${a}//${u}${h}`),VC("Auth",!0)):e5()}function UR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JU(t){const e=UR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:UT(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:UT(u)}}}function UT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ms("not implemented")}_getIdTokenResponse(e){return Ms("not implemented")}_linkToIdToken(e,n){return Ms("not implemented")}_getReauthenticationResolver(e){return Ms("not implemented")}}async function t5(t,e){return Qo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(t,e){return Vf(t,"POST","/v1/accounts:signInWithPassword",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(t,e){return Vf(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}async function i5(t,e){return Vf(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends g0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _f(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _f(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bv(e,n,"signInWithPassword",n5);case"emailLink":return r5(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bv(e,r,"signUpPassword",t5);case"emailLink":return i5(e,{idToken:n,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t,e){return Vf(t,"POST","/v1/accounts:signInWithIdp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="http://localhost";class Ua extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=f0(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Ua(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tu(e,n)}buildRequest(){const e={requestUri:s5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=If(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a5(t){const e=zc(Uc(t)).link,n=e?zc(Uc(e)).deep_link_id:null,r=zc(Uc(t)).deep_link_id;return(r?zc(Uc(r)).link:null)||r||n||e||t}class y0{constructor(e){var n,r,s,a,u,c;const h=zc(Uc(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,y=o5((s=h.mode)!==null&&s!==void 0?s:null);qe(d&&m&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=m,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=a5(e);try{return new y0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.providerId=Tu.PROVIDER_ID}static credential(e,n){return _f._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y0.parseLink(n);return qe(r,"argument-error"),_f._fromEmailAndCode(e,r.code,r.tenantId)}}Tu.PROVIDER_ID="password";Tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends BR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Lf{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ua._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.GOOGLE_SIGN_IN_METHOD="google.com";Ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Lf{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Co.credentialFromTaggedObject(e)}static credentialFromError(e){return Co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Co.credential(e.oauthAccessToken)}catch{return null}}}Co.GITHUB_SIGN_IN_METHOD="github.com";Co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Lf{constructor(){super("twitter.com")}static credential(e,n){return Ua._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e){return Vf(t,"POST","/v1/accounts:signUp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Oi._fromIdTokenResponse(e,r,s),u=BT(r);return new Ba({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=BT(r);return new Ba({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function BT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends $s{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fp(e,n,r,s)}}function FR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,a,e,r):a})}async function u5(t,e,n=!1){const r=await vf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e,n=!1){const{auth:r}=t;if(Ei(r.app))return Promise.reject(Vs(r));const s="reauthenticate";try{const a=await vf(t,FR(r,s,e,t),n);qe(a.idToken,r,"internal-error");const u=p0(a.idToken);qe(u,r,"internal-error");const{sub:c}=u;return qe(t.uid===c,r,"user-mismatch"),Ba._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Pi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e,n=!1){if(Ei(t.app))return Promise.reject(Vs(t));const r="signIn",s=await FR(t,r,e),a=await Ba._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function f5(t,e){return jR($a(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t){const e=$a(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function h5(t,e,n){if(Ei(t.app))return Promise.reject(Vs(t));const r=$a(t),u=await Bv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l5).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&HR(t),h}),c=await Ba._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function d5(t,e,n){return Ei(t.app)?Promise.reject(Vs(t)):f5(Pn(t),Tu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&HR(t),r})}function p5(t,e,n,r){return Pn(t).onIdTokenChanged(e,n,r)}function m5(t,e,n){return Pn(t).beforeAuthStateChanged(e,n)}function g5(t,e,n,r){return Pn(t).onAuthStateChanged(e,n,r)}function y5(t){return Pn(t).signOut()}const hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hp,"1"),this.storage.removeItem(hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=1e3,_5=10;class $R extends qR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);VU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$R.type="LOCAL";const E5=$R;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends qR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GR.type="SESSION";const YR=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(n.origin,a)),h=await w5(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((c,h)=>{const d=v0("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function S5(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function T5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A5(){return KR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebaseLocalStorageDb",C5=1,dp="firebaseLocalStorage",QR="fbase_key";class zf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yp(t,e){return t.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function I5(){const t=indexedDB.deleteDatabase(XR);return new zf(t).toPromise()}function Fv(){const t=indexedDB.open(XR,C5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dp,{keyPath:QR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),await I5(),e(await Fv()))})})}async function FT(t,e,n){const r=Yp(t,!0).put({[QR]:e,value:n});return new zf(r).toPromise()}async function R5(t,e){const n=Yp(t,!1).get(e),r=await new zf(n).toPromise();return r===void 0?null:r.value}function jT(t,e){const n=Yp(t,!0).delete(e);return new zf(n).toPromise()}const N5=800,k5=3;class WR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>k5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(A5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T5(),!this.activeServiceWorker)return;this.sender=new b5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fv();return await FT(e,hp,"1"),await jT(e,hp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Yp(s,!1).getAll();return new zf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WR.type="LOCAL";const D5=WR;new Pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t,e){return e?Ps(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M5(t){return jR(t.auth,new _0(t),t.bypassAuthState)}function P5(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),c5(n,new _0(t),t.bypassAuthState)}async function V5(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),u5(n,new _0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M5;case"linkViaPopup":case"linkViaRedirect":return V5;case"reauthViaPopup":case"reauthViaRedirect":return P5;default:Pi(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new Pf(2e3,1e4);class Yl extends ZR{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L5.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="pendingRedirect",Ld=new Map;class U5 extends ZR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await B5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B5(t,e){const n=H5(e),r=j5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function F5(t,e){Ld.set(t._key(),e)}function j5(t){return Ps(t._redirectPersistence)}function H5(t){return Vd(z5,t.config.apiKey,t.name)}async function q5(t,e,n=!1){if(Ei(t.app))return Promise.reject(Vs(t));const r=$a(t),s=O5(r,e),u=await new U5(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=10*60*1e3;class G5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(os(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$5&&this.cachedEventUids.clear(),this.cachedEventUids.has(HT(e))}saveEventToCache(e){this.cachedEventUids.add(HT(e)),this.lastProcessedEventTime=Date.now()}}function HT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Y5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e={}){return Qo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q5=/^https?/;async function W5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K5(t);for(const n of e)try{if(Z5(n))return}catch{}Pi(t,"unauthorized-domain")}function Z5(t){const e=zv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!Q5.test(n))return!1;if(X5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new Pf(3e4,6e4);function qT(){const t=as().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eB(t){return new Promise((e,n)=>{var r,s,a;function u(){qT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qT(),n(os(t,"network-request-failed"))},timeout:J5.get()})}if(!((s=(r=as().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=as().gapi)===null||a===void 0)&&a.load)u();else{const c=$U("iframefcb");return as()[c]=()=>{gapi.load?u():n(os(t,"network-request-failed"))},LR(`${qU()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw zd=null,e})}let zd=null;function tB(t){return zd=zd||eB(t),zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new Pf(5e3,15e3),rB="__/auth/iframe",iB="emulator/auth/iframe",sB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aB(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d0(e,iB):`https://${t.config.authDomain}/${rB}`,r={apiKey:e.apiKey,appName:t.name,v:yu},s=oB.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${If(r).slice(1)}`}async function lB(t){const e=await tB(t),n=as().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:aB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sB,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=os(t,"network-request-failed"),c=as().setTimeout(()=>{a(u)},nB.get());function h(){as().clearTimeout(c),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cB=500,fB=600,hB="_blank",dB="http://localhost";class $T{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pB(t,e,n,r=cB,s=fB){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},uB),{width:r.toString(),height:s.toString(),top:a,left:u}),d=hr().toLowerCase();n&&(c=NR(d)?hB:n),IR(d)&&(e=e||dB,h.scrollbars="yes");const m=Object.entries(h).reduce((_,[E,T])=>`${_}${E}=${T},`,"");if(PU(d)&&c!=="_self")return mB(e||"",c),new $T(null);const y=window.open(e||"",c,m);qe(y,t,"popup-blocked");try{y.focus()}catch{}return new $T(y)}function mB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="__/auth/handler",yB="emulator/auth/handler",vB=encodeURIComponent("fac");async function GT(t,e,n,r,s,a){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yu,eventId:s};if(e instanceof BR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",VL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))u[m]=y}if(e instanceof Lf){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),d=h?`#${vB}=${encodeURIComponent(h)}`:"";return`${_B(t)}?${If(c).slice(1)}${d}`}function _B({config:t}){return t.emulator?d0(t,yB):`https://${t.authDomain}/${gB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="webStorageSupport";class EB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YR,this._completeRedirectFn=q5,this._overrideRedirectResult=F5}async _openPopup(e,n,r,s){var a;Hs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await GT(e,n,r,zv(),s);return pB(e,u,v0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await GT(e,n,r,zv(),s);return S5(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(Hs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lB(e),r=new G5(e);return n.register("authEvent",s=>(qe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ry,{type:Ry},s=>{var a;const u=(a=s?.[0])===null||a===void 0?void 0:a[Ry];u!==void 0&&n(!!u),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PR()||RR()||m0()}}const wB=EB;var YT="@firebase/auth",KT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TB(t){lu(new Pa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VR(t)},d=new FU(r,s,a,h);return WU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lu(new Pa("auth-internal",e=>{const n=$a(e.getProvider("auth").getImmediate());return(r=>new bB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Po(YT,KT,SB(t)),Po(YT,KT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=5*60,AB=MC("authIdTokenMaxAge")||xB;let XT=null;const CB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AB)return;const s=n?.token;XT!==s&&(XT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function IB(t=BC()){const e=A_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QU(t,{popupRedirectResolver:wB,persistence:[D5,E5,YR]}),r=MC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=CB(a.toString());m5(n,u,()=>u(n.currentUser)),p5(n,c=>u(c))}}const s=DC("auth");return s&&ZU(n,`http://${s}`),n}function RB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=os("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",RB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TB("Browser");const NB={apiKey:"AIzaSyByTZ08eCsc2wv0VIWUHNtHSdmAA_JI5hM",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},eN=UC(NB),Vi=K9(eN),pp=IB(eN),ti={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},xr={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function kB(){const[t,e]=V.useState(""),[n,r]=V.useState(""),[s,a]=V.useState(!1),[u,c]=V.useState(!1),[h,d]=V.useState(""),m=async _=>{_.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(xr.INVALID_EMAIL);if(n.length<6)throw new Error(xr.WEAK_PASSWORD);const T=await h5(pp,t,n);console.log("User created successfully:",T.user.uid)}catch(E){console.error("Sign up error:",E);let T="Failed to create account";E.code==="auth/email-already-in-use"?T=xr.EMAIL_IN_USE:E.code==="auth/invalid-email"?T=xr.INVALID_EMAIL:E.code==="auth/weak-password"?T=xr.WEAK_PASSWORD:E.code==="auth/operation-not-allowed"?T="Email/password accounts are not enabled. Please contact support.":E.message&&(T=E.message),d(T)}finally{c(!1)}},y=async _=>{_.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(xr.INVALID_EMAIL);const T=await d5(pp,t,n);console.log("User signed in successfully:",T.user.uid)}catch(E){console.error("Sign in error:",E);let T="Failed to sign in";E.code==="auth/user-not-found"?T=xr.USER_NOT_FOUND:E.code==="auth/wrong-password"?T=xr.WRONG_PASSWORD:E.code==="auth/invalid-email"?T=xr.INVALID_EMAIL:E.code==="auth/user-disabled"?T="This account has been disabled. Please contact support.":E.code==="auth/too-many-requests"?T=xr.TOO_MANY_REQUESTS:E.message&&(T=E.message),d(T)}finally{c(!1)}};return te.jsx("div",{className:"auth-window-container",children:te.jsxs("div",{className:"auth-window",children:[te.jsxs("div",{className:"auth-window-header",children:[te.jsx("h2",{className:"auth-window-title",children:s?"Create Account":"Welcome Back"}),te.jsx("p",{className:"auth-window-subtitle",children:s?"Join the platform to start building your boards":"Sign in to access your boards and continue your work"})]}),te.jsxs("form",{onSubmit:s?m:y,className:"auth-form",children:[te.jsx("div",{className:"auth-input-group",children:te.jsx("input",{type:"email",placeholder:"Email address",value:t,onChange:_=>e(_.target.value),required:!0,className:"auth-input"})}),te.jsx("div",{className:"auth-input-group",children:te.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:_=>r(_.target.value),required:!0,className:"auth-input"})}),te.jsx("button",{type:"submit",disabled:u,className:`auth-submit-btn ${u?"loading":""}`,children:u?te.jsx("div",{className:"loading-spinner"}):s?"Create Account":"Sign In"}),h&&te.jsx("div",{className:"auth-error",children:h})]}),te.jsxs("div",{className:"auth-switch",children:[te.jsx("span",{className:"auth-switch-text",children:s?"Already have an account?":"Don't have an account?"}),te.jsx("button",{type:"button",onClick:()=>a(!s),className:"auth-switch-btn",children:s?"Sign In":"Sign Up"})]})]})})}var Ny={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var QT;function DB(){return QT||(QT=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(a=s(a,r(c)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var c in a)e.call(a,c)&&a[c]&&(u=s(u,c));return u}function s(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(Ny)),Ny.exports}var OB=DB();const Qt=Fa(OB),xu=!!(typeof window<"u"&&window.document&&window.document.createElement);var jv=!1,Hv=!1;try{var ky={get passive(){return jv=!0},get once(){return Hv=jv=!0}};xu&&(window.addEventListener("test",ky,ky),window.removeEventListener("test",ky,!0))}catch{}function tN(t,e,n,r){if(r&&typeof r!="boolean"&&!Hv){var s=r.once,a=r.capture,u=n;!Hv&&s&&(u=n.__once||function c(h){this.removeEventListener(e,c,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,jv?r:a)}t.addEventListener(e,n,r)}function Kp(t){return t&&t.ownerDocument||document}function qv(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}var Ed;function WT(t){if((!Ed&&Ed!==0||t)&&xu){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Ed=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ed}function MB(){return V.useState(null)}function PB(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t},[t]),e}function $v(t){const e=PB(t);return V.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const ZT=t=>!t||typeof t=="function"?t:e=>{t.current=e};function VB(t,e){const n=ZT(t),r=ZT(e);return s=>{n&&n(s),r&&r(s)}}function nN(t,e){return V.useMemo(()=>VB(t,e),[t,e])}function LB(t){const e=V.useRef(t);return e.current=t,e}function zB(t){const e=LB(t);V.useEffect(()=>()=>e.current(),[])}function UB(t){var e=Kp(t);return e&&e.defaultView||window}function BB(t,e){return UB(t).getComputedStyle(t,e)}var FB=/([A-Z])/g;function jB(t){return t.replace(FB,"-$1").toLowerCase()}var HB=/^ms-/;function wd(t){return jB(t).replace(HB,"-ms-")}var qB=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function $B(t){return!!(t&&qB.test(t))}function Da(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(wd(e))||BB(t).getPropertyValue(wd(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?t.style.removeProperty(wd(s)):$B(s)?r+=s+"("+a+") ":n+=wd(s)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function mp(t,e,n,r){return tN(t,e,n,r),function(){qv(t,e,n,r)}}function GB(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function YB(t){var e=Da(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function KB(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||GB(t,"transitionend",!0)},e+n),a=mp(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function rN(t,e,n,r){n==null&&(n=YB(t)||0);var s=KB(t,n,r),a=mp(t,"transitionend",e);return function(){s(),a()}}function Dy(t){t===void 0&&(t=Kp());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function JT(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function XB(){const t=V.useRef(!0),e=V.useRef(()=>t.current);return V.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function QB(t){const e=V.useRef(t);return e.current=t,e}function WB(t){const e=QB(t);V.useEffect(()=>()=>e.current(),[])}function ZB(t){const e=V.useRef(null);return V.useEffect(()=>{e.current=t}),e.current}function JB(t){const e=V.useRef(t);return V.useEffect(()=>{e.current=t},[t]),e}function Aa(t){const e=JB(t);return V.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const eF="data-rr-ui-";function tF(t){return`${eF}${t}`}function nF(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const ex=tF("modal-open");class E0{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return nF(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Da(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(ex,""),Da(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(ex),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const iN=V.createContext(xu?window:void 0);iN.Provider;function w0(){return V.useContext(iN)}const Oy=(t,e)=>xu?t==null?(e||Kp()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function rF(t,e){const n=w0(),[r,s]=V.useState(()=>Oy(t,n?.document));if(!r){const a=Oy(t);a&&s(a)}return V.useEffect(()=>{},[e,r]),V.useEffect(()=>{const a=Oy(t);a!==r&&s(a)},[t,r]),r}const tx=t=>!t||typeof t=="function"?t:e=>{t.current=e};function iF(t,e){const n=tx(t),r=tx(e);return s=>{n&&n(s),r&&r(s)}}function b0(t,e){return V.useMemo(()=>iF(t,e),[t,e])}const sF=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",oF=typeof document<"u",nx=oF||sF?V.useLayoutEffect:V.useEffect;function aF(t){return t.code==="Escape"||t.keyCode===27}function lF(){const t=V.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Xp(t){if(!t||typeof t=="function")return null;const{major:e}=lF();return e>=19?t.props.ref:t.ref}function uF({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const a=V.useRef(null),u=V.useRef(e),c=Aa(n);V.useEffect(()=>{e?u.current=!0:c(a.current)},[e,c]);const h=b0(a,Xp(t)),d=V.cloneElement(t,{ref:h});return e?d:s||!u.current&&r?null:d}const cF=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function fF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hF(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:a,onExited:u,addEndListener:c,children:h}=t,d=fF(t,cF);const m=V.useRef(null),y=b0(m,Xp(h)),_=F=>K=>{F&&m.current&&F(m.current,K)},E=V.useCallback(_(e),[e]),T=V.useCallback(_(n),[n]),C=V.useCallback(_(r),[r]),N=V.useCallback(_(s),[s]),k=V.useCallback(_(a),[a]),j=V.useCallback(_(u),[u]),q=V.useCallback(_(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:E},n&&{onEntering:T},r&&{onEntered:C},s&&{onExit:N},a&&{onExiting:k},u&&{onExited:j},c&&{addEndListener:q},{children:typeof h=="function"?(F,K)=>h(F,Object.assign({},K,{ref:y})):V.cloneElement(h,{ref:y})})}const dF=["component"];function pF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const mF=V.forwardRef((t,e)=>{let{component:n}=t,r=pF(t,dF);const s=hF(r);return te.jsx(n,Object.assign({ref:e},s))});function gF({in:t,onTransition:e}){const n=V.useRef(null),r=V.useRef(!0),s=Aa(e);return nx(()=>{if(!n.current)return;let a=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[t,s]),nx(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function yF({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[a,u]=V.useState(!e);e&&a&&u(!1);const c=gF({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?r?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(s(d)).then(m,y=>{throw d.in||u(!0),y})}}),h=b0(c,Xp(t));return a&&!e?null:V.cloneElement(t,{ref:h})}function rx(t,e,n){return t?te.jsx(mF,Object.assign({},n,{component:t})):e?te.jsx(yF,Object.assign({},n,{transition:e})):te.jsx(uF,Object.assign({},n))}const vF=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _F(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let My;function EF(t){return My||(My=new E0({ownerDocument:t?.document})),My}function wF(t){const e=w0(),n=t||EF(e),r=V.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:V.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:V.useCallback(s=>{r.current.backdrop=s},[])})}const sN=V.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:a,children:u,backdrop:c=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:y,runTransition:_,backdropTransition:E,runBackdropTransition:T,autoFocus:C=!0,enforceFocus:N=!0,restoreFocus:k=!0,restoreFocusOptions:j,renderDialog:q,renderBackdrop:F=ze=>te.jsx("div",Object.assign({},ze)),manager:K,container:$,onShow:R,onHide:I=()=>{},onExit:D,onExited:P,onExiting:U,onEnter:L,onEntering:A,onEntered:O}=t,G=_F(t,vF);const z=w0(),Y=rF($),Z=wF(K),J=XB(),b=ZB(n),[Q,re]=V.useState(!n),M=V.useRef(null);V.useImperativeHandle(e,()=>Z,[Z]),xu&&!b&&n&&(M.current=Dy(z?.document)),n&&Q&&re(!1);const ce=Aa(()=>{if(Z.add(),Ce.current=mp(document,"keydown",ye),xe.current=mp(document,"focus",()=>setTimeout(we),!0),R&&R(),C){var ze,Wt;const Ue=Dy((ze=(Wt=Z.dialog)==null?void 0:Wt.ownerDocument)!=null?ze:z?.document);Z.dialog&&Ue&&!JT(Z.dialog,Ue)&&(M.current=Ue,Z.dialog.focus())}}),be=Aa(()=>{if(Z.remove(),Ce.current==null||Ce.current(),xe.current==null||xe.current(),k){var ze;(ze=M.current)==null||ze.focus==null||ze.focus(j),M.current=null}});V.useEffect(()=>{!n||!Y||ce()},[n,Y,ce]),V.useEffect(()=>{Q&&be()},[Q,be]),WB(()=>{be()});const we=Aa(()=>{if(!N||!J()||!Z.isTopModal())return;const ze=Dy(z?.document);Z.dialog&&ze&&!JT(Z.dialog,ze)&&Z.dialog.focus()}),De=Aa(ze=>{ze.target===ze.currentTarget&&(d?.(ze),c===!0&&I())}),ye=Aa(ze=>{h&&aF(ze)&&Z.isTopModal()&&(m?.(ze),ze.defaultPrevented||I())}),xe=V.useRef(),Ce=V.useRef(),Fe=(...ze)=>{re(!0),P?.(...ze)};if(!Y)return null;const _t=Object.assign({role:r,ref:Z.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:a,className:s,tabIndex:-1});let Et=q?q(_t):te.jsx("div",Object.assign({},_t,{children:V.cloneElement(u,{role:"document"})}));Et=rx(y,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:D,onExiting:U,onExited:Fe,onEnter:L,onEntering:A,onEntered:O,children:Et});let wt=null;return c&&(wt=F({ref:Z.setBackdropRef,onClick:De}),wt=rx(E,T,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:wt})),te.jsx(te.Fragment,{children:$l.createPortal(te.jsxs(te.Fragment,{children:[wt,Et]}),Y)})});sN.displayName="Modal";const bF=Object.assign(sN,{Manager:E0});function SF(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function TF(t,e){t.classList?t.classList.add(e):SF(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var xF=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ml(t,e){return xF(t.querySelectorAll(e))}function ix(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function AF(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ix(t.className,e):t.setAttribute("class",ix(t.className&&t.className.baseVal||"",e))}const Pl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class CF extends E0{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,Da(n,{[e]:`${parseFloat(Da(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Da(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(TF(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ml(n,Pl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),Ml(n,Pl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),Ml(n,Pl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();AF(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Ml(n,Pl.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Ml(n,Pl.STICKY_CONTENT).forEach(a=>this.restore(s,a)),Ml(n,Pl.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let Py;function IF(t){return Py||(Py=new CF(t)),Py}function RF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Gv(t,e)}function NF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Gv(t,e)}var Vy={exports:{}},Ly,sx;function kF(){if(sx)return Ly;sx=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ly=t,Ly}var zy,ox;function DF(){if(ox)return zy;ox=1;var t=kF();function e(){}function n(){}return n.resetWarningCache=e,zy=function(){function r(u,c,h,d,m,y){if(y!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},zy}var ax;function OF(){return ax||(ax=1,Vy.exports=DF()()),Vy.exports}var MF=OF();const Ls=Fa(MF),lx={disabled:!1},oN=de.createContext(null);var PF=function(e){return e.scrollTop},Hc="unmounted",xa="exited",So="entering",Ca="entered",Yv="exiting",Gs=function(t){NF(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var u=s,c=u&&!u.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?c?(h=xa,a.appearStatus=So):h=Ca:r.unmountOnExit||r.mountOnEnter?h=Hc:h=xa,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===Hc?{status:xa}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==So&&u!==Ca&&(a=So):(u===So||u===Ca)&&(a=Yv)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,u,c;return a=u=c=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,c=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:c}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===So){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:$l.findDOMNode(this);u&&PF(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xa&&this.setState({status:Hc})},n.performEnter=function(s){var a=this,u=this.props.enter,c=this.context?this.context.isMounting:s,h=this.props.nodeRef?[c]:[$l.findDOMNode(this),c],d=h[0],m=h[1],y=this.getTimeouts(),_=c?y.appear:y.enter;if(!s&&!u||lx.disabled){this.safeSetState({status:Ca},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:So},function(){a.props.onEntering(d,m),a.onTransitionEnd(_,function(){a.safeSetState({status:Ca},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:$l.findDOMNode(this);if(!a||lx.disabled){this.safeSetState({status:xa},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Yv},function(){s.props.onExiting(c),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:xa},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,a.nextCallback=null,s(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:$l.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Hc)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=RF(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return de.createElement(oN.Provider,{value:null},typeof u=="function"?u(s,c):de.cloneElement(de.Children.only(u),c))},e}(de.Component);Gs.contextType=oN;Gs.propTypes={};function Vl(){}Gs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vl,onEntering:Vl,onEntered:Vl,onExit:Vl,onExiting:Vl,onExited:Vl};Gs.UNMOUNTED=Hc;Gs.EXITED=xa;Gs.ENTERING=So;Gs.ENTERED=Ca;Gs.EXITING=Yv;function ux(t,e){const n=Da(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function VF(t,e){const n=ux(t,"transitionDuration"),r=ux(t,"transitionDelay"),s=rN(t,a=>{a.target===t&&(s(),e(a))},n+r)}function LF(t){t.offsetHeight}function zF(t){return t&&"setState"in t?$l.findDOMNode(t):t??null}const aN=de.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:a,addEndListener:u,children:c,childRef:h,...d},m)=>{const y=V.useRef(null),_=nN(y,h),E=$=>{_(zF($))},T=$=>R=>{$&&y.current&&$(y.current,R)},C=V.useCallback(T(t),[t]),N=V.useCallback(T(e),[e]),k=V.useCallback(T(n),[n]),j=V.useCallback(T(r),[r]),q=V.useCallback(T(s),[s]),F=V.useCallback(T(a),[a]),K=V.useCallback(T(u),[u]);return te.jsx(Gs,{ref:m,...d,onEnter:C,onEntered:k,onEntering:N,onExit:j,onExited:F,onExiting:q,addEndListener:K,nodeRef:y,children:typeof c=="function"?($,R)=>c($,{...R,ref:E}):de.cloneElement(c,{ref:E})})});aN.displayName="TransitionWrapper";const UF={[So]:"show",[Ca]:"show"},S0=V.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=V.useCallback((h,d)=>{LF(h),r?.(h,d)},[r]);return te.jsx(aN,{ref:a,addEndListener:VF,...u,onEnter:c,childRef:Xp(e),children:(h,d)=>V.cloneElement(e,{...d,className:Qt("fade",t,e.props.className,UF[h],n[h])})})});S0.displayName="Fade";const BF=["xxl","xl","lg","md","sm","xs"],FF="xs",Uf=V.createContext({prefixes:{},breakpoints:BF,minBreakpoint:FF}),{Consumer:r$,Provider:i$}=Uf;function Vn(t,e){const{prefixes:n}=V.useContext(Uf);return t||n[e]||e}function jF(){const{breakpoints:t}=V.useContext(Uf);return t}function HF(){const{minBreakpoint:t}=V.useContext(Uf);return t}function qF(){const{dir:t}=V.useContext(Uf);return t==="rtl"}const lN=V.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Vn(e,"modal-body"),te.jsx(n,{ref:s,className:Qt(t,e),...r})));lN.displayName="ModalBody";const uN=V.createContext({onHide(){}}),T0=V.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:a,children:u,scrollable:c,...h},d)=>{t=Vn(t,"modal");const m=`${t}-dialog`,y=typeof a=="string"?`${t}-fullscreen-${a}`:`${t}-fullscreen`;return te.jsx("div",{...h,ref:d,className:Qt(m,e,s&&`${t}-${s}`,r&&`${m}-centered`,c&&`${m}-scrollable`,a&&y),children:te.jsx("div",{className:Qt(`${t}-content`,n),children:u})})});T0.displayName="ModalDialog";const cN=V.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Vn(e,"modal-footer"),te.jsx(n,{ref:s,className:Qt(t,e),...r})));cN.displayName="ModalFooter";const $F={"aria-label":Ls.string,onClick:Ls.func,variant:Ls.oneOf(["white"])},x0=V.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>te.jsx("button",{ref:s,type:"button",className:Qt("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));x0.displayName="CloseButton";x0.propTypes=$F;const fN=V.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...a},u)=>{const c=V.useContext(uN),h=$v(()=>{c?.onHide(),r?.()});return te.jsxs("div",{ref:u,...a,children:[s,n&&te.jsx(x0,{"aria-label":t,variant:e,onClick:h})]})});fN.displayName="AbstractModalHeader";const hN=V.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},a)=>(t=Vn(t,"modal-header"),te.jsx(fN,{ref:a,...s,className:Qt(e,t),closeLabel:n,closeButton:r})));hN.displayName="ModalHeader";const GF=t=>V.forwardRef((e,n)=>te.jsx("div",{...e,ref:n,className:Qt(e.className,t)})),YF=GF("h4"),dN=V.forwardRef(({className:t,bsPrefix:e,as:n=YF,...r},s)=>(e=Vn(e,"modal-title"),te.jsx(n,{ref:s,className:Qt(t,e),...r})));dN.displayName="ModalTitle";function KF(t){return te.jsx(S0,{...t,timeout:null})}function XF(t){return te.jsx(S0,{...t,timeout:null})}const pN=V.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:a,dialogAs:u=T0,"data-bs-theme":c,"aria-labelledby":h,"aria-describedby":d,"aria-label":m,show:y=!1,animation:_=!0,backdrop:E=!0,keyboard:T=!0,onEscapeKeyDown:C,onShow:N,onHide:k,container:j,autoFocus:q=!0,enforceFocus:F=!0,restoreFocus:K=!0,restoreFocusOptions:$,onEntered:R,onExit:I,onExiting:D,onEnter:P,onEntering:U,onExited:L,backdropClassName:A,manager:O,...G},z)=>{const[Y,Z]=V.useState({}),[J,b]=V.useState(!1),Q=V.useRef(!1),re=V.useRef(!1),M=V.useRef(null),[ce,be]=MB(),we=nN(z,be),De=$v(k),ye=qF();t=Vn(t,"modal");const xe=V.useMemo(()=>({onHide:De}),[De]);function Ce(){return O||IF({isRTL:ye})}function Fe(ne){if(!xu)return;const pe=Ce().getScrollbarWidth()>0,Re=ne.scrollHeight>Kp(ne).documentElement.clientHeight;Z({paddingRight:pe&&!Re?WT():void 0,paddingLeft:!pe&&Re?WT():void 0})}const _t=$v(()=>{ce&&Fe(ce.dialog)});zB(()=>{qv(window,"resize",_t),M.current==null||M.current()});const Et=()=>{Q.current=!0},wt=ne=>{Q.current&&ce&&ne.target===ce.dialog&&(re.current=!0),Q.current=!1},ze=()=>{b(!0),M.current=rN(ce.dialog,()=>{b(!1)})},Wt=ne=>{ne.target===ne.currentTarget&&ze()},Ue=ne=>{if(E==="static"){Wt(ne);return}if(re.current||ne.target!==ne.currentTarget){re.current=!1;return}k?.()},Me=ne=>{T?C?.(ne):(ne.preventDefault(),E==="static"&&ze())},$t=(ne,pe)=>{ne&&Fe(ne),P?.(ne,pe)},dn=ne=>{M.current==null||M.current(),I?.(ne)},pn=(ne,pe)=>{U?.(ne,pe),tN(window,"resize",_t)},En=ne=>{ne&&(ne.style.display=""),L?.(ne),qv(window,"resize",_t)},mn=V.useCallback(ne=>te.jsx("div",{...ne,className:Qt(`${t}-backdrop`,A,!_&&"show")}),[_,A,t]),en={...n,...Y};en.display="block";const Cn=ne=>te.jsx("div",{role:"dialog",...ne,style:en,className:Qt(e,t,J&&`${t}-static`,!_&&"show"),onClick:E?Ue:void 0,onMouseUp:wt,"data-bs-theme":c,"aria-label":m,"aria-labelledby":h,"aria-describedby":d,children:te.jsx(u,{...G,onMouseDown:Et,className:r,contentClassName:s,children:a})});return te.jsx(uN.Provider,{value:xe,children:te.jsx(bF,{show:y,ref:we,backdrop:E,container:j,keyboard:!0,autoFocus:q,enforceFocus:F,restoreFocus:K,restoreFocusOptions:$,onEscapeKeyDown:Me,onShow:N,onHide:k,onEnter:$t,onEntering:pn,onEntered:R,onExit:dn,onExiting:D,onExited:En,manager:Ce(),transition:_?KF:void 0,backdropTransition:_?XF:void 0,renderBackdrop:mn,renderDialog:Cn})})});pN.displayName="Modal";const Nc=Object.assign(pN,{Body:lN,Header:hN,Title:dN,Footer:cN,Dialog:T0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),QF=["as","disabled"];function WF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZF(t){return!t||t.trim()==="#"}function mN({tagName:t,disabled:e,href:n,target:r,rel:s,role:a,onClick:u,tabIndex:c=0,type:h}){t||(n!=null||r!=null||s!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},d];const m=_=>{if((e||t==="a"&&ZF(n))&&_.preventDefault(),e){_.stopPropagation();return}u?.(_)},y=_=>{_.key===" "&&(_.preventDefault(),m(_))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:m,onKeyDown:y},d]}const JF=V.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=WF(t,QF);const[a,{tagName:u}]=mN(Object.assign({tagName:n,disabled:r},s));return te.jsx(u,Object.assign({},s,a,{ref:e}))});JF.displayName="Button";const Kv=V.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:a=!1,className:u,...c},h)=>{const d=Vn(e,"btn"),[m,{tagName:y}]=mN({tagName:t,disabled:a,...c}),_=y;return te.jsx(_,{...m,...c,ref:h,disabled:a,className:Qt(u,d,s&&"active",n&&`${d}-${n}`,r&&`${d}-${r}`,c.href&&a&&"disabled")})});Kv.displayName="Button";const ej={type:Ls.string,tooltip:Ls.bool,as:Ls.elementType},Qp=V.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},a)=>te.jsx(t,{...s,ref:a,className:Qt(e,`${n}-${r?"tooltip":"feedback"}`)}));Qp.displayName="Feedback";Qp.propTypes=ej;const qs=V.createContext({}),A0=V.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:a=!1,as:u="input",...c},h)=>{const{controlId:d}=V.useContext(qs);return e=Vn(e,"form-check-input"),te.jsx(u,{...c,ref:h,type:r,id:t||d,className:Qt(n,e,s&&"is-valid",a&&"is-invalid")})});A0.displayName="FormCheckInput";const gp=V.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:a}=V.useContext(qs);return t=Vn(t,"form-check-label"),te.jsx("label",{...r,ref:s,htmlFor:n||a,className:Qt(e,t)})});gp.displayName="FormCheckLabel";function tj(t,e){return V.Children.toArray(t).some(n=>V.isValidElement(n)&&n.type===e)}const gN=V.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:a=!1,isValid:u=!1,isInvalid:c=!1,feedbackTooltip:h=!1,feedback:d,feedbackType:m,className:y,style:_,title:E="",type:T="checkbox",label:C,children:N,as:k="input",...j},q)=>{e=Vn(e,"form-check"),n=Vn(n,"form-switch");const{controlId:F}=V.useContext(qs),K=V.useMemo(()=>({controlId:t||F}),[F,t]),$=!N&&C!=null&&C!==!1||tj(N,gp),R=te.jsx(A0,{...j,type:T==="switch"?"checkbox":T,ref:q,isValid:u,isInvalid:c,disabled:a,as:k});return te.jsx(qs.Provider,{value:K,children:te.jsx("div",{style:_,className:Qt(y,$&&e,r&&`${e}-inline`,s&&`${e}-reverse`,T==="switch"&&n),children:N||te.jsxs(te.Fragment,{children:[R,$&&te.jsx(gp,{title:E,children:C}),d&&te.jsx(Qp,{type:m,tooltip:h,children:d})]})})})});gN.displayName="FormCheck";const yp=Object.assign(gN,{Input:A0,Label:gp}),yN=V.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:a,isValid:u=!1,isInvalid:c=!1,plaintext:h,readOnly:d,as:m="input",...y},_)=>{const{controlId:E}=V.useContext(qs);return t=Vn(t,"form-control"),te.jsx(m,{...y,type:e,size:r,ref:_,readOnly:d,id:s||E,className:Qt(a,h?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",c&&"is-invalid")})});yN.displayName="FormControl";const nj=Object.assign(yN,{Feedback:Qp}),vN=V.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Vn(e,"form-floating"),te.jsx(n,{ref:s,className:Qt(t,e),...r})));vN.displayName="FormFloating";const C0=V.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=V.useMemo(()=>({controlId:t}),[t]);return te.jsx(qs.Provider,{value:s,children:te.jsx(e,{...n,ref:r})})});C0.displayName="FormGroup";function rj({as:t,bsPrefix:e,className:n,...r}){e=Vn(e,"col");const s=jF(),a=HF(),u=[],c=[];return s.forEach(h=>{const d=r[h];delete r[h];let m,y,_;typeof d=="object"&&d!=null?{span:m,offset:y,order:_}=d:m=d;const E=h!==a?`-${h}`:"";m&&u.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),_!=null&&c.push(`order${E}-${_}`),y!=null&&c.push(`offset${E}-${y}`)}),[{...r,className:Qt(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const _N=V.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:a,spans:u}]=rj(t);return te.jsx(s,{...r,ref:e,className:Qt(n,!u.length&&a)})});_N.displayName="Col";const EN=V.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:a,...u},c)=>{const{controlId:h}=V.useContext(qs);e=Vn(e,"form-label");let d="col-form-label";typeof n=="string"&&(d=`${d} ${d}-${n}`);const m=Qt(s,e,r&&"visually-hidden",n&&d);return a=a||h,n?te.jsx(_N,{ref:c,as:"label",className:m,htmlFor:a,...u}):te.jsx(t,{ref:c,className:m,htmlFor:a,...u})});EN.displayName="FormLabel";const wN=V.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:a}=V.useContext(qs);return t=Vn(t,"form-range"),te.jsx("input",{...r,type:"range",ref:s,className:Qt(e,t),id:n||a})});wN.displayName="FormRange";const bN=V.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:a=!1,id:u,...c},h)=>{const{controlId:d}=V.useContext(qs);return t=Vn(t,"form-select"),te.jsx("select",{...c,size:n,ref:h,className:Qt(r,t,e&&`${t}-${e}`,s&&"is-valid",a&&"is-invalid"),id:u||d})});bN.displayName="FormSelect";const SN=V.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},a)=>(t=Vn(t,"form-text"),te.jsx(n,{...s,ref:a,className:Qt(e,t,r&&"text-muted")})));SN.displayName="FormText";const TN=V.forwardRef((t,e)=>te.jsx(yp,{...t,ref:e,type:"switch"}));TN.displayName="Switch";const ij=Object.assign(TN,{Input:yp.Input,Label:yp.Label}),xN=V.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...a},u)=>(t=Vn(t,"form-floating"),te.jsxs(C0,{ref:u,className:Qt(e,t),controlId:r,...a,children:[n,te.jsx("label",{htmlFor:r,children:s})]})));xN.displayName="FloatingLabel";const sj={_ref:Ls.any,validated:Ls.bool,as:Ls.elementType},I0=V.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>te.jsx(n,{...r,ref:s,className:Qt(t,e&&"was-validated")}));I0.displayName="Form";I0.propTypes=sj;const Ll=Object.assign(I0,{Group:C0,Control:nj,Floating:vN,Check:yp,Switch:ij,Label:EN,Text:SN,Range:wN,Select:bN,FloatingLabel:xN});function oj({show:t,onHide:e,onConfirm:n,isCreating:r=!1}){const[s,a]=V.useState(""),[u,c]=V.useState(!0),h=V.useCallback(_=>{const E=_.target.value;a(E),c(E.trim().length>0&&E.trim().length<=50)},[]),d=V.useCallback(_=>{_.preventDefault();const E=s.trim();E.length>0&&E.length<=50&&(n(E),a(""),c(!0))},[s,n]),m=V.useCallback(()=>{a(""),c(!0),e()},[e]),y=V.useCallback(_=>{_.key==="Enter"&&d(_)},[d]);return te.jsxs(Nc,{show:t,onHide:m,centered:!0,backdrop:"static",keyboard:!1,className:"board-name-modal",style:{zIndex:2001},children:[te.jsx(Nc.Header,{closeButton:!0,children:te.jsx(Nc.Title,{children:"Create New Board"})}),te.jsxs(Ll,{onSubmit:d,children:[te.jsx(Nc.Body,{children:te.jsxs(Ll.Group,{children:[te.jsx(Ll.Label,{children:"Board Name"}),te.jsx(Ll.Control,{type:"text",value:s,onChange:h,onKeyPress:y,placeholder:"Enter board name...",isInvalid:!u,maxLength:50,autoFocus:!0}),te.jsx(Ll.Control.Feedback,{type:"invalid",children:"Board name must be between 1 and 50 characters long."}),te.jsxs(Ll.Text,{className:"text-muted",children:[s.length,"/50 characters"]})]})}),te.jsxs(Nc.Footer,{children:[te.jsx(Kv,{variant:"secondary",onClick:m,disabled:r,children:"Cancel"}),te.jsx(Kv,{variant:"primary",type:"submit",disabled:!u||s.trim().length===0||r,children:r?"Creating...":"Create Board"})]})]})]})}function aj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const lj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,uj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cj={};function cx(t,e){return(cj.jsx?uj:lj).test(t)}const fj=/[ \t\n\f\r]/g;function hj(t){return typeof t=="object"?t.type==="text"?fx(t.value):!1:fx(t)}function fx(t){return t.replace(fj,"")===""}class Bf{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Bf.prototype.normal={};Bf.prototype.property={};Bf.prototype.space=void 0;function AN(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Bf(n,r,e)}function Xv(t){return t.toLowerCase()}class Lr{constructor(e,n){this.attribute=n,this.property=e}}Lr.prototype.attribute="";Lr.prototype.booleanish=!1;Lr.prototype.boolean=!1;Lr.prototype.commaOrSpaceSeparated=!1;Lr.prototype.commaSeparated=!1;Lr.prototype.defined=!1;Lr.prototype.mustUseProperty=!1;Lr.prototype.number=!1;Lr.prototype.overloadedBoolean=!1;Lr.prototype.property="";Lr.prototype.spaceSeparated=!1;Lr.prototype.space=void 0;let dj=0;const Ze=Ga(),xn=Ga(),Qv=Ga(),Te=Ga(),Kt=Ga(),nu=Ga(),Kr=Ga();function Ga(){return 2**++dj}const Wv=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ze,booleanish:xn,commaOrSpaceSeparated:Kr,commaSeparated:nu,number:Te,overloadedBoolean:Qv,spaceSeparated:Kt},Symbol.toStringTag,{value:"Module"})),Uy=Object.keys(Wv);class R0 extends Lr{constructor(e,n,r,s){let a=-1;if(super(e,n),hx(this,"space",s),typeof r=="number")for(;++a<Uy.length;){const u=Uy[a];hx(this,Uy[a],(r&Wv[u])===Wv[u])}}}R0.prototype.defined=!0;function hx(t,e,n){n&&(t[e]=n)}function Au(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const a=new R0(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[Xv(r)]=r,n[Xv(a.attribute)]=r}return new Bf(e,n,t.space)}const CN=Au({properties:{ariaActiveDescendant:null,ariaAtomic:xn,ariaAutoComplete:null,ariaBusy:xn,ariaChecked:xn,ariaColCount:Te,ariaColIndex:Te,ariaColSpan:Te,ariaControls:Kt,ariaCurrent:null,ariaDescribedBy:Kt,ariaDetails:null,ariaDisabled:xn,ariaDropEffect:Kt,ariaErrorMessage:null,ariaExpanded:xn,ariaFlowTo:Kt,ariaGrabbed:xn,ariaHasPopup:null,ariaHidden:xn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Kt,ariaLevel:Te,ariaLive:null,ariaModal:xn,ariaMultiLine:xn,ariaMultiSelectable:xn,ariaOrientation:null,ariaOwns:Kt,ariaPlaceholder:null,ariaPosInSet:Te,ariaPressed:xn,ariaReadOnly:xn,ariaRelevant:null,ariaRequired:xn,ariaRoleDescription:Kt,ariaRowCount:Te,ariaRowIndex:Te,ariaRowSpan:Te,ariaSelected:xn,ariaSetSize:Te,ariaSort:null,ariaValueMax:Te,ariaValueMin:Te,ariaValueNow:Te,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function IN(t,e){return e in t?t[e]:e}function RN(t,e){return IN(t,e.toLowerCase())}const pj=Au({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:nu,acceptCharset:Kt,accessKey:Kt,action:null,allow:null,allowFullScreen:Ze,allowPaymentRequest:Ze,allowUserMedia:Ze,alt:null,as:null,async:Ze,autoCapitalize:null,autoComplete:Kt,autoFocus:Ze,autoPlay:Ze,blocking:Kt,capture:null,charSet:null,checked:Ze,cite:null,className:Kt,cols:Te,colSpan:null,content:null,contentEditable:xn,controls:Ze,controlsList:Kt,coords:Te|nu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ze,defer:Ze,dir:null,dirName:null,disabled:Ze,download:Qv,draggable:xn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ze,formTarget:null,headers:Kt,height:Te,hidden:Qv,high:Te,href:null,hrefLang:null,htmlFor:Kt,httpEquiv:Kt,id:null,imageSizes:null,imageSrcSet:null,inert:Ze,inputMode:null,integrity:null,is:null,isMap:Ze,itemId:null,itemProp:Kt,itemRef:Kt,itemScope:Ze,itemType:Kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ze,low:Te,manifest:null,max:null,maxLength:Te,media:null,method:null,min:null,minLength:Te,multiple:Ze,muted:Ze,name:null,nonce:null,noModule:Ze,noValidate:Ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ze,optimum:Te,pattern:null,ping:Kt,placeholder:null,playsInline:Ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ze,referrerPolicy:null,rel:Kt,required:Ze,reversed:Ze,rows:Te,rowSpan:Te,sandbox:Kt,scope:null,scoped:Ze,seamless:Ze,selected:Ze,shadowRootClonable:Ze,shadowRootDelegatesFocus:Ze,shadowRootMode:null,shape:null,size:Te,sizes:null,slot:null,span:Te,spellCheck:xn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Te,step:null,style:null,tabIndex:Te,target:null,title:null,translate:null,type:null,typeMustMatch:Ze,useMap:null,value:xn,width:Te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Kt,axis:null,background:null,bgColor:null,border:Te,borderColor:null,bottomMargin:Te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ze,declare:Ze,event:null,face:null,frame:null,frameBorder:null,hSpace:Te,leftMargin:Te,link:null,longDesc:null,lowSrc:null,marginHeight:Te,marginWidth:Te,noResize:Ze,noHref:Ze,noShade:Ze,noWrap:Ze,object:null,profile:null,prompt:null,rev:null,rightMargin:Te,rules:null,scheme:null,scrolling:xn,standby:null,summary:null,text:null,topMargin:Te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ze,disableRemotePlayback:Ze,prefix:null,property:null,results:Te,security:null,unselectable:null},space:"html",transform:RN}),mj=Au({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Kr,accentHeight:Te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Te,amplitude:Te,arabicForm:null,ascent:Te,attributeName:null,attributeType:null,azimuth:Te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Te,by:null,calcMode:null,capHeight:Te,className:Kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Te,diffuseConstant:Te,direction:null,display:null,dur:null,divisor:Te,dominantBaseline:null,download:Ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:Te,enableBackground:null,end:null,event:null,exponent:Te,externalResourcesRequired:null,fill:null,fillOpacity:Te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:nu,g2:nu,glyphName:nu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Te,horizOriginX:Te,horizOriginY:Te,id:null,ideographic:Te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Te,k:Te,k1:Te,k2:Te,k3:Te,k4:Te,kernelMatrix:Kr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Te,overlineThickness:Te,paintOrder:null,panose1:null,path:null,pathLength:Te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Te,pointsAtY:Te,pointsAtZ:Te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Kr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Kr,rev:Kr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Kr,requiredFeatures:Kr,requiredFonts:Kr,requiredFormats:Kr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Te,specularExponent:Te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Te,strikethroughThickness:Te,string:null,stroke:null,strokeDashArray:Kr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Te,strokeOpacity:Te,strokeWidth:null,style:null,surfaceScale:Te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Kr,tabIndex:Te,tableValues:null,target:null,targetX:Te,targetY:Te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Kr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Te,underlineThickness:Te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Te,values:null,vAlphabetic:Te,vMathematical:Te,vectorEffect:null,vHanging:Te,vIdeographic:Te,version:null,vertAdvY:Te,vertOriginX:Te,vertOriginY:Te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:IN}),NN=Au({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),kN=Au({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:RN}),DN=Au({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),gj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},yj=/[A-Z]/g,dx=/-[a-z]/g,vj=/^data[-\w.:]+$/i;function _j(t,e){const n=Xv(e);let r=e,s=Lr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vj.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(dx,wj);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!dx.test(a)){let u=a.replace(yj,Ej);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=R0}return new s(r,e)}function Ej(t){return"-"+t.toLowerCase()}function wj(t){return t.charAt(1).toUpperCase()}const bj=AN([CN,pj,NN,kN,DN],"html"),N0=AN([CN,mj,NN,kN,DN],"svg");function Sj(t){return t.join(" ").trim()}var zl={},By,px;function Tj(){if(px)return By;px=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,h=`
`,d="/",m="*",y="",_="comment",E="declaration";By=function(C,N){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];N=N||{};var k=1,j=1;function q(A){var O=A.match(e);O&&(k+=O.length);var G=A.lastIndexOf(h);j=~G?A.length-G:j+A.length}function F(){var A={line:k,column:j};return function(O){return O.position=new K(A),I(),O}}function K(A){this.start=A,this.end={line:k,column:j},this.source=N.source}K.prototype.content=C;function $(A){var O=new Error(N.source+":"+k+":"+j+": "+A);if(O.reason=A,O.filename=N.source,O.line=k,O.column=j,O.source=C,!N.silent)throw O}function R(A){var O=A.exec(C);if(O){var G=O[0];return q(G),C=C.slice(G.length),O}}function I(){R(n)}function D(A){var O;for(A=A||[];O=P();)O!==!1&&A.push(O);return A}function P(){var A=F();if(!(d!=C.charAt(0)||m!=C.charAt(1))){for(var O=2;y!=C.charAt(O)&&(m!=C.charAt(O)||d!=C.charAt(O+1));)++O;if(O+=2,y===C.charAt(O-1))return $("End of comment missing");var G=C.slice(2,O-2);return j+=2,q(G),C=C.slice(O),j+=2,A({type:_,comment:G})}}function U(){var A=F(),O=R(r);if(O){if(P(),!R(s))return $("property missing ':'");var G=R(a),z=A({type:E,property:T(O[0].replace(t,y)),value:G?T(G[0].replace(t,y)):y});return R(u),z}}function L(){var A=[];D(A);for(var O;O=U();)O!==!1&&(A.push(O),D(A));return A}return I(),L()};function T(C){return C?C.replace(c,y):y}return By}var mx;function xj(){if(mx)return zl;mx=1;var t=zl&&zl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zl,"__esModule",{value:!0}),zl.default=n;var e=t(Tj());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var u=(0,e.default)(r),c=typeof s=="function";return u.forEach(function(h){if(h.type==="declaration"){var d=h.property,m=h.value;c?s(d,m,h):m&&(a=a||{},a[d]=m)}}),a}return zl}var kc={},gx;function Aj(){if(gx)return kc;gx=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},u=function(d,m){return m.toUpperCase()},c=function(d,m){return"".concat(m,"-")},h=function(d,m){return m===void 0&&(m={}),a(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(s,c):d=d.replace(r,c),d.replace(e,u))};return kc.camelCase=h,kc}var Dc,yx;function Cj(){if(yx)return Dc;yx=1;var t=Dc&&Dc.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(xj()),n=Aj();function r(s,a){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(c,h){c&&h&&(u[(0,n.camelCase)(c,a)]=h)}),u}return r.default=r,Dc=r,Dc}var Ij=Cj();const Rj=Fa(Ij),ON=MN("end"),k0=MN("start");function MN(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Nj(t){const e=k0(t),n=ON(t);if(e&&n)return{start:e,end:n}}function Wc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?vx(t.position):"start"in t||"end"in t?vx(t):"line"in t||"column"in t?Zv(t):""}function Zv(t){return _x(t&&t.line)+":"+_x(t&&t.column)}function vx(t){return Zv(t&&t.start)+"-"+Zv(t&&t.end)}function _x(t){return t&&typeof t=="number"?t:1}class dr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},u=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(u=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=Wc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}dr.prototype.file="";dr.prototype.name="";dr.prototype.reason="";dr.prototype.message="";dr.prototype.stack="";dr.prototype.column=void 0;dr.prototype.line=void 0;dr.prototype.ancestors=void 0;dr.prototype.cause=void 0;dr.prototype.fatal=void 0;dr.prototype.place=void 0;dr.prototype.ruleId=void 0;dr.prototype.source=void 0;const D0={}.hasOwnProperty,kj=new Map,Dj=/[A-Z]/g,Oj=new Set(["table","tbody","thead","tfoot","tr"]),Mj=new Set(["td","th"]),PN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Pj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Hj(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=jj(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?N0:bj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=VN(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function VN(t,e,n){if(e.type==="element")return Vj(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return Lj(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return Uj(t,e,n);if(e.type==="mdxjsEsm")return zj(t,e);if(e.type==="root")return Bj(t,e,n);if(e.type==="text")return Fj(t,e)}function Vj(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=N0,t.schema=s),t.ancestors.push(e);const a=zN(t,e.tagName,!1),u=qj(t,e);let c=M0(t,e);return Oj.has(e.tagName)&&(c=c.filter(function(h){return typeof h=="string"?!hj(h):!0})),LN(t,u,a,e),O0(u,c),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function Lj(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Ef(t,e.position)}function zj(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Ef(t,e.position)}function Uj(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=N0,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:zN(t,e.name,!0),u=$j(t,e),c=M0(t,e);return LN(t,u,a,e),O0(u,c),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function Bj(t,e,n){const r={};return O0(r,M0(t,e)),t.create(e,t.Fragment,r,n)}function Fj(t,e){return e.value}function LN(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function O0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function jj(t,e,n){return r;function r(s,a,u,c){const d=Array.isArray(u.children)?n:e;return c?d(a,u,c):d(a,u)}}function Hj(t,e){return n;function n(r,s,a,u){const c=Array.isArray(a.children),h=k0(r);return e(s,a,u,c,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function qj(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&D0.call(e.properties,s)){const a=Gj(t,s,e.properties[s]);if(a){const[u,c]=a;t.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&Mj.has(e.tagName)?r=c:n[u]=c}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function $j(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const u=a.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Ef(t,e.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,a=t.evaluater.evaluateExpression(c.expression)}else Ef(t,e.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function M0(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:kj;for(;++r<e.children.length;){const a=e.children[r];let u;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const d=s.get(h)||0;u=h+"-"+d,s.set(h,d+1)}}const c=VN(t,a,u);c!==void 0&&n.push(c)}return n}function Gj(t,e,n){const r=_j(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?aj(n):Sj(n)),r.property==="style"){let s=typeof n=="object"?n:Yj(t,String(n));return t.stylePropertyNameCase==="css"&&(s=Kj(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?gj[r.property]||r.property:r.attribute,n]}}function Yj(t,e){try{return Rj(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new dr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=PN+"#cannot-parse-style-attribute",s}}function zN(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,u;for(;++a<s.length;){const c=cx(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=u}else r=cx(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return D0.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);Ef(t)}function Ef(t,e){const n=new dr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=PN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Kj(t){const e={};let n;for(n in t)D0.call(t,n)&&(e[Xj(n)]=t[n]);return e}function Xj(t){let e=t.replace(Dj,Qj);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Qj(t){return"-"+t.toLowerCase()}const Fy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Wj={};function Zj(t,e){const n=Wj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return UN(t,r,s)}function UN(t,e,n){if(Jj(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Ex(t.children,e,n)}return Array.isArray(t)?Ex(t,e,n):""}function Ex(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=UN(t[s],e,n);return r.join("")}function Jj(t){return!!(t&&typeof t=="object")}const wx=document.createElement("i");function P0(t){const e="&"+t+";";wx.innerHTML=e;const n=wx.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function us(t,e,n,r){const s=t.length;let a=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);a<r.length;)u=r.slice(a,a+1e4),u.unshift(e,0),t.splice(...u),a+=1e4,e+=1e4}function _i(t,e){return t.length>0?(us(t,t.length,0,e),t):e}const bx={}.hasOwnProperty;function e8(t){const e={};let n=-1;for(;++n<t.length;)t8(e,t[n]);return e}function t8(t,e){let n;for(n in e){const s=(bx.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let u;if(a)for(u in a){bx.call(s,u)||(s[u]=[]);const c=a[u];n8(s[u],Array.isArray(c)?c:c?[c]:[])}}}function n8(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);us(t,0,0,r)}function BN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ru(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ns=Wo(/[A-Za-z]/),Wr=Wo(/[\dA-Za-z]/),r8=Wo(/[#-'*+\--9=?A-Z^-~]/);function Jv(t){return t!==null&&(t<32||t===127)}const e_=Wo(/\d/),i8=Wo(/[\dA-Fa-f]/),s8=Wo(/[!-/:-@[-`{-~]/);function Ye(t){return t!==null&&t<-2}function Vr(t){return t!==null&&(t<0||t===32)}function xt(t){return t===-2||t===-1||t===32}const o8=Wo(new RegExp("\\p{P}|\\p{S}","u")),a8=Wo(/\s/);function Wo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Cu(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let u="";if(a===37&&Wr(t.charCodeAt(n+1))&&Wr(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const c=t.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(u=String.fromCharCode(a,c),s=1):u=""}else u=String.fromCharCode(a);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function Xt(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(h){return xt(h)?(t.enter(n),c(h)):e(h)}function c(h){return xt(h)&&a++<s?(t.consume(h),c):(t.exit(n),e(h))}}const l8={tokenize:u8};function u8(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),Xt(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),a(c)}function a(c){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(c)}function u(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return Ye(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),u)}}const c8={tokenize:f8},Sx={tokenize:h8};function f8(t){const e=this,n=[];let r=0,s,a,u;return c;function c(q){if(r<n.length){const F=n[r];return e.containerState=F[1],t.attempt(F[0].continuation,h,d)(q)}return d(q)}function h(q){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&j();const F=e.events.length;let K=F,$;for(;K--;)if(e.events[K][0]==="exit"&&e.events[K][1].type==="chunkFlow"){$=e.events[K][1].end;break}k(r);let R=F;for(;R<e.events.length;)e.events[R][1].end={...$},R++;return us(e.events,K+1,0,e.events.slice(F)),e.events.length=R,d(q)}return c(q)}function d(q){if(r===n.length){if(!s)return _(q);if(s.currentConstruct&&s.currentConstruct.concrete)return T(q);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Sx,m,y)(q)}function m(q){return s&&j(),k(r),_(q)}function y(q){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,T(q)}function _(q){return e.containerState={},t.attempt(Sx,E,T)(q)}function E(q){return r++,n.push([e.currentConstruct,e.containerState]),_(q)}function T(q){if(q===null){s&&j(),k(0),t.consume(q);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),C(q)}function C(q){if(q===null){N(t.exit("chunkFlow"),!0),k(0),t.consume(q);return}return Ye(q)?(t.consume(q),N(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(q),C)}function N(q,F){const K=e.sliceStream(q);if(F&&K.push(null),q.previous=a,a&&(a.next=q),a=q,s.defineSkip(q.start),s.write(K),e.parser.lazy[q.start.line]){let $=s.events.length;for(;$--;)if(s.events[$][1].start.offset<u&&(!s.events[$][1].end||s.events[$][1].end.offset>u))return;const R=e.events.length;let I=R,D,P;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(D){P=e.events[I][1].end;break}D=!0}for(k(r),$=R;$<e.events.length;)e.events[$][1].end={...P},$++;us(e.events,I+1,0,e.events.slice(R)),e.events.length=$}}function k(q){let F=n.length;for(;F-- >q;){const K=n[F];e.containerState=K[1],K[0].exit.call(e,t)}n.length=q}function j(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function h8(t,e,n){return Xt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Tx(t){if(t===null||Vr(t)||a8(t))return 1;if(o8(t))return 2}function V0(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const t_={name:"attention",resolveAll:d8,tokenize:p8};function d8(t,e){let n=-1,r,s,a,u,c,h,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y={...t[r][1].end},_={...t[n][1].start};xx(y,-h),xx(_,h),u={type:h>1?"strongSequence":"emphasisSequence",start:y,end:{...t[r][1].end}},c={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},a={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:h>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},t[r][1].end={...u.start},t[n][1].start={...c.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=_i(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=_i(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",a,e]]),d=_i(d,V0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=_i(d,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=_i(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,us(t,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function p8(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Tx(r);let a;return u;function u(h){return a=h,t.enter("attentionSequence"),c(h)}function c(h){if(h===a)return t.consume(h),c;const d=t.exit("attentionSequence"),m=Tx(h),y=!m||m===2&&s||n.includes(h),_=!s||s===2&&m||n.includes(r);return d._open=!!(a===42?y:y&&(s||!_)),d._close=!!(a===42?_:_&&(m||!y)),e(h)}}function xx(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const m8={name:"autolink",tokenize:g8};function g8(t,e,n){let r=0;return s;function s(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(E){return ns(E)?(t.consume(E),u):E===64?n(E):d(E)}function u(E){return E===43||E===45||E===46||Wr(E)?(r=1,c(E)):d(E)}function c(E){return E===58?(t.consume(E),r=0,h):(E===43||E===45||E===46||Wr(E))&&r++<32?(t.consume(E),c):(r=0,d(E))}function h(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):E===null||E===32||E===60||Jv(E)?n(E):(t.consume(E),h)}function d(E){return E===64?(t.consume(E),m):r8(E)?(t.consume(E),d):n(E)}function m(E){return Wr(E)?y(E):n(E)}function y(E){return E===46?(t.consume(E),r=0,m):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):_(E)}function _(E){if((E===45||Wr(E))&&r++<63){const T=E===45?_:y;return t.consume(E),T}return n(E)}}const Wp={partial:!0,tokenize:y8};function y8(t,e,n){return r;function r(a){return xt(a)?Xt(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||Ye(a)?e(a):n(a)}}const FN={continuation:{tokenize:_8},exit:E8,name:"blockQuote",tokenize:v8};function v8(t,e,n){const r=this;return s;function s(u){if(u===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),a}return n(u)}function a(u){return xt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function _8(t,e,n){const r=this;return s;function s(u){return xt(u)?Xt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return t.attempt(FN,e,n)(u)}}function E8(t){t.exit("blockQuote")}const jN={name:"characterEscape",tokenize:w8};function w8(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return s8(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const HN={name:"characterReference",tokenize:b8};function b8(t,e,n){const r=this;let s=0,a,u;return c;function c(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),h}function h(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,u=Wr,m(y))}function d(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,u=i8,m):(t.enter("characterReferenceValue"),a=7,u=e_,m(y))}function m(y){if(y===59&&s){const _=t.exit("characterReferenceValue");return u===Wr&&!P0(r.sliceSerialize(_))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(y)&&s++<a?(t.consume(y),m):n(y)}}const Ax={partial:!0,tokenize:T8},Cx={concrete:!0,name:"codeFenced",tokenize:S8};function S8(t,e,n){const r=this,s={partial:!0,tokenize:K};let a=0,u=0,c;return h;function h($){return d($)}function d($){const R=r.events[r.events.length-1];return a=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,c=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m($)}function m($){return $===c?(u++,t.consume($),m):u<3?n($):(t.exit("codeFencedFenceSequence"),xt($)?Xt(t,y,"whitespace")($):y($))}function y($){return $===null||Ye($)?(t.exit("codeFencedFence"),r.interrupt?e($):t.check(Ax,C,F)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_($))}function _($){return $===null||Ye($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y($)):xt($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Xt(t,E,"whitespace")($)):$===96&&$===c?n($):(t.consume($),_)}function E($){return $===null||Ye($)?y($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),T($))}function T($){return $===null||Ye($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y($)):$===96&&$===c?n($):(t.consume($),T)}function C($){return t.attempt(s,F,N)($)}function N($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),k}function k($){return a>0&&xt($)?Xt(t,j,"linePrefix",a+1)($):j($)}function j($){return $===null||Ye($)?t.check(Ax,C,F)($):(t.enter("codeFlowValue"),q($))}function q($){return $===null||Ye($)?(t.exit("codeFlowValue"),j($)):(t.consume($),q)}function F($){return t.exit("codeFenced"),e($)}function K($,R,I){let D=0;return P;function P(G){return $.enter("lineEnding"),$.consume(G),$.exit("lineEnding"),U}function U(G){return $.enter("codeFencedFence"),xt(G)?Xt($,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):L(G)}function L(G){return G===c?($.enter("codeFencedFenceSequence"),A(G)):I(G)}function A(G){return G===c?(D++,$.consume(G),A):D>=u?($.exit("codeFencedFenceSequence"),xt(G)?Xt($,O,"whitespace")(G):O(G)):I(G)}function O(G){return G===null||Ye(G)?($.exit("codeFencedFence"),R(G)):I(G)}}}function T8(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const jy={name:"codeIndented",tokenize:A8},x8={partial:!0,tokenize:C8};function A8(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),Xt(t,a,"linePrefix",5)(d)}function a(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?h(d):Ye(d)?t.attempt(x8,u,h)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||Ye(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),c)}function h(d){return t.exit("codeIndented"),e(d)}}function C8(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):Ye(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):Xt(t,a,"linePrefix",5)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):Ye(u)?s(u):n(u)}}const I8={name:"codeText",previous:N8,resolve:R8,tokenize:k8};function R8(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function N8(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function k8(t,e,n){let r=0,s,a;return u;function u(y){return t.enter("codeText"),t.enter("codeTextSequence"),c(y)}function c(y){return y===96?(t.consume(y),r++,c):(t.exit("codeTextSequence"),h(y))}function h(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),h):y===96?(a=t.enter("codeTextSequence"),s=0,m(y)):Ye(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||Ye(y)?(t.exit("codeTextData"),h(y)):(t.consume(y),d)}function m(y){return y===96?(t.consume(y),s++,m):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(a.type="codeTextData",d(y))}}class D8{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Oc(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Oc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Oc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Oc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Oc(this.left,n.reverse())}}}function Oc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function qN(t){const e={};let n=-1,r,s,a,u,c,h,d;const m=new D8(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,O8(m,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(u=m.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...m.get(s)[1].start},c=m.slice(s,n),c.unshift(r),m.splice(s,n-s+1,c))}}return us(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function O8(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const a=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,h=[],d={};let m,y,_=-1,E=n,T=0,C=0;const N=[C];for(;E;){for(;t.get(++s)[1]!==E;);a.push(s),E._tokenizer||(m=r.sliceStream(E),E.next||m.push(null),y&&u.defineSkip(E.start),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=E,E=E.next}for(E=n;++_<c.length;)c[_][0]==="exit"&&c[_-1][0]==="enter"&&c[_][1].type===c[_-1][1].type&&c[_][1].start.line!==c[_][1].end.line&&(C=_+1,N.push(C),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(u.events=[],E?(E._tokenizer=void 0,E.previous=void 0):N.pop(),_=N.length;_--;){const k=c.slice(N[_],N[_+1]),j=a.pop();h.push([j,j+k.length-1]),t.splice(j,2,k)}for(h.reverse(),_=-1;++_<h.length;)d[T+h[_][0]]=T+h[_][1],T+=h[_][1]-h[_][0]-1;return d}const M8={resolve:V8,tokenize:L8},P8={partial:!0,tokenize:z8};function V8(t){return qN(t),t}function L8(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?a(c):Ye(c)?t.check(P8,u,a)(c):(t.consume(c),s)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function u(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function z8(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Xt(t,a,"linePrefix")}function a(u){if(u===null||Ye(u))return n(u);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function $N(t,e,n,r,s,a,u,c,h){const d=h||Number.POSITIVE_INFINITY;let m=0;return y;function y(k){return k===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(k),t.exit(a),_):k===null||k===32||k===41||Jv(k)?n(k):(t.enter(r),t.enter(u),t.enter(c),t.enter("chunkString",{contentType:"string"}),C(k))}function _(k){return k===62?(t.enter(a),t.consume(k),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),E(k))}function E(k){return k===62?(t.exit("chunkString"),t.exit(c),_(k)):k===null||k===60||Ye(k)?n(k):(t.consume(k),k===92?T:E)}function T(k){return k===60||k===62||k===92?(t.consume(k),E):E(k)}function C(k){return!m&&(k===null||k===41||Vr(k))?(t.exit("chunkString"),t.exit(c),t.exit(u),t.exit(r),e(k)):m<d&&k===40?(t.consume(k),m++,C):k===41?(t.consume(k),m--,C):k===null||k===32||k===40||Jv(k)?n(k):(t.consume(k),k===92?N:C)}function N(k){return k===40||k===41||k===92?(t.consume(k),C):C(k)}}function GN(t,e,n,r,s,a){const u=this;let c=0,h;return d;function d(E){return t.enter(r),t.enter(s),t.consume(E),t.exit(s),t.enter(a),m}function m(E){return c>999||E===null||E===91||E===93&&!h||E===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(E):E===93?(t.exit(a),t.enter(s),t.consume(E),t.exit(s),t.exit(r),e):Ye(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||E===91||E===93||Ye(E)||c++>999?(t.exit("chunkString"),m(E)):(t.consume(E),h||(h=!xt(E)),E===92?_:y)}function _(E){return E===91||E===92||E===93?(t.consume(E),c++,y):y(E)}}function YN(t,e,n,r,s,a){let u;return c;function c(_){return _===34||_===39||_===40?(t.enter(r),t.enter(s),t.consume(_),t.exit(s),u=_===40?41:_,h):n(_)}function h(_){return _===u?(t.enter(s),t.consume(_),t.exit(s),t.exit(r),e):(t.enter(a),d(_))}function d(_){return _===u?(t.exit(a),h(u)):_===null?n(_):Ye(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),Xt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===u||_===null||Ye(_)?(t.exit("chunkString"),d(_)):(t.consume(_),_===92?y:m)}function y(_){return _===u||_===92?(t.consume(_),m):m(_)}}function Zc(t,e){let n;return r;function r(s){return Ye(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):xt(s)?Xt(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const U8={name:"definition",tokenize:F8},B8={partial:!0,tokenize:j8};function F8(t,e,n){const r=this;let s;return a;function a(E){return t.enter("definition"),u(E)}function u(E){return GN.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function c(E){return s=ru(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),h):n(E)}function h(E){return Vr(E)?Zc(t,d)(E):d(E)}function d(E){return $N(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function m(E){return t.attempt(B8,y,y)(E)}function y(E){return xt(E)?Xt(t,_,"whitespace")(E):_(E)}function _(E){return E===null||Ye(E)?(t.exit("definition"),r.parser.defined.push(s),e(E)):n(E)}}function j8(t,e,n){return r;function r(c){return Vr(c)?Zc(t,s)(c):n(c)}function s(c){return YN(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return xt(c)?Xt(t,u,"whitespace")(c):u(c)}function u(c){return c===null||Ye(c)?e(c):n(c)}}const H8={name:"hardBreakEscape",tokenize:q8};function q8(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return Ye(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const $8={name:"headingAtx",resolve:G8,tokenize:Y8};function G8(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},us(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function Y8(t,e,n){let r=0;return s;function s(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(t.consume(m),u):m===null||Vr(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||Ye(m)?(t.exit("atxHeading"),e(m)):xt(m)?Xt(t,c,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),c(m))}function d(m){return m===null||m===35||Vr(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),d)}}const K8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ix=["pre","script","style","textarea"],X8={concrete:!0,name:"htmlFlow",resolveTo:Z8,tokenize:J8},Q8={partial:!0,tokenize:tH},W8={partial:!0,tokenize:eH};function Z8(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function J8(t,e,n){const r=this;let s,a,u,c,h;return d;function d(M){return m(M)}function m(M){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(M),y}function y(M){return M===33?(t.consume(M),_):M===47?(t.consume(M),a=!0,C):M===63?(t.consume(M),s=3,r.interrupt?e:b):ns(M)?(t.consume(M),u=String.fromCharCode(M),N):n(M)}function _(M){return M===45?(t.consume(M),s=2,E):M===91?(t.consume(M),s=5,c=0,T):ns(M)?(t.consume(M),s=4,r.interrupt?e:b):n(M)}function E(M){return M===45?(t.consume(M),r.interrupt?e:b):n(M)}function T(M){const ce="CDATA[";return M===ce.charCodeAt(c++)?(t.consume(M),c===ce.length?r.interrupt?e:L:T):n(M)}function C(M){return ns(M)?(t.consume(M),u=String.fromCharCode(M),N):n(M)}function N(M){if(M===null||M===47||M===62||Vr(M)){const ce=M===47,be=u.toLowerCase();return!ce&&!a&&Ix.includes(be)?(s=1,r.interrupt?e(M):L(M)):K8.includes(u.toLowerCase())?(s=6,ce?(t.consume(M),k):r.interrupt?e(M):L(M)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(M):a?j(M):q(M))}return M===45||Wr(M)?(t.consume(M),u+=String.fromCharCode(M),N):n(M)}function k(M){return M===62?(t.consume(M),r.interrupt?e:L):n(M)}function j(M){return xt(M)?(t.consume(M),j):P(M)}function q(M){return M===47?(t.consume(M),P):M===58||M===95||ns(M)?(t.consume(M),F):xt(M)?(t.consume(M),q):P(M)}function F(M){return M===45||M===46||M===58||M===95||Wr(M)?(t.consume(M),F):K(M)}function K(M){return M===61?(t.consume(M),$):xt(M)?(t.consume(M),K):q(M)}function $(M){return M===null||M===60||M===61||M===62||M===96?n(M):M===34||M===39?(t.consume(M),h=M,R):xt(M)?(t.consume(M),$):I(M)}function R(M){return M===h?(t.consume(M),h=null,D):M===null||Ye(M)?n(M):(t.consume(M),R)}function I(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||Vr(M)?K(M):(t.consume(M),I)}function D(M){return M===47||M===62||xt(M)?q(M):n(M)}function P(M){return M===62?(t.consume(M),U):n(M)}function U(M){return M===null||Ye(M)?L(M):xt(M)?(t.consume(M),U):n(M)}function L(M){return M===45&&s===2?(t.consume(M),z):M===60&&s===1?(t.consume(M),Y):M===62&&s===4?(t.consume(M),Q):M===63&&s===3?(t.consume(M),b):M===93&&s===5?(t.consume(M),J):Ye(M)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(Q8,re,A)(M)):M===null||Ye(M)?(t.exit("htmlFlowData"),A(M)):(t.consume(M),L)}function A(M){return t.check(W8,O,re)(M)}function O(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),G}function G(M){return M===null||Ye(M)?A(M):(t.enter("htmlFlowData"),L(M))}function z(M){return M===45?(t.consume(M),b):L(M)}function Y(M){return M===47?(t.consume(M),u="",Z):L(M)}function Z(M){if(M===62){const ce=u.toLowerCase();return Ix.includes(ce)?(t.consume(M),Q):L(M)}return ns(M)&&u.length<8?(t.consume(M),u+=String.fromCharCode(M),Z):L(M)}function J(M){return M===93?(t.consume(M),b):L(M)}function b(M){return M===62?(t.consume(M),Q):M===45&&s===2?(t.consume(M),b):L(M)}function Q(M){return M===null||Ye(M)?(t.exit("htmlFlowData"),re(M)):(t.consume(M),Q)}function re(M){return t.exit("htmlFlow"),e(M)}}function eH(t,e,n){const r=this;return s;function s(u){return Ye(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):n(u)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function tH(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Wp,e,n)}}const nH={name:"htmlText",tokenize:rH};function rH(t,e,n){const r=this;let s,a,u;return c;function c(b){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(b),h}function h(b){return b===33?(t.consume(b),d):b===47?(t.consume(b),K):b===63?(t.consume(b),q):ns(b)?(t.consume(b),I):n(b)}function d(b){return b===45?(t.consume(b),m):b===91?(t.consume(b),a=0,T):ns(b)?(t.consume(b),j):n(b)}function m(b){return b===45?(t.consume(b),E):n(b)}function y(b){return b===null?n(b):b===45?(t.consume(b),_):Ye(b)?(u=y,Y(b)):(t.consume(b),y)}function _(b){return b===45?(t.consume(b),E):y(b)}function E(b){return b===62?z(b):b===45?_(b):y(b)}function T(b){const Q="CDATA[";return b===Q.charCodeAt(a++)?(t.consume(b),a===Q.length?C:T):n(b)}function C(b){return b===null?n(b):b===93?(t.consume(b),N):Ye(b)?(u=C,Y(b)):(t.consume(b),C)}function N(b){return b===93?(t.consume(b),k):C(b)}function k(b){return b===62?z(b):b===93?(t.consume(b),k):C(b)}function j(b){return b===null||b===62?z(b):Ye(b)?(u=j,Y(b)):(t.consume(b),j)}function q(b){return b===null?n(b):b===63?(t.consume(b),F):Ye(b)?(u=q,Y(b)):(t.consume(b),q)}function F(b){return b===62?z(b):q(b)}function K(b){return ns(b)?(t.consume(b),$):n(b)}function $(b){return b===45||Wr(b)?(t.consume(b),$):R(b)}function R(b){return Ye(b)?(u=R,Y(b)):xt(b)?(t.consume(b),R):z(b)}function I(b){return b===45||Wr(b)?(t.consume(b),I):b===47||b===62||Vr(b)?D(b):n(b)}function D(b){return b===47?(t.consume(b),z):b===58||b===95||ns(b)?(t.consume(b),P):Ye(b)?(u=D,Y(b)):xt(b)?(t.consume(b),D):z(b)}function P(b){return b===45||b===46||b===58||b===95||Wr(b)?(t.consume(b),P):U(b)}function U(b){return b===61?(t.consume(b),L):Ye(b)?(u=U,Y(b)):xt(b)?(t.consume(b),U):D(b)}function L(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),s=b,A):Ye(b)?(u=L,Y(b)):xt(b)?(t.consume(b),L):(t.consume(b),O)}function A(b){return b===s?(t.consume(b),s=void 0,G):b===null?n(b):Ye(b)?(u=A,Y(b)):(t.consume(b),A)}function O(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||Vr(b)?D(b):(t.consume(b),O)}function G(b){return b===47||b===62||Vr(b)?D(b):n(b)}function z(b){return b===62?(t.consume(b),t.exit("htmlTextData"),t.exit("htmlText"),e):n(b)}function Y(b){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),Z}function Z(b){return xt(b)?Xt(t,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):J(b)}function J(b){return t.enter("htmlTextData"),u(b)}}const L0={name:"labelEnd",resolveAll:aH,resolveTo:lH,tokenize:uH},iH={tokenize:cH},sH={tokenize:fH},oH={tokenize:hH};function aH(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&us(t,0,t.length,n),t}function lH(t,e){let n=t.length,r=0,s,a,u,c;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[u][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[u-2][1].start}};return c=[["enter",h,e],["enter",d,e]],c=_i(c,t.slice(a+1,a+r+3)),c=_i(c,[["enter",m,e]]),c=_i(c,V0(e.parser.constructs.insideSpan.null,t.slice(a+r+4,u-3),e)),c=_i(c,[["exit",m,e],t[u-2],t[u-1],["exit",d,e]]),c=_i(c,t.slice(u+1)),c=_i(c,[["exit",h,e]]),us(t,a,t.length,c),t}function uH(t,e,n){const r=this;let s=r.events.length,a,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return c;function c(_){return a?a._inactive?y(_):(u=r.parser.defined.includes(ru(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),h):n(_)}function h(_){return _===40?t.attempt(iH,m,u?m:y)(_):_===91?t.attempt(sH,m,u?d:y)(_):u?m(_):y(_)}function d(_){return t.attempt(oH,m,y)(_)}function m(_){return e(_)}function y(_){return a._balanced=!0,n(_)}}function cH(t,e,n){return r;function r(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Vr(y)?Zc(t,a)(y):a(y)}function a(y){return y===41?m(y):$N(t,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return Vr(y)?Zc(t,h)(y):m(y)}function c(y){return n(y)}function h(y){return y===34||y===39||y===40?YN(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):m(y)}function d(y){return Vr(y)?Zc(t,m)(y):m(y)}function m(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):n(y)}}function fH(t,e,n){const r=this;return s;function s(c){return GN.call(r,t,a,u,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(ru(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function u(c){return n(c)}}function hH(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const dH={name:"labelStartImage",resolveAll:L0.resolveAll,tokenize:pH};function pH(t,e,n){const r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const mH={name:"labelStartLink",resolveAll:L0.resolveAll,tokenize:gH};function gH(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Hy={name:"lineEnding",tokenize:yH};function yH(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Xt(t,e,"linePrefix")}}const Ud={name:"thematicBreak",tokenize:vH};function vH(t,e,n){let r=0,s;return a;function a(d){return t.enter("thematicBreak"),u(d)}function u(d){return s=d,c(d)}function c(d){return d===s?(t.enter("thematicBreakSequence"),h(d)):r>=3&&(d===null||Ye(d))?(t.exit("thematicBreak"),e(d)):n(d)}function h(d){return d===s?(t.consume(d),r++,h):(t.exit("thematicBreakSequence"),xt(d)?Xt(t,c,"whitespace")(d):c(d))}}const Dr={continuation:{tokenize:bH},exit:TH,name:"list",tokenize:wH},_H={partial:!0,tokenize:xH},EH={partial:!0,tokenize:SH};function wH(t,e,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return c;function c(E){const T=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(T==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:e_(E)){if(r.containerState.type||(r.containerState.type=T,t.enter(T,{_container:!0})),T==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(Ud,n,d)(E):d(E);if(!r.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(E)}return n(E)}function h(E){return e_(E)&&++u<10?(t.consume(E),h):(!r.interrupt||u<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),d(E)):n(E)}function d(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,t.check(Wp,r.interrupt?n:m,t.attempt(_H,_,y))}function m(E){return r.containerState.initialBlankLine=!0,a++,_(E)}function y(E){return xt(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),_):n(E)}function _(E){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(E)}}function bH(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Wp,s,a);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Xt(t,e,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!xt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(EH,e,u)(c))}function u(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,Xt(t,t.attempt(Dr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function SH(t,e,n){const r=this;return Xt(t,s,"listItemIndent",r.containerState.size+1);function s(a){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(a):n(a)}}function TH(t){t.exit(this.containerState.type)}function xH(t,e,n){const r=this;return Xt(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const u=r.events[r.events.length-1];return!xt(a)&&u&&u[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const Rx={name:"setextUnderline",resolveTo:AH,tokenize:CH};function AH(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",u,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function CH(t,e,n){const r=this;let s;return a;function a(d){let m=r.events.length,y;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){y=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(t.enter("setextHeadingLine"),s=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),xt(d)?Xt(t,h,"lineSuffix")(d):h(d))}function h(d){return d===null||Ye(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const IH={tokenize:RH};function RH(t){const e=this,n=t.attempt(Wp,r,t.attempt(this.parser.constructs.flowInitial,s,Xt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(M8,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const NH={resolveAll:XN()},kH=KN("string"),DH=KN("text");function KN(t){return{resolveAll:XN(t==="text"?OH:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],a=n.attempt(s,u,c);return u;function u(m){return d(m)?a(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return d(m)?(n.exit("data"),a(m)):(n.consume(m),h)}function d(m){if(m===null)return!0;const y=s[m];let _=-1;if(y)for(;++_<y.length;){const E=y[_];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function XN(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}function OH(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let a=s.length,u=-1,c=0,h;for(;a--;){const d=s[a];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(d===-2)h=!0,c++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||h||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:r.start._bufferIndex+u,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const MH={42:Dr,43:Dr,45:Dr,48:Dr,49:Dr,50:Dr,51:Dr,52:Dr,53:Dr,54:Dr,55:Dr,56:Dr,57:Dr,62:FN},PH={91:U8},VH={[-2]:jy,[-1]:jy,32:jy},LH={35:$8,42:Ud,45:[Rx,Ud],60:X8,61:Rx,95:Ud,96:Cx,126:Cx},zH={38:HN,92:jN},UH={[-5]:Hy,[-4]:Hy,[-3]:Hy,33:dH,38:HN,42:t_,60:[m8,nH],91:mH,92:[H8,jN],93:L0,95:t_,96:I8},BH={null:[t_,NH]},FH={null:[42,95]},jH={null:[]},HH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:FH,contentInitial:PH,disable:jH,document:MH,flow:LH,flowInitial:VH,insideSpan:BH,string:zH,text:UH},Symbol.toStringTag,{value:"Module"}));function qH(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let u=[],c=[];const h={attempt:R(K),check:R($),consume:j,enter:q,exit:F,interrupt:R($,{interrupt:!0})},d={code:null,containerState:{},defineSkip:C,events:[],now:T,parser:t,previous:null,sliceSerialize:_,sliceStream:E,write:y};let m=e.tokenize.call(d,h);return e.resolveAll&&a.push(e),d;function y(U){return u=_i(u,U),N(),u[u.length-1]!==null?[]:(I(e,0),d.events=V0(a,d.events,d),d.events)}function _(U,L){return GH(E(U),L)}function E(U){return $H(u,U)}function T(){const{_bufferIndex:U,_index:L,line:A,column:O,offset:G}=r;return{_bufferIndex:U,_index:L,line:A,column:O,offset:G}}function C(U){s[U.line]=U.column,P()}function N(){let U;for(;r._index<u.length;){const L=u[r._index];if(typeof L=="string")for(U=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===U&&r._bufferIndex<L.length;)k(L.charCodeAt(r._bufferIndex));else k(L)}}function k(U){m=m(U)}function j(U){Ye(U)?(r.line++,r.column=1,r.offset+=U===-3?2:1,P()):U!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=U}function q(U,L){const A=L||{};return A.type=U,A.start=T(),d.events.push(["enter",A,d]),c.push(A),A}function F(U){const L=c.pop();return L.end=T(),d.events.push(["exit",L,d]),L}function K(U,L){I(U,L.from)}function $(U,L){L.restore()}function R(U,L){return A;function A(O,G,z){let Y,Z,J,b;return Array.isArray(O)?re(O):"tokenize"in O?re([O]):Q(O);function Q(we){return De;function De(ye){const xe=ye!==null&&we[ye],Ce=ye!==null&&we.null,Fe=[...Array.isArray(xe)?xe:xe?[xe]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return re(Fe)(ye)}}function re(we){return Y=we,Z=0,we.length===0?z:M(we[Z])}function M(we){return De;function De(ye){return b=D(),J=we,we.partial||(d.currentConstruct=we),we.name&&d.parser.constructs.disable.null.includes(we.name)?be():we.tokenize.call(L?Object.assign(Object.create(d),L):d,h,ce,be)(ye)}}function ce(we){return U(J,b),G}function be(we){return b.restore(),++Z<Y.length?M(Y[Z]):z}}}function I(U,L){U.resolveAll&&!a.includes(U)&&a.push(U),U.resolve&&us(d.events,L,d.events.length-L,U.resolve(d.events.slice(L),d)),U.resolveTo&&(d.events=U.resolveTo(d.events,d))}function D(){const U=T(),L=d.previous,A=d.currentConstruct,O=d.events.length,G=Array.from(c);return{from:O,restore:z};function z(){r=U,d.previous=L,d.currentConstruct=A,d.events.length=O,c=G,P()}}function P(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function $H(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,a)];else{if(u=t.slice(n,s),r>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(r):u.shift()}a>0&&u.push(t[s].slice(0,a))}return u}function GH(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const a=t[n];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(a)}s=a===-2,r.push(u)}return r.join("")}function YH(t){const r={constructs:e8([HH,...(t||{}).extensions||[]]),content:s(l8),defined:[],document:s(c8),flow:s(IH),lazy:{},string:s(kH),text:s(DH)};return r;function s(a){return u;function u(c){return qH(r,a,c)}}}function KH(t){for(;!qN(t););return t}const Nx=/[\0\t\n\r]/g;function XH(){let t=1,e="",n=!0,r;return s;function s(a,u,c){const h=[];let d,m,y,_,E;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),y=0,e="",n&&(a.charCodeAt(0)===65279&&y++,n=void 0);y<a.length;){if(Nx.lastIndex=y,d=Nx.exec(a),_=d&&d.index!==void 0?d.index:a.length,E=a.charCodeAt(_),!d){e=a.slice(y);break}if(E===10&&y===_&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),y<_&&(h.push(a.slice(y,_)),t+=_-y),E){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}y=_+1}return c&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const QH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function WH(t){return t.replace(QH,ZH)}function ZH(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return BN(n.slice(a?2:1),a?16:10)}return P0(n)||t}const QN={}.hasOwnProperty;function JH(t,e,n){return typeof e!="string"&&(n=e,e=void 0),e7(n)(KH(YH(n).document().write(XH()(t,e,!0))))}function e7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a($t),autolinkProtocol:D,autolinkEmail:D,atxHeading:a(ze),blockQuote:a(Ce),characterEscape:D,characterReference:D,codeFenced:a(Fe),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(Fe,u),codeText:a(_t,u),codeTextData:D,data:D,codeFlowValue:D,definition:a(Et),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(wt),hardBreakEscape:a(Wt),hardBreakTrailing:a(Wt),htmlFlow:a(Ue,u),htmlFlowData:D,htmlText:a(Ue,u),htmlTextData:D,image:a(Me),label:u,link:a($t),listItem:a(pn),listItemValue:_,listOrdered:a(dn,y),listUnordered:a(dn),paragraph:a(En),reference:M,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(ze),strong:a(mn),thematicBreak:a(Cn)},exit:{atxHeading:h(),atxHeadingSequence:K,autolink:h(),autolinkEmail:xe,autolinkProtocol:ye,blockQuote:h(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:we,characterReference:De,codeFenced:h(N),codeFencedFence:C,codeFencedFenceInfo:E,codeFencedFenceMeta:T,codeFlowValue:P,codeIndented:h(k),codeText:h(G),codeTextData:P,data:P,definition:h(),definitionDestinationString:F,definitionLabelString:j,definitionTitleString:q,emphasis:h(),hardBreakEscape:h(L),hardBreakTrailing:h(L),htmlFlow:h(A),htmlFlowData:P,htmlText:h(O),htmlTextData:P,image:h(Y),label:J,labelText:Z,lineEnding:U,link:h(z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ce,resourceDestinationString:b,resourceTitleString:Q,resource:re,setextHeading:h(I),setextHeadingLineSequence:R,setextHeadingText:$,strong:h(),thematicBreak:h()}};WN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ne){let pe={type:"root",children:[]};const Re={stack:[pe],tokenStack:[],config:e,enter:c,exit:d,buffer:u,resume:m,data:n},Pe=[];let Je=-1;for(;++Je<ne.length;)if(ne[Je][1].type==="listOrdered"||ne[Je][1].type==="listUnordered")if(ne[Je][0]==="enter")Pe.push(Je);else{const ft=Pe.pop();Je=s(ne,ft,Je)}for(Je=-1;++Je<ne.length;){const ft=e[ne[Je][0]];QN.call(ft,ne[Je][1].type)&&ft[ne[Je][1].type].call(Object.assign({sliceSerialize:ne[Je][2].sliceSerialize},Re),ne[Je][1])}if(Re.tokenStack.length>0){const ft=Re.tokenStack[Re.tokenStack.length-1];(ft[1]||kx).call(Re,void 0,ft[0])}for(pe.position={start:Eo(ne.length>0?ne[0][1].start:{line:1,column:1,offset:0}),end:Eo(ne.length>0?ne[ne.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)pe=e.transforms[Je](pe)||pe;return pe}function s(ne,pe,Re){let Pe=pe-1,Je=-1,ft=!1,Dt,Ot,Mt,ht;for(;++Pe<=Re;){const et=ne[Pe];switch(et[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{et[0]==="enter"?Je++:Je--,ht=void 0;break}case"lineEndingBlank":{et[0]==="enter"&&(Dt&&!ht&&!Je&&!Mt&&(Mt=Pe),ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ht=void 0}if(!Je&&et[0]==="enter"&&et[1].type==="listItemPrefix"||Je===-1&&et[0]==="exit"&&(et[1].type==="listUnordered"||et[1].type==="listOrdered")){if(Dt){let Ht=Pe;for(Ot=void 0;Ht--;){const zt=ne[Ht];if(zt[1].type==="lineEnding"||zt[1].type==="lineEndingBlank"){if(zt[0]==="exit")continue;Ot&&(ne[Ot][1].type="lineEndingBlank",ft=!0),zt[1].type="lineEnding",Ot=Ht}else if(!(zt[1].type==="linePrefix"||zt[1].type==="blockQuotePrefix"||zt[1].type==="blockQuotePrefixWhitespace"||zt[1].type==="blockQuoteMarker"||zt[1].type==="listItemIndent"))break}Mt&&(!Ot||Mt<Ot)&&(Dt._spread=!0),Dt.end=Object.assign({},Ot?ne[Ot][1].start:et[1].end),ne.splice(Ot||Pe,0,["exit",Dt,et[2]]),Pe++,Re++}if(et[1].type==="listItemPrefix"){const Ht={type:"listItem",_spread:!1,start:Object.assign({},et[1].start),end:void 0};Dt=Ht,ne.splice(Pe,0,["enter",Ht,et[2]]),Pe++,Re++,Mt=void 0,ht=!0}}}return ne[pe][1]._spread=ft,Re}function a(ne,pe){return Re;function Re(Pe){c.call(this,ne(Pe),Pe),pe&&pe.call(this,Pe)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(ne,pe,Re){this.stack[this.stack.length-1].children.push(ne),this.stack.push(ne),this.tokenStack.push([pe,Re||void 0]),ne.position={start:Eo(pe.start),end:void 0}}function h(ne){return pe;function pe(Re){ne&&ne.call(this,Re),d.call(this,Re)}}function d(ne,pe){const Re=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==ne.type&&(pe?pe.call(this,ne,Pe[0]):(Pe[1]||kx).call(this,ne,Pe[0]));else throw new Error("Cannot close `"+ne.type+"` ("+Wc({start:ne.start,end:ne.end})+"): its not open");Re.position.end=Eo(ne.end)}function m(){return Zj(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function _(ne){if(this.data.expectingFirstListItemValue){const pe=this.stack[this.stack.length-2];pe.start=Number.parseInt(this.sliceSerialize(ne),10),this.data.expectingFirstListItemValue=void 0}}function E(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.lang=ne}function T(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.meta=ne}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne.replace(/(\r?\n|\r)$/g,"")}function j(ne){const pe=this.resume(),Re=this.stack[this.stack.length-1];Re.label=pe,Re.identifier=ru(this.sliceSerialize(ne)).toLowerCase()}function q(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ne}function F(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ne}function K(ne){const pe=this.stack[this.stack.length-1];if(!pe.depth){const Re=this.sliceSerialize(ne).length;pe.depth=Re}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function R(ne){const pe=this.stack[this.stack.length-1];pe.depth=this.sliceSerialize(ne).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ne){const Re=this.stack[this.stack.length-1].children;let Pe=Re[Re.length-1];(!Pe||Pe.type!=="text")&&(Pe=en(),Pe.position={start:Eo(ne.start),end:void 0},Re.push(Pe)),this.stack.push(Pe)}function P(ne){const pe=this.stack.pop();pe.value+=this.sliceSerialize(ne),pe.position.end=Eo(ne.end)}function U(ne){const pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Re=pe.children[pe.children.length-1];Re.position.end=Eo(ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(pe.type)&&(D.call(this,ne),P.call(this,ne))}function L(){this.data.atHardBreak=!0}function A(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function O(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function G(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.value=ne}function z(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=pe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Y(){const ne=this.stack[this.stack.length-1];if(this.data.inReference){const pe=this.data.referenceType||"shortcut";ne.type+="Reference",ne.referenceType=pe,delete ne.url,delete ne.title}else delete ne.identifier,delete ne.label;this.data.referenceType=void 0}function Z(ne){const pe=this.sliceSerialize(ne),Re=this.stack[this.stack.length-2];Re.label=WH(pe),Re.identifier=ru(pe).toLowerCase()}function J(){const ne=this.stack[this.stack.length-1],pe=this.resume(),Re=this.stack[this.stack.length-1];if(this.data.inReference=!0,Re.type==="link"){const Pe=ne.children;Re.children=Pe}else Re.alt=pe}function b(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.url=ne}function Q(){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.title=ne}function re(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function ce(ne){const pe=this.resume(),Re=this.stack[this.stack.length-1];Re.label=pe,Re.identifier=ru(this.sliceSerialize(ne)).toLowerCase(),this.data.referenceType="full"}function be(ne){this.data.characterReferenceType=ne.type}function we(ne){const pe=this.sliceSerialize(ne),Re=this.data.characterReferenceType;let Pe;Re?(Pe=BN(pe,Re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=P0(pe);const Je=this.stack[this.stack.length-1];Je.value+=Pe}function De(ne){const pe=this.stack.pop();pe.position.end=Eo(ne.end)}function ye(ne){P.call(this,ne);const pe=this.stack[this.stack.length-1];pe.url=this.sliceSerialize(ne)}function xe(ne){P.call(this,ne);const pe=this.stack[this.stack.length-1];pe.url="mailto:"+this.sliceSerialize(ne)}function Ce(){return{type:"blockquote",children:[]}}function Fe(){return{type:"code",lang:null,meta:null,value:""}}function _t(){return{type:"inlineCode",value:""}}function Et(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function wt(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:0,children:[]}}function Wt(){return{type:"break"}}function Ue(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function $t(){return{type:"link",title:null,url:"",children:[]}}function dn(ne){return{type:"list",ordered:ne.type==="listOrdered",start:null,spread:ne._spread,children:[]}}function pn(ne){return{type:"listItem",spread:ne._spread,checked:null,children:[]}}function En(){return{type:"paragraph",children:[]}}function mn(){return{type:"strong",children:[]}}function en(){return{type:"text",value:""}}function Cn(){return{type:"thematicBreak"}}}function Eo(t){return{line:t.line,column:t.column,offset:t.offset}}function WN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?WN(t,r):t7(t,r)}}function t7(t,e){let n;for(n in e)if(QN.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function kx(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Wc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Wc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Wc({start:e.start,end:e.end})+") is still open")}function n7(t){const e=this;e.parser=n;function n(r){return JH(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function r7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function i7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function s7(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function o7(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function a7(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function l7(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Cu(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let u,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=a+1,c+=1,t.footnoteCounts.set(r,c);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,d),t.applyData(e,d)}function u7(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function c7(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function ZN(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function f7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ZN(t,e);const s={src:Cu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function h7(t,e){const n={src:Cu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function d7(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function p7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return ZN(t,e);const s={href:Cu(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function m7(t,e){const n={href:Cu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function g7(t,e,n){const r=t.all(e),s=n?y7(n):JN(e),a={},u=[];if(typeof e.checked=="boolean"){const m=r[0];let y;m&&m.type==="element"&&m.tagName==="p"?y=m:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(s||c!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?u.push(...m.children):u.push(m)}const h=r[r.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:u};return t.patch(e,d),t.applyData(e,d)}function y7(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=JN(n[r])}return e}function JN(t){const e=t.spread;return e??t.children.length>1}function v7(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function _7(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function E7(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function w7(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function b7(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=k0(e.children[1]),h=ON(e.children[e.children.length-1]);c&&h&&(u.position={start:c,end:h}),s.push(u)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function S7(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:e.children.length;let h=-1;const d=[];for(;++h<c;){const y=e.children[h],_={},E=u?u[h]:void 0;E&&(_.align=E);let T={type:"element",tagName:a,properties:_,children:[]};y&&(T.children=t.all(y),t.patch(y,T),T=t.applyData(y,T)),d.push(T)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function T7(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Dx=9,Ox=32;function x7(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const a=[];for(;r;)a.push(Mx(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return a.push(Mx(e.slice(s),s>0,!1)),a.join("")}function Mx(t,e,n){let r=0,s=t.length;if(e){let a=t.codePointAt(r);for(;a===Dx||a===Ox;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(s-1);for(;a===Dx||a===Ox;)s--,a=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function A7(t,e){const n={type:"text",value:x7(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function C7(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const I7={blockquote:r7,break:i7,code:s7,delete:o7,emphasis:a7,footnoteReference:l7,heading:u7,html:c7,imageReference:f7,image:h7,inlineCode:d7,linkReference:p7,link:m7,listItem:g7,list:v7,paragraph:_7,root:E7,strong:w7,table:b7,tableCell:T7,tableRow:S7,text:A7,thematicBreak:C7,toml:bd,yaml:bd,definition:bd,footnoteDefinition:bd};function bd(){}const ek=-1,Zp=0,Jc=1,vp=2,z0=3,U0=4,B0=5,F0=6,tk=7,nk=8,Px=typeof self=="object"?self:globalThis,R7=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),r=s=>{if(t.has(s))return t.get(s);const[a,u]=e[s];switch(a){case Zp:case ek:return n(u,s);case Jc:{const c=n([],s);for(const h of u)c.push(r(h));return c}case vp:{const c=n({},s);for(const[h,d]of u)c[r(h)]=r(d);return c}case z0:return n(new Date(u),s);case U0:{const{source:c,flags:h}=u;return n(new RegExp(c,h),s)}case B0:{const c=n(new Map,s);for(const[h,d]of u)c.set(r(h),r(d));return c}case F0:{const c=n(new Set,s);for(const h of u)c.add(r(h));return c}case tk:{const{name:c,message:h}=u;return n(new Px[c](h),s)}case nk:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new Px[a](u),s)};return r},Vx=t=>R7(new Map,t)(0),Ul="",{toString:N7}={},{keys:k7}=Object,Mc=t=>{const e=typeof t;if(e!=="object"||!t)return[Zp,e];const n=N7.call(t).slice(8,-1);switch(n){case"Array":return[Jc,Ul];case"Object":return[vp,Ul];case"Date":return[z0,Ul];case"RegExp":return[U0,Ul];case"Map":return[B0,Ul];case"Set":return[F0,Ul];case"DataView":return[Jc,n]}return n.includes("Array")?[Jc,n]:n.includes("Error")?[tk,n]:[vp,n]},Sd=([t,e])=>t===Zp&&(e==="function"||e==="symbol"),D7=(t,e,n,r)=>{const s=(u,c)=>{const h=r.push(u)-1;return n.set(c,h),h},a=u=>{if(n.has(u))return n.get(u);let[c,h]=Mc(u);switch(c){case Zp:{let m=u;switch(h){case"bigint":c=nk,m=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return s([ek],u)}return s([c,m],u)}case Jc:{if(h){let _=u;return h==="DataView"?_=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(_=new Uint8Array(u)),s([h,[..._]],u)}const m=[],y=s([c,m],u);for(const _ of u)m.push(a(_));return y}case vp:{if(h)switch(h){case"BigInt":return s([h,u.toString()],u);case"Boolean":case"Number":case"String":return s([h,u.valueOf()],u)}if(e&&"toJSON"in u)return a(u.toJSON());const m=[],y=s([c,m],u);for(const _ of k7(u))(t||!Sd(Mc(u[_])))&&m.push([a(_),a(u[_])]);return y}case z0:return s([c,u.toISOString()],u);case U0:{const{source:m,flags:y}=u;return s([c,{source:m,flags:y}],u)}case B0:{const m=[],y=s([c,m],u);for(const[_,E]of u)(t||!(Sd(Mc(_))||Sd(Mc(E))))&&m.push([a(_),a(E)]);return y}case F0:{const m=[],y=s([c,m],u);for(const _ of u)(t||!Sd(Mc(_)))&&m.push(a(_));return y}}const{message:d}=u;return s([c,{name:h,message:d}],u)};return a},Lx=(t,{json:e,lossy:n}={})=>{const r=[];return D7(!(e||n),!!e,new Map,r)(t),r},_p=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Vx(Lx(t,e)):structuredClone(t):(t,e)=>Vx(Lx(t,e));function O7(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function M7(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function P7(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||O7,r=t.options.footnoteBackLabel||M7,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let h=-1;for(;++h<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[h]);if(!d)continue;const m=t.all(d),y=String(d.identifier).toUpperCase(),_=Cu(y.toLowerCase());let E=0;const T=[],C=t.footnoteCounts.get(y);for(;C!==void 0&&++E<=C;){T.length>0&&T.push({type:"text",value:" "});let j=typeof n=="string"?n:n(h,E);typeof j=="string"&&(j={type:"text",value:j}),T.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,E),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const N=m[m.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const j=N.children[N.children.length-1];j&&j.type==="text"?j.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...T)}else m.push(...T);const k={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(m,!0)};t.patch(d,k),c.push(k)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{..._p(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const rk=function(t){if(t==null)return U7;if(typeof t=="function")return Jp(t);if(typeof t=="object")return Array.isArray(t)?V7(t):L7(t);if(typeof t=="string")return z7(t);throw new Error("Expected function, string, or object as test")};function V7(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=rk(t[n]);return Jp(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function L7(t){const e=t;return Jp(n);function n(r){const s=r;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function z7(t){return Jp(e);function e(n){return n&&n.type===t}}function Jp(t){return e;function e(n,r,s){return!!(B7(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function U7(){return!0}function B7(t){return t!==null&&typeof t=="object"&&"type"in t}const ik=[],F7=!0,zx=!1,j7="skip";function H7(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const a=rk(s),u=r?-1:1;c(t,void 0,[])();function c(h,d,m){const y=h&&typeof h=="object"?h:{};if(typeof y.type=="string"){const E=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(h.type+(E?"<"+E+">":""))+")"})}return _;function _(){let E=ik,T,C,N;if((!e||a(h,d,m[m.length-1]||void 0))&&(E=q7(n(h,m)),E[0]===zx))return E;if("children"in h&&h.children){const k=h;if(k.children&&E[0]!==j7)for(C=(r?k.children.length:-1)+u,N=m.concat(k);C>-1&&C<k.children.length;){const j=k.children[C];if(T=c(j,C,N)(),T[0]===zx)return T;C=typeof T[1]=="number"?T[1]:C+u}}return E}}}function q7(t){return Array.isArray(t)?t:typeof t=="number"?[F7,t]:t==null?ik:[t]}function sk(t,e,n,r){let s,a,u;typeof e=="function"&&typeof n!="function"?(a=void 0,u=e,s=n):(a=e,u=n,s=r),H7(t,a,c,s);function c(h,d){const m=d[d.length-1],y=m?m.children.indexOf(h):void 0;return u(h,y,m)}}const n_={}.hasOwnProperty,$7={};function G7(t,e){const n=e||$7,r=new Map,s=new Map,a=new Map,u={...I7,...n.handlers},c={all:d,applyData:K7,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:u,one:h,options:n,patch:Y7,wrap:Q7};return sk(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const y=m.type==="definition"?r:s,_=String(m.identifier).toUpperCase();y.has(_)||y.set(_,m)}}),c;function h(m,y){const _=m.type,E=c.handlers[_];if(n_.call(c.handlers,_)&&E)return E(c,m,y);if(c.options.passThrough&&c.options.passThrough.includes(_)){if("children"in m){const{children:C,...N}=m,k=_p(N);return k.children=c.all(m),k}return _p(m)}return(c.options.unknownHandler||X7)(c,m,y)}function d(m){const y=[];if("children"in m){const _=m.children;let E=-1;for(;++E<_.length;){const T=c.one(_[E],m);if(T){if(E&&_[E-1].type==="break"&&(!Array.isArray(T)&&T.type==="text"&&(T.value=Ux(T.value)),!Array.isArray(T)&&T.type==="element")){const C=T.children[0];C&&C.type==="text"&&(C.value=Ux(C.value))}Array.isArray(T)?y.push(...T):y.push(T)}}}return y}}function Y7(t,e){t.position&&(e.position=Nj(t))}function K7(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&a&&Object.assign(n.properties,_p(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function X7(t,e){const n=e.data||{},r="value"in e&&!(n_.call(n,"hProperties")||n_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Q7(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Ux(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Bx(t,e){const n=G7(t,e),r=n.one(t,void 0),s=P7(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function W7(t,e){return t&&"run"in t?async function(n,r){const s=Bx(n,{file:r,...e});await t.run(s,r)}:function(n,r){return Bx(n,{file:r,...t||e})}}function Fx(t){if(t)throw t}var qy,jx;function Z7(){if(jx)return qy;jx=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!y)return!1;var _;for(_ in d);return typeof _>"u"||t.call(d,_)},u=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return qy=function h(){var d,m,y,_,E,T,C=arguments[0],N=1,k=arguments.length,j=!1;for(typeof C=="boolean"&&(j=C,C=arguments[1]||{},N=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});N<k;++N)if(d=arguments[N],d!=null)for(m in d)y=c(C,m),_=c(d,m),C!==_&&(j&&_&&(a(_)||(E=s(_)))?(E?(E=!1,T=y&&s(y)?y:[]):T=y&&a(y)?y:{},u(C,{name:m,newValue:h(j,T,_)})):typeof _<"u"&&u(C,{name:m,newValue:_}));return C},qy}var J7=Z7();const $y=Fa(J7);function r_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function eq(){const t=[],e={run:n,use:r};return e;function n(...s){let a=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...s);function c(h,...d){const m=t[++a];let y=-1;if(h){u(h);return}for(;++y<s.length;)(d[y]===null||d[y]===void 0)&&(d[y]=s[y]);s=d,m?tq(m,c)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function tq(t,e){let n;return r;function r(...u){const c=t.length>u.length;let h;c&&u.push(s);try{h=t.apply(this,u)}catch(d){const m=d;if(c&&n)throw m;return s(m)}c||(h&&h.then&&typeof h.then=="function"?h.then(a,s):h instanceof Error?s(h):a(h))}function s(u,...c){n||(n=!0,e(u,...c))}function a(u){s(null,u)}}const Ji={basename:nq,dirname:rq,extname:iq,join:sq,sep:"/"};function nq(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Ff(t);let n=0,r=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else u<0&&(a=!0,u=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function rq(t){if(Ff(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function iq(t){Ff(t);let e=t.length,n=-1,r=0,s=-1,a=0,u;for(;e--;){const c=t.codePointAt(e);if(c===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),c===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function sq(...t){let e=-1,n;for(;++e<t.length;)Ff(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":oq(n)}function oq(t){Ff(t);const e=t.codePointAt(0)===47;let n=aq(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function aq(t,e){let n="",r=0,s=-1,a=0,u=-1,c,h;for(;++u<=t.length;){if(u<t.length)c=t.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(s===u-1||a===1))if(s!==u-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),s=u,a=0;continue}}else if(n.length>0){n="",r=0,s=u,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,a=0}else c===46&&a>-1?a++:a=-1}return n}function Ff(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const lq={cwd:uq};function uq(){return"/"}function i_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function cq(t){if(typeof t=="string")t=new URL(t);else if(!i_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return fq(t)}function fq(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Gy=["history","path","basename","stem","extname","dirname"];class ok{constructor(e){let n;e?i_(e)?n={path:e}:typeof e=="string"||hq(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":lq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Gy.length;){const a=Gy[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)Gy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ji.basename(this.path):void 0}set basename(e){Ky(e,"basename"),Yy(e,"basename"),this.path=Ji.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ji.dirname(this.path):void 0}set dirname(e){Hx(this.basename,"dirname"),this.path=Ji.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ji.extname(this.path):void 0}set extname(e){if(Yy(e,"extname"),Hx(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ji.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){i_(e)&&(e=cq(e)),Ky(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ji.basename(this.path,this.extname):void 0}set stem(e){Ky(e,"stem"),Yy(e,"stem"),this.path=Ji.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new dr(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Yy(t,e){if(t&&t.includes(Ji.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ji.sep+"`")}function Ky(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Hx(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function hq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const dq=function(t){const r=this.constructor.prototype,s=r[t],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},pq={}.hasOwnProperty;class j0 extends dq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=eq()}copy(){const e=new j0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data($y(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Wy("data",this.frozen),this.namespace[e]=n,this):pq.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Wy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Td(e),r=this.parser||this.Parser;return Xy("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Xy("process",this.parser||this.Parser),Qy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,u){const c=Td(e),h=r.parse(c);r.run(h,c,function(m,y,_){if(m||!y||!_)return d(m);const E=y,T=r.stringify(E,_);yq(T)?_.value=T:_.result=T,d(m,_)});function d(m,y){m||!y?u(m):a?a(y):n(void 0,y)}}}processSync(e){let n=!1,r;return this.freeze(),Xy("processSync",this.parser||this.Parser),Qy("processSync",this.compiler||this.Compiler),this.process(e,s),$x("processSync","process",n),r;function s(a,u){n=!0,Fx(a),r=u}}run(e,n,r){qx(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(u,c){const h=Td(n);s.run(e,h,d);function d(m,y,_){const E=y||e;m?c(m):u?u(E):r(void 0,E,_)}}}runSync(e,n){let r=!1,s;return this.run(e,n,a),$x("runSync","run",r),s;function a(u,c){Fx(u),s=c,r=!0}}stringify(e,n){this.freeze();const r=Td(n),s=this.compiler||this.Compiler;return Qy("stringify",s),qx(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(Wy("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...y]=d;h(m,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=$y(!0,s.settings,d.settings))}function c(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const y=d[m];a(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,m){let y=-1,_=-1;for(;++y<r.length;)if(r[y][0]===d){_=y;break}if(_===-1)r.push([d,...m]);else if(m.length>0){let[E,...T]=m;const C=r[_][1];r_(C)&&r_(E)&&(E=$y(!0,C,E)),r[_]=[d,E,...T]}}}}const mq=new j0().freeze();function Xy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Qy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Wy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qx(t){if(!r_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function $x(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Td(t){return gq(t)?t:new ok(t)}function gq(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function yq(t){return typeof t=="string"||vq(t)}function vq(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const _q="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Gx=[],Yx={allowDangerousHtml:!0},Eq=/^(https?|ircs?|mailto|xmpp)$/i,wq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function bq(t){const e=Sq(t),n=Tq(t);return xq(e.runSync(e.parse(n),n),t)}function Sq(t){const e=t.rehypePlugins||Gx,n=t.remarkPlugins||Gx,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Yx}:Yx;return mq().use(n7).use(n).use(W7,r).use(e)}function Tq(t){const e=t.children||"",n=new ok;return typeof e=="string"&&(n.value=e),n}function xq(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,a=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,h=e.urlTransform||Aq;for(const m of wq)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+_q+m.id,void 0);return sk(t,d),Pj(t,{Fragment:te.Fragment,components:s,ignoreInvalidStyle:!0,jsx:te.jsx,jsxs:te.jsxs,passKeys:!0,passNode:!0});function d(m,y,_){if(m.type==="raw"&&_&&typeof y=="number")return u?_.children.splice(y,1):_.children[y]={type:"text",value:m.value},y;if(m.type==="element"){let E;for(E in Fy)if(Object.hasOwn(Fy,E)&&Object.hasOwn(m.properties,E)){const T=m.properties[E],C=Fy[E];(C===null||C.includes(m.tagName))&&(m.properties[E]=h(String(T||""),E,m))}}if(m.type==="element"){let E=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!E&&r&&typeof y=="number"&&(E=!r(m,y,_)),E&&_&&typeof y=="number")return c&&m.children?_.children.splice(y,1,...m.children):_.children.splice(y,1),y}}}function Aq(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||Eq.test(t.slice(0,e))?t:""}function Cq({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:a,isLoading:u,isCollapsed:c=!1,onToggleSidebar:h,mode:d="boards",onModeChange:m,explanation:y}){const[_,E]=V.useState(!1),[T,C]=V.useState(!1),N=async F=>{try{E(!0),await r(F),C(!1)}catch(K){console.error("Error in sidebar create board:",K)}finally{E(!1)}},k=()=>{C(!0)},j=()=>{C(!1)},q=(F,K)=>{F.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(K)};return te.jsxs(te.Fragment,{children:[te.jsxs("div",{className:"sidebar split-pane-sidebar",children:[te.jsx("div",{className:"sidebar-header",children:te.jsxs("div",{className:"sidebar-mode-switch",children:[te.jsx("button",{className:`mode-switch-btn ${d==="boards"?"active":""}`,onClick:()=>m&&m("boards"),children:" Boards"}),te.jsx("button",{className:`mode-switch-btn ${d==="explanation"?"active":""}`,onClick:()=>m&&m("explanation"),children:" Explanation"})]})}),te.jsx("div",{className:"sidebar-content",children:d==="boards"?te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"boards-section-header",children:te.jsx("button",{onClick:k,disabled:u||_,className:"new-board-btn",children:_?"Creating...":"+ New Board"})}),te.jsx("ul",{children:t?.map(F=>te.jsxs("li",{onClick:()=>!u&&n(F.id),className:e?.id===F.id?"active":"",children:[te.jsx("span",{className:"board-name",children:F.name}),te.jsxs("div",{className:"board-actions",children:[F.isOpen&&te.jsx("span",{className:"open-indicator",children:""}),t.length>1&&te.jsx("button",{className:"delete-btn",onClick:K=>q(K,F.id),title:"Delete board",children:""})]})]},F.id))}),u&&te.jsx("div",{className:"loading-indicator",children:"Loading boards..."}),te.jsx("div",{className:"sidebar-footer",children:te.jsx("button",{onClick:a,children:"Sign Out"})})]}):te.jsx("div",{className:"explanation-content",children:y?te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"explanation-header",children:te.jsx("h3",{children:y.title})}),te.jsx("div",{className:"explanation-text",children:te.jsx(bq,{children:y.text})})]}):te.jsx("div",{className:"explanation-placeholder",children:te.jsx("p",{children:"Click on a node's explanation button () to view its detailed information here."})})})})]}),te.jsx(oj,{show:T,onHide:j,onConfirm:N,isCreating:_})]})}function Iq({name:t,onSetName:e,user:n,isSaving:r,sidebarCollapsed:s=!1}){const[a,u]=V.useState(!1),[c,h]=V.useState(t||"");V.useEffect(()=>{h(t||"")},[t]);const d=y=>{y.key==="Enter"&&(e(c),u(!1))},m=()=>{u(!0),h(t||"")};return te.jsx(te.Fragment,{children:te.jsx("div",{className:`name ${s?"sidebar-collapsed":""}`,children:te.jsx("div",{className:"app-container",children:te.jsxs("header",{className:"app-header",children:[te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[te.jsx("h1",{children:"Launch Flow"}),te.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:""}),a?te.jsx("input",{type:"text",value:c,onChange:y=>h(y.target.value),onKeyDown:d,onBlur:()=>{e(c),u(!1)},style:{background:"#2a2a2a",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",padding:"4px 8px",color:"#f1f5f9",fontSize:"14px",minWidth:"120px"},autoFocus:!0}):te.jsx("button",{onClick:m,style:{background:"none",border:"none",color:"#94a3b8",fontSize:"14px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"all 0.15s ease"},onMouseEnter:y=>{y.currentTarget.style.background="rgba(255, 255, 255, 0.05)",y.currentTarget.style.color="#f1f5f9"},onMouseLeave:y=>{y.currentTarget.style.background="none",y.currentTarget.style.color="#94a3b8"},children:t||"Untitled Board"})]}),te.jsxs("div",{className:"user-info",children:[te.jsx("p",{children:n?.isAnonymous?"Guest":n?.email?.split("@")[0]||"User"}),r&&te.jsx("span",{className:"save-indicator",children:" Saving"})]})]})})})})}const Rq=({notification:t,onRemove:e})=>{const n=r=>{switch(r){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return te.jsxs("div",{className:`notification notification-${t.type}`,children:[te.jsxs("div",{className:"notification-content",children:[te.jsx("span",{className:"notification-icon",children:n(t.type)}),te.jsx("span",{className:"notification-message",children:t.message})]}),te.jsx("button",{className:"notification-close",onClick:()=>e(t.id),children:""})]})},Nq=({notifications:t,onRemove:e})=>t.length===0?null:te.jsx("div",{className:"notifications-container",children:t.map(n=>te.jsx(Rq,{notification:n,onRemove:e},n.id))}),kq=async()=>{try{await y5(pp),console.log("User signed out successfully")}catch(t){throw console.error("Error signing out:",t),t}},Kx=async t=>{try{const e=await fetch(`https://groqchat-zm2y2mo6eq-uc.a.run.app?message=${encodeURIComponent(t)}`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();return console.log(n),n}catch(e){throw console.error("Fetch error:",e),e}},Dq=async(t,e)=>{try{const n=`You are an expert educator. Explain the following concept clearly and comprehensively. 

        Context: ${e}

        Instructions:
        - Provide a detailed explanation suitable for learning
        - Mark ALL key concepts with curly-braces tags like {concept} (e.g., {algorithm}, {variable})
        - Use examples where appropriate
        - Structure your response logically
        - CRITICAL: Every important concept MUST be put in currly braces like {concept} (e.g., {algorithm}, {variable})
        - Do not include any meta-commentary, introductions, or conclusions
        - Only provide the educational content requested
        - Start directly with the explanation

        Concept to explain: `,r=`Create a concise summary of the following explanation in exactly 40 words or less.

        CRITICAL REQUIREMENTS:
        - Preserve ALL concepts marked with curly-braces exactly as {concept}
        - EVERY key concept MUST be put in currly braces like {concept} (e.g., {algorithm}, {variable})
        - Do not add any introductory text like "Here is a summary" or "The summary is"
        - Do not add any concluding remarks
        - Start directly with the summary content
        - Use simple language
        - Maintain technical accuracy
        - Do not use bullet points, lists, or any formatting except curly-braces tags
        - Respond ONLY with the summary text

        Text to summarize: `,s=await Kx(n+t),a=await Kx(r+s.response);return{firstResponse:{...s,response:s.response?.replace(/\{/g,"_").replace(/\}/g,"_")},secondResponse:{...a,response:a.response?.replace(/\{/g,"_").replace(/\}/g,"_")}}}catch(n){throw console.error("Error in askAITwice:",n),n}},Oq=()=>{const[t,e]=V.useState(null);return V.useEffect(()=>{const r=g5(pp,s=>{e(s),s?console.log("User signed in:",s.uid):console.log("No user signed in")});return()=>r()},[]),{user:t,signOut:async()=>{try{await kq(),e(null)}catch(r){console.error("Error in sign out:",r)}}}},ak=t=>!!(t&&t.uid),ef=[{id:"1",type:"staticEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",tokenColors:{},previousNode:null},position:{x:250,y:25},draggable:!1}],iu=[],Mq=async t=>{if(!ak({uid:t}))throw new Error(xr.AUTH_REQUIRED);try{const e=Q_(Vi,ti.BOARDS),n=sU(e,oU("userId","==",t),aU("createdAt","desc")),r=await l0(n);if(r.empty){const a={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:Jt.now(),isOpen:!0};return await u0(Su(Vi,ti.BOARDS,a.id),a),console.log("Created default board:",a),[a]}const s=r.docs.map(a=>({id:a.id,...a.data()}));return console.log("Fetched all boards:",s),s}catch(e){if(console.error("Fetch all boards error:",e),e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:Jt.now(),isOpen:!0,isFallback:!0}]}throw new Error(xr.LOAD_FAILED)}},Xx=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),ef;try{const e=Q_(Vi,ti.BOARDS,t,ti.NODES),n=await l0(e);if(n.empty)return console.log("No nodes found for board, using initial nodes"),ef;const r=n.docs.map(s=>{const a=s.data(),u={...a.data,tokenColors:a.data?.tokenColors||{},previousNode:a.data?.previousNode||null};return{id:s.id,type:a.type,position:a.position,data:u,draggable:a.draggable,style:a.style}});return console.log("Fetched nodes from board:",r),r}catch(e){return console.error("Fetch nodes error:",e),ef}},Qx=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),iu;try{const e=Q_(Vi,ti.BOARDS,t,ti.EDGES),n=await l0(e);if(n.empty)return console.log("No edges found for board, using initial edges"),iu;const r=n.docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched edges from board:",r),r}catch(e){return console.error("Fetch edges error:",e),iu}},Pq=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving nodes:",{boardId:t,nodesCount:e?.length});return}try{const n=_R(Vi);e.forEach(r=>{const s=Su(Vi,ti.BOARDS,t,ti.NODES,r.id),a={type:r.type,data:r.data,position:r.position,updatedAt:Jt.now()};r.draggable!=null&&(a.draggable=r.draggable),r.style!=null&&(a.style=r.style),n.set(s,a)}),await n.commit(),console.log("Nodes saved to board")}catch(n){throw console.error("Save nodes error:",n),new Error(xr.SAVE_FAILED)}},Vq=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving edges:",{boardId:t,edgesCount:e?.length});return}try{const n=_R(Vi);e.forEach(r=>{const s=Su(Vi,ti.BOARDS,t,ti.EDGES,r.id),a={source:r.source,target:r.target,updatedAt:Jt.now()};r.sourceHandle!=null&&(a.sourceHandle=r.sourceHandle),r.targetHandle!=null&&(a.targetHandle=r.targetHandle),r.style!=null&&(a.style=r.style),r.markerEnd!=null&&(a.markerEnd=r.markerEnd),n.set(s,a)}),await n.commit(),console.log("Edges saved to board")}catch(n){throw console.error("Save edges error:",n),new Error(xr.SAVE_FAILED)}},Lq=async(t,e,n)=>{if(!ak({uid:t}))throw new Error(xr.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:Jt.now(),isOpen:!1};return console.log("Creating board:",r),await u0(Su(Vi,ti.BOARDS,r.id),r),console.log("Board created successfully:",r),r}catch(r){throw console.error("Error creating new board:",r),r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},zq=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await dU(Su(Vi,ti.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},Bl=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:Jt.now()};await u0(Su(Vi,ti.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},Uq=(t,e={})=>{const[n,r,s]=C4([]),[a,u,c]=I4([]),[h,d]=V.useState(!0),[m,y]=V.useState(!1),[_,E]=V.useState(!1),[T,C]=V.useState([]),[N,k]=V.useState(null),j=V.useRef(null),{showSuccess:q,showError:F,showInfo:K}=e,$=A=>{const O=A.find(G=>G.isOpen===!0);if(O)return O;if(A.length>0){const G={...A[0],isOpen:!0};return Bl(G.id,G).catch(console.error),G}return null};V.useEffect(()=>{(async()=>{if(t)try{d(!0);const O=await Mq(t.uid);C(O);const G=O.some(J=>J.isFallback);G&&F&&F("Database index missing. Please create the required Firestore index. Check console for details.");const z=$(O);if(!z){console.error("No board found for user"),F&&F("No boards found. Creating a default board..."),r(ef),u(iu);return}k(z);const[Y,Z]=await Promise.all([Xx(z.id),Qx(z.id)]);r(Y),u(Z),K&&!G&&K("Board loaded successfully!")}catch(O){console.error("Error loading initial data:",O),F&&F("Failed to load board data. Using default board."),r(ef),u(iu)}finally{d(!1)}})()},[t,r,u]);const R=V.useCallback(async(A,O,G)=>{j.current&&clearTimeout(j.current);const z=setTimeout(async()=>{try{E(!0);const Y=[];O&&O.length>0&&Y.push(Pq(A,O)),G&&G.length>0&&Y.push(Vq(A,G)),Y.length>0&&(await Promise.all(Y),console.log("Auto-save completed successfully"))}catch(Y){console.error("Auto-save failed:",Y),F&&F("Failed to save changes automatically")}finally{E(!1),j.current=null}},1e3);j.current=z},[F]);V.useEffect(()=>(!h&&N&&!m&&!N.isFallback&&R(N.id,n,a),()=>{j.current&&clearTimeout(j.current)}),[n,a,h,N,m]);const I=V.useCallback(async A=>{try{if(N?.id===A)return;if(N?.isFallback||T.find(G=>G.id===A)?.isFallback){F&&F("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(y(!0),N&&!N.isFallback){const G={...N,isOpen:!1};await Bl(N.id,G),C(z=>z.map(Y=>Y.id===N.id?G:Y))}const O=T.find(G=>G.id===A);if(O){const G={...O,isOpen:!0};await Bl(A,G),k(G),C(Z=>Z.map(J=>J.id===A?G:J));const[z,Y]=await Promise.all([Xx(A),Qx(A)]);r(z),u(Y),q&&q(`Switched to "${G.name}"`)}else console.error("Board not found:",A),F&&F("Board not found")}catch(O){console.error("Error switching board:",O),F&&F("Failed to switch board. Please try again.")}finally{y(!1)}},[N,T,r,u,q,F]),D=V.useCallback(async A=>{try{if(!t)return F&&F("You must be logged in to create a board"),null;K&&K("Creating new board...");const O=await Lq(t.uid,A||null,T);if(O){if(N&&!N.isFallback){const z={...N,isOpen:!1};Bl(N.id,z).catch(console.error)}const G={...O,isOpen:!0};return C(z=>{const Y=z.map(Z=>Z.id===N?.id?{...Z,isOpen:!1}:Z);return[G,...Y]}),k(G),Bl(O.id,G).catch(console.error),r([{id:"1",type:"staticEditable",data:{label:A||"New Board"},position:{x:250,y:25},draggable:!1}]),u(iu),q&&q(`Board "${O.name}" created and opened!`),G}else return F&&F("Failed to create board. Please try again."),null}catch(O){return F&&F(`Failed to create board: ${O.message}`),null}},[t,T,N,q,F,K,r,u]),P=V.useCallback(async A=>{try{if(T.length<=1){F&&F("Cannot delete the last board!");return}if(!T.find(G=>G.id===A)){console.error("Board not found for deletion"),F&&F("Board not found");return}if(K&&K("Deleting board..."),N?.id===A){const G=T.find(z=>z.id!==A);G&&await I(G.id)}await zq(A),C(G=>G.filter(z=>z.id!==A)),q&&q("Board deleted successfully!")}catch(O){console.error("Error deleting board:",O),F&&F("Failed to delete board. Please try again.")}},[T,N,I,q,F,K]),U=V.useCallback(async A=>{if(N&&N.name!==A){const O={...N,name:A};k(O),C(G=>G.map(z=>z.id===N.id?O:z));try{await Bl(N.id,O),console.log("Board name updated successfully")}catch(G){console.error("Error updating board name:",G)}}},[N]),L=V.useCallback(()=>{j.current&&(clearTimeout(j.current),j.current=null),C([]),k(null),r([]),u([]),d(!0),y(!1),E(!1)},[r,u,j]);return{nodes:n,edges:a,allBoards:T,currentBoard:N,isLoading:h,isSwitchingBoard:m,isSaving:_,onNodesChange:s,onEdgesChange:c,setNodes:r,switchToBoard:I,createNewBoard:D,deleteBoard:P,updateBoardName:U,clearBoardState:L}},Bq=({allBoards:t,currentBoard:e,createNewBoard:n,switchToBoard:r})=>{V.useEffect(()=>{const s=a=>{if((a.ctrlKey||a.metaKey)&&a.key==="n"&&(a.preventDefault(),n()),(a.ctrlKey||a.metaKey)&&a.key>="1"&&a.key<="9"){a.preventDefault();const u=parseInt(a.key)-1;t[u]&&t[u].id!==e?.id&&r(t[u].id)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e,n,r])},Fq=()=>{const[t,e]=V.useState([]),n=V.useCallback(d=>{const m=Date.now().toString(),y={id:m,timestamp:new Date,...d};return e(_=>[..._,y]),d.autoRemove!==!1&&setTimeout(()=>{r(m)},d.duration||5e3),m},[]),r=V.useCallback(d=>{e(m=>m.filter(y=>y.id!==d))},[]),s=V.useCallback(()=>{e([])},[]),a=V.useCallback((d,m={})=>n({type:"success",message:d,...m}),[n]),u=V.useCallback((d,m={})=>n({type:"error",message:d,duration:7e3,...m}),[n]),c=V.useCallback((d,m={})=>n({type:"info",message:d,...m}),[n]),h=V.useCallback((d,m={})=>n({type:"warning",message:d,duration:6e3,...m}),[n]);return{notifications:t,addNotification:n,removeNotification:r,clearAllNotifications:s,showSuccess:a,showError:u,showInfo:c,showWarning:h}},lk=t=>{const e=[],n=t.split("_");for(let r=0;r<n.length;r++)if(r%2===0)n[r].split(/\s+/).filter(a=>a.trim()!=="").forEach(a=>{e.push({word:a.trim()})});else{const s=n[r].trim();s.split(/\s+/).filter(u=>u.trim()!=="").forEach(u=>{e.push({word:u.trim(),myConcept:s})})}return e},Wx=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return t[Math.floor(Math.random()*t.length)]},jq=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16),a=30,u=Math.min(255,Math.max(0,n+(Math.random()-.5)*a*2)),c=Math.min(255,Math.max(0,r+(Math.random()-.5)*a*2)),h=Math.min(255,Math.max(0,s+(Math.random()-.5)*a*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(c).toString(16).padStart(2,"0")}${Math.round(h).toString(16).padStart(2,"0")}`},Hq=(t,e)=>{const s=[0,45,90,135,180,225,270,315];for(const u of s){const c=u*Math.PI/180,h=t.x+Math.cos(c)*200,d=t.y+Math.sin(c)*200;if(!e.some(y=>Math.sqrt(Math.pow(y.position.x-h,2)+Math.pow(y.position.y-d,2))<150))return{x:h,y:d}}const a=Math.random()*2*Math.PI;return{x:t.x+Math.cos(a)*(200+Math.random()*100),y:t.y+Math.sin(a)*(200+Math.random()*100)}},qq=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,$q=(t,e)=>`edge_${t}_${e}`,Gq=(t,e,n,r,s,a,u)=>({id:qq(),type:"draggableEditable",position:t,draggable:!0,data:{label:e,summary:r,full_text:n,myColor:s,tokenColors:{},previousNode:u}}),Yq=(t,e,n)=>({id:$q(t,e),source:t,target:e,sourceHandle:null,targetHandle:null,style:{stroke:n,strokeWidth:3},markerEnd:{type:lf.ArrowClosed,color:n}}),uk=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16);return(.299*n+.587*r+.114*s)/255>.5?"#000000":"#FFFFFF"},ck=(t,e)=>{const n=t.replace("#",""),r=parseInt(n.substr(0,2),16),s=parseInt(n.substr(2,2),16),a=parseInt(n.substr(4,2),16),u=Math.max(0,Math.floor(r*(1-e/100))),c=Math.max(0,Math.floor(s*(1-e/100))),h=Math.max(0,Math.floor(a*(1-e/100)));return`#${u.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}`},fk=V.createContext(null),Kq=({children:t,nodes:e,onNodesChange:n,onEdgesChange:r,setNodes:s,showExplanation:a})=>{const u=V.useCallback((c,h,d,m,y,_)=>{const E=e.find(K=>K.id===h);if(!E)return null;const T=E.data.tokenColors||{},C=c.myConcept||c.word;if(T[C])return console.log(`Token "${C}" is already colored, ignoring click`),null;let N;m==="staticEditable"?N=Wx():N=y?jq(y):Wx();const k={...T};c.myConcept?k[c.myConcept]=N:k[c.word]=N,s(K=>K.map($=>$.id===h?{...$,data:{...$.data,tokenColors:k}}:$));const j=Hq(d,e),q=Gq(j,"Loading...","Loading...","Loading...",N,m,h);q.data.isLoading=!0;const F=Yq(h,q.id,N);return n([{type:"add",item:q}]),r([{type:"add",item:F}]),Dq(c.word,_||"").then(K=>{const $=K.firstResponse?.response||c.word,R=K.secondResponse?.response||c.word;s(I=>I.map(D=>D.id===q.id?{...D,data:{...D.data,label:R,summary:R,full_text:$,isLoading:!1}}:D))}).catch(()=>{s(K=>K.map($=>$.id===q.id?{...$,data:{...$.data,label:c.word,summary:c.word,full_text:c.word,isLoading:!1}}:$))}),N},[e,n,r,s]);return te.jsx(fk.Provider,{value:{handleTokenClick:u,setNodes:s,showExplanation:a},children:t})},hk=()=>{const t=V.useContext(fk);if(!t)throw new Error("useTokenInteraction must be used within a TokenInteractionProvider");return t},dk=({size:t="medium",color:e="#4f86f7"})=>te.jsx("div",{className:`loading-spinner ${t}`,children:te.jsx("div",{className:"spinner-ring",style:{borderTopColor:e}})});function Xq({data:t,id:e}){const[n,r]=V.useState(!1),[s,a]=V.useState(t.summary||t.label||"Static Node"),[u,c]=V.useState(!1),{handleTokenClick:h,showExplanation:d}=hk(),{getNode:m,setViewport:y}=xf();V.useEffect(()=>{n||a(t.summary||t.label||"Static Node")},[t.summary,t.label,n]);const _=V.useMemo(()=>lk(s),[s]),E=V.useCallback((I,D)=>{D.stopPropagation(),console.log("Static Token clicked:",I),h(I,e,{x:0,y:0},"staticEditable",t.myColor,t.summary||t.label||"Draggable Node")},[e,h,t.myColor]),T=V.useCallback(I=>{I.stopPropagation(),r(!0)},[]),C=V.useCallback(()=>{r(!1)},[]),N=V.useCallback(I=>{I.stopPropagation()},[]),k=V.useCallback(I=>{I.stopPropagation(),I.key==="Enter"&&C(),I.key==="Escape"&&(a(t.summary||t.label||"Static Node"),r(!1))},[C,t.summary,t.label]),j=V.useCallback(I=>{I.stopPropagation(),c(!u)},[u]),q=V.useCallback(I=>{I.stopPropagation(),d&&d(s,t.full_text||"No detailed information available.")},[d,s,t.full_text]),F=V.useCallback(I=>{if(I.stopPropagation(),t.previousNode){const D=m(t.previousNode);if(D){const{x:P,y:U}=D.position;y({x:-P+200,y:-U+100,zoom:1},{duration:500})}}},[t.previousNode,m,y]),K=V.useMemo(()=>{const I=t.tokenColors||{};return _.map((D,P)=>{const U=D.myConcept||D.word,L=I[U],A=!L;return te.jsxs("span",{className:`word-token ${A?"":"disabled"} ${D.myConcept?"concept-highlight":""}`,style:{backgroundColor:L||"transparent",color:L?t.myColor||"#ffffff":"inherit",border:L?`1px solid ${L}`:""},onClick:O=>A?E(D,O):O.stopPropagation(),children:[D.word,P<_.length-1?" ":""]},P)})},[_,E,t.tokenColors,t.myColor]),$=V.useMemo(()=>te.jsxs("div",{className:"node-buttons",children:[t.previousNode&&te.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:F,title:"Go to previous node",children:""}),_.length>5&&te.jsx("button",{className:"node-expand-btn",onClick:j,title:u?"Show less":"Show more",children:u?"":"+"}),te.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:q,title:"Show full text",children:""})]}),[_.length,j,u,q,t.previousNode,F]),R=V.useMemo(()=>t.isLoading?te.jsxs("div",{className:"node-loading-content",children:[te.jsx(dk,{size:"small",color:t.myColor||"#4f86f7"}),te.jsx("span",{className:"loading-text",children:"Loading concept..."})]}):n?te.jsx("input",{type:"text",value:s,onChange:I=>a(I.target.value),onBlur:C,onKeyDown:k,onClick:N,className:"node-input nodrag",autoFocus:!0}):te.jsxs("div",{className:"node-content-word",children:[te.jsxs("div",{onClick:T,children:[K,_.length>5&&!u&&te.jsx("span",{className:"token-truncation",children:"..."})]}),$]}),[n,s,u,_.length,T,C,k,N,K,$]);return te.jsxs("div",{className:"static-editable-node nodrag",style:{backgroundColor:t.myColor,color:t.myColor?uk(t.myColor):"",border:t.myColor?`2px solid ${ck(t.myColor,20)}`:""},children:[te.jsx("div",{className:"node-content",children:R}),te.jsx(Bo,{type:"source",position:Ve.Bottom,id:"bottom-source"}),te.jsx(Bo,{type:"target",position:Ve.Bottom,id:"bottom-target"})]})}function Qq({data:t,id:e}){const[n,r]=V.useState(!1),[s,a]=V.useState(t.summary||t.label||"Draggable Node"),[u,c]=V.useState(t.expanded||!1),{getNodes:h,getNode:d,setViewport:m}=xf(),{handleTokenClick:y,showExplanation:_}=hk();V.useEffect(()=>{n||a(t.summary||t.label||"Draggable Node")},[t.summary,t.label,n]);const E=V.useMemo(()=>lk(s),[s]),T=V.useMemo(()=>u||E.length<=5?E:E.slice(0,5),[E,u]),C=V.useCallback(()=>!0,[]),N=V.useCallback((P,U)=>{U.stopPropagation();const A=h().find(G=>G.id===e);return A?y(P,e,A.position,A.type||"draggableEditable",t.myColor,t.summary||t.label||"Draggable Node"):void 0},[e,h,y,t.myColor]),k=V.useCallback(P=>{P.stopPropagation(),r(!0)},[]),j=V.useCallback(()=>{r(!1)},[]),q=V.useCallback(P=>{P.stopPropagation()},[]),F=V.useCallback(P=>{P.stopPropagation(),P.key==="Enter"&&j(),P.key==="Escape"&&(a(t.summary||t.label||"Draggable Node"),r(!1))},[j,t.summary,t.label]),K=V.useCallback(P=>{P.stopPropagation(),c(!u),!u&&t.onExpand&&t.onExpand()},[u,t.onExpand]),$=V.useCallback(P=>{P.stopPropagation(),_&&_(s,t.full_text||"No detailed information available.")},[_,s,t.full_text]),R=V.useCallback(P=>{if(P.stopPropagation(),t.previousNode){const U=d(t.previousNode);if(U){const{x:L,y:A}=U.position;m({x:-L+200,y:-A+100,zoom:1},{duration:500})}}},[t.previousNode,d,m]),I=V.useMemo(()=>{const P={};return T.forEach(U=>{const L=U.myConcept||U.word;P[L]||(P[L]=[]),P[L].push(U)}),P},[T]),D=V.useMemo(()=>t.isLoading?te.jsxs("div",{className:"node-loading-content",children:[te.jsx(dk,{size:"small",color:t.myColor||"#4f86f7"}),te.jsx("span",{className:"loading-text",children:"Loading concept..."})]}):n?te.jsx("input",{type:"text",value:s,onChange:P=>a(P.target.value),onBlur:j,onKeyDown:F,onClick:q,className:"node-input nodrag",autoFocus:!0}):te.jsxs("div",{className:"node-content-word",children:[te.jsxs("div",{onClick:k,children:[T.map((P,U)=>{const L=t.tokenColors||{},A=P.myConcept||P.word,O=L[A],G=C()&&!O;return te.jsxs("span",{className:`word-token ${G?"":"disabled"} ${P.myConcept?"concept-highlight":""}`,style:{backgroundColor:O||"transparent",color:O?t.myColor||"#ffffff":"inherit",border:O?`1px solid ${O}`:""},onClick:z=>G?N(P,z):z.stopPropagation(),children:[P.word,U<T.length-1?" ":""]},U)}),E.length>5&&!u&&te.jsx("span",{className:"token-truncation",children:"..."})]}),te.jsxs("div",{className:"node-buttons",children:[t.previousNode&&te.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:R,title:"Go to previous node",children:""}),E.length>5&&te.jsx("button",{className:"node-expand-btn",onClick:K,title:u?"Show less":"Show more",children:u?"":"+"}),te.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:$,title:"Show full text",children:""})]})]}),[n,s,T,E,u,I,k,j,F,q,K,$,N,C,t.previousNode,R,t.tokenColors,t.myColor,t.isLoading]);return te.jsxs("div",{className:"draggable-editable-node",style:{background:t.myColor,color:t.myColor?uk(t.myColor):"",border:t.myColor?`2px solid ${ck(t.myColor,20)}`:""},children:[te.jsx("div",{className:"node-content",children:D}),te.jsx(Bo,{type:"source",position:Ve.Bottom,id:"bottom-source"}),te.jsx(Bo,{type:"target",position:Ve.Bottom,id:"bottom-target"})]})}const Wq={staticEditable:Xq,draggableEditable:Qq};function Zq(){const[t,e]=V.useState("boards"),[n,r]=V.useState(null),{user:s,signOut:a}=Oq(),{notifications:u,removeNotification:c,showSuccess:h,showError:d,showInfo:m}=Fq(),{nodes:y,edges:_,allBoards:E,currentBoard:T,isSwitchingBoard:C,isSaving:N,onNodesChange:k,onEdgesChange:j,setNodes:q,switchToBoard:F,createNewBoard:K,deleteBoard:$,updateBoardName:R,clearBoardState:I}=Uq(s,{showSuccess:h,showError:d,showInfo:m});Bq({allBoards:E,currentBoard:T,createNewBoard:K,switchToBoard:F});const D=async()=>{await a(),I()},P=V.useCallback((A,O)=>{r({title:A,text:O}),e("explanation")},[]),U=V.useCallback(A=>{e(A)},[]),L=V.useCallback(A=>{const O={id:`e${A.source}-${A.target}`,source:A.source,target:A.target,sourceHandle:A.sourceHandle,targetHandle:A.targetHandle};j([{type:"add",item:O}])},[j]);return s?te.jsxs("div",{className:"app-layout",children:[te.jsx(Nq,{notifications:u,onRemove:c}),te.jsxs(yy,{defaultSizes:[420,1e3],minSize:240,maxSize:860,children:[te.jsx(yy.Pane,{minSize:240,maxSize:860,children:te.jsx("div",{className:"sidebar-pane",children:te.jsx(Cq,{allBoards:E,currentBoard:T,onSwitchBoard:F,onCreateBoard:async A=>{await K(A)},onDeleteBoard:$,onSignOut:D,isLoading:C,isCollapsed:!1,onToggleSidebar:()=>{},mode:t,onModeChange:U,explanation:n})})}),te.jsx(yy.Pane,{children:te.jsxs("div",{className:"main-content-pane",children:[te.jsx(Iq,{name:T?.name||"Loading...",onSetName:R,user:s,isSaving:N,sidebarCollapsed:!1}),te.jsx("div",{className:"reactflow-container",children:te.jsx(Kq,{nodes:y,onNodesChange:k,onEdgesChange:j,setNodes:q,showExplanation:P,children:te.jsxs(yC,{nodes:y,edges:_,onNodesChange:k,onEdgesChange:j,onConnect:L,nodeTypes:Wq,connectionMode:Uo.Loose,fitView:!0,children:[te.jsx(P4,{}),te.jsx(F4,{variant:bi.Cross,gap:30,size:10,lineWidth:.5,color:"#616161"})]})})})]})})]})]}):te.jsx(kB,{})}function Jq(){return te.jsx(Zq,{})}const pk=document.getElementById("root");if(!pk)throw new Error("Failed to find the root element");Y2.createRoot(pk).render(te.jsx(V.StrictMode,{children:te.jsx(Jq,{})}));
