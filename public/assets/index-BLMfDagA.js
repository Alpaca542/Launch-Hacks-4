(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function h0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yg={exports:{}},Qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function xO(){if(Zv)return Qc;Zv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Qc.Fragment=e,Qc.jsx=n,Qc.jsxs=n,Qc}var Jv;function wO(){return Jv||(Jv=1,Yg.exports=xO()),Yg.exports}var $=wO(),Gg={exports:{}},at={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function IO(){if(eS)return at;eS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function P(A,ee,ae){this.props=A,this.context=ee,this.refs=R,this.updater=ae||T}P.prototype.isReactComponent={},P.prototype.setState=function(A,ee){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,ee,"setState")},P.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function w(){}w.prototype=P.prototype;function N(A,ee,ae){this.props=A,this.context=ee,this.refs=R,this.updater=ae||T}var M=N.prototype=new w;M.constructor=N,C(M,P.prototype),M.isPureReactComponent=!0;var L=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function S(A,ee,ae,z,ge,Ce){return ae=Ce.ref,{$$typeof:t,type:A,key:ee,ref:ae!==void 0?ae:null,props:Ce}}function x(A,ee){return S(A.type,ee,void 0,void 0,void 0,A.props)}function O(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function H(A){var ee={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ae){return ee[ae]})}var V=/\/+/g;function F(A,ee){return typeof A=="object"&&A!==null&&A.key!=null?H(""+A.key):ee.toString(36)}function k(){}function U(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(k,k):(A.status="pending",A.then(function(ee){A.status==="pending"&&(A.status="fulfilled",A.value=ee)},function(ee){A.status==="pending"&&(A.status="rejected",A.reason=ee)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function K(A,ee,ae,z,ge){var Ce=typeof A;(Ce==="undefined"||Ce==="boolean")&&(A=null);var we=!1;if(A===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(A.$$typeof){case t:case e:we=!0;break;case p:return we=A._init,K(we(A._payload),ee,ae,z,ge)}}if(we)return ge=ge(A),we=z===""?"."+F(A,0):z,L(ge)?(ae="",we!=null&&(ae=we.replace(V,"$&/")+"/"),K(ge,ee,ae,"",function(Le){return Le})):ge!=null&&(O(ge)&&(ge=x(ge,ae+(ge.key==null||A&&A.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+we)),ee.push(ge)),1;we=0;var Fe=z===""?".":z+":";if(L(A))for(var xe=0;xe<A.length;xe++)z=A[xe],Ce=Fe+F(z,xe),we+=K(z,ee,ae,Ce,ge);else if(xe=b(A),typeof xe=="function")for(A=xe.call(A),xe=0;!(z=A.next()).done;)z=z.value,Ce=Fe+F(z,xe++),we+=K(z,ee,ae,Ce,ge);else if(Ce==="object"){if(typeof A.then=="function")return K(U(A),ee,ae,z,ge);throw ee=String(A),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return we}function j(A,ee,ae){if(A==null)return A;var z=[],ge=0;return K(A,z,"","",function(Ce){return ee.call(ae,Ce,ge++)}),z}function W(A){if(A._status===-1){var ee=A._result;ee=ee(),ee.then(function(ae){(A._status===0||A._status===-1)&&(A._status=1,A._result=ae)},function(ae){(A._status===0||A._status===-1)&&(A._status=2,A._result=ae)}),A._status===-1&&(A._status=0,A._result=ee)}if(A._status===1)return A._result.default;throw A._result}var ie=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ne(){}return at.Children={map:j,forEach:function(A,ee,ae){j(A,function(){ee.apply(this,arguments)},ae)},count:function(A){var ee=0;return j(A,function(){ee++}),ee},toArray:function(A){return j(A,function(ee){return ee})||[]},only:function(A){if(!O(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},at.Component=P,at.Fragment=n,at.Profiler=s,at.PureComponent=N,at.StrictMode=r,at.Suspense=f,at.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,at.__COMPILER_RUNTIME={__proto__:null,c:function(A){return q.H.useMemoCache(A)}},at.cache=function(A){return function(){return A.apply(null,arguments)}},at.cloneElement=function(A,ee,ae){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var z=C({},A.props),ge=A.key,Ce=void 0;if(ee!=null)for(we in ee.ref!==void 0&&(Ce=void 0),ee.key!==void 0&&(ge=""+ee.key),ee)!B.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(z[we]=ee[we]);var we=arguments.length-2;if(we===1)z.children=ae;else if(1<we){for(var Fe=Array(we),xe=0;xe<we;xe++)Fe[xe]=arguments[xe+2];z.children=Fe}return S(A.type,ge,void 0,void 0,Ce,z)},at.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},at.createElement=function(A,ee,ae){var z,ge={},Ce=null;if(ee!=null)for(z in ee.key!==void 0&&(Ce=""+ee.key),ee)B.call(ee,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(ge[z]=ee[z]);var we=arguments.length-2;if(we===1)ge.children=ae;else if(1<we){for(var Fe=Array(we),xe=0;xe<we;xe++)Fe[xe]=arguments[xe+2];ge.children=Fe}if(A&&A.defaultProps)for(z in we=A.defaultProps,we)ge[z]===void 0&&(ge[z]=we[z]);return S(A,Ce,void 0,void 0,null,ge)},at.createRef=function(){return{current:null}},at.forwardRef=function(A){return{$$typeof:c,render:A}},at.isValidElement=O,at.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:W}},at.memo=function(A,ee){return{$$typeof:d,type:A,compare:ee===void 0?null:ee}},at.startTransition=function(A){var ee=q.T,ae={};q.T=ae;try{var z=A(),ge=q.S;ge!==null&&ge(ae,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ne,ie)}catch(Ce){ie(Ce)}finally{q.T=ee}},at.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},at.use=function(A){return q.H.use(A)},at.useActionState=function(A,ee,ae){return q.H.useActionState(A,ee,ae)},at.useCallback=function(A,ee){return q.H.useCallback(A,ee)},at.useContext=function(A){return q.H.useContext(A)},at.useDebugValue=function(){},at.useDeferredValue=function(A,ee){return q.H.useDeferredValue(A,ee)},at.useEffect=function(A,ee,ae){var z=q.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(A,ee)},at.useId=function(){return q.H.useId()},at.useImperativeHandle=function(A,ee,ae){return q.H.useImperativeHandle(A,ee,ae)},at.useInsertionEffect=function(A,ee){return q.H.useInsertionEffect(A,ee)},at.useLayoutEffect=function(A,ee){return q.H.useLayoutEffect(A,ee)},at.useMemo=function(A,ee){return q.H.useMemo(A,ee)},at.useOptimistic=function(A,ee){return q.H.useOptimistic(A,ee)},at.useReducer=function(A,ee,ae){return q.H.useReducer(A,ee,ae)},at.useRef=function(A){return q.H.useRef(A)},at.useState=function(A){return q.H.useState(A)},at.useSyncExternalStore=function(A,ee,ae){return q.H.useSyncExternalStore(A,ee,ae)},at.useTransition=function(){return q.H.useTransition()},at.version="19.1.0",at}var tS;function Ps(){return tS||(tS=1,Gg.exports=IO()),Gg.exports}var se=Ps();const Ne=h0(se);var $g={exports:{}},Wc={},Xg={exports:{}},Kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function CO(){return nS||(nS=1,function(t){function e(j,W){var ie=j.length;j.push(W);e:for(;0<ie;){var ne=ie-1>>>1,A=j[ne];if(0<s(A,W))j[ne]=W,j[ie]=A,ie=ne;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],ie=j.pop();if(ie!==W){j[0]=ie;e:for(var ne=0,A=j.length,ee=A>>>1;ne<ee;){var ae=2*(ne+1)-1,z=j[ae],ge=ae+1,Ce=j[ge];if(0>s(z,ie))ge<A&&0>s(Ce,z)?(j[ne]=Ce,j[ge]=ie,ne=ge):(j[ne]=z,j[ae]=ie,ne=ae);else if(ge<A&&0>s(Ce,ie))j[ne]=Ce,j[ge]=ie,ne=ge;else break e}}return W}function s(j,W){var ie=j.sortIndex-W.sortIndex;return ie!==0?ie:j.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],d=[],p=1,y=null,b=3,T=!1,C=!1,R=!1,P=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function L(j){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=j)r(d),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(d)}}function q(j){if(R=!1,L(j),!C)if(n(f)!==null)C=!0,B||(B=!0,F());else{var W=n(d);W!==null&&K(q,W.startTime-j)}}var B=!1,S=-1,x=5,O=-1;function H(){return P?!0:!(t.unstable_now()-O<x)}function V(){if(P=!1,B){var j=t.unstable_now();O=j;var W=!0;try{e:{C=!1,R&&(R=!1,N(S),S=-1),T=!0;var ie=b;try{t:{for(L(j),y=n(f);y!==null&&!(y.expirationTime>j&&H());){var ne=y.callback;if(typeof ne=="function"){y.callback=null,b=y.priorityLevel;var A=ne(y.expirationTime<=j);if(j=t.unstable_now(),typeof A=="function"){y.callback=A,L(j),W=!0;break t}y===n(f)&&r(f),L(j)}else r(f);y=n(f)}if(y!==null)W=!0;else{var ee=n(d);ee!==null&&K(q,ee.startTime-j),W=!1}}break e}finally{y=null,b=ie,T=!1}W=void 0}}finally{W?F():B=!1}}}var F;if(typeof M=="function")F=function(){M(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,U=k.port2;k.port1.onmessage=V,F=function(){U.postMessage(null)}}else F=function(){w(V,0)};function K(j,W){S=w(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(j){switch(b){case 1:case 2:case 3:var W=3;break;default:W=b}var ie=b;b=W;try{return j()}finally{b=ie}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ie=b;b=j;try{return W()}finally{b=ie}},t.unstable_scheduleCallback=function(j,W,ie){var ne=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ne+ie:ne):ie=ne,j){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ie+A,j={id:p++,callback:W,priorityLevel:j,startTime:ie,expirationTime:A,sortIndex:-1},ie>ne?(j.sortIndex=ie,e(d,j),n(f)===null&&j===n(d)&&(R?(N(S),S=-1):R=!0,K(q,ie-ne))):(j.sortIndex=A,e(f,j),C||T||(C=!0,B||(B=!0,F()))),j},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(j){var W=b;return function(){var ie=b;b=W;try{return j.apply(this,arguments)}finally{b=ie}}}}(Kg)),Kg}var rS;function NO(){return rS||(rS=1,Xg.exports=CO()),Xg.exports}var Qg={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function RO(){if(iS)return Sr;iS=1;var t=Ps();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},Sr.flushSync=function(f){var d=u.T,p=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=p,r.d.f()}},Sr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Sr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Sr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:T}):p==="script"&&r.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Sr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Sr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Sr.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Sr.requestFormReset=function(f){r.d.r(f)},Sr.unstable_batchedUpdates=function(f,d){return f(d)},Sr.useFormState=function(f,d,p){return u.H.useFormState(f,d,p)},Sr.useFormStatus=function(){return u.H.useHostTransitionStatus()},Sr.version="19.1.0",Sr}var sS;function f0(){if(sS)return Qg.exports;sS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qg.exports=RO(),Qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function DO(){if(aS)return Wc;aS=1;var t=NO(),e=Ps(),n=f0();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var g=l.return;if(g===null)break;var E=g.alternate;if(E===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===l)return c(g),i;if(E===h)return c(g),a;E=E.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=E;else{for(var D=!1,Y=g.child;Y;){if(Y===l){D=!0,l=g,h=E;break}if(Y===h){D=!0,h=g,l=E;break}Y=Y.sibling}if(!D){for(Y=E.child;Y;){if(Y===l){D=!0,l=E,h=g;break}if(Y===h){D=!0,h=E,l=g;break}Y=Y.sibling}if(!D)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function U(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case P:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case B:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case M:return(i.displayName||"Context")+".Provider";case N:return(i._context.displayName||"Context")+".Consumer";case L:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return a=i.displayName||null,a!==null?a:U(i.type)||"Memo";case x:a=i._payload,i=i._init;try{return U(i(a))}catch{}}return null}var K=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ne=[],A=-1;function ee(i){return{current:i}}function ae(i){0>A||(i.current=ne[A],ne[A]=null,A--)}function z(i,a){A++,ne[A]=i.current,i.current=a}var ge=ee(null),Ce=ee(null),we=ee(null),Fe=ee(null);function xe(i,a){switch(z(we,a),z(Ce,i),z(ge,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?wv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=wv(a),i=Iv(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(ge),z(ge,i)}function Le(){ae(ge),ae(Ce),ae(we)}function He(i){i.memoizedState!==null&&z(Fe,i);var a=ge.current,l=Iv(a,i.type);a!==l&&(z(Ce,i),z(ge,l))}function Je(i){Ce.current===i&&(ae(ge),ae(Ce)),Fe.current===i&&(ae(Fe),Yc._currentValue=ie)}var an=Object.prototype.hasOwnProperty,Jt=t.unstable_scheduleCallback,on=t.unstable_cancelCallback,Dt=t.unstable_shouldYield,Dn=t.unstable_requestPaint,Qe=t.unstable_now,je=t.unstable_getCurrentPriorityLevel,cn=t.unstable_ImmediatePriority,Vn=t.unstable_UserBlockingPriority,Hn=t.unstable_NormalPriority,Kn=t.unstable_LowPriority,zn=t.unstable_IdlePriority,vn=t.log,or=t.unstable_setDisableYieldValue,fe=null,be=null;function Ve(i){if(typeof vn=="function"&&or(i),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(fe,i)}catch{}}var qe=Math.clz32?Math.clz32:Ht,ut=Math.log,Tt=Math.LN2;function Ht(i){return i>>>=0,i===0?32:31-(ut(i)/Tt|0)|0}var zt=256,Ft=4194304;function vt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function lt(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,E=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var Y=h&134217727;return Y!==0?(h=Y&~E,h!==0?g=vt(h):(D&=Y,D!==0?g=vt(D):l||(l=Y&~i,l!==0&&(g=vt(l))))):(Y=h&~E,Y!==0?g=vt(Y):D!==0?g=vt(D):l||(l=h&~i,l!==0&&(g=vt(l)))),g===0?0:a!==0&&a!==g&&(a&E)===0&&(E=g&-g,l=a&-a,E>=l||E===32&&(l&4194048)!==0)?a:g}function Wt(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Gt(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ji(){var i=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),i}function br(){var i=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),i}function Fn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Rr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Tr(i,a,l,h,g,E){var D=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Y=i.entanglements,J=i.expirationTimes,he=i.hiddenUpdates;for(l=D&~l;0<l;){var _e=31-qe(l),ve=1<<_e;Y[_e]=0,J[_e]=-1;var de=he[_e];if(de!==null)for(he[_e]=null,_e=0;_e<de.length;_e++){var me=de[_e];me!==null&&(me.lane&=-536870913)}l&=~ve}h!==0&&Fr(i,h,0),E!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=E&~(D&~a))}function Fr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-qe(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Bs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-qe(l),g=1<<h;g&a|i[h]&a&&(i[h]|=a),l&=~g}}function ti(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function qi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Dr(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:Gv(i.type))}function ni(i,a){var l=W.p;try{return W.p=i,a()}finally{W.p=l}}var $t=Math.random().toString(36).slice(2),Pt="__reactFiber$"+$t,hn="__reactProps$"+$t,yn="__reactContainer$"+$t,ss="__reactEvents$"+$t,Ao="__reactListeners$"+$t,Or="__reactHandles$"+$t,as="__reactResources$"+$t,Ti="__reactMarker$"+$t;function ri(i){delete i[Pt],delete i[hn],delete i[ss],delete i[Ao],delete i[Or]}function kr(i){var a=i[Pt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[yn]||l[Pt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Dv(i);i!==null;){if(l=i[Pt])return l;i=Dv(i)}return a}i=l,l=i.parentNode}return null}function Qn(i){if(i=i[Pt]||i[yn]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Pr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function jn(i){var a=i[as];return a||(a=i[as]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function te(i){i[Ti]=!0}var pe=new Set,De={};function Me(i,a){pt(i,a),pt(i+"Capture",a)}function pt(i,a){for(De[i]=a,i=0;i<a.length;i++)pe.add(a[i])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jt={},Lt={};function Wn(i){return an.call(Lt,i)?!0:an.call(jt,i)?!1:rt.test(i)?Lt[i]=!0:(jt[i]=!0,!1)}function Mt(i,a,l){if(Wn(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Nt(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Bt(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}var On,En;function Sn(i){if(On===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);On=a&&a[1]||"",En=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+On+i+En}var Lr=!1;function Mr(i,a){if(!i||Lr)return"";Lr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(me){var de=me}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(me){de=me}i.call(ve.prototype)}}else{try{throw Error()}catch(me){de=me}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=h.DetermineComponentFrameRoot(),D=E[0],Y=E[1];if(D&&Y){var J=D.split(`
`),he=Y.split(`
`);for(g=h=0;h<J.length&&!J[h].includes("DetermineComponentFrameRoot");)h++;for(;g<he.length&&!he[g].includes("DetermineComponentFrameRoot");)g++;if(h===J.length||g===he.length)for(h=J.length-1,g=he.length-1;1<=h&&0<=g&&J[h]!==he[g];)g--;for(;1<=h&&0<=g;h--,g--)if(J[h]!==he[g]){if(h!==1||g!==1)do if(h--,g--,0>g||J[h]!==he[g]){var _e=`
`+J[h].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=h&&0<=g);break}}}finally{Lr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Sn(l):""}function vi(i){switch(i.tag){case 26:case 27:case 5:return Sn(i.type);case 16:return Sn("Lazy");case 13:return Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return Mr(i.type,!1);case 11:return Mr(i.type.render,!1);case 1:return Mr(i.type,!0);case 31:return Sn("Activity");default:return""}}function Si(i){try{var a="";do a+=vi(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xo(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nc(i){var a=xo(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,E=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(D){h=""+D,E.call(this,D)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function St(i){i._valueTracker||(i._valueTracker=nc(i))}function bt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=xo(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function Ai(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xi=/[\n"\\]/g;function fn(i){return i.replace(xi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function en(i,a,l,h,g,E,D,Y){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),a!=null?D==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Zn(a)):i.value!==""+Zn(a)&&(i.value=""+Zn(a)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),a!=null?lr(i,D,Zn(a)):l!=null?lr(i,D,Zn(l)):h!=null&&i.removeAttribute("value"),g==null&&E!=null&&(i.defaultChecked=!!E),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?i.name=""+Zn(Y):i.removeAttribute("name")}function ur(i,a,l,h,g,E,D,Y){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.type=E),a!=null||l!=null){if(!(E!=="submit"&&E!=="reset"||a!=null))return;l=l!=null?""+Zn(l):"",a=a!=null?""+Zn(a):l,Y||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=Y?i.checked:!!h,i.defaultChecked=!!h,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function lr(i,a,l){a==="number"&&Ai(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Br(i,a,l,h){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Zn(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function Ct(i,a,l){if(a!=null&&(a=""+Zn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Zn(l):""}function Yi(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(K(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=Zn(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function cr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wo(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Ur.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function os(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&l[g]!==h&&wo(i,g,h)}else for(var E in a)a.hasOwnProperty(E)&&wo(i,E,a[E])}function Us(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ea=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(i){return Ea.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var jr=null;function hr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hs=null,zs=null;function rc(i){var a=Qn(i);if(a&&(i=a.stateNode)){var l=i[hn]||null;e:switch(i=a.stateNode,a.type){case"input":if(en(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+fn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var g=h[hn]||null;if(!g)throw Error(r(90));en(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&bt(h)}break e;case"textarea":Ct(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Br(i,!!l.multiple,a,!1)}}}var us=!1;function Cf(i,a,l){if(us)return i(a,l);us=!0;try{var h=i(a);return h}finally{if(us=!1,(Hs!==null||zs!==null)&&(Td(),Hs&&(a=Hs,i=zs,zs=Hs=null,rc(a),i)))for(a=0;a<i.length;a++)rc(i[a])}}function Io(i,a){var l=i.stateNode;if(l===null)return null;var h=l[hn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wi=!1;if(Gi)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{wi=!1}var ls=null,_a=null,Fs=null;function ic(){if(Fs)return Fs;var i,a=_a,l=a.length,h,g="value"in ls?ls.value:ls.textContent,E=g.length;for(i=0;i<l&&a[i]===g[i];i++);var D=l-i;for(h=1;h<=D&&a[l-h]===g[E-h];h++);return Fs=g.slice(i,1<h?1-h:void 0)}function cs(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function hs(){return!0}function sc(){return!1}function Jn(i){function a(l,h,g,E,D){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var Y in i)i.hasOwnProperty(Y)&&(l=i[Y],this[Y]=l?l(E):E[Y]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?hs:sc,this.isPropagationStopped=sc,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),a}var Ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=Jn(Ut),No=p({},Ut,{view:0,detail:0}),Nf=Jn(No),Tu,vu,fs,Ro=p({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fs&&(fs&&i.type==="mousemove"?(Tu=i.screenX-fs.screenX,vu=i.screenY-fs.screenY):vu=Tu=0,fs=i),Tu)},movementY:function(i){return"movementY"in i?i.movementY:vu}}),Ii=Jn(Ro),Rf=p({},Ro,{dataTransfer:0}),J0=Jn(Rf),Do=p({},No,{relatedTarget:0}),Su=Jn(Do),ac=p({},Ut,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Jn(ac),Df=p({},Ut,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),xu=Jn(Df),ep=p({},Ut,{data:0}),oc=Jn(ep),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=kf[i])?!!a[i]:!1}function ko(){return uc}var Pf=p({},No,{key:function(i){if(i.key){var a=Oo[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=cs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Of[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(i){return i.type==="keypress"?cs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?cs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wu=Jn(Pf),Lf=p({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=Jn(Lf),js=p({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),Mf=Jn(js),Bf=p({},Ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=Jn(Bf),Vf=p({},Ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Iu=Jn(Vf),Vr=p({},Ut,{newState:0,oldState:0}),Hf=Jn(Vr),zf=[9,13,27,32],ds=Gi&&"CompositionEvent"in window,m=null;Gi&&"documentMode"in document&&(m=document.documentMode);var v=Gi&&"TextEvent"in window&&!m,I=Gi&&(!ds||m&&8<m&&11>=m),G=" ",ue=!1;function ye(i,a){switch(i){case"keyup":return zf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var At=!1;function qn(i,a){switch(i){case"compositionend":return Pe(a);case"keypress":return a.which!==32?null:(ue=!0,G);case"textInput":return i=a.data,i===G&&ue?null:i;default:return null}}function xt(i,a){if(At)return i==="compositionend"||!ds&&ye(i,a)?(i=ic(),Fs=_a=ls=null,At=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return I&&a.locale!=="ko"?null:a.data;default:return null}}var er={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!er[i.type]:a==="textarea"}function qs(i,a,l,h){Hs?zs?zs.push(h):zs=[h]:Hs=h,a=Id(a,"onChange"),0<a.length&&(l=new bu("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var fr=null,ms=null;function cc(i){Tv(i,0)}function Ff(i){var a=Pr(i);if(bt(a))return i}function F1(i,a){if(i==="change")return a}var j1=!1;if(Gi){var tp;if(Gi){var np="oninput"in document;if(!np){var q1=document.createElement("div");q1.setAttribute("oninput","return;"),np=typeof q1.oninput=="function"}tp=np}else tp=!1;j1=tp&&(!document.documentMode||9<document.documentMode)}function Y1(){fr&&(fr.detachEvent("onpropertychange",G1),ms=fr=null)}function G1(i){if(i.propertyName==="value"&&Ff(ms)){var a=[];qs(a,ms,i,hr(i)),Cf(cc,a)}}function tD(i,a,l){i==="focusin"?(Y1(),fr=a,ms=l,fr.attachEvent("onpropertychange",G1)):i==="focusout"&&Y1()}function nD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ff(ms)}function rD(i,a){if(i==="click")return Ff(a)}function iD(i,a){if(i==="input"||i==="change")return Ff(a)}function sD(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ii=typeof Object.is=="function"?Object.is:sD;function hc(i,a){if(ii(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!an.call(a,g)||!ii(i[g],a[g]))return!1}return!0}function $1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function X1(i,a){var l=$1(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=$1(l)}}function K1(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?K1(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Q1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ai(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ai(i.document)}return a}function rp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var aD=Gi&&"documentMode"in document&&11>=document.documentMode,Cu=null,ip=null,fc=null,sp=!1;function W1(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sp||Cu==null||Cu!==Ai(h)||(h=Cu,"selectionStart"in h&&rp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fc&&hc(fc,h)||(fc=h,h=Id(ip,"onSelect"),0<h.length&&(a=new bu("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Cu)))}function Po(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Nu={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionrun:Po("Transition","TransitionRun"),transitionstart:Po("Transition","TransitionStart"),transitioncancel:Po("Transition","TransitionCancel"),transitionend:Po("Transition","TransitionEnd")},ap={},Z1={};Gi&&(Z1=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Lo(i){if(ap[i])return ap[i];if(!Nu[i])return i;var a=Nu[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Z1)return ap[i]=a[l];return i}var J1=Lo("animationend"),eb=Lo("animationiteration"),tb=Lo("animationstart"),oD=Lo("transitionrun"),uD=Lo("transitionstart"),lD=Lo("transitioncancel"),nb=Lo("transitionend"),rb=new Map,op="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");op.push("scrollEnd");function $i(i,a){rb.set(i,a),Me(a,[i])}var ib=new WeakMap;function Ci(i,a){if(typeof i=="object"&&i!==null){var l=ib.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Si(a)},ib.set(i,a),a)}return{value:i,source:a,stack:Si(a)}}var Ni=[],Ru=0,up=0;function jf(){for(var i=Ru,a=up=Ru=0;a<i;){var l=Ni[a];Ni[a++]=null;var h=Ni[a];Ni[a++]=null;var g=Ni[a];Ni[a++]=null;var E=Ni[a];if(Ni[a++]=null,h!==null&&g!==null){var D=h.pending;D===null?g.next=g:(g.next=D.next,D.next=g),h.pending=g}E!==0&&sb(l,g,E)}}function qf(i,a,l,h){Ni[Ru++]=i,Ni[Ru++]=a,Ni[Ru++]=l,Ni[Ru++]=h,up|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function lp(i,a,l,h){return qf(i,a,l,h),Yf(i)}function Du(i,a){return qf(i,null,null,a),Yf(i)}function sb(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,E=i.return;E!==null;)E.childLanes|=l,h=E.alternate,h!==null&&(h.childLanes|=l),E.tag===22&&(i=E.stateNode,i===null||i._visibility&1||(g=!0)),i=E,E=E.return;return i.tag===3?(E=i.stateNode,g&&a!==null&&(g=31-qe(l),i=E.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=l|536870912),E):null}function Yf(i){if(50<Bc)throw Bc=0,pg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ou={};function cD(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,a,l,h){return new cD(i,a,l,h)}function cp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ys(i,a){var l=i.alternate;return l===null?(l=si(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function ab(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Gf(i,a,l,h,g,E){var D=0;if(h=i,typeof i=="function")cp(i)&&(D=1);else if(typeof i=="string")D=fO(i,l,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=si(31,l,a,g),i.elementType=O,i.lanes=E,i;case C:return Mo(l.children,g,E,a);case R:D=8,g|=24;break;case P:return i=si(12,l,a,g|2),i.elementType=P,i.lanes=E,i;case q:return i=si(13,l,a,g),i.elementType=q,i.lanes=E,i;case B:return i=si(19,l,a,g),i.elementType=B,i.lanes=E,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case w:case M:D=10;break e;case N:D=9;break e;case L:D=11;break e;case S:D=14;break e;case x:D=16,h=null;break e}D=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=si(D,l,a,g),a.elementType=i,a.type=h,a.lanes=E,a}function Mo(i,a,l,h){return i=si(7,i,h,a),i.lanes=l,i}function hp(i,a,l){return i=si(6,i,null,a),i.lanes=l,i}function fp(i,a,l){return a=si(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var ku=[],Pu=0,$f=null,Xf=0,Ri=[],Di=0,Bo=null,Gs=1,$s="";function Uo(i,a){ku[Pu++]=Xf,ku[Pu++]=$f,$f=i,Xf=a}function ob(i,a,l){Ri[Di++]=Gs,Ri[Di++]=$s,Ri[Di++]=Bo,Bo=i;var h=Gs;i=$s;var g=32-qe(h)-1;h&=~(1<<g),l+=1;var E=32-qe(a)+g;if(30<E){var D=g-g%5;E=(h&(1<<D)-1).toString(32),h>>=D,g-=D,Gs=1<<32-qe(a)+g|l<<g|h,$s=E+i}else Gs=1<<E|l<<g|h,$s=i}function dp(i){i.return!==null&&(Uo(i,1),ob(i,1,0))}function mp(i){for(;i===$f;)$f=ku[--Pu],ku[Pu]=null,Xf=ku[--Pu],ku[Pu]=null;for(;i===Bo;)Bo=Ri[--Di],Ri[Di]=null,$s=Ri[--Di],Ri[Di]=null,Gs=Ri[--Di],Ri[Di]=null}var Hr=null,_n=null,Ot=!1,Vo=null,ps=!1,pp=Error(r(519));function Ho(i){var a=Error(r(418,""));throw pc(Ci(a,i)),pp}function ub(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Pt]=i,a[hn]=h,l){case"dialog":yt("cancel",a),yt("close",a);break;case"iframe":case"object":case"embed":yt("load",a);break;case"video":case"audio":for(l=0;l<Vc.length;l++)yt(Vc[l],a);break;case"source":yt("error",a);break;case"img":case"image":case"link":yt("error",a),yt("load",a);break;case"details":yt("toggle",a);break;case"input":yt("invalid",a),ur(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),St(a);break;case"select":yt("invalid",a);break;case"textarea":yt("invalid",a),Yi(a,h.value,h.defaultValue,h.children),St(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||xv(a.textContent,l)?(h.popover!=null&&(yt("beforetoggle",a),yt("toggle",a)),h.onScroll!=null&&yt("scroll",a),h.onScrollEnd!=null&&yt("scrollend",a),h.onClick!=null&&(a.onclick=Cd),a=!0):a=!1,a||Ho(i)}function lb(i){for(Hr=i.return;Hr;)switch(Hr.tag){case 5:case 13:ps=!1;return;case 27:case 3:ps=!0;return;default:Hr=Hr.return}}function dc(i){if(i!==Hr)return!1;if(!Ot)return lb(i),Ot=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Dg(i.type,i.memoizedProps)),l=!l),l&&_n&&Ho(i),lb(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){_n=Ki(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}_n=null}}else a===27?(a=_n,La(i.type)?(i=Lg,Lg=null,_n=i):_n=a):_n=Hr?Ki(i.stateNode.nextSibling):null;return!0}function mc(){_n=Hr=null,Ot=!1}function cb(){var i=Vo;return i!==null&&(Gr===null?Gr=i:Gr.push.apply(Gr,i),Vo=null),i}function pc(i){Vo===null?Vo=[i]:Vo.push(i)}var gp=ee(null),zo=null,Xs=null;function ba(i,a,l){z(gp,a._currentValue),a._currentValue=l}function Ks(i){i._currentValue=gp.current,ae(gp)}function yp(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function Ep(i,a,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var E=g.dependencies;if(E!==null){var D=g.child;E=E.firstContext;e:for(;E!==null;){var Y=E;E=g;for(var J=0;J<a.length;J++)if(Y.context===a[J]){E.lanes|=l,Y=E.alternate,Y!==null&&(Y.lanes|=l),yp(E.return,l,i),h||(D=null);break e}E=Y.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(r(341));D.lanes|=l,E=D.alternate,E!==null&&(E.lanes|=l),yp(D,l,i),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===i){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function gc(i,a,l,h){i=null;for(var g=a,E=!1;g!==null;){if(!E){if((g.flags&524288)!==0)E=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var Y=g.type;ii(g.pendingProps.value,D.value)||(i!==null?i.push(Y):i=[Y])}}else if(g===Fe.current){if(D=g.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Yc):i=[Yc])}g=g.return}i!==null&&Ep(a,i,l,h),a.flags|=262144}function Kf(i){for(i=i.firstContext;i!==null;){if(!ii(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fo(i){zo=i,Xs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vr(i){return hb(zo,i)}function Qf(i,a){return zo===null&&Fo(i),hb(i,a)}function hb(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Xs===null){if(i===null)throw Error(r(308));Xs=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Xs=Xs.next=a;return l}var hD=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},fD=t.unstable_scheduleCallback,dD=t.unstable_NormalPriority,Gn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new hD,data:new Map,refCount:0}}function yc(i){i.refCount--,i.refCount===0&&fD(dD,function(){i.controller.abort()})}var Ec=null,bp=0,Lu=0,Mu=null;function mD(i,a){if(Ec===null){var l=Ec=[];bp=0,Lu=vg(),Mu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return bp++,a.then(fb,fb),a}function fb(){if(--bp===0&&Ec!==null){Mu!==null&&(Mu.status="fulfilled");var i=Ec;Ec=null,Lu=0,Mu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function pD(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var db=j.S;j.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&mD(i,a),db!==null&&db(i,a)};var jo=ee(null);function Tp(){var i=jo.current;return i!==null?i:tn.pooledCache}function Wf(i,a){a===null?z(jo,jo.current):z(jo,a.pool)}function mb(){var i=Tp();return i===null?null:{parent:Gn._currentValue,pool:i}}var _c=Error(r(460)),pb=Error(r(474)),Zf=Error(r(542)),vp={then:function(){}};function gb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jf(){}function yb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Jf,Jf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,_b(i),i;default:if(typeof a.status=="string")a.then(Jf,Jf);else{if(i=tn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,_b(i),i}throw bc=a,_c}}var bc=null;function Eb(){if(bc===null)throw Error(r(459));var i=bc;return bc=null,i}function _b(i){if(i===_c||i===Zf)throw Error(r(483))}var Ta=!1;function Sp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function va(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Sa(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(qt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Yf(i),sb(i,null,l),a}return qf(i,h,a,l),Yf(i)}function Tc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Bs(i,l)}}function xp(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,E=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};E===null?g=E=D:E=E.next=D,l=l.next}while(l!==null);E===null?g=E=a:E=E.next=a}else g=E=a;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var wp=!1;function vc(){if(wp){var i=Mu;if(i!==null)throw i}}function Sc(i,a,l,h){wp=!1;var g=i.updateQueue;Ta=!1;var E=g.firstBaseUpdate,D=g.lastBaseUpdate,Y=g.shared.pending;if(Y!==null){g.shared.pending=null;var J=Y,he=J.next;J.next=null,D===null?E=he:D.next=he,D=J;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,Y=_e.lastBaseUpdate,Y!==D&&(Y===null?_e.firstBaseUpdate=he:Y.next=he,_e.lastBaseUpdate=J))}if(E!==null){var ve=g.baseState;D=0,_e=he=J=null,Y=E;do{var de=Y.lane&-536870913,me=de!==Y.lane;if(me?(wt&de)===de:(h&de)===de){de!==0&&de===Lu&&(wp=!0),_e!==null&&(_e=_e.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var et=i,Xe=Y;de=a;var Qt=l;switch(Xe.tag){case 1:if(et=Xe.payload,typeof et=="function"){ve=et.call(Qt,ve,de);break e}ve=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Xe.payload,de=typeof et=="function"?et.call(Qt,ve,de):et,de==null)break e;ve=p({},ve,de);break e;case 2:Ta=!0}}de=Y.callback,de!==null&&(i.flags|=64,me&&(i.flags|=8192),me=g.callbacks,me===null?g.callbacks=[de]:me.push(de))}else me={lane:de,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},_e===null?(he=_e=me,J=ve):_e=_e.next=me,D|=de;if(Y=Y.next,Y===null){if(Y=g.shared.pending,Y===null)break;me=Y,Y=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);_e===null&&(J=ve),g.baseState=J,g.firstBaseUpdate=he,g.lastBaseUpdate=_e,E===null&&(g.shared.lanes=0),Da|=D,i.lanes=D,i.memoizedState=ve}}function bb(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Tb(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)bb(l[i],a)}var Bu=ee(null),ed=ee(0);function vb(i,a){i=na,z(ed,i),z(Bu,a),na=i|a.baseLanes}function Ip(){z(ed,na),z(Bu,Bu.current)}function Cp(){na=ed.current,ae(Bu),ae(ed)}var Aa=0,ct=null,Xt=null,kn=null,td=!1,Uu=!1,qo=!1,nd=0,Ac=0,Vu=null,gD=0;function An(){throw Error(r(321))}function Np(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!ii(i[l],a[l]))return!1;return!0}function Rp(i,a,l,h,g,E){return Aa=E,ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,j.H=i===null||i.memoizedState===null?sT:aT,qo=!1,E=l(h,g),qo=!1,Uu&&(E=Ab(a,l,h,g)),Sb(i),E}function Sb(i){j.H=ud;var a=Xt!==null&&Xt.next!==null;if(Aa=0,kn=Xt=ct=null,td=!1,Ac=0,Vu=null,a)throw Error(r(300));i===null||tr||(i=i.dependencies,i!==null&&Kf(i)&&(tr=!0))}function Ab(i,a,l,h){ct=i;var g=0;do{if(Uu&&(Vu=null),Ac=0,Uu=!1,25<=g)throw Error(r(301));if(g+=1,kn=Xt=null,i.updateQueue!=null){var E=i.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}j.H=SD,E=a(l,h)}while(Uu);return E}function yD(){var i=j.H,a=i.useState()[0];return a=typeof a.then=="function"?xc(a):a,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(ct.flags|=1024),a}function Dp(){var i=nd!==0;return nd=0,i}function Op(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function kp(i){if(td){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}td=!1}Aa=0,kn=Xt=ct=null,Uu=!1,Ac=nd=0,Vu=null}function qr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?ct.memoizedState=kn=i:kn=kn.next=i,kn}function Pn(){if(Xt===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var a=kn===null?ct.memoizedState:kn.next;if(a!==null)kn=a,Xt=i;else{if(i===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},kn===null?ct.memoizedState=kn=i:kn=kn.next=i}return kn}function Pp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(i){var a=Ac;return Ac+=1,Vu===null&&(Vu=[]),i=yb(Vu,i,a),a=ct,(kn===null?a.memoizedState:kn.next)===null&&(a=a.alternate,j.H=a===null||a.memoizedState===null?sT:aT),i}function rd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xc(i);if(i.$$typeof===M)return vr(i)}throw Error(r(438,String(i)))}function Lp(i){var a=null,l=ct.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=ct.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Pp(),ct.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=H;return a.index++,l}function Qs(i,a){return typeof a=="function"?a(i):a}function id(i){var a=Pn();return Mp(a,Xt,i)}function Mp(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,E=h.pending;if(E!==null){if(g!==null){var D=g.next;g.next=E.next,E.next=D}a.baseQueue=g=E,h.pending=null}if(E=i.baseState,g===null)i.memoizedState=E;else{a=g.next;var Y=D=null,J=null,he=a,_e=!1;do{var ve=he.lane&-536870913;if(ve!==he.lane?(wt&ve)===ve:(Aa&ve)===ve){var de=he.revertLane;if(de===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),ve===Lu&&(_e=!0);else if((Aa&de)===de){he=he.next,de===Lu&&(_e=!0);continue}else ve={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(Y=J=ve,D=E):J=J.next=ve,ct.lanes|=de,Da|=de;ve=he.action,qo&&l(E,ve),E=he.hasEagerState?he.eagerState:l(E,ve)}else de={lane:ve,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},J===null?(Y=J=de,D=E):J=J.next=de,ct.lanes|=ve,Da|=ve;he=he.next}while(he!==null&&he!==a);if(J===null?D=E:J.next=Y,!ii(E,i.memoizedState)&&(tr=!0,_e&&(l=Mu,l!==null)))throw l;i.memoizedState=E,i.baseState=D,i.baseQueue=J,h.lastRenderedState=E}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Bp(i){var a=Pn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,E=a.memoizedState;if(g!==null){l.pending=null;var D=g=g.next;do E=i(E,D.action),D=D.next;while(D!==g);ii(E,a.memoizedState)||(tr=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),l.lastRenderedState=E}return[E,h]}function xb(i,a,l){var h=ct,g=Pn(),E=Ot;if(E){if(l===void 0)throw Error(r(407));l=l()}else l=a();var D=!ii((Xt||g).memoizedState,l);D&&(g.memoizedState=l,tr=!0),g=g.queue;var Y=Cb.bind(null,h,g,i);if(wc(2048,8,Y,[i]),g.getSnapshot!==a||D||kn!==null&&kn.memoizedState.tag&1){if(h.flags|=2048,Hu(9,sd(),Ib.bind(null,h,g,l,a),null),tn===null)throw Error(r(349));E||(Aa&124)!==0||wb(h,a,l)}return l}function wb(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=ct.updateQueue,a===null?(a=Pp(),ct.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Ib(i,a,l,h){a.value=l,a.getSnapshot=h,Nb(a)&&Rb(i)}function Cb(i,a,l){return l(function(){Nb(a)&&Rb(i)})}function Nb(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!ii(i,l)}catch{return!0}}function Rb(i){var a=Du(i,2);a!==null&&ci(a,i,2)}function Up(i){var a=qr();if(typeof i=="function"){var l=i;if(i=l(),qo){Ve(!0);try{l()}finally{Ve(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:i},a}function Db(i,a,l,h){return i.baseState=l,Mp(i,Xt,typeof h=="function"?h:Qs)}function ED(i,a,l,h,g){if(od(i))throw Error(r(485));if(i=a.action,i!==null){var E={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){E.listeners.push(D)}};j.T!==null?l(!0):E.isTransition=!1,h(E),l=a.pending,l===null?(E.next=a.pending=E,Ob(a,E)):(E.next=l.next,a.pending=l.next=E)}}function Ob(i,a){var l=a.action,h=a.payload,g=i.state;if(a.isTransition){var E=j.T,D={};j.T=D;try{var Y=l(g,h),J=j.S;J!==null&&J(D,Y),kb(i,a,Y)}catch(he){Vp(i,a,he)}finally{j.T=E}}else try{E=l(g,h),kb(i,a,E)}catch(he){Vp(i,a,he)}}function kb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Pb(i,a,h)},function(h){return Vp(i,a,h)}):Pb(i,a,l)}function Pb(i,a,l){a.status="fulfilled",a.value=l,Lb(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Ob(i,l)))}function Vp(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,Lb(a),a=a.next;while(a!==h)}i.action=null}function Lb(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Mb(i,a){return a}function Bb(i,a){if(Ot){var l=tn.formState;if(l!==null){e:{var h=ct;if(Ot){if(_n){t:{for(var g=_n,E=ps;g.nodeType!==8;){if(!E){g=null;break t}if(g=Ki(g.nextSibling),g===null){g=null;break t}}E=g.data,g=E==="F!"||E==="F"?g:null}if(g){_n=Ki(g.nextSibling),h=g.data==="F!";break e}}Ho(h)}h=!1}h&&(a=l[0])}}return l=qr(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mb,lastRenderedState:a},l.queue=h,l=nT.bind(null,ct,h),h.dispatch=l,h=Up(!1),E=qp.bind(null,ct,!1,h.queue),h=qr(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,l=ED.bind(null,ct,g,E,l),g.dispatch=l,h.memoizedState=i,[a,l,!1]}function Ub(i){var a=Pn();return Vb(a,Xt,i)}function Vb(i,a,l){if(a=Mp(i,a,Mb)[0],i=id(Qs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=xc(a)}catch(D){throw D===_c?Zf:D}else h=a;a=Pn();var g=a.queue,E=g.dispatch;return l!==a.memoizedState&&(ct.flags|=2048,Hu(9,sd(),_D.bind(null,g,l),null)),[h,E,i]}function _D(i,a){i.action=a}function Hb(i){var a=Pn(),l=Xt;if(l!==null)return Vb(a,l,i);Pn(),a=a.memoizedState,l=Pn();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function Hu(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=ct.updateQueue,a===null&&(a=Pp(),ct.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function sd(){return{destroy:void 0,resource:void 0}}function zb(){return Pn().memoizedState}function ad(i,a,l,h){var g=qr();h=h===void 0?null:h,ct.flags|=i,g.memoizedState=Hu(1|a,sd(),l,h)}function wc(i,a,l,h){var g=Pn();h=h===void 0?null:h;var E=g.memoizedState.inst;Xt!==null&&h!==null&&Np(h,Xt.memoizedState.deps)?g.memoizedState=Hu(a,E,l,h):(ct.flags|=i,g.memoizedState=Hu(1|a,E,l,h))}function Fb(i,a){ad(8390656,8,i,a)}function jb(i,a){wc(2048,8,i,a)}function qb(i,a){return wc(4,2,i,a)}function Yb(i,a){return wc(4,4,i,a)}function Gb(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function $b(i,a,l){l=l!=null?l.concat([i]):null,wc(4,4,Gb.bind(null,a,i),l)}function Hp(){}function Xb(i,a){var l=Pn();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Np(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function Kb(i,a){var l=Pn();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Np(a,h[1]))return h[0];if(h=i(),qo){Ve(!0);try{i()}finally{Ve(!1)}}return l.memoizedState=[h,a],h}function zp(i,a,l){return l===void 0||(Aa&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=ZT(),ct.lanes|=i,Da|=i,l)}function Qb(i,a,l,h){return ii(l,a)?l:Bu.current!==null?(i=zp(i,l,h),ii(i,a)||(tr=!0),i):(Aa&42)===0?(tr=!0,i.memoizedState=l):(i=ZT(),ct.lanes|=i,Da|=i,a)}function Wb(i,a,l,h,g){var E=W.p;W.p=E!==0&&8>E?E:8;var D=j.T,Y={};j.T=Y,qp(i,!1,a,l);try{var J=g(),he=j.S;if(he!==null&&he(Y,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var _e=pD(J,h);Ic(i,a,_e,li(i))}else Ic(i,a,h,li(i))}catch(ve){Ic(i,a,{then:function(){},status:"rejected",reason:ve},li())}finally{W.p=E,j.T=D}}function bD(){}function Fp(i,a,l,h){if(i.tag!==5)throw Error(r(476));var g=Zb(i).queue;Wb(i,g,a,ie,l===null?bD:function(){return Jb(i),l(h)})}function Zb(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:ie},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Jb(i){var a=Zb(i).next.queue;Ic(i,a,{},li())}function jp(){return vr(Yc)}function eT(){return Pn().memoizedState}function tT(){return Pn().memoizedState}function TD(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=li();i=va(l);var h=Sa(a,i,l);h!==null&&(ci(h,a,l),Tc(h,a,l)),a={cache:_p()},i.payload=a;return}a=a.return}}function vD(i,a,l){var h=li();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},od(i)?rT(a,l):(l=lp(i,a,l,h),l!==null&&(ci(l,i,h),iT(l,a,h)))}function nT(i,a,l){var h=li();Ic(i,a,l,h)}function Ic(i,a,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(od(i))rT(a,g);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var D=a.lastRenderedState,Y=E(D,l);if(g.hasEagerState=!0,g.eagerState=Y,ii(Y,D))return qf(i,a,g,0),tn===null&&jf(),!1}catch{}finally{}if(l=lp(i,a,g,h),l!==null)return ci(l,i,h),iT(l,a,h),!0}return!1}function qp(i,a,l,h){if(h={lane:2,revertLane:vg(),action:h,hasEagerState:!1,eagerState:null,next:null},od(i)){if(a)throw Error(r(479))}else a=lp(i,l,h,2),a!==null&&ci(a,i,2)}function od(i){var a=i.alternate;return i===ct||a!==null&&a===ct}function rT(i,a){Uu=td=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function iT(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Bs(i,l)}}var ud={readContext:vr,use:rd,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An},sT={readContext:vr,use:rd,useCallback:function(i,a){return qr().memoizedState=[i,a===void 0?null:a],i},useContext:vr,useEffect:Fb,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,ad(4194308,4,Gb.bind(null,a,i),l)},useLayoutEffect:function(i,a){return ad(4194308,4,i,a)},useInsertionEffect:function(i,a){ad(4,2,i,a)},useMemo:function(i,a){var l=qr();a=a===void 0?null:a;var h=i();if(qo){Ve(!0);try{i()}finally{Ve(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=qr();if(l!==void 0){var g=l(a);if(qo){Ve(!0);try{l(a)}finally{Ve(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=vD.bind(null,ct,i),[h.memoizedState,i]},useRef:function(i){var a=qr();return i={current:i},a.memoizedState=i},useState:function(i){i=Up(i);var a=i.queue,l=nT.bind(null,ct,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Hp,useDeferredValue:function(i,a){var l=qr();return zp(l,i,a)},useTransition:function(){var i=Up(!1);return i=Wb.bind(null,ct,i.queue,!0,!1),qr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=ct,g=qr();if(Ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),tn===null)throw Error(r(349));(wt&124)!==0||wb(h,a,l)}g.memoizedState=l;var E={value:l,getSnapshot:a};return g.queue=E,Fb(Cb.bind(null,h,E,i),[i]),h.flags|=2048,Hu(9,sd(),Ib.bind(null,h,E,l,a),null),l},useId:function(){var i=qr(),a=tn.identifierPrefix;if(Ot){var l=$s,h=Gs;l=(h&~(1<<32-qe(h)-1)).toString(32)+l,a=""+a+"R"+l,l=nd++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=gD++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:jp,useFormState:Bb,useActionState:Bb,useOptimistic:function(i){var a=qr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=qp.bind(null,ct,!0,l),l.dispatch=a,[i,a]},useMemoCache:Lp,useCacheRefresh:function(){return qr().memoizedState=TD.bind(null,ct)}},aT={readContext:vr,use:rd,useCallback:Xb,useContext:vr,useEffect:jb,useImperativeHandle:$b,useInsertionEffect:qb,useLayoutEffect:Yb,useMemo:Kb,useReducer:id,useRef:zb,useState:function(){return id(Qs)},useDebugValue:Hp,useDeferredValue:function(i,a){var l=Pn();return Qb(l,Xt.memoizedState,i,a)},useTransition:function(){var i=id(Qs)[0],a=Pn().memoizedState;return[typeof i=="boolean"?i:xc(i),a]},useSyncExternalStore:xb,useId:eT,useHostTransitionStatus:jp,useFormState:Ub,useActionState:Ub,useOptimistic:function(i,a){var l=Pn();return Db(l,Xt,i,a)},useMemoCache:Lp,useCacheRefresh:tT},SD={readContext:vr,use:rd,useCallback:Xb,useContext:vr,useEffect:jb,useImperativeHandle:$b,useInsertionEffect:qb,useLayoutEffect:Yb,useMemo:Kb,useReducer:Bp,useRef:zb,useState:function(){return Bp(Qs)},useDebugValue:Hp,useDeferredValue:function(i,a){var l=Pn();return Xt===null?zp(l,i,a):Qb(l,Xt.memoizedState,i,a)},useTransition:function(){var i=Bp(Qs)[0],a=Pn().memoizedState;return[typeof i=="boolean"?i:xc(i),a]},useSyncExternalStore:xb,useId:eT,useHostTransitionStatus:jp,useFormState:Hb,useActionState:Hb,useOptimistic:function(i,a){var l=Pn();return Xt!==null?Db(l,Xt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Lp,useCacheRefresh:tT},zu=null,Cc=0;function ld(i){var a=Cc;return Cc+=1,zu===null&&(zu=[]),yb(zu,i,a)}function Nc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function cd(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function oT(i){var a=i._init;return a(i._payload)}function uT(i){function a(oe,re){if(i){var le=oe.deletions;le===null?(oe.deletions=[re],oe.flags|=16):le.push(re)}}function l(oe,re){if(!i)return null;for(;re!==null;)a(oe,re),re=re.sibling;return null}function h(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function g(oe,re){return oe=Ys(oe,re),oe.index=0,oe.sibling=null,oe}function E(oe,re,le){return oe.index=le,i?(le=oe.alternate,le!==null?(le=le.index,le<re?(oe.flags|=67108866,re):le):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function D(oe){return i&&oe.alternate===null&&(oe.flags|=67108866),oe}function Y(oe,re,le,Te){return re===null||re.tag!==6?(re=hp(le,oe.mode,Te),re.return=oe,re):(re=g(re,le),re.return=oe,re)}function J(oe,re,le,Te){var ze=le.type;return ze===C?_e(oe,re,le.props.children,Te,le.key):re!==null&&(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===x&&oT(ze)===re.type)?(re=g(re,le.props),Nc(re,le),re.return=oe,re):(re=Gf(le.type,le.key,le.props,null,oe.mode,Te),Nc(re,le),re.return=oe,re)}function he(oe,re,le,Te){return re===null||re.tag!==4||re.stateNode.containerInfo!==le.containerInfo||re.stateNode.implementation!==le.implementation?(re=fp(le,oe.mode,Te),re.return=oe,re):(re=g(re,le.children||[]),re.return=oe,re)}function _e(oe,re,le,Te,ze){return re===null||re.tag!==7?(re=Mo(le,oe.mode,Te,ze),re.return=oe,re):(re=g(re,le),re.return=oe,re)}function ve(oe,re,le){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=hp(""+re,oe.mode,le),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return le=Gf(re.type,re.key,re.props,null,oe.mode,le),Nc(le,re),le.return=oe,le;case T:return re=fp(re,oe.mode,le),re.return=oe,re;case x:var Te=re._init;return re=Te(re._payload),ve(oe,re,le)}if(K(re)||F(re))return re=Mo(re,oe.mode,le,null),re.return=oe,re;if(typeof re.then=="function")return ve(oe,ld(re),le);if(re.$$typeof===M)return ve(oe,Qf(oe,re),le);cd(oe,re)}return null}function de(oe,re,le,Te){var ze=re!==null?re.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return ze!==null?null:Y(oe,re,""+le,Te);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case b:return le.key===ze?J(oe,re,le,Te):null;case T:return le.key===ze?he(oe,re,le,Te):null;case x:return ze=le._init,le=ze(le._payload),de(oe,re,le,Te)}if(K(le)||F(le))return ze!==null?null:_e(oe,re,le,Te,null);if(typeof le.then=="function")return de(oe,re,ld(le),Te);if(le.$$typeof===M)return de(oe,re,Qf(oe,le),Te);cd(oe,le)}return null}function me(oe,re,le,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return oe=oe.get(le)||null,Y(re,oe,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case b:return oe=oe.get(Te.key===null?le:Te.key)||null,J(re,oe,Te,ze);case T:return oe=oe.get(Te.key===null?le:Te.key)||null,he(re,oe,Te,ze);case x:var ft=Te._init;return Te=ft(Te._payload),me(oe,re,le,Te,ze)}if(K(Te)||F(Te))return oe=oe.get(le)||null,_e(re,oe,Te,ze,null);if(typeof Te.then=="function")return me(oe,re,le,ld(Te),ze);if(Te.$$typeof===M)return me(oe,re,le,Qf(re,Te),ze);cd(re,Te)}return null}function et(oe,re,le,Te){for(var ze=null,ft=null,Ye=re,Ke=re=0,rr=null;Ye!==null&&Ke<le.length;Ke++){Ye.index>Ke?(rr=Ye,Ye=null):rr=Ye.sibling;var Rt=de(oe,Ye,le[Ke],Te);if(Rt===null){Ye===null&&(Ye=rr);break}i&&Ye&&Rt.alternate===null&&a(oe,Ye),re=E(Rt,re,Ke),ft===null?ze=Rt:ft.sibling=Rt,ft=Rt,Ye=rr}if(Ke===le.length)return l(oe,Ye),Ot&&Uo(oe,Ke),ze;if(Ye===null){for(;Ke<le.length;Ke++)Ye=ve(oe,le[Ke],Te),Ye!==null&&(re=E(Ye,re,Ke),ft===null?ze=Ye:ft.sibling=Ye,ft=Ye);return Ot&&Uo(oe,Ke),ze}for(Ye=h(Ye);Ke<le.length;Ke++)rr=me(Ye,oe,Ke,le[Ke],Te),rr!==null&&(i&&rr.alternate!==null&&Ye.delete(rr.key===null?Ke:rr.key),re=E(rr,re,Ke),ft===null?ze=rr:ft.sibling=rr,ft=rr);return i&&Ye.forEach(function(Ha){return a(oe,Ha)}),Ot&&Uo(oe,Ke),ze}function Xe(oe,re,le,Te){if(le==null)throw Error(r(151));for(var ze=null,ft=null,Ye=re,Ke=re=0,rr=null,Rt=le.next();Ye!==null&&!Rt.done;Ke++,Rt=le.next()){Ye.index>Ke?(rr=Ye,Ye=null):rr=Ye.sibling;var Ha=de(oe,Ye,Rt.value,Te);if(Ha===null){Ye===null&&(Ye=rr);break}i&&Ye&&Ha.alternate===null&&a(oe,Ye),re=E(Ha,re,Ke),ft===null?ze=Ha:ft.sibling=Ha,ft=Ha,Ye=rr}if(Rt.done)return l(oe,Ye),Ot&&Uo(oe,Ke),ze;if(Ye===null){for(;!Rt.done;Ke++,Rt=le.next())Rt=ve(oe,Rt.value,Te),Rt!==null&&(re=E(Rt,re,Ke),ft===null?ze=Rt:ft.sibling=Rt,ft=Rt);return Ot&&Uo(oe,Ke),ze}for(Ye=h(Ye);!Rt.done;Ke++,Rt=le.next())Rt=me(Ye,oe,Ke,Rt.value,Te),Rt!==null&&(i&&Rt.alternate!==null&&Ye.delete(Rt.key===null?Ke:Rt.key),re=E(Rt,re,Ke),ft===null?ze=Rt:ft.sibling=Rt,ft=Rt);return i&&Ye.forEach(function(AO){return a(oe,AO)}),Ot&&Uo(oe,Ke),ze}function Qt(oe,re,le,Te){if(typeof le=="object"&&le!==null&&le.type===C&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case b:e:{for(var ze=le.key;re!==null;){if(re.key===ze){if(ze=le.type,ze===C){if(re.tag===7){l(oe,re.sibling),Te=g(re,le.props.children),Te.return=oe,oe=Te;break e}}else if(re.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===x&&oT(ze)===re.type){l(oe,re.sibling),Te=g(re,le.props),Nc(Te,le),Te.return=oe,oe=Te;break e}l(oe,re);break}else a(oe,re);re=re.sibling}le.type===C?(Te=Mo(le.props.children,oe.mode,Te,le.key),Te.return=oe,oe=Te):(Te=Gf(le.type,le.key,le.props,null,oe.mode,Te),Nc(Te,le),Te.return=oe,oe=Te)}return D(oe);case T:e:{for(ze=le.key;re!==null;){if(re.key===ze)if(re.tag===4&&re.stateNode.containerInfo===le.containerInfo&&re.stateNode.implementation===le.implementation){l(oe,re.sibling),Te=g(re,le.children||[]),Te.return=oe,oe=Te;break e}else{l(oe,re);break}else a(oe,re);re=re.sibling}Te=fp(le,oe.mode,Te),Te.return=oe,oe=Te}return D(oe);case x:return ze=le._init,le=ze(le._payload),Qt(oe,re,le,Te)}if(K(le))return et(oe,re,le,Te);if(F(le)){if(ze=F(le),typeof ze!="function")throw Error(r(150));return le=ze.call(le),Xe(oe,re,le,Te)}if(typeof le.then=="function")return Qt(oe,re,ld(le),Te);if(le.$$typeof===M)return Qt(oe,re,Qf(oe,le),Te);cd(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,re!==null&&re.tag===6?(l(oe,re.sibling),Te=g(re,le),Te.return=oe,oe=Te):(l(oe,re),Te=hp(le,oe.mode,Te),Te.return=oe,oe=Te),D(oe)):l(oe,re)}return function(oe,re,le,Te){try{Cc=0;var ze=Qt(oe,re,le,Te);return zu=null,ze}catch(Ye){if(Ye===_c||Ye===Zf)throw Ye;var ft=si(29,Ye,null,oe.mode);return ft.lanes=Te,ft.return=oe,ft}finally{}}}var Fu=uT(!0),lT=uT(!1),Oi=ee(null),gs=null;function xa(i){var a=i.alternate;z($n,$n.current&1),z(Oi,i),gs===null&&(a===null||Bu.current!==null||a.memoizedState!==null)&&(gs=i)}function cT(i){if(i.tag===22){if(z($n,$n.current),z(Oi,i),gs===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(gs=i)}}else wa()}function wa(){z($n,$n.current),z(Oi,Oi.current)}function Ws(i){ae(Oi),gs===i&&(gs=null),ae($n)}var $n=ee(0);function hd(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Pg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Yp(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:p({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Gp={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=li(),g=va(h);g.payload=a,l!=null&&(g.callback=l),a=Sa(i,g,h),a!==null&&(ci(a,i,h),Tc(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=li(),g=va(h);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Sa(i,g,h),a!==null&&(ci(a,i,h),Tc(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=li(),h=va(l);h.tag=2,a!=null&&(h.callback=a),a=Sa(i,h,l),a!==null&&(ci(a,i,l),Tc(a,i,l))}};function hT(i,a,l,h,g,E,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,E,D):a.prototype&&a.prototype.isPureReactComponent?!hc(l,h)||!hc(g,E):!0}function fT(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&Gp.enqueueReplaceState(a,a.state,null)}function Yo(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=p({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var fd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function dT(i){fd(i)}function mT(i){console.error(i)}function pT(i){fd(i)}function dd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function gT(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function $p(i,a,l){return l=va(l),l.tag=3,l.payload={element:null},l.callback=function(){dd(i,a)},l}function yT(i){return i=va(i),i.tag=3,i}function ET(i,a,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var E=h.value;i.payload=function(){return g(E)},i.callback=function(){gT(a,l,h)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){gT(a,l,h),typeof g!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var Y=h.stack;this.componentDidCatch(h.value,{componentStack:Y!==null?Y:""})})}function AD(i,a,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&gc(a,l,g,!0),l=Oi.current,l!==null){switch(l.tag){case 13:return gs===null?yg():l.alternate===null&&bn===0&&(bn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===vp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),_g(i,h,g)),!1;case 22:return l.flags|=65536,h===vp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),_g(i,h,g)),!1}throw Error(r(435,l.tag))}return _g(i,h,g),yg(),!1}if(Ot)return a=Oi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==pp&&(i=Error(r(422),{cause:h}),pc(Ci(i,l)))):(h!==pp&&(a=Error(r(423),{cause:h}),pc(Ci(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Ci(h,l),g=$p(i.stateNode,h,g),xp(i,g),bn!==4&&(bn=2)),!1;var E=Error(r(520),{cause:h});if(E=Ci(E,l),Mc===null?Mc=[E]:Mc.push(E),bn!==4&&(bn=2),a===null)return!0;h=Ci(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=$p(l.stateNode,h,i),xp(l,i),!1;case 1:if(a=l.type,E=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Oa===null||!Oa.has(E))))return l.flags|=65536,g&=-g,l.lanes|=g,g=yT(g),ET(g,i,l,h),xp(l,g),!1}l=l.return}while(l!==null);return!1}var _T=Error(r(461)),tr=!1;function dr(i,a,l,h){a.child=i===null?lT(a,null,l,h):Fu(a,i.child,l,h)}function bT(i,a,l,h,g){l=l.render;var E=a.ref;if("ref"in h){var D={};for(var Y in h)Y!=="ref"&&(D[Y]=h[Y])}else D=h;return Fo(a),h=Rp(i,a,l,D,E,g),Y=Dp(),i!==null&&!tr?(Op(i,a,g),Zs(i,a,g)):(Ot&&Y&&dp(a),a.flags|=1,dr(i,a,h,g),a.child)}function TT(i,a,l,h,g){if(i===null){var E=l.type;return typeof E=="function"&&!cp(E)&&E.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=E,vT(i,a,E,h,g)):(i=Gf(l.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(E=i.child,!tg(i,g)){var D=E.memoizedProps;if(l=l.compare,l=l!==null?l:hc,l(D,h)&&i.ref===a.ref)return Zs(i,a,g)}return a.flags|=1,i=Ys(E,h),i.ref=a.ref,i.return=a,a.child=i}function vT(i,a,l,h,g){if(i!==null){var E=i.memoizedProps;if(hc(E,h)&&i.ref===a.ref)if(tr=!1,a.pendingProps=h=E,tg(i,g))(i.flags&131072)!==0&&(tr=!0);else return a.lanes=i.lanes,Zs(i,a,g)}return Xp(i,a,l,h,g)}function ST(i,a,l){var h=a.pendingProps,g=h.children,E=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=E!==null?E.baseLanes|l:l,i!==null){for(g=a.child=i.child,E=0;g!==null;)E=E|g.lanes|g.childLanes,g=g.sibling;a.childLanes=E&~h}else a.childLanes=0,a.child=null;return AT(i,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wf(a,E!==null?E.cachePool:null),E!==null?vb(a,E):Ip(),cT(a);else return a.lanes=a.childLanes=536870912,AT(i,a,E!==null?E.baseLanes|l:l,l)}else E!==null?(Wf(a,E.cachePool),vb(a,E),wa(),a.memoizedState=null):(i!==null&&Wf(a,null),Ip(),wa());return dr(i,a,g,l),a.child}function AT(i,a,l,h){var g=Tp();return g=g===null?null:{parent:Gn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&Wf(a,null),Ip(),cT(a),i!==null&&gc(i,a,h,!0),null}function md(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Xp(i,a,l,h,g){return Fo(a),l=Rp(i,a,l,h,void 0,g),h=Dp(),i!==null&&!tr?(Op(i,a,g),Zs(i,a,g)):(Ot&&h&&dp(a),a.flags|=1,dr(i,a,l,g),a.child)}function xT(i,a,l,h,g,E){return Fo(a),a.updateQueue=null,l=Ab(a,h,l,g),Sb(i),h=Dp(),i!==null&&!tr?(Op(i,a,E),Zs(i,a,E)):(Ot&&h&&dp(a),a.flags|=1,dr(i,a,l,E),a.child)}function wT(i,a,l,h,g){if(Fo(a),a.stateNode===null){var E=Ou,D=l.contextType;typeof D=="object"&&D!==null&&(E=vr(D)),E=new l(h,E),a.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Gp,a.stateNode=E,E._reactInternals=a,E=a.stateNode,E.props=h,E.state=a.memoizedState,E.refs={},Sp(a),D=l.contextType,E.context=typeof D=="object"&&D!==null?vr(D):Ou,E.state=a.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(Yp(a,l,D,h),E.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(D=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),D!==E.state&&Gp.enqueueReplaceState(E,E.state,null),Sc(a,h,E,g),vc(),E.state=a.memoizedState),typeof E.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){E=a.stateNode;var Y=a.memoizedProps,J=Yo(l,Y);E.props=J;var he=E.context,_e=l.contextType;D=Ou,typeof _e=="object"&&_e!==null&&(D=vr(_e));var ve=l.getDerivedStateFromProps;_e=typeof ve=="function"||typeof E.getSnapshotBeforeUpdate=="function",Y=a.pendingProps!==Y,_e||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(Y||he!==D)&&fT(a,E,h,D),Ta=!1;var de=a.memoizedState;E.state=de,Sc(a,h,E,g),vc(),he=a.memoizedState,Y||de!==he||Ta?(typeof ve=="function"&&(Yp(a,l,ve,h),he=a.memoizedState),(J=Ta||hT(a,l,J,h,de,he,D))?(_e||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=he),E.props=h,E.state=he,E.context=D,h=J):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{E=a.stateNode,Ap(i,a),D=a.memoizedProps,_e=Yo(l,D),E.props=_e,ve=a.pendingProps,de=E.context,he=l.contextType,J=Ou,typeof he=="object"&&he!==null&&(J=vr(he)),Y=l.getDerivedStateFromProps,(he=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(D!==ve||de!==J)&&fT(a,E,h,J),Ta=!1,de=a.memoizedState,E.state=de,Sc(a,h,E,g),vc();var me=a.memoizedState;D!==ve||de!==me||Ta||i!==null&&i.dependencies!==null&&Kf(i.dependencies)?(typeof Y=="function"&&(Yp(a,l,Y,h),me=a.memoizedState),(_e=Ta||hT(a,l,_e,h,de,me,J)||i!==null&&i.dependencies!==null&&Kf(i.dependencies))?(he||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,me,J),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,me,J)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=me),E.props=h,E.state=me,E.context=J,h=_e):(typeof E.componentDidUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),h=!1)}return E=h,md(i,a),h=(a.flags&128)!==0,E||h?(E=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:E.render(),a.flags|=1,i!==null&&h?(a.child=Fu(a,i.child,null,g),a.child=Fu(a,null,l,g)):dr(i,a,l,g),a.memoizedState=E.state,i=a.child):i=Zs(i,a,g),i}function IT(i,a,l,h){return mc(),a.flags|=256,dr(i,a,l,h),a.child}var Kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(i){return{baseLanes:i,cachePool:mb()}}function Wp(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ki),i}function CT(i,a,l){var h=a.pendingProps,g=!1,E=(a.flags&128)!==0,D;if((D=E)||(D=i!==null&&i.memoizedState===null?!1:($n.current&2)!==0),D&&(g=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ot){if(g?xa(a):wa(),Ot){var Y=_n,J;if(J=Y){e:{for(J=Y,Y=ps;J.nodeType!==8;){if(!Y){Y=null;break e}if(J=Ki(J.nextSibling),J===null){Y=null;break e}}Y=J}Y!==null?(a.memoizedState={dehydrated:Y,treeContext:Bo!==null?{id:Gs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},J=si(18,null,null,0),J.stateNode=Y,J.return=a,a.child=J,Hr=a,_n=null,J=!0):J=!1}J||Ho(a)}if(Y=a.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return Pg(Y)?a.lanes=32:a.lanes=536870912,null;Ws(a)}return Y=h.children,h=h.fallback,g?(wa(),g=a.mode,Y=pd({mode:"hidden",children:Y},g),h=Mo(h,g,l,null),Y.return=a,h.return=a,Y.sibling=h,a.child=Y,g=a.child,g.memoizedState=Qp(l),g.childLanes=Wp(i,D,l),a.memoizedState=Kp,h):(xa(a),Zp(a,Y))}if(J=i.memoizedState,J!==null&&(Y=J.dehydrated,Y!==null)){if(E)a.flags&256?(xa(a),a.flags&=-257,a=Jp(i,a,l)):a.memoizedState!==null?(wa(),a.child=i.child,a.flags|=128,a=null):(wa(),g=h.fallback,Y=a.mode,h=pd({mode:"visible",children:h.children},Y),g=Mo(g,Y,l,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,Fu(a,i.child,null,l),h=a.child,h.memoizedState=Qp(l),h.childLanes=Wp(i,D,l),a.memoizedState=Kp,a=g);else if(xa(a),Pg(Y)){if(D=Y.nextSibling&&Y.nextSibling.dataset,D)var he=D.dgst;D=he,h=Error(r(419)),h.stack="",h.digest=D,pc({value:h,source:null,stack:null}),a=Jp(i,a,l)}else if(tr||gc(i,a,l,!1),D=(l&i.childLanes)!==0,tr||D){if(D=tn,D!==null&&(h=l&-l,h=(h&42)!==0?1:ti(h),h=(h&(D.suspendedLanes|l))!==0?0:h,h!==0&&h!==J.retryLane))throw J.retryLane=h,Du(i,h),ci(D,i,h),_T;Y.data==="$?"||yg(),a=Jp(i,a,l)}else Y.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=J.treeContext,_n=Ki(Y.nextSibling),Hr=a,Ot=!0,Vo=null,ps=!1,i!==null&&(Ri[Di++]=Gs,Ri[Di++]=$s,Ri[Di++]=Bo,Gs=i.id,$s=i.overflow,Bo=a),a=Zp(a,h.children),a.flags|=4096);return a}return g?(wa(),g=h.fallback,Y=a.mode,J=i.child,he=J.sibling,h=Ys(J,{mode:"hidden",children:h.children}),h.subtreeFlags=J.subtreeFlags&65011712,he!==null?g=Ys(he,g):(g=Mo(g,Y,l,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,Y=i.child.memoizedState,Y===null?Y=Qp(l):(J=Y.cachePool,J!==null?(he=Gn._currentValue,J=J.parent!==he?{parent:he,pool:he}:J):J=mb(),Y={baseLanes:Y.baseLanes|l,cachePool:J}),g.memoizedState=Y,g.childLanes=Wp(i,D,l),a.memoizedState=Kp,h):(xa(a),l=i.child,i=l.sibling,l=Ys(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(D=a.deletions,D===null?(a.deletions=[i],a.flags|=16):D.push(i)),a.child=l,a.memoizedState=null,l)}function Zp(i,a){return a=pd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function pd(i,a){return i=si(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Jp(i,a,l){return Fu(a,i.child,null,l),i=Zp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function NT(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),yp(i.return,a,l)}function eg(i,a,l,h,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=l,E.tailMode=g)}function RT(i,a,l){var h=a.pendingProps,g=h.revealOrder,E=h.tail;if(dr(i,a,h.children,l),h=$n.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&NT(i,l,a);else if(i.tag===19)NT(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(z($n,h),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&hd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),eg(a,!1,g,l,E);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&hd(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}eg(a,!0,l,null,E);break;case"together":eg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zs(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Da|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(gc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ys(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ys(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function tg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Kf(i)))}function xD(i,a,l){switch(a.tag){case 3:xe(a,a.stateNode.containerInfo),ba(a,Gn,i.memoizedState.cache),mc();break;case 27:case 5:He(a);break;case 4:xe(a,a.stateNode.containerInfo);break;case 10:ba(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(xa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?CT(i,a,l):(xa(a),i=Zs(i,a,l),i!==null?i.sibling:null);xa(a);break;case 19:var g=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(gc(i,a,l,!1),h=(l&a.childLanes)!==0),g){if(h)return RT(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z($n,$n.current),h)break;return null;case 22:case 23:return a.lanes=0,ST(i,a,l);case 24:ba(a,Gn,i.memoizedState.cache)}return Zs(i,a,l)}function DT(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)tr=!0;else{if(!tg(i,l)&&(a.flags&128)===0)return tr=!1,xD(i,a,l);tr=(i.flags&131072)!==0}else tr=!1,Ot&&(a.flags&1048576)!==0&&ob(a,Xf,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")cp(h)?(i=Yo(h,i),a.tag=1,a=wT(null,a,h,i,l)):(a.tag=0,a=Xp(null,a,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===L){a.tag=11,a=bT(null,a,h,i,l);break e}else if(g===S){a.tag=14,a=TT(null,a,h,i,l);break e}}throw a=U(h)||h,Error(r(306,a,""))}}return a;case 0:return Xp(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,g=Yo(h,a.pendingProps),wT(i,a,h,g,l);case 3:e:{if(xe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var E=a.memoizedState;g=E.element,Ap(i,a),Sc(a,h,null,l);var D=a.memoizedState;if(h=D.cache,ba(a,Gn,h),h!==E.cache&&Ep(a,[Gn],l,!0),vc(),h=D.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){a=IT(i,a,h,l);break e}else if(h!==g){g=Ci(Error(r(424)),a),pc(g),a=IT(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_n=Ki(i.firstChild),Hr=a,Ot=!0,Vo=null,ps=!0,l=lT(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(mc(),h===g){a=Zs(i,a,l);break e}dr(i,a,h,l)}a=a.child}return a;case 26:return md(i,a),i===null?(l=Lv(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ot||(l=a.type,i=a.pendingProps,h=Nd(we.current).createElement(l),h[Pt]=a,h[hn]=i,pr(h,l,i),te(h),a.stateNode=h):a.memoizedState=Lv(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return He(a),i===null&&Ot&&(h=a.stateNode=Ov(a.type,a.pendingProps,we.current),Hr=a,ps=!0,g=_n,La(a.type)?(Lg=g,_n=Ki(h.firstChild)):_n=g),dr(i,a,a.pendingProps.children,l),md(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ot&&((g=h=_n)&&(h=JD(h,a.type,a.pendingProps,ps),h!==null?(a.stateNode=h,Hr=a,_n=Ki(h.firstChild),ps=!1,g=!0):g=!1),g||Ho(a)),He(a),g=a.type,E=a.pendingProps,D=i!==null?i.memoizedProps:null,h=E.children,Dg(g,E)?h=null:D!==null&&Dg(g,D)&&(a.flags|=32),a.memoizedState!==null&&(g=Rp(i,a,yD,null,null,l),Yc._currentValue=g),md(i,a),dr(i,a,h,l),a.child;case 6:return i===null&&Ot&&((i=l=_n)&&(l=eO(l,a.pendingProps,ps),l!==null?(a.stateNode=l,Hr=a,_n=null,i=!0):i=!1),i||Ho(a)),null;case 13:return CT(i,a,l);case 4:return xe(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Fu(a,null,h,l):dr(i,a,h,l),a.child;case 11:return bT(i,a,a.type,a.pendingProps,l);case 7:return dr(i,a,a.pendingProps,l),a.child;case 8:return dr(i,a,a.pendingProps.children,l),a.child;case 12:return dr(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,ba(a,a.type,h.value),dr(i,a,h.children,l),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Fo(a),g=vr(g),h=h(g),a.flags|=1,dr(i,a,h,l),a.child;case 14:return TT(i,a,a.type,a.pendingProps,l);case 15:return vT(i,a,a.type,a.pendingProps,l);case 19:return RT(i,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},i===null?(l=pd(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ys(i.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return ST(i,a,l);case 24:return Fo(a),h=vr(Gn),i===null?(g=Tp(),g===null&&(g=tn,E=_p(),g.pooledCache=E,E.refCount++,E!==null&&(g.pooledCacheLanes|=l),g=E),a.memoizedState={parent:h,cache:g},Sp(a),ba(a,Gn,g)):((i.lanes&l)!==0&&(Ap(i,a),Sc(a,null,null,l),vc()),g=i.memoizedState,E=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),ba(a,Gn,h)):(h=E.cache,ba(a,Gn,h),h!==g.cache&&Ep(a,[Gn],l,!0))),dr(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Js(i){i.flags|=4}function OT(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Hv(a)){if(a=Oi.current,a!==null&&((wt&4194048)===wt?gs!==null:(wt&62914560)!==wt&&(wt&536870912)===0||a!==gs))throw bc=vp,pb;i.flags|=8192}}function gd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?br():536870912,i.lanes|=a,Gu|=a)}function Rc(i,a){if(!Ot)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function pn(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function wD(i,a,l){var h=a.pendingProps;switch(mp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(a),null;case 1:return pn(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ks(Gn),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(dc(a)?Js(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cb())),pn(a),null;case 26:return l=a.memoizedState,i===null?(Js(a),l!==null?(pn(a),OT(a,l)):(pn(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Js(a),pn(a),OT(a,l)):(pn(a),a.flags&=-16777217):(i.memoizedProps!==h&&Js(a),pn(a),a.flags&=-16777217),null;case 27:Je(a),l=we.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Js(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return pn(a),null}i=ge.current,dc(a)?ub(a):(i=Ov(g,h,l),a.stateNode=i,Js(a))}return pn(a),null;case 5:if(Je(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Js(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return pn(a),null}if(i=ge.current,dc(a))ub(a);else{switch(g=Nd(we.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[Pt]=a,i[hn]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(pr(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Js(a)}}return pn(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Js(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=we.current,dc(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,g=Hr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Pt]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||xv(i.nodeValue,l)),i||Ho(a)}else i=Nd(i).createTextNode(h),i[Pt]=a,a.stateNode=i}return pn(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=dc(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Pt]=a}else mc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pn(a),g=!1}else g=cb(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Ws(a),a):(Ws(a),null)}if(Ws(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var E=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==g&&(h.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),gd(a,a.updateQueue),pn(a),null;case 4:return Le(),i===null&&wg(a.stateNode.containerInfo),pn(a),null;case 10:return Ks(a.type),pn(a),null;case 19:if(ae($n),g=a.memoizedState,g===null)return pn(a),null;if(h=(a.flags&128)!==0,E=g.rendering,E===null)if(h)Rc(g,!1);else{if(bn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(E=hd(i),E!==null){for(a.flags|=128,Rc(g,!1),i=E.updateQueue,a.updateQueue=i,gd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)ab(l,i),l=l.sibling;return z($n,$n.current&1|2),a.child}i=i.sibling}g.tail!==null&&Qe()>_d&&(a.flags|=128,h=!0,Rc(g,!1),a.lanes=4194304)}else{if(!h)if(i=hd(E),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,gd(a,i),Rc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ot)return pn(a),null}else 2*Qe()-g.renderingStartTime>_d&&l!==536870912&&(a.flags|=128,h=!0,Rc(g,!1),a.lanes=4194304);g.isBackwards?(E.sibling=a.child,a.child=E):(i=g.last,i!==null?i.sibling=E:a.child=E,g.last=E)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Qe(),a.sibling=null,i=$n.current,z($n,h?i&1|2:i&1),a):(pn(a),null);case 22:case 23:return Ws(a),Cp(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(pn(a),a.subtreeFlags&6&&(a.flags|=8192)):pn(a),l=a.updateQueue,l!==null&&gd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&ae(jo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ks(Gn),pn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function ID(i,a){switch(mp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ks(Gn),Le(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Je(a),null;case 13:if(Ws(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));mc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ae($n),null;case 4:return Le(),null;case 10:return Ks(a.type),null;case 22:case 23:return Ws(a),Cp(),i!==null&&ae(jo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ks(Gn),null;case 25:return null;default:return null}}function kT(i,a){switch(mp(a),a.tag){case 3:Ks(Gn),Le();break;case 26:case 27:case 5:Je(a);break;case 4:Le();break;case 13:Ws(a);break;case 19:ae($n);break;case 10:Ks(a.type);break;case 22:case 23:Ws(a),Cp(),i!==null&&ae(jo);break;case 24:Ks(Gn)}}function Dc(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var E=l.create,D=l.inst;h=E(),D.destroy=h}l=l.next}while(l!==g)}}catch(Y){Zt(a,a.return,Y)}}function Ia(i,a,l){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var E=g.next;h=E;do{if((h.tag&i)===i){var D=h.inst,Y=D.destroy;if(Y!==void 0){D.destroy=void 0,g=a;var J=l,he=Y;try{he()}catch(_e){Zt(g,J,_e)}}}h=h.next}while(h!==E)}}catch(_e){Zt(a,a.return,_e)}}function PT(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Tb(a,l)}catch(h){Zt(i,i.return,h)}}}function LT(i,a,l){l.props=Yo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Zt(i,a,h)}}function Oc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Zt(i,a,g)}}function ys(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Zt(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Zt(i,a,g)}else l.current=null}function MT(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Zt(i,i.return,g)}}function ng(i,a,l){try{var h=i.stateNode;XD(h,i.type,l,a),h[hn]=a}catch(g){Zt(i,i.return,g)}}function BT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&La(i.type)||i.tag===4}function rg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||BT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&La(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ig(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Cd));else if(h!==4&&(h===27&&La(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(ig(i,a,l),i=i.sibling;i!==null;)ig(i,a,l),i=i.sibling}function yd(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&La(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(yd(i,a,l),i=i.sibling;i!==null;)yd(i,a,l),i=i.sibling}function UT(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);pr(a,h,l),a[Pt]=i,a[hn]=l}catch(E){Zt(i,i.return,E)}}var ea=!1,xn=!1,sg=!1,VT=typeof WeakSet=="function"?WeakSet:Set,nr=null;function CD(i,a){if(i=i.containerInfo,Ng=Ld,i=Q1(i),rp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{l.nodeType,E.nodeType}catch{l=null;break e}var D=0,Y=-1,J=-1,he=0,_e=0,ve=i,de=null;t:for(;;){for(var me;ve!==l||g!==0&&ve.nodeType!==3||(Y=D+g),ve!==E||h!==0&&ve.nodeType!==3||(J=D+h),ve.nodeType===3&&(D+=ve.nodeValue.length),(me=ve.firstChild)!==null;)de=ve,ve=me;for(;;){if(ve===i)break t;if(de===l&&++he===g&&(Y=D),de===E&&++_e===h&&(J=D),(me=ve.nextSibling)!==null)break;ve=de,de=ve.parentNode}ve=me}l=Y===-1||J===-1?null:{start:Y,end:J}}else l=null}l=l||{start:0,end:0}}else l=null;for(Rg={focusedElem:i,selectionRange:l},Ld=!1,nr=a;nr!==null;)if(a=nr,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,nr=i;else for(;nr!==null;){switch(a=nr,E=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&E!==null){i=void 0,l=a,g=E.memoizedProps,E=E.memoizedState,h=l.stateNode;try{var et=Yo(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(et,E),h.__reactInternalSnapshotBeforeUpdate=i}catch(Xe){Zt(l,l.return,Xe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)kg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":kg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,nr=i;break}nr=a.return}}function HT(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ca(i,l),h&4&&Dc(5,l);break;case 1:if(Ca(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(D){Zt(l,l.return,D)}else{var g=Yo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Zt(l,l.return,D)}}h&64&&PT(l),h&512&&Oc(l,l.return);break;case 3:if(Ca(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Tb(i,a)}catch(D){Zt(l,l.return,D)}}break;case 27:a===null&&h&4&&UT(l);case 26:case 5:Ca(i,l),a===null&&h&4&&MT(l),h&512&&Oc(l,l.return);break;case 12:Ca(i,l);break;case 13:Ca(i,l),h&4&&jT(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=BD.bind(null,l),tO(i,l))));break;case 22:if(h=l.memoizedState!==null||ea,!h){a=a!==null&&a.memoizedState!==null||xn,g=ea;var E=xn;ea=h,(xn=a)&&!E?Na(i,l,(l.subtreeFlags&8772)!==0):Ca(i,l),ea=g,xn=E}break;case 30:break;default:Ca(i,l)}}function zT(i){var a=i.alternate;a!==null&&(i.alternate=null,zT(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&ri(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dn=null,Yr=!1;function ta(i,a,l){for(l=l.child;l!==null;)FT(i,a,l),l=l.sibling}function FT(i,a,l){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(fe,l)}catch{}switch(l.tag){case 26:xn||ys(l,a),ta(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xn||ys(l,a);var h=dn,g=Yr;La(l.type)&&(dn=l.stateNode,Yr=!1),ta(i,a,l),zc(l.stateNode),dn=h,Yr=g;break;case 5:xn||ys(l,a);case 6:if(h=dn,g=Yr,dn=null,ta(i,a,l),dn=h,Yr=g,dn!==null)if(Yr)try{(dn.nodeType===9?dn.body:dn.nodeName==="HTML"?dn.ownerDocument.body:dn).removeChild(l.stateNode)}catch(E){Zt(l,a,E)}else try{dn.removeChild(l.stateNode)}catch(E){Zt(l,a,E)}break;case 18:dn!==null&&(Yr?(i=dn,Rv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Kc(i)):Rv(dn,l.stateNode));break;case 4:h=dn,g=Yr,dn=l.stateNode.containerInfo,Yr=!0,ta(i,a,l),dn=h,Yr=g;break;case 0:case 11:case 14:case 15:xn||Ia(2,l,a),xn||Ia(4,l,a),ta(i,a,l);break;case 1:xn||(ys(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&LT(l,a,h)),ta(i,a,l);break;case 21:ta(i,a,l);break;case 22:xn=(h=xn)||l.memoizedState!==null,ta(i,a,l),xn=h;break;default:ta(i,a,l)}}function jT(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Kc(i)}catch(l){Zt(a,a.return,l)}}function ND(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new VT),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new VT),a;default:throw Error(r(435,i.tag))}}function ag(i,a){var l=ND(i);a.forEach(function(h){var g=UD.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function ai(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],E=i,D=a,Y=D;e:for(;Y!==null;){switch(Y.tag){case 27:if(La(Y.type)){dn=Y.stateNode,Yr=!1;break e}break;case 5:dn=Y.stateNode,Yr=!1;break e;case 3:case 4:dn=Y.stateNode.containerInfo,Yr=!0;break e}Y=Y.return}if(dn===null)throw Error(r(160));FT(E,D,g),dn=null,Yr=!1,E=g.alternate,E!==null&&(E.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)qT(a,i),a=a.sibling}var Xi=null;function qT(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ai(a,i),oi(i),h&4&&(Ia(3,i,i.return),Dc(3,i),Ia(5,i,i.return));break;case 1:ai(a,i),oi(i),h&512&&(xn||l===null||ys(l,l.return)),h&64&&ea&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Xi;if(ai(a,i),oi(i),h&512&&(xn||l===null||ys(l,l.return)),h&4){var E=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":E=g.getElementsByTagName("title")[0],(!E||E[Ti]||E[Pt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=g.createElement(h),g.head.insertBefore(E,g.querySelector("head > title"))),pr(E,h,l),E[Pt]=i,te(E),h=E;break e;case"link":var D=Uv("link","href",g).get(h+(l.href||""));if(D){for(var Y=0;Y<D.length;Y++)if(E=D[Y],E.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&E.getAttribute("rel")===(l.rel==null?null:l.rel)&&E.getAttribute("title")===(l.title==null?null:l.title)&&E.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(Y,1);break t}}E=g.createElement(h),pr(E,h,l),g.head.appendChild(E);break;case"meta":if(D=Uv("meta","content",g).get(h+(l.content||""))){for(Y=0;Y<D.length;Y++)if(E=D[Y],E.getAttribute("content")===(l.content==null?null:""+l.content)&&E.getAttribute("name")===(l.name==null?null:l.name)&&E.getAttribute("property")===(l.property==null?null:l.property)&&E.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&E.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(Y,1);break t}}E=g.createElement(h),pr(E,h,l),g.head.appendChild(E);break;default:throw Error(r(468,h))}E[Pt]=i,te(E),h=E}i.stateNode=h}else Vv(g,i.type,i.stateNode);else i.stateNode=Bv(g,h,i.memoizedProps);else E!==h?(E===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):E.count--,h===null?Vv(g,i.type,i.stateNode):Bv(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&ng(i,i.memoizedProps,l.memoizedProps)}break;case 27:ai(a,i),oi(i),h&512&&(xn||l===null||ys(l,l.return)),l!==null&&h&4&&ng(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ai(a,i),oi(i),h&512&&(xn||l===null||ys(l,l.return)),i.flags&32){g=i.stateNode;try{cr(g,"")}catch(me){Zt(i,i.return,me)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,ng(i,g,l!==null?l.memoizedProps:g)),h&1024&&(sg=!0);break;case 6:if(ai(a,i),oi(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(me){Zt(i,i.return,me)}}break;case 3:if(Od=null,g=Xi,Xi=Rd(a.containerInfo),ai(a,i),Xi=g,oi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(a.containerInfo)}catch(me){Zt(i,i.return,me)}sg&&(sg=!1,YT(i));break;case 4:h=Xi,Xi=Rd(i.stateNode.containerInfo),ai(a,i),oi(i),Xi=h;break;case 12:ai(a,i),oi(i);break;case 13:ai(a,i),oi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fg=Qe()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ag(i,h)));break;case 22:g=i.memoizedState!==null;var J=l!==null&&l.memoizedState!==null,he=ea,_e=xn;if(ea=he||g,xn=_e||J,ai(a,i),xn=_e,ea=he,oi(i),h&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||J||ea||xn||Go(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){J=l=a;try{if(E=J.stateNode,g)D=E.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{Y=J.stateNode;var ve=J.memoizedProps.style,de=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;Y.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(me){Zt(J,J.return,me)}}}else if(a.tag===6){if(l===null){J=a;try{J.stateNode.nodeValue=g?"":J.memoizedProps}catch(me){Zt(J,J.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,ag(i,l))));break;case 19:ai(a,i),oi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,ag(i,h)));break;case 30:break;case 21:break;default:ai(a,i),oi(i)}}function oi(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(BT(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,E=rg(i);yd(i,E,g);break;case 5:var D=l.stateNode;l.flags&32&&(cr(D,""),l.flags&=-33);var Y=rg(i);yd(i,Y,D);break;case 3:case 4:var J=l.stateNode.containerInfo,he=rg(i);ig(i,he,J);break;default:throw Error(r(161))}}catch(_e){Zt(i,i.return,_e)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function YT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;YT(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ca(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)HT(i,a.alternate,a),a=a.sibling}function Go(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ia(4,a,a.return),Go(a);break;case 1:ys(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&LT(a,a.return,l),Go(a);break;case 27:zc(a.stateNode);case 26:case 5:ys(a,a.return),Go(a);break;case 22:a.memoizedState===null&&Go(a);break;case 30:Go(a);break;default:Go(a)}i=i.sibling}}function Na(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,E=a,D=E.flags;switch(E.tag){case 0:case 11:case 15:Na(g,E,l),Dc(4,E);break;case 1:if(Na(g,E,l),h=E,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(he){Zt(h,h.return,he)}if(h=E,g=h.updateQueue,g!==null){var Y=h.stateNode;try{var J=g.shared.hiddenCallbacks;if(J!==null)for(g.shared.hiddenCallbacks=null,g=0;g<J.length;g++)bb(J[g],Y)}catch(he){Zt(h,h.return,he)}}l&&D&64&&PT(E),Oc(E,E.return);break;case 27:UT(E);case 26:case 5:Na(g,E,l),l&&h===null&&D&4&&MT(E),Oc(E,E.return);break;case 12:Na(g,E,l);break;case 13:Na(g,E,l),l&&D&4&&jT(g,E);break;case 22:E.memoizedState===null&&Na(g,E,l),Oc(E,E.return);break;case 30:break;default:Na(g,E,l)}a=a.sibling}}function og(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&yc(l))}function ug(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yc(i))}function Es(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)GT(i,a,l,h),a=a.sibling}function GT(i,a,l,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Es(i,a,l,h),g&2048&&Dc(9,a);break;case 1:Es(i,a,l,h);break;case 3:Es(i,a,l,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yc(i)));break;case 12:if(g&2048){Es(i,a,l,h),i=a.stateNode;try{var E=a.memoizedProps,D=E.id,Y=E.onPostCommit;typeof Y=="function"&&Y(D,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Zt(a,a.return,J)}}else Es(i,a,l,h);break;case 13:Es(i,a,l,h);break;case 23:break;case 22:E=a.stateNode,D=a.alternate,a.memoizedState!==null?E._visibility&2?Es(i,a,l,h):kc(i,a):E._visibility&2?Es(i,a,l,h):(E._visibility|=2,ju(i,a,l,h,(a.subtreeFlags&10256)!==0)),g&2048&&og(D,a);break;case 24:Es(i,a,l,h),g&2048&&ug(a.alternate,a);break;default:Es(i,a,l,h)}}function ju(i,a,l,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var E=i,D=a,Y=l,J=h,he=D.flags;switch(D.tag){case 0:case 11:case 15:ju(E,D,Y,J,g),Dc(8,D);break;case 23:break;case 22:var _e=D.stateNode;D.memoizedState!==null?_e._visibility&2?ju(E,D,Y,J,g):kc(E,D):(_e._visibility|=2,ju(E,D,Y,J,g)),g&&he&2048&&og(D.alternate,D);break;case 24:ju(E,D,Y,J,g),g&&he&2048&&ug(D.alternate,D);break;default:ju(E,D,Y,J,g)}a=a.sibling}}function kc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,g=h.flags;switch(h.tag){case 22:kc(l,h),g&2048&&og(h.alternate,h);break;case 24:kc(l,h),g&2048&&ug(h.alternate,h);break;default:kc(l,h)}a=a.sibling}}var Pc=8192;function qu(i){if(i.subtreeFlags&Pc)for(i=i.child;i!==null;)$T(i),i=i.sibling}function $T(i){switch(i.tag){case 26:qu(i),i.flags&Pc&&i.memoizedState!==null&&mO(Xi,i.memoizedState,i.memoizedProps);break;case 5:qu(i);break;case 3:case 4:var a=Xi;Xi=Rd(i.stateNode.containerInfo),qu(i),Xi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Pc,Pc=16777216,qu(i),Pc=a):qu(i));break;default:qu(i)}}function XT(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Lc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];nr=h,QT(h,i)}XT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)KT(i),i=i.sibling}function KT(i){switch(i.tag){case 0:case 11:case 15:Lc(i),i.flags&2048&&Ia(9,i,i.return);break;case 3:Lc(i);break;case 12:Lc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Ed(i)):Lc(i);break;default:Lc(i)}}function Ed(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];nr=h,QT(h,i)}XT(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ia(8,a,a.return),Ed(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ed(a));break;default:Ed(a)}i=i.sibling}}function QT(i,a){for(;nr!==null;){var l=nr;switch(l.tag){case 0:case 11:case 15:Ia(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,nr=h;else e:for(l=i;nr!==null;){h=nr;var g=h.sibling,E=h.return;if(zT(h),h===l){nr=null;break e}if(g!==null){g.return=E,nr=g;break e}nr=E}}}var RD={getCacheForType:function(i){var a=vr(Gn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},DD=typeof WeakMap=="function"?WeakMap:Map,qt=0,tn=null,gt=null,wt=0,Yt=0,ui=null,Ra=!1,Yu=!1,lg=!1,na=0,bn=0,Da=0,$o=0,cg=0,ki=0,Gu=0,Mc=null,Gr=null,hg=!1,fg=0,_d=1/0,bd=null,Oa=null,mr=0,ka=null,$u=null,Xu=0,dg=0,mg=null,WT=null,Bc=0,pg=null;function li(){if((qt&2)!==0&&wt!==0)return wt&-wt;if(j.T!==null){var i=Lu;return i!==0?i:vg()}return Dr()}function ZT(){ki===0&&(ki=(wt&536870912)===0||Ot?ji():536870912);var i=Oi.current;return i!==null&&(i.flags|=32),ki}function ci(i,a,l){(i===tn&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(Ku(i,0),Pa(i,wt,ki,!1)),Rr(i,l),((qt&2)===0||i!==tn)&&(i===tn&&((qt&2)===0&&($o|=l),bn===4&&Pa(i,wt,ki,!1)),_s(i))}function JT(i,a,l){if((qt&6)!==0)throw Error(r(327));var h=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Wt(i,a),g=h?PD(i,a):Eg(i,a,!0),E=h;do{if(g===0){Yu&&!h&&Pa(i,a,0,!1);break}else{if(l=i.current.alternate,E&&!OD(l)){g=Eg(i,a,!1),E=!1;continue}if(g===2){if(E=a,i.errorRecoveryDisabledLanes&E)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var Y=i;g=Mc;var J=Y.current.memoizedState.isDehydrated;if(J&&(Ku(Y,D).flags|=256),D=Eg(Y,D,!1),D!==2){if(lg&&!J){Y.errorRecoveryDisabledLanes|=E,$o|=E,g=4;break e}E=Gr,Gr=g,E!==null&&(Gr===null?Gr=E:Gr.push.apply(Gr,E))}g=D}if(E=!1,g!==2)continue}}if(g===1){Ku(i,0),Pa(i,a,0,!0);break}e:{switch(h=i,E=g,E){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Pa(h,a,ki,!Ra);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=fg+300-Qe(),10<g)){if(Pa(h,a,ki,!Ra),lt(h,0,!0)!==0)break e;h.timeoutHandle=Cv(ev.bind(null,h,l,Gr,bd,hg,a,ki,$o,Gu,Ra,E,2,-0,0),g);break e}ev(h,l,Gr,bd,hg,a,ki,$o,Gu,Ra,E,0,-0,0)}}break}while(!0);_s(i)}function ev(i,a,l,h,g,E,D,Y,J,he,_e,ve,de,me){if(i.timeoutHandle=-1,ve=a.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(qc={stylesheets:null,count:0,unsuspend:dO},$T(a),ve=pO(),ve!==null)){i.cancelPendingCommit=ve(ov.bind(null,i,a,E,l,h,g,D,Y,J,_e,1,de,me)),Pa(i,E,D,!he);return}ov(i,a,E,l,h,g,D,Y,J)}function OD(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],E=g.getSnapshot;g=g.value;try{if(!ii(E(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Pa(i,a,l,h){a&=~cg,a&=~$o,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var E=31-qe(g),D=1<<E;h[E]=-1,g&=~D}l!==0&&Fr(i,l,a)}function Td(){return(qt&6)===0?(Uc(0),!1):!0}function gg(){if(gt!==null){if(Yt===0)var i=gt.return;else i=gt,Xs=zo=null,kp(i),zu=null,Cc=0,i=gt;for(;i!==null;)kT(i.alternate,i),i=i.return;gt=null}}function Ku(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,QD(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),gg(),tn=i,gt=l=Ys(i.current,null),wt=a,Yt=0,ui=null,Ra=!1,Yu=Wt(i,a),lg=!1,Gu=ki=cg=$o=Da=bn=0,Gr=Mc=null,hg=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-qe(h),E=1<<g;a|=i[g],h&=~E}return na=a,jf(),l}function tv(i,a){ct=null,j.H=ud,a===_c||a===Zf?(a=Eb(),Yt=3):a===pb?(a=Eb(),Yt=4):Yt=a===_T?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ui=a,gt===null&&(bn=1,dd(i,Ci(a,i.current)))}function nv(){var i=j.H;return j.H=ud,i===null?ud:i}function rv(){var i=j.A;return j.A=RD,i}function yg(){bn=4,Ra||(wt&4194048)!==wt&&Oi.current!==null||(Yu=!0),(Da&134217727)===0&&($o&134217727)===0||tn===null||Pa(tn,wt,ki,!1)}function Eg(i,a,l){var h=qt;qt|=2;var g=nv(),E=rv();(tn!==i||wt!==a)&&(bd=null,Ku(i,a)),a=!1;var D=bn;e:do try{if(Yt!==0&&gt!==null){var Y=gt,J=ui;switch(Yt){case 8:gg(),D=6;break e;case 3:case 2:case 9:case 6:Oi.current===null&&(a=!0);var he=Yt;if(Yt=0,ui=null,Qu(i,Y,J,he),l&&Yu){D=0;break e}break;default:he=Yt,Yt=0,ui=null,Qu(i,Y,J,he)}}kD(),D=bn;break}catch(_e){tv(i,_e)}while(!0);return a&&i.shellSuspendCounter++,Xs=zo=null,qt=h,j.H=g,j.A=E,gt===null&&(tn=null,wt=0,jf()),D}function kD(){for(;gt!==null;)iv(gt)}function PD(i,a){var l=qt;qt|=2;var h=nv(),g=rv();tn!==i||wt!==a?(bd=null,_d=Qe()+500,Ku(i,a)):Yu=Wt(i,a);e:do try{if(Yt!==0&&gt!==null){a=gt;var E=ui;t:switch(Yt){case 1:Yt=0,ui=null,Qu(i,a,E,1);break;case 2:case 9:if(gb(E)){Yt=0,ui=null,sv(a);break}a=function(){Yt!==2&&Yt!==9||tn!==i||(Yt=7),_s(i)},E.then(a,a);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:gb(E)?(Yt=0,ui=null,sv(a)):(Yt=0,ui=null,Qu(i,a,E,7));break;case 5:var D=null;switch(gt.tag){case 26:D=gt.memoizedState;case 5:case 27:var Y=gt;if(!D||Hv(D)){Yt=0,ui=null;var J=Y.sibling;if(J!==null)gt=J;else{var he=Y.return;he!==null?(gt=he,vd(he)):gt=null}break t}}Yt=0,ui=null,Qu(i,a,E,5);break;case 6:Yt=0,ui=null,Qu(i,a,E,6);break;case 8:gg(),bn=6;break e;default:throw Error(r(462))}}LD();break}catch(_e){tv(i,_e)}while(!0);return Xs=zo=null,j.H=h,j.A=g,qt=l,gt!==null?0:(tn=null,wt=0,jf(),bn)}function LD(){for(;gt!==null&&!Dt();)iv(gt)}function iv(i){var a=DT(i.alternate,i,na);i.memoizedProps=i.pendingProps,a===null?vd(i):gt=a}function sv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=xT(l,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=xT(l,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:kp(a);default:kT(l,a),a=gt=ab(a,na),a=DT(l,a,na)}i.memoizedProps=i.pendingProps,a===null?vd(i):gt=a}function Qu(i,a,l,h){Xs=zo=null,kp(a),zu=null,Cc=0;var g=a.return;try{if(AD(i,g,a,l,wt)){bn=1,dd(i,Ci(l,i.current)),gt=null;return}}catch(E){if(g!==null)throw gt=g,E;bn=1,dd(i,Ci(l,i.current)),gt=null;return}a.flags&32768?(Ot||h===1?i=!0:Yu||(wt&536870912)!==0?i=!1:(Ra=i=!0,(h===2||h===9||h===3||h===6)&&(h=Oi.current,h!==null&&h.tag===13&&(h.flags|=16384))),av(a,i)):vd(a)}function vd(i){var a=i;do{if((a.flags&32768)!==0){av(a,Ra);return}i=a.return;var l=wD(a.alternate,a,na);if(l!==null){gt=l;return}if(a=a.sibling,a!==null){gt=a;return}gt=a=i}while(a!==null);bn===0&&(bn=5)}function av(i,a){do{var l=ID(i.alternate,i);if(l!==null){l.flags&=32767,gt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){gt=i;return}gt=i=l}while(i!==null);bn=6,gt=null}function ov(i,a,l,h,g,E,D,Y,J){i.cancelPendingCommit=null;do Sd();while(mr!==0);if((qt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(E=a.lanes|a.childLanes,E|=up,Tr(i,l,E,D,Y,J),i===tn&&(gt=tn=null,wt=0),$u=a,ka=i,Xu=l,dg=E,mg=g,WT=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,VD(Hn,function(){return fv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=j.T,j.T=null,g=W.p,W.p=2,D=qt,qt|=4;try{CD(i,a,l)}finally{qt=D,W.p=g,j.T=h}}mr=1,uv(),lv(),cv()}}function uv(){if(mr===1){mr=0;var i=ka,a=$u,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=j.T,j.T=null;var h=W.p;W.p=2;var g=qt;qt|=4;try{qT(a,i);var E=Rg,D=Q1(i.containerInfo),Y=E.focusedElem,J=E.selectionRange;if(D!==Y&&Y&&Y.ownerDocument&&K1(Y.ownerDocument.documentElement,Y)){if(J!==null&&rp(Y)){var he=J.start,_e=J.end;if(_e===void 0&&(_e=he),"selectionStart"in Y)Y.selectionStart=he,Y.selectionEnd=Math.min(_e,Y.value.length);else{var ve=Y.ownerDocument||document,de=ve&&ve.defaultView||window;if(de.getSelection){var me=de.getSelection(),et=Y.textContent.length,Xe=Math.min(J.start,et),Qt=J.end===void 0?Xe:Math.min(J.end,et);!me.extend&&Xe>Qt&&(D=Qt,Qt=Xe,Xe=D);var oe=X1(Y,Xe),re=X1(Y,Qt);if(oe&&re&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==re.node||me.focusOffset!==re.offset)){var le=ve.createRange();le.setStart(oe.node,oe.offset),me.removeAllRanges(),Xe>Qt?(me.addRange(le),me.extend(re.node,re.offset)):(le.setEnd(re.node,re.offset),me.addRange(le))}}}}for(ve=[],me=Y;me=me.parentNode;)me.nodeType===1&&ve.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<ve.length;Y++){var Te=ve[Y];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Ld=!!Ng,Rg=Ng=null}finally{qt=g,W.p=h,j.T=l}}i.current=a,mr=2}}function lv(){if(mr===2){mr=0;var i=ka,a=$u,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=j.T,j.T=null;var h=W.p;W.p=2;var g=qt;qt|=4;try{HT(i,a.alternate,a)}finally{qt=g,W.p=h,j.T=l}}mr=3}}function cv(){if(mr===4||mr===3){mr=0,Dn();var i=ka,a=$u,l=Xu,h=WT;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?mr=5:(mr=0,$u=ka=null,hv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Oa=null),qi(l),a=a.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(fe,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=j.T,g=W.p,W.p=2,j.T=null;try{for(var E=i.onRecoverableError,D=0;D<h.length;D++){var Y=h[D];E(Y.value,{componentStack:Y.stack})}}finally{j.T=a,W.p=g}}(Xu&3)!==0&&Sd(),_s(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===pg?Bc++:(Bc=0,pg=i):Bc=0,Uc(0)}}function hv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,yc(a)))}function Sd(i){return uv(),lv(),cv(),fv()}function fv(){if(mr!==5)return!1;var i=ka,a=dg;dg=0;var l=qi(Xu),h=j.T,g=W.p;try{W.p=32>l?32:l,j.T=null,l=mg,mg=null;var E=ka,D=Xu;if(mr=0,$u=ka=null,Xu=0,(qt&6)!==0)throw Error(r(331));var Y=qt;if(qt|=4,KT(E.current),GT(E,E.current,D,l),qt=Y,Uc(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(fe,E)}catch{}return!0}finally{W.p=g,j.T=h,hv(i,a)}}function dv(i,a,l){a=Ci(l,a),a=$p(i.stateNode,a,2),i=Sa(i,a,2),i!==null&&(Rr(i,2),_s(i))}function Zt(i,a,l){if(i.tag===3)dv(i,i,l);else for(;a!==null;){if(a.tag===3){dv(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Oa===null||!Oa.has(h))){i=Ci(l,i),l=yT(2),h=Sa(a,l,2),h!==null&&(ET(l,h,a,i),Rr(h,2),_s(h));break}}a=a.return}}function _g(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new DD;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(l)||(lg=!0,g.add(l),i=MD.bind(null,i,a,l),a.then(i,i))}function MD(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,tn===i&&(wt&l)===l&&(bn===4||bn===3&&(wt&62914560)===wt&&300>Qe()-fg?(qt&2)===0&&Ku(i,0):cg|=l,Gu===wt&&(Gu=0)),_s(i)}function mv(i,a){a===0&&(a=br()),i=Du(i,a),i!==null&&(Rr(i,a),_s(i))}function BD(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),mv(i,l)}function UD(i,a){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),mv(i,l)}function VD(i,a){return Jt(i,a)}var Ad=null,Wu=null,bg=!1,xd=!1,Tg=!1,Xo=0;function _s(i){i!==Wu&&i.next===null&&(Wu===null?Ad=Wu=i:Wu=Wu.next=i),xd=!0,bg||(bg=!0,zD())}function Uc(i,a){if(!Tg&&xd){Tg=!0;do for(var l=!1,h=Ad;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var E=0;else{var D=h.suspendedLanes,Y=h.pingedLanes;E=(1<<31-qe(42|i)+1)-1,E&=g&~(D&~Y),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(l=!0,Ev(h,E))}else E=wt,E=lt(h,h===tn?E:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(E&3)===0||Wt(h,E)||(l=!0,Ev(h,E));h=h.next}while(l);Tg=!1}}function HD(){pv()}function pv(){xd=bg=!1;var i=0;Xo!==0&&(KD()&&(i=Xo),Xo=0);for(var a=Qe(),l=null,h=Ad;h!==null;){var g=h.next,E=gv(h,a);E===0?(h.next=null,l===null?Ad=g:l.next=g,g===null&&(Wu=l)):(l=h,(i!==0||(E&3)!==0)&&(xd=!0)),h=g}Uc(i)}function gv(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,E=i.pendingLanes&-62914561;0<E;){var D=31-qe(E),Y=1<<D,J=g[D];J===-1?((Y&l)===0||(Y&h)!==0)&&(g[D]=Gt(Y,a)):J<=a&&(i.expiredLanes|=Y),E&=~Y}if(a=tn,l=wt,l=lt(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&on(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Wt(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&on(h),qi(l)){case 2:case 8:l=Vn;break;case 32:l=Hn;break;case 268435456:l=zn;break;default:l=Hn}return h=yv.bind(null,i),l=Jt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&on(h),i.callbackPriority=2,i.callbackNode=null,2}function yv(i,a){if(mr!==0&&mr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Sd()&&i.callbackNode!==l)return null;var h=wt;return h=lt(i,i===tn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(JT(i,h,a),gv(i,Qe()),i.callbackNode!=null&&i.callbackNode===l?yv.bind(null,i):null)}function Ev(i,a){if(Sd())return null;JT(i,a,!0)}function zD(){WD(function(){(qt&6)!==0?Jt(cn,HD):pv()})}function vg(){return Xo===0&&(Xo=ji()),Xo}function _v(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vs(""+i)}function bv(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function FD(i,a,l,h,g){if(a==="submit"&&l&&l.stateNode===g){var E=_v((g[hn]||null).action),D=h.submitter;D&&(a=(a=D[hn]||null)?_v(a.formAction):D.getAttribute("formAction"),a!==null&&(E=a,D=null));var Y=new bu("action","action",null,h,g);i.push({event:Y,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Xo!==0){var J=D?bv(g,D):new FormData(g);Fp(l,{pending:!0,data:J,method:g.method,action:E},null,J)}}else typeof E=="function"&&(Y.preventDefault(),J=D?bv(g,D):new FormData(g),Fp(l,{pending:!0,data:J,method:g.method,action:E},E,J))},currentTarget:g}]})}}for(var Sg=0;Sg<op.length;Sg++){var Ag=op[Sg],jD=Ag.toLowerCase(),qD=Ag[0].toUpperCase()+Ag.slice(1);$i(jD,"on"+qD)}$i(J1,"onAnimationEnd"),$i(eb,"onAnimationIteration"),$i(tb,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(oD,"onTransitionRun"),$i(uD,"onTransitionStart"),$i(lD,"onTransitionCancel"),$i(nb,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),Me("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Me("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Me("onBeforeInput",["compositionend","keypress","textInput","paste"]),Me("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Me("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Me("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function Tv(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var E=void 0;if(a)for(var D=h.length-1;0<=D;D--){var Y=h[D],J=Y.instance,he=Y.currentTarget;if(Y=Y.listener,J!==E&&g.isPropagationStopped())break e;E=Y,g.currentTarget=he;try{E(g)}catch(_e){fd(_e)}g.currentTarget=null,E=J}else for(D=0;D<h.length;D++){if(Y=h[D],J=Y.instance,he=Y.currentTarget,Y=Y.listener,J!==E&&g.isPropagationStopped())break e;E=Y,g.currentTarget=he;try{E(g)}catch(_e){fd(_e)}g.currentTarget=null,E=J}}}}function yt(i,a){var l=a[ss];l===void 0&&(l=a[ss]=new Set);var h=i+"__bubble";l.has(h)||(vv(a,i,2,!1),l.add(h))}function xg(i,a,l){var h=0;a&&(h|=4),vv(l,i,h,a)}var wd="_reactListening"+Math.random().toString(36).slice(2);function wg(i){if(!i[wd]){i[wd]=!0,pe.forEach(function(l){l!=="selectionchange"&&(YD.has(l)||xg(l,!1,i),xg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[wd]||(a[wd]=!0,xg("selectionchange",!1,a))}}function vv(i,a,l,h){switch(Gv(a)){case 2:var g=EO;break;case 8:g=_O;break;default:g=Hg}l=g.bind(null,a,l,i),g=void 0,!wi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function Ig(i,a,l,h,g){var E=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var D=h.tag;if(D===3||D===4){var Y=h.stateNode.containerInfo;if(Y===g)break;if(D===4)for(D=h.return;D!==null;){var J=D.tag;if((J===3||J===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;Y!==null;){if(D=kr(Y),D===null)return;if(J=D.tag,J===5||J===6||J===26||J===27){h=E=D;continue e}Y=Y.parentNode}}h=h.return}Cf(function(){var he=E,_e=hr(l),ve=[];e:{var de=rb.get(i);if(de!==void 0){var me=bu,et=i;switch(i){case"keypress":if(cs(l)===0)break e;case"keydown":case"keyup":me=wu;break;case"focusin":et="focus",me=Su;break;case"focusout":et="blur",me=Su;break;case"beforeblur":case"afterblur":me=Su;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Mf;break;case J1:case eb:case tb:me=Au;break;case nb:me=Uf;break;case"scroll":case"scrollend":me=Nf;break;case"wheel":me=Iu;break;case"copy":case"cut":case"paste":me=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=lc;break;case"toggle":case"beforetoggle":me=Hf}var Xe=(a&4)!==0,Qt=!Xe&&(i==="scroll"||i==="scrollend"),oe=Xe?de!==null?de+"Capture":null:de;Xe=[];for(var re=he,le;re!==null;){var Te=re;if(le=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||le===null||oe===null||(Te=Io(re,oe),Te!=null&&Xe.push(Hc(re,Te,le))),Qt)break;re=re.return}0<Xe.length&&(de=new me(de,et,null,l,_e),ve.push({event:de,listeners:Xe}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",de&&l!==jr&&(et=l.relatedTarget||l.fromElement)&&(kr(et)||et[yn]))break e;if((me||de)&&(de=_e.window===_e?_e:(de=_e.ownerDocument)?de.defaultView||de.parentWindow:window,me?(et=l.relatedTarget||l.toElement,me=he,et=et?kr(et):null,et!==null&&(Qt=o(et),Xe=et.tag,et!==Qt||Xe!==5&&Xe!==27&&Xe!==6)&&(et=null)):(me=null,et=he),me!==et)){if(Xe=Ii,Te="onMouseLeave",oe="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(Xe=lc,Te="onPointerLeave",oe="onPointerEnter",re="pointer"),Qt=me==null?de:Pr(me),le=et==null?de:Pr(et),de=new Xe(Te,re+"leave",me,l,_e),de.target=Qt,de.relatedTarget=le,Te=null,kr(_e)===he&&(Xe=new Xe(oe,re+"enter",et,l,_e),Xe.target=le,Xe.relatedTarget=Qt,Te=Xe),Qt=Te,me&&et)t:{for(Xe=me,oe=et,re=0,le=Xe;le;le=Zu(le))re++;for(le=0,Te=oe;Te;Te=Zu(Te))le++;for(;0<re-le;)Xe=Zu(Xe),re--;for(;0<le-re;)oe=Zu(oe),le--;for(;re--;){if(Xe===oe||oe!==null&&Xe===oe.alternate)break t;Xe=Zu(Xe),oe=Zu(oe)}Xe=null}else Xe=null;me!==null&&Sv(ve,de,me,Xe,!1),et!==null&&Qt!==null&&Sv(ve,Qt,et,Xe,!0)}}e:{if(de=he?Pr(he):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var ze=F1;else if(Yn(de))if(j1)ze=iD;else{ze=nD;var ft=tD}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?he&&Us(he.elementType)&&(ze=F1):ze=rD;if(ze&&(ze=ze(i,he))){qs(ve,ze,l,_e);break e}ft&&ft(i,de,he),i==="focusout"&&he&&de.type==="number"&&he.memoizedProps.value!=null&&lr(de,"number",de.value)}switch(ft=he?Pr(he):window,i){case"focusin":(Yn(ft)||ft.contentEditable==="true")&&(Cu=ft,ip=he,fc=null);break;case"focusout":fc=ip=Cu=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,W1(ve,l,_e);break;case"selectionchange":if(aD)break;case"keydown":case"keyup":W1(ve,l,_e)}var Ye;if(ds)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else At?ye(i,l)&&(Ke="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ke="onCompositionStart");Ke&&(I&&l.locale!=="ko"&&(At||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&At&&(Ye=ic()):(ls=_e,_a="value"in ls?ls.value:ls.textContent,At=!0)),ft=Id(he,Ke),0<ft.length&&(Ke=new oc(Ke,i,null,l,_e),ve.push({event:Ke,listeners:ft}),Ye?Ke.data=Ye:(Ye=Pe(l),Ye!==null&&(Ke.data=Ye)))),(Ye=v?qn(i,l):xt(i,l))&&(Ke=Id(he,"onBeforeInput"),0<Ke.length&&(ft=new oc("onBeforeInput","beforeinput",null,l,_e),ve.push({event:ft,listeners:Ke}),ft.data=Ye)),FD(ve,i,he,l,_e)}Tv(ve,a)})}function Hc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Id(i,a){for(var l=a+"Capture",h=[];i!==null;){var g=i,E=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||E===null||(g=Io(i,l),g!=null&&h.unshift(Hc(i,g,E)),g=Io(i,a),g!=null&&h.push(Hc(i,g,E))),i.tag===3)return h;i=i.return}return[]}function Zu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Sv(i,a,l,h,g){for(var E=a._reactName,D=[];l!==null&&l!==h;){var Y=l,J=Y.alternate,he=Y.stateNode;if(Y=Y.tag,J!==null&&J===h)break;Y!==5&&Y!==26&&Y!==27||he===null||(J=he,g?(he=Io(l,E),he!=null&&D.unshift(Hc(l,he,J))):g||(he=Io(l,E),he!=null&&D.push(Hc(l,he,J)))),l=l.return}D.length!==0&&i.push({event:a,listeners:D})}var GD=/\r\n?/g,$D=/\u0000|\uFFFD/g;function Av(i){return(typeof i=="string"?i:""+i).replace(GD,`
`).replace($D,"")}function xv(i,a){return a=Av(a),Av(i)===a}function Cd(){}function Kt(i,a,l,h,g,E){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||cr(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&cr(i,""+h);break;case"className":Nt(i,"class",h);break;case"tabIndex":Nt(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Nt(i,l,h);break;case"style":os(i,h,E);break;case"data":if(a!=="object"){Nt(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(l==="formAction"?(a!=="input"&&Kt(i,a,"name",g.name,g,null),Kt(i,a,"formEncType",g.formEncType,g,null),Kt(i,a,"formMethod",g.formMethod,g,null),Kt(i,a,"formTarget",g.formTarget,g,null)):(Kt(i,a,"encType",g.encType,g,null),Kt(i,a,"method",g.method,g,null),Kt(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Vs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Cd);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Vs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":yt("beforetoggle",i),yt("toggle",i),Mt(i,"popover",h);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Mt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ya.get(l)||l,Mt(i,l,h))}}function Cg(i,a,l,h,g,E){switch(l){case"style":os(i,h,E);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?cr(i,h):(typeof h=="number"||typeof h=="bigint")&&cr(i,""+h);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Cd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!De.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),E=i[hn]||null,E=E!=null?E[l]:null,typeof E=="function"&&i.removeEventListener(a,E,g),typeof h=="function")){typeof E!="function"&&E!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Mt(i,l,h)}}}function pr(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",i),yt("load",i);var h=!1,g=!1,E;for(E in l)if(l.hasOwnProperty(E)){var D=l[E];if(D!=null)switch(E){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(i,a,E,D,l,null)}}g&&Kt(i,a,"srcSet",l.srcSet,l,null),h&&Kt(i,a,"src",l.src,l,null);return;case"input":yt("invalid",i);var Y=E=D=g=null,J=null,he=null;for(h in l)if(l.hasOwnProperty(h)){var _e=l[h];if(_e!=null)switch(h){case"name":g=_e;break;case"type":D=_e;break;case"checked":J=_e;break;case"defaultChecked":he=_e;break;case"value":E=_e;break;case"defaultValue":Y=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,a));break;default:Kt(i,a,h,_e,l,null)}}ur(i,E,Y,J,he,D,g,!1),St(i);return;case"select":yt("invalid",i),h=D=E=null;for(g in l)if(l.hasOwnProperty(g)&&(Y=l[g],Y!=null))switch(g){case"value":E=Y;break;case"defaultValue":D=Y;break;case"multiple":h=Y;default:Kt(i,a,g,Y,l,null)}a=E,l=D,i.multiple=!!h,a!=null?Br(i,!!h,a,!1):l!=null&&Br(i,!!h,l,!0);return;case"textarea":yt("invalid",i),E=g=h=null;for(D in l)if(l.hasOwnProperty(D)&&(Y=l[D],Y!=null))switch(D){case"value":h=Y;break;case"defaultValue":g=Y;break;case"children":E=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Kt(i,a,D,Y,l,null)}Yi(i,h,g,E),St(i);return;case"option":for(J in l)if(l.hasOwnProperty(J)&&(h=l[J],h!=null))switch(J){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Kt(i,a,J,h,l,null)}return;case"dialog":yt("beforetoggle",i),yt("toggle",i),yt("cancel",i),yt("close",i);break;case"iframe":case"object":yt("load",i);break;case"video":case"audio":for(h=0;h<Vc.length;h++)yt(Vc[h],i);break;case"image":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"embed":case"source":case"link":yt("error",i),yt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in l)if(l.hasOwnProperty(he)&&(h=l[he],h!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(i,a,he,h,l,null)}return;default:if(Us(a)){for(_e in l)l.hasOwnProperty(_e)&&(h=l[_e],h!==void 0&&Cg(i,a,_e,h,l,void 0));return}}for(Y in l)l.hasOwnProperty(Y)&&(h=l[Y],h!=null&&Kt(i,a,Y,h,l,null))}function XD(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,E=null,D=null,Y=null,J=null,he=null,_e=null;for(me in l){var ve=l[me];if(l.hasOwnProperty(me)&&ve!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":J=ve;default:h.hasOwnProperty(me)||Kt(i,a,me,null,h,ve)}}for(var de in h){var me=h[de];if(ve=l[de],h.hasOwnProperty(de)&&(me!=null||ve!=null))switch(de){case"type":E=me;break;case"name":g=me;break;case"checked":he=me;break;case"defaultChecked":_e=me;break;case"value":D=me;break;case"defaultValue":Y=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,a));break;default:me!==ve&&Kt(i,a,de,me,h,ve)}}en(i,D,Y,J,he,_e,E,g);return;case"select":me=D=Y=de=null;for(E in l)if(J=l[E],l.hasOwnProperty(E)&&J!=null)switch(E){case"value":break;case"multiple":me=J;default:h.hasOwnProperty(E)||Kt(i,a,E,null,h,J)}for(g in h)if(E=h[g],J=l[g],h.hasOwnProperty(g)&&(E!=null||J!=null))switch(g){case"value":de=E;break;case"defaultValue":Y=E;break;case"multiple":D=E;default:E!==J&&Kt(i,a,g,E,h,J)}a=Y,l=D,h=me,de!=null?Br(i,!!l,de,!1):!!h!=!!l&&(a!=null?Br(i,!!l,a,!0):Br(i,!!l,l?[]:"",!1));return;case"textarea":me=de=null;for(Y in l)if(g=l[Y],l.hasOwnProperty(Y)&&g!=null&&!h.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Kt(i,a,Y,null,h,g)}for(D in h)if(g=h[D],E=l[D],h.hasOwnProperty(D)&&(g!=null||E!=null))switch(D){case"value":de=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==E&&Kt(i,a,D,g,h,E)}Ct(i,de,me);return;case"option":for(var et in l)if(de=l[et],l.hasOwnProperty(et)&&de!=null&&!h.hasOwnProperty(et))switch(et){case"selected":i.selected=!1;break;default:Kt(i,a,et,null,h,de)}for(J in h)if(de=h[J],me=l[J],h.hasOwnProperty(J)&&de!==me&&(de!=null||me!=null))switch(J){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Kt(i,a,J,de,h,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in l)de=l[Xe],l.hasOwnProperty(Xe)&&de!=null&&!h.hasOwnProperty(Xe)&&Kt(i,a,Xe,null,h,de);for(he in h)if(de=h[he],me=l[he],h.hasOwnProperty(he)&&de!==me&&(de!=null||me!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:Kt(i,a,he,de,h,me)}return;default:if(Us(a)){for(var Qt in l)de=l[Qt],l.hasOwnProperty(Qt)&&de!==void 0&&!h.hasOwnProperty(Qt)&&Cg(i,a,Qt,void 0,h,de);for(_e in h)de=h[_e],me=l[_e],!h.hasOwnProperty(_e)||de===me||de===void 0&&me===void 0||Cg(i,a,_e,de,h,me);return}}for(var oe in l)de=l[oe],l.hasOwnProperty(oe)&&de!=null&&!h.hasOwnProperty(oe)&&Kt(i,a,oe,null,h,de);for(ve in h)de=h[ve],me=l[ve],!h.hasOwnProperty(ve)||de===me||de==null&&me==null||Kt(i,a,ve,de,h,me)}var Ng=null,Rg=null;function Nd(i){return i.nodeType===9?i:i.ownerDocument}function wv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Dg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Og=null;function KD(){var i=window.event;return i&&i.type==="popstate"?i===Og?!1:(Og=i,!0):(Og=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,QD=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,WD=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(i){return Nv.resolve(null).then(i).catch(ZD)}:Cv;function ZD(i){setTimeout(function(){throw i})}function La(i){return i==="head"}function Rv(i,a){var l=a,h=0,g=0;do{var E=l.nextSibling;if(i.removeChild(l),E&&E.nodeType===8)if(l=E.data,l==="/$"){if(0<h&&8>h){l=h;var D=i.ownerDocument;if(l&1&&zc(D.documentElement),l&2&&zc(D.body),l&4)for(l=D.head,zc(l),D=l.firstChild;D;){var Y=D.nextSibling,J=D.nodeName;D[Ti]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||l.removeChild(D),D=Y}}if(g===0){i.removeChild(E),Kc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=E}while(l);Kc(a)}function kg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kg(l),ri(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function JD(i,a,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Ti])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(E=i.getAttribute("rel"),E==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(E!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(E=i.getAttribute("src"),(E!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&E&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var E=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===E)return i}else return i;if(i=Ki(i.nextSibling),i===null)break}return null}function eO(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ki(i.nextSibling),i===null))return null;return i}function Pg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function tO(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ki(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Lg=null;function Dv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function Ov(i,a,l){switch(a=Nd(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function zc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);ri(i)}var Pi=new Map,kv=new Set;function Rd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ra=W.d;W.d={f:nO,r:rO,D:iO,C:sO,L:aO,m:oO,X:lO,S:uO,M:cO};function nO(){var i=ra.f(),a=Td();return i||a}function rO(i){var a=Qn(i);a!==null&&a.tag===5&&a.type==="form"?Jb(a):ra.r(i)}var Ju=typeof document>"u"?null:document;function Pv(i,a,l){var h=Ju;if(h&&typeof a=="string"&&a){var g=fn(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),kv.has(g)||(kv.add(g),i={rel:i,crossOrigin:l,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),pr(a,"link",i),te(a),h.head.appendChild(a)))}}function iO(i){ra.D(i),Pv("dns-prefetch",i,null)}function sO(i,a){ra.C(i,a),Pv("preconnect",i,a)}function aO(i,a,l){ra.L(i,a,l);var h=Ju;if(h&&i&&a){var g='link[rel="preload"][as="'+fn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+fn(l.imageSizes)+'"]')):g+='[href="'+fn(i)+'"]';var E=g;switch(a){case"style":E=el(i);break;case"script":E=tl(i)}Pi.has(E)||(i=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Pi.set(E,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(Fc(E))||a==="script"&&h.querySelector(jc(E))||(a=h.createElement("link"),pr(a,"link",i),te(a),h.head.appendChild(a)))}}function oO(i,a){ra.m(i,a);var l=Ju;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+fn(h)+'"][href="'+fn(i)+'"]',E=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=tl(i)}if(!Pi.has(E)&&(i=p({rel:"modulepreload",href:i},a),Pi.set(E,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jc(E)))return}h=l.createElement("link"),pr(h,"link",i),te(h),l.head.appendChild(h)}}}function uO(i,a,l){ra.S(i,a,l);var h=Ju;if(h&&i){var g=jn(h).hoistableStyles,E=el(i);a=a||"default";var D=g.get(E);if(!D){var Y={loading:0,preload:null};if(D=h.querySelector(Fc(E)))Y.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Pi.get(E))&&Mg(i,l);var J=D=h.createElement("link");te(J),pr(J,"link",i),J._p=new Promise(function(he,_e){J.onload=he,J.onerror=_e}),J.addEventListener("load",function(){Y.loading|=1}),J.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Dd(D,a,h)}D={type:"stylesheet",instance:D,count:1,state:Y},g.set(E,D)}}}function lO(i,a){ra.X(i,a);var l=Ju;if(l&&i){var h=jn(l).hoistableScripts,g=tl(i),E=h.get(g);E||(E=l.querySelector(jc(g)),E||(i=p({src:i,async:!0},a),(a=Pi.get(g))&&Bg(i,a),E=l.createElement("script"),te(E),pr(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(g,E))}}function cO(i,a){ra.M(i,a);var l=Ju;if(l&&i){var h=jn(l).hoistableScripts,g=tl(i),E=h.get(g);E||(E=l.querySelector(jc(g)),E||(i=p({src:i,async:!0,type:"module"},a),(a=Pi.get(g))&&Bg(i,a),E=l.createElement("script"),te(E),pr(E,"link",i),l.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(g,E))}}function Lv(i,a,l,h){var g=(g=we.current)?Rd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=el(l.href),l=jn(g).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=el(l.href);var E=jn(g).hoistableStyles,D=E.get(i);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(i,D),(E=g.querySelector(Fc(i)))&&!E._p&&(D.instance=E,D.state.loading=5),Pi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pi.set(i,l),E||hO(g,i,l,D.state))),a&&h===null)throw Error(r(528,""));return D}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=tl(l),l=jn(g).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function el(i){return'href="'+fn(i)+'"'}function Fc(i){return'link[rel="stylesheet"]['+i+"]"}function Mv(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function hO(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),pr(a,"link",l),te(a),i.head.appendChild(a))}function tl(i){return'[src="'+fn(i)+'"]'}function jc(i){return"script[async]"+i}function Bv(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+fn(l.href)+'"]');if(h)return a.instance=h,te(h),h;var g=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),te(h),pr(h,"style",g),Dd(h,l.precedence,i),a.instance=h;case"stylesheet":g=el(l.href);var E=i.querySelector(Fc(g));if(E)return a.state.loading|=4,a.instance=E,te(E),E;h=Mv(l),(g=Pi.get(g))&&Mg(h,g),E=(i.ownerDocument||i).createElement("link"),te(E);var D=E;return D._p=new Promise(function(Y,J){D.onload=Y,D.onerror=J}),pr(E,"link",h),a.state.loading|=4,Dd(E,l.precedence,i),a.instance=E;case"script":return E=tl(l.src),(g=i.querySelector(jc(E)))?(a.instance=g,te(g),g):(h=l,(g=Pi.get(E))&&(h=p({},l),Bg(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),te(g),pr(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Dd(h,l.precedence,i));return a.instance}function Dd(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,E=g,D=0;D<h.length;D++){var Y=h[D];if(Y.dataset.precedence===a)E=Y;else if(E!==g)break}E?E.parentNode.insertBefore(i,E.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Mg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Bg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Od=null;function Uv(i,a,l){if(Od===null){var h=new Map,g=Od=new Map;g.set(l,h)}else g=Od,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var E=l[g];if(!(E[Ti]||E[Pt]||i==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var D=E.getAttribute(a)||"";D=i+D;var Y=h.get(D);Y?Y.push(E):h.set(D,[E])}}return h}function Vv(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function fO(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Hv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var qc=null;function dO(){}function mO(i,a,l){if(qc===null)throw Error(r(475));var h=qc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=el(l.href),E=i.querySelector(Fc(g));if(E){i=E._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=kd.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=E,te(E);return}E=i.ownerDocument||i,l=Mv(l),(g=Pi.get(g))&&Mg(l,g),E=E.createElement("link"),te(E);var D=E;D._p=new Promise(function(Y,J){D.onload=Y,D.onerror=J}),pr(E,"link",l),a.instance=E}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=kd.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function pO(){if(qc===null)throw Error(r(475));var i=qc;return i.stylesheets&&i.count===0&&Ug(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Ug(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function kd(){if(this.count--,this.count===0){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pd=null;function Ug(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pd=new Map,a.forEach(gO,i),Pd=null,kd.call(i))}function gO(i,a){if(!(a.state.loading&4)){var l=Pd.get(i);if(l)var h=l.get(null);else{l=new Map,Pd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<g.length;E++){var D=g[E];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),h=D)}h&&l.set(null,h)}g=a.instance,D=g.getAttribute("data-precedence"),E=l.get(D)||h,E===h&&l.set(null,g),l.set(D,g),this.count++,h=kd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),E?E.parentNode.insertBefore(g,E.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Yc={$$typeof:M,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function yO(i,a,l,h,g,E,D,Y){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.hiddenUpdates=Fn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=E,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function zv(i,a,l,h,g,E,D,Y,J,he,_e,ve){return i=new yO(i,a,l,D,Y,J,he,ve),a=1,E===!0&&(a|=24),E=si(3,null,null,a),i.current=E,E.stateNode=i,a=_p(),a.refCount++,i.pooledCache=a,a.refCount++,E.memoizedState={element:h,isDehydrated:l,cache:a},Sp(E),i}function Fv(i){return i?(i=Ou,i):Ou}function jv(i,a,l,h,g,E){g=Fv(g),h.context===null?h.context=g:h.pendingContext=g,h=va(a),h.payload={element:l},E=E===void 0?null:E,E!==null&&(h.callback=E),l=Sa(i,h,a),l!==null&&(ci(l,i,a),Tc(l,i,a))}function qv(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Vg(i,a){qv(i,a),(i=i.alternate)&&qv(i,a)}function Yv(i){if(i.tag===13){var a=Du(i,67108864);a!==null&&ci(a,i,67108864),Vg(i,67108864)}}var Ld=!0;function EO(i,a,l,h){var g=j.T;j.T=null;var E=W.p;try{W.p=2,Hg(i,a,l,h)}finally{W.p=E,j.T=g}}function _O(i,a,l,h){var g=j.T;j.T=null;var E=W.p;try{W.p=8,Hg(i,a,l,h)}finally{W.p=E,j.T=g}}function Hg(i,a,l,h){if(Ld){var g=zg(h);if(g===null)Ig(i,a,h,Md,l),$v(i,h);else if(TO(g,i,a,l,h))h.stopPropagation();else if($v(i,h),a&4&&-1<bO.indexOf(i)){for(;g!==null;){var E=Qn(g);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var D=vt(E.pendingLanes);if(D!==0){var Y=E;for(Y.pendingLanes|=2,Y.entangledLanes|=2;D;){var J=1<<31-qe(D);Y.entanglements[1]|=J,D&=~J}_s(E),(qt&6)===0&&(_d=Qe()+500,Uc(0))}}break;case 13:Y=Du(E,2),Y!==null&&ci(Y,E,2),Td(),Vg(E,2)}if(E=zg(h),E===null&&Ig(i,a,h,Md,l),E===g)break;g=E}g!==null&&h.stopPropagation()}else Ig(i,a,h,null,l)}}function zg(i){return i=hr(i),Fg(i)}var Md=null;function Fg(i){if(Md=null,i=kr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Md=i,null}function Gv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(je()){case cn:return 2;case Vn:return 8;case Hn:case Kn:return 32;case zn:return 268435456;default:return 32}default:return 32}}var jg=!1,Ma=null,Ba=null,Ua=null,Gc=new Map,$c=new Map,Va=[],bO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $v(i,a){switch(i){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Gc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(a.pointerId)}}function Xc(i,a,l,h,g,E){return i===null||i.nativeEvent!==E?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:E,targetContainers:[g]},a!==null&&(a=Qn(a),a!==null&&Yv(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function TO(i,a,l,h,g){switch(a){case"focusin":return Ma=Xc(Ma,i,a,l,h,g),!0;case"dragenter":return Ba=Xc(Ba,i,a,l,h,g),!0;case"mouseover":return Ua=Xc(Ua,i,a,l,h,g),!0;case"pointerover":var E=g.pointerId;return Gc.set(E,Xc(Gc.get(E)||null,i,a,l,h,g)),!0;case"gotpointercapture":return E=g.pointerId,$c.set(E,Xc($c.get(E)||null,i,a,l,h,g)),!0}return!1}function Xv(i){var a=kr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,ni(i.priority,function(){if(l.tag===13){var h=li();h=ti(h);var g=Du(l,h);g!==null&&ci(g,l,h),Vg(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bd(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=zg(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);jr=h,l.target.dispatchEvent(h),jr=null}else return a=Qn(l),a!==null&&Yv(a),i.blockedOn=l,!1;a.shift()}return!0}function Kv(i,a,l){Bd(i)&&l.delete(a)}function vO(){jg=!1,Ma!==null&&Bd(Ma)&&(Ma=null),Ba!==null&&Bd(Ba)&&(Ba=null),Ua!==null&&Bd(Ua)&&(Ua=null),Gc.forEach(Kv),$c.forEach(Kv)}function Ud(i,a){i.blockedOn===a&&(i.blockedOn=null,jg||(jg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vO)))}var Vd=null;function Qv(i){Vd!==i&&(Vd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vd===i&&(Vd=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(Fg(h||l)===null)continue;break}var E=Qn(l);E!==null&&(i.splice(a,3),a-=3,Fp(E,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Kc(i){function a(J){return Ud(J,i)}Ma!==null&&Ud(Ma,i),Ba!==null&&Ud(Ba,i),Ua!==null&&Ud(Ua,i),Gc.forEach(a),$c.forEach(a);for(var l=0;l<Va.length;l++){var h=Va[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Va.length&&(l=Va[0],l.blockedOn===null);)Xv(l),l.blockedOn===null&&Va.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],E=l[h+1],D=g[hn]||null;if(typeof E=="function")D||Qv(l);else if(D){var Y=null;if(E&&E.hasAttribute("formAction")){if(g=E,D=E[hn]||null)Y=D.formAction;else if(Fg(g)!==null)continue}else Y=D.action;typeof Y=="function"?l[h+1]=Y:(l.splice(h,3),h-=3),Qv(l)}}}function qg(i){this._internalRoot=i}Hd.prototype.render=qg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=li();jv(l,h,i,a,null,null)},Hd.prototype.unmount=qg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;jv(i.current,2,null,i,null,null),Td(),a[yn]=null}};function Hd(i){this._internalRoot=i}Hd.prototype.unstable_scheduleHydration=function(i){if(i){var a=Dr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Va.length&&a!==0&&a<Va[l].priority;l++);Va.splice(l,0,i),l===0&&Xv(i)}};var Wv=e.version;if(Wv!=="19.1.0")throw Error(r(527,Wv,"19.1.0"));W.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var SO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{fe=zd.inject(SO),be=zd}catch{}}return Wc.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",g=dT,E=mT,D=pT,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Y=a.unstable_transitionCallbacks)),a=zv(i,1,!1,null,null,l,h,g,E,D,Y,null),i[yn]=a.current,wg(i),new qg(a)},Wc.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,g="",E=dT,D=mT,Y=pT,J=null,he=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks),l.formState!==void 0&&(he=l.formState)),a=zv(i,1,!0,a,l??null,h,g,E,D,Y,J,he),a.context=Fv(null),l=a.current,h=li(),h=ti(h),g=va(h),g.callback=null,Sa(l,g,h),l=h,a.current.lanes=l,Rr(a,l),_s(a),i[yn]=a.current,wg(i),new Hd(a)},Wc.version="19.1.0",Wc}var oS;function OO(){if(oS)return $g.exports;oS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$g.exports=DO(),$g.exports}var kO=OO(),Zc={exports:{}},Jc={},eh={exports:{}},Wg={},Zg={exports:{}},Jg,uS;function PO(){if(uS)return Jg;uS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jg=t,Jg}var ey,lS;function LO(){if(lS)return ey;lS=1;var t=PO();function e(){}function n(){}return n.resetWarningCache=e,ey=function(){function r(u,c,f,d,p,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},ey}var cS;function d0(){return cS||(cS=1,Zg.exports=LO()()),Zg.exports}var Fd={exports:{}},hS;function MO(){if(hS)return Fd.exports;hS=1;function t(n){var r,s,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var u=n.length;for(r=0;r<u;r++)n[r]&&(s=t(n[r]))&&(o&&(o+=" "),o+=s)}else for(s in n)n[s]&&(o&&(o+=" "),o+=s);return o}function e(){for(var n,r,s=0,o="",u=arguments.length;s<u;s++)(n=arguments[s])&&(r=t(n))&&(o&&(o+=" "),o+=r);return o}return Fd.exports=e,Fd.exports.clsx=e,Fd.exports}var wn={},za={},fS;function m0(){if(fS)return za;fS=1,Object.defineProperty(za,"__esModule",{value:!0}),za.dontSetMe=s,za.findInArray=t,za.int=r,za.isFunction=e,za.isNum=n;function t(o,u){for(let c=0,f=o.length;c<f;c++)if(u.apply(u,[o[c],c,o]))return o[c]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function n(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function s(o,u,c){if(o[u])return new Error(`Invalid prop ${u} passed to ${c} - do not set this, set it on the child.`)}return za}var Fa={},dS;function BO(){if(dS)return Fa;dS=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.browserPrefixToKey=n,Fa.browserPrefixToStyle=r,Fa.default=void 0,Fa.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const u=window.document?.documentElement?.style;if(!u||o in u)return"";for(let c=0;c<t.length;c++)if(n(o,t[c])in u)return t[c];return""}function n(o,u){return u?`${u}${s(o)}`:o}function r(o,u){return u?`-${u.toLowerCase()}-${o}`:o}function s(o){let u="",c=!0;for(let f=0;f<o.length;f++)c?(u+=o[f].toUpperCase(),c=!1):o[f]==="-"?c=!0:u+=o[f];return u}return Fa.default=e(),Fa}var mS;function n_(){if(mS)return wn;mS=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.addClassName=q,wn.addEvent=u,wn.addUserSelectStyles=N,wn.createCSSTransform=T,wn.createSVGTransform=C,wn.getTouch=P,wn.getTouchIdentifier=w,wn.getTranslation=R,wn.innerHeight=p,wn.innerWidth=y,wn.matchesSelector=s,wn.matchesSelectorAndParentsTo=o,wn.offsetXYFromParent=b,wn.outerHeight=f,wn.outerWidth=d,wn.removeClassName=B,wn.removeEvent=c,wn.scheduleRemoveUserSelectStyles=M;var t=m0(),e=n(BO());function n(S,x){if(typeof WeakMap=="function")var O=new WeakMap,H=new WeakMap;return(n=function(V,F){if(!F&&V&&V.__esModule)return V;var k,U,K={__proto__:null,default:V};if(V===null||typeof V!="object"&&typeof V!="function")return K;if(k=F?H:O){if(k.has(V))return k.get(V);k.set(V,K)}for(const j in V)j!=="default"&&{}.hasOwnProperty.call(V,j)&&((U=(k=Object.defineProperty)&&Object.getOwnPropertyDescriptor(V,j))&&(U.get||U.set)?k(K,j,U):K[j]=V[j]);return K})(S,x)}let r="";function s(S,x){return r||(r=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(O){return(0,t.isFunction)(S[O])})),(0,t.isFunction)(S[r])?S[r](x):!1}function o(S,x,O){let H=S;do{if(s(H,x))return!0;if(H===O)return!1;H=H.parentNode}while(H);return!1}function u(S,x,O,H){if(!S)return;const V={capture:!0,...H};S.addEventListener?S.addEventListener(x,O,V):S.attachEvent?S.attachEvent("on"+x,O):S["on"+x]=O}function c(S,x,O,H){if(!S)return;const V={capture:!0,...H};S.removeEventListener?S.removeEventListener(x,O,V):S.detachEvent?S.detachEvent("on"+x,O):S["on"+x]=null}function f(S){let x=S.clientHeight;const O=S.ownerDocument.defaultView.getComputedStyle(S);return x+=(0,t.int)(O.borderTopWidth),x+=(0,t.int)(O.borderBottomWidth),x}function d(S){let x=S.clientWidth;const O=S.ownerDocument.defaultView.getComputedStyle(S);return x+=(0,t.int)(O.borderLeftWidth),x+=(0,t.int)(O.borderRightWidth),x}function p(S){let x=S.clientHeight;const O=S.ownerDocument.defaultView.getComputedStyle(S);return x-=(0,t.int)(O.paddingTop),x-=(0,t.int)(O.paddingBottom),x}function y(S){let x=S.clientWidth;const O=S.ownerDocument.defaultView.getComputedStyle(S);return x-=(0,t.int)(O.paddingLeft),x-=(0,t.int)(O.paddingRight),x}function b(S,x,O){const V=x===x.ownerDocument.body?{left:0,top:0}:x.getBoundingClientRect(),F=(S.clientX+x.scrollLeft-V.left)/O,k=(S.clientY+x.scrollTop-V.top)/O;return{x:F,y:k}}function T(S,x){const O=R(S,x,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:O}}function C(S,x){return R(S,x,"")}function R(S,x,O){let{x:H,y:V}=S,F=`translate(${H}${O},${V}${O})`;if(x){const k=`${typeof x.x=="string"?x.x:x.x+O}`,U=`${typeof x.y=="string"?x.y:x.y+O}`;F=`translate(${k}, ${U})`+F}return F}function P(S,x){return S.targetTouches&&(0,t.findInArray)(S.targetTouches,O=>x===O.identifier)||S.changedTouches&&(0,t.findInArray)(S.changedTouches,O=>x===O.identifier)}function w(S){if(S.targetTouches&&S.targetTouches[0])return S.targetTouches[0].identifier;if(S.changedTouches&&S.changedTouches[0])return S.changedTouches[0].identifier}function N(S){if(!S)return;let x=S.getElementById("react-draggable-style-el");x||(x=S.createElement("style"),x.type="text/css",x.id="react-draggable-style-el",x.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,x.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,S.getElementsByTagName("head")[0].appendChild(x)),S.body&&q(S.body,"react-draggable-transparent-selection")}function M(S){window.requestAnimationFrame?window.requestAnimationFrame(()=>{L(S)}):L(S)}function L(S){if(S)try{if(S.body&&B(S.body,"react-draggable-transparent-selection"),S.selection)S.selection.empty();else{const x=(S.defaultView||window).getSelection();x&&x.type!=="Caret"&&x.removeAllRanges()}}catch{}}function q(S,x){S.classList?S.classList.add(x):S.className.match(new RegExp(`(?:^|\\s)${x}(?!\\S)`))||(S.className+=` ${x}`)}function B(S,x){S.classList?S.classList.remove(x):S.className=S.className.replace(new RegExp(`(?:^|\\s)${x}(?!\\S)`,"g"),"")}return wn}var bs={},pS;function vw(){if(pS)return bs;pS=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.canDragX=s,bs.canDragY=o,bs.createCoreData=c,bs.createDraggableData=f,bs.getBoundPosition=n,bs.getControlPosition=u,bs.snapToGrid=r;var t=m0(),e=n_();function n(y,b,T){if(!y.props.bounds)return[b,T];let{bounds:C}=y.props;C=typeof C=="string"?C:d(C);const R=p(y);if(typeof C=="string"){const{ownerDocument:P}=R,w=P.defaultView;let N;if(C==="parent"?N=R.parentNode:N=R.getRootNode().querySelector(C),!(N instanceof w.HTMLElement))throw new Error('Bounds selector "'+C+'" could not find an element.');const M=N,L=w.getComputedStyle(R),q=w.getComputedStyle(M);C={left:-R.offsetLeft+(0,t.int)(q.paddingLeft)+(0,t.int)(L.marginLeft),top:-R.offsetTop+(0,t.int)(q.paddingTop)+(0,t.int)(L.marginTop),right:(0,e.innerWidth)(M)-(0,e.outerWidth)(R)-R.offsetLeft+(0,t.int)(q.paddingRight)-(0,t.int)(L.marginRight),bottom:(0,e.innerHeight)(M)-(0,e.outerHeight)(R)-R.offsetTop+(0,t.int)(q.paddingBottom)-(0,t.int)(L.marginBottom)}}return(0,t.isNum)(C.right)&&(b=Math.min(b,C.right)),(0,t.isNum)(C.bottom)&&(T=Math.min(T,C.bottom)),(0,t.isNum)(C.left)&&(b=Math.max(b,C.left)),(0,t.isNum)(C.top)&&(T=Math.max(T,C.top)),[b,T]}function r(y,b,T){const C=Math.round(b/y[0])*y[0],R=Math.round(T/y[1])*y[1];return[C,R]}function s(y){return y.props.axis==="both"||y.props.axis==="x"}function o(y){return y.props.axis==="both"||y.props.axis==="y"}function u(y,b,T){const C=typeof b=="number"?(0,e.getTouch)(y,b):null;if(typeof b=="number"&&!C)return null;const R=p(T),P=T.props.offsetParent||R.offsetParent||R.ownerDocument.body;return(0,e.offsetXYFromParent)(C||y,P,T.props.scale)}function c(y,b,T){const C=!(0,t.isNum)(y.lastX),R=p(y);return C?{node:R,deltaX:0,deltaY:0,lastX:b,lastY:T,x:b,y:T}:{node:R,deltaX:b-y.lastX,deltaY:T-y.lastY,lastX:y.lastX,lastY:y.lastY,x:b,y:T}}function f(y,b){const T=y.props.scale;return{node:b.node,x:y.state.x+b.deltaX/T,y:y.state.y+b.deltaY/T,deltaX:b.deltaX/T,deltaY:b.deltaY/T,lastX:y.state.x,lastY:y.state.y}}function d(y){return{left:y.left,top:y.top,right:y.right,bottom:y.bottom}}function p(y){const b=y.findDOMNode();if(!b)throw new Error("<DraggableCore>: Unmounted during event!");return b}return bs}var th={},jd={},gS;function Sw(){if(gS)return jd;gS=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.default=t;function t(){}return jd}var yS;function UO(){if(yS)return th;yS=1,Object.defineProperty(th,"__esModule",{value:!0}),th.default=void 0;var t=f(Ps()),e=c(d0()),n=c(f0()),r=n_(),s=vw(),o=m0(),u=c(Sw());function c(R){return R&&R.__esModule?R:{default:R}}function f(R,P){if(typeof WeakMap=="function")var w=new WeakMap,N=new WeakMap;return(f=function(M,L){if(!L&&M&&M.__esModule)return M;var q,B,S={__proto__:null,default:M};if(M===null||typeof M!="object"&&typeof M!="function")return S;if(q=L?N:w){if(q.has(M))return q.get(M);q.set(M,S)}for(const x in M)x!=="default"&&{}.hasOwnProperty.call(M,x)&&((B=(q=Object.defineProperty)&&Object.getOwnPropertyDescriptor(M,x))&&(B.get||B.set)?q(S,x,B):S[x]=M[x]);return S})(R,P)}function d(R,P,w){return(P=p(P))in R?Object.defineProperty(R,P,{value:w,enumerable:!0,configurable:!0,writable:!0}):R[P]=w,R}function p(R){var P=y(R,"string");return typeof P=="symbol"?P:P+""}function y(R,P){if(typeof R!="object"||!R)return R;var w=R[Symbol.toPrimitive];if(w!==void 0){var N=w.call(R,P);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(R)}const b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let T=b.mouse,C=class extends t.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",P=>{if(this.props.onMouseDown(P),!this.props.allowAnyClick&&typeof P.button=="number"&&P.button!==0)return!1;const w=this.findDOMNode();if(!w||!w.ownerDocument||!w.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:N}=w;if(this.props.disabled||!(P.target instanceof N.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(P.target,this.props.handle,w)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(P.target,this.props.cancel,w))return;P.type==="touchstart"&&!this.props.allowMobileScroll&&P.preventDefault();const M=(0,r.getTouchIdentifier)(P);this.touchIdentifier=M;const L=(0,s.getControlPosition)(P,M,this);if(L==null)return;const{x:q,y:B}=L,S=(0,s.createCoreData)(this,q,B);(0,u.default)("DraggableCore: handleDragStart: %j",S),(0,u.default)("calling",this.props.onStart),!(this.props.onStart(P,S)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(N),this.dragging=!0,this.lastX=q,this.lastY=B,(0,r.addEvent)(N,T.move,this.handleDrag),(0,r.addEvent)(N,T.stop,this.handleDragStop))}),d(this,"handleDrag",P=>{const w=(0,s.getControlPosition)(P,this.touchIdentifier,this);if(w==null)return;let{x:N,y:M}=w;if(Array.isArray(this.props.grid)){let B=N-this.lastX,S=M-this.lastY;if([B,S]=(0,s.snapToGrid)(this.props.grid,B,S),!B&&!S)return;N=this.lastX+B,M=this.lastY+S}const L=(0,s.createCoreData)(this,N,M);if((0,u.default)("DraggableCore: handleDrag: %j",L),this.props.onDrag(P,L)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const S=document.createEvent("MouseEvents");S.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(S)}return}this.lastX=N,this.lastY=M}),d(this,"handleDragStop",P=>{if(!this.dragging)return;const w=(0,s.getControlPosition)(P,this.touchIdentifier,this);if(w==null)return;let{x:N,y:M}=w;if(Array.isArray(this.props.grid)){let S=N-this.lastX||0,x=M-this.lastY||0;[S,x]=(0,s.snapToGrid)(this.props.grid,S,x),N=this.lastX+S,M=this.lastY+x}const L=(0,s.createCoreData)(this,N,M);if(this.props.onStop(P,L)===!1||this.mounted===!1)return!1;const B=this.findDOMNode();B&&this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(B.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",L),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,B&&((0,u.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(B.ownerDocument,T.move,this.handleDrag),(0,r.removeEvent)(B.ownerDocument,T.stop,this.handleDragStop))}),d(this,"onMouseDown",P=>(T=b.mouse,this.handleDragStart(P))),d(this,"onMouseUp",P=>(T=b.mouse,this.handleDragStop(P))),d(this,"onTouchStart",P=>(T=b.touch,this.handleDragStart(P))),d(this,"onTouchEnd",P=>(T=b.touch,this.handleDragStop(P)))}componentDidMount(){this.mounted=!0;const P=this.findDOMNode();P&&(0,r.addEvent)(P,b.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const P=this.findDOMNode();if(P){const{ownerDocument:w}=P;(0,r.removeEvent)(w,b.mouse.move,this.handleDrag),(0,r.removeEvent)(w,b.touch.move,this.handleDrag),(0,r.removeEvent)(w,b.mouse.stop,this.handleDragStop),(0,r.removeEvent)(w,b.touch.stop,this.handleDragStop),(0,r.removeEvent)(P,b.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(w)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return th.default=C,d(C,"displayName","DraggableCore"),d(C,"propTypes",{allowAnyClick:e.default.bool,allowMobileScroll:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(R,P){if(R[P]&&R[P].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),d(C,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),th}var ES;function VO(){return ES||(ES=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),t.default=void 0;var e=y(Ps()),n=p(d0()),r=p(f0()),s=MO(),o=n_(),u=vw(),c=m0(),f=p(UO()),d=p(Sw());function p(w){return w&&w.__esModule?w:{default:w}}function y(w,N){if(typeof WeakMap=="function")var M=new WeakMap,L=new WeakMap;return(y=function(q,B){if(!B&&q&&q.__esModule)return q;var S,x,O={__proto__:null,default:q};if(q===null||typeof q!="object"&&typeof q!="function")return O;if(S=B?L:M){if(S.has(q))return S.get(q);S.set(q,O)}for(const H in q)H!=="default"&&{}.hasOwnProperty.call(q,H)&&((x=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(q,H))&&(x.get||x.set)?S(O,H,x):O[H]=q[H]);return O})(w,N)}function b(){return b=Object.assign?Object.assign.bind():function(w){for(var N=1;N<arguments.length;N++){var M=arguments[N];for(var L in M)({}).hasOwnProperty.call(M,L)&&(w[L]=M[L])}return w},b.apply(null,arguments)}function T(w,N,M){return(N=C(N))in w?Object.defineProperty(w,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):w[N]=M,w}function C(w){var N=R(w,"string");return typeof N=="symbol"?N:N+""}function R(w,N){if(typeof w!="object"||!w)return w;var M=w[Symbol.toPrimitive];if(M!==void 0){var L=M.call(w,N);if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(w)}class P extends e.Component{static getDerivedStateFromProps(N,M){let{position:L}=N,{prevPropsPosition:q}=M;return L&&(!q||L.x!==q.x||L.y!==q.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:L,prevPropsPosition:q}),{x:L.x,y:L.y,prevPropsPosition:{...L}}):null}constructor(N){super(N),T(this,"onDragStart",(M,L)=>{if((0,d.default)("Draggable: onDragStart: %j",L),this.props.onStart(M,(0,u.createDraggableData)(this,L))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),T(this,"onDrag",(M,L)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",L);const q=(0,u.createDraggableData)(this,L),B={x:q.x,y:q.y,slackX:0,slackY:0};if(this.props.bounds){const{x,y:O}=B;B.x+=this.state.slackX,B.y+=this.state.slackY;const[H,V]=(0,u.getBoundPosition)(this,B.x,B.y);B.x=H,B.y=V,B.slackX=this.state.slackX+(x-B.x),B.slackY=this.state.slackY+(O-B.y),q.x=B.x,q.y=B.y,q.deltaX=B.x-this.state.x,q.deltaY=B.y-this.state.y}if(this.props.onDrag(M,q)===!1)return!1;this.setState(B)}),T(this,"onDragStop",(M,L)=>{if(!this.state.dragging||this.props.onStop(M,(0,u.createDraggableData)(this,L))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",L);const B={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x,y:O}=this.props.position;B.x=x,B.y=O}this.setState(B)}),this.state={dragging:!1,dragged:!1,x:N.position?N.position.x:N.defaultPosition.x,y:N.position?N.position.y:N.defaultPosition.y,prevPropsPosition:{...N.position},slackX:0,slackY:0,isElementSVG:!1},N.position&&!(N.onDrag||N.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??r.default.findDOMNode(this)}render(){const{axis:N,bounds:M,children:L,defaultPosition:q,defaultClassName:B,defaultClassNameDragging:S,defaultClassNameDragged:x,position:O,positionOffset:H,scale:V,...F}=this.props;let k={},U=null;const j=!!!O||this.state.dragging,W=O||q,ie={x:(0,u.canDragX)(this)&&j?this.state.x:W.x,y:(0,u.canDragY)(this)&&j?this.state.y:W.y};this.state.isElementSVG?U=(0,o.createSVGTransform)(ie,H):k=(0,o.createCSSTransform)(ie,H);const ne=(0,s.clsx)(L.props.className||"",B,{[S]:this.state.dragging,[x]:this.state.dragged});return e.createElement(f.default,b({},F,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(L),{className:ne,style:{...L.props.style,...k},transform:U}))}}t.default=P,T(P,"displayName","Draggable"),T(P,"propTypes",{...f.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),T(P,"defaultProps",{...f.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Wg)),Wg}var _S;function Aw(){if(_S)return eh.exports;_S=1;const{default:t,DraggableCore:e}=VO();return eh.exports=t,eh.exports.default=t,eh.exports.DraggableCore=e,eh.exports}var qd={},bS;function HO(){if(bS)return qd;bS=1,qd.__esModule=!0,qd.cloneElement=c;var t=e(Ps());function e(f){return f&&f.__esModule?f:{default:f}}function n(f,d){var p=Object.keys(f);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(f);d&&(y=y.filter(function(b){return Object.getOwnPropertyDescriptor(f,b).enumerable})),p.push.apply(p,y)}return p}function r(f){for(var d=1;d<arguments.length;d++){var p=arguments[d]!=null?arguments[d]:{};d%2?n(Object(p),!0).forEach(function(y){s(f,y,p[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(y){Object.defineProperty(f,y,Object.getOwnPropertyDescriptor(p,y))})}return f}function s(f,d,p){return d=o(d),d in f?Object.defineProperty(f,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):f[d]=p,f}function o(f){var d=u(f,"string");return typeof d=="symbol"?d:String(d)}function u(f,d){if(typeof f!="object"||f===null)return f;var p=f[Symbol.toPrimitive];if(p!==void 0){var y=p.call(f,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(f)}function c(f,d){return d.style&&f.props.style&&(d.style=r(r({},f.props.style),d.style)),d.className&&f.props.className&&(d.className=f.props.className+" "+d.className),t.default.cloneElement(f,d)}return qd}var nh={},TS;function xw(){if(TS)return nh;TS=1,nh.__esModule=!0,nh.resizableProps=void 0;var t=e(d0());Aw();function e(r){return r&&r.__esModule?r:{default:r}}var n={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:t.default.node,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var c=o[0];if(c.axis==="both"||c.axis==="y"){var f;return(f=t.default.number).isRequired.apply(f,o)}return t.default.number.apply(t.default,o)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var c=o[0];if(c.axis==="both"||c.axis==="x"){var f;return(f=t.default.number).isRequired.apply(f,o)}return t.default.number.apply(t.default,o)}};return nh.resizableProps=n,nh}var vS;function ww(){if(vS)return Jc;vS=1,Jc.__esModule=!0,Jc.default=void 0;var t=u(Ps()),e=Aw(),n=HO(),r=xw(),s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(w){if(typeof WeakMap!="function")return null;var N=new WeakMap,M=new WeakMap;return(o=function(q){return q?M:N})(w)}function u(w,N){if(w&&w.__esModule)return w;if(w===null||typeof w!="object"&&typeof w!="function")return{default:w};var M=o(N);if(M&&M.has(w))return M.get(w);var L={},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in w)if(B!=="default"&&Object.prototype.hasOwnProperty.call(w,B)){var S=q?Object.getOwnPropertyDescriptor(w,B):null;S&&(S.get||S.set)?Object.defineProperty(L,B,S):L[B]=w[B]}return L.default=w,M&&M.set(w,L),L}function c(){return c=Object.assign?Object.assign.bind():function(w){for(var N=1;N<arguments.length;N++){var M=arguments[N];for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(w[L]=M[L])}return w},c.apply(this,arguments)}function f(w,N){if(w==null)return{};var M={},L=Object.keys(w),q,B;for(B=0;B<L.length;B++)q=L[B],!(N.indexOf(q)>=0)&&(M[q]=w[q]);return M}function d(w,N){var M=Object.keys(w);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(w);N&&(L=L.filter(function(q){return Object.getOwnPropertyDescriptor(w,q).enumerable})),M.push.apply(M,L)}return M}function p(w){for(var N=1;N<arguments.length;N++){var M=arguments[N]!=null?arguments[N]:{};N%2?d(Object(M),!0).forEach(function(L){y(w,L,M[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(M)):d(Object(M)).forEach(function(L){Object.defineProperty(w,L,Object.getOwnPropertyDescriptor(M,L))})}return w}function y(w,N,M){return N=b(N),N in w?Object.defineProperty(w,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):w[N]=M,w}function b(w){var N=T(w,"string");return typeof N=="symbol"?N:String(N)}function T(w,N){if(typeof w!="object"||w===null)return w;var M=w[Symbol.toPrimitive];if(M!==void 0){var L=M.call(w,N);if(typeof L!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(w)}function C(w,N){w.prototype=Object.create(N.prototype),w.prototype.constructor=w,R(w,N)}function R(w,N){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,q){return L.__proto__=q,L},R(w,N)}var P=function(w){C(N,w);function N(){for(var L,q=arguments.length,B=new Array(q),S=0;S<q;S++)B[S]=arguments[S];return L=w.call.apply(w,[this].concat(B))||this,L.handleRefs={},L.lastHandleRect=null,L.slack=null,L}var M=N.prototype;return M.componentWillUnmount=function(){this.resetData()},M.resetData=function(){this.lastHandleRect=this.slack=null},M.runConstraints=function(q,B){var S=this.props,x=S.minConstraints,O=S.maxConstraints,H=S.lockAspectRatio;if(!x&&!O&&!H)return[q,B];if(H){var V=this.props.width/this.props.height,F=q-this.props.width,k=B-this.props.height;Math.abs(F)>Math.abs(k*V)?B=q/V:q=B*V}var U=q,K=B,j=this.slack||[0,0],W=j[0],ie=j[1];return q+=W,B+=ie,x&&(q=Math.max(x[0],q),B=Math.max(x[1],B)),O&&(q=Math.min(O[0],q),B=Math.min(O[1],B)),this.slack=[W+(U-q),ie+(K-B)],[q,B]},M.resizeHandler=function(q,B){var S=this;return function(x,O){var H=O.node,V=O.deltaX,F=O.deltaY;q==="onResizeStart"&&S.resetData();var k=(S.props.axis==="both"||S.props.axis==="x")&&B!=="n"&&B!=="s",U=(S.props.axis==="both"||S.props.axis==="y")&&B!=="e"&&B!=="w";if(!(!k&&!U)){var K=B[0],j=B[B.length-1],W=H.getBoundingClientRect();if(S.lastHandleRect!=null){if(j==="w"){var ie=W.left-S.lastHandleRect.left;V+=ie}if(K==="n"){var ne=W.top-S.lastHandleRect.top;F+=ne}}S.lastHandleRect=W,j==="w"&&(V=-V),K==="n"&&(F=-F);var A=S.props.width+(k?V/S.props.transformScale:0),ee=S.props.height+(U?F/S.props.transformScale:0),ae=S.runConstraints(A,ee);A=ae[0],ee=ae[1];var z=A!==S.props.width||ee!==S.props.height,ge=typeof S.props[q]=="function"?S.props[q]:null,Ce=q==="onResize"&&!z;ge&&!Ce&&(x.persist==null||x.persist(),ge(x,{node:H,size:{width:A,height:ee},handle:B})),q==="onResizeStop"&&S.resetData()}}},M.renderResizeHandle=function(q,B){var S=this.props.handle;if(!S)return t.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+q,ref:B});if(typeof S=="function")return S(q,B);var x=typeof S.type=="string",O=p({ref:B},x?{}:{handleAxis:q});return t.cloneElement(S,O)},M.render=function(){var q=this,B=this.props,S=B.children,x=B.className,O=B.draggableOpts;B.width,B.height,B.handle,B.handleSize,B.lockAspectRatio,B.axis,B.minConstraints,B.maxConstraints,B.onResize,B.onResizeStop,B.onResizeStart;var H=B.resizeHandles;B.transformScale;var V=f(B,s);return(0,n.cloneElement)(S,p(p({},V),{},{className:(x?x+" ":"")+"react-resizable",children:[].concat(S.props.children,H.map(function(F){var k,U=(k=q.handleRefs[F])!=null?k:q.handleRefs[F]=t.createRef();return t.createElement(e.DraggableCore,c({},O,{nodeRef:U,key:"resizableHandle-"+F,onStop:q.resizeHandler("onResizeStop",F),onStart:q.resizeHandler("onResizeStart",F),onDrag:q.resizeHandler("onResize",F)}),q.renderResizeHandle(F,U))}))}))},N}(t.Component);return Jc.default=P,P.propTypes=r.resizableProps,P.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Jc}var rh={},SS;function zO(){if(SS)return rh;SS=1,rh.__esModule=!0,rh.default=void 0;var t=c(Ps()),e=o(d0()),n=o(ww()),r=xw(),s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(N){return N&&N.__esModule?N:{default:N}}function u(N){if(typeof WeakMap!="function")return null;var M=new WeakMap,L=new WeakMap;return(u=function(B){return B?L:M})(N)}function c(N,M){if(N&&N.__esModule)return N;if(N===null||typeof N!="object"&&typeof N!="function")return{default:N};var L=u(M);if(L&&L.has(N))return L.get(N);var q={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in N)if(S!=="default"&&Object.prototype.hasOwnProperty.call(N,S)){var x=B?Object.getOwnPropertyDescriptor(N,S):null;x&&(x.get||x.set)?Object.defineProperty(q,S,x):q[S]=N[S]}return q.default=N,L&&L.set(N,q),q}function f(){return f=Object.assign?Object.assign.bind():function(N){for(var M=1;M<arguments.length;M++){var L=arguments[M];for(var q in L)Object.prototype.hasOwnProperty.call(L,q)&&(N[q]=L[q])}return N},f.apply(this,arguments)}function d(N,M){var L=Object.keys(N);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(N);M&&(q=q.filter(function(B){return Object.getOwnPropertyDescriptor(N,B).enumerable})),L.push.apply(L,q)}return L}function p(N){for(var M=1;M<arguments.length;M++){var L=arguments[M]!=null?arguments[M]:{};M%2?d(Object(L),!0).forEach(function(q){y(N,q,L[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(L)):d(Object(L)).forEach(function(q){Object.defineProperty(N,q,Object.getOwnPropertyDescriptor(L,q))})}return N}function y(N,M,L){return M=b(M),M in N?Object.defineProperty(N,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[M]=L,N}function b(N){var M=T(N,"string");return typeof M=="symbol"?M:String(M)}function T(N,M){if(typeof N!="object"||N===null)return N;var L=N[Symbol.toPrimitive];if(L!==void 0){var q=L.call(N,M);if(typeof q!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(N)}function C(N,M){if(N==null)return{};var L={},q=Object.keys(N),B,S;for(S=0;S<q.length;S++)B=q[S],!(M.indexOf(B)>=0)&&(L[B]=N[B]);return L}function R(N,M){N.prototype=Object.create(M.prototype),N.prototype.constructor=N,P(N,M)}function P(N,M){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,B){return q.__proto__=B,q},P(N,M)}var w=function(N){R(M,N);function M(){for(var q,B=arguments.length,S=new Array(B),x=0;x<B;x++)S[x]=arguments[x];return q=N.call.apply(N,[this].concat(S))||this,q.state={width:q.props.width,height:q.props.height,propsWidth:q.props.width,propsHeight:q.props.height},q.onResize=function(O,H){var V=H.size;q.props.onResize?(O.persist==null||O.persist(),q.setState(V,function(){return q.props.onResize&&q.props.onResize(O,H)})):q.setState(V)},q}M.getDerivedStateFromProps=function(B,S){return S.propsWidth!==B.width||S.propsHeight!==B.height?{width:B.width,height:B.height,propsWidth:B.width,propsHeight:B.height}:null};var L=M.prototype;return L.render=function(){var B=this.props,S=B.handle,x=B.handleSize;B.onResize;var O=B.onResizeStart,H=B.onResizeStop,V=B.draggableOpts,F=B.minConstraints,k=B.maxConstraints,U=B.lockAspectRatio,K=B.axis;B.width,B.height;var j=B.resizeHandles,W=B.style,ie=B.transformScale,ne=C(B,s);return t.createElement(n.default,{axis:K,draggableOpts:V,handle:S,handleSize:x,height:this.state.height,lockAspectRatio:U,maxConstraints:k,minConstraints:F,onResizeStart:O,onResize:this.onResize,onResizeStop:H,resizeHandles:j,transformScale:ie,width:this.state.width},t.createElement("div",f({},ne,{style:p(p({},W),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},M}(t.Component);return rh.default=w,w.propTypes=p(p({},r.resizableProps),{},{children:e.default.element}),rh}var AS;function FO(){return AS||(AS=1,Zc.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Zc.exports.Resizable=ww().default,Zc.exports.ResizableBox=zO().default),Zc.exports}var jO=FO();function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(null,arguments)}var to=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function of(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xS,wS={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var ty,IS,CS,qO=(xS||(xS=1,ty=wS,function(){var t={}.hasOwnProperty;function e(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var u=e.apply(null,s);u&&n.push(u)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var c in s)t.call(s,c)&&s[c]&&n.push(c);else n.push(s.toString())}}return n.join(" ")}ty.exports?(e.default=e,ty.exports=e):window.classNames=e}()),wS.exports),Ky=of(qO),NS,Qi=of(function(){if(CS)return IS;CS=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o=Object.prototype.toString;function u(f){var d=typeof f;return!!f&&(d=="object"||d=="function")}function c(f){if(typeof f=="number")return f;if(function(y){return typeof y=="symbol"||function(b){return!!b&&typeof b=="object"}(y)&&o.call(y)=="[object Symbol]"}(f))return NaN;if(u(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=u(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=f.replace(t,"");var p=n.test(f);return p||r.test(f)?s(f.slice(2),p?2:8):e.test(f)?NaN:+f}return IS=function(f,d,p){return p===void 0&&(p=d,d=void 0),p!==void 0&&(p=(p=c(p))==p?p:0),d!==void 0&&(d=(d=c(d))==d?d:0),function(y,b,T){return y==y&&(T!==void 0&&(y=y<=T?y:T),b!==void 0&&(y=y>=b?y:b)),y}(c(f),d,p)}}()),ny={exports:{}},YO=(NS||(NS=1,function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",p="[object Map]",y="[object Number]",b="[object Object]",T="[object Promise]",C="[object RegExp]",R="[object Set]",P="[object String]",w="[object Symbol]",N="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",q=/^\[object .+?Constructor\]$/,B=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[s]=S[o]=S[M]=S[u]=S[L]=S[c]=S[f]=S[d]=S[p]=S[y]=S[b]=S[C]=S[R]=S[P]=S[N]=!1;var x=typeof to=="object"&&to&&to.Object===Object&&to,O=typeof self=="object"&&self&&self.Object===Object&&self,H=x||O||Function("return this")(),V=e&&!e.nodeType&&e,F=V&&t&&!t.nodeType&&t,k=F&&F.exports===V,U=k&&x.process,K=function(){try{return U&&U.binding&&U.binding("util")}catch{}}(),j=K&&K.isTypedArray;function W(te,pe){for(var De=-1,Me=te==null?0:te.length;++De<Me;)if(pe(te[De],De,te))return!0;return!1}function ie(te){var pe=-1,De=Array(te.size);return te.forEach(function(Me,pt){De[++pe]=[pt,Me]}),De}function ne(te){var pe=-1,De=Array(te.size);return te.forEach(function(Me){De[++pe]=Me}),De}var A,ee,ae,z=Array.prototype,ge=Function.prototype,Ce=Object.prototype,we=H["__core-js_shared__"],Fe=ge.toString,xe=Ce.hasOwnProperty,Le=(A=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",He=Ce.toString,Je=RegExp("^"+Fe.call(xe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),an=k?H.Buffer:void 0,Jt=H.Symbol,on=H.Uint8Array,Dt=Ce.propertyIsEnumerable,Dn=z.splice,Qe=Jt?Jt.toStringTag:void 0,je=Object.getOwnPropertySymbols,cn=an?an.isBuffer:void 0,Vn=(ee=Object.keys,ae=Object,function(te){return ee(ae(te))}),Hn=ni(H,"DataView"),Kn=ni(H,"Map"),zn=ni(H,"Promise"),vn=ni(H,"Set"),or=ni(H,"WeakMap"),fe=ni(Object,"create"),be=yn(Hn),Ve=yn(Kn),qe=yn(zn),ut=yn(vn),Tt=yn(or),Ht=Jt?Jt.prototype:void 0,zt=Ht?Ht.valueOf:void 0;function Ft(te){var pe=-1,De=te==null?0:te.length;for(this.clear();++pe<De;){var Me=te[pe];this.set(Me[0],Me[1])}}function vt(te){var pe=-1,De=te==null?0:te.length;for(this.clear();++pe<De;){var Me=te[pe];this.set(Me[0],Me[1])}}function lt(te){var pe=-1,De=te==null?0:te.length;for(this.clear();++pe<De;){var Me=te[pe];this.set(Me[0],Me[1])}}function Wt(te){var pe=-1,De=te==null?0:te.length;for(this.__data__=new lt;++pe<De;)this.add(te[pe])}function Gt(te){var pe=this.__data__=new vt(te);this.size=pe.size}function ji(te,pe){var De=Or(te),Me=!De&&Ao(te),pt=!De&&!Me&&as(te),rt=!De&&!Me&&!pt&&Pr(te),jt=De||Me||pt||rt,Lt=jt?function(Nt,Bt){for(var On=-1,En=Array(Nt);++On<Nt;)En[On]=Bt(On);return En}(te.length,String):[],Wn=Lt.length;for(var Mt in te)!xe.call(te,Mt)||jt&&(Mt=="length"||pt&&(Mt=="offset"||Mt=="parent")||rt&&(Mt=="buffer"||Mt=="byteLength"||Mt=="byteOffset")||hn(Mt,Wn))||Lt.push(Mt);return Lt}function br(te,pe){for(var De=te.length;De--;)if(ss(te[De][0],pe))return De;return-1}function Fn(te){return te==null?te===void 0?"[object Undefined]":"[object Null]":Qe&&Qe in Object(te)?function(pe){var De=xe.call(pe,Qe),Me=pe[Qe];try{pe[Qe]=void 0;var pt=!0}catch{}var rt=He.call(pe);return pt&&(De?pe[Qe]=Me:delete pe[Qe]),rt}(te):function(pe){return He.call(pe)}(te)}function Rr(te){return Qn(te)&&Fn(te)==s}function Tr(te,pe,De,Me,pt){return te===pe||(te==null||pe==null||!Qn(te)&&!Qn(pe)?te!=te&&pe!=pe:function(rt,jt,Lt,Wn,Mt,Nt){var Bt=Or(rt),On=Or(jt),En=Bt?o:Pt(rt),Sn=On?o:Pt(jt),Lr=(En=En==s?b:En)==b,Mr=(Sn=Sn==s?b:Sn)==b,vi=En==Sn;if(vi&&as(rt)){if(!as(jt))return!1;Bt=!0,Lr=!1}if(vi&&!Lr)return Nt||(Nt=new Gt),Bt||Pr(rt)?ti(rt,jt,Lt,Wn,Mt,Nt):function(St,bt,Ai,xi,fn,en,ur){switch(Ai){case L:if(St.byteLength!=bt.byteLength||St.byteOffset!=bt.byteOffset)return!1;St=St.buffer,bt=bt.buffer;case M:return!(St.byteLength!=bt.byteLength||!en(new on(St),new on(bt)));case u:case c:case y:return ss(+St,+bt);case f:return St.name==bt.name&&St.message==bt.message;case C:case P:return St==bt+"";case p:var lr=ie;case R:var Br=1&xi;if(lr||(lr=ne),St.size!=bt.size&&!Br)return!1;var Ct=ur.get(St);if(Ct)return Ct==bt;xi|=2,ur.set(St,bt);var Yi=ti(lr(St),lr(bt),xi,fn,en,ur);return ur.delete(St),Yi;case w:if(zt)return zt.call(St)==zt.call(bt)}return!1}(rt,jt,En,Lt,Wn,Mt,Nt);if(!(1&Lt)){var Si=Lr&&xe.call(rt,"__wrapped__"),Zn=Mr&&xe.call(jt,"__wrapped__");if(Si||Zn){var xo=Si?rt.value():rt,nc=Zn?jt.value():jt;return Nt||(Nt=new Gt),Mt(xo,nc,Lt,Wn,Nt)}}return!!vi&&(Nt||(Nt=new Gt),function(St,bt,Ai,xi,fn,en){var ur=1&Ai,lr=qi(St),Br=lr.length,Ct=qi(bt),Yi=Ct.length;if(Br!=Yi&&!ur)return!1;for(var cr=Br;cr--;){var Ur=lr[cr];if(!(ur?Ur in bt:xe.call(bt,Ur)))return!1}var wo=en.get(St);if(wo&&en.get(bt))return wo==bt;var os=!0;en.set(St,bt),en.set(bt,St);for(var Us=ur;++cr<Br;){var ya=St[Ur=lr[cr]],Ea=bt[Ur];if(xi)var Vs=ur?xi(Ea,ya,Ur,bt,St,en):xi(ya,Ea,Ur,St,bt,en);if(!(Vs===void 0?ya===Ea||fn(ya,Ea,Ai,xi,en):Vs)){os=!1;break}Us||(Us=Ur=="constructor")}if(os&&!Us){var jr=St.constructor,hr=bt.constructor;jr==hr||!("constructor"in St)||!("constructor"in bt)||typeof jr=="function"&&jr instanceof jr&&typeof hr=="function"&&hr instanceof hr||(os=!1)}return en.delete(St),en.delete(bt),os}(rt,jt,Lt,Wn,Mt,Nt))}(te,pe,De,Me,Tr,pt))}function Fr(te){return!(!kr(te)||function(pe){return!!Le&&Le in pe}(te))&&(Ti(te)?Je:q).test(yn(te))}function Bs(te){if(De=(pe=te)&&pe.constructor,Me=typeof De=="function"&&De.prototype||Ce,pe!==Me)return Vn(te);var pe,De,Me,pt=[];for(var rt in Object(te))xe.call(te,rt)&&rt!="constructor"&&pt.push(rt);return pt}function ti(te,pe,De,Me,pt,rt){var jt=1&De,Lt=te.length,Wn=pe.length;if(Lt!=Wn&&!(jt&&Wn>Lt))return!1;var Mt=rt.get(te);if(Mt&&rt.get(pe))return Mt==pe;var Nt=-1,Bt=!0,On=2&De?new Wt:void 0;for(rt.set(te,pe),rt.set(pe,te);++Nt<Lt;){var En=te[Nt],Sn=pe[Nt];if(Me)var Lr=jt?Me(Sn,En,Nt,pe,te,rt):Me(En,Sn,Nt,te,pe,rt);if(Lr!==void 0){if(Lr)continue;Bt=!1;break}if(On){if(!W(pe,function(Mr,vi){if(Si=vi,!On.has(Si)&&(En===Mr||pt(En,Mr,De,Me,rt)))return On.push(vi);var Si})){Bt=!1;break}}else if(En!==Sn&&!pt(En,Sn,De,Me,rt)){Bt=!1;break}}return rt.delete(te),rt.delete(pe),Bt}function qi(te){return function(pe,De,Me){var pt=De(pe);return Or(pe)?pt:function(rt,jt){for(var Lt=-1,Wn=jt.length,Mt=rt.length;++Lt<Wn;)rt[Mt+Lt]=jt[Lt];return rt}(pt,Me(pe))}(te,jn,$t)}function Dr(te,pe){var De,Me,pt=te.__data__;return((Me=typeof(De=pe))=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?De!=="__proto__":De===null)?pt[typeof pe=="string"?"string":"hash"]:pt.map}function ni(te,pe){var De=function(Me,pt){return Me?.[pt]}(te,pe);return Fr(De)?De:void 0}Ft.prototype.clear=function(){this.__data__=fe?fe(null):{},this.size=0},Ft.prototype.delete=function(te){var pe=this.has(te)&&delete this.__data__[te];return this.size-=pe?1:0,pe},Ft.prototype.get=function(te){var pe=this.__data__;if(fe){var De=pe[te];return De===n?void 0:De}return xe.call(pe,te)?pe[te]:void 0},Ft.prototype.has=function(te){var pe=this.__data__;return fe?pe[te]!==void 0:xe.call(pe,te)},Ft.prototype.set=function(te,pe){var De=this.__data__;return this.size+=this.has(te)?0:1,De[te]=fe&&pe===void 0?n:pe,this},vt.prototype.clear=function(){this.__data__=[],this.size=0},vt.prototype.delete=function(te){var pe=this.__data__,De=br(pe,te);return!(De<0||(De==pe.length-1?pe.pop():Dn.call(pe,De,1),--this.size,0))},vt.prototype.get=function(te){var pe=this.__data__,De=br(pe,te);return De<0?void 0:pe[De][1]},vt.prototype.has=function(te){return br(this.__data__,te)>-1},vt.prototype.set=function(te,pe){var De=this.__data__,Me=br(De,te);return Me<0?(++this.size,De.push([te,pe])):De[Me][1]=pe,this},lt.prototype.clear=function(){this.size=0,this.__data__={hash:new Ft,map:new(Kn||vt),string:new Ft}},lt.prototype.delete=function(te){var pe=Dr(this,te).delete(te);return this.size-=pe?1:0,pe},lt.prototype.get=function(te){return Dr(this,te).get(te)},lt.prototype.has=function(te){return Dr(this,te).has(te)},lt.prototype.set=function(te,pe){var De=Dr(this,te),Me=De.size;return De.set(te,pe),this.size+=De.size==Me?0:1,this},Wt.prototype.add=Wt.prototype.push=function(te){return this.__data__.set(te,n),this},Wt.prototype.has=function(te){return this.__data__.has(te)},Gt.prototype.clear=function(){this.__data__=new vt,this.size=0},Gt.prototype.delete=function(te){var pe=this.__data__,De=pe.delete(te);return this.size=pe.size,De},Gt.prototype.get=function(te){return this.__data__.get(te)},Gt.prototype.has=function(te){return this.__data__.has(te)},Gt.prototype.set=function(te,pe){var De=this.__data__;if(De instanceof vt){var Me=De.__data__;if(!Kn||Me.length<199)return Me.push([te,pe]),this.size=++De.size,this;De=this.__data__=new lt(Me)}return De.set(te,pe),this.size=De.size,this};var $t=je?function(te){return te==null?[]:(te=Object(te),function(pe,De){for(var Me=-1,pt=pe==null?0:pe.length,rt=0,jt=[];++Me<pt;){var Lt=pe[Me];De(Lt,Me,pe)&&(jt[rt++]=Lt)}return jt}(je(te),function(pe){return Dt.call(te,pe)}))}:function(){return[]},Pt=Fn;function hn(te,pe){return!!(pe=pe??r)&&(typeof te=="number"||B.test(te))&&te>-1&&te%1==0&&te<pe}function yn(te){if(te!=null){try{return Fe.call(te)}catch{}try{return te+""}catch{}}return""}function ss(te,pe){return te===pe||te!=te&&pe!=pe}(Hn&&Pt(new Hn(new ArrayBuffer(1)))!=L||Kn&&Pt(new Kn)!=p||zn&&Pt(zn.resolve())!=T||vn&&Pt(new vn)!=R||or&&Pt(new or)!=N)&&(Pt=function(te){var pe=Fn(te),De=pe==b?te.constructor:void 0,Me=De?yn(De):"";if(Me)switch(Me){case be:return L;case Ve:return p;case qe:return T;case ut:return R;case Tt:return N}return pe});var Ao=Rr(function(){return arguments}())?Rr:function(te){return Qn(te)&&xe.call(te,"callee")&&!Dt.call(te,"callee")},Or=Array.isArray,as=cn||function(){return!1};function Ti(te){if(!kr(te))return!1;var pe=Fn(te);return pe==d||pe=="[object GeneratorFunction]"||pe=="[object AsyncFunction]"||pe=="[object Proxy]"}function ri(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=r}function kr(te){var pe=typeof te;return te!=null&&(pe=="object"||pe=="function")}function Qn(te){return te!=null&&typeof te=="object"}var Pr=j?function(te){return function(pe){return te(pe)}}(j):function(te){return Qn(te)&&ri(te.length)&&!!S[Fn(te)]};function jn(te){return(pe=te)!=null&&ri(pe.length)&&!Ti(pe)?ji(te):Bs(te);var pe}t.exports=function(te,pe){return Tr(te,pe)}}(ny,ny.exports)),ny.exports),GO=of(YO);function RS(t,e,n){return t[e]?t[e][0]?t[e][0][n]:t[e][n]:e==="contentBoxSize"?t.contentRect[n==="inlineSize"?"width":"height"]:void 0}function $O(t){t===void 0&&(t={});var e=t.onResize,n=se.useRef(void 0);n.current=e;var r=t.round||Math.round,s=se.useRef(),o=se.useState({width:void 0,height:void 0}),u=o[0],c=o[1],f=se.useRef(!1);se.useEffect(function(){return f.current=!1,function(){f.current=!0}},[]);var d=se.useRef({width:void 0,height:void 0}),p=function(y,b){var T=se.useRef(null),C=se.useRef(null);C.current=b;var R=se.useRef(null);se.useEffect(function(){P()});var P=se.useCallback(function(){var w=R.current,N=C.current,M=w||(N?N instanceof Element?N:N.current:null);T.current&&T.current.element===M&&T.current.subscriber===y||(T.current&&T.current.cleanup&&T.current.cleanup(),T.current={element:M,subscriber:y,cleanup:M?y(M):void 0})},[y]);return se.useEffect(function(){return function(){T.current&&T.current.cleanup&&(T.current.cleanup(),T.current=null)}},[]),se.useCallback(function(w){R.current=w,P()},[P])}(se.useCallback(function(y){return s.current&&s.current.box===t.box&&s.current.round===r||(s.current={box:t.box,round:r,instance:new ResizeObserver(function(b){var T=b[0],C=t.box==="border-box"?"borderBoxSize":t.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",R=RS(T,C,"inlineSize"),P=RS(T,C,"blockSize"),w=R?r(R):void 0,N=P?r(P):void 0;if(d.current.width!==w||d.current.height!==N){var M={width:w,height:N};d.current.width=w,d.current.height=N,n.current?n.current(M):f.current||c(M)}})}),s.current.instance.observe(y,{box:t.box}),function(){s.current&&s.current.instance.unobserve(y)}},[t.box,r]),t.ref);return se.useMemo(function(){return{ref:p,width:u.width,height:u.height}},[p,u.width,u.height])}var XO="allotment-module_splitView__L-yRc",KO="allotment-module_sashContainer__fzwJF",QO="allotment-module_splitViewContainer__rQnVa",Iw="allotment-module_splitViewView__MGZ6O",WO="allotment-module_vertical__WSwwa",ZO="allotment-module_horizontal__7doS8",JO="allotment-module_separatorBorder__x-rDS";let ih,Cw=!1,Nw=!1;typeof navigator=="object"&&(ih=navigator.userAgent,Nw=ih.indexOf("Macintosh")>=0,Cw=(ih.indexOf("Macintosh")>=0||ih.indexOf("iPad")>=0||ih.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const Rw=Cw,e6=Nw,DS=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?se.useLayoutEffect:se.useEffect;let t6=class{constructor(){this._size=void 0}getSize(){return this._size}setSize(e){this._size=e}};function Yd(t,e){const n=t.length,r=n-e.length;return r>=0&&t.slice(r,n)===e}var OS,kS={exports:{}},PS,LS,n6=(OS||(OS=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function s(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function o(f,d,p,y,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var T=new s(p,y||f,b),C=n?n+d:d;return f._events[C]?f._events[C].fn?f._events[C]=[f._events[C],T]:f._events[C].push(T):(f._events[C]=T,f._eventsCount++),f}function u(f,d){--f._eventsCount==0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),c.prototype.eventNames=function(){var f,d,p=[];if(this._eventsCount===0)return p;for(d in f=this._events)e.call(f,d)&&p.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},c.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,T=new Array(b);y<b;y++)T[y]=p[y].fn;return T},c.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,d,p,y,b,T){var C=n?n+f:f;if(!this._events[C])return!1;var R,P,w=this._events[C],N=arguments.length;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,p),!0;case 4:return w.fn.call(w.context,d,p,y),!0;case 5:return w.fn.call(w.context,d,p,y,b),!0;case 6:return w.fn.call(w.context,d,p,y,b,T),!0}for(P=1,R=new Array(N-1);P<N;P++)R[P-1]=arguments[P];w.fn.apply(w.context,R)}else{var M,L=w.length;for(P=0;P<L;P++)switch(w[P].once&&this.removeListener(f,w[P].fn,void 0,!0),N){case 1:w[P].fn.call(w[P].context);break;case 2:w[P].fn.call(w[P].context,d);break;case 3:w[P].fn.call(w[P].context,d,p);break;case 4:w[P].fn.call(w[P].context,d,p,y);break;default:if(!R)for(M=1,R=new Array(N-1);M<N;M++)R[M-1]=arguments[M];w[P].fn.apply(w[P].context,R)}}return!0},c.prototype.on=function(f,d,p){return o(this,f,d,p,!1)},c.prototype.once=function(f,d,p){return o(this,f,d,p,!0)},c.prototype.removeListener=function(f,d,p,y){var b=n?n+f:f;if(!this._events[b])return this;if(!d)return u(this,b),this;var T=this._events[b];if(T.fn)T.fn!==d||y&&!T.once||p&&T.context!==p||u(this,b);else{for(var C=0,R=[],P=T.length;C<P;C++)(T[C].fn!==d||y&&!T[C].once||p&&T[C].context!==p)&&R.push(T[C]);R.length?this._events[b]=R.length===1?R[0]:R:u(this,b)}return this},c.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(kS)),kS.exports),r_=of(n6);function MS(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.unshift(e))}function ry(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.push(e))}function Li(t,e,n=1){const r=Math.max(0,Math.ceil((e-t)/n)),s=new Array(r);let o=-1;for(;++o<r;)s[o]=t+o*n;return s}var r6=of(function(){if(LS)return PS;LS=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o=typeof to=="object"&&to&&to.Object===Object&&to,u=typeof self=="object"&&self&&self.Object===Object&&self,c=o||u||Function("return this")(),f=Object.prototype.toString,d=Math.max,p=Math.min,y=function(){return c.Date.now()};function b(C){var R=typeof C;return!!C&&(R=="object"||R=="function")}function T(C){if(typeof C=="number")return C;if(function(w){return typeof w=="symbol"||function(N){return!!N&&typeof N=="object"}(w)&&f.call(w)=="[object Symbol]"}(C))return NaN;if(b(C)){var R=typeof C.valueOf=="function"?C.valueOf():C;C=b(R)?R+"":R}if(typeof C!="string")return C===0?C:+C;C=C.replace(t,"");var P=n.test(C);return P||r.test(C)?s(C.slice(2),P?2:8):e.test(C)?NaN:+C}return PS=function(C,R,P){var w,N,M,L,q,B,S=0,x=!1,O=!1,H=!0;if(typeof C!="function")throw new TypeError("Expected a function");function V(j){var W=w,ie=N;return w=N=void 0,S=j,L=C.apply(ie,W)}function F(j){var W=j-B;return B===void 0||W>=R||W<0||O&&j-S>=M}function k(){var j=y();if(F(j))return U(j);q=setTimeout(k,function(W){var ie=R-(W-B);return O?p(ie,M-(W-S)):ie}(j))}function U(j){return q=void 0,H&&w?V(j):(w=N=void 0,L)}function K(){var j=y(),W=F(j);if(w=arguments,N=this,B=j,W){if(q===void 0)return function(ie){return S=ie,q=setTimeout(k,R),x?V(ie):L}(B);if(O)return q=setTimeout(k,R),V(B)}return q===void 0&&(q=setTimeout(k,R)),L}return R=T(R)||0,b(P)&&(x=!!P.leading,M=(O="maxWait"in P)?d(T(P.maxWait)||0,R):M,H="trailing"in P?!!P.trailing:H),K.cancel=function(){q!==void 0&&clearTimeout(q),S=0,w=B=N=q=void 0},K.flush=function(){return q===void 0?L:U(y())},K}}()),i6="sash-module_sash__K-9lB",s6="sash-module_disabled__Hm-wx",a6="sash-module_mac__Jf6OJ",BS="sash-module_vertical__pB-rs",o6="sash-module_minimum__-UKxp",u6="sash-module_maximum__TCWxD",US="sash-module_horizontal__kFbiw",iy="sash-module_hover__80W6I",sy="sash-module_active__bJspD";let Bi=function(t){return t.Vertical="VERTICAL",t.Horizontal="HORIZONTAL",t}({}),di=function(t){return t.Disabled="DISABLED",t.Minimum="MINIMUM",t.Maximum="MAXIMUM",t.Enabled="ENABLED",t}({}),Dw=Rw?20:8;const Ow=new r_;class VS extends r_{get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle(s6,e===di.Disabled),this.el.classList.toggle("sash-disabled",e===di.Disabled),this.el.classList.toggle(o6,e===di.Minimum),this.el.classList.toggle("sash-minimum",e===di.Minimum),this.el.classList.toggle(u6,e===di.Maximum),this.el.classList.toggle("sash-maximum",e===di.Maximum),this._state=e,this.emit("enablementChange",e))}constructor(e,n,r){var s;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=r6(o=>o.classList.add("sash-hover",iy),this.hoverDelay),this._state=di.Enabled,this.onPointerStart=o=>{const u=o.pageX,c=o.pageY,f={startX:u,currentX:u,startY:c,currentY:c};this.el.classList.add("sash-active",sy),this.emit("start",f),this.el.setPointerCapture(o.pointerId);const d=y=>{y.preventDefault();const b={startX:u,currentX:y.pageX,startY:c,currentY:y.pageY};this.emit("change",b)},p=y=>{y.preventDefault(),this.el.classList.remove("sash-active",sy),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(y.pointerId),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",p)};window.addEventListener("pointermove",d),window.addEventListener("pointerup",p)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(sy)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",iy)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",iy)},this.el=document.createElement("div"),this.el.classList.add("sash",i6),this.el.dataset.testid="sash",e.append(this.el),e6&&this.el.classList.add("sash-mac",a6),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof r.size=="number"?(this.size=r.size,r.orientation===Bi.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=Dw,Ow.on("onDidChangeGlobalSize",o=>{this.size=o,this.layout()})),this.layoutProvider=n,this.orientation=(s=r.orientation)!=null?s:Bi.Vertical,this.orientation===Bi.Horizontal?(this.el.classList.add("sash-horizontal",US),this.el.classList.remove("sash-vertical",BS)):(this.el.classList.remove("sash-horizontal",US),this.el.classList.add("sash-vertical",BS)),this.layout()}layout(){if(this.orientation===Bi.Vertical){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}let Rm;var ay;(ay=Rm||(Rm={})).Distribute={type:"distribute"},ay.Split=function(t){return{type:"split",index:t}},ay.Invisible=function(t){return{type:"invisible",cachedVisibleSize:t}};let Mi=function(t){return t.Normal="NORMAL",t.Low="LOW",t.High="HIGH",t}({});class kw{constructor(e,n,r){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=e,this.view=n,this.container.classList.add("split-view-view",Iw),this.container.dataset.testid="split-view-view",typeof r=="number"?(this._size=r,this._cachedVisibleSize=void 0,e.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=r.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(e,n){e!==this.visible&&(e?(this.size=Qi(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof n=="number"?n:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e){this.layoutContainer(e),this.view.layout(this.size,e)}}class l6 extends kw{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}class c6 extends kw{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class h6 extends r_{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,n={},r,s,o){var u,c;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=f=>{this.emit("sashchange",f),this.saveProportions();for(const d of this.viewItems)d.enabled=!0},this.orientation=(u=n.orientation)!=null?u:Bi.Vertical,this.proportionalLayout=(c=n.proportionalLayout)!=null?c:!0,this.getSashOrthogonalSize=n.getSashOrthogonalSize,r&&(this.onDidChange=r),s&&(this.onDidDragStart=s),o&&(this.onDidDragEnd=o),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",KO),e.prepend(this.sashContainer),n.descriptor){this.size=n.descriptor.size;for(const[f,d]of n.descriptor.views.entries()){const p=d.size,y=d.container,b=d.view;this.addView(y,b,p,f,!0)}this.contentSize=this.viewItems.reduce((f,d)=>f+d.size,0),this.saveProportions()}}addView(e,n,r,s=this.viewItems.length,o){let u;u=typeof r=="number"?r:r.type==="split"?this.getViewSize(r.index)/2:r.type==="invisible"?{cachedVisibleSize:r.cachedVisibleSize}:n.minimumSize;const c=this.orientation===Bi.Vertical?new c6(e,n,u):new l6(e,n,u);if(this.viewItems.splice(s,0,c),this.viewItems.length>1){const f=this.orientation===Bi.Vertical?new VS(this.sashContainer,{getHorizontalSashTop:y=>this.getSashPosition(y),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:Bi.Horizontal}):new VS(this.sashContainer,{getVerticalSashLeft:y=>this.getSashPosition(y),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:Bi.Vertical}),d=this.orientation===Bi.Vertical?y=>({sash:f,start:y.startY,current:y.currentY}):y=>({sash:f,start:y.startX,current:y.currentX});f.on("start",y=>{var b;this.emit("sashDragStart"),this.onSashStart(d(y));const T=this.viewItems.map(C=>C.size);(b=this.onDidDragStart)==null||b.call(this,T)}),f.on("change",y=>this.onSashChange(d(y))),f.on("end",()=>{var y;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(T=>T.sash===f));const b=this.viewItems.map(T=>T.size);(y=this.onDidDragEnd)==null||y.call(this,b)}),f.on("reset",()=>{const y=this.sashItems.findIndex(P=>P.sash===f),b=Li(y,-1,-1),T=Li(y+1,this.viewItems.length),C=this.findFirstSnapIndex(b),R=this.findFirstSnapIndex(T);(typeof C!="number"||this.viewItems[C].visible)&&(typeof R!="number"||this.viewItems[R].visible)&&this.emit("sashreset",y)});const p={sash:f};this.sashItems.splice(s-1,0,p)}o||this.relayout(),o||typeof r=="number"||r.type!=="distribute"||this.distributeViewSizes()}removeView(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");const r=this.viewItems.splice(e,1)[0].view;if(this.viewItems.length>=1){const s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].sash.dispose()}return this.relayout(),n&&n.type==="distribute"&&this.distributeViewSizes(),r}moveView(e,n,r){const s=this.getViewCachedVisibleSize(n),o=s===void 0?this.getViewSize(n):Rm.Invisible(s),u=this.removeView(n);this.addView(e,u,o,r)}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e=this.size){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.proportions)for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r];s.size=Qi(Math.round(this.proportions[r]*e),s.minimumSize,s.maximumSize)}else{const r=Li(0,this.viewItems.length),s=r.filter(u=>this.viewItems[u].priority===Mi.Low),o=r.filter(u=>this.viewItems[u].priority===Mi.High);this.resize(this.viewItems.length-1,e-n,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}resizeView(e,n){if(e<0||e>=this.viewItems.length)return;const r=Li(0,this.viewItems.length).filter(c=>c!==e),s=[...r.filter(c=>this.viewItems[c].priority===Mi.Low),e],o=r.filter(c=>this.viewItems[c].priority===Mi.High),u=this.viewItems[e];n=Math.round(n),n=Qi(n,u.minimumSize,Math.min(u.maximumSize,this.size)),u.size=n,this.relayout(s,o)}resizeViews(e){for(let n=0;n<e.length;n++){const r=this.viewItems[n];let s=e[n];s=Math.round(s),s=Qi(s,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=s}this.contentSize=this.viewItems.reduce((n,r)=>n+r.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(n),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const e=[];let n=0;for(const c of this.viewItems)c.maximumSize-c.minimumSize>0&&(e.push(c),n+=c.size);const r=Math.floor(n/e.length);for(const c of e)c.size=Qi(r,c.minimumSize,c.maximumSize);const s=Li(0,this.viewItems.length),o=s.filter(c=>this.viewItems[c].priority===Mi.Low),u=s.filter(c=>this.viewItems[c].priority===Mi.High);this.relayout(o,u)}dispose(){this.sashItems.forEach(e=>e.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(e,n){const r=this.viewItems.reduce((s,o)=>s+o.size,0);this.resize(this.viewItems.length-1,this.size-r,void 0,e,n),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:e,start:n}){const r=this.sashItems.findIndex(s=>s.sash===e);(s=>{const o=this.viewItems.map(N=>N.size);let u,c,f=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;const p=Li(r,-1,-1),y=Li(r+1,this.viewItems.length),b=p.reduce((N,M)=>N+(this.viewItems[M].minimumSize-o[M]),0),T=p.reduce((N,M)=>N+(this.viewItems[M].viewMaximumSize-o[M]),0),C=y.length===0?Number.POSITIVE_INFINITY:y.reduce((N,M)=>N+(o[M]-this.viewItems[M].minimumSize),0),R=y.length===0?Number.NEGATIVE_INFINITY:y.reduce((N,M)=>N+(o[M]-this.viewItems[M].viewMaximumSize),0);f=Math.max(b,R),d=Math.min(C,T);const P=this.findFirstSnapIndex(p),w=this.findFirstSnapIndex(y);if(typeof P=="number"){const N=this.viewItems[P],M=Math.floor(N.viewMinimumSize/2);u={index:P,limitDelta:N.visible?f-M:f+M,size:N.size}}if(typeof w=="number"){const N=this.viewItems[w],M=Math.floor(N.viewMinimumSize/2);c={index:w,limitDelta:N.visible?d+M:d-M,size:N.size}}this.sashDragState={start:s,current:s,index:r,sizes:o,minDelta:f,maxDelta:d,snapBefore:u,snapAfter:c}})(n)}onSashChange({current:e}){const{index:n,start:r,sizes:s,minDelta:o,maxDelta:u,snapBefore:c,snapAfter:f}=this.sashDragState;this.sashDragState.current=e;const d=e-r;this.resize(n,d,s,void 0,void 0,o,u,c,f),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(e){let n=0;for(let r=0;r<this.sashItems.length;r++)if(n+=this.viewItems[r].size,this.sashItems[r].sash===e)return n;return 0}resize(e,n,r=this.viewItems.map(p=>p.size),s,o,u=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,f,d){if(e<0||e>=this.viewItems.length)return 0;const p=Li(e,-1,-1),y=Li(e+1,this.viewItems.length);if(o)for(const S of o)MS(p,S),MS(y,S);if(s)for(const S of s)ry(p,S),ry(y,S);const b=p.map(S=>this.viewItems[S]),T=p.map(S=>r[S]),C=y.map(S=>this.viewItems[S]),R=y.map(S=>r[S]),P=p.reduce((S,x)=>S+(this.viewItems[x].minimumSize-r[x]),0),w=p.reduce((S,x)=>S+(this.viewItems[x].maximumSize-r[x]),0),N=y.length===0?Number.POSITIVE_INFINITY:y.reduce((S,x)=>S+(r[x]-this.viewItems[x].minimumSize),0),M=y.length===0?Number.NEGATIVE_INFINITY:y.reduce((S,x)=>S+(r[x]-this.viewItems[x].maximumSize),0),L=Math.max(P,M,u),q=Math.min(N,w,c);let B=!1;if(f){const S=this.viewItems[f.index],x=n>=f.limitDelta;B=x!==S.visible,S.setVisible(x,f.size)}if(!B&&d){const S=this.viewItems[d.index],x=n<d.limitDelta;B=x!==S.visible,S.setVisible(x,d.size)}if(B)return this.resize(e,n,r,s,o,u,c);for(let S=0,x=n=Qi(n,L,q);S<b.length;S++){const O=b[S],H=Qi(T[S]+x,O.minimumSize,O.maximumSize);x-=H-T[S],O.size=H}for(let S=0,x=n;S<C.length;S++){const O=C[S],H=Qi(R[S]-x,O.minimumSize,O.maximumSize);x+=H-R[S],O.size=H}return n}distributeEmptySpace(e){const n=this.viewItems.reduce((d,p)=>d+p.size,0);let r=this.size-n;const s=Li(0,this.viewItems.length),o=[],u=s.filter(d=>this.viewItems[d].priority===Mi.Low),c=s.filter(d=>this.viewItems[d].priority===Mi.Normal),f=s.filter(d=>this.viewItems[d].priority===Mi.High);o.push(...f,...c,...u),typeof e=="number"&&ry(o,e);for(let d=0;r!==0&&d<o.length;d++){const p=this.viewItems[o[d]],y=Qi(p.size+r,p.minimumSize,p.maximumSize);r-=y-p.size,p.size=y}}layoutViews(){var e;this.contentSize=this.viewItems.reduce((r,s)=>r+s.size,0);let n=0;for(const r of this.viewItems)r.layout(n),n+=r.size;(e=this.onDidChange)!=null&&e.call(this,this.viewItems.map(r=>r.size)),this.sashItems.forEach(r=>r.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}updateSashEnablement(){let e=!1;const n=this.viewItems.map(f=>e=f.size-f.minimumSize>0||e);e=!1;const r=this.viewItems.map(f=>e=f.maximumSize-f.size>0||e),s=[...this.viewItems].reverse();e=!1;const o=s.map(f=>e=f.size-f.minimumSize>0||e).reverse();e=!1;const u=s.map(f=>e=f.maximumSize-f.size>0||e).reverse();let c=0;for(let f=0;f<this.sashItems.length;f++){const{sash:d}=this.sashItems[f];c+=this.viewItems[f].size;const p=!(n[f]&&u[f+1]),y=!(r[f]&&o[f+1]);if(p&&y){const b=Li(f,-1,-1),T=Li(f+1,this.viewItems.length),C=this.findFirstSnapIndex(b),R=this.findFirstSnapIndex(T),P=typeof C=="number"&&!this.viewItems[C].visible,w=typeof R=="number"&&!this.viewItems[R].visible;P&&o[f]&&(c>0||this.startSnappingEnabled)?d.state=di.Minimum:w&&n[f]&&(c<this.contentSize||this.endSnappingEnabled)?d.state=di.Maximum:d.state=di.Disabled}else d.state=p&&!y?di.Minimum:!p&&y?di.Maximum:di.Enabled}}findFirstSnapIndex(e){for(const n of e){const r=this.viewItems[n];if(r.visible&&r.snap)return n}for(const n of e){const r=this.viewItems[n];if(r.visible&&r.maximumSize-r.minimumSize>0)return;if(!r.visible&&r.snap)return n}}}class nl{constructor(e){this.size=void 0,this.size=e}getPreferredSize(){return this.size}}class HS{constructor(e,n){this.proportion=void 0,this.layoutService=void 0,this.proportion=e,this.layoutService=n}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class Gd{getPreferredSize(){}}class zS{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(e){if(typeof e=="number")this.layoutStrategy=new nl(e);else if(typeof e=="string"){const n=e.trim();if(Yd(n,"%")){const r=Number(n.slice(0,-1))/100;this.layoutStrategy=new HS(r,this.layoutService)}else if(Yd(n,"px")){const r=Number(n.slice(0,-2))/100;this.layoutStrategy=new nl(r)}else if(typeof Number.parseFloat(n)=="number"){const r=Number.parseFloat(n);this.layoutStrategy=new nl(r)}else this.layoutStrategy=new Gd}else this.layoutStrategy=new Gd}constructor(e,n){var r;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=e,this.element=n.element,this.minimumSize=typeof n.minimumSize=="number"?n.minimumSize:30,this.maximumSize=typeof n.maximumSize=="number"?n.maximumSize:Number.POSITIVE_INFINITY,typeof n.preferredSize=="number")this.layoutStrategy=new nl(n.preferredSize);else if(typeof n.preferredSize=="string"){const s=n.preferredSize.trim();if(Yd(s,"%")){const o=Number(s.slice(0,-1))/100;this.layoutStrategy=new HS(o,this.layoutService)}else if(Yd(s,"px")){const o=Number(s.slice(0,-2));this.layoutStrategy=new nl(o)}else if(typeof Number.parseFloat(s)=="number"){const o=Number.parseFloat(s);this.layoutStrategy=new nl(o)}else this.layoutStrategy=new Gd}else this.layoutStrategy=new Gd;this.priority=(r=n.priority)!=null?r:Mi.Normal,this.snap=typeof n.snap=="boolean"&&n.snap}layout(e){}}function FS(t){return t.minSize!==void 0||t.maxSize!==void 0||t.preferredSize!==void 0||t.priority!==void 0||t.visible!==void 0}const i_=se.forwardRef(({className:t,children:e},n)=>Ne.createElement("div",{ref:n,className:Ky("split-view-view",Iw,t)},e));i_.displayName="Allotment.Pane";const Pw=se.forwardRef(({children:t,className:e,id:n,maxSize:r=1/0,minSize:s=30,proportionalLayout:o=!0,separator:u=!0,sizes:c,defaultSizes:f=c,snap:d=!1,vertical:p=!1,onChange:y,onReset:b,onVisibleChange:T,onDragStart:C,onDragEnd:R},P)=>{const w=se.useRef(null),N=se.useRef([]),M=se.useRef(new Map),L=se.useRef(null),q=se.useRef(new Map),B=se.useRef(new t6),S=se.useRef([]),[x,O]=se.useState(!1),H=se.useMemo(()=>Ne.Children.toArray(t).filter(Ne.isValidElement),[t]),V=se.useCallback(F=>{var k,U;const K=(k=S.current)==null?void 0:k[F];return typeof K?.preferredSize=="number"&&((U=L.current)!=null&&U.resizeView(F,Math.round(K.preferredSize)),!0)},[]);return se.useImperativeHandle(P,()=>({reset:()=>{if(b)b();else{var F;(F=L.current)==null||F.distributeViewSizes();for(let k=0;k<S.current.length;k++)V(k)}},resize:F=>{var k;(k=L.current)==null||k.resizeViews(F)}})),DS(()=>{let F=!0;f&&q.current.size!==f.length&&(F=!1,console.warn(`Expected ${f.length} children based on defaultSizes but found ${q.current.size}`)),F&&f&&(N.current=H.map(K=>K.key));const k=Ah({orientation:p?Bi.Vertical:Bi.Horizontal,proportionalLayout:o},F&&f&&{descriptor:{size:f.reduce((K,j)=>K+j,0),views:f.map((K,j)=>{var W,ie,ne,A;const ee=M.current.get(N.current[j]),ae=new zS(B.current,Ah({element:document.createElement("div"),minimumSize:(W=ee?.minSize)!=null?W:s,maximumSize:(ie=ee?.maxSize)!=null?ie:r,priority:(ne=ee?.priority)!=null?ne:Mi.Normal},ee?.preferredSize&&{preferredSize:ee?.preferredSize},{snap:(A=ee?.snap)!=null?A:d}));return S.current.push(ae),{container:[...q.current.values()][j],size:K,view:ae}})}});L.current=new h6(w.current,k,y,C,R),L.current.on("sashDragStart",()=>{var K;(K=w.current)==null||K.classList.add("split-view-sash-dragging")}),L.current.on("sashDragEnd",()=>{var K;(K=w.current)==null||K.classList.remove("split-view-sash-dragging")}),L.current.on("sashchange",K=>{if(T&&L.current){const j=H.map(W=>W.key);for(let W=0;W<j.length;W++){const ie=M.current.get(j[W]);ie?.visible!==void 0&&ie.visible!==L.current.isViewVisible(W)&&T(W,L.current.isViewVisible(W))}}}),L.current.on("sashreset",K=>{if(b)b();else{var j;if(V(K)||V(K+1))return;(j=L.current)==null||j.distributeViewSizes()}});const U=L.current;return()=>{U.dispose()}},[]),DS(()=>{if(x){const z=H.map(xe=>xe.key),ge=[...N.current],Ce=z.filter(xe=>!N.current.includes(xe)),we=z.filter(xe=>N.current.includes(xe)),Fe=N.current.map(xe=>!z.includes(xe));for(let xe=Fe.length-1;xe>=0;xe--){var F;Fe[xe]&&((F=L.current)!=null&&F.removeView(xe),ge.splice(xe,1),S.current.splice(xe,1))}for(const xe of Ce){var k,U,K,j,W;const Le=M.current.get(xe),He=new zS(B.current,Ah({element:document.createElement("div"),minimumSize:(k=Le?.minSize)!=null?k:s,maximumSize:(U=Le?.maxSize)!=null?U:r,priority:(K=Le?.priority)!=null?K:Mi.Normal},Le?.preferredSize&&{preferredSize:Le?.preferredSize},{snap:(j=Le?.snap)!=null?j:d}));(W=L.current)!=null&&W.addView(q.current.get(xe),He,Rm.Distribute,z.findIndex(Je=>Je===xe)),ge.splice(z.findIndex(Je=>Je===xe),0,xe),S.current.splice(z.findIndex(Je=>Je===xe),0,He)}for(;!GO(z,ge);)for(const[xe,Le]of z.entries()){const He=ge.findIndex(Je=>Je===Le);if(He!==xe){var ie;(ie=L.current)==null||ie.moveView(q.current.get(Le),He,xe);const Je=ge[He];ge.splice(He,1),ge.splice(xe,0,Je);break}}for(const xe of Ce){var ne;const Le=z.findIndex(Je=>Je===xe),He=S.current[Le].preferredSize;He!==void 0&&((ne=L.current)==null||ne.resizeView(Le,He))}for(const xe of[...Ce,...we]){var A,ee;const Le=M.current.get(xe),He=z.findIndex(Je=>Je===xe);Le&&FS(Le)&&Le.visible!==void 0&&((A=L.current)==null?void 0:A.isViewVisible(He))!==Le.visible&&((ee=L.current)==null||ee.setViewVisible(He,Le.visible))}for(const xe of we){const Le=M.current.get(xe),He=z.findIndex(Je=>Je===xe);if(Le&&FS(Le)){var ae;Le.preferredSize!==void 0&&S.current[He].preferredSize!==Le.preferredSize&&(S.current[He].preferredSize=Le.preferredSize);let Je=!1;Le.minSize!==void 0&&S.current[He].minimumSize!==Le.minSize&&(S.current[He].minimumSize=Le.minSize,Je=!0),Le.maxSize!==void 0&&S.current[He].maximumSize!==Le.maxSize&&(S.current[He].maximumSize=Le.maxSize,Je=!0),Je&&((ae=L.current)==null||ae.layout())}}(Ce.length>0||Fe.length>0)&&(N.current=z)}},[H,x,r,s,d]),se.useEffect(()=>{L.current&&(L.current.onDidChange=y)},[y]),se.useEffect(()=>{L.current&&(L.current.onDidDragStart=C)},[C]),se.useEffect(()=>{L.current&&(L.current.onDidDragEnd=R)},[R]),$O({ref:w,onResize:({width:F,height:k})=>{var U;F&&k&&((U=L.current)!=null&&U.layout(p?k:F),B.current.setSize(p?k:F),O(!0))}}),se.useEffect(()=>{Rw&&f6(20)},[]),Ne.createElement("div",{ref:w,className:Ky("split-view",p?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":u},XO,p?WO:ZO,{[JO]:u},e),id:n},Ne.createElement("div",{className:Ky("split-view-container",QO)},Ne.Children.toArray(t).map(F=>{if(!Ne.isValidElement(F))return null;const k=F.key;return F.type.displayName==="Allotment.Pane"?(M.current.set(k,F.props),Ne.cloneElement(F,{key:k,ref:U=>{const K=F.ref;K&&(K.current=U),U?q.current.set(k,U):q.current.delete(k)}})):Ne.createElement(i_,{key:k,ref:U=>{U?q.current.set(k,U):q.current.delete(k)}},F)})))});function f6(t){const e=Qi(t,4,20),n=Qi(t,1,8);document.documentElement.style.setProperty("--sash-size",e+"px"),document.documentElement.style.setProperty("--sash-hover-size",n+"px"),function(r){Dw=r,Ow.emit("onDidChangeGlobalSize",r)}(e)}Pw.displayName="Allotment";var oy=Object.assign(Pw,{Pane:i_});const d6=()=>{};var jS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},m6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],c=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},Mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,c=u?t[s+1]:0,f=s+2<t.length,d=f?t[s+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let b=(c&15)<<2|d>>6,T=d&63;f||(T=64,u||(b=64)),r.push(n[p],n[y],n[b],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||d==null||y==null)throw new p6;const b=o<<2|c>>4;if(r.push(b),d!==64){const T=c<<4&240|d>>2;if(r.push(T),y!==64){const C=d<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g6=function(t){const e=Lw(t);return Mw.encodeByteArray(e,!0)},Dm=function(t){return g6(t).replace(/\./g,"")},Bw=function(t){try{return Mw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=()=>y6().__FIREBASE_DEFAULTS__,_6=()=>{if(typeof process>"u"||typeof jS>"u")return;const t=jS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bw(t[1]);return e&&JSON.parse(e)},p0=()=>{try{return d6()||E6()||_6()||b6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uw=t=>{var e,n;return(n=(e=p0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Vw=t=>{const e=Uw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hw=()=>{var t;return(t=p0())===null||t===void 0?void 0:t.config},zw=t=>{var e;return(e=p0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){return t.endsWith(".cloudworkstations.dev")}async function s_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dm(JSON.stringify(n)),Dm(JSON.stringify(u)),""].join(".")}const xh={};function S6(){const t={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?t.emulator.push(e):t.prod.push(e);return t}function A6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qS=!1;function a_(t,e){if(typeof window>"u"||typeof document>"u"||!fu(window.location.host)||xh[t]===e||xh[t]||qS)return;xh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",o=S6().prod.length>0;function u(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{qS=!0,u()},b}function p(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=A6(r),T=n("text"),C=document.getElementById(T)||document.createElement("span"),R=n("learnmore"),P=document.getElementById(R)||document.createElement("a"),w=n("preprendIcon"),N=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const M=b.element;c(M),p(P,R);const L=d();f(N,w),M.append(N,C,P,L),document.body.appendChild(M)}o?(C.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function w6(){var t;const e=(t=p0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R6(){const t=Ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D6(){return!w6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O6(){try{return typeof indexedDB=="object"}catch{return!1}}function k6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="FirebaseError";class ga extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P6,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uf.prototype.create)}}class uf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?L6(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new ga(s,c,r)}}function L6(t,e){return t.replace(M6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const M6=/\{\$([^}]+)}/g;function B6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ru(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(YS(o)&&YS(u)){if(!ru(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function YS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function yh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function U6(t,e){const n=new V6(t,e);return n.subscribe.bind(n)}class V6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=uy),s.error===void 0&&(s.error=uy),s.complete===void 0&&(s.complete=uy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z6=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j6(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function F6(t){return t===Ko?void 0:t}function j6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const Y6={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},G6=Et.INFO,$6={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},X6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o_{constructor(e){this.name=e,this._logLevel=G6,this._logHandler=X6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const K6=(t,e)=>e.some(n=>t instanceof n);let GS,$S;function Q6(){return GS||(GS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W6(){return $S||($S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,Qy=new WeakMap,jw=new WeakMap,ly=new WeakMap,u_=new WeakMap;function Z6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(io(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Fw.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function J6(t){if(Qy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Qy.set(t,e)}let Wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e4(t){Wy=t(Wy)}function t4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cy(this),e,...n);return jw.set(r,e.sort?e.sort():[e]),io(r)}:W6().includes(t)?function(...e){return t.apply(cy(this),e),io(Fw.get(this))}:function(...e){return io(t.apply(cy(this),e))}}function n4(t){return typeof t=="function"?t4(t):(t instanceof IDBTransaction&&J6(t),K6(t,Q6())?new Proxy(t,Wy):t)}function io(t){if(t instanceof IDBRequest)return Z6(t);if(ly.has(t))return ly.get(t);const e=n4(t);return e!==t&&(ly.set(t,e),u_.set(e,t)),e}const cy=t=>u_.get(t);function r4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),c=io(u);return r&&u.addEventListener("upgradeneeded",f=>{r(io(u.result),f.oldVersion,f.newVersion,io(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const i4=["get","getKey","getAll","getAllKeys","count"],s4=["put","add","delete","clear"],hy=new Map;function XS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hy.get(e))return hy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=s4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i4.includes(n)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&f.done]))[0]};return hy.set(e,o),o}e4(t=>({...t,get:(e,n,r)=>XS(e,n)||t.get(e,n,r),has:(e,n)=>!!XS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o4(t){const e=t.getComponent();return e?.type==="VERSION"}const Zy="@firebase/app",KS="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new o_("@firebase/app"),u4="@firebase/app-compat",l4="@firebase/analytics-compat",c4="@firebase/analytics",h4="@firebase/app-check-compat",f4="@firebase/app-check",d4="@firebase/auth",m4="@firebase/auth-compat",p4="@firebase/database",g4="@firebase/data-connect",y4="@firebase/database-compat",E4="@firebase/functions",_4="@firebase/functions-compat",b4="@firebase/installations",T4="@firebase/installations-compat",v4="@firebase/messaging",S4="@firebase/messaging-compat",A4="@firebase/performance",x4="@firebase/performance-compat",w4="@firebase/remote-config",I4="@firebase/remote-config-compat",C4="@firebase/storage",N4="@firebase/storage-compat",R4="@firebase/firestore",D4="@firebase/ai",O4="@firebase/firestore-compat",k4="firebase",P4="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="[DEFAULT]",L4={[Zy]:"fire-core",[u4]:"fire-core-compat",[c4]:"fire-analytics",[l4]:"fire-analytics-compat",[f4]:"fire-app-check",[h4]:"fire-app-check-compat",[d4]:"fire-auth",[m4]:"fire-auth-compat",[p4]:"fire-rtdb",[g4]:"fire-data-connect",[y4]:"fire-rtdb-compat",[E4]:"fire-fn",[_4]:"fire-fn-compat",[b4]:"fire-iid",[T4]:"fire-iid-compat",[v4]:"fire-fcm",[S4]:"fire-fcm-compat",[A4]:"fire-perf",[x4]:"fire-perf-compat",[w4]:"fire-rc",[I4]:"fire-rc-compat",[C4]:"fire-gcs",[N4]:"fire-gcs-compat",[R4]:"fire-fst",[O4]:"fire-fst-compat",[D4]:"fire-vertex","fire-js":"fire-js",[k4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new Map,M4=new Map,eE=new Map;function QS(t,e){try{t.container.addComponent(e)}catch(n){ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function iu(t){const e=t.name;if(eE.has(e))return ca.debug(`There were multiple attempts to register component ${e}.`),!1;eE.set(e,t);for(const n of Om.values())QS(n,t);for(const n of M4.values())QS(n,t);return!0}function g0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new uf("app","Firebase",B4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=P4;function qw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw so.create("bad-app-name",{appName:String(s)});if(n||(n=Hw()),!n)throw so.create("no-options");const o=Om.get(s);if(o){if(ru(n,o.options)&&ru(r,o.config))return o;throw so.create("duplicate-app",{appName:s})}const u=new q6(s);for(const f of eE.values())u.addComponent(f);const c=new U4(n,r,u);return Om.set(s,c),c}function l_(t=Jy){const e=Om.get(t);if(!e&&t===Jy&&Hw())return qw();if(!e)throw so.create("no-app",{appName:t});return e}function ws(t,e,n){var r;let s=(r=L4[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ca.warn(c.join(" "));return}iu(new ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="firebase-heartbeat-database",H4=1,Hh="firebase-heartbeat-store";let fy=null;function Yw(){return fy||(fy=r4(V4,H4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw so.create("idb-open",{originalErrorMessage:t.message})})),fy}async function z4(t){try{const n=(await Yw()).transaction(Hh),r=await n.objectStore(Hh).get(Gw(t));return await n.done,r}catch(e){if(e instanceof ga)ca.warn(e.message);else{const n=so.create("idb-get",{originalErrorMessage:e?.message});ca.warn(n.message)}}}async function WS(t,e){try{const r=(await Yw()).transaction(Hh,"readwrite");await r.objectStore(Hh).put(e,Gw(t)),await r.done}catch(n){if(n instanceof ga)ca.warn(n.message);else{const r=so.create("idb-set",{originalErrorMessage:n?.message});ca.warn(r.message)}}}function Gw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,j4=30;class q4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>j4){const u=$4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ca.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZS(),{heartbeatsToSend:r,unsentEntries:s}=Y4(this._heartbeatsCache.heartbeats),o=Dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ca.warn(n),""}}}function ZS(){return new Date().toISOString().substring(0,10)}function Y4(t,e=F4){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),JS(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),JS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O6()?k6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return WS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return WS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function JS(t){return Dm(JSON.stringify({version:2,heartbeats:t})).length}function $4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){iu(new ho("platform-logger",e=>new a4(e),"PRIVATE")),iu(new ho("heartbeat",e=>new q4(e),"PRIVATE")),ws(Zy,KS,t),ws(Zy,KS,"esm2017"),ws("fire-js","")}X4("");var K4="firebase",Q4="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(K4,Q4,"app");var e2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ao,$w;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function O(){}O.prototype=x.prototype,S.D=x.prototype,S.prototype=new O,S.prototype.constructor=S,S.C=function(H,V,F){for(var k=Array(arguments.length-2),U=2;U<arguments.length;U++)k[U-2]=arguments[U];return x.prototype[V].apply(H,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,x,O){O||(O=0);var H=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)H[V]=x.charCodeAt(O++)|x.charCodeAt(O++)<<8|x.charCodeAt(O++)<<16|x.charCodeAt(O++)<<24;else for(V=0;16>V;++V)H[V]=x[O++]|x[O++]<<8|x[O++]<<16|x[O++]<<24;x=S.g[0],O=S.g[1],V=S.g[2];var F=S.g[3],k=x+(F^O&(V^F))+H[0]+3614090360&4294967295;x=O+(k<<7&4294967295|k>>>25),k=F+(V^x&(O^V))+H[1]+3905402710&4294967295,F=x+(k<<12&4294967295|k>>>20),k=V+(O^F&(x^O))+H[2]+606105819&4294967295,V=F+(k<<17&4294967295|k>>>15),k=O+(x^V&(F^x))+H[3]+3250441966&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(F^O&(V^F))+H[4]+4118548399&4294967295,x=O+(k<<7&4294967295|k>>>25),k=F+(V^x&(O^V))+H[5]+1200080426&4294967295,F=x+(k<<12&4294967295|k>>>20),k=V+(O^F&(x^O))+H[6]+2821735955&4294967295,V=F+(k<<17&4294967295|k>>>15),k=O+(x^V&(F^x))+H[7]+4249261313&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(F^O&(V^F))+H[8]+1770035416&4294967295,x=O+(k<<7&4294967295|k>>>25),k=F+(V^x&(O^V))+H[9]+2336552879&4294967295,F=x+(k<<12&4294967295|k>>>20),k=V+(O^F&(x^O))+H[10]+4294925233&4294967295,V=F+(k<<17&4294967295|k>>>15),k=O+(x^V&(F^x))+H[11]+2304563134&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(F^O&(V^F))+H[12]+1804603682&4294967295,x=O+(k<<7&4294967295|k>>>25),k=F+(V^x&(O^V))+H[13]+4254626195&4294967295,F=x+(k<<12&4294967295|k>>>20),k=V+(O^F&(x^O))+H[14]+2792965006&4294967295,V=F+(k<<17&4294967295|k>>>15),k=O+(x^V&(F^x))+H[15]+1236535329&4294967295,O=V+(k<<22&4294967295|k>>>10),k=x+(V^F&(O^V))+H[1]+4129170786&4294967295,x=O+(k<<5&4294967295|k>>>27),k=F+(O^V&(x^O))+H[6]+3225465664&4294967295,F=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(F^x))+H[11]+643717713&4294967295,V=F+(k<<14&4294967295|k>>>18),k=O+(F^x&(V^F))+H[0]+3921069994&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(V^F&(O^V))+H[5]+3593408605&4294967295,x=O+(k<<5&4294967295|k>>>27),k=F+(O^V&(x^O))+H[10]+38016083&4294967295,F=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(F^x))+H[15]+3634488961&4294967295,V=F+(k<<14&4294967295|k>>>18),k=O+(F^x&(V^F))+H[4]+3889429448&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(V^F&(O^V))+H[9]+568446438&4294967295,x=O+(k<<5&4294967295|k>>>27),k=F+(O^V&(x^O))+H[14]+3275163606&4294967295,F=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(F^x))+H[3]+4107603335&4294967295,V=F+(k<<14&4294967295|k>>>18),k=O+(F^x&(V^F))+H[8]+1163531501&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(V^F&(O^V))+H[13]+2850285829&4294967295,x=O+(k<<5&4294967295|k>>>27),k=F+(O^V&(x^O))+H[2]+4243563512&4294967295,F=x+(k<<9&4294967295|k>>>23),k=V+(x^O&(F^x))+H[7]+1735328473&4294967295,V=F+(k<<14&4294967295|k>>>18),k=O+(F^x&(V^F))+H[12]+2368359562&4294967295,O=V+(k<<20&4294967295|k>>>12),k=x+(O^V^F)+H[5]+4294588738&4294967295,x=O+(k<<4&4294967295|k>>>28),k=F+(x^O^V)+H[8]+2272392833&4294967295,F=x+(k<<11&4294967295|k>>>21),k=V+(F^x^O)+H[11]+1839030562&4294967295,V=F+(k<<16&4294967295|k>>>16),k=O+(V^F^x)+H[14]+4259657740&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(O^V^F)+H[1]+2763975236&4294967295,x=O+(k<<4&4294967295|k>>>28),k=F+(x^O^V)+H[4]+1272893353&4294967295,F=x+(k<<11&4294967295|k>>>21),k=V+(F^x^O)+H[7]+4139469664&4294967295,V=F+(k<<16&4294967295|k>>>16),k=O+(V^F^x)+H[10]+3200236656&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(O^V^F)+H[13]+681279174&4294967295,x=O+(k<<4&4294967295|k>>>28),k=F+(x^O^V)+H[0]+3936430074&4294967295,F=x+(k<<11&4294967295|k>>>21),k=V+(F^x^O)+H[3]+3572445317&4294967295,V=F+(k<<16&4294967295|k>>>16),k=O+(V^F^x)+H[6]+76029189&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(O^V^F)+H[9]+3654602809&4294967295,x=O+(k<<4&4294967295|k>>>28),k=F+(x^O^V)+H[12]+3873151461&4294967295,F=x+(k<<11&4294967295|k>>>21),k=V+(F^x^O)+H[15]+530742520&4294967295,V=F+(k<<16&4294967295|k>>>16),k=O+(V^F^x)+H[2]+3299628645&4294967295,O=V+(k<<23&4294967295|k>>>9),k=x+(V^(O|~F))+H[0]+4096336452&4294967295,x=O+(k<<6&4294967295|k>>>26),k=F+(O^(x|~V))+H[7]+1126891415&4294967295,F=x+(k<<10&4294967295|k>>>22),k=V+(x^(F|~O))+H[14]+2878612391&4294967295,V=F+(k<<15&4294967295|k>>>17),k=O+(F^(V|~x))+H[5]+4237533241&4294967295,O=V+(k<<21&4294967295|k>>>11),k=x+(V^(O|~F))+H[12]+1700485571&4294967295,x=O+(k<<6&4294967295|k>>>26),k=F+(O^(x|~V))+H[3]+2399980690&4294967295,F=x+(k<<10&4294967295|k>>>22),k=V+(x^(F|~O))+H[10]+4293915773&4294967295,V=F+(k<<15&4294967295|k>>>17),k=O+(F^(V|~x))+H[1]+2240044497&4294967295,O=V+(k<<21&4294967295|k>>>11),k=x+(V^(O|~F))+H[8]+1873313359&4294967295,x=O+(k<<6&4294967295|k>>>26),k=F+(O^(x|~V))+H[15]+4264355552&4294967295,F=x+(k<<10&4294967295|k>>>22),k=V+(x^(F|~O))+H[6]+2734768916&4294967295,V=F+(k<<15&4294967295|k>>>17),k=O+(F^(V|~x))+H[13]+1309151649&4294967295,O=V+(k<<21&4294967295|k>>>11),k=x+(V^(O|~F))+H[4]+4149444226&4294967295,x=O+(k<<6&4294967295|k>>>26),k=F+(O^(x|~V))+H[11]+3174756917&4294967295,F=x+(k<<10&4294967295|k>>>22),k=V+(x^(F|~O))+H[2]+718787259&4294967295,V=F+(k<<15&4294967295|k>>>17),k=O+(F^(V|~x))+H[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var O=x-this.blockSize,H=this.B,V=this.h,F=0;F<x;){if(V==0)for(;F<=O;)s(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<x;)if(H[V++]=S.charCodeAt(F++),V==this.blockSize){s(this,H),V=0;break}}else for(;F<x;)if(H[V++]=S[F++],V==this.blockSize){s(this,H),V=0;break}}this.h=V,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var O=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=O&255,O/=256;for(this.u(S),S=Array(16),x=O=0;4>x;++x)for(var H=0;32>H;H+=8)S[O++]=this.g[x]>>>H&255;return S};function o(S,x){var O=c;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=x(S)}function u(S,x){this.h=x;for(var O=[],H=!0,V=S.length-1;0<=V;V--){var F=S[V]|0;H&&F==x||(O[V]=F,H=!1)}this.g=O}var c={};function f(S){return-128<=S&&128>S?o(S,function(x){return new u([x|0],0>x?-1:0)}):new u([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return y;if(0>S)return P(d(-S));for(var x=[],O=1,H=0;S>=O;H++)x[H]=S/O|0,O*=4294967296;return new u(x,0)}function p(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return P(p(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(x,8)),H=y,V=0;V<S.length;V+=8){var F=Math.min(8,S.length-V),k=parseInt(S.substring(V,V+F),x);8>F?(F=d(Math.pow(x,F)),H=H.j(F).add(d(k))):(H=H.j(O),H=H.add(d(k)))}return H}var y=f(0),b=f(1),T=f(16777216);t=u.prototype,t.m=function(){if(R(this))return-P(this).m();for(var S=0,x=1,O=0;O<this.g.length;O++){var H=this.i(O);S+=(0<=H?H:4294967296+H)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(R(this))return"-"+P(this).toString(S);for(var x=d(Math.pow(S,6)),O=this,H="";;){var V=L(O,x).g;O=w(O,V.j(x));var F=((0<O.g.length?O.g[0]:O.h)>>>0).toString(S);if(O=V,C(O))return F+H;for(;6>F.length;)F="0"+F;H=F+H}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function R(S){return S.h==-1}t.l=function(S){return S=w(this,S),R(S)?-1:C(S)?0:1};function P(S){for(var x=S.g.length,O=[],H=0;H<x;H++)O[H]=~S.g[H];return new u(O,~S.h).add(b)}t.abs=function(){return R(this)?P(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],H=0,V=0;V<=x;V++){var F=H+(this.i(V)&65535)+(S.i(V)&65535),k=(F>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);H=k>>>16,F&=65535,k&=65535,O[V]=k<<16|F}return new u(O,O[O.length-1]&-2147483648?-1:0)};function w(S,x){return S.add(P(x))}t.j=function(S){if(C(this)||C(S))return y;if(R(this))return R(S)?P(this).j(P(S)):P(P(this).j(S));if(R(S))return P(this.j(P(S)));if(0>this.l(T)&&0>S.l(T))return d(this.m()*S.m());for(var x=this.g.length+S.g.length,O=[],H=0;H<2*x;H++)O[H]=0;for(H=0;H<this.g.length;H++)for(var V=0;V<S.g.length;V++){var F=this.i(H)>>>16,k=this.i(H)&65535,U=S.i(V)>>>16,K=S.i(V)&65535;O[2*H+2*V]+=k*K,N(O,2*H+2*V),O[2*H+2*V+1]+=F*K,N(O,2*H+2*V+1),O[2*H+2*V+1]+=k*U,N(O,2*H+2*V+1),O[2*H+2*V+2]+=F*U,N(O,2*H+2*V+2)}for(H=0;H<x;H++)O[H]=O[2*H+1]<<16|O[2*H];for(H=x;H<2*x;H++)O[H]=0;return new u(O,0)};function N(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function M(S,x){this.g=S,this.h=x}function L(S,x){if(C(x))throw Error("division by zero");if(C(S))return new M(y,y);if(R(S))return x=L(P(S),x),new M(P(x.g),P(x.h));if(R(x))return x=L(S,P(x)),new M(P(x.g),x.h);if(30<S.g.length){if(R(S)||R(x))throw Error("slowDivide_ only works with positive integers.");for(var O=b,H=x;0>=H.l(S);)O=q(O),H=q(H);var V=B(O,1),F=B(H,1);for(H=B(H,2),O=B(O,2);!C(H);){var k=F.add(H);0>=k.l(S)&&(V=V.add(O),F=k),H=B(H,1),O=B(O,1)}return x=w(S,V.j(x)),new M(V,x)}for(V=y;0<=S.l(x);){for(O=Math.max(1,Math.floor(S.m()/x.m())),H=Math.ceil(Math.log(O)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),F=d(O),k=F.j(x);R(k)||0<k.l(S);)O-=H,F=d(O),k=F.j(x);C(F)&&(F=b),V=V.add(F),S=w(S,k)}return new M(V,S)}t.A=function(S){return L(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],H=0;H<x;H++)O[H]=this.i(H)&S.i(H);return new u(O,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],H=0;H<x;H++)O[H]=this.i(H)|S.i(H);return new u(O,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),O=[],H=0;H<x;H++)O[H]=this.i(H)^S.i(H);return new u(O,this.h^S.h)};function q(S){for(var x=S.g.length+1,O=[],H=0;H<x;H++)O[H]=S.i(H)<<1|S.i(H-1)>>>31;return new u(O,S.h)}function B(S,x){var O=x>>5;x%=32;for(var H=S.g.length-O,V=[],F=0;F<H;F++)V[F]=0<x?S.i(F+O)>>>x|S.i(F+O+1)<<32-x:S.i(F+O);return new u(V,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$w=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=p,ao=u}).apply(typeof e2<"u"?e2:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xw,Eh,Kw,dm,tE,Qw,Ww,Zw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,v,I){return m==Array.prototype||m==Object.prototype||(m[v]=I.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var v=0;v<m.length;++v){var I=m[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(m,v){if(v)e:{var I=r;m=m.split(".");for(var G=0;G<m.length-1;G++){var ue=m[G];if(!(ue in I))break e;I=I[ue]}m=m[m.length-1],G=I[m],v=v(G),v!=G&&v!=null&&e(I,m,{configurable:!0,writable:!0,value:v})}}function o(m,v){m instanceof String&&(m+="");var I=0,G=!1,ue={next:function(){if(!G&&I<m.length){var ye=I++;return{value:v(ye,m[ye]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}s("Array.prototype.values",function(m){return m||function(){return o(this,function(v,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(m){var v=typeof m;return v=v!="object"?v:m?Array.isArray(m)?"array":v:"null",v=="array"||v=="object"&&typeof m.length=="number"}function d(m){var v=typeof m;return v=="object"&&m!=null||v=="function"}function p(m,v,I){return m.call.apply(m.bind,arguments)}function y(m,v,I){if(!m)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,G),m.apply(v,ue)}}return function(){return m.apply(v,arguments)}}function b(m,v,I){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,b.apply(null,arguments)}function T(m,v){var I=Array.prototype.slice.call(arguments,1);return function(){var G=I.slice();return G.push.apply(G,arguments),m.apply(this,G)}}function C(m,v){function I(){}I.prototype=v.prototype,m.aa=v.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(G,ue,ye){for(var Pe=Array(arguments.length-2),At=2;At<arguments.length;At++)Pe[At-2]=arguments[At];return v.prototype[ue].apply(G,Pe)}}function R(m){const v=m.length;if(0<v){const I=Array(v);for(let G=0;G<v;G++)I[G]=m[G];return I}return[]}function P(m,v){for(let I=1;I<arguments.length;I++){const G=arguments[I];if(f(G)){const ue=m.length||0,ye=G.length||0;m.length=ue+ye;for(let Pe=0;Pe<ye;Pe++)m[ue+Pe]=G[Pe]}else m.push(G)}}class w{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(m){return/^[\s\xa0]*$/.test(m)}function M(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function L(m){return L[" "](m),m}L[" "]=function(){};var q=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function B(m,v,I){for(const G in m)v.call(I,m[G],G,m)}function S(m,v){for(const I in m)v.call(void 0,m[I],I,m)}function x(m){const v={};for(const I in m)v[I]=m[I];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(m,v){let I,G;for(let ue=1;ue<arguments.length;ue++){G=arguments[ue];for(I in G)m[I]=G[I];for(let ye=0;ye<O.length;ye++)I=O[ye],Object.prototype.hasOwnProperty.call(G,I)&&(m[I]=G[I])}}function V(m){var v=1;m=m.split(":");const I=[];for(;0<v&&m.length;)I.push(m.shift()),v--;return m.length&&I.push(m.join(":")),I}function F(m){c.setTimeout(()=>{throw m},0)}function k(){var m=ne;let v=null;return m.g&&(v=m.g,m.g=m.g.next,m.g||(m.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,I){const G=K.get();G.set(v,I),this.h?this.h.next=G:this.g=G,this.h=G}}var K=new w(()=>new j,m=>m.reset());class j{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ie=!1,ne=new U,A=()=>{const m=c.Promise.resolve(void 0);W=()=>{m.then(ee)}};var ee=()=>{for(var m;m=k();){try{m.h.call(m.g)}catch(I){F(I)}var v=K;v.j(m),100>v.h&&(v.h++,m.next=v.g,v.g=m)}ie=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(m,v){this.type=m,this.g=this.target=v,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,v=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};c.addEventListener("test",I,v),c.removeEventListener("test",I,v)}catch{}return m}();function Ce(m,v){if(z.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,G=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=v,v=m.relatedTarget){if(q){e:{try{L(v.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(v=null)}}else I=="mouseover"?v=m.fromElement:I=="mouseout"&&(v=m.toElement);this.relatedTarget=v,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:we[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ce.aa.h.call(this)}}C(Ce,z);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Le(m,v,I,G,ue){this.listener=m,this.proxy=null,this.src=v,this.type=I,this.capture=!!G,this.ha=ue,this.key=++xe,this.da=this.fa=!1}function He(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Je(m){this.src=m,this.g={},this.h=0}Je.prototype.add=function(m,v,I,G,ue){var ye=m.toString();m=this.g[ye],m||(m=this.g[ye]=[],this.h++);var Pe=Jt(m,v,G,ue);return-1<Pe?(v=m[Pe],I||(v.fa=!1)):(v=new Le(v,this.src,ye,!!G,ue),v.fa=I,m.push(v)),v};function an(m,v){var I=v.type;if(I in m.g){var G=m.g[I],ue=Array.prototype.indexOf.call(G,v,void 0),ye;(ye=0<=ue)&&Array.prototype.splice.call(G,ue,1),ye&&(He(v),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Jt(m,v,I,G){for(var ue=0;ue<m.length;++ue){var ye=m[ue];if(!ye.da&&ye.listener==v&&ye.capture==!!I&&ye.ha==G)return ue}return-1}var on="closure_lm_"+(1e6*Math.random()|0),Dt={};function Dn(m,v,I,G,ue){if(Array.isArray(v)){for(var ye=0;ye<v.length;ye++)Dn(m,v[ye],I,G,ue);return null}return I=or(I),m&&m[Fe]?m.K(v,I,d(G)?!!G.capture:!1,ue):Qe(m,v,I,!1,G,ue)}function Qe(m,v,I,G,ue,ye){if(!v)throw Error("Invalid event type");var Pe=d(ue)?!!ue.capture:!!ue,At=zn(m);if(At||(m[on]=At=new Je(m)),I=At.add(v,I,G,Pe,ye),I.proxy)return I;if(G=je(),I.proxy=G,G.src=m,G.listener=I,m.addEventListener)ge||(ue=Pe),ue===void 0&&(ue=!1),m.addEventListener(v.toString(),G,ue);else if(m.attachEvent)m.attachEvent(Hn(v.toString()),G);else if(m.addListener&&m.removeListener)m.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return I}function je(){function m(I){return v.call(m.src,m.listener,I)}const v=Kn;return m}function cn(m,v,I,G,ue){if(Array.isArray(v))for(var ye=0;ye<v.length;ye++)cn(m,v[ye],I,G,ue);else G=d(G)?!!G.capture:!!G,I=or(I),m&&m[Fe]?(m=m.i,v=String(v).toString(),v in m.g&&(ye=m.g[v],I=Jt(ye,I,G,ue),-1<I&&(He(ye[I]),Array.prototype.splice.call(ye,I,1),ye.length==0&&(delete m.g[v],m.h--)))):m&&(m=zn(m))&&(v=m.g[v.toString()],m=-1,v&&(m=Jt(v,I,G,ue)),(I=-1<m?v[m]:null)&&Vn(I))}function Vn(m){if(typeof m!="number"&&m&&!m.da){var v=m.src;if(v&&v[Fe])an(v.i,m);else{var I=m.type,G=m.proxy;v.removeEventListener?v.removeEventListener(I,G,m.capture):v.detachEvent?v.detachEvent(Hn(I),G):v.addListener&&v.removeListener&&v.removeListener(G),(I=zn(v))?(an(I,m),I.h==0&&(I.src=null,v[on]=null)):He(m)}}}function Hn(m){return m in Dt?Dt[m]:Dt[m]="on"+m}function Kn(m,v){if(m.da)m=!0;else{v=new Ce(v,this);var I=m.listener,G=m.ha||m.src;m.fa&&Vn(m),m=I.call(G,v)}return m}function zn(m){return m=m[on],m instanceof Je?m:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(m){return typeof m=="function"?m:(m[vn]||(m[vn]=function(v){return m.handleEvent(v)}),m[vn])}function fe(){ae.call(this),this.i=new Je(this),this.M=this,this.F=null}C(fe,ae),fe.prototype[Fe]=!0,fe.prototype.removeEventListener=function(m,v,I,G){cn(this,m,v,I,G)};function be(m,v){var I,G=m.F;if(G)for(I=[];G;G=G.F)I.push(G);if(m=m.M,G=v.type||v,typeof v=="string")v=new z(v,m);else if(v instanceof z)v.target=v.target||m;else{var ue=v;v=new z(G,m),H(v,ue)}if(ue=!0,I)for(var ye=I.length-1;0<=ye;ye--){var Pe=v.g=I[ye];ue=Ve(Pe,G,!0,v)&&ue}if(Pe=v.g=m,ue=Ve(Pe,G,!0,v)&&ue,ue=Ve(Pe,G,!1,v)&&ue,I)for(ye=0;ye<I.length;ye++)Pe=v.g=I[ye],ue=Ve(Pe,G,!1,v)&&ue}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var m=this.i,v;for(v in m.g){for(var I=m.g[v],G=0;G<I.length;G++)He(I[G]);delete m.g[v],m.h--}}this.F=null},fe.prototype.K=function(m,v,I,G){return this.i.add(String(m),v,!1,I,G)},fe.prototype.L=function(m,v,I,G){return this.i.add(String(m),v,!0,I,G)};function Ve(m,v,I,G){if(v=m.i.g[String(v)],!v)return!0;v=v.concat();for(var ue=!0,ye=0;ye<v.length;++ye){var Pe=v[ye];if(Pe&&!Pe.da&&Pe.capture==I){var At=Pe.listener,qn=Pe.ha||Pe.src;Pe.fa&&an(m.i,Pe),ue=At.call(qn,G)!==!1&&ue}}return ue&&!G.defaultPrevented}function qe(m,v,I){if(typeof m=="function")I&&(m=b(m,I));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(m,v||0)}function ut(m){m.g=qe(()=>{m.g=null,m.i&&(m.i=!1,ut(m))},m.l);const v=m.h;m.h=null,m.m.apply(null,v)}class Tt extends ae{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(m){ae.call(this),this.h=m,this.g={}}C(Ht,ae);var zt=[];function Ft(m){B(m.g,function(v,I){this.g.hasOwnProperty(I)&&Vn(v)},m),m.g={}}Ht.prototype.N=function(){Ht.aa.N.call(this),Ft(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=c.JSON.stringify,lt=c.JSON.parse,Wt=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Gt(){}Gt.prototype.h=null;function ji(m){return m.h||(m.h=m.i())}function br(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){z.call(this,"d")}C(Rr,z);function Tr(){z.call(this,"c")}C(Tr,z);var Fr={},Bs=null;function ti(){return Bs=Bs||new fe}Fr.La="serverreachability";function qi(m){z.call(this,Fr.La,m)}C(qi,z);function Dr(m){const v=ti();be(v,new qi(v))}Fr.STAT_EVENT="statevent";function ni(m,v){z.call(this,Fr.STAT_EVENT,m),this.stat=v}C(ni,z);function $t(m){const v=ti();be(v,new ni(v,m))}Fr.Ma="timingevent";function Pt(m,v){z.call(this,Fr.Ma,m),this.size=v}C(Pt,z);function hn(m,v){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},v)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function ss(m,v,I,G,ue,ye){m.info(function(){if(m.g)if(ye)for(var Pe="",At=ye.split("&"),qn=0;qn<At.length;qn++){var xt=At[qn].split("=");if(1<xt.length){var er=xt[0];xt=xt[1];var Yn=er.split("_");Pe=2<=Yn.length&&Yn[1]=="type"?Pe+(er+"="+xt+"&"):Pe+(er+"=redacted&")}}else Pe=null;else Pe=ye;return"XMLHTTP REQ ("+G+") [attempt "+ue+"]: "+v+`
`+I+`
`+Pe})}function Ao(m,v,I,G,ue,ye,Pe){m.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ue+"]: "+v+`
`+I+`
`+ye+" "+Pe})}function Or(m,v,I,G){m.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ti(m,I)+(G?" "+G:"")})}function as(m,v){m.info(function(){return"TIMEOUT: "+v})}yn.prototype.info=function(){};function Ti(m,v){if(!m.g)return v;if(!v)return null;try{var I=JSON.parse(v);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var G=I[m];if(!(2>G.length)){var ue=G[1];if(Array.isArray(ue)&&!(1>ue.length)){var ye=ue[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Pe=1;Pe<ue.length;Pe++)ue[Pe]=""}}}}return vt(I)}catch{return v}}var ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Pr(){}C(Pr,Gt),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},Qn=new Pr;function jn(m,v,I,G){this.j=m,this.i=v,this.l=I,this.R=G||1,this.U=new Ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var pe={},De={};function Me(m,v,I){m.L=1,m.v=Yi(en(v)),m.m=I,m.P=!0,pt(m,null)}function pt(m,v){m.F=Date.now(),Lt(m),m.A=en(m.v);var I=m.A,G=m.R;Array.isArray(G)||(G=[String(G)]),rc(I.i,"t",G),m.C=0,I=m.j.J,m.h=new te,m.g=Uf(m.j,I?v:null,!m.m),0<m.O&&(m.M=new Tt(b(m.Y,m,m.g),m.O)),v=m.U,I=m.g,G=m.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(zt[0]=ue.toString()),ue=zt);for(var ye=0;ye<ue.length;ye++){var Pe=Dn(I,ue[ye],G||v.handleEvent,!1,v.h||v);if(!Pe)break;v.g[Pe.key]=Pe}v=m.H?x(m.H):{},m.m?(m.u||(m.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,v)):(m.u="GET",m.g.ea(m.A,m.u,null,v)),Dr(),ss(m.i,m.u,m.A,m.l,m.R,m.m)}jn.prototype.ca=function(m){m=m.target;const v=this.M;v&&Ii(m)==3?v.j():this.Y(m)},jn.prototype.Y=function(m){try{if(m==this.g)e:{const Yn=Ii(this.g);var v=this.g.Ba();const qs=this.g.Z();if(!(3>Yn)&&(Yn!=3||this.g&&(this.h.h||this.g.oa()||Rf(this.g)))){this.J||Yn!=4||v==7||(v==8||0>=qs?Dr(3):Dr(2)),Mt(this);var I=this.g.Z();this.X=I;t:if(rt(this)){var G=Rf(this.g);m="";var ue=G.length,ye=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),Nt(this);var Pe="";break t}this.h.i=new c.TextDecoder}for(v=0;v<ue;v++)this.h.h=!0,m+=this.h.i.decode(G[v],{stream:!(ye&&v==ue-1)});G.length=0,this.h.g+=m,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=I==200,Ao(this.i,this.u,this.A,this.l,this.R,Yn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var At,qn=this.g;if((At=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(At)){var xt=At;break t}}xt=null}if(I=xt)Or(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,On(this,I);else{this.o=!1,this.s=3,$t(12),Bt(this),Nt(this);break e}}if(this.P){I=!0;let fr;for(;!this.J&&this.C<Pe.length;)if(fr=jt(this,Pe),fr==De){Yn==4&&(this.s=4,$t(14),I=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==pe){this.s=4,$t(15),Or(this.i,this.l,Pe,"[Invalid Chunk]"),I=!1;break}else Or(this.i,this.l,fr,null),On(this,fr);if(rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yn!=4||Pe.length!=0||this.h.h||(this.s=1,$t(16),I=!1),this.o=this.o&&I,!I)Or(this.i,this.l,Pe,"[Invalid Chunked Response]"),Bt(this),Nt(this);else if(0<Pe.length&&!this.W){this.W=!0;var er=this.j;er.g==this&&er.ba&&!er.M&&(er.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),ko(er),er.M=!0,$t(11))}}else Or(this.i,this.l,Pe,null),On(this,Pe);Yn==4&&Bt(this),this.o&&!this.J&&(Yn==4?Lf(this.j,this):(this.o=!1,Lt(this)))}else J0(this.g),I==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Bt(this),Nt(this)}}}catch{}finally{}};function rt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function jt(m,v){var I=m.C,G=v.indexOf(`
`,I);return G==-1?De:(I=Number(v.substring(I,G)),isNaN(I)?pe:(G+=1,G+I>v.length?De:(v=v.slice(G,G+I),m.C=G+I,v)))}jn.prototype.cancel=function(){this.J=!0,Bt(this)};function Lt(m){m.S=Date.now()+m.I,Wn(m,m.I)}function Wn(m,v){if(m.B!=null)throw Error("WatchDog timer not null");m.B=hn(b(m.ba,m),v)}function Mt(m){m.B&&(c.clearTimeout(m.B),m.B=null)}jn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(as(this.i,this.A),this.L!=2&&(Dr(),$t(17)),Bt(this),this.s=2,Nt(this)):Wn(this,this.S-m)};function Nt(m){m.j.G==0||m.J||Lf(m.j,m)}function Bt(m){Mt(m);var v=m.M;v&&typeof v.ma=="function"&&v.ma(),m.M=null,Ft(m.U),m.g&&(v=m.g,m.g=null,v.abort(),v.ma())}function On(m,v){try{var I=m.j;if(I.G!=0&&(I.g==m||vi(I.h,m))){if(!m.K&&vi(I.h,m)&&I.G==3){try{var G=I.Da.g.parse(v)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ue=G;if(ue[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)wu(I),Au(I);else break e;uc(I),$t(18)}}else I.za=ue[1],0<I.za-I.T&&37500>ue[2]&&I.F&&I.v==0&&!I.C&&(I.C=hn(b(I.Za,I),6e3));if(1>=Mr(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else js(I,11)}else if((m.K||I.g==m)&&wu(I),!N(v))for(ue=I.Da.g.parse(v),v=0;v<ue.length;v++){let xt=ue[v];if(I.T=xt[0],xt=xt[1],I.G==2)if(xt[0]=="c"){I.K=xt[1],I.ia=xt[2];const er=xt[3];er!=null&&(I.la=er,I.j.info("VER="+I.la));const Yn=xt[4];Yn!=null&&(I.Aa=Yn,I.j.info("SVER="+I.Aa));const qs=xt[5];qs!=null&&typeof qs=="number"&&0<qs&&(G=1.5*qs,I.L=G,I.j.info("backChannelRequestTimeoutMs_="+G)),G=I;const fr=m.g;if(fr){const ms=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var ye=G.h;ye.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(Si(ye,ye.h),ye.h=null))}if(G.D){const cc=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;cc&&(G.ya=cc,Ct(G.I,G.D,cc))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),G=I;var Pe=m;if(G.qa=Bf(G,G.J?G.ia:null,G.W),Pe.K){Zn(G.h,Pe);var At=Pe,qn=G.L;qn&&(At.I=qn),At.B&&(Mt(At),Lt(At)),G.g=Pe}else kf(G);0<I.i.length&&xu(I)}else xt[0]!="stop"&&xt[0]!="close"||js(I,7);else I.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?js(I,7):ac(I):xt[0]!="noop"&&I.l&&I.l.ta(xt),I.v=0)}}Dr(4)}catch{}}var En=class{constructor(m,v){this.g=m,this.map=v}};function Sn(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Mr(m){return m.h?1:m.g?m.g.size:0}function vi(m,v){return m.h?m.h==v:m.g?m.g.has(v):!1}function Si(m,v){m.g?m.g.add(v):m.h=v}function Zn(m,v){m.h&&m.h==v?m.h=null:m.g&&m.g.has(v)&&m.g.delete(v)}Sn.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function xo(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let v=m.i;for(const I of m.g.values())v=v.concat(I.D);return v}return R(m.i)}function nc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(f(m)){for(var v=[],I=m.length,G=0;G<I;G++)v.push(m[G]);return v}v=[],I=0;for(G in m)v[I++]=m[G];return v}function St(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(f(m)||typeof m=="string"){var v=[];m=m.length;for(var I=0;I<m;I++)v.push(I);return v}v=[],I=0;for(const G in m)v[I++]=G;return v}}}function bt(m,v){if(m.forEach&&typeof m.forEach=="function")m.forEach(v,void 0);else if(f(m)||typeof m=="string")Array.prototype.forEach.call(m,v,void 0);else for(var I=St(m),G=nc(m),ue=G.length,ye=0;ye<ue;ye++)v.call(void 0,G[ye],I&&I[ye],m)}var Ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xi(m,v){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var G=m[I].indexOf("="),ue=null;if(0<=G){var ye=m[I].substring(0,G);ue=m[I].substring(G+1)}else ye=m[I];v(ye,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function fn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof fn){this.h=m.h,ur(this,m.j),this.o=m.o,this.g=m.g,lr(this,m.s),this.l=m.l;var v=m.i,I=new jr;I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),Br(this,I),this.m=m.m}else m&&(v=String(m).match(Ai))?(this.h=!1,ur(this,v[1]||"",!0),this.o=cr(v[2]||""),this.g=cr(v[3]||"",!0),lr(this,v[4]),this.l=cr(v[5]||"",!0),Br(this,v[6]||"",!0),this.m=cr(v[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}fn.prototype.toString=function(){var m=[],v=this.j;v&&m.push(Ur(v,os,!0),":");var I=this.g;return(I||v=="file")&&(m.push("//"),(v=this.o)&&m.push(Ur(v,os,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Ur(I,I.charAt(0)=="/"?ya:Us,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Ur(I,Vs)),m.join("")};function en(m){return new fn(m)}function ur(m,v,I){m.j=I?cr(v,!0):v,m.j&&(m.j=m.j.replace(/:$/,""))}function lr(m,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);m.s=v}else m.s=null}function Br(m,v,I){v instanceof jr?(m.i=v,Cf(m.i,m.h)):(I||(v=Ur(v,Ea)),m.i=new jr(v,m.h))}function Ct(m,v,I){m.i.set(v,I)}function Yi(m){return Ct(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function cr(m,v){return m?v?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ur(m,v,I){return typeof m=="string"?(m=encodeURI(m).replace(v,wo),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wo(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var os=/[#\/\?@]/g,Us=/[#\?:]/g,ya=/[#\?]/g,Ea=/[#\?@]/g,Vs=/#/g;function jr(m,v){this.h=this.g=null,this.i=m||null,this.j=!!v}function hr(m){m.g||(m.g=new Map,m.h=0,m.i&&xi(m.i,function(v,I){m.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}t=jr.prototype,t.add=function(m,v){hr(this),this.i=null,m=us(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(v),this.h+=1,this};function Hs(m,v){hr(m),v=us(m,v),m.g.has(v)&&(m.i=null,m.h-=m.g.get(v).length,m.g.delete(v))}function zs(m,v){return hr(m),v=us(m,v),m.g.has(v)}t.forEach=function(m,v){hr(this),this.g.forEach(function(I,G){I.forEach(function(ue){m.call(v,ue,G,this)},this)},this)},t.na=function(){hr(this);const m=Array.from(this.g.values()),v=Array.from(this.g.keys()),I=[];for(let G=0;G<v.length;G++){const ue=m[G];for(let ye=0;ye<ue.length;ye++)I.push(v[G])}return I},t.V=function(m){hr(this);let v=[];if(typeof m=="string")zs(this,m)&&(v=v.concat(this.g.get(us(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)v=v.concat(m[I])}return v},t.set=function(m,v){return hr(this),this.i=null,m=us(this,m),zs(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[v]),this.h+=1,this},t.get=function(m,v){return m?(m=this.V(m),0<m.length?String(m[0]):v):v};function rc(m,v,I){Hs(m,v),0<I.length&&(m.i=null,m.g.set(us(m,v),R(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],v=Array.from(this.g.keys());for(var I=0;I<v.length;I++){var G=v[I];const ye=encodeURIComponent(String(G)),Pe=this.V(G);for(G=0;G<Pe.length;G++){var ue=ye;Pe[G]!==""&&(ue+="="+encodeURIComponent(String(Pe[G]))),m.push(ue)}}return this.i=m.join("&")};function us(m,v){return v=String(v),m.j&&(v=v.toLowerCase()),v}function Cf(m,v){v&&!m.j&&(hr(m),m.i=null,m.g.forEach(function(I,G){var ue=G.toLowerCase();G!=ue&&(Hs(this,G),rc(this,ue,I))},m)),m.j=v}function Io(m,v){const I=new yn;if(c.Image){const G=new Image;G.onload=T(wi,I,"TestLoadImage: loaded",!0,v,G),G.onerror=T(wi,I,"TestLoadImage: error",!1,v,G),G.onabort=T(wi,I,"TestLoadImage: abort",!1,v,G),G.ontimeout=T(wi,I,"TestLoadImage: timeout",!1,v,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=m}else v(!1)}function Gi(m,v){const I=new yn,G=new AbortController,ue=setTimeout(()=>{G.abort(),wi(I,"TestPingServer: timeout",!1,v)},1e4);fetch(m,{signal:G.signal}).then(ye=>{clearTimeout(ue),ye.ok?wi(I,"TestPingServer: ok",!0,v):wi(I,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(ue),wi(I,"TestPingServer: error",!1,v)})}function wi(m,v,I,G,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),G(I)}catch{}}function Co(){this.g=new Wt}function ls(m,v,I){const G=I||"";try{bt(m,function(ue,ye){let Pe=ue;d(ue)&&(Pe=vt(ue)),v.push(G+ye+"="+encodeURIComponent(Pe))})}catch(ue){throw v.push(G+"type="+encodeURIComponent("_badmap")),ue}}function _a(m){this.l=m.Ub||null,this.j=m.eb||!1}C(_a,Gt),_a.prototype.g=function(){return new Fs(this.l,this.j)},_a.prototype.i=function(m){return function(){return m}}({});function Fs(m,v){fe.call(this),this.D=m,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fs,fe),t=Fs.prototype,t.open=function(m,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=v,this.readyState=1,hs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(v.body=m),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ic(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ic(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var v=m.value?m.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!m.done}))&&(this.response=this.responseText+=v)}m.done?cs(this):hs(this),this.readyState==3&&ic(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,cs(this))},t.Qa=function(m){this.g&&(this.response=m,cs(this))},t.ga=function(){this.g&&cs(this)};function cs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,hs(m)}t.setRequestHeader=function(m,v){this.u.append(m,v)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],v=this.h.entries();for(var I=v.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=v.next();return m.join(`\r
`)};function hs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function sc(m){let v="";return B(m,function(I,G){v+=G,v+=":",v+=I,v+=`\r
`}),v}function Jn(m,v,I){e:{for(G in I){var G=!1;break e}G=!0}G||(I=sc(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):Ct(m,v,I))}function Ut(m){fe.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ut,fe);var bu=/^https?$/i,No=["POST","PUT"];t=Ut.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,v,I,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);v=v?v.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?ji(this.o):ji(Qn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(m),!0),this.B=!1}catch(ye){Nf(this,ye);return}if(m=I||"",I=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ue in G)I.set(ue,G[ue]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ye of G.keys())I.set(ye,G.get(ye));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(I.keys()).find(ye=>ye.toLowerCase()=="content-type"),ue=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(No,v,void 0))||G||ue||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Pe]of I)this.g.setRequestHeader(ye,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(m),this.u=!1}catch(ye){Nf(this,ye)}};function Nf(m,v){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=v,m.m=5,Tu(m),fs(m)}function Tu(m){m.A||(m.A=!0,be(m,"complete"),be(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,be(this,"complete"),be(this,"abort"),fs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fs(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vu(this):this.bb())},t.bb=function(){vu(this)};function vu(m){if(m.h&&typeof u<"u"&&(!m.v[1]||Ii(m)!=4||m.Z()!=2)){if(m.u&&Ii(m)==4)qe(m.Ea,0,m);else if(be(m,"readystatechange"),Ii(m)==4){m.h=!1;try{const Pe=m.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var G;if(G=Pe===0){var ue=String(m.D).match(Ai)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),G=!bu.test(ue?ue.toLowerCase():"")}I=G}if(I)be(m,"complete"),be(m,"success");else{m.m=6;try{var ye=2<Ii(m)?m.g.statusText:""}catch{ye=""}m.l=ye+" ["+m.Z()+"]",Tu(m)}}finally{fs(m)}}}}function fs(m,v){if(m.g){Ro(m);const I=m.g,G=m.v[0]?()=>{}:null;m.g=null,m.v=null,v||be(m,"ready");try{I.onreadystatechange=G}catch{}}}function Ro(m){m.I&&(c.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ii(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var v=this.g.responseText;return m&&v.indexOf(m)==0&&(v=v.substring(m.length)),lt(v)}};function Rf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function J0(m){const v={};m=(m.g&&2<=Ii(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<m.length;G++){if(N(m[G]))continue;var I=V(m[G]);const ue=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ye=v[ue]||[];v[ue]=ye,ye.push(I)}S(v,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(m,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||v}function Su(m){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Do("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Do("baseRetryDelayMs",5e3,m),this.cb=Do("retryDelaySeedMs",1e4,m),this.Wa=Do("forwardChannelMaxRetries",2,m),this.wa=Do("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Sn(m&&m.concurrentRequestLimit),this.Da=new Co,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Su.prototype,t.la=8,t.G=1,t.connect=function(m,v,I,G){$t(0),this.W=m,this.H=v||{},I&&G!==void 0&&(this.H.OSID=I,this.H.OAID=G),this.F=this.X,this.I=Bf(this,null,this.W),xu(this)};function ac(m){if(Df(m),m.G==3){var v=m.U++,I=en(m.I);if(Ct(I,"SID",m.K),Ct(I,"RID",v),Ct(I,"TYPE","terminate"),Oo(m,I),v=new jn(m,m.j,v),v.L=2,v.v=Yi(en(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!I&&c.Image&&(new Image().src=v.v,I=!0),I||(v.g=Uf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Lt(v)}Mf(m)}function Au(m){m.g&&(ko(m),m.g.cancel(),m.g=null)}function Df(m){Au(m),m.u&&(c.clearTimeout(m.u),m.u=null),wu(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function xu(m){if(!Lr(m.h)&&!m.s){m.s=!0;var v=m.Ga;W||A(),ie||(W(),ie=!0),ne.add(v,m),m.B=0}}function ep(m,v){return Mr(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=v.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=hn(b(m.Ga,m,v),lc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const ue=new jn(this,this.j,m);let ye=this.o;if(this.S&&(ye?(ye=x(ye),H(ye,this.S)):ye=this.S),this.m!==null||this.O||(ue.H=ye,ye=null),this.P)e:{for(var v=0,I=0;I<this.i.length;I++){t:{var G=this.i[I];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(v+=G,4096<v){v=I;break e}if(v===4096||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=Of(this,ue,v),I=en(this.I),Ct(I,"RID",m),Ct(I,"CVER",22),this.D&&Ct(I,"X-HTTP-Session-Id",this.D),Oo(this,I),ye&&(this.O?v="headers="+encodeURIComponent(String(sc(ye)))+"&"+v:this.m&&Jn(I,this.m,ye)),Si(this.h,ue),this.Ua&&Ct(I,"TYPE","init"),this.P?(Ct(I,"$req",v),Ct(I,"SID","null"),ue.T=!0,Me(ue,I,null)):Me(ue,I,v),this.G=2}}else this.G==3&&(m?oc(this,m):this.i.length==0||Lr(this.h)||oc(this))};function oc(m,v){var I;v?I=v.l:I=m.U++;const G=en(m.I);Ct(G,"SID",m.K),Ct(G,"RID",I),Ct(G,"AID",m.T),Oo(m,G),m.m&&m.o&&Jn(G,m.m,m.o),I=new jn(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),v&&(m.i=v.D.concat(m.i)),v=Of(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Si(m.h,I),Me(I,G,v)}function Oo(m,v){m.H&&B(m.H,function(I,G){Ct(v,G,I)}),m.l&&bt({},function(I,G){Ct(v,G,I)})}function Of(m,v,I){I=Math.min(m.i.length,I);var G=m.l?b(m.l.Na,m.l,m):null;e:{var ue=m.i;let ye=-1;for(;;){const Pe=["count="+I];ye==-1?0<I?(ye=ue[0].g,Pe.push("ofs="+ye)):ye=0:Pe.push("ofs="+ye);let At=!0;for(let qn=0;qn<I;qn++){let xt=ue[qn].g;const er=ue[qn].map;if(xt-=ye,0>xt)ye=Math.max(0,ue[qn].g-100),At=!1;else try{ls(er,Pe,"req"+xt+"_")}catch{G&&G(er)}}if(At){G=Pe.join("&");break e}}}return m=m.i.splice(0,I),v.D=m,G}function kf(m){if(!m.g&&!m.u){m.Y=1;var v=m.Fa;W||A(),ie||(W(),ie=!0),ne.add(v,m),m.v=0}}function uc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=hn(b(m.Fa,m),lc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=hn(b(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Au(this),Pf(this))};function ko(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Pf(m){m.g=new jn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var v=en(m.qa);Ct(v,"RID","rpc"),Ct(v,"SID",m.K),Ct(v,"AID",m.T),Ct(v,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ct(v,"TO",m.ja),Ct(v,"TYPE","xmlhttp"),Oo(m,v),m.m&&m.o&&Jn(v,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=Yi(en(v)),I.m=null,I.P=!0,pt(I,m)}t.Za=function(){this.C!=null&&(this.C=null,Au(this),uc(this),$t(19))};function wu(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Lf(m,v){var I=null;if(m.g==v){wu(m),ko(m),m.g=null;var G=2}else if(vi(m.h,v))I=v.D,Zn(m.h,v),G=1;else return;if(m.G!=0){if(v.o)if(G==1){I=v.m?v.m.length:0,v=Date.now()-v.F;var ue=m.B;G=ti(),be(G,new Pt(G,I)),xu(m)}else kf(m);else if(ue=v.s,ue==3||ue==0&&0<v.X||!(G==1&&ep(m,v)||G==2&&uc(m)))switch(I&&0<I.length&&(v=m.h,v.i=v.i.concat(I)),ue){case 1:js(m,5);break;case 4:js(m,10);break;case 3:js(m,6);break;default:js(m,2)}}}function lc(m,v){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*v}function js(m,v){if(m.j.info("Error code "+v),v==2){var I=b(m.fb,m),G=m.Xa;const ue=!G;G=new fn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ur(G,"https"),Yi(G),ue?Io(G.toString(),I):Gi(G.toString(),I)}else $t(2);m.G=0,m.l&&m.l.sa(v),Mf(m),Df(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Mf(m){if(m.G=0,m.ka=[],m.l){const v=xo(m.h);(v.length!=0||m.i.length!=0)&&(P(m.ka,v),P(m.ka,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.ra()}}function Bf(m,v,I){var G=I instanceof fn?en(I):new fn(I);if(G.g!="")v&&(G.g=v+"."+G.g),lr(G,G.s);else{var ue=c.location;G=ue.protocol,v=v?v+"."+ue.hostname:ue.hostname,ue=+ue.port;var ye=new fn(null);G&&ur(ye,G),v&&(ye.g=v),ue&&lr(ye,ue),I&&(ye.l=I),G=ye}return I=m.D,v=m.ya,I&&v&&Ct(G,I,v),Ct(G,"VER",m.la),Oo(m,G),G}function Uf(m,v,I){if(v&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=m.Ca&&!m.pa?new Ut(new _a({eb:I})):new Ut(m.pa),v.Ha(m.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vf(){}t=Vf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Iu(){}Iu.prototype.g=function(m,v){return new Vr(m,v)};function Vr(m,v){fe.call(this),this.g=new Su(v),this.l=m,this.h=v&&v.messageUrlParams||null,m=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(m?m["X-WebChannel-Content-Type"]=v.messageContentType:m={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(m?m["X-WebChannel-Client-Profile"]=v.va:m={"X-WebChannel-Client-Profile":v.va}),this.g.S=m,(m=v&&v.Sb)&&!N(m)&&(this.g.m=m),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.D=v,m=this.h,m!==null&&v in m&&(m=this.h,v in m&&delete m[v])),this.j=new ds(this)}C(Vr,fe),Vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){ac(this.g)},Vr.prototype.o=function(m){var v=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=vt(m),m=I);v.i.push(new En(v.Ya++,m)),v.G==3&&xu(v)},Vr.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,Vr.aa.N.call(this)};function Hf(m){Rr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var v=m.__sm__;if(v){e:{for(const I in v){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,v=v!==null&&m in v?v[m]:void 0),this.data=v}else this.data=m}C(Hf,Rr);function zf(){Tr.call(this),this.status=1}C(zf,Tr);function ds(m){this.g=m}C(ds,Vf),ds.prototype.ua=function(){be(this.g,"a")},ds.prototype.ta=function(m){be(this.g,new Hf(m))},ds.prototype.sa=function(m){be(this.g,new zf)},ds.prototype.ra=function(){be(this.g,"b")},Iu.prototype.createWebChannel=Iu.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,Zw=function(){return new Iu},Ww=function(){return ti()},Qw=Fr,tE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ri.NO_ERROR=0,ri.TIMEOUT=8,ri.HTTP_ERROR=6,dm=ri,kr.COMPLETE="complete",Kw=kr,br.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Eh=br,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,Xw=Ut}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const t2="@firebase/firestore",n2="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new o_("@firebase/firestore");function cl(){return su.logLevel}function Be(t,...e){if(su.logLevel<=Et.DEBUG){const n=e.map(c_);su.debug(`Firestore (${Fl}): ${t}`,...n)}}function ha(t,...e){if(su.logLevel<=Et.ERROR){const n=e.map(c_);su.error(`Firestore (${Fl}): ${t}`,...n)}}function Nl(t,...e){if(su.logLevel<=Et.WARN){const n=e.map(c_);su.warn(`Firestore (${Fl}): ${t}`,...n)}}function c_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Jw(t,r,n)}function Jw(t,e,n){let r=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ha(r),new Error(r)}function Vt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Jw(e,s,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends ga{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xr.UNAUTHENTICATED))}shutdown(){}}class Z4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J4{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new oo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new oo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new oo)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string",31837,{l:r}),new eI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string",2055,{h:e}),new xr(e)}}class ek{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ek(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Vt(this.o===void 0,3512);const r=o=>{o.error!=null&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=rk(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ht(t,e){return t<e?-1:t>e?1:0}function nE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ht(r,s);{const o=tI(),u=ik(o.encode(i2(t,n)),o.encode(i2(e,n)));return u!==0?u:ht(r,s)}}n+=r>65535?2:1}return ht(t.length,e.length)}function i2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ik(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ht(t[n],e[n]);return ht(t.length,e.length)}function Rl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=-62135596800,a2=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*a2);return new ln(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ue(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ue(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s2)throw new Ue(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a2}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-s2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new ln(0,0))}static max(){return new nt(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__name__";class vs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=vs.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ht(e.length,n.length)}static compareSegments(e,n){const r=vs.isNumericId(e),s=vs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vs.extractNumericId(e).compare(vs.extractNumericId(n)):nE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ao.fromString(e.substring(4,e.length-2))}}class un extends vs{construct(e,n,r){return new un(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new un(n)}static emptyPath(){return new un([])}}const sk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends vs{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return sk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o2}static keyField(){return new yr([o2])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ue(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ue(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ue(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new Ue(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.path=e}static fromPath(e){return new $e(un.fromString(e))}static fromName(e){return new $e(un.fromString(e).popFirst(5))}static empty(){return new $e(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new un(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=-1;function ak(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=nt.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new fo(s,$e.empty(),e)}function ok(t){return new fo(t.readTime,t.key,zh)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(nt.min(),$e.empty(),zh)}static max(){return new fo(nt.max(),$e.empty(),zh)}}function uk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$e.comparator(t.documentKey,e.documentKey),n!==0?n:ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ck{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==lk)throw t;Be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ae.reject(n)}static resolve(e){return new Ae((n,r)=>{n(e)})}static reject(e){return new Ae((n,r)=>{r(e)})}static waitFor(e){return new Ae((n,r)=>{let s=0,o=0,u=!1;e.forEach(c=>{++s,c.next(()=>{++o,u&&o===s&&n()},f=>r(f))}),u=!0,o===s&&n()})}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next(s=>s?Ae.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new Ae((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next(p=>{u[d]=p,++c,c===o&&r(u)},p=>s(p))}})}static doWhile(e,n){return new Ae((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function hk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}y0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-1;function E0(t){return t==null}function km(t){return t===0&&1/t==-1/0}function fk(t){return typeof t=="number"&&Number.isInteger(t)&&!km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="";function dk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u2(e)),e=mk(t.get(n),e);return u2(e)}function mk(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case rI:n+="";break;default:n+=o}}return n}function u2(t){return t+rI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??gr.RED,this.left=s??gr.EMPTY,this.right=o??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new gr(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return gr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c2(this.data.getIterator())}getIteratorFrom(e){return new c2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class c2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new pi([])}unionWith(e){let n=new Xn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sI("Invalid base64 string: "+o):o}}(e);return new Er(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const pk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(Vt(!!t,39018),typeof t=="string"){let e=0;const n=pk.exec(t);if(Vt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:In(t.seconds),nanos:In(t.nanos)}}function In(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="server_timestamp",oI="__type__",uI="__previous_value__",lI="__local_write_time__";function f_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[oI])===null||n===void 0?void 0:n.stringValue)===aI}function _0(t){const e=t.mapValue.fields[uI];return f_(e)?_0(e):e}function Fh(t){const e=mo(t.mapValue.fields[lI].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,s,o,u,c,f,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=p}}const Pm="(default)";class jh{constructor(e,n){this.projectId=e,this.database=n||Pm}static empty(){return new jh("","")}get isDefaultDatabase(){return this.database===Pm}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="__type__",yk="__max__",Kd={mapValue:{}},hI="__vector__",Lm="value";function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f_(t)?4:_k(t)?9007199254740991:Ek(t)?10:11:Ze(28295,{value:t})}function Os(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fh(t).isEqual(Fh(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=mo(s.timestampValue),c=mo(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return po(s.bytesValue).isEqual(po(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return In(s.geoPointValue.latitude)===In(o.geoPointValue.latitude)&&In(s.geoPointValue.longitude)===In(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return In(s.integerValue)===In(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=In(s.doubleValue),c=In(o.doubleValue);return u===c?km(u)===km(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(l2(u)!==l2(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Os(u[f],c[f])))return!1;return!0}(t,e);default:return Ze(52216,{left:t})}}function qh(t,e){return(t.values||[]).find(n=>Os(n,e))!==void 0}function Dl(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return ht(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ht(t.booleanValue,e.booleanValue);case 2:return function(o,u){const c=In(o.integerValue||o.doubleValue),f=In(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return h2(t.timestampValue,e.timestampValue);case 4:return h2(Fh(t),Fh(e));case 5:return nE(t.stringValue,e.stringValue);case 6:return function(o,u){const c=po(o),f=po(u);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const p=ht(c[d],f[d]);if(p!==0)return p}return ht(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const c=ht(In(o.latitude),In(u.latitude));return c!==0?c:ht(In(o.longitude),In(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f2(t.arrayValue,e.arrayValue);case 10:return function(o,u){var c,f,d,p;const y=o.fields||{},b=u.fields||{},T=(c=y[Lm])===null||c===void 0?void 0:c.arrayValue,C=(f=b[Lm])===null||f===void 0?void 0:f.arrayValue,R=ht(((d=T?.values)===null||d===void 0?void 0:d.length)||0,((p=C?.values)===null||p===void 0?void 0:p.length)||0);return R!==0?R:f2(T,C)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===Kd.mapValue&&u===Kd.mapValue)return 0;if(o===Kd.mapValue)return 1;if(u===Kd.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let y=0;y<f.length&&y<p.length;++y){const b=nE(f[y],p[y]);if(b!==0)return b;const T=Dl(c[f[y]],d[p[y]]);if(T!==0)return T}return ht(f.length,p.length)}(t.mapValue,e.mapValue);default:throw Ze(23264,{Pe:n})}}function h2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ht(t,e);const n=mo(t),r=mo(e),s=ht(n.seconds,r.seconds);return s!==0?s:ht(n.nanos,r.nanos)}function f2(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Dl(n[s],r[s]);if(o)return o}return ht(n.length,r.length)}function Ol(t){return rE(t)}function rE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return $e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=rE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${rE(n.fields[u])}`;return s+"}"}(t.mapValue):Ze(61005,{value:t})}function mm(t){switch(go(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_0(t);return e?16+mm(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+mm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return _o(r.fields,(o,u)=>{s+=o.length+mm(u)}),s}(t.mapValue);default:throw Ze(13486,{value:t})}}function d2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iE(t){return!!t&&"integerValue"in t}function d_(t){return!!t&&"arrayValue"in t}function m2(t){return!!t&&"nullValue"in t}function p2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function Ek(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cI])===null||n===void 0?void 0:n.stringValue)===hI}function wh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _k(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.value=e}static empty(){return new Qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(n)}setAll(e){let n=yr.emptyPath(),r={},s=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}u?r[c.lastSegment()]=wh(u):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Qr(wh(this.value))}}function fI(t){const e=[];return _o(t.fields,(n,r)=>{const s=new yr([n]);if(pm(r)){const o=fI(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new pi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,r,s,o,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new wr(e,0,nt.min(),nt.min(),nt.min(),Qr.empty(),0)}static newFoundDocument(e,n,r,s){return new wr(e,1,n,nt.min(),r,s,0)}static newNoDocument(e,n){return new wr(e,2,n,nt.min(),nt.min(),Qr.empty(),0)}static newUnknownDocument(e,n){return new wr(e,3,n,nt.min(),nt.min(),Qr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.position=e,this.inclusive=n}}function g2(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=$e.comparator($e.fromName(u.referenceValue),n.key):r=Dl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function y2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function bk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{}class Un extends dI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vk(e,n,r):n==="array-contains"?new xk(e,r):n==="in"?new wk(e,r):n==="not-in"?new Ik(e,r):n==="array-contains-any"?new Ck(e,r):new Un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sk(e,r):new Ak(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class es extends dI{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new es(e,n)}matches(e){return mI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mI(t){return t.op==="and"}function pI(t){return Tk(t)&&mI(t)}function Tk(t){for(const e of t.filters)if(e instanceof es)return!1;return!0}function sE(t){if(t instanceof Un)return t.field.canonicalString()+t.op.toString()+Ol(t.value);if(pI(t))return t.filters.map(e=>sE(e)).join(",");{const e=t.filters.map(n=>sE(n)).join(",");return`${t.op}(${e})`}}function gI(t,e){return t instanceof Un?function(r,s){return s instanceof Un&&r.op===s.op&&r.field.isEqual(s.field)&&Os(r.value,s.value)}(t,e):t instanceof es?function(r,s){return s instanceof es&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,c)=>o&&gI(u,s.filters[c]),!0):!1}(t,e):void Ze(19439)}function yI(t){return t instanceof Un?function(n){return`${n.field.canonicalString()} ${n.op} ${Ol(n.value)}`}(t):t instanceof es?function(n){return n.op.toString()+" {"+n.getFilters().map(yI).join(" ,")+"}"}(t):"Filter"}class vk extends Un{constructor(e,n,r){super(e,n,r),this.key=$e.fromName(r.referenceValue)}matches(e){const n=$e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sk extends Un{constructor(e,n){super(e,"in",n),this.keys=EI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ak extends Un{constructor(e,n){super(e,"not-in",n),this.keys=EI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$e.fromName(r.referenceValue))}class xk extends Un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return d_(n)&&qh(n.arrayValue,this.value)}}class wk extends Un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qh(this.value.arrayValue,n)}}class Ik extends Un{constructor(e,n){super(e,"not-in",n)}matches(e){if(qh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qh(this.value.arrayValue,n)}}class Ck extends Un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!d_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Ie=null}}function E2(t,e=null,n=[],r=[],s=null,o=null,u=null){return new Nk(t,e,n,r,s,o,u)}function m_(t){const e=it(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),E0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ol(r)).join(",")),e.Ie=n}return e.Ie}function p_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y2(t.startAt,e.startAt)&&y2(t.endAt,e.endAt)}function aE(t){return $e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Rk(t,e,n,r,s,o,u,c){return new Yl(t,e,n,r,s,o,u,c)}function _I(t){return new Yl(t)}function _2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bI(t){return t.collectionGroup!==null}function Ih(t){const e=it(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Xn(yr.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Yh(o,r))}),n.has(yr.keyField().canonicalString())||e.Ee.push(new Yh(yr.keyField(),r))}return e.Ee}function Is(t){const e=it(t);return e.de||(e.de=Dk(e,Ih(t))),e.de}function Dk(t,e){if(t.limitType==="F")return E2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Yh(s.field,o)});const n=t.endAt?new Mm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mm(t.startAt.position,t.startAt.inclusive):null;return E2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function oE(t,e){const n=t.filters.concat([e]);return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uE(t,e,n){return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function b0(t,e){return p_(Is(t),Is(e))&&t.limitType===e.limitType}function TI(t){return`${m_(Is(t))}|lt:${t.limitType}`}function hl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>yI(s)).join(", ")}]`),E0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ol(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ol(s)).join(",")),`Target(${r})`}(Is(t))}; limitType=${t.limitType})`}function T0(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):$e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Ih(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,c,f){const d=g2(u,c,f);return u.inclusive?d<=0:d<0}(r.startAt,Ih(r),s)||r.endAt&&!function(u,c,f){const d=g2(u,c,f);return u.inclusive?d>=0:d>0}(r.endAt,Ih(r),s))}(t,e)}function Ok(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vI(t){return(e,n)=>{let r=!1;for(const s of Ih(t)){const o=kk(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function kk(t,e,n){const r=t.field.isKeyField()?$e.comparator(e.key,n.key):function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Dl(f,d):Ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return iI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new gn($e.comparator);function fa(){return Pk}const SI=new gn($e.comparator);function _h(...t){let e=SI;for(const n of t)e=e.insert(n.key,n);return e}function AI(t){let e=SI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wo(){return Ch()}function xI(){return Ch()}function Ch(){return new du(t=>t.toString(),(t,e)=>t.isEqual(e))}const Lk=new gn($e.comparator),Mk=new Xn($e.comparator);function _t(...t){let e=Mk;for(const n of t)e=e.add(n);return e}const Bk=new Xn(ht);function Uk(){return Bk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:km(e)?"-0":e}}function wI(t){return{integerValue:""+t}}function Vk(t,e){return fk(e)?wI(e):g_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this._=void 0}}function Hk(t,e,n){return t instanceof Bm?function(s,o){const u={fields:{[oI]:{stringValue:aI},[lI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&f_(o)&&(o=_0(o)),o&&(u.fields[uI]=o),{mapValue:u}}(n,e):t instanceof Gh?CI(t,e):t instanceof $h?NI(t,e):function(s,o){const u=II(s,o),c=b2(u)+b2(s.Re);return iE(u)&&iE(s.Re)?wI(c):g_(s.serializer,c)}(t,e)}function zk(t,e,n){return t instanceof Gh?CI(t,e):t instanceof $h?NI(t,e):n}function II(t,e){return t instanceof Um?function(r){return iE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Bm extends v0{}class Gh extends v0{constructor(e){super(),this.elements=e}}function CI(t,e){const n=RI(e);for(const r of t.elements)n.some(s=>Os(s,r))||n.push(r);return{arrayValue:{values:n}}}class $h extends v0{constructor(e){super(),this.elements=e}}function NI(t,e){let n=RI(e);for(const r of t.elements)n=n.filter(s=>!Os(s,r));return{arrayValue:{values:n}}}class Um extends v0{constructor(e,n){super(),this.serializer=e,this.Re=n}}function b2(t){return In(t.integerValue||t.doubleValue)}function RI(t){return d_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Fk(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Gh&&s instanceof Gh||r instanceof $h&&s instanceof $h?Rl(r.elements,s.elements,Os):r instanceof Um&&s instanceof Um?Os(r.Re,s.Re):r instanceof Bm&&s instanceof Bm}(t.transform,e.transform)}class jk{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class S0{}function DI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new A0(t.key,yi.none()):new cf(t.key,t.data,yi.none());{const n=t.data,r=Qr.empty();let s=new Xn(yr.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new bo(t.key,r,new pi(s.toArray()),yi.none())}}function qk(t,e,n){t instanceof cf?function(s,o,u){const c=s.value.clone(),f=v2(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof bo?function(s,o,u){if(!gm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=v2(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(OI(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Nh(t,e,n,r){return t instanceof cf?function(o,u,c,f){if(!gm(o.precondition,u))return c;const d=o.value.clone(),p=S2(o.fieldTransforms,f,u);return d.setAll(p),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof bo?function(o,u,c,f){if(!gm(o.precondition,u))return c;const d=S2(o.fieldTransforms,f,u),p=u.data;return p.setAll(OI(o)),p.setAll(d),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,u,c){return gm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function Yk(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=II(r.transform,s||null);o!=null&&(n===null&&(n=Qr.empty()),n.set(r.field,o))}return n||null}function T2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Rl(r,s,(o,u)=>Fk(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cf extends S0{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class bo extends S0{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v2(t,e,n){const r=new Map;Vt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,zk(u,c,n[s]))}return r}function S2(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,Hk(o,u,e))}return r}class A0 extends S0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gk extends S0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&qk(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xI();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=n.has(s.key)?null:c;const f=DI(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_t())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(n,r)=>T2(n,r))&&Rl(this.baseMutations,e.baseMutations,(n,r)=>T2(n,r))}}class y_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Vt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return Lk}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new y_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ln,It;function Qk(t){switch(t){case Se.OK:return Ze(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function kI(t){if(t===void 0)return ha("GRPC error has no .code"),Se.UNKNOWN;switch(t){case Ln.OK:return Se.OK;case Ln.CANCELLED:return Se.CANCELLED;case Ln.UNKNOWN:return Se.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return Se.INTERNAL;case Ln.UNAVAILABLE:return Se.UNAVAILABLE;case Ln.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Ln.NOT_FOUND:return Se.NOT_FOUND;case Ln.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Ln.ABORTED:return Se.ABORTED;case Ln.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Ln.DATA_LOSS:return Se.DATA_LOSS;default:return Ze(39323,{code:t})}}(It=Ln||(Ln={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new ao([4294967295,4294967295],0);function A2(t){const e=tI().encode(t),n=new $w;return n.update(e),new Uint8Array(n.digest())}function x2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ao([n,r],0),new ao([s,o],0)]}class E_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bh(`Invalid padding: ${n}`);if(r<0)throw new bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ao.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(ao.fromNumber(r)));return s.compare(Wk)===1&&(s=new ao([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=A2(e),[r,s]=x2(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new E_(o,s,n);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const n=A2(e),[r,s]=x2(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new x0(nt.min(),s,new gn(ht),fa(),_t())}}class hf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hf(r,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class PI{constructor(e,n){this.targetId=e,this.Ce=n}}class LI{constructor(e,n,r=Er.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class w2{constructor(){this.Fe=0,this.Me=I2(),this.xe=Er.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=_t(),n=_t(),r=_t();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ze(38017,{changeType:o})}}),new hf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=I2()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Vt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Zk{constructor(e){this.ze=e,this.je=new Map,this.He=fa(),this.Je=Qd(),this.Ye=Qd(),this.Ze=new gn(ht)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(aE(o))if(r===0){const u=new $e(o.path);this.tt(n,u,wr.newNoDocument(u,nt.min()))}else Vt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const c=this.ct(e),f=c?this.lt(c,e,u):1;if(f!==0){this.st(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,c;try{u=po(r).toUint8Array()}catch(f){if(f instanceof sI)return Nl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new E_(u,s,o)}catch(f){return Nl(f instanceof bh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,u)=>{const c=this._t(u);if(c){if(o.current&&aE(c.target)){const f=new $e(c.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,wr.newNoDocument(f,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=_t();this.Ye.forEach((o,u)=>{let c=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new x0(e,n,this.Ze,this.He,r);return this.He=fa(),this.Je=Qd(),this.Ye=Qd(),this.Ze=new gn(ht),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new w2,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Xn(ht),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Xn(ht),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Be("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new w2),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Qd(){return new gn($e.comparator)}function I2(){return new gn($e.comparator)}const Jk={asc:"ASCENDING",desc:"DESCENDING"},eP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tP={and:"AND",or:"OR"};class nP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lE(t,e){return t.useProto3Json||E0(e)?e:{value:e}}function Vm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rP(t,e){return Vm(t,e.toTimestamp())}function Cs(t){return Vt(!!t,49232),nt.fromTimestamp(function(n){const r=mo(n);return new ln(r.seconds,r.nanos)}(t))}function __(t,e){return cE(t,e).canonicalString()}function cE(t,e){const n=function(s){return new un(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BI(t){const e=un.fromString(t);return Vt(FI(e),10190,{key:e.toString()}),e}function hE(t,e){return __(t.databaseId,e.path)}function dy(t,e){const n=BI(e);if(n.get(1)!==t.databaseId.projectId)throw new Ue(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ue(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $e(VI(n))}function UI(t,e){return __(t.databaseId,e)}function iP(t){const e=BI(t);return e.length===4?un.emptyPath():VI(e)}function fE(t){return new un(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VI(t){return Vt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function C2(t,e,n){return{name:hE(t,e),fields:n.value.mapValue.fields}}function sP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ze(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Vt(p===void 0||typeof p=="string",58123),Er.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Er.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const p=d.code===void 0?Se.UNKNOWN:kI(d.code);return new Ue(p,d.message||"")}(u);n=new LI(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dy(t,r.document.name),o=Cs(r.document.updateTime),u=r.document.createTime?Cs(r.document.createTime):nt.min(),c=new Qr({mapValue:{fields:r.document.fields}}),f=wr.newFoundDocument(s,o,u,c),d=r.targetIds||[],p=r.removedTargetIds||[];n=new ym(d,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dy(t,r.document),o=r.readTime?Cs(r.readTime):nt.min(),u=wr.newNoDocument(s,o),c=r.removedTargetIds||[];n=new ym([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dy(t,r.document),o=r.removedTargetIds||[];n=new ym([],o,s,null)}else{if(!("filter"in e))return Ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new Kk(s,o),c=r.targetId;n=new PI(c,u)}}return n}function aP(t,e){let n;if(e instanceof cf)n={update:C2(t,e.key,e.value)};else if(e instanceof A0)n={delete:hE(t,e.key)};else if(e instanceof bo)n={update:C2(t,e.key,e.data),updateMask:pP(e.fieldMask)};else{if(!(e instanceof Gk))return Ze(16599,{ft:e.type});n={verify:hE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof Bm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gh)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $h)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Um)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw Ze(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:rP(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)}(t,e.precondition)),n}function oP(t,e){return t&&t.length>0?(Vt(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?Cs(s.updateTime):Cs(o);return u.isEqual(nt.min())&&(u=Cs(o)),new jk(u,s.transformResults||[])}(n,e))):[]}function uP(t,e){return{documents:[UI(t,e.path)]}}function lP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,s);const o=function(d){if(d.length!==0)return zI(es.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(p=>function(b){return{field:fl(b.field),direction:fP(b.dir)}}(p))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=lE(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function cP(t){let e=iP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Vt(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(y){const b=HI(y);return b instanceof es&&pI(b)?b.getFilters():[b]}(n.where));let u=[];n.orderBy&&(u=function(y){return y.map(b=>function(C){return new Yh(dl(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(b))}(n.orderBy));let c=null;n.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,E0(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(y){const b=!!y.before,T=y.values||[];return new Mm(T,b)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const b=!y.before,T=y.values||[];return new Mm(T,b)}(n.endAt)),Rk(e,s,u,o,c,"F",f,d)}function hP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dl(n.unaryFilter.field);return Un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=dl(n.unaryFilter.field);return Un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dl(n.unaryFilter.field);return Un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=dl(n.unaryFilter.field);return Un.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return Un.create(dl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return es.create(n.compositeFilter.filters.map(r=>HI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}}(n.compositeFilter.op))}(t):Ze(30097,{filter:t})}function fP(t){return Jk[t]}function dP(t){return eP[t]}function mP(t){return tP[t]}function fl(t){return{fieldPath:t.canonicalString()}}function dl(t){return yr.fromServerFormat(t.fieldPath)}function zI(t){return t instanceof Un?function(n){if(n.op==="=="){if(p2(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NAN"}};if(m2(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p2(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NAN"}};if(m2(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(n.field),op:dP(n.op),value:n.value}}}(t):t instanceof es?function(n){const r=n.getFilters().map(s=>zI(s));return r.length===1?r[0]:{compositeFilter:{op:mP(n.op),filters:r}}}(t):Ze(54877,{filter:t})}function pP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,s,o=nt.min(),u=nt.min(),c=Er.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.wt=e}}function yP(t){const e=cP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.Cn=new _P}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(fo.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class _P{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xn(un.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xn(un.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jI=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(jI,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new kl(0)}static lr(){return new kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="LruGarbageCollector",bP=1048576;function D2([t,e],[n,r]){const s=ht(t,n);return s===0?ht(e,r):s}class TP{constructor(e){this.Er=e,this.buffer=new Xn(D2),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();D2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Be(R2,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?Be(R2,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.mr(3e5)})}}class SP{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ae.resolve(y0.le);const r=new TP(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(N2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N2):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,u,c,f,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,u=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(d=Date.now(),cl()<=Et.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${y} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:y})))}}function AP(t,e){return new SP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.changes=new du(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nh(r.mutation,s,pi.empty(),ln.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_t()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_t()){const s=Wo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let u=_h();return o.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_t()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,s){let o=fa();const u=Ch(),c=function(){return Ch()}();return n.forEach((f,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof bo)?o=o.insert(d.key,d):p!==void 0?(u.set(d.key,p.mutation.getFieldMask()),Nh(p.mutation,d,p.mutation.getFieldMask(),ln.now())):u.set(d.key,pi.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,p)=>u.set(d,p)),n.forEach((d,p)=>{var y;return c.set(d,new wP(p,(y=u.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Ch();let s=new gn((u,c)=>u-c),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let p=r.get(f)||pi.empty();p=c.applyToLocalView(d,p),r.set(f,p);const y=(s.get(c.batchId)||_t()).add(f);s=s.insert(c.batchId,y)})}).next(()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,p=f.value,y=xI();p.forEach(b=>{if(!o.has(b)){const T=DI(n.get(b),r.get(b));T!==null&&y.set(b,T),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,y))}return Ae.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return $e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):Ae.resolve(Wo());let c=zh,f=o;return u.next(d=>Ae.forEach(d,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(p)?Ae.resolve():this.remoteDocumentCache.getEntry(e,p).next(b=>{f=f.insert(p,b)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,_t())).next(p=>({batchId:c,changes:AI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new $e(n)).next(r=>{let s=_h();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=_h();return this.indexManager.getCollectionParents(e,o).next(c=>Ae.forEach(c,f=>{const d=function(y,b){return new Yl(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(p=>{p.forEach((y,b)=>{u=u.insert(y,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(u=>{o.forEach((f,d)=>{const p=d.getKey();u.get(p)===null&&(u=u.insert(p,wr.newInvalidDocument(p)))});let c=_h();return u.forEach((f,d)=>{const p=o.get(f);p!==void 0&&Nh(p.mutation,d,pi.empty(),ln.now()),T0(n,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Cs(s.createTime)}}(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:yP(s.bundledQuery),readTime:Cs(s.readTime)}}(n)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.overlays=new gn($e.comparator),this.Qr=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wo();return Ae.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const s=Wo(),o=n.length+1,u=new $e(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new gn((d,p)=>d-p);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Wo(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Wo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,p)=>c.set(d,p)),!(c.size()>=s)););return Ae.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Xk(n,r));let o=this.Qr.get(n);o===void 0&&(o=_t(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.$r=new Xn(sr.Ur),this.Kr=new Xn(sr.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new sr(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new sr(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new $e(new un([])),r=new sr(n,e),s=new sr(n,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new $e(new un([])),r=new sr(n,e),s=new sr(n,e+1);let o=_t();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new sr(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sr{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return $e.comparator(e.key,n.key)||ht(e.Zr,n.Zr)}static Wr(e,n){return ht(e.Zr,n.Zr)||$e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Xn(sr.Ur)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $k(o,n,r,s);this.mutationQueue.push(u);for(const c of s)this.Xr=this.Xr.add(new sr(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(u)}lookupMutationBatch(e,n){return Ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return Ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?h_:this.nr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sr(n,0),s=new sr(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const c=this.ei(u.Zr);o.push(c)}),Ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(ht);return n.forEach(s=>{const o=new sr(s,0),u=new sr(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],c=>{r=r.add(c.Zr)})}),Ae.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;$e.isDocumentKey(o)||(o=o.child(""));const u=new sr(new $e(o),0);let c=new Xn(ht);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Zr)),!0)},u),Ae.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Vt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Ae.forEach(n.mutations,s=>{const o=new sr(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new sr(n,0),s=this.Xr.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.ii=e,this.docs=function(){return new gn($e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():wr.newInvalidDocument(n))}getEntries(e,n){let r=fa();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():wr.newInvalidDocument(s))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=fa();const u=n.path,c=new $e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||uk(ok(p),r)<=0||(s.has(p.key)||T0(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Ae.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ze(9500)}si(e,n){return Ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kP(this)}getSize(e){return Ae.resolve(this.size)}}class kP extends xP{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),Ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.persistence=e,this.oi=new du(n=>m_(n),p_),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this._i=0,this.ai=new b_,this.targetCount=0,this.ui=kl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new kl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Tr(n),Ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Ae.waitFor(o).next(()=>s)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),Ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.ci={},this.overlays={},this.li=new y0(0),this.hi=!1,this.hi=!0,this.Pi=new RP,this.referenceDelegate=e(this),this.Ti=new PP(this),this.indexManager=new EP,this.remoteDocumentCache=function(s){return new OP(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gP(n),this.Ei=new CP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new DP(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Be("MemoryPersistence","Starting transaction:",e);const s=new LP(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return Ae.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class LP extends ck{constructor(e){super(),this.currentSequenceNumber=e}}class T_{constructor(e){this.persistence=e,this.Vi=new b_,this.mi=null}static fi(e){return new T_(e)}get gi(){if(this.mi)return this.mi;throw Ze(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.gi,r=>{const s=$e.fromPath(r);return this.pi(e,s).next(o=>{o||n.removeEntry(s,nt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Ae.or([()=>Ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Hm{constructor(e,n){this.persistence=e,this.yi=new du(r=>dk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=AP(this,n)}static fi(e,n){return new Hm(e,n)}di(){}Ai(e){return Ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Ae.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?Ae.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(c=>{c||(r++,o.removeEntry(u,nt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ae.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mm(e.data.value)),n}Dr(e,n,r){return Ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return Ae.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=_t(),s=_t();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new v_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return D6()?8:hk(Ir())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new MP;return this.Ss(e,n,u).next(c=>{if(o.result=c,this.fs)return this.Ds(e,n,u,c.size)})}).next(()=>o.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(cl()<=Et.DEBUG&&Be("QueryEngine","SDK will not create cache indexes for query:",hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ae.resolve()):(cl()<=Et.DEBUG&&Be("QueryEngine","Query:",hl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(cl()<=Et.DEBUG&&Be("QueryEngine","The SDK decides to create cache indexes for query:",hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):Ae.resolve())}ws(e,n){if(_2(n))return Ae.resolve(null);let r=Is(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=uE(n,null,"F"),r=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=_t(...o);return this.ys.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.vs(n,c);return this.Cs(n,d,u,f.readTime)?this.ws(e,uE(n,null,"F")):this.Fs(e,d,n,f)}))})))}bs(e,n,r,s){return _2(n)||s.isEqual(nt.min())?Ae.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,s)?Ae.resolve(null):(cl()<=Et.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hl(n)),this.Fs(e,u,n,ak(s,zh)).next(c=>c))})}vs(e,n){let r=new Xn(vI(e));return n.forEach((s,o)=>{T0(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return cl()<=Et.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",hl(n)),this.ys.getDocumentsMatchingQuery(e,n,fo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="LocalStore",UP=3e8;class VP{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new gn(ht),this.Os=new du(o=>m_(o),p_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function HP(t,e,n,r){return new VP(t,e,n,r)}async function YI(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let f=_t();for(const d of s){u.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){c.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:c}))})})}function zP(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,f,d,p){const y=d.batch,b=y.keys();let T=Ae.resolve();return b.forEach(C=>{T=T.next(()=>p.getEntry(f,C)).next(R=>{const P=d.docVersions.get(C);Vt(P!==null,48541),R.version.compareTo(P)<0&&(y.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),p.addEntry(R)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(f,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=_t();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function GI(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function FP(t,e){const n=it(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((p,y)=>{const b=s.get(y);if(!b)return;c.push(n.Ti.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.Ti.addMatchingKeys(o,p.addedDocuments,y)));let T=b.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Er.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,r)),s=s.insert(y,T),function(R,P,w){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=UP?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(b,T,p)&&c.push(n.Ti.updateTargetData(o,T))});let f=fa(),d=_t();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(jP(o,u,e.documentUpdates).next(p=>{f=p.qs,d=p.Qs})),!r.isEqual(nt.min())){const p=n.Ti.getLastRemoteSnapshotVersion(o).next(y=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return Ae.waitFor(c).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.xs=s,o))}function jP(t,e,n){let r=_t(),s=_t();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=fa();return n.forEach((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(nt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Be(S_,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function qP(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=h_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YP(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(o=>o?(s=o,Ae.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new no(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function dE(t,e,n){const r=it(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ql(u))throw u;Be(S_,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function O2(t,e,n){const r=it(t);let s=nt.min(),o=_t();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,p){const y=it(f),b=y.Os.get(p);return b!==void 0?Ae.resolve(y.xs.get(b)):y.Ti.getTargetData(d,p)}(r,u,Is(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,c.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:nt.min(),n?o:_t())).next(c=>(GP(r,Ok(e),c),{documents:c,$s:o})))}function GP(t,e,n){let r=t.Ns.get(e)||nt.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class k2{constructor(){this.activeTargetIds=Uk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.xo=new k2,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new k2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="ConnectivityMonitor";class L2{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Be(P2,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Be(P2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function mE(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="RestConnection",KP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Pm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const u=mE(),c=this.jo(e,n.toUriEncodedString());Be(my,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:d}=new URL(c),p=fu(d);return this.Jo(e,c,f,r,p).then(y=>(Be(my,`Received RPC '${e}' ${u}: `,y),y),y=>{throw Nl(my,`RPC '${e}' ${u} failed with error: `,y,"url: ",c,"request:",r),y})}Yo(e,n,r,s,o,u){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const r=KP[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection";class ZP extends QP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const u=mE();return new Promise((c,f)=>{const d=new Xw;d.setWithCredentials(!0),d.listenOnce(Kw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case dm.NO_ERROR:const y=d.getResponseJson();Be(Ar,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),c(y);break;case dm.TIMEOUT:Be(Ar,`RPC '${e}' ${u} timed out`),f(new Ue(Se.DEADLINE_EXCEEDED,"Request time out"));break;case dm.HTTP_ERROR:const b=d.getStatus();if(Be(Ar,`RPC '${e}' ${u} failed with status:`,b,"response text:",d.getResponseText()),b>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T?.error;if(C&&C.status&&C.message){const R=function(w){const N=w.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(N)>=0?N:Se.UNKNOWN}(C.status);f(new Ue(R,C.message))}else f(new Ue(Se.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ue(Se.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{h_:e,streamId:u,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Be(Ar,`RPC '${e}' ${u} completed.`)}});const p=JSON.stringify(s);Be(Ar,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",p,r,15)})}I_(e,n,r){const s=mE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Zw(),c=Ww(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=o.join("");Be(Ar,`Creating RPC '${e}' stream ${s}: ${p}`,f);const y=u.createWebChannel(p,f);this.E_(y);let b=!1,T=!1;const C=new WP({Zo:P=>{T?Be(Ar,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(b||(Be(Ar,`Opening RPC '${e}' stream ${s} transport.`),y.open(),b=!0),Be(Ar,`RPC '${e}' stream ${s} sending:`,P),y.send(P))},Xo:()=>y.close()}),R=(P,w,N)=>{P.listen(w,M=>{try{N(M)}catch(L){setTimeout(()=>{throw L},0)}})};return R(y,Eh.EventType.OPEN,()=>{T||(Be(Ar,`RPC '${e}' stream ${s} transport opened.`),C.__())}),R(y,Eh.EventType.CLOSE,()=>{T||(T=!0,Be(Ar,`RPC '${e}' stream ${s} transport closed`),C.u_(),this.d_(y))}),R(y,Eh.EventType.ERROR,P=>{T||(T=!0,Nl(Ar,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),C.u_(new Ue(Se.UNAVAILABLE,"The operation could not be completed")))}),R(y,Eh.EventType.MESSAGE,P=>{var w;if(!T){const N=P.data[0];Vt(!!N,16349);const M=N,L=M?.error||((w=M[0])===null||w===void 0?void 0:w.error);if(L){Be(Ar,`RPC '${e}' stream ${s} received error:`,L);const q=L.status;let B=function(O){const H=Ln[O];if(H!==void 0)return kI(H)}(q),S=L.message;B===void 0&&(B=Se.INTERNAL,S="Unknown error status: "+q+" with message "+L.message),T=!0,C.u_(new Ue(B,S)),y.close()}else Be(Ar,`RPC '${e}' stream ${s} received:`,N),C.c_(N)}}),R(c,Qw.STAT_EVENT,P=>{P.stat===tE.PROXY?Be(Ar,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===tE.NOPROXY&&Be(Ar,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){return new nP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Be("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="PersistentStream";class XI{constructor(e,n,r,s,o,u,c,f){this.xi=e,this.S_=r,this.D_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new $I(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(ha(n.toString()),ha("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Ue(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Be(M2,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Be(M2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JP extends XI{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=sP(this.serializer,e),r=function(o){if(!("targetChange"in o))return nt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?nt.min():u.readTime?Cs(u.readTime):nt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=fE(this.serializer),n.addTarget=function(o,u){let c;const f=u.target;if(c=aE(f)?{documents:uP(o,f)}:{query:lP(o,f).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=MI(o,u.resumeToken);const d=lE(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(nt.min())>0){c.readTime=Vm(o,u.snapshotVersion.toTimestamp());const d=lE(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=hP(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=fE(this.serializer),n.removeTarget=e,this.Q_(n)}}class eL extends XI{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Vt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Vt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=oP(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=fE(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aP(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{}class nL extends tL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Ue(Se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,cE(n,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ue(Se.UNKNOWN,o.toString())})}Yo(e,n,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Yo(e,cE(n,r),s,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ue(Se.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class rL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ha(n),this.ua=!1):Be("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au="RemoteStore";class iL{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{mu(this)&&(Be(au,"Restarting streams for network reachability change."),await async function(f){const d=it(f);d.da.add(4),await ff(d),d.Va.set("Unknown"),d.da.delete(4),await I0(d)}(this))})}),this.Va=new rL(r,s)}}async function I0(t){if(mu(t))for(const e of t.Aa)await e(!0)}async function ff(t){for(const e of t.Aa)await e(!1)}function KI(t,e){const n=it(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),I_(n)?w_(n):Gl(n).N_()&&x_(n,e))}function A_(t,e){const n=it(t),r=Gl(n);n.Ea.delete(e),r.N_()&&QI(n,e),n.Ea.size===0&&(r.N_()?r.k_():mu(n)&&n.Va.set("Unknown"))}function x_(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gl(t).Z_(e)}function QI(t,e){t.ma.Ke(e),Gl(t).X_(e)}function w_(t){t.ma=new Zk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Gl(t).start(),t.Va.ca()}function I_(t){return mu(t)&&!Gl(t).O_()&&t.Ea.size>0}function mu(t){return it(t).da.size===0}function WI(t){t.ma=void 0}async function sL(t){t.Va.set("Online")}async function aL(t){t.Ea.forEach((e,n)=>{x_(t,e)})}async function oL(t,e){WI(t),I_(t)?(t.Va.Pa(e),w_(t)):t.Va.set("Unknown")}async function uL(t,e,n){if(t.Va.set("Online"),e instanceof LI&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Be(au,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zm(t,r)}else if(e instanceof ym?t.ma.Xe(e):e instanceof PI?t.ma.ot(e):t.ma.nt(e),!n.isEqual(nt.min()))try{const r=await GI(t.localStore);n.compareTo(r)>=0&&await function(o,u){const c=o.ma.It(u);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ea.get(d);p&&o.Ea.set(d,p.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,d)=>{const p=o.Ea.get(f);if(!p)return;o.Ea.set(f,p.withResumeToken(Er.EMPTY_BYTE_STRING,p.snapshotVersion)),QI(o,f);const y=new no(p.target,f,d,p.sequenceNumber);x_(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Be(au,"Failed to raise snapshot:",r),await zm(t,r)}}async function zm(t,e,n){if(!ql(e))throw e;t.da.add(1),await ff(t),t.Va.set("Offline"),n||(n=()=>GI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Be(au,"Retrying IndexedDB access"),await n(),t.da.delete(1),await I0(t)})}function ZI(t,e){return e().catch(n=>zm(t,n,e))}async function C0(t){const e=it(t),n=yo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:h_;for(;lL(e);)try{const s=await qP(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,cL(e,s)}catch(s){await zm(e,s)}JI(e)&&eC(e)}function lL(t){return mu(t)&&t.Ia.length<10}function cL(t,e){t.Ia.push(e);const n=yo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function JI(t){return mu(t)&&!yo(t).O_()&&t.Ia.length>0}function eC(t){yo(t).start()}async function hL(t){yo(t).ia()}async function fL(t){const e=yo(t);for(const n of t.Ia)e.ta(n.mutations)}async function dL(t,e,n){const r=t.Ia.shift(),s=y_.from(r,e,n);await ZI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await C0(t)}async function mL(t,e){e&&yo(t).ea&&await async function(r,s){if(function(u){return Qk(u)&&u!==Se.ABORTED}(s.code)){const o=r.Ia.shift();yo(r).L_(),await ZI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await C0(r)}}(t,e),JI(t)&&eC(t)}async function B2(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),Be(au,"RemoteStore received new credentials");const r=mu(n);n.da.add(3),await ff(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await I0(n)}async function pL(t,e){const n=it(t);e?(n.da.delete(2),await I0(n)):e||(n.da.add(2),await ff(n),n.Va.set("Unknown"))}function Gl(t){return t.fa||(t.fa=function(n,r,s){const o=it(n);return o.oa(),new JP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:sL.bind(null,t),n_:aL.bind(null,t),i_:oL.bind(null,t),Y_:uL.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),I_(t)?w_(t):t.Va.set("Unknown")):(await t.fa.stop(),WI(t))})),t.fa}function yo(t){return t.ga||(t.ga=function(n,r,s){const o=it(n);return o.oa(),new eL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:hL.bind(null,t),i_:mL.bind(null,t),na:fL.bind(null,t),ra:dL.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await C0(t)):(await t.ga.stop(),t.Ia.length>0&&(Be(au,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new oo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,c=new C_(e,n,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ue(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N_(t,e){if(ha("AsyncQueue",`${e}: ${t}`),ql(t))return new Ue(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||$e.comparator(n.key,r.key):(n,r)=>$e.comparator(n.key,r.key),this.keyedMap=_h(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.pa=new gn($e.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ze(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pl{constructor(e,n,r,s,o,u,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new Pl(e,n,yl.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class yL{constructor(){this.queries=V2(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=it(n),o=s.queries;s.queries=V2(),o.forEach((u,c)=>{for(const f of c.Sa)f.onError(r)})})(this,new Ue(Se.ABORTED,"Firestore shutting down"))}}function V2(){return new du(t=>TI(t),b0)}async function EL(t,e){const n=it(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Da()&&e.va()&&(r=2):(o=new gL,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(s,!0);break;case 1:o.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const c=N_(u,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&R_(n)}async function _L(t,e){const n=it(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bL(t,e){const n=it(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const c of u.Sa)c.Ma(s)&&(r=!0);u.ba=s}}r&&R_(n)}function TL(t,e,n){const r=it(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function R_(t){t.Ca.forEach(e=>{e.next()})}var pE,H2;(H2=pE||(pE={})).xa="default",H2.Cache="cache";class vL{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==pE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.key=e}}class nC{constructor(e){this.key=e}}class SL{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=_t(),this.mutatedKeys=_t(),this.Za=vI(e),this.Xa=new yl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new U2,s=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,y)=>{const b=s.get(p),T=T0(this.query,y)?y:null,C=!!b&&this.mutatedKeys.has(b.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;b&&T?b.data.isEqual(T.data)?C!==R&&(r.track({type:3,doc:T}),P=!0):this.ru(b,T)||(r.track({type:2,doc:T}),P=!0,(f&&this.Za(T,f)>0||d&&this.Za(T,d)<0)&&(c=!0)):!b&&T?(r.track({type:0,doc:T}),P=!0):b&&!T&&(r.track({type:1,doc:b}),P=!0,(f||d)&&(c=!0)),P&&(T?(u=u.add(T),o=R?o.add(p):o.delete(p)):(u=u.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Xa:u,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((p,y)=>function(T,C){const R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Vt:P})}};return R(T)-R(C)}(p.type,y.type)||this.Za(p.doc,y.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Ja;return this.Ja=f,u.length!==0||d?{snapshot:new Pl(this.query,e.Xa,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new U2,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=_t(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new nC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new tC(r))}),n}au(e){this.Ha=e.$s,this.Ya=_t();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Pl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const D_="SyncEngine";class AL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xL{constructor(e){this.key=e,this.cu=!1}}class wL{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new du(c=>TI(c),b0),this.Pu=new Map,this.Tu=new Set,this.Iu=new gn($e.comparator),this.Eu=new Map,this.du=new b_,this.Au={},this.Ru=new Map,this.Vu=kl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function IL(t,e,n=!0){const r=uC(t);let s;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await rC(r,e,n,!0),s}async function CL(t,e){const n=uC(t);await rC(n,e,!0,!1)}async function rC(t,e,n,r){const s=await YP(t.localStore,Is(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await NL(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&KI(t.remoteStore,s),c}async function NL(t,e,n,r,s){t.fu=(y,b,T)=>async function(R,P,w,N){let M=P.view.tu(w);M.Cs&&(M=await O2(R.localStore,P.query,!1).then(({documents:S})=>P.view.tu(S,M)));const L=N&&N.targetChanges.get(P.targetId),q=N&&N.targetMismatches.get(P.targetId)!=null,B=P.view.applyChanges(M,R.isPrimaryClient,L,q);return F2(R,P.targetId,B.ou),B.snapshot}(t,y,b,T);const o=await O2(t.localStore,e,!0),u=new SL(e,o.$s),c=u.tu(o.documents),f=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(c,t.isPrimaryClient,f);F2(t,n,d.ou);const p=new AL(e,n,u);return t.hu.set(e,p),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function RL(t,e,n){const r=it(t),s=r.hu.get(e),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter(u=>!b0(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dE(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&A_(r.remoteStore,s.targetId),gE(r,s.targetId)}).catch(jl)):(gE(r,s.targetId),await dE(r.localStore,s.targetId,!0))}async function DL(t,e){const n=it(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),A_(n.remoteStore,r.targetId))}async function OL(t,e,n){const r=VL(t);try{const s=await function(u,c){const f=it(u),d=ln.now(),p=c.reduce((T,C)=>T.add(C.key),_t());let y,b;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=fa(),R=_t();return f.Bs.getEntries(T,p).next(P=>{C=P,C.forEach((w,N)=>{N.isValidDocument()||(R=R.add(w))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,C)).next(P=>{y=P;const w=[];for(const N of c){const M=Yk(N,y.get(N.key).overlayedDocument);M!=null&&w.push(new bo(N.key,M,fI(M.value.mapValue),yi.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,w,c)}).next(P=>{b=P;const w=P.applyToLocalDocumentSet(y,R);return f.documentOverlayCache.saveOverlays(T,P.batchId,w)})}).then(()=>({batchId:b.batchId,changes:AI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,f){let d=u.Au[u.currentUser.toKey()];d||(d=new gn(ht)),d=d.insert(c,f),u.Au[u.currentUser.toKey()]=d}(r,s.batchId,n),await df(r,s.changes),await C0(r.remoteStore)}catch(s){const o=N_(s,"Failed to persist write");n.reject(o)}}async function iC(t,e){const n=it(t);try{const r=await FP(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n.Eu.get(o);u&&(Vt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?Vt(u.cu,14607):s.removedDocuments.size>0&&(Vt(u.cu,42227),u.cu=!1))}),await df(n,r,e)}catch(r){await jl(r)}}function z2(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((o,u)=>{const c=u.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(u,c){const f=it(u);f.onlineState=c;let d=!1;f.queries.forEach((p,y)=>{for(const b of y.Sa)b.Fa(c)&&(d=!0)}),d&&R_(f)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kL(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new gn($e.comparator);u=u.insert(o,wr.newNoDocument(o,nt.min()));const c=_t().add(o),f=new x0(nt.min(),new Map,new gn(ht),u,c);await iC(r,f),r.Iu=r.Iu.remove(o),r.Eu.delete(e),O_(r)}else await dE(r.localStore,e,!1).then(()=>gE(r,e,n)).catch(jl)}async function PL(t,e){const n=it(t),r=e.batch.batchId;try{const s=await zP(n.localStore,e);aC(n,r,null),sC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await df(n,s)}catch(s){await jl(s)}}async function LL(t,e,n){const r=it(t);try{const s=await function(u,c){const f=it(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return f.mutationQueue.lookupMutationBatch(d,c).next(y=>(Vt(y!==null,37113),p=y.keys(),f.mutationQueue.removeMutationBatch(d,y))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>f.localDocuments.getDocuments(d,p))})}(r.localStore,e);aC(r,e,n),sC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await df(r,s)}catch(s){await jl(s)}}function sC(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function aC(t,e,n){const r=it(t);let s=r.Au[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function gE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||oC(t,r)})}function oC(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(A_(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),O_(t))}function F2(t,e,n){for(const r of n)r instanceof tC?(t.du.addReference(r.key,e),ML(t,r)):r instanceof nC?(Be(D_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||oC(t,r.key)):Ze(19791,{pu:r})}function ML(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Be(D_,"New document in limbo: "+n),t.Tu.add(r),O_(t))}function O_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new $e(un.fromString(e)),r=t.Vu.next();t.Eu.set(r,new xL(n)),t.Iu=t.Iu.insert(n,r),KI(t.remoteStore,new no(Is(_I(n.path)),r,"TargetPurposeLimboResolution",y0.le))}}async function df(t,e,n){const r=it(t),s=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((c,f)=>{u.push(r.fu(f,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const y=d?!d.fromCache:(p=n?.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(d){s.push(d);const y=v_.Rs(f.targetId,d);o.push(y)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(f,d){const p=it(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Ae.forEach(d,b=>Ae.forEach(b.ds,T=>p.persistence.referenceDelegate.addReference(y,b.targetId,T)).next(()=>Ae.forEach(b.As,T=>p.persistence.referenceDelegate.removeReference(y,b.targetId,T)))))}catch(y){if(!ql(y))throw y;Be(S_,"Failed to update sequence numbers: "+y)}for(const y of d){const b=y.targetId;if(!y.fromCache){const T=p.xs.get(b),C=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(C);p.xs=p.xs.insert(b,R)}}}(r.localStore,o))}async function BL(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){Be(D_,"User change. New user:",e.toKey());const r=await YI(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(c=>{c.forEach(f=>{f.reject(new Ue(Se.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await df(n,r.ks)}}function UL(t,e){const n=it(t),r=n.Eu.get(e);if(r&&r.cu)return _t().add(r.key);{let s=_t();const o=n.Pu.get(e);if(!o)return s;for(const u of o){const c=n.hu.get(u);s=s.unionWith(c.view.eu)}return s}}function uC(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kL.bind(null,e),e.lu.Y_=bL.bind(null,e.eventManager),e.lu.gu=TL.bind(null,e.eventManager),e}function VL(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LL.bind(null,e),e}class Fm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=w0(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return HP(this.persistence,new BP,e.initialUser,this.serializer)}Su(e){return new qI(T_.fi,this.serializer)}bu(e){return new $P}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fm.provider={build:()=>new Fm};class HL extends Fm{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Vt(this.persistence.referenceDelegate instanceof Hm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vP(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new qI(r=>Hm.fi(r,n),this.serializer)}}class yE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BL.bind(null,this.syncEngine),await pL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yL}()}createDatastore(e){const n=w0(e.databaseInfo.databaseId),r=function(o){return new ZP(o)}(e.databaseInfo);return function(o,u,c,f){return new nL(o,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,u,c){return new iL(r,s,o,u,c)}(this.localStore,this.datastore,e.asyncQueue,n=>z2(this.syncEngine,n,0),function(){return L2.C()?new L2:new XP}())}createSyncEngine(e,n){return function(s,o,u,c,f,d,p){const y=new wL(s,o,u,c,f,d);return p&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=it(s);Be(au,"RemoteStore shutting down."),o.da.add(5),await ff(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yE.provider={build:()=>new yE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ha("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class FL{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=xr.UNAUTHENTICATED,this.clientId=nI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Be(Eo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Be(Eo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gy(t,e){t.asyncQueue.verifyOperationInProgress(),Be(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await YI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jL(t);Be(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>B2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>B2(e.remoteStore,s)),t._onlineComponents=e}async function jL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Be(Eo,"Using user provided OfflineComponentProvider");try{await gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Se.FAILED_PRECONDITION||s.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Nl("Error using user provided cache. Falling back to memory cache: "+n),await gy(t,new Fm)}}else Be(Eo,"Using default OfflineComponentProvider"),await gy(t,new HL(void 0));return t._offlineComponents}async function lC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Be(Eo,"Using user provided OnlineComponentProvider"),await j2(t,t._uninitializedComponentsProvider._online)):(Be(Eo,"Using default OnlineComponentProvider"),await j2(t,new yE))),t._onlineComponents}function qL(t){return lC(t).then(e=>e.syncEngine)}async function YL(t){const e=await lC(t),n=e.eventManager;return n.onListen=IL.bind(null,e.syncEngine),n.onUnlisten=RL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DL.bind(null,e.syncEngine),n}function GL(t,e,n={}){const r=new oo;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,d){const p=new zL({next:b=>{p.xu(),u.enqueueAndForget(()=>_L(o,y)),b.fromCache&&f.source==="server"?d.reject(new Ue(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),y=new vL(c,p,{includeMetadataChanges:!0,Qa:!0});return EL(o,y)}(await YL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e,n){if(!n)throw new Ue(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $L(t,e,n,r){if(e===!0&&r===!0)throw new Ue(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Y2(t){if(!$e.isDocumentKey(t))throw new Ue(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G2(t){if($e.isDocumentKey(t))throw new Ue(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function N0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function ou(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ue(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N0(t);throw new Ue(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firestore.googleapis.com",$2=!0;class X2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ue(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fC,this.ssl=$2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bP)throw new Ue(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ue(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ue(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ue(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ue(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ue(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W4;switch(r.type){case"firstParty":return new tk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ue(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=q2.get(n);r&&(Be("ComponentProvider","Removing Datastore"),q2.delete(n),r.terminate())}(this),Promise.resolve()}}function XL(t,e,n,r={}){var s;t=ou(t,R0);const o=fu(e),u=t._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(s_(`https://${f}`),a_("Firestore",!0)),u.host!==fC&&u.host!==f&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!ru(d,c)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=xr.MOCK_USER;else{p=v6(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ue(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new xr(b)}t._authCredentials=new Z4(new eI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pu(this.firestore,e,this._query)}}class Ei{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class uo extends pu{constructor(e,n,r){super(e,n,_I(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new $e(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function k_(t,e,...n){if(t=Nn(t),hC("collection","path",e),t instanceof R0){const r=un.fromString(e,...n);return G2(r),new uo(t,null,r)}{if(!(t instanceof Ei||t instanceof uo))throw new Ue(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(un.fromString(e,...n));return G2(r),new uo(t.firestore,null,r)}}function $l(t,e,...n){if(t=Nn(t),arguments.length===1&&(e=nI.newId()),hC("doc","path",e),t instanceof R0){const r=un.fromString(e,...n);return Y2(r),new Ei(t,null,new $e(r))}{if(!(t instanceof Ei||t instanceof uo))throw new Ue(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(un.fromString(e,...n));return Y2(r),new Ei(t.firestore,t instanceof uo?t.converter:null,new $e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="AsyncQueue";class Q2{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new $I(this,"async_queue_retry"),this.rc=()=>{const r=py();r&&Be(K2,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new oo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ql(e))throw e;Be(K2,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ha("INTERNAL UNHANDLED ERROR: ",W2(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=C_.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&Ze(47125,{cc:W2(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function W2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mf extends R0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Q2,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q2(e),this._firestoreClient=void 0,await e}}}function KL(t,e){const n=typeof t=="object"?t:l_(),r=typeof t=="string"?t:Pm,s=g0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Vw("firestore");o&&XL(s,...o)}return s}function P_(t){if(t._terminated)throw new Ue(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QL(t),t._firestoreClient}function QL(t){var e,n,r;const s=t._freezeSettings(),o=function(c,f,d,p){return new gk(c,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,cC(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new FL(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const f=c?._online.build();return{_offline:c?._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(Er.fromBase64String(e))}catch(n){throw new Ue(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ll(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ue(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ue(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ue(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=/^__.*__$/;class ZL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new cf(e,this.data,n,this.fieldTransforms)}}class dC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{Ic:t})}}class U_{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new U_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return jm(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(mC(this.Ic)&&WL.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class JL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||w0(e)}bc(e,n,r,s=!1){return new U_({Ic:e,methodName:n,wc:r,path:yr.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V_(t){const e=t._freezeSettings(),n=w0(t._databaseId);return new JL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pC(t,e,n,r,s,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,s);H_("Data must be an object, but it was:",u,r);const c=gC(r,u);let f,d;if(o.merge)f=new pi(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const b=EE(e,y,n);if(!u.contains(b))throw new Ue(Se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);EC(p,b)||p.push(b)}f=new pi(p),d=u.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,d=u.fieldTransforms;return new ZL(new Qr(c),f,d)}class O0 extends L_{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O0}}function eM(t,e,n,r){const s=t.bc(1,e,n);H_("Data must be an object, but it was:",s,r);const o=[],u=Qr.empty();_o(r,(f,d)=>{const p=z_(e,f,n);d=Nn(d);const y=s.mc(p);if(d instanceof O0)o.push(p);else{const b=pf(d,y);b!=null&&(o.push(p),u.set(p,b))}});const c=new pi(o);return new dC(u,c,s.fieldTransforms)}function tM(t,e,n,r,s,o){const u=t.bc(1,e,n),c=[EE(e,r,n)],f=[s];if(o.length%2!=0)throw new Ue(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)c.push(EE(e,o[b])),f.push(o[b+1]);const d=[],p=Qr.empty();for(let b=c.length-1;b>=0;--b)if(!EC(d,c[b])){const T=c[b];let C=f[b];C=Nn(C);const R=u.mc(T);if(C instanceof O0)d.push(T);else{const P=pf(C,R);P!=null&&(d.push(T),p.set(T,P))}}const y=new pi(d);return new dC(p,y,u.fieldTransforms)}function nM(t,e,n,r=!1){return pf(n,t.bc(r?4:3,e))}function pf(t,e){if(yC(t=Nn(t)))return H_("Unsupported field value:",e,t),gC(t,e);if(t instanceof L_)return function(r,s){if(!mC(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const c of r){let f=pf(c,s.fc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Nn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ln.fromDate(r);return{timestampValue:Vm(s.serializer,o)}}if(r instanceof ln){const o=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vm(s.serializer,o)}}if(r instanceof M_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ll)return{bytesValue:MI(s.serializer,r._byteString)};if(r instanceof Ei){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:__(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof B_)return function(u,c){return{mapValue:{fields:{[cI]:{stringValue:hI},[Lm]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return g_(c.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${N0(r)}`)}(t,e)}function gC(t,e){const n={};return iI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,s)=>{const o=pf(s,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function yC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof M_||t instanceof Ll||t instanceof Ei||t instanceof L_||t instanceof B_)}function H_(t,e,n){if(!yC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=N0(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function EE(t,e,n){if((e=Nn(e))instanceof D0)return e._internalPath;if(typeof e=="string")return z_(t,e);throw jm("Field path arguments must be of type string or ",t,!1,void 0,n)}const rM=new RegExp("[~\\*/\\[\\]]");function z_(t,e,n){if(e.search(rM)>=0)throw jm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new D0(...e.split("."))._internalPath}catch{throw jm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jm(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Ue(Se.INVALID_ARGUMENT,c+t+f)}function EC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iM extends _C{data(){return super.data()}}function k0(t,e){return typeof e=="string"?z_(t,e):e instanceof D0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ue(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F_{}class bC extends F_{}function aM(t,e,...n){let r=[];e instanceof F_&&r.push(e),r=r.concat(n),function(o){const u=o.filter(f=>f instanceof j_).length,c=o.filter(f=>f instanceof P0).length;if(u>1||u>0&&c>0)throw new Ue(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class P0 extends bC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new P0(e,n,r)}_apply(e){const n=this._parse(e);return TC(e._query,n),new pu(e.firestore,e.converter,oE(e._query,n))}_parse(e){const n=V_(e.firestore);return function(o,u,c,f,d,p,y){let b;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ue(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){J2(y,p);const C=[];for(const R of y)C.push(Z2(f,o,R));b={arrayValue:{values:C}}}else b=Z2(f,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||J2(y,p),b=nM(c,u,y,p==="in"||p==="not-in");return Un.create(d,p,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oM(t,e,n){const r=e,s=k0("where",t);return P0._create(s,r,n)}class j_ extends F_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)TC(u,f),u=oE(u,f)}(e._query,n),new pu(e.firestore,e.converter,oE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q_ extends bC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new q_(e,n)}_apply(e){const n=function(s,o,u){if(s.startAt!==null)throw new Ue(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ue(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yh(o,u)}(e._query,this._field,this._direction);return new pu(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new Yl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function uM(t,e="asc"){const n=e,r=k0("orderBy",t);return q_._create(r,n)}function Z2(t,e,n){if(typeof(n=Nn(n))=="string"){if(n==="")throw new Ue(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bI(e)&&n.indexOf("/")!==-1)throw new Ue(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(un.fromString(n));if(!$e.isDocumentKey(r))throw new Ue(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return d2(t,new $e(r))}if(n instanceof Ei)return d2(t,n._key);throw new Ue(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N0(n)}.`)}function J2(t,e){if(!Array.isArray(t)||t.length===0)throw new Ue(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TC(t,e){const n=function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ue(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ue(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lM{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return In(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Lm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>In(u.doubleValue));return new B_(o)}convertGeoPoint(e){return new M_(In(e.latitude),In(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fh(e));default:return null}}convertTimestamp(e){const n=mo(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=un.fromString(e);Vt(FI(r),9688,{name:e});const s=new jh(r.get(1),r.get(3)),o=new $e(r.popFirst(5));return s.isEqual(n)||ha(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cM extends _C{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Em extends cM{data(e={}){return super.data(e)}}class hM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Em(this._firestore,this._userDataWriter,r.key,r,new Zd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ue(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(c=>{const f=new Em(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new Em(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Zd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),p=u.indexOf(c.doc.key)),{type:fM(c.type),doc:f,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}class dM extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,n)}}function Y_(t){t=ou(t,pu);const e=ou(t.firestore,mf),n=P_(e),r=new dM(e);return sM(t._query),GL(n,t._query).then(s=>new hM(e,r,t,s))}function G_(t,e,n){t=ou(t,Ei);const r=ou(t.firestore,mf),s=vC(t.converter,e,n);return $_(r,[pC(V_(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yi.none())])}function mM(t){return $_(ou(t.firestore,mf),[new A0(t._key,yi.none())])}function $_(t,e){return function(r,s){const o=new oo;return r.asyncQueue.enqueueAndForget(async()=>OL(await qL(r),s,o)),o.promise}(P_(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=V_(e)}set(e,n,r){this._verifyNotCommitted();const s=yy(e,this._firestore),o=vC(s.converter,n,r),u=pC(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,yi.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=yy(e,this._firestore);let u;return u=typeof(n=Nn(n))=="string"||n instanceof D0?tM(this._dataReader,"WriteBatch.update",o._key,n,r,s):eM(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=yy(e,this._firestore);return this._mutations=this._mutations.concat(new A0(n._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yy(t,e){if((t=Nn(t)).firestore!==e)throw new Ue(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){return P_(t=ou(t,mf)),new pM(t,e=>$_(t,e))}(function(e,n=!0){(function(s){Fl=s})(zl),iu(new ho("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new mf(new J4(r.getProvider("auth-internal")),new nk(u,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ue(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(d.options.projectId,p)}(u,s),u);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ws(t2,n2,e),ws(t2,n2,"esm2017")})();function X_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function AC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gM=AC,xC=new uf("auth","Firebase",AC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new o_("@firebase/auth");function yM(t,...e){qm.logLevel<=Et.WARN&&qm.warn(`Auth (${zl}): ${t}`,...e)}function _m(t,...e){qm.logLevel<=Et.ERROR&&qm.error(`Auth (${zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,...e){throw K_(t,...e)}function Ns(t,...e){return K_(t,...e)}function wC(t,e,n){const r=Object.assign(Object.assign({},gM()),{[e]:n});return new uf("auth","Firebase",r).create(e,{appName:t.name})}function la(t){return wC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xC.create(t,...e)}function We(t,e,...n){if(!t)throw K_(e,...n)}function aa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _m(e),new Error(e)}function da(t,e){t||aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EM(){return eA()==="http:"||eA()==="https:"}function eA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EM()||C6()||"connection"in navigator)?navigator.onLine:!0}function bM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.shortDelay=e,this.longDelay=n,da(n>e,"Short delay should be less than long delay!"),this.isMobile=x6()||N6()}get(){return _M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e){da(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SM=new gf(3e4,6e4);function To(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vo(t,e,n,r,s={}){return CC(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=lf(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},o);return I6()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&fu(t.emulatorConfig.host)&&(d.credentials="include"),IC.fetch()(await NC(t,t.config.apiHost,n,c),d)})}async function CC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TM),e);try{const s=new xM(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Jd(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Jd(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Jd(t,"user-disabled",u);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw wC(t,p,d);ts(t,p)}}catch(s){if(s instanceof ga)throw s;ts(t,"network-request-failed",{message:String(s)})}}async function yf(t,e,n,r,s={}){const o=await vo(t,e,n,r,s);return"mfaPendingCredential"in o&&ts(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function NC(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?Q_(t.config,s):`${t.config.apiScheme}://${s}`;return vM.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function AM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ns(this.auth,"network-request-failed")),SM.get())})}}function Jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ns(t,e,r);return s.customData._tokenResponse=n,s}function tA(t){return t!==void 0&&t.enterprise!==void 0}class wM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IM(t,e){return vo(t,"GET","/v2/recaptchaConfig",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return vo(t,"POST","/v1/accounts:delete",e)}async function Ym(t,e){return vo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NM(t,e=!1){const n=Nn(t),r=await n.getIdToken(e),s=W_(r);We(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:Rh(Ey(s.auth_time)),issuedAtTime:Rh(Ey(s.iat)),expirationTime:Rh(Ey(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Ey(t){return Number(t)*1e3}function W_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const s=Bw(n);return s?JSON.parse(s):(_m("Failed to decode base64 JWT payload"),null)}catch(s){return _m("Caught error parsing JWT payload as JSON",s?.toString()),null}}function nA(t){const e=W_(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ga&&RM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Xh(t,Ym(n,{idToken:r}));We(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?RC(o.providerUserInfo):[],c=kM(t.providerData,u),f=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,p=f?d:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bE(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function OM(t){const e=Nn(t);await Gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function RC(t){return t.map(e=>{var{providerId:n}=e,r=X_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e){const n=await CC(t,{},async()=>{const r=lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await NC(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&fu(t.emulatorConfig.host)&&(f.credentials="include"),IC.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LM(t,e){return vo(t,"POST","/v2/accounts:revokeToken",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=nA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await PM(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new El;return r&&(We(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(We(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ji{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=X_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xh(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NM(this,e)}reload(){return OM(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(la(this.auth));const e=await this.getIdToken();return await Xh(this,CM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,c,f,d,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,N=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:M,emailVerified:L,isAnonymous:q,providerData:B,stsTokenManager:S}=n;We(M&&S,e,"internal-error");const x=El.fromJSON(this.name,S);We(typeof M=="string",e,"internal-error"),ja(y,e.name),ja(b,e.name),We(typeof L=="boolean",e,"internal-error"),We(typeof q=="boolean",e,"internal-error"),ja(T,e.name),ja(C,e.name),ja(R,e.name),ja(P,e.name),ja(w,e.name),ja(N,e.name);const O=new Ji({uid:M,auth:e,email:b,emailVerified:L,displayName:y,isAnonymous:q,photoURL:C,phoneNumber:T,tenantId:R,stsTokenManager:x,createdAt:w,lastLoginAt:N});return B&&Array.isArray(B)&&(O.providerData=B.map(H=>Object.assign({},H))),P&&(O._redirectEventId=P),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new El;s.updateFromServerResponse(n);const o=new Ji({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Gm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];We(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?RC(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new El;c.updateFromIdToken(r);const f=new Ji({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new bE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Map;function oa(t){da(t instanceof Function,"Expected a class definition");let e=rA.get(t);return e?(da(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DC.type="NONE";const iA=DC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=bm(this.userKey,s.apiKey,o),this.fullPersistenceKey=bm("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ym(this.auth,{idToken:e}).catch(()=>{});return n?Ji._fromGetAccountInfoResponse(this.auth,n,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _l(oa(iA),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||oa(iA);const u=bm(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const p=await d._get(u);if(p){let y;if(typeof p=="string"){const b=await Ym(e,{idToken:p}).catch(()=>{});if(!b)break;y=await Ji._fromGetAccountInfoResponse(e,b,p)}else y=Ji._fromJSON(e,p);d!==o&&(c=y),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new _l(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new _l(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BC(e))return"Blackberry";if(UC(e))return"Webos";if(kC(e))return"Safari";if((e.includes("chrome/")||PC(e))&&!e.includes("edge/"))return"Chrome";if(MC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function OC(t=Ir()){return/firefox\//i.test(t)}function kC(t=Ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PC(t=Ir()){return/crios\//i.test(t)}function LC(t=Ir()){return/iemobile/i.test(t)}function MC(t=Ir()){return/android/i.test(t)}function BC(t=Ir()){return/blackberry/i.test(t)}function UC(t=Ir()){return/webos/i.test(t)}function Z_(t=Ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MM(t=Ir()){var e;return Z_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BM(){return R6()&&document.documentMode===10}function VC(t=Ir()){return Z_(t)||MC(t)||UC(t)||BC(t)||/windows phone/i.test(t)||LC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e=[]){let n;switch(t){case"Browser":n=sA(Ir());break;case"Worker":n=`${sA(Ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e={}){return vo(t,"GET","/v2/passwordPolicy",To(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=6;class zM{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:HM,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aA(this),this.idTokenSubscription=new aA(this),this.beforeStateQueue=new UM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oa(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ym(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(la(this));const n=e?Nn(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(la(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(la(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VM(this),n=new zM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await LM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oa(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&yM(`Error while retrieving App Check token: ${n.error}`),n?.token}}function gu(t){return Nn(t)}class aA{constructor(e){this.auth=e,this.observer=null,this.addObserver=U6(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jM(t){L0=t}function zC(t){return L0.loadJS(t)}function qM(){return L0.recaptchaEnterpriseScript}function YM(){return L0.gapiScript}function GM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $M{constructor(){this.enterprise=new XM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KM="recaptcha-enterprise",FC="NO_RECAPTCHA";class QM{constructor(e){this.type=KM,this.auth=gu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{IM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new wM(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;tA(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(FC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $M().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!n&&tA(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=qM();f.length!==0&&(f+=c),zC(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function oA(t,e,n,r=!1,s=!1){const o=new QM(t);let u;if(s)u=FC;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function TE(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await oA(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await oA(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e){const n=g0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ru(o,e??{}))return s;ts(s,"already-initialized")}return n.initialize({options:e})}function ZM(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(oa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function JM(t,e,n){const r=gu(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=jC(e),{host:u,port:c}=e5(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},p=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(ru(d,r.config.emulator)&&ru(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,fu(u)?(s_(`${o}//${u}${f}`),a_("Auth",!0)):t5()}function jC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e5(t){const e=jC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:uA(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:uA(u)}}}function uA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function t5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return aa("not implemented")}_getIdTokenResponse(e){return aa("not implemented")}_linkToIdToken(e,n){return aa("not implemented")}_getReauthenticationResolver(e){return aa("not implemented")}}async function n5(t,e){return vo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(t,e){return yf(t,"POST","/v1/accounts:signInWithPassword",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",To(t,e))}async function s5(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends J_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Kh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,n,"signInWithPassword",r5);case"emailLink":return i5(e,{email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TE(e,r,"signUpPassword",n5);case"emailLink":return s5(e,{idToken:n,email:this._email,oobCode:this._password});default:ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return yf(t,"POST","/v1/accounts:signInWithIdp",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="http://localhost";class uu extends J_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=X_(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new uu(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:a5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u5(t){const e=gh(yh(t)).link,n=e?gh(yh(e)).deep_link_id:null,r=gh(yh(t)).deep_link_id;return(r?gh(yh(r)).link:null)||r||n||e||t}class e1{constructor(e){var n,r,s,o,u,c;const f=gh(yh(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,p=(r=f.oobCode)!==null&&r!==void 0?r:null,y=o5((s=f.mode)!==null&&s!==void 0?s:null);We(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=u5(e);try{return new e1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.providerId=Xl.PROVIDER_ID}static credential(e,n){return Kh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e1.parseLink(n);return We(r,"argument-error"),Kh._fromEmailAndCode(e,r.code,r.tenantId)}}Xl.PROVIDER_ID="password";Xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends qC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Ef{constructor(){super("facebook.com")}static credential(e){return uu._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Ef{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uu._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wa.credential(n,r)}catch{return null}}}Wa.GOOGLE_SIGN_IN_METHOD="google.com";Wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Ef{constructor(){super("github.com")}static credential(e){return uu._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Za.credential(e.oauthAccessToken)}catch{return null}}}Za.GITHUB_SIGN_IN_METHOD="github.com";Za.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends Ef{constructor(){super("twitter.com")}static credential(e,n){return uu._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ja.credential(n,r)}catch{return null}}}Ja.TWITTER_SIGN_IN_METHOD="twitter.com";Ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e){return yf(t,"POST","/v1/accounts:signUp",To(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Ji._fromIdTokenResponse(e,r,s),u=lA(r);return new lu({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=lA(r);return new lu({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function lA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends ga{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$m.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $m(e,n,r,s)}}function YC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$m._fromErrorAndOperation(t,o,e,r):o})}async function c5(t,e,n=!1){const r=await Xh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e,n=!1){const{auth:r}=t;if(mi(r.app))return Promise.reject(la(r));const s="reauthenticate";try{const o=await Xh(t,YC(r,s,e,t),n);We(o.idToken,r,"internal-error");const u=W_(o.idToken);We(u,r,"internal-error");const{sub:c}=u;return We(t.uid===c,r,"user-mismatch"),lu._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&ts(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(t,e,n=!1){if(mi(t.app))return Promise.reject(la(t));const r="signIn",s=await YC(t,r,e),o=await lu._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function f5(t,e){return GC(gu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(t){const e=gu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d5(t,e,n){if(mi(t.app))return Promise.reject(la(t));const r=gu(t),u=await TE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l5).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&$C(t),f}),c=await lu._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function m5(t,e,n){return mi(t.app)?Promise.reject(la(t)):f5(Nn(t),Xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$C(t),r})}function p5(t,e,n,r){return Nn(t).onIdTokenChanged(e,n,r)}function g5(t,e,n){return Nn(t).beforeAuthStateChanged(e,n)}function y5(t,e,n,r){return Nn(t).onAuthStateChanged(e,n,r)}function E5(t){return Nn(t).signOut()}const Xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xm,"1"),this.storage.removeItem(Xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=1e3,b5=10;class KC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);BM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,b5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KC.type="LOCAL";const T5=KC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QC.type="SESSION";const WC=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new M0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(n.origin,o)),f=await v5(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}M0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=t1("",20);s.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(b.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(){return window}function A5(t){Rs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function x5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function I5(){return ZC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="firebaseLocalStorageDb",C5=1,Km="firebaseLocalStorage",eN="fbase_key";class _f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function B0(t,e){return t.transaction([Km],e?"readwrite":"readonly").objectStore(Km)}function N5(){const t=indexedDB.deleteDatabase(JC);return new _f(t).toPromise()}function vE(){const t=indexedDB.open(JC,C5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Km,{keyPath:eN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Km)?e(r):(r.close(),await N5(),e(await vE()))})})}async function cA(t,e,n){const r=B0(t,!0).put({[eN]:e,value:n});return new _f(r).toPromise()}async function R5(t,e){const n=B0(t,!1).get(e),r=await new _f(n).toPromise();return r===void 0?null:r.value}function hA(t,e){const n=B0(t,!0).delete(e);return new _f(n).toPromise()}const D5=800,O5=3;class tN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>O5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=M0._getInstance(I5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x5(),!this.activeServiceWorker)return;this.sender=new S5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vE();return await cA(e,Xm,"1"),await hA(e,Xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>R5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=B0(s,!1).getAll();return new _f(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tN.type="LOCAL";const k5=tN;new gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e){return e?oa(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends J_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L5(t){return GC(t.auth,new n1(t),t.bypassAuthState)}function M5(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),h5(n,new n1(t),t.bypassAuthState)}async function B5(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),c5(n,new n1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L5;case"linkViaPopup":case"linkViaRedirect":return B5;case"reauthViaPopup":case"reauthViaRedirect":return M5;default:ts(this.auth,"internal-error")}}resolve(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){da(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new gf(2e3,1e4);class ml extends nN{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){da(this.filter.length===1,"Popup operations only handle one event");const e=t1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U5.get())};e()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="pendingRedirect",Tm=new Map;class H5 extends nN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tm.get(this.auth._key());if(!e){try{const r=await z5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tm.set(this.auth._key(),e)}return this.bypassAuthState||Tm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z5(t,e){const n=q5(e),r=j5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function F5(t,e){Tm.set(t._key(),e)}function j5(t){return oa(t._redirectPersistence)}function q5(t){return bm(V5,t.config.apiKey,t.name)}async function Y5(t,e,n=!1){if(mi(t.app))return Promise.reject(la(t));const r=gu(t),s=P5(r,e),u=await new H5(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=10*60*1e3;class $5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rN(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fA(e))}saveEventToCache(e){this.cachedEventUids.add(fA(e)),this.lastProcessedEventTime=Date.now()}}function fA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function X5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e={}){return vo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W5=/^https?/;async function Z5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K5(t);for(const n of e)try{if(J5(n))return}catch{}ts(t,"unauthorized-domain")}function J5(t){const e=_E(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!W5.test(n))return!1;if(Q5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=new gf(3e4,6e4);function dA(){const t=Rs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t8(t){return new Promise((e,n)=>{var r,s,o;function u(){dA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dA(),n(Ns(t,"network-request-failed"))},timeout:e8.get()})}if(!((s=(r=Rs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Rs().gapi)===null||o===void 0)&&o.load)u();else{const c=GM("iframefcb");return Rs()[c]=()=>{gapi.load?u():n(Ns(t,"network-request-failed"))},zC(`${YM()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw vm=null,e})}let vm=null;function n8(t){return vm=vm||t8(t),vm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=new gf(5e3,15e3),i8="__/auth/iframe",s8="emulator/auth/iframe",a8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u8(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Q_(e,s8):`https://${t.config.authDomain}/${i8}`,r={apiKey:e.apiKey,appName:t.name,v:zl},s=o8.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${lf(r).slice(1)}`}async function l8(t){const e=await n8(t),n=Rs().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:u8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a8,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ns(t,"network-request-failed"),c=Rs().setTimeout(()=>{o(u)},r8.get());function f(){Rs().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h8=500,f8=600,d8="_blank",m8="http://localhost";class mA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p8(t,e,n,r=h8,s=f8){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},c8),{width:r.toString(),height:s.toString(),top:o,left:u}),d=Ir().toLowerCase();n&&(c=PC(d)?d8:n),OC(d)&&(e=e||m8,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[T,C])=>`${b}${T}=${C},`,"");if(MM(d)&&c!=="_self")return g8(e||"",c),new mA(null);const y=window.open(e||"",c,p);We(y,t,"popup-blocked");try{y.focus()}catch{}return new mA(y)}function g8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="__/auth/handler",E8="emulator/auth/handler",_8=encodeURIComponent("fac");async function pA(t,e,n,r,s,o){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zl,eventId:s};if(e instanceof qC){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",B6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))u[p]=y}if(e instanceof Ef){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(u.scopes=p.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),d=f?`#${_8}=${encodeURIComponent(f)}`:"";return`${b8(t)}?${lf(c).slice(1)}${d}`}function b8({config:t}){return t.emulator?Q_(t,E8):`https://${t.authDomain}/${y8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="webStorageSupport";class T8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WC,this._completeRedirectFn=Y5,this._overrideRedirectResult=F5}async _openPopup(e,n,r,s){var o;da((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await pA(e,n,r,_E(),s);return p8(e,u,t1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await pA(e,n,r,_E(),s);return A5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(da(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l8(e),r=new $5(e);return n.register("authEvent",s=>(We(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_y,{type:_y},s=>{var o;const u=(o=s?.[0])===null||o===void 0?void 0:o[_y];u!==void 0&&n(!!u),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VC()||kC()||Z_()}}const v8=T8;var gA="@firebase/auth",yA="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x8(t){iu(new ho("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;We(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HC(t)},d=new FM(r,s,o,f);return ZM(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),iu(new ho("auth-internal",e=>{const n=gu(e.getProvider("auth").getImmediate());return(r=>new S8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(gA,yA,A8(t)),ws(gA,yA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=5*60,I8=zw("authIdTokenMaxAge")||w8;let EA=null;const C8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I8)return;const s=n?.token;EA!==s&&(EA=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function N8(t=l_()){const e=g0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WM(t,{popupRedirectResolver:v8,persistence:[k5,T5,WC]}),r=zw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=C8(o.toString());g5(n,u,()=>u(n.currentUser)),p5(n,c=>u(c))}}const s=Uw("auth");return s&&JM(n,`http://${s}`),n}function R8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ns("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",R8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x8("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,mi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="us-central1";class O8{constructor(e,n,r,s,o=SE,u=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new D8(e,n,r,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=SE}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function k8(t,e,n){const r=fu(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(s_(t.emulatorOrigin),a_("Functions",!0))}const _A="@firebase/functions",bA="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8="auth-internal",L8="app-check-internal",M8="messaging-internal";function B8(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider(P8),u=n.getProvider(M8),c=n.getProvider(L8);return new O8(s,o,u,c,r)};iu(new ho(iN,e,"PUBLIC").setMultipleInstances(!0)),ws(_A,bA,t),ws(_A,bA,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t=l_(),e=SE){const r=g0(Nn(t),iN).getImmediate({identifier:e}),s=Vw("functions");return s&&sN(r,...s),r}function sN(t,e,n){k8(Nn(t),e,n)}B8();const V8={apiKey:"AIzaSyAO9TXM7A0SNeiEXzYo27fW0wdTXqXDEyc",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},r1=qw(V8),ns=KL(r1),Qm=N8(r1),H8=U8(r1,"us-central1");sN(H8,"localhost",5001);const _i={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},zr={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function z8(){const[t,e]=se.useState(""),[n,r]=se.useState(""),[s,o]=se.useState(!1),[u,c]=se.useState(!1),[f,d]=se.useState(""),p=async b=>{b.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(zr.INVALID_EMAIL);if(n.length<6)throw new Error(zr.WEAK_PASSWORD);const C=await d5(Qm,t,n);console.log("User created successfully:",C.user.uid)}catch(T){console.error("Sign up error:",T);let C="Failed to create account";T.code==="auth/email-already-in-use"?C=zr.EMAIL_IN_USE:T.code==="auth/invalid-email"?C=zr.INVALID_EMAIL:T.code==="auth/weak-password"?C=zr.WEAK_PASSWORD:T.code==="auth/operation-not-allowed"?C="Email/password accounts are not enabled. Please contact support.":T.message&&(C=T.message),d(C)}finally{c(!1)}},y=async b=>{b.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(zr.INVALID_EMAIL);const C=await m5(Qm,t,n);console.log("User signed in successfully:",C.user.uid)}catch(T){console.error("Sign in error:",T);let C="Failed to sign in";T.code==="auth/user-not-found"?C=zr.USER_NOT_FOUND:T.code==="auth/wrong-password"?C=zr.WRONG_PASSWORD:T.code==="auth/invalid-email"?C=zr.INVALID_EMAIL:T.code==="auth/user-disabled"?C="This account has been disabled. Please contact support.":T.code==="auth/too-many-requests"?C=zr.TOO_MANY_REQUESTS:T.message&&(C=T.message),d(C)}finally{c(!1)}};return $.jsx("div",{className:"fixed inset-0 bg-[#1a1a1d]/90 dark:bg-[#1a1a1d]/90 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:$.jsxs("div",{className:`bg-[#222226] dark:bg-[#222226] rounded-2xl shadow-[0_24px_48px_rgba(0,0,0,0.7),0_10px_20px_rgba(0,0,0,0.5)] 
                          p-8 w-full max-w-md border border-white/12 dark:border-white/12`,children:[$.jsxs("div",{className:"text-center mb-8",children:[$.jsx("div",{className:"flex items-center justify-center mb-4",children:$.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:$.jsx("span",{className:"text-white font-bold text-lg",children:"T"})})}),$.jsx("h2",{className:"text-2xl font-bold text-[#f8faff] dark:text-[#f8faff] mb-2",children:s?"Join TinkFlow":"Welcome Back"}),$.jsx("p",{className:"text-[#b0b3b8] dark:text-[#b0b3b8] text-sm",children:s?"Start your AI-powered learning journey":"Continue exploring concepts with AI"})]}),$.jsxs("form",{onSubmit:s?p:y,className:"space-y-6",children:[$.jsx("div",{children:$.jsx("input",{type:"email",placeholder:"Email address",value:t,onChange:b=>e(b.target.value),required:!0,className:`w-full px-4 py-3 bg-[#2a2a2e] dark:bg-[#2a2a2e] border border-white/15 dark:border-white/15 
                                     rounded-lg text-[#f8faff] dark:text-[#f8faff] placeholder-[#8b949e] dark:placeholder-[#8b949e] 
                                     focus:outline-none focus:border-[#5a9cf8] dark:focus:border-[#5a9cf8] focus:shadow-[0_0_0_3px_rgba(90,156,248,0.25)]
                                     transition-all duration-200`})}),$.jsx("div",{children:$.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:b=>r(b.target.value),required:!0,className:`w-full px-4 py-3 bg-[#2a2a2e] dark:bg-[#2a2a2e] border border-white/15 dark:border-white/15 
                                     rounded-lg text-[#f8faff] dark:text-[#f8faff] placeholder-[#8b949e] dark:placeholder-[#8b949e] 
                                     focus:outline-none focus:border-[#5a9cf8] dark:focus:border-[#5a9cf8] focus:shadow-[0_0_0_3px_rgba(90,156,248,0.25)]
                                     transition-all duration-200`})}),$.jsx("button",{type:"submit",disabled:u,className:`w-full py-3 px-4 rounded-lg font-semibold text-white transition-all duration-200 
                                   ${u?"bg-[#3a3a3e] dark:bg-[#3a3a3e] cursor-not-allowed opacity-60":"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 active:from-indigo-700 active:to-purple-800 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}
                                   focus:outline-none focus:shadow-[0_0_0_3px_rgba(99,102,241,0.4)]`,children:u?$.jsx("div",{className:"inline-block w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s?"Create Account":"Sign In"}),f&&$.jsx("div",{className:`bg-red-900/20 dark:bg-red-900/30 border border-red-500/30 dark:border-red-500/40 
                                       rounded-lg p-3 text-red-400 dark:text-red-400 text-sm`,children:f})]}),$.jsxs("div",{className:"auth-switch text-center mt-6",children:[$.jsx("span",{className:"auth-switch-text text-gray-400 dark:text-gray-400 text-sm",children:s?"Already have an account?":"Don't have an account?"}),$.jsx("button",{type:"button",onClick:()=>o(!s),className:`auth-switch-btn ml-2 text-blue-400 dark:text-blue-400 hover:text-blue-300 dark:hover:text-blue-300 
                                 text-sm font-medium transition-colors duration-200 bg-transparent border-none cursor-pointer`,children:s?"Sign In":"Sign Up"})]})]})})}function F8({show:t,onHide:e,onConfirm:n,isCreating:r=!1}){const[s,o]=se.useState(""),[u,c]=se.useState(!0),f=b=>{const T=b.target.value;o(T),c(T.trim().length>0&&T.trim().length<=50)},d=b=>{b.preventDefault();const T=s.trim();T.length>0&&T.length<=50&&(n(T),o(""),c(!0))},p=()=>{o(""),c(!0),e()},y=b=>{b.key==="Enter"&&d(b)};return t?$.jsx("div",{className:"board-name-modal fixed inset-0 bg-black/60 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-[2001]",children:$.jsxs("div",{className:"bg-gray-800 dark:bg-gray-900 rounded-xl shadow-2xl p-6 w-full max-w-md border border-gray-700 dark:border-gray-600",children:[$.jsxs("div",{className:"flex justify-between items-center mb-6",children:[$.jsx("h3",{className:"text-lg font-semibold text-white dark:text-white",children:"Create New Board"}),$.jsx("button",{onClick:p,className:`text-gray-400 dark:text-gray-400 hover:text-gray-200 dark:hover:text-gray-200 
                                 bg-gray-700/50 dark:bg-gray-800/50 hover:bg-gray-600/50 dark:hover:bg-gray-700/50
                                 border border-gray-600 dark:border-gray-700 rounded-lg w-8 h-8 flex items-center justify-center
                                 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500/20`,"aria-label":"Close",children:""})]}),$.jsxs("form",{onSubmit:d,className:"space-y-4",children:[$.jsxs("div",{children:[$.jsx("label",{className:"block text-sm font-medium text-gray-300 dark:text-gray-300 mb-2",children:"Board Name"}),$.jsx("input",{type:"text",value:s,onChange:f,onKeyDown:y,placeholder:"Enter board name...",maxLength:50,autoFocus:!0,className:`w-full px-4 py-3 bg-gray-700/50 dark:bg-gray-800/50 border rounded-lg 
                                       text-white dark:text-white placeholder-gray-400 dark:placeholder-gray-500 
                                       focus:outline-none focus:ring-2 focus:ring-blue-500/40 dark:focus:ring-blue-400/40 
                                       transition-all duration-200 font-medium
                                       ${u?"border-gray-600/50 dark:border-gray-700/50 focus:border-blue-500/60 dark:focus:border-blue-400/60":"border-red-500/60 dark:border-red-500/60 focus:border-red-500/60 dark:focus:border-red-500/60"}`}),!u&&$.jsx("p",{className:"text-red-400 dark:text-red-400 text-sm mt-2",children:"Board name must be between 1 and 50 characters long."}),$.jsxs("p",{className:`text-xs mt-1 ${s.length===50?"text-red-400 dark:text-red-400":"text-gray-500 dark:text-gray-500"}`,children:[s.length,"/50 characters"]})]}),$.jsxs("div",{className:"flex gap-3 pt-4",children:[$.jsx("button",{type:"button",onClick:p,disabled:r,className:`flex-1 px-4 py-3 bg-gray-700/50 dark:bg-gray-800/50 border border-gray-600/50 dark:border-gray-700/50
                                     text-gray-300 dark:text-gray-300 rounded-lg font-medium transition-all duration-200
                                     hover:bg-gray-600/60 dark:hover:bg-gray-700/60 hover:border-gray-500/60 dark:hover:border-gray-600/60
                                     disabled:opacity-50 disabled:cursor-not-allowed
                                     focus:outline-none focus:ring-2 focus:ring-gray-500/20 dark:focus:ring-gray-400/20`,children:"Cancel"}),$.jsx("button",{type:"submit",disabled:!u||s.trim().length===0||r,className:`flex-1 px-4 py-3 bg-blue-600/80 dark:bg-blue-500/80 border border-blue-500/50 dark:border-blue-400/50
                                     text-white rounded-lg font-medium transition-all duration-200 
                                     disabled:opacity-50 disabled:cursor-not-allowed
                                     hover:bg-blue-500/90 dark:hover:bg-blue-400/90 hover:border-blue-400/60 dark:hover:border-blue-300/60
                                     focus:outline-none focus:ring-2 focus:ring-blue-500/40 dark:focus:ring-blue-400/40`,children:r?"Creating...":"Create Board"})]})]})]})}):null}function j8({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:o,isLoading:u}){const[c,f]=se.useState(!1),[d,p]=se.useState(!1),[y,b]=se.useState(null),T=async w=>{try{f(!0),await r(w),p(!1)}catch(N){console.error("Error in sidebar create board:",N)}finally{f(!1)}},C=()=>{p(!0)},R=()=>{p(!1)},P=(w,N)=>{w.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(N)};return $.jsxs($.Fragment,{children:[$.jsx("div",{className:"fixed left-0 top-0 w-[440px] h-screen bg-[#222226] dark:bg-[#222226] border-r border-white/10 dark:border-white/10 flex flex-col z-[1001] transition-transform duration-[0.35s] ease-[cubic-bezier(0.4,0,0.2,1)]",children:$.jsxs("div",{className:"flex flex-col h-full",children:[$.jsxs("div",{className:"p-[22px] border-b border-white/[0.08] dark:border-white/[0.08] bg-white/[0.03] dark:bg-white/[0.03]",children:[$.jsx("h2",{className:"m-0 mb-[18px] text-[18px] font-semibold text-[#f8faff] dark:text-[#f8faff] tracking-[-0.012em]",children:"TinkFlow Boards"}),$.jsx("button",{onClick:C,disabled:u||c,className:`w-full bg-[#2f2f33] dark:bg-[#2f2f33] text-[#f8faff] dark:text-[#f8faff] border border-white/12 dark:border-white/12 
                                      px-4 py-[10px] rounded-md cursor-pointer text-[13px] font-semibold transition-all duration-200 
                                      tracking-[0.015em] uppercase
                                      ${u||c?"cursor-not-allowed opacity-60":"hover:bg-[#3a3a3e] dark:hover:bg-[#3a3a3e] hover:border-white/18 dark:hover:border-white/18 hover:-translate-y-0.5"}`,children:c?"Creating...":"+ New Board"})]}),$.jsx("div",{className:"flex-1 overflow-y-auto p-[14px] scrollbar-thin scrollbar-track-[#2a2a2e] scrollbar-thumb-[#4a4a4e] hover:scrollbar-thumb-[#5a5a5e]",children:t.map(w=>{const N=e?.id===w.id,M=y===w.id;return $.jsxs("div",{onClick:()=>!u&&n(w.id),onMouseEnter:()=>b(w.id),onMouseLeave:()=>b(null),className:`
                                        min-h-[54px] px-[18px] py-[14px] mb-[8px] rounded-[12px] flex justify-between items-center
                                        transition-all duration-200 cursor-pointer border font-medium text-[14px] leading-[1.4]
                                        ${u?"cursor-not-allowed opacity-60":"cursor-pointer"}
                                        ${N?"border-[#4a90e2] bg-[#2a3850] dark:bg-[#2a3850] text-[#f8faff] dark:text-[#f8faff] font-semibold shadow-[0_2px_8px_rgba(74,144,226,0.3)] transform translate-y-[-1px]":M?"border-white/20 dark:border-white/20 bg-[#2a2a2e] dark:bg-[#2a2a2e] text-[#e8eaed] dark:text-[#e8eaed] shadow-[0_2px_8px_rgba(0,0,0,0.3)] transform translate-y-[-1px]":"border-white/10 dark:border-white/10 bg-[#1e1e22] dark:bg-[#1e1e22] text-[#b0b3b8] dark:text-[#b0b3b8]"}
                                    `,role:"button",tabIndex:0,onKeyDown:L=>{(L.key==="Enter"||L.key===" ")&&!u&&n(w.id)},children:[$.jsx("span",{className:`
                                        ${N?"font-bold":"font-medium"} 
                                        text-lg flex-1 whitespace-nowrap overflow-hidden text-ellipsis 
                                        tracking-wide leading-5
                                    `,children:w.name}),$.jsxs("div",{className:"flex items-center gap-2",children:[w.isOpen&&$.jsx("span",{className:"text-blue-400 dark:text-blue-400 text-lg",children:""}),t.length>1&&$.jsx("button",{onClick:L=>{L.stopPropagation(),P(L,w.id)},title:"Delete board",className:`
                                                    bg-transparent border-none text-red-400 dark:text-red-400 
                                                    cursor-pointer text-xl leading-none px-1 transition-opacity duration-150
                                                    ${M?"opacity-100 visible":"opacity-0 invisible"}
                                                    hover:text-red-300 dark:hover:text-red-300
                                                `,children:""})]})]},w.id)})}),u&&$.jsx("div",{className:"p-4 text-center text-[#b0b3b8] dark:text-[#b0b3b8] text-[13px] font-medium",children:"Loading boards..."}),$.jsx("div",{className:"p-[22px] border-t border-white/[0.08] dark:border-white/[0.08]",children:$.jsx("button",{onClick:o,className:`w-full px-4 py-[10px] rounded-md border border-white/12 dark:border-white/12 
                                     bg-transparent text-[#b0b3b8] dark:text-[#b0b3b8] cursor-pointer text-[13px] font-semibold
                                     transition-all duration-200 tracking-[0.015em] uppercase
                                     hover:bg-[#2a2a2e] dark:hover:bg-[#2a2a2e] hover:border-white/18 dark:hover:border-white/18 
                                     hover:text-[#e8eaed] dark:hover:text-[#e8eaed] hover:-translate-y-0.5`,children:"Sign Out"})})]})}),$.jsx(F8,{show:d,onHide:R,onConfirm:T,isCreating:c})]})}function TA(t){const e=[],n=String(t||"");let r=n.indexOf(","),s=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const u=n.slice(s,r).trim();(u||!o)&&e.push(u),s=r+1,r=n.indexOf(",",s)}return e}function aN(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const q8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Y8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G8={};function vA(t,e){return(G8.jsx?Y8:q8).test(t)}const $8=/[ \t\n\f\r]/g;function X8(t){return typeof t=="object"?t.type==="text"?SA(t.value):!1:SA(t)}function SA(t){return t.replace($8,"")===""}let bf=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};bf.prototype.normal={};bf.prototype.property={};bf.prototype.space=void 0;function oN(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new bf(n,r,e)}function Qh(t){return t.toLowerCase()}let ei=class{constructor(e,n){this.attribute=n,this.property=e}};ei.prototype.attribute="";ei.prototype.booleanish=!1;ei.prototype.boolean=!1;ei.prototype.commaOrSpaceSeparated=!1;ei.prototype.commaSeparated=!1;ei.prototype.defined=!1;ei.prototype.mustUseProperty=!1;ei.prototype.number=!1;ei.prototype.overloadedBoolean=!1;ei.prototype.property="";ei.prototype.spaceSeparated=!1;ei.prototype.space=void 0;let K8=0;const ot=yu(),Mn=yu(),AE=yu(),Oe=yu(),nn=yu(),Tl=yu(),hi=yu();function yu(){return 2**++K8}const xE=Object.freeze(Object.defineProperty({__proto__:null,boolean:ot,booleanish:Mn,commaOrSpaceSeparated:hi,commaSeparated:Tl,number:Oe,overloadedBoolean:AE,spaceSeparated:nn},Symbol.toStringTag,{value:"Module"})),by=Object.keys(xE);let i1=class extends ei{constructor(e,n,r,s){let o=-1;if(super(e,n),AA(this,"space",s),typeof r=="number")for(;++o<by.length;){const u=by[o];AA(this,by[o],(r&xE[u])===xE[u])}}};i1.prototype.defined=!0;function AA(t,e,n){n&&(t[e]=n)}function Kl(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const o=new i1(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[Qh(r)]=r,n[Qh(o.attribute)]=r}return new bf(e,n,t.space)}const uN=Kl({properties:{ariaActiveDescendant:null,ariaAtomic:Mn,ariaAutoComplete:null,ariaBusy:Mn,ariaChecked:Mn,ariaColCount:Oe,ariaColIndex:Oe,ariaColSpan:Oe,ariaControls:nn,ariaCurrent:null,ariaDescribedBy:nn,ariaDetails:null,ariaDisabled:Mn,ariaDropEffect:nn,ariaErrorMessage:null,ariaExpanded:Mn,ariaFlowTo:nn,ariaGrabbed:Mn,ariaHasPopup:null,ariaHidden:Mn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:nn,ariaLevel:Oe,ariaLive:null,ariaModal:Mn,ariaMultiLine:Mn,ariaMultiSelectable:Mn,ariaOrientation:null,ariaOwns:nn,ariaPlaceholder:null,ariaPosInSet:Oe,ariaPressed:Mn,ariaReadOnly:Mn,ariaRelevant:null,ariaRequired:Mn,ariaRoleDescription:nn,ariaRowCount:Oe,ariaRowIndex:Oe,ariaRowSpan:Oe,ariaSelected:Mn,ariaSetSize:Oe,ariaSort:null,ariaValueMax:Oe,ariaValueMin:Oe,ariaValueNow:Oe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function lN(t,e){return e in t?t[e]:e}function cN(t,e){return lN(t,e.toLowerCase())}const Q8=Kl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tl,acceptCharset:nn,accessKey:nn,action:null,allow:null,allowFullScreen:ot,allowPaymentRequest:ot,allowUserMedia:ot,alt:null,as:null,async:ot,autoCapitalize:null,autoComplete:nn,autoFocus:ot,autoPlay:ot,blocking:nn,capture:null,charSet:null,checked:ot,cite:null,className:nn,cols:Oe,colSpan:null,content:null,contentEditable:Mn,controls:ot,controlsList:nn,coords:Oe|Tl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ot,defer:ot,dir:null,dirName:null,disabled:ot,download:AE,draggable:Mn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ot,formTarget:null,headers:nn,height:Oe,hidden:AE,high:Oe,href:null,hrefLang:null,htmlFor:nn,httpEquiv:nn,id:null,imageSizes:null,imageSrcSet:null,inert:ot,inputMode:null,integrity:null,is:null,isMap:ot,itemId:null,itemProp:nn,itemRef:nn,itemScope:ot,itemType:nn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ot,low:Oe,manifest:null,max:null,maxLength:Oe,media:null,method:null,min:null,minLength:Oe,multiple:ot,muted:ot,name:null,nonce:null,noModule:ot,noValidate:ot,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ot,optimum:Oe,pattern:null,ping:nn,placeholder:null,playsInline:ot,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ot,referrerPolicy:null,rel:nn,required:ot,reversed:ot,rows:Oe,rowSpan:Oe,sandbox:nn,scope:null,scoped:ot,seamless:ot,selected:ot,shadowRootClonable:ot,shadowRootDelegatesFocus:ot,shadowRootMode:null,shape:null,size:Oe,sizes:null,slot:null,span:Oe,spellCheck:Mn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Oe,step:null,style:null,tabIndex:Oe,target:null,title:null,translate:null,type:null,typeMustMatch:ot,useMap:null,value:Mn,width:Oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:nn,axis:null,background:null,bgColor:null,border:Oe,borderColor:null,bottomMargin:Oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ot,declare:ot,event:null,face:null,frame:null,frameBorder:null,hSpace:Oe,leftMargin:Oe,link:null,longDesc:null,lowSrc:null,marginHeight:Oe,marginWidth:Oe,noResize:ot,noHref:ot,noShade:ot,noWrap:ot,object:null,profile:null,prompt:null,rev:null,rightMargin:Oe,rules:null,scheme:null,scrolling:Mn,standby:null,summary:null,text:null,topMargin:Oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ot,disableRemotePlayback:ot,prefix:null,property:null,results:Oe,security:null,unselectable:null},space:"html",transform:cN}),W8=Kl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hi,accentHeight:Oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Oe,amplitude:Oe,arabicForm:null,ascent:Oe,attributeName:null,attributeType:null,azimuth:Oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Oe,by:null,calcMode:null,capHeight:Oe,className:nn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Oe,diffuseConstant:Oe,direction:null,display:null,dur:null,divisor:Oe,dominantBaseline:null,download:ot,dx:null,dy:null,edgeMode:null,editable:null,elevation:Oe,enableBackground:null,end:null,event:null,exponent:Oe,externalResourcesRequired:null,fill:null,fillOpacity:Oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tl,g2:Tl,glyphName:Tl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Oe,horizOriginX:Oe,horizOriginY:Oe,id:null,ideographic:Oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Oe,k:Oe,k1:Oe,k2:Oe,k3:Oe,k4:Oe,kernelMatrix:hi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Oe,overlineThickness:Oe,paintOrder:null,panose1:null,path:null,pathLength:Oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:nn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Oe,pointsAtY:Oe,pointsAtZ:Oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hi,rev:hi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hi,requiredFeatures:hi,requiredFonts:hi,requiredFormats:hi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Oe,specularExponent:Oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Oe,strikethroughThickness:Oe,string:null,stroke:null,strokeDashArray:hi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Oe,strokeOpacity:Oe,strokeWidth:null,style:null,surfaceScale:Oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hi,tabIndex:Oe,tableValues:null,target:null,targetX:Oe,targetY:Oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Oe,underlineThickness:Oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Oe,values:null,vAlphabetic:Oe,vMathematical:Oe,vectorEffect:null,vHanging:Oe,vIdeographic:Oe,version:null,vertAdvY:Oe,vertOriginX:Oe,vertOriginY:Oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lN}),hN=Kl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),fN=Kl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cN}),dN=Kl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Z8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},J8=/[A-Z]/g,xA=/-[a-z]/g,e9=/^data[-\w.:]+$/i;function s1(t,e){const n=Qh(e);let r=e,s=ei;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&e9.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(xA,n9);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!xA.test(o)){let u=o.replace(J8,t9);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=i1}return new s(r,e)}function t9(t){return"-"+t.toLowerCase()}function n9(t){return t.charAt(1).toUpperCase()}const U0=oN([uN,Q8,hN,fN,dN],"html"),Ql=oN([uN,W8,hN,fN,dN],"svg");function wA(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function mN(t){return t.join(" ").trim()}var rl={},Ty,IA;function r9(){if(IA)return Ty;IA=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",p="*",y="",b="comment",T="declaration";Ty=function(R,P){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];P=P||{};var w=1,N=1;function M(k){var U=k.match(e);U&&(w+=U.length);var K=k.lastIndexOf(f);N=~K?k.length-K:N+k.length}function L(){var k={line:w,column:N};return function(U){return U.position=new q(k),x(),U}}function q(k){this.start=k,this.end={line:w,column:N},this.source=P.source}q.prototype.content=R;function B(k){var U=new Error(P.source+":"+w+":"+N+": "+k);if(U.reason=k,U.filename=P.source,U.line=w,U.column=N,U.source=R,!P.silent)throw U}function S(k){var U=k.exec(R);if(U){var K=U[0];return M(K),R=R.slice(K.length),U}}function x(){S(n)}function O(k){var U;for(k=k||[];U=H();)U!==!1&&k.push(U);return k}function H(){var k=L();if(!(d!=R.charAt(0)||p!=R.charAt(1))){for(var U=2;y!=R.charAt(U)&&(p!=R.charAt(U)||d!=R.charAt(U+1));)++U;if(U+=2,y===R.charAt(U-1))return B("End of comment missing");var K=R.slice(2,U-2);return N+=2,M(K),R=R.slice(U),N+=2,k({type:b,comment:K})}}function V(){var k=L(),U=S(r);if(U){if(H(),!S(s))return B("property missing ':'");var K=S(o),j=k({type:T,property:C(U[0].replace(t,y)),value:K?C(K[0].replace(t,y)):y});return S(u),j}}function F(){var k=[];O(k);for(var U;U=V();)U!==!1&&(k.push(U),O(k));return k}return x(),F()};function C(R){return R?R.replace(c,y):y}return Ty}var CA;function i9(){if(CA)return rl;CA=1;var t=rl&&rl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rl,"__esModule",{value:!0}),rl.default=n;var e=t(r9());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),c=typeof s=="function";return u.forEach(function(f){if(f.type==="declaration"){var d=f.property,p=f.value;c?s(d,p,f):p&&(o=o||{},o[d]=p)}}),o}return rl}var sh={},NA;function s9(){if(NA)return sh;NA=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},u=function(d,p){return p.toUpperCase()},c=function(d,p){return"".concat(p,"-")},f=function(d,p){return p===void 0&&(p={}),o(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(s,c):d=d.replace(r,c),d.replace(e,u))};return sh.camelCase=f,sh}var ah,RA;function a9(){if(RA)return ah;RA=1;var t=ah&&ah.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(i9()),n=s9();function r(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(c,f){c&&f&&(u[(0,n.camelCase)(c,o)]=f)}),u}return r.default=r,ah=r,ah}var o9=a9();const u9=h0(o9),V0=pN("end"),Ls=pN("start");function pN(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function l9(t){const e=Ls(t),n=V0(t);if(e&&n)return{start:e,end:n}}function Dh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?DA(t.position):"start"in t||"end"in t?DA(t):"line"in t||"column"in t?wE(t):""}function wE(t){return OA(t&&t.line)+":"+OA(t&&t.column)}function DA(t){return wE(t&&t.start)+"-"+wE(t&&t.end)}function OA(t){return t&&typeof t=="number"?t:1}class Cr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=Dh(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Cr.prototype.file="";Cr.prototype.name="";Cr.prototype.reason="";Cr.prototype.message="";Cr.prototype.stack="";Cr.prototype.column=void 0;Cr.prototype.line=void 0;Cr.prototype.ancestors=void 0;Cr.prototype.cause=void 0;Cr.prototype.fatal=void 0;Cr.prototype.place=void 0;Cr.prototype.ruleId=void 0;Cr.prototype.source=void 0;const a1={}.hasOwnProperty,c9=new Map,h9=/[A-Z]/g,f9=new Set(["table","tbody","thead","tfoot","tr"]),d9=new Set(["td","th"]),gN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function m9(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=v9(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=T9(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Ql:U0,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=yN(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function yN(t,e,n){if(e.type==="element")return p9(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return g9(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return E9(t,e,n);if(e.type==="mdxjsEsm")return y9(t,e);if(e.type==="root")return _9(t,e,n);if(e.type==="text")return b9(t,e)}function p9(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Ql,t.schema=s),t.ancestors.push(e);const o=_N(t,e.tagName,!1),u=S9(t,e);let c=u1(t,e);return f9.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!X8(f):!0})),EN(t,u,o,e),o1(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function g9(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Wh(t,e.position)}function y9(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Wh(t,e.position)}function E9(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=Ql,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:_N(t,e.name,!0),u=A9(t,e),c=u1(t,e);return EN(t,u,o,e),o1(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function _9(t,e,n){const r={};return o1(r,u1(t,e)),t.create(e,t.Fragment,r,n)}function b9(t,e){return e.value}function EN(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function o1(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function T9(t,e,n){return r;function r(s,o,u,c){const d=Array.isArray(u.children)?n:e;return c?d(o,u,c):d(o,u)}}function v9(t,e){return n;function n(r,s,o,u){const c=Array.isArray(o.children),f=Ls(r);return e(s,o,u,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function S9(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&a1.call(e.properties,s)){const o=x9(t,s,e.properties[s]);if(o){const[u,c]=o;t.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&d9.has(e.tagName)?r=c:n[u]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function A9(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else Wh(t,e.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,o=t.evaluater.evaluateExpression(c.expression)}else Wh(t,e.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function u1(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:c9;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const d=s.get(f)||0;u=f+"-"+d,s.set(f,d+1)}}const c=yN(t,o,u);c!==void 0&&n.push(c)}return n}function x9(t,e,n){const r=s1(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?aN(n):mN(n)),r.property==="style"){let s=typeof n=="object"?n:w9(t,String(n));return t.stylePropertyNameCase==="css"&&(s=I9(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?Z8[r.property]||r.property:r.attribute,n]}}function w9(t,e){try{return u9(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new Cr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=gN+"#cannot-parse-style-attribute",s}}function _N(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const c=vA(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=u}else r=vA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return a1.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);Wh(t)}function Wh(t,e){const n=new Cr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=gN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function I9(t){const e={};let n;for(n in t)a1.call(t,n)&&(e[C9(n)]=t[n]);return e}function C9(t){let e=t.replace(h9,N9);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function N9(t){return"-"+t.toLowerCase()}const vy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},R9={};function D9(t,e){const n=R9,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return bN(t,r,s)}function bN(t,e,n){if(O9(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return kA(t.children,e,n)}return Array.isArray(t)?kA(t,e,n):""}function kA(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=bN(t[s],e,n);return r.join("")}function O9(t){return!!(t&&typeof t=="object")}const PA=document.createElement("i");function l1(t){const e="&"+t+";";PA.innerHTML=e;const n=PA.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ks(t,e,n,r){const s=t.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function Ui(t,e){return t.length>0?(ks(t,t.length,0,e),t):e}const LA={}.hasOwnProperty;function k9(t){const e={};let n=-1;for(;++n<t.length;)P9(e,t[n]);return e}function P9(t,e){let n;for(n in e){const s=(LA.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){LA.call(s,u)||(s[u]=[]);const c=o[u];L9(s[u],Array.isArray(c)?c:c?[c]:[])}}}function L9(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ks(t,0,0,r)}function TN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function vl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xs=So(/[A-Za-z]/),gi=So(/[\dA-Za-z]/),M9=So(/[#-'*+\--9=?A-Z^-~]/);function IE(t){return t!==null&&(t<32||t===127)}const CE=So(/\d/),B9=So(/[\dA-Fa-f]/),U9=So(/[!-/:-@[-`{-~]/);function tt(t){return t!==null&&t<-2}function Zr(t){return t!==null&&(t<0||t===32)}function kt(t){return t===-2||t===-1||t===32}const V9=So(new RegExp("\\p{P}|\\p{S}","u")),H9=So(/\s/);function So(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Wl(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&gi(t.charCodeAt(n+1))&&gi(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(u=String.fromCharCode(o,c),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function sn(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return kt(f)?(t.enter(n),c(f)):e(f)}function c(f){return kt(f)&&o++<s?(t.consume(f),c):(t.exit(n),e(f))}}const z9={tokenize:F9};function F9(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),sn(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),o(c)}function o(c){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(c)}function u(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return tt(c)?(t.consume(c),t.exit("chunkText"),o):(t.consume(c),u)}}const j9={tokenize:q9},MA={tokenize:Y9};function q9(t){const e=this,n=[];let r=0,s,o,u;return c;function c(M){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,f,d)(M)}return d(M)}function f(M){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&N();const L=e.events.length;let q=L,B;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){B=e.events[q][1].end;break}w(r);let S=L;for(;S<e.events.length;)e.events[S][1].end={...B},S++;return ks(e.events,q+1,0,e.events.slice(L)),e.events.length=S,d(M)}return c(M)}function d(M){if(r===n.length){if(!s)return b(M);if(s.currentConstruct&&s.currentConstruct.concrete)return C(M);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(MA,p,y)(M)}function p(M){return s&&N(),w(r),b(M)}function y(M){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,C(M)}function b(M){return e.containerState={},t.attempt(MA,T,C)(M)}function T(M){return r++,n.push([e.currentConstruct,e.containerState]),b(M)}function C(M){if(M===null){s&&N(),w(0),t.consume(M);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),R(M)}function R(M){if(M===null){P(t.exit("chunkFlow"),!0),w(0),t.consume(M);return}return tt(M)?(t.consume(M),P(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(M),R)}function P(M,L){const q=e.sliceStream(M);if(L&&q.push(null),M.previous=o,o&&(o.next=M),o=M,s.defineSkip(M.start),s.write(q),e.parser.lazy[M.start.line]){let B=s.events.length;for(;B--;)if(s.events[B][1].start.offset<u&&(!s.events[B][1].end||s.events[B][1].end.offset>u))return;const S=e.events.length;let x=S,O,H;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(O){H=e.events[x][1].end;break}O=!0}for(w(r),B=S;B<e.events.length;)e.events[B][1].end={...H},B++;ks(e.events,x+1,0,e.events.slice(S)),e.events.length=B}}function w(M){let L=n.length;for(;L-- >M;){const q=n[L];e.containerState=q[1],q[0].exit.call(e,t)}n.length=M}function N(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function Y9(t,e,n){return sn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function BA(t){if(t===null||Zr(t)||H9(t))return 1;if(V9(t))return 2}function c1(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const NE={name:"attention",resolveAll:G9,tokenize:$9};function G9(t,e){let n=-1,r,s,o,u,c,f,d,p;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y={...t[r][1].end},b={...t[n][1].start};UA(y,-f),UA(b,f),u={type:f>1?"strongSequence":"emphasisSequence",start:y,end:{...t[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:b},o={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},t[r][1].end={...u.start},t[n][1].start={...c.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ui(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ui(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),d=Ui(d,c1(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ui(d,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(p=2,d=Ui(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):p=0,ks(t,r-1,n-r+3,d),n=r+d.length-p-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function $9(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=BA(r);let o;return u;function u(f){return o=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===o)return t.consume(f),c;const d=t.exit("attentionSequence"),p=BA(f),y=!p||p===2&&s||n.includes(f),b=!s||s===2&&p||n.includes(r);return d._open=!!(o===42?y:y&&(s||!b)),d._close=!!(o===42?b:b&&(p||!y)),e(f)}}function UA(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const X9={name:"autolink",tokenize:K9};function K9(t,e,n){let r=0;return s;function s(T){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(T){return xs(T)?(t.consume(T),u):T===64?n(T):d(T)}function u(T){return T===43||T===45||T===46||gi(T)?(r=1,c(T)):d(T)}function c(T){return T===58?(t.consume(T),r=0,f):(T===43||T===45||T===46||gi(T))&&r++<32?(t.consume(T),c):(r=0,d(T))}function f(T){return T===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):T===null||T===32||T===60||IE(T)?n(T):(t.consume(T),f)}function d(T){return T===64?(t.consume(T),p):M9(T)?(t.consume(T),d):n(T)}function p(T){return gi(T)?y(T):n(T)}function y(T){return T===46?(t.consume(T),r=0,p):T===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(T),t.exit("autolinkMarker"),t.exit("autolink"),e):b(T)}function b(T){if((T===45||gi(T))&&r++<63){const C=T===45?b:y;return t.consume(T),C}return n(T)}}const H0={partial:!0,tokenize:Q9};function Q9(t,e,n){return r;function r(o){return kt(o)?sn(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||tt(o)?e(o):n(o)}}const vN={continuation:{tokenize:Z9},exit:J9,name:"blockQuote",tokenize:W9};function W9(t,e,n){const r=this;return s;function s(u){if(u===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return kt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function Z9(t,e,n){const r=this;return s;function s(u){return kt(u)?sn(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(vN,e,n)(u)}}function J9(t){t.exit("blockQuote")}const SN={name:"characterEscape",tokenize:eB};function eB(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return U9(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const AN={name:"characterReference",tokenize:tB};function tB(t,e,n){const r=this;let s=0,o,u;return c;function c(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),f}function f(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,u=gi,p(y))}function d(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=B9,p):(t.enter("characterReferenceValue"),o=7,u=CE,p(y))}function p(y){if(y===59&&s){const b=t.exit("characterReferenceValue");return u===gi&&!l1(r.sliceSerialize(b))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(y)&&s++<o?(t.consume(y),p):n(y)}}const VA={partial:!0,tokenize:rB},HA={concrete:!0,name:"codeFenced",tokenize:nB};function nB(t,e,n){const r=this,s={partial:!0,tokenize:q};let o=0,u=0,c;return f;function f(B){return d(B)}function d(B){const S=r.events[r.events.length-1];return o=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,c=B,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),p(B)}function p(B){return B===c?(u++,t.consume(B),p):u<3?n(B):(t.exit("codeFencedFenceSequence"),kt(B)?sn(t,y,"whitespace")(B):y(B))}function y(B){return B===null||tt(B)?(t.exit("codeFencedFence"),r.interrupt?e(B):t.check(VA,R,L)(B)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),b(B))}function b(B){return B===null||tt(B)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(B)):kt(B)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),sn(t,T,"whitespace")(B)):B===96&&B===c?n(B):(t.consume(B),b)}function T(B){return B===null||tt(B)?y(B):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(B))}function C(B){return B===null||tt(B)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(B)):B===96&&B===c?n(B):(t.consume(B),C)}function R(B){return t.attempt(s,L,P)(B)}function P(B){return t.enter("lineEnding"),t.consume(B),t.exit("lineEnding"),w}function w(B){return o>0&&kt(B)?sn(t,N,"linePrefix",o+1)(B):N(B)}function N(B){return B===null||tt(B)?t.check(VA,R,L)(B):(t.enter("codeFlowValue"),M(B))}function M(B){return B===null||tt(B)?(t.exit("codeFlowValue"),N(B)):(t.consume(B),M)}function L(B){return t.exit("codeFenced"),e(B)}function q(B,S,x){let O=0;return H;function H(K){return B.enter("lineEnding"),B.consume(K),B.exit("lineEnding"),V}function V(K){return B.enter("codeFencedFence"),kt(K)?sn(B,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):F(K)}function F(K){return K===c?(B.enter("codeFencedFenceSequence"),k(K)):x(K)}function k(K){return K===c?(O++,B.consume(K),k):O>=u?(B.exit("codeFencedFenceSequence"),kt(K)?sn(B,U,"whitespace")(K):U(K)):x(K)}function U(K){return K===null||tt(K)?(B.exit("codeFencedFence"),S(K)):x(K)}}}function rB(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const Sy={name:"codeIndented",tokenize:sB},iB={partial:!0,tokenize:aB};function sB(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),sn(t,o,"linePrefix",5)(d)}function o(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?f(d):tt(d)?t.attempt(iB,u,f)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||tt(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),c)}function f(d){return t.exit("codeIndented"),e(d)}}function aB(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):tt(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):sn(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):tt(u)?s(u):n(u)}}const oB={name:"codeText",previous:lB,resolve:uB,tokenize:cB};function uB(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function lB(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function cB(t,e,n){let r=0,s,o;return u;function u(y){return t.enter("codeText"),t.enter("codeTextSequence"),c(y)}function c(y){return y===96?(t.consume(y),r++,c):(t.exit("codeTextSequence"),f(y))}function f(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),f):y===96?(o=t.enter("codeTextSequence"),s=0,p(y)):tt(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),f):(t.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||tt(y)?(t.exit("codeTextData"),f(y)):(t.consume(y),d)}function p(y){return y===96?(t.consume(y),s++,p):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(o.type="codeTextData",d(y))}}class hB{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&oh(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),oh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),oh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);oh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);oh(this.left,n.reverse())}}}function oh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function xN(t){const e={};let n=-1,r,s,o,u,c,f,d;const p=new hB(t);for(;++n<p.length;){for(;n in e;)n=e[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,fB(p,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(u=p.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,n),c.unshift(r),p.splice(s,n-s+1,c))}}return ks(t,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function fB(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,f=[],d={};let p,y,b=-1,T=n,C=0,R=0;const P=[R];for(;T;){for(;t.get(++s)[1]!==T;);o.push(s),T._tokenizer||(p=r.sliceStream(T),T.next||p.push(null),y&&u.defineSkip(T.start),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(p),T._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=T,T=T.next}for(T=n;++b<c.length;)c[b][0]==="exit"&&c[b-1][0]==="enter"&&c[b][1].type===c[b-1][1].type&&c[b][1].start.line!==c[b][1].end.line&&(R=b+1,P.push(R),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(u.events=[],T?(T._tokenizer=void 0,T.previous=void 0):P.pop(),b=P.length;b--;){const w=c.slice(P[b],P[b+1]),N=o.pop();f.push([N,N+w.length-1]),t.splice(N,2,w)}for(f.reverse(),b=-1;++b<f.length;)d[C+f[b][0]]=C+f[b][1],C+=f[b][1]-f[b][0]-1;return d}const dB={resolve:pB,tokenize:gB},mB={partial:!0,tokenize:yB};function pB(t){return xN(t),t}function gB(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):tt(c)?t.check(mB,u,o)(c):(t.consume(c),s)}function o(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function u(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function yB(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),sn(t,o,"linePrefix")}function o(u){if(u===null||tt(u))return n(u);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function wN(t,e,n,r,s,o,u,c,f){const d=f||Number.POSITIVE_INFINITY;let p=0;return y;function y(w){return w===60?(t.enter(r),t.enter(s),t.enter(o),t.consume(w),t.exit(o),b):w===null||w===32||w===41||IE(w)?n(w):(t.enter(r),t.enter(u),t.enter(c),t.enter("chunkString",{contentType:"string"}),R(w))}function b(w){return w===62?(t.enter(o),t.consume(w),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),T(w))}function T(w){return w===62?(t.exit("chunkString"),t.exit(c),b(w)):w===null||w===60||tt(w)?n(w):(t.consume(w),w===92?C:T)}function C(w){return w===60||w===62||w===92?(t.consume(w),T):T(w)}function R(w){return!p&&(w===null||w===41||Zr(w))?(t.exit("chunkString"),t.exit(c),t.exit(u),t.exit(r),e(w)):p<d&&w===40?(t.consume(w),p++,R):w===41?(t.consume(w),p--,R):w===null||w===32||w===40||IE(w)?n(w):(t.consume(w),w===92?P:R)}function P(w){return w===40||w===41||w===92?(t.consume(w),R):R(w)}}function IN(t,e,n,r,s,o){const u=this;let c=0,f;return d;function d(T){return t.enter(r),t.enter(s),t.consume(T),t.exit(s),t.enter(o),p}function p(T){return c>999||T===null||T===91||T===93&&!f||T===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(T):T===93?(t.exit(o),t.enter(s),t.consume(T),t.exit(s),t.exit(r),e):tt(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),p):(t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===null||T===91||T===93||tt(T)||c++>999?(t.exit("chunkString"),p(T)):(t.consume(T),f||(f=!kt(T)),T===92?b:y)}function b(T){return T===91||T===92||T===93?(t.consume(T),c++,y):y(T)}}function CN(t,e,n,r,s,o){let u;return c;function c(b){return b===34||b===39||b===40?(t.enter(r),t.enter(s),t.consume(b),t.exit(s),u=b===40?41:b,f):n(b)}function f(b){return b===u?(t.enter(s),t.consume(b),t.exit(s),t.exit(r),e):(t.enter(o),d(b))}function d(b){return b===u?(t.exit(o),f(u)):b===null?n(b):tt(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),sn(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),p(b))}function p(b){return b===u||b===null||tt(b)?(t.exit("chunkString"),d(b)):(t.consume(b),b===92?y:p)}function y(b){return b===u||b===92?(t.consume(b),p):p(b)}}function Oh(t,e){let n;return r;function r(s){return tt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):kt(s)?sn(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const EB={name:"definition",tokenize:bB},_B={partial:!0,tokenize:TB};function bB(t,e,n){const r=this;let s;return o;function o(T){return t.enter("definition"),u(T)}function u(T){return IN.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function c(T){return s=vl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),T===58?(t.enter("definitionMarker"),t.consume(T),t.exit("definitionMarker"),f):n(T)}function f(T){return Zr(T)?Oh(t,d)(T):d(T)}function d(T){return wN(t,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function p(T){return t.attempt(_B,y,y)(T)}function y(T){return kt(T)?sn(t,b,"whitespace")(T):b(T)}function b(T){return T===null||tt(T)?(t.exit("definition"),r.parser.defined.push(s),e(T)):n(T)}}function TB(t,e,n){return r;function r(c){return Zr(c)?Oh(t,s)(c):n(c)}function s(c){return CN(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return kt(c)?sn(t,u,"whitespace")(c):u(c)}function u(c){return c===null||tt(c)?e(c):n(c)}}const vB={name:"hardBreakEscape",tokenize:SB};function SB(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return tt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const AB={name:"headingAtx",resolve:xB,tokenize:wB};function xB(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ks(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function wB(t,e,n){let r=0;return s;function s(p){return t.enter("atxHeading"),o(p)}function o(p){return t.enter("atxHeadingSequence"),u(p)}function u(p){return p===35&&r++<6?(t.consume(p),u):p===null||Zr(p)?(t.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(t.enter("atxHeadingSequence"),f(p)):p===null||tt(p)?(t.exit("atxHeading"),e(p)):kt(p)?sn(t,c,"whitespace")(p):(t.enter("atxHeadingText"),d(p))}function f(p){return p===35?(t.consume(p),f):(t.exit("atxHeadingSequence"),c(p))}function d(p){return p===null||p===35||Zr(p)?(t.exit("atxHeadingText"),c(p)):(t.consume(p),d)}}const IB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zA=["pre","script","style","textarea"],CB={concrete:!0,name:"htmlFlow",resolveTo:DB,tokenize:OB},NB={partial:!0,tokenize:PB},RB={partial:!0,tokenize:kB};function DB(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function OB(t,e,n){const r=this;let s,o,u,c,f;return d;function d(z){return p(z)}function p(z){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(z),y}function y(z){return z===33?(t.consume(z),b):z===47?(t.consume(z),o=!0,R):z===63?(t.consume(z),s=3,r.interrupt?e:A):xs(z)?(t.consume(z),u=String.fromCharCode(z),P):n(z)}function b(z){return z===45?(t.consume(z),s=2,T):z===91?(t.consume(z),s=5,c=0,C):xs(z)?(t.consume(z),s=4,r.interrupt?e:A):n(z)}function T(z){return z===45?(t.consume(z),r.interrupt?e:A):n(z)}function C(z){const ge="CDATA[";return z===ge.charCodeAt(c++)?(t.consume(z),c===ge.length?r.interrupt?e:F:C):n(z)}function R(z){return xs(z)?(t.consume(z),u=String.fromCharCode(z),P):n(z)}function P(z){if(z===null||z===47||z===62||Zr(z)){const ge=z===47,Ce=u.toLowerCase();return!ge&&!o&&zA.includes(Ce)?(s=1,r.interrupt?e(z):F(z)):IB.includes(u.toLowerCase())?(s=6,ge?(t.consume(z),w):r.interrupt?e(z):F(z)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):o?N(z):M(z))}return z===45||gi(z)?(t.consume(z),u+=String.fromCharCode(z),P):n(z)}function w(z){return z===62?(t.consume(z),r.interrupt?e:F):n(z)}function N(z){return kt(z)?(t.consume(z),N):H(z)}function M(z){return z===47?(t.consume(z),H):z===58||z===95||xs(z)?(t.consume(z),L):kt(z)?(t.consume(z),M):H(z)}function L(z){return z===45||z===46||z===58||z===95||gi(z)?(t.consume(z),L):q(z)}function q(z){return z===61?(t.consume(z),B):kt(z)?(t.consume(z),q):M(z)}function B(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),f=z,S):kt(z)?(t.consume(z),B):x(z)}function S(z){return z===f?(t.consume(z),f=null,O):z===null||tt(z)?n(z):(t.consume(z),S)}function x(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||Zr(z)?q(z):(t.consume(z),x)}function O(z){return z===47||z===62||kt(z)?M(z):n(z)}function H(z){return z===62?(t.consume(z),V):n(z)}function V(z){return z===null||tt(z)?F(z):kt(z)?(t.consume(z),V):n(z)}function F(z){return z===45&&s===2?(t.consume(z),j):z===60&&s===1?(t.consume(z),W):z===62&&s===4?(t.consume(z),ee):z===63&&s===3?(t.consume(z),A):z===93&&s===5?(t.consume(z),ne):tt(z)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(NB,ae,k)(z)):z===null||tt(z)?(t.exit("htmlFlowData"),k(z)):(t.consume(z),F)}function k(z){return t.check(RB,U,ae)(z)}function U(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),K}function K(z){return z===null||tt(z)?k(z):(t.enter("htmlFlowData"),F(z))}function j(z){return z===45?(t.consume(z),A):F(z)}function W(z){return z===47?(t.consume(z),u="",ie):F(z)}function ie(z){if(z===62){const ge=u.toLowerCase();return zA.includes(ge)?(t.consume(z),ee):F(z)}return xs(z)&&u.length<8?(t.consume(z),u+=String.fromCharCode(z),ie):F(z)}function ne(z){return z===93?(t.consume(z),A):F(z)}function A(z){return z===62?(t.consume(z),ee):z===45&&s===2?(t.consume(z),A):F(z)}function ee(z){return z===null||tt(z)?(t.exit("htmlFlowData"),ae(z)):(t.consume(z),ee)}function ae(z){return t.exit("htmlFlow"),e(z)}}function kB(t,e,n){const r=this;return s;function s(u){return tt(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function PB(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(H0,e,n)}}const LB={name:"htmlText",tokenize:MB};function MB(t,e,n){const r=this;let s,o,u;return c;function c(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),f}function f(A){return A===33?(t.consume(A),d):A===47?(t.consume(A),q):A===63?(t.consume(A),M):xs(A)?(t.consume(A),x):n(A)}function d(A){return A===45?(t.consume(A),p):A===91?(t.consume(A),o=0,C):xs(A)?(t.consume(A),N):n(A)}function p(A){return A===45?(t.consume(A),T):n(A)}function y(A){return A===null?n(A):A===45?(t.consume(A),b):tt(A)?(u=y,W(A)):(t.consume(A),y)}function b(A){return A===45?(t.consume(A),T):y(A)}function T(A){return A===62?j(A):A===45?b(A):y(A)}function C(A){const ee="CDATA[";return A===ee.charCodeAt(o++)?(t.consume(A),o===ee.length?R:C):n(A)}function R(A){return A===null?n(A):A===93?(t.consume(A),P):tt(A)?(u=R,W(A)):(t.consume(A),R)}function P(A){return A===93?(t.consume(A),w):R(A)}function w(A){return A===62?j(A):A===93?(t.consume(A),w):R(A)}function N(A){return A===null||A===62?j(A):tt(A)?(u=N,W(A)):(t.consume(A),N)}function M(A){return A===null?n(A):A===63?(t.consume(A),L):tt(A)?(u=M,W(A)):(t.consume(A),M)}function L(A){return A===62?j(A):M(A)}function q(A){return xs(A)?(t.consume(A),B):n(A)}function B(A){return A===45||gi(A)?(t.consume(A),B):S(A)}function S(A){return tt(A)?(u=S,W(A)):kt(A)?(t.consume(A),S):j(A)}function x(A){return A===45||gi(A)?(t.consume(A),x):A===47||A===62||Zr(A)?O(A):n(A)}function O(A){return A===47?(t.consume(A),j):A===58||A===95||xs(A)?(t.consume(A),H):tt(A)?(u=O,W(A)):kt(A)?(t.consume(A),O):j(A)}function H(A){return A===45||A===46||A===58||A===95||gi(A)?(t.consume(A),H):V(A)}function V(A){return A===61?(t.consume(A),F):tt(A)?(u=V,W(A)):kt(A)?(t.consume(A),V):O(A)}function F(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),s=A,k):tt(A)?(u=F,W(A)):kt(A)?(t.consume(A),F):(t.consume(A),U)}function k(A){return A===s?(t.consume(A),s=void 0,K):A===null?n(A):tt(A)?(u=k,W(A)):(t.consume(A),k)}function U(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Zr(A)?O(A):(t.consume(A),U)}function K(A){return A===47||A===62||Zr(A)?O(A):n(A)}function j(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function W(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),ie}function ie(A){return kt(A)?sn(t,ne,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):ne(A)}function ne(A){return t.enter("htmlTextData"),u(A)}}const h1={name:"labelEnd",resolveAll:HB,resolveTo:zB,tokenize:FB},BB={tokenize:jB},UB={tokenize:qB},VB={tokenize:YB};function HB(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&ks(t,0,t.length,n),t}function zB(t,e){let n=t.length,r=0,s,o,u,c;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const f={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},p={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=Ui(c,t.slice(o+1,o+r+3)),c=Ui(c,[["enter",p,e]]),c=Ui(c,c1(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),c=Ui(c,[["exit",p,e],t[u-2],t[u-1],["exit",d,e]]),c=Ui(c,t.slice(u+1)),c=Ui(c,[["exit",f,e]]),ks(t,o,t.length,c),t}function FB(t,e,n){const r=this;let s=r.events.length,o,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(b){return o?o._inactive?y(b):(u=r.parser.defined.includes(vl(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(b),t.exit("labelMarker"),t.exit("labelEnd"),f):n(b)}function f(b){return b===40?t.attempt(BB,p,u?p:y)(b):b===91?t.attempt(UB,p,u?d:y)(b):u?p(b):y(b)}function d(b){return t.attempt(VB,p,y)(b)}function p(b){return e(b)}function y(b){return o._balanced=!0,n(b)}}function jB(t,e,n){return r;function r(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),s}function s(y){return Zr(y)?Oh(t,o)(y):o(y)}function o(y){return y===41?p(y):wN(t,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return Zr(y)?Oh(t,f)(y):p(y)}function c(y){return n(y)}function f(y){return y===34||y===39||y===40?CN(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):p(y)}function d(y){return Zr(y)?Oh(t,p)(y):p(y)}function p(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):n(y)}}function qB(t,e,n){const r=this;return s;function s(c){return IN.call(r,t,o,u,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(vl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function u(c){return n(c)}}function YB(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const GB={name:"labelStartImage",resolveAll:h1.resolveAll,tokenize:$B};function $B(t,e,n){const r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),o}function o(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const XB={name:"labelStartLink",resolveAll:h1.resolveAll,tokenize:KB};function KB(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Ay={name:"lineEnding",tokenize:QB};function QB(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),sn(t,e,"linePrefix")}}const Sm={name:"thematicBreak",tokenize:WB};function WB(t,e,n){let r=0,s;return o;function o(d){return t.enter("thematicBreak"),u(d)}function u(d){return s=d,c(d)}function c(d){return d===s?(t.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||tt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function f(d){return d===s?(t.consume(d),r++,f):(t.exit("thematicBreakSequence"),kt(d)?sn(t,c,"whitespace")(d):c(d))}}const Xr={continuation:{tokenize:t7},exit:r7,name:"list",tokenize:e7},ZB={partial:!0,tokenize:i7},JB={partial:!0,tokenize:n7};function e7(t,e,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return c;function c(T){const C=r.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||T===r.containerState.marker:CE(T)){if(r.containerState.type||(r.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),T===42||T===45?t.check(Sm,n,d)(T):d(T);if(!r.interrupt||T===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(T)}return n(T)}function f(T){return CE(T)&&++u<10?(t.consume(T),f):(!r.interrupt||u<2)&&(r.containerState.marker?T===r.containerState.marker:T===41||T===46)?(t.exit("listItemValue"),d(T)):n(T)}function d(T){return t.enter("listItemMarker"),t.consume(T),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||T,t.check(H0,r.interrupt?n:p,t.attempt(ZB,b,y))}function p(T){return r.containerState.initialBlankLine=!0,o++,b(T)}function y(T){return kt(T)?(t.enter("listItemPrefixWhitespace"),t.consume(T),t.exit("listItemPrefixWhitespace"),b):n(T)}function b(T){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(T)}}function t7(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(H0,s,o);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,sn(t,e,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!kt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(JB,e,u)(c))}function u(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,sn(t,t.attempt(Xr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function n7(t,e,n){const r=this;return sn(t,s,"listItemIndent",r.containerState.size+1);function s(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function r7(t){t.exit(this.containerState.type)}function i7(t,e,n){const r=this;return sn(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=r.events[r.events.length-1];return!kt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const FA={name:"setextUnderline",resolveTo:s7,tokenize:a7};function s7(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function a7(t,e,n){const r=this;let s;return o;function o(d){let p=r.events.length,y;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){y=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(t.enter("setextHeadingLine"),s=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),kt(d)?sn(t,f,"lineSuffix")(d):f(d))}function f(d){return d===null||tt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const o7={tokenize:u7};function u7(t){const e=this,n=t.attempt(H0,r,t.attempt(this.parser.constructs.flowInitial,s,sn(t,t.attempt(this.parser.constructs.flow,s,t.attempt(dB,s)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const l7={resolveAll:RN()},c7=NN("string"),h7=NN("text");function NN(t){return{resolveAll:RN(t==="text"?f7:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],o=n.attempt(s,u,c);return u;function u(p){return d(p)?o(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),f}function f(p){return d(p)?(n.exit("data"),o(p)):(n.consume(p),f)}function d(p){if(p===null)return!0;const y=s[p];let b=-1;if(y)for(;++b<y.length;){const T=y[b];if(!T.previous||T.previous.call(r,r.previous))return!0}return!1}}}function RN(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function f7(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let o=s.length,u=-1,c=0,f;for(;o--;){const d=s[o];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(d===-2)f=!0,c++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const d7={42:Xr,43:Xr,45:Xr,48:Xr,49:Xr,50:Xr,51:Xr,52:Xr,53:Xr,54:Xr,55:Xr,56:Xr,57:Xr,62:vN},m7={91:EB},p7={[-2]:Sy,[-1]:Sy,32:Sy},g7={35:AB,42:Sm,45:[FA,Sm],60:CB,61:FA,95:Sm,96:HA,126:HA},y7={38:AN,92:SN},E7={[-5]:Ay,[-4]:Ay,[-3]:Ay,33:GB,38:AN,42:NE,60:[X9,LB],91:XB,92:[vB,SN],93:h1,95:NE,96:oB},_7={null:[NE,l7]},b7={null:[42,95]},T7={null:[]},v7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:b7,contentInitial:m7,disable:T7,document:d7,flow:g7,flowInitial:p7,insideSpan:_7,string:y7,text:E7},Symbol.toStringTag,{value:"Module"}));function S7(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],c=[];const f={attempt:S(q),check:S(B),consume:N,enter:M,exit:L,interrupt:S(B,{interrupt:!0})},d={code:null,containerState:{},defineSkip:R,events:[],now:C,parser:t,previous:null,sliceSerialize:b,sliceStream:T,write:y};let p=e.tokenize.call(d,f);return e.resolveAll&&o.push(e),d;function y(V){return u=Ui(u,V),P(),u[u.length-1]!==null?[]:(x(e,0),d.events=c1(o,d.events,d),d.events)}function b(V,F){return x7(T(V),F)}function T(V){return A7(u,V)}function C(){const{_bufferIndex:V,_index:F,line:k,column:U,offset:K}=r;return{_bufferIndex:V,_index:F,line:k,column:U,offset:K}}function R(V){s[V.line]=V.column,H()}function P(){let V;for(;r._index<u.length;){const F=u[r._index];if(typeof F=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<F.length;)w(F.charCodeAt(r._bufferIndex));else w(F)}}function w(V){p=p(V)}function N(V){tt(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,H()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=V}function M(V,F){const k=F||{};return k.type=V,k.start=C(),d.events.push(["enter",k,d]),c.push(k),k}function L(V){const F=c.pop();return F.end=C(),d.events.push(["exit",F,d]),F}function q(V,F){x(V,F.from)}function B(V,F){F.restore()}function S(V,F){return k;function k(U,K,j){let W,ie,ne,A;return Array.isArray(U)?ae(U):"tokenize"in U?ae([U]):ee(U);function ee(we){return Fe;function Fe(xe){const Le=xe!==null&&we[xe],He=xe!==null&&we.null,Je=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(He)?He:He?[He]:[]];return ae(Je)(xe)}}function ae(we){return W=we,ie=0,we.length===0?j:z(we[ie])}function z(we){return Fe;function Fe(xe){return A=O(),ne=we,we.partial||(d.currentConstruct=we),we.name&&d.parser.constructs.disable.null.includes(we.name)?Ce():we.tokenize.call(F?Object.assign(Object.create(d),F):d,f,ge,Ce)(xe)}}function ge(we){return V(ne,A),K}function Ce(we){return A.restore(),++ie<W.length?z(W[ie]):j}}}function x(V,F){V.resolveAll&&!o.includes(V)&&o.push(V),V.resolve&&ks(d.events,F,d.events.length-F,V.resolve(d.events.slice(F),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function O(){const V=C(),F=d.previous,k=d.currentConstruct,U=d.events.length,K=Array.from(c);return{from:U,restore:j};function j(){r=V,d.previous=F,d.currentConstruct=k,d.events.length=U,c=K,H()}}function H(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function A7(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,o)];else{if(u=t.slice(n,s),r>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(r):u.shift()}o>0&&u.push(t[s].slice(0,o))}return u}function x7(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,r.push(u)}return r.join("")}function w7(t){const r={constructs:k9([v7,...(t||{}).extensions||[]]),content:s(z9),defined:[],document:s(j9),flow:s(o7),lazy:{},string:s(c7),text:s(h7)};return r;function s(o){return u;function u(c){return S7(r,o,c)}}}function I7(t){for(;!xN(t););return t}const jA=/[\0\t\n\r]/g;function C7(){let t=1,e="",n=!0,r;return s;function s(o,u,c){const f=[];let d,p,y,b,T;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),y=0,e="",n&&(o.charCodeAt(0)===65279&&y++,n=void 0);y<o.length;){if(jA.lastIndex=y,d=jA.exec(o),b=d&&d.index!==void 0?d.index:o.length,T=o.charCodeAt(b),!d){e=o.slice(y);break}if(T===10&&y===b&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),y<b&&(f.push(o.slice(y,b)),t+=b-y),T){case 0:{f.push(65533),t++;break}case 9:{for(p=Math.ceil(t/4)*4,f.push(-2);t++<p;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}y=b+1}return c&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const N7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function R7(t){return t.replace(N7,D7)}function D7(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return TN(n.slice(o?2:1),o?16:10)}return l1(n)||t}const DN={}.hasOwnProperty;function O7(t,e,n){return typeof e!="string"&&(n=e,e=void 0),k7(n)(I7(w7(n).document().write(C7()(t,e,!0))))}function k7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(cn),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(Dt),blockQuote:o(He),characterEscape:O,characterReference:O,codeFenced:o(Je),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Je,u),codeText:o(an,u),codeTextData:O,data:O,codeFlowValue:O,definition:o(Jt),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(on),hardBreakEscape:o(Dn),hardBreakTrailing:o(Dn),htmlFlow:o(Qe,u),htmlFlowData:O,htmlText:o(Qe,u),htmlTextData:O,image:o(je),label:u,link:o(cn),listItem:o(Hn),listItemValue:b,listOrdered:o(Vn,y),listUnordered:o(Vn),paragraph:o(Kn),reference:z,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Dt),strong:o(zn),thematicBreak:o(or)},exit:{atxHeading:f(),atxHeadingSequence:q,autolink:f(),autolinkEmail:Le,autolinkProtocol:xe,blockQuote:f(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:we,characterReference:Fe,codeFenced:f(P),codeFencedFence:R,codeFencedFenceInfo:T,codeFencedFenceMeta:C,codeFlowValue:H,codeIndented:f(w),codeText:f(K),codeTextData:H,data:H,definition:f(),definitionDestinationString:L,definitionLabelString:N,definitionTitleString:M,emphasis:f(),hardBreakEscape:f(F),hardBreakTrailing:f(F),htmlFlow:f(k),htmlFlowData:H,htmlText:f(U),htmlTextData:H,image:f(W),label:ne,labelText:ie,lineEnding:V,link:f(j),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ge,resourceDestinationString:A,resourceTitleString:ee,resource:ae,setextHeading:f(x),setextHeadingLineSequence:S,setextHeadingText:B,strong:f(),thematicBreak:f()}};ON(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(fe){let be={type:"root",children:[]};const Ve={stack:[be],tokenStack:[],config:e,enter:c,exit:d,buffer:u,resume:p,data:n},qe=[];let ut=-1;for(;++ut<fe.length;)if(fe[ut][1].type==="listOrdered"||fe[ut][1].type==="listUnordered")if(fe[ut][0]==="enter")qe.push(ut);else{const Tt=qe.pop();ut=s(fe,Tt,ut)}for(ut=-1;++ut<fe.length;){const Tt=e[fe[ut][0]];DN.call(Tt,fe[ut][1].type)&&Tt[fe[ut][1].type].call(Object.assign({sliceSerialize:fe[ut][2].sliceSerialize},Ve),fe[ut][1])}if(Ve.tokenStack.length>0){const Tt=Ve.tokenStack[Ve.tokenStack.length-1];(Tt[1]||qA).call(Ve,void 0,Tt[0])}for(be.position={start:qa(fe.length>0?fe[0][1].start:{line:1,column:1,offset:0}),end:qa(fe.length>0?fe[fe.length-2][1].end:{line:1,column:1,offset:0})},ut=-1;++ut<e.transforms.length;)be=e.transforms[ut](be)||be;return be}function s(fe,be,Ve){let qe=be-1,ut=-1,Tt=!1,Ht,zt,Ft,vt;for(;++qe<=Ve;){const lt=fe[qe];switch(lt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{lt[0]==="enter"?ut++:ut--,vt=void 0;break}case"lineEndingBlank":{lt[0]==="enter"&&(Ht&&!vt&&!ut&&!Ft&&(Ft=qe),vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vt=void 0}if(!ut&&lt[0]==="enter"&&lt[1].type==="listItemPrefix"||ut===-1&&lt[0]==="exit"&&(lt[1].type==="listUnordered"||lt[1].type==="listOrdered")){if(Ht){let Wt=qe;for(zt=void 0;Wt--;){const Gt=fe[Wt];if(Gt[1].type==="lineEnding"||Gt[1].type==="lineEndingBlank"){if(Gt[0]==="exit")continue;zt&&(fe[zt][1].type="lineEndingBlank",Tt=!0),Gt[1].type="lineEnding",zt=Wt}else if(!(Gt[1].type==="linePrefix"||Gt[1].type==="blockQuotePrefix"||Gt[1].type==="blockQuotePrefixWhitespace"||Gt[1].type==="blockQuoteMarker"||Gt[1].type==="listItemIndent"))break}Ft&&(!zt||Ft<zt)&&(Ht._spread=!0),Ht.end=Object.assign({},zt?fe[zt][1].start:lt[1].end),fe.splice(zt||qe,0,["exit",Ht,lt[2]]),qe++,Ve++}if(lt[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},lt[1].start),end:void 0};Ht=Wt,fe.splice(qe,0,["enter",Wt,lt[2]]),qe++,Ve++,Ft=void 0,vt=!0}}}return fe[be][1]._spread=Tt,Ve}function o(fe,be){return Ve;function Ve(qe){c.call(this,fe(qe),qe),be&&be.call(this,qe)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(fe,be,Ve){this.stack[this.stack.length-1].children.push(fe),this.stack.push(fe),this.tokenStack.push([be,Ve||void 0]),fe.position={start:qa(be.start),end:void 0}}function f(fe){return be;function be(Ve){fe&&fe.call(this,Ve),d.call(this,Ve)}}function d(fe,be){const Ve=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==fe.type&&(be?be.call(this,fe,qe[0]):(qe[1]||qA).call(this,fe,qe[0]));else throw new Error("Cannot close `"+fe.type+"` ("+Dh({start:fe.start,end:fe.end})+"): its not open");Ve.position.end=qa(fe.end)}function p(){return D9(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function b(fe){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(fe),10),this.data.expectingFirstListItemValue=void 0}}function T(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.lang=fe}function C(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.meta=fe}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.value=fe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.value=fe.replace(/(\r?\n|\r)$/g,"")}function N(fe){const be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=be,Ve.identifier=vl(this.sliceSerialize(fe)).toLowerCase()}function M(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.title=fe}function L(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.url=fe}function q(fe){const be=this.stack[this.stack.length-1];if(!be.depth){const Ve=this.sliceSerialize(fe).length;be.depth=Ve}}function B(){this.data.setextHeadingSlurpLineEnding=!0}function S(fe){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(fe).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function O(fe){const Ve=this.stack[this.stack.length-1].children;let qe=Ve[Ve.length-1];(!qe||qe.type!=="text")&&(qe=vn(),qe.position={start:qa(fe.start),end:void 0},Ve.push(qe)),this.stack.push(qe)}function H(fe){const be=this.stack.pop();be.value+=this.sliceSerialize(fe),be.position.end=qa(fe.end)}function V(fe){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=be.children[be.children.length-1];Ve.position.end=qa(fe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(be.type)&&(O.call(this,fe),H.call(this,fe))}function F(){this.data.atHardBreak=!0}function k(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.value=fe}function U(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.value=fe}function K(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.value=fe}function j(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=be,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function W(){const fe=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";fe.type+="Reference",fe.referenceType=be,delete fe.url,delete fe.title}else delete fe.identifier,delete fe.label;this.data.referenceType=void 0}function ie(fe){const be=this.sliceSerialize(fe),Ve=this.stack[this.stack.length-2];Ve.label=R7(be),Ve.identifier=vl(be).toLowerCase()}function ne(){const fe=this.stack[this.stack.length-1],be=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const qe=fe.children;Ve.children=qe}else Ve.alt=be}function A(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.url=fe}function ee(){const fe=this.resume(),be=this.stack[this.stack.length-1];be.title=fe}function ae(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function ge(fe){const be=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=be,Ve.identifier=vl(this.sliceSerialize(fe)).toLowerCase(),this.data.referenceType="full"}function Ce(fe){this.data.characterReferenceType=fe.type}function we(fe){const be=this.sliceSerialize(fe),Ve=this.data.characterReferenceType;let qe;Ve?(qe=TN(be,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=l1(be);const ut=this.stack[this.stack.length-1];ut.value+=qe}function Fe(fe){const be=this.stack.pop();be.position.end=qa(fe.end)}function xe(fe){H.call(this,fe);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(fe)}function Le(fe){H.call(this,fe);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(fe)}function He(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function an(){return{type:"inlineCode",value:""}}function Jt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function on(){return{type:"emphasis",children:[]}}function Dt(){return{type:"heading",depth:0,children:[]}}function Dn(){return{type:"break"}}function Qe(){return{type:"html",value:""}}function je(){return{type:"image",title:null,url:"",alt:null}}function cn(){return{type:"link",title:null,url:"",children:[]}}function Vn(fe){return{type:"list",ordered:fe.type==="listOrdered",start:null,spread:fe._spread,children:[]}}function Hn(fe){return{type:"listItem",spread:fe._spread,checked:null,children:[]}}function Kn(){return{type:"paragraph",children:[]}}function zn(){return{type:"strong",children:[]}}function vn(){return{type:"text",value:""}}function or(){return{type:"thematicBreak"}}}function qa(t){return{line:t.line,column:t.column,offset:t.offset}}function ON(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ON(t,r):P7(t,r)}}function P7(t,e){let n;for(n in e)if(DN.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function qA(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Dh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Dh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Dh({start:e.start,end:e.end})+") is still open")}function L7(t){const e=this;e.parser=n;function n(r){return O7(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function M7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function B7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function U7(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function V7(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function H7(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function z7(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=Wl(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,c+=1,t.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,d),t.applyData(e,d)}function F7(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function j7(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function kN(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function q7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return kN(t,e);const s={src:Wl(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function Y7(t,e){const n={src:Wl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function G7(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function $7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return kN(t,e);const s={href:Wl(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function X7(t,e){const n={href:Wl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function K7(t,e,n){const r=t.all(e),s=n?Q7(n):PN(e),o={},u=[];if(typeof e.checked=="boolean"){const p=r[0];let y;p&&p.type==="element"&&p.tagName==="p"?y=p:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?u.push(...p.children):u.push(p)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,d),t.applyData(e,d)}function Q7(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=PN(n[r])}return e}function PN(t){const e=t.spread;return e??t.children.length>1}function W7(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function Z7(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function J7(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function eU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function tU(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=Ls(e.children[1]),f=V0(e.children[e.children.length-1]);c&&f&&(u.position={start:c,end:f}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function nU(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const y=e.children[f],b={},T=u?u[f]:void 0;T&&(b.align=T);let C={type:"element",tagName:o,properties:b,children:[]};y&&(C.children=t.all(y),t.patch(y,C),C=t.applyData(y,C)),d.push(C)}const p={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,p),t.applyData(e,p)}function rU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const YA=9,GA=32;function iU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const o=[];for(;r;)o.push($A(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return o.push($A(e.slice(s),s>0,!1)),o.join("")}function $A(t,e,n){let r=0,s=t.length;if(e){let o=t.codePointAt(r);for(;o===YA||o===GA;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(s-1);for(;o===YA||o===GA;)s--,o=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function sU(t,e){const n={type:"text",value:iU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function aU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const oU={blockquote:M7,break:B7,code:U7,delete:V7,emphasis:H7,footnoteReference:z7,heading:F7,html:j7,imageReference:q7,image:Y7,inlineCode:G7,linkReference:$7,link:X7,listItem:K7,list:W7,paragraph:Z7,root:J7,strong:eU,table:tU,tableCell:rU,tableRow:nU,text:sU,thematicBreak:aU,toml:em,yaml:em,definition:em,footnoteDefinition:em};function em(){}const LN=-1,z0=0,kh=1,Wm=2,f1=3,d1=4,m1=5,p1=6,MN=7,BN=8,XA=typeof self=="object"?self:globalThis,uU=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),r=s=>{if(t.has(s))return t.get(s);const[o,u]=e[s];switch(o){case z0:case LN:return n(u,s);case kh:{const c=n([],s);for(const f of u)c.push(r(f));return c}case Wm:{const c=n({},s);for(const[f,d]of u)c[r(f)]=r(d);return c}case f1:return n(new Date(u),s);case d1:{const{source:c,flags:f}=u;return n(new RegExp(c,f),s)}case m1:{const c=n(new Map,s);for(const[f,d]of u)c.set(r(f),r(d));return c}case p1:{const c=n(new Set,s);for(const f of u)c.add(r(f));return c}case MN:{const{name:c,message:f}=u;return n(new XA[c](f),s)}case BN:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new XA[o](u),s)};return r},KA=t=>uU(new Map,t)(0),il="",{toString:lU}={},{keys:cU}=Object,uh=t=>{const e=typeof t;if(e!=="object"||!t)return[z0,e];const n=lU.call(t).slice(8,-1);switch(n){case"Array":return[kh,il];case"Object":return[Wm,il];case"Date":return[f1,il];case"RegExp":return[d1,il];case"Map":return[m1,il];case"Set":return[p1,il];case"DataView":return[kh,n]}return n.includes("Array")?[kh,n]:n.includes("Error")?[MN,n]:[Wm,n]},tm=([t,e])=>t===z0&&(e==="function"||e==="symbol"),hU=(t,e,n,r)=>{const s=(u,c)=>{const f=r.push(u)-1;return n.set(c,f),f},o=u=>{if(n.has(u))return n.get(u);let[c,f]=uh(u);switch(c){case z0:{let p=u;switch(f){case"bigint":c=BN,p=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);p=null;break;case"undefined":return s([LN],u)}return s([c,p],u)}case kh:{if(f){let b=u;return f==="DataView"?b=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(b=new Uint8Array(u)),s([f,[...b]],u)}const p=[],y=s([c,p],u);for(const b of u)p.push(o(b));return y}case Wm:{if(f)switch(f){case"BigInt":return s([f,u.toString()],u);case"Boolean":case"Number":case"String":return s([f,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const p=[],y=s([c,p],u);for(const b of cU(u))(t||!tm(uh(u[b])))&&p.push([o(b),o(u[b])]);return y}case f1:return s([c,u.toISOString()],u);case d1:{const{source:p,flags:y}=u;return s([c,{source:p,flags:y}],u)}case m1:{const p=[],y=s([c,p],u);for(const[b,T]of u)(t||!(tm(uh(b))||tm(uh(T))))&&p.push([o(b),o(T)]);return y}case p1:{const p=[],y=s([c,p],u);for(const b of u)(t||!tm(uh(b)))&&p.push(o(b));return y}}const{message:d}=u;return s([c,{name:f,message:d}],u)};return o},QA=(t,{json:e,lossy:n}={})=>{const r=[];return hU(!(e||n),!!e,new Map,r)(t),r},Ml=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?KA(QA(t,e)):structuredClone(t):(t,e)=>KA(QA(t,e));function fU(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function dU(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function mU(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||fU,r=t.options.footnoteBackLabel||dU,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[f]);if(!d)continue;const p=t.all(d),y=String(d.identifier).toUpperCase(),b=Wl(y.toLowerCase());let T=0;const C=[],R=t.footnoteCounts.get(y);for(;R!==void 0&&++T<=R;){C.length>0&&C.push({type:"text",value:" "});let N=typeof n=="string"?n:n(f,T);typeof N=="string"&&(N={type:"text",value:N}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+b+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,T),className:["data-footnote-backref"]},children:Array.isArray(N)?N:[N]})}const P=p[p.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const N=P.children[P.children.length-1];N&&N.type==="text"?N.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...C)}else p.push(...C);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+b},children:t.wrap(p,!0)};t.patch(d,w),c.push(w)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Ml(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const UN=function(t){if(t==null)return EU;if(typeof t=="function")return F0(t);if(typeof t=="object")return Array.isArray(t)?pU(t):gU(t);if(typeof t=="string")return yU(t);throw new Error("Expected function, string, or object as test")};function pU(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=UN(t[n]);return F0(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function gU(t){const e=t;return F0(n);function n(r){const s=r;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function yU(t){return F0(e);function e(n){return n&&n.type===t}}function F0(t){return e;function e(n,r,s){return!!(_U(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function EU(){return!0}function _U(t){return t!==null&&typeof t=="object"&&"type"in t}const VN=[],bU=!0,WA=!1,TU="skip";function vU(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const o=UN(s),u=r?-1:1;c(t,void 0,[])();function c(f,d,p){const y=f&&typeof f=="object"?f:{};if(typeof y.type=="string"){const T=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(b,"name",{value:"node ("+(f.type+(T?"<"+T+">":""))+")"})}return b;function b(){let T=VN,C,R,P;if((!e||o(f,d,p[p.length-1]||void 0))&&(T=SU(n(f,p)),T[0]===WA))return T;if("children"in f&&f.children){const w=f;if(w.children&&T[0]!==TU)for(R=(r?w.children.length:-1)+u,P=p.concat(w);R>-1&&R<w.children.length;){const N=w.children[R];if(C=c(N,R,P)(),C[0]===WA)return C;R=typeof C[1]=="number"?C[1]:R+u}}return T}}}function SU(t){return Array.isArray(t)?t:typeof t=="number"?[bU,t]:t==null?VN:[t]}function g1(t,e,n,r){let s,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,s=n):(o=e,u=n,s=r),vU(t,o,c,s);function c(f,d){const p=d[d.length-1],y=p?p.children.indexOf(f):void 0;return u(f,y,p)}}const RE={}.hasOwnProperty,AU={};function xU(t,e){const n=e||AU,r=new Map,s=new Map,o=new Map,u={...oU,...n.handlers},c={all:d,applyData:IU,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:wU,wrap:NU};return g1(t,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const y=p.type==="definition"?r:s,b=String(p.identifier).toUpperCase();y.has(b)||y.set(b,p)}}),c;function f(p,y){const b=p.type,T=c.handlers[b];if(RE.call(c.handlers,b)&&T)return T(c,p,y);if(c.options.passThrough&&c.options.passThrough.includes(b)){if("children"in p){const{children:R,...P}=p,w=Ml(P);return w.children=c.all(p),w}return Ml(p)}return(c.options.unknownHandler||CU)(c,p,y)}function d(p){const y=[];if("children"in p){const b=p.children;let T=-1;for(;++T<b.length;){const C=c.one(b[T],p);if(C){if(T&&b[T-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=ZA(C.value)),!Array.isArray(C)&&C.type==="element")){const R=C.children[0];R&&R.type==="text"&&(R.value=ZA(R.value))}Array.isArray(C)?y.push(...C):y.push(C)}}}return y}}function wU(t,e){t.position&&(e.position=l9(t))}function IU(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Ml(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function CU(t,e){const n=e.data||{},r="value"in e&&!(RE.call(n,"hProperties")||RE.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function NU(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ZA(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function JA(t,e){const n=xU(t,e),r=n.one(t,void 0),s=mU(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function RU(t,e){return t&&"run"in t?async function(n,r){const s=JA(n,{file:r,...e});await t.run(s,r)}:function(n,r){return JA(n,{file:r,...t||e})}}function ex(t){if(t)throw t}var xy,tx;function DU(){if(tx)return xy;tx=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=t.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!y)return!1;var b;for(b in d);return typeof b>"u"||t.call(d,b)},u=function(d,p){n&&p.name==="__proto__"?n(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},c=function(d,p){if(p==="__proto__")if(t.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return xy=function f(){var d,p,y,b,T,C,R=arguments[0],P=1,w=arguments.length,N=!1;for(typeof R=="boolean"&&(N=R,R=arguments[1]||{},P=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});P<w;++P)if(d=arguments[P],d!=null)for(p in d)y=c(R,p),b=c(d,p),R!==b&&(N&&b&&(o(b)||(T=s(b)))?(T?(T=!1,C=y&&s(y)?y:[]):C=y&&o(y)?y:{},u(R,{name:p,newValue:f(N,C,b)})):typeof b<"u"&&u(R,{name:p,newValue:b}));return R},xy}var OU=DU();const wy=h0(OU);function DE(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function kU(){const t=[],e={run:n,use:r};return e;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...s);function c(f,...d){const p=t[++o];let y=-1;if(f){u(f);return}for(;++y<s.length;)(d[y]===null||d[y]===void 0)&&(d[y]=s[y]);s=d,p?PU(p,c)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function PU(t,e){let n;return r;function r(...u){const c=t.length>u.length;let f;c&&u.push(s);try{f=t.apply(this,u)}catch(d){const p=d;if(c&&n)throw p;return s(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(u,...c){n||(n=!0,e(u,...c))}function o(u){s(null,u)}}const Ts={basename:LU,dirname:MU,extname:BU,join:UU,sep:"/"};function LU(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Tf(t);let n=0,r=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function MU(t){if(Tf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function BU(t){Tf(t);let e=t.length,n=-1,r=0,s=-1,o=0,u;for(;e--;){const c=t.codePointAt(e);if(c===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function UU(...t){let e=-1,n;for(;++e<t.length;)Tf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":VU(n)}function VU(t){Tf(t);const e=t.codePointAt(0)===47;let n=HU(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function HU(t,e){let n="",r=0,s=-1,o=0,u=-1,c,f;for(;++u<=t.length;){if(u<t.length)c=t.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",r=0,s=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,o=0}else c===46&&o>-1?o++:o=-1}return n}function Tf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const zU={cwd:FU};function FU(){return"/"}function OE(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function jU(t){if(typeof t=="string")t=new URL(t);else if(!OE(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return qU(t)}function qU(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Iy=["history","path","basename","stem","extname","dirname"];class HN{constructor(e){let n;e?OE(e)?n={path:e}:typeof e=="string"||YU(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":zU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Iy.length;){const o=Iy[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Iy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Ts.basename(this.path):void 0}set basename(e){Ny(e,"basename"),Cy(e,"basename"),this.path=Ts.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ts.dirname(this.path):void 0}set dirname(e){nx(this.basename,"dirname"),this.path=Ts.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ts.extname(this.path):void 0}set extname(e){if(Cy(e,"extname"),nx(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ts.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){OE(e)&&(e=jU(e)),Ny(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ts.basename(this.path,this.extname):void 0}set stem(e){Ny(e,"stem"),Cy(e,"stem"),this.path=Ts.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Cr(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Cy(t,e){if(t&&t.includes(Ts.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ts.sep+"`")}function Ny(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function nx(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function YU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const GU=function(t){const r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},$U={}.hasOwnProperty;class y1 extends GU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=kU()}copy(){const e=new y1;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(wy(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Oy("data",this.frozen),this.namespace[e]=n,this):$U.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Oy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=nm(e),r=this.parser||this.Parser;return Ry("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ry("process",this.parser||this.Parser),Dy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const c=nm(e),f=r.parse(c);r.run(f,c,function(p,y,b){if(p||!y||!b)return d(p);const T=y,C=r.stringify(T,b);QU(C)?b.value=C:b.result=C,d(p,b)});function d(p,y){p||!y?u(p):o?o(y):n(void 0,y)}}}processSync(e){let n=!1,r;return this.freeze(),Ry("processSync",this.parser||this.Parser),Dy("processSync",this.compiler||this.Compiler),this.process(e,s),ix("processSync","process",n),r;function s(o,u){n=!0,ex(o),r=u}}run(e,n,r){rx(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,c){const f=nm(n);s.run(e,f,d);function d(p,y,b){const T=y||e;p?c(p):u?u(T):r(void 0,T,b)}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),ix("runSync","run",r),s;function o(u,c){ex(u),s=c,r=!0}}stringify(e,n){this.freeze();const r=nm(n),s=this.compiler||this.Compiler;return Dy("stringify",s),rx(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(Oy("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,...y]=d;f(p,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=wy(!0,s.settings,d.settings))}function c(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const y=d[p];o(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,p){let y=-1,b=-1;for(;++y<r.length;)if(r[y][0]===d){b=y;break}if(b===-1)r.push([d,...p]);else if(p.length>0){let[T,...C]=p;const R=r[b][1];DE(R)&&DE(T)&&(T=wy(!0,R,T)),r[b]=[d,T,...C]}}}}const XU=new y1().freeze();function Ry(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Dy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Oy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rx(t){if(!DE(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function ix(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function nm(t){return KU(t)?t:new HN(t)}function KU(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function QU(t){return typeof t=="string"||WU(t)}function WU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const ZU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",sx=[],ax={allowDangerousHtml:!0},JU=/^(https?|ircs?|mailto|xmpp)$/i,eV=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tV(t){const e=nV(t),n=rV(t);return iV(e.runSync(e.parse(n),n),t)}function nV(t){const e=t.rehypePlugins||sx,n=t.remarkPlugins||sx,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...ax}:ax;return XU().use(L7).use(n).use(RU,r).use(e)}function rV(t){const e=t.children||"",n=new HN;return typeof e=="string"&&(n.value=e),n}function iV(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||sV;for(const p of eV)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+ZU+p.id,void 0);return g1(t,d),m9(t,{Fragment:$.Fragment,components:s,ignoreInvalidStyle:!0,jsx:$.jsx,jsxs:$.jsxs,passKeys:!0,passNode:!0});function d(p,y,b){if(p.type==="raw"&&b&&typeof y=="number")return u?b.children.splice(y,1):b.children[y]={type:"text",value:p.value},y;if(p.type==="element"){let T;for(T in vy)if(Object.hasOwn(vy,T)&&Object.hasOwn(p.properties,T)){const C=p.properties[T],R=vy[T];(R===null||R.includes(p.tagName))&&(p.properties[T]=f(String(C||""),T,p))}}if(p.type==="element"){let T=n?!n.includes(p.tagName):o?o.includes(p.tagName):!1;if(!T&&r&&typeof y=="number"&&(T=!r(p,y,b)),T&&b&&typeof y=="number")return c&&p.children?b.children.splice(y,1,...p.children):b.children.splice(y,1),y}}}function sV(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||JU.test(t.slice(0,e))?t:""}const ox=/[#.]/g;function aV(t,e){const n=t||"",r={};let s=0,o,u;for(;s<n.length;){ox.lastIndex=s;const c=ox.exec(n),f=n.slice(s,c?c.index:n.length);f&&(o?o==="#"?r.id=f:Array.isArray(r.className)?r.className.push(f):r.className=[f]:u=f,s+=f.length),c&&(o=c[0],s++)}return{type:"element",tagName:u||e||"div",properties:r,children:[]}}function zN(t,e,n){const r=n?cV(n):void 0;function s(o,u,...c){let f;if(o==null){f={type:"root",children:[]};const d=u;c.unshift(d)}else{f=aV(o,e);const d=f.tagName.toLowerCase(),p=r?r.get(d):void 0;if(f.tagName=p||d,oV(u))c.unshift(u);else for(const[y,b]of Object.entries(u))uV(t,f.properties,y,b)}for(const d of c)kE(f.children,d);return f.type==="element"&&f.tagName==="template"&&(f.content={type:"root",children:f.children},f.children=[]),f}return s}function oV(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const s=e[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const o=s;for(const u of o)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function uV(t,e,n,r){const s=s1(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?s.spaceSeparated?o=wA(r):s.commaSeparated?o=TA(r):s.commaOrSpaceSeparated?o=wA(TA(r).join(" ")):o=ux(s,s.property,r):Array.isArray(r)?o=[...r]:o=s.property==="style"?lV(r):String(r);if(Array.isArray(o)){const u=[];for(const c of o)u.push(ux(s,s.property,c));o=u}s.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[s.property]=o}}function kE(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)kE(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?kE(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function ux(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||Qh(n)===Qh(e)))return!0}return n}function lV(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function cV(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const hV=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],fV=zN(U0,"div"),dV=zN(Ql,"g",hV);function mV(t){const e=String(t),n=[];return{toOffset:s,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=e.length){let u=0;for(;;){let c=n[u];if(c===void 0){const f=lx(e,n[u-1]);c=f===-1?e.length+1:f+1,n[u]=c}if(c>o)return{line:u+1,column:o-(u>0?n[u-1]:0)+1,offset:o};u++}}}function s(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const c=n[n.length-1],f=lx(e,c),d=f===-1?e.length+1:f+1;if(c===d)break;n.push(d)}const u=(o.line>1?n[o.line-2]:0)+o.column-1;if(u<n[o.line-1])return u}}}function lx(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Zo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},FN={}.hasOwnProperty,pV=Object.prototype;function gV(t,e){const n=e||{};return E1({file:n.file||void 0,location:!1,schema:n.space==="svg"?Ql:U0,verbose:n.verbose||!1},t)}function E1(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Am(t,r,n),n}case"#document":case"#document-fragment":{const r=e,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:jN(t,e.childNodes),data:{quirksMode:s}},t.file&&t.location){const o=String(t.file),u=mV(o),c=u.toPoint(0),f=u.toPoint(o.length);n.position={start:c,end:f}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Am(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Am(t,r,n),n}default:return n=yV(t,e),n}}function jN(t,e){let n=-1;const r=[];for(;++n<e.length;){const s=E1(t,e[n]);r.push(s)}return r}function yV(t,e){const n=t.schema;t.schema=e.namespaceURI===Zo.svg?Ql:U0;let r=-1;const s={};for(;++r<e.attrs.length;){const c=e.attrs[r],f=(c.prefix?c.prefix+":":"")+c.name;FN.call(pV,f)||(s[f]=c.value)}const u=(t.schema.space==="svg"?dV:fV)(e.tagName,s,jN(t,e.childNodes));if(Am(t,e,u),u.tagName==="template"){const c=e,f=c.sourceCodeLocation,d=f&&f.startTag&&pl(f.startTag),p=f&&f.endTag&&pl(f.endTag),y=E1(t,c.content);d&&p&&t.file&&(y.position={start:d.end,end:p.start}),u.content=y}return t.schema=n,u}function Am(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=EV(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function EV(t,e,n){const r=pl(n);if(e.type==="element"){const s=e.children[e.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),t.verbose){const o={};let u;if(n.attrs)for(u in n.attrs)FN.call(n.attrs,u)&&(o[s1(t.schema,u).property]=pl(n.attrs[u]));n.startTag;const c=pl(n.startTag),f=n.endTag?pl(n.endTag):void 0,d={opening:c};f&&(d.closing=f),d.properties=o,e.data={position:d}}}return r}function pl(t){const e=cx({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=cx({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function cx(t){return t.line&&t.column?t:void 0}class vf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}vf.prototype.property={};vf.prototype.normal={};vf.prototype.space=null;function qN(t,e){const n={},r={};let s=-1;for(;++s<t.length;)Object.assign(n,t[s].property),Object.assign(r,t[s].normal);return new vf(n,r,e)}function PE(t){return t.toLowerCase()}class zi{constructor(e,n){this.property=e,this.attribute=n}}zi.prototype.space=null;zi.prototype.boolean=!1;zi.prototype.booleanish=!1;zi.prototype.overloadedBoolean=!1;zi.prototype.number=!1;zi.prototype.commaSeparated=!1;zi.prototype.spaceSeparated=!1;zi.prototype.commaOrSpaceSeparated=!1;zi.prototype.mustUseProperty=!1;zi.prototype.defined=!1;let _V=0;const st=Eu(),Bn=Eu(),YN=Eu(),ke=Eu(),rn=Eu(),Sl=Eu(),fi=Eu();function Eu(){return 2**++_V}const LE=Object.freeze(Object.defineProperty({__proto__:null,boolean:st,booleanish:Bn,commaOrSpaceSeparated:fi,commaSeparated:Sl,number:ke,overloadedBoolean:YN,spaceSeparated:rn},Symbol.toStringTag,{value:"Module"})),ky=Object.keys(LE);class _1 extends zi{constructor(e,n,r,s){let o=-1;if(super(e,n),hx(this,"space",s),typeof r=="number")for(;++o<ky.length;){const u=ky[o];hx(this,ky[o],(r&LE[u])===LE[u])}}}_1.prototype.defined=!0;function hx(t,e,n){n&&(t[e]=n)}const bV={}.hasOwnProperty;function Zl(t){const e={},n={};let r;for(r in t.properties)if(bV.call(t.properties,r)){const s=t.properties[r],o=new _1(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[PE(r)]=r,n[PE(o.attribute)]=r}return new vf(e,n,t.space)}const GN=Zl({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$N=Zl({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function XN(t,e){return e in t?t[e]:e}function KN(t,e){return XN(t,e.toLowerCase())}const QN=Zl({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:KN,properties:{xmlns:null,xmlnsXLink:null}}),WN=Zl({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Bn,ariaAutoComplete:null,ariaBusy:Bn,ariaChecked:Bn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:rn,ariaCurrent:null,ariaDescribedBy:rn,ariaDetails:null,ariaDisabled:Bn,ariaDropEffect:rn,ariaErrorMessage:null,ariaExpanded:Bn,ariaFlowTo:rn,ariaGrabbed:Bn,ariaHasPopup:null,ariaHidden:Bn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rn,ariaLevel:ke,ariaLive:null,ariaModal:Bn,ariaMultiLine:Bn,ariaMultiSelectable:Bn,ariaOrientation:null,ariaOwns:rn,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Bn,ariaReadOnly:Bn,ariaRelevant:null,ariaRequired:Bn,ariaRoleDescription:rn,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Bn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),TV=Zl({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:KN,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Sl,acceptCharset:rn,accessKey:rn,action:null,allow:null,allowFullScreen:st,allowPaymentRequest:st,allowUserMedia:st,alt:null,as:null,async:st,autoCapitalize:null,autoComplete:rn,autoFocus:st,autoPlay:st,blocking:rn,capture:null,charSet:null,checked:st,cite:null,className:rn,cols:ke,colSpan:null,content:null,contentEditable:Bn,controls:st,controlsList:rn,coords:ke|Sl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:st,defer:st,dir:null,dirName:null,disabled:st,download:YN,draggable:Bn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:st,formTarget:null,headers:rn,height:ke,hidden:st,high:ke,href:null,hrefLang:null,htmlFor:rn,httpEquiv:rn,id:null,imageSizes:null,imageSrcSet:null,inert:st,inputMode:null,integrity:null,is:null,isMap:st,itemId:null,itemProp:rn,itemRef:rn,itemScope:st,itemType:rn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:st,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:st,muted:st,name:null,nonce:null,noModule:st,noValidate:st,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:st,optimum:ke,pattern:null,ping:rn,placeholder:null,playsInline:st,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:st,referrerPolicy:null,rel:rn,required:st,reversed:st,rows:ke,rowSpan:ke,sandbox:rn,scope:null,scoped:st,seamless:st,selected:st,shadowRootClonable:st,shadowRootDelegatesFocus:st,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Bn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:st,useMap:null,value:Bn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rn,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:st,declare:st,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:st,noHref:st,noShade:st,noWrap:st,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Bn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:st,disableRemotePlayback:st,prefix:null,property:null,results:ke,security:null,unselectable:null}}),vV=Zl({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:XN,properties:{about:fi,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:rn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:st,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Sl,g2:Sl,glyphName:Sl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:fi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:fi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:fi,rev:fi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:fi,requiredFeatures:fi,requiredFonts:fi,requiredFormats:fi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:fi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:fi,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:fi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),SV=/^data[-\w.:]+$/i,fx=/-[a-z]/g,AV=/[A-Z]/g;function xV(t,e){const n=PE(e);let r=e,s=zi;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&SV.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(fx,IV);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!fx.test(o)){let u=o.replace(AV,wV);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=_1}return new s(r,e)}function wV(t){return"-"+t.toLowerCase()}function IV(t){return t.charAt(1).toUpperCase()}const CV=qN([$N,GN,QN,WN,TV],"html"),ZN=qN([$N,GN,QN,WN,vV],"svg"),dx={}.hasOwnProperty;function JN(t,e){const n=e||{};function r(s,...o){let u=r.invalid;const c=r.handlers;if(s&&dx.call(s,t)){const f=String(s[t]);u=dx.call(c,f)?c[f]:r.unknown}if(u)return u.call(this,s,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const NV={},RV={}.hasOwnProperty,eR=JN("type",{handlers:{root:OV,element:BV,text:LV,comment:MV,doctype:PV}});function DV(t,e){const r=(e||NV).space;return eR(t,r==="svg"?ZN:CV)}function OV(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=b1(t.children,n,e),Jl(t,n),n}function kV(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=b1(t.children,n,e),Jl(t,n),n}function PV(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Jl(t,e),e}function LV(t){const e={nodeName:"#text",value:t.value,parentNode:null};return Jl(t,e),e}function MV(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return Jl(t,e),e}function BV(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=ZN);const s=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&RV.call(t.properties,o)){const f=UV(r,o,t.properties[o]);f&&s.push(f)}}const u=r.space,c={nodeName:t.tagName,tagName:t.tagName,attrs:s,namespaceURI:Zo[u],childNodes:[],parentNode:null};return c.childNodes=b1(t.children,c,r),Jl(t,c),t.tagName==="template"&&t.content&&(c.content=kV(t.content,r)),c}function UV(t,e,n){const r=xV(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?aN(n):mN(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=s.name.indexOf(":");o<0?s.prefix="":(s.name=s.name.slice(o+1),s.prefix=r.attribute.slice(0,o)),s.namespace=Zo[r.space]}return s}function b1(t,e,n){let r=-1;const s=[];if(t)for(;++r<t.length;){const o=eR(t[r],n);o.parentNode=e,s.push(o)}return s}function Jl(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const VV=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],HV=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),mn="";var X;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(X||(X={}));const $r={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function tR(t){return t>=55296&&t<=57343}function zV(t){return t>=56320&&t<=57343}function FV(t,e){return(t-55296)*1024+9216+e}function nR(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function rR(t){return t>=64976&&t<=65007||HV.has(t)}var Ee;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Ee||(Ee={}));const jV=65536;class qV{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=jV,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:s,offset:o}=this,u=s+n,c=o+n;return{code:e,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(zV(n))return this.pos++,this._addGap(),FV(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,X.EOF;return this._err(Ee.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,X.EOF;const r=this.html.charCodeAt(n);return r===X.CARRIAGE_RETURN?X.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,X.EOF;let e=this.html.charCodeAt(this.pos);return e===X.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,X.LINE_FEED):e===X.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,tR(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===X.LINE_FEED||e===X.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){nR(e)?this._err(Ee.controlCharacterInInputStream):rR(e)&&this._err(Ee.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var mt;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(mt||(mt={}));function iR(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const YV=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),GV=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function $V(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=GV.get(t))!==null&&e!==void 0?e:t}var ar;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ar||(ar={}));const XV=32;var ro;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(ro||(ro={}));function ME(t){return t>=ar.ZERO&&t<=ar.NINE}function KV(t){return t>=ar.UPPER_A&&t<=ar.UPPER_F||t>=ar.LOWER_A&&t<=ar.LOWER_F}function QV(t){return t>=ar.UPPER_A&&t<=ar.UPPER_Z||t>=ar.LOWER_A&&t<=ar.LOWER_Z||ME(t)}function WV(t){return t===ar.EQUALS||QV(t)}var ir;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ir||(ir={}));var sa;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(sa||(sa={}));class ZV{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ir.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=sa.Strict}startEntity(e){this.decodeMode=e,this.state=ir.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ir.EntityStart:return e.charCodeAt(n)===ar.NUM?(this.state=ir.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ir.NamedEntity,this.stateNamedEntity(e,n));case ir.NumericStart:return this.stateNumericStart(e,n);case ir.NumericDecimal:return this.stateNumericDecimal(e,n);case ir.NumericHex:return this.stateNumericHex(e,n);case ir.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|XV)===ar.LOWER_X?(this.state=ir.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ir.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,s){if(n!==r){const o=r-n;this.result=this.result*Math.pow(s,o)+Number.parseInt(e.substr(n,o),s),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(ME(s)||KV(s))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(ME(s))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ar.SEMI)this.consumed+=1;else if(this.decodeMode===sa.Strict)return 0;return this.emitCodePoint($V(this.result),this.consumed),this.errors&&(e!==ar.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let s=r[this.treeIndex],o=(s&ro.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const u=e.charCodeAt(n);if(this.treeIndex=JV(r,s,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===sa.Attribute&&(o===0||WV(u))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],o=(s&ro.VALUE_LENGTH)>>14,o!==0){if(u===ar.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==sa.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,s=(r[n]&ro.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~ro.VALUE_LENGTH:s[e+1],r),n===3&&this.emitCodePoint(s[e+2],r),r}end(){var e;switch(this.state){case ir.NamedEntity:return this.result!==0&&(this.decodeMode!==sa.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ir.NumericDecimal:return this.emitNumericEntity(0,2);case ir.NumericHex:return this.emitNumericEntity(0,3);case ir.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ir.EntityStart:return 0}}}function JV(t,e,n,r){const s=(e&ro.BRANCH_LENGTH)>>7,o=e&ro.JUMP_TABLE;if(s===0)return o!==0&&r===o?n:-1;if(o){const f=r-o;return f<0||f>=s?-1:t[n+f]-1}let u=n,c=u+s-1;for(;u<=c;){const f=u+c>>>1,d=t[f];if(d<r)u=f+1;else if(d>r)c=f-1;else return t[f+s]}return-1}var Ie;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(Ie||(Ie={}));var tu;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(tu||(tu={}));var Vi;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Vi||(Vi={}));var ce;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(ce||(ce={}));var _;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(_||(_={}));const eH=new Map([[ce.A,_.A],[ce.ADDRESS,_.ADDRESS],[ce.ANNOTATION_XML,_.ANNOTATION_XML],[ce.APPLET,_.APPLET],[ce.AREA,_.AREA],[ce.ARTICLE,_.ARTICLE],[ce.ASIDE,_.ASIDE],[ce.B,_.B],[ce.BASE,_.BASE],[ce.BASEFONT,_.BASEFONT],[ce.BGSOUND,_.BGSOUND],[ce.BIG,_.BIG],[ce.BLOCKQUOTE,_.BLOCKQUOTE],[ce.BODY,_.BODY],[ce.BR,_.BR],[ce.BUTTON,_.BUTTON],[ce.CAPTION,_.CAPTION],[ce.CENTER,_.CENTER],[ce.CODE,_.CODE],[ce.COL,_.COL],[ce.COLGROUP,_.COLGROUP],[ce.DD,_.DD],[ce.DESC,_.DESC],[ce.DETAILS,_.DETAILS],[ce.DIALOG,_.DIALOG],[ce.DIR,_.DIR],[ce.DIV,_.DIV],[ce.DL,_.DL],[ce.DT,_.DT],[ce.EM,_.EM],[ce.EMBED,_.EMBED],[ce.FIELDSET,_.FIELDSET],[ce.FIGCAPTION,_.FIGCAPTION],[ce.FIGURE,_.FIGURE],[ce.FONT,_.FONT],[ce.FOOTER,_.FOOTER],[ce.FOREIGN_OBJECT,_.FOREIGN_OBJECT],[ce.FORM,_.FORM],[ce.FRAME,_.FRAME],[ce.FRAMESET,_.FRAMESET],[ce.H1,_.H1],[ce.H2,_.H2],[ce.H3,_.H3],[ce.H4,_.H4],[ce.H5,_.H5],[ce.H6,_.H6],[ce.HEAD,_.HEAD],[ce.HEADER,_.HEADER],[ce.HGROUP,_.HGROUP],[ce.HR,_.HR],[ce.HTML,_.HTML],[ce.I,_.I],[ce.IMG,_.IMG],[ce.IMAGE,_.IMAGE],[ce.INPUT,_.INPUT],[ce.IFRAME,_.IFRAME],[ce.KEYGEN,_.KEYGEN],[ce.LABEL,_.LABEL],[ce.LI,_.LI],[ce.LINK,_.LINK],[ce.LISTING,_.LISTING],[ce.MAIN,_.MAIN],[ce.MALIGNMARK,_.MALIGNMARK],[ce.MARQUEE,_.MARQUEE],[ce.MATH,_.MATH],[ce.MENU,_.MENU],[ce.META,_.META],[ce.MGLYPH,_.MGLYPH],[ce.MI,_.MI],[ce.MO,_.MO],[ce.MN,_.MN],[ce.MS,_.MS],[ce.MTEXT,_.MTEXT],[ce.NAV,_.NAV],[ce.NOBR,_.NOBR],[ce.NOFRAMES,_.NOFRAMES],[ce.NOEMBED,_.NOEMBED],[ce.NOSCRIPT,_.NOSCRIPT],[ce.OBJECT,_.OBJECT],[ce.OL,_.OL],[ce.OPTGROUP,_.OPTGROUP],[ce.OPTION,_.OPTION],[ce.P,_.P],[ce.PARAM,_.PARAM],[ce.PLAINTEXT,_.PLAINTEXT],[ce.PRE,_.PRE],[ce.RB,_.RB],[ce.RP,_.RP],[ce.RT,_.RT],[ce.RTC,_.RTC],[ce.RUBY,_.RUBY],[ce.S,_.S],[ce.SCRIPT,_.SCRIPT],[ce.SEARCH,_.SEARCH],[ce.SECTION,_.SECTION],[ce.SELECT,_.SELECT],[ce.SOURCE,_.SOURCE],[ce.SMALL,_.SMALL],[ce.SPAN,_.SPAN],[ce.STRIKE,_.STRIKE],[ce.STRONG,_.STRONG],[ce.STYLE,_.STYLE],[ce.SUB,_.SUB],[ce.SUMMARY,_.SUMMARY],[ce.SUP,_.SUP],[ce.TABLE,_.TABLE],[ce.TBODY,_.TBODY],[ce.TEMPLATE,_.TEMPLATE],[ce.TEXTAREA,_.TEXTAREA],[ce.TFOOT,_.TFOOT],[ce.TD,_.TD],[ce.TH,_.TH],[ce.THEAD,_.THEAD],[ce.TITLE,_.TITLE],[ce.TR,_.TR],[ce.TRACK,_.TRACK],[ce.TT,_.TT],[ce.U,_.U],[ce.UL,_.UL],[ce.SVG,_.SVG],[ce.VAR,_.VAR],[ce.WBR,_.WBR],[ce.XMP,_.XMP]]);function ec(t){var e;return(e=eH.get(t))!==null&&e!==void 0?e:_.UNKNOWN}const Re=_,tH={[Ie.HTML]:new Set([Re.ADDRESS,Re.APPLET,Re.AREA,Re.ARTICLE,Re.ASIDE,Re.BASE,Re.BASEFONT,Re.BGSOUND,Re.BLOCKQUOTE,Re.BODY,Re.BR,Re.BUTTON,Re.CAPTION,Re.CENTER,Re.COL,Re.COLGROUP,Re.DD,Re.DETAILS,Re.DIR,Re.DIV,Re.DL,Re.DT,Re.EMBED,Re.FIELDSET,Re.FIGCAPTION,Re.FIGURE,Re.FOOTER,Re.FORM,Re.FRAME,Re.FRAMESET,Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6,Re.HEAD,Re.HEADER,Re.HGROUP,Re.HR,Re.HTML,Re.IFRAME,Re.IMG,Re.INPUT,Re.LI,Re.LINK,Re.LISTING,Re.MAIN,Re.MARQUEE,Re.MENU,Re.META,Re.NAV,Re.NOEMBED,Re.NOFRAMES,Re.NOSCRIPT,Re.OBJECT,Re.OL,Re.P,Re.PARAM,Re.PLAINTEXT,Re.PRE,Re.SCRIPT,Re.SECTION,Re.SELECT,Re.SOURCE,Re.STYLE,Re.SUMMARY,Re.TABLE,Re.TBODY,Re.TD,Re.TEMPLATE,Re.TEXTAREA,Re.TFOOT,Re.TH,Re.THEAD,Re.TITLE,Re.TR,Re.TRACK,Re.UL,Re.WBR,Re.XMP]),[Ie.MATHML]:new Set([Re.MI,Re.MO,Re.MN,Re.MS,Re.MTEXT,Re.ANNOTATION_XML]),[Ie.SVG]:new Set([Re.TITLE,Re.FOREIGN_OBJECT,Re.DESC]),[Ie.XLINK]:new Set,[Ie.XML]:new Set,[Ie.XMLNS]:new Set},BE=new Set([Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6]);ce.STYLE,ce.SCRIPT,ce.XMP,ce.IFRAME,ce.NOEMBED,ce.NOFRAMES,ce.PLAINTEXT;var Q;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(Q||(Q={}));const Cn={DATA:Q.DATA,RCDATA:Q.RCDATA,RAWTEXT:Q.RAWTEXT,SCRIPT_DATA:Q.SCRIPT_DATA,PLAINTEXT:Q.PLAINTEXT,CDATA_SECTION:Q.CDATA_SECTION};function nH(t){return t>=X.DIGIT_0&&t<=X.DIGIT_9}function Th(t){return t>=X.LATIN_CAPITAL_A&&t<=X.LATIN_CAPITAL_Z}function rH(t){return t>=X.LATIN_SMALL_A&&t<=X.LATIN_SMALL_Z}function Ga(t){return rH(t)||Th(t)}function mx(t){return Ga(t)||nH(t)}function rm(t){return t+32}function sR(t){return t===X.SPACE||t===X.LINE_FEED||t===X.TABULATION||t===X.FORM_FEED}function px(t){return sR(t)||t===X.SOLIDUS||t===X.GREATER_THAN_SIGN}function iH(t){return t===X.NULL?Ee.nullCharacterReference:t>1114111?Ee.characterReferenceOutsideUnicodeRange:tR(t)?Ee.surrogateCharacterReference:rR(t)?Ee.noncharacterCharacterReference:nR(t)||t===X.CARRIAGE_RETURN?Ee.controlCharacterReference:null}class sH{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Q.DATA,this.returnState=Q.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new qV(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new ZV(YV,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Ee.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(Ee.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=iH(r);s&&this._err(s,1)}}:void 0)}_err(e,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:mt.START_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:mt.END_TAG,tagName:"",tagID:_.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:mt.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:mt.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(iR(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Ee.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ec(e.tagName),e.type===mt.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Ee.endTagWithAttributes),e.selfClosing&&this._err(Ee.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case mt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case mt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case mt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:mt.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=sR(e)?mt.WHITESPACE_CHARACTER:e===X.NULL?mt.NULL_CHARACTER:mt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(mt.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=Q.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?sa.Attribute:sa.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===Q.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Q.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Q.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case Q.DATA:{this._stateData(e);break}case Q.RCDATA:{this._stateRcdata(e);break}case Q.RAWTEXT:{this._stateRawtext(e);break}case Q.SCRIPT_DATA:{this._stateScriptData(e);break}case Q.PLAINTEXT:{this._statePlaintext(e);break}case Q.TAG_OPEN:{this._stateTagOpen(e);break}case Q.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case Q.TAG_NAME:{this._stateTagName(e);break}case Q.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case Q.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case Q.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case Q.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case Q.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case Q.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case Q.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case Q.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case Q.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case Q.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case Q.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case Q.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case Q.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case Q.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case Q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case Q.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case Q.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case Q.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case Q.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case Q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case Q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case Q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case Q.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case Q.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case Q.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case Q.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case Q.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case Q.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case Q.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case Q.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case Q.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case Q.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case Q.BOGUS_COMMENT:{this._stateBogusComment(e);break}case Q.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case Q.COMMENT_START:{this._stateCommentStart(e);break}case Q.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case Q.COMMENT:{this._stateComment(e);break}case Q.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case Q.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case Q.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case Q.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case Q.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case Q.COMMENT_END:{this._stateCommentEnd(e);break}case Q.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case Q.DOCTYPE:{this._stateDoctype(e);break}case Q.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case Q.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case Q.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case Q.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case Q.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case Q.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case Q.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case Q.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case Q.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case Q.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case Q.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case Q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case Q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case Q.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case Q.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case Q.CDATA_SECTION:{this._stateCdataSection(e);break}case Q.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case Q.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case Q.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case Q.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case X.LESS_THAN_SIGN:{this.state=Q.TAG_OPEN;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitCodePoint(e);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case X.AMPERSAND:{this._startCharacterReference();break}case X.LESS_THAN_SIGN:{this.state=Q.RCDATA_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(mn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case X.LESS_THAN_SIGN:{this.state=Q.RAWTEXT_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(mn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case X.LESS_THAN_SIGN:{this.state=Q.SCRIPT_DATA_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(mn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(mn);break}case X.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Ga(e))this._createStartTagToken(),this.state=Q.TAG_NAME,this._stateTagName(e);else switch(e){case X.EXCLAMATION_MARK:{this.state=Q.MARKUP_DECLARATION_OPEN;break}case X.SOLIDUS:{this.state=Q.END_TAG_OPEN;break}case X.QUESTION_MARK:{this._err(Ee.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Q.BOGUS_COMMENT,this._stateBogusComment(e);break}case X.EOF:{this._err(Ee.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Ee.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Q.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Ga(e))this._createEndTagToken(),this.state=Q.TAG_NAME,this._stateTagName(e);else switch(e){case X.GREATER_THAN_SIGN:{this._err(Ee.missingEndTagName),this.state=Q.DATA;break}case X.EOF:{this._err(Ee.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Ee.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Q.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Q.BEFORE_ATTRIBUTE_NAME;break}case X.SOLIDUS:{this.state=Q.SELF_CLOSING_START_TAG;break}case X.GREATER_THAN_SIGN:{this.state=Q.DATA,this.emitCurrentTagToken();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.tagName+=mn;break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Th(e)?rm(e):e)}}_stateRcdataLessThanSign(e){e===X.SOLIDUS?this.state=Q.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Q.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Ga(e)?(this.state=Q.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Q.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Q.BEFORE_ATTRIBUTE_NAME,!1;case X.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Q.SELF_CLOSING_START_TAG,!1;case X.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Q.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Q.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===X.SOLIDUS?this.state=Q.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Q.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Ga(e)?(this.state=Q.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Q.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Q.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case X.SOLIDUS:{this.state=Q.SCRIPT_DATA_END_TAG_OPEN;break}case X.EXCLAMATION_MARK:{this.state=Q.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=Q.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Ga(e)?(this.state=Q.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===X.HYPHEN_MINUS?(this.state=Q.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===X.HYPHEN_MINUS?(this.state=Q.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Q.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case X.HYPHEN_MINUS:{this.state=Q.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(mn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case X.HYPHEN_MINUS:{this.state=Q.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=Q.SCRIPT_DATA_ESCAPED,this._emitChars(mn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Q.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case X.HYPHEN_MINUS:{this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Q.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case X.GREATER_THAN_SIGN:{this.state=Q.SCRIPT_DATA,this._emitChars(">");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=Q.SCRIPT_DATA_ESCAPED,this._emitChars(mn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Q.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===X.SOLIDUS?this.state=Q.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ga(e)?(this._emitChars("<"),this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Ga(e)?(this.state=Q.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith($r.SCRIPT,!1)&&px(this.preprocessor.peek($r.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<$r.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Q.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case X.HYPHEN_MINUS:{this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._emitChars(mn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case X.HYPHEN_MINUS:{this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case X.HYPHEN_MINUS:{this._emitChars("-");break}case X.LESS_THAN_SIGN:{this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case X.GREATER_THAN_SIGN:{this.state=Q.SCRIPT_DATA,this._emitChars(">");break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(mn);break}case X.EOF:{this._err(Ee.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===X.SOLIDUS?(this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith($r.SCRIPT,!1)&&px(this.preprocessor.peek($r.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<$r.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=Q.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Q.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.SOLIDUS:case X.GREATER_THAN_SIGN:case X.EOF:{this.state=Q.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case X.EQUALS_SIGN:{this._err(Ee.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Q.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=Q.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:case X.SOLIDUS:case X.GREATER_THAN_SIGN:case X.EOF:{this._leaveAttrName(),this.state=Q.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case X.EQUALS_SIGN:{this._leaveAttrName(),this.state=Q.BEFORE_ATTRIBUTE_VALUE;break}case X.QUOTATION_MARK:case X.APOSTROPHE:case X.LESS_THAN_SIGN:{this._err(Ee.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.name+=mn;break}default:this.currentAttr.name+=String.fromCodePoint(Th(e)?rm(e):e)}}_stateAfterAttributeName(e){switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.SOLIDUS:{this.state=Q.SELF_CLOSING_START_TAG;break}case X.EQUALS_SIGN:{this.state=Q.BEFORE_ATTRIBUTE_VALUE;break}case X.GREATER_THAN_SIGN:{this.state=Q.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=Q.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{this.state=Q.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this.state=Q.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingAttributeValue),this.state=Q.DATA,this.emitCurrentTagToken();break}default:this.state=Q.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case X.QUOTATION_MARK:{this.state=Q.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.value+=mn;break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case X.APOSTROPHE:{this.state=Q.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.value+=mn;break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this._leaveAttrValue(),this.state=Q.BEFORE_ATTRIBUTE_NAME;break}case X.AMPERSAND:{this._startCharacterReference();break}case X.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Q.DATA,this.emitCurrentTagToken();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),this.currentAttr.value+=mn;break}case X.QUOTATION_MARK:case X.APOSTROPHE:case X.LESS_THAN_SIGN:case X.EQUALS_SIGN:case X.GRAVE_ACCENT:{this._err(Ee.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this._leaveAttrValue(),this.state=Q.BEFORE_ATTRIBUTE_NAME;break}case X.SOLIDUS:{this._leaveAttrValue(),this.state=Q.SELF_CLOSING_START_TAG;break}case X.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=Q.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this._err(Ee.missingWhitespaceBetweenAttributes),this.state=Q.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case X.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=Q.DATA,this.emitCurrentTagToken();break}case X.EOF:{this._err(Ee.eofInTag),this._emitEOFToken();break}default:this._err(Ee.unexpectedSolidusInTag),this.state=Q.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case X.GREATER_THAN_SIGN:{this.state=Q.DATA,this.emitCurrentComment(n);break}case X.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.data+=mn;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch($r.DASH_DASH,!0)?(this._createCommentToken($r.DASH_DASH.length+1),this.state=Q.COMMENT_START):this._consumeSequenceIfMatch($r.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation($r.DOCTYPE.length+1),this.state=Q.DOCTYPE):this._consumeSequenceIfMatch($r.CDATA_START,!0)?this.inForeignNode?this.state=Q.CDATA_SECTION:(this._err(Ee.cdataInHtmlContent),this._createCommentToken($r.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=Q.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Ee.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Q.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case X.HYPHEN_MINUS:{this.state=Q.COMMENT_START_DASH;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptClosingOfEmptyComment),this.state=Q.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=Q.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case X.HYPHEN_MINUS:{this.state=Q.COMMENT_END;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptClosingOfEmptyComment),this.state=Q.DATA,this.emitCurrentComment(n);break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Q.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case X.HYPHEN_MINUS:{this.state=Q.COMMENT_END_DASH;break}case X.LESS_THAN_SIGN:{n.data+="<",this.state=Q.COMMENT_LESS_THAN_SIGN;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.data+=mn;break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case X.EXCLAMATION_MARK:{n.data+="!",this.state=Q.COMMENT_LESS_THAN_SIGN_BANG;break}case X.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=Q.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===X.HYPHEN_MINUS?this.state=Q.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Q.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===X.HYPHEN_MINUS?this.state=Q.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Q.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==X.GREATER_THAN_SIGN&&e!==X.EOF&&this._err(Ee.nestedComment),this.state=Q.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case X.HYPHEN_MINUS:{this.state=Q.COMMENT_END;break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=Q.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case X.GREATER_THAN_SIGN:{this.state=Q.DATA,this.emitCurrentComment(n);break}case X.EXCLAMATION_MARK:{this.state=Q.COMMENT_END_BANG;break}case X.HYPHEN_MINUS:{n.data+="-";break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=Q.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case X.HYPHEN_MINUS:{n.data+="--!",this.state=Q.COMMENT_END_DASH;break}case X.GREATER_THAN_SIGN:{this._err(Ee.incorrectlyClosedComment),this.state=Q.DATA,this.emitCurrentComment(n);break}case X.EOF:{this._err(Ee.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=Q.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Q.BEFORE_DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this.state=Q.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case X.EOF:{this._err(Ee.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingWhitespaceBeforeDoctypeName),this.state=Q.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Th(e))this._createDoctypeToken(String.fromCharCode(rm(e))),this.state=Q.DOCTYPE_NAME;else switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.NULL:{this._err(Ee.unexpectedNullCharacter),this._createDoctypeToken(mn),this.state=Q.DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Q.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Q.AFTER_DOCTYPE_NAME;break}case X.GREATER_THAN_SIGN:{this.state=Q.DATA,this.emitCurrentDoctype(n);break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.name+=mn;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Th(e)?rm(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.state=Q.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch($r.PUBLIC,!1)?this.state=Q.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch($r.SYSTEM,!1)?this.state=Q.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Ee.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Q.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.QUOTATION_MARK:{this._err(Ee.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Q.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Ee.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=Q.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Q.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{n.publicId="",this.state=Q.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.publicId="",this.state=Q.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Q.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case X.QUOTATION_MARK:{this.state=Q.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.publicId+=mn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case X.APOSTROPHE:{this.state=Q.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.publicId+=mn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Q.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case X.GREATER_THAN_SIGN:{this.state=Q.DATA,this.emitCurrentDoctype(n);break}case X.QUOTATION_MARK:{this._err(Ee.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Ee.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.QUOTATION_MARK:{n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:{this.state=Q.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.QUOTATION_MARK:{this._err(Ee.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{this._err(Ee.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Q.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.QUOTATION_MARK:{n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case X.APOSTROPHE:{n.systemId="",this.state=Q.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case X.GREATER_THAN_SIGN:{this._err(Ee.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Q.DATA,this.emitCurrentDoctype(n);break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case X.QUOTATION_MARK:{this.state=Q.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.systemId+=mn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case X.APOSTROPHE:{this.state=Q.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter),n.systemId+=mn;break}case X.GREATER_THAN_SIGN:{this._err(Ee.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case X.SPACE:case X.LINE_FEED:case X.TABULATION:case X.FORM_FEED:break;case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.EOF:{this._err(Ee.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(Ee.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Q.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case X.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=Q.DATA;break}case X.NULL:{this._err(Ee.unexpectedNullCharacter);break}case X.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case X.RIGHT_SQUARE_BRACKET:{this.state=Q.CDATA_SECTION_BRACKET;break}case X.EOF:{this._err(Ee.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===X.RIGHT_SQUARE_BRACKET?this.state=Q.CDATA_SECTION_END:(this._emitChars("]"),this.state=Q.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case X.GREATER_THAN_SIGN:{this.state=Q.DATA;break}case X.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=Q.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(X.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&mx(this.preprocessor.peek(1))?Q.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){mx(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===X.SEMICOLON&&this._err(Ee.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const aR=new Set([_.DD,_.DT,_.LI,_.OPTGROUP,_.OPTION,_.P,_.RB,_.RP,_.RT,_.RTC]),gx=new Set([...aR,_.CAPTION,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]),Zm=new Set([_.APPLET,_.CAPTION,_.HTML,_.MARQUEE,_.OBJECT,_.TABLE,_.TD,_.TEMPLATE,_.TH]),aH=new Set([...Zm,_.OL,_.UL]),oH=new Set([...Zm,_.BUTTON]),yx=new Set([_.ANNOTATION_XML,_.MI,_.MN,_.MO,_.MS,_.MTEXT]),Ex=new Set([_.DESC,_.FOREIGN_OBJECT,_.TITLE]),uH=new Set([_.TR,_.TEMPLATE,_.HTML]),lH=new Set([_.TBODY,_.TFOOT,_.THEAD,_.TEMPLATE,_.HTML]),cH=new Set([_.TABLE,_.TEMPLATE,_.HTML]),hH=new Set([_.TD,_.TH]);class fH{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=_.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===_.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ie.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const s=this._indexOf(e)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==Ie.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(BE,Ie.HTML)}popUntilTableCellPopped(){this.popUntilPopped(hH,Ie.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(cH,Ie.HTML)}clearBackToTableBodyContext(){this.clearBackTo(lH,Ie.HTML)}clearBackToTableRowContext(){this.clearBackTo(uH,Ie.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===_.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===_.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case Ie.HTML:{if(s===e)return!0;if(n.has(s))return!1;break}case Ie.SVG:{if(Ex.has(s))return!1;break}case Ie.MATHML:{if(yx.has(s))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,Zm)}hasInListItemScope(e){return this.hasInDynamicScope(e,aH)}hasInButtonScope(e){return this.hasInDynamicScope(e,oH)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case Ie.HTML:{if(BE.has(n))return!0;if(Zm.has(n))return!1;break}case Ie.SVG:{if(Ex.has(n))return!1;break}case Ie.MATHML:{if(yx.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ie.HTML)switch(this.tagIDs[n]){case e:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===Ie.HTML)switch(this.tagIDs[e]){case _.TBODY:case _.THEAD:case _.TFOOT:return!0;case _.TABLE:case _.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===Ie.HTML)switch(this.tagIDs[n]){case e:return!0;case _.OPTION:case _.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&aR.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&gx.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&gx.has(this.currentTagId);)this.pop()}}const Py=3;var As;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(As||(As={}));const _x={type:As.Marker};class dH{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],s=n.length,o=this.treeAdapter.getTagName(e),u=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const f=this.entries[c];if(f.type===As.Marker)break;const{element:d}=f;if(this.treeAdapter.getTagName(d)===o&&this.treeAdapter.getNamespaceURI(d)===u){const p=this.treeAdapter.getAttrList(d);p.length===s&&r.push({idx:c,attrs:p})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<Py)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<Py)return;const s=new Map(n.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<r.length;u++){const c=r[u];c.attrs.every(f=>s.get(f.name)===f.value)&&(o+=1,o>=Py&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(_x)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:As.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:As.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(_x);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===As.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===As.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===As.Element&&n.element===e)}}const $a={createDocument(){return{nodeName:"#document",mode:Vi.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const s=t.childNodes.find(o=>o.nodeName==="#documentType");if(s)s.name=e,s.publicId=n,s.systemId=r;else{const o={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};$a.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if($a.isTextNode(n)){n.value+=e;return}}$a.appendChild(t,$a.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&$a.isTextNode(r)?r.value+=e:$a.insertBefore(t,$a.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},oR="html",mH="about:legacy-compat",pH="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",uR=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],gH=[...uR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],yH=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),lR=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],EH=[...lR,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function bx(t,e){return e.some(n=>t.startsWith(n))}function _H(t){return t.name===oR&&t.publicId===null&&(t.systemId===null||t.systemId===mH)}function bH(t){if(t.name!==oR)return Vi.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===pH)return Vi.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),yH.has(n))return Vi.QUIRKS;let r=e===null?gH:uR;if(bx(n,r))return Vi.QUIRKS;if(r=e===null?lR:EH,bx(n,r))return Vi.LIMITED_QUIRKS}return Vi.NO_QUIRKS}const Tx={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},TH="definitionurl",vH="definitionURL",SH=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),AH=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ie.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ie.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ie.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ie.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ie.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ie.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ie.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ie.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ie.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ie.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ie.XMLNS}]]),xH=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),wH=new Set([_.B,_.BIG,_.BLOCKQUOTE,_.BODY,_.BR,_.CENTER,_.CODE,_.DD,_.DIV,_.DL,_.DT,_.EM,_.EMBED,_.H1,_.H2,_.H3,_.H4,_.H5,_.H6,_.HEAD,_.HR,_.I,_.IMG,_.LI,_.LISTING,_.MENU,_.META,_.NOBR,_.OL,_.P,_.PRE,_.RUBY,_.S,_.SMALL,_.SPAN,_.STRONG,_.STRIKE,_.SUB,_.SUP,_.TABLE,_.TT,_.U,_.UL,_.VAR]);function IH(t){const e=t.tagID;return e===_.FONT&&t.attrs.some(({name:r})=>r===tu.COLOR||r===tu.SIZE||r===tu.FACE)||wH.has(e)}function cR(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===TH){t.attrs[e].name=vH;break}}function hR(t){for(let e=0;e<t.attrs.length;e++){const n=SH.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function T1(t){for(let e=0;e<t.attrs.length;e++){const n=AH.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function CH(t){const e=xH.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=ec(t.tagName))}function NH(t,e){return e===Ie.MATHML&&(t===_.MI||t===_.MO||t===_.MN||t===_.MS||t===_.MTEXT)}function RH(t,e,n){if(e===Ie.MATHML&&t===_.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===tu.ENCODING){const s=n[r].value.toLowerCase();return s===Tx.TEXT_HTML||s===Tx.APPLICATION_XML}}return e===Ie.SVG&&(t===_.FOREIGN_OBJECT||t===_.DESC||t===_.TITLE)}function DH(t,e,n,r){return(!r||r===Ie.HTML)&&RH(t,e,n)||(!r||r===Ie.MATHML)&&NH(t,e)}const OH="hidden",kH=8,PH=3;var Z;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Z||(Z={}));const LH={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},fR=new Set([_.TABLE,_.TBODY,_.TFOOT,_.THEAD,_.TR]),vx={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:$a,onParseError:null};class Sx{constructor(e,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=Z.INITIAL,this.originalInsertionMode=Z.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...vx,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new sH(this.options,this),this.activeFormattingElements=new dH(this.treeAdapter),this.fragmentContextID=r?ec(this.treeAdapter.getTagName(r)):_.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new fH(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...vx,...n};e??(e=r.treeAdapter.createElement(ce.TEMPLATE,Ie.HTML,[]));const s=r.treeAdapter.createElement("documentmock",Ie.HTML,[]),o=new this(r,s,e);return o.fragmentContextID===_.TEMPLATE&&o.tmplInsertionModeStack.unshift(Z.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var s;if(!this.onParseError)return;const o=(s=e.location)!==null&&s!==void 0?s:LH,u={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(e,n,r){var s,o;(o=(s=this.treeAdapter).onItemPush)===null||o===void 0||o.call(s,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,e,this.openElements.current),n){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===Ie.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,Ie.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Z.TEXT}switchToPlaintextParsing(){this.insertionMode=Z.TEXT,this.originalInsertionMode=Z.IN_BODY,this.tokenizer.state=Cn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ce.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ie.HTML))switch(this.fragmentContextID){case _.TITLE:case _.TEXTAREA:{this.tokenizer.state=Cn.RCDATA;break}case _.STYLE:case _.XMP:case _.IFRAME:case _.NOEMBED:case _.NOFRAMES:case _.NOSCRIPT:{this.tokenizer.state=Cn.RAWTEXT;break}case _.SCRIPT:{this.tokenizer.state=Cn.SCRIPT_DATA;break}case _.PLAINTEXT:{this.tokenizer.state=Cn.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),e.location){const u=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));u&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,Ie.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,Ie.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ce.HTML,Ie.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,_.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(n),o=r?s.lastIndexOf(r):s.length,u=s[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:f,endCol:d,endOffset:p}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:f,endCol:d,endOffset:p})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(e),o=n.type===mt.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===_.SVG&&this.treeAdapter.getTagName(n)===ce.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===Ie.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===_.MGLYPH||e.tagID===_.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,Ie.HTML)}_processToken(e){switch(e.type){case mt.CHARACTER:{this.onCharacter(e);break}case mt.NULL_CHARACTER:{this.onNullCharacter(e);break}case mt.COMMENT:{this.onComment(e);break}case mt.DOCTYPE:{this.onDoctype(e);break}case mt.START_TAG:{this._processStartTag(e);break}case mt.END_TAG:{this.onEndTag(e);break}case mt.EOF:{this.onEof(e);break}case mt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const s=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return DH(e,s,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===As.Marker||this.openElements.contains(s.element)),r=n===-1?e-1:n-1;for(let s=r;s>=0;s--){const o=this.activeFormattingElements.entries[s];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Z.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(_.P),this.openElements.popUntilTagNamePopped(_.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case _.TR:{this.insertionMode=Z.IN_ROW;return}case _.TBODY:case _.THEAD:case _.TFOOT:{this.insertionMode=Z.IN_TABLE_BODY;return}case _.CAPTION:{this.insertionMode=Z.IN_CAPTION;return}case _.COLGROUP:{this.insertionMode=Z.IN_COLUMN_GROUP;return}case _.TABLE:{this.insertionMode=Z.IN_TABLE;return}case _.BODY:{this.insertionMode=Z.IN_BODY;return}case _.FRAMESET:{this.insertionMode=Z.IN_FRAMESET;return}case _.SELECT:{this._resetInsertionModeForSelect(e);return}case _.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case _.HTML:{this.insertionMode=this.headElement?Z.AFTER_HEAD:Z.BEFORE_HEAD;return}case _.TD:case _.TH:{if(e>0){this.insertionMode=Z.IN_CELL;return}break}case _.HEAD:{if(e>0){this.insertionMode=Z.IN_HEAD;return}break}}this.insertionMode=Z.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===_.TEMPLATE)break;if(r===_.TABLE){this.insertionMode=Z.IN_SELECT_IN_TABLE;return}}this.insertionMode=Z.IN_SELECT}_isElementCausesFosterParenting(e){return fR.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case _.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===Ie.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case _.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return tH[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){hF(this,e);return}switch(this.insertionMode){case Z.INITIAL:{lh(this,e);break}case Z.BEFORE_HTML:{Ph(this,e);break}case Z.BEFORE_HEAD:{Lh(this,e);break}case Z.IN_HEAD:{Mh(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{Bh(this,e);break}case Z.AFTER_HEAD:{Uh(this,e);break}case Z.IN_BODY:case Z.IN_CAPTION:case Z.IN_CELL:case Z.IN_TEMPLATE:{mR(this,e);break}case Z.TEXT:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case Z.IN_TABLE:case Z.IN_TABLE_BODY:case Z.IN_ROW:{Ly(this,e);break}case Z.IN_TABLE_TEXT:{bR(this,e);break}case Z.IN_COLUMN_GROUP:{Jm(this,e);break}case Z.AFTER_BODY:{e0(this,e);break}case Z.AFTER_AFTER_BODY:{xm(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){cF(this,e);return}switch(this.insertionMode){case Z.INITIAL:{lh(this,e);break}case Z.BEFORE_HTML:{Ph(this,e);break}case Z.BEFORE_HEAD:{Lh(this,e);break}case Z.IN_HEAD:{Mh(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{Bh(this,e);break}case Z.AFTER_HEAD:{Uh(this,e);break}case Z.TEXT:{this._insertCharacters(e);break}case Z.IN_TABLE:case Z.IN_TABLE_BODY:case Z.IN_ROW:{Ly(this,e);break}case Z.IN_COLUMN_GROUP:{Jm(this,e);break}case Z.AFTER_BODY:{e0(this,e);break}case Z.AFTER_AFTER_BODY:{xm(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){UE(this,e);return}switch(this.insertionMode){case Z.INITIAL:case Z.BEFORE_HTML:case Z.BEFORE_HEAD:case Z.IN_HEAD:case Z.IN_HEAD_NO_SCRIPT:case Z.AFTER_HEAD:case Z.IN_BODY:case Z.IN_TABLE:case Z.IN_CAPTION:case Z.IN_COLUMN_GROUP:case Z.IN_TABLE_BODY:case Z.IN_ROW:case Z.IN_CELL:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:case Z.IN_TEMPLATE:case Z.IN_FRAMESET:case Z.AFTER_FRAMESET:{UE(this,e);break}case Z.IN_TABLE_TEXT:{ch(this,e);break}case Z.AFTER_BODY:{FH(this,e);break}case Z.AFTER_AFTER_BODY:case Z.AFTER_AFTER_FRAMESET:{jH(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Z.INITIAL:{qH(this,e);break}case Z.BEFORE_HEAD:case Z.IN_HEAD:case Z.IN_HEAD_NO_SCRIPT:case Z.AFTER_HEAD:{this._err(e,Ee.misplacedDoctype);break}case Z.IN_TABLE_TEXT:{ch(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Ee.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?fF(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Z.INITIAL:{lh(this,e);break}case Z.BEFORE_HTML:{YH(this,e);break}case Z.BEFORE_HEAD:{$H(this,e);break}case Z.IN_HEAD:{rs(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{QH(this,e);break}case Z.AFTER_HEAD:{ZH(this,e);break}case Z.IN_BODY:{Nr(this,e);break}case Z.IN_TABLE:{Bl(this,e);break}case Z.IN_TABLE_TEXT:{ch(this,e);break}case Z.IN_CAPTION:{Xz(this,e);break}case Z.IN_COLUMN_GROUP:{A1(this,e);break}case Z.IN_TABLE_BODY:{Y0(this,e);break}case Z.IN_ROW:{G0(this,e);break}case Z.IN_CELL:{Wz(this,e);break}case Z.IN_SELECT:{SR(this,e);break}case Z.IN_SELECT_IN_TABLE:{Jz(this,e);break}case Z.IN_TEMPLATE:{tF(this,e);break}case Z.AFTER_BODY:{rF(this,e);break}case Z.IN_FRAMESET:{iF(this,e);break}case Z.AFTER_FRAMESET:{aF(this,e);break}case Z.AFTER_AFTER_BODY:{uF(this,e);break}case Z.AFTER_AFTER_FRAMESET:{lF(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?dF(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Z.INITIAL:{lh(this,e);break}case Z.BEFORE_HTML:{GH(this,e);break}case Z.BEFORE_HEAD:{XH(this,e);break}case Z.IN_HEAD:{KH(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{WH(this,e);break}case Z.AFTER_HEAD:{JH(this,e);break}case Z.IN_BODY:{q0(this,e);break}case Z.TEXT:{Uz(this,e);break}case Z.IN_TABLE:{Zh(this,e);break}case Z.IN_TABLE_TEXT:{ch(this,e);break}case Z.IN_CAPTION:{Kz(this,e);break}case Z.IN_COLUMN_GROUP:{Qz(this,e);break}case Z.IN_TABLE_BODY:{VE(this,e);break}case Z.IN_ROW:{vR(this,e);break}case Z.IN_CELL:{Zz(this,e);break}case Z.IN_SELECT:{AR(this,e);break}case Z.IN_SELECT_IN_TABLE:{eF(this,e);break}case Z.IN_TEMPLATE:{nF(this,e);break}case Z.AFTER_BODY:{wR(this,e);break}case Z.IN_FRAMESET:{sF(this,e);break}case Z.AFTER_FRAMESET:{oF(this,e);break}case Z.AFTER_AFTER_BODY:{xm(this,e);break}}}onEof(e){switch(this.insertionMode){case Z.INITIAL:{lh(this,e);break}case Z.BEFORE_HTML:{Ph(this,e);break}case Z.BEFORE_HEAD:{Lh(this,e);break}case Z.IN_HEAD:{Mh(this,e);break}case Z.IN_HEAD_NO_SCRIPT:{Bh(this,e);break}case Z.AFTER_HEAD:{Uh(this,e);break}case Z.IN_BODY:case Z.IN_TABLE:case Z.IN_CAPTION:case Z.IN_COLUMN_GROUP:case Z.IN_TABLE_BODY:case Z.IN_ROW:case Z.IN_CELL:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:{ER(this,e);break}case Z.TEXT:{Vz(this,e);break}case Z.IN_TABLE_TEXT:{ch(this,e);break}case Z.IN_TEMPLATE:{xR(this,e);break}case Z.AFTER_BODY:case Z.IN_FRAMESET:case Z.AFTER_FRAMESET:case Z.AFTER_AFTER_BODY:case Z.AFTER_AFTER_FRAMESET:{S1(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===X.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case Z.IN_HEAD:case Z.IN_HEAD_NO_SCRIPT:case Z.AFTER_HEAD:case Z.TEXT:case Z.IN_COLUMN_GROUP:case Z.IN_SELECT:case Z.IN_SELECT_IN_TABLE:case Z.IN_FRAMESET:case Z.AFTER_FRAMESET:{this._insertCharacters(e);break}case Z.IN_BODY:case Z.IN_CAPTION:case Z.IN_CELL:case Z.IN_TEMPLATE:case Z.AFTER_BODY:case Z.AFTER_AFTER_BODY:case Z.AFTER_AFTER_FRAMESET:{dR(this,e);break}case Z.IN_TABLE:case Z.IN_TABLE_BODY:case Z.IN_ROW:{Ly(this,e);break}case Z.IN_TABLE_TEXT:{_R(this,e);break}}}}function MH(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):yR(t,e),n}function BH(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const s=t.openElements.items[r];if(s===e.element)break;t._isSpecialElement(s,t.openElements.tagIDs[r])&&(n=s)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function UH(t,e,n){let r=e,s=t.openElements.getCommonAncestor(e);for(let o=0,u=s;u!==n;o++,u=s){s=t.openElements.getCommonAncestor(u);const c=t.activeFormattingElements.getElementEntry(u),f=c&&o>=PH;!c||f?(f&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(u)):(u=VH(t,c),r===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(u,r),r=u)}return r}function VH(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function HH(t,e,n){const r=t.treeAdapter.getTagName(e),s=ec(r);if(t._isElementCausesFosterParenting(s))t._fosterParentElement(n);else{const o=t.treeAdapter.getNamespaceURI(e);s===_.TEMPLATE&&o===Ie.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function zH(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:s}=n,o=t.treeAdapter.createElement(s.tagName,r,s.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,s),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o,s.tagID)}function v1(t,e){for(let n=0;n<kH;n++){const r=MH(t,e);if(!r)break;const s=BH(t,r);if(!s)break;t.activeFormattingElements.bookmark=r;const o=UH(t,s,r.element),u=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),u&&HH(t,u,o),zH(t,s,r)}}function UE(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function FH(t,e){t._appendCommentNode(e,t.openElements.items[0])}function jH(t,e){t._appendCommentNode(e,t.document)}function S1(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],s=t.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],u=t.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&t._setEndLocation(o,e)}}}}function qH(t,e){t._setDocumentType(e);const n=e.forceQuirks?Vi.QUIRKS:bH(e);_H(e)||t._err(e,Ee.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=Z.BEFORE_HTML}function lh(t,e){t._err(e,Ee.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Vi.QUIRKS),t.insertionMode=Z.BEFORE_HTML,t._processToken(e)}function YH(t,e){e.tagID===_.HTML?(t._insertElement(e,Ie.HTML),t.insertionMode=Z.BEFORE_HEAD):Ph(t,e)}function GH(t,e){const n=e.tagID;(n===_.HTML||n===_.HEAD||n===_.BODY||n===_.BR)&&Ph(t,e)}function Ph(t,e){t._insertFakeRootElement(),t.insertionMode=Z.BEFORE_HEAD,t._processToken(e)}function $H(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.HEAD:{t._insertElement(e,Ie.HTML),t.headElement=t.openElements.current,t.insertionMode=Z.IN_HEAD;break}default:Lh(t,e)}}function XH(t,e){const n=e.tagID;n===_.HEAD||n===_.BODY||n===_.HTML||n===_.BR?Lh(t,e):t._err(e,Ee.endTagWithoutMatchingOpenElement)}function Lh(t,e){t._insertFakeElement(ce.HEAD,_.HEAD),t.headElement=t.openElements.current,t.insertionMode=Z.IN_HEAD,t._processToken(e)}function rs(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:{t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.TITLE:{t._switchToTextParsing(e,Cn.RCDATA);break}case _.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Cn.RAWTEXT):(t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_HEAD_NO_SCRIPT);break}case _.NOFRAMES:case _.STYLE:{t._switchToTextParsing(e,Cn.RAWTEXT);break}case _.SCRIPT:{t._switchToTextParsing(e,Cn.SCRIPT_DATA);break}case _.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=Z.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(Z.IN_TEMPLATE);break}case _.HEAD:{t._err(e,Ee.misplacedStartTagForHeadElement);break}default:Mh(t,e)}}function KH(t,e){switch(e.tagID){case _.HEAD:{t.openElements.pop(),t.insertionMode=Z.AFTER_HEAD;break}case _.BODY:case _.BR:case _.HTML:{Mh(t,e);break}case _.TEMPLATE:{_u(t,e);break}default:t._err(e,Ee.endTagWithoutMatchingOpenElement)}}function _u(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==_.TEMPLATE&&t._err(e,Ee.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,Ee.endTagWithoutMatchingOpenElement)}function Mh(t,e){t.openElements.pop(),t.insertionMode=Z.AFTER_HEAD,t._processToken(e)}function QH(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.BASEFONT:case _.BGSOUND:case _.HEAD:case _.LINK:case _.META:case _.NOFRAMES:case _.STYLE:{rs(t,e);break}case _.NOSCRIPT:{t._err(e,Ee.nestedNoscriptInHead);break}default:Bh(t,e)}}function WH(t,e){switch(e.tagID){case _.NOSCRIPT:{t.openElements.pop(),t.insertionMode=Z.IN_HEAD;break}case _.BR:{Bh(t,e);break}default:t._err(e,Ee.endTagWithoutMatchingOpenElement)}}function Bh(t,e){const n=e.type===mt.EOF?Ee.openElementsLeftAfterEof:Ee.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=Z.IN_HEAD,t._processToken(e)}function ZH(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.BODY:{t._insertElement(e,Ie.HTML),t.framesetOk=!1,t.insertionMode=Z.IN_BODY;break}case _.FRAMESET:{t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_FRAMESET;break}case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{t._err(e,Ee.abandonedHeadElementChild),t.openElements.push(t.headElement,_.HEAD),rs(t,e),t.openElements.remove(t.headElement);break}case _.HEAD:{t._err(e,Ee.misplacedStartTagForHeadElement);break}default:Uh(t,e)}}function JH(t,e){switch(e.tagID){case _.BODY:case _.HTML:case _.BR:{Uh(t,e);break}case _.TEMPLATE:{_u(t,e);break}default:t._err(e,Ee.endTagWithoutMatchingOpenElement)}}function Uh(t,e){t._insertFakeElement(ce.BODY,_.BODY),t.insertionMode=Z.IN_BODY,j0(t,e)}function j0(t,e){switch(e.type){case mt.CHARACTER:{mR(t,e);break}case mt.WHITESPACE_CHARACTER:{dR(t,e);break}case mt.COMMENT:{UE(t,e);break}case mt.START_TAG:{Nr(t,e);break}case mt.END_TAG:{q0(t,e);break}case mt.EOF:{ER(t,e);break}}}function dR(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function mR(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function ez(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function tz(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function nz(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_FRAMESET)}function rz(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML)}function iz(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&BE.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,Ie.HTML)}function sz(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function az(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),n||(t.formElement=t.openElements.current))}function oz(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const s=t.openElements.tagIDs[r];if(n===_.LI&&s===_.LI||(n===_.DD||n===_.DT)&&(s===_.DD||s===_.DT)){t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s);break}if(s!==_.ADDRESS&&s!==_.DIV&&s!==_.P&&t._isSpecialElement(t.openElements.items[r],s))break}t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML)}function uz(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),t.tokenizer.state=Cn.PLAINTEXT}function lz(t,e){t.openElements.hasInScope(_.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.framesetOk=!1}function cz(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(ce.A);n&&(v1(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function hz(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function fz(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(_.NOBR)&&(v1(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,Ie.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function dz(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function mz(t,e){t.treeAdapter.getDocumentMode(t.document)!==Vi.QUIRKS&&t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._insertElement(e,Ie.HTML),t.framesetOk=!1,t.insertionMode=Z.IN_TABLE}function pR(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ie.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function gR(t){const e=iR(t,tu.TYPE);return e!=null&&e.toLowerCase()===OH}function pz(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,Ie.HTML),gR(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function gz(t,e){t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0}function yz(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._appendElement(e,Ie.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Ez(t,e){e.tagName=ce.IMG,e.tagID=_.IMG,pR(t,e)}function _z(t,e){t._insertElement(e,Ie.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Cn.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=Z.TEXT}function bz(t,e){t.openElements.hasInButtonScope(_.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Cn.RAWTEXT)}function Tz(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Cn.RAWTEXT)}function Ax(t,e){t._switchToTextParsing(e,Cn.RAWTEXT)}function vz(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===Z.IN_TABLE||t.insertionMode===Z.IN_CAPTION||t.insertionMode===Z.IN_TABLE_BODY||t.insertionMode===Z.IN_ROW||t.insertionMode===Z.IN_CELL?Z.IN_SELECT_IN_TABLE:Z.IN_SELECT}function Sz(t,e){t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML)}function Az(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,Ie.HTML)}function xz(t,e){t.openElements.hasInScope(_.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(_.RTC),t._insertElement(e,Ie.HTML)}function wz(t,e){t._reconstructActiveFormattingElements(),cR(e),T1(e),e.selfClosing?t._appendElement(e,Ie.MATHML):t._insertElement(e,Ie.MATHML),e.ackSelfClosing=!0}function Iz(t,e){t._reconstructActiveFormattingElements(),hR(e),T1(e),e.selfClosing?t._appendElement(e,Ie.SVG):t._insertElement(e,Ie.SVG),e.ackSelfClosing=!0}function xx(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,Ie.HTML)}function Nr(t,e){switch(e.tagID){case _.I:case _.S:case _.B:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.SMALL:case _.STRIKE:case _.STRONG:{hz(t,e);break}case _.A:{cz(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{iz(t,e);break}case _.P:case _.DL:case _.OL:case _.UL:case _.DIV:case _.DIR:case _.NAV:case _.MAIN:case _.MENU:case _.ASIDE:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.DETAILS:case _.ADDRESS:case _.ARTICLE:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{rz(t,e);break}case _.LI:case _.DD:case _.DT:{oz(t,e);break}case _.BR:case _.IMG:case _.WBR:case _.AREA:case _.EMBED:case _.KEYGEN:{pR(t,e);break}case _.HR:{yz(t,e);break}case _.RB:case _.RTC:{Az(t,e);break}case _.RT:case _.RP:{xz(t,e);break}case _.PRE:case _.LISTING:{sz(t,e);break}case _.XMP:{bz(t,e);break}case _.SVG:{Iz(t,e);break}case _.HTML:{ez(t,e);break}case _.BASE:case _.LINK:case _.META:case _.STYLE:case _.TITLE:case _.SCRIPT:case _.BGSOUND:case _.BASEFONT:case _.TEMPLATE:{rs(t,e);break}case _.BODY:{tz(t,e);break}case _.FORM:{az(t,e);break}case _.NOBR:{fz(t,e);break}case _.MATH:{wz(t,e);break}case _.TABLE:{mz(t,e);break}case _.INPUT:{pz(t,e);break}case _.PARAM:case _.TRACK:case _.SOURCE:{gz(t,e);break}case _.IMAGE:{Ez(t,e);break}case _.BUTTON:{lz(t,e);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{dz(t,e);break}case _.IFRAME:{Tz(t,e);break}case _.SELECT:{vz(t,e);break}case _.OPTION:case _.OPTGROUP:{Sz(t,e);break}case _.NOEMBED:case _.NOFRAMES:{Ax(t,e);break}case _.FRAMESET:{nz(t,e);break}case _.TEXTAREA:{_z(t,e);break}case _.NOSCRIPT:{t.options.scriptingEnabled?Ax(t,e):xx(t,e);break}case _.PLAINTEXT:{uz(t,e);break}case _.COL:case _.TH:case _.TD:case _.TR:case _.HEAD:case _.FRAME:case _.TBODY:case _.TFOOT:case _.THEAD:case _.CAPTION:case _.COLGROUP:break;default:xx(t,e)}}function Cz(t,e){if(t.openElements.hasInScope(_.BODY)&&(t.insertionMode=Z.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function Nz(t,e){t.openElements.hasInScope(_.BODY)&&(t.insertionMode=Z.AFTER_BODY,wR(t,e))}function Rz(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function Dz(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(_.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(_.FORM):n&&t.openElements.remove(n))}function Oz(t){t.openElements.hasInButtonScope(_.P)||t._insertFakeElement(ce.P,_.P),t._closePElement()}function kz(t){t.openElements.hasInListItemScope(_.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(_.LI),t.openElements.popUntilTagNamePopped(_.LI))}function Pz(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function Lz(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function Mz(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function Bz(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(ce.BR,_.BR),t.openElements.pop(),t.framesetOk=!1}function yR(t,e){const n=e.tagName,r=e.tagID;for(let s=t.openElements.stackTop;s>0;s--){const o=t.openElements.items[s],u=t.openElements.tagIDs[s];if(r===u&&(r!==_.UNKNOWN||t.treeAdapter.getTagName(o)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=s&&t.openElements.shortenToLength(s);break}if(t._isSpecialElement(o,u))break}}function q0(t,e){switch(e.tagID){case _.A:case _.B:case _.I:case _.S:case _.U:case _.EM:case _.TT:case _.BIG:case _.CODE:case _.FONT:case _.NOBR:case _.SMALL:case _.STRIKE:case _.STRONG:{v1(t,e);break}case _.P:{Oz(t);break}case _.DL:case _.UL:case _.OL:case _.DIR:case _.DIV:case _.NAV:case _.PRE:case _.MAIN:case _.MENU:case _.ASIDE:case _.BUTTON:case _.CENTER:case _.FIGURE:case _.FOOTER:case _.HEADER:case _.HGROUP:case _.DIALOG:case _.ADDRESS:case _.ARTICLE:case _.DETAILS:case _.SEARCH:case _.SECTION:case _.SUMMARY:case _.LISTING:case _.FIELDSET:case _.BLOCKQUOTE:case _.FIGCAPTION:{Rz(t,e);break}case _.LI:{kz(t);break}case _.DD:case _.DT:{Pz(t,e);break}case _.H1:case _.H2:case _.H3:case _.H4:case _.H5:case _.H6:{Lz(t);break}case _.BR:{Bz(t);break}case _.BODY:{Cz(t,e);break}case _.HTML:{Nz(t,e);break}case _.FORM:{Dz(t);break}case _.APPLET:case _.OBJECT:case _.MARQUEE:{Mz(t,e);break}case _.TEMPLATE:{_u(t,e);break}default:yR(t,e)}}function ER(t,e){t.tmplInsertionModeStack.length>0?xR(t,e):S1(t,e)}function Uz(t,e){var n;e.tagID===_.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function Vz(t,e){t._err(e,Ee.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Ly(t,e){if(t.openElements.currentTagId!==void 0&&fR.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=Z.IN_TABLE_TEXT,e.type){case mt.CHARACTER:{bR(t,e);break}case mt.WHITESPACE_CHARACTER:{_R(t,e);break}}else Sf(t,e)}function Hz(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_CAPTION}function zz(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_COLUMN_GROUP}function Fz(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ce.COLGROUP,_.COLGROUP),t.insertionMode=Z.IN_COLUMN_GROUP,A1(t,e)}function jz(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_TABLE_BODY}function qz(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(ce.TBODY,_.TBODY),t.insertionMode=Z.IN_TABLE_BODY,Y0(t,e)}function Yz(t,e){t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function Gz(t,e){gR(e)?t._appendElement(e,Ie.HTML):Sf(t,e),e.ackSelfClosing=!0}function $z(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,Ie.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function Bl(t,e){switch(e.tagID){case _.TD:case _.TH:case _.TR:{qz(t,e);break}case _.STYLE:case _.SCRIPT:case _.TEMPLATE:{rs(t,e);break}case _.COL:{Fz(t,e);break}case _.FORM:{$z(t,e);break}case _.TABLE:{Yz(t,e);break}case _.TBODY:case _.TFOOT:case _.THEAD:{jz(t,e);break}case _.INPUT:{Gz(t,e);break}case _.CAPTION:{Hz(t,e);break}case _.COLGROUP:{zz(t,e);break}default:Sf(t,e)}}function Zh(t,e){switch(e.tagID){case _.TABLE:{t.openElements.hasInTableScope(_.TABLE)&&(t.openElements.popUntilTagNamePopped(_.TABLE),t._resetInsertionMode());break}case _.TEMPLATE:{_u(t,e);break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:Sf(t,e)}}function Sf(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,j0(t,e),t.fosterParentingEnabled=n}function _R(t,e){t.pendingCharacterTokens.push(e)}function bR(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function ch(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)Sf(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const TR=new Set([_.CAPTION,_.COL,_.COLGROUP,_.TBODY,_.TD,_.TFOOT,_.TH,_.THEAD,_.TR]);function Xz(t,e){const n=e.tagID;TR.has(n)?t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Z.IN_TABLE,Bl(t,e)):Nr(t,e)}function Kz(t,e){const n=e.tagID;switch(n){case _.CAPTION:case _.TABLE:{t.openElements.hasInTableScope(_.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(_.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Z.IN_TABLE,n===_.TABLE&&Zh(t,e));break}case _.BODY:case _.COL:case _.COLGROUP:case _.HTML:case _.TBODY:case _.TD:case _.TFOOT:case _.TH:case _.THEAD:case _.TR:break;default:q0(t,e)}}function A1(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.COL:{t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.TEMPLATE:{rs(t,e);break}default:Jm(t,e)}}function Qz(t,e){switch(e.tagID){case _.COLGROUP:{t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=Z.IN_TABLE);break}case _.TEMPLATE:{_u(t,e);break}case _.COL:break;default:Jm(t,e)}}function Jm(t,e){t.openElements.currentTagId===_.COLGROUP&&(t.openElements.pop(),t.insertionMode=Z.IN_TABLE,t._processToken(e))}function Y0(t,e){switch(e.tagID){case _.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_ROW;break}case _.TH:case _.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(ce.TR,_.TR),t.insertionMode=Z.IN_ROW,G0(t,e);break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE,Bl(t,e));break}default:Bl(t,e)}}function VE(t,e){const n=e.tagID;switch(e.tagID){case _.TBODY:case _.TFOOT:case _.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE);break}case _.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE,Zh(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:case _.TR:break;default:Zh(t,e)}}function G0(t,e){switch(e.tagID){case _.TH:case _.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,Ie.HTML),t.insertionMode=Z.IN_CELL,t.activeFormattingElements.insertMarker();break}case _.CAPTION:case _.COL:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY,Y0(t,e));break}default:Bl(t,e)}}function vR(t,e){switch(e.tagID){case _.TR:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY);break}case _.TABLE:{t.openElements.hasInTableScope(_.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY,VE(t,e));break}case _.TBODY:case _.TFOOT:case _.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(_.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=Z.IN_TABLE_BODY,VE(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:case _.TD:case _.TH:break;default:Zh(t,e)}}function Wz(t,e){const n=e.tagID;TR.has(n)?(t.openElements.hasInTableScope(_.TD)||t.openElements.hasInTableScope(_.TH))&&(t._closeTableCell(),G0(t,e)):Nr(t,e)}function Zz(t,e){const n=e.tagID;switch(n){case _.TD:case _.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=Z.IN_ROW);break}case _.TABLE:case _.TBODY:case _.TFOOT:case _.THEAD:case _.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),vR(t,e));break}case _.BODY:case _.CAPTION:case _.COL:case _.COLGROUP:case _.HTML:break;default:q0(t,e)}}function SR(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t._insertElement(e,Ie.HTML);break}case _.OPTGROUP:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._insertElement(e,Ie.HTML);break}case _.HR:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop(),t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.INPUT:case _.KEYGEN:case _.TEXTAREA:case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),e.tagID!==_.SELECT&&t._processStartTag(e));break}case _.SCRIPT:case _.TEMPLATE:{rs(t,e);break}}}function AR(t,e){switch(e.tagID){case _.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===_.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===_.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===_.OPTGROUP&&t.openElements.pop();break}case _.OPTION:{t.openElements.currentTagId===_.OPTION&&t.openElements.pop();break}case _.SELECT:{t.openElements.hasInSelectScope(_.SELECT)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode());break}case _.TEMPLATE:{_u(t,e);break}}}function Jz(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t._processStartTag(e)):SR(t,e)}function eF(t,e){const n=e.tagID;n===_.CAPTION||n===_.TABLE||n===_.TBODY||n===_.TFOOT||n===_.THEAD||n===_.TR||n===_.TD||n===_.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(_.SELECT),t._resetInsertionMode(),t.onEndTag(e)):AR(t,e)}function tF(t,e){switch(e.tagID){case _.BASE:case _.BASEFONT:case _.BGSOUND:case _.LINK:case _.META:case _.NOFRAMES:case _.SCRIPT:case _.STYLE:case _.TEMPLATE:case _.TITLE:{rs(t,e);break}case _.CAPTION:case _.COLGROUP:case _.TBODY:case _.TFOOT:case _.THEAD:{t.tmplInsertionModeStack[0]=Z.IN_TABLE,t.insertionMode=Z.IN_TABLE,Bl(t,e);break}case _.COL:{t.tmplInsertionModeStack[0]=Z.IN_COLUMN_GROUP,t.insertionMode=Z.IN_COLUMN_GROUP,A1(t,e);break}case _.TR:{t.tmplInsertionModeStack[0]=Z.IN_TABLE_BODY,t.insertionMode=Z.IN_TABLE_BODY,Y0(t,e);break}case _.TD:case _.TH:{t.tmplInsertionModeStack[0]=Z.IN_ROW,t.insertionMode=Z.IN_ROW,G0(t,e);break}default:t.tmplInsertionModeStack[0]=Z.IN_BODY,t.insertionMode=Z.IN_BODY,Nr(t,e)}}function nF(t,e){e.tagID===_.TEMPLATE&&_u(t,e)}function xR(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(_.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):S1(t,e)}function rF(t,e){e.tagID===_.HTML?Nr(t,e):e0(t,e)}function wR(t,e){var n;if(e.tagID===_.HTML){if(t.fragmentContext||(t.insertionMode=Z.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===_.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else e0(t,e)}function e0(t,e){t.insertionMode=Z.IN_BODY,j0(t,e)}function iF(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.FRAMESET:{t._insertElement(e,Ie.HTML);break}case _.FRAME:{t._appendElement(e,Ie.HTML),e.ackSelfClosing=!0;break}case _.NOFRAMES:{rs(t,e);break}}}function sF(t,e){e.tagID===_.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==_.FRAMESET&&(t.insertionMode=Z.AFTER_FRAMESET))}function aF(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.NOFRAMES:{rs(t,e);break}}}function oF(t,e){e.tagID===_.HTML&&(t.insertionMode=Z.AFTER_AFTER_FRAMESET)}function uF(t,e){e.tagID===_.HTML?Nr(t,e):xm(t,e)}function xm(t,e){t.insertionMode=Z.IN_BODY,j0(t,e)}function lF(t,e){switch(e.tagID){case _.HTML:{Nr(t,e);break}case _.NOFRAMES:{rs(t,e);break}}}function cF(t,e){e.chars=mn,t._insertCharacters(e)}function hF(t,e){t._insertCharacters(e),t.framesetOk=!1}function IR(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==Ie.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function fF(t,e){if(IH(e))IR(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===Ie.MATHML?cR(e):r===Ie.SVG&&(CH(e),hR(e)),T1(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function dF(t,e){if(e.tagID===_.P||e.tagID===_.BR){IR(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===Ie.HTML){t._endTagOutsideForeignContent(e);break}const s=t.treeAdapter.getTagName(r);if(s.toLowerCase()===e.tagName){e.tagName=s,t.openElements.shortenToLength(n);break}}}ce.AREA,ce.BASE,ce.BASEFONT,ce.BGSOUND,ce.BR,ce.COL,ce.EMBED,ce.FRAME,ce.HR,ce.IMG,ce.INPUT,ce.KEYGEN,ce.LINK,ce.META,ce.PARAM,ce.SOURCE,ce.TRACK,ce.WBR;const mF=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,pF=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),wx={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function CR(t,e){const n=xF(t),r=JN("type",{handlers:{root:gF,element:yF,text:EF,comment:RR,doctype:_F,raw:TF},unknown:vF}),s={parser:n?new Sx(wx):Sx.getFragmentParser(void 0,wx),handle(c){r(c,s)},stitches:!1,options:e||{}};r(t,s),tc(s,Ls());const o=n?s.parser.document:s.parser.getFragment(),u=gV(o,{file:s.options.file});return s.stitches&&g1(u,"comment",function(c,f,d){const p=c;if(p.value.stitch&&d&&f!==void 0){const y=d.children;return y[f]=p.value.stitch,f}}),u.type==="root"&&u.children.length===1&&u.children[0].type===t.type?u.children[0]:u}function NR(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function gF(t,e){NR(t.children,e)}function yF(t,e){SF(t,e),NR(t.children,e),AF(t,e)}function EF(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:mt.CHARACTER,chars:t.value,location:Af(t)};tc(e,Ls(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function _F(t,e){const n={type:mt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Af(t)};tc(e,Ls(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function bF(t,e){e.stitches=!0;const n=wF(t);if("children"in t&&"children"in n){const r=CR({type:"root",children:t.children},e.options);n.children=r.children}RR({type:"comment",value:{stitch:n}},e)}function RR(t,e){const n=t.value,r={type:mt.COMMENT,data:n,location:Af(t)};tc(e,Ls(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function TF(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,DR(e,Ls(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(mF,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function vF(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))bF(n,e);else{let r="";throw pF.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function tc(t,e){DR(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=Cn.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function DR(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function SF(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===Cn.PLAINTEXT)return;tc(e,Ls(t));const r=e.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:Zo.html;s===Zo.html&&n==="svg"&&(s=Zo.svg);const o=DV({...t,children:[]},{space:s===Zo.svg?"svg":"html"}),u={type:mt.START_TAG,tagName:n,tagID:ec(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:Af(t)};e.parser.currentToken=u,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function AF(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&VV.includes(n)||e.parser.tokenizer.state===Cn.PLAINTEXT)return;tc(e,V0(t));const r={type:mt.END_TAG,tagName:n,tagID:ec(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Af(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===Cn.RCDATA||e.parser.tokenizer.state===Cn.RAWTEXT||e.parser.tokenizer.state===Cn.SCRIPT_DATA)&&(e.parser.tokenizer.state=Cn.DATA)}function xF(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function Af(t){const e=Ls(t)||{line:void 0,column:void 0,offset:void 0},n=V0(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function wF(t){return"children"in t?Ml({...t,children:[]}):Ml(t)}function IF(t){return function(e,n){return CR(e,{...t,file:n})}}function CF({explanation:t,onClose:e,isVisible:n}){return n?$.jsxs("div",{className:"h-full flex flex-col",children:[$.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200/50 dark:border-gray-700/50",children:[$.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 flex items-center gap-2",children:[$.jsx("span",{className:"text-blue-500",children:""}),"Explanation"]}),$.jsx("button",{className:`text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 
                             p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700/50 
                             transition-all duration-200 transform hover:scale-105`,onClick:e,title:"Close explanation","aria-label":"Close explanation sidebar",children:$.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:$.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),$.jsx("div",{className:"p-6 overflow-y-auto flex-1 scrollbar-thin",children:t?$.jsxs($.Fragment,{children:[$.jsx("div",{className:"mb-6",children:$.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 leading-tight",children:t.title})}),$.jsx("div",{className:`prose prose-gray dark:prose-invert max-w-none text-gray-700 dark:text-gray-300
                                      [&>h1]:text-gray-900 [&>h1]:dark:text-gray-100 [&>h1]:text-2xl [&>h1]:font-bold [&>h1]:mb-4 [&>h1]:mt-6
                                      [&>h2]:text-gray-900 [&>h2]:dark:text-gray-100 [&>h2]:text-xl [&>h2]:font-semibold [&>h2]:mb-3 [&>h2]:mt-5
                                      [&>h3]:text-gray-900 [&>h3]:dark:text-gray-100 [&>h3]:text-lg [&>h3]:font-medium [&>h3]:mb-2 [&>h3]:mt-4
                                      [&>p]:text-gray-700 [&>p]:dark:text-gray-300 [&>p]:leading-relaxed [&>p]:mb-4
                                      [&>ul]:text-gray-700 [&>ul]:dark:text-gray-300 [&>ul]:mb-4 [&>ul>li]:mb-2
                                      [&>ol]:text-gray-700 [&>ol]:dark:text-gray-300 [&>ol]:mb-4 [&>ol>li]:mb-2
                                      [&>blockquote]:border-l-4 [&>blockquote]:border-blue-400 [&>blockquote]:pl-4 [&>blockquote]:italic [&>blockquote]:text-gray-600 [&>blockquote]:dark:text-gray-400 [&>blockquote]:bg-blue-50 [&>blockquote]:dark:bg-blue-900/20 [&>blockquote]:py-2 [&>blockquote]:rounded-r-lg
                                      [&>code]:bg-gray-100 [&>code]:dark:bg-gray-800 [&>code]:text-blue-600 [&>code]:dark:text-blue-400 [&>code]:px-2 [&>code]:py-1 [&>code]:rounded [&>code]:text-sm [&>code]:font-medium
                                      [&>pre]:bg-gray-100 [&>pre]:dark:bg-gray-800 [&>pre]:text-gray-800 [&>pre]:dark:text-gray-200 [&>pre]:p-4 [&>pre]:rounded-lg [&>pre]:overflow-x-auto [&>pre]:mb-4 [&>pre]:border [&>pre]:border-gray-200 [&>pre]:dark:border-gray-700`,children:$.jsx(tV,{rehypePlugins:[IF],children:t.text})})]}):$.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:$.jsxs("div",{className:"text-center",children:[$.jsx("div",{className:"text-6xl mb-6 opacity-60",children:""}),$.jsx("p",{className:"text-xl font-medium mb-2",children:"No explanation available"}),$.jsx("p",{className:"text-sm opacity-75",children:"Click on a node to see its explanation"})]})})})]}):null}const OR=se.createContext(void 0),NF=()=>{const t=se.useContext(OR);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},RF=({children:t})=>{const[e,n]=se.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});se.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(s=>s==="light"?"dark":"light")};return $.jsx(OR.Provider,{value:{theme:e,toggleTheme:r},children:t})},kR=()=>{const{theme:t,toggleTheme:e}=NF();return $.jsx("button",{onClick:e,className:`p-2.5 rounded-xl bg-gray-200/80 dark:bg-gray-800/80 text-gray-700 dark:text-gray-300 
                     hover:bg-gray-300/80 dark:hover:bg-gray-700/80 border border-gray-300/60 dark:border-gray-700/60
                     hover:border-gray-400/60 dark:hover:border-gray-600/60 transition-all duration-200 
                     focus:outline-none focus:ring-2 focus:ring-indigo-500/30 dark:focus:ring-indigo-400/30
                     backdrop-blur-sm shadow-sm hover:shadow-md`,title:`Switch to ${t==="light"?"dark":"light"} mode`,"aria-label":`Switch to ${t==="light"?"dark":"light"} mode`,children:t==="light"?$.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:$.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):$.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:$.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})})})};function DF({name:t,onSetName:e,user:n,isSaving:r}){const[s,o]=se.useState(!1),[u,c]=se.useState(t||"");se.useEffect(()=>{c(t||"")},[t]);const f=p=>{p.key==="Enter"&&(e(u),o(!1))},d=()=>{o(!0),c(t||"")};return $.jsx($.Fragment,{children:$.jsx("div",{className:"name bg-gray-900 dark:bg-gray-950 border-b border-gray-700 dark:border-gray-800",children:$.jsx("div",{className:"app-container max-w-7xl mx-auto px-4",children:$.jsxs("header",{className:"app-header flex justify-between items-center py-4",children:[$.jsxs("div",{className:"flex items-center gap-4",children:[$.jsxs("div",{className:"flex items-center space-x-2",children:[$.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:$.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),$.jsx("h1",{className:"text-xl font-bold text-white dark:text-white",children:"TinkFlow"})]}),$.jsx("span",{className:"text-slate-500 dark:text-slate-500 text-sm",children:""}),s?$.jsx("input",{type:"text",value:u,onChange:p=>c(p.target.value),onKeyDown:f,onBlur:()=>{e(u),o(!1)},className:`bg-gray-800 dark:bg-gray-800 border border-white/20 dark:border-white/20 
                                             rounded px-2 py-1 text-slate-100 dark:text-slate-100 text-sm min-w-[120px]
                                             focus:outline-none focus:border-blue-400 dark:focus:border-blue-400`,autoFocus:!0}):$.jsx("button",{onClick:d,className:`bg-transparent border-none text-slate-400 dark:text-slate-400 text-sm cursor-pointer 
                                             px-2 py-1 rounded transition-all duration-150 ease-in-out
                                             hover:bg-white/5 dark:hover:bg-white/5 hover:text-slate-100 dark:hover:text-slate-100`,children:t||"Untitled Board"})]}),$.jsxs("div",{className:"user-info flex items-center gap-3",children:[$.jsx(kR,{}),$.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm font-medium",children:n?.isAnonymous?"Guest":n?.email?.split("@")[0]||"User"}),r&&$.jsxs("div",{className:`text-emerald-500 dark:text-emerald-400 text-sm flex items-center gap-2 
                                               bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1.5 rounded-full border border-emerald-200 dark:border-emerald-700/50
                                               animate-pulse`,children:[$.jsx("div",{className:"w-2 h-2 bg-emerald-500 dark:bg-emerald-400 rounded-full animate-bounce"}),$.jsx("span",{className:"font-medium",children:"Saving..."})]})]})]})})})})}const OF=({notification:t,onRemove:e})=>{const n=s=>{switch(s){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}},r=s=>{switch(s){case"success":return"bg-green-900/20 dark:bg-green-900/30 border-green-500/30 dark:border-green-500/40 text-green-300 dark:text-green-400";case"error":return"bg-red-900/20 dark:bg-red-900/30 border-red-500/30 dark:border-red-500/40 text-red-300 dark:text-red-400";case"warning":return"bg-yellow-900/20 dark:bg-yellow-900/30 border-yellow-500/30 dark:border-yellow-500/40 text-yellow-300 dark:text-yellow-400";case"info":return"bg-blue-900/20 dark:bg-blue-900/30 border-blue-500/30 dark:border-blue-500/40 text-blue-300 dark:text-blue-400";default:return"bg-gray-900/20 dark:bg-gray-900/30 border-gray-500/30 dark:border-gray-500/40 text-gray-300 dark:text-gray-400"}};return $.jsxs("div",{className:`notification relative min-w-80 max-w-md p-4 rounded-xl border shadow-2xl backdrop-blur-sm                         transform transition-all duration-300 ease-out hover:scale-[1.02] hover:shadow-3xl                        ${r(t.type)}`,children:[" ",$.jsxs("div",{className:"flex items-start gap-3",children:[" ",$.jsxs("span",{className:"text-lg flex-shrink-0 mt-0.5",children:[" ",n(t.type)," "]})," ",$.jsxs("div",{className:"flex-1 min-w-0",children:[" ",$.jsxs("p",{className:"text-sm font-medium leading-5 break-words",children:[" ",t.message," "]})," "]})," ",$.jsxs("button",{onClick:()=>e(t.id),className:"flex-shrink-0 text-gray-400 dark:text-gray-500 hover:text-gray-200 dark:hover:text-gray-300                              hover:bg-gray-700/50 dark:hover:bg-gray-600/50                              rounded-full p-1 transition-all duration-200                              focus:outline-none focus:ring-2 focus:ring-gray-500/20 dark:focus:ring-gray-400/20","aria-label":"Close notification",children:[" ",$.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[" ",$.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})," "]})," "]})," "]})," "]})},kF=({notifications:t,onRemove:e})=>$.jsxs("div",{className:"notification-container fixed top-4 right-4 space-y-3 z-[2000] pointer-events-none",children:[" ",t.map(n=>$.jsxs("div",{className:"pointer-events-auto",children:[" ",$.jsx(OF,{notification:n,onRemove:e})," "]},n.id))," "]});function PF({onLogin:t}){return $.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 antialiased",children:[" "," ",$.jsxs("nav",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:[" ",$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",$.jsxs("div",{className:"flex justify-between items-center py-4",children:[" ",$.jsxs("div",{className:"flex items-center space-x-3",children:[" ",$.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:[" ",$.jsx("span",{className:"text-white font-bold text-lg",children:"T"})," "]})," ",$.jsxs("div",{className:"flex flex-col",children:[" ",$.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white tracking-tight",children:"TinkFlow"})," ",$.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"AI Learning Platform"})," "]})," "]})," ",$.jsxs("div",{className:"flex items-center gap-4",children:[" ",$.jsx(kR,{})," ",$.jsxs("button",{onClick:t,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors duration-200",children:[" ","Get Started"," "]})," "]})," "]})," "]})," "]})," "," ",$.jsxs("section",{className:"relative overflow-hidden",children:[" ",$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-32",children:[" ",$.jsxs("div",{className:"text-center",children:[" ",$.jsxs("div",{className:"inline-flex items-center gap-2 bg-indigo-50 dark:bg-indigo-900/20 px-4 py-2 rounded-full mb-8",children:[" ",$.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full animate-pulse"})," ",$.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-medium text-sm",children:"AI-Powered Concept Learning"})," "]})," ",$.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 dark:text-white mb-6 leading-tight",children:[" ","Learn & Tinker with"," ",$.jsxs("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent block",children:[" ","AI-Powered Concepts"," "]})," "]})," ",$.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-10 max-w-3xl mx-auto leading-relaxed",children:[" ","TinkFlow is the ultimate AI-powered platform for exploring, understanding, and experimenting with new concepts. Transform your learning journey with interactive visual flows and intelligent insights."," "]})," ",$.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[" ",$.jsxs("button",{onClick:t,className:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-semibold text-lg transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[" ","Start Learning Now"," "]})," ",$.jsxs("button",{className:"px-8 py-4 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-semibold text-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[" ","Watch Demo"," "]})," "]})," "]})," "]})," "," ",$.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full opacity-10 blur-3xl"})," ",$.jsx("div",{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full opacity-10 blur-2xl"})," "]})," "," ",$.jsxs("section",{className:"py-20 bg-white dark:bg-gray-800",children:[" ",$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",$.jsxs("div",{className:"text-center mb-16",children:[" ",$.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","Everything You Need to Learn"," "]})," ",$.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","AI-powered tools and features designed to accelerate your learning and conceptual understanding"," "]})," "]})," ",$.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[" ",$.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-indigo-200 dark:border-indigo-700/50 hover:transform hover:-translate-y-1",children:[" ",$.jsxs("div",{className:"w-14 h-14 bg-indigo-500 rounded-xl flex items-center justify-center mb-6",children:[" ",$.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})," "]})," "]})," ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","AI-Powered Insights"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Get intelligent explanations and connections between concepts powered by advanced AI that understands your learning style."," "]})," "]})," ",$.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-purple-200 dark:border-purple-700/50 hover:transform hover:-translate-y-1",children:[" ",$.jsxs("div",{className:"w-14 h-14 bg-purple-500 rounded-xl flex items-center justify-center mb-6",children:[" ",$.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"})," "]})," "]})," ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Interactive Visual Flows"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Build and explore concept maps with interactive nodes that respond to your curiosity and create dynamic learning pathways."," "]})," "]})," ",$.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-8 rounded-2xl hover:shadow-lg transition-all duration-200 border border-green-200 dark:border-green-700/50 hover:transform hover:-translate-y-1",children:[" ",$.jsxs("div",{className:"w-14 h-14 bg-green-500 rounded-xl flex items-center justify-center mb-6",children:[" ",$.jsxs("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[" ",$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})," "]})," "]})," ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Experimentation Sandbox"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Tinker with concepts in a safe, guided environment where you can test ideas and see instant results with AI feedback."," "]})," "]})," "]})," "]})," "]})," "," ",$.jsxs("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:[" ",$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",$.jsxs("div",{className:"text-center mb-16",children:[" ",$.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","How TinkFlow Works"," "]})," ",$.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","Three simple steps to unlock your learning potential with AI-powered concept exploration"," "]})," "]})," ",$.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[" ",$.jsxs("div",{className:"text-center",children:[" ",$.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",$.jsx("span",{className:"text-white font-bold text-xl",children:"1"})," "]})," ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Input Your Concept"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Start by entering any topic, question, or concept you want to explore. Our AI understands context and complexity."," "]})," "]})," ",$.jsxs("div",{className:"text-center",children:[" ",$.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",$.jsx("span",{className:"text-white font-bold text-xl",children:"2"})," "]})," ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","AI Generates Flow"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Watch as TinkFlow creates an interactive visual map with connected nodes, each representing key aspects of your concept."," "]})," "]})," ",$.jsxs("div",{className:"text-center",children:[" ",$.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:[" ",$.jsx("span",{className:"text-white font-bold text-xl",children:"3"})," "]})," ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:[" ","Explore & Learn"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:[" ","Click on any node to dive deeper, ask questions, and watch new connections emerge as you explore your learning path."," "]})," "]})," "]})," "]})," "]})," "," ",$.jsxs("section",{className:"py-20 bg-gradient-to-r from-indigo-500 to-purple-600",children:[" ",$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",$.jsxs("div",{className:"grid md:grid-cols-4 gap-8 text-center",children:[" ",$.jsxs("div",{className:"text-white",children:[" ",$.jsx("div",{className:"text-4xl font-bold mb-2",children:"10K+"})," ",$.jsx("div",{className:"text-indigo-100",children:"Concepts Explored"})," "]})," ",$.jsxs("div",{className:"text-white",children:[" ",$.jsx("div",{className:"text-4xl font-bold mb-2",children:"5K+"})," ",$.jsx("div",{className:"text-indigo-100",children:"Active Learners"})," "]})," ",$.jsxs("div",{className:"text-white",children:[" ",$.jsx("div",{className:"text-4xl font-bold mb-2",children:"98%"})," ",$.jsx("div",{className:"text-indigo-100",children:"Learning Success"})," "]})," ",$.jsxs("div",{className:"text-white",children:[" ",$.jsx("div",{className:"text-4xl font-bold mb-2",children:"24/7"})," ",$.jsx("div",{className:"text-indigo-100",children:"AI Support"})," "]})," "]})," "]})," "]})," "," ",$.jsxs("section",{className:"py-20 bg-white dark:bg-gray-800",children:[" ",$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",$.jsxs("div",{className:"text-center mb-16",children:[" ",$.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:[" ","Perfect for Every Learning Style"," "]})," ",$.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:[" ","Whether you're a student, researcher, or curious mind, TinkFlow adapts to your learning needs"," "]})," "]})," ",$.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[" ",$.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/10 dark:to-blue-800/10 p-8 rounded-2xl border border-blue-200 dark:border-blue-700/30",children:[" ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Academic Learning"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Break down complex academic subjects into digestible, interconnected concepts. Perfect for studying sciences, humanities, and technical topics."," "]})," ",$.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",$.jsx("li",{children:" Research paper analysis"})," ",$.jsx("li",{children:" Concept mapping for exams"})," ",$.jsx("li",{children:" Cross-disciplinary connections"})," "]})," "]})," ",$.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/10 dark:to-purple-800/10 p-8 rounded-2xl border border-purple-200 dark:border-purple-700/30",children:[" ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Creative Exploration"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Explore ideas, brainstorm solutions, and discover unexpected connections. Great for creative professionals and innovators."," "]})," ",$.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",$.jsx("li",{children:" Idea generation workflows"})," ",$.jsx("li",{children:" Problem-solving frameworks"})," ",$.jsx("li",{children:" Innovation mapping"})," "]})," "]})," ",$.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/10 dark:to-green-800/10 p-8 rounded-2xl border border-green-200 dark:border-green-700/30",children:[" ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Technical Deep Dives"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Understand complex systems, architectures, and technologies through interactive exploration and AI-guided explanations."," "]})," ",$.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",$.jsx("li",{children:" System architecture learning"})," ",$.jsx("li",{children:" Technology stack exploration"})," ",$.jsx("li",{children:" Code concept mapping"})," "]})," "]})," ",$.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/10 dark:to-orange-800/10 p-8 rounded-2xl border border-orange-200 dark:border-orange-700/30",children:[" ",$.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:[" "," Professional Development"," "]})," ",$.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:[" ","Build skills, understand industry trends, and create learning paths for career advancement with AI-powered insights."," "]})," ",$.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[" ",$.jsx("li",{children:" Skill gap analysis"})," ",$.jsx("li",{children:" Career pathway planning"})," ",$.jsx("li",{children:" Industry trend mapping"})," "]})," "]})," "]})," "]})," "]})," "," ",$.jsxs("section",{className:"py-20 bg-gray-50 dark:bg-gray-900",children:[" ",$.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[" ",$.jsxs("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-6",children:[" ","Ready to Transform Your Learning?"," "]})," ",$.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-10",children:[" ","Join thousands of learners who are already exploring concepts in revolutionary ways with TinkFlow's AI-powered platform."," "]})," ",$.jsxs("button",{onClick:t,className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-12 py-4 rounded-xl text-lg font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[" ","Start Learning for Free"," "]})," ",$.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:[" ","No credit card required  Get started in seconds"," "]})," "]})," "]})," "," ",$.jsxs("footer",{className:"bg-gray-900 text-white py-12",children:[" ",$.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[" ",$.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[" ",$.jsxs("div",{className:"col-span-1",children:[" ",$.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[" ",$.jsxs("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:[" ",$.jsx("span",{className:"text-white font-bold text-sm",children:"T"})," "]})," ",$.jsx("span",{className:"text-xl font-bold",children:"TinkFlow"})," "]})," ",$.jsxs("p",{className:"text-gray-400 text-sm",children:[" ","AI-powered concept learning platform for curious minds."," "]})," "]})," ",$.jsxs("div",{children:[" ",$.jsx("h4",{className:"font-semibold mb-4",children:"Product"})," ",$.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Features"})})," ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Pricing"})})," ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"API"})})," "]})," "]})," ",$.jsxs("div",{children:[" ",$.jsx("h4",{className:"font-semibold mb-4",children:"Resources"})," ",$.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Documentation"})})," ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Tutorials"})})," ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Blog"})})," "]})," "]})," ",$.jsxs("div",{children:[" ",$.jsx("h4",{className:"font-semibold mb-4",children:"Company"})," ",$.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[" ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"})})," ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})})," ",$.jsx("li",{children:$.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})})," "]})," "]})," "]})," ",$.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[" ",$.jsxs("p",{className:"text-gray-400 text-sm",children:[" "," 2024 TinkFlow. All rights reserved."," "]})," ",$.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[" ",$.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",$.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",$.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})," "]})," "]})," ",$.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",$.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",$.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})," "]})," "]})," ",$.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[" ",$.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:[" ",$.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.747.099.12.112.225.085.344-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.001 12.017z"})," "]})," "]})," "]})," "]})," "]})," "]})," "]})}const LF=async()=>{try{await E5(Qm),console.log("User signed out successfully")}catch(t){throw console.error("Error signing out:",t),t}},MF=()=>{const[t,e]=se.useState(null);return se.useEffect(()=>{const r=y5(Qm,s=>{e(s),s?console.log("User signed in:",s.uid):console.log("No user signed in")});return()=>r()},[]),{user:t,signOut:async()=>{try{await LF(),e(null)}catch(r){console.error("Error in sign out:",r)}}}};function Fi(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Fi(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var My={exports:{}},By={},Uy={exports:{}},Vy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function BF(){if(Ix)return Vy;Ix=1;var t=Ps();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(y,b){var T=b(),C=r({inst:{value:T,getSnapshot:b}}),R=C[0].inst,P=C[1];return o(function(){R.value=T,R.getSnapshot=b,f(R)&&P({inst:R})},[y,T,b]),s(function(){return f(R)&&P({inst:R}),y(function(){f(R)&&P({inst:R})})},[y]),u(T),T}function f(y){var b=y.getSnapshot;y=y.value;try{var T=b();return!n(y,T)}catch{return!0}}function d(y,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return Vy.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Vy}var Cx;function UF(){return Cx||(Cx=1,Uy.exports=BF()),Uy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx;function VF(){if(Nx)return By;Nx=1;var t=Ps(),e=UF();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,c=t.useMemo,f=t.useDebugValue;return By.useSyncExternalStoreWithSelector=function(d,p,y,b,T){var C=o(null);if(C.current===null){var R={hasValue:!1,value:null};C.current=R}else R=C.current;C=c(function(){function w(B){if(!N){if(N=!0,M=B,B=b(B),T!==void 0&&R.hasValue){var S=R.value;if(T(S,B))return L=S}return L=B}if(S=L,r(M,B))return S;var x=b(B);return T!==void 0&&T(S,x)?(M=B,S):(M=B,L=x)}var N=!1,M,L,q=y===void 0?null:y;return[function(){return w(p())},q===null?void 0:function(){return w(q())}]},[p,y,b,T]);var P=s(d,C[0],C[1]);return u(function(){R.hasValue=!0,R.value=P},[P]),f(P),P},By}var Rx;function HF(){return Rx||(Rx=1,My.exports=VF()),My.exports}var zF=HF();const FF=h0(zF),jF={},Dx=t=>{let e;const n=new Set,r=(p,y)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const T=e;e=y??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(C=>C(e,T))}},s=()=>e,f={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(jF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,f);return f},qF=t=>t?Dx(t):Dx,{useDebugValue:YF}=Ne,{useSyncExternalStoreWithSelector:GF}=FF,$F=t=>t;function PR(t,e=$F,n){const r=GF(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return YF(r),r}const Ox=(t,e)=>{const n=qF(t),r=(s,o=e)=>PR(n,s,o);return Object.assign(r,n),r},XF=(t,e)=>t?Ox(t,e):Ox;function Jr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var KF={value:()=>{}};function $0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wm(n)}function wm(t){this._=t}function QF(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wm.prototype=$0.prototype={constructor:wm,on:function(t,e){var n=this._,r=QF(t+"",n),s,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((s=(t=r[o]).type)&&(s=WF(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(s=(t=r[o]).type)n[s]=kx(n[s],t.name,e);else if(e==null)for(s in n)n[s]=kx(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new wm(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,s=o.length;r<s;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,o=r.length;s<o;++s)r[s].value.apply(e,n)}};function WF(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function kx(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=KF,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var HE="http://www.w3.org/1999/xhtml";const Px={svg:"http://www.w3.org/2000/svg",xhtml:HE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function X0(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Px.hasOwnProperty(e)?{space:Px[e],local:t}:t}function ZF(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===HE&&e.documentElement.namespaceURI===HE?e.createElement(t):e.createElementNS(n,t)}}function JF(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function LR(t){var e=X0(t);return(e.local?JF:ZF)(e)}function ej(){}function x1(t){return t==null?ej:function(){return this.querySelector(t)}}function tj(t){typeof t!="function"&&(t=x1(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=new Array(u),f,d,p=0;p<u;++p)(f=o[p])&&(d=t.call(f,f.__data__,p,o))&&("__data__"in f&&(d.__data__=f.__data__),c[p]=d);return new bi(r,this._parents)}function nj(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rj(){return[]}function MR(t){return t==null?rj:function(){return this.querySelectorAll(t)}}function ij(t){return function(){return nj(t.apply(this,arguments))}}function sj(t){typeof t=="function"?t=ij(t):t=MR(t);for(var e=this._groups,n=e.length,r=[],s=[],o=0;o<n;++o)for(var u=e[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&(r.push(t.call(f,f.__data__,d,u)),s.push(f));return new bi(r,s)}function BR(t){return function(){return this.matches(t)}}function UR(t){return function(e){return e.matches(t)}}var aj=Array.prototype.find;function oj(t){return function(){return aj.call(this.children,t)}}function uj(){return this.firstElementChild}function lj(t){return this.select(t==null?uj:oj(typeof t=="function"?t:UR(t)))}var cj=Array.prototype.filter;function hj(){return Array.from(this.children)}function fj(t){return function(){return cj.call(this.children,t)}}function dj(t){return this.selectAll(t==null?hj:fj(typeof t=="function"?t:UR(t)))}function mj(t){typeof t!="function"&&(t=BR(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,d=0;d<u;++d)(f=o[d])&&t.call(f,f.__data__,d,o)&&c.push(f);return new bi(r,this._parents)}function VR(t){return new Array(t.length)}function pj(){return new bi(this._enter||this._groups.map(VR),this._parents)}function t0(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}t0.prototype={constructor:t0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function gj(t){return function(){return t}}function yj(t,e,n,r,s,o){for(var u=0,c,f=e.length,d=o.length;u<d;++u)(c=e[u])?(c.__data__=o[u],r[u]=c):n[u]=new t0(t,o[u]);for(;u<f;++u)(c=e[u])&&(s[u]=c)}function Ej(t,e,n,r,s,o,u){var c,f,d=new Map,p=e.length,y=o.length,b=new Array(p),T;for(c=0;c<p;++c)(f=e[c])&&(b[c]=T=u.call(f,f.__data__,c,e)+"",d.has(T)?s[c]=f:d.set(T,f));for(c=0;c<y;++c)T=u.call(t,o[c],c,o)+"",(f=d.get(T))?(r[c]=f,f.__data__=o[c],d.delete(T)):n[c]=new t0(t,o[c]);for(c=0;c<p;++c)(f=e[c])&&d.get(b[c])===f&&(s[c]=f)}function _j(t){return t.__data__}function bj(t,e){if(!arguments.length)return Array.from(this,_j);var n=e?Ej:yj,r=this._parents,s=this._groups;typeof t!="function"&&(t=gj(t));for(var o=s.length,u=new Array(o),c=new Array(o),f=new Array(o),d=0;d<o;++d){var p=r[d],y=s[d],b=y.length,T=Tj(t.call(p,p&&p.__data__,d,r)),C=T.length,R=c[d]=new Array(C),P=u[d]=new Array(C),w=f[d]=new Array(b);n(p,y,R,P,w,T,e);for(var N=0,M=0,L,q;N<C;++N)if(L=R[N]){for(N>=M&&(M=N+1);!(q=P[M])&&++M<C;);L._next=q||null}}return u=new bi(u,r),u._enter=c,u._exit=f,u}function Tj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function vj(){return new bi(this._exit||this._groups.map(VR),this._parents)}function Sj(t,e,n){var r=this.enter(),s=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function Aj(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,o=r.length,u=Math.min(s,o),c=new Array(s),f=0;f<u;++f)for(var d=n[f],p=r[f],y=d.length,b=c[f]=new Array(y),T,C=0;C<y;++C)(T=d[C]||p[C])&&(b[C]=T);for(;f<s;++f)c[f]=n[f];return new bi(c,this._parents)}function xj(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,o=r[s],u;--s>=0;)(u=r[s])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function wj(t){t||(t=Ij);function e(y,b){return y&&b?t(y.__data__,b.__data__):!y-!b}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var u=n[o],c=u.length,f=s[o]=new Array(c),d,p=0;p<c;++p)(d=u[p])&&(f[p]=d);f.sort(e)}return new bi(s,this._parents).order()}function Ij(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Cj(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Nj(){return Array.from(this)}function Rj(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length;s<o;++s){var u=r[s];if(u)return u}return null}function Dj(){let t=0;for(const e of this)++t;return t}function Oj(){return!this.node()}function kj(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],o=0,u=s.length,c;o<u;++o)(c=s[o])&&t.call(c,c.__data__,o,s);return this}function Pj(t){return function(){this.removeAttribute(t)}}function Lj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mj(t,e){return function(){this.setAttribute(t,e)}}function Bj(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Uj(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vj(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Hj(t,e){var n=X0(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Lj:Pj:typeof e=="function"?n.local?Vj:Uj:n.local?Bj:Mj)(n,e))}function HR(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zj(t){return function(){this.style.removeProperty(t)}}function Fj(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jj(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qj(t,e,n){return arguments.length>1?this.each((e==null?zj:typeof e=="function"?jj:Fj)(t,e,n??"")):Ul(this.node(),t)}function Ul(t,e){return t.style.getPropertyValue(e)||HR(t).getComputedStyle(t,null).getPropertyValue(e)}function Yj(t){return function(){delete this[t]}}function Gj(t,e){return function(){this[t]=e}}function $j(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Xj(t,e){return arguments.length>1?this.each((e==null?Yj:typeof e=="function"?$j:Gj)(t,e)):this.node()[t]}function zR(t){return t.trim().split(/^|\s+/)}function w1(t){return t.classList||new FR(t)}function FR(t){this._node=t,this._names=zR(t.getAttribute("class")||"")}FR.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function jR(t,e){for(var n=w1(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function qR(t,e){for(var n=w1(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Kj(t){return function(){jR(this,t)}}function Qj(t){return function(){qR(this,t)}}function Wj(t,e){return function(){(e.apply(this,arguments)?jR:qR)(this,t)}}function Zj(t,e){var n=zR(t+"");if(arguments.length<2){for(var r=w1(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Wj:e?Kj:Qj)(n,e))}function Jj(){this.textContent=""}function eq(t){return function(){this.textContent=t}}function tq(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function nq(t){return arguments.length?this.each(t==null?Jj:(typeof t=="function"?tq:eq)(t)):this.node().textContent}function rq(){this.innerHTML=""}function iq(t){return function(){this.innerHTML=t}}function sq(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function aq(t){return arguments.length?this.each(t==null?rq:(typeof t=="function"?sq:iq)(t)):this.node().innerHTML}function oq(){this.nextSibling&&this.parentNode.appendChild(this)}function uq(){return this.each(oq)}function lq(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cq(){return this.each(lq)}function hq(t){var e=typeof t=="function"?t:LR(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function fq(){return null}function dq(t,e){var n=typeof t=="function"?t:LR(t),r=e==null?fq:typeof e=="function"?e:x1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function mq(){var t=this.parentNode;t&&t.removeChild(this)}function pq(){return this.each(mq)}function gq(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yq(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Eq(t){return this.select(t?yq:gq)}function _q(t){return arguments.length?this.property("__data__",t):this.node().__data__}function bq(t){return function(e){t.call(this,e,this.__data__)}}function Tq(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function vq(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,o;n<s;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Sq(t,e,n){return function(){var r=this.__on,s,o=bq(e);if(r){for(var u=0,c=r.length;u<c;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=e;return}}this.addEventListener(t.type,o,n),s={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(s):this.__on=[s]}}function Aq(t,e,n){var r=Tq(t+""),s,o=r.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,d=c.length,p;f<d;++f)for(s=0,p=c[f];s<o;++s)if((u=r[s]).type===p.type&&u.name===p.name)return p.value}return}for(c=e?Sq:vq,s=0;s<o;++s)this.each(c(r[s],e,n));return this}function YR(t,e,n){var r=HR(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function xq(t,e){return function(){return YR(this,t,e)}}function wq(t,e){return function(){return YR(this,t,e.apply(this,arguments))}}function Iq(t,e){return this.each((typeof e=="function"?wq:xq)(t,e))}function*Cq(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length,u;s<o;++s)(u=r[s])&&(yield u)}var GR=[null];function bi(t,e){this._groups=t,this._parents=e}function xf(){return new bi([[document.documentElement]],GR)}function Nq(){return this}bi.prototype=xf.prototype={constructor:bi,select:tj,selectAll:sj,selectChild:lj,selectChildren:dj,filter:mj,data:bj,enter:pj,exit:vj,join:Sj,merge:Aj,selection:Nq,order:xj,sort:wj,call:Cj,nodes:Nj,node:Rj,size:Dj,empty:Oj,each:kj,attr:Hj,style:qj,property:Xj,classed:Zj,text:nq,html:aq,raise:uq,lower:cq,append:hq,insert:dq,remove:pq,clone:Eq,datum:_q,on:Aq,dispatch:Iq,[Symbol.iterator]:Cq};function Wi(t){return typeof t=="string"?new bi([[document.querySelector(t)]],[document.documentElement]):new bi([[t]],GR)}function Rq(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ss(t,e){if(t=Rq(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const Dq={passive:!1},Jh={capture:!0,passive:!1};function Hy(t){t.stopImmediatePropagation()}function Al(t){t.preventDefault(),t.stopImmediatePropagation()}function $R(t){var e=t.document.documentElement,n=Wi(t).on("dragstart.drag",Al,Jh);"onselectstart"in e?n.on("selectstart.drag",Al,Jh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function XR(t,e){var n=t.document.documentElement,r=Wi(t).on("dragstart.drag",null);e&&(r.on("click.drag",Al,Jh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const im=t=>()=>t;function zE(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:o,x:u,y:c,dx:f,dy:d,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:p}})}zE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Oq(t){return!t.ctrlKey&&!t.button}function kq(){return this.parentNode}function Pq(t,e){return e??{x:t.x,y:t.y}}function Lq(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mq(){var t=Oq,e=kq,n=Pq,r=Lq,s={},o=$0("start","drag","end"),u=0,c,f,d,p,y=0;function b(L){L.on("mousedown.drag",T).filter(r).on("touchstart.drag",P).on("touchmove.drag",w,Dq).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(L,q){if(!(p||!t.call(this,L,q))){var B=M(this,e.call(this,L,q),L,q,"mouse");B&&(Wi(L.view).on("mousemove.drag",C,Jh).on("mouseup.drag",R,Jh),$R(L.view),Hy(L),d=!1,c=L.clientX,f=L.clientY,B("start",L))}}function C(L){if(Al(L),!d){var q=L.clientX-c,B=L.clientY-f;d=q*q+B*B>y}s.mouse("drag",L)}function R(L){Wi(L.view).on("mousemove.drag mouseup.drag",null),XR(L.view,d),Al(L),s.mouse("end",L)}function P(L,q){if(t.call(this,L,q)){var B=L.changedTouches,S=e.call(this,L,q),x=B.length,O,H;for(O=0;O<x;++O)(H=M(this,S,L,q,B[O].identifier,B[O]))&&(Hy(L),H("start",L,B[O]))}}function w(L){var q=L.changedTouches,B=q.length,S,x;for(S=0;S<B;++S)(x=s[q[S].identifier])&&(Al(L),x("drag",L,q[S]))}function N(L){var q=L.changedTouches,B=q.length,S,x;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),S=0;S<B;++S)(x=s[q[S].identifier])&&(Hy(L),x("end",L,q[S]))}function M(L,q,B,S,x,O){var H=o.copy(),V=Ss(O||B,q),F,k,U;if((U=n.call(L,new zE("beforestart",{sourceEvent:B,target:b,identifier:x,active:u,x:V[0],y:V[1],dx:0,dy:0,dispatch:H}),S))!=null)return F=U.x-V[0]||0,k=U.y-V[1]||0,function K(j,W,ie){var ne=V,A;switch(j){case"start":s[x]=K,A=u++;break;case"end":delete s[x],--u;case"drag":V=Ss(ie||W,q),A=u;break}H.call(j,L,new zE(j,{sourceEvent:W,subject:U,target:b,identifier:x,active:A,x:V[0]+F,y:V[1]+k,dx:V[0]-ne[0],dy:V[1]-ne[1],dispatch:H}),S)}}return b.filter=function(L){return arguments.length?(t=typeof L=="function"?L:im(!!L),b):t},b.container=function(L){return arguments.length?(e=typeof L=="function"?L:im(L),b):e},b.subject=function(L){return arguments.length?(n=typeof L=="function"?L:im(L),b):n},b.touchable=function(L){return arguments.length?(r=typeof L=="function"?L:im(!!L),b):r},b.on=function(){var L=o.on.apply(o,arguments);return L===o?b:L},b.clickDistance=function(L){return arguments.length?(y=(L=+L)*L,b):Math.sqrt(y)},b}function I1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function KR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wf(){}var ef=.7,n0=1/ef,xl="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bq=/^#([0-9a-f]{3,8})$/,Uq=new RegExp(`^rgb\\(${xl},${xl},${xl}\\)$`),Vq=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),Hq=new RegExp(`^rgba\\(${xl},${xl},${xl},${tf}\\)$`),zq=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${tf}\\)$`),Fq=new RegExp(`^hsl\\(${tf},${Ds},${Ds}\\)$`),jq=new RegExp(`^hsla\\(${tf},${Ds},${Ds},${tf}\\)$`),Lx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};I1(wf,nf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mx,formatHex:Mx,formatHex8:qq,formatHsl:Yq,formatRgb:Bx,toString:Bx});function Mx(){return this.rgb().formatHex()}function qq(){return this.rgb().formatHex8()}function Yq(){return QR(this).formatHsl()}function Bx(){return this.rgb().formatRgb()}function nf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bq.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ux(e):n===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Uq.exec(t))?new Wr(e[1],e[2],e[3],1):(e=Vq.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hq.exec(t))?sm(e[1],e[2],e[3],e[4]):(e=zq.exec(t))?sm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fq.exec(t))?zx(e[1],e[2]/100,e[3]/100,1):(e=jq.exec(t))?zx(e[1],e[2]/100,e[3]/100,e[4]):Lx.hasOwnProperty(t)?Ux(Lx[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function Ux(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function sm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wr(t,e,n,r)}function Gq(t){return t instanceof wf||(t=nf(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function FE(t,e,n,r){return arguments.length===1?Gq(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}I1(Wr,FE,KR(wf,{brighter(t){return t=t==null?n0:Math.pow(n0,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ef:Math.pow(ef,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(nu(this.r),nu(this.g),nu(this.b),r0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vx,formatHex:Vx,formatHex8:$q,formatRgb:Hx,toString:Hx}));function Vx(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}`}function $q(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}${Jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hx(){const t=r0(this.opacity);return`${t===1?"rgb(":"rgba("}${nu(this.r)}, ${nu(this.g)}, ${nu(this.b)}${t===1?")":`, ${t})`}`}function r0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jo(t){return t=nu(t),(t<16?"0":"")+t.toString(16)}function zx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function QR(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof wf||(t=nf(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,c=o-s,f=(o+s)/2;return c?(e===o?u=(n-r)/c+(n<r)*6:n===o?u=(r-e)/c+2:u=(e-n)/c+4,c/=f<.5?o+s:2-o-s,u*=60):c=f>0&&f<1?0:u,new Zi(u,c,f,t.opacity)}function Xq(t,e,n,r){return arguments.length===1?QR(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}I1(Zi,Xq,KR(wf,{brighter(t){return t=t==null?n0:Math.pow(n0,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ef:Math.pow(ef,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Wr(zy(t>=240?t-240:t+120,s,r),zy(t,s,r),zy(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Zi(Fx(this.h),am(this.s),am(this.l),r0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=r0(this.opacity);return`${t===1?"hsl(":"hsla("}${Fx(this.h)}, ${am(this.s)*100}%, ${am(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fx(t){return t=(t||0)%360,t<0?t+360:t}function am(t){return Math.max(0,Math.min(1,t||0))}function zy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const WR=t=>()=>t;function Kq(t,e){return function(n){return t+n*e}}function Qq(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Wq(t){return(t=+t)==1?ZR:function(e,n){return n-e?Qq(e,n,t):WR(isNaN(e)?n:e)}}function ZR(t,e){var n=e-t;return n?Kq(t,n):WR(isNaN(t)?e:t)}const jx=function t(e){var n=Wq(e);function r(s,o){var u=n((s=FE(s)).r,(o=FE(o)).r),c=n(s.g,o.g),f=n(s.b,o.b),d=ZR(s.opacity,o.opacity);return function(p){return s.r=u(p),s.g=c(p),s.b=f(p),s.opacity=d(p),s+""}}return r.gamma=t,r}(1);function Xa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var jE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fy=new RegExp(jE.source,"g");function Zq(t){return function(){return t}}function Jq(t){return function(e){return t(e)+""}}function eY(t,e){var n=jE.lastIndex=Fy.lastIndex=0,r,s,o,u=-1,c=[],f=[];for(t=t+"",e=e+"";(r=jE.exec(t))&&(s=Fy.exec(e));)(o=s.index)>n&&(o=e.slice(n,o),c[u]?c[u]+=o:c[++u]=o),(r=r[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,f.push({i:u,x:Xa(r,s)})),n=Fy.lastIndex;return n<e.length&&(o=e.slice(n),c[u]?c[u]+=o:c[++u]=o),c.length<2?f[0]?Jq(f[0].x):Zq(e):(e=f.length,function(d){for(var p=0,y;p<e;++p)c[(y=f[p]).i]=y.x(d);return c.join("")})}var qx=180/Math.PI,qE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function JR(t,e,n,r,s,o){var u,c,f;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,f/=c),t*r<e*n&&(t=-t,e=-e,f=-f,u=-u),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*qx,skewX:Math.atan(f)*qx,scaleX:u,scaleY:c}}var om;function tY(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qE:JR(e.a,e.b,e.c,e.d,e.e,e.f)}function nY(t){return t==null||(om||(om=document.createElementNS("http://www.w3.org/2000/svg","g")),om.setAttribute("transform",t),!(t=om.transform.baseVal.consolidate()))?qE:(t=t.matrix,JR(t.a,t.b,t.c,t.d,t.e,t.f))}function e3(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function o(d,p,y,b,T,C){if(d!==y||p!==b){var R=T.push("translate(",null,e,null,n);C.push({i:R-4,x:Xa(d,y)},{i:R-2,x:Xa(p,b)})}else(y||b)&&T.push("translate("+y+e+b+n)}function u(d,p,y,b){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),b.push({i:y.push(s(y)+"rotate(",null,r)-2,x:Xa(d,p)})):p&&y.push(s(y)+"rotate("+p+r)}function c(d,p,y,b){d!==p?b.push({i:y.push(s(y)+"skewX(",null,r)-2,x:Xa(d,p)}):p&&y.push(s(y)+"skewX("+p+r)}function f(d,p,y,b,T,C){if(d!==y||p!==b){var R=T.push(s(T)+"scale(",null,",",null,")");C.push({i:R-4,x:Xa(d,y)},{i:R-2,x:Xa(p,b)})}else(y!==1||b!==1)&&T.push(s(T)+"scale("+y+","+b+")")}return function(d,p){var y=[],b=[];return d=t(d),p=t(p),o(d.translateX,d.translateY,p.translateX,p.translateY,y,b),u(d.rotate,p.rotate,y,b),c(d.skewX,p.skewX,y,b),f(d.scaleX,d.scaleY,p.scaleX,p.scaleY,y,b),d=p=null,function(T){for(var C=-1,R=b.length,P;++C<R;)y[(P=b[C]).i]=P.x(T);return y.join("")}}}var rY=e3(tY,"px, ","px)","deg)"),iY=e3(nY,", ",")",")"),sY=1e-12;function Yx(t){return((t=Math.exp(t))+1/t)/2}function aY(t){return((t=Math.exp(t))-1/t)/2}function oY(t){return((t=Math.exp(2*t))-1)/(t+1)}const uY=function t(e,n,r){function s(o,u){var c=o[0],f=o[1],d=o[2],p=u[0],y=u[1],b=u[2],T=p-c,C=y-f,R=T*T+C*C,P,w;if(R<sY)w=Math.log(b/d)/e,P=function(S){return[c+S*T,f+S*C,d*Math.exp(e*S*w)]};else{var N=Math.sqrt(R),M=(b*b-d*d+r*R)/(2*d*n*N),L=(b*b-d*d-r*R)/(2*b*n*N),q=Math.log(Math.sqrt(M*M+1)-M),B=Math.log(Math.sqrt(L*L+1)-L);w=(B-q)/e,P=function(S){var x=S*w,O=Yx(q),H=d/(n*N)*(O*oY(e*x+q)-aY(q));return[c+H*T,f+H*C,d*O/Yx(e*x+q)]}}return P.duration=w*1e3*e/Math.SQRT2,P}return s.rho=function(o){var u=Math.max(.001,+o),c=u*u,f=c*c;return t(u,c,f)},s}(Math.SQRT2,2,4);var Vl=0,vh=0,hh=0,t3=1e3,i0,Sh,s0=0,cu=0,K0=0,rf=typeof performance=="object"&&performance.now?performance:Date,n3=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function C1(){return cu||(n3(lY),cu=rf.now()+K0)}function lY(){cu=0}function a0(){this._call=this._time=this._next=null}a0.prototype=r3.prototype={constructor:a0,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?C1():+n)+(e==null?0:+e),!this._next&&Sh!==this&&(Sh?Sh._next=this:i0=this,Sh=this),this._call=t,this._time=n,YE()},stop:function(){this._call&&(this._call=null,this._time=1/0,YE())}};function r3(t,e,n){var r=new a0;return r.restart(t,e,n),r}function cY(){C1(),++Vl;for(var t=i0,e;t;)(e=cu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Vl}function Gx(){cu=(s0=rf.now())+K0,Vl=vh=0;try{cY()}finally{Vl=0,fY(),cu=0}}function hY(){var t=rf.now(),e=t-s0;e>t3&&(K0-=e,s0=t)}function fY(){for(var t,e=i0,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:i0=n);Sh=t,YE(r)}function YE(t){if(!Vl){vh&&(vh=clearTimeout(vh));var e=t-cu;e>24?(t<1/0&&(vh=setTimeout(Gx,t-rf.now()-K0)),hh&&(hh=clearInterval(hh))):(hh||(s0=rf.now(),hh=setInterval(hY,t3)),Vl=1,n3(Gx))}}function $x(t,e,n){var r=new a0;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var dY=$0("start","end","cancel","interrupt"),mY=[],i3=0,Xx=1,GE=2,Im=3,Kx=4,$E=5,Cm=6;function Q0(t,e,n,r,s,o){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;pY(t,n,{name:e,index:r,group:s,on:dY,tween:mY,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:i3})}function N1(t,e){var n=is(t,e);if(n.state>i3)throw new Error("too late; already scheduled");return n}function Ms(t,e){var n=is(t,e);if(n.state>Im)throw new Error("too late; already running");return n}function is(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function pY(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=r3(o,0,n.time);function o(d){n.state=Xx,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var p,y,b,T;if(n.state!==Xx)return f();for(p in r)if(T=r[p],T.name===n.name){if(T.state===Im)return $x(u);T.state===Kx?(T.state=Cm,T.timer.stop(),T.on.call("interrupt",t,t.__data__,T.index,T.group),delete r[p]):+p<e&&(T.state=Cm,T.timer.stop(),T.on.call("cancel",t,t.__data__,T.index,T.group),delete r[p])}if($x(function(){n.state===Im&&(n.state=Kx,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=GE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===GE){for(n.state=Im,s=new Array(b=n.tween.length),p=0,y=-1;p<b;++p)(T=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(s[++y]=T);s.length=y+1}}function c(d){for(var p=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=$E,1),y=-1,b=s.length;++y<b;)s[y].call(t,p);n.state===$E&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Cm,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Nm(t,e){var n=t.__transition,r,s,o=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){o=!1;continue}s=r.state>GE&&r.state<$E,r.state=Cm,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}o&&delete t.__transition}}function gY(t){return this.each(function(){Nm(this,t)})}function yY(t,e){var n,r;return function(){var s=Ms(this,t),o=s.tween;if(o!==n){r=n=o;for(var u=0,c=r.length;u<c;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function EY(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=Ms(this,t),u=o.tween;if(u!==r){s=(r=u).slice();for(var c={name:e,value:n},f=0,d=s.length;f<d;++f)if(s[f].name===e){s[f]=c;break}f===d&&s.push(c)}o.tween=s}}function _Y(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=is(this.node(),n).tween,s=0,o=r.length,u;s<o;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?yY:EY)(n,t,e))}function R1(t,e,n){var r=t._id;return t.each(function(){var s=Ms(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return is(s,r).value[e]}}function s3(t,e){var n;return(typeof e=="number"?Xa:e instanceof nf?jx:(n=nf(e))?(e=n,jx):eY)(t,e)}function bY(t){return function(){this.removeAttribute(t)}}function TY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vY(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttribute(t);return u===s?null:u===r?o:o=e(r=u,n)}}function SY(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?o:o=e(r=u,n)}}function AY(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function xY(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function wY(t,e){var n=X0(t),r=n==="transform"?iY:s3;return this.attrTween(t,typeof e=="function"?(n.local?xY:AY)(n,r,R1(this,"attr."+t,e)):e==null?(n.local?TY:bY)(n):(n.local?SY:vY)(n,r,e))}function IY(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function CY(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function NY(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&CY(t,o)),n}return s._value=e,s}function RY(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&IY(t,o)),n}return s._value=e,s}function DY(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=X0(t);return this.tween(n,(r.local?NY:RY)(r,e))}function OY(t,e){return function(){N1(this,t).delay=+e.apply(this,arguments)}}function kY(t,e){return e=+e,function(){N1(this,t).delay=e}}function PY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?OY:kY)(e,t)):is(this.node(),e).delay}function LY(t,e){return function(){Ms(this,t).duration=+e.apply(this,arguments)}}function MY(t,e){return e=+e,function(){Ms(this,t).duration=e}}function BY(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?LY:MY)(e,t)):is(this.node(),e).duration}function UY(t,e){if(typeof e!="function")throw new Error;return function(){Ms(this,t).ease=e}}function VY(t){var e=this._id;return arguments.length?this.each(UY(e,t)):is(this.node(),e).ease}function HY(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ms(this,t).ease=n}}function zY(t){if(typeof t!="function")throw new Error;return this.each(HY(this._id,t))}function FY(t){typeof t!="function"&&(t=BR(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,d=0;d<u;++d)(f=o[d])&&t.call(f,f.__data__,d,o)&&c.push(f);return new ma(r,this._parents,this._name,this._id)}function jY(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,o=Math.min(r,s),u=new Array(r),c=0;c<o;++c)for(var f=e[c],d=n[c],p=f.length,y=u[c]=new Array(p),b,T=0;T<p;++T)(b=f[T]||d[T])&&(y[T]=b);for(;c<r;++c)u[c]=e[c];return new ma(u,this._parents,this._name,this._id)}function qY(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function YY(t,e,n){var r,s,o=qY(e)?N1:Ms;return function(){var u=o(this,t),c=u.on;c!==r&&(s=(r=c).copy()).on(e,n),u.on=s}}function GY(t,e){var n=this._id;return arguments.length<2?is(this.node(),n).on.on(t):this.each(YY(n,t,e))}function $Y(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function XY(){return this.on("end.remove",$Y(this._id))}function KY(t){var e=this._name,n=this._id;typeof t!="function"&&(t=x1(t));for(var r=this._groups,s=r.length,o=new Array(s),u=0;u<s;++u)for(var c=r[u],f=c.length,d=o[u]=new Array(f),p,y,b=0;b<f;++b)(p=c[b])&&(y=t.call(p,p.__data__,b,c))&&("__data__"in p&&(y.__data__=p.__data__),d[b]=y,Q0(d[b],e,n,b,d,is(p,n)));return new ma(o,this._parents,e,n)}function QY(t){var e=this._name,n=this._id;typeof t!="function"&&(t=MR(t));for(var r=this._groups,s=r.length,o=[],u=[],c=0;c<s;++c)for(var f=r[c],d=f.length,p,y=0;y<d;++y)if(p=f[y]){for(var b=t.call(p,p.__data__,y,f),T,C=is(p,n),R=0,P=b.length;R<P;++R)(T=b[R])&&Q0(T,e,n,R,b,C);o.push(b),u.push(p)}return new ma(o,u,e,n)}var WY=xf.prototype.constructor;function ZY(){return new WY(this._groups,this._parents)}function JY(t,e){var n,r,s;return function(){var o=Ul(this,t),u=(this.style.removeProperty(t),Ul(this,t));return o===u?null:o===n&&u===r?s:s=e(n=o,r=u)}}function a3(t){return function(){this.style.removeProperty(t)}}function eG(t,e,n){var r,s=n+"",o;return function(){var u=Ul(this,t);return u===s?null:u===r?o:o=e(r=u,n)}}function tG(t,e,n){var r,s,o;return function(){var u=Ul(this,t),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(t),Ul(this,t))),u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c))}}function nG(t,e){var n,r,s,o="style."+e,u="end."+o,c;return function(){var f=Ms(this,t),d=f.on,p=f.value[o]==null?c||(c=a3(e)):void 0;(d!==n||s!==p)&&(r=(n=d).copy()).on(u,s=p),f.on=r}}function rG(t,e,n){var r=(t+="")=="transform"?rY:s3;return e==null?this.styleTween(t,JY(t,r)).on("end.style."+t,a3(t)):typeof e=="function"?this.styleTween(t,tG(t,r,R1(this,"style."+t,e))).each(nG(this._id,t)):this.styleTween(t,eG(t,r,e),n).on("end.style."+t,null)}function iG(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function sG(t,e,n){var r,s;function o(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&iG(t,u,n)),r}return o._value=e,o}function aG(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,sG(t,e,n??""))}function oG(t){return function(){this.textContent=t}}function uG(t){return function(){var e=t(this);this.textContent=e??""}}function lG(t){return this.tween("text",typeof t=="function"?uG(R1(this,"text",t)):oG(t==null?"":t+""))}function cG(t){return function(e){this.textContent=t.call(this,e)}}function hG(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&cG(s)),e}return r._value=t,r}function fG(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,hG(t))}function dG(){for(var t=this._name,e=this._id,n=o3(),r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,d=0;d<c;++d)if(f=u[d]){var p=is(f,e);Q0(f,t,n,d,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new ma(r,this._parents,t,n)}function mG(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(o,u){var c={value:u},f={value:function(){--s===0&&o()}};n.each(function(){var d=Ms(this,r),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),d.on=e}),s===0&&o()})}var pG=0;function ma(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function o3(){return++pG}var ia=xf.prototype;ma.prototype={constructor:ma,select:KY,selectAll:QY,selectChild:ia.selectChild,selectChildren:ia.selectChildren,filter:FY,merge:jY,selection:ZY,transition:dG,call:ia.call,nodes:ia.nodes,node:ia.node,size:ia.size,empty:ia.empty,each:ia.each,on:GY,attr:wY,attrTween:DY,style:rG,styleTween:aG,text:lG,textTween:fG,remove:XY,tween:_Y,delay:PY,duration:BY,ease:VY,easeVarying:zY,end:mG,[Symbol.iterator]:ia[Symbol.iterator]};function gG(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var yG={time:null,delay:0,duration:250,ease:gG};function EG(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function _G(t){var e,n;t instanceof ma?(e=t._id,t=t._name):(e=o3(),(n=yG).time=C1(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&Q0(f,t,e,d,u,n||EG(f,e));return new ma(r,this._parents,t,e)}xf.prototype.interrupt=gY;xf.prototype.transition=_G;const um=t=>()=>t;function bG(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ua(t,e,n){this.k=t,this.x=e,this.y=n}ua.prototype={constructor:ua,scale:function(t){return t===1?this:new ua(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ua(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lo=new ua(1,0,0);ua.prototype;function jy(t){t.stopImmediatePropagation()}function fh(t){t.preventDefault(),t.stopImmediatePropagation()}function TG(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function vG(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Qx(){return this.__zoom||lo}function SG(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function AG(){return navigator.maxTouchPoints||"ontouchstart"in this}function xG(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function wG(){var t=TG,e=vG,n=xG,r=SG,s=AG,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=uY,d=$0("start","zoom","end"),p,y,b,T=500,C=150,R=0,P=10;function w(U){U.property("__zoom",Qx).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",H).filter(s).on("touchstart.zoom",V).on("touchmove.zoom",F).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(U,K,j,W){var ie=U.selection?U.selection():U;ie.property("__zoom",Qx),U!==ie?q(U,K,j,W):ie.interrupt().each(function(){B(this,arguments).event(W).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},w.scaleBy=function(U,K,j,W){w.scaleTo(U,function(){var ie=this.__zoom.k,ne=typeof K=="function"?K.apply(this,arguments):K;return ie*ne},j,W)},w.scaleTo=function(U,K,j,W){w.transform(U,function(){var ie=e.apply(this,arguments),ne=this.__zoom,A=j==null?L(ie):typeof j=="function"?j.apply(this,arguments):j,ee=ne.invert(A),ae=typeof K=="function"?K.apply(this,arguments):K;return n(M(N(ne,ae),A,ee),ie,u)},j,W)},w.translateBy=function(U,K,j,W){w.transform(U,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),u)},null,W)},w.translateTo=function(U,K,j,W,ie){w.transform(U,function(){var ne=e.apply(this,arguments),A=this.__zoom,ee=W==null?L(ne):typeof W=="function"?W.apply(this,arguments):W;return n(lo.translate(ee[0],ee[1]).scale(A.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof j=="function"?-j.apply(this,arguments):-j),ne,u)},W,ie)};function N(U,K){return K=Math.max(o[0],Math.min(o[1],K)),K===U.k?U:new ua(K,U.x,U.y)}function M(U,K,j){var W=K[0]-j[0]*U.k,ie=K[1]-j[1]*U.k;return W===U.x&&ie===U.y?U:new ua(U.k,W,ie)}function L(U){return[(+U[0][0]+ +U[1][0])/2,(+U[0][1]+ +U[1][1])/2]}function q(U,K,j,W){U.on("start.zoom",function(){B(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(W).end()}).tween("zoom",function(){var ie=this,ne=arguments,A=B(ie,ne).event(W),ee=e.apply(ie,ne),ae=j==null?L(ee):typeof j=="function"?j.apply(ie,ne):j,z=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),ge=ie.__zoom,Ce=typeof K=="function"?K.apply(ie,ne):K,we=f(ge.invert(ae).concat(z/ge.k),Ce.invert(ae).concat(z/Ce.k));return function(Fe){if(Fe===1)Fe=Ce;else{var xe=we(Fe),Le=z/xe[2];Fe=new ua(Le,ae[0]-xe[0]*Le,ae[1]-xe[1]*Le)}A.zoom(null,Fe)}})}function B(U,K,j){return!j&&U.__zooming||new S(U,K)}function S(U,K){this.that=U,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(U,K),this.taps=0}S.prototype={event:function(U){return U&&(this.sourceEvent=U),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(U,K){return this.mouse&&U!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&U!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&U!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(U){var K=Wi(this.that).datum();d.call(U,this.that,new bG(U,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:d}),K)}};function x(U,...K){if(!t.apply(this,arguments))return;var j=B(this,K).event(U),W=this.__zoom,ie=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),ne=Ss(U);if(j.wheel)(j.mouse[0][0]!==ne[0]||j.mouse[0][1]!==ne[1])&&(j.mouse[1]=W.invert(j.mouse[0]=ne)),clearTimeout(j.wheel);else{if(W.k===ie)return;j.mouse=[ne,W.invert(ne)],Nm(this),j.start()}fh(U),j.wheel=setTimeout(A,C),j.zoom("mouse",n(M(N(W,ie),j.mouse[0],j.mouse[1]),j.extent,u));function A(){j.wheel=null,j.end()}}function O(U,...K){if(b||!t.apply(this,arguments))return;var j=U.currentTarget,W=B(this,K,!0).event(U),ie=Wi(U.view).on("mousemove.zoom",ae,!0).on("mouseup.zoom",z,!0),ne=Ss(U,j),A=U.clientX,ee=U.clientY;$R(U.view),jy(U),W.mouse=[ne,this.__zoom.invert(ne)],Nm(this),W.start();function ae(ge){if(fh(ge),!W.moved){var Ce=ge.clientX-A,we=ge.clientY-ee;W.moved=Ce*Ce+we*we>R}W.event(ge).zoom("mouse",n(M(W.that.__zoom,W.mouse[0]=Ss(ge,j),W.mouse[1]),W.extent,u))}function z(ge){ie.on("mousemove.zoom mouseup.zoom",null),XR(ge.view,W.moved),fh(ge),W.event(ge).end()}}function H(U,...K){if(t.apply(this,arguments)){var j=this.__zoom,W=Ss(U.changedTouches?U.changedTouches[0]:U,this),ie=j.invert(W),ne=j.k*(U.shiftKey?.5:2),A=n(M(N(j,ne),W,ie),e.apply(this,K),u);fh(U),c>0?Wi(this).transition().duration(c).call(q,A,W,U):Wi(this).call(w.transform,A,W,U)}}function V(U,...K){if(t.apply(this,arguments)){var j=U.touches,W=j.length,ie=B(this,K,U.changedTouches.length===W).event(U),ne,A,ee,ae;for(jy(U),A=0;A<W;++A)ee=j[A],ae=Ss(ee,this),ae=[ae,this.__zoom.invert(ae),ee.identifier],ie.touch0?!ie.touch1&&ie.touch0[2]!==ae[2]&&(ie.touch1=ae,ie.taps=0):(ie.touch0=ae,ne=!0,ie.taps=1+!!p);p&&(p=clearTimeout(p)),ne&&(ie.taps<2&&(y=ae[0],p=setTimeout(function(){p=null},T)),Nm(this),ie.start())}}function F(U,...K){if(this.__zooming){var j=B(this,K).event(U),W=U.changedTouches,ie=W.length,ne,A,ee,ae;for(fh(U),ne=0;ne<ie;++ne)A=W[ne],ee=Ss(A,this),j.touch0&&j.touch0[2]===A.identifier?j.touch0[0]=ee:j.touch1&&j.touch1[2]===A.identifier&&(j.touch1[0]=ee);if(A=j.that.__zoom,j.touch1){var z=j.touch0[0],ge=j.touch0[1],Ce=j.touch1[0],we=j.touch1[1],Fe=(Fe=Ce[0]-z[0])*Fe+(Fe=Ce[1]-z[1])*Fe,xe=(xe=we[0]-ge[0])*xe+(xe=we[1]-ge[1])*xe;A=N(A,Math.sqrt(Fe/xe)),ee=[(z[0]+Ce[0])/2,(z[1]+Ce[1])/2],ae=[(ge[0]+we[0])/2,(ge[1]+we[1])/2]}else if(j.touch0)ee=j.touch0[0],ae=j.touch0[1];else return;j.zoom("touch",n(M(A,ee,ae),j.extent,u))}}function k(U,...K){if(this.__zooming){var j=B(this,K).event(U),W=U.changedTouches,ie=W.length,ne,A;for(jy(U),b&&clearTimeout(b),b=setTimeout(function(){b=null},T),ne=0;ne<ie;++ne)A=W[ne],j.touch0&&j.touch0[2]===A.identifier?delete j.touch0:j.touch1&&j.touch1[2]===A.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(A=Ss(A,this),Math.hypot(y[0]-A[0],y[1]-A[1])<P)){var ee=Wi(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return w.wheelDelta=function(U){return arguments.length?(r=typeof U=="function"?U:um(+U),w):r},w.filter=function(U){return arguments.length?(t=typeof U=="function"?U:um(!!U),w):t},w.touchable=function(U){return arguments.length?(s=typeof U=="function"?U:um(!!U),w):s},w.extent=function(U){return arguments.length?(e=typeof U=="function"?U:um([[+U[0][0],+U[0][1]],[+U[1][0],+U[1][1]]]),w):e},w.scaleExtent=function(U){return arguments.length?(o[0]=+U[0],o[1]=+U[1],w):[o[0],o[1]]},w.translateExtent=function(U){return arguments.length?(u[0][0]=+U[0][0],u[1][0]=+U[1][0],u[0][1]=+U[0][1],u[1][1]=+U[1][1],w):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},w.constrain=function(U){return arguments.length?(n=U,w):n},w.duration=function(U){return arguments.length?(c=+U,w):c},w.interpolate=function(U){return arguments.length?(f=U,w):f},w.on=function(){var U=d.on.apply(d,arguments);return U===d?w:U},w.clickDistance=function(U){return arguments.length?(R=(U=+U)*U,w):Math.sqrt(R)},w.tapDistance=function(U){return arguments.length?(P=+U,w):P},w}f0();const W0=se.createContext(null),IG=W0.Provider,pa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},u3=pa.error001();function Rn(t,e){const n=se.useContext(W0);if(n===null)throw new Error(u3);return PR(n,t,e)}const _r=()=>{const t=se.useContext(W0);if(t===null)throw new Error(u3);return se.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},CG=t=>t.userSelectionActive?"none":"all";function NG({position:t,children:e,className:n,style:r,...s}){const o=Rn(CG),u=`${t}`.split("-");return Ne.createElement("div",{className:Fi(["react-flow__panel",n,...u]),style:{...r,pointerEvents:o},...s},e)}function RG({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:Ne.createElement(NG,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Ne.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const DG=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:o={},labelBgPadding:u=[2,4],labelBgBorderRadius:c=2,children:f,className:d,...p})=>{const y=se.useRef(null),[b,T]=se.useState({x:0,y:0,width:0,height:0}),C=Fi(["react-flow__edge-textwrapper",d]);return se.useEffect(()=>{if(y.current){const R=y.current.getBBox();T({x:R.x,y:R.y,width:R.width,height:R.height})}},[n]),typeof n>"u"||!n?null:Ne.createElement("g",{transform:`translate(${t-b.width/2} ${e-b.height/2})`,className:C,visibility:b.width?"visible":"hidden",...p},s&&Ne.createElement("rect",{width:b.width+2*u[0],x:-u[0],y:-u[1],height:b.height+2*u[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),Ne.createElement("text",{className:"react-flow__edge-text",y:b.height/2,dy:"0.3em",ref:y,style:r},n),f)};var OG=se.memo(DG);const D1=t=>({width:t.offsetWidth,height:t.offsetHeight}),Hl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),O1=(t={x:0,y:0},e)=>({x:Hl(t.x,e[0][0],e[1][0]),y:Hl(t.y,e[0][1],e[1][1])}),Wx=(t,e,n)=>t<e?Hl(Math.abs(t-e),1,50)/50:t>n?-Hl(Math.abs(t-n),1,50)/50:0,l3=(t,e)=>{const n=Wx(t.x,35,e.width-35)*20,r=Wx(t.y,35,e.height-35)*20;return[n,r]},c3=t=>t.getRootNode?.()||window?.document,kG=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),k1=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),PG=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Zx=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),XE=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},LG=t=>Hi(t.width)&&Hi(t.height)&&Hi(t.x)&&Hi(t.y),Hi=t=>!isNaN(t)&&isFinite(t),Tn=Symbol.for("internals"),h3=["Enter"," ","Escape"],MG=(t,e)=>{},BG=t=>"nativeEvent"in t;function KE(t){const n=(BG(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const f3=t=>"clientX"in t,co=(t,e)=>{const n=f3(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},o0=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,If=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:y,markerStart:b,interactionWidth:T=20})=>Ne.createElement(Ne.Fragment,null,Ne.createElement("path",{id:t,style:p,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:b}),T&&Ne.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:T,className:"react-flow__edge-interaction"}),s&&Hi(n)&&Hi(r)?Ne.createElement(OG,{x:n,y:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d}):null);If.displayName="BaseEdge";function dh(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(o=>o.id===t);s&&n(r,{...s})}}function d3({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,o=n<t?n+s:n-s,u=Math.abs(r-e)/2,c=r<e?r+u:r-u;return[o,c,s,u]}function m3({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:u,targetControlY:c}){const f=t*.125+s*.375+u*.375+n*.125,d=e*.125+o*.375+c*.375+r*.125,p=Math.abs(f-t),y=Math.abs(d-e);return[f,d,p,y]}var hu;(function(t){t.Strict="strict",t.Loose="loose"})(hu||(hu={}));var eu;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(eu||(eu={}));var sf;(function(t){t.Partial="partial",t.Full="full"})(sf||(sf={}));var eo;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(eo||(eo={}));var u0;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(u0||(u0={}));var Ge;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ge||(Ge={}));function Jx({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===Ge.Left||t===Ge.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function p3({sourceX:t,sourceY:e,sourcePosition:n=Ge.Bottom,targetX:r,targetY:s,targetPosition:o=Ge.Top}){const[u,c]=Jx({pos:n,x1:t,y1:e,x2:r,y2:s}),[f,d]=Jx({pos:o,x1:r,y1:s,x2:t,y2:e}),[p,y,b,T]=m3({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:d});return[`M${t},${e} C${u},${c} ${f},${d} ${r},${s}`,p,y,b,T]}const P1=se.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ge.Bottom,targetPosition:o=Ge.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:C,interactionWidth:R})=>{const[P,w,N]=p3({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o});return Ne.createElement(If,{path:P,labelX:w,labelY:N,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:C,interactionWidth:R})});P1.displayName="SimpleBezierEdge";const ew={[Ge.Left]:{x:-1,y:0},[Ge.Right]:{x:1,y:0},[Ge.Top]:{x:0,y:-1},[Ge.Bottom]:{x:0,y:1}},UG=({source:t,sourcePosition:e=Ge.Bottom,target:n})=>e===Ge.Left||e===Ge.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},tw=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function VG({source:t,sourcePosition:e=Ge.Bottom,target:n,targetPosition:r=Ge.Top,center:s,offset:o}){const u=ew[e],c=ew[r],f={x:t.x+u.x*o,y:t.y+u.y*o},d={x:n.x+c.x*o,y:n.y+c.y*o},p=UG({source:f,sourcePosition:e,target:d}),y=p.x!==0?"x":"y",b=p[y];let T=[],C,R;const P={x:0,y:0},w={x:0,y:0},[N,M,L,q]=d3({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[y]*c[y]===-1){C=s.x??N,R=s.y??M;const S=[{x:C,y:f.y},{x:C,y:d.y}],x=[{x:f.x,y:R},{x:d.x,y:R}];u[y]===b?T=y==="x"?S:x:T=y==="x"?x:S}else{const S=[{x:f.x,y:d.y}],x=[{x:d.x,y:f.y}];if(y==="x"?T=u.x===b?x:S:T=u.y===b?S:x,e===r){const k=Math.abs(t[y]-n[y]);if(k<=o){const U=Math.min(o-1,o-k);u[y]===b?P[y]=(f[y]>t[y]?-1:1)*U:w[y]=(d[y]>n[y]?-1:1)*U}}if(e!==r){const k=y==="x"?"y":"x",U=u[y]===c[k],K=f[k]>d[k],j=f[k]<d[k];(u[y]===1&&(!U&&K||U&&j)||u[y]!==1&&(!U&&j||U&&K))&&(T=y==="x"?S:x)}const O={x:f.x+P.x,y:f.y+P.y},H={x:d.x+w.x,y:d.y+w.y},V=Math.max(Math.abs(O.x-T[0].x),Math.abs(H.x-T[0].x)),F=Math.max(Math.abs(O.y-T[0].y),Math.abs(H.y-T[0].y));V>=F?(C=(O.x+H.x)/2,R=T[0].y):(C=T[0].x,R=(O.y+H.y)/2)}return[[t,{x:f.x+P.x,y:f.y+P.y},...T,{x:d.x+w.x,y:d.y+w.y},n],C,R,L,q]}function HG(t,e,n,r){const s=Math.min(tw(t,e)/2,tw(e,n)/2,r),{x:o,y:u}=e;if(t.x===o&&o===n.x||t.y===u&&u===n.y)return`L${o} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,p=t.y<n.y?1:-1;return`L ${o+s*d},${u}Q ${o},${u} ${o},${u+s*p}`}const c=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${o},${u+s*f}Q ${o},${u} ${o+s*c},${u}`}function QE({sourceX:t,sourceY:e,sourcePosition:n=Ge.Bottom,targetX:r,targetY:s,targetPosition:o=Ge.Top,borderRadius:u=5,centerX:c,centerY:f,offset:d=20}){const[p,y,b,T,C]=VG({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:c,y:f},offset:d});return[p.reduce((P,w,N)=>{let M="";return N>0&&N<p.length-1?M=HG(p[N-1],w,p[N+1],u):M=`${N===0?"M":"L"}${w.x} ${w.y}`,P+=M,P},""),y,b,T,C]}const Z0=se.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,sourcePosition:y=Ge.Bottom,targetPosition:b=Ge.Top,markerEnd:T,markerStart:C,pathOptions:R,interactionWidth:P})=>{const[w,N,M]=QE({sourceX:t,sourceY:e,sourcePosition:y,targetX:n,targetY:r,targetPosition:b,borderRadius:R?.borderRadius,offset:R?.offset});return Ne.createElement(If,{path:w,labelX:N,labelY:M,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:T,markerStart:C,interactionWidth:P})});Z0.displayName="SmoothStepEdge";const L1=se.memo(t=>Ne.createElement(Z0,{...t,pathOptions:se.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));L1.displayName="StepEdge";function zG({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,o,u,c]=d3({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,o,u,c]}const M1=se.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:y,markerStart:b,interactionWidth:T})=>{const[C,R,P]=zG({sourceX:t,sourceY:e,targetX:n,targetY:r});return Ne.createElement(If,{path:C,labelX:R,labelY:P,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:p,markerEnd:y,markerStart:b,interactionWidth:T})});M1.displayName="StraightEdge";function lm(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function nw({pos:t,x1:e,y1:n,x2:r,y2:s,c:o}){switch(t){case Ge.Left:return[e-lm(e-r,o),n];case Ge.Right:return[e+lm(r-e,o),n];case Ge.Top:return[e,n-lm(n-s,o)];case Ge.Bottom:return[e,n+lm(s-n,o)]}}function g3({sourceX:t,sourceY:e,sourcePosition:n=Ge.Bottom,targetX:r,targetY:s,targetPosition:o=Ge.Top,curvature:u=.25}){const[c,f]=nw({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[d,p]=nw({pos:o,x1:r,y1:s,x2:t,y2:e,c:u}),[y,b,T,C]=m3({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:d,targetControlY:p});return[`M${t},${e} C${c},${f} ${d},${p} ${r},${s}`,y,b,T,C]}const l0=se.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Ge.Bottom,targetPosition:o=Ge.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:C,pathOptions:R,interactionWidth:P})=>{const[w,N,M]=g3({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o,curvature:R?.curvature});return Ne.createElement(If,{path:w,labelX:N,labelY:M,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:y,style:b,markerEnd:T,markerStart:C,interactionWidth:P})});l0.displayName="BezierEdge";const B1=se.createContext(null),FG=B1.Provider;B1.Consumer;const jG=()=>se.useContext(B1),qG=t=>"id"in t&&"source"in t&&"target"in t,YG=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,WE=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,GG=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),$G=(t,e)=>{if(!t.source||!t.target)return e;let n;return qG(t)?n={...t}:n={...t,id:YG(t)},GG(n,e)?e:e.concat(n)},ZE=({x:t,y:e},[n,r,s],o,[u,c])=>{const f={x:(t-n)/s,y:(e-r)/s};return o?{x:u*Math.round(f.x/u),y:c*Math.round(f.y/c)}:f},y3=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),wl=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},U1=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:o,y:u}=wl(s,e).positionAbsolute;return kG(r,k1({x:o,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return PG(n)},E3=(t,e,[n,r,s]=[0,0,1],o=!1,u=!1,c=[0,0])=>{const f={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(p=>{const{width:y,height:b,selectable:T=!0,hidden:C=!1}=p;if(u&&!T||C)return!1;const{positionAbsolute:R}=wl(p,c),P={x:R.x,y:R.y,width:y||0,height:b||0},w=XE(f,P),N=typeof y>"u"||typeof b>"u"||y===null||b===null,M=o&&w>0,L=(y||0)*(b||0);(N||M||w>=L||p.dragging)&&d.push(p)}),d},_3=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},b3=(t,e,n,r,s,o=.1)=>{const u=e/(t.width*(1+o)),c=n/(t.height*(1+o)),f=Math.min(u,c),d=Hl(f,r,s),p=t.x+t.width/2,y=t.y+t.height/2,b=e/2-p*d,T=n/2-y*d;return{x:b,y:T,zoom:d}},Qo=(t,e=0)=>t.transition().duration(e);function rw(t,e,n,r){return(e[n]||[]).reduce((s,o)=>(`${t.id}-${o.id}-${n}`!==r&&s.push({id:o.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+o.x+o.width/2,y:(t.positionAbsolute?.y??0)+o.y+o.height/2}),s),[])}function XG(t,e,n,r,s,o){const{x:u,y:c}=co(t),d=e.elementsFromPoint(u,c).find(C=>C.classList.contains("react-flow__handle"));if(d){const C=d.getAttribute("data-nodeid");if(C){const R=V1(void 0,d),P=d.getAttribute("data-handleid"),w=o({nodeId:C,id:P,type:R});if(w){const N=s.find(M=>M.nodeId===C&&M.type===R&&M.id===P);return{handle:{id:P,type:R,nodeId:C,x:N?.x||n.x,y:N?.y||n.y},validHandleResult:w}}}}let p=[],y=1/0;if(s.forEach(C=>{const R=Math.sqrt((C.x-n.x)**2+(C.y-n.y)**2);if(R<=r){const P=o(C);R<=y&&(R<y?p=[{handle:C,validHandleResult:P}]:R===y&&p.push({handle:C,validHandleResult:P}),y=R)}}),!p.length)return{handle:null,validHandleResult:T3()};if(p.length===1)return p[0];const b=p.some(({validHandleResult:C})=>C.isValid),T=p.some(({handle:C})=>C.type==="target");return p.find(({handle:C,validHandleResult:R})=>T?C.type==="target":b?R.isValid:!0)||p[0]}const KG={source:null,target:null,sourceHandle:null,targetHandle:null},T3=()=>({handleDomNode:null,isValid:!1,connection:KG,endHandle:null});function v3(t,e,n,r,s,o,u){const c=s==="target",f=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),d={...T3(),handleDomNode:f};if(f){const p=V1(void 0,f),y=f.getAttribute("data-nodeid"),b=f.getAttribute("data-handleid"),T=f.classList.contains("connectable"),C=f.classList.contains("connectableend"),R={source:c?y:n,sourceHandle:c?b:r,target:c?n:y,targetHandle:c?r:b};d.connection=R,T&&C&&(e===hu.Strict?c&&p==="source"||!c&&p==="target":y!==n||b!==r)&&(d.endHandle={nodeId:y,handleId:b,type:p},d.isValid=o(R))}return d}function QG({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,o)=>{if(o[Tn]){const{handleBounds:u}=o[Tn];let c=[],f=[];u&&(c=rw(o,u,"source",`${e}-${n}-${r}`),f=rw(o,u,"target",`${e}-${n}-${r}`)),s.push(...c,...f)}return s},[])}function V1(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function qy(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function WG(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function S3({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:o,setState:u,isValidConnection:c,edgeUpdaterType:f,onReconnectEnd:d}){const p=c3(t.target),{connectionMode:y,domNode:b,autoPanOnConnect:T,connectionRadius:C,onConnectStart:R,panBy:P,getNodes:w,cancelConnection:N}=o();let M=0,L;const{x:q,y:B}=co(t),S=p?.elementFromPoint(q,B),x=V1(f,S),O=b?.getBoundingClientRect();if(!O||!x)return;let H,V=co(t,O),F=!1,k=null,U=!1,K=null;const j=QG({nodes:w(),nodeId:n,handleId:e,handleType:x}),W=()=>{if(!T)return;const[A,ee]=l3(V,O);P({x:A,y:ee}),M=requestAnimationFrame(W)};u({connectionPosition:V,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:x,connectionStartHandle:{nodeId:n,handleId:e,type:x},connectionEndHandle:null}),R?.(t,{nodeId:n,handleId:e,handleType:x});function ie(A){const{transform:ee}=o();V=co(A,O);const{handle:ae,validHandleResult:z}=XG(A,p,ZE(V,ee,!1,[1,1]),C,j,ge=>v3(ge,y,n,e,s?"target":"source",c,p));if(L=ae,F||(W(),F=!0),K=z.handleDomNode,k=z.connection,U=z.isValid,u({connectionPosition:L&&U?y3({x:L.x,y:L.y},ee):V,connectionStatus:WG(!!L,U),connectionEndHandle:z.endHandle}),!L&&!U&&!K)return qy(H);k.source!==k.target&&K&&(qy(H),H=K,K.classList.add("connecting","react-flow__handle-connecting"),K.classList.toggle("valid",U),K.classList.toggle("react-flow__handle-valid",U))}function ne(A){(L||K)&&k&&U&&r?.(k),o().onConnectEnd?.(A),f&&d?.(A),qy(H),N(),cancelAnimationFrame(M),F=!1,U=!1,k=null,K=null,p.removeEventListener("mousemove",ie),p.removeEventListener("mouseup",ne),p.removeEventListener("touchmove",ie),p.removeEventListener("touchend",ne)}p.addEventListener("mousemove",ie),p.addEventListener("mouseup",ne),p.addEventListener("touchmove",ie),p.addEventListener("touchend",ne)}const iw=()=>!0,ZG=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),JG=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:o,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||o?.nodeId===t&&o?.handleId===e&&o?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},A3=se.forwardRef(({type:t="source",position:e=Ge.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:u,onConnect:c,children:f,className:d,onMouseDown:p,onTouchStart:y,...b},T)=>{const C=u||null,R=t==="target",P=_r(),w=jG(),{connectOnClick:N,noPanClassName:M}=Rn(ZG,Jr),{connecting:L,clickConnecting:q}=Rn(JG(w,C,t),Jr);w||P.getState().onError?.("010",pa.error010());const B=O=>{const{defaultEdgeOptions:H,onConnect:V,hasDefaultEdges:F}=P.getState(),k={...H,...O};if(F){const{edges:U,setEdges:K}=P.getState();K($G(k,U))}V?.(k),c?.(k)},S=O=>{if(!w)return;const H=f3(O);s&&(H&&O.button===0||!H)&&S3({event:O,handleId:C,nodeId:w,onConnect:B,isTarget:R,getState:P.getState,setState:P.setState,isValidConnection:n||P.getState().isValidConnection||iw}),H?p?.(O):y?.(O)},x=O=>{const{onClickConnectStart:H,onClickConnectEnd:V,connectionClickStartHandle:F,connectionMode:k,isValidConnection:U}=P.getState();if(!w||!F&&!s)return;if(!F){H?.(O,{nodeId:w,handleId:C,handleType:t}),P.setState({connectionClickStartHandle:{nodeId:w,type:t,handleId:C}});return}const K=c3(O.target),j=n||U||iw,{connection:W,isValid:ie}=v3({nodeId:w,id:C,type:t},k,F.nodeId,F.handleId||null,F.type,j,K);ie&&B(W),V?.(O),P.setState({connectionClickStartHandle:null})};return Ne.createElement("div",{"data-handleid":C,"data-nodeid":w,"data-handlepos":e,"data-id":`${w}-${C}-${t}`,className:Fi(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",M,d,{source:!R,target:R,connectable:r,connectablestart:s,connectableend:o,connecting:q,connectionindicator:r&&(s&&!L||o&&L)}]),onMouseDown:S,onTouchStart:S,onClick:N?x:void 0,ref:T,...b},f)});A3.displayName="Handle";var c0=se.memo(A3);const x3=({data:t,isConnectable:e,targetPosition:n=Ge.Top,sourcePosition:r=Ge.Bottom})=>Ne.createElement(Ne.Fragment,null,Ne.createElement(c0,{type:"target",position:n,isConnectable:e}),t?.label,Ne.createElement(c0,{type:"source",position:r,isConnectable:e}));x3.displayName="DefaultNode";var JE=se.memo(x3);const w3=({data:t,isConnectable:e,sourcePosition:n=Ge.Bottom})=>Ne.createElement(Ne.Fragment,null,t?.label,Ne.createElement(c0,{type:"source",position:n,isConnectable:e}));w3.displayName="InputNode";var I3=se.memo(w3);const C3=({data:t,isConnectable:e,targetPosition:n=Ge.Top})=>Ne.createElement(Ne.Fragment,null,Ne.createElement(c0,{type:"target",position:n,isConnectable:e}),t?.label);C3.displayName="OutputNode";var N3=se.memo(C3);const H1=()=>null;H1.displayName="GroupNode";const e$=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),cm=t=>t.id;function t$(t,e){return Jr(t.selectedNodes.map(cm),e.selectedNodes.map(cm))&&Jr(t.selectedEdges.map(cm),e.selectedEdges.map(cm))}const R3=se.memo(({onSelectionChange:t})=>{const e=_r(),{selectedNodes:n,selectedEdges:r}=Rn(e$,t$);return se.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(o=>o(s))},[n,r,t]),null});R3.displayName="SelectionListener";const n$=t=>!!t.onSelectionChange;function r$({onSelectionChange:t}){const e=Rn(n$);return t||e?Ne.createElement(R3,{onSelectionChange:t}):null}const i$=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function sl(t,e){se.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function dt(t,e,n){se.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const s$=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:o,onConnectEnd:u,onClickConnectStart:c,onClickConnectEnd:f,nodesDraggable:d,nodesConnectable:p,nodesFocusable:y,edgesFocusable:b,edgesUpdatable:T,elevateNodesOnSelect:C,minZoom:R,maxZoom:P,nodeExtent:w,onNodesChange:N,onEdgesChange:M,elementsSelectable:L,connectionMode:q,snapGrid:B,snapToGrid:S,translateExtent:x,connectOnClick:O,defaultEdgeOptions:H,fitView:V,fitViewOptions:F,onNodesDelete:k,onEdgesDelete:U,onNodeDrag:K,onNodeDragStart:j,onNodeDragStop:W,onSelectionDrag:ie,onSelectionDragStart:ne,onSelectionDragStop:A,noPanClassName:ee,nodeOrigin:ae,rfId:z,autoPanOnConnect:ge,autoPanOnNodeDrag:Ce,onError:we,connectionRadius:Fe,isValidConnection:xe,nodeDragThreshold:Le})=>{const{setNodes:He,setEdges:Je,setDefaultNodesAndEdges:an,setMinZoom:Jt,setMaxZoom:on,setTranslateExtent:Dt,setNodeExtent:Dn,reset:Qe}=Rn(i$,Jr),je=_r();return se.useEffect(()=>{const cn=r?.map(Vn=>({...Vn,...H}));return an(n,cn),()=>{Qe()}},[]),dt("defaultEdgeOptions",H,je.setState),dt("connectionMode",q,je.setState),dt("onConnect",s,je.setState),dt("onConnectStart",o,je.setState),dt("onConnectEnd",u,je.setState),dt("onClickConnectStart",c,je.setState),dt("onClickConnectEnd",f,je.setState),dt("nodesDraggable",d,je.setState),dt("nodesConnectable",p,je.setState),dt("nodesFocusable",y,je.setState),dt("edgesFocusable",b,je.setState),dt("edgesUpdatable",T,je.setState),dt("elementsSelectable",L,je.setState),dt("elevateNodesOnSelect",C,je.setState),dt("snapToGrid",S,je.setState),dt("snapGrid",B,je.setState),dt("onNodesChange",N,je.setState),dt("onEdgesChange",M,je.setState),dt("connectOnClick",O,je.setState),dt("fitViewOnInit",V,je.setState),dt("fitViewOnInitOptions",F,je.setState),dt("onNodesDelete",k,je.setState),dt("onEdgesDelete",U,je.setState),dt("onNodeDrag",K,je.setState),dt("onNodeDragStart",j,je.setState),dt("onNodeDragStop",W,je.setState),dt("onSelectionDrag",ie,je.setState),dt("onSelectionDragStart",ne,je.setState),dt("onSelectionDragStop",A,je.setState),dt("noPanClassName",ee,je.setState),dt("nodeOrigin",ae,je.setState),dt("rfId",z,je.setState),dt("autoPanOnConnect",ge,je.setState),dt("autoPanOnNodeDrag",Ce,je.setState),dt("onError",we,je.setState),dt("connectionRadius",Fe,je.setState),dt("isValidConnection",xe,je.setState),dt("nodeDragThreshold",Le,je.setState),sl(t,He),sl(e,Je),sl(R,Jt),sl(P,on),sl(x,Dt),sl(w,Dn),null},sw={display:"none"},a$={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},D3="react-flow__node-desc",O3="react-flow__edge-desc",o$="react-flow__aria-live",u$=t=>t.ariaLiveMessage;function l$({rfId:t}){const e=Rn(u$);return Ne.createElement("div",{id:`${o$}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:a$},e)}function c$({rfId:t,disableKeyboardA11y:e}){return Ne.createElement(Ne.Fragment,null,Ne.createElement("div",{id:`${D3}-${t}`,style:sw},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Ne.createElement("div",{id:`${O3}-${t}`,style:sw},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&Ne.createElement(l$,{rfId:t}))}var af=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=se.useState(!1),s=se.useRef(!1),o=se.useRef(new Set([])),[u,c]=se.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(y=>typeof y=="string").map(y=>y.split("+")),p=d.reduce((y,b)=>y.concat(...b),[]);return[d,p]}return[[],[]]},[t]);return se.useEffect(()=>{const f=typeof document<"u"?document:null,d=e?.target||f;if(t!==null){const p=T=>{if(s.current=T.ctrlKey||T.metaKey||T.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&KE(T))return!1;const R=ow(T.code,c);o.current.add(T[R]),aw(u,o.current,!1)&&(T.preventDefault(),r(!0))},y=T=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&KE(T))return!1;const R=ow(T.code,c);aw(u,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(T[R]),T.key==="Meta"&&o.current.clear(),s.current=!1},b=()=>{o.current.clear(),r(!1)};return d?.addEventListener("keydown",p),d?.addEventListener("keyup",y),window.addEventListener("blur",b),()=>{d?.removeEventListener("keydown",p),d?.removeEventListener("keyup",y),window.removeEventListener("blur",b)}}},[t,r]),n};function aw(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function ow(t,e){return e.includes(t)?"code":"key"}function k3(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const o=e.get(s),u=wl(o,r);return k3(o,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(o[Tn]?.z??0)>(n.z??0)?o[Tn]?.z??0:n.z??0},r)}function P3(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:o,y:u,z:c}=k3(r,t,{...r.position,z:r[Tn]?.z??0},e);r.positionAbsolute={x:o,y:u},r[Tn].z=c,n?.[r.id]&&(r[Tn].isParent=!0)}})}function Yy(t,e,n,r){const s=new Map,o={},u=r?1e3:0;return t.forEach(c=>{const f=(Hi(c.zIndex)?c.zIndex:0)+(c.selected?u:0),d=e.get(c.id),p={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},y=c.parentNode||c.parentId;y&&(o[y]=!0);const b=d?.type&&d?.type!==c.type;Object.defineProperty(p,Tn,{enumerable:!1,value:{handleBounds:b?void 0:d?.[Tn]?.handleBounds,z:f}}),s.set(c.id,p)}),P3(s,n,o),s}function L3(t,e={}){const{getNodes:n,width:r,height:s,minZoom:o,maxZoom:u,d3Zoom:c,d3Selection:f,fitViewOnInitDone:d,fitViewOnInit:p,nodeOrigin:y}=t(),b=e.initial&&!d&&p;if(c&&f&&(b||!e.initial)){const C=n().filter(P=>{const w=e.includeHiddenNodes?P.width&&P.height:!P.hidden;return e.nodes?.length?w&&e.nodes.some(N=>N.id===P.id):w}),R=C.every(P=>P.width&&P.height);if(C.length>0&&R){const P=U1(C,y),{x:w,y:N,zoom:M}=b3(P,r,s,e.minZoom??o,e.maxZoom??u,e.padding??.1),L=lo.translate(w,N).scale(M);return typeof e.duration=="number"&&e.duration>0?c.transform(Qo(f,e.duration),L):c.transform(f,L),!0}}return!1}function h$(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[Tn]:r[Tn],selected:n.selected})}),new Map(e)}function f$(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function hm({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:o,onNodesChange:u,onEdgesChange:c,hasDefaultNodes:f,hasDefaultEdges:d}=n();t?.length&&(f&&r({nodeInternals:h$(t,s)}),u?.(t)),e?.length&&(d&&r({edges:f$(e,o)}),c?.(e))}const al=()=>{},d$={zoomIn:al,zoomOut:al,zoomTo:al,getZoom:()=>1,setViewport:al,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:al,fitBounds:al,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},m$=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),p$=()=>{const t=_r(),{d3Zoom:e,d3Selection:n}=Rn(m$,Jr);return se.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Qo(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(Qo(n,s?.duration),1/1.2),zoomTo:(s,o)=>e.scaleTo(Qo(n,o?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,o)=>{const[u,c,f]=t.getState().transform,d=lo.translate(s.x??u,s.y??c).scale(s.zoom??f);e.transform(Qo(n,o?.duration),d)},getViewport:()=>{const[s,o,u]=t.getState().transform;return{x:s,y:o,zoom:u}},fitView:s=>L3(t.getState,s),setCenter:(s,o,u)=>{const{width:c,height:f,maxZoom:d}=t.getState(),p=typeof u?.zoom<"u"?u.zoom:d,y=c/2-s*p,b=f/2-o*p,T=lo.translate(y,b).scale(p);e.transform(Qo(n,u?.duration),T)},fitBounds:(s,o)=>{const{width:u,height:c,minZoom:f,maxZoom:d}=t.getState(),{x:p,y,zoom:b}=b3(s,u,c,f,d,o?.padding??.1),T=lo.translate(p,y).scale(b);e.transform(Qo(n,o?.duration),T)},project:s=>{const{transform:o,snapToGrid:u,snapGrid:c}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ZE(s,o,u,c)},screenToFlowPosition:s=>{const{transform:o,snapToGrid:u,snapGrid:c,domNode:f}=t.getState();if(!f)return s;const{x:d,y:p}=f.getBoundingClientRect(),y={x:s.x-d,y:s.y-p};return ZE(y,o,u,c)},flowToScreenPosition:s=>{const{transform:o,domNode:u}=t.getState();if(!u)return s;const{x:c,y:f}=u.getBoundingClientRect(),d=y3(s,o);return{x:d.x+c,y:d.y+f}},viewportInitialized:!0}:d$,[e,n])};function M3(){const t=p$(),e=_r(),n=se.useCallback(()=>e.getState().getNodes().map(R=>({...R})),[]),r=se.useCallback(R=>e.getState().nodeInternals.get(R),[]),s=se.useCallback(()=>{const{edges:R=[]}=e.getState();return R.map(P=>({...P}))},[]),o=se.useCallback(R=>{const{edges:P=[]}=e.getState();return P.find(w=>w.id===R)},[]),u=se.useCallback(R=>{const{getNodes:P,setNodes:w,hasDefaultNodes:N,onNodesChange:M}=e.getState(),L=P(),q=typeof R=="function"?R(L):R;if(N)w(q);else if(M){const B=q.length===0?L.map(S=>({type:"remove",id:S.id})):q.map(S=>({item:S,type:"reset"}));M(B)}},[]),c=se.useCallback(R=>{const{edges:P=[],setEdges:w,hasDefaultEdges:N,onEdgesChange:M}=e.getState(),L=typeof R=="function"?R(P):R;if(N)w(L);else if(M){const q=L.length===0?P.map(B=>({type:"remove",id:B.id})):L.map(B=>({item:B,type:"reset"}));M(q)}},[]),f=se.useCallback(R=>{const P=Array.isArray(R)?R:[R],{getNodes:w,setNodes:N,hasDefaultNodes:M,onNodesChange:L}=e.getState();if(M){const B=[...w(),...P];N(B)}else if(L){const q=P.map(B=>({item:B,type:"add"}));L(q)}},[]),d=se.useCallback(R=>{const P=Array.isArray(R)?R:[R],{edges:w=[],setEdges:N,hasDefaultEdges:M,onEdgesChange:L}=e.getState();if(M)N([...w,...P]);else if(L){const q=P.map(B=>({item:B,type:"add"}));L(q)}},[]),p=se.useCallback(()=>{const{getNodes:R,edges:P=[],transform:w}=e.getState(),[N,M,L]=w;return{nodes:R().map(q=>({...q})),edges:P.map(q=>({...q})),viewport:{x:N,y:M,zoom:L}}},[]),y=se.useCallback(({nodes:R,edges:P})=>{const{nodeInternals:w,getNodes:N,edges:M,hasDefaultNodes:L,hasDefaultEdges:q,onNodesDelete:B,onEdgesDelete:S,onNodesChange:x,onEdgesChange:O}=e.getState(),H=(R||[]).map(K=>K.id),V=(P||[]).map(K=>K.id),F=N().reduce((K,j)=>{const W=j.parentNode||j.parentId,ie=!H.includes(j.id)&&W&&K.find(A=>A.id===W);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(H.includes(j.id)||ie)&&K.push(j),K},[]),k=M.filter(K=>typeof K.deletable=="boolean"?K.deletable:!0),U=k.filter(K=>V.includes(K.id));if(F||U){const K=_3(F,k),j=[...U,...K],W=j.reduce((ie,ne)=>(ie.includes(ne.id)||ie.push(ne.id),ie),[]);if((q||L)&&(q&&e.setState({edges:M.filter(ie=>!W.includes(ie.id))}),L&&(F.forEach(ie=>{w.delete(ie.id)}),e.setState({nodeInternals:new Map(w)}))),W.length>0&&(S?.(j),O&&O(W.map(ie=>({id:ie,type:"remove"})))),F.length>0&&(B?.(F),x)){const ie=F.map(ne=>({id:ne.id,type:"remove"}));x(ie)}}},[]),b=se.useCallback(R=>{const P=LG(R),w=P?null:e.getState().nodeInternals.get(R.id);return!P&&!w?[null,null,P]:[P?R:Zx(w),w,P]},[]),T=se.useCallback((R,P=!0,w)=>{const[N,M,L]=b(R);return N?(w||e.getState().getNodes()).filter(q=>{if(!L&&(q.id===M.id||!q.positionAbsolute))return!1;const B=Zx(q),S=XE(B,N);return P&&S>0||S>=N.width*N.height}):[]},[]),C=se.useCallback((R,P,w=!0)=>{const[N]=b(R);if(!N)return!1;const M=XE(N,P);return w&&M>0||M>=N.width*N.height},[]);return se.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:o,setNodes:u,setEdges:c,addNodes:f,addEdges:d,toObject:p,deleteElements:y,getIntersectingNodes:T,isNodeIntersecting:C}),[t,n,r,s,o,u,c,f,d,p,y,T,C])}const g$={actInsideInputWithModifier:!1};var y$=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=_r(),{deleteElements:r}=M3(),s=af(t,g$),o=af(e);se.useEffect(()=>{if(s){const{edges:u,getNodes:c}=n.getState(),f=c().filter(p=>p.selected),d=u.filter(p=>p.selected);r({nodes:f,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),se.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function E$(t){const e=_r();se.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=D1(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",pa.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const z1={position:"absolute",width:"100%",height:"100%",top:0,left:0},_$=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,fm=t=>({x:t.x,y:t.y,zoom:t.k}),ol=(t,e)=>t.target.closest(`.${e}`),uw=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),lw=t=>{const e=t.ctrlKey&&o0()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},b$=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),T$=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:o=!0,panOnScroll:u=!1,panOnScrollSpeed:c=.5,panOnScrollMode:f=eu.Free,zoomOnDoubleClick:d=!0,elementsSelectable:p,panOnDrag:y=!0,defaultViewport:b,translateExtent:T,minZoom:C,maxZoom:R,zoomActivationKeyCode:P,preventScrolling:w=!0,children:N,noWheelClassName:M,noPanClassName:L})=>{const q=se.useRef(),B=_r(),S=se.useRef(!1),x=se.useRef(!1),O=se.useRef(null),H=se.useRef({x:0,y:0,zoom:0}),{d3Zoom:V,d3Selection:F,d3ZoomHandler:k,userSelectionActive:U}=Rn(b$,Jr),K=af(P),j=se.useRef(0),W=se.useRef(!1),ie=se.useRef();return E$(O),se.useEffect(()=>{if(O.current){const ne=O.current.getBoundingClientRect(),A=wG().scaleExtent([C,R]).translateExtent(T),ee=Wi(O.current).call(A),ae=lo.translate(b.x,b.y).scale(Hl(b.zoom,C,R)),z=[[0,0],[ne.width,ne.height]],ge=A.constrain()(ae,z,T);A.transform(ee,ge),A.wheelDelta(lw),B.setState({d3Zoom:A,d3Selection:ee,d3ZoomHandler:ee.on("wheel.zoom"),transform:[ge.x,ge.y,ge.k],domNode:O.current.closest(".react-flow")})}},[]),se.useEffect(()=>{F&&V&&(u&&!K&&!U?F.on("wheel.zoom",ne=>{if(ol(ne,M))return!1;ne.preventDefault(),ne.stopImmediatePropagation();const A=F.property("__zoom").k||1;if(ne.ctrlKey&&o){const xe=Ss(ne),Le=lw(ne),He=A*Math.pow(2,Le);V.scaleTo(F,He,xe,ne);return}const ee=ne.deltaMode===1?20:1;let ae=f===eu.Vertical?0:ne.deltaX*ee,z=f===eu.Horizontal?0:ne.deltaY*ee;!o0()&&ne.shiftKey&&f!==eu.Vertical&&(ae=ne.deltaY*ee,z=0),V.translateBy(F,-(ae/A)*c,-(z/A)*c,{internal:!0});const ge=fm(F.property("__zoom")),{onViewportChangeStart:Ce,onViewportChange:we,onViewportChangeEnd:Fe}=B.getState();clearTimeout(ie.current),W.current||(W.current=!0,e?.(ne,ge),Ce?.(ge)),W.current&&(t?.(ne,ge),we?.(ge),ie.current=setTimeout(()=>{n?.(ne,ge),Fe?.(ge),W.current=!1},150))},{passive:!1}):typeof k<"u"&&F.on("wheel.zoom",function(ne,A){if(!w&&ne.type==="wheel"&&!ne.ctrlKey||ol(ne,M))return null;ne.preventDefault(),k.call(this,ne,A)},{passive:!1}))},[U,u,f,F,V,k,K,o,w,M,e,t,n]),se.useEffect(()=>{V&&V.on("start",ne=>{if(!ne.sourceEvent||ne.sourceEvent.internal)return null;j.current=ne.sourceEvent?.button;const{onViewportChangeStart:A}=B.getState(),ee=fm(ne.transform);S.current=!0,H.current=ee,ne.sourceEvent?.type==="mousedown"&&B.setState({paneDragging:!0}),A?.(ee),e?.(ne.sourceEvent,ee)})},[V,e]),se.useEffect(()=>{V&&(U&&!S.current?V.on("zoom",null):U||V.on("zoom",ne=>{const{onViewportChange:A}=B.getState();if(B.setState({transform:[ne.transform.x,ne.transform.y,ne.transform.k]}),x.current=!!(r&&uw(y,j.current??0)),(t||A)&&!ne.sourceEvent?.internal){const ee=fm(ne.transform);A?.(ee),t?.(ne.sourceEvent,ee)}}))},[U,V,t,y,r]),se.useEffect(()=>{V&&V.on("end",ne=>{if(!ne.sourceEvent||ne.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=B.getState();if(S.current=!1,B.setState({paneDragging:!1}),r&&uw(y,j.current??0)&&!x.current&&r(ne.sourceEvent),x.current=!1,(n||A)&&_$(H.current,ne.transform)){const ee=fm(ne.transform);H.current=ee,clearTimeout(q.current),q.current=setTimeout(()=>{A?.(ee),n?.(ne.sourceEvent,ee)},u?150:0)}})},[V,u,y,n,r]),se.useEffect(()=>{V&&V.filter(ne=>{const A=K||s,ee=o&&ne.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&ne.button===1&&ne.type==="mousedown"&&(ol(ne,"react-flow__node")||ol(ne,"react-flow__edge")))return!0;if(!y&&!A&&!u&&!d&&!o||U||!d&&ne.type==="dblclick"||ol(ne,M)&&ne.type==="wheel"||ol(ne,L)&&(ne.type!=="wheel"||u&&ne.type==="wheel"&&!K)||!o&&ne.ctrlKey&&ne.type==="wheel"||!A&&!u&&!ee&&ne.type==="wheel"||!y&&(ne.type==="mousedown"||ne.type==="touchstart")||Array.isArray(y)&&!y.includes(ne.button)&&ne.type==="mousedown")return!1;const ae=Array.isArray(y)&&y.includes(ne.button)||!ne.button||ne.button<=1;return(!ne.ctrlKey||ne.type==="wheel")&&ae})},[U,V,s,o,u,d,y,p,K]),Ne.createElement("div",{className:"react-flow__renderer",ref:O,style:z1},N)},v$=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function S$(){const{userSelectionActive:t,userSelectionRect:e}=Rn(v$,Jr);return t&&e?Ne.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function cw(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,o=e.position.y+e.height-r.height;if(s>0||o>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),o>0&&(r.style.height+=o),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function B3(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const o=t.filter(c=>c.id===s.id);if(o.length===0)return r.push(s),r;const u={...s};for(const c of o)if(c)switch(c.type){case"select":{u.selected=c.selected;break}case"position":{typeof c.position<"u"&&(u.position=c.position),typeof c.positionAbsolute<"u"&&(u.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(u.dragging=c.dragging),u.expandParent&&cw(r,u);break}case"dimensions":{typeof c.dimensions<"u"&&(u.width=c.dimensions.width,u.height=c.dimensions.height),typeof c.updateStyle<"u"&&(u.style={...u.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(u.resizing=c.resizing),u.expandParent&&cw(r,u);break}case"remove":return r}return r.push(u),r},n)}function U3(t,e){return B3(t,e)}function A$(t,e){return B3(t,e)}const Ka=(t,e)=>({id:t,type:"select",selected:e});function gl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Ka(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Ka(r.id,!1))),n},[])}const Gy=(t,e)=>n=>{n.target===e.current&&t?.(n)},x$=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),V3=se.memo(({isSelecting:t,selectionMode:e=sf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:o,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:p,children:y})=>{const b=se.useRef(null),T=_r(),C=se.useRef(0),R=se.useRef(0),P=se.useRef(),{userSelectionActive:w,elementsSelectable:N,dragging:M}=Rn(x$,Jr),L=()=>{T.setState({userSelectionActive:!1,userSelectionRect:null}),C.current=0,R.current=0},q=k=>{o?.(k),T.getState().resetSelectedElements(),T.setState({nodesSelectionActive:!1})},B=k=>{if(Array.isArray(n)&&n?.includes(2)){k.preventDefault();return}u?.(k)},S=c?k=>c(k):void 0,x=k=>{const{resetSelectedElements:U,domNode:K}=T.getState();if(P.current=K?.getBoundingClientRect(),!N||!t||k.button!==0||k.target!==b.current||!P.current)return;const{x:j,y:W}=co(k,P.current);U(),T.setState({userSelectionRect:{width:0,height:0,startX:j,startY:W,x:j,y:W}}),r?.(k)},O=k=>{const{userSelectionRect:U,nodeInternals:K,edges:j,transform:W,onNodesChange:ie,onEdgesChange:ne,nodeOrigin:A,getNodes:ee}=T.getState();if(!t||!P.current||!U)return;T.setState({userSelectionActive:!0,nodesSelectionActive:!1});const ae=co(k,P.current),z=U.startX??0,ge=U.startY??0,Ce={...U,x:ae.x<z?ae.x:z,y:ae.y<ge?ae.y:ge,width:Math.abs(ae.x-z),height:Math.abs(ae.y-ge)},we=ee(),Fe=E3(K,Ce,W,e===sf.Partial,!0,A),xe=_3(Fe,j).map(He=>He.id),Le=Fe.map(He=>He.id);if(C.current!==Le.length){C.current=Le.length;const He=gl(we,Le);He.length&&ie?.(He)}if(R.current!==xe.length){R.current=xe.length;const He=gl(j,xe);He.length&&ne?.(He)}T.setState({userSelectionRect:Ce})},H=k=>{if(k.button!==0)return;const{userSelectionRect:U}=T.getState();!w&&U&&k.target===b.current&&q?.(k),T.setState({nodesSelectionActive:C.current>0}),L(),s?.(k)},V=k=>{w&&(T.setState({nodesSelectionActive:C.current>0}),s?.(k)),L()},F=N&&(t||w);return Ne.createElement("div",{className:Fi(["react-flow__pane",{dragging:M,selection:t}]),onClick:F?void 0:Gy(q,b),onContextMenu:Gy(B,b),onWheel:Gy(S,b),onMouseEnter:F?void 0:f,onMouseDown:F?x:void 0,onMouseMove:F?O:d,onMouseUp:F?H:void 0,onMouseLeave:F?V:p,ref:b,style:z1},y,Ne.createElement(S$,null))});V3.displayName="Pane";function H3(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:H3(r,e):!1}function hw(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function w$(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!H3(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function I$(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function z3(t,e,n,r,s=[0,0],o){const u=I$(t,t.extent||r);let c=u;const f=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(f&&t.width&&t.height){const y=n.get(f),{x:b,y:T}=wl(y,s).positionAbsolute;c=y&&Hi(b)&&Hi(T)&&Hi(y.width)&&Hi(y.height)?[[b+t.width*s[0],T+t.height*s[1]],[b+y.width-t.width+t.width*s[0],T+y.height-t.height+t.height*s[1]]]:c}else o?.("005",pa.error005()),c=u;else if(t.extent&&f&&t.extent!=="parent"){const y=n.get(f),{x:b,y:T}=wl(y,s).positionAbsolute;c=[[t.extent[0][0]+b,t.extent[0][1]+T],[t.extent[1][0]+b,t.extent[1][1]+T]]}let d={x:0,y:0};if(f){const y=n.get(f);d=wl(y,s).positionAbsolute}const p=c&&c!=="parent"?O1(e,c):e;return{position:{x:p.x-d.x,y:p.y-d.y},positionAbsolute:p}}function $y({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const fw=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const o=Array.from(s),u=e.getBoundingClientRect(),c={x:u.width*r[0],y:u.height*r[1]};return o.map(f=>{const d=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(d.left-u.left-c.x)/n,y:(d.top-u.top-c.y)/n,...D1(f)}})};function mh(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function e_({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:u,nodeInternals:c,onError:f}=e.getState(),d=c.get(t);if(!d){f?.("012",pa.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&u)&&(o({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function C$(){const t=_r();return se.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:o}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,f={x:(u-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:o?s[0]*Math.round(f.x/s[0]):f.x,ySnapped:o?s[1]*Math.round(f.y/s[1]):f.y,...f}},[])}function Xy(t){return(e,n,r)=>t?.(e,r)}function F3({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,selectNodesOnDrag:u}){const c=_r(),[f,d]=se.useState(!1),p=se.useRef([]),y=se.useRef({x:null,y:null}),b=se.useRef(0),T=se.useRef(null),C=se.useRef({x:0,y:0}),R=se.useRef(null),P=se.useRef(!1),w=se.useRef(!1),N=se.useRef(!1),M=C$();return se.useEffect(()=>{if(t?.current){const L=Wi(t.current),q=({x,y:O})=>{const{nodeInternals:H,onNodeDrag:V,onSelectionDrag:F,updateNodePositions:k,nodeExtent:U,snapGrid:K,snapToGrid:j,nodeOrigin:W,onError:ie}=c.getState();y.current={x,y:O};let ne=!1,A={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&U){const ae=U1(p.current,W);A=k1(ae)}if(p.current=p.current.map(ae=>{const z={x:x-ae.distance.x,y:O-ae.distance.y};j&&(z.x=K[0]*Math.round(z.x/K[0]),z.y=K[1]*Math.round(z.y/K[1]));const ge=[[U[0][0],U[0][1]],[U[1][0],U[1][1]]];p.current.length>1&&U&&!ae.extent&&(ge[0][0]=ae.positionAbsolute.x-A.x+U[0][0],ge[1][0]=ae.positionAbsolute.x+(ae.width??0)-A.x2+U[1][0],ge[0][1]=ae.positionAbsolute.y-A.y+U[0][1],ge[1][1]=ae.positionAbsolute.y+(ae.height??0)-A.y2+U[1][1]);const Ce=z3(ae,z,H,ge,W,ie);return ne=ne||ae.position.x!==Ce.position.x||ae.position.y!==Ce.position.y,ae.position=Ce.position,ae.positionAbsolute=Ce.positionAbsolute,ae}),!ne)return;k(p.current,!0,!0),d(!0);const ee=s?V:Xy(F);if(ee&&R.current){const[ae,z]=$y({nodeId:s,dragItems:p.current,nodeInternals:H});ee(R.current,ae,z)}},B=()=>{if(!T.current)return;const[x,O]=l3(C.current,T.current);if(x!==0||O!==0){const{transform:H,panBy:V}=c.getState();y.current.x=(y.current.x??0)-x/H[2],y.current.y=(y.current.y??0)-O/H[2],V({x,y:O})&&q(y.current)}b.current=requestAnimationFrame(B)},S=x=>{const{nodeInternals:O,multiSelectionActive:H,nodesDraggable:V,unselectNodesAndEdges:F,onNodeDragStart:k,onSelectionDragStart:U}=c.getState();w.current=!0;const K=s?k:Xy(U);(!u||!o)&&!H&&s&&(O.get(s)?.selected||F()),s&&o&&u&&e_({id:s,store:c,nodeRef:t});const j=M(x);if(y.current=j,p.current=w$(O,V,j,s),K&&p.current){const[W,ie]=$y({nodeId:s,dragItems:p.current,nodeInternals:O});K(x.sourceEvent,W,ie)}};if(e)L.on(".drag",null);else{const x=Mq().on("start",O=>{const{domNode:H,nodeDragThreshold:V}=c.getState();V===0&&S(O),N.current=!1;const F=M(O);y.current=F,T.current=H?.getBoundingClientRect()||null,C.current=co(O.sourceEvent,T.current)}).on("drag",O=>{const H=M(O),{autoPanOnNodeDrag:V,nodeDragThreshold:F}=c.getState();if(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1&&(N.current=!0),!N.current){if(!P.current&&w.current&&V&&(P.current=!0,B()),!w.current){const k=H.xSnapped-(y?.current?.x??0),U=H.ySnapped-(y?.current?.y??0);Math.sqrt(k*k+U*U)>F&&S(O)}(y.current.x!==H.xSnapped||y.current.y!==H.ySnapped)&&p.current&&w.current&&(R.current=O.sourceEvent,C.current=co(O.sourceEvent,T.current),q(H))}}).on("end",O=>{if(!(!w.current||N.current)&&(d(!1),P.current=!1,w.current=!1,cancelAnimationFrame(b.current),p.current)){const{updateNodePositions:H,nodeInternals:V,onNodeDragStop:F,onSelectionDragStop:k}=c.getState(),U=s?F:Xy(k);if(H(p.current,!1,!1),U){const[K,j]=$y({nodeId:s,dragItems:p.current,nodeInternals:V});U(O.sourceEvent,K,j)}}}).filter(O=>{const H=O.target;return!O.button&&(!n||!hw(H,`.${n}`,t))&&(!r||hw(H,r,t))});return L.call(x),()=>{L.on(".drag",null)}}}},[t,e,n,r,o,c,s,u,M]),f}function j3(){const t=_r();return se.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:o,getNodes:u,snapToGrid:c,snapGrid:f,onError:d,nodesDraggable:p}=t.getState(),y=u().filter(N=>N.selected&&(N.draggable||p&&typeof N.draggable>"u")),b=c?f[0]:5,T=c?f[1]:5,C=n.isShiftPressed?4:1,R=n.x*b*C,P=n.y*T*C,w=y.map(N=>{if(N.positionAbsolute){const M={x:N.positionAbsolute.x+R,y:N.positionAbsolute.y+P};c&&(M.x=f[0]*Math.round(M.x/f[0]),M.y=f[1]*Math.round(M.y/f[1]));const{positionAbsolute:L,position:q}=z3(N,M,r,s,void 0,d);N.position=q,N.positionAbsolute=L}return N});o(w,!0,!1)},[])}const Il={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ph=t=>{const e=({id:n,type:r,data:s,xPos:o,yPos:u,xPosOrigin:c,yPosOrigin:f,selected:d,onClick:p,onMouseEnter:y,onMouseMove:b,onMouseLeave:T,onContextMenu:C,onDoubleClick:R,style:P,className:w,isDraggable:N,isSelectable:M,isConnectable:L,isFocusable:q,selectNodesOnDrag:B,sourcePosition:S,targetPosition:x,hidden:O,resizeObserver:H,dragHandle:V,zIndex:F,isParent:k,noDragClassName:U,noPanClassName:K,initialized:j,disableKeyboardA11y:W,ariaLabel:ie,rfId:ne,hasHandleBounds:A})=>{const ee=_r(),ae=se.useRef(null),z=se.useRef(null),ge=se.useRef(S),Ce=se.useRef(x),we=se.useRef(r),Fe=M||N||p||y||b||T,xe=j3(),Le=mh(n,ee.getState,y),He=mh(n,ee.getState,b),Je=mh(n,ee.getState,T),an=mh(n,ee.getState,C),Jt=mh(n,ee.getState,R),on=Qe=>{const{nodeDragThreshold:je}=ee.getState();if(M&&(!B||!N||je>0)&&e_({id:n,store:ee,nodeRef:ae}),p){const cn=ee.getState().nodeInternals.get(n);cn&&p(Qe,{...cn})}},Dt=Qe=>{if(!KE(Qe)&&!W)if(h3.includes(Qe.key)&&M){const je=Qe.key==="Escape";e_({id:n,store:ee,unselect:je,nodeRef:ae})}else N&&d&&Object.prototype.hasOwnProperty.call(Il,Qe.key)&&(ee.setState({ariaLiveMessage:`Moved selected node ${Qe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~u}`}),xe({x:Il[Qe.key].x,y:Il[Qe.key].y,isShiftPressed:Qe.shiftKey}))};se.useEffect(()=>()=>{z.current&&(H?.unobserve(z.current),z.current=null)},[]),se.useEffect(()=>{if(ae.current&&!O){const Qe=ae.current;(!j||!A||z.current!==Qe)&&(z.current&&H?.unobserve(z.current),H?.observe(Qe),z.current=Qe)}},[O,j,A]),se.useEffect(()=>{const Qe=we.current!==r,je=ge.current!==S,cn=Ce.current!==x;ae.current&&(Qe||je||cn)&&(Qe&&(we.current=r),je&&(ge.current=S),cn&&(Ce.current=x),ee.getState().updateNodeDimensions([{id:n,nodeElement:ae.current,forceUpdate:!0}]))},[n,r,S,x]);const Dn=F3({nodeRef:ae,disabled:O||!N,noDragClassName:U,handleSelector:V,nodeId:n,isSelectable:M,selectNodesOnDrag:B});return O?null:Ne.createElement("div",{className:Fi(["react-flow__node",`react-flow__node-${r}`,{[K]:N},w,{selected:d,selectable:M,parent:k,dragging:Dn}]),ref:ae,style:{zIndex:F,transform:`translate(${c}px,${f}px)`,pointerEvents:Fe?"all":"none",visibility:j?"visible":"hidden",...P},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Le,onMouseMove:He,onMouseLeave:Je,onContextMenu:an,onClick:on,onDoubleClick:Jt,onKeyDown:q?Dt:void 0,tabIndex:q?0:void 0,role:q?"button":void 0,"aria-describedby":W?void 0:`${D3}-${ne}`,"aria-label":ie},Ne.createElement(FG,{value:n},Ne.createElement(t,{id:n,data:s,type:r,xPos:o,yPos:u,selected:d,isConnectable:L,sourcePosition:S,targetPosition:x,dragging:Dn,dragHandle:V,zIndex:F})))};return e.displayName="NodeWrapper",se.memo(e)};const N$=t=>{const e=t.getNodes().filter(n=>n.selected);return{...U1(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function R$({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=_r(),{width:s,height:o,x:u,y:c,transformString:f,userSelectionActive:d}=Rn(N$,Jr),p=j3(),y=se.useRef(null);if(se.useEffect(()=>{n||y.current?.focus({preventScroll:!0})},[n]),F3({nodeRef:y}),d||!s||!o)return null;const b=t?C=>{const R=r.getState().getNodes().filter(P=>P.selected);t(C,R)}:void 0,T=C=>{Object.prototype.hasOwnProperty.call(Il,C.key)&&p({x:Il[C.key].x,y:Il[C.key].y,isShiftPressed:C.shiftKey})};return Ne.createElement("div",{className:Fi(["react-flow__nodesselection","react-flow__container",e]),style:{transform:f}},Ne.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:b,tabIndex:n?void 0:-1,onKeyDown:n?void 0:T,style:{width:s,height:o,top:c,left:u}}))}var D$=se.memo(R$);const O$=t=>t.nodesSelectionActive,q3=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,deleteKeyCode:c,onMove:f,onMoveStart:d,onMoveEnd:p,selectionKeyCode:y,selectionOnDrag:b,selectionMode:T,onSelectionStart:C,onSelectionEnd:R,multiSelectionKeyCode:P,panActivationKeyCode:w,zoomActivationKeyCode:N,elementsSelectable:M,zoomOnScroll:L,zoomOnPinch:q,panOnScroll:B,panOnScrollSpeed:S,panOnScrollMode:x,zoomOnDoubleClick:O,panOnDrag:H,defaultViewport:V,translateExtent:F,minZoom:k,maxZoom:U,preventScrolling:K,onSelectionContextMenu:j,noWheelClassName:W,noPanClassName:ie,disableKeyboardA11y:ne})=>{const A=Rn(O$),ee=af(y),ae=af(w),z=ae||H,ge=ae||B,Ce=ee||b&&z!==!0;return y$({deleteKeyCode:c,multiSelectionKeyCode:P}),Ne.createElement(T$,{onMove:f,onMoveStart:d,onMoveEnd:p,onPaneContextMenu:o,elementsSelectable:M,zoomOnScroll:L,zoomOnPinch:q,panOnScroll:ge,panOnScrollSpeed:S,panOnScrollMode:x,zoomOnDoubleClick:O,panOnDrag:!ee&&z,defaultViewport:V,translateExtent:F,minZoom:k,maxZoom:U,zoomActivationKeyCode:N,preventScrolling:K,noWheelClassName:W,noPanClassName:ie},Ne.createElement(V3,{onSelectionStart:C,onSelectionEnd:R,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,panOnDrag:z,isSelecting:!!Ce,selectionMode:T},t,A&&Ne.createElement(D$,{onSelectionContextMenu:j,noPanClassName:ie,disableKeyboardA11y:ne})))};q3.displayName="FlowRenderer";var k$=se.memo(q3);function P$(t){return Rn(se.useCallback(n=>t?E3(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function L$(t){const e={input:ph(t.input||I3),default:ph(t.default||JE),output:ph(t.output||N3),group:ph(t.group||H1)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,o)=>(s[o]=ph(t[o]||JE),s),n);return{...e,...r}}const M$=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},B$=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),Y3=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:o,onError:u}=Rn(B$,Jr),c=P$(t.onlyRenderVisibleElements),f=se.useRef(),d=se.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const p=new ResizeObserver(y=>{const b=y.map(T=>({id:T.target.getAttribute("data-id"),nodeElement:T.target,forceUpdate:!0}));o(b)});return f.current=p,p},[]);return se.useEffect(()=>()=>{f?.current?.disconnect()},[]),Ne.createElement("div",{className:"react-flow__nodes",style:z1},c.map(p=>{let y=p.type||"default";t.nodeTypes[y]||(u?.("003",pa.error003(y)),y="default");const b=t.nodeTypes[y]||t.nodeTypes.default,T=!!(p.draggable||e&&typeof p.draggable>"u"),C=!!(p.selectable||s&&typeof p.selectable>"u"),R=!!(p.connectable||n&&typeof p.connectable>"u"),P=!!(p.focusable||r&&typeof p.focusable>"u"),w=t.nodeExtent?O1(p.positionAbsolute,t.nodeExtent):p.positionAbsolute,N=w?.x??0,M=w?.y??0,L=M$({x:N,y:M,width:p.width??0,height:p.height??0,origin:t.nodeOrigin});return Ne.createElement(b,{key:p.id,id:p.id,className:p.className,style:p.style,type:y,data:p.data,sourcePosition:p.sourcePosition||Ge.Bottom,targetPosition:p.targetPosition||Ge.Top,hidden:p.hidden,xPos:N,yPos:M,xPosOrigin:L.x,yPosOrigin:L.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!p.selected,isDraggable:T,isSelectable:C,isConnectable:R,isFocusable:P,resizeObserver:d,dragHandle:p.dragHandle,zIndex:p[Tn]?.z??0,isParent:!!p[Tn]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!p.width&&!!p.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:p.ariaLabel,hasHandleBounds:!!p[Tn]?.handleBounds})}))};Y3.displayName="NodeRenderer";var U$=se.memo(Y3);const V$=(t,e,n)=>n===Ge.Left?t-e:n===Ge.Right?t+e:t,H$=(t,e,n)=>n===Ge.Top?t-e:n===Ge.Bottom?t+e:t,dw="react-flow__edgeupdater",mw=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:u,type:c})=>Ne.createElement("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:u,className:Fi([dw,`${dw}-${c}`]),cx:V$(e,r,t),cy:H$(n,r,t),r,stroke:"transparent",fill:"transparent"}),z$=()=>!0;var ul=t=>{const e=({id:n,className:r,type:s,data:o,onClick:u,onEdgeDoubleClick:c,selected:f,animated:d,label:p,labelStyle:y,labelShowBg:b,labelBgStyle:T,labelBgPadding:C,labelBgBorderRadius:R,style:P,source:w,target:N,sourceX:M,sourceY:L,targetX:q,targetY:B,sourcePosition:S,targetPosition:x,elementsSelectable:O,hidden:H,sourceHandleId:V,targetHandleId:F,onContextMenu:k,onMouseEnter:U,onMouseMove:K,onMouseLeave:j,reconnectRadius:W,onReconnect:ie,onReconnectStart:ne,onReconnectEnd:A,markerEnd:ee,markerStart:ae,rfId:z,ariaLabel:ge,isFocusable:Ce,isReconnectable:we,pathOptions:Fe,interactionWidth:xe,disableKeyboardA11y:Le})=>{const He=se.useRef(null),[Je,an]=se.useState(!1),[Jt,on]=se.useState(!1),Dt=_r(),Dn=se.useMemo(()=>`url('#${WE(ae,z)}')`,[ae,z]),Qe=se.useMemo(()=>`url('#${WE(ee,z)}')`,[ee,z]);if(H)return null;const je=Tt=>{const{edges:Ht,addSelectedEdges:zt,unselectNodesAndEdges:Ft,multiSelectionActive:vt}=Dt.getState(),lt=Ht.find(Wt=>Wt.id===n);lt&&(O&&(Dt.setState({nodesSelectionActive:!1}),lt.selected&&vt?(Ft({nodes:[],edges:[lt]}),He.current?.blur()):zt([n])),u&&u(Tt,lt))},cn=dh(n,Dt.getState,c),Vn=dh(n,Dt.getState,k),Hn=dh(n,Dt.getState,U),Kn=dh(n,Dt.getState,K),zn=dh(n,Dt.getState,j),vn=(Tt,Ht)=>{if(Tt.button!==0)return;const{edges:zt,isValidConnection:Ft}=Dt.getState(),vt=Ht?N:w,lt=(Ht?F:V)||null,Wt=Ht?"target":"source",Gt=Ft||z$,ji=Ht,br=zt.find(Tr=>Tr.id===n);on(!0),ne?.(Tt,br,Wt);const Fn=Tr=>{on(!1),A?.(Tr,br,Wt)};S3({event:Tt,handleId:lt,nodeId:vt,onConnect:Tr=>ie?.(br,Tr),isTarget:ji,getState:Dt.getState,setState:Dt.setState,isValidConnection:Gt,edgeUpdaterType:Wt,onReconnectEnd:Fn})},or=Tt=>vn(Tt,!0),fe=Tt=>vn(Tt,!1),be=()=>an(!0),Ve=()=>an(!1),qe=!O&&!u,ut=Tt=>{if(!Le&&h3.includes(Tt.key)&&O){const{unselectNodesAndEdges:Ht,addSelectedEdges:zt,edges:Ft}=Dt.getState();Tt.key==="Escape"?(He.current?.blur(),Ht({edges:[Ft.find(lt=>lt.id===n)]})):zt([n])}};return Ne.createElement("g",{className:Fi(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:f,animated:d,inactive:qe,updating:Je}]),onClick:je,onDoubleClick:cn,onContextMenu:Vn,onMouseEnter:Hn,onMouseMove:Kn,onMouseLeave:zn,onKeyDown:Ce?ut:void 0,tabIndex:Ce?0:void 0,role:Ce?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ge===null?void 0:ge||`Edge from ${w} to ${N}`,"aria-describedby":Ce?`${O3}-${z}`:void 0,ref:He},!Jt&&Ne.createElement(t,{id:n,source:w,target:N,selected:f,animated:d,label:p,labelStyle:y,labelShowBg:b,labelBgStyle:T,labelBgPadding:C,labelBgBorderRadius:R,data:o,style:P,sourceX:M,sourceY:L,targetX:q,targetY:B,sourcePosition:S,targetPosition:x,sourceHandleId:V,targetHandleId:F,markerStart:Dn,markerEnd:Qe,pathOptions:Fe,interactionWidth:xe}),we&&Ne.createElement(Ne.Fragment,null,(we==="source"||we===!0)&&Ne.createElement(mw,{position:S,centerX:M,centerY:L,radius:W,onMouseDown:or,onMouseEnter:be,onMouseOut:Ve,type:"source"}),(we==="target"||we===!0)&&Ne.createElement(mw,{position:x,centerX:q,centerY:B,radius:W,onMouseDown:fe,onMouseEnter:be,onMouseOut:Ve,type:"target"})))};return e.displayName="EdgeWrapper",se.memo(e)};function F$(t){const e={default:ul(t.default||l0),straight:ul(t.bezier||M1),step:ul(t.step||L1),smoothstep:ul(t.step||Z0),simplebezier:ul(t.simplebezier||P1)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,o)=>(s[o]=ul(t[o]||l0),s),n);return{...e,...r}}function pw(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,o=n?.width||e.width,u=n?.height||e.height;switch(t){case Ge.Top:return{x:r+o/2,y:s};case Ge.Right:return{x:r+o,y:s+u/2};case Ge.Bottom:return{x:r+o/2,y:s+u};case Ge.Left:return{x:r,y:s+u/2}}}function gw(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const j$=(t,e,n,r,s,o)=>{const u=pw(n,t,e),c=pw(o,r,s);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y}};function q$({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:o,width:u,height:c,transform:f}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+o)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const p=k1({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:u/f[2],height:c/f[2]}),y=Math.max(0,Math.min(p.x2,d.x2)-Math.max(p.x,d.x)),b=Math.max(0,Math.min(p.y2,d.y2)-Math.max(p.y,d.y));return Math.ceil(y*b)>0}function yw(t){const e=t?.[Tn]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const Y$=[{level:0,isMaxLevel:!0,edges:[]}];function G$(t,e,n=!1){let r=-1;const s=t.reduce((u,c)=>{const f=Hi(c.zIndex);let d=f?c.zIndex:0;if(n){const p=e.get(c.target),y=e.get(c.source),b=c.selected||p?.selected||y?.selected,T=Math.max(y?.[Tn]?.z||0,p?.[Tn]?.z||0,1e3);d=(f?c.zIndex:0)+(b?T:0)}return u[d]?u[d].push(c):u[d]=[c],r=d>r?d:r,u},{}),o=Object.entries(s).map(([u,c])=>{const f=+u;return{edges:c,level:f,isMaxLevel:f===r}});return o.length===0?Y$:o}function $$(t,e,n){const r=Rn(se.useCallback(s=>t?s.edges.filter(o=>{const u=e.get(o.source),c=e.get(o.target);return u?.width&&u?.height&&c?.width&&c?.height&&q$({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return G$(r,e,n)}const X$=({color:t="none",strokeWidth:e=1})=>Ne.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),K$=({color:t="none",strokeWidth:e=1})=>Ne.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ew={[u0.Arrow]:X$,[u0.ArrowClosed]:K$};function Q$(t){const e=_r();return se.useMemo(()=>Object.prototype.hasOwnProperty.call(Ew,t)?Ew[t]:(e.getState().onError?.("009",pa.error009(t)),null),[t])}const W$=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:u,orient:c="auto-start-reverse"})=>{const f=Q$(e);return f?Ne.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0"},Ne.createElement(f,{color:n,strokeWidth:u})):null},Z$=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,o)=>([o.markerStart,o.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const c=WE(u,e);r.includes(c)||(s.push({id:c,color:u.color||t,...u}),r.push(c))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))},G3=({defaultColor:t,rfId:e})=>{const n=Rn(se.useCallback(Z$({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((o,u)=>o.id!==s[u].id)));return Ne.createElement("defs",null,n.map(r=>Ne.createElement(W$,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};G3.displayName="MarkerDefinitions";var J$=se.memo(G3);const eX=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),$3=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:o,onEdgeContextMenu:u,onEdgeMouseEnter:c,onEdgeMouseMove:f,onEdgeMouseLeave:d,onEdgeClick:p,onEdgeDoubleClick:y,onReconnect:b,onReconnectStart:T,onReconnectEnd:C,reconnectRadius:R,children:P,disableKeyboardA11y:w})=>{const{edgesFocusable:N,edgesUpdatable:M,elementsSelectable:L,width:q,height:B,connectionMode:S,nodeInternals:x,onError:O}=Rn(eX,Jr),H=$$(e,x,n);return q?Ne.createElement(Ne.Fragment,null,H.map(({level:V,edges:F,isMaxLevel:k})=>Ne.createElement("svg",{key:V,style:{zIndex:V},width:q,height:B,className:"react-flow__edges react-flow__container"},k&&Ne.createElement(J$,{defaultColor:t,rfId:r}),Ne.createElement("g",null,F.map(U=>{const[K,j,W]=yw(x.get(U.source)),[ie,ne,A]=yw(x.get(U.target));if(!W||!A)return null;let ee=U.type||"default";s[ee]||(O?.("011",pa.error011(ee)),ee="default");const ae=s[ee]||s.default,z=S===hu.Strict?ne.target:(ne.target??[]).concat(ne.source??[]),ge=gw(j.source,U.sourceHandle),Ce=gw(z,U.targetHandle),we=ge?.position||Ge.Bottom,Fe=Ce?.position||Ge.Top,xe=!!(U.focusable||N&&typeof U.focusable>"u"),Le=U.reconnectable||U.updatable,He=typeof b<"u"&&(Le||M&&typeof Le>"u");if(!ge||!Ce)return O?.("008",pa.error008(ge,U)),null;const{sourceX:Je,sourceY:an,targetX:Jt,targetY:on}=j$(K,ge,we,ie,Ce,Fe);return Ne.createElement(ae,{key:U.id,id:U.id,className:Fi([U.className,o]),type:ee,data:U.data,selected:!!U.selected,animated:!!U.animated,hidden:!!U.hidden,label:U.label,labelStyle:U.labelStyle,labelShowBg:U.labelShowBg,labelBgStyle:U.labelBgStyle,labelBgPadding:U.labelBgPadding,labelBgBorderRadius:U.labelBgBorderRadius,style:U.style,source:U.source,target:U.target,sourceHandleId:U.sourceHandle,targetHandleId:U.targetHandle,markerEnd:U.markerEnd,markerStart:U.markerStart,sourceX:Je,sourceY:an,targetX:Jt,targetY:on,sourcePosition:we,targetPosition:Fe,elementsSelectable:L,onContextMenu:u,onMouseEnter:c,onMouseMove:f,onMouseLeave:d,onClick:p,onEdgeDoubleClick:y,onReconnect:b,onReconnectStart:T,onReconnectEnd:C,reconnectRadius:R,rfId:r,ariaLabel:U.ariaLabel,isFocusable:xe,isReconnectable:He,pathOptions:"pathOptions"in U?U.pathOptions:void 0,interactionWidth:U.interactionWidth,disableKeyboardA11y:w})})))),P):null};$3.displayName="EdgeRenderer";var tX=se.memo($3);const nX=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function rX({children:t}){const e=Rn(nX);return Ne.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function iX(t){const e=M3(),n=se.useRef(!1);se.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const sX={[Ge.Left]:Ge.Right,[Ge.Right]:Ge.Left,[Ge.Top]:Ge.Bottom,[Ge.Bottom]:Ge.Top},X3=({nodeId:t,handleType:e,style:n,type:r=eo.Bezier,CustomComponent:s,connectionStatus:o})=>{const{fromNode:u,handleId:c,toX:f,toY:d,connectionMode:p}=Rn(se.useCallback(B=>({fromNode:B.nodeInternals.get(t),handleId:B.connectionHandleId,toX:(B.connectionPosition.x-B.transform[0])/B.transform[2],toY:(B.connectionPosition.y-B.transform[1])/B.transform[2],connectionMode:B.connectionMode}),[t]),Jr),y=u?.[Tn]?.handleBounds;let b=y?.[e];if(p===hu.Loose&&(b=b||y?.[e==="source"?"target":"source"]),!u||!b)return null;const T=c?b.find(B=>B.id===c):b[0],C=T?T.x+T.width/2:(u.width??0)/2,R=T?T.y+T.height/2:u.height??0,P=(u.positionAbsolute?.x??0)+C,w=(u.positionAbsolute?.y??0)+R,N=T?.position,M=N?sX[N]:null;if(!N||!M)return null;if(s)return Ne.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:T,fromX:P,fromY:w,toX:f,toY:d,fromPosition:N,toPosition:M,connectionStatus:o});let L="";const q={sourceX:P,sourceY:w,sourcePosition:N,targetX:f,targetY:d,targetPosition:M};return r===eo.Bezier?[L]=g3(q):r===eo.Step?[L]=QE({...q,borderRadius:0}):r===eo.SmoothStep?[L]=QE(q):r===eo.SimpleBezier?[L]=p3(q):L=`M${P},${w} ${f},${d}`,Ne.createElement("path",{d:L,fill:"none",className:"react-flow__connection-path",style:n})};X3.displayName="ConnectionLine";const aX=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function oX({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:o,nodesConnectable:u,width:c,height:f,connectionStatus:d}=Rn(aX,Jr);return!(s&&o&&c&&u)?null:Ne.createElement("svg",{style:t,width:c,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},Ne.createElement("g",{className:Fi(["react-flow__connection",d])},Ne.createElement(X3,{nodeId:s,handleType:o,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function _w(t,e){return se.useRef(null),_r(),se.useMemo(()=>e(t),[t])}const K3=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:o,onNodeClick:u,onEdgeClick:c,onNodeDoubleClick:f,onEdgeDoubleClick:d,onNodeMouseEnter:p,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:T,onSelectionContextMenu:C,onSelectionStart:R,onSelectionEnd:P,connectionLineType:w,connectionLineStyle:N,connectionLineComponent:M,connectionLineContainerStyle:L,selectionKeyCode:q,selectionOnDrag:B,selectionMode:S,multiSelectionKeyCode:x,panActivationKeyCode:O,zoomActivationKeyCode:H,deleteKeyCode:V,onlyRenderVisibleElements:F,elementsSelectable:k,selectNodesOnDrag:U,defaultViewport:K,translateExtent:j,minZoom:W,maxZoom:ie,preventScrolling:ne,defaultMarkerColor:A,zoomOnScroll:ee,zoomOnPinch:ae,panOnScroll:z,panOnScrollSpeed:ge,panOnScrollMode:Ce,zoomOnDoubleClick:we,panOnDrag:Fe,onPaneClick:xe,onPaneMouseEnter:Le,onPaneMouseMove:He,onPaneMouseLeave:Je,onPaneScroll:an,onPaneContextMenu:Jt,onEdgeContextMenu:on,onEdgeMouseEnter:Dt,onEdgeMouseMove:Dn,onEdgeMouseLeave:Qe,onReconnect:je,onReconnectStart:cn,onReconnectEnd:Vn,reconnectRadius:Hn,noDragClassName:Kn,noWheelClassName:zn,noPanClassName:vn,elevateEdgesOnSelect:or,disableKeyboardA11y:fe,nodeOrigin:be,nodeExtent:Ve,rfId:qe})=>{const ut=_w(t,L$),Tt=_w(e,F$);return iX(o),Ne.createElement(k$,{onPaneClick:xe,onPaneMouseEnter:Le,onPaneMouseMove:He,onPaneMouseLeave:Je,onPaneContextMenu:Jt,onPaneScroll:an,deleteKeyCode:V,selectionKeyCode:q,selectionOnDrag:B,selectionMode:S,onSelectionStart:R,onSelectionEnd:P,multiSelectionKeyCode:x,panActivationKeyCode:O,zoomActivationKeyCode:H,elementsSelectable:k,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:ee,zoomOnPinch:ae,zoomOnDoubleClick:we,panOnScroll:z,panOnScrollSpeed:ge,panOnScrollMode:Ce,panOnDrag:Fe,defaultViewport:K,translateExtent:j,minZoom:W,maxZoom:ie,onSelectionContextMenu:C,preventScrolling:ne,noDragClassName:Kn,noWheelClassName:zn,noPanClassName:vn,disableKeyboardA11y:fe},Ne.createElement(rX,null,Ne.createElement(tX,{edgeTypes:Tt,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:F,onEdgeContextMenu:on,onEdgeMouseEnter:Dt,onEdgeMouseMove:Dn,onEdgeMouseLeave:Qe,onReconnect:je,onReconnectStart:cn,onReconnectEnd:Vn,reconnectRadius:Hn,defaultMarkerColor:A,noPanClassName:vn,elevateEdgesOnSelect:!!or,disableKeyboardA11y:fe,rfId:qe},Ne.createElement(oX,{style:N,type:w,component:M,containerStyle:L})),Ne.createElement("div",{className:"react-flow__edgelabel-renderer"}),Ne.createElement(U$,{nodeTypes:ut,onNodeClick:u,onNodeDoubleClick:f,onNodeMouseEnter:p,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:T,selectNodesOnDrag:U,onlyRenderVisibleElements:F,noPanClassName:vn,noDragClassName:Kn,disableKeyboardA11y:fe,nodeOrigin:be,nodeExtent:Ve,rfId:qe})))};K3.displayName="GraphView";var uX=se.memo(K3);const t_=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ya={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:t_,nodeExtent:t_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:hu.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:MG,isValidConnection:void 0},lX=()=>XF((t,e)=>({...Ya,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:o}=e();t({nodeInternals:Yy(n,r,s,o)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",o=typeof r<"u",u=s?Yy(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:o?r:[],hasDefaultNodes:s,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:o,fitViewOnInitDone:u,fitViewOnInitOptions:c,domNode:f,nodeOrigin:d}=e(),p=f?.querySelector(".react-flow__viewport");if(!p)return;const y=window.getComputedStyle(p),{m22:b}=new window.DOMMatrixReadOnly(y.transform),T=n.reduce((R,P)=>{const w=s.get(P.id);if(w?.hidden)s.set(w.id,{...w,[Tn]:{...w[Tn],handleBounds:void 0}});else if(w){const N=D1(P.nodeElement);!!(N.width&&N.height&&(w.width!==N.width||w.height!==N.height||P.forceUpdate))&&(s.set(w.id,{...w,[Tn]:{...w[Tn],handleBounds:{source:fw(".source",P.nodeElement,b,d),target:fw(".target",P.nodeElement,b,d)}},...N}),R.push({id:w.id,type:"dimensions",dimensions:N}))}return R},[]);P3(s,d);const C=u||o&&!u&&L3(e,{initial:!0,...c});t({nodeInternals:new Map(s),fitViewOnInitDone:C}),T?.length>0&&r?.(T)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:o}=e(),u=n.map(c=>{const f={id:c.id,type:"position",dragging:s};return r&&(f.positionAbsolute=c.positionAbsolute,f.position=c.position),f});o(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:o,nodeOrigin:u,getNodes:c,elevateNodesOnSelect:f}=e();if(n?.length){if(o){const d=U3(n,c()),p=Yy(d,s,u,f);t({nodeInternals:p})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Ka(f,!0)):(u=gl(o(),n),c=gl(s,[])),hm({changedNodes:u,changedEdges:c,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Ka(f,!0)):(u=gl(s,n),c=gl(o(),[])),hm({changedNodes:c,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:o}=e(),u=n||o(),c=r||s,f=u.map(p=>(p.selected=!1,Ka(p.id,!1))),d=c.map(p=>Ka(p.id,!1));hm({changedNodes:f,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),o=r().filter(c=>c.selected).map(c=>Ka(c.id,!1)),u=n.filter(c=>c.selected).map(c=>Ka(c.id,!1));hm({changedNodes:o,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=O1(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:o,d3Zoom:u,d3Selection:c,translateExtent:f}=e();if(!u||!c||!n.x&&!n.y)return!1;const d=lo.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),p=[[0,0],[s,o]],y=u?.constrain()(d,p,f);return u.transform(c,y),r[0]!==y.x||r[1]!==y.y||r[2]!==y.k},cancelConnection:()=>t({connectionNodeId:Ya.connectionNodeId,connectionHandleId:Ya.connectionHandleId,connectionHandleType:Ya.connectionHandleType,connectionStatus:Ya.connectionStatus,connectionStartHandle:Ya.connectionStartHandle,connectionEndHandle:Ya.connectionEndHandle}),reset:()=>t({...Ya})}),Object.is),Q3=({children:t})=>{const e=se.useRef(null);return e.current||(e.current=lX()),Ne.createElement(IG,{value:e.current},t)};Q3.displayName="ReactFlowProvider";const W3=({children:t})=>se.useContext(W0)?Ne.createElement(Ne.Fragment,null,t):Ne.createElement(Q3,null,t);W3.displayName="ReactFlowWrapper";const cX={input:I3,default:JE,output:N3,group:H1},hX={default:l0,straight:M1,step:L1,smoothstep:Z0,simplebezier:P1},fX=[0,0],dX=[15,15],mX={x:0,y:0,zoom:1},pX={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},gX=se.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o=cX,edgeTypes:u=hX,onNodeClick:c,onEdgeClick:f,onInit:d,onMove:p,onMoveStart:y,onMoveEnd:b,onConnect:T,onConnectStart:C,onConnectEnd:R,onClickConnectStart:P,onClickConnectEnd:w,onNodeMouseEnter:N,onNodeMouseMove:M,onNodeMouseLeave:L,onNodeContextMenu:q,onNodeDoubleClick:B,onNodeDragStart:S,onNodeDrag:x,onNodeDragStop:O,onNodesDelete:H,onEdgesDelete:V,onSelectionChange:F,onSelectionDragStart:k,onSelectionDrag:U,onSelectionDragStop:K,onSelectionContextMenu:j,onSelectionStart:W,onSelectionEnd:ie,connectionMode:ne=hu.Strict,connectionLineType:A=eo.Bezier,connectionLineStyle:ee,connectionLineComponent:ae,connectionLineContainerStyle:z,deleteKeyCode:ge="Backspace",selectionKeyCode:Ce="Shift",selectionOnDrag:we=!1,selectionMode:Fe=sf.Full,panActivationKeyCode:xe="Space",multiSelectionKeyCode:Le=o0()?"Meta":"Control",zoomActivationKeyCode:He=o0()?"Meta":"Control",snapToGrid:Je=!1,snapGrid:an=dX,onlyRenderVisibleElements:Jt=!1,selectNodesOnDrag:on=!0,nodesDraggable:Dt,nodesConnectable:Dn,nodesFocusable:Qe,nodeOrigin:je=fX,edgesFocusable:cn,edgesUpdatable:Vn,elementsSelectable:Hn,defaultViewport:Kn=mX,minZoom:zn=.5,maxZoom:vn=2,translateExtent:or=t_,preventScrolling:fe=!0,nodeExtent:be,defaultMarkerColor:Ve="#b1b1b7",zoomOnScroll:qe=!0,zoomOnPinch:ut=!0,panOnScroll:Tt=!1,panOnScrollSpeed:Ht=.5,panOnScrollMode:zt=eu.Free,zoomOnDoubleClick:Ft=!0,panOnDrag:vt=!0,onPaneClick:lt,onPaneMouseEnter:Wt,onPaneMouseMove:Gt,onPaneMouseLeave:ji,onPaneScroll:br,onPaneContextMenu:Fn,children:Rr,onEdgeContextMenu:Tr,onEdgeDoubleClick:Fr,onEdgeMouseEnter:Bs,onEdgeMouseMove:ti,onEdgeMouseLeave:qi,onEdgeUpdate:Dr,onEdgeUpdateStart:ni,onEdgeUpdateEnd:$t,onReconnect:Pt,onReconnectStart:hn,onReconnectEnd:yn,reconnectRadius:ss=10,edgeUpdaterRadius:Ao=10,onNodesChange:Or,onEdgesChange:as,noDragClassName:Ti="nodrag",noWheelClassName:ri="nowheel",noPanClassName:kr="nopan",fitView:Qn=!1,fitViewOptions:Pr,connectOnClick:jn=!0,attributionPosition:te,proOptions:pe,defaultEdgeOptions:De,elevateNodesOnSelect:Me=!0,elevateEdgesOnSelect:pt=!1,disableKeyboardA11y:rt=!1,autoPanOnConnect:jt=!0,autoPanOnNodeDrag:Lt=!0,connectionRadius:Wn=20,isValidConnection:Mt,onError:Nt,style:Bt,id:On,nodeDragThreshold:En,...Sn},Lr)=>{const Mr=On||"1";return Ne.createElement("div",{...Sn,style:{...Bt,...pX},ref:Lr,className:Fi(["react-flow",s]),"data-testid":"rf__wrapper",id:On},Ne.createElement(W3,null,Ne.createElement(uX,{onInit:d,onMove:p,onMoveStart:y,onMoveEnd:b,onNodeClick:c,onEdgeClick:f,onNodeMouseEnter:N,onNodeMouseMove:M,onNodeMouseLeave:L,onNodeContextMenu:q,onNodeDoubleClick:B,nodeTypes:o,edgeTypes:u,connectionLineType:A,connectionLineStyle:ee,connectionLineComponent:ae,connectionLineContainerStyle:z,selectionKeyCode:Ce,selectionOnDrag:we,selectionMode:Fe,deleteKeyCode:ge,multiSelectionKeyCode:Le,panActivationKeyCode:xe,zoomActivationKeyCode:He,onlyRenderVisibleElements:Jt,selectNodesOnDrag:on,defaultViewport:Kn,translateExtent:or,minZoom:zn,maxZoom:vn,preventScrolling:fe,zoomOnScroll:qe,zoomOnPinch:ut,zoomOnDoubleClick:Ft,panOnScroll:Tt,panOnScrollSpeed:Ht,panOnScrollMode:zt,panOnDrag:vt,onPaneClick:lt,onPaneMouseEnter:Wt,onPaneMouseMove:Gt,onPaneMouseLeave:ji,onPaneScroll:br,onPaneContextMenu:Fn,onSelectionContextMenu:j,onSelectionStart:W,onSelectionEnd:ie,onEdgeContextMenu:Tr,onEdgeDoubleClick:Fr,onEdgeMouseEnter:Bs,onEdgeMouseMove:ti,onEdgeMouseLeave:qi,onReconnect:Pt??Dr,onReconnectStart:hn??ni,onReconnectEnd:yn??$t,reconnectRadius:ss??Ao,defaultMarkerColor:Ve,noDragClassName:Ti,noWheelClassName:ri,noPanClassName:kr,elevateEdgesOnSelect:pt,rfId:Mr,disableKeyboardA11y:rt,nodeOrigin:je,nodeExtent:be}),Ne.createElement(s$,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:T,onConnectStart:C,onConnectEnd:R,onClickConnectStart:P,onClickConnectEnd:w,nodesDraggable:Dt,nodesConnectable:Dn,nodesFocusable:Qe,edgesFocusable:cn,edgesUpdatable:Vn,elementsSelectable:Hn,elevateNodesOnSelect:Me,minZoom:zn,maxZoom:vn,nodeExtent:be,onNodesChange:Or,onEdgesChange:as,snapToGrid:Je,snapGrid:an,connectionMode:ne,translateExtent:or,connectOnClick:jn,defaultEdgeOptions:De,fitView:Qn,fitViewOptions:Pr,onNodesDelete:H,onEdgesDelete:V,onNodeDragStart:S,onNodeDrag:x,onNodeDragStop:O,onSelectionDrag:U,onSelectionDragStart:k,onSelectionDragStop:K,noPanClassName:kr,nodeOrigin:je,rfId:Mr,autoPanOnConnect:jt,autoPanOnNodeDrag:Lt,onError:Nt,connectionRadius:Wn,isValidConnection:Mt,nodeDragThreshold:En}),Ne.createElement(r$,{onSelectionChange:F}),Rr,Ne.createElement(RG,{proOptions:pe,position:te}),Ne.createElement(c$,{rfId:Mr,disableKeyboardA11y:rt})))});gX.displayName="ReactFlow";function Z3(t){return e=>{const[n,r]=se.useState(e),s=se.useCallback(o=>r(u=>t(o,u)),[]);return[n,r,s]}}const yX=Z3(U3),EX=Z3(A$),J3=t=>!!(t&&t.uid),Vh=[{id:"1",type:"staticEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",title:"AI & Natural Language",suggestions:["Machine Learning","Neural Networks","Deep Learning"],tokenColors:{},previousNode:null},position:{x:250,y:25},draggable:!1}],Cl=[],_X=async t=>{if(!J3({uid:t}))throw new Error(zr.AUTH_REQUIRED);try{const e=k_(ns,_i.BOARDS),n=aM(e,oM("userId","==",t),uM("createdAt","desc")),r=await Y_(n);if(r.empty){const o={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:ln.now(),isOpen:!0};return await G_($l(ns,_i.BOARDS,o.id),o),console.log("Created default board:",o),[o]}const s=r.docs.map(o=>({id:o.id,...o.data()}));return console.log("Fetched all boards:",s),s}catch(e){if(console.error("Fetch all boards error:",e),e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:ln.now(),isOpen:!0,isFallback:!0}]}throw new Error(zr.LOAD_FAILED)}},bw=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),Vh;try{const e=k_(ns,_i.BOARDS,t,_i.NODES),n=await Y_(e);if(n.empty)return console.log("No nodes found for board, using initial nodes"),Vh;const r=n.docs.map(s=>{const o=s.data(),u={...o.data,tokenColors:o.data?.tokenColors||{},previousNode:o.data?.previousNode||null};return{id:s.id,type:o.type,position:o.position,data:u,draggable:o.draggable,style:o.style}});return console.log("Fetched nodes from board:",r),r}catch(e){return console.error("Fetch nodes error:",e),Vh}},Tw=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),Cl;try{const e=k_(ns,_i.BOARDS,t,_i.EDGES),n=await Y_(e);if(n.empty)return console.log("No edges found for board, using initial edges"),Cl;const r=n.docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched edges from board:",r),r}catch(e){return console.error("Fetch edges error:",e),Cl}},bX=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving nodes:",{boardId:t,nodesCount:e?.length});return}try{const n=SC(ns);e.forEach(r=>{const s=$l(ns,_i.BOARDS,t,_i.NODES,r.id),o={type:r.type,data:r.data,position:r.position,updatedAt:ln.now()};r.draggable!=null&&(o.draggable=r.draggable),r.style!=null&&(o.style=r.style),n.set(s,o)}),await n.commit(),console.log("Nodes saved to board")}catch(n){throw console.error("Save nodes error:",n),new Error(zr.SAVE_FAILED)}},TX=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving edges:",{boardId:t,edgesCount:e?.length});return}try{const n=SC(ns);e.forEach(r=>{const s=$l(ns,_i.BOARDS,t,_i.EDGES,r.id),o={source:r.source,target:r.target,updatedAt:ln.now()};r.sourceHandle!=null&&(o.sourceHandle=r.sourceHandle),r.targetHandle!=null&&(o.targetHandle=r.targetHandle),r.style!=null&&(o.style=r.style),r.markerEnd!=null&&(o.markerEnd=r.markerEnd),n.set(s,o)}),await n.commit(),console.log("Edges saved to board")}catch(n){throw console.error("Save edges error:",n),new Error(zr.SAVE_FAILED)}},vX=async(t,e,n)=>{if(!J3({uid:t}))throw new Error(zr.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:ln.now(),isOpen:!1};return console.log("Creating board:",r),await G_($l(ns,_i.BOARDS,r.id),r),console.log("Board created successfully:",r),r}catch(r){throw console.error("Error creating new board:",r),r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},SX=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await mM($l(ns,_i.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},ll=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:ln.now()};await G_($l(ns,_i.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},AX=t=>{if(!t||!t.data)return t;const e={...t},n={...t.data};return n.title||(n.title=n.label||n.summary||"Node"),n.suggestions||(n.suggestions=[]),e.draggable===void 0&&(e.draggable=!0),e.data=n,e},xX=t=>Array.isArray(t)?t.map(AX):[],wX=(t,e={})=>{const[n,r,s]=yX([]),[o,u,c]=EX([]),[f,d]=se.useState(!0),[p,y]=se.useState(!1),[b,T]=se.useState(!1),[C,R]=se.useState([]),[P,w]=se.useState(null),N=se.useRef(null),{showSuccess:M,showError:L,showInfo:q}=e,B=k=>{const U=k.find(K=>K.isOpen===!0);if(U)return U;if(k.length>0){const K={...k[0],isOpen:!0};return ll(K.id,K).catch(console.error),K}return null};se.useEffect(()=>{(async()=>{if(t)try{d(!0);const U=await _X(t.uid);R(U);const K=U.some(ne=>ne.isFallback);K&&L&&L("Database index missing. Please create the required Firestore index. Check console for details.");const j=B(U);if(!j){console.error("No board found for user"),L&&L("No boards found. Creating a default board..."),r(Vh),u(Cl);return}w(j);const[W,ie]=await Promise.all([bw(j.id),Tw(j.id)]);r(W),u(ie),q&&!K&&q("Board loaded successfully!")}catch(U){console.error("Error loading initial data:",U),L&&L("Failed to load board data. Using default board."),r(Vh),u(Cl)}finally{d(!1)}})()},[t,r,u]);const S=async(k,U,K)=>{N.current&&clearTimeout(N.current);const j=setTimeout(async()=>{try{T(!0);const W=[];U&&U.length>0&&W.push(bX(k,U)),K&&K.length>0&&W.push(TX(k,K)),W.length>0&&(await Promise.all(W),console.log("Auto-save completed successfully"))}catch(W){console.error("Auto-save failed:",W),L&&L("Failed to save changes automatically")}finally{T(!1),N.current=null}},1e3);N.current=j};se.useEffect(()=>(!f&&P&&!p&&!P.isFallback&&S(P.id,n,o),()=>{N.current&&clearTimeout(N.current)}),[n,o,f,P,p]);const x=async k=>{try{if(P?.id===k)return;if(P?.isFallback||C.find(K=>K.id===k)?.isFallback){L&&L("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(y(!0),P&&!P.isFallback){const K={...P,isOpen:!1};await ll(P.id,K),R(j=>j.map(W=>W.id===P.id?K:W))}const U=C.find(K=>K.id===k);if(U){const K={...U,isOpen:!0};await ll(k,K),w(K),R(ne=>ne.map(A=>A.id===k?K:A));const[j,W]=await Promise.all([bw(k),Tw(k)]),ie=xX(j);r(ie),u(W),M&&M(`Switched to "${K.name}"`)}else console.error("Board not found:",k),L&&L("Board not found")}catch(U){console.error("Error switching board:",U),L&&L("Failed to switch board. Please try again.")}finally{y(!1)}};return{nodes:n,edges:o,allBoards:C,currentBoard:P,isLoading:f,isSwitchingBoard:p,isSaving:b,onNodesChange:s,onEdgesChange:c,setNodes:r,switchToBoard:x,createNewBoard:async k=>{try{if(!t)return L&&L("You must be logged in to create a board"),null;q&&q("Creating new board...");const U=await vX(t.uid,k||null,C);if(U){if(P&&!P.isFallback){const j={...P,isOpen:!1};ll(P.id,j).catch(console.error)}const K={...U,isOpen:!0};return R(j=>{const W=j.map(ie=>ie.id===P?.id?{...ie,isOpen:!1}:ie);return[K,...W]}),w(K),ll(U.id,K).catch(console.error),r([{id:"1",type:"staticEditable",data:{label:k||"New Board"},position:{x:250,y:25},draggable:!1}]),u(Cl),M&&M(`Board "${U.name}" created and opened!`),K}else return L&&L("Failed to create board. Please try again."),null}catch(U){return L&&L(`Failed to create board: ${U.message}`),null}},deleteBoard:async k=>{try{if(C.length<=1){L&&L("Cannot delete the last board!");return}if(!C.find(K=>K.id===k)){console.error("Board not found for deletion"),L&&L("Board not found");return}if(q&&q("Deleting board..."),P?.id===k){const K=C.find(j=>j.id!==k);K&&await x(K.id)}await SX(k),R(K=>K.filter(j=>j.id!==k)),M&&M("Board deleted successfully!")}catch(U){console.error("Error deleting board:",U),L&&L("Failed to delete board. Please try again.")}},updateBoardName:async k=>{if(P&&P.name!==k){const U={...P,name:k};w(U),R(K=>K.map(j=>j.id===P.id?U:j));try{await ll(P.id,U),console.log("Board name updated successfully")}catch(K){console.error("Error updating board name:",K)}}},clearBoardState:()=>{N.current&&(clearTimeout(N.current),N.current=null),R([]),w(null),r([]),u([]),d(!0),y(!1),T(!1)}}},IX=()=>{const[t,e]=se.useState([]),n=d=>{e(p=>p.filter(y=>y.id!==d))},r=d=>{const p=Date.now().toString(),y={id:p,timestamp:new Date,...d};return e(b=>[...b,y]),d.autoRemove!==!1&&setTimeout(()=>{n(p)},d.duration||5e3),p};return{notifications:t,addNotification:r,removeNotification:n,clearAllNotifications:()=>{e([])},showSuccess:(d,p={})=>r({type:"success",message:d,...p}),showError:(d,p={})=>r({type:"error",message:d,duration:7e3,...p}),showInfo:(d,p={})=>r({type:"info",message:d,...p}),showWarning:(d,p={})=>r({type:"warning",message:d,duration:6e3,...p})}};function CX(){const[t,e]=se.useState(!1),[n,r]=se.useState(null),{user:s,signOut:o}=MF(),{notifications:u,removeNotification:c,showSuccess:f,showError:d,showInfo:p}=IX(),{allBoards:y,currentBoard:b,isSwitchingBoard:T,isSaving:C,switchToBoard:R,createNewBoard:P,deleteBoard:w,updateBoardName:N,clearBoardState:M}=wX(s,{showSuccess:f,showError:d,showInfo:p}),L=async()=>{await o(),M()},q=()=>{e(!0)};if(!s)return t?$.jsx(z8,{}):$.jsx(PF,{onLogin:q});const[B,S]=se.useState(440),[x,O]=se.useState(!1);return se.useEffect(()=>{function H(){S(V=>Math.min(Math.max(420,V),window.innerWidth*.5))}return H(),window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[]),$.jsxs("div",{className:"relative w-screen h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[$.jsx(kF,{notifications:u,onRemove:c}),$.jsxs(oy,{defaultSizes:[280,1],className:"h-full",children:[$.jsx(oy.Pane,{minSize:200,maxSize:500,children:$.jsx(j8,{allBoards:y,currentBoard:b,onSwitchBoard:R,onCreateBoard:async H=>{await P(H)},onDeleteBoard:w,onSignOut:L,isLoading:T})}),$.jsx(oy.Pane,{minSize:480,children:$.jsxs("div",{className:"relative h-full bg-white dark:bg-gray-800",children:[$.jsx(DF,{name:b?.name||"Loading",onSetName:N,user:s,isSaving:C}),$.jsx("div",{className:"h-[calc(100%-60px)] bg-gray-50 dark:bg-gray-900"})]})})]}),x&&$.jsx(jO.ResizableBox,{width:B,height:1/0,minConstraints:[420,0],maxConstraints:[window.innerWidth*.5,0],axis:"x",resizeHandles:["w"],onResizeStop:(H,{size:V})=>S(V.width),className:`fixed top-4 right-4 z-50 h-[calc(100vh-2rem)]
                     bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl
                     border border-gray-200/50 dark:border-gray-700/50
                     rounded-3xl shadow-2xl overflow-hidden
                     animate-in slide-in-from-right-5 fade-in duration-300`,children:$.jsx(CF,{explanation:n,onClose:()=>O(!1),isVisible:x})})]})}function NX(){return $.jsx(RF,{children:$.jsx(CX,{})})}const eD=document.getElementById("root");if(!eD)throw new Error("Failed to find the root element");kO.createRoot(eD).render($.jsx(se.StrictMode,{children:$.jsx(NX,{})}));
