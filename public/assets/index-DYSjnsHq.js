(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function va(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pg={exports:{}},hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function X2(){if(Db)return hc;Db=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var u=null;if(a!==void 0&&(u=""+a),s.key!==void 0&&(u=""+s.key),"key"in s){a={};for(var f in s)f!=="key"&&(a[f]=s[f])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:a}}return hc.Fragment=e,hc.jsx=n,hc.jsxs=n,hc}var Ob;function Q2(){return Ob||(Ob=1,Pg.exports=X2()),Pg.exports}var ne=Q2(),Vg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function W2(){if(Mb)return $e;Mb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function v(b){return b===null||typeof b!="object"?null:(b=_&&b[_]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function O(b,X,re){this.props=b,this.context=X,this.refs=R,this.updater=re||E}O.prototype.isReactComponent={},O.prototype.setState=function(b,X){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,X,"setState")},O.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function M(){}M.prototype=O.prototype;function q(b,X,re){this.props=b,this.context=X,this.refs=R,this.updater=re||E}var $=q.prototype=new M;$.constructor=q,A($,O.prototype),$.isPureReactComponent=!0;var H=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function V(b,X,re,N,ue,ve){return re=ve.ref,{$$typeof:t,type:b,key:X,ref:re!==void 0?re:null,props:ve}}function I(b,X){return V(b.type,X,void 0,void 0,void 0,b.props)}function C(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function F(b){var X={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(re){return X[re]})}var D=/\/+/g;function z(b,X){return typeof b=="object"&&b!==null&&b.key!=null?F(""+b.key):X.toString(36)}function x(){}function k(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(x,x):(b.status="pending",b.then(function(X){b.status==="pending"&&(b.status="fulfilled",b.value=X)},function(X){b.status==="pending"&&(b.status="rejected",b.reason=X)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function G(b,X,re,N,ue){var ve=typeof b;(ve==="undefined"||ve==="boolean")&&(b=null);var _e=!1;if(b===null)_e=!0;else switch(ve){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(b.$$typeof){case t:case e:_e=!0;break;case m:return _e=b._init,G(_e(b._payload),X,re,N,ue)}}if(_e)return ue=ue(b),_e=N===""?"."+z(b,0):N,H(ue)?(re="",_e!=null&&(re=_e.replace(D,"$&/")+"/"),G(ue,X,re,"",function(De){return De})):ue!=null&&(C(ue)&&(ue=I(ue,re+(ue.key==null||b&&b.key===ue.key?"":(""+ue.key).replace(D,"$&/")+"/")+_e)),X.push(ue)),1;_e=0;var Ce=N===""?".":N+":";if(H(b))for(var be=0;be<b.length;be++)N=b[be],ve=Ce+z(N,be),_e+=G(N,X,re,ve,ue);else if(be=v(b),typeof be=="function")for(b=be.call(b),be=0;!(N=b.next()).done;)N=N.value,ve=Ce+z(N,be++),_e+=G(N,X,re,ve,ue);else if(ve==="object"){if(typeof b.then=="function")return G(k(b),X,re,N,ue);throw X=String(b),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return _e}function U(b,X,re){if(b==null)return b;var N=[],ue=0;return G(b,N,"","",function(ve){return X.call(re,ve,ue++)}),N}function K(b){if(b._status===-1){var X=b._result;X=X(),X.then(function(re){(b._status===0||b._status===-1)&&(b._status=1,b._result=re)},function(re){(b._status===0||b._status===-1)&&(b._status=2,b._result=re)}),b._status===-1&&(b._status=0,b._result=X)}if(b._status===1)return b._result.default;throw b._result}var J=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function Z(){}return $e.Children={map:U,forEach:function(b,X,re){U(b,function(){X.apply(this,arguments)},re)},count:function(b){var X=0;return U(b,function(){X++}),X},toArray:function(b){return U(b,function(X){return X})||[]},only:function(b){if(!C(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},$e.Component=O,$e.Fragment=n,$e.Profiler=s,$e.PureComponent=q,$e.StrictMode=r,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,$e.__COMPILER_RUNTIME={__proto__:null,c:function(b){return Q.H.useMemoCache(b)}},$e.cache=function(b){return function(){return b.apply(null,arguments)}},$e.cloneElement=function(b,X,re){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var N=A({},b.props),ue=b.key,ve=void 0;if(X!=null)for(_e in X.ref!==void 0&&(ve=void 0),X.key!==void 0&&(ue=""+X.key),X)!j.call(X,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&X.ref===void 0||(N[_e]=X[_e]);var _e=arguments.length-2;if(_e===1)N.children=re;else if(1<_e){for(var Ce=Array(_e),be=0;be<_e;be++)Ce[be]=arguments[be+2];N.children=Ce}return V(b.type,ue,void 0,void 0,ve,N)},$e.createContext=function(b){return b={$$typeof:u,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:a,_context:b},b},$e.createElement=function(b,X,re){var N,ue={},ve=null;if(X!=null)for(N in X.key!==void 0&&(ve=""+X.key),X)j.call(X,N)&&N!=="key"&&N!=="__self"&&N!=="__source"&&(ue[N]=X[N]);var _e=arguments.length-2;if(_e===1)ue.children=re;else if(1<_e){for(var Ce=Array(_e),be=0;be<_e;be++)Ce[be]=arguments[be+2];ue.children=Ce}if(b&&b.defaultProps)for(N in _e=b.defaultProps,_e)ue[N]===void 0&&(ue[N]=_e[N]);return V(b,ve,void 0,void 0,null,ue)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:f,render:b}},$e.isValidElement=C,$e.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:K}},$e.memo=function(b,X){return{$$typeof:d,type:b,compare:X===void 0?null:X}},$e.startTransition=function(b){var X=Q.T,re={};Q.T=re;try{var N=b(),ue=Q.S;ue!==null&&ue(re,N),typeof N=="object"&&N!==null&&typeof N.then=="function"&&N.then(Z,J)}catch(ve){J(ve)}finally{Q.T=X}},$e.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},$e.use=function(b){return Q.H.use(b)},$e.useActionState=function(b,X,re){return Q.H.useActionState(b,X,re)},$e.useCallback=function(b,X){return Q.H.useCallback(b,X)},$e.useContext=function(b){return Q.H.useContext(b)},$e.useDebugValue=function(){},$e.useDeferredValue=function(b,X){return Q.H.useDeferredValue(b,X)},$e.useEffect=function(b,X,re){var N=Q.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return N.useEffect(b,X)},$e.useId=function(){return Q.H.useId()},$e.useImperativeHandle=function(b,X,re){return Q.H.useImperativeHandle(b,X,re)},$e.useInsertionEffect=function(b,X){return Q.H.useInsertionEffect(b,X)},$e.useLayoutEffect=function(b,X){return Q.H.useLayoutEffect(b,X)},$e.useMemo=function(b,X){return Q.H.useMemo(b,X)},$e.useOptimistic=function(b,X){return Q.H.useOptimistic(b,X)},$e.useReducer=function(b,X,re){return Q.H.useReducer(b,X,re)},$e.useRef=function(b){return Q.H.useRef(b)},$e.useState=function(b){return Q.H.useState(b)},$e.useSyncExternalStore=function(b,X,re){return Q.H.useSyncExternalStore(b,X,re)},$e.useTransition=function(){return Q.H.useTransition()},$e.version="19.1.0",$e}var Pb;function lf(){return Pb||(Pb=1,Vg.exports=W2()),Vg.exports}var L=lf();const fe=va(L);var Lg={exports:{}},dc={},Ug={exports:{}},zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function Z2(){return Vb||(Vb=1,function(t){function e(U,K){var J=U.length;U.push(K);e:for(;0<J;){var Z=J-1>>>1,b=U[Z];if(0<s(b,K))U[Z]=K,U[J]=b,J=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],J=U.pop();if(J!==K){U[0]=J;e:for(var Z=0,b=U.length,X=b>>>1;Z<X;){var re=2*(Z+1)-1,N=U[re],ue=re+1,ve=U[ue];if(0>s(N,J))ue<b&&0>s(ve,N)?(U[Z]=ve,U[ue]=J,Z=ue):(U[Z]=N,U[re]=J,Z=re);else if(ue<b&&0>s(ve,J))U[Z]=ve,U[ue]=J,Z=ue;else break e}}return K}function s(U,K){var J=U.sortIndex-K.sortIndex;return J!==0?J:U.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var h=[],d=[],m=1,_=null,v=3,E=!1,A=!1,R=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function H(U){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=U)r(d),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(d)}}function Q(U){if(R=!1,H(U),!A)if(n(h)!==null)A=!0,j||(j=!0,z());else{var K=n(d);K!==null&&G(Q,K.startTime-U)}}var j=!1,V=-1,I=5,C=-1;function F(){return O?!0:!(t.unstable_now()-C<I)}function D(){if(O=!1,j){var U=t.unstable_now();C=U;var K=!0;try{e:{A=!1,R&&(R=!1,q(V),V=-1),E=!0;var J=v;try{t:{for(H(U),_=n(h);_!==null&&!(_.expirationTime>U&&F());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,v=_.priorityLevel;var b=Z(_.expirationTime<=U);if(U=t.unstable_now(),typeof b=="function"){_.callback=b,H(U),K=!0;break t}_===n(h)&&r(h),H(U)}else r(h);_=n(h)}if(_!==null)K=!0;else{var X=n(d);X!==null&&G(Q,X.startTime-U),K=!1}}break e}finally{_=null,v=J,E=!1}K=void 0}}finally{K?z():j=!1}}}var z;if(typeof $=="function")z=function(){$(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,k=x.port2;x.port1.onmessage=D,z=function(){k.postMessage(null)}}else z=function(){M(D,0)};function G(U,K){V=M(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var J=v;v=K;try{return U()}finally{v=J}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=v;v=U;try{return K()}finally{v=J}},t.unstable_scheduleCallback=function(U,K,J){var Z=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Z+J:Z):J=Z,U){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=J+b,U={id:m++,callback:K,priorityLevel:U,startTime:J,expirationTime:b,sortIndex:-1},J>Z?(U.sortIndex=J,e(d,U),n(h)===null&&U===n(d)&&(R?(q(V),V=-1):R=!0,G(Q,J-Z))):(U.sortIndex=b,e(h,U),A||E||(A=!0,j||(j=!0,z()))),U},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(U){var K=v;return function(){var J=v;v=K;try{return U.apply(this,arguments)}finally{v=J}}}}(zg)),zg}var Lb;function J2(){return Lb||(Lb=1,Ug.exports=Z2()),Ug.exports}var Bg={exports:{}},Pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function ek(){if(Ub)return Pn;Ub=1;var t=lf();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:h,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pn.createPortal=function(h,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,m)},Pn.flushSync=function(h){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,h)return h()}finally{u.T=d,r.p=m,r.d.f()}},Pn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Pn.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Pn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var m=d.as,_=f(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):m==="script"&&r.d.X(h,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Pn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=f(m,d.crossOrigin);r.d.L(h,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pn.preloadModule=function(h,d){if(typeof h=="string")if(d){var m=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Pn.requestFormReset=function(h){r.d.r(h)},Pn.unstable_batchedUpdates=function(h,d){return h(d)},Pn.useFormState=function(h,d,m){return u.H.useFormState(h,d,m)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.1.0",Pn}var zb;function hA(){if(zb)return Bg.exports;zb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bg.exports=ek(),Bg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function tk(){if(Bb)return dc;Bb=1;var t=J2(),e=lf(),n=hA();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function u(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var l=i,c=o;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return f(g),i;if(y===c)return f(g),o;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=y;else{for(var S=!1,P=g.child;P;){if(P===l){S=!0,l=g,c=y;break}if(P===c){S=!0,c=g,l=y;break}P=P.sibling}if(!S){for(P=y.child;P;){if(P===l){S=!0,l=y,c=g;break}if(P===c){S=!0,c=y,l=g;break}P=P.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:o}function d(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=d(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function k(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case O:return"Profiler";case R:return"StrictMode";case Q:return"Suspense";case j:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case $:return(i.displayName||"Context")+".Provider";case q:return(i._context.displayName||"Context")+".Consumer";case H:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return o=i.displayName||null,o!==null?o:k(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return k(i(o))}catch{}}return null}var G=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Z=[],b=-1;function X(i){return{current:i}}function re(i){0>b||(i.current=Z[b],Z[b]=null,b--)}function N(i,o){b++,Z[b]=i.current,i.current=o}var ue=X(null),ve=X(null),_e=X(null),Ce=X(null);function be(i,o){switch(N(_e,o),N(ve,i),N(ue,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?ob(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=ob(o),i=ab(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ue),N(ue,i)}function De(){re(ue),re(ve),re(_e)}function Oe(i){i.memoizedState!==null&&N(Ce,i);var o=ue.current,l=ab(o,i.type);o!==l&&(N(ve,i),N(ue,l))}function Ze(i){ve.current===i&&(re(ue),re(ve)),Ce.current===i&&(re(Ce),ac._currentValue=J)}var tt=Object.prototype.hasOwnProperty,ft=t.unstable_scheduleCallback,lt=t.unstable_cancelCallback,Me=t.unstable_shouldYield,St=t.unstable_requestPaint,Le=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,Gt=t.unstable_UserBlockingPriority,Tn=t.unstable_NormalPriority,Gn=t.unstable_LowPriority,Sn=t.unstable_IdlePriority,Zt=t.log,Fn=t.unstable_setDisableYieldValue,ee=null,he=null;function Ae(i){if(typeof Zt=="function"&&Fn(i),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(ee,i)}catch{}}var Ie=Math.clz32?Math.clz32:xt,Xe=Math.log,ut=Math.LN2;function xt(i){return i>>>=0,i===0?32:31-(Xe(i)/ut|0)|0}var Ot=256,Yt=4194304;function Vt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ht(i,o,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,y=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var P=c&134217727;return P!==0?(c=P&~y,c!==0?g=Vt(c):(S&=P,S!==0?g=Vt(S):l||(l=P&~i,l!==0&&(g=Vt(l))))):(P=c&~y,P!==0?g=Vt(P):S!==0?g=Vt(S):l||(l=c&~i,l!==0&&(g=Vt(l)))),g===0?0:o!==0&&o!==g&&(o&y)===0&&(y=g&-g,l=o&-o,y>=l||y===32&&(l&4194048)!==0)?o:g}function Ft(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function on(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(){var i=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),i}function jr(){var i=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),i}function rr(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function wr(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ir(i,o,l,c,g,y){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,Y=i.expirationTimes,oe=i.hiddenUpdates;for(l=S&~l;0<l;){var de=31-Ie(l),me=1<<de;P[de]=0,Y[de]=-1;var ae=oe[de];if(ae!==null)for(oe[de]=null,de=0;de<ae.length;de++){var le=ae[de];le!==null&&(le.lane&=-536870913)}l&=~me}c!==0&&br(i,c,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(S&~o))}function br(i,o,l){i.pendingLanes|=o,i.suspendedLanes&=~o;var c=31-Ie(o);i.entangledLanes|=o,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function To(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var c=31-Ie(l),g=1<<c;g&o|i[c]&o&&(i[c]|=o),l&=~g}}function ri(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ii(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:xb(i.type))}function Aa(i,o){var l=K.p;try{return K.p=i,o()}finally{K.p=l}}var Ct=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Ct,Ht="__reactProps$"+Ct,Yn="__reactContainer$"+Ct,So="__reactEvents$"+Ct,du="__reactListeners$"+Ct,si="__reactHandles$"+Ct,xa="__reactResources$"+Ct,Pi="__reactMarker$"+Ct;function oi(i){delete i[Kt],delete i[Ht],delete i[So],delete i[du],delete i[si]}function Tr(i){var o=i[Kt];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Yn]||l[Kt]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=fb(i);i!==null;){if(l=i[Kt])return l;i=fb(i)}return o}i=l,l=i.parentNode}return null}function Sr(i){if(i=i[Kt]||i[Yn]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Ar(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function An(i){var o=i[xa];return o||(o=i[xa]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ut(i){i[Pi]=!0}var Ao=new Set,Es={};function sr(i,o){qr(i,o),qr(i+"Capture",o)}function qr(i,o){for(Es[i]=o,i=0;i<o.length;i++)Ao.add(o[i])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ca={},Vi={};function Ra(i){return tt.call(Vi,i)?!0:tt.call(Ca,i)?!1:xo.test(i)?Vi[i]=!0:(Ca[i]=!0,!1)}function ai(i,o,l){if(Ra(o))if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+l)}}function xr(i,o,l){if(l===null)i.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+l)}}function an(i,o,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(o,l,""+c)}}var li,Ia;function $r(i){if(li===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);li=o&&o[1]||"",Ia=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+li+i+Ia}var ws=!1;function ui(i,o){if(!i||ws)return"";ws=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var ae=le}Reflect.construct(i,[],me)}else{try{me.call()}catch(le){ae=le}i.call(me.prototype)}}else{try{throw Error()}catch(le){ae=le}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),S=y[0],P=y[1];if(S&&P){var Y=S.split(`
`),oe=P.split(`
`);for(g=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;g<oe.length&&!oe[g].includes("DetermineComponentFrameRoot");)g++;if(c===Y.length||g===oe.length)for(c=Y.length-1,g=oe.length-1;1<=c&&0<=g&&Y[c]!==oe[g];)g--;for(;1<=c&&0<=g;c--,g--)if(Y[c]!==oe[g]){if(c!==1||g!==1)do if(c--,g--,0>g||Y[c]!==oe[g]){var de=`
`+Y[c].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=c&&0<=g);break}}}finally{ws=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?$r(l):""}function pu(i){switch(i.tag){case 26:case 27:case 5:return $r(i.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return ui(i.type,!1);case 11:return ui(i.type.render,!1);case 1:return ui(i.type,!0);case 31:return $r("Activity");default:return""}}function Na(i){try{var o="";do o+=pu(i),i=i.return;while(i);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Hn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function mu(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function zp(i){var o=mu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){c=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ka(i){i._valueTracker||(i._valueTracker=zp(i))}function gu(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return i&&(c=mu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(o.setValue(i),!0):!1}function Co(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Bp=/[\n"\\]/g;function Jt(i){return i.replace(Bp,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function or(i,o,l,c,g,y,S,P){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),o!=null?S==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Hn(o)):i.value!==""+Hn(o)&&(i.value=""+Hn(o)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),o!=null?bs(i,S,Hn(o)):l!=null?bs(i,S,Hn(l)):c!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Hn(P):i.removeAttribute("name")}function Ro(i,o,l,c,g,y,S,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),o!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;l=l!=null?""+Hn(l):"",o=o!=null?""+Hn(o):l,P||o===i.value||(i.value=o),i.defaultValue=o}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=P?i.checked:!!c,i.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function bs(i,o,l){o==="number"&&Co(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Li(i,o,l,c){if(i=i.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=o.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Hn(l),o=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function vt(i,o,l){if(o!=null&&(o=""+Hn(o),o!==i.value&&(i.value=o),l==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=l!=null?""+Hn(l):""}function Io(i,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(r(92));if(G(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Hn(o),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Cr(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rf(i,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":c?i.setProperty(o,l):typeof l!="number"||l===0||No.has(o)?o==="float"?i.cssFloat=l:i[o]=(""+l).trim():i[o]=l+"px"}function yu(i,o,l){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in o)c=o[g],o.hasOwnProperty(g)&&l[g]!==c&&Rf(i,g,c)}else for(var y in o)o.hasOwnProperty(y)&&Rf(i,y,o[y])}function _u(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(i){return Hp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ui=null;function Rr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,Bi=null;function vu(i){var o=Sr(i);if(o&&(i=o.stateNode)){var l=i[Ht]||null;e:switch(i=o.stateNode,o.type){case"input":if(or(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Jt(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==i&&c.form===i.form){var g=c[Ht]||null;if(!g)throw Error(r(90));or(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===i.form&&gu(c)}break e;case"textarea":vt(i,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Li(i,!!l.multiple,o,!1)}}}var ci=!1;function If(i,o,l){if(ci)return i(o,l);ci=!0;try{var c=i(o);return c}finally{if(ci=!1,(zi!==null||Bi!==null)&&(bh(),zi&&(o=zi,i=Bi,Bi=zi=null,vu(o),i)))for(o=0;o<i.length;o++)vu(i[o])}}function ko(i,o){var l=i.stateNode;if(l===null)return null;var c=l[Ht]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,o,typeof l));return l}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Gr)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{Ir=!1}var fi=null,Ts=null,Fi=null;function Eu(){if(Fi)return Fi;var i,o=Ts,l=o.length,c,g="value"in fi?fi.value:fi.textContent,y=g.length;for(i=0;i<l&&o[i]===g[i];i++);var S=l-i;for(c=1;c<=S&&o[l-c]===g[y-c];c++);return Fi=g.slice(i,1<c?1-c:void 0)}function hi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function di(){return!0}function wu(){return!1}function gn(i){function o(l,c,g,y,S){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?di:wu,this.isPropagationStopped=wu,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),o}var mt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=gn(mt),Oo=m({},mt,{view:0,detail:0}),Nf=gn(Oo),Ma,Pa,pi,Mo=m({},Oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pi&&(pi&&i.type==="mousemove"?(Ma=i.screenX-pi.screenX,Pa=i.screenY-pi.screenY):Pa=Ma=0,pi=i),Ma)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),Nr=gn(Mo),kf=m({},Mo,{dataTransfer:0}),jp=gn(kf),Po=m({},Oo,{relatedTarget:0}),Va=gn(Po),bu=m({},mt,{animationName:0,elapsedTime:0,pseudoElement:0}),La=gn(bu),Df=m({},mt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ua=gn(Df),qp=m({},mt,{data:0}),Tu=gn(qp),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Mf[i])?!!o[i]:!1}function Lo(){return Su}var Pf=m({},Oo,{key:function(i){if(i.key){var o=Vo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=hi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Of[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(i){return i.type==="keypress"?hi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),za=gn(Pf),Vf=m({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=gn(Vf),Hi=m({},Oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),Lf=gn(Hi),Uf=m({},mt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zf=gn(Uf),Bf=m({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ba=gn(Bf),jn=m({},mt,{newState:0,oldState:0}),Ff=gn(jn),Hf=[9,13,27,32],mi=Gr&&"CompositionEvent"in window,p=null;Gr&&"documentMode"in document&&(p=document.documentMode);var w=Gr&&"TextEvent"in window&&!p,T=Gr&&(!mi||p&&8<p&&11>=p),B=" ",ie=!1;function ce(i,o){switch(i){case"keyup":return Hf.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function we(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var it=!1;function ln(i,o){switch(i){case"compositionend":return we(o);case"keypress":return o.which!==32?null:(ie=!0,B);case"textInput":return i=o.data,i===B&&ie?null:i;default:return null}}function st(i,o){if(it)return i==="compositionend"||!mi&&ce(i,o)?(i=Eu(),Fi=Ts=fi=null,it=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return T&&o.locale!=="ko"?null:o.data;default:return null}}var yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!yn[i.type]:o==="textarea"}function ji(i,o,l,c){zi?Bi?Bi.push(c):Bi=[c]:zi=c,o=Rh(o,"onChange"),0<o.length&&(l=new Oa("onChange","change",null,l,c),i.push({event:l,listeners:o}))}var xn=null,gi=null;function xu(i){tb(i,0)}function jf(i){var o=Ar(i);if(gu(o))return i}function b0(i,o){if(i==="change")return o}var T0=!1;if(Gr){var $p;if(Gr){var Gp="oninput"in document;if(!Gp){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),Gp=typeof S0.oninput=="function"}$p=Gp}else $p=!1;T0=$p&&(!document.documentMode||9<document.documentMode)}function A0(){xn&&(xn.detachEvent("onpropertychange",x0),gi=xn=null)}function x0(i){if(i.propertyName==="value"&&jf(gi)){var o=[];ji(o,gi,i,Rr(i)),If(xu,o)}}function AN(i,o,l){i==="focusin"?(A0(),xn=o,gi=l,xn.attachEvent("onpropertychange",x0)):i==="focusout"&&A0()}function xN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jf(gi)}function CN(i,o){if(i==="click")return jf(o)}function RN(i,o){if(i==="input"||i==="change")return jf(o)}function IN(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ar=typeof Object.is=="function"?Object.is:IN;function Cu(i,o){if(ar(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!tt.call(o,g)||!ar(i[g],o[g]))return!1}return!0}function C0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function R0(i,o){var l=C0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=o&&c>=o)return{node:l,offset:o-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=C0(l)}}function I0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?I0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function N0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Co(i.document);o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Co(i.document)}return o}function Yp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var NN=Gr&&"documentMode"in document&&11>=document.documentMode,Fa=null,Kp=null,Ru=null,Xp=!1;function k0(i,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Xp||Fa==null||Fa!==Co(c)||(c=Fa,"selectionStart"in c&&Yp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ru&&Cu(Ru,c)||(Ru=c,c=Rh(Kp,"onSelect"),0<c.length&&(o=new Oa("onSelect","select",null,o,l),i.push({event:o,listeners:c}),o.target=Fa)))}function Uo(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Ha={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},Qp={},D0={};Gr&&(D0=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function zo(i){if(Qp[i])return Qp[i];if(!Ha[i])return i;var o=Ha[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in D0)return Qp[i]=o[l];return i}var O0=zo("animationend"),M0=zo("animationiteration"),P0=zo("animationstart"),kN=zo("transitionrun"),DN=zo("transitionstart"),ON=zo("transitioncancel"),V0=zo("transitionend"),L0=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wp.push("scrollEnd");function Yr(i,o){L0.set(i,o),sr(o,[i])}var U0=new WeakMap;function kr(i,o){if(typeof i=="object"&&i!==null){var l=U0.get(i);return l!==void 0?l:(o={value:i,source:o,stack:Na(o)},U0.set(i,o),o)}return{value:i,source:o,stack:Na(o)}}var Dr=[],ja=0,Zp=0;function qf(){for(var i=ja,o=Zp=ja=0;o<i;){var l=Dr[o];Dr[o++]=null;var c=Dr[o];Dr[o++]=null;var g=Dr[o];Dr[o++]=null;var y=Dr[o];if(Dr[o++]=null,c!==null&&g!==null){var S=c.pending;S===null?g.next=g:(g.next=S.next,S.next=g),c.pending=g}y!==0&&z0(l,g,y)}}function $f(i,o,l,c){Dr[ja++]=i,Dr[ja++]=o,Dr[ja++]=l,Dr[ja++]=c,Zp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Jp(i,o,l,c){return $f(i,o,l,c),Gf(i)}function qa(i,o){return $f(i,null,null,o),Gf(i)}function z0(i,o,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&o!==null&&(g=31-Ie(l),i=y.hiddenUpdates,c=i[g],c===null?i[g]=[o]:c.push(o),o.lane=l|536870912),y):null}function Gf(i){if(50<Ju)throw Ju=0,sg=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var $a={};function MN(i,o,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(i,o,l,c){return new MN(i,o,l,c)}function em(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qi(i,o){var l=i.alternate;return l===null?(l=lr(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function B0(i,o){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,o=l.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Yf(i,o,l,c,g,y){var S=0;if(c=i,typeof i=="function")em(i)&&(S=1);else if(typeof i=="string")S=V2(i,l,ue.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=lr(31,l,o,g),i.elementType=C,i.lanes=y,i;case A:return Bo(l.children,g,y,o);case R:S=8,g|=24;break;case O:return i=lr(12,l,o,g|2),i.elementType=O,i.lanes=y,i;case Q:return i=lr(13,l,o,g),i.elementType=Q,i.lanes=y,i;case j:return i=lr(19,l,o,g),i.elementType=j,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case $:S=10;break e;case q:S=9;break e;case H:S=11;break e;case V:S=14;break e;case I:S=16,c=null;break e}S=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return o=lr(S,l,o,g),o.elementType=i,o.type=c,o.lanes=y,o}function Bo(i,o,l,c){return i=lr(7,i,c,o),i.lanes=l,i}function tm(i,o,l){return i=lr(6,i,null,o),i.lanes=l,i}function nm(i,o,l){return o=lr(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Ga=[],Ya=0,Kf=null,Xf=0,Or=[],Mr=0,Fo=null,$i=1,Gi="";function Ho(i,o){Ga[Ya++]=Xf,Ga[Ya++]=Kf,Kf=i,Xf=o}function F0(i,o,l){Or[Mr++]=$i,Or[Mr++]=Gi,Or[Mr++]=Fo,Fo=i;var c=$i;i=Gi;var g=32-Ie(c)-1;c&=~(1<<g),l+=1;var y=32-Ie(o)+g;if(30<y){var S=g-g%5;y=(c&(1<<S)-1).toString(32),c>>=S,g-=S,$i=1<<32-Ie(o)+g|l<<g|c,Gi=y+i}else $i=1<<y|l<<g|c,Gi=i}function rm(i){i.return!==null&&(Ho(i,1),F0(i,1,0))}function im(i){for(;i===Kf;)Kf=Ga[--Ya],Ga[Ya]=null,Xf=Ga[--Ya],Ga[Ya]=null;for(;i===Fo;)Fo=Or[--Mr],Or[Mr]=null,Gi=Or[--Mr],Or[Mr]=null,$i=Or[--Mr],Or[Mr]=null}var qn=null,jt=null,dt=!1,jo=null,yi=!1,sm=Error(r(519));function qo(i){var o=Error(r(418,""));throw ku(kr(o,i)),sm}function H0(i){var o=i.stateNode,l=i.type,c=i.memoizedProps;switch(o[Kt]=i,o[Ht]=c,l){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(l=0;l<tc.length;l++)et(tc[l],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),Ro(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ka(o);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),Io(o,c.value,c.defaultValue,c.children),ka(o)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||sb(o.textContent,l)?(c.popover!=null&&(et("beforetoggle",o),et("toggle",o)),c.onScroll!=null&&et("scroll",o),c.onScrollEnd!=null&&et("scrollend",o),c.onClick!=null&&(o.onclick=Ih),o=!0):o=!1,o||qo(i)}function j0(i){for(qn=i.return;qn;)switch(qn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:qn=qn.return}}function Iu(i){if(i!==qn)return!1;if(!dt)return j0(i),dt=!0,!1;var o=i.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||wg(i.type,i.memoizedProps)),l=!l),l&&jt&&qo(i),j0(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(o===0){jt=Xr(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++;i=i.nextSibling}jt=null}}else o===27?(o=jt,zs(i.type)?(i=Ag,Ag=null,jt=i):jt=o):jt=qn?Xr(i.stateNode.nextSibling):null;return!0}function Nu(){jt=qn=null,dt=!1}function q0(){var i=jo;return i!==null&&(Qn===null?Qn=i:Qn.push.apply(Qn,i),jo=null),i}function ku(i){jo===null?jo=[i]:jo.push(i)}var om=X(null),$o=null,Yi=null;function Ss(i,o,l){N(om,o._currentValue),o._currentValue=l}function Ki(i){i._currentValue=om.current,re(om)}function am(i,o,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===l)break;i=i.return}}function lm(i,o,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var S=g.child;y=y.firstContext;e:for(;y!==null;){var P=y;y=g;for(var Y=0;Y<o.length;Y++)if(P.context===o[Y]){y.lanes|=l,P=y.alternate,P!==null&&(P.lanes|=l),am(y.return,l,i),c||(S=null);break e}y=P.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=l,y=S.alternate,y!==null&&(y.lanes|=l),am(S,l,i),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===i){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Du(i,o,l,c){i=null;for(var g=o,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var P=g.type;ar(g.pendingProps.value,S.value)||(i!==null?i.push(P):i=[P])}}else if(g===Ce.current){if(S=g.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(ac):i=[ac])}g=g.return}i!==null&&lm(o,i,l,c),o.flags|=262144}function Qf(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Go(i){$o=i,Yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mn(i){return $0($o,i)}function Wf(i,o){return $o===null&&Go(i),$0(i,o)}function $0(i,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Yi===null){if(i===null)throw Error(r(308));Yi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Yi=Yi.next=o;return l}var PN=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){o.aborted=!0,i.forEach(function(l){return l()})}},VN=t.unstable_scheduleCallback,LN=t.unstable_NormalPriority,cn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new PN,data:new Map,refCount:0}}function Ou(i){i.refCount--,i.refCount===0&&VN(LN,function(){i.controller.abort()})}var Mu=null,cm=0,Ka=0,Xa=null;function UN(i,o){if(Mu===null){var l=Mu=[];cm=0,Ka=hg(),Xa={status:"pending",value:void 0,then:function(c){l.push(c)}}}return cm++,o.then(G0,G0),o}function G0(){if(--cm===0&&Mu!==null){Xa!==null&&(Xa.status="fulfilled");var i=Mu;Mu=null,Ka=0,Xa=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function zN(i,o){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=o;for(var g=0;g<l.length;g++)(0,l[g])(o)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var Y0=U.S;U.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&UN(i,o),Y0!==null&&Y0(i,o)};var Yo=X(null);function fm(){var i=Yo.current;return i!==null?i:Rt.pooledCache}function Zf(i,o){o===null?N(Yo,Yo.current):N(Yo,o.pool)}function K0(){var i=fm();return i===null?null:{parent:cn._currentValue,pool:i}}var Pu=Error(r(460)),X0=Error(r(474)),Jf=Error(r(542)),hm={then:function(){}};function Q0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function eh(){}function W0(i,o,l){switch(l=i[l],l===void 0?i.push(o):l!==o&&(o.then(eh,eh),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,J0(i),i;default:if(typeof o.status=="string")o.then(eh,eh);else{if(i=Rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(c){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=c}},function(c){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,J0(i),i}throw Vu=o,Pu}}var Vu=null;function Z0(){if(Vu===null)throw Error(r(459));var i=Vu;return Vu=null,i}function J0(i){if(i===Pu||i===Jf)throw Error(r(483))}var As=!1;function dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Cs(i,o,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(yt&2)!==0){var g=c.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),c.pending=o,o=Gf(i),z0(i,null,l),o}return $f(i,c,o,l),Gf(i)}function Lu(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,To(i,l)}}function mm(i,o){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?g=y=o:y=y.next=o}else g=y=o;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}var gm=!1;function Uu(){if(gm){var i=Xa;if(i!==null)throw i}}function zu(i,o,l,c){gm=!1;var g=i.updateQueue;As=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var Y=P,oe=Y.next;Y.next=null,S===null?y=oe:S.next=oe,S=Y;var de=i.alternate;de!==null&&(de=de.updateQueue,P=de.lastBaseUpdate,P!==S&&(P===null?de.firstBaseUpdate=oe:P.next=oe,de.lastBaseUpdate=Y))}if(y!==null){var me=g.baseState;S=0,de=oe=Y=null,P=y;do{var ae=P.lane&-536870913,le=ae!==P.lane;if(le?(ot&ae)===ae:(c&ae)===ae){ae!==0&&ae===Ka&&(gm=!0),de!==null&&(de=de.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Fe=i,Ve=P;ae=o;var bt=l;switch(Ve.tag){case 1:if(Fe=Ve.payload,typeof Fe=="function"){me=Fe.call(bt,me,ae);break e}me=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ve.payload,ae=typeof Fe=="function"?Fe.call(bt,me,ae):Fe,ae==null)break e;me=m({},me,ae);break e;case 2:As=!0}}ae=P.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=g.callbacks,le===null?g.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:P.tag,payload:P.payload,callback:P.callback,next:null},de===null?(oe=de=le,Y=me):de=de.next=le,S|=ae;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;le=P,P=le.next,le.next=null,g.lastBaseUpdate=le,g.shared.pending=null}}while(!0);de===null&&(Y=me),g.baseState=Y,g.firstBaseUpdate=oe,g.lastBaseUpdate=de,y===null&&(g.shared.lanes=0),Ps|=S,i.lanes=S,i.memoizedState=me}}function eE(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function tE(i,o){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)eE(l[i],o)}var Qa=X(null),th=X(0);function nE(i,o){i=ts,N(th,i),N(Qa,o),ts=i|o.baseLanes}function ym(){N(th,ts),N(Qa,Qa.current)}function _m(){ts=th.current,re(Qa),re(th)}var Rs=0,Ye=null,Et=null,en=null,nh=!1,Wa=!1,Ko=!1,rh=0,Bu=0,Za=null,BN=0;function Xt(){throw Error(r(321))}function vm(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!ar(i[l],o[l]))return!1;return!0}function Em(i,o,l,c,g,y){return Rs=y,Ye=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=i===null||i.memoizedState===null?zE:BE,Ko=!1,y=l(c,g),Ko=!1,Wa&&(y=iE(o,l,c,g)),rE(i),y}function rE(i){U.H=uh;var o=Et!==null&&Et.next!==null;if(Rs=0,en=Et=Ye=null,nh=!1,Bu=0,Za=null,o)throw Error(r(300));i===null||_n||(i=i.dependencies,i!==null&&Qf(i)&&(_n=!0))}function iE(i,o,l,c){Ye=i;var g=0;do{if(Wa&&(Za=null),Bu=0,Wa=!1,25<=g)throw Error(r(301));if(g+=1,en=Et=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}U.H=YN,y=o(l,c)}while(Wa);return y}function FN(){var i=U.H,o=i.useState()[0];return o=typeof o.then=="function"?Fu(o):o,i=i.useState()[0],(Et!==null?Et.memoizedState:null)!==i&&(Ye.flags|=1024),o}function wm(){var i=rh!==0;return rh=0,i}function bm(i,o,l){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~l}function Tm(i){if(nh){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}nh=!1}Rs=0,en=Et=Ye=null,Wa=!1,Bu=rh=0,Za=null}function Kn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Ye.memoizedState=en=i:en=en.next=i,en}function tn(){if(Et===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var o=en===null?Ye.memoizedState:en.next;if(o!==null)en=o,Et=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},en===null?Ye.memoizedState=en=i:en=en.next=i}return en}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fu(i){var o=Bu;return Bu+=1,Za===null&&(Za=[]),i=W0(Za,i,o),o=Ye,(en===null?o.memoizedState:en.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?zE:BE),i}function ih(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fu(i);if(i.$$typeof===$)return Mn(i)}throw Error(r(438,String(i)))}function Am(i){var o=null,l=Ye.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Sm(),Ye.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(i),c=0;c<i;c++)l[c]=F;return o.index++,l}function Xi(i,o){return typeof o=="function"?o(i):o}function sh(i){var o=tn();return xm(o,Et,i)}function xm(i,o,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,y=c.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}o.baseQueue=g=y,c.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{o=g.next;var P=S=null,Y=null,oe=o,de=!1;do{var me=oe.lane&-536870913;if(me!==oe.lane?(ot&me)===me:(Rs&me)===me){var ae=oe.revertLane;if(ae===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),me===Ka&&(de=!0);else if((Rs&ae)===ae){oe=oe.next,ae===Ka&&(de=!0);continue}else me={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(P=Y=me,S=y):Y=Y.next=me,Ye.lanes|=ae,Ps|=ae;me=oe.action,Ko&&l(y,me),y=oe.hasEagerState?oe.eagerState:l(y,me)}else ae={lane:me,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Y===null?(P=Y=ae,S=y):Y=Y.next=ae,Ye.lanes|=me,Ps|=me;oe=oe.next}while(oe!==null&&oe!==o);if(Y===null?S=y:Y.next=P,!ar(y,i.memoizedState)&&(_n=!0,de&&(l=Xa,l!==null)))throw l;i.memoizedState=y,i.baseState=S,i.baseQueue=Y,c.lastRenderedState=y}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Cm(i){var o=tn(),l=o.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,y=o.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do y=i(y,S.action),S=S.next;while(S!==g);ar(y,o.memoizedState)||(_n=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,c]}function sE(i,o,l){var c=Ye,g=tn(),y=dt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=o();var S=!ar((Et||g).memoizedState,l);S&&(g.memoizedState=l,_n=!0),g=g.queue;var P=lE.bind(null,c,g,i);if(Hu(2048,8,P,[i]),g.getSnapshot!==o||S||en!==null&&en.memoizedState.tag&1){if(c.flags|=2048,Ja(9,oh(),aE.bind(null,c,g,l,o),null),Rt===null)throw Error(r(349));y||(Rs&124)!==0||oE(c,o,l)}return l}function oE(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=Ye.updateQueue,o===null?(o=Sm(),Ye.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function aE(i,o,l,c){o.value=l,o.getSnapshot=c,uE(o)&&cE(i)}function lE(i,o,l){return l(function(){uE(o)&&cE(i)})}function uE(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!ar(i,l)}catch{return!0}}function cE(i){var o=qa(i,2);o!==null&&dr(o,i,2)}function Rm(i){var o=Kn();if(typeof i=="function"){var l=i;if(i=l(),Ko){Ae(!0);try{l()}finally{Ae(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:i},o}function fE(i,o,l,c){return i.baseState=l,xm(i,Et,typeof c=="function"?c:Xi)}function HN(i,o,l,c,g){if(lh(i))throw Error(r(485));if(i=o.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){y.listeners.push(S)}};U.T!==null?l(!0):y.isTransition=!1,c(y),l=o.pending,l===null?(y.next=o.pending=y,hE(o,y)):(y.next=l.next,o.pending=l.next=y)}}function hE(i,o){var l=o.action,c=o.payload,g=i.state;if(o.isTransition){var y=U.T,S={};U.T=S;try{var P=l(g,c),Y=U.S;Y!==null&&Y(S,P),dE(i,o,P)}catch(oe){Im(i,o,oe)}finally{U.T=y}}else try{y=l(g,c),dE(i,o,y)}catch(oe){Im(i,o,oe)}}function dE(i,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){pE(i,o,c)},function(c){return Im(i,o,c)}):pE(i,o,l)}function pE(i,o,l){o.status="fulfilled",o.value=l,mE(o),i.state=l,o=i.pending,o!==null&&(l=o.next,l===o?i.pending=null:(l=l.next,o.next=l,hE(i,l)))}function Im(i,o,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,mE(o),o=o.next;while(o!==c)}i.action=null}function mE(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function gE(i,o){return o}function yE(i,o){if(dt){var l=Rt.formState;if(l!==null){e:{var c=Ye;if(dt){if(jt){t:{for(var g=jt,y=yi;g.nodeType!==8;){if(!y){g=null;break t}if(g=Xr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){jt=Xr(g.nextSibling),c=g.data==="F!";break e}}qo(c)}c=!1}c&&(o=l[0])}}return l=Kn(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gE,lastRenderedState:o},l.queue=c,l=VE.bind(null,Ye,c),c.dispatch=l,c=Rm(!1),y=Mm.bind(null,Ye,!1,c.queue),c=Kn(),g={state:o,dispatch:null,action:i,pending:null},c.queue=g,l=HN.bind(null,Ye,g,y,l),g.dispatch=l,c.memoizedState=i,[o,l,!1]}function _E(i){var o=tn();return vE(o,Et,i)}function vE(i,o,l){if(o=xm(i,o,gE)[0],i=sh(Xi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=Fu(o)}catch(S){throw S===Pu?Jf:S}else c=o;o=tn();var g=o.queue,y=g.dispatch;return l!==o.memoizedState&&(Ye.flags|=2048,Ja(9,oh(),jN.bind(null,g,l),null)),[c,y,i]}function jN(i,o){i.action=o}function EE(i){var o=tn(),l=Et;if(l!==null)return vE(o,l,i);tn(),o=o.memoizedState,l=tn();var c=l.queue.dispatch;return l.memoizedState=i,[o,c,!1]}function Ja(i,o,l,c){return i={tag:i,create:l,deps:c,inst:o,next:null},o=Ye.updateQueue,o===null&&(o=Sm(),Ye.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,o.lastEffect=i),i}function oh(){return{destroy:void 0,resource:void 0}}function wE(){return tn().memoizedState}function ah(i,o,l,c){var g=Kn();c=c===void 0?null:c,Ye.flags|=i,g.memoizedState=Ja(1|o,oh(),l,c)}function Hu(i,o,l,c){var g=tn();c=c===void 0?null:c;var y=g.memoizedState.inst;Et!==null&&c!==null&&vm(c,Et.memoizedState.deps)?g.memoizedState=Ja(o,y,l,c):(Ye.flags|=i,g.memoizedState=Ja(1|o,y,l,c))}function bE(i,o){ah(8390656,8,i,o)}function TE(i,o){Hu(2048,8,i,o)}function SE(i,o){return Hu(4,2,i,o)}function AE(i,o){return Hu(4,4,i,o)}function xE(i,o){if(typeof o=="function"){i=i();var l=o(i);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function CE(i,o,l){l=l!=null?l.concat([i]):null,Hu(4,4,xE.bind(null,o,i),l)}function Nm(){}function RE(i,o){var l=tn();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&vm(o,c[1])?c[0]:(l.memoizedState=[i,o],i)}function IE(i,o){var l=tn();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&vm(o,c[1]))return c[0];if(c=i(),Ko){Ae(!0);try{i()}finally{Ae(!1)}}return l.memoizedState=[c,o],c}function km(i,o,l){return l===void 0||(Rs&1073741824)!==0?i.memoizedState=o:(i.memoizedState=l,i=Dw(),Ye.lanes|=i,Ps|=i,l)}function NE(i,o,l,c){return ar(l,o)?l:Qa.current!==null?(i=km(i,l,c),ar(i,o)||(_n=!0),i):(Rs&42)===0?(_n=!0,i.memoizedState=l):(i=Dw(),Ye.lanes|=i,Ps|=i,o)}function kE(i,o,l,c,g){var y=K.p;K.p=y!==0&&8>y?y:8;var S=U.T,P={};U.T=P,Mm(i,!1,o,l);try{var Y=g(),oe=U.S;if(oe!==null&&oe(P,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var de=zN(Y,c);ju(i,o,de,hr(i))}else ju(i,o,c,hr(i))}catch(me){ju(i,o,{then:function(){},status:"rejected",reason:me},hr())}finally{K.p=y,U.T=S}}function qN(){}function Dm(i,o,l,c){if(i.tag!==5)throw Error(r(476));var g=DE(i).queue;kE(i,g,o,J,l===null?qN:function(){return OE(i),l(c)})}function DE(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:J},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:l},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function OE(i){var o=DE(i).next.queue;ju(i,o,{},hr())}function Om(){return Mn(ac)}function ME(){return tn().memoizedState}function PE(){return tn().memoizedState}function $N(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var l=hr();i=xs(l);var c=Cs(o,i,l);c!==null&&(dr(c,o,l),Lu(c,o,l)),o={cache:um()},i.payload=o;return}o=o.return}}function GN(i,o,l){var c=hr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},lh(i)?LE(o,l):(l=Jp(i,o,l,c),l!==null&&(dr(l,i,c),UE(l,o,c)))}function VE(i,o,l){var c=hr();ju(i,o,l,c)}function ju(i,o,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(lh(i))LE(o,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,P=y(S,l);if(g.hasEagerState=!0,g.eagerState=P,ar(P,S))return $f(i,o,g,0),Rt===null&&qf(),!1}catch{}finally{}if(l=Jp(i,o,g,c),l!==null)return dr(l,i,c),UE(l,o,c),!0}return!1}function Mm(i,o,l,c){if(c={lane:2,revertLane:hg(),action:c,hasEagerState:!1,eagerState:null,next:null},lh(i)){if(o)throw Error(r(479))}else o=Jp(i,l,c,2),o!==null&&dr(o,i,2)}function lh(i){var o=i.alternate;return i===Ye||o!==null&&o===Ye}function LE(i,o){Wa=nh=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function UE(i,o,l){if((l&4194048)!==0){var c=o.lanes;c&=i.pendingLanes,l|=c,o.lanes=l,To(i,l)}}var uh={readContext:Mn,use:ih,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},zE={readContext:Mn,use:ih,useCallback:function(i,o){return Kn().memoizedState=[i,o===void 0?null:o],i},useContext:Mn,useEffect:bE,useImperativeHandle:function(i,o,l){l=l!=null?l.concat([i]):null,ah(4194308,4,xE.bind(null,o,i),l)},useLayoutEffect:function(i,o){return ah(4194308,4,i,o)},useInsertionEffect:function(i,o){ah(4,2,i,o)},useMemo:function(i,o){var l=Kn();o=o===void 0?null:o;var c=i();if(Ko){Ae(!0);try{i()}finally{Ae(!1)}}return l.memoizedState=[c,o],c},useReducer:function(i,o,l){var c=Kn();if(l!==void 0){var g=l(o);if(Ko){Ae(!0);try{l(o)}finally{Ae(!1)}}}else g=o;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=GN.bind(null,Ye,i),[c.memoizedState,i]},useRef:function(i){var o=Kn();return i={current:i},o.memoizedState=i},useState:function(i){i=Rm(i);var o=i.queue,l=VE.bind(null,Ye,o);return o.dispatch=l,[i.memoizedState,l]},useDebugValue:Nm,useDeferredValue:function(i,o){var l=Kn();return km(l,i,o)},useTransition:function(){var i=Rm(!1);return i=kE.bind(null,Ye,i.queue,!0,!1),Kn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,l){var c=Ye,g=Kn();if(dt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=o(),Rt===null)throw Error(r(349));(ot&124)!==0||oE(c,o,l)}g.memoizedState=l;var y={value:l,getSnapshot:o};return g.queue=y,bE(lE.bind(null,c,y,i),[i]),c.flags|=2048,Ja(9,oh(),aE.bind(null,c,y,l,o),null),l},useId:function(){var i=Kn(),o=Rt.identifierPrefix;if(dt){var l=Gi,c=$i;l=(c&~(1<<32-Ie(c)-1)).toString(32)+l,o="«"+o+"R"+l,l=rh++,0<l&&(o+="H"+l.toString(32)),o+="»"}else l=BN++,o="«"+o+"r"+l.toString(32)+"»";return i.memoizedState=o},useHostTransitionStatus:Om,useFormState:yE,useActionState:yE,useOptimistic:function(i){var o=Kn();o.memoizedState=o.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Mm.bind(null,Ye,!0,l),l.dispatch=o,[i,o]},useMemoCache:Am,useCacheRefresh:function(){return Kn().memoizedState=$N.bind(null,Ye)}},BE={readContext:Mn,use:ih,useCallback:RE,useContext:Mn,useEffect:TE,useImperativeHandle:CE,useInsertionEffect:SE,useLayoutEffect:AE,useMemo:IE,useReducer:sh,useRef:wE,useState:function(){return sh(Xi)},useDebugValue:Nm,useDeferredValue:function(i,o){var l=tn();return NE(l,Et.memoizedState,i,o)},useTransition:function(){var i=sh(Xi)[0],o=tn().memoizedState;return[typeof i=="boolean"?i:Fu(i),o]},useSyncExternalStore:sE,useId:ME,useHostTransitionStatus:Om,useFormState:_E,useActionState:_E,useOptimistic:function(i,o){var l=tn();return fE(l,Et,i,o)},useMemoCache:Am,useCacheRefresh:PE},YN={readContext:Mn,use:ih,useCallback:RE,useContext:Mn,useEffect:TE,useImperativeHandle:CE,useInsertionEffect:SE,useLayoutEffect:AE,useMemo:IE,useReducer:Cm,useRef:wE,useState:function(){return Cm(Xi)},useDebugValue:Nm,useDeferredValue:function(i,o){var l=tn();return Et===null?km(l,i,o):NE(l,Et.memoizedState,i,o)},useTransition:function(){var i=Cm(Xi)[0],o=tn().memoizedState;return[typeof i=="boolean"?i:Fu(i),o]},useSyncExternalStore:sE,useId:ME,useHostTransitionStatus:Om,useFormState:EE,useActionState:EE,useOptimistic:function(i,o){var l=tn();return Et!==null?fE(l,Et,i,o):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Am,useCacheRefresh:PE},el=null,qu=0;function ch(i){var o=qu;return qu+=1,el===null&&(el=[]),W0(el,i,o)}function $u(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function fh(i,o){throw o.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function FE(i){var o=i._init;return o(i._payload)}function HE(i){function o(te,W){if(i){var se=te.deletions;se===null?(te.deletions=[W],te.flags|=16):se.push(W)}}function l(te,W){if(!i)return null;for(;W!==null;)o(te,W),W=W.sibling;return null}function c(te){for(var W=new Map;te!==null;)te.key!==null?W.set(te.key,te):W.set(te.index,te),te=te.sibling;return W}function g(te,W){return te=qi(te,W),te.index=0,te.sibling=null,te}function y(te,W,se){return te.index=se,i?(se=te.alternate,se!==null?(se=se.index,se<W?(te.flags|=67108866,W):se):(te.flags|=67108866,W)):(te.flags|=1048576,W)}function S(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function P(te,W,se,pe){return W===null||W.tag!==6?(W=tm(se,te.mode,pe),W.return=te,W):(W=g(W,se),W.return=te,W)}function Y(te,W,se,pe){var xe=se.type;return xe===A?de(te,W,se.props.children,pe,se.key):W!==null&&(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===I&&FE(xe)===W.type)?(W=g(W,se.props),$u(W,se),W.return=te,W):(W=Yf(se.type,se.key,se.props,null,te.mode,pe),$u(W,se),W.return=te,W)}function oe(te,W,se,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==se.containerInfo||W.stateNode.implementation!==se.implementation?(W=nm(se,te.mode,pe),W.return=te,W):(W=g(W,se.children||[]),W.return=te,W)}function de(te,W,se,pe,xe){return W===null||W.tag!==7?(W=Bo(se,te.mode,pe,xe),W.return=te,W):(W=g(W,se),W.return=te,W)}function me(te,W,se){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=tm(""+W,te.mode,se),W.return=te,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return se=Yf(W.type,W.key,W.props,null,te.mode,se),$u(se,W),se.return=te,se;case E:return W=nm(W,te.mode,se),W.return=te,W;case I:var pe=W._init;return W=pe(W._payload),me(te,W,se)}if(G(W)||z(W))return W=Bo(W,te.mode,se,null),W.return=te,W;if(typeof W.then=="function")return me(te,ch(W),se);if(W.$$typeof===$)return me(te,Wf(te,W),se);fh(te,W)}return null}function ae(te,W,se,pe){var xe=W!==null?W.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return xe!==null?null:P(te,W,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return se.key===xe?Y(te,W,se,pe):null;case E:return se.key===xe?oe(te,W,se,pe):null;case I:return xe=se._init,se=xe(se._payload),ae(te,W,se,pe)}if(G(se)||z(se))return xe!==null?null:de(te,W,se,pe,null);if(typeof se.then=="function")return ae(te,W,ch(se),pe);if(se.$$typeof===$)return ae(te,W,Wf(te,se),pe);fh(te,se)}return null}function le(te,W,se,pe,xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return te=te.get(se)||null,P(W,te,""+pe,xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return te=te.get(pe.key===null?se:pe.key)||null,Y(W,te,pe,xe);case E:return te=te.get(pe.key===null?se:pe.key)||null,oe(W,te,pe,xe);case I:var Qe=pe._init;return pe=Qe(pe._payload),le(te,W,se,pe,xe)}if(G(pe)||z(pe))return te=te.get(se)||null,de(W,te,pe,xe,null);if(typeof pe.then=="function")return le(te,W,se,ch(pe),xe);if(pe.$$typeof===$)return le(te,W,se,Wf(W,pe),xe);fh(W,pe)}return null}function Fe(te,W,se,pe){for(var xe=null,Qe=null,Ne=W,Ue=W=0,En=null;Ne!==null&&Ue<se.length;Ue++){Ne.index>Ue?(En=Ne,Ne=null):En=Ne.sibling;var ct=ae(te,Ne,se[Ue],pe);if(ct===null){Ne===null&&(Ne=En);break}i&&Ne&&ct.alternate===null&&o(te,Ne),W=y(ct,W,Ue),Qe===null?xe=ct:Qe.sibling=ct,Qe=ct,Ne=En}if(Ue===se.length)return l(te,Ne),dt&&Ho(te,Ue),xe;if(Ne===null){for(;Ue<se.length;Ue++)Ne=me(te,se[Ue],pe),Ne!==null&&(W=y(Ne,W,Ue),Qe===null?xe=Ne:Qe.sibling=Ne,Qe=Ne);return dt&&Ho(te,Ue),xe}for(Ne=c(Ne);Ue<se.length;Ue++)En=le(Ne,te,Ue,se[Ue],pe),En!==null&&(i&&En.alternate!==null&&Ne.delete(En.key===null?Ue:En.key),W=y(En,W,Ue),Qe===null?xe=En:Qe.sibling=En,Qe=En);return i&&Ne.forEach(function(qs){return o(te,qs)}),dt&&Ho(te,Ue),xe}function Ve(te,W,se,pe){if(se==null)throw Error(r(151));for(var xe=null,Qe=null,Ne=W,Ue=W=0,En=null,ct=se.next();Ne!==null&&!ct.done;Ue++,ct=se.next()){Ne.index>Ue?(En=Ne,Ne=null):En=Ne.sibling;var qs=ae(te,Ne,ct.value,pe);if(qs===null){Ne===null&&(Ne=En);break}i&&Ne&&qs.alternate===null&&o(te,Ne),W=y(qs,W,Ue),Qe===null?xe=qs:Qe.sibling=qs,Qe=qs,Ne=En}if(ct.done)return l(te,Ne),dt&&Ho(te,Ue),xe;if(Ne===null){for(;!ct.done;Ue++,ct=se.next())ct=me(te,ct.value,pe),ct!==null&&(W=y(ct,W,Ue),Qe===null?xe=ct:Qe.sibling=ct,Qe=ct);return dt&&Ho(te,Ue),xe}for(Ne=c(Ne);!ct.done;Ue++,ct=se.next())ct=le(Ne,te,Ue,ct.value,pe),ct!==null&&(i&&ct.alternate!==null&&Ne.delete(ct.key===null?Ue:ct.key),W=y(ct,W,Ue),Qe===null?xe=ct:Qe.sibling=ct,Qe=ct);return i&&Ne.forEach(function(K2){return o(te,K2)}),dt&&Ho(te,Ue),xe}function bt(te,W,se,pe){if(typeof se=="object"&&se!==null&&se.type===A&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case v:e:{for(var xe=se.key;W!==null;){if(W.key===xe){if(xe=se.type,xe===A){if(W.tag===7){l(te,W.sibling),pe=g(W,se.props.children),pe.return=te,te=pe;break e}}else if(W.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===I&&FE(xe)===W.type){l(te,W.sibling),pe=g(W,se.props),$u(pe,se),pe.return=te,te=pe;break e}l(te,W);break}else o(te,W);W=W.sibling}se.type===A?(pe=Bo(se.props.children,te.mode,pe,se.key),pe.return=te,te=pe):(pe=Yf(se.type,se.key,se.props,null,te.mode,pe),$u(pe,se),pe.return=te,te=pe)}return S(te);case E:e:{for(xe=se.key;W!==null;){if(W.key===xe)if(W.tag===4&&W.stateNode.containerInfo===se.containerInfo&&W.stateNode.implementation===se.implementation){l(te,W.sibling),pe=g(W,se.children||[]),pe.return=te,te=pe;break e}else{l(te,W);break}else o(te,W);W=W.sibling}pe=nm(se,te.mode,pe),pe.return=te,te=pe}return S(te);case I:return xe=se._init,se=xe(se._payload),bt(te,W,se,pe)}if(G(se))return Fe(te,W,se,pe);if(z(se)){if(xe=z(se),typeof xe!="function")throw Error(r(150));return se=xe.call(se),Ve(te,W,se,pe)}if(typeof se.then=="function")return bt(te,W,ch(se),pe);if(se.$$typeof===$)return bt(te,W,Wf(te,se),pe);fh(te,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,W!==null&&W.tag===6?(l(te,W.sibling),pe=g(W,se),pe.return=te,te=pe):(l(te,W),pe=tm(se,te.mode,pe),pe.return=te,te=pe),S(te)):l(te,W)}return function(te,W,se,pe){try{qu=0;var xe=bt(te,W,se,pe);return el=null,xe}catch(Ne){if(Ne===Pu||Ne===Jf)throw Ne;var Qe=lr(29,Ne,null,te.mode);return Qe.lanes=pe,Qe.return=te,Qe}finally{}}}var tl=HE(!0),jE=HE(!1),Pr=X(null),_i=null;function Is(i){var o=i.alternate;N(fn,fn.current&1),N(Pr,i),_i===null&&(o===null||Qa.current!==null||o.memoizedState!==null)&&(_i=i)}function qE(i){if(i.tag===22){if(N(fn,fn.current),N(Pr,i),_i===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(_i=i)}}else Ns()}function Ns(){N(fn,fn.current),N(Pr,Pr.current)}function Qi(i){re(Pr),_i===i&&(_i=null),re(fn)}var fn=X(0);function hh(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Sg(l)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function Pm(i,o,l,c){o=i.memoizedState,l=l(c,o),l=l==null?o:m({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Vm={enqueueSetState:function(i,o,l){i=i._reactInternals;var c=hr(),g=xs(c);g.payload=o,l!=null&&(g.callback=l),o=Cs(i,g,c),o!==null&&(dr(o,i,c),Lu(o,i,c))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var c=hr(),g=xs(c);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=Cs(i,g,c),o!==null&&(dr(o,i,c),Lu(o,i,c))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=hr(),c=xs(l);c.tag=2,o!=null&&(c.callback=o),o=Cs(i,c,l),o!==null&&(dr(o,i,l),Lu(o,i,l))}};function $E(i,o,l,c,g,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,S):o.prototype&&o.prototype.isPureReactComponent?!Cu(l,c)||!Cu(g,y):!0}function GE(i,o,l,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==i&&Vm.enqueueReplaceState(o,o.state,null)}function Xo(i,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(i=i.defaultProps){l===o&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function YE(i){dh(i)}function KE(i){console.error(i)}function XE(i){dh(i)}function ph(i,o){try{var l=i.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function QE(i,o,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Lm(i,o,l){return l=xs(l),l.tag=3,l.payload={element:null},l.callback=function(){ph(i,o)},l}function WE(i){return i=xs(i),i.tag=3,i}function ZE(i,o,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;i.payload=function(){return g(y)},i.callback=function(){QE(o,l,c)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){QE(o,l,c),typeof g!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var P=c.stack;this.componentDidCatch(c.value,{componentStack:P!==null?P:""})})}function KN(i,o,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&Du(o,l,g,!0),l=Pr.current,l!==null){switch(l.tag){case 13:return _i===null?ag():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===hm?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),ug(i,c,g)),!1;case 22:return l.flags|=65536,c===hm?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),ug(i,c,g)),!1}throw Error(r(435,l.tag))}return ug(i,c,g),ag(),!1}if(dt)return o=Pr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,c!==sm&&(i=Error(r(422),{cause:c}),ku(kr(i,l)))):(c!==sm&&(o=Error(r(423),{cause:c}),ku(kr(o,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=kr(c,l),g=Lm(i.stateNode,c,g),mm(i,g),qt!==4&&(qt=2)),!1;var y=Error(r(520),{cause:c});if(y=kr(y,l),Zu===null?Zu=[y]:Zu.push(y),qt!==4&&(qt=2),o===null)return!0;c=kr(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Lm(l.stateNode,c,i),mm(l,i),!1;case 1:if(o=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vs===null||!Vs.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=WE(g),ZE(g,i,l,c),mm(l,g),!1}l=l.return}while(l!==null);return!1}var JE=Error(r(461)),_n=!1;function Cn(i,o,l,c){o.child=i===null?jE(o,null,l,c):tl(o,i.child,l,c)}function ew(i,o,l,c,g){l=l.render;var y=o.ref;if("ref"in c){var S={};for(var P in c)P!=="ref"&&(S[P]=c[P])}else S=c;return Go(o),c=Em(i,o,l,S,y,g),P=wm(),i!==null&&!_n?(bm(i,o,g),Wi(i,o,g)):(dt&&P&&rm(o),o.flags|=1,Cn(i,o,c,g),o.child)}function tw(i,o,l,c,g){if(i===null){var y=l.type;return typeof y=="function"&&!em(y)&&y.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=y,nw(i,o,y,c,g)):(i=Yf(l.type,null,c,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!$m(i,g)){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:Cu,l(S,c)&&i.ref===o.ref)return Wi(i,o,g)}return o.flags|=1,i=qi(y,c),i.ref=o.ref,i.return=o,o.child=i}function nw(i,o,l,c,g){if(i!==null){var y=i.memoizedProps;if(Cu(y,c)&&i.ref===o.ref)if(_n=!1,o.pendingProps=c=y,$m(i,g))(i.flags&131072)!==0&&(_n=!0);else return o.lanes=i.lanes,Wi(i,o,g)}return Um(i,o,l,c,g)}function rw(i,o,l){var c=o.pendingProps,g=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((o.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(g=o.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return iw(i,o,c,l)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Zf(o,y!==null?y.cachePool:null),y!==null?nE(o,y):ym(),qE(o);else return o.lanes=o.childLanes=536870912,iw(i,o,y!==null?y.baseLanes|l:l,l)}else y!==null?(Zf(o,y.cachePool),nE(o,y),Ns(),o.memoizedState=null):(i!==null&&Zf(o,null),ym(),Ns());return Cn(i,o,g,l),o.child}function iw(i,o,l,c){var g=fm();return g=g===null?null:{parent:cn._currentValue,pool:g},o.memoizedState={baseLanes:l,cachePool:g},i!==null&&Zf(o,null),ym(),qE(o),i!==null&&Du(i,o,c,!0),null}function mh(i,o){var l=o.ref;if(l===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(o.flags|=4194816)}}function Um(i,o,l,c,g){return Go(o),l=Em(i,o,l,c,void 0,g),c=wm(),i!==null&&!_n?(bm(i,o,g),Wi(i,o,g)):(dt&&c&&rm(o),o.flags|=1,Cn(i,o,l,g),o.child)}function sw(i,o,l,c,g,y){return Go(o),o.updateQueue=null,l=iE(o,c,l,g),rE(i),c=wm(),i!==null&&!_n?(bm(i,o,y),Wi(i,o,y)):(dt&&c&&rm(o),o.flags|=1,Cn(i,o,l,y),o.child)}function ow(i,o,l,c,g){if(Go(o),o.stateNode===null){var y=$a,S=l.contextType;typeof S=="object"&&S!==null&&(y=Mn(S)),y=new l(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vm,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},dm(o),S=l.contextType,y.context=typeof S=="object"&&S!==null?Mn(S):$a,y.state=o.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Pm(o,l,S,c),y.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(S=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),S!==y.state&&Vm.enqueueReplaceState(y,y.state,null),zu(o,c,y,g),Uu(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(i===null){y=o.stateNode;var P=o.memoizedProps,Y=Xo(l,P);y.props=Y;var oe=y.context,de=l.contextType;S=$a,typeof de=="object"&&de!==null&&(S=Mn(de));var me=l.getDerivedStateFromProps;de=typeof me=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=o.pendingProps!==P,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||oe!==S)&&GE(o,y,c,S),As=!1;var ae=o.memoizedState;y.state=ae,zu(o,c,y,g),Uu(),oe=o.memoizedState,P||ae!==oe||As?(typeof me=="function"&&(Pm(o,l,me,c),oe=o.memoizedState),(Y=As||$E(o,l,Y,c,ae,oe,S))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=oe),y.props=c,y.state=oe,y.context=S,c=Y):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,pm(i,o),S=o.memoizedProps,de=Xo(l,S),y.props=de,me=o.pendingProps,ae=y.context,oe=l.contextType,Y=$a,typeof oe=="object"&&oe!==null&&(Y=Mn(oe)),P=l.getDerivedStateFromProps,(oe=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S!==me||ae!==Y)&&GE(o,y,c,Y),As=!1,ae=o.memoizedState,y.state=ae,zu(o,c,y,g),Uu();var le=o.memoizedState;S!==me||ae!==le||As||i!==null&&i.dependencies!==null&&Qf(i.dependencies)?(typeof P=="function"&&(Pm(o,l,P,c),le=o.memoizedState),(de=As||$E(o,l,de,c,ae,le,Y)||i!==null&&i.dependencies!==null&&Qf(i.dependencies))?(oe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,Y)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=le),y.props=c,y.state=le,y.context=Y,c=de):(typeof y.componentDidUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),c=!1)}return y=c,mh(i,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,i!==null&&c?(o.child=tl(o,i.child,null,g),o.child=tl(o,null,l,g)):Cn(i,o,l,g),o.memoizedState=y.state,i=o.child):i=Wi(i,o,g),i}function aw(i,o,l,c){return Nu(),o.flags|=256,Cn(i,o,l,c),o.child}var zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bm(i){return{baseLanes:i,cachePool:K0()}}function Fm(i,o,l){return i=i!==null?i.childLanes&~l:0,o&&(i|=Vr),i}function lw(i,o,l){var c=o.pendingProps,g=!1,y=(o.flags&128)!==0,S;if((S=y)||(S=i!==null&&i.memoizedState===null?!1:(fn.current&2)!==0),S&&(g=!0,o.flags&=-129),S=(o.flags&32)!==0,o.flags&=-33,i===null){if(dt){if(g?Is(o):Ns(),dt){var P=jt,Y;if(Y=P){e:{for(Y=P,P=yi;Y.nodeType!==8;){if(!P){P=null;break e}if(Y=Xr(Y.nextSibling),Y===null){P=null;break e}}P=Y}P!==null?(o.memoizedState={dehydrated:P,treeContext:Fo!==null?{id:$i,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},Y=lr(18,null,null,0),Y.stateNode=P,Y.return=o,o.child=Y,qn=o,jt=null,Y=!0):Y=!1}Y||qo(o)}if(P=o.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Sg(P)?o.lanes=32:o.lanes=536870912,null;Qi(o)}return P=c.children,c=c.fallback,g?(Ns(),g=o.mode,P=gh({mode:"hidden",children:P},g),c=Bo(c,g,l,null),P.return=o,c.return=o,P.sibling=c,o.child=P,g=o.child,g.memoizedState=Bm(l),g.childLanes=Fm(i,S,l),o.memoizedState=zm,c):(Is(o),Hm(o,P))}if(Y=i.memoizedState,Y!==null&&(P=Y.dehydrated,P!==null)){if(y)o.flags&256?(Is(o),o.flags&=-257,o=jm(i,o,l)):o.memoizedState!==null?(Ns(),o.child=i.child,o.flags|=128,o=null):(Ns(),g=c.fallback,P=o.mode,c=gh({mode:"visible",children:c.children},P),g=Bo(g,P,l,null),g.flags|=2,c.return=o,g.return=o,c.sibling=g,o.child=c,tl(o,i.child,null,l),c=o.child,c.memoizedState=Bm(l),c.childLanes=Fm(i,S,l),o.memoizedState=zm,o=g);else if(Is(o),Sg(P)){if(S=P.nextSibling&&P.nextSibling.dataset,S)var oe=S.dgst;S=oe,c=Error(r(419)),c.stack="",c.digest=S,ku({value:c,source:null,stack:null}),o=jm(i,o,l)}else if(_n||Du(i,o,l,!1),S=(l&i.childLanes)!==0,_n||S){if(S=Rt,S!==null&&(c=l&-l,c=(c&42)!==0?1:ri(c),c=(c&(S.suspendedLanes|l))!==0?0:c,c!==0&&c!==Y.retryLane))throw Y.retryLane=c,qa(i,c),dr(S,i,c),JE;P.data==="$?"||ag(),o=jm(i,o,l)}else P.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=Y.treeContext,jt=Xr(P.nextSibling),qn=o,dt=!0,jo=null,yi=!1,i!==null&&(Or[Mr++]=$i,Or[Mr++]=Gi,Or[Mr++]=Fo,$i=i.id,Gi=i.overflow,Fo=o),o=Hm(o,c.children),o.flags|=4096);return o}return g?(Ns(),g=c.fallback,P=o.mode,Y=i.child,oe=Y.sibling,c=qi(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,oe!==null?g=qi(oe,g):(g=Bo(g,P,l,null),g.flags|=2),g.return=o,c.return=o,c.sibling=g,o.child=c,c=g,g=o.child,P=i.child.memoizedState,P===null?P=Bm(l):(Y=P.cachePool,Y!==null?(oe=cn._currentValue,Y=Y.parent!==oe?{parent:oe,pool:oe}:Y):Y=K0(),P={baseLanes:P.baseLanes|l,cachePool:Y}),g.memoizedState=P,g.childLanes=Fm(i,S,l),o.memoizedState=zm,c):(Is(o),l=i.child,i=l.sibling,l=qi(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,i!==null&&(S=o.deletions,S===null?(o.deletions=[i],o.flags|=16):S.push(i)),o.child=l,o.memoizedState=null,l)}function Hm(i,o){return o=gh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function gh(i,o){return i=lr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function jm(i,o,l){return tl(o,i.child,null,l),i=Hm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function uw(i,o,l){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),am(i.return,o,l)}function qm(i,o,l,c,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=g)}function cw(i,o,l){var c=o.pendingProps,g=c.revealOrder,y=c.tail;if(Cn(i,o,c.children,l),c=fn.current,(c&2)!==0)c=c&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uw(i,l,o);else if(i.tag===19)uw(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(N(fn,c),g){case"forwards":for(l=o.child,g=null;l!==null;)i=l.alternate,i!==null&&hh(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),qm(o,!1,g,l,y);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&hh(i)===null){o.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}qm(o,!0,l,null,y);break;case"together":qm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Wi(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ps|=o.lanes,(l&o.childLanes)===0)if(i!==null){if(Du(i,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,l=qi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=qi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function $m(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Qf(i)))}function XN(i,o,l){switch(o.tag){case 3:be(o,o.stateNode.containerInfo),Ss(o,cn,i.memoizedState.cache),Nu();break;case 27:case 5:Oe(o);break;case 4:be(o,o.stateNode.containerInfo);break;case 10:Ss(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(Is(o),o.flags|=128,null):(l&o.child.childLanes)!==0?lw(i,o,l):(Is(o),i=Wi(i,o,l),i!==null?i.sibling:null);Is(o);break;case 19:var g=(i.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(Du(i,o,l,!1),c=(l&o.childLanes)!==0),g){if(c)return cw(i,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),N(fn,fn.current),c)break;return null;case 22:case 23:return o.lanes=0,rw(i,o,l);case 24:Ss(o,cn,i.memoizedState.cache)}return Wi(i,o,l)}function fw(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps)_n=!0;else{if(!$m(i,l)&&(o.flags&128)===0)return _n=!1,XN(i,o,l);_n=(i.flags&131072)!==0}else _n=!1,dt&&(o.flags&1048576)!==0&&F0(o,Xf,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var c=o.elementType,g=c._init;if(c=g(c._payload),o.type=c,typeof c=="function")em(c)?(i=Xo(c,i),o.tag=1,o=ow(null,o,c,i,l)):(o.tag=0,o=Um(null,o,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===H){o.tag=11,o=ew(null,o,c,i,l);break e}else if(g===V){o.tag=14,o=tw(null,o,c,i,l);break e}}throw o=k(c)||c,Error(r(306,o,""))}}return o;case 0:return Um(i,o,o.type,o.pendingProps,l);case 1:return c=o.type,g=Xo(c,o.pendingProps),ow(i,o,c,g,l);case 3:e:{if(be(o,o.stateNode.containerInfo),i===null)throw Error(r(387));c=o.pendingProps;var y=o.memoizedState;g=y.element,pm(i,o),zu(o,c,null,l);var S=o.memoizedState;if(c=S.cache,Ss(o,cn,c),c!==y.cache&&lm(o,[cn],l,!0),Uu(),c=S.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:S.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=aw(i,o,c,l);break e}else if(c!==g){g=kr(Error(r(424)),o),ku(g),o=aw(i,o,c,l);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(jt=Xr(i.firstChild),qn=o,dt=!0,jo=null,yi=!0,l=jE(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Nu(),c===g){o=Wi(i,o,l);break e}Cn(i,o,c,l)}o=o.child}return o;case 26:return mh(i,o),i===null?(l=mb(o.type,null,o.pendingProps,null))?o.memoizedState=l:dt||(l=o.type,i=o.pendingProps,c=Nh(_e.current).createElement(l),c[Kt]=o,c[Ht]=i,In(c,l,i),Ut(c),o.stateNode=c):o.memoizedState=mb(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Oe(o),i===null&&dt&&(c=o.stateNode=hb(o.type,o.pendingProps,_e.current),qn=o,yi=!0,g=jt,zs(o.type)?(Ag=g,jt=Xr(c.firstChild)):jt=g),Cn(i,o,o.pendingProps.children,l),mh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&dt&&((g=c=jt)&&(c=T2(c,o.type,o.pendingProps,yi),c!==null?(o.stateNode=c,qn=o,jt=Xr(c.firstChild),yi=!1,g=!0):g=!1),g||qo(o)),Oe(o),g=o.type,y=o.pendingProps,S=i!==null?i.memoizedProps:null,c=y.children,wg(g,y)?c=null:S!==null&&wg(g,S)&&(o.flags|=32),o.memoizedState!==null&&(g=Em(i,o,FN,null,null,l),ac._currentValue=g),mh(i,o),Cn(i,o,c,l),o.child;case 6:return i===null&&dt&&((i=l=jt)&&(l=S2(l,o.pendingProps,yi),l!==null?(o.stateNode=l,qn=o,jt=null,i=!0):i=!1),i||qo(o)),null;case 13:return lw(i,o,l);case 4:return be(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=tl(o,null,c,l):Cn(i,o,c,l),o.child;case 11:return ew(i,o,o.type,o.pendingProps,l);case 7:return Cn(i,o,o.pendingProps,l),o.child;case 8:return Cn(i,o,o.pendingProps.children,l),o.child;case 12:return Cn(i,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,Ss(o,o.type,c.value),Cn(i,o,c.children,l),o.child;case 9:return g=o.type._context,c=o.pendingProps.children,Go(o),g=Mn(g),c=c(g),o.flags|=1,Cn(i,o,c,l),o.child;case 14:return tw(i,o,o.type,o.pendingProps,l);case 15:return nw(i,o,o.type,o.pendingProps,l);case 19:return cw(i,o,l);case 31:return c=o.pendingProps,l=o.mode,c={mode:c.mode,children:c.children},i===null?(l=gh(c,l),l.ref=o.ref,o.child=l,l.return=o,o=l):(l=qi(i.child,c),l.ref=o.ref,o.child=l,l.return=o,o=l),o;case 22:return rw(i,o,l);case 24:return Go(o),c=Mn(cn),i===null?(g=fm(),g===null&&(g=Rt,y=um(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),o.memoizedState={parent:c,cache:g},dm(o),Ss(o,cn,g)):((i.lanes&l)!==0&&(pm(i,o),zu(o,null,null,l),Uu()),g=i.memoizedState,y=o.memoizedState,g.parent!==c?(g={parent:c,cache:c},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),Ss(o,cn,c)):(c=y.cache,Ss(o,cn,c),c!==g.cache&&lm(o,[cn],l,!0))),Cn(i,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Zi(i){i.flags|=4}function hw(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Eb(o)){if(o=Pr.current,o!==null&&((ot&4194048)===ot?_i!==null:(ot&62914560)!==ot&&(ot&536870912)===0||o!==_i))throw Vu=hm,X0;i.flags|=8192}}function yh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?jr():536870912,i.lanes|=o,sl|=o)}function Gu(i,o){if(!dt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function zt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(o)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,o}function QN(i,o,l){var c=o.pendingProps;switch(im(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return zt(o),null;case 3:return l=o.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ki(cn),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Iu(o)?Zi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,q0())),zt(o),null;case 26:return l=o.memoizedState,i===null?(Zi(o),l!==null?(zt(o),hw(o,l)):(zt(o),o.flags&=-16777217)):l?l!==i.memoizedState?(Zi(o),zt(o),hw(o,l)):(zt(o),o.flags&=-16777217):(i.memoizedProps!==c&&Zi(o),zt(o),o.flags&=-16777217),null;case 27:Ze(o),l=_e.current;var g=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==c&&Zi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return zt(o),null}i=ue.current,Iu(o)?H0(o):(i=hb(g,c,l),o.stateNode=i,Zi(o))}return zt(o),null;case 5:if(Ze(o),l=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==c&&Zi(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(i=ue.current,Iu(o))H0(o);else{switch(g=Nh(_e.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[Kt]=o,i[Ht]=c;e:for(g=o.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break e;for(;g.sibling===null;){if(g.return===null||g.return===o)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}o.stateNode=i;e:switch(In(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zi(o)}}return zt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==c&&Zi(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(i=_e.current,Iu(o)){if(i=o.stateNode,l=o.memoizedProps,c=null,g=qn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Kt]=o,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||sb(i.nodeValue,l)),i||qo(o)}else i=Nh(i).createTextNode(c),i[Kt]=o,o.stateNode=i}return zt(o),null;case 13:if(c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Iu(o),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Kt]=o}else Nu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),g=!1}else g=q0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Qi(o),o):(Qi(o),null)}if(Qi(o),(o.flags&128)!==0)return o.lanes=l,o;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=o.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return l!==i&&l&&(o.child.flags|=8192),yh(o,o.updateQueue),zt(o),null;case 4:return De(),i===null&&gg(o.stateNode.containerInfo),zt(o),null;case 10:return Ki(o.type),zt(o),null;case 19:if(re(fn),g=o.memoizedState,g===null)return zt(o),null;if(c=(o.flags&128)!==0,y=g.rendering,y===null)if(c)Gu(g,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(y=hh(i),y!==null){for(o.flags|=128,Gu(g,!1),i=y.updateQueue,o.updateQueue=i,yh(o,i),o.subtreeFlags=0,i=l,l=o.child;l!==null;)B0(l,i),l=l.sibling;return N(fn,fn.current&1|2),o.child}i=i.sibling}g.tail!==null&&Le()>Eh&&(o.flags|=128,c=!0,Gu(g,!1),o.lanes=4194304)}else{if(!c)if(i=hh(y),i!==null){if(o.flags|=128,c=!0,i=i.updateQueue,o.updateQueue=i,yh(o,i),Gu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!dt)return zt(o),null}else 2*Le()-g.renderingStartTime>Eh&&l!==536870912&&(o.flags|=128,c=!0,Gu(g,!1),o.lanes=4194304);g.isBackwards?(y.sibling=o.child,o.child=y):(i=g.last,i!==null?i.sibling=y:o.child=y,g.last=y)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Le(),o.sibling=null,i=fn.current,N(fn,c?i&1|2:i&1),o):(zt(o),null);case 22:case 23:return Qi(o),_m(),c=o.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),l=o.updateQueue,l!==null&&yh(o,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),i!==null&&re(Yo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ki(cn),zt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function WN(i,o){switch(im(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ki(cn),De(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ze(o),null;case 13:if(Qi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Nu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return re(fn),null;case 4:return De(),null;case 10:return Ki(o.type),null;case 22:case 23:return Qi(o),_m(),i!==null&&re(Yo),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ki(cn),null;case 25:return null;default:return null}}function dw(i,o){switch(im(o),o.tag){case 3:Ki(cn),De();break;case 26:case 27:case 5:Ze(o);break;case 4:De();break;case 13:Qi(o);break;case 19:re(fn);break;case 10:Ki(o.type);break;case 22:case 23:Qi(o),_m(),i!==null&&re(Yo);break;case 24:Ki(cn)}}function Yu(i,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var y=l.create,S=l.inst;c=y(),S.destroy=c}l=l.next}while(l!==g)}}catch(P){Tt(o,o.return,P)}}function ks(i,o,l){try{var c=o.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&i)===i){var S=c.inst,P=S.destroy;if(P!==void 0){S.destroy=void 0,g=o;var Y=l,oe=P;try{oe()}catch(de){Tt(g,Y,de)}}}c=c.next}while(c!==y)}}catch(de){Tt(o,o.return,de)}}function pw(i){var o=i.updateQueue;if(o!==null){var l=i.stateNode;try{tE(o,l)}catch(c){Tt(i,i.return,c)}}}function mw(i,o,l){l.props=Xo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Tt(i,o,c)}}function Ku(i,o){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){Tt(i,o,g)}}function vi(i,o){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){Tt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Tt(i,o,g)}else l.current=null}function gw(i){var o=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){Tt(i,i.return,g)}}function Gm(i,o,l){try{var c=i.stateNode;_2(c,i.type,l,o),c[Ht]=o}catch(g){Tt(i,i.return,g)}}function yw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&zs(i.type)||i.tag===4}function Ym(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&zs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Km(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(i),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ih));else if(c!==4&&(c===27&&zs(i.type)&&(l=i.stateNode,o=null),i=i.child,i!==null))for(Km(i,o,l),i=i.sibling;i!==null;)Km(i,o,l),i=i.sibling}function _h(i,o,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(c!==4&&(c===27&&zs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(_h(i,o,l),i=i.sibling;i!==null;)_h(i,o,l),i=i.sibling}function _w(i){var o=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);In(o,c,l),o[Kt]=i,o[Ht]=l}catch(y){Tt(i,i.return,y)}}var Ji=!1,Qt=!1,Xm=!1,vw=typeof WeakSet=="function"?WeakSet:Set,vn=null;function ZN(i,o){if(i=i.containerInfo,vg=Vh,i=N0(i),Yp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,P=-1,Y=-1,oe=0,de=0,me=i,ae=null;t:for(;;){for(var le;me!==l||g!==0&&me.nodeType!==3||(P=S+g),me!==y||c!==0&&me.nodeType!==3||(Y=S+c),me.nodeType===3&&(S+=me.nodeValue.length),(le=me.firstChild)!==null;)ae=me,me=le;for(;;){if(me===i)break t;if(ae===l&&++oe===g&&(P=S),ae===y&&++de===c&&(Y=S),(le=me.nextSibling)!==null)break;me=ae,ae=me.parentNode}me=le}l=P===-1||Y===-1?null:{start:P,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(Eg={focusedElem:i,selectionRange:l},Vh=!1,vn=o;vn!==null;)if(o=vn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,vn=i;else for(;vn!==null;){switch(o=vn,y=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=o,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Fe=Xo(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Fe,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){Tt(l,l.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,l=i.nodeType,l===9)Tg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Tg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,vn=i;break}vn=o.return}}function Ew(i,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ds(i,l),c&4&&Yu(5,l);break;case 1:if(Ds(i,l),c&4)if(i=l.stateNode,o===null)try{i.componentDidMount()}catch(S){Tt(l,l.return,S)}else{var g=Xo(l.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Tt(l,l.return,S)}}c&64&&pw(l),c&512&&Ku(l,l.return);break;case 3:if(Ds(i,l),c&64&&(i=l.updateQueue,i!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{tE(i,o)}catch(S){Tt(l,l.return,S)}}break;case 27:o===null&&c&4&&_w(l);case 26:case 5:Ds(i,l),o===null&&c&4&&gw(l),c&512&&Ku(l,l.return);break;case 12:Ds(i,l);break;case 13:Ds(i,l),c&4&&Tw(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=a2.bind(null,l),A2(i,l))));break;case 22:if(c=l.memoizedState!==null||Ji,!c){o=o!==null&&o.memoizedState!==null||Qt,g=Ji;var y=Qt;Ji=c,(Qt=o)&&!y?Os(i,l,(l.subtreeFlags&8772)!==0):Ds(i,l),Ji=g,Qt=y}break;case 30:break;default:Ds(i,l)}}function ww(i){var o=i.alternate;o!==null&&(i.alternate=null,ww(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&oi(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Lt=null,Xn=!1;function es(i,o,l){for(l=l.child;l!==null;)bw(i,o,l),l=l.sibling}function bw(i,o,l){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(ee,l)}catch{}switch(l.tag){case 26:Qt||vi(l,o),es(i,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qt||vi(l,o);var c=Lt,g=Xn;zs(l.type)&&(Lt=l.stateNode,Xn=!1),es(i,o,l),rc(l.stateNode),Lt=c,Xn=g;break;case 5:Qt||vi(l,o);case 6:if(c=Lt,g=Xn,Lt=null,es(i,o,l),Lt=c,Xn=g,Lt!==null)if(Xn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(l.stateNode)}catch(y){Tt(l,o,y)}else try{Lt.removeChild(l.stateNode)}catch(y){Tt(l,o,y)}break;case 18:Lt!==null&&(Xn?(i=Lt,cb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),fc(i)):cb(Lt,l.stateNode));break;case 4:c=Lt,g=Xn,Lt=l.stateNode.containerInfo,Xn=!0,es(i,o,l),Lt=c,Xn=g;break;case 0:case 11:case 14:case 15:Qt||ks(2,l,o),Qt||ks(4,l,o),es(i,o,l);break;case 1:Qt||(vi(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&mw(l,o,c)),es(i,o,l);break;case 21:es(i,o,l);break;case 22:Qt=(c=Qt)||l.memoizedState!==null,es(i,o,l),Qt=c;break;default:es(i,o,l)}}function Tw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{fc(i)}catch(l){Tt(o,o.return,l)}}function JN(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new vw),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new vw),o;default:throw Error(r(435,i.tag))}}function Qm(i,o){var l=JN(i);o.forEach(function(c){var g=l2.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function ur(i,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=i,S=o,P=S;e:for(;P!==null;){switch(P.tag){case 27:if(zs(P.type)){Lt=P.stateNode,Xn=!1;break e}break;case 5:Lt=P.stateNode,Xn=!1;break e;case 3:case 4:Lt=P.stateNode.containerInfo,Xn=!0;break e}P=P.return}if(Lt===null)throw Error(r(160));bw(y,S,g),Lt=null,Xn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Sw(o,i),o=o.sibling}var Kr=null;function Sw(i,o){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ur(o,i),cr(i),c&4&&(ks(3,i,i.return),Yu(3,i),ks(5,i,i.return));break;case 1:ur(o,i),cr(i),c&512&&(Qt||l===null||vi(l,l.return)),c&64&&Ji&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Kr;if(ur(o,i),cr(i),c&512&&(Qt||l===null||vi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Pi]||y[Kt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),In(y,c,l),y[Kt]=i,Ut(y),c=y;break e;case"link":var S=_b("link","href",g).get(c+(l.href||""));if(S){for(var P=0;P<S.length;P++)if(y=S[P],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(P,1);break t}}y=g.createElement(c),In(y,c,l),g.head.appendChild(y);break;case"meta":if(S=_b("meta","content",g).get(c+(l.content||""))){for(P=0;P<S.length;P++)if(y=S[P],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(P,1);break t}}y=g.createElement(c),In(y,c,l),g.head.appendChild(y);break;default:throw Error(r(468,c))}y[Kt]=i,Ut(y),c=y}i.stateNode=c}else vb(g,i.type,i.stateNode);else i.stateNode=yb(g,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?vb(g,i.type,i.stateNode):yb(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Gm(i,i.memoizedProps,l.memoizedProps)}break;case 27:ur(o,i),cr(i),c&512&&(Qt||l===null||vi(l,l.return)),l!==null&&c&4&&Gm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ur(o,i),cr(i),c&512&&(Qt||l===null||vi(l,l.return)),i.flags&32){g=i.stateNode;try{Cr(g,"")}catch(le){Tt(i,i.return,le)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,Gm(i,g,l!==null?l.memoizedProps:g)),c&1024&&(Xm=!0);break;case 6:if(ur(o,i),cr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(le){Tt(i,i.return,le)}}break;case 3:if(Oh=null,g=Kr,Kr=kh(o.containerInfo),ur(o,i),Kr=g,cr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{fc(o.containerInfo)}catch(le){Tt(i,i.return,le)}Xm&&(Xm=!1,Aw(i));break;case 4:c=Kr,Kr=kh(i.stateNode.containerInfo),ur(o,i),cr(i),Kr=c;break;case 12:ur(o,i),cr(i);break;case 13:ur(o,i),cr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ng=Le()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qm(i,c)));break;case 22:g=i.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,oe=Ji,de=Qt;if(Ji=oe||g,Qt=de||Y,ur(o,i),Qt=de,Ji=oe,cr(i),c&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(l===null||Y||Ji||Qt||Qo(i)),l=null,o=i;;){if(o.tag===5||o.tag===26){if(l===null){Y=l=o;try{if(y=Y.stateNode,g)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{P=Y.stateNode;var me=Y.memoizedProps.style,ae=me!=null&&me.hasOwnProperty("display")?me.display:null;P.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(le){Tt(Y,Y.return,le)}}}else if(o.tag===6){if(l===null){Y=o;try{Y.stateNode.nodeValue=g?"":Y.memoizedProps}catch(le){Tt(Y,Y.return,le)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Qm(i,l))));break;case 19:ur(o,i),cr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qm(i,c)));break;case 30:break;case 21:break;default:ur(o,i),cr(i)}}function cr(i){var o=i.flags;if(o&2){try{for(var l,c=i.return;c!==null;){if(yw(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=Ym(i);_h(i,y,g);break;case 5:var S=l.stateNode;l.flags&32&&(Cr(S,""),l.flags&=-33);var P=Ym(i);_h(i,P,S);break;case 3:case 4:var Y=l.stateNode.containerInfo,oe=Ym(i);Km(i,oe,Y);break;default:throw Error(r(161))}}catch(de){Tt(i,i.return,de)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Aw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Aw(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ds(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ew(i,o.alternate,o),o=o.sibling}function Qo(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ks(4,o,o.return),Qo(o);break;case 1:vi(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&mw(o,o.return,l),Qo(o);break;case 27:rc(o.stateNode);case 26:case 5:vi(o,o.return),Qo(o);break;case 22:o.memoizedState===null&&Qo(o);break;case 30:Qo(o);break;default:Qo(o)}i=i.sibling}}function Os(i,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,g=i,y=o,S=y.flags;switch(y.tag){case 0:case 11:case 15:Os(g,y,l),Yu(4,y);break;case 1:if(Os(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(oe){Tt(c,c.return,oe)}if(c=y,g=c.updateQueue,g!==null){var P=c.stateNode;try{var Y=g.shared.hiddenCallbacks;if(Y!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Y.length;g++)eE(Y[g],P)}catch(oe){Tt(c,c.return,oe)}}l&&S&64&&pw(y),Ku(y,y.return);break;case 27:_w(y);case 26:case 5:Os(g,y,l),l&&c===null&&S&4&&gw(y),Ku(y,y.return);break;case 12:Os(g,y,l);break;case 13:Os(g,y,l),l&&S&4&&Tw(g,y);break;case 22:y.memoizedState===null&&Os(g,y,l),Ku(y,y.return);break;case 30:break;default:Os(g,y,l)}o=o.sibling}}function Wm(i,o){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ou(l))}function Zm(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ou(i))}function Ei(i,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xw(i,o,l,c),o=o.sibling}function xw(i,o,l,c){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Ei(i,o,l,c),g&2048&&Yu(9,o);break;case 1:Ei(i,o,l,c);break;case 3:Ei(i,o,l,c),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Ou(i)));break;case 12:if(g&2048){Ei(i,o,l,c),i=o.stateNode;try{var y=o.memoizedProps,S=y.id,P=y.onPostCommit;typeof P=="function"&&P(S,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){Tt(o,o.return,Y)}}else Ei(i,o,l,c);break;case 13:Ei(i,o,l,c);break;case 23:break;case 22:y=o.stateNode,S=o.alternate,o.memoizedState!==null?y._visibility&2?Ei(i,o,l,c):Xu(i,o):y._visibility&2?Ei(i,o,l,c):(y._visibility|=2,nl(i,o,l,c,(o.subtreeFlags&10256)!==0)),g&2048&&Wm(S,o);break;case 24:Ei(i,o,l,c),g&2048&&Zm(o.alternate,o);break;default:Ei(i,o,l,c)}}function nl(i,o,l,c,g){for(g=g&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=i,S=o,P=l,Y=c,oe=S.flags;switch(S.tag){case 0:case 11:case 15:nl(y,S,P,Y,g),Yu(8,S);break;case 23:break;case 22:var de=S.stateNode;S.memoizedState!==null?de._visibility&2?nl(y,S,P,Y,g):Xu(y,S):(de._visibility|=2,nl(y,S,P,Y,g)),g&&oe&2048&&Wm(S.alternate,S);break;case 24:nl(y,S,P,Y,g),g&&oe&2048&&Zm(S.alternate,S);break;default:nl(y,S,P,Y,g)}o=o.sibling}}function Xu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=i,c=o,g=c.flags;switch(c.tag){case 22:Xu(l,c),g&2048&&Wm(c.alternate,c);break;case 24:Xu(l,c),g&2048&&Zm(c.alternate,c);break;default:Xu(l,c)}o=o.sibling}}var Qu=8192;function rl(i){if(i.subtreeFlags&Qu)for(i=i.child;i!==null;)Cw(i),i=i.sibling}function Cw(i){switch(i.tag){case 26:rl(i),i.flags&Qu&&i.memoizedState!==null&&U2(Kr,i.memoizedState,i.memoizedProps);break;case 5:rl(i);break;case 3:case 4:var o=Kr;Kr=kh(i.stateNode.containerInfo),rl(i),Kr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Qu,Qu=16777216,rl(i),Qu=o):rl(i));break;default:rl(i)}}function Rw(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Wu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];vn=c,Nw(c,i)}Rw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iw(i),i=i.sibling}function Iw(i){switch(i.tag){case 0:case 11:case 15:Wu(i),i.flags&2048&&ks(9,i,i.return);break;case 3:Wu(i);break;case 12:Wu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,vh(i)):Wu(i);break;default:Wu(i)}}function vh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];vn=c,Nw(c,i)}Rw(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ks(8,o,o.return),vh(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,vh(o));break;default:vh(o)}i=i.sibling}}function Nw(i,o){for(;vn!==null;){var l=vn;switch(l.tag){case 0:case 11:case 15:ks(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ou(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,vn=c;else e:for(l=i;vn!==null;){c=vn;var g=c.sibling,y=c.return;if(ww(c),c===l){vn=null;break e}if(g!==null){g.return=y,vn=g;break e}vn=y}}}var e2={getCacheForType:function(i){var o=Mn(cn),l=o.data.get(i);return l===void 0&&(l=i(),o.data.set(i,l)),l}},t2=typeof WeakMap=="function"?WeakMap:Map,yt=0,Rt=null,Je=null,ot=0,_t=0,fr=null,Ms=!1,il=!1,Jm=!1,ts=0,qt=0,Ps=0,Wo=0,eg=0,Vr=0,sl=0,Zu=null,Qn=null,tg=!1,ng=0,Eh=1/0,wh=null,Vs=null,Rn=0,Ls=null,ol=null,al=0,rg=0,ig=null,kw=null,Ju=0,sg=null;function hr(){if((yt&2)!==0&&ot!==0)return ot&-ot;if(U.T!==null){var i=Ka;return i!==0?i:hg()}return ii()}function Dw(){Vr===0&&(Vr=(ot&536870912)===0||dt?Mi():536870912);var i=Pr.current;return i!==null&&(i.flags|=32),Vr}function dr(i,o,l){(i===Rt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(ll(i,0),Us(i,ot,Vr,!1)),wr(i,l),((yt&2)===0||i!==Rt)&&(i===Rt&&((yt&2)===0&&(Wo|=l),qt===4&&Us(i,ot,Vr,!1)),wi(i))}function Ow(i,o,l){if((yt&6)!==0)throw Error(r(327));var c=!l&&(o&124)===0&&(o&i.expiredLanes)===0||Ft(i,o),g=c?i2(i,o):lg(i,o,!0),y=c;do{if(g===0){il&&!c&&Us(i,o,0,!1);break}else{if(l=i.current.alternate,y&&!n2(l)){g=lg(i,o,!1),y=!1;continue}if(g===2){if(y=o,i.errorRecoveryDisabledLanes&y)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){o=S;e:{var P=i;g=Zu;var Y=P.current.memoizedState.isDehydrated;if(Y&&(ll(P,S).flags|=256),S=lg(P,S,!1),S!==2){if(Jm&&!Y){P.errorRecoveryDisabledLanes|=y,Wo|=y,g=4;break e}y=Qn,Qn=g,y!==null&&(Qn===null?Qn=y:Qn.push.apply(Qn,y))}g=S}if(y=!1,g!==2)continue}}if(g===1){ll(i,0),Us(i,o,0,!0);break}e:{switch(c=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Us(c,o,Vr,!Ms);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(g=ng+300-Le(),10<g)){if(Us(c,o,Vr,!Ms),ht(c,0,!0)!==0)break e;c.timeoutHandle=lb(Mw.bind(null,c,l,Qn,wh,tg,o,Vr,Wo,sl,Ms,y,2,-0,0),g);break e}Mw(c,l,Qn,wh,tg,o,Vr,Wo,sl,Ms,y,0,-0,0)}}break}while(!0);wi(i)}function Mw(i,o,l,c,g,y,S,P,Y,oe,de,me,ae,le){if(i.timeoutHandle=-1,me=o.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(oc={stylesheets:null,count:0,unsuspend:L2},Cw(o),me=z2(),me!==null)){i.cancelPendingCommit=me(Fw.bind(null,i,o,y,l,c,g,S,P,Y,de,1,ae,le)),Us(i,y,S,!oe);return}Fw(i,o,y,l,c,g,S,P,Y)}function n2(i){for(var o=i;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!ar(y(),g))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Us(i,o,l,c){o&=~eg,o&=~Wo,i.suspendedLanes|=o,i.pingedLanes&=~o,c&&(i.warmLanes|=o),c=i.expirationTimes;for(var g=o;0<g;){var y=31-Ie(g),S=1<<y;c[y]=-1,g&=~S}l!==0&&br(i,l,o)}function bh(){return(yt&6)===0?(ec(0),!1):!0}function og(){if(Je!==null){if(_t===0)var i=Je.return;else i=Je,Yi=$o=null,Tm(i),el=null,qu=0,i=Je;for(;i!==null;)dw(i.alternate,i),i=i.return;Je=null}}function ll(i,o){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,E2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),og(),Rt=i,Je=l=qi(i.current,null),ot=o,_t=0,fr=null,Ms=!1,il=Ft(i,o),Jm=!1,sl=Vr=eg=Wo=Ps=qt=0,Qn=Zu=null,tg=!1,(o&8)!==0&&(o|=o&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=o;0<c;){var g=31-Ie(c),y=1<<g;o|=i[g],c&=~y}return ts=o,qf(),l}function Pw(i,o){Ye=null,U.H=uh,o===Pu||o===Jf?(o=Z0(),_t=3):o===X0?(o=Z0(),_t=4):_t=o===JE?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,fr=o,Je===null&&(qt=1,ph(i,kr(o,i.current)))}function Vw(){var i=U.H;return U.H=uh,i===null?uh:i}function Lw(){var i=U.A;return U.A=e2,i}function ag(){qt=4,Ms||(ot&4194048)!==ot&&Pr.current!==null||(il=!0),(Ps&134217727)===0&&(Wo&134217727)===0||Rt===null||Us(Rt,ot,Vr,!1)}function lg(i,o,l){var c=yt;yt|=2;var g=Vw(),y=Lw();(Rt!==i||ot!==o)&&(wh=null,ll(i,o)),o=!1;var S=qt;e:do try{if(_t!==0&&Je!==null){var P=Je,Y=fr;switch(_t){case 8:og(),S=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(o=!0);var oe=_t;if(_t=0,fr=null,ul(i,P,Y,oe),l&&il){S=0;break e}break;default:oe=_t,_t=0,fr=null,ul(i,P,Y,oe)}}r2(),S=qt;break}catch(de){Pw(i,de)}while(!0);return o&&i.shellSuspendCounter++,Yi=$o=null,yt=c,U.H=g,U.A=y,Je===null&&(Rt=null,ot=0,qf()),S}function r2(){for(;Je!==null;)Uw(Je)}function i2(i,o){var l=yt;yt|=2;var c=Vw(),g=Lw();Rt!==i||ot!==o?(wh=null,Eh=Le()+500,ll(i,o)):il=Ft(i,o);e:do try{if(_t!==0&&Je!==null){o=Je;var y=fr;t:switch(_t){case 1:_t=0,fr=null,ul(i,o,y,1);break;case 2:case 9:if(Q0(y)){_t=0,fr=null,zw(o);break}o=function(){_t!==2&&_t!==9||Rt!==i||(_t=7),wi(i)},y.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:Q0(y)?(_t=0,fr=null,zw(o)):(_t=0,fr=null,ul(i,o,y,7));break;case 5:var S=null;switch(Je.tag){case 26:S=Je.memoizedState;case 5:case 27:var P=Je;if(!S||Eb(S)){_t=0,fr=null;var Y=P.sibling;if(Y!==null)Je=Y;else{var oe=P.return;oe!==null?(Je=oe,Th(oe)):Je=null}break t}}_t=0,fr=null,ul(i,o,y,5);break;case 6:_t=0,fr=null,ul(i,o,y,6);break;case 8:og(),qt=6;break e;default:throw Error(r(462))}}s2();break}catch(de){Pw(i,de)}while(!0);return Yi=$o=null,U.H=c,U.A=g,yt=l,Je!==null?0:(Rt=null,ot=0,qf(),qt)}function s2(){for(;Je!==null&&!Me();)Uw(Je)}function Uw(i){var o=fw(i.alternate,i,ts);i.memoizedProps=i.pendingProps,o===null?Th(i):Je=o}function zw(i){var o=i,l=o.alternate;switch(o.tag){case 15:case 0:o=sw(l,o,o.pendingProps,o.type,void 0,ot);break;case 11:o=sw(l,o,o.pendingProps,o.type.render,o.ref,ot);break;case 5:Tm(o);default:dw(l,o),o=Je=B0(o,ts),o=fw(l,o,ts)}i.memoizedProps=i.pendingProps,o===null?Th(i):Je=o}function ul(i,o,l,c){Yi=$o=null,Tm(o),el=null,qu=0;var g=o.return;try{if(KN(i,g,o,l,ot)){qt=1,ph(i,kr(l,i.current)),Je=null;return}}catch(y){if(g!==null)throw Je=g,y;qt=1,ph(i,kr(l,i.current)),Je=null;return}o.flags&32768?(dt||c===1?i=!0:il||(ot&536870912)!==0?i=!1:(Ms=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Bw(o,i)):Th(o)}function Th(i){var o=i;do{if((o.flags&32768)!==0){Bw(o,Ms);return}i=o.return;var l=QN(o.alternate,o,ts);if(l!==null){Je=l;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=i}while(o!==null);qt===0&&(qt=5)}function Bw(i,o){do{var l=WN(i.alternate,i);if(l!==null){l.flags&=32767,Je=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(i=i.sibling,i!==null)){Je=i;return}Je=i=l}while(i!==null);qt=6,Je=null}function Fw(i,o,l,c,g,y,S,P,Y){i.cancelPendingCommit=null;do Sh();while(Rn!==0);if((yt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(y=o.lanes|o.childLanes,y|=Zp,ir(i,l,y,S,P,Y),i===Rt&&(Je=Rt=null,ot=0),ol=o,Ls=i,al=l,rg=y,ig=g,kw=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,u2(Tn,function(){return Gw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,g=K.p,K.p=2,S=yt,yt|=4;try{ZN(i,o,l)}finally{yt=S,K.p=g,U.T=c}}Rn=1,Hw(),jw(),qw()}}function Hw(){if(Rn===1){Rn=0;var i=Ls,o=ol,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var c=K.p;K.p=2;var g=yt;yt|=4;try{Sw(o,i);var y=Eg,S=N0(i.containerInfo),P=y.focusedElem,Y=y.selectionRange;if(S!==P&&P&&P.ownerDocument&&I0(P.ownerDocument.documentElement,P)){if(Y!==null&&Yp(P)){var oe=Y.start,de=Y.end;if(de===void 0&&(de=oe),"selectionStart"in P)P.selectionStart=oe,P.selectionEnd=Math.min(de,P.value.length);else{var me=P.ownerDocument||document,ae=me&&me.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Fe=P.textContent.length,Ve=Math.min(Y.start,Fe),bt=Y.end===void 0?Ve:Math.min(Y.end,Fe);!le.extend&&Ve>bt&&(S=bt,bt=Ve,Ve=S);var te=R0(P,Ve),W=R0(P,bt);if(te&&W&&(le.rangeCount!==1||le.anchorNode!==te.node||le.anchorOffset!==te.offset||le.focusNode!==W.node||le.focusOffset!==W.offset)){var se=me.createRange();se.setStart(te.node,te.offset),le.removeAllRanges(),Ve>bt?(le.addRange(se),le.extend(W.node,W.offset)):(se.setEnd(W.node,W.offset),le.addRange(se))}}}}for(me=[],le=P;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<me.length;P++){var pe=me[P];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Vh=!!vg,Eg=vg=null}finally{yt=g,K.p=c,U.T=l}}i.current=o,Rn=2}}function jw(){if(Rn===2){Rn=0;var i=Ls,o=ol,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var c=K.p;K.p=2;var g=yt;yt|=4;try{Ew(i,o.alternate,o)}finally{yt=g,K.p=c,U.T=l}}Rn=3}}function qw(){if(Rn===4||Rn===3){Rn=0,St();var i=Ls,o=ol,l=al,c=kw;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Rn=5:(Rn=0,ol=Ls=null,$w(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Vs=null),vs(l),o=o.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(ee,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=U.T,g=K.p,K.p=2,U.T=null;try{for(var y=i.onRecoverableError,S=0;S<c.length;S++){var P=c[S];y(P.value,{componentStack:P.stack})}}finally{U.T=o,K.p=g}}(al&3)!==0&&Sh(),wi(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===sg?Ju++:(Ju=0,sg=i):Ju=0,ec(0)}}function $w(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Ou(o)))}function Sh(i){return Hw(),jw(),qw(),Gw()}function Gw(){if(Rn!==5)return!1;var i=Ls,o=rg;rg=0;var l=vs(al),c=U.T,g=K.p;try{K.p=32>l?32:l,U.T=null,l=ig,ig=null;var y=Ls,S=al;if(Rn=0,ol=Ls=null,al=0,(yt&6)!==0)throw Error(r(331));var P=yt;if(yt|=4,Iw(y.current),xw(y,y.current,S,l),yt=P,ec(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(ee,y)}catch{}return!0}finally{K.p=g,U.T=c,$w(i,o)}}function Yw(i,o,l){o=kr(l,o),o=Lm(i.stateNode,o,2),i=Cs(i,o,2),i!==null&&(wr(i,2),wi(i))}function Tt(i,o,l){if(i.tag===3)Yw(i,i,l);else for(;o!==null;){if(o.tag===3){Yw(o,i,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Vs===null||!Vs.has(c))){i=kr(l,i),l=WE(2),c=Cs(o,l,2),c!==null&&(ZE(l,c,o,i),wr(c,2),wi(c));break}}o=o.return}}function ug(i,o,l){var c=i.pingCache;if(c===null){c=i.pingCache=new t2;var g=new Set;c.set(o,g)}else g=c.get(o),g===void 0&&(g=new Set,c.set(o,g));g.has(l)||(Jm=!0,g.add(l),i=o2.bind(null,i,o,l),o.then(i,i))}function o2(i,o,l){var c=i.pingCache;c!==null&&c.delete(o),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Rt===i&&(ot&l)===l&&(qt===4||qt===3&&(ot&62914560)===ot&&300>Le()-ng?(yt&2)===0&&ll(i,0):eg|=l,sl===ot&&(sl=0)),wi(i)}function Kw(i,o){o===0&&(o=jr()),i=qa(i,o),i!==null&&(wr(i,o),wi(i))}function a2(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),Kw(i,l)}function l2(i,o){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),Kw(i,l)}function u2(i,o){return ft(i,o)}var Ah=null,cl=null,cg=!1,xh=!1,fg=!1,Zo=0;function wi(i){i!==cl&&i.next===null&&(cl===null?Ah=cl=i:cl=cl.next=i),xh=!0,cg||(cg=!0,f2())}function ec(i,o){if(!fg&&xh){fg=!0;do for(var l=!1,c=Ah;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var S=c.suspendedLanes,P=c.pingedLanes;y=(1<<31-Ie(42|i)+1)-1,y&=g&~(S&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Zw(c,y))}else y=ot,y=ht(c,c===Rt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Ft(c,y)||(l=!0,Zw(c,y));c=c.next}while(l);fg=!1}}function c2(){Xw()}function Xw(){xh=cg=!1;var i=0;Zo!==0&&(v2()&&(i=Zo),Zo=0);for(var o=Le(),l=null,c=Ah;c!==null;){var g=c.next,y=Qw(c,o);y===0?(c.next=null,l===null?Ah=g:l.next=g,g===null&&(cl=l)):(l=c,(i!==0||(y&3)!==0)&&(xh=!0)),c=g}ec(i)}function Qw(i,o){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var S=31-Ie(y),P=1<<S,Y=g[S];Y===-1?((P&l)===0||(P&c)!==0)&&(g[S]=on(P,o)):Y<=o&&(i.expiredLanes|=P),y&=~P}if(o=Rt,l=ot,l=ht(i,i===o?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&lt(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ft(i,l)){if(o=l&-l,o===i.callbackPriority)return o;switch(c!==null&&lt(c),vs(l)){case 2:case 8:l=Gt;break;case 32:l=Tn;break;case 268435456:l=Sn;break;default:l=Tn}return c=Ww.bind(null,i),l=ft(l,c),i.callbackPriority=o,i.callbackNode=l,o}return c!==null&&c!==null&&lt(c),i.callbackPriority=2,i.callbackNode=null,2}function Ww(i,o){if(Rn!==0&&Rn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Sh()&&i.callbackNode!==l)return null;var c=ot;return c=ht(i,i===Rt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Ow(i,c,o),Qw(i,Le()),i.callbackNode!=null&&i.callbackNode===l?Ww.bind(null,i):null)}function Zw(i,o){if(Sh())return null;Ow(i,o,!0)}function f2(){w2(function(){(yt&6)!==0?ft(At,c2):Xw()})}function hg(){return Zo===0&&(Zo=Mi()),Zo}function Jw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Da(""+i)}function eb(i,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,i.id&&l.setAttribute("form",i.id),o.parentNode.insertBefore(l,o),i=new FormData(i),l.parentNode.removeChild(l),i}function h2(i,o,l,c,g){if(o==="submit"&&l&&l.stateNode===g){var y=Jw((g[Ht]||null).action),S=c.submitter;S&&(o=(o=S[Ht]||null)?Jw(o.formAction):S.getAttribute("formAction"),o!==null&&(y=o,S=null));var P=new Oa("action","action",null,c,g);i.push({event:P,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Zo!==0){var Y=S?eb(g,S):new FormData(g);Dm(l,{pending:!0,data:Y,method:g.method,action:y},null,Y)}}else typeof y=="function"&&(P.preventDefault(),Y=S?eb(g,S):new FormData(g),Dm(l,{pending:!0,data:Y,method:g.method,action:y},y,Y))},currentTarget:g}]})}}for(var dg=0;dg<Wp.length;dg++){var pg=Wp[dg],d2=pg.toLowerCase(),p2=pg[0].toUpperCase()+pg.slice(1);Yr(d2,"on"+p2)}Yr(O0,"onAnimationEnd"),Yr(M0,"onAnimationIteration"),Yr(P0,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(kN,"onTransitionRun"),Yr(DN,"onTransitionStart"),Yr(ON,"onTransitionCancel"),Yr(V0,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function tb(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var S=c.length-1;0<=S;S--){var P=c[S],Y=P.instance,oe=P.currentTarget;if(P=P.listener,Y!==y&&g.isPropagationStopped())break e;y=P,g.currentTarget=oe;try{y(g)}catch(de){dh(de)}g.currentTarget=null,y=Y}else for(S=0;S<c.length;S++){if(P=c[S],Y=P.instance,oe=P.currentTarget,P=P.listener,Y!==y&&g.isPropagationStopped())break e;y=P,g.currentTarget=oe;try{y(g)}catch(de){dh(de)}g.currentTarget=null,y=Y}}}}function et(i,o){var l=o[So];l===void 0&&(l=o[So]=new Set);var c=i+"__bubble";l.has(c)||(nb(o,i,2,!1),l.add(c))}function mg(i,o,l){var c=0;o&&(c|=4),nb(l,i,c,o)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function gg(i){if(!i[Ch]){i[Ch]=!0,Ao.forEach(function(l){l!=="selectionchange"&&(m2.has(l)||mg(l,!1,i),mg(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ch]||(o[Ch]=!0,mg("selectionchange",!1,o))}}function nb(i,o,l,c){switch(xb(o)){case 2:var g=H2;break;case 8:g=j2;break;default:g=Ng}l=g.bind(null,o,l,i),g=void 0,!Ir||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(o,l,{capture:!0,passive:g}):i.addEventListener(o,l,!0):g!==void 0?i.addEventListener(o,l,{passive:g}):i.addEventListener(o,l,!1)}function yg(i,o,l,c,g){var y=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var P=c.stateNode.containerInfo;if(P===g)break;if(S===4)for(S=c.return;S!==null;){var Y=S.tag;if((Y===3||Y===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;P!==null;){if(S=Tr(P),S===null)return;if(Y=S.tag,Y===5||Y===6||Y===26||Y===27){c=y=S;continue e}P=P.parentNode}}c=c.return}If(function(){var oe=y,de=Rr(l),me=[];e:{var ae=L0.get(i);if(ae!==void 0){var le=Oa,Fe=i;switch(i){case"keypress":if(hi(l)===0)break e;case"keydown":case"keyup":le=za;break;case"focusin":Fe="focus",le=Va;break;case"focusout":Fe="blur",le=Va;break;case"beforeblur":case"afterblur":le=Va;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Lf;break;case O0:case M0:case P0:le=La;break;case V0:le=zf;break;case"scroll":case"scrollend":le=Nf;break;case"wheel":le=Ba;break;case"copy":case"cut":case"paste":le=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Au;break;case"toggle":case"beforetoggle":le=Ff}var Ve=(o&4)!==0,bt=!Ve&&(i==="scroll"||i==="scrollend"),te=Ve?ae!==null?ae+"Capture":null:ae;Ve=[];for(var W=oe,se;W!==null;){var pe=W;if(se=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||se===null||te===null||(pe=ko(W,te),pe!=null&&Ve.push(nc(W,pe,se))),bt)break;W=W.return}0<Ve.length&&(ae=new le(ae,Fe,null,l,de),me.push({event:ae,listeners:Ve}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&l!==Ui&&(Fe=l.relatedTarget||l.fromElement)&&(Tr(Fe)||Fe[Yn]))break e;if((le||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Fe=l.relatedTarget||l.toElement,le=oe,Fe=Fe?Tr(Fe):null,Fe!==null&&(bt=a(Fe),Ve=Fe.tag,Fe!==bt||Ve!==5&&Ve!==27&&Ve!==6)&&(Fe=null)):(le=null,Fe=oe),le!==Fe)){if(Ve=Nr,pe="onMouseLeave",te="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=Au,pe="onPointerLeave",te="onPointerEnter",W="pointer"),bt=le==null?ae:Ar(le),se=Fe==null?ae:Ar(Fe),ae=new Ve(pe,W+"leave",le,l,de),ae.target=bt,ae.relatedTarget=se,pe=null,Tr(de)===oe&&(Ve=new Ve(te,W+"enter",Fe,l,de),Ve.target=se,Ve.relatedTarget=bt,pe=Ve),bt=pe,le&&Fe)t:{for(Ve=le,te=Fe,W=0,se=Ve;se;se=fl(se))W++;for(se=0,pe=te;pe;pe=fl(pe))se++;for(;0<W-se;)Ve=fl(Ve),W--;for(;0<se-W;)te=fl(te),se--;for(;W--;){if(Ve===te||te!==null&&Ve===te.alternate)break t;Ve=fl(Ve),te=fl(te)}Ve=null}else Ve=null;le!==null&&rb(me,ae,le,Ve,!1),Fe!==null&&bt!==null&&rb(me,bt,Fe,Ve,!0)}}e:{if(ae=oe?Ar(oe):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var xe=b0;else if(un(ae))if(T0)xe=RN;else{xe=xN;var Qe=AN}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?oe&&_u(oe.elementType)&&(xe=b0):xe=CN;if(xe&&(xe=xe(i,oe))){ji(me,xe,l,de);break e}Qe&&Qe(i,ae,oe),i==="focusout"&&oe&&ae.type==="number"&&oe.memoizedProps.value!=null&&bs(ae,"number",ae.value)}switch(Qe=oe?Ar(oe):window,i){case"focusin":(un(Qe)||Qe.contentEditable==="true")&&(Fa=Qe,Kp=oe,Ru=null);break;case"focusout":Ru=Kp=Fa=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,k0(me,l,de);break;case"selectionchange":if(NN)break;case"keydown":case"keyup":k0(me,l,de)}var Ne;if(mi)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else it?ce(i,l)&&(Ue="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(T&&l.locale!=="ko"&&(it||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&it&&(Ne=Eu()):(fi=de,Ts="value"in fi?fi.value:fi.textContent,it=!0)),Qe=Rh(oe,Ue),0<Qe.length&&(Ue=new Tu(Ue,i,null,l,de),me.push({event:Ue,listeners:Qe}),Ne?Ue.data=Ne:(Ne=we(l),Ne!==null&&(Ue.data=Ne)))),(Ne=w?ln(i,l):st(i,l))&&(Ue=Rh(oe,"onBeforeInput"),0<Ue.length&&(Qe=new Tu("onBeforeInput","beforeinput",null,l,de),me.push({event:Qe,listeners:Ue}),Qe.data=Ne)),h2(me,i,oe,l,de)}tb(me,o)})}function nc(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Rh(i,o){for(var l=o+"Capture",c=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ko(i,l),g!=null&&c.unshift(nc(i,g,y)),g=ko(i,o),g!=null&&c.push(nc(i,g,y))),i.tag===3)return c;i=i.return}return[]}function fl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rb(i,o,l,c,g){for(var y=o._reactName,S=[];l!==null&&l!==c;){var P=l,Y=P.alternate,oe=P.stateNode;if(P=P.tag,Y!==null&&Y===c)break;P!==5&&P!==26&&P!==27||oe===null||(Y=oe,g?(oe=ko(l,y),oe!=null&&S.unshift(nc(l,oe,Y))):g||(oe=ko(l,y),oe!=null&&S.push(nc(l,oe,Y)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var g2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function ib(i){return(typeof i=="string"?i:""+i).replace(g2,`
`).replace(y2,"")}function sb(i,o){return o=ib(o),ib(i)===o}function Ih(){}function wt(i,o,l,c,g,y){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Cr(i,""+c);break;case"className":xr(i,"class",c);break;case"tabIndex":xr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(i,l,c);break;case"style":yu(i,c,y);break;case"data":if(o!=="object"){xr(i,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Da(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(o!=="input"&&wt(i,o,"name",g.name,g,null),wt(i,o,"formEncType",g.formEncType,g,null),wt(i,o,"formMethod",g.formMethod,g,null),wt(i,o,"formTarget",g.formTarget,g,null)):(wt(i,o,"encType",g.encType,g,null),wt(i,o,"method",g.method,g,null),wt(i,o,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Da(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Ih);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Da(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":et("beforetoggle",i),et("toggle",i),ai(i,"popover",c);break;case"xlinkActuate":an(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":an(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":an(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":an(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":an(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":an(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":an(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":an(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":an(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ai(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Fp.get(l)||l,ai(i,l,c))}}function _g(i,o,l,c,g,y){switch(l){case"style":yu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Cr(i,c):(typeof c=="number"||typeof c=="bigint")&&Cr(i,""+c);break;case"onScroll":c!=null&&et("scroll",i);break;case"onScrollEnd":c!=null&&et("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ih);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Es.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),o=l.slice(2,g?l.length-7:void 0),y=i[Ht]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(o,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(o,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):ai(i,l,c)}}}function In(i,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var S=l[y];if(S!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,y,S,l,null)}}g&&wt(i,o,"srcSet",l.srcSet,l,null),c&&wt(i,o,"src",l.src,l,null);return;case"input":et("invalid",i);var P=y=S=g=null,Y=null,oe=null;for(c in l)if(l.hasOwnProperty(c)){var de=l[c];if(de!=null)switch(c){case"name":g=de;break;case"type":S=de;break;case"checked":Y=de;break;case"defaultChecked":oe=de;break;case"value":y=de;break;case"defaultValue":P=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:wt(i,o,c,de,l,null)}}Ro(i,y,P,Y,oe,S,g,!1),ka(i);return;case"select":et("invalid",i),c=S=y=null;for(g in l)if(l.hasOwnProperty(g)&&(P=l[g],P!=null))switch(g){case"value":y=P;break;case"defaultValue":S=P;break;case"multiple":c=P;default:wt(i,o,g,P,l,null)}o=y,l=S,i.multiple=!!c,o!=null?Li(i,!!c,o,!1):l!=null&&Li(i,!!c,l,!0);return;case"textarea":et("invalid",i),y=g=c=null;for(S in l)if(l.hasOwnProperty(S)&&(P=l[S],P!=null))switch(S){case"value":c=P;break;case"defaultValue":g=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:wt(i,o,S,P,l,null)}Io(i,c,g,y),ka(i);return;case"option":for(Y in l)if(l.hasOwnProperty(Y)&&(c=l[Y],c!=null))switch(Y){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:wt(i,o,Y,c,l,null)}return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(c=0;c<tc.length;c++)et(tc[c],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in l)if(l.hasOwnProperty(oe)&&(c=l[oe],c!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,oe,c,l,null)}return;default:if(_u(o)){for(de in l)l.hasOwnProperty(de)&&(c=l[de],c!==void 0&&_g(i,o,de,c,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(c=l[P],c!=null&&wt(i,o,P,c,l,null))}function _2(i,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,S=null,P=null,Y=null,oe=null,de=null;for(le in l){var me=l[le];if(l.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":Y=me;default:c.hasOwnProperty(le)||wt(i,o,le,null,c,me)}}for(var ae in c){var le=c[ae];if(me=l[ae],c.hasOwnProperty(ae)&&(le!=null||me!=null))switch(ae){case"type":y=le;break;case"name":g=le;break;case"checked":oe=le;break;case"defaultChecked":de=le;break;case"value":S=le;break;case"defaultValue":P=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==me&&wt(i,o,ae,le,c,me)}}or(i,S,P,Y,oe,de,y,g);return;case"select":le=S=P=ae=null;for(y in l)if(Y=l[y],l.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":le=Y;default:c.hasOwnProperty(y)||wt(i,o,y,null,c,Y)}for(g in c)if(y=c[g],Y=l[g],c.hasOwnProperty(g)&&(y!=null||Y!=null))switch(g){case"value":ae=y;break;case"defaultValue":P=y;break;case"multiple":S=y;default:y!==Y&&wt(i,o,g,y,c,Y)}o=P,l=S,c=le,ae!=null?Li(i,!!l,ae,!1):!!c!=!!l&&(o!=null?Li(i,!!l,o,!0):Li(i,!!l,l?[]:"",!1));return;case"textarea":le=ae=null;for(P in l)if(g=l[P],l.hasOwnProperty(P)&&g!=null&&!c.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:wt(i,o,P,null,c,g)}for(S in c)if(g=c[S],y=l[S],c.hasOwnProperty(S)&&(g!=null||y!=null))switch(S){case"value":ae=g;break;case"defaultValue":le=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&wt(i,o,S,g,c,y)}vt(i,ae,le);return;case"option":for(var Fe in l)if(ae=l[Fe],l.hasOwnProperty(Fe)&&ae!=null&&!c.hasOwnProperty(Fe))switch(Fe){case"selected":i.selected=!1;break;default:wt(i,o,Fe,null,c,ae)}for(Y in c)if(ae=c[Y],le=l[Y],c.hasOwnProperty(Y)&&ae!==le&&(ae!=null||le!=null))switch(Y){case"selected":i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:wt(i,o,Y,ae,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in l)ae=l[Ve],l.hasOwnProperty(Ve)&&ae!=null&&!c.hasOwnProperty(Ve)&&wt(i,o,Ve,null,c,ae);for(oe in c)if(ae=c[oe],le=l[oe],c.hasOwnProperty(oe)&&ae!==le&&(ae!=null||le!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,o));break;default:wt(i,o,oe,ae,c,le)}return;default:if(_u(o)){for(var bt in l)ae=l[bt],l.hasOwnProperty(bt)&&ae!==void 0&&!c.hasOwnProperty(bt)&&_g(i,o,bt,void 0,c,ae);for(de in c)ae=c[de],le=l[de],!c.hasOwnProperty(de)||ae===le||ae===void 0&&le===void 0||_g(i,o,de,ae,c,le);return}}for(var te in l)ae=l[te],l.hasOwnProperty(te)&&ae!=null&&!c.hasOwnProperty(te)&&wt(i,o,te,null,c,ae);for(me in c)ae=c[me],le=l[me],!c.hasOwnProperty(me)||ae===le||ae==null&&le==null||wt(i,o,me,ae,c,le)}var vg=null,Eg=null;function Nh(i){return i.nodeType===9?i:i.ownerDocument}function ob(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ab(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function wg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var bg=null;function v2(){var i=window.event;return i&&i.type==="popstate"?i===bg?!1:(bg=i,!0):(bg=null,!1)}var lb=typeof setTimeout=="function"?setTimeout:void 0,E2=typeof clearTimeout=="function"?clearTimeout:void 0,ub=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof ub<"u"?function(i){return ub.resolve(null).then(i).catch(b2)}:lb;function b2(i){setTimeout(function(){throw i})}function zs(i){return i==="head"}function cb(i,o){var l=o,c=0,g=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var S=i.ownerDocument;if(l&1&&rc(S.documentElement),l&2&&rc(S.body),l&4)for(l=S.head,rc(l),S=l.firstChild;S;){var P=S.nextSibling,Y=S.nodeName;S[Pi]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=P}}if(g===0){i.removeChild(y),fc(o);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);fc(o)}function Tg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tg(l),oi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function T2(i,o,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Pi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Xr(i.nextSibling),i===null)break}return null}function S2(i,o,l){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Xr(i.nextSibling),i===null))return null;return i}function Sg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function A2(i,o){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Xr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Ag=null;function fb(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}function hb(i,o,l){switch(o=Nh(l),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function rc(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);oi(i)}var Lr=new Map,db=new Set;function kh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ns=K.d;K.d={f:x2,r:C2,D:R2,C:I2,L:N2,m:k2,X:O2,S:D2,M:M2};function x2(){var i=ns.f(),o=bh();return i||o}function C2(i){var o=Sr(i);o!==null&&o.tag===5&&o.type==="form"?OE(o):ns.r(i)}var hl=typeof document>"u"?null:document;function pb(i,o,l){var c=hl;if(c&&typeof o=="string"&&o){var g=Jt(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),db.has(g)||(db.add(g),i={rel:i,crossOrigin:l,href:o},c.querySelector(g)===null&&(o=c.createElement("link"),In(o,"link",i),Ut(o),c.head.appendChild(o)))}}function R2(i){ns.D(i),pb("dns-prefetch",i,null)}function I2(i,o){ns.C(i,o),pb("preconnect",i,o)}function N2(i,o,l){ns.L(i,o,l);var c=hl;if(c&&i&&o){var g='link[rel="preload"][as="'+Jt(o)+'"]';o==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Jt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Jt(l.imageSizes)+'"]')):g+='[href="'+Jt(i)+'"]';var y=g;switch(o){case"style":y=dl(i);break;case"script":y=pl(i)}Lr.has(y)||(i=m({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:i,as:o},l),Lr.set(y,i),c.querySelector(g)!==null||o==="style"&&c.querySelector(ic(y))||o==="script"&&c.querySelector(sc(y))||(o=c.createElement("link"),In(o,"link",i),Ut(o),c.head.appendChild(o)))}}function k2(i,o){ns.m(i,o);var l=hl;if(l&&i){var c=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Jt(c)+'"][href="'+Jt(i)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=pl(i)}if(!Lr.has(y)&&(i=m({rel:"modulepreload",href:i},o),Lr.set(y,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(sc(y)))return}c=l.createElement("link"),In(c,"link",i),Ut(c),l.head.appendChild(c)}}}function D2(i,o,l){ns.S(i,o,l);var c=hl;if(c&&i){var g=An(c).hoistableStyles,y=dl(i);o=o||"default";var S=g.get(y);if(!S){var P={loading:0,preload:null};if(S=c.querySelector(ic(y)))P.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},l),(l=Lr.get(y))&&xg(i,l);var Y=S=c.createElement("link");Ut(Y),In(Y,"link",i),Y._p=new Promise(function(oe,de){Y.onload=oe,Y.onerror=de}),Y.addEventListener("load",function(){P.loading|=1}),Y.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Dh(S,o,c)}S={type:"stylesheet",instance:S,count:1,state:P},g.set(y,S)}}}function O2(i,o){ns.X(i,o);var l=hl;if(l&&i){var c=An(l).hoistableScripts,g=pl(i),y=c.get(g);y||(y=l.querySelector(sc(g)),y||(i=m({src:i,async:!0},o),(o=Lr.get(g))&&Cg(i,o),y=l.createElement("script"),Ut(y),In(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function M2(i,o){ns.M(i,o);var l=hl;if(l&&i){var c=An(l).hoistableScripts,g=pl(i),y=c.get(g);y||(y=l.querySelector(sc(g)),y||(i=m({src:i,async:!0,type:"module"},o),(o=Lr.get(g))&&Cg(i,o),y=l.createElement("script"),Ut(y),In(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function mb(i,o,l,c){var g=(g=_e.current)?kh(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=dl(l.href),l=An(g).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=dl(l.href);var y=An(g).hoistableStyles,S=y.get(i);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,S),(y=g.querySelector(ic(i)))&&!y._p&&(S.instance=y,S.state.loading=5),Lr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Lr.set(i,l),y||P2(g,i,l,S.state))),o&&c===null)throw Error(r(528,""));return S}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=pl(l),l=An(g).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function dl(i){return'href="'+Jt(i)+'"'}function ic(i){return'link[rel="stylesheet"]['+i+"]"}function gb(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function P2(i,o,l,c){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=i.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),In(o,"link",l),Ut(o),i.head.appendChild(o))}function pl(i){return'[src="'+Jt(i)+'"]'}function sc(i){return"script[async]"+i}function yb(i,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=i.querySelector('style[data-href~="'+Jt(l.href)+'"]');if(c)return o.instance=c,Ut(c),c;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ut(c),In(c,"style",g),Dh(c,l.precedence,i),o.instance=c;case"stylesheet":g=dl(l.href);var y=i.querySelector(ic(g));if(y)return o.state.loading|=4,o.instance=y,Ut(y),y;c=gb(l),(g=Lr.get(g))&&xg(c,g),y=(i.ownerDocument||i).createElement("link"),Ut(y);var S=y;return S._p=new Promise(function(P,Y){S.onload=P,S.onerror=Y}),In(y,"link",c),o.state.loading|=4,Dh(y,l.precedence,i),o.instance=y;case"script":return y=pl(l.src),(g=i.querySelector(sc(y)))?(o.instance=g,Ut(g),g):(c=l,(g=Lr.get(y))&&(c=m({},l),Cg(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ut(g),In(g,"link",c),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,Dh(c,l.precedence,i));return o.instance}function Dh(i,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,S=0;S<c.length;S++){var P=c[S];if(P.dataset.precedence===o)y=P;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(i,o.firstChild))}function xg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Cg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Oh=null;function _b(i,o,l){if(Oh===null){var c=new Map,g=Oh=new Map;g.set(l,c)}else g=Oh,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[Pi]||y[Kt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var S=y.getAttribute(o)||"";S=i+S;var P=c.get(S);P?P.push(y):c.set(S,[y])}}return c}function vb(i,o,l){i=i.ownerDocument||i,i.head.insertBefore(l,o==="title"?i.querySelector("head > title"):null)}function V2(i,o,l){if(l===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Eb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var oc=null;function L2(){}function U2(i,o,l){if(oc===null)throw Error(r(475));var c=oc;if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=dl(l.href),y=i.querySelector(ic(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Mh.bind(c),i.then(c,c)),o.state.loading|=4,o.instance=y,Ut(y);return}y=i.ownerDocument||i,l=gb(l),(g=Lr.get(g))&&xg(l,g),y=y.createElement("link"),Ut(y);var S=y;S._p=new Promise(function(P,Y){S.onload=P,S.onerror=Y}),In(y,"link",l),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(c.count++,o=Mh.bind(c),i.addEventListener("load",o),i.addEventListener("error",o))}}function z2(){if(oc===null)throw Error(r(475));var i=oc;return i.stylesheets&&i.count===0&&Rg(i,i.stylesheets),0<i.count?function(o){var l=setTimeout(function(){if(i.stylesheets&&Rg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Mh(){if(this.count--,this.count===0){if(this.stylesheets)Rg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ph=null;function Rg(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ph=new Map,o.forEach(B2,i),Ph=null,Mh.call(i))}function B2(i,o){if(!(o.state.loading&4)){var l=Ph.get(i);if(l)var c=l.get(null);else{l=new Map,Ph.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var S=g[y];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),c=S)}c&&l.set(null,c)}g=o.instance,S=g.getAttribute("data-precedence"),y=l.get(S)||c,y===c&&l.set(null,g),l.set(S,g),this.count++,c=Mh.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var ac={$$typeof:$,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function F2(i,o,l,c,g,y,S,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function wb(i,o,l,c,g,y,S,P,Y,oe,de,me){return i=new F2(i,o,l,S,P,Y,oe,me),o=1,y===!0&&(o|=24),y=lr(3,null,null,o),i.current=y,y.stateNode=i,o=um(),o.refCount++,i.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:o},dm(y),i}function bb(i){return i?(i=$a,i):$a}function Tb(i,o,l,c,g,y){g=bb(g),c.context===null?c.context=g:c.pendingContext=g,c=xs(o),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Cs(i,c,o),l!==null&&(dr(l,i,o),Lu(l,i,o))}function Sb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Ig(i,o){Sb(i,o),(i=i.alternate)&&Sb(i,o)}function Ab(i){if(i.tag===13){var o=qa(i,67108864);o!==null&&dr(o,i,67108864),Ig(i,67108864)}}var Vh=!0;function H2(i,o,l,c){var g=U.T;U.T=null;var y=K.p;try{K.p=2,Ng(i,o,l,c)}finally{K.p=y,U.T=g}}function j2(i,o,l,c){var g=U.T;U.T=null;var y=K.p;try{K.p=8,Ng(i,o,l,c)}finally{K.p=y,U.T=g}}function Ng(i,o,l,c){if(Vh){var g=kg(c);if(g===null)yg(i,o,c,Lh,l),Cb(i,c);else if($2(g,i,o,l,c))c.stopPropagation();else if(Cb(i,c),o&4&&-1<q2.indexOf(i)){for(;g!==null;){var y=Sr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var S=Vt(y.pendingLanes);if(S!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;S;){var Y=1<<31-Ie(S);P.entanglements[1]|=Y,S&=~Y}wi(y),(yt&6)===0&&(Eh=Le()+500,ec(0))}}break;case 13:P=qa(y,2),P!==null&&dr(P,y,2),bh(),Ig(y,2)}if(y=kg(c),y===null&&yg(i,o,c,Lh,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else yg(i,o,c,null,l)}}function kg(i){return i=Rr(i),Dg(i)}var Lh=null;function Dg(i){if(Lh=null,i=Tr(i),i!==null){var o=a(i);if(o===null)i=null;else{var l=o.tag;if(l===13){if(i=u(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lh=i,null}function xb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case At:return 2;case Gt:return 8;case Tn:case Gn:return 32;case Sn:return 268435456;default:return 32}default:return 32}}var Og=!1,Bs=null,Fs=null,Hs=null,lc=new Map,uc=new Map,js=[],q2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cb(i,o){switch(i){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":lc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(o.pointerId)}}function cc(i,o,l,c,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},o!==null&&(o=Sr(o),o!==null&&Ab(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function $2(i,o,l,c,g){switch(o){case"focusin":return Bs=cc(Bs,i,o,l,c,g),!0;case"dragenter":return Fs=cc(Fs,i,o,l,c,g),!0;case"mouseover":return Hs=cc(Hs,i,o,l,c,g),!0;case"pointerover":var y=g.pointerId;return lc.set(y,cc(lc.get(y)||null,i,o,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,uc.set(y,cc(uc.get(y)||null,i,o,l,c,g)),!0}return!1}function Rb(i){var o=Tr(i.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){i.blockedOn=o,Aa(i.priority,function(){if(l.tag===13){var c=hr();c=ri(c);var g=qa(l,c);g!==null&&dr(g,l,c),Ig(l,c)}});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=kg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Ui=c,l.target.dispatchEvent(c),Ui=null}else return o=Sr(l),o!==null&&Ab(o),i.blockedOn=l,!1;o.shift()}return!0}function Ib(i,o,l){Uh(i)&&l.delete(o)}function G2(){Og=!1,Bs!==null&&Uh(Bs)&&(Bs=null),Fs!==null&&Uh(Fs)&&(Fs=null),Hs!==null&&Uh(Hs)&&(Hs=null),lc.forEach(Ib),uc.forEach(Ib)}function zh(i,o){i.blockedOn===o&&(i.blockedOn=null,Og||(Og=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,G2)))}var Bh=null;function Nb(i){Bh!==i&&(Bh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bh===i&&(Bh=null);for(var o=0;o<i.length;o+=3){var l=i[o],c=i[o+1],g=i[o+2];if(typeof c!="function"){if(Dg(c||l)===null)continue;break}var y=Sr(l);y!==null&&(i.splice(o,3),o-=3,Dm(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function fc(i){function o(Y){return zh(Y,i)}Bs!==null&&zh(Bs,i),Fs!==null&&zh(Fs,i),Hs!==null&&zh(Hs,i),lc.forEach(o),uc.forEach(o);for(var l=0;l<js.length;l++){var c=js[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<js.length&&(l=js[0],l.blockedOn===null);)Rb(l),l.blockedOn===null&&js.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],S=g[Ht]||null;if(typeof y=="function")S||Nb(l);else if(S){var P=null;if(y&&y.hasAttribute("formAction")){if(g=y,S=y[Ht]||null)P=S.formAction;else if(Dg(g)!==null)continue}else P=S.action;typeof P=="function"?l[c+1]=P:(l.splice(c,3),c-=3),Nb(l)}}}function Mg(i){this._internalRoot=i}Fh.prototype.render=Mg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var l=o.current,c=hr();Tb(l,c,i,o,null,null)},Fh.prototype.unmount=Mg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Tb(i.current,2,null,i,null,null),bh(),o[Yn]=null}};function Fh(i){this._internalRoot=i}Fh.prototype.unstable_scheduleHydration=function(i){if(i){var o=ii();i={blockedOn:null,target:i,priority:o};for(var l=0;l<js.length&&o!==0&&o<js[l].priority;l++);js.splice(l,0,i),l===0&&Rb(i)}};var kb=e.version;if(kb!=="19.1.0")throw Error(r(527,kb,"19.1.0"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var Y2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{ee=Hh.inject(Y2),he=Hh}catch{}}return dc.createRoot=function(i,o){if(!s(i))throw Error(r(299));var l=!1,c="",g=YE,y=KE,S=XE,P=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks)),o=wb(i,1,!1,null,null,l,c,g,y,S,P,null),i[Yn]=o.current,gg(i),new Mg(o)},dc.hydrateRoot=function(i,o,l){if(!s(i))throw Error(r(299));var c=!1,g="",y=YE,S=KE,P=XE,Y=null,oe=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Y=l.unstable_transitionCallbacks),l.formState!==void 0&&(oe=l.formState)),o=wb(i,1,!0,o,l??null,c,g,y,S,P,Y,oe),o.context=bb(null),l=o.current,c=hr(),c=ri(c),g=xs(c),g.callback=null,Cs(l,g,c),l=c,o.current.lanes=l,wr(o,l),wi(o),i[Yn]=o.current,gg(i),new Fh(o)},dc.version="19.1.0",dc}var Fb;function nk(){if(Fb)return Lg.exports;Fb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lg.exports=tk(),Lg.exports}var rk=nk();function On(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=On(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Fg={exports:{}},Hg={},jg={exports:{}},qg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb;function ik(){if(Hb)return qg;Hb=1;var t=lf();function e(_,v){return _===v&&(_!==0||1/_===1/v)||_!==_&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function f(_,v){var E=v(),A=r({inst:{value:E,getSnapshot:v}}),R=A[0].inst,O=A[1];return a(function(){R.value=E,R.getSnapshot=v,h(R)&&O({inst:R})},[_,E,v]),s(function(){return h(R)&&O({inst:R}),_(function(){h(R)&&O({inst:R})})},[_]),u(E),E}function h(_){var v=_.getSnapshot;_=_.value;try{var E=v();return!n(_,E)}catch{return!0}}function d(_,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:f;return qg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,qg}var jb;function sk(){return jb||(jb=1,jg.exports=ik()),jg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function ok(){if(qb)return Hg;qb=1;var t=lf(),e=sk();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,a=t.useRef,u=t.useEffect,f=t.useMemo,h=t.useDebugValue;return Hg.useSyncExternalStoreWithSelector=function(d,m,_,v,E){var A=a(null);if(A.current===null){var R={hasValue:!1,value:null};A.current=R}else R=A.current;A=f(function(){function M(j){if(!q){if(q=!0,$=j,j=v(j),E!==void 0&&R.hasValue){var V=R.value;if(E(V,j))return H=V}return H=j}if(V=H,r($,j))return V;var I=v(j);return E!==void 0&&E(V,I)?($=j,V):($=j,H=I)}var q=!1,$,H,Q=_===void 0?null:_;return[function(){return M(m())},Q===null?void 0:function(){return M(Q())}]},[m,_,v,E]);var O=s(d,A[0],A[1]);return u(function(){R.hasValue=!0,R.value=O},[O]),h(O),O},Hg}var $b;function ak(){return $b||($b=1,Fg.exports=ok()),Fg.exports}var lk=ak();const uk=va(lk),ck={},Gb=t=>{let e;const n=new Set,r=(m,_)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const E=e;e=_??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(A=>A(e,E))}},s=()=>e,h={setState:r,getState:s,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(ck?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,h);return h},fk=t=>t?Gb(t):Gb,{useDebugValue:hk}=fe,{useSyncExternalStoreWithSelector:dk}=uk,pk=t=>t;function dA(t,e=pk,n){const r=dk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return hk(r),r}const Yb=(t,e)=>{const n=fk(t),r=(s,a=e)=>dA(n,s,a);return Object.assign(r,n),r},mk=(t,e)=>t?Yb(t,e):Yb;function bn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var gk={value:()=>{}};function ip(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cd(n)}function cd(t){this._=t}function yk(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cd.prototype=ip.prototype={constructor:cd,on:function(t,e){var n=this._,r=yk(t+"",n),s,a=-1,u=r.length;if(arguments.length<2){for(;++a<u;)if((s=(t=r[a]).type)&&(s=_k(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(s=(t=r[a]).type)n[s]=Kb(n[s],t.name,e);else if(e==null)for(s in n)n[s]=Kb(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cd(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,a;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,n)}};function _k(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function Kb(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=gk,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Py="http://www.w3.org/1999/xhtml";const Xb={svg:"http://www.w3.org/2000/svg",xhtml:Py,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sp(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xb.hasOwnProperty(e)?{space:Xb[e],local:t}:t}function vk(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Py&&e.documentElement.namespaceURI===Py?e.createElement(t):e.createElementNS(n,t)}}function Ek(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pA(t){var e=sp(t);return(e.local?Ek:vk)(e)}function wk(){}function F_(t){return t==null?wk:function(){return this.querySelector(t)}}function bk(t){typeof t!="function"&&(t=F_(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=new Array(u),h,d,m=0;m<u;++m)(h=a[m])&&(d=t.call(h,h.__data__,m,a))&&("__data__"in h&&(d.__data__=h.__data__),f[m]=d);return new vr(r,this._parents)}function Tk(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sk(){return[]}function mA(t){return t==null?Sk:function(){return this.querySelectorAll(t)}}function Ak(t){return function(){return Tk(t.apply(this,arguments))}}function xk(t){typeof t=="function"?t=Ak(t):t=mA(t);for(var e=this._groups,n=e.length,r=[],s=[],a=0;a<n;++a)for(var u=e[a],f=u.length,h,d=0;d<f;++d)(h=u[d])&&(r.push(t.call(h,h.__data__,d,u)),s.push(h));return new vr(r,s)}function gA(t){return function(){return this.matches(t)}}function yA(t){return function(e){return e.matches(t)}}var Ck=Array.prototype.find;function Rk(t){return function(){return Ck.call(this.children,t)}}function Ik(){return this.firstElementChild}function Nk(t){return this.select(t==null?Ik:Rk(typeof t=="function"?t:yA(t)))}var kk=Array.prototype.filter;function Dk(){return Array.from(this.children)}function Ok(t){return function(){return kk.call(this.children,t)}}function Mk(t){return this.selectAll(t==null?Dk:Ok(typeof t=="function"?t:yA(t)))}function Pk(t){typeof t!="function"&&(t=gA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&f.push(h);return new vr(r,this._parents)}function _A(t){return new Array(t.length)}function Vk(){return new vr(this._enter||this._groups.map(_A),this._parents)}function Ad(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ad.prototype={constructor:Ad,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Lk(t){return function(){return t}}function Uk(t,e,n,r,s,a){for(var u=0,f,h=e.length,d=a.length;u<d;++u)(f=e[u])?(f.__data__=a[u],r[u]=f):n[u]=new Ad(t,a[u]);for(;u<h;++u)(f=e[u])&&(s[u]=f)}function zk(t,e,n,r,s,a,u){var f,h,d=new Map,m=e.length,_=a.length,v=new Array(m),E;for(f=0;f<m;++f)(h=e[f])&&(v[f]=E=u.call(h,h.__data__,f,e)+"",d.has(E)?s[f]=h:d.set(E,h));for(f=0;f<_;++f)E=u.call(t,a[f],f,a)+"",(h=d.get(E))?(r[f]=h,h.__data__=a[f],d.delete(E)):n[f]=new Ad(t,a[f]);for(f=0;f<m;++f)(h=e[f])&&d.get(v[f])===h&&(s[f]=h)}function Bk(t){return t.__data__}function Fk(t,e){if(!arguments.length)return Array.from(this,Bk);var n=e?zk:Uk,r=this._parents,s=this._groups;typeof t!="function"&&(t=Lk(t));for(var a=s.length,u=new Array(a),f=new Array(a),h=new Array(a),d=0;d<a;++d){var m=r[d],_=s[d],v=_.length,E=Hk(t.call(m,m&&m.__data__,d,r)),A=E.length,R=f[d]=new Array(A),O=u[d]=new Array(A),M=h[d]=new Array(v);n(m,_,R,O,M,E,e);for(var q=0,$=0,H,Q;q<A;++q)if(H=R[q]){for(q>=$&&($=q+1);!(Q=O[$])&&++$<A;);H._next=Q||null}}return u=new vr(u,r),u._enter=f,u._exit=h,u}function Hk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jk(){return new vr(this._exit||this._groups.map(_A),this._parents)}function qk(t,e,n){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?a.remove():n(a),r&&s?r.merge(s).order():s}function $k(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,a=r.length,u=Math.min(s,a),f=new Array(s),h=0;h<u;++h)for(var d=n[h],m=r[h],_=d.length,v=f[h]=new Array(_),E,A=0;A<_;++A)(E=d[A]||m[A])&&(v[A]=E);for(;h<s;++h)f[h]=n[h];return new vr(f,this._parents)}function Gk(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,a=r[s],u;--s>=0;)(u=r[s])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function Yk(t){t||(t=Kk);function e(_,v){return _&&v?t(_.__data__,v.__data__):!_-!v}for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a){for(var u=n[a],f=u.length,h=s[a]=new Array(f),d,m=0;m<f;++m)(d=u[m])&&(h[m]=d);h.sort(e)}return new vr(s,this._parents).order()}function Kk(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xk(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Qk(){return Array.from(this)}function Wk(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var u=r[s];if(u)return u}return null}function Zk(){let t=0;for(const e of this)++t;return t}function Jk(){return!this.node()}function eD(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,u=s.length,f;a<u;++a)(f=s[a])&&t.call(f,f.__data__,a,s);return this}function tD(t){return function(){this.removeAttribute(t)}}function nD(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rD(t,e){return function(){this.setAttribute(t,e)}}function iD(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function sD(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function oD(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function aD(t,e){var n=sp(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?nD:tD:typeof e=="function"?n.local?oD:sD:n.local?iD:rD)(n,e))}function vA(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function lD(t){return function(){this.style.removeProperty(t)}}function uD(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cD(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function fD(t,e,n){return arguments.length>1?this.each((e==null?lD:typeof e=="function"?cD:uD)(t,e,n??"")):ql(this.node(),t)}function ql(t,e){return t.style.getPropertyValue(e)||vA(t).getComputedStyle(t,null).getPropertyValue(e)}function hD(t){return function(){delete this[t]}}function dD(t,e){return function(){this[t]=e}}function pD(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function mD(t,e){return arguments.length>1?this.each((e==null?hD:typeof e=="function"?pD:dD)(t,e)):this.node()[t]}function EA(t){return t.trim().split(/^|\s+/)}function H_(t){return t.classList||new wA(t)}function wA(t){this._node=t,this._names=EA(t.getAttribute("class")||"")}wA.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bA(t,e){for(var n=H_(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function TA(t,e){for(var n=H_(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function gD(t){return function(){bA(this,t)}}function yD(t){return function(){TA(this,t)}}function _D(t,e){return function(){(e.apply(this,arguments)?bA:TA)(this,t)}}function vD(t,e){var n=EA(t+"");if(arguments.length<2){for(var r=H_(this.node()),s=-1,a=n.length;++s<a;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?_D:e?gD:yD)(n,e))}function ED(){this.textContent=""}function wD(t){return function(){this.textContent=t}}function bD(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function TD(t){return arguments.length?this.each(t==null?ED:(typeof t=="function"?bD:wD)(t)):this.node().textContent}function SD(){this.innerHTML=""}function AD(t){return function(){this.innerHTML=t}}function xD(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function CD(t){return arguments.length?this.each(t==null?SD:(typeof t=="function"?xD:AD)(t)):this.node().innerHTML}function RD(){this.nextSibling&&this.parentNode.appendChild(this)}function ID(){return this.each(RD)}function ND(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kD(){return this.each(ND)}function DD(t){var e=typeof t=="function"?t:pA(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function OD(){return null}function MD(t,e){var n=typeof t=="function"?t:pA(t),r=e==null?OD:typeof e=="function"?e:F_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function PD(){var t=this.parentNode;t&&t.removeChild(this)}function VD(){return this.each(PD)}function LD(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function UD(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zD(t){return this.select(t?UD:LD)}function BD(t){return arguments.length?this.property("__data__",t):this.node().__data__}function FD(t){return function(e){t.call(this,e,this.__data__)}}function HD(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function jD(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,a;n<s;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function qD(t,e,n){return function(){var r=this.__on,s,a=FD(e);if(r){for(var u=0,f=r.length;u<f;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=n),s.value=e;return}}this.addEventListener(t.type,a,n),s={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(s):this.__on=[s]}}function $D(t,e,n){var r=HD(t+""),s,a=r.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var h=0,d=f.length,m;h<d;++h)for(s=0,m=f[h];s<a;++s)if((u=r[s]).type===m.type&&u.name===m.name)return m.value}return}for(f=e?qD:jD,s=0;s<a;++s)this.each(f(r[s],e,n));return this}function SA(t,e,n){var r=vA(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function GD(t,e){return function(){return SA(this,t,e)}}function YD(t,e){return function(){return SA(this,t,e.apply(this,arguments))}}function KD(t,e){return this.each((typeof e=="function"?YD:GD)(t,e))}function*XD(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,a=r.length,u;s<a;++s)(u=r[s])&&(yield u)}var AA=[null];function vr(t,e){this._groups=t,this._parents=e}function uf(){return new vr([[document.documentElement]],AA)}function QD(){return this}vr.prototype=uf.prototype={constructor:vr,select:bk,selectAll:xk,selectChild:Nk,selectChildren:Mk,filter:Pk,data:Fk,enter:Vk,exit:jk,join:qk,merge:$k,selection:QD,order:Gk,sort:Yk,call:Xk,nodes:Qk,node:Wk,size:Zk,empty:Jk,each:eD,attr:aD,style:fD,property:mD,classed:vD,text:TD,html:CD,raise:ID,lower:kD,append:DD,insert:MD,remove:VD,clone:zD,datum:BD,on:$D,dispatch:KD,[Symbol.iterator]:XD};function zr(t){return typeof t=="string"?new vr([[document.querySelector(t)]],[document.documentElement]):new vr([[t]],AA)}function WD(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Qr(t,e){if(t=WD(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const ZD={passive:!1},Fc={capture:!0,passive:!1};function $g(t){t.stopImmediatePropagation()}function Ol(t){t.preventDefault(),t.stopImmediatePropagation()}function xA(t){var e=t.document.documentElement,n=zr(t).on("dragstart.drag",Ol,Fc);"onselectstart"in e?n.on("selectstart.drag",Ol,Fc):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function CA(t,e){var n=t.document.documentElement,r=zr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ol,Fc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const jh=t=>()=>t;function Vy(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:a,x:u,y:f,dx:h,dy:d,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:h,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:m}})}Vy.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function JD(t){return!t.ctrlKey&&!t.button}function eO(){return this.parentNode}function tO(t,e){return e??{x:t.x,y:t.y}}function nO(){return navigator.maxTouchPoints||"ontouchstart"in this}function rO(){var t=JD,e=eO,n=tO,r=nO,s={},a=ip("start","drag","end"),u=0,f,h,d,m,_=0;function v(H){H.on("mousedown.drag",E).filter(r).on("touchstart.drag",O).on("touchmove.drag",M,ZD).on("touchend.drag touchcancel.drag",q).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(H,Q){if(!(m||!t.call(this,H,Q))){var j=$(this,e.call(this,H,Q),H,Q,"mouse");j&&(zr(H.view).on("mousemove.drag",A,Fc).on("mouseup.drag",R,Fc),xA(H.view),$g(H),d=!1,f=H.clientX,h=H.clientY,j("start",H))}}function A(H){if(Ol(H),!d){var Q=H.clientX-f,j=H.clientY-h;d=Q*Q+j*j>_}s.mouse("drag",H)}function R(H){zr(H.view).on("mousemove.drag mouseup.drag",null),CA(H.view,d),Ol(H),s.mouse("end",H)}function O(H,Q){if(t.call(this,H,Q)){var j=H.changedTouches,V=e.call(this,H,Q),I=j.length,C,F;for(C=0;C<I;++C)(F=$(this,V,H,Q,j[C].identifier,j[C]))&&($g(H),F("start",H,j[C]))}}function M(H){var Q=H.changedTouches,j=Q.length,V,I;for(V=0;V<j;++V)(I=s[Q[V].identifier])&&(Ol(H),I("drag",H,Q[V]))}function q(H){var Q=H.changedTouches,j=Q.length,V,I;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),V=0;V<j;++V)(I=s[Q[V].identifier])&&($g(H),I("end",H,Q[V]))}function $(H,Q,j,V,I,C){var F=a.copy(),D=Qr(C||j,Q),z,x,k;if((k=n.call(H,new Vy("beforestart",{sourceEvent:j,target:v,identifier:I,active:u,x:D[0],y:D[1],dx:0,dy:0,dispatch:F}),V))!=null)return z=k.x-D[0]||0,x=k.y-D[1]||0,function G(U,K,J){var Z=D,b;switch(U){case"start":s[I]=G,b=u++;break;case"end":delete s[I],--u;case"drag":D=Qr(J||K,Q),b=u;break}F.call(U,H,new Vy(U,{sourceEvent:K,subject:k,target:v,identifier:I,active:b,x:D[0]+z,y:D[1]+x,dx:D[0]-Z[0],dy:D[1]-Z[1],dispatch:F}),V)}}return v.filter=function(H){return arguments.length?(t=typeof H=="function"?H:jh(!!H),v):t},v.container=function(H){return arguments.length?(e=typeof H=="function"?H:jh(H),v):e},v.subject=function(H){return arguments.length?(n=typeof H=="function"?H:jh(H),v):n},v.touchable=function(H){return arguments.length?(r=typeof H=="function"?H:jh(!!H),v):r},v.on=function(){var H=a.on.apply(a,arguments);return H===a?v:H},v.clickDistance=function(H){return arguments.length?(_=(H=+H)*H,v):Math.sqrt(_)},v}function j_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RA(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cf(){}var Hc=.7,xd=1/Hc,Ml="\\s*([+-]?\\d+)\\s*",jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iO=/^#([0-9a-f]{3,8})$/,sO=new RegExp(`^rgb\\(${Ml},${Ml},${Ml}\\)$`),oO=new RegExp(`^rgb\\(${xi},${xi},${xi}\\)$`),aO=new RegExp(`^rgba\\(${Ml},${Ml},${Ml},${jc}\\)$`),lO=new RegExp(`^rgba\\(${xi},${xi},${xi},${jc}\\)$`),uO=new RegExp(`^hsl\\(${jc},${xi},${xi}\\)$`),cO=new RegExp(`^hsla\\(${jc},${xi},${xi},${jc}\\)$`),Qb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j_(cf,qc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Wb,formatHex:Wb,formatHex8:fO,formatHsl:hO,formatRgb:Zb,toString:Zb});function Wb(){return this.rgb().formatHex()}function fO(){return this.rgb().formatHex8()}function hO(){return IA(this).formatHsl()}function Zb(){return this.rgb().formatRgb()}function qc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iO.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Jb(e):n===3?new er(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sO.exec(t))?new er(e[1],e[2],e[3],1):(e=oO.exec(t))?new er(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=aO.exec(t))?qh(e[1],e[2],e[3],e[4]):(e=lO.exec(t))?qh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uO.exec(t))?nT(e[1],e[2]/100,e[3]/100,1):(e=cO.exec(t))?nT(e[1],e[2]/100,e[3]/100,e[4]):Qb.hasOwnProperty(t)?Jb(Qb[t]):t==="transparent"?new er(NaN,NaN,NaN,0):null}function Jb(t){return new er(t>>16&255,t>>8&255,t&255,1)}function qh(t,e,n,r){return r<=0&&(t=e=n=NaN),new er(t,e,n,r)}function dO(t){return t instanceof cf||(t=qc(t)),t?(t=t.rgb(),new er(t.r,t.g,t.b,t.opacity)):new er}function Ly(t,e,n,r){return arguments.length===1?dO(t):new er(t,e,n,r??1)}function er(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}j_(er,Ly,RA(cf,{brighter(t){return t=t==null?xd:Math.pow(xd,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new er(aa(this.r),aa(this.g),aa(this.b),Cd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eT,formatHex:eT,formatHex8:pO,formatRgb:tT,toString:tT}));function eT(){return`#${ia(this.r)}${ia(this.g)}${ia(this.b)}`}function pO(){return`#${ia(this.r)}${ia(this.g)}${ia(this.b)}${ia((isNaN(this.opacity)?1:this.opacity)*255)}`}function tT(){const t=Cd(this.opacity);return`${t===1?"rgb(":"rgba("}${aa(this.r)}, ${aa(this.g)}, ${aa(this.b)}${t===1?")":`, ${t})`}`}function Cd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function aa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ia(t){return t=aa(t),(t<16?"0":"")+t.toString(16)}function nT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wr(t,e,n,r)}function IA(t){if(t instanceof Wr)return new Wr(t.h,t.s,t.l,t.opacity);if(t instanceof cf||(t=qc(t)),!t)return new Wr;if(t instanceof Wr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),a=Math.max(e,n,r),u=NaN,f=a-s,h=(a+s)/2;return f?(e===a?u=(n-r)/f+(n<r)*6:n===a?u=(r-e)/f+2:u=(e-n)/f+4,f/=h<.5?a+s:2-a-s,u*=60):f=h>0&&h<1?0:u,new Wr(u,f,h,t.opacity)}function mO(t,e,n,r){return arguments.length===1?IA(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}j_(Wr,mO,RA(cf,{brighter(t){return t=t==null?xd:Math.pow(xd,t),new Wr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new Wr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new er(Gg(t>=240?t-240:t+120,s,r),Gg(t,s,r),Gg(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Wr(rT(this.h),$h(this.s),$h(this.l),Cd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cd(this.opacity);return`${t===1?"hsl(":"hsla("}${rT(this.h)}, ${$h(this.s)*100}%, ${$h(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rT(t){return t=(t||0)%360,t<0?t+360:t}function $h(t){return Math.max(0,Math.min(1,t||0))}function Gg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const NA=t=>()=>t;function gO(t,e){return function(n){return t+n*e}}function yO(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _O(t){return(t=+t)==1?kA:function(e,n){return n-e?yO(e,n,t):NA(isNaN(e)?n:e)}}function kA(t,e){var n=e-t;return n?gO(t,n):NA(isNaN(t)?e:t)}const iT=function t(e){var n=_O(e);function r(s,a){var u=n((s=Ly(s)).r,(a=Ly(a)).r),f=n(s.g,a.g),h=n(s.b,a.b),d=kA(s.opacity,a.opacity);return function(m){return s.r=u(m),s.g=f(m),s.b=h(m),s.opacity=d(m),s+""}}return r.gamma=t,r}(1);function Ks(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Uy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yg=new RegExp(Uy.source,"g");function vO(t){return function(){return t}}function EO(t){return function(e){return t(e)+""}}function wO(t,e){var n=Uy.lastIndex=Yg.lastIndex=0,r,s,a,u=-1,f=[],h=[];for(t=t+"",e=e+"";(r=Uy.exec(t))&&(s=Yg.exec(e));)(a=s.index)>n&&(a=e.slice(n,a),f[u]?f[u]+=a:f[++u]=a),(r=r[0])===(s=s[0])?f[u]?f[u]+=s:f[++u]=s:(f[++u]=null,h.push({i:u,x:Ks(r,s)})),n=Yg.lastIndex;return n<e.length&&(a=e.slice(n),f[u]?f[u]+=a:f[++u]=a),f.length<2?h[0]?EO(h[0].x):vO(e):(e=h.length,function(d){for(var m=0,_;m<e;++m)f[(_=h[m]).i]=_.x(d);return f.join("")})}var sT=180/Math.PI,zy={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function DA(t,e,n,r,s,a){var u,f,h;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(h=t*n+e*r)&&(n-=t*h,r-=e*h),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,h/=f),t*r<e*n&&(t=-t,e=-e,h=-h,u=-u),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*sT,skewX:Math.atan(h)*sT,scaleX:u,scaleY:f}}var Gh;function bO(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zy:DA(e.a,e.b,e.c,e.d,e.e,e.f)}function TO(t){return t==null||(Gh||(Gh=document.createElementNS("http://www.w3.org/2000/svg","g")),Gh.setAttribute("transform",t),!(t=Gh.transform.baseVal.consolidate()))?zy:(t=t.matrix,DA(t.a,t.b,t.c,t.d,t.e,t.f))}function OA(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function a(d,m,_,v,E,A){if(d!==_||m!==v){var R=E.push("translate(",null,e,null,n);A.push({i:R-4,x:Ks(d,_)},{i:R-2,x:Ks(m,v)})}else(_||v)&&E.push("translate("+_+e+v+n)}function u(d,m,_,v){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),v.push({i:_.push(s(_)+"rotate(",null,r)-2,x:Ks(d,m)})):m&&_.push(s(_)+"rotate("+m+r)}function f(d,m,_,v){d!==m?v.push({i:_.push(s(_)+"skewX(",null,r)-2,x:Ks(d,m)}):m&&_.push(s(_)+"skewX("+m+r)}function h(d,m,_,v,E,A){if(d!==_||m!==v){var R=E.push(s(E)+"scale(",null,",",null,")");A.push({i:R-4,x:Ks(d,_)},{i:R-2,x:Ks(m,v)})}else(_!==1||v!==1)&&E.push(s(E)+"scale("+_+","+v+")")}return function(d,m){var _=[],v=[];return d=t(d),m=t(m),a(d.translateX,d.translateY,m.translateX,m.translateY,_,v),u(d.rotate,m.rotate,_,v),f(d.skewX,m.skewX,_,v),h(d.scaleX,d.scaleY,m.scaleX,m.scaleY,_,v),d=m=null,function(E){for(var A=-1,R=v.length,O;++A<R;)_[(O=v[A]).i]=O.x(E);return _.join("")}}}var SO=OA(bO,"px, ","px)","deg)"),AO=OA(TO,", ",")",")"),xO=1e-12;function oT(t){return((t=Math.exp(t))+1/t)/2}function CO(t){return((t=Math.exp(t))-1/t)/2}function RO(t){return((t=Math.exp(2*t))-1)/(t+1)}const IO=function t(e,n,r){function s(a,u){var f=a[0],h=a[1],d=a[2],m=u[0],_=u[1],v=u[2],E=m-f,A=_-h,R=E*E+A*A,O,M;if(R<xO)M=Math.log(v/d)/e,O=function(V){return[f+V*E,h+V*A,d*Math.exp(e*V*M)]};else{var q=Math.sqrt(R),$=(v*v-d*d+r*R)/(2*d*n*q),H=(v*v-d*d-r*R)/(2*v*n*q),Q=Math.log(Math.sqrt($*$+1)-$),j=Math.log(Math.sqrt(H*H+1)-H);M=(j-Q)/e,O=function(V){var I=V*M,C=oT(Q),F=d/(n*q)*(C*RO(e*I+Q)-CO(Q));return[f+F*E,h+F*A,d*C/oT(e*I+Q)]}}return O.duration=M*1e3*e/Math.SQRT2,O}return s.rho=function(a){var u=Math.max(.001,+a),f=u*u,h=f*f;return t(u,f,h)},s}(Math.SQRT2,2,4);var $l=0,Tc=0,pc=0,MA=1e3,Rd,Sc,Id=0,ca=0,op=0,$c=typeof performance=="object"&&performance.now?performance:Date,PA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function q_(){return ca||(PA(NO),ca=$c.now()+op)}function NO(){ca=0}function Nd(){this._call=this._time=this._next=null}Nd.prototype=VA.prototype={constructor:Nd,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?q_():+n)+(e==null?0:+e),!this._next&&Sc!==this&&(Sc?Sc._next=this:Rd=this,Sc=this),this._call=t,this._time=n,By()},stop:function(){this._call&&(this._call=null,this._time=1/0,By())}};function VA(t,e,n){var r=new Nd;return r.restart(t,e,n),r}function kO(){q_(),++$l;for(var t=Rd,e;t;)(e=ca-t._time)>=0&&t._call.call(void 0,e),t=t._next;--$l}function aT(){ca=(Id=$c.now())+op,$l=Tc=0;try{kO()}finally{$l=0,OO(),ca=0}}function DO(){var t=$c.now(),e=t-Id;e>MA&&(op-=e,Id=t)}function OO(){for(var t,e=Rd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Rd=n);Sc=t,By(r)}function By(t){if(!$l){Tc&&(Tc=clearTimeout(Tc));var e=t-ca;e>24?(t<1/0&&(Tc=setTimeout(aT,t-$c.now()-op)),pc&&(pc=clearInterval(pc))):(pc||(Id=$c.now(),pc=setInterval(DO,MA)),$l=1,PA(aT))}}function lT(t,e,n){var r=new Nd;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var MO=ip("start","end","cancel","interrupt"),PO=[],LA=0,uT=1,Fy=2,fd=3,cT=4,Hy=5,hd=6;function ap(t,e,n,r,s,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;VO(t,n,{name:e,index:r,group:s,on:MO,tween:PO,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:LA})}function $_(t,e){var n=ni(t,e);if(n.state>LA)throw new Error("too late; already scheduled");return n}function Oi(t,e){var n=ni(t,e);if(n.state>fd)throw new Error("too late; already running");return n}function ni(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function VO(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=VA(a,0,n.time);function a(d){n.state=uT,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var m,_,v,E;if(n.state!==uT)return h();for(m in r)if(E=r[m],E.name===n.name){if(E.state===fd)return lT(u);E.state===cT?(E.state=hd,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete r[m]):+m<e&&(E.state=hd,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete r[m])}if(lT(function(){n.state===fd&&(n.state=cT,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Fy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Fy){for(n.state=fd,s=new Array(v=n.tween.length),m=0,_=-1;m<v;++m)(E=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(s[++_]=E);s.length=_+1}}function f(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(h),n.state=Hy,1),_=-1,v=s.length;++_<v;)s[_].call(t,m);n.state===Hy&&(n.on.call("end",t,t.__data__,n.index,n.group),h())}function h(){n.state=hd,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function dd(t,e){var n=t.__transition,r,s,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){a=!1;continue}s=r.state>Fy&&r.state<Hy,r.state=hd,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}a&&delete t.__transition}}function LO(t){return this.each(function(){dd(this,t)})}function UO(t,e){var n,r;return function(){var s=Oi(this,t),a=s.tween;if(a!==n){r=n=a;for(var u=0,f=r.length;u<f;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function zO(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var a=Oi(this,t),u=a.tween;if(u!==r){s=(r=u).slice();for(var f={name:e,value:n},h=0,d=s.length;h<d;++h)if(s[h].name===e){s[h]=f;break}h===d&&s.push(f)}a.tween=s}}function BO(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ni(this.node(),n).tween,s=0,a=r.length,u;s<a;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?UO:zO)(n,t,e))}function G_(t,e,n){var r=t._id;return t.each(function(){var s=Oi(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return ni(s,r).value[e]}}function UA(t,e){var n;return(typeof e=="number"?Ks:e instanceof qc?iT:(n=qc(e))?(e=n,iT):wO)(t,e)}function FO(t){return function(){this.removeAttribute(t)}}function HO(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jO(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttribute(t);return u===s?null:u===r?a:a=e(r=u,n)}}function qO(t,e,n){var r,s=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?a:a=e(r=u,n)}}function $O(t,e,n){var r,s,a;return function(){var u,f=n(this),h;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),h=f+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f)))}}function GO(t,e,n){var r,s,a;return function(){var u,f=n(this),h;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),h=f+"",u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f)))}}function YO(t,e){var n=sp(t),r=n==="transform"?AO:UA;return this.attrTween(t,typeof e=="function"?(n.local?GO:$O)(n,r,G_(this,"attr."+t,e)):e==null?(n.local?HO:FO)(n):(n.local?qO:jO)(n,r,e))}function KO(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function XO(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function QO(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&XO(t,a)),n}return s._value=e,s}function WO(t,e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&KO(t,a)),n}return s._value=e,s}function ZO(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=sp(t);return this.tween(n,(r.local?QO:WO)(r,e))}function JO(t,e){return function(){$_(this,t).delay=+e.apply(this,arguments)}}function eM(t,e){return e=+e,function(){$_(this,t).delay=e}}function tM(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?JO:eM)(e,t)):ni(this.node(),e).delay}function nM(t,e){return function(){Oi(this,t).duration=+e.apply(this,arguments)}}function rM(t,e){return e=+e,function(){Oi(this,t).duration=e}}function iM(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nM:rM)(e,t)):ni(this.node(),e).duration}function sM(t,e){if(typeof e!="function")throw new Error;return function(){Oi(this,t).ease=e}}function oM(t){var e=this._id;return arguments.length?this.each(sM(e,t)):ni(this.node(),e).ease}function aM(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Oi(this,t).ease=n}}function lM(t){if(typeof t!="function")throw new Error;return this.each(aM(this._id,t))}function uM(t){typeof t!="function"&&(t=gA(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var a=e[s],u=a.length,f=r[s]=[],h,d=0;d<u;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&f.push(h);return new cs(r,this._parents,this._name,this._id)}function cM(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,a=Math.min(r,s),u=new Array(r),f=0;f<a;++f)for(var h=e[f],d=n[f],m=h.length,_=u[f]=new Array(m),v,E=0;E<m;++E)(v=h[E]||d[E])&&(_[E]=v);for(;f<r;++f)u[f]=e[f];return new cs(u,this._parents,this._name,this._id)}function fM(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hM(t,e,n){var r,s,a=fM(e)?$_:Oi;return function(){var u=a(this,t),f=u.on;f!==r&&(s=(r=f).copy()).on(e,n),u.on=s}}function dM(t,e){var n=this._id;return arguments.length<2?ni(this.node(),n).on.on(t):this.each(hM(n,t,e))}function pM(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function mM(){return this.on("end.remove",pM(this._id))}function gM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=F_(t));for(var r=this._groups,s=r.length,a=new Array(s),u=0;u<s;++u)for(var f=r[u],h=f.length,d=a[u]=new Array(h),m,_,v=0;v<h;++v)(m=f[v])&&(_=t.call(m,m.__data__,v,f))&&("__data__"in m&&(_.__data__=m.__data__),d[v]=_,ap(d[v],e,n,v,d,ni(m,n)));return new cs(a,this._parents,e,n)}function yM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mA(t));for(var r=this._groups,s=r.length,a=[],u=[],f=0;f<s;++f)for(var h=r[f],d=h.length,m,_=0;_<d;++_)if(m=h[_]){for(var v=t.call(m,m.__data__,_,h),E,A=ni(m,n),R=0,O=v.length;R<O;++R)(E=v[R])&&ap(E,e,n,R,v,A);a.push(v),u.push(m)}return new cs(a,u,e,n)}var _M=uf.prototype.constructor;function vM(){return new _M(this._groups,this._parents)}function EM(t,e){var n,r,s;return function(){var a=ql(this,t),u=(this.style.removeProperty(t),ql(this,t));return a===u?null:a===n&&u===r?s:s=e(n=a,r=u)}}function zA(t){return function(){this.style.removeProperty(t)}}function wM(t,e,n){var r,s=n+"",a;return function(){var u=ql(this,t);return u===s?null:u===r?a:a=e(r=u,n)}}function bM(t,e,n){var r,s,a;return function(){var u=ql(this,t),f=n(this),h=f+"";return f==null&&(h=f=(this.style.removeProperty(t),ql(this,t))),u===h?null:u===r&&h===s?a:(s=h,a=e(r=u,f))}}function TM(t,e){var n,r,s,a="style."+e,u="end."+a,f;return function(){var h=Oi(this,t),d=h.on,m=h.value[a]==null?f||(f=zA(e)):void 0;(d!==n||s!==m)&&(r=(n=d).copy()).on(u,s=m),h.on=r}}function SM(t,e,n){var r=(t+="")=="transform"?SO:UA;return e==null?this.styleTween(t,EM(t,r)).on("end.style."+t,zA(t)):typeof e=="function"?this.styleTween(t,bM(t,r,G_(this,"style."+t,e))).each(TM(this._id,t)):this.styleTween(t,wM(t,r,e),n).on("end.style."+t,null)}function AM(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function xM(t,e,n){var r,s;function a(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&AM(t,u,n)),r}return a._value=e,a}function CM(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,xM(t,e,n??""))}function RM(t){return function(){this.textContent=t}}function IM(t){return function(){var e=t(this);this.textContent=e??""}}function NM(t){return this.tween("text",typeof t=="function"?IM(G_(this,"text",t)):RM(t==null?"":t+""))}function kM(t){return function(e){this.textContent=t.call(this,e)}}function DM(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&kM(s)),e}return r._value=t,r}function OM(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,DM(t))}function MM(){for(var t=this._name,e=this._id,n=BA(),r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],f=u.length,h,d=0;d<f;++d)if(h=u[d]){var m=ni(h,e);ap(h,t,n,d,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new cs(r,this._parents,t,n)}function PM(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(a,u){var f={value:u},h={value:function(){--s===0&&a()}};n.each(function(){var d=Oi(this,r),m=d.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(h)),d.on=e}),s===0&&a()})}var VM=0;function cs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function BA(){return++VM}var rs=uf.prototype;cs.prototype={constructor:cs,select:gM,selectAll:yM,selectChild:rs.selectChild,selectChildren:rs.selectChildren,filter:uM,merge:cM,selection:vM,transition:MM,call:rs.call,nodes:rs.nodes,node:rs.node,size:rs.size,empty:rs.empty,each:rs.each,on:dM,attr:YO,attrTween:ZO,style:SM,styleTween:CM,text:NM,textTween:OM,remove:mM,tween:BO,delay:tM,duration:iM,ease:oM,easeVarying:lM,end:PM,[Symbol.iterator]:rs[Symbol.iterator]};function LM(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var UM={time:null,delay:0,duration:250,ease:LM};function zM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function BM(t){var e,n;t instanceof cs?(e=t._id,t=t._name):(e=BA(),(n=UM).time=q_(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var u=r[a],f=u.length,h,d=0;d<f;++d)(h=u[d])&&ap(h,t,e,d,u,n||zM(h,e));return new cs(r,this._parents,t,e)}uf.prototype.interrupt=LO;uf.prototype.transition=BM;const Yh=t=>()=>t;function FM(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function is(t,e,n){this.k=t,this.x=e,this.y=n}is.prototype={constructor:is,scale:function(t){return t===1?this:new is(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new is(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var as=new is(1,0,0);is.prototype;function Kg(t){t.stopImmediatePropagation()}function mc(t){t.preventDefault(),t.stopImmediatePropagation()}function HM(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function jM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function fT(){return this.__zoom||as}function qM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function $M(){return navigator.maxTouchPoints||"ontouchstart"in this}function GM(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function FA(){var t=HM,e=jM,n=GM,r=qM,s=$M,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,h=IO,d=ip("start","zoom","end"),m,_,v,E=500,A=150,R=0,O=10;function M(k){k.property("__zoom",fT).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",F).filter(s).on("touchstart.zoom",D).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",x).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(k,G,U,K){var J=k.selection?k.selection():k;J.property("__zoom",fT),k!==J?Q(k,G,U,K):J.interrupt().each(function(){j(this,arguments).event(K).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},M.scaleBy=function(k,G,U,K){M.scaleTo(k,function(){var J=this.__zoom.k,Z=typeof G=="function"?G.apply(this,arguments):G;return J*Z},U,K)},M.scaleTo=function(k,G,U,K){M.transform(k,function(){var J=e.apply(this,arguments),Z=this.__zoom,b=U==null?H(J):typeof U=="function"?U.apply(this,arguments):U,X=Z.invert(b),re=typeof G=="function"?G.apply(this,arguments):G;return n($(q(Z,re),b,X),J,u)},U,K)},M.translateBy=function(k,G,U,K){M.transform(k,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),u)},null,K)},M.translateTo=function(k,G,U,K,J){M.transform(k,function(){var Z=e.apply(this,arguments),b=this.__zoom,X=K==null?H(Z):typeof K=="function"?K.apply(this,arguments):K;return n(as.translate(X[0],X[1]).scale(b.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof U=="function"?-U.apply(this,arguments):-U),Z,u)},K,J)};function q(k,G){return G=Math.max(a[0],Math.min(a[1],G)),G===k.k?k:new is(G,k.x,k.y)}function $(k,G,U){var K=G[0]-U[0]*k.k,J=G[1]-U[1]*k.k;return K===k.x&&J===k.y?k:new is(k.k,K,J)}function H(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function Q(k,G,U,K){k.on("start.zoom",function(){j(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(K).end()}).tween("zoom",function(){var J=this,Z=arguments,b=j(J,Z).event(K),X=e.apply(J,Z),re=U==null?H(X):typeof U=="function"?U.apply(J,Z):U,N=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ue=J.__zoom,ve=typeof G=="function"?G.apply(J,Z):G,_e=h(ue.invert(re).concat(N/ue.k),ve.invert(re).concat(N/ve.k));return function(Ce){if(Ce===1)Ce=ve;else{var be=_e(Ce),De=N/be[2];Ce=new is(De,re[0]-be[0]*De,re[1]-be[1]*De)}b.zoom(null,Ce)}})}function j(k,G,U){return!U&&k.__zooming||new V(k,G)}function V(k,G){this.that=k,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(k,G),this.taps=0}V.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,G){return this.mouse&&k!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var G=zr(this.that).datum();d.call(k,this.that,new FM(k,{sourceEvent:this.sourceEvent,target:M,transform:this.that.__zoom,dispatch:d}),G)}};function I(k,...G){if(!t.apply(this,arguments))return;var U=j(this,G).event(k),K=this.__zoom,J=Math.max(a[0],Math.min(a[1],K.k*Math.pow(2,r.apply(this,arguments)))),Z=Qr(k);if(U.wheel)(U.mouse[0][0]!==Z[0]||U.mouse[0][1]!==Z[1])&&(U.mouse[1]=K.invert(U.mouse[0]=Z)),clearTimeout(U.wheel);else{if(K.k===J)return;U.mouse=[Z,K.invert(Z)],dd(this),U.start()}mc(k),U.wheel=setTimeout(b,A),U.zoom("mouse",n($(q(K,J),U.mouse[0],U.mouse[1]),U.extent,u));function b(){U.wheel=null,U.end()}}function C(k,...G){if(v||!t.apply(this,arguments))return;var U=k.currentTarget,K=j(this,G,!0).event(k),J=zr(k.view).on("mousemove.zoom",re,!0).on("mouseup.zoom",N,!0),Z=Qr(k,U),b=k.clientX,X=k.clientY;xA(k.view),Kg(k),K.mouse=[Z,this.__zoom.invert(Z)],dd(this),K.start();function re(ue){if(mc(ue),!K.moved){var ve=ue.clientX-b,_e=ue.clientY-X;K.moved=ve*ve+_e*_e>R}K.event(ue).zoom("mouse",n($(K.that.__zoom,K.mouse[0]=Qr(ue,U),K.mouse[1]),K.extent,u))}function N(ue){J.on("mousemove.zoom mouseup.zoom",null),CA(ue.view,K.moved),mc(ue),K.event(ue).end()}}function F(k,...G){if(t.apply(this,arguments)){var U=this.__zoom,K=Qr(k.changedTouches?k.changedTouches[0]:k,this),J=U.invert(K),Z=U.k*(k.shiftKey?.5:2),b=n($(q(U,Z),K,J),e.apply(this,G),u);mc(k),f>0?zr(this).transition().duration(f).call(Q,b,K,k):zr(this).call(M.transform,b,K,k)}}function D(k,...G){if(t.apply(this,arguments)){var U=k.touches,K=U.length,J=j(this,G,k.changedTouches.length===K).event(k),Z,b,X,re;for(Kg(k),b=0;b<K;++b)X=U[b],re=Qr(X,this),re=[re,this.__zoom.invert(re),X.identifier],J.touch0?!J.touch1&&J.touch0[2]!==re[2]&&(J.touch1=re,J.taps=0):(J.touch0=re,Z=!0,J.taps=1+!!m);m&&(m=clearTimeout(m)),Z&&(J.taps<2&&(_=re[0],m=setTimeout(function(){m=null},E)),dd(this),J.start())}}function z(k,...G){if(this.__zooming){var U=j(this,G).event(k),K=k.changedTouches,J=K.length,Z,b,X,re;for(mc(k),Z=0;Z<J;++Z)b=K[Z],X=Qr(b,this),U.touch0&&U.touch0[2]===b.identifier?U.touch0[0]=X:U.touch1&&U.touch1[2]===b.identifier&&(U.touch1[0]=X);if(b=U.that.__zoom,U.touch1){var N=U.touch0[0],ue=U.touch0[1],ve=U.touch1[0],_e=U.touch1[1],Ce=(Ce=ve[0]-N[0])*Ce+(Ce=ve[1]-N[1])*Ce,be=(be=_e[0]-ue[0])*be+(be=_e[1]-ue[1])*be;b=q(b,Math.sqrt(Ce/be)),X=[(N[0]+ve[0])/2,(N[1]+ve[1])/2],re=[(ue[0]+_e[0])/2,(ue[1]+_e[1])/2]}else if(U.touch0)X=U.touch0[0],re=U.touch0[1];else return;U.zoom("touch",n($(b,X,re),U.extent,u))}}function x(k,...G){if(this.__zooming){var U=j(this,G).event(k),K=k.changedTouches,J=K.length,Z,b;for(Kg(k),v&&clearTimeout(v),v=setTimeout(function(){v=null},E),Z=0;Z<J;++Z)b=K[Z],U.touch0&&U.touch0[2]===b.identifier?delete U.touch0:U.touch1&&U.touch1[2]===b.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(b=Qr(b,this),Math.hypot(_[0]-b[0],_[1]-b[1])<O)){var X=zr(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return M.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:Yh(+k),M):r},M.filter=function(k){return arguments.length?(t=typeof k=="function"?k:Yh(!!k),M):t},M.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:Yh(!!k),M):s},M.extent=function(k){return arguments.length?(e=typeof k=="function"?k:Yh([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),M):e},M.scaleExtent=function(k){return arguments.length?(a[0]=+k[0],a[1]=+k[1],M):[a[0],a[1]]},M.translateExtent=function(k){return arguments.length?(u[0][0]=+k[0][0],u[1][0]=+k[1][0],u[0][1]=+k[0][1],u[1][1]=+k[1][1],M):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},M.constrain=function(k){return arguments.length?(n=k,M):n},M.duration=function(k){return arguments.length?(f=+k,M):f},M.interpolate=function(k){return arguments.length?(h=k,M):h},M.on=function(){var k=d.on.apply(d,arguments);return k===d?M:k},M.clickDistance=function(k){return arguments.length?(R=(k=+k)*k,M):Math.sqrt(R)},M.tapDistance=function(k){return arguments.length?(O=+k,M):O},M}var YM=hA();const Nl=va(YM),lp=L.createContext(null),KM=lp.Provider,fs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},HA=fs.error001();function kt(t,e){const n=L.useContext(lp);if(n===null)throw new Error(HA);return dA(n,t,e)}const mn=()=>{const t=L.useContext(lp);if(t===null)throw new Error(HA);return L.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},XM=t=>t.userSelectionActive?"none":"all";function Y_({position:t,children:e,className:n,style:r,...s}){const a=kt(XM),u=`${t}`.split("-");return fe.createElement("div",{className:On(["react-flow__panel",n,...u]),style:{...r,pointerEvents:a},...s},e)}function QM({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:fe.createElement(Y_,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},fe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const WM=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:f=2,children:h,className:d,...m})=>{const _=L.useRef(null),[v,E]=L.useState({x:0,y:0,width:0,height:0}),A=On(["react-flow__edge-textwrapper",d]);return L.useEffect(()=>{if(_.current){const R=_.current.getBBox();E({x:R.x,y:R.y,width:R.width,height:R.height})}},[n]),typeof n>"u"||!n?null:fe.createElement("g",{transform:`translate(${t-v.width/2} ${e-v.height/2})`,className:A,visibility:v.width?"visible":"hidden",...m},s&&fe.createElement("rect",{width:v.width+2*u[0],x:-u[0],y:-u[1],height:v.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:f,ry:f}),fe.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:_,style:r},n),h)};var ZM=L.memo(WM);const K_=t=>({width:t.offsetWidth,height:t.offsetHeight}),Gl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),X_=(t={x:0,y:0},e)=>({x:Gl(t.x,e[0][0],e[1][0]),y:Gl(t.y,e[0][1],e[1][1])}),hT=(t,e,n)=>t<e?Gl(Math.abs(t-e),1,50)/50:t>n?-Gl(Math.abs(t-n),1,50)/50:0,jA=(t,e)=>{const n=hT(t.x,35,e.width-35)*20,r=hT(t.y,35,e.height-35)*20;return[n,r]},qA=t=>t.getRootNode?.()||window?.document,$A=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Gc=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),GA=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),dT=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),JM=(t,e)=>GA($A(Gc(t),Gc(e))),jy=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},eP=t=>Fr(t.width)&&Fr(t.height)&&Fr(t.x)&&Fr(t.y),Fr=t=>!isNaN(t)&&isFinite(t),$t=Symbol.for("internals"),YA=["Enter"," ","Escape"],tP=(t,e)=>{},nP=t=>"nativeEvent"in t;function qy(t){const n=(nP(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const KA=t=>"clientX"in t,ro=(t,e)=>{const n=KA(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},kd=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,ff=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:_,markerStart:v,interactionWidth:E=20})=>fe.createElement(fe.Fragment,null,fe.createElement("path",{id:t,style:m,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:_,markerStart:v}),E&&fe.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:E,className:"react-flow__edge-interaction"}),s&&Fr(n)&&Fr(r)?fe.createElement(ZM,{x:n,y:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d}):null);ff.displayName="BaseEdge";function gc(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(a=>a.id===t);s&&n(r,{...s})}}function XA({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,a=n<t?n+s:n-s,u=Math.abs(r-e)/2,f=r<e?r+u:r-u;return[a,f,s,u]}function QA({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:f}){const h=t*.125+s*.375+u*.375+n*.125,d=e*.125+a*.375+f*.375+r*.125,m=Math.abs(h-t),_=Math.abs(d-e);return[h,d,m,_]}var co;(function(t){t.Strict="strict",t.Loose="loose"})(co||(co={}));var sa;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(sa||(sa={}));var Yc;(function(t){t.Partial="partial",t.Full="full"})(Yc||(Yc={}));var Ws;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ws||(Ws={}));var Kc;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Kc||(Kc={}));var ke;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ke||(ke={}));function pT({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===ke.Left||t===ke.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function WA({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:a=ke.Top}){const[u,f]=pT({pos:n,x1:t,y1:e,x2:r,y2:s}),[h,d]=pT({pos:a,x1:r,y1:s,x2:t,y2:e}),[m,_,v,E]=QA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:f,targetControlX:h,targetControlY:d});return[`M${t},${e} C${u},${f} ${h},${d} ${r},${s}`,m,_,v,E]}const Q_=L.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:a=ke.Top,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:A,interactionWidth:R})=>{const[O,M,q]=WA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a});return fe.createElement(ff,{path:O,labelX:M,labelY:q,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:A,interactionWidth:R})});Q_.displayName="SimpleBezierEdge";const mT={[ke.Left]:{x:-1,y:0},[ke.Right]:{x:1,y:0},[ke.Top]:{x:0,y:-1},[ke.Bottom]:{x:0,y:1}},rP=({source:t,sourcePosition:e=ke.Bottom,target:n})=>e===ke.Left||e===ke.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},gT=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function iP({source:t,sourcePosition:e=ke.Bottom,target:n,targetPosition:r=ke.Top,center:s,offset:a}){const u=mT[e],f=mT[r],h={x:t.x+u.x*a,y:t.y+u.y*a},d={x:n.x+f.x*a,y:n.y+f.y*a},m=rP({source:h,sourcePosition:e,target:d}),_=m.x!==0?"x":"y",v=m[_];let E=[],A,R;const O={x:0,y:0},M={x:0,y:0},[q,$,H,Q]=XA({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[_]*f[_]===-1){A=s.x??q,R=s.y??$;const V=[{x:A,y:h.y},{x:A,y:d.y}],I=[{x:h.x,y:R},{x:d.x,y:R}];u[_]===v?E=_==="x"?V:I:E=_==="x"?I:V}else{const V=[{x:h.x,y:d.y}],I=[{x:d.x,y:h.y}];if(_==="x"?E=u.x===v?I:V:E=u.y===v?V:I,e===r){const x=Math.abs(t[_]-n[_]);if(x<=a){const k=Math.min(a-1,a-x);u[_]===v?O[_]=(h[_]>t[_]?-1:1)*k:M[_]=(d[_]>n[_]?-1:1)*k}}if(e!==r){const x=_==="x"?"y":"x",k=u[_]===f[x],G=h[x]>d[x],U=h[x]<d[x];(u[_]===1&&(!k&&G||k&&U)||u[_]!==1&&(!k&&U||k&&G))&&(E=_==="x"?V:I)}const C={x:h.x+O.x,y:h.y+O.y},F={x:d.x+M.x,y:d.y+M.y},D=Math.max(Math.abs(C.x-E[0].x),Math.abs(F.x-E[0].x)),z=Math.max(Math.abs(C.y-E[0].y),Math.abs(F.y-E[0].y));D>=z?(A=(C.x+F.x)/2,R=E[0].y):(A=E[0].x,R=(C.y+F.y)/2)}return[[t,{x:h.x+O.x,y:h.y+O.y},...E,{x:d.x+M.x,y:d.y+M.y},n],A,R,H,Q]}function sP(t,e,n,r){const s=Math.min(gT(t,e)/2,gT(e,n)/2,r),{x:a,y:u}=e;if(t.x===a&&a===n.x||t.y===u&&u===n.y)return`L${a} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${a+s*d},${u}Q ${a},${u} ${a},${u+s*m}`}const f=t.x<n.x?1:-1,h=t.y<n.y?-1:1;return`L ${a},${u+s*h}Q ${a},${u} ${a+s*f},${u}`}function $y({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:a=ke.Top,borderRadius:u=5,centerX:f,centerY:h,offset:d=20}){const[m,_,v,E,A]=iP({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:a,center:{x:f,y:h},offset:d});return[m.reduce((O,M,q)=>{let $="";return q>0&&q<m.length-1?$=sP(m[q-1],M,m[q+1],u):$=`${q===0?"M":"L"}${M.x} ${M.y}`,O+=$,O},""),_,v,E,A]}const up=L.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,sourcePosition:_=ke.Bottom,targetPosition:v=ke.Top,markerEnd:E,markerStart:A,pathOptions:R,interactionWidth:O})=>{const[M,q,$]=$y({sourceX:t,sourceY:e,sourcePosition:_,targetX:n,targetY:r,targetPosition:v,borderRadius:R?.borderRadius,offset:R?.offset});return fe.createElement(ff,{path:M,labelX:q,labelY:$,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:A,interactionWidth:O})});up.displayName="SmoothStepEdge";const W_=L.memo(t=>fe.createElement(up,{...t,pathOptions:L.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));W_.displayName="StepEdge";function oP({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,a,u,f]=XA({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,a,u,f]}const Z_=L.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:_,markerStart:v,interactionWidth:E})=>{const[A,R,O]=oP({sourceX:t,sourceY:e,targetX:n,targetY:r});return fe.createElement(ff,{path:A,labelX:R,labelY:O,label:s,labelStyle:a,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:d,style:m,markerEnd:_,markerStart:v,interactionWidth:E})});Z_.displayName="StraightEdge";function Kh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function yT({pos:t,x1:e,y1:n,x2:r,y2:s,c:a}){switch(t){case ke.Left:return[e-Kh(e-r,a),n];case ke.Right:return[e+Kh(r-e,a),n];case ke.Top:return[e,n-Kh(n-s,a)];case ke.Bottom:return[e,n+Kh(s-n,a)]}}function ZA({sourceX:t,sourceY:e,sourcePosition:n=ke.Bottom,targetX:r,targetY:s,targetPosition:a=ke.Top,curvature:u=.25}){const[f,h]=yT({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[d,m]=yT({pos:a,x1:r,y1:s,x2:t,y2:e,c:u}),[_,v,E,A]=QA({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:f,sourceControlY:h,targetControlX:d,targetControlY:m});return[`M${t},${e} C${f},${h} ${d},${m} ${r},${s}`,_,v,E,A]}const Dd=L.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ke.Bottom,targetPosition:a=ke.Top,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:A,pathOptions:R,interactionWidth:O})=>{const[M,q,$]=ZA({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:a,curvature:R?.curvature});return fe.createElement(ff,{path:M,labelX:q,labelY:$,label:u,labelStyle:f,labelShowBg:h,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:_,style:v,markerEnd:E,markerStart:A,interactionWidth:O})});Dd.displayName="BezierEdge";const J_=L.createContext(null),aP=J_.Provider;J_.Consumer;const lP=()=>L.useContext(J_),uP=t=>"id"in t&&"source"in t&&"target"in t,cP=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,Gy=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,fP=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),hP=(t,e)=>{if(!t.source||!t.target)return e;let n;return uP(t)?n={...t}:n={...t,id:cP(t)},fP(n,e)?e:e.concat(n)},Yy=({x:t,y:e},[n,r,s],a,[u,f])=>{const h={x:(t-n)/s,y:(e-r)/s};return a?{x:u*Math.round(h.x/u),y:f*Math.round(h.y/f)}:h},JA=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),la=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},cp=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:a,y:u}=la(s,e).positionAbsolute;return $A(r,Gc({x:a,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return GA(n)},ex=(t,e,[n,r,s]=[0,0,1],a=!1,u=!1,f=[0,0])=>{const h={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(m=>{const{width:_,height:v,selectable:E=!0,hidden:A=!1}=m;if(u&&!E||A)return!1;const{positionAbsolute:R}=la(m,f),O={x:R.x,y:R.y,width:_||0,height:v||0},M=jy(h,O),q=typeof _>"u"||typeof v>"u"||_===null||v===null,$=a&&M>0,H=(_||0)*(v||0);(q||$||M>=H||m.dragging)&&d.push(m)}),d},tx=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},nx=(t,e,n,r,s,a=.1)=>{const u=e/(t.width*(1+a)),f=n/(t.height*(1+a)),h=Math.min(u,f),d=Gl(h,r,s),m=t.x+t.width/2,_=t.y+t.height/2,v=e/2-m*d,E=n/2-_*d;return{x:v,y:E,zoom:d}},Jo=(t,e=0)=>t.transition().duration(e);function _T(t,e,n,r){return(e[n]||[]).reduce((s,a)=>(`${t.id}-${a.id}-${n}`!==r&&s.push({id:a.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+a.x+a.width/2,y:(t.positionAbsolute?.y??0)+a.y+a.height/2}),s),[])}function dP(t,e,n,r,s,a){const{x:u,y:f}=ro(t),d=e.elementsFromPoint(u,f).find(A=>A.classList.contains("react-flow__handle"));if(d){const A=d.getAttribute("data-nodeid");if(A){const R=ev(void 0,d),O=d.getAttribute("data-handleid"),M=a({nodeId:A,id:O,type:R});if(M){const q=s.find($=>$.nodeId===A&&$.type===R&&$.id===O);return{handle:{id:O,type:R,nodeId:A,x:q?.x||n.x,y:q?.y||n.y},validHandleResult:M}}}}let m=[],_=1/0;if(s.forEach(A=>{const R=Math.sqrt((A.x-n.x)**2+(A.y-n.y)**2);if(R<=r){const O=a(A);R<=_&&(R<_?m=[{handle:A,validHandleResult:O}]:R===_&&m.push({handle:A,validHandleResult:O}),_=R)}}),!m.length)return{handle:null,validHandleResult:rx()};if(m.length===1)return m[0];const v=m.some(({validHandleResult:A})=>A.isValid),E=m.some(({handle:A})=>A.type==="target");return m.find(({handle:A,validHandleResult:R})=>E?A.type==="target":v?R.isValid:!0)||m[0]}const pP={source:null,target:null,sourceHandle:null,targetHandle:null},rx=()=>({handleDomNode:null,isValid:!1,connection:pP,endHandle:null});function ix(t,e,n,r,s,a,u){const f=s==="target",h=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),d={...rx(),handleDomNode:h};if(h){const m=ev(void 0,h),_=h.getAttribute("data-nodeid"),v=h.getAttribute("data-handleid"),E=h.classList.contains("connectable"),A=h.classList.contains("connectableend"),R={source:f?_:n,sourceHandle:f?v:r,target:f?n:_,targetHandle:f?r:v};d.connection=R,E&&A&&(e===co.Strict?f&&m==="source"||!f&&m==="target":_!==n||v!==r)&&(d.endHandle={nodeId:_,handleId:v,type:m},d.isValid=a(R))}return d}function mP({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,a)=>{if(a[$t]){const{handleBounds:u}=a[$t];let f=[],h=[];u&&(f=_T(a,u,"source",`${e}-${n}-${r}`),h=_T(a,u,"target",`${e}-${n}-${r}`)),s.push(...f,...h)}return s},[])}function ev(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Xg(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function gP(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function sx({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:a,setState:u,isValidConnection:f,edgeUpdaterType:h,onReconnectEnd:d}){const m=qA(t.target),{connectionMode:_,domNode:v,autoPanOnConnect:E,connectionRadius:A,onConnectStart:R,panBy:O,getNodes:M,cancelConnection:q}=a();let $=0,H;const{x:Q,y:j}=ro(t),V=m?.elementFromPoint(Q,j),I=ev(h,V),C=v?.getBoundingClientRect();if(!C||!I)return;let F,D=ro(t,C),z=!1,x=null,k=!1,G=null;const U=mP({nodes:M(),nodeId:n,handleId:e,handleType:I}),K=()=>{if(!E)return;const[b,X]=jA(D,C);O({x:b,y:X}),$=requestAnimationFrame(K)};u({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:I,connectionStartHandle:{nodeId:n,handleId:e,type:I},connectionEndHandle:null}),R?.(t,{nodeId:n,handleId:e,handleType:I});function J(b){const{transform:X}=a();D=ro(b,C);const{handle:re,validHandleResult:N}=dP(b,m,Yy(D,X,!1,[1,1]),A,U,ue=>ix(ue,_,n,e,s?"target":"source",f,m));if(H=re,z||(K(),z=!0),G=N.handleDomNode,x=N.connection,k=N.isValid,u({connectionPosition:H&&k?JA({x:H.x,y:H.y},X):D,connectionStatus:gP(!!H,k),connectionEndHandle:N.endHandle}),!H&&!k&&!G)return Xg(F);x.source!==x.target&&G&&(Xg(F),F=G,G.classList.add("connecting","react-flow__handle-connecting"),G.classList.toggle("valid",k),G.classList.toggle("react-flow__handle-valid",k))}function Z(b){(H||G)&&x&&k&&r?.(x),a().onConnectEnd?.(b),h&&d?.(b),Xg(F),q(),cancelAnimationFrame($),z=!1,k=!1,x=null,G=null,m.removeEventListener("mousemove",J),m.removeEventListener("mouseup",Z),m.removeEventListener("touchmove",J),m.removeEventListener("touchend",Z)}m.addEventListener("mousemove",J),m.addEventListener("mouseup",Z),m.addEventListener("touchmove",J),m.addEventListener("touchend",Z)}const vT=()=>!0,yP=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),_P=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:a,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||a?.nodeId===t&&a?.handleId===e&&a?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},ox=L.forwardRef(({type:t="source",position:e=ke.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:a=!0,id:u,onConnect:f,children:h,className:d,onMouseDown:m,onTouchStart:_,...v},E)=>{const A=u||null,R=t==="target",O=mn(),M=lP(),{connectOnClick:q,noPanClassName:$}=kt(yP,bn),{connecting:H,clickConnecting:Q}=kt(_P(M,A,t),bn);M||O.getState().onError?.("010",fs.error010());const j=C=>{const{defaultEdgeOptions:F,onConnect:D,hasDefaultEdges:z}=O.getState(),x={...F,...C};if(z){const{edges:k,setEdges:G}=O.getState();G(hP(x,k))}D?.(x),f?.(x)},V=C=>{if(!M)return;const F=KA(C);s&&(F&&C.button===0||!F)&&sx({event:C,handleId:A,nodeId:M,onConnect:j,isTarget:R,getState:O.getState,setState:O.setState,isValidConnection:n||O.getState().isValidConnection||vT}),F?m?.(C):_?.(C)},I=C=>{const{onClickConnectStart:F,onClickConnectEnd:D,connectionClickStartHandle:z,connectionMode:x,isValidConnection:k}=O.getState();if(!M||!z&&!s)return;if(!z){F?.(C,{nodeId:M,handleId:A,handleType:t}),O.setState({connectionClickStartHandle:{nodeId:M,type:t,handleId:A}});return}const G=qA(C.target),U=n||k||vT,{connection:K,isValid:J}=ix({nodeId:M,id:A,type:t},x,z.nodeId,z.handleId||null,z.type,U,G);J&&j(K),D?.(C),O.setState({connectionClickStartHandle:null})};return fe.createElement("div",{"data-handleid":A,"data-nodeid":M,"data-handlepos":e,"data-id":`${M}-${A}-${t}`,className:On(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",$,d,{source:!R,target:R,connectable:r,connectablestart:s,connectableend:a,connecting:Q,connectionindicator:r&&(s&&!H||a&&H)}]),onMouseDown:V,onTouchStart:V,onClick:q?I:void 0,ref:E,...v},h)});ox.displayName="Handle";var fa=L.memo(ox);const ax=({data:t,isConnectable:e,targetPosition:n=ke.Top,sourcePosition:r=ke.Bottom})=>fe.createElement(fe.Fragment,null,fe.createElement(fa,{type:"target",position:n,isConnectable:e}),t?.label,fe.createElement(fa,{type:"source",position:r,isConnectable:e}));ax.displayName="DefaultNode";var Ky=L.memo(ax);const lx=({data:t,isConnectable:e,sourcePosition:n=ke.Bottom})=>fe.createElement(fe.Fragment,null,t?.label,fe.createElement(fa,{type:"source",position:n,isConnectable:e}));lx.displayName="InputNode";var ux=L.memo(lx);const cx=({data:t,isConnectable:e,targetPosition:n=ke.Top})=>fe.createElement(fe.Fragment,null,fe.createElement(fa,{type:"target",position:n,isConnectable:e}),t?.label);cx.displayName="OutputNode";var fx=L.memo(cx);const tv=()=>null;tv.displayName="GroupNode";const vP=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Xh=t=>t.id;function EP(t,e){return bn(t.selectedNodes.map(Xh),e.selectedNodes.map(Xh))&&bn(t.selectedEdges.map(Xh),e.selectedEdges.map(Xh))}const hx=L.memo(({onSelectionChange:t})=>{const e=mn(),{selectedNodes:n,selectedEdges:r}=kt(vP,EP);return L.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(a=>a(s))},[n,r,t]),null});hx.displayName="SelectionListener";const wP=t=>!!t.onSelectionChange;function bP({onSelectionChange:t}){const e=kt(wP);return t||e?fe.createElement(hx,{onSelectionChange:t}):null}const TP=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function ml(t,e){L.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function We(t,e,n){L.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const SP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:a,onConnectEnd:u,onClickConnectStart:f,onClickConnectEnd:h,nodesDraggable:d,nodesConnectable:m,nodesFocusable:_,edgesFocusable:v,edgesUpdatable:E,elevateNodesOnSelect:A,minZoom:R,maxZoom:O,nodeExtent:M,onNodesChange:q,onEdgesChange:$,elementsSelectable:H,connectionMode:Q,snapGrid:j,snapToGrid:V,translateExtent:I,connectOnClick:C,defaultEdgeOptions:F,fitView:D,fitViewOptions:z,onNodesDelete:x,onEdgesDelete:k,onNodeDrag:G,onNodeDragStart:U,onNodeDragStop:K,onSelectionDrag:J,onSelectionDragStart:Z,onSelectionDragStop:b,noPanClassName:X,nodeOrigin:re,rfId:N,autoPanOnConnect:ue,autoPanOnNodeDrag:ve,onError:_e,connectionRadius:Ce,isValidConnection:be,nodeDragThreshold:De})=>{const{setNodes:Oe,setEdges:Ze,setDefaultNodesAndEdges:tt,setMinZoom:ft,setMaxZoom:lt,setTranslateExtent:Me,setNodeExtent:St,reset:Le}=kt(TP,bn),Re=mn();return L.useEffect(()=>{const At=r?.map(Gt=>({...Gt,...F}));return tt(n,At),()=>{Le()}},[]),We("defaultEdgeOptions",F,Re.setState),We("connectionMode",Q,Re.setState),We("onConnect",s,Re.setState),We("onConnectStart",a,Re.setState),We("onConnectEnd",u,Re.setState),We("onClickConnectStart",f,Re.setState),We("onClickConnectEnd",h,Re.setState),We("nodesDraggable",d,Re.setState),We("nodesConnectable",m,Re.setState),We("nodesFocusable",_,Re.setState),We("edgesFocusable",v,Re.setState),We("edgesUpdatable",E,Re.setState),We("elementsSelectable",H,Re.setState),We("elevateNodesOnSelect",A,Re.setState),We("snapToGrid",V,Re.setState),We("snapGrid",j,Re.setState),We("onNodesChange",q,Re.setState),We("onEdgesChange",$,Re.setState),We("connectOnClick",C,Re.setState),We("fitViewOnInit",D,Re.setState),We("fitViewOnInitOptions",z,Re.setState),We("onNodesDelete",x,Re.setState),We("onEdgesDelete",k,Re.setState),We("onNodeDrag",G,Re.setState),We("onNodeDragStart",U,Re.setState),We("onNodeDragStop",K,Re.setState),We("onSelectionDrag",J,Re.setState),We("onSelectionDragStart",Z,Re.setState),We("onSelectionDragStop",b,Re.setState),We("noPanClassName",X,Re.setState),We("nodeOrigin",re,Re.setState),We("rfId",N,Re.setState),We("autoPanOnConnect",ue,Re.setState),We("autoPanOnNodeDrag",ve,Re.setState),We("onError",_e,Re.setState),We("connectionRadius",Ce,Re.setState),We("isValidConnection",be,Re.setState),We("nodeDragThreshold",De,Re.setState),ml(t,Oe),ml(e,Ze),ml(R,ft),ml(O,lt),ml(I,Me),ml(M,St),null},ET={display:"none"},AP={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},dx="react-flow__node-desc",px="react-flow__edge-desc",xP="react-flow__aria-live",CP=t=>t.ariaLiveMessage;function RP({rfId:t}){const e=kt(CP);return fe.createElement("div",{id:`${xP}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:AP},e)}function IP({rfId:t,disableKeyboardA11y:e}){return fe.createElement(fe.Fragment,null,fe.createElement("div",{id:`${dx}-${t}`,style:ET},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),fe.createElement("div",{id:`${px}-${t}`,style:ET},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&fe.createElement(RP,{rfId:t}))}var Xc=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=L.useState(!1),s=L.useRef(!1),a=L.useRef(new Set([])),[u,f]=L.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(_=>typeof _=="string").map(_=>_.split("+")),m=d.reduce((_,v)=>_.concat(...v),[]);return[d,m]}return[[],[]]},[t]);return L.useEffect(()=>{const h=typeof document<"u"?document:null,d=e?.target||h;if(t!==null){const m=E=>{if(s.current=E.ctrlKey||E.metaKey||E.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&qy(E))return!1;const R=bT(E.code,f);a.current.add(E[R]),wT(u,a.current,!1)&&(E.preventDefault(),r(!0))},_=E=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&qy(E))return!1;const R=bT(E.code,f);wT(u,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(E[R]),E.key==="Meta"&&a.current.clear(),s.current=!1},v=()=>{a.current.clear(),r(!1)};return d?.addEventListener("keydown",m),d?.addEventListener("keyup",_),window.addEventListener("blur",v),()=>{d?.removeEventListener("keydown",m),d?.removeEventListener("keyup",_),window.removeEventListener("blur",v)}}},[t,r]),n};function wT(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function bT(t,e){return e.includes(t)?"code":"key"}function mx(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const a=e.get(s),u=la(a,r);return mx(a,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(a[$t]?.z??0)>(n.z??0)?a[$t]?.z??0:n.z??0},r)}function gx(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:a,y:u,z:f}=mx(r,t,{...r.position,z:r[$t]?.z??0},e);r.positionAbsolute={x:a,y:u},r[$t].z=f,n?.[r.id]&&(r[$t].isParent=!0)}})}function Qg(t,e,n,r){const s=new Map,a={},u=r?1e3:0;return t.forEach(f=>{const h=(Fr(f.zIndex)?f.zIndex:0)+(f.selected?u:0),d=e.get(f.id),m={...f,positionAbsolute:{x:f.position.x,y:f.position.y}},_=f.parentNode||f.parentId;_&&(a[_]=!0);const v=d?.type&&d?.type!==f.type;Object.defineProperty(m,$t,{enumerable:!1,value:{handleBounds:v?void 0:d?.[$t]?.handleBounds,z:h}}),s.set(f.id,m)}),gx(s,n,a),s}function yx(t,e={}){const{getNodes:n,width:r,height:s,minZoom:a,maxZoom:u,d3Zoom:f,d3Selection:h,fitViewOnInitDone:d,fitViewOnInit:m,nodeOrigin:_}=t(),v=e.initial&&!d&&m;if(f&&h&&(v||!e.initial)){const A=n().filter(O=>{const M=e.includeHiddenNodes?O.width&&O.height:!O.hidden;return e.nodes?.length?M&&e.nodes.some(q=>q.id===O.id):M}),R=A.every(O=>O.width&&O.height);if(A.length>0&&R){const O=cp(A,_),{x:M,y:q,zoom:$}=nx(O,r,s,e.minZoom??a,e.maxZoom??u,e.padding??.1),H=as.translate(M,q).scale($);return typeof e.duration=="number"&&e.duration>0?f.transform(Jo(h,e.duration),H):f.transform(h,H),!0}}return!1}function NP(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[$t]:r[$t],selected:n.selected})}),new Map(e)}function kP(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Qh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:a,onNodesChange:u,onEdgesChange:f,hasDefaultNodes:h,hasDefaultEdges:d}=n();t?.length&&(h&&r({nodeInternals:NP(t,s)}),u?.(t)),e?.length&&(d&&r({edges:kP(e,a)}),f?.(e))}const gl=()=>{},DP={zoomIn:gl,zoomOut:gl,zoomTo:gl,getZoom:()=>1,setViewport:gl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:gl,fitBounds:gl,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},OP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),MP=()=>{const t=mn(),{d3Zoom:e,d3Selection:n}=kt(OP,bn);return L.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(Jo(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(Jo(n,s?.duration),1/1.2),zoomTo:(s,a)=>e.scaleTo(Jo(n,a?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,a)=>{const[u,f,h]=t.getState().transform,d=as.translate(s.x??u,s.y??f).scale(s.zoom??h);e.transform(Jo(n,a?.duration),d)},getViewport:()=>{const[s,a,u]=t.getState().transform;return{x:s,y:a,zoom:u}},fitView:s=>yx(t.getState,s),setCenter:(s,a,u)=>{const{width:f,height:h,maxZoom:d}=t.getState(),m=typeof u?.zoom<"u"?u.zoom:d,_=f/2-s*m,v=h/2-a*m,E=as.translate(_,v).scale(m);e.transform(Jo(n,u?.duration),E)},fitBounds:(s,a)=>{const{width:u,height:f,minZoom:h,maxZoom:d}=t.getState(),{x:m,y:_,zoom:v}=nx(s,u,f,h,d,a?.padding??.1),E=as.translate(m,_).scale(v);e.transform(Jo(n,a?.duration),E)},project:s=>{const{transform:a,snapToGrid:u,snapGrid:f}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Yy(s,a,u,f)},screenToFlowPosition:s=>{const{transform:a,snapToGrid:u,snapGrid:f,domNode:h}=t.getState();if(!h)return s;const{x:d,y:m}=h.getBoundingClientRect(),_={x:s.x-d,y:s.y-m};return Yy(_,a,u,f)},flowToScreenPosition:s=>{const{transform:a,domNode:u}=t.getState();if(!u)return s;const{x:f,y:h}=u.getBoundingClientRect(),d=JA(s,a);return{x:d.x+f,y:d.y+h}},viewportInitialized:!0}:DP,[e,n])};function hf(){const t=MP(),e=mn(),n=L.useCallback(()=>e.getState().getNodes().map(R=>({...R})),[]),r=L.useCallback(R=>e.getState().nodeInternals.get(R),[]),s=L.useCallback(()=>{const{edges:R=[]}=e.getState();return R.map(O=>({...O}))},[]),a=L.useCallback(R=>{const{edges:O=[]}=e.getState();return O.find(M=>M.id===R)},[]),u=L.useCallback(R=>{const{getNodes:O,setNodes:M,hasDefaultNodes:q,onNodesChange:$}=e.getState(),H=O(),Q=typeof R=="function"?R(H):R;if(q)M(Q);else if($){const j=Q.length===0?H.map(V=>({type:"remove",id:V.id})):Q.map(V=>({item:V,type:"reset"}));$(j)}},[]),f=L.useCallback(R=>{const{edges:O=[],setEdges:M,hasDefaultEdges:q,onEdgesChange:$}=e.getState(),H=typeof R=="function"?R(O):R;if(q)M(H);else if($){const Q=H.length===0?O.map(j=>({type:"remove",id:j.id})):H.map(j=>({item:j,type:"reset"}));$(Q)}},[]),h=L.useCallback(R=>{const O=Array.isArray(R)?R:[R],{getNodes:M,setNodes:q,hasDefaultNodes:$,onNodesChange:H}=e.getState();if($){const j=[...M(),...O];q(j)}else if(H){const Q=O.map(j=>({item:j,type:"add"}));H(Q)}},[]),d=L.useCallback(R=>{const O=Array.isArray(R)?R:[R],{edges:M=[],setEdges:q,hasDefaultEdges:$,onEdgesChange:H}=e.getState();if($)q([...M,...O]);else if(H){const Q=O.map(j=>({item:j,type:"add"}));H(Q)}},[]),m=L.useCallback(()=>{const{getNodes:R,edges:O=[],transform:M}=e.getState(),[q,$,H]=M;return{nodes:R().map(Q=>({...Q})),edges:O.map(Q=>({...Q})),viewport:{x:q,y:$,zoom:H}}},[]),_=L.useCallback(({nodes:R,edges:O})=>{const{nodeInternals:M,getNodes:q,edges:$,hasDefaultNodes:H,hasDefaultEdges:Q,onNodesDelete:j,onEdgesDelete:V,onNodesChange:I,onEdgesChange:C}=e.getState(),F=(R||[]).map(G=>G.id),D=(O||[]).map(G=>G.id),z=q().reduce((G,U)=>{const K=U.parentNode||U.parentId,J=!F.includes(U.id)&&K&&G.find(b=>b.id===K);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(F.includes(U.id)||J)&&G.push(U),G},[]),x=$.filter(G=>typeof G.deletable=="boolean"?G.deletable:!0),k=x.filter(G=>D.includes(G.id));if(z||k){const G=tx(z,x),U=[...k,...G],K=U.reduce((J,Z)=>(J.includes(Z.id)||J.push(Z.id),J),[]);if((Q||H)&&(Q&&e.setState({edges:$.filter(J=>!K.includes(J.id))}),H&&(z.forEach(J=>{M.delete(J.id)}),e.setState({nodeInternals:new Map(M)}))),K.length>0&&(V?.(U),C&&C(K.map(J=>({id:J,type:"remove"})))),z.length>0&&(j?.(z),I)){const J=z.map(Z=>({id:Z.id,type:"remove"}));I(J)}}},[]),v=L.useCallback(R=>{const O=eP(R),M=O?null:e.getState().nodeInternals.get(R.id);return!O&&!M?[null,null,O]:[O?R:dT(M),M,O]},[]),E=L.useCallback((R,O=!0,M)=>{const[q,$,H]=v(R);return q?(M||e.getState().getNodes()).filter(Q=>{if(!H&&(Q.id===$.id||!Q.positionAbsolute))return!1;const j=dT(Q),V=jy(j,q);return O&&V>0||V>=q.width*q.height}):[]},[]),A=L.useCallback((R,O,M=!0)=>{const[q]=v(R);if(!q)return!1;const $=jy(q,O);return M&&$>0||$>=q.width*q.height},[]);return L.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:a,setNodes:u,setEdges:f,addNodes:h,addEdges:d,toObject:m,deleteElements:_,getIntersectingNodes:E,isNodeIntersecting:A}),[t,n,r,s,a,u,f,h,d,m,_,E,A])}const PP={actInsideInputWithModifier:!1};var VP=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=mn(),{deleteElements:r}=hf(),s=Xc(t,PP),a=Xc(e);L.useEffect(()=>{if(s){const{edges:u,getNodes:f}=n.getState(),h=f().filter(m=>m.selected),d=u.filter(m=>m.selected);r({nodes:h,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),L.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function LP(t){const e=mn();L.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=K_(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",fs.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const nv={position:"absolute",width:"100%",height:"100%",top:0,left:0},UP=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Wh=t=>({x:t.x,y:t.y,zoom:t.k}),yl=(t,e)=>t.target.closest(`.${e}`),TT=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),ST=t=>{const e=t.ctrlKey&&kd()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},zP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),BP=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:a=!0,panOnScroll:u=!1,panOnScrollSpeed:f=.5,panOnScrollMode:h=sa.Free,zoomOnDoubleClick:d=!0,elementsSelectable:m,panOnDrag:_=!0,defaultViewport:v,translateExtent:E,minZoom:A,maxZoom:R,zoomActivationKeyCode:O,preventScrolling:M=!0,children:q,noWheelClassName:$,noPanClassName:H})=>{const Q=L.useRef(),j=mn(),V=L.useRef(!1),I=L.useRef(!1),C=L.useRef(null),F=L.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:z,d3ZoomHandler:x,userSelectionActive:k}=kt(zP,bn),G=Xc(O),U=L.useRef(0),K=L.useRef(!1),J=L.useRef();return LP(C),L.useEffect(()=>{if(C.current){const Z=C.current.getBoundingClientRect(),b=FA().scaleExtent([A,R]).translateExtent(E),X=zr(C.current).call(b),re=as.translate(v.x,v.y).scale(Gl(v.zoom,A,R)),N=[[0,0],[Z.width,Z.height]],ue=b.constrain()(re,N,E);b.transform(X,ue),b.wheelDelta(ST),j.setState({d3Zoom:b,d3Selection:X,d3ZoomHandler:X.on("wheel.zoom"),transform:[ue.x,ue.y,ue.k],domNode:C.current.closest(".react-flow")})}},[]),L.useEffect(()=>{z&&D&&(u&&!G&&!k?z.on("wheel.zoom",Z=>{if(yl(Z,$))return!1;Z.preventDefault(),Z.stopImmediatePropagation();const b=z.property("__zoom").k||1;if(Z.ctrlKey&&a){const be=Qr(Z),De=ST(Z),Oe=b*Math.pow(2,De);D.scaleTo(z,Oe,be,Z);return}const X=Z.deltaMode===1?20:1;let re=h===sa.Vertical?0:Z.deltaX*X,N=h===sa.Horizontal?0:Z.deltaY*X;!kd()&&Z.shiftKey&&h!==sa.Vertical&&(re=Z.deltaY*X,N=0),D.translateBy(z,-(re/b)*f,-(N/b)*f,{internal:!0});const ue=Wh(z.property("__zoom")),{onViewportChangeStart:ve,onViewportChange:_e,onViewportChangeEnd:Ce}=j.getState();clearTimeout(J.current),K.current||(K.current=!0,e?.(Z,ue),ve?.(ue)),K.current&&(t?.(Z,ue),_e?.(ue),J.current=setTimeout(()=>{n?.(Z,ue),Ce?.(ue),K.current=!1},150))},{passive:!1}):typeof x<"u"&&z.on("wheel.zoom",function(Z,b){if(!M&&Z.type==="wheel"&&!Z.ctrlKey||yl(Z,$))return null;Z.preventDefault(),x.call(this,Z,b)},{passive:!1}))},[k,u,h,z,D,x,G,a,M,$,e,t,n]),L.useEffect(()=>{D&&D.on("start",Z=>{if(!Z.sourceEvent||Z.sourceEvent.internal)return null;U.current=Z.sourceEvent?.button;const{onViewportChangeStart:b}=j.getState(),X=Wh(Z.transform);V.current=!0,F.current=X,Z.sourceEvent?.type==="mousedown"&&j.setState({paneDragging:!0}),b?.(X),e?.(Z.sourceEvent,X)})},[D,e]),L.useEffect(()=>{D&&(k&&!V.current?D.on("zoom",null):k||D.on("zoom",Z=>{const{onViewportChange:b}=j.getState();if(j.setState({transform:[Z.transform.x,Z.transform.y,Z.transform.k]}),I.current=!!(r&&TT(_,U.current??0)),(t||b)&&!Z.sourceEvent?.internal){const X=Wh(Z.transform);b?.(X),t?.(Z.sourceEvent,X)}}))},[k,D,t,_,r]),L.useEffect(()=>{D&&D.on("end",Z=>{if(!Z.sourceEvent||Z.sourceEvent.internal)return null;const{onViewportChangeEnd:b}=j.getState();if(V.current=!1,j.setState({paneDragging:!1}),r&&TT(_,U.current??0)&&!I.current&&r(Z.sourceEvent),I.current=!1,(n||b)&&UP(F.current,Z.transform)){const X=Wh(Z.transform);F.current=X,clearTimeout(Q.current),Q.current=setTimeout(()=>{b?.(X),n?.(Z.sourceEvent,X)},u?150:0)}})},[D,u,_,n,r]),L.useEffect(()=>{D&&D.filter(Z=>{const b=G||s,X=a&&Z.ctrlKey;if((_===!0||Array.isArray(_)&&_.includes(1))&&Z.button===1&&Z.type==="mousedown"&&(yl(Z,"react-flow__node")||yl(Z,"react-flow__edge")))return!0;if(!_&&!b&&!u&&!d&&!a||k||!d&&Z.type==="dblclick"||yl(Z,$)&&Z.type==="wheel"||yl(Z,H)&&(Z.type!=="wheel"||u&&Z.type==="wheel"&&!G)||!a&&Z.ctrlKey&&Z.type==="wheel"||!b&&!u&&!X&&Z.type==="wheel"||!_&&(Z.type==="mousedown"||Z.type==="touchstart")||Array.isArray(_)&&!_.includes(Z.button)&&Z.type==="mousedown")return!1;const re=Array.isArray(_)&&_.includes(Z.button)||!Z.button||Z.button<=1;return(!Z.ctrlKey||Z.type==="wheel")&&re})},[k,D,s,a,u,d,_,m,G]),fe.createElement("div",{className:"react-flow__renderer",ref:C,style:nv},q)},FP=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function HP(){const{userSelectionActive:t,userSelectionRect:e}=kt(FP,bn);return t&&e?fe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function AT(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,a=e.position.y+e.height-r.height;if(s>0||a>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),a>0&&(r.style.height+=a),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function _x(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const a=t.filter(f=>f.id===s.id);if(a.length===0)return r.push(s),r;const u={...s};for(const f of a)if(f)switch(f.type){case"select":{u.selected=f.selected;break}case"position":{typeof f.position<"u"&&(u.position=f.position),typeof f.positionAbsolute<"u"&&(u.positionAbsolute=f.positionAbsolute),typeof f.dragging<"u"&&(u.dragging=f.dragging),u.expandParent&&AT(r,u);break}case"dimensions":{typeof f.dimensions<"u"&&(u.width=f.dimensions.width,u.height=f.dimensions.height),typeof f.updateStyle<"u"&&(u.style={...u.style||{},...f.dimensions}),typeof f.resizing=="boolean"&&(u.resizing=f.resizing),u.expandParent&&AT(r,u);break}case"remove":return r}return r.push(u),r},n)}function vx(t,e){return _x(t,e)}function jP(t,e){return _x(t,e)}const Xs=(t,e)=>({id:t,type:"select",selected:e});function kl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Xs(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Xs(r.id,!1))),n},[])}const Wg=(t,e)=>n=>{n.target===e.current&&t?.(n)},qP=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),Ex=L.memo(({isSelecting:t,selectionMode:e=Yc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:h,onPaneMouseMove:d,onPaneMouseLeave:m,children:_})=>{const v=L.useRef(null),E=mn(),A=L.useRef(0),R=L.useRef(0),O=L.useRef(),{userSelectionActive:M,elementsSelectable:q,dragging:$}=kt(qP,bn),H=()=>{E.setState({userSelectionActive:!1,userSelectionRect:null}),A.current=0,R.current=0},Q=x=>{a?.(x),E.getState().resetSelectedElements(),E.setState({nodesSelectionActive:!1})},j=x=>{if(Array.isArray(n)&&n?.includes(2)){x.preventDefault();return}u?.(x)},V=f?x=>f(x):void 0,I=x=>{const{resetSelectedElements:k,domNode:G}=E.getState();if(O.current=G?.getBoundingClientRect(),!q||!t||x.button!==0||x.target!==v.current||!O.current)return;const{x:U,y:K}=ro(x,O.current);k(),E.setState({userSelectionRect:{width:0,height:0,startX:U,startY:K,x:U,y:K}}),r?.(x)},C=x=>{const{userSelectionRect:k,nodeInternals:G,edges:U,transform:K,onNodesChange:J,onEdgesChange:Z,nodeOrigin:b,getNodes:X}=E.getState();if(!t||!O.current||!k)return;E.setState({userSelectionActive:!0,nodesSelectionActive:!1});const re=ro(x,O.current),N=k.startX??0,ue=k.startY??0,ve={...k,x:re.x<N?re.x:N,y:re.y<ue?re.y:ue,width:Math.abs(re.x-N),height:Math.abs(re.y-ue)},_e=X(),Ce=ex(G,ve,K,e===Yc.Partial,!0,b),be=tx(Ce,U).map(Oe=>Oe.id),De=Ce.map(Oe=>Oe.id);if(A.current!==De.length){A.current=De.length;const Oe=kl(_e,De);Oe.length&&J?.(Oe)}if(R.current!==be.length){R.current=be.length;const Oe=kl(U,be);Oe.length&&Z?.(Oe)}E.setState({userSelectionRect:ve})},F=x=>{if(x.button!==0)return;const{userSelectionRect:k}=E.getState();!M&&k&&x.target===v.current&&Q?.(x),E.setState({nodesSelectionActive:A.current>0}),H(),s?.(x)},D=x=>{M&&(E.setState({nodesSelectionActive:A.current>0}),s?.(x)),H()},z=q&&(t||M);return fe.createElement("div",{className:On(["react-flow__pane",{dragging:$,selection:t}]),onClick:z?void 0:Wg(Q,v),onContextMenu:Wg(j,v),onWheel:Wg(V,v),onMouseEnter:z?void 0:h,onMouseDown:z?I:void 0,onMouseMove:z?C:d,onMouseUp:z?F:void 0,onMouseLeave:z?D:m,ref:v,style:nv},_,fe.createElement(HP,null))});Ex.displayName="Pane";function wx(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:wx(r,e):!1}function xT(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function $P(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!wx(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function GP(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function bx(t,e,n,r,s=[0,0],a){const u=GP(t,t.extent||r);let f=u;const h=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(h&&t.width&&t.height){const _=n.get(h),{x:v,y:E}=la(_,s).positionAbsolute;f=_&&Fr(v)&&Fr(E)&&Fr(_.width)&&Fr(_.height)?[[v+t.width*s[0],E+t.height*s[1]],[v+_.width-t.width+t.width*s[0],E+_.height-t.height+t.height*s[1]]]:f}else a?.("005",fs.error005()),f=u;else if(t.extent&&h&&t.extent!=="parent"){const _=n.get(h),{x:v,y:E}=la(_,s).positionAbsolute;f=[[t.extent[0][0]+v,t.extent[0][1]+E],[t.extent[1][0]+v,t.extent[1][1]+E]]}let d={x:0,y:0};if(h){const _=n.get(h);d=la(_,s).positionAbsolute}const m=f&&f!=="parent"?X_(e,f):e;return{position:{x:m.x-d.x,y:m.y-d.y},positionAbsolute:m}}function Zg({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const CT=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const a=Array.from(s),u=e.getBoundingClientRect(),f={x:u.width*r[0],y:u.height*r[1]};return a.map(h=>{const d=h.getBoundingClientRect();return{id:h.getAttribute("data-handleid"),position:h.getAttribute("data-handlepos"),x:(d.left-u.left-f.x)/n,y:(d.top-u.top-f.y)/n,...K_(h)}})};function yc(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function Xy({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:a,multiSelectionActive:u,nodeInternals:f,onError:h}=e.getState(),d=f.get(t);if(!d){h?.("012",fs.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&u)&&(a({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function YP(){const t=mn();return L.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:a}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,f=n.touches?n.touches[0].clientY:n.clientY,h={x:(u-r[0])/r[2],y:(f-r[1])/r[2]};return{xSnapped:a?s[0]*Math.round(h.x/s[0]):h.x,ySnapped:a?s[1]*Math.round(h.y/s[1]):h.y,...h}},[])}function Jg(t){return(e,n,r)=>t?.(e,r)}function Tx({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:a,selectNodesOnDrag:u}){const f=mn(),[h,d]=L.useState(!1),m=L.useRef([]),_=L.useRef({x:null,y:null}),v=L.useRef(0),E=L.useRef(null),A=L.useRef({x:0,y:0}),R=L.useRef(null),O=L.useRef(!1),M=L.useRef(!1),q=L.useRef(!1),$=YP();return L.useEffect(()=>{if(t?.current){const H=zr(t.current),Q=({x:I,y:C})=>{const{nodeInternals:F,onNodeDrag:D,onSelectionDrag:z,updateNodePositions:x,nodeExtent:k,snapGrid:G,snapToGrid:U,nodeOrigin:K,onError:J}=f.getState();_.current={x:I,y:C};let Z=!1,b={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&k){const re=cp(m.current,K);b=Gc(re)}if(m.current=m.current.map(re=>{const N={x:I-re.distance.x,y:C-re.distance.y};U&&(N.x=G[0]*Math.round(N.x/G[0]),N.y=G[1]*Math.round(N.y/G[1]));const ue=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];m.current.length>1&&k&&!re.extent&&(ue[0][0]=re.positionAbsolute.x-b.x+k[0][0],ue[1][0]=re.positionAbsolute.x+(re.width??0)-b.x2+k[1][0],ue[0][1]=re.positionAbsolute.y-b.y+k[0][1],ue[1][1]=re.positionAbsolute.y+(re.height??0)-b.y2+k[1][1]);const ve=bx(re,N,F,ue,K,J);return Z=Z||re.position.x!==ve.position.x||re.position.y!==ve.position.y,re.position=ve.position,re.positionAbsolute=ve.positionAbsolute,re}),!Z)return;x(m.current,!0,!0),d(!0);const X=s?D:Jg(z);if(X&&R.current){const[re,N]=Zg({nodeId:s,dragItems:m.current,nodeInternals:F});X(R.current,re,N)}},j=()=>{if(!E.current)return;const[I,C]=jA(A.current,E.current);if(I!==0||C!==0){const{transform:F,panBy:D}=f.getState();_.current.x=(_.current.x??0)-I/F[2],_.current.y=(_.current.y??0)-C/F[2],D({x:I,y:C})&&Q(_.current)}v.current=requestAnimationFrame(j)},V=I=>{const{nodeInternals:C,multiSelectionActive:F,nodesDraggable:D,unselectNodesAndEdges:z,onNodeDragStart:x,onSelectionDragStart:k}=f.getState();M.current=!0;const G=s?x:Jg(k);(!u||!a)&&!F&&s&&(C.get(s)?.selected||z()),s&&a&&u&&Xy({id:s,store:f,nodeRef:t});const U=$(I);if(_.current=U,m.current=$P(C,D,U,s),G&&m.current){const[K,J]=Zg({nodeId:s,dragItems:m.current,nodeInternals:C});G(I.sourceEvent,K,J)}};if(e)H.on(".drag",null);else{const I=rO().on("start",C=>{const{domNode:F,nodeDragThreshold:D}=f.getState();D===0&&V(C),q.current=!1;const z=$(C);_.current=z,E.current=F?.getBoundingClientRect()||null,A.current=ro(C.sourceEvent,E.current)}).on("drag",C=>{const F=$(C),{autoPanOnNodeDrag:D,nodeDragThreshold:z}=f.getState();if(C.sourceEvent.type==="touchmove"&&C.sourceEvent.touches.length>1&&(q.current=!0),!q.current){if(!O.current&&M.current&&D&&(O.current=!0,j()),!M.current){const x=F.xSnapped-(_?.current?.x??0),k=F.ySnapped-(_?.current?.y??0);Math.sqrt(x*x+k*k)>z&&V(C)}(_.current.x!==F.xSnapped||_.current.y!==F.ySnapped)&&m.current&&M.current&&(R.current=C.sourceEvent,A.current=ro(C.sourceEvent,E.current),Q(F))}}).on("end",C=>{if(!(!M.current||q.current)&&(d(!1),O.current=!1,M.current=!1,cancelAnimationFrame(v.current),m.current)){const{updateNodePositions:F,nodeInternals:D,onNodeDragStop:z,onSelectionDragStop:x}=f.getState(),k=s?z:Jg(x);if(F(m.current,!1,!1),k){const[G,U]=Zg({nodeId:s,dragItems:m.current,nodeInternals:D});k(C.sourceEvent,G,U)}}}).filter(C=>{const F=C.target;return!C.button&&(!n||!xT(F,`.${n}`,t))&&(!r||xT(F,r,t))});return H.call(I),()=>{H.on(".drag",null)}}}},[t,e,n,r,a,f,s,u,$]),h}function Sx(){const t=mn();return L.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:a,getNodes:u,snapToGrid:f,snapGrid:h,onError:d,nodesDraggable:m}=t.getState(),_=u().filter(q=>q.selected&&(q.draggable||m&&typeof q.draggable>"u")),v=f?h[0]:5,E=f?h[1]:5,A=n.isShiftPressed?4:1,R=n.x*v*A,O=n.y*E*A,M=_.map(q=>{if(q.positionAbsolute){const $={x:q.positionAbsolute.x+R,y:q.positionAbsolute.y+O};f&&($.x=h[0]*Math.round($.x/h[0]),$.y=h[1]*Math.round($.y/h[1]));const{positionAbsolute:H,position:Q}=bx(q,$,r,s,void 0,d);q.position=Q,q.positionAbsolute=H}return q});a(M,!0,!1)},[])}const Pl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var _c=t=>{const e=({id:n,type:r,data:s,xPos:a,yPos:u,xPosOrigin:f,yPosOrigin:h,selected:d,onClick:m,onMouseEnter:_,onMouseMove:v,onMouseLeave:E,onContextMenu:A,onDoubleClick:R,style:O,className:M,isDraggable:q,isSelectable:$,isConnectable:H,isFocusable:Q,selectNodesOnDrag:j,sourcePosition:V,targetPosition:I,hidden:C,resizeObserver:F,dragHandle:D,zIndex:z,isParent:x,noDragClassName:k,noPanClassName:G,initialized:U,disableKeyboardA11y:K,ariaLabel:J,rfId:Z,hasHandleBounds:b})=>{const X=mn(),re=L.useRef(null),N=L.useRef(null),ue=L.useRef(V),ve=L.useRef(I),_e=L.useRef(r),Ce=$||q||m||_||v||E,be=Sx(),De=yc(n,X.getState,_),Oe=yc(n,X.getState,v),Ze=yc(n,X.getState,E),tt=yc(n,X.getState,A),ft=yc(n,X.getState,R),lt=Le=>{const{nodeDragThreshold:Re}=X.getState();if($&&(!j||!q||Re>0)&&Xy({id:n,store:X,nodeRef:re}),m){const At=X.getState().nodeInternals.get(n);At&&m(Le,{...At})}},Me=Le=>{if(!qy(Le)&&!K)if(YA.includes(Le.key)&&$){const Re=Le.key==="Escape";Xy({id:n,store:X,unselect:Re,nodeRef:re})}else q&&d&&Object.prototype.hasOwnProperty.call(Pl,Le.key)&&(X.setState({ariaLiveMessage:`Moved selected node ${Le.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~u}`}),be({x:Pl[Le.key].x,y:Pl[Le.key].y,isShiftPressed:Le.shiftKey}))};L.useEffect(()=>()=>{N.current&&(F?.unobserve(N.current),N.current=null)},[]),L.useEffect(()=>{if(re.current&&!C){const Le=re.current;(!U||!b||N.current!==Le)&&(N.current&&F?.unobserve(N.current),F?.observe(Le),N.current=Le)}},[C,U,b]),L.useEffect(()=>{const Le=_e.current!==r,Re=ue.current!==V,At=ve.current!==I;re.current&&(Le||Re||At)&&(Le&&(_e.current=r),Re&&(ue.current=V),At&&(ve.current=I),X.getState().updateNodeDimensions([{id:n,nodeElement:re.current,forceUpdate:!0}]))},[n,r,V,I]);const St=Tx({nodeRef:re,disabled:C||!q,noDragClassName:k,handleSelector:D,nodeId:n,isSelectable:$,selectNodesOnDrag:j});return C?null:fe.createElement("div",{className:On(["react-flow__node",`react-flow__node-${r}`,{[G]:q},M,{selected:d,selectable:$,parent:x,dragging:St}]),ref:re,style:{zIndex:z,transform:`translate(${f}px,${h}px)`,pointerEvents:Ce?"all":"none",visibility:U?"visible":"hidden",...O},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:De,onMouseMove:Oe,onMouseLeave:Ze,onContextMenu:tt,onClick:lt,onDoubleClick:ft,onKeyDown:Q?Me:void 0,tabIndex:Q?0:void 0,role:Q?"button":void 0,"aria-describedby":K?void 0:`${dx}-${Z}`,"aria-label":J},fe.createElement(aP,{value:n},fe.createElement(t,{id:n,data:s,type:r,xPos:a,yPos:u,selected:d,isConnectable:H,sourcePosition:V,targetPosition:I,dragging:St,dragHandle:D,zIndex:z})))};return e.displayName="NodeWrapper",L.memo(e)};const KP=t=>{const e=t.getNodes().filter(n=>n.selected);return{...cp(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function XP({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=mn(),{width:s,height:a,x:u,y:f,transformString:h,userSelectionActive:d}=kt(KP,bn),m=Sx(),_=L.useRef(null);if(L.useEffect(()=>{n||_.current?.focus({preventScroll:!0})},[n]),Tx({nodeRef:_}),d||!s||!a)return null;const v=t?A=>{const R=r.getState().getNodes().filter(O=>O.selected);t(A,R)}:void 0,E=A=>{Object.prototype.hasOwnProperty.call(Pl,A.key)&&m({x:Pl[A.key].x,y:Pl[A.key].y,isShiftPressed:A.shiftKey})};return fe.createElement("div",{className:On(["react-flow__nodesselection","react-flow__container",e]),style:{transform:h}},fe.createElement("div",{ref:_,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:n?void 0:-1,onKeyDown:n?void 0:E,style:{width:s,height:a,top:f,left:u}}))}var QP=L.memo(XP);const WP=t=>t.nodesSelectionActive,Ax=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,deleteKeyCode:f,onMove:h,onMoveStart:d,onMoveEnd:m,selectionKeyCode:_,selectionOnDrag:v,selectionMode:E,onSelectionStart:A,onSelectionEnd:R,multiSelectionKeyCode:O,panActivationKeyCode:M,zoomActivationKeyCode:q,elementsSelectable:$,zoomOnScroll:H,zoomOnPinch:Q,panOnScroll:j,panOnScrollSpeed:V,panOnScrollMode:I,zoomOnDoubleClick:C,panOnDrag:F,defaultViewport:D,translateExtent:z,minZoom:x,maxZoom:k,preventScrolling:G,onSelectionContextMenu:U,noWheelClassName:K,noPanClassName:J,disableKeyboardA11y:Z})=>{const b=kt(WP),X=Xc(_),re=Xc(M),N=re||F,ue=re||j,ve=X||v&&N!==!0;return VP({deleteKeyCode:f,multiSelectionKeyCode:O}),fe.createElement(BP,{onMove:h,onMoveStart:d,onMoveEnd:m,onPaneContextMenu:a,elementsSelectable:$,zoomOnScroll:H,zoomOnPinch:Q,panOnScroll:ue,panOnScrollSpeed:V,panOnScrollMode:I,zoomOnDoubleClick:C,panOnDrag:!X&&N,defaultViewport:D,translateExtent:z,minZoom:x,maxZoom:k,zoomActivationKeyCode:q,preventScrolling:G,noWheelClassName:K,noPanClassName:J},fe.createElement(Ex,{onSelectionStart:A,onSelectionEnd:R,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:N,isSelecting:!!ve,selectionMode:E},t,b&&fe.createElement(QP,{onSelectionContextMenu:U,noPanClassName:J,disableKeyboardA11y:Z})))};Ax.displayName="FlowRenderer";var ZP=L.memo(Ax);function JP(t){return kt(L.useCallback(n=>t?ex(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function e4(t){const e={input:_c(t.input||ux),default:_c(t.default||Ky),output:_c(t.output||fx),group:_c(t.group||tv)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,a)=>(s[a]=_c(t[a]||Ky),s),n);return{...e,...r}}const t4=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},n4=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),xx=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:a,onError:u}=kt(n4,bn),f=JP(t.onlyRenderVisibleElements),h=L.useRef(),d=L.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(_=>{const v=_.map(E=>({id:E.target.getAttribute("data-id"),nodeElement:E.target,forceUpdate:!0}));a(v)});return h.current=m,m},[]);return L.useEffect(()=>()=>{h?.current?.disconnect()},[]),fe.createElement("div",{className:"react-flow__nodes",style:nv},f.map(m=>{let _=m.type||"default";t.nodeTypes[_]||(u?.("003",fs.error003(_)),_="default");const v=t.nodeTypes[_]||t.nodeTypes.default,E=!!(m.draggable||e&&typeof m.draggable>"u"),A=!!(m.selectable||s&&typeof m.selectable>"u"),R=!!(m.connectable||n&&typeof m.connectable>"u"),O=!!(m.focusable||r&&typeof m.focusable>"u"),M=t.nodeExtent?X_(m.positionAbsolute,t.nodeExtent):m.positionAbsolute,q=M?.x??0,$=M?.y??0,H=t4({x:q,y:$,width:m.width??0,height:m.height??0,origin:t.nodeOrigin});return fe.createElement(v,{key:m.id,id:m.id,className:m.className,style:m.style,type:_,data:m.data,sourcePosition:m.sourcePosition||ke.Bottom,targetPosition:m.targetPosition||ke.Top,hidden:m.hidden,xPos:q,yPos:$,xPosOrigin:H.x,yPosOrigin:H.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!m.selected,isDraggable:E,isSelectable:A,isConnectable:R,isFocusable:O,resizeObserver:d,dragHandle:m.dragHandle,zIndex:m[$t]?.z??0,isParent:!!m[$t]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!m.width&&!!m.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!m[$t]?.handleBounds})}))};xx.displayName="NodeRenderer";var r4=L.memo(xx);const i4=(t,e,n)=>n===ke.Left?t-e:n===ke.Right?t+e:t,s4=(t,e,n)=>n===ke.Top?t-e:n===ke.Bottom?t+e:t,RT="react-flow__edgeupdater",IT=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:a,onMouseOut:u,type:f})=>fe.createElement("circle",{onMouseDown:s,onMouseEnter:a,onMouseOut:u,className:On([RT,`${RT}-${f}`]),cx:i4(e,r,t),cy:s4(n,r,t),r,stroke:"transparent",fill:"transparent"}),o4=()=>!0;var _l=t=>{const e=({id:n,className:r,type:s,data:a,onClick:u,onEdgeDoubleClick:f,selected:h,animated:d,label:m,labelStyle:_,labelShowBg:v,labelBgStyle:E,labelBgPadding:A,labelBgBorderRadius:R,style:O,source:M,target:q,sourceX:$,sourceY:H,targetX:Q,targetY:j,sourcePosition:V,targetPosition:I,elementsSelectable:C,hidden:F,sourceHandleId:D,targetHandleId:z,onContextMenu:x,onMouseEnter:k,onMouseMove:G,onMouseLeave:U,reconnectRadius:K,onReconnect:J,onReconnectStart:Z,onReconnectEnd:b,markerEnd:X,markerStart:re,rfId:N,ariaLabel:ue,isFocusable:ve,isReconnectable:_e,pathOptions:Ce,interactionWidth:be,disableKeyboardA11y:De})=>{const Oe=L.useRef(null),[Ze,tt]=L.useState(!1),[ft,lt]=L.useState(!1),Me=mn(),St=L.useMemo(()=>`url('#${Gy(re,N)}')`,[re,N]),Le=L.useMemo(()=>`url('#${Gy(X,N)}')`,[X,N]);if(F)return null;const Re=ut=>{const{edges:xt,addSelectedEdges:Ot,unselectNodesAndEdges:Yt,multiSelectionActive:Vt}=Me.getState(),ht=xt.find(Ft=>Ft.id===n);ht&&(C&&(Me.setState({nodesSelectionActive:!1}),ht.selected&&Vt?(Yt({nodes:[],edges:[ht]}),Oe.current?.blur()):Ot([n])),u&&u(ut,ht))},At=gc(n,Me.getState,f),Gt=gc(n,Me.getState,x),Tn=gc(n,Me.getState,k),Gn=gc(n,Me.getState,G),Sn=gc(n,Me.getState,U),Zt=(ut,xt)=>{if(ut.button!==0)return;const{edges:Ot,isValidConnection:Yt}=Me.getState(),Vt=xt?q:M,ht=(xt?z:D)||null,Ft=xt?"target":"source",on=Yt||o4,Mi=xt,jr=Ot.find(ir=>ir.id===n);lt(!0),Z?.(ut,jr,Ft);const rr=ir=>{lt(!1),b?.(ir,jr,Ft)};sx({event:ut,handleId:ht,nodeId:Vt,onConnect:ir=>J?.(jr,ir),isTarget:Mi,getState:Me.getState,setState:Me.setState,isValidConnection:on,edgeUpdaterType:Ft,onReconnectEnd:rr})},Fn=ut=>Zt(ut,!0),ee=ut=>Zt(ut,!1),he=()=>tt(!0),Ae=()=>tt(!1),Ie=!C&&!u,Xe=ut=>{if(!De&&YA.includes(ut.key)&&C){const{unselectNodesAndEdges:xt,addSelectedEdges:Ot,edges:Yt}=Me.getState();ut.key==="Escape"?(Oe.current?.blur(),xt({edges:[Yt.find(ht=>ht.id===n)]})):Ot([n])}};return fe.createElement("g",{className:On(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:h,animated:d,inactive:Ie,updating:Ze}]),onClick:Re,onDoubleClick:At,onContextMenu:Gt,onMouseEnter:Tn,onMouseMove:Gn,onMouseLeave:Sn,onKeyDown:ve?Xe:void 0,tabIndex:ve?0:void 0,role:ve?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ue===null?void 0:ue||`Edge from ${M} to ${q}`,"aria-describedby":ve?`${px}-${N}`:void 0,ref:Oe},!ft&&fe.createElement(t,{id:n,source:M,target:q,selected:h,animated:d,label:m,labelStyle:_,labelShowBg:v,labelBgStyle:E,labelBgPadding:A,labelBgBorderRadius:R,data:a,style:O,sourceX:$,sourceY:H,targetX:Q,targetY:j,sourcePosition:V,targetPosition:I,sourceHandleId:D,targetHandleId:z,markerStart:St,markerEnd:Le,pathOptions:Ce,interactionWidth:be}),_e&&fe.createElement(fe.Fragment,null,(_e==="source"||_e===!0)&&fe.createElement(IT,{position:V,centerX:$,centerY:H,radius:K,onMouseDown:Fn,onMouseEnter:he,onMouseOut:Ae,type:"source"}),(_e==="target"||_e===!0)&&fe.createElement(IT,{position:I,centerX:Q,centerY:j,radius:K,onMouseDown:ee,onMouseEnter:he,onMouseOut:Ae,type:"target"})))};return e.displayName="EdgeWrapper",L.memo(e)};function a4(t){const e={default:_l(t.default||Dd),straight:_l(t.bezier||Z_),step:_l(t.step||W_),smoothstep:_l(t.step||up),simplebezier:_l(t.simplebezier||Q_)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,a)=>(s[a]=_l(t[a]||Dd),s),n);return{...e,...r}}function NT(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,a=n?.width||e.width,u=n?.height||e.height;switch(t){case ke.Top:return{x:r+a/2,y:s};case ke.Right:return{x:r+a,y:s+u/2};case ke.Bottom:return{x:r+a/2,y:s+u};case ke.Left:return{x:r,y:s+u/2}}}function kT(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const l4=(t,e,n,r,s,a)=>{const u=NT(n,t,e),f=NT(a,r,s);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y}};function u4({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:a,width:u,height:f,transform:h}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+a)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const m=Gc({x:(0-h[0])/h[2],y:(0-h[1])/h[2],width:u/h[2],height:f/h[2]}),_=Math.max(0,Math.min(m.x2,d.x2)-Math.max(m.x,d.x)),v=Math.max(0,Math.min(m.y2,d.y2)-Math.max(m.y,d.y));return Math.ceil(_*v)>0}function DT(t){const e=t?.[$t]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const c4=[{level:0,isMaxLevel:!0,edges:[]}];function f4(t,e,n=!1){let r=-1;const s=t.reduce((u,f)=>{const h=Fr(f.zIndex);let d=h?f.zIndex:0;if(n){const m=e.get(f.target),_=e.get(f.source),v=f.selected||m?.selected||_?.selected,E=Math.max(_?.[$t]?.z||0,m?.[$t]?.z||0,1e3);d=(h?f.zIndex:0)+(v?E:0)}return u[d]?u[d].push(f):u[d]=[f],r=d>r?d:r,u},{}),a=Object.entries(s).map(([u,f])=>{const h=+u;return{edges:f,level:h,isMaxLevel:h===r}});return a.length===0?c4:a}function h4(t,e,n){const r=kt(L.useCallback(s=>t?s.edges.filter(a=>{const u=e.get(a.source),f=e.get(a.target);return u?.width&&u?.height&&f?.width&&f?.height&&u4({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:f.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:f.width,targetHeight:f.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return f4(r,e,n)}const d4=({color:t="none",strokeWidth:e=1})=>fe.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),p4=({color:t="none",strokeWidth:e=1})=>fe.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),OT={[Kc.Arrow]:d4,[Kc.ArrowClosed]:p4};function m4(t){const e=mn();return L.useMemo(()=>Object.prototype.hasOwnProperty.call(OT,t)?OT[t]:(e.getState().onError?.("009",fs.error009(t)),null),[t])}const g4=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:f="auto-start-reverse"})=>{const h=m4(e);return h?fe.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:f,refX:"0",refY:"0"},fe.createElement(h,{color:n,strokeWidth:u})):null},y4=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,a)=>([a.markerStart,a.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const f=Gy(u,e);r.includes(f)||(s.push({id:f,color:u.color||t,...u}),r.push(f))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))},Cx=({defaultColor:t,rfId:e})=>{const n=kt(L.useCallback(y4({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((a,u)=>a.id!==s[u].id)));return fe.createElement("defs",null,n.map(r=>fe.createElement(g4,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Cx.displayName="MarkerDefinitions";var _4=L.memo(Cx);const v4=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),Rx=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:a,onEdgeContextMenu:u,onEdgeMouseEnter:f,onEdgeMouseMove:h,onEdgeMouseLeave:d,onEdgeClick:m,onEdgeDoubleClick:_,onReconnect:v,onReconnectStart:E,onReconnectEnd:A,reconnectRadius:R,children:O,disableKeyboardA11y:M})=>{const{edgesFocusable:q,edgesUpdatable:$,elementsSelectable:H,width:Q,height:j,connectionMode:V,nodeInternals:I,onError:C}=kt(v4,bn),F=h4(e,I,n);return Q?fe.createElement(fe.Fragment,null,F.map(({level:D,edges:z,isMaxLevel:x})=>fe.createElement("svg",{key:D,style:{zIndex:D},width:Q,height:j,className:"react-flow__edges react-flow__container"},x&&fe.createElement(_4,{defaultColor:t,rfId:r}),fe.createElement("g",null,z.map(k=>{const[G,U,K]=DT(I.get(k.source)),[J,Z,b]=DT(I.get(k.target));if(!K||!b)return null;let X=k.type||"default";s[X]||(C?.("011",fs.error011(X)),X="default");const re=s[X]||s.default,N=V===co.Strict?Z.target:(Z.target??[]).concat(Z.source??[]),ue=kT(U.source,k.sourceHandle),ve=kT(N,k.targetHandle),_e=ue?.position||ke.Bottom,Ce=ve?.position||ke.Top,be=!!(k.focusable||q&&typeof k.focusable>"u"),De=k.reconnectable||k.updatable,Oe=typeof v<"u"&&(De||$&&typeof De>"u");if(!ue||!ve)return C?.("008",fs.error008(ue,k)),null;const{sourceX:Ze,sourceY:tt,targetX:ft,targetY:lt}=l4(G,ue,_e,J,ve,Ce);return fe.createElement(re,{key:k.id,id:k.id,className:On([k.className,a]),type:X,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:Ze,sourceY:tt,targetX:ft,targetY:lt,sourcePosition:_e,targetPosition:Ce,elementsSelectable:H,onContextMenu:u,onMouseEnter:f,onMouseMove:h,onMouseLeave:d,onClick:m,onEdgeDoubleClick:_,onReconnect:v,onReconnectStart:E,onReconnectEnd:A,reconnectRadius:R,rfId:r,ariaLabel:k.ariaLabel,isFocusable:be,isReconnectable:Oe,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:M})})))),O):null};Rx.displayName="EdgeRenderer";var E4=L.memo(Rx);const w4=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function b4({children:t}){const e=kt(w4);return fe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function T4(t){const e=hf(),n=L.useRef(!1);L.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const S4={[ke.Left]:ke.Right,[ke.Right]:ke.Left,[ke.Top]:ke.Bottom,[ke.Bottom]:ke.Top},Ix=({nodeId:t,handleType:e,style:n,type:r=Ws.Bezier,CustomComponent:s,connectionStatus:a})=>{const{fromNode:u,handleId:f,toX:h,toY:d,connectionMode:m}=kt(L.useCallback(j=>({fromNode:j.nodeInternals.get(t),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[t]),bn),_=u?.[$t]?.handleBounds;let v=_?.[e];if(m===co.Loose&&(v=v||_?.[e==="source"?"target":"source"]),!u||!v)return null;const E=f?v.find(j=>j.id===f):v[0],A=E?E.x+E.width/2:(u.width??0)/2,R=E?E.y+E.height/2:u.height??0,O=(u.positionAbsolute?.x??0)+A,M=(u.positionAbsolute?.y??0)+R,q=E?.position,$=q?S4[q]:null;if(!q||!$)return null;if(s)return fe.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:E,fromX:O,fromY:M,toX:h,toY:d,fromPosition:q,toPosition:$,connectionStatus:a});let H="";const Q={sourceX:O,sourceY:M,sourcePosition:q,targetX:h,targetY:d,targetPosition:$};return r===Ws.Bezier?[H]=ZA(Q):r===Ws.Step?[H]=$y({...Q,borderRadius:0}):r===Ws.SmoothStep?[H]=$y(Q):r===Ws.SimpleBezier?[H]=WA(Q):H=`M${O},${M} ${h},${d}`,fe.createElement("path",{d:H,fill:"none",className:"react-flow__connection-path",style:n})};Ix.displayName="ConnectionLine";const A4=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function x4({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:a,nodesConnectable:u,width:f,height:h,connectionStatus:d}=kt(A4,bn);return!(s&&a&&f&&u)?null:fe.createElement("svg",{style:t,width:f,height:h,className:"react-flow__edges react-flow__connectionline react-flow__container"},fe.createElement("g",{className:On(["react-flow__connection",d])},fe.createElement(Ix,{nodeId:s,handleType:a,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function MT(t,e){return L.useRef(null),mn(),L.useMemo(()=>e(t),[t])}const Nx=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:a,onNodeClick:u,onEdgeClick:f,onNodeDoubleClick:h,onEdgeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:E,onSelectionContextMenu:A,onSelectionStart:R,onSelectionEnd:O,connectionLineType:M,connectionLineStyle:q,connectionLineComponent:$,connectionLineContainerStyle:H,selectionKeyCode:Q,selectionOnDrag:j,selectionMode:V,multiSelectionKeyCode:I,panActivationKeyCode:C,zoomActivationKeyCode:F,deleteKeyCode:D,onlyRenderVisibleElements:z,elementsSelectable:x,selectNodesOnDrag:k,defaultViewport:G,translateExtent:U,minZoom:K,maxZoom:J,preventScrolling:Z,defaultMarkerColor:b,zoomOnScroll:X,zoomOnPinch:re,panOnScroll:N,panOnScrollSpeed:ue,panOnScrollMode:ve,zoomOnDoubleClick:_e,panOnDrag:Ce,onPaneClick:be,onPaneMouseEnter:De,onPaneMouseMove:Oe,onPaneMouseLeave:Ze,onPaneScroll:tt,onPaneContextMenu:ft,onEdgeContextMenu:lt,onEdgeMouseEnter:Me,onEdgeMouseMove:St,onEdgeMouseLeave:Le,onReconnect:Re,onReconnectStart:At,onReconnectEnd:Gt,reconnectRadius:Tn,noDragClassName:Gn,noWheelClassName:Sn,noPanClassName:Zt,elevateEdgesOnSelect:Fn,disableKeyboardA11y:ee,nodeOrigin:he,nodeExtent:Ae,rfId:Ie})=>{const Xe=MT(t,e4),ut=MT(e,a4);return T4(a),fe.createElement(ZP,{onPaneClick:be,onPaneMouseEnter:De,onPaneMouseMove:Oe,onPaneMouseLeave:Ze,onPaneContextMenu:ft,onPaneScroll:tt,deleteKeyCode:D,selectionKeyCode:Q,selectionOnDrag:j,selectionMode:V,onSelectionStart:R,onSelectionEnd:O,multiSelectionKeyCode:I,panActivationKeyCode:C,zoomActivationKeyCode:F,elementsSelectable:x,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:X,zoomOnPinch:re,zoomOnDoubleClick:_e,panOnScroll:N,panOnScrollSpeed:ue,panOnScrollMode:ve,panOnDrag:Ce,defaultViewport:G,translateExtent:U,minZoom:K,maxZoom:J,onSelectionContextMenu:A,preventScrolling:Z,noDragClassName:Gn,noWheelClassName:Sn,noPanClassName:Zt,disableKeyboardA11y:ee},fe.createElement(b4,null,fe.createElement(E4,{edgeTypes:ut,onEdgeClick:f,onEdgeDoubleClick:d,onlyRenderVisibleElements:z,onEdgeContextMenu:lt,onEdgeMouseEnter:Me,onEdgeMouseMove:St,onEdgeMouseLeave:Le,onReconnect:Re,onReconnectStart:At,onReconnectEnd:Gt,reconnectRadius:Tn,defaultMarkerColor:b,noPanClassName:Zt,elevateEdgesOnSelect:!!Fn,disableKeyboardA11y:ee,rfId:Ie},fe.createElement(x4,{style:q,type:M,component:$,containerStyle:H})),fe.createElement("div",{className:"react-flow__edgelabel-renderer"}),fe.createElement(r4,{nodeTypes:Xe,onNodeClick:u,onNodeDoubleClick:h,onNodeMouseEnter:m,onNodeMouseMove:_,onNodeMouseLeave:v,onNodeContextMenu:E,selectNodesOnDrag:k,onlyRenderVisibleElements:z,noPanClassName:Zt,noDragClassName:Gn,disableKeyboardA11y:ee,nodeOrigin:he,nodeExtent:Ae,rfId:Ie})))};Nx.displayName="GraphView";var C4=L.memo(Nx);const Qy=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$s={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Qy,nodeExtent:Qy,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:co.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:tP,isValidConnection:void 0},R4=()=>mk((t,e)=>({...$s,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:a}=e();t({nodeInternals:Qg(n,r,s,a)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",a=typeof r<"u",u=s?Qg(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:a?r:[],hasDefaultNodes:s,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:a,fitViewOnInitDone:u,fitViewOnInitOptions:f,domNode:h,nodeOrigin:d}=e(),m=h?.querySelector(".react-flow__viewport");if(!m)return;const _=window.getComputedStyle(m),{m22:v}=new window.DOMMatrixReadOnly(_.transform),E=n.reduce((R,O)=>{const M=s.get(O.id);if(M?.hidden)s.set(M.id,{...M,[$t]:{...M[$t],handleBounds:void 0}});else if(M){const q=K_(O.nodeElement);!!(q.width&&q.height&&(M.width!==q.width||M.height!==q.height||O.forceUpdate))&&(s.set(M.id,{...M,[$t]:{...M[$t],handleBounds:{source:CT(".source",O.nodeElement,v,d),target:CT(".target",O.nodeElement,v,d)}},...q}),R.push({id:M.id,type:"dimensions",dimensions:q}))}return R},[]);gx(s,d);const A=u||a&&!u&&yx(e,{initial:!0,...f});t({nodeInternals:new Map(s),fitViewOnInitDone:A}),E?.length>0&&r?.(E)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:a}=e(),u=n.map(f=>{const h={id:f.id,type:"position",dragging:s};return r&&(h.positionAbsolute=f.positionAbsolute,h.position=f.position),h});a(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:a,nodeOrigin:u,getNodes:f,elevateNodesOnSelect:h}=e();if(n?.length){if(a){const d=vx(n,f()),m=Qg(d,s,u,h);t({nodeInternals:m})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,f=null;r?u=n.map(h=>Xs(h,!0)):(u=kl(a(),n),f=kl(s,[])),Qh({changedNodes:u,changedEdges:f,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:a}=e();let u,f=null;r?u=n.map(h=>Xs(h,!0)):(u=kl(s,n),f=kl(a(),[])),Qh({changedNodes:f,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:a}=e(),u=n||a(),f=r||s,h=u.map(m=>(m.selected=!1,Xs(m.id,!1))),d=f.map(m=>Xs(m.id,!1));Qh({changedNodes:h,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),a=r().filter(f=>f.selected).map(f=>Xs(f.id,!1)),u=n.filter(f=>f.selected).map(f=>Xs(f.id,!1));Qh({changedNodes:a,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=X_(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:a,d3Zoom:u,d3Selection:f,translateExtent:h}=e();if(!u||!f||!n.x&&!n.y)return!1;const d=as.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),m=[[0,0],[s,a]],_=u?.constrain()(d,m,h);return u.transform(f,_),r[0]!==_.x||r[1]!==_.y||r[2]!==_.k},cancelConnection:()=>t({connectionNodeId:$s.connectionNodeId,connectionHandleId:$s.connectionHandleId,connectionHandleType:$s.connectionHandleType,connectionStatus:$s.connectionStatus,connectionStartHandle:$s.connectionStartHandle,connectionEndHandle:$s.connectionEndHandle}),reset:()=>t({...$s})}),Object.is),kx=({children:t})=>{const e=L.useRef(null);return e.current||(e.current=R4()),fe.createElement(KM,{value:e.current},t)};kx.displayName="ReactFlowProvider";const Dx=({children:t})=>L.useContext(lp)?fe.createElement(fe.Fragment,null,t):fe.createElement(kx,null,t);Dx.displayName="ReactFlowWrapper";const I4={input:ux,default:Ky,output:fx,group:tv},N4={default:Dd,straight:Z_,step:W_,smoothstep:up,simplebezier:Q_},k4=[0,0],D4=[15,15],O4={x:0,y:0,zoom:1},M4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Ox=L.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:a=I4,edgeTypes:u=N4,onNodeClick:f,onEdgeClick:h,onInit:d,onMove:m,onMoveStart:_,onMoveEnd:v,onConnect:E,onConnectStart:A,onConnectEnd:R,onClickConnectStart:O,onClickConnectEnd:M,onNodeMouseEnter:q,onNodeMouseMove:$,onNodeMouseLeave:H,onNodeContextMenu:Q,onNodeDoubleClick:j,onNodeDragStart:V,onNodeDrag:I,onNodeDragStop:C,onNodesDelete:F,onEdgesDelete:D,onSelectionChange:z,onSelectionDragStart:x,onSelectionDrag:k,onSelectionDragStop:G,onSelectionContextMenu:U,onSelectionStart:K,onSelectionEnd:J,connectionMode:Z=co.Strict,connectionLineType:b=Ws.Bezier,connectionLineStyle:X,connectionLineComponent:re,connectionLineContainerStyle:N,deleteKeyCode:ue="Backspace",selectionKeyCode:ve="Shift",selectionOnDrag:_e=!1,selectionMode:Ce=Yc.Full,panActivationKeyCode:be="Space",multiSelectionKeyCode:De=kd()?"Meta":"Control",zoomActivationKeyCode:Oe=kd()?"Meta":"Control",snapToGrid:Ze=!1,snapGrid:tt=D4,onlyRenderVisibleElements:ft=!1,selectNodesOnDrag:lt=!0,nodesDraggable:Me,nodesConnectable:St,nodesFocusable:Le,nodeOrigin:Re=k4,edgesFocusable:At,edgesUpdatable:Gt,elementsSelectable:Tn,defaultViewport:Gn=O4,minZoom:Sn=.5,maxZoom:Zt=2,translateExtent:Fn=Qy,preventScrolling:ee=!0,nodeExtent:he,defaultMarkerColor:Ae="#b1b1b7",zoomOnScroll:Ie=!0,zoomOnPinch:Xe=!0,panOnScroll:ut=!1,panOnScrollSpeed:xt=.5,panOnScrollMode:Ot=sa.Free,zoomOnDoubleClick:Yt=!0,panOnDrag:Vt=!0,onPaneClick:ht,onPaneMouseEnter:Ft,onPaneMouseMove:on,onPaneMouseLeave:Mi,onPaneScroll:jr,onPaneContextMenu:rr,children:wr,onEdgeContextMenu:ir,onEdgeDoubleClick:br,onEdgeMouseEnter:To,onEdgeMouseMove:ri,onEdgeMouseLeave:vs,onEdgeUpdate:ii,onEdgeUpdateStart:Aa,onEdgeUpdateEnd:Ct,onReconnect:Kt,onReconnectStart:Ht,onReconnectEnd:Yn,reconnectRadius:So=10,edgeUpdaterRadius:du=10,onNodesChange:si,onEdgesChange:xa,noDragClassName:Pi="nodrag",noWheelClassName:oi="nowheel",noPanClassName:Tr="nopan",fitView:Sr=!1,fitViewOptions:Ar,connectOnClick:An=!0,attributionPosition:Ut,proOptions:Ao,defaultEdgeOptions:Es,elevateNodesOnSelect:sr=!0,elevateEdgesOnSelect:qr=!1,disableKeyboardA11y:xo=!1,autoPanOnConnect:Ca=!0,autoPanOnNodeDrag:Vi=!0,connectionRadius:Ra=20,isValidConnection:ai,onError:xr,style:an,id:li,nodeDragThreshold:Ia,...$r},ws)=>{const ui=li||"1";return fe.createElement("div",{...$r,style:{...an,...M4},ref:ws,className:On(["react-flow",s]),"data-testid":"rf__wrapper",id:li},fe.createElement(Dx,null,fe.createElement(C4,{onInit:d,onMove:m,onMoveStart:_,onMoveEnd:v,onNodeClick:f,onEdgeClick:h,onNodeMouseEnter:q,onNodeMouseMove:$,onNodeMouseLeave:H,onNodeContextMenu:Q,onNodeDoubleClick:j,nodeTypes:a,edgeTypes:u,connectionLineType:b,connectionLineStyle:X,connectionLineComponent:re,connectionLineContainerStyle:N,selectionKeyCode:ve,selectionOnDrag:_e,selectionMode:Ce,deleteKeyCode:ue,multiSelectionKeyCode:De,panActivationKeyCode:be,zoomActivationKeyCode:Oe,onlyRenderVisibleElements:ft,selectNodesOnDrag:lt,defaultViewport:Gn,translateExtent:Fn,minZoom:Sn,maxZoom:Zt,preventScrolling:ee,zoomOnScroll:Ie,zoomOnPinch:Xe,zoomOnDoubleClick:Yt,panOnScroll:ut,panOnScrollSpeed:xt,panOnScrollMode:Ot,panOnDrag:Vt,onPaneClick:ht,onPaneMouseEnter:Ft,onPaneMouseMove:on,onPaneMouseLeave:Mi,onPaneScroll:jr,onPaneContextMenu:rr,onSelectionContextMenu:U,onSelectionStart:K,onSelectionEnd:J,onEdgeContextMenu:ir,onEdgeDoubleClick:br,onEdgeMouseEnter:To,onEdgeMouseMove:ri,onEdgeMouseLeave:vs,onReconnect:Kt??ii,onReconnectStart:Ht??Aa,onReconnectEnd:Yn??Ct,reconnectRadius:So??du,defaultMarkerColor:Ae,noDragClassName:Pi,noWheelClassName:oi,noPanClassName:Tr,elevateEdgesOnSelect:qr,rfId:ui,disableKeyboardA11y:xo,nodeOrigin:Re,nodeExtent:he}),fe.createElement(SP,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:E,onConnectStart:A,onConnectEnd:R,onClickConnectStart:O,onClickConnectEnd:M,nodesDraggable:Me,nodesConnectable:St,nodesFocusable:Le,edgesFocusable:At,edgesUpdatable:Gt,elementsSelectable:Tn,elevateNodesOnSelect:sr,minZoom:Sn,maxZoom:Zt,nodeExtent:he,onNodesChange:si,onEdgesChange:xa,snapToGrid:Ze,snapGrid:tt,connectionMode:Z,translateExtent:Fn,connectOnClick:An,defaultEdgeOptions:Es,fitView:Sr,fitViewOptions:Ar,onNodesDelete:F,onEdgesDelete:D,onNodeDragStart:V,onNodeDrag:I,onNodeDragStop:C,onSelectionDrag:k,onSelectionDragStart:x,onSelectionDragStop:G,noPanClassName:Tr,nodeOrigin:Re,rfId:ui,autoPanOnConnect:Ca,autoPanOnNodeDrag:Vi,onError:xr,connectionRadius:Ra,isValidConnection:ai,nodeDragThreshold:Ia}),fe.createElement(bP,{onSelectionChange:z}),wr,fe.createElement(QM,{proOptions:Ao,position:Ut}),fe.createElement(IP,{rfId:ui,disableKeyboardA11y:xo})))});Ox.displayName="ReactFlow";function Mx(t){return e=>{const[n,r]=L.useState(e),s=L.useCallback(a=>r(u=>t(a,u)),[]);return[n,r,s]}}const P4=Mx(vx),V4=Mx(jP),Px=({id:t,x:e,y:n,width:r,height:s,style:a,color:u,strokeColor:f,strokeWidth:h,className:d,borderRadius:m,shapeRendering:_,onClick:v,selected:E})=>{const{background:A,backgroundColor:R}=a||{},O=u||A||R;return fe.createElement("rect",{className:On(["react-flow__minimap-node",{selected:E},d]),x:e,y:n,rx:m,ry:m,width:r,height:s,fill:O,stroke:f,strokeWidth:h,shapeRendering:_,onClick:v?M=>v(M,t):void 0})};Px.displayName="MiniMapNode";var L4=L.memo(Px);const U4=t=>t.nodeOrigin,z4=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),ey=t=>t instanceof Function?t:()=>t;function B4({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:a=L4,onClick:u}){const f=kt(z4,bn),h=kt(U4),d=ey(e),m=ey(t),_=ey(n),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return fe.createElement(fe.Fragment,null,f.map(E=>{const{x:A,y:R}=la(E,h).positionAbsolute;return fe.createElement(a,{key:E.id,x:A,y:R,width:E.width,height:E.height,style:E.style,selected:E.selected,className:_(E),color:d(E),borderRadius:r,strokeColor:m(E),strokeWidth:s,shapeRendering:v,onClick:u,id:E.id})}))}var F4=L.memo(B4);const H4=200,j4=150,q4=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?JM(cp(e,t.nodeOrigin),n):n,rfId:t.rfId}},$4="react-flow__minimap-desc";function Vx({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:a=5,nodeStrokeWidth:u=2,nodeComponent:f,maskColor:h="rgb(240, 240, 240, 0.6)",maskStrokeColor:d="none",maskStrokeWidth:m=1,position:_="bottom-right",onClick:v,onNodeClick:E,pannable:A=!1,zoomable:R=!1,ariaLabel:O="React Flow mini map",inversePan:M=!1,zoomStep:q=10,offsetScale:$=5}){const H=mn(),Q=L.useRef(null),{boundingRect:j,viewBB:V,rfId:I}=kt(q4,bn),C=t?.width??H4,F=t?.height??j4,D=j.width/C,z=j.height/F,x=Math.max(D,z),k=x*C,G=x*F,U=$*x,K=j.x-(k-j.width)/2-U,J=j.y-(G-j.height)/2-U,Z=k+U*2,b=G+U*2,X=`${$4}-${I}`,re=L.useRef(0);re.current=x,L.useEffect(()=>{if(Q.current){const ve=zr(Q.current),_e=De=>{const{transform:Oe,d3Selection:Ze,d3Zoom:tt}=H.getState();if(De.sourceEvent.type!=="wheel"||!Ze||!tt)return;const ft=-De.sourceEvent.deltaY*(De.sourceEvent.deltaMode===1?.05:De.sourceEvent.deltaMode?1:.002)*q,lt=Oe[2]*Math.pow(2,ft);tt.scaleTo(Ze,lt)},Ce=De=>{const{transform:Oe,d3Selection:Ze,d3Zoom:tt,translateExtent:ft,width:lt,height:Me}=H.getState();if(De.sourceEvent.type!=="mousemove"||!Ze||!tt)return;const St=re.current*Math.max(1,Oe[2])*(M?-1:1),Le={x:Oe[0]-De.sourceEvent.movementX*St,y:Oe[1]-De.sourceEvent.movementY*St},Re=[[0,0],[lt,Me]],At=as.translate(Le.x,Le.y).scale(Oe[2]),Gt=tt.constrain()(At,Re,ft);tt.transform(Ze,Gt)},be=FA().on("zoom",A?Ce:null).on("zoom.wheel",R?_e:null);return ve.call(be),()=>{ve.on("zoom",null)}}},[A,R,M,q]);const N=v?ve=>{const _e=Qr(ve);v(ve,{x:_e[0],y:_e[1]})}:void 0,ue=E?(ve,_e)=>{const Ce=H.getState().nodeInternals.get(_e);E(ve,Ce)}:void 0;return fe.createElement(Y_,{position:_,style:t,className:On(["react-flow__minimap",e]),"data-testid":"rf__minimap"},fe.createElement("svg",{width:C,height:F,viewBox:`${K} ${J} ${Z} ${b}`,role:"img","aria-labelledby":X,ref:Q,onClick:N},O&&fe.createElement("title",{id:X},O),fe.createElement(F4,{onClick:ue,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:s,nodeStrokeWidth:u,nodeComponent:f}),fe.createElement("path",{className:"react-flow__minimap-mask",d:`M${K-U},${J-U}h${Z+U*2}v${b+U*2}h${-Z-U*2}z
        M${V.x},${V.y}h${V.width}v${V.height}h${-V.width}z`,fill:h,fillRule:"evenodd",stroke:d,strokeWidth:m,pointerEvents:"none"})))}Vx.displayName="MiniMap";var G4=L.memo(Vx);function Y4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},fe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function K4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},fe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function X4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},fe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Q4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function W4(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ac=({children:t,className:e,...n})=>fe.createElement("button",{type:"button",className:On(["react-flow__controls-button",e]),...n},t);Ac.displayName="ControlButton";const Z4=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),Lx=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:a,onZoomOut:u,onFitView:f,onInteractiveChange:h,className:d,children:m,position:_="bottom-left"})=>{const v=mn(),[E,A]=L.useState(!1),{isInteractive:R,minZoomReached:O,maxZoomReached:M}=kt(Z4,bn),{zoomIn:q,zoomOut:$,fitView:H}=hf();if(L.useEffect(()=>{A(!0)},[]),!E)return null;const Q=()=>{q(),a?.()},j=()=>{$(),u?.()},V=()=>{H(s),f?.()},I=()=>{v.setState({nodesDraggable:!R,nodesConnectable:!R,elementsSelectable:!R}),h?.(!R)};return fe.createElement(Y_,{className:On(["react-flow__controls",d]),position:_,style:t,"data-testid":"rf__controls"},e&&fe.createElement(fe.Fragment,null,fe.createElement(Ac,{onClick:Q,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:M},fe.createElement(Y4,null)),fe.createElement(Ac,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:O},fe.createElement(K4,null))),n&&fe.createElement(Ac,{className:"react-flow__controls-fitview",onClick:V,title:"fit view","aria-label":"fit view"},fe.createElement(X4,null)),r&&fe.createElement(Ac,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity"},R?fe.createElement(W4,null):fe.createElement(Q4,null)),m)};Lx.displayName="Controls";var J4=L.memo(Lx),Hr;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Hr||(Hr={}));function eV({color:t,dimensions:e,lineWidth:n}){return fe.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function tV({color:t,radius:e}){return fe.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const nV={[Hr.Dots]:"#91919a",[Hr.Lines]:"#eee",[Hr.Cross]:"#e2e2e2"},rV={[Hr.Dots]:1,[Hr.Lines]:1,[Hr.Cross]:6},iV=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Ux({id:t,variant:e=Hr.Dots,gap:n=20,size:r,lineWidth:s=1,offset:a=2,color:u,style:f,className:h}){const d=L.useRef(null),{transform:m,patternId:_}=kt(iV,bn),v=u||nV[e],E=r||rV[e],A=e===Hr.Dots,R=e===Hr.Cross,O=Array.isArray(n)?n:[n,n],M=[O[0]*m[2]||1,O[1]*m[2]||1],q=E*m[2],$=R?[q,q]:M,H=A?[q/a,q/a]:[$[0]/a,$[1]/a];return fe.createElement("svg",{className:On(["react-flow__background",h]),style:{...f,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},fe.createElement("pattern",{id:_+t,x:m[0]%M[0],y:m[1]%M[1],width:M[0],height:M[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${H[0]},-${H[1]})`},A?fe.createElement(tV,{color:v,radius:q/a}):fe.createElement(eV,{dimensions:$,color:v,lineWidth:s})),fe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_+t})`}))}Ux.displayName="Background";var sV=L.memo(Ux);const oV=()=>{};var PT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},aV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],f=t[n++],h=((s&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,f=u?t[s+1]:0,h=s+2<t.length,d=h?t[s+2]:0,m=a>>2,_=(a&3)<<4|f>>4;let v=(f&15)<<2|d>>6,E=d&63;h||(E=64,u||(v=64)),r.push(n[m],n[_],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],f=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||f==null||d==null||_==null)throw new lV;const v=a<<2|f>>4;if(r.push(v),d!==64){const E=f<<4&240|d>>2;if(r.push(E),_!==64){const A=d<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uV=function(t){const e=zx(t);return Bx.encodeByteArray(e,!0)},Od=function(t){return uV(t).replace(/\./g,"")},Fx=function(t){try{return Bx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=()=>cV().__FIREBASE_DEFAULTS__,hV=()=>{if(typeof process>"u"||typeof PT>"u")return;const t=PT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fx(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return oV()||fV()||hV()||dV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hx=t=>{var e,n;return(n=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pV=t=>{const e=Hx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jx=()=>{var t;return(t=fp())===null||t===void 0?void 0:t.config},qx=t=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return t.endsWith(".cloudworkstations.dev")}async function $x(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Od(JSON.stringify(n)),Od(JSON.stringify(u)),""].join(".")}const Dc={};function yV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dc))Dc[e]?t.emulator.push(e):t.prod.push(e);return t}function _V(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let VT=!1;function Gx(t,e){if(typeof window>"u"||typeof document>"u"||!tu(window.location.host)||Dc[t]===e||Dc[t]||VT)return;Dc[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=yV().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function h(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{VT=!0,u()},v}function m(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=_V(r),E=n("text"),A=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),O=document.getElementById(R)||document.createElement("a"),M=n("preprendIcon"),q=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const $=v.element;f($),m(O,R);const H=d();h(q,M),$.append(q,A,O,H),document.body.appendChild($)}a?(A.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function EV(){var t;const e=(t=fp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SV(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AV(){return!EV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xV(){try{return typeof indexedDB=="object"}catch{return!1}}function CV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RV,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,df.prototype.create)}}class df{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?IV(a,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new ys(s,f,r)}}function IV(t,e){return t.replace(NV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const NV=/\{\$([^}]+)}/g;function kV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ha(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(LT(a)&&LT(u)){if(!ha(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function LT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Cc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function DV(t,e){const n=new OV(t,e);return n.subscribe.bind(n)}class OV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ty),s.error===void 0&&(s.error=ty),s.complete===void 0&&(s.complete=ty);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ty(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PV=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LV(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);r===f&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function VV(t){return t===ea?void 0:t}function LV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const zV={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},BV=nt.INFO,FV={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},HV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=BV,this._logHandler=HV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const jV=(t,e)=>e.some(n=>t instanceof n);let UT,zT;function qV(){return UT||(UT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $V(){return zT||(zT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yx=new WeakMap,Wy=new WeakMap,Kx=new WeakMap,ny=new WeakMap,iv=new WeakMap;function GV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(io(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&Yx.set(n,t)}).catch(()=>{}),iv.set(e,t),e}function YV(t){if(Wy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Wy.set(t,e)}let Zy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KV(t){Zy=t(Zy)}function XV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ry(this),e,...n);return Kx.set(r,e.sort?e.sort():[e]),io(r)}:$V().includes(t)?function(...e){return t.apply(ry(this),e),io(Yx.get(this))}:function(...e){return io(t.apply(ry(this),e))}}function QV(t){return typeof t=="function"?XV(t):(t instanceof IDBTransaction&&YV(t),jV(t,qV())?new Proxy(t,Zy):t)}function io(t){if(t instanceof IDBRequest)return GV(t);if(ny.has(t))return ny.get(t);const e=QV(t);return e!==t&&(ny.set(t,e),iv.set(e,t)),e}const ry=t=>iv.get(t);function WV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),f=io(u);return r&&u.addEventListener("upgradeneeded",h=>{r(io(u.result),h.oldVersion,h.newVersion,io(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const ZV=["get","getKey","getAll","getAllKeys","count"],JV=["put","add","delete","clear"],iy=new Map;function BT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iy.get(e))return iy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZV.includes(n)))return;const a=async function(u,...f){const h=this.transaction(u,s?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),s&&h.done]))[0]};return iy.set(e,a),a}KV(t=>({...t,get:(e,n,r)=>BT(e,n)||t.get(e,n,r),has:(e,n)=>!!BT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function t3(t){const e=t.getComponent();return e?.type==="VERSION"}const Jy="@firebase/app",FT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new rv("@firebase/app"),n3="@firebase/app-compat",r3="@firebase/analytics-compat",i3="@firebase/analytics",s3="@firebase/app-check-compat",o3="@firebase/app-check",a3="@firebase/auth",l3="@firebase/auth-compat",u3="@firebase/database",c3="@firebase/data-connect",f3="@firebase/database-compat",h3="@firebase/functions",d3="@firebase/functions-compat",p3="@firebase/installations",m3="@firebase/installations-compat",g3="@firebase/messaging",y3="@firebase/messaging-compat",_3="@firebase/performance",v3="@firebase/performance-compat",E3="@firebase/remote-config",w3="@firebase/remote-config-compat",b3="@firebase/storage",T3="@firebase/storage-compat",S3="@firebase/firestore",A3="@firebase/ai",x3="@firebase/firestore-compat",C3="firebase",R3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="[DEFAULT]",I3={[Jy]:"fire-core",[n3]:"fire-core-compat",[i3]:"fire-analytics",[r3]:"fire-analytics-compat",[o3]:"fire-app-check",[s3]:"fire-app-check-compat",[a3]:"fire-auth",[l3]:"fire-auth-compat",[u3]:"fire-rtdb",[c3]:"fire-data-connect",[f3]:"fire-rtdb-compat",[h3]:"fire-fn",[d3]:"fire-fn-compat",[p3]:"fire-iid",[m3]:"fire-iid-compat",[g3]:"fire-fcm",[y3]:"fire-fcm-compat",[_3]:"fire-perf",[v3]:"fire-perf-compat",[E3]:"fire-rc",[w3]:"fire-rc-compat",[b3]:"fire-gcs",[T3]:"fire-gcs-compat",[S3]:"fire-fst",[x3]:"fire-fst-compat",[A3]:"fire-vertex","fire-js":"fire-js",[C3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,N3=new Map,t_=new Map;function HT(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yl(t){const e=t.name;if(t_.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;t_.set(e,t);for(const n of Md.values())HT(n,t);for(const n of N3.values())HT(n,t);return!0}function sv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Br(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new df("app","Firebase",k3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=R3;function Xx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:e_,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw so.create("bad-app-name",{appName:String(s)});if(n||(n=jx()),!n)throw so.create("no-options");const a=Md.get(s);if(a){if(ha(n,a.options)&&ha(r,a.config))return a;throw so.create("duplicate-app",{appName:s})}const u=new UV(s);for(const h of t_.values())u.addComponent(h);const f=new D3(n,r,u);return Md.set(s,f),f}function Qx(t=e_){const e=Md.get(t);if(!e&&t===e_&&jx())return Xx();if(!e)throw so.create("no-app",{appName:t});return e}function oo(t,e,n){var r;let s=(r=I3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${s}" with version "${e}":`];a&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(f.join(" "));return}Yl(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="firebase-heartbeat-database",M3=1,Qc="firebase-heartbeat-store";let sy=null;function Wx(){return sy||(sy=WV(O3,M3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qc)}catch(n){console.warn(n)}}}}).catch(t=>{throw so.create("idb-open",{originalErrorMessage:t.message})})),sy}async function P3(t){try{const n=(await Wx()).transaction(Qc),r=await n.objectStore(Qc).get(Zx(t));return await n.done,r}catch(e){if(e instanceof ys)hs.warn(e.message);else{const n=so.create("idb-get",{originalErrorMessage:e?.message});hs.warn(n.message)}}}async function jT(t,e){try{const r=(await Wx()).transaction(Qc,"readwrite");await r.objectStore(Qc).put(e,Zx(t)),await r.done}catch(n){if(n instanceof ys)hs.warn(n.message);else{const r=so.create("idb-set",{originalErrorMessage:n?.message});hs.warn(r.message)}}}function Zx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=1024,L3=30;class U3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=qT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>L3){const u=F3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qT(),{heartbeatsToSend:r,unsentEntries:s}=z3(this._heartbeatsCache.heartbeats),a=Od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return hs.warn(n),""}}}function qT(){return new Date().toISOString().substring(0,10)}function z3(t,e=V3){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),$T(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$T(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xV()?CV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $T(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function F3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){Yl(new da("platform-logger",e=>new e3(e),"PRIVATE")),Yl(new da("heartbeat",e=>new U3(e),"PRIVATE")),oo(Jy,FT,t),oo(Jy,FT,"esm2017"),oo("fire-js","")}H3("");var j3="firebase",q3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo(j3,q3,"app");var GT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ao,Jx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function C(){}C.prototype=I.prototype,V.D=I.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(F,D,z){for(var x=Array(arguments.length-2),k=2;k<arguments.length;k++)x[k-2]=arguments[k];return I.prototype[D].apply(F,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,I,C){C||(C=0);var F=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)F[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;16>D;++D)F[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=V.g[0],C=V.g[1],D=V.g[2];var z=V.g[3],x=I+(z^C&(D^z))+F[0]+3614090360&4294967295;I=C+(x<<7&4294967295|x>>>25),x=z+(D^I&(C^D))+F[1]+3905402710&4294967295,z=I+(x<<12&4294967295|x>>>20),x=D+(C^z&(I^C))+F[2]+606105819&4294967295,D=z+(x<<17&4294967295|x>>>15),x=C+(I^D&(z^I))+F[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(z^C&(D^z))+F[4]+4118548399&4294967295,I=C+(x<<7&4294967295|x>>>25),x=z+(D^I&(C^D))+F[5]+1200080426&4294967295,z=I+(x<<12&4294967295|x>>>20),x=D+(C^z&(I^C))+F[6]+2821735955&4294967295,D=z+(x<<17&4294967295|x>>>15),x=C+(I^D&(z^I))+F[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(z^C&(D^z))+F[8]+1770035416&4294967295,I=C+(x<<7&4294967295|x>>>25),x=z+(D^I&(C^D))+F[9]+2336552879&4294967295,z=I+(x<<12&4294967295|x>>>20),x=D+(C^z&(I^C))+F[10]+4294925233&4294967295,D=z+(x<<17&4294967295|x>>>15),x=C+(I^D&(z^I))+F[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(z^C&(D^z))+F[12]+1804603682&4294967295,I=C+(x<<7&4294967295|x>>>25),x=z+(D^I&(C^D))+F[13]+4254626195&4294967295,z=I+(x<<12&4294967295|x>>>20),x=D+(C^z&(I^C))+F[14]+2792965006&4294967295,D=z+(x<<17&4294967295|x>>>15),x=C+(I^D&(z^I))+F[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=I+(D^z&(C^D))+F[1]+4129170786&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^D&(I^C))+F[6]+3225465664&4294967295,z=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(z^I))+F[11]+643717713&4294967295,D=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(D^z))+F[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(D^z&(C^D))+F[5]+3593408605&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^D&(I^C))+F[10]+38016083&4294967295,z=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(z^I))+F[15]+3634488961&4294967295,D=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(D^z))+F[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(D^z&(C^D))+F[9]+568446438&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^D&(I^C))+F[14]+3275163606&4294967295,z=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(z^I))+F[3]+4107603335&4294967295,D=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(D^z))+F[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(D^z&(C^D))+F[13]+2850285829&4294967295,I=C+(x<<5&4294967295|x>>>27),x=z+(C^D&(I^C))+F[2]+4243563512&4294967295,z=I+(x<<9&4294967295|x>>>23),x=D+(I^C&(z^I))+F[7]+1735328473&4294967295,D=z+(x<<14&4294967295|x>>>18),x=C+(z^I&(D^z))+F[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=I+(C^D^z)+F[5]+4294588738&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^D)+F[8]+2272392833&4294967295,z=I+(x<<11&4294967295|x>>>21),x=D+(z^I^C)+F[11]+1839030562&4294967295,D=z+(x<<16&4294967295|x>>>16),x=C+(D^z^I)+F[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(C^D^z)+F[1]+2763975236&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^D)+F[4]+1272893353&4294967295,z=I+(x<<11&4294967295|x>>>21),x=D+(z^I^C)+F[7]+4139469664&4294967295,D=z+(x<<16&4294967295|x>>>16),x=C+(D^z^I)+F[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(C^D^z)+F[13]+681279174&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^D)+F[0]+3936430074&4294967295,z=I+(x<<11&4294967295|x>>>21),x=D+(z^I^C)+F[3]+3572445317&4294967295,D=z+(x<<16&4294967295|x>>>16),x=C+(D^z^I)+F[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(C^D^z)+F[9]+3654602809&4294967295,I=C+(x<<4&4294967295|x>>>28),x=z+(I^C^D)+F[12]+3873151461&4294967295,z=I+(x<<11&4294967295|x>>>21),x=D+(z^I^C)+F[15]+530742520&4294967295,D=z+(x<<16&4294967295|x>>>16),x=C+(D^z^I)+F[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=I+(D^(C|~z))+F[0]+4096336452&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~D))+F[7]+1126891415&4294967295,z=I+(x<<10&4294967295|x>>>22),x=D+(I^(z|~C))+F[14]+2878612391&4294967295,D=z+(x<<15&4294967295|x>>>17),x=C+(z^(D|~I))+F[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=I+(D^(C|~z))+F[12]+1700485571&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~D))+F[3]+2399980690&4294967295,z=I+(x<<10&4294967295|x>>>22),x=D+(I^(z|~C))+F[10]+4293915773&4294967295,D=z+(x<<15&4294967295|x>>>17),x=C+(z^(D|~I))+F[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=I+(D^(C|~z))+F[8]+1873313359&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~D))+F[15]+4264355552&4294967295,z=I+(x<<10&4294967295|x>>>22),x=D+(I^(z|~C))+F[6]+2734768916&4294967295,D=z+(x<<15&4294967295|x>>>17),x=C+(z^(D|~I))+F[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=I+(D^(C|~z))+F[4]+4149444226&4294967295,I=C+(x<<6&4294967295|x>>>26),x=z+(C^(I|~D))+F[11]+3174756917&4294967295,z=I+(x<<10&4294967295|x>>>22),x=D+(I^(z|~C))+F[2]+718787259&4294967295,D=z+(x<<15&4294967295|x>>>17),x=C+(z^(D|~I))+F[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+z&4294967295}r.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var C=I-this.blockSize,F=this.B,D=this.h,z=0;z<I;){if(D==0)for(;z<=C;)s(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<I;)if(F[D++]=V.charCodeAt(z++),D==this.blockSize){s(this,F),D=0;break}}else for(;z<I;)if(F[D++]=V[z++],D==this.blockSize){s(this,F),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var C=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=C&255,C/=256;for(this.u(V),V=Array(16),I=C=0;4>I;++I)for(var F=0;32>F;F+=8)V[C++]=this.g[I]>>>F&255;return V};function a(V,I){var C=f;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=I(V)}function u(V,I){this.h=I;for(var C=[],F=!0,D=V.length-1;0<=D;D--){var z=V[D]|0;F&&z==I||(C[D]=z,F=!1)}this.g=C}var f={};function h(V){return-128<=V&&128>V?a(V,function(I){return new u([I|0],0>I?-1:0)}):new u([V|0],0>V?-1:0)}function d(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return O(d(-V));for(var I=[],C=1,F=0;V>=C;F++)I[F]=V/C|0,C*=4294967296;return new u(I,0)}function m(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return O(m(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(I,8)),F=_,D=0;D<V.length;D+=8){var z=Math.min(8,V.length-D),x=parseInt(V.substring(D,D+z),I);8>z?(z=d(Math.pow(I,z)),F=F.j(z).add(d(x))):(F=F.j(C),F=F.add(d(x)))}return F}var _=h(0),v=h(1),E=h(16777216);t=u.prototype,t.m=function(){if(R(this))return-O(this).m();for(var V=0,I=1,C=0;C<this.g.length;C++){var F=this.i(C);V+=(0<=F?F:4294967296+F)*I,I*=4294967296}return V},t.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(A(this))return"0";if(R(this))return"-"+O(this).toString(V);for(var I=d(Math.pow(V,6)),C=this,F="";;){var D=H(C,I).g;C=M(C,D.j(I));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=D,A(C))return z+F;for(;6>z.length;)z="0"+z;F=z+F}},t.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function A(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function R(V){return V.h==-1}t.l=function(V){return V=M(this,V),R(V)?-1:A(V)?0:1};function O(V){for(var I=V.g.length,C=[],F=0;F<I;F++)C[F]=~V.g[F];return new u(C,~V.h).add(v)}t.abs=function(){return R(this)?O(this):this},t.add=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],F=0,D=0;D<=I;D++){var z=F+(this.i(D)&65535)+(V.i(D)&65535),x=(z>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);F=x>>>16,z&=65535,x&=65535,C[D]=x<<16|z}return new u(C,C[C.length-1]&-2147483648?-1:0)};function M(V,I){return V.add(O(I))}t.j=function(V){if(A(this)||A(V))return _;if(R(this))return R(V)?O(this).j(O(V)):O(O(this).j(V));if(R(V))return O(this.j(O(V)));if(0>this.l(E)&&0>V.l(E))return d(this.m()*V.m());for(var I=this.g.length+V.g.length,C=[],F=0;F<2*I;F++)C[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<V.g.length;D++){var z=this.i(F)>>>16,x=this.i(F)&65535,k=V.i(D)>>>16,G=V.i(D)&65535;C[2*F+2*D]+=x*G,q(C,2*F+2*D),C[2*F+2*D+1]+=z*G,q(C,2*F+2*D+1),C[2*F+2*D+1]+=x*k,q(C,2*F+2*D+1),C[2*F+2*D+2]+=z*k,q(C,2*F+2*D+2)}for(F=0;F<I;F++)C[F]=C[2*F+1]<<16|C[2*F];for(F=I;F<2*I;F++)C[F]=0;return new u(C,0)};function q(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function $(V,I){this.g=V,this.h=I}function H(V,I){if(A(I))throw Error("division by zero");if(A(V))return new $(_,_);if(R(V))return I=H(O(V),I),new $(O(I.g),O(I.h));if(R(I))return I=H(V,O(I)),new $(O(I.g),I.h);if(30<V.g.length){if(R(V)||R(I))throw Error("slowDivide_ only works with positive integers.");for(var C=v,F=I;0>=F.l(V);)C=Q(C),F=Q(F);var D=j(C,1),z=j(F,1);for(F=j(F,2),C=j(C,2);!A(F);){var x=z.add(F);0>=x.l(V)&&(D=D.add(C),z=x),F=j(F,1),C=j(C,1)}return I=M(V,D.j(I)),new $(D,I)}for(D=_;0<=V.l(I);){for(C=Math.max(1,Math.floor(V.m()/I.m())),F=Math.ceil(Math.log(C)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),z=d(C),x=z.j(I);R(x)||0<x.l(V);)C-=F,z=d(C),x=z.j(I);A(z)&&(z=v),D=D.add(z),V=M(V,x)}return new $(D,V)}t.A=function(V){return H(this,V).h},t.and=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],F=0;F<I;F++)C[F]=this.i(F)&V.i(F);return new u(C,this.h&V.h)},t.or=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],F=0;F<I;F++)C[F]=this.i(F)|V.i(F);return new u(C,this.h|V.h)},t.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],F=0;F<I;F++)C[F]=this.i(F)^V.i(F);return new u(C,this.h^V.h)};function Q(V){for(var I=V.g.length+1,C=[],F=0;F<I;F++)C[F]=V.i(F)<<1|V.i(F-1)>>>31;return new u(C,V.h)}function j(V,I){var C=I>>5;I%=32;for(var F=V.g.length-C,D=[],z=0;z<F;z++)D[z]=0<I?V.i(z+C)>>>I|V.i(z+C+1)<<32-I:V.i(z+C);return new u(D,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,ao=u}).apply(typeof GT<"u"?GT:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eC,Rc,tC,pd,n_,nC,rC,iC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,T){return p==Array.prototype||p==Object.prototype||(p[w]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var w=0;w<p.length;++w){var T=p[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function s(p,w){if(w)e:{var T=r;p=p.split(".");for(var B=0;B<p.length-1;B++){var ie=p[B];if(!(ie in T))break e;T=T[ie]}p=p[p.length-1],B=T[p],w=w(B),w!=B&&w!=null&&e(T,p,{configurable:!0,writable:!0,value:w})}}function a(p,w){p instanceof String&&(p+="");var T=0,B=!1,ie={next:function(){if(!B&&T<p.length){var ce=T++;return{value:w(ce,p[ce]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}s("Array.prototype.values",function(p){return p||function(){return a(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function h(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function d(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function m(p,w,T){return p.call.apply(p.bind,arguments)}function _(p,w,T){if(!p)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,B),p.apply(w,ie)}}return function(){return p.apply(w,arguments)}}function v(p,w,T){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,v.apply(null,arguments)}function E(p,w){var T=Array.prototype.slice.call(arguments,1);return function(){var B=T.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function A(p,w){function T(){}T.prototype=w.prototype,p.aa=w.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(B,ie,ce){for(var we=Array(arguments.length-2),it=2;it<arguments.length;it++)we[it-2]=arguments[it];return w.prototype[ie].apply(B,we)}}function R(p){const w=p.length;if(0<w){const T=Array(w);for(let B=0;B<w;B++)T[B]=p[B];return T}return[]}function O(p,w){for(let T=1;T<arguments.length;T++){const B=arguments[T];if(h(B)){const ie=p.length||0,ce=B.length||0;p.length=ie+ce;for(let we=0;we<ce;we++)p[ie+we]=B[we]}else p.push(B)}}class M{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function q(p){return/^[\s\xa0]*$/.test(p)}function $(){var p=f.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var Q=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function j(p,w,T){for(const B in p)w.call(T,p[B],B,p)}function V(p,w){for(const T in p)w.call(void 0,p[T],T,p)}function I(p){const w={};for(const T in p)w[T]=p[T];return w}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(p,w){let T,B;for(let ie=1;ie<arguments.length;ie++){B=arguments[ie];for(T in B)p[T]=B[T];for(let ce=0;ce<C.length;ce++)T=C[ce],Object.prototype.hasOwnProperty.call(B,T)&&(p[T]=B[T])}}function D(p){var w=1;p=p.split(":");const T=[];for(;0<w&&p.length;)T.push(p.shift()),w--;return p.length&&T.push(p.join(":")),T}function z(p){f.setTimeout(()=>{throw p},0)}function x(){var p=Z;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class k{constructor(){this.h=this.g=null}add(w,T){const B=G.get();B.set(w,T),this.h?this.h.next=B:this.g=B,this.h=B}}var G=new M(()=>new U,p=>p.reset());class U{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let K,J=!1,Z=new k,b=()=>{const p=f.Promise.resolve(void 0);K=()=>{p.then(X)}};var X=()=>{for(var p;p=x();){try{p.h.call(p.g)}catch(T){z(T)}var w=G;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}J=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};f.addEventListener("test",T,w),f.removeEventListener("test",T,w)}catch{}return p}();function ve(p,w){if(N.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(Q){e:{try{H(w.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(w=null)}}else T=="mouseover"?w=p.fromElement:T=="mouseout"&&(w=p.toElement);this.relatedTarget=w,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:_e[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ve.aa.h.call(this)}}A(ve,N);var _e={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),be=0;function De(p,w,T,B,ie){this.listener=p,this.proxy=null,this.src=w,this.type=T,this.capture=!!B,this.ha=ie,this.key=++be,this.da=this.fa=!1}function Oe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ze(p){this.src=p,this.g={},this.h=0}Ze.prototype.add=function(p,w,T,B,ie){var ce=p.toString();p=this.g[ce],p||(p=this.g[ce]=[],this.h++);var we=ft(p,w,B,ie);return-1<we?(w=p[we],T||(w.fa=!1)):(w=new De(w,this.src,ce,!!B,ie),w.fa=T,p.push(w)),w};function tt(p,w){var T=w.type;if(T in p.g){var B=p.g[T],ie=Array.prototype.indexOf.call(B,w,void 0),ce;(ce=0<=ie)&&Array.prototype.splice.call(B,ie,1),ce&&(Oe(w),p.g[T].length==0&&(delete p.g[T],p.h--))}}function ft(p,w,T,B){for(var ie=0;ie<p.length;++ie){var ce=p[ie];if(!ce.da&&ce.listener==w&&ce.capture==!!T&&ce.ha==B)return ie}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),Me={};function St(p,w,T,B,ie){if(Array.isArray(w)){for(var ce=0;ce<w.length;ce++)St(p,w[ce],T,B,ie);return null}return T=Fn(T),p&&p[Ce]?p.K(w,T,d(B)?!!B.capture:!1,ie):Le(p,w,T,!1,B,ie)}function Le(p,w,T,B,ie,ce){if(!w)throw Error("Invalid event type");var we=d(ie)?!!ie.capture:!!ie,it=Sn(p);if(it||(p[lt]=it=new Ze(p)),T=it.add(w,T,B,we,ce),T.proxy)return T;if(B=Re(),T.proxy=B,B.src=p,B.listener=T,p.addEventListener)ue||(ie=we),ie===void 0&&(ie=!1),p.addEventListener(w.toString(),B,ie);else if(p.attachEvent)p.attachEvent(Tn(w.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Re(){function p(T){return w.call(p.src,p.listener,T)}const w=Gn;return p}function At(p,w,T,B,ie){if(Array.isArray(w))for(var ce=0;ce<w.length;ce++)At(p,w[ce],T,B,ie);else B=d(B)?!!B.capture:!!B,T=Fn(T),p&&p[Ce]?(p=p.i,w=String(w).toString(),w in p.g&&(ce=p.g[w],T=ft(ce,T,B,ie),-1<T&&(Oe(ce[T]),Array.prototype.splice.call(ce,T,1),ce.length==0&&(delete p.g[w],p.h--)))):p&&(p=Sn(p))&&(w=p.g[w.toString()],p=-1,w&&(p=ft(w,T,B,ie)),(T=-1<p?w[p]:null)&&Gt(T))}function Gt(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[Ce])tt(w.i,p);else{var T=p.type,B=p.proxy;w.removeEventListener?w.removeEventListener(T,B,p.capture):w.detachEvent?w.detachEvent(Tn(T),B):w.addListener&&w.removeListener&&w.removeListener(B),(T=Sn(w))?(tt(T,p),T.h==0&&(T.src=null,w[lt]=null)):Oe(p)}}}function Tn(p){return p in Me?Me[p]:Me[p]="on"+p}function Gn(p,w){if(p.da)p=!0;else{w=new ve(w,this);var T=p.listener,B=p.ha||p.src;p.fa&&Gt(p),p=T.call(B,w)}return p}function Sn(p){return p=p[lt],p instanceof Ze?p:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fn(p){return typeof p=="function"?p:(p[Zt]||(p[Zt]=function(w){return p.handleEvent(w)}),p[Zt])}function ee(){re.call(this),this.i=new Ze(this),this.M=this,this.F=null}A(ee,re),ee.prototype[Ce]=!0,ee.prototype.removeEventListener=function(p,w,T,B){At(this,p,w,T,B)};function he(p,w){var T,B=p.F;if(B)for(T=[];B;B=B.F)T.push(B);if(p=p.M,B=w.type||w,typeof w=="string")w=new N(w,p);else if(w instanceof N)w.target=w.target||p;else{var ie=w;w=new N(B,p),F(w,ie)}if(ie=!0,T)for(var ce=T.length-1;0<=ce;ce--){var we=w.g=T[ce];ie=Ae(we,B,!0,w)&&ie}if(we=w.g=p,ie=Ae(we,B,!0,w)&&ie,ie=Ae(we,B,!1,w)&&ie,T)for(ce=0;ce<T.length;ce++)we=w.g=T[ce],ie=Ae(we,B,!1,w)&&ie}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var T=p.g[w],B=0;B<T.length;B++)Oe(T[B]);delete p.g[w],p.h--}}this.F=null},ee.prototype.K=function(p,w,T,B){return this.i.add(String(p),w,!1,T,B)},ee.prototype.L=function(p,w,T,B){return this.i.add(String(p),w,!0,T,B)};function Ae(p,w,T,B){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var ie=!0,ce=0;ce<w.length;++ce){var we=w[ce];if(we&&!we.da&&we.capture==T){var it=we.listener,ln=we.ha||we.src;we.fa&&tt(p.i,we),ie=it.call(ln,B)!==!1&&ie}}return ie&&!B.defaultPrevented}function Ie(p,w,T){if(typeof p=="function")T&&(p=v(p,T));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:f.setTimeout(p,w||0)}function Xe(p){p.g=Ie(()=>{p.g=null,p.i&&(p.i=!1,Xe(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class ut extends re{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xt(p){re.call(this),this.h=p,this.g={}}A(xt,re);var Ot=[];function Yt(p){j(p.g,function(w,T){this.g.hasOwnProperty(T)&&Gt(w)},p),p.g={}}xt.prototype.N=function(){xt.aa.N.call(this),Yt(this)},xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=f.JSON.stringify,ht=f.JSON.parse,Ft=class{stringify(p){return f.JSON.stringify(p,void 0)}parse(p){return f.JSON.parse(p,void 0)}};function on(){}on.prototype.h=null;function Mi(p){return p.h||(p.h=p.i())}function jr(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){N.call(this,"d")}A(wr,N);function ir(){N.call(this,"c")}A(ir,N);var br={},To=null;function ri(){return To=To||new ee}br.La="serverreachability";function vs(p){N.call(this,br.La,p)}A(vs,N);function ii(p){const w=ri();he(w,new vs(w))}br.STAT_EVENT="statevent";function Aa(p,w){N.call(this,br.STAT_EVENT,p),this.stat=w}A(Aa,N);function Ct(p){const w=ri();he(w,new Aa(w,p))}br.Ma="timingevent";function Kt(p,w){N.call(this,br.Ma,p),this.size=w}A(Kt,N);function Ht(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){p()},w)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function So(p,w,T,B,ie,ce){p.info(function(){if(p.g)if(ce)for(var we="",it=ce.split("&"),ln=0;ln<it.length;ln++){var st=it[ln].split("=");if(1<st.length){var yn=st[0];st=st[1];var un=yn.split("_");we=2<=un.length&&un[1]=="type"?we+(yn+"="+st+"&"):we+(yn+"=redacted&")}}else we=null;else we=ce;return"XMLHTTP REQ ("+B+") [attempt "+ie+"]: "+w+`
`+T+`
`+we})}function du(p,w,T,B,ie,ce,we){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ie+"]: "+w+`
`+T+`
`+ce+" "+we})}function si(p,w,T,B){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+Pi(p,T)+(B?" "+B:"")})}function xa(p,w){p.info(function(){return"TIMEOUT: "+w})}Yn.prototype.info=function(){};function Pi(p,w){if(!p.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var B=T[p];if(!(2>B.length)){var ie=B[1];if(Array.isArray(ie)&&!(1>ie.length)){var ce=ie[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var we=1;we<ie.length;we++)ie[we]=""}}}}return Vt(T)}catch{return w}}var oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sr;function Ar(){}A(Ar,on),Ar.prototype.g=function(){return new XMLHttpRequest},Ar.prototype.i=function(){return{}},Sr=new Ar;function An(p,w,T,B){this.j=p,this.i=w,this.l=T,this.R=B||1,this.U=new xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var Ao={},Es={};function sr(p,w,T){p.L=1,p.v=Io(or(w)),p.m=T,p.P=!0,qr(p,null)}function qr(p,w){p.F=Date.now(),Vi(p),p.A=or(p.v);var T=p.A,B=p.R;Array.isArray(B)||(B=[String(B)]),vu(T.i,"t",B),p.C=0,T=p.j.J,p.h=new Ut,p.g=zf(p.j,T?w:null,!p.m),0<p.O&&(p.M=new ut(v(p.Y,p,p.g),p.O)),w=p.U,T=p.g,B=p.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(Ot[0]=ie.toString()),ie=Ot);for(var ce=0;ce<ie.length;ce++){var we=St(T,ie[ce],B||w.handleEvent,!1,w.h||w);if(!we)break;w.g[we.key]=we}w=p.H?I(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),ii(),So(p.i,p.u,p.A,p.l,p.R,p.m)}An.prototype.ca=function(p){p=p.target;const w=this.M;w&&Nr(p)==3?w.j():this.Y(p)},An.prototype.Y=function(p){try{if(p==this.g)e:{const un=Nr(this.g);var w=this.g.Ba();const ji=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||kf(this.g)))){this.J||un!=4||w==7||(w==8||0>=ji?ii(3):ii(2)),ai(this);var T=this.g.Z();this.X=T;t:if(xo(this)){var B=kf(this.g);p="";var ie=B.length,ce=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),xr(this);var we="";break t}this.h.i=new f.TextDecoder}for(w=0;w<ie;w++)this.h.h=!0,p+=this.h.i.decode(B[w],{stream:!(ce&&w==ie-1)});B.length=0,this.h.g+=p,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=T==200,du(this.i,this.u,this.A,this.l,this.R,un,T),this.o){if(this.T&&!this.K){t:{if(this.g){var it,ln=this.g;if((it=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(it)){var st=it;break t}}st=null}if(T=st)si(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,li(this,T);else{this.o=!1,this.s=3,Ct(12),an(this),xr(this);break e}}if(this.P){T=!0;let xn;for(;!this.J&&this.C<we.length;)if(xn=Ca(this,we),xn==Es){un==4&&(this.s=4,Ct(14),T=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Ao){this.s=4,Ct(15),si(this.i,this.l,we,"[Invalid Chunk]"),T=!1;break}else si(this.i,this.l,xn,null),li(this,xn);if(xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||we.length!=0||this.h.h||(this.s=1,Ct(16),T=!1),this.o=this.o&&T,!T)si(this.i,this.l,we,"[Invalid Chunked Response]"),an(this),xr(this);else if(0<we.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),Lo(yn),yn.M=!0,Ct(11))}}else si(this.i,this.l,we,null),li(this,we);un==4&&an(this),this.o&&!this.J&&(un==4?Vf(this.j,this):(this.o=!1,Vi(this)))}else jp(this.g),T==400&&0<we.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),an(this),xr(this)}}}catch{}finally{}};function xo(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Ca(p,w){var T=p.C,B=w.indexOf(`
`,T);return B==-1?Es:(T=Number(w.substring(T,B)),isNaN(T)?Ao:(B+=1,B+T>w.length?Es:(w=w.slice(B,B+T),p.C=B+T,w)))}An.prototype.cancel=function(){this.J=!0,an(this)};function Vi(p){p.S=Date.now()+p.I,Ra(p,p.I)}function Ra(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Ht(v(p.ba,p),w)}function ai(p){p.B&&(f.clearTimeout(p.B),p.B=null)}An.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(xa(this.i,this.A),this.L!=2&&(ii(),Ct(17)),an(this),this.s=2,xr(this)):Ra(this,this.S-p)};function xr(p){p.j.G==0||p.J||Vf(p.j,p)}function an(p){ai(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Yt(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function li(p,w){try{var T=p.j;if(T.G!=0&&(T.g==p||pu(T.h,p))){if(!p.K&&pu(T.h,p)&&T.G==3){try{var B=T.Da.g.parse(w)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ie=B;if(ie[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)za(T),La(T);else break e;Su(T),Ct(18)}}else T.za=ie[1],0<T.za-T.T&&37500>ie[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ht(v(T.Za,T),6e3));if(1>=ui(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Hi(T,11)}else if((p.K||T.g==p)&&za(T),!q(w))for(ie=T.Da.g.parse(w),w=0;w<ie.length;w++){let st=ie[w];if(T.T=st[0],st=st[1],T.G==2)if(st[0]=="c"){T.K=st[1],T.ia=st[2];const yn=st[3];yn!=null&&(T.la=yn,T.j.info("VER="+T.la));const un=st[4];un!=null&&(T.Aa=un,T.j.info("SVER="+T.Aa));const ji=st[5];ji!=null&&typeof ji=="number"&&0<ji&&(B=1.5*ji,T.L=B,T.j.info("backChannelRequestTimeoutMs_="+B)),B=T;const xn=p.g;if(xn){const gi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var ce=B.h;ce.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Na(ce,ce.h),ce.h=null))}if(B.D){const xu=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;xu&&(B.ya=xu,vt(B.I,B.D,xu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),B=T;var we=p;if(B.qa=Uf(B,B.J?B.ia:null,B.W),we.K){Hn(B.h,we);var it=we,ln=B.L;ln&&(it.I=ln),it.B&&(ai(it),Vi(it)),B.g=we}else Mf(B);0<T.i.length&&Ua(T)}else st[0]!="stop"&&st[0]!="close"||Hi(T,7);else T.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Hi(T,7):bu(T):st[0]!="noop"&&T.l&&T.l.ta(st),T.v=0)}}ii(4)}catch{}}var Ia=class{constructor(p,w){this.g=p,this.map=w}};function $r(p){this.l=p||10,f.PerformanceNavigationTiming?(p=f.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ws(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ui(p){return p.h?1:p.g?p.g.size:0}function pu(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Na(p,w){p.g?p.g.add(w):p.h=w}function Hn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}$r.prototype.cancel=function(){if(this.i=mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function mu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const T of p.g.values())w=w.concat(T.D);return w}return R(p.i)}function zp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var w=[],T=p.length,B=0;B<T;B++)w.push(p[B]);return w}w=[],T=0;for(B in p)w[T++]=p[B];return w}function ka(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var w=[];p=p.length;for(var T=0;T<p;T++)w.push(T);return w}w=[],T=0;for(const B in p)w[T++]=B;return w}}}function gu(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var T=ka(p),B=zp(p),ie=B.length,ce=0;ce<ie;ce++)w.call(void 0,B[ce],T&&T[ce],p)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bp(p,w){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var B=p[T].indexOf("="),ie=null;if(0<=B){var ce=p[T].substring(0,B);ie=p[T].substring(B+1)}else ce=p[T];w(ce,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Jt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Jt){this.h=p.h,Ro(this,p.j),this.o=p.o,this.g=p.g,bs(this,p.s),this.l=p.l;var w=p.i,T=new Ui;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),Li(this,T),this.m=p.m}else p&&(w=String(p).match(Co))?(this.h=!1,Ro(this,w[1]||"",!0),this.o=Cr(w[2]||""),this.g=Cr(w[3]||"",!0),bs(this,w[4]),this.l=Cr(w[5]||"",!0),Li(this,w[6]||"",!0),this.m=Cr(w[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Jt.prototype.toString=function(){var p=[],w=this.j;w&&p.push(No(w,yu,!0),":");var T=this.g;return(T||w=="file")&&(p.push("//"),(w=this.o)&&p.push(No(w,yu,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(No(T,T.charAt(0)=="/"?Fp:_u,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",No(T,Da)),p.join("")};function or(p){return new Jt(p)}function Ro(p,w,T){p.j=T?Cr(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function bs(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function Li(p,w,T){w instanceof Ui?(p.i=w,If(p.i,p.h)):(T||(w=No(w,Hp)),p.i=new Ui(w,p.h))}function vt(p,w,T){p.i.set(w,T)}function Io(p){return vt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Cr(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function No(p,w,T){return typeof p=="string"?(p=encodeURI(p).replace(w,Rf),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Rf(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var yu=/[#\/\?@]/g,_u=/[#\?:]/g,Fp=/[#\?]/g,Hp=/[#\?@]/g,Da=/#/g;function Ui(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Rr(p){p.g||(p.g=new Map,p.h=0,p.i&&Bp(p.i,function(w,T){p.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Ui.prototype,t.add=function(p,w){Rr(this),this.i=null,p=ci(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(w),this.h+=1,this};function zi(p,w){Rr(p),w=ci(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Bi(p,w){return Rr(p),w=ci(p,w),p.g.has(w)}t.forEach=function(p,w){Rr(this),this.g.forEach(function(T,B){T.forEach(function(ie){p.call(w,ie,B,this)},this)},this)},t.na=function(){Rr(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let B=0;B<w.length;B++){const ie=p[B];for(let ce=0;ce<ie.length;ce++)T.push(w[B])}return T},t.V=function(p){Rr(this);let w=[];if(typeof p=="string")Bi(this,p)&&(w=w.concat(this.g.get(ci(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)w=w.concat(p[T])}return w},t.set=function(p,w){return Rr(this),this.i=null,p=ci(this,p),Bi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},t.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function vu(p,w,T){zi(p,w),0<T.length&&(p.i=null,p.g.set(ci(p,w),R(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var B=w[T];const ce=encodeURIComponent(String(B)),we=this.V(B);for(B=0;B<we.length;B++){var ie=ce;we[B]!==""&&(ie+="="+encodeURIComponent(String(we[B]))),p.push(ie)}}return this.i=p.join("&")};function ci(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function If(p,w){w&&!p.j&&(Rr(p),p.i=null,p.g.forEach(function(T,B){var ie=B.toLowerCase();B!=ie&&(zi(this,B),vu(this,ie,T))},p)),p.j=w}function ko(p,w){const T=new Yn;if(f.Image){const B=new Image;B.onload=E(Ir,T,"TestLoadImage: loaded",!0,w,B),B.onerror=E(Ir,T,"TestLoadImage: error",!1,w,B),B.onabort=E(Ir,T,"TestLoadImage: abort",!1,w,B),B.ontimeout=E(Ir,T,"TestLoadImage: timeout",!1,w,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else w(!1)}function Gr(p,w){const T=new Yn,B=new AbortController,ie=setTimeout(()=>{B.abort(),Ir(T,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:B.signal}).then(ce=>{clearTimeout(ie),ce.ok?Ir(T,"TestPingServer: ok",!0,w):Ir(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(ie),Ir(T,"TestPingServer: error",!1,w)})}function Ir(p,w,T,B,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),B(T)}catch{}}function Do(){this.g=new Ft}function fi(p,w,T){const B=T||"";try{gu(p,function(ie,ce){let we=ie;d(ie)&&(we=Vt(ie)),w.push(B+ce+"="+encodeURIComponent(we))})}catch(ie){throw w.push(B+"type="+encodeURIComponent("_badmap")),ie}}function Ts(p){this.l=p.Ub||null,this.j=p.eb||!1}A(Ts,on),Ts.prototype.g=function(){return new Fi(this.l,this.j)},Ts.prototype.i=function(p){return function(){return p}}({});function Fi(p,w){ee.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Fi,ee),t=Fi.prototype,t.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,di(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||f).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?hi(this):di(this),this.readyState==3&&Eu(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,hi(this))},t.Qa=function(p){this.g&&(this.response=p,hi(this))},t.ga=function(){this.g&&hi(this)};function hi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,di(p)}t.setRequestHeader=function(p,w){this.u.append(p,w)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=w.next();return p.join(`\r
`)};function di(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function wu(p){let w="";return j(p,function(T,B){w+=B,w+=":",w+=T,w+=`\r
`}),w}function gn(p,w,T){e:{for(B in T){var B=!1;break e}B=!0}B||(T=wu(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):vt(p,w,T))}function mt(p){ee.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(mt,ee);var Oa=/^https?$/i,Oo=["POST","PUT"];t=mt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,w,T,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sr.g(),this.v=this.o?Mi(this.o):Mi(Sr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ce){Nf(this,ce);return}if(p=T||"",T=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ie in B)T.set(ie,B[ie]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ce of B.keys())T.set(ce,B.get(ce));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(T.keys()).find(ce=>ce.toLowerCase()=="content-type"),ie=f.FormData&&p instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Oo,w,void 0))||B||ie||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,we]of T)this.g.setRequestHeader(ce,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(p),this.u=!1}catch(ce){Nf(this,ce)}};function Nf(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,Ma(p),pi(p)}function Ma(p){p.A||(p.A=!0,he(p,"complete"),he(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,he(this,"complete"),he(this,"abort"),pi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},t.bb=function(){Pa(this)};function Pa(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Nr(p)!=4||p.Z()!=2)){if(p.u&&Nr(p)==4)Ie(p.Ea,0,p);else if(he(p,"readystatechange"),Nr(p)==4){p.h=!1;try{const we=p.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var B;if(B=we===0){var ie=String(p.D).match(Co)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),B=!Oa.test(ie?ie.toLowerCase():"")}T=B}if(T)he(p,"complete"),he(p,"success");else{p.m=6;try{var ce=2<Nr(p)?p.g.statusText:""}catch{ce=""}p.l=ce+" ["+p.Z()+"]",Ma(p)}}finally{pi(p)}}}}function pi(p,w){if(p.g){Mo(p);const T=p.g,B=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||he(p,"ready");try{T.onreadystatechange=B}catch{}}}function Mo(p){p.I&&(f.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Nr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),ht(w)}};function kf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function jp(p){const w={};p=(p.g&&2<=Nr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(q(p[B]))continue;var T=D(p[B]);const ie=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ce=w[ie]||[];w[ie]=ce,ce.push(T)}V(w,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(p,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||w}function Va(p){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,p),this.cb=Po("retryDelaySeedMs",1e4,p),this.Wa=Po("forwardChannelMaxRetries",2,p),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new $r(p&&p.concurrentRequestLimit),this.Da=new Do,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Va.prototype,t.la=8,t.G=1,t.connect=function(p,w,T,B){Ct(0),this.W=p,this.H=w||{},T&&B!==void 0&&(this.H.OSID=T,this.H.OAID=B),this.F=this.X,this.I=Uf(this,null,this.W),Ua(this)};function bu(p){if(Df(p),p.G==3){var w=p.U++,T=or(p.I);if(vt(T,"SID",p.K),vt(T,"RID",w),vt(T,"TYPE","terminate"),Vo(p,T),w=new An(p,p.j,w),w.L=2,w.v=Io(or(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=w.v,T=!0),T||(w.g=zf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Vi(w)}Lf(p)}function La(p){p.g&&(Lo(p),p.g.cancel(),p.g=null)}function Df(p){La(p),p.u&&(f.clearTimeout(p.u),p.u=null),za(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&f.clearTimeout(p.s),p.s=null)}function Ua(p){if(!ws(p.h)&&!p.s){p.s=!0;var w=p.Ga;K||b(),J||(K(),J=!0),Z.add(w,p),p.B=0}}function qp(p,w){return ui(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Ht(v(p.Ga,p,w),Au(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ie=new An(this,this.j,p);let ce=this.o;if(this.S&&(ce?(ce=I(ce),F(ce,this.S)):ce=this.S),this.m!==null||this.O||(ie.H=ce,ce=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var B=this.i[T];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(w+=B,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=Of(this,ie,w),T=or(this.I),vt(T,"RID",p),vt(T,"CVER",22),this.D&&vt(T,"X-HTTP-Session-Id",this.D),Vo(this,T),ce&&(this.O?w="headers="+encodeURIComponent(String(wu(ce)))+"&"+w:this.m&&gn(T,this.m,ce)),Na(this.h,ie),this.Ua&&vt(T,"TYPE","init"),this.P?(vt(T,"$req",w),vt(T,"SID","null"),ie.T=!0,sr(ie,T,null)):sr(ie,T,w),this.G=2}}else this.G==3&&(p?Tu(this,p):this.i.length==0||ws(this.h)||Tu(this))};function Tu(p,w){var T;w?T=w.l:T=p.U++;const B=or(p.I);vt(B,"SID",p.K),vt(B,"RID",T),vt(B,"AID",p.T),Vo(p,B),p.m&&p.o&&gn(B,p.m,p.o),T=new An(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),w&&(p.i=w.D.concat(p.i)),w=Of(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Na(p.h,T),sr(T,B,w)}function Vo(p,w){p.H&&j(p.H,function(T,B){vt(w,B,T)}),p.l&&gu({},function(T,B){vt(w,B,T)})}function Of(p,w,T){T=Math.min(p.i.length,T);var B=p.l?v(p.l.Na,p.l,p):null;e:{var ie=p.i;let ce=-1;for(;;){const we=["count="+T];ce==-1?0<T?(ce=ie[0].g,we.push("ofs="+ce)):ce=0:we.push("ofs="+ce);let it=!0;for(let ln=0;ln<T;ln++){let st=ie[ln].g;const yn=ie[ln].map;if(st-=ce,0>st)ce=Math.max(0,ie[ln].g-100),it=!1;else try{fi(yn,we,"req"+st+"_")}catch{B&&B(yn)}}if(it){B=we.join("&");break e}}}return p=p.i.splice(0,T),w.D=p,B}function Mf(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;K||b(),J||(K(),J=!0),Z.add(w,p),p.v=0}}function Su(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Ht(v(p.Fa,p),Au(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Pf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Ht(v(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),La(this),Pf(this))};function Lo(p){p.A!=null&&(f.clearTimeout(p.A),p.A=null)}function Pf(p){p.g=new An(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=or(p.qa);vt(w,"RID","rpc"),vt(w,"SID",p.K),vt(w,"AID",p.T),vt(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&vt(w,"TO",p.ja),vt(w,"TYPE","xmlhttp"),Vo(p,w),p.m&&p.o&&gn(w,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=Io(or(w)),T.m=null,T.P=!0,qr(T,p)}t.Za=function(){this.C!=null&&(this.C=null,La(this),Su(this),Ct(19))};function za(p){p.C!=null&&(f.clearTimeout(p.C),p.C=null)}function Vf(p,w){var T=null;if(p.g==w){za(p),Lo(p),p.g=null;var B=2}else if(pu(p.h,w))T=w.D,Hn(p.h,w),B=1;else return;if(p.G!=0){if(w.o)if(B==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var ie=p.B;B=ri(),he(B,new Kt(B,T)),Ua(p)}else Mf(p);else if(ie=w.s,ie==3||ie==0&&0<w.X||!(B==1&&qp(p,w)||B==2&&Su(p)))switch(T&&0<T.length&&(w=p.h,w.i=w.i.concat(T)),ie){case 1:Hi(p,5);break;case 4:Hi(p,10);break;case 3:Hi(p,6);break;default:Hi(p,2)}}}function Au(p,w){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*w}function Hi(p,w){if(p.j.info("Error code "+w),w==2){var T=v(p.fb,p),B=p.Xa;const ie=!B;B=new Jt(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ro(B,"https"),Io(B),ie?ko(B.toString(),T):Gr(B.toString(),T)}else Ct(2);p.G=0,p.l&&p.l.sa(w),Lf(p),Df(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Lf(p){if(p.G=0,p.ka=[],p.l){const w=mu(p.h);(w.length!=0||p.i.length!=0)&&(O(p.ka,w),O(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function Uf(p,w,T){var B=T instanceof Jt?or(T):new Jt(T);if(B.g!="")w&&(B.g=w+"."+B.g),bs(B,B.s);else{var ie=f.location;B=ie.protocol,w=w?w+"."+ie.hostname:ie.hostname,ie=+ie.port;var ce=new Jt(null);B&&Ro(ce,B),w&&(ce.g=w),ie&&bs(ce,ie),T&&(ce.l=T),B=ce}return T=p.D,w=p.ya,T&&w&&vt(B,T,w),vt(B,"VER",p.la),Vo(p,B),B}function zf(p,w,T){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new mt(new Ts({eb:T})):new mt(p.pa),w.Ha(p.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bf(){}t=Bf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ba(){}Ba.prototype.g=function(p,w){return new jn(p,w)};function jn(p,w){ee.call(this),this.g=new Va(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!q(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!q(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new mi(this)}A(jn,ee),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){bu(this.g)},jn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Vt(p),p=T);w.i.push(new Ia(w.Ya++,p)),w.G==3&&Ua(w)},jn.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,jn.aa.N.call(this)};function Ff(p){wr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const T in w){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}A(Ff,wr);function Hf(){ir.call(this),this.status=1}A(Hf,ir);function mi(p){this.g=p}A(mi,Bf),mi.prototype.ua=function(){he(this.g,"a")},mi.prototype.ta=function(p){he(this.g,new Ff(p))},mi.prototype.sa=function(p){he(this.g,new Hf)},mi.prototype.ra=function(){he(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,iC=function(){return new Ba},rC=function(){return ri()},nC=br,n_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,pd=oi,Tr.COMPLETE="complete",tC=Tr,jr.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Rc=jr,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,eC=mt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const YT="@firebase/firestore",KT="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new rv("@firebase/firestore");function xl(){return pa.logLevel}function Te(t,...e){if(pa.logLevel<=nt.DEBUG){const n=e.map(ov);pa.debug(`Firestore (${ru}): ${t}`,...n)}}function ds(t,...e){if(pa.logLevel<=nt.ERROR){const n=e.map(ov);pa.error(`Firestore (${ru}): ${t}`,...n)}}function Kl(t,...e){if(pa.logLevel<=nt.WARN){const n=e.map(ov);pa.warn(`Firestore (${ru}): ${t}`,...n)}}function ov(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sC(t,r,n)}function sC(t,e,n){let r=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function gt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||sC(e,s,r)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class G3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Y3{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new lo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},f=h=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>f(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new lo)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new oC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Ln(e)}}class K3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Br(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){gt(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=W3(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function r_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ke(r,s);{const a=aC(),u=Z3(a.encode(QT(t,n)),a.encode(QT(e,n)));return u!==0?u:Ke(r,s)}}n+=r>65535?2:1}return Ke(t.length,e.length)}function QT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Z3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ke(t[n],e[n]);return Ke(t.length,e.length)}function Xl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,ZT=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ZT);return new Pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WT)throw new Se(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZT}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Pt(0,0))}static max(){return new je(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__name__";class Ti{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Ti.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Ke(e.length,n.length)}static compareSegments(e,n){const r=Ti.isNumericId(e),s=Ti.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ti.extractNumericId(e).compare(Ti.extractNumericId(n)):r_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ao.fromString(e.substring(4,e.length-2))}}class Mt extends Ti{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const J3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Ti{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return J3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JT}static keyField(){return new kn([JT])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Se(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Se(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Se(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(a(),s++)}if(a(),u)throw new Se(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Mt.fromString(e))}static fromName(e){return new Pe(Mt.fromString(e).popFirst(5))}static empty(){return new Pe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=-1;function eL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new fo(s,Pe.empty(),e)}function tL(t){return new fo(t.readTime,t.key,Wc)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(je.min(),Pe.empty(),Wc)}static max(){return new fo(je.max(),Pe.empty(),Wc)}}function nL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==rL)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ye((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ye?n:ye.resolve(n)}catch(n){return ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ye.reject(n)}static resolve(e){return new ye((n,r)=>{n(e)})}static reject(e){return new ye((n,r)=>{r(e)})}static waitFor(e){return new ye((n,r)=>{let s=0,a=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++a,u&&a===s&&n()},h=>r(h))}),u=!0,a===s&&n()})}static or(e){let n=ye.resolve(!1);for(const r of e)n=n.next(s=>s?ye.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new ye((r,s)=>{const a=e.length,u=new Array(a);let f=0;for(let h=0;h<a;h++){const d=h;n(e[d]).next(m=>{u[d]=m,++f,f===a&&r(u)},m=>s(m))}})}static doWhile(e,n){return new ye((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function sL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}hp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=-1;function dp(t){return t==null}function Pd(t){return t===0&&1/t==-1/0}function oL(t){return typeof t=="number"&&Number.isInteger(t)&&!Pd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="";function aL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eS(e)),e=lL(t.get(n),e);return eS(e)}function lL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case uC:n+="";break;default:n+=a}}return n}function eS(t){return t+uC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new Bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jh(this.root,e,this.comparator,!0)}}class Jh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Nn.RED,this.left=s??Nn.EMPTY,this.right=a??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Nn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nS(this.data.getIterator())}getIteratorFrom(e){return new nS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class nS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new hn(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fC("Invalid base64 string: "+a):a}}(e);return new Dn(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const uL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(gt(!!t,39018),typeof t=="string"){let e=0;const n=uL.exec(t);if(gt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="server_timestamp",dC="__type__",pC="__previous_value__",mC="__local_write_time__";function lv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dC])===null||n===void 0?void 0:n.stringValue)===hC}function pp(t){const e=t.mapValue.fields[pC];return lv(e)?pp(e):e}function Zc(t){const e=ho(t.mapValue.fields[mC].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,s,a,u,f,h,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=m}}const Vd="(default)";class Jc{constructor(e,n){this.projectId=e,this.database=n||Vd}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database===Vd}isEqual(e){return e instanceof Jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="__type__",fL="__max__",ed={mapValue:{}},yC="__vector__",Ld="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lv(t)?4:dL(t)?9007199254740991:hL(t)?10:11:Be(28295,{value:t})}function ki(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ho(s.timestampValue),f=ho(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return po(s.bytesValue).isEqual(po(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Wt(s.geoPointValue.latitude)===Wt(a.geoPointValue.latitude)&&Wt(s.geoPointValue.longitude)===Wt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Wt(s.integerValue)===Wt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=Wt(s.doubleValue),f=Wt(a.doubleValue);return u===f?Pd(u)===Pd(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},f=a.mapValue.fields||{};if(tS(u)!==tS(f))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(f[h]===void 0||!ki(u[h],f[h])))return!1;return!0}(t,e);default:return Be(52216,{left:t})}}function ef(t,e){return(t.values||[]).find(n=>ki(n,e))!==void 0}function Ql(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(a,u){const f=Wt(a.integerValue||a.doubleValue),h=Wt(u.integerValue||u.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1}(t,e);case 3:return rS(t.timestampValue,e.timestampValue);case 4:return rS(Zc(t),Zc(e));case 5:return r_(t.stringValue,e.stringValue);case 6:return function(a,u){const f=po(a),h=po(u);return f.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),h=u.split("/");for(let d=0;d<f.length&&d<h.length;d++){const m=Ke(f[d],h[d]);if(m!==0)return m}return Ke(f.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Ke(Wt(a.latitude),Wt(u.latitude));return f!==0?f:Ke(Wt(a.longitude),Wt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iS(t.arrayValue,e.arrayValue);case 10:return function(a,u){var f,h,d,m;const _=a.fields||{},v=u.fields||{},E=(f=_[Ld])===null||f===void 0?void 0:f.arrayValue,A=(h=v[Ld])===null||h===void 0?void 0:h.arrayValue,R=Ke(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((m=A?.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:iS(E,A)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===ed.mapValue&&u===ed.mapValue)return 0;if(a===ed.mapValue)return 1;if(u===ed.mapValue)return-1;const f=a.fields||{},h=Object.keys(f),d=u.fields||{},m=Object.keys(d);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const v=r_(h[_],m[_]);if(v!==0)return v;const E=Ql(f[h[_]],d[m[_]]);if(E!==0)return E}return Ke(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Be(23264,{Pe:n})}}function rS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=ho(t),r=ho(e),s=Ke(n.seconds,r.seconds);return s!==0?s:Ke(n.nanos,r.nanos)}function iS(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ql(n[s],r[s]);if(a)return a}return Ke(n.length,r.length)}function Wl(t){return i_(t)}function i_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=i_(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${i_(n.fields[u])}`;return s+"}"}(t.mapValue):Be(61005,{value:t})}function md(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pp(t);return e?16+md(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+md(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return _o(r.fields,(a,u)=>{s+=a.length+md(u)}),s}(t.mapValue);default:throw Be(13486,{value:t})}}function sS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s_(t){return!!t&&"integerValue"in t}function uv(t){return!!t&&"arrayValue"in t}function oS(t){return!!t&&"nullValue"in t}function aS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gd(t){return!!t&&"mapValue"in t}function hL(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gC])===null||n===void 0?void 0:n.stringValue)===yC}function Oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=kn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=f.popLast()}u?r[f.lastSegment()]=Oc(u):s.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Jn(Oc(this.value))}}function _C(t){const e=[];return _o(t.fields,(n,r)=>{const s=new kn([n]);if(gd(r)){const a=_C(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n,r,s,a,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Un(e,0,je.min(),je.min(),je.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,s){return new Un(e,1,n,je.min(),r,s,0)}static newNoDocument(e,n){return new Un(e,2,n,je.min(),je.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new Un(e,3,n,je.min(),je.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n){this.position=e,this.inclusive=n}}function lS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),n.key):r=Ql(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function uS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ki(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n="asc"){this.field=e,this.dir=n}}function pL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{}class sn extends vC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gL(e,n,r):n==="array-contains"?new vL(e,r):n==="in"?new EL(e,r):n==="not-in"?new wL(e,r):n==="array-contains-any"?new bL(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yL(e,r):new _L(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ql(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(Ql(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends vC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Jr(e,n)}matches(e){return EC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function EC(t){return t.op==="and"}function wC(t){return mL(t)&&EC(t)}function mL(t){for(const e of t.filters)if(e instanceof Jr)return!1;return!0}function o_(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Wl(t.value);if(wC(t))return t.filters.map(e=>o_(e)).join(",");{const e=t.filters.map(n=>o_(n)).join(",");return`${t.op}(${e})`}}function bC(t,e){return t instanceof sn?function(r,s){return s instanceof sn&&r.op===s.op&&r.field.isEqual(s.field)&&ki(r.value,s.value)}(t,e):t instanceof Jr?function(r,s){return s instanceof Jr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,f)=>a&&bC(u,s.filters[f]),!0):!1}(t,e):void Be(19439)}function TC(t){return t instanceof sn?function(n){return`${n.field.canonicalString()} ${n.op} ${Wl(n.value)}`}(t):t instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(TC).join(" ,")+"}"}(t):"Filter"}class gL extends sn{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class yL extends sn{constructor(e,n){super(e,"in",n),this.keys=SC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _L extends sn{constructor(e,n){super(e,"not-in",n),this.keys=SC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class vL extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uv(n)&&ef(n.arrayValue,this.value)}}class EL extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ef(this.value.arrayValue,n)}}class wL extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ef(this.value.arrayValue,n)}}class bL extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ef(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n=null,r=[],s=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=f,this.Ie=null}}function cS(t,e=null,n=[],r=[],s=null,a=null,u=null){return new TL(t,e,n,r,s,a,u)}function cv(t){const e=qe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>o_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),dp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wl(r)).join(",")),e.Ie=n}return e.Ie}function fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uS(t.startAt,e.startAt)&&uS(t.endAt,e.endAt)}function a_(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n=null,r=[],s=[],a=null,u="F",f=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SL(t,e,n,r,s,a,u,f){return new ou(t,e,n,r,s,a,u,f)}function AC(t){return new ou(t)}function fS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xC(t){return t.collectionGroup!==null}function Mc(t){const e=qe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new hn(kn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(f=f.add(d.field))})}),f})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new tf(a,r))}),n.has(kn.keyField().canonicalString())||e.Ee.push(new tf(kn.keyField(),r))}return e.Ee}function Ci(t){const e=qe(t);return e.de||(e.de=AL(e,Mc(t))),e.de}function AL(t,e){if(t.limitType==="F")return cS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new tf(s.field,a)});const n=t.endAt?new Ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ud(t.startAt.position,t.startAt.inclusive):null;return cS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function l_(t,e){const n=t.filters.concat([e]);return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function u_(t,e,n){return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mp(t,e){return fv(Ci(t),Ci(e))&&t.limitType===e.limitType}function CC(t){return`${cv(Ci(t))}|lt:${t.limitType}`}function Cl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>TC(s)).join(", ")}]`),dp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wl(s)).join(",")),`Target(${r})`}(Ci(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Pe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of Mc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,f,h){const d=lS(u,f,h);return u.inclusive?d<=0:d<0}(r.startAt,Mc(r),s)||r.endAt&&!function(u,f,h){const d=lS(u,f,h);return u.inclusive?d>=0:d>0}(r.endAt,Mc(r),s))}(t,e)}function xL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RC(t){return(e,n)=>{let r=!1;for(const s of Mc(t)){const a=CL(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function CL(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):function(a,u,f){const h=u.data.field(a),d=f.data.field(a);return h!==null&&d!==null?Ql(h,d):Be(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return cC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Bt(Pe.comparator);function ps(){return RL}const IC=new Bt(Pe.comparator);function Ic(...t){let e=IC;for(const n of t)e=e.insert(n.key,n);return e}function NC(t){let e=IC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function oa(){return Pc()}function kC(){return Pc()}function Pc(){return new Ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const IL=new Bt(Pe.comparator),NL=new hn(Pe.comparator);function rt(...t){let e=NL;for(const n of t)e=e.add(n);return e}const kL=new hn(Ke);function DL(){return kL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pd(e)?"-0":e}}function DC(t){return{integerValue:""+t}}function OL(t,e){return oL(e)?DC(e):hv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this._=void 0}}function ML(t,e,n){return t instanceof zd?function(s,a){const u={fields:{[dC]:{stringValue:hC},[mC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&lv(a)&&(a=pp(a)),a&&(u.fields[pC]=a),{mapValue:u}}(n,e):t instanceof nf?MC(t,e):t instanceof rf?PC(t,e):function(s,a){const u=OC(s,a),f=hS(u)+hS(s.Re);return s_(u)&&s_(s.Re)?DC(f):hv(s.serializer,f)}(t,e)}function PL(t,e,n){return t instanceof nf?MC(t,e):t instanceof rf?PC(t,e):n}function OC(t,e){return t instanceof Bd?function(r){return s_(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class zd extends yp{}class nf extends yp{constructor(e){super(),this.elements=e}}function MC(t,e){const n=VC(e);for(const r of t.elements)n.some(s=>ki(s,r))||n.push(r);return{arrayValue:{values:n}}}class rf extends yp{constructor(e){super(),this.elements=e}}function PC(t,e){let n=VC(e);for(const r of t.elements)n=n.filter(s=>!ki(s,r));return{arrayValue:{values:n}}}class Bd extends yp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function hS(t){return Wt(t.integerValue||t.doubleValue)}function VC(t){return uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof nf&&s instanceof nf||r instanceof rf&&s instanceof rf?Xl(r.elements,s.elements,ki):r instanceof Bd&&s instanceof Bd?ki(r.Re,s.Re):r instanceof zd&&s instanceof zd}(t.transform,e.transform)}class LL{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _p{}function LC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vp(t.key,yr.none()):new mf(t.key,t.data,yr.none());{const n=t.data,r=Jn.empty();let s=new hn(kn.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new vo(t.key,r,new mr(s.toArray()),yr.none())}}function UL(t,e,n){t instanceof mf?function(s,a,u){const f=s.value.clone(),h=pS(s.fieldTransforms,a,u.transformResults);f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(s,a,u){if(!yd(s.precondition,a))return void a.convertToUnknownDocument(u.version);const f=pS(s.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(UC(s)),h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Vc(t,e,n,r){return t instanceof mf?function(a,u,f,h){if(!yd(a.precondition,u))return f;const d=a.value.clone(),m=mS(a.fieldTransforms,h,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(a,u,f,h){if(!yd(a.precondition,u))return f;const d=mS(a.fieldTransforms,h,u),m=u.data;return m.setAll(UC(a)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,u,f){return yd(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function zL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=OC(r.transform,s||null);a!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,a))}return n||null}function dS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xl(r,s,(a,u)=>VL(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mf extends _p{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends _p{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function UC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pS(t,e,n){const r=new Map;gt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,f=e.data.field(a.field);r.set(a.field,PL(u,f,n[s]))}return r}function mS(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,ML(a,u,e))}return r}class vp extends _p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BL extends _p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&UL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kC();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=n.has(s.key)?null:f;const h=LC(u,f);h!==null&&r.set(s.key,h),u.isValidDocument()||u.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rt())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(n,r)=>dS(n,r))&&Xl(this.baseMutations,e.baseMutations,(n,r)=>dS(n,r))}}class dv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){gt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return IL}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new dv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,at;function qL(t){switch(t){case ge.OK:return Be(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function zC(t){if(t===void 0)return ds("GRPC error has no .code"),ge.UNKNOWN;switch(t){case nn.OK:return ge.OK;case nn.CANCELLED:return ge.CANCELLED;case nn.UNKNOWN:return ge.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ge.INTERNAL;case nn.UNAVAILABLE:return ge.UNAVAILABLE;case nn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case nn.NOT_FOUND:return ge.NOT_FOUND;case nn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case nn.ABORTED:return ge.ABORTED;case nn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case nn.DATA_LOSS:return ge.DATA_LOSS;default:return Be(39323,{code:t})}}(at=nn||(nn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new ao([4294967295,4294967295],0);function gS(t){const e=aC().encode(t),n=new Jx;return n.update(e),new Uint8Array(n.digest())}function yS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ao([n,r],0),new ao([s,a],0)]}class pv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ao.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(ao.fromNumber(r)));return s.compare($L)===1&&(s=new ao([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=gS(e),[r,s]=yS(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new pv(a,s,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=gS(e),[r,s]=yS(n);for(let a=0;a<this.hashCount;a++){const u=this.we(r,s,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ep(je.min(),s,new Bt(Ke),ps(),rt())}}class gf{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gf(r,n,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class BC{constructor(e,n){this.targetId=e,this.Ce=n}}class FC{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class _S{constructor(){this.Fe=0,this.Me=vS(),this.xe=Dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=rt(),n=rt(),r=rt();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:a})}}),new gf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=vS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class GL{constructor(e){this.ze=e,this.je=new Map,this.He=ps(),this.Je=td(),this.Ye=td(),this.Ze=new Bt(Ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const a=s.target;if(a_(a))if(r===0){const u=new Pe(a.path);this.tt(n,u,Un.newNoDocument(u,je.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const f=this.ct(e),h=f?this.lt(f,e,u):1;if(h!==0){this.st(n);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,f;try{u=po(r).toUint8Array()}catch(h){if(h instanceof fC)return Kl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new pv(u,s,a)}catch(h){return Kl(h instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,a,null),s++)}),s}It(e){const n=new Map;this.je.forEach((a,u)=>{const f=this._t(u);if(f){if(a.current&&a_(f.target)){const h=new Pe(f.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,Un.newNoDocument(h,e))}a.Le&&(n.set(u,a.qe()),a.Qe())}});let r=rt();this.Ye.forEach((a,u)=>{let f=!0;u.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const s=new Ep(e,n,this.Ze,this.He,r);return this.He=ps(),this.Je=td(),this.Ye=td(),this.Ze=new Bt(Ke),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new _S,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new hn(Ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new hn(Ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new _S),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function td(){return new Bt(Pe.comparator)}function vS(){return new Bt(Pe.comparator)}const YL={asc:"ASCENDING",desc:"DESCENDING"},KL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XL={and:"AND",or:"OR"};class QL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function c_(t,e){return t.useProto3Json||dp(e)?e:{value:e}}function Fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WL(t,e){return Fd(t,e.toTimestamp())}function Ri(t){return gt(!!t,49232),je.fromTimestamp(function(n){const r=ho(n);return new Pt(r.seconds,r.nanos)}(t))}function mv(t,e){return f_(t,e).canonicalString()}function f_(t,e){const n=function(s){return new Mt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jC(t){const e=Mt.fromString(t);return gt(KC(e),10190,{key:e.toString()}),e}function h_(t,e){return mv(t.databaseId,e.path)}function oy(t,e){const n=jC(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe($C(n))}function qC(t,e){return mv(t.databaseId,e)}function ZL(t){const e=jC(t);return e.length===4?Mt.emptyPath():$C(e)}function d_(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $C(t){return gt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ES(t,e,n){return{name:h_(t,e),fields:n.value.mapValue.fields}}function JL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Be(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(d,m){return d.useProto3Json?(gt(m===void 0||typeof m=="string",58123),Dn.fromBase64String(m||"")):(gt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Dn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(d){const m=d.code===void 0?ge.UNKNOWN:zC(d.code);return new Se(m,d.message||"")}(u);n=new FC(r,s,a,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=oy(t,r.document.name),a=Ri(r.document.updateTime),u=r.document.createTime?Ri(r.document.createTime):je.min(),f=new Jn({mapValue:{fields:r.document.fields}}),h=Un.newFoundDocument(s,a,u,f),d=r.targetIds||[],m=r.removedTargetIds||[];n=new _d(d,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=oy(t,r.document),a=r.readTime?Ri(r.readTime):je.min(),u=Un.newNoDocument(s,a),f=r.removedTargetIds||[];n=new _d([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=oy(t,r.document),a=r.removedTargetIds||[];n=new _d([],a,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new jL(s,a),f=r.targetId;n=new BC(f,u)}}return n}function e6(t,e){let n;if(e instanceof mf)n={update:ES(t,e.key,e.value)};else if(e instanceof vp)n={delete:h_(t,e.key)};else if(e instanceof vo)n={update:ES(t,e.key,e.data),updateMask:u6(e.fieldMask)};else{if(!(e instanceof BL))return Be(16599,{ft:e.type});n={verify:h_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const f=u.transform;if(f instanceof zd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof nf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof rf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Bd)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Be(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:WL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Be(27497)}(t,e.precondition)),n}function t6(t,e){return t&&t.length>0?(gt(e!==void 0,14353),t.map(n=>function(s,a){let u=s.updateTime?Ri(s.updateTime):Ri(a);return u.isEqual(je.min())&&(u=Ri(a)),new LL(u,s.transformResults||[])}(n,e))):[]}function n6(t,e){return{documents:[qC(t,e.path)]}}function r6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qC(t,s);const a=function(d){if(d.length!==0)return YC(Jr.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:Rl(v.field),direction:o6(v.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=c_(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function i6(t){let e=ZL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){gt(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(_){const v=GC(_);return v instanceof Jr&&wC(v)?v.getFilters():[v]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(v=>function(A){return new tf(Il(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let f=null;n.limit&&(f=function(_){let v;return v=typeof _=="object"?_.value:_,dp(v)?null:v}(n.limit));let h=null;n.startAt&&(h=function(_){const v=!!_.before,E=_.values||[];return new Ud(E,v)}(n.startAt));let d=null;return n.endAt&&(d=function(_){const v=!_.before,E=_.values||[];return new Ud(E,v)}(n.endAt)),SL(e,s,u,a,f,"F",h,d)}function s6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Il(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Il(n.unaryFilter.field);return sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Il(n.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Il(n.unaryFilter.field);return sn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(t):t.fieldFilter!==void 0?function(n){return sn.create(Il(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(r=>GC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(n.compositeFilter.op))}(t):Be(30097,{filter:t})}function o6(t){return YL[t]}function a6(t){return KL[t]}function l6(t){return XL[t]}function Rl(t){return{fieldPath:t.canonicalString()}}function Il(t){return kn.fromServerFormat(t.fieldPath)}function YC(t){return t instanceof sn?function(n){if(n.op==="=="){if(aS(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NAN"}};if(oS(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aS(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NAN"}};if(oS(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(n.field),op:a6(n.op),value:n.value}}}(t):t instanceof Jr?function(n){const r=n.getFilters().map(s=>YC(s));return r.length===1?r[0]:{compositeFilter:{op:l6(n.op),filters:r}}}(t):Be(54877,{filter:t})}function u6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,s,a=je.min(),u=je.min(),f=Dn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.wt=e}}function f6(t){const e=i6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?u_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.Cn=new d6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ye.resolve()}getCollectionParents(e,n){return ye.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ye.resolve()}deleteFieldIndex(e,n){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,n){return ye.resolve()}getDocumentsMatchingTarget(e,n){return ye.resolve(null)}getIndexType(e,n){return ye.resolve(0)}getFieldIndexes(e,n){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,n){return ye.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return ye.resolve(fo.min())}updateCollectionGroup(e,n,r){return ye.resolve()}updateIndexEntries(e,n){return ye.resolve()}}class d6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new hn(Mt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new hn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XC=41943040;class Zn{static withCacheSize(e){return new Zn(e,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(XC,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Zl(0)}static lr(){return new Zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="LruGarbageCollector",p6=1048576;function TS([t,e],[n,r]){const s=Ke(t,n);return s===0?Ke(e,r):s}class m6{constructor(e){this.Er=e,this.buffer=new hn(TS),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();TS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(bS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){su(n)?Te(bS,"Ignoring IndexedDB error during garbage collection: ",n):await iu(n)}await this.mr(3e5)})}}class y6{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ye.resolve(hp.le);const r=new m6(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(wS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,a,u,f,h,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),xl()<=nt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${a} targets in `+(h-f)+`ms
	Removed ${_} documents in `+(d-h)+`ms
Total Duration: ${d-m}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function _6(t,e){return new y6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vc(r.mutation,s,mr.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rt()){const s=oa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=Ic();return a.forEach((f,h)=>{u=u.insert(f,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rt()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,s){let a=ps();const u=Pc(),f=function(){return Pc()}();return n.forEach((h,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof vo)?a=a.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),Vc(m.mutation,d,m.mutation.getFieldMask(),Pt.now())):u.set(d.key,mr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,m)=>u.set(d,m)),n.forEach((d,m)=>{var _;return f.set(d,new E6(m,(_=u.get(d))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Pc();let s=new Bt((u,f)=>u-f),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let m=r.get(h)||mr.empty();m=f.applyToLocalView(d,m),r.set(h,m);const _=(s.get(f.batchId)||rt()).add(h);s=s.insert(f.batchId,_)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,m=h.value,_=kC();m.forEach(v=>{if(!a.has(v)){const E=LC(n.get(v),r.get(v));E!==null&&_.set(v,E),a=a.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return ye.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ye.resolve(oa());let f=Wc,h=a;return u.next(d=>ye.forEach(d,(m,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),a.get(m)?ye.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{h=h.insert(m,v)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,rt())).next(m=>({batchId:f,changes:NC(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next(r=>{let s=Ic();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=Ic();return this.indexManager.getCollectionParents(e,a).next(f=>ye.forEach(f,h=>{const d=function(_,v){return new ou(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(m=>{m.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(u=>{a.forEach((h,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,Un.newInvalidDocument(m)))});let f=Ic();return u.forEach((h,d)=>{const m=a.get(h);m!==void 0&&Vc(m.mutation,d,mr.empty(),Pt.now()),gp(n,d)&&(f=f.insert(h,d))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ye.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ri(s.createTime)}}(n)),ye.resolve()}getNamedQuery(e,n){return ye.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:f6(s.bundledQuery),readTime:Ri(s.readTime)}}(n)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.overlays=new Bt(Pe.comparator),this.Qr=new Map}getOverlay(e,n){return ye.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return ye.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),ye.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ye.resolve()}getOverlaysForCollection(e,n,r){const s=oa(),a=n.length+1,u=new Pe(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Bt((d,m)=>d-m);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=a.get(d.largestBatchId);m===null&&(m=oa(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const f=oa(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,m)=>f.set(d,m)),!(f.size()>=s)););return ye.resolve(f)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new HL(n,r));let a=this.Qr.get(n);a===void 0&&(a=rt(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(){this.$r=new hn(wn.Ur),this.Kr=new hn(wn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new wn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new wn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Pe(new Mt([])),r=new wn(n,e),s=new wn(n,e+1),a=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Pe(new Mt([])),r=new wn(n,e),s=new wn(n,e+1);let a=rt();return this.Kr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new wn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Pe.comparator(e.key,n.key)||Ke(e.Zr,n.Zr)}static Wr(e,n){return Ke(e.Zr,n.Zr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new hn(wn.Ur)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new FL(a,n,r,s);this.mutationQueue.push(u);for(const f of s)this.Xr=this.Xr.add(new wn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,n){return ye.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),a=s<0?0:s;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?av:this.nr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),s=new wn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],u=>{const f=this.ei(u.Zr);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Ke);return n.forEach(s=>{const a=new wn(s,0),u=new wn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],f=>{r=r.add(f.Zr)})}),ye.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Pe.isDocumentKey(a)||(a=a.child(""));const u=new wn(new Pe(a),0);let f=new hn(Ke);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(f=f.add(h.Zr)),!0)},u),ye.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){gt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ye.forEach(n.mutations,s=>{const a=new wn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new wn(n,0),s=this.Xr.firstAfterOrEqual(r);return ye.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.ii=e,this.docs=function(){return new Bt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ye.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Un.newInvalidDocument(s))}),ye.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ps();const u=n.path,f=new Pe(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:m}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||nL(tL(m),r)<=0||(s.has(m.key)||gp(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}si(e,n){return ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C6(this)}getSize(e){return ye.resolve(this.size)}}class C6 extends v6{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ye.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.persistence=e,this.oi=new Ea(n=>cv(n),fv),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this._i=0,this.ai=new gv,this.targetCount=0,this.ui=Zl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ye.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ye.resolve()}updateTargetData(e,n){return this.Tr(n),ye.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ye.waitFor(a).next(()=>s)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ye.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ye.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ye.resolve(r)}containsKey(e,n){return ye.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.ci={},this.overlays={},this.li=new hp(0),this.hi=!1,this.hi=!0,this.Pi=new S6,this.referenceDelegate=e(this),this.Ti=new R6(this),this.indexManager=new h6,this.remoteDocumentCache=function(s){return new x6(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new c6(n),this.Ei=new b6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new A6(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new I6(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,n){return ye.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class I6 extends iL{constructor(e){super(),this.currentSequenceNumber=e}}class yv{constructor(e){this.persistence=e,this.Vi=new gv,this.mi=null}static fi(e){return new yv(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ye.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ye.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.gi,r=>{const s=Pe.fromPath(r);return this.pi(e,s).next(a=>{a||n.removeEntry(s,je.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ye.or([()=>ye.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Hd{constructor(e,n){this.persistence=e,this.yi=new Ea(r=>aL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=_6(this,n)}static fi(e,n){return new Hd(e,n)}di(){}Ai(e){return ye.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ye.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?ye.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(f=>{f||(r++,a.removeEntry(u,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ye.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=md(e.data.value)),n}Dr(e,n,r){return ye.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return ye.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=rt(),s=rt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new _v(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AV()?8:sL(zn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ws(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.bs(e,n,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new N6;return this.Ss(e,n,u).next(f=>{if(a.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>a.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(xl()<=nt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ye.resolve()):(xl()<=nt.DEBUG&&Te("QueryEngine","Query:",Cl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(xl()<=nt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(n))):ye.resolve())}ws(e,n){if(fS(n))return ye.resolve(null);let r=Ci(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=u_(n,null,"F"),r=Ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=rt(...a);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.vs(n,f);return this.Cs(n,d,u,h.readTime)?this.ws(e,u_(n,null,"F")):this.Fs(e,d,n,h)}))})))}bs(e,n,r,s){return fS(n)||s.isEqual(je.min())?ye.resolve(null):this.ys.getDocuments(e,r).next(a=>{const u=this.vs(n,a);return this.Cs(n,u,r,s)?ye.resolve(null):(xl()<=nt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cl(n)),this.Fs(e,u,n,eL(s,Wc)).next(f=>f))})}vs(e,n){let r=new hn(RC(e));return n.forEach((s,a)=>{gp(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return xl()<=nt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Cl(n)),this.ys.getDocumentsMatchingQuery(e,n,fo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LocalStore",D6=3e8;class O6{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Bt(Ke),this.Os=new Ea(a=>cv(a),fv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w6(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function M6(t,e,n,r){return new O6(t,e,n,r)}async function WC(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let h=rt();for(const d of s){u.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}for(const d of a){f.push(d.batchId);for(const m of d.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:f}))})})}function P6(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,h,d,m){const _=d.batch,v=_.keys();let E=ye.resolve();return v.forEach(A=>{E=E.next(()=>m.getEntry(h,A)).next(R=>{const O=d.docVersions.get(A);gt(O!==null,48541),R.version.compareTo(O)<0&&(_.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),m.addEntry(R)))})}),E.next(()=>f.mutationQueue.removeMutationBatch(h,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let h=rt();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ZC(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function V6(t,e){const n=qe(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const f=[];e.targetChanges.forEach((m,_)=>{const v=s.get(_);if(!v)return;f.push(n.Ti.removeMatchingKeys(a,m.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(a,m.addedDocuments,_)));let E=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Dn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(_,E),function(R,O,M){return R.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=D6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(v,E,m)&&f.push(n.Ti.updateTargetData(a,E))});let h=ps(),d=rt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),f.push(L6(a,u,e.documentUpdates).next(m=>{h=m.qs,d=m.Qs})),!r.isEqual(je.min())){const m=n.Ti.getLastRemoteSnapshotVersion(a).next(_=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(m)}return ye.waitFor(f).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(n.xs=s,a))}function L6(t,e,n){let r=rt(),s=rt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=ps();return n.forEach((f,h)=>{const d=a.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(f)),h.isNoDocument()&&h.version.isEqual(je.min())?(e.removeEntry(f,h.readTime),u=u.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(f,h)):Te(vv,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)}),{qs:u,Qs:s}})}function U6(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=av),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z6(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(a=>a?(s=a,ye.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new no(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function p_(t,e,n){const r=qe(t),s=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!su(u))throw u;Te(vv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function SS(t,e,n){const r=qe(t);let s=je.min(),a=rt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,d,m){const _=qe(h),v=_.Os.get(m);return v!==void 0?ye.resolve(_.xs.get(v)):_.Ti.getTargetData(d,m)}(r,u,Ci(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(h=>{a=h})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:je.min(),n?a:rt())).next(f=>(B6(r,xL(e),f),{documents:f,$s:a})))}function B6(t,e,n){let r=t.Ns.get(e)||je.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class AS{constructor(){this.activeTargetIds=DL()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F6{constructor(){this.xo=new AS,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new AS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="ConnectivityMonitor";class CS{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(xS,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(xS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function m_(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="RestConnection",j6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===Vd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,a){const u=m_(),f=this.jo(e,n.toUriEncodedString());Te(ay,`Sending RPC '${e}' ${u}:`,f,r);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,s,a);const{host:d}=new URL(f),m=tu(d);return this.Jo(e,f,h,r,m).then(_=>(Te(ay,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Kl(ay,`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(e,n,r,s,a,u){return this.zo(e,n,r,s,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,n){const r=j6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class G6 extends q6{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const u=m_();return new Promise((f,h)=>{const d=new eC;d.setWithCredentials(!0),d.listenOnce(tC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case pd.NO_ERROR:const _=d.getResponseJson();Te(Vn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),f(_);break;case pd.TIMEOUT:Te(Vn,`RPC '${e}' ${u} timed out`),h(new Se(ge.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const v=d.getStatus();if(Te(Vn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const R=function(M){const q=M.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(q)>=0?q:ge.UNKNOWN}(A.status);h(new Se(R,A.message))}else h(new Se(ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Se(ge.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{h_:e,streamId:u,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Te(Vn,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);Te(Vn,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",m,r,15)})}I_(e,n,r){const s=m_(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iC(),f=rC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=a.join("");Te(Vn,`Creating RPC '${e}' stream ${s}: ${m}`,h);const _=u.createWebChannel(m,h);this.E_(_);let v=!1,E=!1;const A=new $6({Zo:O=>{E?Te(Vn,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(v||(Te(Vn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),v=!0),Te(Vn,`RPC '${e}' stream ${s} sending:`,O),_.send(O))},Xo:()=>_.close()}),R=(O,M,q)=>{O.listen(M,$=>{try{q($)}catch(H){setTimeout(()=>{throw H},0)}})};return R(_,Rc.EventType.OPEN,()=>{E||(Te(Vn,`RPC '${e}' stream ${s} transport opened.`),A.__())}),R(_,Rc.EventType.CLOSE,()=>{E||(E=!0,Te(Vn,`RPC '${e}' stream ${s} transport closed`),A.u_(),this.d_(_))}),R(_,Rc.EventType.ERROR,O=>{E||(E=!0,Kl(Vn,`RPC '${e}' stream ${s} transport errored. Name:`,O.name,"Message:",O.message),A.u_(new Se(ge.UNAVAILABLE,"The operation could not be completed")))}),R(_,Rc.EventType.MESSAGE,O=>{var M;if(!E){const q=O.data[0];gt(!!q,16349);const $=q,H=$?.error||((M=$[0])===null||M===void 0?void 0:M.error);if(H){Te(Vn,`RPC '${e}' stream ${s} received error:`,H);const Q=H.status;let j=function(C){const F=nn[C];if(F!==void 0)return zC(F)}(Q),V=H.message;j===void 0&&(j=ge.INTERNAL,V="Unknown error status: "+Q+" with message "+H.message),E=!0,A.u_(new Se(j,V)),_.close()}else Te(Vn,`RPC '${e}' stream ${s} received:`,q),A.c_(q)}}),R(f,nC.STAT_EVENT,O=>{O.stat===n_.PROXY?Te(Vn,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===n_.NOPROXY&&Te(Vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function ly(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){return new QL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="PersistentStream";class eR{constructor(e,n,r,s,a,u,f,h){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new JC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Se(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Te(RS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Te(RS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y6 extends eR{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=JL(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?Ri(u.readTime):je.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=d_(this.serializer),n.addTarget=function(a,u){let f;const h=u.target;if(f=a_(h)?{documents:n6(a,h)}:{query:r6(a,h).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=HC(a,u.resumeToken);const d=c_(a,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Fd(a,u.snapshotVersion.toTimestamp());const d=c_(a,u.expectedCount);d!==null&&(f.expectedCount=d)}return f}(this.serializer,e);const r=s6(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=d_(this.serializer),n.removeTarget=e,this.Q_(n)}}class K6 extends eR{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=t6(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=d_(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e6(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{}class Q6 extends X6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Se(ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,f_(n,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(ge.UNKNOWN,a.toString())})}Yo(e,n,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,f_(n,r),s,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ge.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class W6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ds(n),this.ua=!1):Te("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class Z6{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(u=>{r.enqueueAndForget(async()=>{wa(this)&&(Te(ma,"Restarting streams for network reachability change."),await async function(h){const d=qe(h);d.da.add(4),await yf(d),d.Va.set("Unknown"),d.da.delete(4),await bp(d)}(this))})}),this.Va=new W6(r,s)}}async function bp(t){if(wa(t))for(const e of t.Aa)await e(!0)}async function yf(t){for(const e of t.Aa)await e(!1)}function tR(t,e){const n=qe(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Tv(n)?bv(n):au(n).N_()&&wv(n,e))}function Ev(t,e){const n=qe(t),r=au(n);n.Ea.delete(e),r.N_()&&nR(n,e),n.Ea.size===0&&(r.N_()?r.k_():wa(n)&&n.Va.set("Unknown"))}function wv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}au(t).Z_(e)}function nR(t,e){t.ma.Ke(e),au(t).X_(e)}function bv(t){t.ma=new GL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),au(t).start(),t.Va.ca()}function Tv(t){return wa(t)&&!au(t).O_()&&t.Ea.size>0}function wa(t){return qe(t).da.size===0}function rR(t){t.ma=void 0}async function J6(t){t.Va.set("Online")}async function e9(t){t.Ea.forEach((e,n)=>{wv(t,e)})}async function t9(t,e){rR(t),Tv(t)?(t.Va.Pa(e),bv(t)):t.Va.set("Unknown")}async function n9(t,e,n){if(t.Va.set("Online"),e instanceof FC&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const f of a.targetIds)s.Ea.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Ea.delete(f),s.ma.removeTarget(f))}(t,e)}catch(r){Te(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jd(t,r)}else if(e instanceof _d?t.ma.Xe(e):e instanceof BC?t.ma.ot(e):t.ma.nt(e),!n.isEqual(je.min()))try{const r=await ZC(t.localStore);n.compareTo(r)>=0&&await function(a,u){const f=a.ma.It(u);return f.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const m=a.Ea.get(d);m&&a.Ea.set(d,m.withResumeToken(h.resumeToken,u))}}),f.targetMismatches.forEach((h,d)=>{const m=a.Ea.get(h);if(!m)return;a.Ea.set(h,m.withResumeToken(Dn.EMPTY_BYTE_STRING,m.snapshotVersion)),nR(a,h);const _=new no(m.target,h,d,m.sequenceNumber);wv(a,_)}),a.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){Te(ma,"Failed to raise snapshot:",r),await jd(t,r)}}async function jd(t,e,n){if(!su(e))throw e;t.da.add(1),await yf(t),t.Va.set("Offline"),n||(n=()=>ZC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te(ma,"Retrying IndexedDB access"),await n(),t.da.delete(1),await bp(t)})}function iR(t,e){return e().catch(n=>jd(t,n,e))}async function Tp(t){const e=qe(t),n=go(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:av;for(;r9(e);)try{const s=await U6(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,i9(e,s)}catch(s){await jd(e,s)}sR(e)&&oR(e)}function r9(t){return wa(t)&&t.Ia.length<10}function i9(t,e){t.Ia.push(e);const n=go(t);n.N_()&&n.ea&&n.ta(e.mutations)}function sR(t){return wa(t)&&!go(t).O_()&&t.Ia.length>0}function oR(t){go(t).start()}async function s9(t){go(t).ia()}async function o9(t){const e=go(t);for(const n of t.Ia)e.ta(n.mutations)}async function a9(t,e,n){const r=t.Ia.shift(),s=dv.from(r,e,n);await iR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Tp(t)}async function l9(t,e){e&&go(t).ea&&await async function(r,s){if(function(u){return qL(u)&&u!==ge.ABORTED}(s.code)){const a=r.Ia.shift();go(r).L_(),await iR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Tp(r)}}(t,e),sR(t)&&oR(t)}async function IS(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Te(ma,"RemoteStore received new credentials");const r=wa(n);n.da.add(3),await yf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await bp(n)}async function u9(t,e){const n=qe(t);e?(n.da.delete(2),await bp(n)):e||(n.da.add(2),await yf(n),n.Va.set("Unknown"))}function au(t){return t.fa||(t.fa=function(n,r,s){const a=qe(n);return a.oa(),new Y6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:J6.bind(null,t),n_:e9.bind(null,t),i_:t9.bind(null,t),Y_:n9.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Tv(t)?bv(t):t.Va.set("Unknown")):(await t.fa.stop(),rR(t))})),t.fa}function go(t){return t.ga||(t.ga=function(n,r,s){const a=qe(n);return a.oa(),new K6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:s9.bind(null,t),i_:l9.bind(null,t),na:o9.bind(null,t),ra:a9.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Tp(t)):(await t.ga.stop(),t.Ia.length>0&&(Te(ma,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,f=new Sv(e,n,u,s,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Av(t,e){if(ds("AsyncQueue",`${e}: ${t}`),su(t))return new Se(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Ic(),this.sortedSet=new Bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.pa=new Bt(Pe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Be(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jl{constructor(e,n,r,s,a,u,f,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Jl(e,n,Vl.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class f9{constructor(){this.queries=kS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=qe(n),a=s.queries;s.queries=kS(),a.forEach((u,f)=>{for(const h of f.Sa)h.onError(r)})})(this,new Se(ge.ABORTED,"Firestore shutting down"))}}function kS(){return new Ea(t=>CC(t),mp)}async function h9(t,e){const n=qe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new c9,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(s,!0);break;case 1:a.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const f=Av(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&xv(n)}async function d9(t,e){const n=qe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function p9(t,e){const n=qe(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const f of u.Sa)f.Ma(s)&&(r=!0);u.ba=s}}r&&xv(n)}function m9(t,e,n){const r=qe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function xv(t){t.Ca.forEach(e=>{e.next()})}var g_,DS;(DS=g_||(g_={})).xa="default",DS.Cache="cache";class g9{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==g_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.key=e}}class lR{constructor(e){this.key=e}}class y9{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rt(),this.mutatedKeys=rt(),this.Za=RC(e),this.Xa=new Vl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new NS,s=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,f=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,_)=>{const v=s.get(m),E=gp(this.query,_)?_:null,A=!!v&&this.mutatedKeys.has(v.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let O=!1;v&&E?v.data.isEqual(E.data)?A!==R&&(r.track({type:3,doc:E}),O=!0):this.ru(v,E)||(r.track({type:2,doc:E}),O=!0,(h&&this.Za(E,h)>0||d&&this.Za(E,d)<0)&&(f=!0)):!v&&E?(r.track({type:0,doc:E}),O=!0):v&&!E&&(r.track({type:1,doc:v}),O=!0,(h||d)&&(f=!0)),O&&(E?(u=u.add(E),a=R?a.add(m):a.delete(m)):(u=u.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:u,nu:r,Cs:f,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((m,_)=>function(E,A){const R=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:O})}};return R(E)-R(A)}(m.type,_.type)||this.Za(m.doc,_.doc)),this.iu(r),s=s!=null&&s;const f=n&&!s?this.su():[],h=this.Ya.size===0&&this.current&&!s?1:0,d=h!==this.Ja;return this.Ja=h,u.length!==0||d?{snapshot:new Jl(this.query,e.Xa,a,u,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new NS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=rt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new lR(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new aR(r))}),n}au(e){this.Ha=e.$s,this.Ya=rt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Jl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Cv="SyncEngine";class _9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v9{constructor(e){this.key=e,this.cu=!1}}class E9{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Ea(f=>CC(f),mp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Bt(Pe.comparator),this.Eu=new Map,this.du=new gv,this.Au={},this.Ru=new Map,this.Vu=Zl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function w9(t,e,n=!0){const r=pR(t);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await uR(r,e,n,!0),s}async function b9(t,e){const n=pR(t);await uR(n,e,!0,!1)}async function uR(t,e,n,r){const s=await z6(t.localStore,Ci(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let f;return r&&(f=await T9(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&tR(t.remoteStore,s),f}async function T9(t,e,n,r,s){t.fu=(_,v,E)=>async function(R,O,M,q){let $=O.view.tu(M);$.Cs&&($=await SS(R.localStore,O.query,!1).then(({documents:V})=>O.view.tu(V,$)));const H=q&&q.targetChanges.get(O.targetId),Q=q&&q.targetMismatches.get(O.targetId)!=null,j=O.view.applyChanges($,R.isPrimaryClient,H,Q);return MS(R,O.targetId,j.ou),j.snapshot}(t,_,v,E);const a=await SS(t.localStore,e,!0),u=new y9(e,a.$s),f=u.tu(a.documents),h=gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(f,t.isPrimaryClient,h);MS(t,n,d.ou);const m=new _9(e,n,u);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function S9(t,e,n){const r=qe(t),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(u=>!mp(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await p_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ev(r.remoteStore,s.targetId),y_(r,s.targetId)}).catch(iu)):(y_(r,s.targetId),await p_(r.localStore,s.targetId,!0))}async function A9(t,e){const n=qe(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ev(n.remoteStore,r.targetId))}async function x9(t,e,n){const r=O9(t);try{const s=await function(u,f){const h=qe(u),d=Pt.now(),m=f.reduce((E,A)=>E.add(A.key),rt());let _,v;return h.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=ps(),R=rt();return h.Bs.getEntries(E,m).next(O=>{A=O,A.forEach((M,q)=>{q.isValidDocument()||(R=R.add(M))})}).next(()=>h.localDocuments.getOverlayedDocuments(E,A)).next(O=>{_=O;const M=[];for(const q of f){const $=zL(q,_.get(q.key).overlayedDocument);$!=null&&M.push(new vo(q.key,$,_C($.value.mapValue),yr.exists(!0)))}return h.mutationQueue.addMutationBatch(E,d,M,f)}).next(O=>{v=O;const M=O.applyToLocalDocumentSet(_,R);return h.documentOverlayCache.saveOverlays(E,O.batchId,M)})}).then(()=>({batchId:v.batchId,changes:NC(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,h){let d=u.Au[u.currentUser.toKey()];d||(d=new Bt(Ke)),d=d.insert(f,h),u.Au[u.currentUser.toKey()]=d}(r,s.batchId,n),await _f(r,s.changes),await Tp(r.remoteStore)}catch(s){const a=Av(s,"Failed to persist write");n.reject(a)}}async function cR(t,e){const n=qe(t);try{const r=await V6(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Eu.get(a);u&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?gt(u.cu,14607):s.removedDocuments.size>0&&(gt(u.cu,42227),u.cu=!1))}),await _f(n,r,e)}catch(r){await iu(r)}}function OS(t,e,n){const r=qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((a,u)=>{const f=u.view.Fa(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const h=qe(u);h.onlineState=f;let d=!1;h.queries.forEach((m,_)=>{for(const v of _.Sa)v.Fa(f)&&(d=!0)}),d&&xv(h)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C9(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let u=new Bt(Pe.comparator);u=u.insert(a,Un.newNoDocument(a,je.min()));const f=rt().add(a),h=new Ep(je.min(),new Map,new Bt(Ke),u,f);await cR(r,h),r.Iu=r.Iu.remove(a),r.Eu.delete(e),Rv(r)}else await p_(r.localStore,e,!1).then(()=>y_(r,e,n)).catch(iu)}async function R9(t,e){const n=qe(t),r=e.batch.batchId;try{const s=await P6(n.localStore,e);hR(n,r,null),fR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _f(n,s)}catch(s){await iu(s)}}async function I9(t,e,n){const r=qe(t);try{const s=await function(u,f){const h=qe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return h.mutationQueue.lookupMutationBatch(d,f).next(_=>(gt(_!==null,37113),m=_.keys(),h.mutationQueue.removeMutationBatch(d,_))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,m,f)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>h.localDocuments.getDocuments(d,m))})}(r.localStore,e);hR(r,e,n),fR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _f(r,s)}catch(s){await iu(s)}}function fR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function hR(t,e,n){const r=qe(t);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||dR(t,r)})}function dR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Ev(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Rv(t))}function MS(t,e,n){for(const r of n)r instanceof aR?(t.du.addReference(r.key,e),N9(t,r)):r instanceof lR?(Te(Cv,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||dR(t,r.key)):Be(19791,{pu:r})}function N9(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Te(Cv,"New document in limbo: "+n),t.Tu.add(r),Rv(t))}function Rv(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Pe(Mt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new v9(n)),t.Iu=t.Iu.insert(n,r),tR(t.remoteStore,new no(Ci(AC(n.path)),r,"TargetPurposeLimboResolution",hp.le))}}async function _f(t,e,n){const r=qe(t),s=[],a=[],u=[];r.hu.isEmpty()||(r.hu.forEach((f,h)=>{u.push(r.fu(h,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const _=d?!d.fromCache:(m=n?.targetChanges.get(h.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(d){s.push(d);const _=_v.Rs(h.targetId,d);a.push(_)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(h,d){const m=qe(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ye.forEach(d,v=>ye.forEach(v.ds,E=>m.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>ye.forEach(v.As,E=>m.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!su(_))throw _;Te(vv,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const E=m.xs.get(v),A=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(A);m.xs=m.xs.insert(v,R)}}}(r.localStore,a))}async function k9(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Te(Cv,"User change. New user:",e.toKey());const r=await WC(n.localStore,e);n.currentUser=e,function(a,u){a.Ru.forEach(f=>{f.forEach(h=>{h.reject(new Se(ge.CANCELLED,u))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _f(n,r.ks)}}function D9(t,e){const n=qe(t),r=n.Eu.get(e);if(r&&r.cu)return rt().add(r.key);{let s=rt();const a=n.Pu.get(e);if(!a)return s;for(const u of a){const f=n.hu.get(u);s=s.unionWith(f.view.eu)}return s}}function pR(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C9.bind(null,e),e.lu.Y_=p9.bind(null,e.eventManager),e.lu.gu=m9.bind(null,e.eventManager),e}function O9(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I9.bind(null,e),e}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return M6(this.persistence,new k6,e.initialUser,this.serializer)}Su(e){return new QC(yv.fi,this.serializer)}bu(e){return new F6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class M9 extends qd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){gt(this.persistence.referenceDelegate instanceof Hd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g6(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new QC(r=>Hd.fi(r,n),this.serializer)}}class __{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>OS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k9.bind(null,this.syncEngine),await u9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f9}()}createDatastore(e){const n=wp(e.databaseInfo.databaseId),r=function(a){return new G6(a)}(e.databaseInfo);return function(a,u,f,h){return new Q6(a,u,f,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,u,f){return new Z6(r,s,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>OS(this.syncEngine,n,0),function(){return CS.C()?new CS:new H6}())}createSyncEngine(e,n){return function(s,a,u,f,h,d,m){const _=new E9(s,a,u,f,h,d);return m&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=qe(s);Te(ma,"RemoteStore shutting down."),a.da.add(5),await yf(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}__.provider={build:()=>new __};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class V9{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ln.UNAUTHENTICATED,this.clientId=lC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Te(yo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Te(yo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Av(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uy(t,e){t.asyncQueue.verifyOperationInProgress(),Te(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await L9(t);Te(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>IS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>IS(e.remoteStore,s)),t._onlineComponents=e}async function L9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(yo,"Using user provided OfflineComponentProvider");try{await uy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Kl("Error using user provided cache. Falling back to memory cache: "+n),await uy(t,new qd)}}else Te(yo,"Using default OfflineComponentProvider"),await uy(t,new M9(void 0));return t._offlineComponents}async function mR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(yo,"Using user provided OnlineComponentProvider"),await PS(t,t._uninitializedComponentsProvider._online)):(Te(yo,"Using default OnlineComponentProvider"),await PS(t,new __))),t._onlineComponents}function U9(t){return mR(t).then(e=>e.syncEngine)}async function z9(t){const e=await mR(t),n=e.eventManager;return n.onListen=w9.bind(null,e.syncEngine),n.onUnlisten=S9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A9.bind(null,e.syncEngine),n}function B9(t,e,n={}){const r=new lo;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,f,h,d){const m=new P9({next:v=>{m.xu(),u.enqueueAndForget(()=>d9(a,_)),v.fromCache&&h.source==="server"?d.reject(new Se(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new g9(f,m,{includeMetadataChanges:!0,Qa:!0});return h9(a,_)}(await z9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e,n){if(!n)throw new Se(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function F9(t,e,n,r){if(e===!0&&r===!0)throw new Se(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LS(t){if(!Pe.isDocumentKey(t))throw new Se(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function US(t){if(Pe.isDocumentKey(t))throw new Se(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function ga(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(t);throw new Se(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firestore.googleapis.com",zS=!0;class BS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_R,this.ssl=zS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:zS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p6)throw new Se(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Se(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Se(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Se(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $3;switch(r.type){case"firstParty":return new X3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VS.get(n);r&&(Te("ComponentProvider","Removing Datastore"),VS.delete(n),r.terminate())}(this),Promise.resolve()}}function H9(t,e,n,r={}){var s;t=ga(t,Ap);const a=tu(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a&&($x(`https://${h}`),Gx("Firestore",!0)),u.host!==_R&&u.host!==h&&Kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:r});if(!ha(d,f)&&(t._setSettings(d),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=Ln.MOCK_USER;else{m=gV(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Se(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ln(v)}t._authCredentials=new G3(new oC(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class _r{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _r(this.firestore,e,this._key)}}class uo extends ba{constructor(e,n,r){super(e,n,AC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _r(this.firestore,null,new Pe(e))}withConverter(e){return new uo(this.firestore,e,this._path)}}function Iv(t,e,...n){if(t=dn(t),yR("collection","path",e),t instanceof Ap){const r=Mt.fromString(e,...n);return US(r),new uo(t,null,r)}{if(!(t instanceof _r||t instanceof uo))throw new Se(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return US(r),new uo(t.firestore,null,r)}}function lu(t,e,...n){if(t=dn(t),arguments.length===1&&(e=lC.newId()),yR("doc","path",e),t instanceof Ap){const r=Mt.fromString(e,...n);return LS(r),new _r(t,null,new Pe(r))}{if(!(t instanceof _r||t instanceof uo))throw new Se(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return LS(r),new _r(t.firestore,t instanceof uo?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="AsyncQueue";class HS{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new JC(this,"async_queue_retry"),this.rc=()=>{const r=ly();r&&Te(FS,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=ly();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new lo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!su(e))throw e;Te(FS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ds("INTERNAL UNHANDLED ERROR: ",jS(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Sv.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&Be(47125,{cc:jS(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function jS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vf extends Ap{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new HS,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HS(e),this._firestoreClient=void 0,await e}}}function j9(t,e){const n=typeof t=="object"?t:Qx(),r=typeof t=="string"?t:Vd,s=sv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=pV("firestore");a&&H9(s,...a)}return s}function Nv(t){if(t._terminated)throw new Se(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q9(t),t._firestoreClient}function q9(t){var e,n,r;const s=t._freezeSettings(),a=function(f,h,d,m){return new cL(f,h,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,gR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new V9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(f){const h=f?._online.build();return{_offline:f?._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eu(Dn.fromBase64String(e))}catch(n){throw new Se(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eu(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=/^__.*__$/;class G9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mf(e,this.data,n,this.fieldTransforms)}}class vR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ER(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ic:t})}}class Mv{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return $d(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(ER(this.Ic)&&$9.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Y9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wp(e)}bc(e,n,r,s=!1){return new Mv({Ic:e,methodName:n,wc:r,path:kn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pv(t){const e=t._freezeSettings(),n=wp(t._databaseId);return new Y9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wR(t,e,n,r,s,a={}){const u=t.bc(a.merge||a.mergeFields?2:0,e,n,s);Vv("Data must be an object, but it was:",u,r);const f=bR(r,u);let h,d;if(a.merge)h=new mr(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const m=[];for(const _ of a.mergeFields){const v=v_(e,_,n);if(!u.contains(v))throw new Se(ge.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);SR(m,v)||m.push(v)}h=new mr(m),d=u.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,d=u.fieldTransforms;return new G9(new Jn(f),h,d)}class Cp extends kv{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}function K9(t,e,n,r){const s=t.bc(1,e,n);Vv("Data must be an object, but it was:",s,r);const a=[],u=Jn.empty();_o(r,(h,d)=>{const m=Lv(e,h,n);d=dn(d);const _=s.mc(m);if(d instanceof Cp)a.push(m);else{const v=Ef(d,_);v!=null&&(a.push(m),u.set(m,v))}});const f=new mr(a);return new vR(u,f,s.fieldTransforms)}function X9(t,e,n,r,s,a){const u=t.bc(1,e,n),f=[v_(e,r,n)],h=[s];if(a.length%2!=0)throw new Se(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)f.push(v_(e,a[v])),h.push(a[v+1]);const d=[],m=Jn.empty();for(let v=f.length-1;v>=0;--v)if(!SR(d,f[v])){const E=f[v];let A=h[v];A=dn(A);const R=u.mc(E);if(A instanceof Cp)d.push(E);else{const O=Ef(A,R);O!=null&&(d.push(E),m.set(E,O))}}const _=new mr(d);return new vR(m,_,u.fieldTransforms)}function Q9(t,e,n,r=!1){return Ef(n,t.bc(r?4:3,e))}function Ef(t,e){if(TR(t=dn(t)))return Vv("Unsupported field value:",e,t),bR(t,e);if(t instanceof kv)return function(r,s){if(!ER(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const f of r){let h=Ef(f,s.fc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:Fd(s.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fd(s.serializer,a)}}if(r instanceof Dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eu)return{bytesValue:HC(s.serializer,r._byteString)};if(r instanceof _r){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ov)return function(u,f){return{mapValue:{fields:{[gC]:{stringValue:yC},[Ld]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw f.gc("VectorValues must only contain numeric values.");return hv(f.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Sp(r)}`)}(t,e)}function bR(t,e){const n={};return cC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,s)=>{const a=Ef(s,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function TR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof Dv||t instanceof eu||t instanceof _r||t instanceof kv||t instanceof Ov)}function Vv(t,e,n){if(!TR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Sp(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function v_(t,e,n){if((e=dn(e))instanceof xp)return e._internalPath;if(typeof e=="string")return Lv(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}const W9=new RegExp("[~\\*/\\[\\]]");function Lv(t,e,n){if(e.search(W9)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xp(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${s}`),h+=")"),new Se(ge.INVALID_ARGUMENT,f+t+h)}function SR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _r(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z9 extends AR{data(){return super.data()}}function Rp(t,e){return typeof e=="string"?Lv(t,e):e instanceof xp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uv{}class xR extends Uv{}function e5(t,e,...n){let r=[];e instanceof Uv&&r.push(e),r=r.concat(n),function(a){const u=a.filter(h=>h instanceof zv).length,f=a.filter(h=>h instanceof Ip).length;if(u>1||u>0&&f>0)throw new Se(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ip extends xR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ip(e,n,r)}_apply(e){const n=this._parse(e);return CR(e._query,n),new ba(e.firestore,e.converter,l_(e._query,n))}_parse(e){const n=Pv(e.firestore);return function(a,u,f,h,d,m,_){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Se(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){$S(_,m);const A=[];for(const R of _)A.push(qS(h,a,R));v={arrayValue:{values:A}}}else v=qS(h,a,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||$S(_,m),v=Q9(f,u,_,m==="in"||m==="not-in");return sn.create(d,m,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function t5(t,e,n){const r=e,s=Rp("where",t);return Ip._create(s,r,n)}class zv extends Uv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let u=s;const f=a.getFlattenedFilters();for(const h of f)CR(u,h),u=l_(u,h)}(e._query,n),new ba(e.firestore,e.converter,l_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bv extends xR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bv(e,n)}_apply(e){const n=function(s,a,u){if(s.startAt!==null)throw new Se(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Se(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tf(a,u)}(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,function(s,a){const u=s.explicitOrderBy.concat([a]);return new ou(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function n5(t,e="asc"){const n=e,r=Rp("orderBy",t);return Bv._create(r,n)}function qS(t,e,n){if(typeof(n=dn(n))=="string"){if(n==="")throw new Se(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xC(e)&&n.indexOf("/")!==-1)throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Mt.fromString(n));if(!Pe.isDocumentKey(r))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sS(t,new Pe(r))}if(n instanceof _r)return sS(t,n._key);throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(n)}.`)}function $S(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CR(t,e){const n=function(s,a){for(const u of s)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Se(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r5{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _o(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Ld].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Wt(u.doubleValue));return new Ov(a)}convertGeoPoint(e){return new Dv(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=ho(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);gt(KC(r),9688,{name:e});const s=new Jc(r.get(1),r.get(3)),a=new Pe(r.popFirst(5));return s.isEqual(n)||ds(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i5 extends AR{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vd extends i5{data(e={}){return super.data(e)}}class s5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new rd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vd(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const h=new vd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new rd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const h=new vd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new rd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),m=u.indexOf(f.doc.key)),{type:o5(f.type),doc:h,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}class a5 extends r5{constructor(e){super(),this.firestore=e}convertBytes(e){return new eu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _r(this.firestore,null,n)}}function Fv(t){t=ga(t,ba);const e=ga(t.firestore,vf),n=Nv(e),r=new a5(e);return J9(t._query),B9(n,t._query).then(s=>new s5(e,r,t,s))}function Hv(t,e,n){t=ga(t,_r);const r=ga(t.firestore,vf),s=RR(t.converter,e,n);return jv(r,[wR(Pv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yr.none())])}function l5(t){return jv(ga(t.firestore,vf),[new vp(t._key,yr.none())])}function jv(t,e){return function(r,s){const a=new lo;return r.asyncQueue.enqueueAndForget(async()=>x9(await U9(r),s,a)),a.promise}(Nv(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pv(e)}set(e,n,r){this._verifyNotCommitted();const s=cy(e,this._firestore),a=RR(s.converter,n,r),u=wR(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,yr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const a=cy(e,this._firestore);let u;return u=typeof(n=dn(n))=="string"||n instanceof xp?X9(this._dataReader,"WriteBatch.update",a._key,n,r,s):K9(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(u.toMutation(a._key,yr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=cy(e,this._firestore);return this._mutations=this._mutations.concat(new vp(n._key,yr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cy(t,e){if((t=dn(t)).firestore!==e)throw new Se(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){return Nv(t=ga(t,vf)),new u5(t,e=>jv(t,e))}(function(e,n=!0){(function(s){ru=s})(nu),Yl(new da("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),f=new vf(new Y3(r.getProvider("auth-internal")),new Q3(u,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(d.options.projectId,m)}(u,s),u);return a=Object.assign({useFetchStreams:n},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),oo(YT,KT,e),oo(YT,KT,"esm2017")})();function qv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function NR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c5=NR,kR=new df("auth","Firebase",NR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new rv("@firebase/auth");function f5(t,...e){Gd.logLevel<=nt.WARN&&Gd.warn(`Auth (${nu}): ${t}`,...e)}function Ed(t,...e){Gd.logLevel<=nt.ERROR&&Gd.error(`Auth (${nu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t,...e){throw $v(t,...e)}function Ii(t,...e){return $v(t,...e)}function DR(t,e,n){const r=Object.assign(Object.assign({},c5()),{[e]:n});return new df("auth","Firebase",r).create(e,{appName:t.name})}function ls(t){return DR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $v(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kR.create(t,...e)}function ze(t,e,...n){if(!t)throw $v(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function ms(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h5(){return GS()==="http:"||GS()==="https:"}function GS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h5()||bV()||"connection"in navigator)?navigator.onLine:!0}function p5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=vV()||TV()}get(){return d5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y5=new wf(3e4,6e4);function Eo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wo(t,e,n,r,s={}){return MR(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const f=pf(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:h},a);return wV()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&tu(t.emulatorConfig.host)&&(d.credentials="include"),OR.fetch()(await PR(t,t.config.apiHost,n,f),d)})}async function MR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m5),e);try{const s=new v5(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw id(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw id(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw id(t,"user-disabled",u);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw DR(t,m,d);ei(t,m)}}catch(s){if(s instanceof ys)throw s;ei(t,"network-request-failed",{message:String(s)})}}async function bf(t,e,n,r,s={}){const a=await wo(t,e,n,r,s);return"mfaPendingCredential"in a&&ei(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function PR(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?Gv(t.config,s):`${t.config.apiScheme}://${s}`;return g5.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function _5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),y5.get())})}}function id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ii(t,e,r);return s.customData._tokenResponse=n,s}function YS(t){return t!==void 0&&t.enterprise!==void 0}class E5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w5(t,e){return wo(t,"GET","/v2/recaptchaConfig",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(t,e){return wo(t,"POST","/v1/accounts:delete",e)}async function Yd(t,e){return wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T5(t,e=!1){const n=dn(t),r=await n.getIdToken(e),s=Yv(r);ze(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Lc(fy(s.auth_time)),issuedAtTime:Lc(fy(s.iat)),expirationTime:Lc(fy(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function fy(t){return Number(t)*1e3}function Yv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{const s=Fx(n);return s?JSON.parse(s):(Ed("Failed to decode base64 JWT payload"),null)}catch(s){return Ed("Caught error parsing JWT payload as JSON",s?.toString()),null}}function KS(t){const e=Yv(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&S5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await sf(t,Yd(n,{idToken:r}));ze(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?VR(a.providerUserInfo):[],f=C5(t.providerData,u),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!f?.length,m=h?d:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new w_(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function x5(t){const e=dn(t);await Kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function VR(t){return t.map(e=>{var{providerId:n}=e,r=qv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){const n=await MR(t,{},async()=>{const r=pf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await PR(t,s,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return t.emulatorConfig&&tu(t.emulatorConfig.host)&&(h.credentials="include"),OR.fetch()(u,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I5(t,e){return wo(t,"POST","/v2/accounts:revokeToken",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=KS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await R5(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new Ll;return r&&(ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ze(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(ze(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=qv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new w_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sf(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T5(this,e)}reload(){return x5(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await sf(this,b5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,u,f,h,d,m;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,E=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,R=(f=n.tenantId)!==null&&f!==void 0?f:void 0,O=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,M=(d=n.createdAt)!==null&&d!==void 0?d:void 0,q=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:$,emailVerified:H,isAnonymous:Q,providerData:j,stsTokenManager:V}=n;ze($&&V,e,"internal-error");const I=Ll.fromJSON(this.name,V);ze(typeof $=="string",e,"internal-error"),Gs(_,e.name),Gs(v,e.name),ze(typeof H=="boolean",e,"internal-error"),ze(typeof Q=="boolean",e,"internal-error"),Gs(E,e.name),Gs(A,e.name),Gs(R,e.name),Gs(O,e.name),Gs(M,e.name),Gs(q,e.name);const C=new Zr({uid:$,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:Q,photoURL:A,phoneNumber:E,tenantId:R,stsTokenManager:I,createdAt:M,lastLoginAt:q});return j&&Array.isArray(j)&&(C.providerData=j.map(F=>Object.assign({},F))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ll;s.updateFromServerResponse(n);const a=new Zr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kd(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ze(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?VR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,f=new Ll;f.updateFromIdToken(r);const h=new Zr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new w_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;function os(t){ms(t instanceof Function,"Expected a class definition");let e=XS.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LR.type="NONE";const QS=LR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ul{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=wd(this.userKey,s.apiKey,a),this.fullPersistenceKey=wd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yd(this.auth,{idToken:e}).catch(()=>{});return n?Zr._fromGetAccountInfoResponse(this.auth,n,e):null}return Zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ul(os(QS),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||os(QS);const u=wd(r,e.config.apiKey,e.name);let f=null;for(const d of n)try{const m=await d._get(u);if(m){let _;if(typeof m=="string"){const v=await Yd(e,{idToken:m}).catch(()=>{});if(!v)break;_=await Zr._fromGetAccountInfoResponse(e,v,m)}else _=Zr._fromJSON(e,m);d!==a&&(f=_),a=d;break}}catch{}const h=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ul(a,e,r):(a=h[0],f&&await a._set(u,f.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Ul(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jR(e))return"Blackberry";if(qR(e))return"Webos";if(zR(e))return"Safari";if((e.includes("chrome/")||BR(e))&&!e.includes("edge/"))return"Chrome";if(HR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UR(t=zn()){return/firefox\//i.test(t)}function zR(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BR(t=zn()){return/crios\//i.test(t)}function FR(t=zn()){return/iemobile/i.test(t)}function HR(t=zn()){return/android/i.test(t)}function jR(t=zn()){return/blackberry/i.test(t)}function qR(t=zn()){return/webos/i.test(t)}function Kv(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N5(t=zn()){var e;return Kv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k5(){return SV()&&document.documentMode===10}function $R(t=zn()){return Kv(t)||HR(t)||qR(t)||jR(t)||/windows phone/i.test(t)||FR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t,e=[]){let n;switch(t){case"Browser":n=WS(zn());break;case"Worker":n=`${WS(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,f)=>{try{const h=e(a);u(h)}catch(h){f(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e={}){return wo(t,"GET","/v2/passwordPolicy",Eo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=6;class P5{constructor(e){var n,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:M5,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,u,f;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(f=h.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZS(this),this.idTokenSubscription=new ZS(this),this.beforeStateQueue=new D5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yd(this,{idToken:e}),r=await Zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Br(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===f)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Br(this.app))return Promise.reject(ls(this));const n=e?dn(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Br(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Br(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O5(this),n=new P5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new df("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Br(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&f5(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ta(t){return dn(t)}class ZS{constructor(e){this.auth=e,this.observer=null,this.addObserver=DV(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L5(t){Np=t}function YR(t){return Np.loadJS(t)}function U5(){return Np.recaptchaEnterpriseScript}function z5(){return Np.gapiScript}function B5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class F5{constructor(){this.enterprise=new H5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class H5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const j5="recaptcha-enterprise",KR="NO_RECAPTCHA";class q5{constructor(e){this.type=j5,this.auth=Ta(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,f)=>{w5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const d=new E5(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(h=>{f(h)})})}function s(a,u,f){const h=window.grecaptcha;YS(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(KR)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F5().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(f=>{if(!n&&YS(window.grecaptcha))s(f,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=U5();h.length!==0&&(h+=f),YR(h).then(()=>{s(f,a,u)}).catch(d=>{u(d)})}}).catch(f=>{u(f)})})}}async function JS(t,e,n,r=!1,s=!1){const a=new q5(t);let u;if(s)u=KR;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const h=f.phoneEnrollmentInfo.phoneNumber,d=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const h=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function b_(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await JS(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await JS(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e){const n=sv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ha(a,e??{}))return s;ei(s,"already-initialized")}return n.initialize({options:e})}function G5(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(os);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Y5(t,e,n){const r=Ta(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=XR(e),{host:u,port:f}=K5(e),h=f===null?"":`:${f}`,d={url:`${a}//${u}${h}/`},m=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(ha(d,r.config.emulator)&&ha(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,tu(u)?($x(`${a}//${u}${h}`),Gx("Auth",!0)):X5()}function XR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K5(t){const e=XR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:e1(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:e1(u)}}}function e1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function Q5(t,e){return wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(t,e){return bf(t,"POST","/v1/accounts:signInWithPassword",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e){return bf(t,"POST","/v1/accounts:signInWithEmailLink",Eo(t,e))}async function J5(t,e){return bf(t,"POST","/v1/accounts:signInWithEmailLink",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends Xv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new of(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new of(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,n,"signInWithPassword",W5);case"emailLink":return Z5(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return b_(e,r,"signUpPassword",Q5);case"emailLink":return J5(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e){return bf(t,"POST","/v1/accounts:signInWithIdp",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="http://localhost";class ya extends Xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=qv(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new ya(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zl(e,n)}buildRequest(){const e={requestUri:eU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nU(t){const e=xc(Cc(t)).link,n=e?xc(Cc(e)).deep_link_id:null,r=xc(Cc(t)).deep_link_id;return(r?xc(Cc(r)).link:null)||r||n||e||t}class Qv{constructor(e){var n,r,s,a,u,f;const h=xc(Cc(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,_=tU((s=h.mode)!==null&&s!==void 0?s:null);ze(d&&m&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=m,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=h.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=nU(e);try{return new Qv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.providerId=uu.PROVIDER_ID}static credential(e,n){return of._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qv.parseLink(n);return ze(r,"argument-error"),of._fromEmailAndCode(e,r.code,r.tenantId)}}uu.PROVIDER_ID="password";uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends QR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Tf{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Tf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Js.credential(n,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Tf{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eo.credential(e.oauthAccessToken)}catch{return null}}}eo.GITHUB_SIGN_IN_METHOD="github.com";eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Tf{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return to.credential(n,r)}catch{return null}}}to.TWITTER_SIGN_IN_METHOD="twitter.com";to.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(t,e){return bf(t,"POST","/v1/accounts:signUp",Eo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Zr._fromIdTokenResponse(e,r,s),u=t1(r);return new _a({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=t1(r);return new _a({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function t1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends ys{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xd(e,n,r,s)}}function WR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(t,a,e,r):a})}async function iU(t,e,n=!1){const r=await sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _a._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e,n=!1){const{auth:r}=t;if(Br(r.app))return Promise.reject(ls(r));const s="reauthenticate";try{const a=await sf(t,WR(r,s,e,t),n);ze(a.idToken,r,"internal-error");const u=Yv(a.idToken);ze(u,r,"internal-error");const{sub:f}=u;return ze(t.uid===f,r,"user-mismatch"),_a._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ei(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e,n=!1){if(Br(t.app))return Promise.reject(ls(t));const r="signIn",s=await WR(t,r,e),a=await _a._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function oU(t,e){return ZR(Ta(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t){const e=Ta(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aU(t,e,n){if(Br(t.app))return Promise.reject(ls(t));const r=Ta(t),u=await b_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rU).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&JR(t),h}),f=await _a._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function lU(t,e,n){return Br(t.app)?Promise.reject(ls(t)):oU(dn(t),uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JR(t),r})}function uU(t,e,n,r){return dn(t).onIdTokenChanged(e,n,r)}function cU(t,e,n){return dn(t).beforeAuthStateChanged(e,n)}function fU(t,e,n,r){return dn(t).onAuthStateChanged(e,n,r)}function hU(t){return dn(t).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=1e3,pU=10;class tI extends eI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,h)=>{this.notifyListeners(u,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);k5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,pU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tI.type="LOCAL";const mU=tI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends eI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nI.type="SESSION";const rI=nI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async d=>d(n.origin,a)),h=await gU(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((f,h)=>{const d=Wv("",20);s.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(v.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function _U(t){Ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function vU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wU(){return iI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebaseLocalStorageDb",bU=1,Wd="firebaseLocalStorage",oI="fbase_key";class Sf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dp(t,e){return t.transaction([Wd],e?"readwrite":"readonly").objectStore(Wd)}function TU(){const t=indexedDB.deleteDatabase(sI);return new Sf(t).toPromise()}function T_(){const t=indexedDB.open(sI,bU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wd,{keyPath:oI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wd)?e(r):(r.close(),await TU(),e(await T_()))})})}async function n1(t,e,n){const r=Dp(t,!0).put({[oI]:e,value:n});return new Sf(r).toPromise()}async function SU(t,e){const n=Dp(t,!1).get(e),r=await new Sf(n).toPromise();return r===void 0?null:r.value}function r1(t,e){const n=Dp(t,!0).delete(e);return new Sf(n).toPromise()}const AU=800,xU=3;class aI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await T_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kp._getInstance(wU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vU(),!this.activeServiceWorker)return;this.sender=new yU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await T_();return await n1(e,Qd,"1"),await r1(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>n1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>SU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Dp(s,!1).getAll();return new Sf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aI.type="LOCAL";const CU=aI;new wf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){return e?os(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends Xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IU(t){return ZR(t.auth,new Zv(t),t.bypassAuthState)}function NU(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),sU(n,new Zv(t),t.bypassAuthState)}async function kU(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),iU(n,new Zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IU;case"linkViaPopup":case"linkViaRedirect":return kU;case"reauthViaPopup":case"reauthViaRedirect":return NU;default:ei(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new wf(2e3,1e4);class Dl extends lI{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Dl.currentPopupAction&&Dl.currentPopupAction.cancel(),Dl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DU.get())};e()}}Dl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="pendingRedirect",bd=new Map;class MU extends lI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bd.get(this.auth._key());if(!e){try{const r=await PU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PU(t,e){const n=UU(e),r=LU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function VU(t,e){bd.set(t._key(),e)}function LU(t){return os(t._redirectPersistence)}function UU(t){return wd(OU,t.config.apiKey,t.name)}async function zU(t,e,n=!1){if(Br(t.app))return Promise.reject(ls(t));const r=Ta(t),s=RU(r,e),u=await new MU(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=10*60*1e3;class FU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BU&&this.cachedEventUids.clear(),this.cachedEventUids.has(i1(e))}saveEventToCache(e){this.cachedEventUids.add(i1(e)),this.lastProcessedEventTime=Date.now()}}function i1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e={}){return wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$U=/^https?/;async function GU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jU(t);for(const n of e)try{if(YU(n))return}catch{}ei(t,"unauthorized-domain")}function YU(t){const e=E_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!$U.test(n))return!1;if(qU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new wf(3e4,6e4);function s1(){const t=Ni().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XU(t){return new Promise((e,n)=>{var r,s,a;function u(){s1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s1(),n(Ii(t,"network-request-failed"))},timeout:KU.get()})}if(!((s=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Ni().gapi)===null||a===void 0)&&a.load)u();else{const f=B5("iframefcb");return Ni()[f]=()=>{gapi.load?u():n(Ii(t,"network-request-failed"))},YR(`${z5()}?onload=${f}`).catch(h=>n(h))}}).catch(e=>{throw Td=null,e})}let Td=null;function QU(t){return Td=Td||XU(t),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=new wf(5e3,15e3),ZU="__/auth/iframe",JU="emulator/auth/iframe",ez={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nz(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gv(e,JU):`https://${t.config.authDomain}/${ZU}`,r={apiKey:e.apiKey,appName:t.name,v:nu},s=tz.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${pf(r).slice(1)}`}async function rz(t){const e=await QU(t),n=Ni().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:nz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ez,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ii(t,"network-request-failed"),f=Ni().setTimeout(()=>{a(u)},WU.get());function h(){Ni().clearTimeout(f),s(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sz=500,oz=600,az="_blank",lz="http://localhost";class o1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uz(t,e,n,r=sz,s=oz){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h=Object.assign(Object.assign({},iz),{width:r.toString(),height:s.toString(),top:a,left:u}),d=zn().toLowerCase();n&&(f=BR(d)?az:n),UR(d)&&(e=e||lz,h.scrollbars="yes");const m=Object.entries(h).reduce((v,[E,A])=>`${v}${E}=${A},`,"");if(N5(d)&&f!=="_self")return cz(e||"",f),new o1(null);const _=window.open(e||"",f,m);ze(_,t,"popup-blocked");try{_.focus()}catch{}return new o1(_)}function cz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz="__/auth/handler",hz="emulator/auth/handler",dz=encodeURIComponent("fac");async function a1(t,e,n,r,s,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nu,eventId:s};if(e instanceof QR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",kV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))u[m]=_}if(e instanceof Tf){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const m of Object.keys(f))f[m]===void 0&&delete f[m];const h=await t._getAppCheckToken(),d=h?`#${dz}=${encodeURIComponent(h)}`:"";return`${pz(t)}?${pf(f).slice(1)}${d}`}function pz({config:t}){return t.emulator?Gv(t,hz):`https://${t.authDomain}/${fz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="webStorageSupport";class mz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rI,this._completeRedirectFn=zU,this._overrideRedirectResult=VU}async _openPopup(e,n,r,s){var a;ms((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await a1(e,n,r,E_(),s);return uz(e,u,Wv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await a1(e,n,r,E_(),s);return _U(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ms(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rz(e),r=new FU(e);return n.register("authEvent",s=>(ze(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hy,{type:hy},s=>{var a;const u=(a=s?.[0])===null||a===void 0?void 0:a[hy];u!==void 0&&n(!!u),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $R()||zR()||Kv()}}const gz=mz;var l1="@firebase/auth",u1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vz(t){Yl(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GR(t)},d=new V5(r,s,a,h);return G5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yl(new da("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(r=>new yz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oo(l1,u1,_z(t)),oo(l1,u1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=5*60,wz=qx("authIdTokenMaxAge")||Ez;let c1=null;const bz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wz)return;const s=n?.token;c1!==s&&(c1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Tz(t=Qx()){const e=sv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$5(t,{popupRedirectResolver:gz,persistence:[CU,mU,rI]}),r=qx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=bz(a.toString());cU(n,u,()=>u(n.currentUser)),uU(n,f=>u(f))}}const s=Hx("auth");return s&&Y5(n,`http://${s}`),n}function Sz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Ii("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",Sz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vz("Browser");const Az={apiKey:"AIzaSyByTZ08eCsc2wv0VIWUHNtHSdmAA_JI5hM",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},cI=Xx(Az),ti=j9(cI),Zd=Tz(cI),Er={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},$n={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function xz(){const[t,e]=L.useState(""),[n,r]=L.useState(""),[s,a]=L.useState(!1),[u,f]=L.useState(!1),[h,d]=L.useState(""),m=async v=>{v.preventDefault(),f(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error($n.INVALID_EMAIL);if(n.length<6)throw new Error($n.WEAK_PASSWORD);const A=await aU(Zd,t,n);console.log("User created successfully:",A.user.uid)}catch(E){console.error("Sign up error:",E);let A="Failed to create account";E.code==="auth/email-already-in-use"?A=$n.EMAIL_IN_USE:E.code==="auth/invalid-email"?A=$n.INVALID_EMAIL:E.code==="auth/weak-password"?A=$n.WEAK_PASSWORD:E.code==="auth/operation-not-allowed"?A="Email/password accounts are not enabled. Please contact support.":E.message&&(A=E.message),d(A)}finally{f(!1)}},_=async v=>{v.preventDefault(),f(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error($n.INVALID_EMAIL);const A=await lU(Zd,t,n);console.log("User signed in successfully:",A.user.uid)}catch(E){console.error("Sign in error:",E);let A="Failed to sign in";E.code==="auth/user-not-found"?A=$n.USER_NOT_FOUND:E.code==="auth/wrong-password"?A=$n.WRONG_PASSWORD:E.code==="auth/invalid-email"?A=$n.INVALID_EMAIL:E.code==="auth/user-disabled"?A="This account has been disabled. Please contact support.":E.code==="auth/too-many-requests"?A=$n.TOO_MANY_REQUESTS:E.message&&(A=E.message),d(A)}finally{f(!1)}};return ne.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"Arial, sans-serif",backgroundColor:"#f5f5f5"},children:ne.jsxs("div",{style:{padding:"2rem",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"white",minWidth:"300px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[ne.jsx("h2",{style:{textAlign:"center",marginBottom:"1.5rem"},children:s?"Sign Up":"Sign In"}),ne.jsxs("form",{onSubmit:s?m:_,children:[ne.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:v=>e(v.target.value),required:!0,style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem",boxSizing:"border-box"}}),ne.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:v=>r(v.target.value),required:!0,style:{width:"100%",padding:"0.75rem",marginBottom:"1rem",border:"1px solid #ccc",borderRadius:"4px",fontSize:"1rem",boxSizing:"border-box"}}),ne.jsx("button",{type:"submit",disabled:u,style:{width:"100%",padding:"0.75rem",backgroundColor:u?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:u?"not-allowed":"pointer",marginBottom:"1rem"},children:u?"Loading...":s?"Sign Up":"Sign In"}),h&&ne.jsx("p",{style:{color:"red",textAlign:"center",marginBottom:"1rem",fontSize:"0.9rem"},children:h})]}),ne.jsxs("p",{style:{textAlign:"center",margin:0},children:[s?"Already have an account?":"Don't have an account?",ne.jsx("button",{type:"button",onClick:()=>a(!s),style:{background:"none",border:"none",color:"#007bff",textDecoration:"underline",cursor:"pointer",marginLeft:"0.5rem",fontSize:"1rem"},children:s?"Sign In":"Sign Up"})]})]})})}var dy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var f1;function Cz(){return f1||(f1=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=s(a,r(f)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=s(u,f));return u}function s(a,u){return u?a?a+" "+u:a+u:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(dy)),dy.exports}var Rz=Cz();const Dt=va(Rz),cu=!!(typeof window<"u"&&window.document&&window.document.createElement);var S_=!1,A_=!1;try{var py={get passive(){return S_=!0},get once(){return A_=S_=!0}};cu&&(window.addEventListener("test",py,py),window.removeEventListener("test",py,!0))}catch{}function fI(t,e,n,r){if(r&&typeof r!="boolean"&&!A_){var s=r.once,a=r.capture,u=n;!A_&&s&&(u=n.__once||function f(h){this.removeEventListener(e,f,a),n.call(this,h)},n.__once=u),t.addEventListener(e,u,S_?r:a)}t.addEventListener(e,n,r)}function Op(t){return t&&t.ownerDocument||document}function x_(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}var sd;function h1(t){if((!sd&&sd!==0||t)&&cu){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),sd=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return sd}function Iz(){return L.useState(null)}function Nz(t){const e=L.useRef(t);return L.useEffect(()=>{e.current=t},[t]),e}function C_(t){const e=Nz(t);return L.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const d1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function kz(t,e){const n=d1(t),r=d1(e);return s=>{n&&n(s),r&&r(s)}}function hI(t,e){return L.useMemo(()=>kz(t,e),[t,e])}function Dz(t){const e=L.useRef(t);return e.current=t,e}function Oz(t){const e=Dz(t);L.useEffect(()=>()=>e.current(),[])}function Mz(t){var e=Op(t);return e&&e.defaultView||window}function Pz(t,e){return Mz(t).getComputedStyle(t,e)}var Vz=/([A-Z])/g;function Lz(t){return t.replace(Vz,"-$1").toLowerCase()}var Uz=/^ms-/;function od(t){return Lz(t).replace(Uz,"-ms-")}var zz=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Bz(t){return!!(t&&zz.test(t))}function ua(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(od(e))||Pz(t).getPropertyValue(od(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?t.style.removeProperty(od(s)):Bz(s)?r+=s+"("+a+") ":n+=od(s)+": "+a+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function Jd(t,e,n,r){return fI(t,e,n,r),function(){x_(t,e,n,r)}}function Fz(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function Hz(t){var e=ua(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function jz(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||Fz(t,"transitionend",!0)},e+n),a=Jd(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function dI(t,e,n,r){n==null&&(n=Hz(t)||0);var s=jz(t,n,r),a=Jd(t,"transitionend",e);return function(){s(),a()}}function my(t){t===void 0&&(t=Op());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function p1(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function qz(){const t=L.useRef(!0),e=L.useRef(()=>t.current);return L.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function $z(t){const e=L.useRef(t);return e.current=t,e}function Gz(t){const e=$z(t);L.useEffect(()=>()=>e.current(),[])}function Yz(t){const e=L.useRef(null);return L.useEffect(()=>{e.current=t}),e.current}function Kz(t){const e=L.useRef(t);return L.useEffect(()=>{e.current=t},[t]),e}function na(t){const e=Kz(t);return L.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Xz="data-rr-ui-";function Qz(t){return`${Xz}${t}`}function Wz(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const m1=Qz("modal-open");class Jv{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Wz(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(ua(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(m1,""),ua(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(m1),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const pI=L.createContext(cu?window:void 0);pI.Provider;function e0(){return L.useContext(pI)}const gy=(t,e)=>cu?t==null?(e||Op()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Zz(t,e){const n=e0(),[r,s]=L.useState(()=>gy(t,n?.document));if(!r){const a=gy(t);a&&s(a)}return L.useEffect(()=>{},[e,r]),L.useEffect(()=>{const a=gy(t);a!==r&&s(a)},[t,r]),r}const g1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Jz(t,e){const n=g1(t),r=g1(e);return s=>{n&&n(s),r&&r(s)}}function t0(t,e){return L.useMemo(()=>Jz(t,e),[t,e])}const eB=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",tB=typeof document<"u",y1=tB||eB?L.useLayoutEffect:L.useEffect;function nB(t){return t.code==="Escape"||t.keyCode===27}function rB(){const t=L.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function Mp(t){if(!t||typeof t=="function")return null;const{major:e}=rB();return e>=19?t.props.ref:t.ref}function iB({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const a=L.useRef(null),u=L.useRef(e),f=na(n);L.useEffect(()=>{e?u.current=!0:f(a.current)},[e,f]);const h=t0(a,Mp(t)),d=L.cloneElement(t,{ref:h});return e?d:s||!u.current&&r?null:d}const sB=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function oB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aB(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:a,onExited:u,addEndListener:f,children:h}=t,d=oB(t,sB);const m=L.useRef(null),_=t0(m,Mp(h)),v=H=>Q=>{H&&m.current&&H(m.current,Q)},E=L.useCallback(v(e),[e]),A=L.useCallback(v(n),[n]),R=L.useCallback(v(r),[r]),O=L.useCallback(v(s),[s]),M=L.useCallback(v(a),[a]),q=L.useCallback(v(u),[u]),$=L.useCallback(v(f),[f]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:E},n&&{onEntering:A},r&&{onEntered:R},s&&{onExit:O},a&&{onExiting:M},u&&{onExited:q},f&&{addEndListener:$},{children:typeof h=="function"?(H,Q)=>h(H,Object.assign({},Q,{ref:_})):L.cloneElement(h,{ref:_})})}const lB=["component"];function uB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const cB=L.forwardRef((t,e)=>{let{component:n}=t,r=uB(t,lB);const s=aB(r);return ne.jsx(n,Object.assign({ref:e},s))});function fB({in:t,onTransition:e}){const n=L.useRef(null),r=L.useRef(!0),s=na(e);return y1(()=>{if(!n.current)return;let a=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[t,s]),y1(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function hB({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[a,u]=L.useState(!e);e&&a&&u(!1);const f=fB({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?r?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(s(d)).then(m,_=>{throw d.in||u(!0),_})}}),h=t0(f,Mp(t));return a&&!e?null:L.cloneElement(t,{ref:h})}function _1(t,e,n){return t?ne.jsx(cB,Object.assign({},n,{component:t})):e?ne.jsx(hB,Object.assign({},n,{transition:e})):ne.jsx(iB,Object.assign({},n))}const dB=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function pB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let yy;function mB(t){return yy||(yy=new Jv({ownerDocument:t?.document})),yy}function gB(t){const e=e0(),n=t||mB(e),r=L.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:L.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:L.useCallback(s=>{r.current.backdrop=s},[])})}const mI=L.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:a,children:u,backdrop:f=!0,keyboard:h=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:_,runTransition:v,backdropTransition:E,runBackdropTransition:A,autoFocus:R=!0,enforceFocus:O=!0,restoreFocus:M=!0,restoreFocusOptions:q,renderDialog:$,renderBackdrop:H=Me=>ne.jsx("div",Object.assign({},Me)),manager:Q,container:j,onShow:V,onHide:I=()=>{},onExit:C,onExited:F,onExiting:D,onEnter:z,onEntering:x,onEntered:k}=t,G=pB(t,dB);const U=e0(),K=Zz(j),J=gB(Q),Z=qz(),b=Yz(n),[X,re]=L.useState(!n),N=L.useRef(null);L.useImperativeHandle(e,()=>J,[J]),cu&&!b&&n&&(N.current=my(U?.document)),n&&X&&re(!1);const ue=na(()=>{if(J.add(),Oe.current=Jd(document,"keydown",be),De.current=Jd(document,"focus",()=>setTimeout(_e),!0),V&&V(),R){var Me,St;const Le=my((Me=(St=J.dialog)==null?void 0:St.ownerDocument)!=null?Me:U?.document);J.dialog&&Le&&!p1(J.dialog,Le)&&(N.current=Le,J.dialog.focus())}}),ve=na(()=>{if(J.remove(),Oe.current==null||Oe.current(),De.current==null||De.current(),M){var Me;(Me=N.current)==null||Me.focus==null||Me.focus(q),N.current=null}});L.useEffect(()=>{!n||!K||ue()},[n,K,ue]),L.useEffect(()=>{X&&ve()},[X,ve]),Gz(()=>{ve()});const _e=na(()=>{if(!O||!Z()||!J.isTopModal())return;const Me=my(U?.document);J.dialog&&Me&&!p1(J.dialog,Me)&&J.dialog.focus()}),Ce=na(Me=>{Me.target===Me.currentTarget&&(d?.(Me),f===!0&&I())}),be=na(Me=>{h&&nB(Me)&&J.isTopModal()&&(m?.(Me),Me.defaultPrevented||I())}),De=L.useRef(),Oe=L.useRef(),Ze=(...Me)=>{re(!0),F?.(...Me)};if(!K)return null;const tt=Object.assign({role:r,ref:J.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},G,{style:a,className:s,tabIndex:-1});let ft=$?$(tt):ne.jsx("div",Object.assign({},tt,{children:L.cloneElement(u,{role:"document"})}));ft=_1(_,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:C,onExiting:D,onExited:Ze,onEnter:z,onEntering:x,onEntered:k,children:ft});let lt=null;return f&&(lt=H({ref:J.setBackdropRef,onClick:Ce}),lt=_1(E,A,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:lt})),ne.jsx(ne.Fragment,{children:Nl.createPortal(ne.jsxs(ne.Fragment,{children:[lt,ft]}),K)})});mI.displayName="Modal";const yB=Object.assign(mI,{Manager:Jv});function _B(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function vB(t,e){t.classList?t.classList.add(e):_B(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var EB=Function.prototype.bind.call(Function.prototype.call,[].slice);function vl(t,e){return EB(t.querySelectorAll(e))}function v1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wB(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=v1(t.className,e):t.setAttribute("class",v1(t.className&&t.className.baseVal||"",e))}const El={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class bB extends Jv{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,ua(n,{[e]:`${parseFloat(ua(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],ua(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(vB(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";vl(n,El.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),vl(n,El.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),vl(n,El.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();wB(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";vl(n,El.FIXED_CONTENT).forEach(a=>this.restore(r,a)),vl(n,El.STICKY_CONTENT).forEach(a=>this.restore(s,a)),vl(n,El.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let _y;function TB(t){return _y||(_y=new bB(t)),_y}function SB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},R_(t,e)}function AB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,R_(t,e)}var vy={exports:{}},Ey,E1;function xB(){if(E1)return Ey;E1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ey=t,Ey}var wy,w1;function CB(){if(w1)return wy;w1=1;var t=xB();function e(){}function n(){}return n.resetWarningCache=e,wy=function(){function r(u,f,h,d,m,_){if(_!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},wy}var b1;function RB(){return b1||(b1=1,vy.exports=CB()()),vy.exports}var IB=RB();const us=va(IB),T1={disabled:!1},gI=fe.createContext(null);var NB=function(e){return e.scrollTop},kc="unmounted",ta="exited",Qs="entering",ra="entered",I_="exiting",_s=function(t){AB(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var u=s,f=u&&!u.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?f?(h=ta,a.appearStatus=Qs):h=ra:r.unmountOnExit||r.mountOnEnter?h=kc:h=ta,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===kc?{status:ta}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Qs&&u!==ra&&(a=Qs):(u===Qs||u===ra)&&(a=I_)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,u,f;return a=u=f=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,f=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:f}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Qs){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Nl.findDOMNode(this);u&&NB(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ta&&this.setState({status:kc})},n.performEnter=function(s){var a=this,u=this.props.enter,f=this.context?this.context.isMounting:s,h=this.props.nodeRef?[f]:[Nl.findDOMNode(this),f],d=h[0],m=h[1],_=this.getTimeouts(),v=f?_.appear:_.enter;if(!s&&!u||T1.disabled){this.safeSetState({status:ra},function(){a.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Qs},function(){a.props.onEntering(d,m),a.onTransitionEnd(v,function(){a.safeSetState({status:ra},function(){a.props.onEntered(d,m)})})})},n.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),f=this.props.nodeRef?void 0:Nl.findDOMNode(this);if(!a||T1.disabled){this.safeSetState({status:ta},function(){s.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:I_},function(){s.props.onExiting(f),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:ta},function(){s.props.onExited(f)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(f){u&&(u=!1,a.nextCallback=null,s(f))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:Nl.findDOMNode(this),f=s==null&&!this.props.addEndListener;if(!u||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=h[0],m=h[1];this.props.addEndListener(d,m)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===kc)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=SB(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fe.createElement(gI.Provider,{value:null},typeof u=="function"?u(s,f):fe.cloneElement(fe.Children.only(u),f))},e}(fe.Component);_s.contextType=gI;_s.propTypes={};function wl(){}_s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wl,onEntering:wl,onEntered:wl,onExit:wl,onExiting:wl,onExited:wl};_s.UNMOUNTED=kc;_s.EXITED=ta;_s.ENTERING=Qs;_s.ENTERED=ra;_s.EXITING=I_;function S1(t,e){const n=ua(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function kB(t,e){const n=S1(t,"transitionDuration"),r=S1(t,"transitionDelay"),s=dI(t,a=>{a.target===t&&(s(),e(a))},n+r)}function DB(t){t.offsetHeight}function OB(t){return t&&"setState"in t?Nl.findDOMNode(t):t??null}const yI=fe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:a,addEndListener:u,children:f,childRef:h,...d},m)=>{const _=L.useRef(null),v=hI(_,h),E=j=>{v(OB(j))},A=j=>V=>{j&&_.current&&j(_.current,V)},R=L.useCallback(A(t),[t]),O=L.useCallback(A(e),[e]),M=L.useCallback(A(n),[n]),q=L.useCallback(A(r),[r]),$=L.useCallback(A(s),[s]),H=L.useCallback(A(a),[a]),Q=L.useCallback(A(u),[u]);return ne.jsx(_s,{ref:m,...d,onEnter:R,onEntered:M,onEntering:O,onExit:q,onExited:H,onExiting:$,addEndListener:Q,nodeRef:_,children:typeof f=="function"?(j,V)=>f(j,{...V,ref:E}):fe.cloneElement(f,{ref:E})})});yI.displayName="TransitionWrapper";const MB={[Qs]:"show",[ra]:"show"},n0=L.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},f=L.useCallback((h,d)=>{DB(h),r?.(h,d)},[r]);return ne.jsx(yI,{ref:a,addEndListener:kB,...u,onEnter:f,childRef:Mp(e),children:(h,d)=>L.cloneElement(e,{...d,className:Dt("fade",t,e.props.className,MB[h],n[h])})})});n0.displayName="Fade";const PB=["xxl","xl","lg","md","sm","xs"],VB="xs",Af=L.createContext({prefixes:{},breakpoints:PB,minBreakpoint:VB}),{Consumer:Qj,Provider:Wj}=Af;function pn(t,e){const{prefixes:n}=L.useContext(Af);return t||n[e]||e}function LB(){const{breakpoints:t}=L.useContext(Af);return t}function UB(){const{minBreakpoint:t}=L.useContext(Af);return t}function zB(){const{dir:t}=L.useContext(Af);return t==="rtl"}const _I=L.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=pn(e,"modal-body"),ne.jsx(n,{ref:s,className:Dt(t,e),...r})));_I.displayName="ModalBody";const vI=L.createContext({onHide(){}}),r0=L.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:a,children:u,scrollable:f,...h},d)=>{t=pn(t,"modal");const m=`${t}-dialog`,_=typeof a=="string"?`${t}-fullscreen-${a}`:`${t}-fullscreen`;return ne.jsx("div",{...h,ref:d,className:Dt(m,e,s&&`${t}-${s}`,r&&`${m}-centered`,f&&`${m}-scrollable`,a&&_),children:ne.jsx("div",{className:Dt(`${t}-content`,n),children:u})})});r0.displayName="ModalDialog";const EI=L.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=pn(e,"modal-footer"),ne.jsx(n,{ref:s,className:Dt(t,e),...r})));EI.displayName="ModalFooter";const BB={"aria-label":us.string,onClick:us.func,variant:us.oneOf(["white"])},i0=L.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>ne.jsx("button",{ref:s,type:"button",className:Dt("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));i0.displayName="CloseButton";i0.propTypes=BB;const wI=L.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...a},u)=>{const f=L.useContext(vI),h=C_(()=>{f?.onHide(),r?.()});return ne.jsxs("div",{ref:u,...a,children:[s,n&&ne.jsx(i0,{"aria-label":t,variant:e,onClick:h})]})});wI.displayName="AbstractModalHeader";const bI=L.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},a)=>(t=pn(t,"modal-header"),ne.jsx(wI,{ref:a,...s,className:Dt(e,t),closeLabel:n,closeButton:r})));bI.displayName="ModalHeader";const FB=t=>L.forwardRef((e,n)=>ne.jsx("div",{...e,ref:n,className:Dt(e.className,t)})),HB=FB("h4"),TI=L.forwardRef(({className:t,bsPrefix:e,as:n=HB,...r},s)=>(e=pn(e,"modal-title"),ne.jsx(n,{ref:s,className:Dt(t,e),...r})));TI.displayName="ModalTitle";function jB(t){return ne.jsx(n0,{...t,timeout:null})}function qB(t){return ne.jsx(n0,{...t,timeout:null})}const SI=L.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:a,dialogAs:u=r0,"data-bs-theme":f,"aria-labelledby":h,"aria-describedby":d,"aria-label":m,show:_=!1,animation:v=!0,backdrop:E=!0,keyboard:A=!0,onEscapeKeyDown:R,onShow:O,onHide:M,container:q,autoFocus:$=!0,enforceFocus:H=!0,restoreFocus:Q=!0,restoreFocusOptions:j,onEntered:V,onExit:I,onExiting:C,onEnter:F,onEntering:D,onExited:z,backdropClassName:x,manager:k,...G},U)=>{const[K,J]=L.useState({}),[Z,b]=L.useState(!1),X=L.useRef(!1),re=L.useRef(!1),N=L.useRef(null),[ue,ve]=Iz(),_e=hI(U,ve),Ce=C_(M),be=zB();t=pn(t,"modal");const De=L.useMemo(()=>({onHide:Ce}),[Ce]);function Oe(){return k||TB({isRTL:be})}function Ze(ee){if(!cu)return;const he=Oe().getScrollbarWidth()>0,Ae=ee.scrollHeight>Op(ee).documentElement.clientHeight;J({paddingRight:he&&!Ae?h1():void 0,paddingLeft:!he&&Ae?h1():void 0})}const tt=C_(()=>{ue&&Ze(ue.dialog)});Oz(()=>{x_(window,"resize",tt),N.current==null||N.current()});const ft=()=>{X.current=!0},lt=ee=>{X.current&&ue&&ee.target===ue.dialog&&(re.current=!0),X.current=!1},Me=()=>{b(!0),N.current=dI(ue.dialog,()=>{b(!1)})},St=ee=>{ee.target===ee.currentTarget&&Me()},Le=ee=>{if(E==="static"){St(ee);return}if(re.current||ee.target!==ee.currentTarget){re.current=!1;return}M?.()},Re=ee=>{A?R?.(ee):(ee.preventDefault(),E==="static"&&Me())},At=(ee,he)=>{ee&&Ze(ee),F?.(ee,he)},Gt=ee=>{N.current==null||N.current(),I?.(ee)},Tn=(ee,he)=>{D?.(ee,he),fI(window,"resize",tt)},Gn=ee=>{ee&&(ee.style.display=""),z?.(ee),x_(window,"resize",tt)},Sn=L.useCallback(ee=>ne.jsx("div",{...ee,className:Dt(`${t}-backdrop`,x,!v&&"show")}),[v,x,t]),Zt={...n,...K};Zt.display="block";const Fn=ee=>ne.jsx("div",{role:"dialog",...ee,style:Zt,className:Dt(e,t,Z&&`${t}-static`,!v&&"show"),onClick:E?Le:void 0,onMouseUp:lt,"data-bs-theme":f,"aria-label":m,"aria-labelledby":h,"aria-describedby":d,children:ne.jsx(u,{...G,onMouseDown:ft,className:r,contentClassName:s,children:a})});return ne.jsx(vI.Provider,{value:De,children:ne.jsx(yB,{show:_,ref:_e,backdrop:E,container:q,keyboard:!0,autoFocus:$,enforceFocus:H,restoreFocus:Q,restoreFocusOptions:j,onEscapeKeyDown:Re,onShow:O,onHide:M,onEnter:At,onEntering:Tn,onEntered:V,onExit:Gt,onExiting:C,onExited:Gn,manager:Oe(),transition:v?jB:void 0,backdropTransition:v?qB:void 0,renderBackdrop:Sn,renderDialog:Fn})})});SI.displayName="Modal";const Si=Object.assign(SI,{Body:_I,Header:bI,Title:TI,Footer:EI,Dialog:r0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),$B=["as","disabled"];function GB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YB(t){return!t||t.trim()==="#"}function AI({tagName:t,disabled:e,href:n,target:r,rel:s,role:a,onClick:u,tabIndex:f=0,type:h}){t||(n!=null||r!=null||s!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:h||"button",disabled:e},d];const m=v=>{if((e||t==="a"&&YB(n))&&v.preventDefault(),e){v.stopPropagation();return}u?.(v)},_=v=>{v.key===" "&&(v.preventDefault(),m(v))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:f,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:m,onKeyDown:_},d]}const KB=L.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=GB(t,$B);const[a,{tagName:u}]=AI(Object.assign({tagName:n,disabled:r},s));return ne.jsx(u,Object.assign({},s,a,{ref:e}))});KB.displayName="Button";const N_=L.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:a=!1,className:u,...f},h)=>{const d=pn(e,"btn"),[m,{tagName:_}]=AI({tagName:t,disabled:a,...f}),v=_;return ne.jsx(v,{...m,...f,ref:h,disabled:a,className:Dt(u,d,s&&"active",n&&`${d}-${n}`,r&&`${d}-${r}`,f.href&&a&&"disabled")})});N_.displayName="Button";const XB={type:us.string,tooltip:us.bool,as:us.elementType},Pp=L.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},a)=>ne.jsx(t,{...s,ref:a,className:Dt(e,`${n}-${r?"tooltip":"feedback"}`)}));Pp.displayName="Feedback";Pp.propTypes=XB;const gs=L.createContext({}),s0=L.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:a=!1,as:u="input",...f},h)=>{const{controlId:d}=L.useContext(gs);return e=pn(e,"form-check-input"),ne.jsx(u,{...f,ref:h,type:r,id:t||d,className:Dt(n,e,s&&"is-valid",a&&"is-invalid")})});s0.displayName="FormCheckInput";const ep=L.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:a}=L.useContext(gs);return t=pn(t,"form-check-label"),ne.jsx("label",{...r,ref:s,htmlFor:n||a,className:Dt(e,t)})});ep.displayName="FormCheckLabel";function QB(t,e){return L.Children.toArray(t).some(n=>L.isValidElement(n)&&n.type===e)}const xI=L.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:a=!1,isValid:u=!1,isInvalid:f=!1,feedbackTooltip:h=!1,feedback:d,feedbackType:m,className:_,style:v,title:E="",type:A="checkbox",label:R,children:O,as:M="input",...q},$)=>{e=pn(e,"form-check"),n=pn(n,"form-switch");const{controlId:H}=L.useContext(gs),Q=L.useMemo(()=>({controlId:t||H}),[H,t]),j=!O&&R!=null&&R!==!1||QB(O,ep),V=ne.jsx(s0,{...q,type:A==="switch"?"checkbox":A,ref:$,isValid:u,isInvalid:f,disabled:a,as:M});return ne.jsx(gs.Provider,{value:Q,children:ne.jsx("div",{style:v,className:Dt(_,j&&e,r&&`${e}-inline`,s&&`${e}-reverse`,A==="switch"&&n),children:O||ne.jsxs(ne.Fragment,{children:[V,j&&ne.jsx(ep,{title:E,children:R}),d&&ne.jsx(Pp,{type:m,tooltip:h,children:d})]})})})});xI.displayName="FormCheck";const tp=Object.assign(xI,{Input:s0,Label:ep}),CI=L.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:a,isValid:u=!1,isInvalid:f=!1,plaintext:h,readOnly:d,as:m="input",..._},v)=>{const{controlId:E}=L.useContext(gs);return t=pn(t,"form-control"),ne.jsx(m,{..._,type:e,size:r,ref:v,readOnly:d,id:s||E,className:Dt(a,h?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",f&&"is-invalid")})});CI.displayName="FormControl";const WB=Object.assign(CI,{Feedback:Pp}),RI=L.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=pn(e,"form-floating"),ne.jsx(n,{ref:s,className:Dt(t,e),...r})));RI.displayName="FormFloating";const o0=L.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=L.useMemo(()=>({controlId:t}),[t]);return ne.jsx(gs.Provider,{value:s,children:ne.jsx(e,{...n,ref:r})})});o0.displayName="FormGroup";function ZB({as:t,bsPrefix:e,className:n,...r}){e=pn(e,"col");const s=LB(),a=UB(),u=[],f=[];return s.forEach(h=>{const d=r[h];delete r[h];let m,_,v;typeof d=="object"&&d!=null?{span:m,offset:_,order:v}=d:m=d;const E=h!==a?`-${h}`:"";m&&u.push(m===!0?`${e}${E}`:`${e}${E}-${m}`),v!=null&&f.push(`order${E}-${v}`),_!=null&&f.push(`offset${E}-${_}`)}),[{...r,className:Dt(n,...u,...f)},{as:t,bsPrefix:e,spans:u}]}const II=L.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:a,spans:u}]=ZB(t);return ne.jsx(s,{...r,ref:e,className:Dt(n,!u.length&&a)})});II.displayName="Col";const NI=L.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:a,...u},f)=>{const{controlId:h}=L.useContext(gs);e=pn(e,"form-label");let d="col-form-label";typeof n=="string"&&(d=`${d} ${d}-${n}`);const m=Dt(s,e,r&&"visually-hidden",n&&d);return a=a||h,n?ne.jsx(II,{ref:f,as:"label",className:m,htmlFor:a,...u}):ne.jsx(t,{ref:f,className:m,htmlFor:a,...u})});NI.displayName="FormLabel";const kI=L.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:a}=L.useContext(gs);return t=pn(t,"form-range"),ne.jsx("input",{...r,type:"range",ref:s,className:Dt(e,t),id:n||a})});kI.displayName="FormRange";const DI=L.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:a=!1,id:u,...f},h)=>{const{controlId:d}=L.useContext(gs);return t=pn(t,"form-select"),ne.jsx("select",{...f,size:n,ref:h,className:Dt(r,t,e&&`${t}-${e}`,s&&"is-valid",a&&"is-invalid"),id:u||d})});DI.displayName="FormSelect";const OI=L.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},a)=>(t=pn(t,"form-text"),ne.jsx(n,{...s,ref:a,className:Dt(e,t,r&&"text-muted")})));OI.displayName="FormText";const MI=L.forwardRef((t,e)=>ne.jsx(tp,{...t,ref:e,type:"switch"}));MI.displayName="Switch";const JB=Object.assign(MI,{Input:tp.Input,Label:tp.Label}),PI=L.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...a},u)=>(t=pn(t,"form-floating"),ne.jsxs(o0,{ref:u,className:Dt(e,t),controlId:r,...a,children:[n,ne.jsx("label",{htmlFor:r,children:s})]})));PI.displayName="FloatingLabel";const eF={_ref:us.any,validated:us.bool,as:us.elementType},a0=L.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>ne.jsx(n,{...r,ref:s,className:Dt(t,e&&"was-validated")}));a0.displayName="Form";a0.propTypes=eF;const bl=Object.assign(a0,{Group:o0,Control:WB,Floating:RI,Check:tp,Switch:JB,Label:NI,Text:OI,Range:kI,Select:DI,FloatingLabel:PI});function tF({show:t,onHide:e,onConfirm:n,isCreating:r=!1}){const[s,a]=L.useState(""),[u,f]=L.useState(!0),h=L.useCallback(v=>{const E=v.target.value;a(E),f(E.trim().length>0&&E.trim().length<=50)},[]),d=L.useCallback(v=>{v.preventDefault();const E=s.trim();E.length>0&&E.length<=50&&(n(E),a(""),f(!0))},[s,n]),m=L.useCallback(()=>{a(""),f(!0),e()},[e]),_=L.useCallback(v=>{v.key==="Enter"&&d(v)},[d]);return ne.jsxs(Si,{show:t,onHide:m,centered:!0,backdrop:"static",keyboard:!1,children:[ne.jsx(Si.Header,{closeButton:!0,children:ne.jsx(Si.Title,{children:"Create New Board"})}),ne.jsxs(bl,{onSubmit:d,children:[ne.jsx(Si.Body,{children:ne.jsxs(bl.Group,{children:[ne.jsx(bl.Label,{children:"Board Name"}),ne.jsx(bl.Control,{type:"text",value:s,onChange:h,onKeyPress:_,placeholder:"Enter board name...",isInvalid:!u,maxLength:50,autoFocus:!0}),ne.jsx(bl.Control.Feedback,{type:"invalid",children:"Board name must be between 1 and 50 characters long."}),ne.jsxs(bl.Text,{className:"text-muted",children:[s.length,"/50 characters"]})]})}),ne.jsxs(Si.Footer,{children:[ne.jsx(N_,{variant:"secondary",onClick:m,disabled:r,children:"Cancel"}),ne.jsx(N_,{variant:"primary",type:"submit",disabled:!u||s.trim().length===0||r,children:r?"Creating...":"Create Board"})]})]})]})}function nF({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:a,isLoading:u,isCollapsed:f=!1,onToggleSidebar:h}){const[d,m]=L.useState(!1),[_,v]=L.useState(!1),E=async M=>{try{m(!0),await r(M),v(!1)}catch(q){console.error("Error in sidebar create board:",q)}finally{m(!1)}},A=()=>{v(!0)},R=()=>{v(!1)},O=(M,q)=>{M.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(q)};return ne.jsxs(ne.Fragment,{children:[ne.jsx("button",{className:`sidebar-toggle ${f?"sidebar-collapsed":""}`,onClick:h,title:f?"Show Sidebar":"Hide Sidebar",children:f?"►":"◄"}),ne.jsxs("div",{className:`sidebar ${f?"collapsed":""}`,children:[ne.jsxs("div",{className:"sidebar-header",children:[ne.jsx("h2",{children:"Launch Hacks"}),ne.jsx("button",{onClick:A,disabled:u||d,style:{opacity:u||d?.6:1,cursor:u||d?"not-allowed":"pointer"},children:d?"Creating...":"+ New Board"})]}),ne.jsxs("div",{className:"sidebar-content",children:[u&&ne.jsx("div",{className:"loading-indicator",children:"Switching boards..."}),ne.jsxs("div",{style:{padding:"10px",fontSize:"12px",color:"#666"},children:["Boards: ",t?.length||0]}),ne.jsx("ul",{children:t?.map(M=>ne.jsxs("li",{onClick:()=>!u&&n(M.id),className:e?.id===M.id?"active":"",children:[ne.jsx("span",{className:"board-name",children:M.name}),ne.jsxs("div",{className:"board-actions",children:[M.isOpen&&ne.jsx("span",{className:"open-indicator",children:"●"}),t.length>1&&ne.jsx("button",{className:"delete-btn",onClick:q=>O(q,M.id),title:"Delete board",children:"×"})]})]},M.id))})]}),ne.jsx("div",{className:"sidebar-footer",children:ne.jsx("button",{onClick:a,children:"Sign Out"})})]}),ne.jsx(tF,{show:_,onHide:R,onConfirm:E,isCreating:d})]})}function rF({name:t,onSetName:e,user:n,isSaving:r,sidebarCollapsed:s=!1}){const[a,u]=L.useState(!1),[f,h]=L.useState(t||"");L.useEffect(()=>{h(t||"")},[t]);const d=_=>{_.key==="Enter"&&(e(f),u(!1))},m=()=>{u(!0),h(t||"")};return ne.jsx(ne.Fragment,{children:ne.jsxs("div",{className:`name ${s?"sidebar-collapsed":""}`,children:[ne.jsx("div",{className:"app-container",children:ne.jsxs("header",{className:"app-header",children:[ne.jsx("h1",{children:"Tink Flow Editor"}),ne.jsxs("div",{className:"user-info",children:[ne.jsxs("p",{children:["Welcome,"," ",n?.isAnonymous?"Anonymous User":n?.email||"User"]}),r&&ne.jsx("span",{className:"save-indicator",children:"💾 Saving..."})]})]})}),ne.jsx("div",{className:"board-title-section",children:a?ne.jsx("input",{type:"text",value:f,onChange:_=>h(_.target.value),onKeyDown:d,onBlur:()=>{e(f),u(!1)},autoFocus:!0}):ne.jsx("h6",{onClick:m,style:{cursor:"pointer"},children:t||"Untitled Board"})})]})})}const iF=({notification:t,onRemove:e})=>{const n=r=>{switch(r){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️";default:return"📄"}};return ne.jsxs("div",{className:`notification notification-${t.type}`,children:[ne.jsxs("div",{className:"notification-content",children:[ne.jsx("span",{className:"notification-icon",children:n(t.type)}),ne.jsx("span",{className:"notification-message",children:t.message})]}),ne.jsx("button",{className:"notification-close",onClick:()=>e(t.id),children:"×"})]})},sF=({notifications:t,onRemove:e})=>t.length===0?null:ne.jsx("div",{className:"notifications-container",children:t.map(n=>ne.jsx(iF,{notification:n,onRemove:e},n.id))}),oF=async()=>{try{await hU(Zd)}catch(t){throw t}},aF=()=>{const[t,e]=L.useState(null);return L.useEffect(()=>{const r=fU(Zd,s=>{e(s)});return()=>r()},[]),{user:t,signOut:async()=>{try{await oF(),e(null)}catch(r){throw r}}}},VI=t=>!!(t&&t.uid),Bl=[{id:"1",type:"draggableEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",summary:"The _artificial intelligence_ system processes _natural language_ effectively",full_text:""},position:{x:250,y:25}},{id:"2",type:"draggableEditable",data:{label:"This is a simple sentence with multiple words to demonstrate word mode functionality",summary:"This is a simple sentence with multiple words to demonstrate word mode functionality",full_text:""},position:{x:100,y:125}},{id:"3",type:"draggableEditable",data:{label:"_Machine learning_ algorithms can _predict outcomes_ with high accuracy",summary:"_Machine learning_ algorithms can _predict outcomes_ with high accuracy",full_text:""},position:{x:400,y:125}},{id:"4",type:"staticEditable",data:{label:"Static node with _key concepts_ highlighted",summary:"Static node with _key concepts_ highlighted",full_text:""},position:{x:250,y:200},draggable:!1}],Fl=[{id:"e1-2",source:"1",target:"2"},{id:"e1-3",source:"1",target:"3"},{id:"e2-4",source:"2",target:"4"},{id:"e3-4",source:"3",target:"4"}],lF=async t=>{if(!VI({uid:t}))throw new Error($n.AUTH_REQUIRED);try{const e=Iv(ti,Er.BOARDS),n=e5(e,t5("userId","==",t),n5("createdAt","desc")),r=await Fv(n);if(r.empty){const a={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:Pt.now(),isOpen:!0};return await Hv(lu(ti,Er.BOARDS,a.id),a),[a]}return r.docs.map(a=>({id:a.id,...a.data()}))}catch(e){if(e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:Pt.now(),isOpen:!0,isFallback:!0}]}throw new Error($n.LOAD_FAILED)}},A1=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),Bl;try{const e=Iv(ti,Er.BOARDS,t,Er.NODES),n=await Fv(e);return n.empty?Bl:n.docs.map(s=>{const a=s.data(),u={...a.data};return{id:s.id,type:a.type,position:a.position,data:u,draggable:a.draggable,style:a.style}})}catch{return Bl}},x1=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),Fl;try{const e=Iv(ti,Er.BOARDS,t,Er.EDGES),n=await Fv(e);return n.empty?Fl:n.docs.map(s=>({id:s.id,...s.data()}))}catch{return Fl}},uF=async(t,e)=>{if(!(!t||!e?.length))try{const n=IR(ti);e.forEach(r=>{const s=lu(ti,Er.BOARDS,t,Er.NODES,r.id),a={type:r.type,data:r.data,position:r.position,updatedAt:Pt.now()};r.draggable!==void 0&&(a.draggable=r.draggable),r.style!==void 0&&(a.style=r.style),n.set(s,a)}),await n.commit()}catch{throw new Error($n.SAVE_FAILED)}},cF=async(t,e)=>{if(!(!t||!e?.length))try{const n=IR(ti);e.forEach(r=>{const s=lu(ti,Er.BOARDS,t,Er.EDGES,r.id),a={source:r.source,target:r.target,updatedAt:Pt.now()};r.sourceHandle!==void 0&&(a.sourceHandle=r.sourceHandle),r.targetHandle!==void 0&&(a.targetHandle=r.targetHandle),r.style!==void 0&&(a.style=r.style),r.markerEnd!==void 0&&(a.markerEnd=r.markerEnd),n.set(s,a)}),await n.commit()}catch{throw new Error($n.SAVE_FAILED)}},fF=async(t,e,n)=>{if(!VI({uid:t}))throw new Error($n.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:Pt.now(),isOpen:!1};return await Hv(lu(ti,Er.BOARDS,r.id),r),r}catch(r){throw r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},hF=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await l5(lu(ti,Er.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},Tl=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:Pt.now()};await Hv(lu(ti,Er.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},dF=(t,e={})=>{const[n,r,s]=P4([]),[a,u,f]=V4([]),[h,d]=L.useState(!0),[m,_]=L.useState(!1),[v,E]=L.useState(!1),[A,R]=L.useState([]),[O,M]=L.useState(null),q=L.useRef(null),{showSuccess:$,showError:H,showInfo:Q}=e,j=x=>{const k=x.find(G=>G.isOpen===!0);if(k)return k;if(x.length>0){const G={...x[0],isOpen:!0};return Tl(G.id,G).catch(console.error),G}return null};L.useEffect(()=>{(async()=>{if(t)try{d(!0);const k=await lF(t.uid);R(k);const G=k.some(Z=>Z.isFallback);G&&H&&H("Database index missing. Please create the required Firestore index. Check console for details.");const U=j(k);if(!U){console.error("No board found for user"),H&&H("No boards found. Creating a default board..."),r(Bl),u(Fl);return}M(U);const[K,J]=await Promise.all([A1(U.id),x1(U.id)]);r(K),u(J),Q&&!G&&Q("Board loaded successfully!")}catch(k){console.error("Error loading initial data:",k),H&&H("Failed to load board data. Using default board."),r(Bl),u(Fl)}finally{d(!1)}})()},[t,r,u]);const V=L.useCallback(async(x,k,G)=>{q.current&&clearTimeout(q.current);const U=setTimeout(async()=>{try{E(!0);const K=[];k&&k.length>0&&K.push(uF(x,k)),G&&G.length>0&&K.push(cF(x,G)),K.length>0&&(await Promise.all(K),console.log("Auto-save completed successfully"))}catch(K){console.error("Auto-save failed:",K),H&&H("Failed to save changes automatically")}finally{E(!1),q.current=null}},1e3);q.current=U},[H]);L.useEffect(()=>(!h&&O&&!m&&!O.isFallback&&V(O.id,n,a),()=>{q.current&&clearTimeout(q.current)}),[n,a,h,O,m]);const I=L.useCallback(async x=>{try{if(O?.id===x)return;if(O?.isFallback||A.find(G=>G.id===x)?.isFallback){H&&H("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(_(!0),O&&!O.isFallback){const G={...O,isOpen:!1};await Tl(O.id,G),R(U=>U.map(K=>K.id===O.id?G:K))}const k=A.find(G=>G.id===x);if(k){const G={...k,isOpen:!0};await Tl(x,G),M(G),R(J=>J.map(Z=>Z.id===x?G:Z));const[U,K]=await Promise.all([A1(x),x1(x)]);r(U),u(K),$&&$(`Switched to "${G.name}"`)}else console.error("Board not found:",x),H&&H("Board not found")}catch(k){console.error("Error switching board:",k),H&&H("Failed to switch board. Please try again.")}finally{_(!1)}},[O,A,r,u,$,H]),C=L.useCallback(async x=>{try{if(!t)return H&&H("You must be logged in to create a board"),null;Q&&Q("Creating new board...");const k=await fF(t.uid,x||null,A);if(k){if(O&&!O.isFallback){const U={...O,isOpen:!1};Tl(O.id,U).catch(console.error)}const G={...k,isOpen:!0};return R(U=>{const K=U.map(J=>J.id===O?.id?{...J,isOpen:!1}:J);return[G,...K]}),M(G),Tl(k.id,G).catch(console.error),r(Bl),u(Fl),$&&$(`Board "${k.name}" created and opened!`),G}else return H&&H("Failed to create board. Please try again."),null}catch(k){return H&&H(`Failed to create board: ${k.message}`),null}},[t,A,O,$,H,Q,r,u]),F=L.useCallback(async x=>{try{if(A.length<=1){H&&H("Cannot delete the last board!");return}if(!A.find(G=>G.id===x)){console.error("Board not found for deletion"),H&&H("Board not found");return}if(Q&&Q("Deleting board..."),O?.id===x){const G=A.find(U=>U.id!==x);G&&await I(G.id)}await hF(x),R(G=>G.filter(U=>U.id!==x)),$&&$("Board deleted successfully!")}catch(k){console.error("Error deleting board:",k),H&&H("Failed to delete board. Please try again.")}},[A,O,I,$,H,Q]),D=L.useCallback(async x=>{if(O&&O.name!==x){const k={...O,name:x};M(k),R(G=>G.map(U=>U.id===O.id?k:U));try{await Tl(O.id,k),console.log("Board name updated successfully")}catch(G){console.error("Error updating board name:",G)}}},[O]),z=L.useCallback(()=>{q.current&&(clearTimeout(q.current),q.current=null),R([]),M(null),r([]),u([]),d(!0),_(!1),E(!1)},[r,u,q]);return{nodes:n,edges:a,allBoards:A,currentBoard:O,isLoading:h,isSwitchingBoard:m,isSaving:v,onNodesChange:s,onEdgesChange:f,switchToBoard:I,createNewBoard:C,deleteBoard:F,updateBoardName:D,clearBoardState:z}},pF=({allBoards:t,currentBoard:e,createNewBoard:n,switchToBoard:r})=>{L.useEffect(()=>{const s=a=>{if((a.ctrlKey||a.metaKey)&&a.key==="n"&&(a.preventDefault(),n()),(a.ctrlKey||a.metaKey)&&a.key>="1"&&a.key<="9"){a.preventDefault();const u=parseInt(a.key)-1;t[u]&&t[u].id!==e?.id&&r(t[u].id)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,e,n,r])},mF=()=>{const[t,e]=L.useState([]),n=L.useCallback(d=>{const m=Date.now().toString(),_={id:m,timestamp:new Date,...d};return e(v=>[...v,_]),d.autoRemove!==!1&&setTimeout(()=>{r(m)},d.duration||5e3),m},[]),r=L.useCallback(d=>{e(m=>m.filter(_=>_.id!==d))},[]),s=L.useCallback(()=>{e([])},[]),a=L.useCallback((d,m={})=>n({type:"success",message:d,...m}),[n]),u=L.useCallback((d,m={})=>n({type:"error",message:d,duration:7e3,...m}),[n]),f=L.useCallback((d,m={})=>n({type:"info",message:d,...m}),[n]),h=L.useCallback((d,m={})=>n({type:"warning",message:d,duration:6e3,...m}),[n]);return{notifications:t,addNotification:n,removeNotification:r,clearAllNotifications:s,showSuccess:a,showError:u,showInfo:f,showWarning:h}},LI=t=>{const e=[],n=t.split("_");for(let r=0;r<n.length;r++)if(r%2===0)n[r].split(/\s+/).filter(a=>a.trim()!=="").forEach(a=>{e.push({word:a.trim()})});else{const s=n[r].trim();s.split(/\s+/).filter(u=>u.trim()!=="").forEach(u=>{e.push({word:u.trim(),myConcept:s})})}return e},C1=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return t[Math.floor(Math.random()*t.length)]},gF=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16),a=30,u=Math.min(255,Math.max(0,n+(Math.random()-.5)*a*2)),f=Math.min(255,Math.max(0,r+(Math.random()-.5)*a*2)),h=Math.min(255,Math.max(0,s+(Math.random()-.5)*a*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(f).toString(16).padStart(2,"0")}${Math.round(h).toString(16).padStart(2,"0")}`},yF=(t,e)=>{const s=[0,45,90,135,180,225,270,315];for(const u of s){const f=u*Math.PI/180,h=t.x+Math.cos(f)*200,d=t.y+Math.sin(f)*200;if(!e.some(_=>Math.sqrt(Math.pow(_.position.x-h,2)+Math.pow(_.position.y-d,2))<150))return{x:h,y:d}}const a=Math.random()*2*Math.PI;return{x:t.x+Math.cos(a)*(200+Math.random()*100),y:t.y+Math.sin(a)*(200+Math.random()*100)}},_F=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,vF=(t,e)=>`edge_${t}_${e}`,EF=(t,e,n,r)=>({id:_F(),type:"draggableEditable",position:t,data:{label:e,summary:e,full_text:"",myColor:n}}),wF=(t,e,n)=>({id:vF(t,e),source:t,target:e,style:{stroke:n,strokeWidth:3},markerEnd:{type:Kc.ArrowClosed,color:n}}),UI=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16);return(.299*n+.587*r+.114*s)/255>.5?"#000000":"#FFFFFF"},zI=(t,e)=>{const n=t.replace("#",""),r=parseInt(n.substr(0,2),16),s=parseInt(n.substr(2,2),16),a=parseInt(n.substr(4,2),16),u=Math.max(0,Math.floor(r*(1-e/100))),f=Math.max(0,Math.floor(s*(1-e/100))),h=Math.max(0,Math.floor(a*(1-e/100)));return`#${u.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${h.toString(16).padStart(2,"0")}`},BI=L.createContext(null),bF=({children:t,nodes:e,onNodesChange:n,onEdgesChange:r})=>{const s=L.useCallback((a,u,f,h,d)=>{let m;h==="staticEditable"?m=C1():m=d?gF(d):C1();const _=yF(f,e),v=a.myConcept||a.word,E=EF(_,v,m),A=wF(u,E.id,m);return n([{type:"add",item:E}]),r([{type:"add",item:A}]),m},[e,n,r]);return ne.jsx(BI.Provider,{value:{handleTokenClick:s},children:t})},FI=()=>{const t=L.useContext(BI);if(!t)throw new Error("useTokenInteraction must be used within a TokenInteractionProvider");return t};function TF(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const SF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,AF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xF={};function R1(t,e){return(xF.jsx?AF:SF).test(t)}const CF=/[ \t\n\f\r]/g;function RF(t){return typeof t=="object"?t.type==="text"?I1(t.value):!1:I1(t)}function I1(t){return t.replace(CF,"")===""}class xf{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}xf.prototype.normal={};xf.prototype.property={};xf.prototype.space=void 0;function HI(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new xf(n,r,e)}function k_(t){return t.toLowerCase()}class nr{constructor(e,n){this.attribute=n,this.property=e}}nr.prototype.attribute="";nr.prototype.booleanish=!1;nr.prototype.boolean=!1;nr.prototype.commaOrSpaceSeparated=!1;nr.prototype.commaSeparated=!1;nr.prototype.defined=!1;nr.prototype.mustUseProperty=!1;nr.prototype.number=!1;nr.prototype.overloadedBoolean=!1;nr.prototype.property="";nr.prototype.spaceSeparated=!1;nr.prototype.space=void 0;let IF=0;const Ge=Sa(),rn=Sa(),D_=Sa(),Ee=Sa(),It=Sa(),Hl=Sa(),pr=Sa();function Sa(){return 2**++IF}const O_=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:rn,commaOrSpaceSeparated:pr,commaSeparated:Hl,number:Ee,overloadedBoolean:D_,spaceSeparated:It},Symbol.toStringTag,{value:"Module"})),by=Object.keys(O_);class l0 extends nr{constructor(e,n,r,s){let a=-1;if(super(e,n),N1(this,"space",s),typeof r=="number")for(;++a<by.length;){const u=by[a];N1(this,by[a],(r&O_[u])===O_[u])}}}l0.prototype.defined=!0;function N1(t,e,n){n&&(t[e]=n)}function fu(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const a=new l0(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[k_(r)]=r,n[k_(a.attribute)]=r}return new xf(e,n,t.space)}const jI=fu({properties:{ariaActiveDescendant:null,ariaAtomic:rn,ariaAutoComplete:null,ariaBusy:rn,ariaChecked:rn,ariaColCount:Ee,ariaColIndex:Ee,ariaColSpan:Ee,ariaControls:It,ariaCurrent:null,ariaDescribedBy:It,ariaDetails:null,ariaDisabled:rn,ariaDropEffect:It,ariaErrorMessage:null,ariaExpanded:rn,ariaFlowTo:It,ariaGrabbed:rn,ariaHasPopup:null,ariaHidden:rn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:It,ariaLevel:Ee,ariaLive:null,ariaModal:rn,ariaMultiLine:rn,ariaMultiSelectable:rn,ariaOrientation:null,ariaOwns:It,ariaPlaceholder:null,ariaPosInSet:Ee,ariaPressed:rn,ariaReadOnly:rn,ariaRelevant:null,ariaRequired:rn,ariaRoleDescription:It,ariaRowCount:Ee,ariaRowIndex:Ee,ariaRowSpan:Ee,ariaSelected:rn,ariaSetSize:Ee,ariaSort:null,ariaValueMax:Ee,ariaValueMin:Ee,ariaValueNow:Ee,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function qI(t,e){return e in t?t[e]:e}function $I(t,e){return qI(t,e.toLowerCase())}const NF=fu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hl,acceptCharset:It,accessKey:It,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:It,autoFocus:Ge,autoPlay:Ge,blocking:It,capture:null,charSet:null,checked:Ge,cite:null,className:It,cols:Ee,colSpan:null,content:null,contentEditable:rn,controls:Ge,controlsList:It,coords:Ee|Hl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:D_,draggable:rn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:It,height:Ee,hidden:D_,high:Ee,href:null,hrefLang:null,htmlFor:It,httpEquiv:It,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:It,itemRef:It,itemScope:Ge,itemType:It,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:Ee,manifest:null,max:null,maxLength:Ee,media:null,method:null,min:null,minLength:Ee,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:Ee,pattern:null,ping:It,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:It,required:Ge,reversed:Ge,rows:Ee,rowSpan:Ee,sandbox:It,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:Ee,sizes:null,slot:null,span:Ee,spellCheck:rn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ee,step:null,style:null,tabIndex:Ee,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:rn,width:Ee,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:It,axis:null,background:null,bgColor:null,border:Ee,borderColor:null,bottomMargin:Ee,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:Ee,leftMargin:Ee,link:null,longDesc:null,lowSrc:null,marginHeight:Ee,marginWidth:Ee,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:Ee,rules:null,scheme:null,scrolling:rn,standby:null,summary:null,text:null,topMargin:Ee,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ee,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:Ee,security:null,unselectable:null},space:"html",transform:$I}),kF=fu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pr,accentHeight:Ee,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ee,amplitude:Ee,arabicForm:null,ascent:Ee,attributeName:null,attributeType:null,azimuth:Ee,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ee,by:null,calcMode:null,capHeight:Ee,className:It,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ee,diffuseConstant:Ee,direction:null,display:null,dur:null,divisor:Ee,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ee,enableBackground:null,end:null,event:null,exponent:Ee,externalResourcesRequired:null,fill:null,fillOpacity:Ee,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hl,g2:Hl,glyphName:Hl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ee,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ee,horizOriginX:Ee,horizOriginY:Ee,id:null,ideographic:Ee,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ee,k:Ee,k1:Ee,k2:Ee,k3:Ee,k4:Ee,kernelMatrix:pr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ee,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ee,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ee,overlineThickness:Ee,paintOrder:null,panose1:null,path:null,pathLength:Ee,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:It,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ee,pointsAtY:Ee,pointsAtZ:Ee,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pr,rev:pr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pr,requiredFeatures:pr,requiredFonts:pr,requiredFormats:pr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ee,specularExponent:Ee,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ee,strikethroughThickness:Ee,string:null,stroke:null,strokeDashArray:pr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ee,strokeOpacity:Ee,strokeWidth:null,style:null,surfaceScale:Ee,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pr,tabIndex:Ee,tableValues:null,target:null,targetX:Ee,targetY:Ee,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ee,underlineThickness:Ee,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ee,values:null,vAlphabetic:Ee,vMathematical:Ee,vectorEffect:null,vHanging:Ee,vIdeographic:Ee,version:null,vertAdvY:Ee,vertOriginX:Ee,vertOriginY:Ee,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ee,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:qI}),GI=fu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),YI=fu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$I}),KI=fu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),DF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},OF=/[A-Z]/g,k1=/-[a-z]/g,MF=/^data[-\w.:]+$/i;function PF(t,e){const n=k_(e);let r=e,s=nr;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&MF.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(k1,LF);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!k1.test(a)){let u=a.replace(OF,VF);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=l0}return new s(r,e)}function VF(t){return"-"+t.toLowerCase()}function LF(t){return t.charAt(1).toUpperCase()}const UF=HI([jI,NF,GI,YI,KI],"html"),u0=HI([jI,kF,GI,YI,KI],"svg");function zF(t){return t.join(" ").trim()}var Sl={},Ty,D1;function BF(){if(D1)return Ty;D1=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,h=`
`,d="/",m="*",_="",v="comment",E="declaration";Ty=function(R,O){if(typeof R!="string")throw new TypeError("First argument must be a string");if(!R)return[];O=O||{};var M=1,q=1;function $(x){var k=x.match(e);k&&(M+=k.length);var G=x.lastIndexOf(h);q=~G?x.length-G:q+x.length}function H(){var x={line:M,column:q};return function(k){return k.position=new Q(x),I(),k}}function Q(x){this.start=x,this.end={line:M,column:q},this.source=O.source}Q.prototype.content=R;function j(x){var k=new Error(O.source+":"+M+":"+q+": "+x);if(k.reason=x,k.filename=O.source,k.line=M,k.column=q,k.source=R,!O.silent)throw k}function V(x){var k=x.exec(R);if(k){var G=k[0];return $(G),R=R.slice(G.length),k}}function I(){V(n)}function C(x){var k;for(x=x||[];k=F();)k!==!1&&x.push(k);return x}function F(){var x=H();if(!(d!=R.charAt(0)||m!=R.charAt(1))){for(var k=2;_!=R.charAt(k)&&(m!=R.charAt(k)||d!=R.charAt(k+1));)++k;if(k+=2,_===R.charAt(k-1))return j("End of comment missing");var G=R.slice(2,k-2);return q+=2,$(G),R=R.slice(k),q+=2,x({type:v,comment:G})}}function D(){var x=H(),k=V(r);if(k){if(F(),!V(s))return j("property missing ':'");var G=V(a),U=x({type:E,property:A(k[0].replace(t,_)),value:G?A(G[0].replace(t,_)):_});return V(u),U}}function z(){var x=[];C(x);for(var k;k=D();)k!==!1&&(x.push(k),C(x));return x}return I(),z()};function A(R){return R?R.replace(f,_):_}return Ty}var O1;function FF(){if(O1)return Sl;O1=1;var t=Sl&&Sl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.default=n;var e=t(BF());function n(r,s){var a=null;if(!r||typeof r!="string")return a;var u=(0,e.default)(r),f=typeof s=="function";return u.forEach(function(h){if(h.type==="declaration"){var d=h.property,m=h.value;f?s(d,m,h):m&&(a=a||{},a[d]=m)}}),a}return Sl}var vc={},M1;function HF(){if(M1)return vc;M1=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(d){return!d||n.test(d)||t.test(d)},u=function(d,m){return m.toUpperCase()},f=function(d,m){return"".concat(m,"-")},h=function(d,m){return m===void 0&&(m={}),a(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(s,f):d=d.replace(r,f),d.replace(e,u))};return vc.camelCase=h,vc}var Ec,P1;function jF(){if(P1)return Ec;P1=1;var t=Ec&&Ec.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(FF()),n=HF();function r(s,a){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(f,h){f&&h&&(u[(0,n.camelCase)(f,a)]=h)}),u}return r.default=r,Ec=r,Ec}var qF=jF();const $F=va(qF),XI=QI("end"),c0=QI("start");function QI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function GF(t){const e=c0(t),n=XI(t);if(e&&n)return{start:e,end:n}}function Uc(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?V1(t.position):"start"in t||"end"in t?V1(t):"line"in t||"column"in t?M_(t):""}function M_(t){return L1(t&&t.line)+":"+L1(t&&t.column)}function V1(t){return M_(t&&t.start)+"-"+M_(t&&t.end)}function L1(t){return t&&typeof t=="number"?t:1}class Bn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",a={},u=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?s=e:!a.cause&&e&&(u=!0,s=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const f=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=f?f.line:void 0,this.name=Uc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=u&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}Bn.prototype.file="";Bn.prototype.name="";Bn.prototype.reason="";Bn.prototype.message="";Bn.prototype.stack="";Bn.prototype.column=void 0;Bn.prototype.line=void 0;Bn.prototype.ancestors=void 0;Bn.prototype.cause=void 0;Bn.prototype.fatal=void 0;Bn.prototype.place=void 0;Bn.prototype.ruleId=void 0;Bn.prototype.source=void 0;const f0={}.hasOwnProperty,YF=new Map,KF=/[A-Z]/g,XF=new Set(["table","tbody","thead","tfoot","tr"]),QF=new Set(["td","th"]),WI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function WF(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=s8(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=i8(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?u0:UF,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=ZI(s,t,void 0);return a&&typeof a!="string"?a:s.create(t,s.Fragment,{children:a||void 0},void 0)}function ZI(t,e,n){if(e.type==="element")return ZF(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return JF(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return t8(t,e,n);if(e.type==="mdxjsEsm")return e8(t,e);if(e.type==="root")return n8(t,e,n);if(e.type==="text")return r8(t,e)}function ZF(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=u0,t.schema=s),t.ancestors.push(e);const a=eN(t,e.tagName,!1),u=o8(t,e);let f=d0(t,e);return XF.has(e.tagName)&&(f=f.filter(function(h){return typeof h=="string"?!RF(h):!0})),JI(t,u,a,e),h0(u,f),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function JF(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}af(t,e.position)}function e8(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);af(t,e.position)}function t8(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=u0,t.schema=s),t.ancestors.push(e);const a=e.name===null?t.Fragment:eN(t,e.name,!0),u=a8(t,e),f=d0(t,e);return JI(t,u,a,e),h0(u,f),t.ancestors.pop(),t.schema=r,t.create(e,a,u,n)}function n8(t,e,n){const r={};return h0(r,d0(t,e)),t.create(e,t.Fragment,r,n)}function r8(t,e){return e.value}function JI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function h0(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function i8(t,e,n){return r;function r(s,a,u,f){const d=Array.isArray(u.children)?n:e;return f?d(a,u,f):d(a,u)}}function s8(t,e){return n;function n(r,s,a,u){const f=Array.isArray(a.children),h=c0(r);return e(s,a,u,f,{columnNumber:h?h.column-1:void 0,fileName:t,lineNumber:h?h.line:void 0},void 0)}}function o8(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&f0.call(e.properties,s)){const a=l8(t,s,e.properties[s]);if(a){const[u,f]=a;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&QF.has(e.tagName)?r=f:n[u]=f}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function a8(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const u=a.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else af(t,e.position);else{const s=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const f=r.value.data.estree.body[0];f.type,a=t.evaluater.evaluateExpression(f.expression)}else af(t,e.position);else a=r.value===null?!0:r.value;n[s]=a}return n}function d0(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:YF;for(;++r<e.children.length;){const a=e.children[r];let u;if(t.passKeys){const h=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(h){const d=s.get(h)||0;u=h+"-"+d,s.set(h,d+1)}}const f=ZI(t,a,u);f!==void 0&&n.push(f)}return n}function l8(t,e,n){const r=PF(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?TF(n):zF(n)),r.property==="style"){let s=typeof n=="object"?n:u8(t,String(n));return t.stylePropertyNameCase==="css"&&(s=c8(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?DF[r.property]||r.property:r.attribute,n]}}function u8(t,e){try{return $F(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new Bn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=WI+"#cannot-parse-style-attribute",s}}function eN(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let a=-1,u;for(;++a<s.length;){const f=R1(s[a])?{type:"Identifier",name:s[a]}:{type:"Literal",value:s[a]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(a&&f.type==="Literal"),optional:!1}:f}r=u}else r=R1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return f0.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);af(t)}function af(t,e){const n=new Bn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=WI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function c8(t){const e={};let n;for(n in t)f0.call(t,n)&&(e[f8(n)]=t[n]);return e}function f8(t){let e=t.replace(KF,h8);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function h8(t){return"-"+t.toLowerCase()}const Sy={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},d8={};function p8(t,e){const n=d8,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return tN(t,r,s)}function tN(t,e,n){if(m8(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return U1(t.children,e,n)}return Array.isArray(t)?U1(t,e,n):""}function U1(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=tN(t[s],e,n);return r.join("")}function m8(t){return!!(t&&typeof t=="object")}const z1=document.createElement("i");function p0(t){const e="&"+t+";";z1.innerHTML=e;const n=z1.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Di(t,e,n,r){const s=t.length;let a=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);a<r.length;)u=r.slice(a,a+1e4),u.unshift(e,0),t.splice(...u),a+=1e4,e+=1e4}function Ur(t,e){return t.length>0?(Di(t,t.length,0,e),t):e}const B1={}.hasOwnProperty;function g8(t){const e={};let n=-1;for(;++n<t.length;)y8(e,t[n]);return e}function y8(t,e){let n;for(n in e){const s=(B1.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let u;if(a)for(u in a){B1.call(s,u)||(s[u]=[]);const f=a[u];_8(s[u],Array.isArray(f)?f:f?[f]:[])}}}function _8(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Di(t,0,0,r)}function nN(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function jl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ai=bo(/[A-Za-z]/),gr=bo(/[\dA-Za-z]/),v8=bo(/[#-'*+\--9=?A-Z^-~]/);function P_(t){return t!==null&&(t<32||t===127)}const V_=bo(/\d/),E8=bo(/[\dA-Fa-f]/),w8=bo(/[!-/:-@[-`{-~]/);function He(t){return t!==null&&t<-2}function tr(t){return t!==null&&(t<0||t===32)}function pt(t){return t===-2||t===-1||t===32}const b8=bo(new RegExp("\\p{P}|\\p{S}","u")),T8=bo(/\s/);function bo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function hu(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const a=t.charCodeAt(n);let u="";if(a===37&&gr(t.charCodeAt(n+1))&&gr(t.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(u=String.fromCharCode(a));else if(a>55295&&a<57344){const f=t.charCodeAt(n+1);a<56320&&f>56319&&f<57344?(u=String.fromCharCode(a,f),s=1):u="�"}else u=String.fromCharCode(a);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function Nt(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return u;function u(h){return pt(h)?(t.enter(n),f(h)):e(h)}function f(h){return pt(h)&&a++<s?(t.consume(h),f):(t.exit(n),e(h))}}const S8={tokenize:A8};function A8(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Nt(t,e,"linePrefix")}function s(f){return t.enter("paragraph"),a(f)}function a(f){const h=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return He(f)?(t.consume(f),t.exit("chunkText"),a):(t.consume(f),u)}}const x8={tokenize:C8},F1={tokenize:R8};function C8(t){const e=this,n=[];let r=0,s,a,u;return f;function f($){if(r<n.length){const H=n[r];return e.containerState=H[1],t.attempt(H[0].continuation,h,d)($)}return d($)}function h($){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&q();const H=e.events.length;let Q=H,j;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){j=e.events[Q][1].end;break}M(r);let V=H;for(;V<e.events.length;)e.events[V][1].end={...j},V++;return Di(e.events,Q+1,0,e.events.slice(H)),e.events.length=V,d($)}return f($)}function d($){if(r===n.length){if(!s)return v($);if(s.currentConstruct&&s.currentConstruct.concrete)return A($);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(F1,m,_)($)}function m($){return s&&q(),M(r),v($)}function _($){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,A($)}function v($){return e.containerState={},t.attempt(F1,E,A)($)}function E($){return r++,n.push([e.currentConstruct,e.containerState]),v($)}function A($){if($===null){s&&q(),M(0),t.consume($);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:a}),R($)}function R($){if($===null){O(t.exit("chunkFlow"),!0),M(0),t.consume($);return}return He($)?(t.consume($),O(t.exit("chunkFlow")),r=0,e.interrupt=void 0,f):(t.consume($),R)}function O($,H){const Q=e.sliceStream($);if(H&&Q.push(null),$.previous=a,a&&(a.next=$),a=$,s.defineSkip($.start),s.write(Q),e.parser.lazy[$.start.line]){let j=s.events.length;for(;j--;)if(s.events[j][1].start.offset<u&&(!s.events[j][1].end||s.events[j][1].end.offset>u))return;const V=e.events.length;let I=V,C,F;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){if(C){F=e.events[I][1].end;break}C=!0}for(M(r),j=V;j<e.events.length;)e.events[j][1].end={...F},j++;Di(e.events,I+1,0,e.events.slice(V)),e.events.length=j}}function M($){let H=n.length;for(;H-- >$;){const Q=n[H];e.containerState=Q[1],Q[0].exit.call(e,t)}n.length=$}function q(){s.write([null]),a=void 0,s=void 0,e.containerState._closeFlow=void 0}}function R8(t,e,n){return Nt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function H1(t){if(t===null||tr(t)||T8(t))return 1;if(b8(t))return 2}function m0(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const a=t[s].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const L_={name:"attention",resolveAll:I8,tokenize:N8};function I8(t,e){let n=-1,r,s,a,u,f,h,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;h=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const _={...t[r][1].end},v={...t[n][1].start};j1(_,-h),j1(v,h),u={type:h>1?"strongSequence":"emphasisSequence",start:_,end:{...t[r][1].end}},f={type:h>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},a={type:h>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:h>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[r][1].end={...u.start},t[n][1].start={...f.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ur(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ur(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",a,e]]),d=Ur(d,m0(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ur(d,[["exit",a,e],["enter",f,e],["exit",f,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=Ur(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Di(t,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function N8(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=H1(r);let a;return u;function u(h){return a=h,t.enter("attentionSequence"),f(h)}function f(h){if(h===a)return t.consume(h),f;const d=t.exit("attentionSequence"),m=H1(h),_=!m||m===2&&s||n.includes(h),v=!s||s===2&&m||n.includes(r);return d._open=!!(a===42?_:_&&(s||!v)),d._close=!!(a===42?v:v&&(m||!_)),e(h)}}function j1(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const k8={name:"autolink",tokenize:D8};function D8(t,e,n){let r=0;return s;function s(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(E){return Ai(E)?(t.consume(E),u):E===64?n(E):d(E)}function u(E){return E===43||E===45||E===46||gr(E)?(r=1,f(E)):d(E)}function f(E){return E===58?(t.consume(E),r=0,h):(E===43||E===45||E===46||gr(E))&&r++<32?(t.consume(E),f):(r=0,d(E))}function h(E){return E===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):E===null||E===32||E===60||P_(E)?n(E):(t.consume(E),h)}function d(E){return E===64?(t.consume(E),m):v8(E)?(t.consume(E),d):n(E)}function m(E){return gr(E)?_(E):n(E)}function _(E){return E===46?(t.consume(E),r=0,m):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e):v(E)}function v(E){if((E===45||gr(E))&&r++<63){const A=E===45?v:_;return t.consume(E),A}return n(E)}}const Vp={partial:!0,tokenize:O8};function O8(t,e,n){return r;function r(a){return pt(a)?Nt(t,s,"linePrefix")(a):s(a)}function s(a){return a===null||He(a)?e(a):n(a)}}const rN={continuation:{tokenize:P8},exit:V8,name:"blockQuote",tokenize:M8};function M8(t,e,n){const r=this;return s;function s(u){if(u===62){const f=r.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),a}return n(u)}function a(u){return pt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function P8(t,e,n){const r=this;return s;function s(u){return pt(u)?Nt(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):a(u)}function a(u){return t.attempt(rN,e,n)(u)}}function V8(t){t.exit("blockQuote")}const iN={name:"characterEscape",tokenize:L8};function L8(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),s}function s(a){return w8(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const sN={name:"characterReference",tokenize:U8};function U8(t,e,n){const r=this;let s=0,a,u;return f;function f(_){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),h}function h(_){return _===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(_),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),a=31,u=gr,m(_))}function d(_){return _===88||_===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(_),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,u=E8,m):(t.enter("characterReferenceValue"),a=7,u=V_,m(_))}function m(_){if(_===59&&s){const v=t.exit("characterReferenceValue");return u===gr&&!p0(r.sliceSerialize(v))?n(_):(t.enter("characterReferenceMarker"),t.consume(_),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(_)&&s++<a?(t.consume(_),m):n(_)}}const q1={partial:!0,tokenize:B8},$1={concrete:!0,name:"codeFenced",tokenize:z8};function z8(t,e,n){const r=this,s={partial:!0,tokenize:Q};let a=0,u=0,f;return h;function h(j){return d(j)}function d(j){const V=r.events[r.events.length-1];return a=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,f=j,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m(j)}function m(j){return j===f?(u++,t.consume(j),m):u<3?n(j):(t.exit("codeFencedFenceSequence"),pt(j)?Nt(t,_,"whitespace")(j):_(j))}function _(j){return j===null||He(j)?(t.exit("codeFencedFence"),r.interrupt?e(j):t.check(q1,R,H)(j)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===null||He(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(j)):pt(j)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Nt(t,E,"whitespace")(j)):j===96&&j===f?n(j):(t.consume(j),v)}function E(j){return j===null||He(j)?_(j):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A(j))}function A(j){return j===null||He(j)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),_(j)):j===96&&j===f?n(j):(t.consume(j),A)}function R(j){return t.attempt(s,H,O)(j)}function O(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),M}function M(j){return a>0&&pt(j)?Nt(t,q,"linePrefix",a+1)(j):q(j)}function q(j){return j===null||He(j)?t.check(q1,R,H)(j):(t.enter("codeFlowValue"),$(j))}function $(j){return j===null||He(j)?(t.exit("codeFlowValue"),q(j)):(t.consume(j),$)}function H(j){return t.exit("codeFenced"),e(j)}function Q(j,V,I){let C=0;return F;function F(G){return j.enter("lineEnding"),j.consume(G),j.exit("lineEnding"),D}function D(G){return j.enter("codeFencedFence"),pt(G)?Nt(j,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):z(G)}function z(G){return G===f?(j.enter("codeFencedFenceSequence"),x(G)):I(G)}function x(G){return G===f?(C++,j.consume(G),x):C>=u?(j.exit("codeFencedFenceSequence"),pt(G)?Nt(j,k,"whitespace")(G):k(G)):I(G)}function k(G){return G===null||He(G)?(j.exit("codeFencedFence"),V(G)):I(G)}}}function B8(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const Ay={name:"codeIndented",tokenize:H8},F8={partial:!0,tokenize:j8};function H8(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),Nt(t,a,"linePrefix",5)(d)}function a(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?h(d):He(d)?t.attempt(F8,u,h)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||He(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),f)}function h(d){return t.exit("codeIndented"),e(d)}}function j8(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):He(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):Nt(t,a,"linePrefix",5)(u)}function a(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):He(u)?s(u):n(u)}}const q8={name:"codeText",previous:G8,resolve:$8,tokenize:Y8};function $8(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function G8(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Y8(t,e,n){let r=0,s,a;return u;function u(_){return t.enter("codeText"),t.enter("codeTextSequence"),f(_)}function f(_){return _===96?(t.consume(_),r++,f):(t.exit("codeTextSequence"),h(_))}function h(_){return _===null?n(_):_===32?(t.enter("space"),t.consume(_),t.exit("space"),h):_===96?(a=t.enter("codeTextSequence"),s=0,m(_)):He(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),h):(t.enter("codeTextData"),d(_))}function d(_){return _===null||_===32||_===96||He(_)?(t.exit("codeTextData"),h(_)):(t.consume(_),d)}function m(_){return _===96?(t.consume(_),s++,m):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(_)):(a.type="codeTextData",d(_))}}class K8{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&wc(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),wc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),wc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);wc(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);wc(this.left,n.reverse())}}}function wc(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function oN(t){const e={};let n=-1,r,s,a,u,f,h,d;const m=new K8(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,X8(m,n)),n=e[n],d=!0);else if(r[1]._container){for(a=n,s=void 0;a--;)if(u=m.get(a),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=a);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...m.get(s)[1].start},f=m.slice(s,n),f.unshift(r),m.splice(s,n-s+1,f))}}return Di(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function X8(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const a=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,h=[],d={};let m,_,v=-1,E=n,A=0,R=0;const O=[R];for(;E;){for(;t.get(++s)[1]!==E;);a.push(s),E._tokenizer||(m=r.sliceStream(E),E.next||m.push(null),_&&u.defineSkip(E.start),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),E._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=E,E=E.next}for(E=n;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(R=v+1,O.push(R),E._tokenizer=void 0,E.previous=void 0,E=E.next);for(u.events=[],E?(E._tokenizer=void 0,E.previous=void 0):O.pop(),v=O.length;v--;){const M=f.slice(O[v],O[v+1]),q=a.pop();h.push([q,q+M.length-1]),t.splice(q,2,M)}for(h.reverse(),v=-1;++v<h.length;)d[A+h[v][0]]=A+h[v][1],A+=h[v][1]-h[v][0]-1;return d}const Q8={resolve:Z8,tokenize:J8},W8={partial:!0,tokenize:e7};function Z8(t){return oN(t),t}function J8(t,e){let n;return r;function r(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(f)}function s(f){return f===null?a(f):He(f)?t.check(W8,u,a)(f):(t.consume(f),s)}function a(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function e7(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Nt(t,a,"linePrefix")}function a(u){if(u===null||He(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function aN(t,e,n,r,s,a,u,f,h){const d=h||Number.POSITIVE_INFINITY;let m=0;return _;function _(M){return M===60?(t.enter(r),t.enter(s),t.enter(a),t.consume(M),t.exit(a),v):M===null||M===32||M===41||P_(M)?n(M):(t.enter(r),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),R(M))}function v(M){return M===62?(t.enter(a),t.consume(M),t.exit(a),t.exit(s),t.exit(r),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),E(M))}function E(M){return M===62?(t.exit("chunkString"),t.exit(f),v(M)):M===null||M===60||He(M)?n(M):(t.consume(M),M===92?A:E)}function A(M){return M===60||M===62||M===92?(t.consume(M),E):E(M)}function R(M){return!m&&(M===null||M===41||tr(M))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(r),e(M)):m<d&&M===40?(t.consume(M),m++,R):M===41?(t.consume(M),m--,R):M===null||M===32||M===40||P_(M)?n(M):(t.consume(M),M===92?O:R)}function O(M){return M===40||M===41||M===92?(t.consume(M),R):R(M)}}function lN(t,e,n,r,s,a){const u=this;let f=0,h;return d;function d(E){return t.enter(r),t.enter(s),t.consume(E),t.exit(s),t.enter(a),m}function m(E){return f>999||E===null||E===91||E===93&&!h||E===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(E):E===93?(t.exit(a),t.enter(s),t.consume(E),t.exit(s),t.exit(r),e):He(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),_(E))}function _(E){return E===null||E===91||E===93||He(E)||f++>999?(t.exit("chunkString"),m(E)):(t.consume(E),h||(h=!pt(E)),E===92?v:_)}function v(E){return E===91||E===92||E===93?(t.consume(E),f++,_):_(E)}}function uN(t,e,n,r,s,a){let u;return f;function f(v){return v===34||v===39||v===40?(t.enter(r),t.enter(s),t.consume(v),t.exit(s),u=v===40?41:v,h):n(v)}function h(v){return v===u?(t.enter(s),t.consume(v),t.exit(s),t.exit(r),e):(t.enter(a),d(v))}function d(v){return v===u?(t.exit(a),h(u)):v===null?n(v):He(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),Nt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===u||v===null||He(v)?(t.exit("chunkString"),d(v)):(t.consume(v),v===92?_:m)}function _(v){return v===u||v===92?(t.consume(v),m):m(v)}}function zc(t,e){let n;return r;function r(s){return He(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):pt(s)?Nt(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const t7={name:"definition",tokenize:r7},n7={partial:!0,tokenize:i7};function r7(t,e,n){const r=this;let s;return a;function a(E){return t.enter("definition"),u(E)}function u(E){return lN.call(r,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(E)}function f(E){return s=jl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),E===58?(t.enter("definitionMarker"),t.consume(E),t.exit("definitionMarker"),h):n(E)}function h(E){return tr(E)?zc(t,d)(E):d(E)}function d(E){return aN(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(E)}function m(E){return t.attempt(n7,_,_)(E)}function _(E){return pt(E)?Nt(t,v,"whitespace")(E):v(E)}function v(E){return E===null||He(E)?(t.exit("definition"),r.parser.defined.push(s),e(E)):n(E)}}function i7(t,e,n){return r;function r(f){return tr(f)?zc(t,s)(f):n(f)}function s(f){return uN(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function a(f){return pt(f)?Nt(t,u,"whitespace")(f):u(f)}function u(f){return f===null||He(f)?e(f):n(f)}}const s7={name:"hardBreakEscape",tokenize:o7};function o7(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),s}function s(a){return He(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const a7={name:"headingAtx",resolve:l7,tokenize:u7};function l7(t,e){let n=t.length-2,r=3,s,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Di(t,r,n-r+1,[["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e]])),t}function u7(t,e,n){let r=0;return s;function s(m){return t.enter("atxHeading"),a(m)}function a(m){return t.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(t.consume(m),u):m===null||tr(m)?(t.exit("atxHeadingSequence"),f(m)):n(m)}function f(m){return m===35?(t.enter("atxHeadingSequence"),h(m)):m===null||He(m)?(t.exit("atxHeading"),e(m)):pt(m)?Nt(t,f,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function h(m){return m===35?(t.consume(m),h):(t.exit("atxHeadingSequence"),f(m))}function d(m){return m===null||m===35||tr(m)?(t.exit("atxHeadingText"),f(m)):(t.consume(m),d)}}const c7=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],G1=["pre","script","style","textarea"],f7={concrete:!0,name:"htmlFlow",resolveTo:p7,tokenize:m7},h7={partial:!0,tokenize:y7},d7={partial:!0,tokenize:g7};function p7(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function m7(t,e,n){const r=this;let s,a,u,f,h;return d;function d(N){return m(N)}function m(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),_}function _(N){return N===33?(t.consume(N),v):N===47?(t.consume(N),a=!0,R):N===63?(t.consume(N),s=3,r.interrupt?e:b):Ai(N)?(t.consume(N),u=String.fromCharCode(N),O):n(N)}function v(N){return N===45?(t.consume(N),s=2,E):N===91?(t.consume(N),s=5,f=0,A):Ai(N)?(t.consume(N),s=4,r.interrupt?e:b):n(N)}function E(N){return N===45?(t.consume(N),r.interrupt?e:b):n(N)}function A(N){const ue="CDATA[";return N===ue.charCodeAt(f++)?(t.consume(N),f===ue.length?r.interrupt?e:z:A):n(N)}function R(N){return Ai(N)?(t.consume(N),u=String.fromCharCode(N),O):n(N)}function O(N){if(N===null||N===47||N===62||tr(N)){const ue=N===47,ve=u.toLowerCase();return!ue&&!a&&G1.includes(ve)?(s=1,r.interrupt?e(N):z(N)):c7.includes(u.toLowerCase())?(s=6,ue?(t.consume(N),M):r.interrupt?e(N):z(N)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):a?q(N):$(N))}return N===45||gr(N)?(t.consume(N),u+=String.fromCharCode(N),O):n(N)}function M(N){return N===62?(t.consume(N),r.interrupt?e:z):n(N)}function q(N){return pt(N)?(t.consume(N),q):F(N)}function $(N){return N===47?(t.consume(N),F):N===58||N===95||Ai(N)?(t.consume(N),H):pt(N)?(t.consume(N),$):F(N)}function H(N){return N===45||N===46||N===58||N===95||gr(N)?(t.consume(N),H):Q(N)}function Q(N){return N===61?(t.consume(N),j):pt(N)?(t.consume(N),Q):$(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),h=N,V):pt(N)?(t.consume(N),j):I(N)}function V(N){return N===h?(t.consume(N),h=null,C):N===null||He(N)?n(N):(t.consume(N),V)}function I(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||tr(N)?Q(N):(t.consume(N),I)}function C(N){return N===47||N===62||pt(N)?$(N):n(N)}function F(N){return N===62?(t.consume(N),D):n(N)}function D(N){return N===null||He(N)?z(N):pt(N)?(t.consume(N),D):n(N)}function z(N){return N===45&&s===2?(t.consume(N),U):N===60&&s===1?(t.consume(N),K):N===62&&s===4?(t.consume(N),X):N===63&&s===3?(t.consume(N),b):N===93&&s===5?(t.consume(N),Z):He(N)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(h7,re,x)(N)):N===null||He(N)?(t.exit("htmlFlowData"),x(N)):(t.consume(N),z)}function x(N){return t.check(d7,k,re)(N)}function k(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),G}function G(N){return N===null||He(N)?x(N):(t.enter("htmlFlowData"),z(N))}function U(N){return N===45?(t.consume(N),b):z(N)}function K(N){return N===47?(t.consume(N),u="",J):z(N)}function J(N){if(N===62){const ue=u.toLowerCase();return G1.includes(ue)?(t.consume(N),X):z(N)}return Ai(N)&&u.length<8?(t.consume(N),u+=String.fromCharCode(N),J):z(N)}function Z(N){return N===93?(t.consume(N),b):z(N)}function b(N){return N===62?(t.consume(N),X):N===45&&s===2?(t.consume(N),b):z(N)}function X(N){return N===null||He(N)?(t.exit("htmlFlowData"),re(N)):(t.consume(N),X)}function re(N){return t.exit("htmlFlow"),e(N)}}function g7(t,e,n){const r=this;return s;function s(u){return He(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):n(u)}function a(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function y7(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Vp,e,n)}}const _7={name:"htmlText",tokenize:v7};function v7(t,e,n){const r=this;let s,a,u;return f;function f(b){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(b),h}function h(b){return b===33?(t.consume(b),d):b===47?(t.consume(b),Q):b===63?(t.consume(b),$):Ai(b)?(t.consume(b),I):n(b)}function d(b){return b===45?(t.consume(b),m):b===91?(t.consume(b),a=0,A):Ai(b)?(t.consume(b),q):n(b)}function m(b){return b===45?(t.consume(b),E):n(b)}function _(b){return b===null?n(b):b===45?(t.consume(b),v):He(b)?(u=_,K(b)):(t.consume(b),_)}function v(b){return b===45?(t.consume(b),E):_(b)}function E(b){return b===62?U(b):b===45?v(b):_(b)}function A(b){const X="CDATA[";return b===X.charCodeAt(a++)?(t.consume(b),a===X.length?R:A):n(b)}function R(b){return b===null?n(b):b===93?(t.consume(b),O):He(b)?(u=R,K(b)):(t.consume(b),R)}function O(b){return b===93?(t.consume(b),M):R(b)}function M(b){return b===62?U(b):b===93?(t.consume(b),M):R(b)}function q(b){return b===null||b===62?U(b):He(b)?(u=q,K(b)):(t.consume(b),q)}function $(b){return b===null?n(b):b===63?(t.consume(b),H):He(b)?(u=$,K(b)):(t.consume(b),$)}function H(b){return b===62?U(b):$(b)}function Q(b){return Ai(b)?(t.consume(b),j):n(b)}function j(b){return b===45||gr(b)?(t.consume(b),j):V(b)}function V(b){return He(b)?(u=V,K(b)):pt(b)?(t.consume(b),V):U(b)}function I(b){return b===45||gr(b)?(t.consume(b),I):b===47||b===62||tr(b)?C(b):n(b)}function C(b){return b===47?(t.consume(b),U):b===58||b===95||Ai(b)?(t.consume(b),F):He(b)?(u=C,K(b)):pt(b)?(t.consume(b),C):U(b)}function F(b){return b===45||b===46||b===58||b===95||gr(b)?(t.consume(b),F):D(b)}function D(b){return b===61?(t.consume(b),z):He(b)?(u=D,K(b)):pt(b)?(t.consume(b),D):C(b)}function z(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),s=b,x):He(b)?(u=z,K(b)):pt(b)?(t.consume(b),z):(t.consume(b),k)}function x(b){return b===s?(t.consume(b),s=void 0,G):b===null?n(b):He(b)?(u=x,K(b)):(t.consume(b),x)}function k(b){return b===null||b===34||b===39||b===60||b===61||b===96?n(b):b===47||b===62||tr(b)?C(b):(t.consume(b),k)}function G(b){return b===47||b===62||tr(b)?C(b):n(b)}function U(b){return b===62?(t.consume(b),t.exit("htmlTextData"),t.exit("htmlText"),e):n(b)}function K(b){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),J}function J(b){return pt(b)?Nt(t,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):Z(b)}function Z(b){return t.enter("htmlTextData"),u(b)}}const g0={name:"labelEnd",resolveAll:T7,resolveTo:S7,tokenize:A7},E7={tokenize:x7},w7={tokenize:C7},b7={tokenize:R7};function T7(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Di(t,0,t.length,n),t}function S7(t,e){let n=t.length,r=0,s,a,u,f;for(;n--;)if(s=t[n][1],a){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(a=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const h={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[a][1].start},end:{...t[u][1].end}},m={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",h,e],["enter",d,e]],f=Ur(f,t.slice(a+1,a+r+3)),f=Ur(f,[["enter",m,e]]),f=Ur(f,m0(e.parser.constructs.insideSpan.null,t.slice(a+r+4,u-3),e)),f=Ur(f,[["exit",m,e],t[u-2],t[u-1],["exit",d,e]]),f=Ur(f,t.slice(u+1)),f=Ur(f,[["exit",h,e]]),Di(t,a,t.length,f),t}function A7(t,e,n){const r=this;let s=r.events.length,a,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){a=r.events[s][1];break}return f;function f(v){return a?a._inactive?_(v):(u=r.parser.defined.includes(jl(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),h):n(v)}function h(v){return v===40?t.attempt(E7,m,u?m:_)(v):v===91?t.attempt(w7,m,u?d:_)(v):u?m(v):_(v)}function d(v){return t.attempt(b7,m,_)(v)}function m(v){return e(v)}function _(v){return a._balanced=!0,n(v)}}function x7(t,e,n){return r;function r(_){return t.enter("resource"),t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),s}function s(_){return tr(_)?zc(t,a)(_):a(_)}function a(_){return _===41?m(_):aN(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return tr(_)?zc(t,h)(_):m(_)}function f(_){return n(_)}function h(_){return _===34||_===39||_===40?uN(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):m(_)}function d(_){return tr(_)?zc(t,m)(_):m(_)}function m(_){return _===41?(t.enter("resourceMarker"),t.consume(_),t.exit("resourceMarker"),t.exit("resource"),e):n(_)}}function C7(t,e,n){const r=this;return s;function s(f){return lN.call(r,t,a,u,"reference","referenceMarker","referenceString")(f)}function a(f){return r.parser.defined.includes(jl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function R7(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),s}function s(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const I7={name:"labelStartImage",resolveAll:g0.resolveAll,tokenize:N7};function N7(t,e,n){const r=this;return s;function s(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),a}function a(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):e(f)}}const k7={name:"labelStartLink",resolveAll:g0.resolveAll,tokenize:D7};function D7(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),a}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const xy={name:"lineEnding",tokenize:O7};function O7(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Nt(t,e,"linePrefix")}}const Sd={name:"thematicBreak",tokenize:M7};function M7(t,e,n){let r=0,s;return a;function a(d){return t.enter("thematicBreak"),u(d)}function u(d){return s=d,f(d)}function f(d){return d===s?(t.enter("thematicBreakSequence"),h(d)):r>=3&&(d===null||He(d))?(t.exit("thematicBreak"),e(d)):n(d)}function h(d){return d===s?(t.consume(d),r++,h):(t.exit("thematicBreakSequence"),pt(d)?Nt(t,f,"whitespace")(d):f(d))}}const Wn={continuation:{tokenize:U7},exit:B7,name:"list",tokenize:L7},P7={partial:!0,tokenize:F7},V7={partial:!0,tokenize:z7};function L7(t,e,n){const r=this,s=r.events[r.events.length-1];let a=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return f;function f(E){const A=r.containerState.type||(E===42||E===43||E===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!r.containerState.marker||E===r.containerState.marker:V_(E)){if(r.containerState.type||(r.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),E===42||E===45?t.check(Sd,n,d)(E):d(E);if(!r.interrupt||E===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),h(E)}return n(E)}function h(E){return V_(E)&&++u<10?(t.consume(E),h):(!r.interrupt||u<2)&&(r.containerState.marker?E===r.containerState.marker:E===41||E===46)?(t.exit("listItemValue"),d(E)):n(E)}function d(E){return t.enter("listItemMarker"),t.consume(E),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||E,t.check(Vp,r.interrupt?n:m,t.attempt(P7,v,_))}function m(E){return r.containerState.initialBlankLine=!0,a++,v(E)}function _(E){return pt(E)?(t.enter("listItemPrefixWhitespace"),t.consume(E),t.exit("listItemPrefixWhitespace"),v):n(E)}function v(E){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(E)}}function U7(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Vp,s,a);function s(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Nt(t,e,"listItemIndent",r.containerState.size+1)(f)}function a(f){return r.containerState.furtherBlankLines||!pt(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(V7,e,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,Nt(t,t.attempt(Wn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function z7(t,e,n){const r=this;return Nt(t,s,"listItemIndent",r.containerState.size+1);function s(a){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(a):n(a)}}function B7(t){t.exit(this.containerState.type)}function F7(t,e,n){const r=this;return Nt(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(a){const u=r.events[r.events.length-1];return!pt(a)&&u&&u[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const Y1={name:"setextUnderline",resolveTo:H7,tokenize:j7};function H7(t,e){let n=t.length,r,s,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",a?(t.splice(s,0,["enter",u,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function j7(t,e,n){const r=this;let s;return a;function a(d){let m=r.events.length,_;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){_=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(t.enter("setextHeadingLine"),s=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===s?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),pt(d)?Nt(t,h,"lineSuffix")(d):h(d))}function h(d){return d===null||He(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const q7={tokenize:$7};function $7(t){const e=this,n=t.attempt(Vp,r,t.attempt(this.parser.constructs.flowInitial,s,Nt(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Q8,s)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const G7={resolveAll:fN()},Y7=cN("string"),K7=cN("text");function cN(t){return{resolveAll:fN(t==="text"?X7:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],a=n.attempt(s,u,f);return u;function u(m){return d(m)?a(m):f(m)}function f(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),h}function h(m){return d(m)?(n.exit("data"),a(m)):(n.consume(m),h)}function d(m){if(m===null)return!0;const _=s[m];let v=-1;if(_)for(;++v<_.length;){const E=_[v];if(!E.previous||E.previous.call(r,r.previous))return!0}return!1}}}function fN(t){return e;function e(n,r){let s=-1,a;for(;++s<=n.length;)a===void 0?n[s]&&n[s][1].type==="data"&&(a=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==a+2&&(n[a][1].end=n[s-1][1].end,n.splice(a+2,s-a-2),s=a+2),a=void 0);return t?t(n,r):n}}function X7(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let a=s.length,u=-1,f=0,h;for(;a--;){const d=s[a];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)h=!0,f++;else if(d!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const d={type:n===t.length||h||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?u:r.start._bufferIndex+u,_index:r.start._index+a,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const Q7={42:Wn,43:Wn,45:Wn,48:Wn,49:Wn,50:Wn,51:Wn,52:Wn,53:Wn,54:Wn,55:Wn,56:Wn,57:Wn,62:rN},W7={91:t7},Z7={[-2]:Ay,[-1]:Ay,32:Ay},J7={35:a7,42:Sd,45:[Y1,Sd],60:f7,61:Y1,95:Sd,96:$1,126:$1},eH={38:sN,92:iN},tH={[-5]:xy,[-4]:xy,[-3]:xy,33:I7,38:sN,42:L_,60:[k8,_7],91:k7,92:[s7,iN],93:g0,95:L_,96:q8},nH={null:[L_,G7]},rH={null:[42,95]},iH={null:[]},sH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rH,contentInitial:W7,disable:iH,document:Q7,flow:J7,flowInitial:Z7,insideSpan:nH,string:eH,text:tH},Symbol.toStringTag,{value:"Module"}));function oH(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},a=[];let u=[],f=[];const h={attempt:V(Q),check:V(j),consume:q,enter:$,exit:H,interrupt:V(j,{interrupt:!0})},d={code:null,containerState:{},defineSkip:R,events:[],now:A,parser:t,previous:null,sliceSerialize:v,sliceStream:E,write:_};let m=e.tokenize.call(d,h);return e.resolveAll&&a.push(e),d;function _(D){return u=Ur(u,D),O(),u[u.length-1]!==null?[]:(I(e,0),d.events=m0(a,d.events,d),d.events)}function v(D,z){return lH(E(D),z)}function E(D){return aH(u,D)}function A(){const{_bufferIndex:D,_index:z,line:x,column:k,offset:G}=r;return{_bufferIndex:D,_index:z,line:x,column:k,offset:G}}function R(D){s[D.line]=D.column,F()}function O(){let D;for(;r._index<u.length;){const z=u[r._index];if(typeof z=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<z.length;)M(z.charCodeAt(r._bufferIndex));else M(z)}}function M(D){m=m(D)}function q(D){He(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,F()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=D}function $(D,z){const x=z||{};return x.type=D,x.start=A(),d.events.push(["enter",x,d]),f.push(x),x}function H(D){const z=f.pop();return z.end=A(),d.events.push(["exit",z,d]),z}function Q(D,z){I(D,z.from)}function j(D,z){z.restore()}function V(D,z){return x;function x(k,G,U){let K,J,Z,b;return Array.isArray(k)?re(k):"tokenize"in k?re([k]):X(k);function X(_e){return Ce;function Ce(be){const De=be!==null&&_e[be],Oe=be!==null&&_e.null,Ze=[...Array.isArray(De)?De:De?[De]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return re(Ze)(be)}}function re(_e){return K=_e,J=0,_e.length===0?U:N(_e[J])}function N(_e){return Ce;function Ce(be){return b=C(),Z=_e,_e.partial||(d.currentConstruct=_e),_e.name&&d.parser.constructs.disable.null.includes(_e.name)?ve():_e.tokenize.call(z?Object.assign(Object.create(d),z):d,h,ue,ve)(be)}}function ue(_e){return D(Z,b),G}function ve(_e){return b.restore(),++J<K.length?N(K[J]):U}}}function I(D,z){D.resolveAll&&!a.includes(D)&&a.push(D),D.resolve&&Di(d.events,z,d.events.length-z,D.resolve(d.events.slice(z),d)),D.resolveTo&&(d.events=D.resolveTo(d.events,d))}function C(){const D=A(),z=d.previous,x=d.currentConstruct,k=d.events.length,G=Array.from(f);return{from:k,restore:U};function U(){r=D,d.previous=z,d.currentConstruct=x,d.events.length=k,f=G,F()}}function F(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function aH(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,a=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,a)];else{if(u=t.slice(n,s),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}a>0&&u.push(t[s].slice(0,a))}return u}function lH(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const a=t[n];let u;if(typeof a=="string")u=a;else switch(a){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(a)}s=a===-2,r.push(u)}return r.join("")}function uH(t){const r={constructs:g8([sH,...(t||{}).extensions||[]]),content:s(S8),defined:[],document:s(x8),flow:s(q7),lazy:{},string:s(Y7),text:s(K7)};return r;function s(a){return u;function u(f){return oH(r,a,f)}}}function cH(t){for(;!oN(t););return t}const K1=/[\0\t\n\r]/g;function fH(){let t=1,e="",n=!0,r;return s;function s(a,u,f){const h=[];let d,m,_,v,E;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(u||void 0).decode(a)),_=0,e="",n&&(a.charCodeAt(0)===65279&&_++,n=void 0);_<a.length;){if(K1.lastIndex=_,d=K1.exec(a),v=d&&d.index!==void 0?d.index:a.length,E=a.charCodeAt(v),!d){e=a.slice(_);break}if(E===10&&_===v&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),_<v&&(h.push(a.slice(_,v)),t+=v-_),E){case 0:{h.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,h.push(-2);t++<m;)h.push(-1);break}case 10:{h.push(-4),t=1;break}default:r=!0,t=1}_=v+1}return f&&(r&&h.push(-5),e&&h.push(e),h.push(null)),h}}const hH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function dH(t){return t.replace(hH,pH)}function pH(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),a=s===120||s===88;return nN(n.slice(a?2:1),a?16:10)}return p0(n)||t}const hN={}.hasOwnProperty;function mH(t,e,n){return typeof e!="string"&&(n=e,e=void 0),gH(n)(cH(uH(n).document().write(fH()(t,e,!0))))}function gH(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(At),autolinkProtocol:C,autolinkEmail:C,atxHeading:a(Me),blockQuote:a(Oe),characterEscape:C,characterReference:C,codeFenced:a(Ze),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:a(Ze,u),codeText:a(tt,u),codeTextData:C,data:C,codeFlowValue:C,definition:a(ft),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:a(lt),hardBreakEscape:a(St),hardBreakTrailing:a(St),htmlFlow:a(Le,u),htmlFlowData:C,htmlText:a(Le,u),htmlTextData:C,image:a(Re),label:u,link:a(At),listItem:a(Tn),listItemValue:v,listOrdered:a(Gt,_),listUnordered:a(Gt),paragraph:a(Gn),reference:N,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:a(Me),strong:a(Sn),thematicBreak:a(Fn)},exit:{atxHeading:h(),atxHeadingSequence:Q,autolink:h(),autolinkEmail:De,autolinkProtocol:be,blockQuote:h(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:_e,characterReference:Ce,codeFenced:h(O),codeFencedFence:R,codeFencedFenceInfo:E,codeFencedFenceMeta:A,codeFlowValue:F,codeIndented:h(M),codeText:h(G),codeTextData:F,data:F,definition:h(),definitionDestinationString:H,definitionLabelString:q,definitionTitleString:$,emphasis:h(),hardBreakEscape:h(z),hardBreakTrailing:h(z),htmlFlow:h(x),htmlFlowData:F,htmlText:h(k),htmlTextData:F,image:h(K),label:Z,labelText:J,lineEnding:D,link:h(U),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ue,resourceDestinationString:b,resourceTitleString:X,resource:re,setextHeading:h(I),setextHeadingLineSequence:V,setextHeadingText:j,strong:h(),thematicBreak:h()}};dN(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ee){let he={type:"root",children:[]};const Ae={stack:[he],tokenStack:[],config:e,enter:f,exit:d,buffer:u,resume:m,data:n},Ie=[];let Xe=-1;for(;++Xe<ee.length;)if(ee[Xe][1].type==="listOrdered"||ee[Xe][1].type==="listUnordered")if(ee[Xe][0]==="enter")Ie.push(Xe);else{const ut=Ie.pop();Xe=s(ee,ut,Xe)}for(Xe=-1;++Xe<ee.length;){const ut=e[ee[Xe][0]];hN.call(ut,ee[Xe][1].type)&&ut[ee[Xe][1].type].call(Object.assign({sliceSerialize:ee[Xe][2].sliceSerialize},Ae),ee[Xe][1])}if(Ae.tokenStack.length>0){const ut=Ae.tokenStack[Ae.tokenStack.length-1];(ut[1]||X1).call(Ae,void 0,ut[0])}for(he.position={start:Ys(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:Ys(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<e.transforms.length;)he=e.transforms[Xe](he)||he;return he}function s(ee,he,Ae){let Ie=he-1,Xe=-1,ut=!1,xt,Ot,Yt,Vt;for(;++Ie<=Ae;){const ht=ee[Ie];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?Xe++:Xe--,Vt=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(xt&&!Vt&&!Xe&&!Yt&&(Yt=Ie),Vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Vt=void 0}if(!Xe&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||Xe===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(xt){let Ft=Ie;for(Ot=void 0;Ft--;){const on=ee[Ft];if(on[1].type==="lineEnding"||on[1].type==="lineEndingBlank"){if(on[0]==="exit")continue;Ot&&(ee[Ot][1].type="lineEndingBlank",ut=!0),on[1].type="lineEnding",Ot=Ft}else if(!(on[1].type==="linePrefix"||on[1].type==="blockQuotePrefix"||on[1].type==="blockQuotePrefixWhitespace"||on[1].type==="blockQuoteMarker"||on[1].type==="listItemIndent"))break}Yt&&(!Ot||Yt<Ot)&&(xt._spread=!0),xt.end=Object.assign({},Ot?ee[Ot][1].start:ht[1].end),ee.splice(Ot||Ie,0,["exit",xt,ht[2]]),Ie++,Ae++}if(ht[1].type==="listItemPrefix"){const Ft={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};xt=Ft,ee.splice(Ie,0,["enter",Ft,ht[2]]),Ie++,Ae++,Yt=void 0,Vt=!0}}}return ee[he][1]._spread=ut,Ae}function a(ee,he){return Ae;function Ae(Ie){f.call(this,ee(Ie),Ie),he&&he.call(this,Ie)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(ee,he,Ae){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([he,Ae||void 0]),ee.position={start:Ys(he.start),end:void 0}}function h(ee){return he;function he(Ae){ee&&ee.call(this,Ae),d.call(this,Ae)}}function d(ee,he){const Ae=this.stack.pop(),Ie=this.tokenStack.pop();if(Ie)Ie[0].type!==ee.type&&(he?he.call(this,ee,Ie[0]):(Ie[1]||X1).call(this,ee,Ie[0]));else throw new Error("Cannot close `"+ee.type+"` ("+Uc({start:ee.start,end:ee.end})+"): it’s not open");Ae.position.end=Ys(ee.end)}function m(){return p8(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function v(ee){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function E(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.lang=ee}function A(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.meta=ee}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function O(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee.replace(/(\r?\n|\r)$/g,"")}function q(ee){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=jl(this.sliceSerialize(ee)).toLowerCase()}function $(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function H(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function Q(ee){const he=this.stack[this.stack.length-1];if(!he.depth){const Ae=this.sliceSerialize(ee).length;he.depth=Ae}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function V(ee){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function C(ee){const Ae=this.stack[this.stack.length-1].children;let Ie=Ae[Ae.length-1];(!Ie||Ie.type!=="text")&&(Ie=Zt(),Ie.position={start:Ys(ee.start),end:void 0},Ae.push(Ie)),this.stack.push(Ie)}function F(ee){const he=this.stack.pop();he.value+=this.sliceSerialize(ee),he.position.end=Ys(ee.end)}function D(ee){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ae=he.children[he.children.length-1];Ae.position.end=Ys(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(C.call(this,ee),F.call(this,ee))}function z(){this.data.atHardBreak=!0}function x(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function k(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function G(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.value=ee}function U(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function K(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=he,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function J(ee){const he=this.sliceSerialize(ee),Ae=this.stack[this.stack.length-2];Ae.label=dH(he),Ae.identifier=jl(he).toLowerCase()}function Z(){const ee=this.stack[this.stack.length-1],he=this.resume(),Ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ae.type==="link"){const Ie=ee.children;Ae.children=Ie}else Ae.alt=he}function b(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.url=ee}function X(){const ee=this.resume(),he=this.stack[this.stack.length-1];he.title=ee}function re(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function ue(ee){const he=this.resume(),Ae=this.stack[this.stack.length-1];Ae.label=he,Ae.identifier=jl(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function ve(ee){this.data.characterReferenceType=ee.type}function _e(ee){const he=this.sliceSerialize(ee),Ae=this.data.characterReferenceType;let Ie;Ae?(Ie=nN(he,Ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ie=p0(he);const Xe=this.stack[this.stack.length-1];Xe.value+=Ie}function Ce(ee){const he=this.stack.pop();he.position.end=Ys(ee.end)}function be(ee){F.call(this,ee);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(ee)}function De(ee){F.call(this,ee);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(ee)}function Oe(){return{type:"blockquote",children:[]}}function Ze(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function ft(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function lt(){return{type:"emphasis",children:[]}}function Me(){return{type:"heading",depth:0,children:[]}}function St(){return{type:"break"}}function Le(){return{type:"html",value:""}}function Re(){return{type:"image",title:null,url:"",alt:null}}function At(){return{type:"link",title:null,url:"",children:[]}}function Gt(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function Tn(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function Gn(){return{type:"paragraph",children:[]}}function Sn(){return{type:"strong",children:[]}}function Zt(){return{type:"text",value:""}}function Fn(){return{type:"thematicBreak"}}}function Ys(t){return{line:t.line,column:t.column,offset:t.offset}}function dN(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?dN(t,r):yH(t,r)}}function yH(t,e){let n;for(n in e)if(hN.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function X1(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Uc({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Uc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Uc({start:e.start,end:e.end})+") is still open")}function _H(t){const e=this;e.parser=n;function n(r){return mH(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function vH(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function EH(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function wH(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function bH(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function TH(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function SH(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=hu(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let u,f=t.footnoteCounts.get(r);f===void 0?(f=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=a+1,f+=1,t.footnoteCounts.set(r,f);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,h);const d={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(e,d),t.applyData(e,d)}function AH(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function xH(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function pN(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),a=s[0];a&&a.type==="text"?a.value="["+a.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function CH(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pN(t,e);const s={src:hu(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,a),t.applyData(e,a)}function RH(t,e){const n={src:hu(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function IH(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function NH(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return pN(t,e);const s={href:hu(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function kH(t,e){const n={href:hu(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function DH(t,e,n){const r=t.all(e),s=n?OH(n):mN(e),a={},u=[];if(typeof e.checked=="boolean"){const m=r[0];let _;m&&m.type==="element"&&m.tagName==="p"?_=m:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const m=r[f];(s||f!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?u.push(...m.children):u.push(m)}const h=r[r.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:u};return t.patch(e,d),t.applyData(e,d)}function OH(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=mN(n[r])}return e}function mN(t){const e=t.spread;return e??t.children.length>1}function MH(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function PH(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VH(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function LH(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function UH(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=c0(e.children[1]),h=XI(e.children[e.children.length-1]);f&&h&&(u.position={start:f,end:h}),s.push(u)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,a),t.applyData(e,a)}function zH(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let h=-1;const d=[];for(;++h<f;){const _=e.children[h],v={},E=u?u[h]:void 0;E&&(v.align=E);let A={type:"element",tagName:a,properties:v,children:[]};_&&(A.children=t.all(_),t.patch(_,A),A=t.applyData(_,A)),d.push(A)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function BH(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Q1=9,W1=32;function FH(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const a=[];for(;r;)a.push(Z1(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return a.push(Z1(e.slice(s),s>0,!1)),a.join("")}function Z1(t,e,n){let r=0,s=t.length;if(e){let a=t.codePointAt(r);for(;a===Q1||a===W1;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(s-1);for(;a===Q1||a===W1;)s--,a=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function HH(t,e){const n={type:"text",value:FH(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function jH(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const qH={blockquote:vH,break:EH,code:wH,delete:bH,emphasis:TH,footnoteReference:SH,heading:AH,html:xH,imageReference:CH,image:RH,inlineCode:IH,linkReference:NH,link:kH,listItem:DH,list:MH,paragraph:PH,root:VH,strong:LH,table:UH,tableCell:BH,tableRow:zH,text:HH,thematicBreak:jH,toml:ad,yaml:ad,definition:ad,footnoteDefinition:ad};function ad(){}const gN=-1,Lp=0,Bc=1,np=2,y0=3,_0=4,v0=5,E0=6,yN=7,_N=8,J1=typeof self=="object"?self:globalThis,$H=(t,e)=>{const n=(s,a)=>(t.set(a,s),s),r=s=>{if(t.has(s))return t.get(s);const[a,u]=e[s];switch(a){case Lp:case gN:return n(u,s);case Bc:{const f=n([],s);for(const h of u)f.push(r(h));return f}case np:{const f=n({},s);for(const[h,d]of u)f[r(h)]=r(d);return f}case y0:return n(new Date(u),s);case _0:{const{source:f,flags:h}=u;return n(new RegExp(f,h),s)}case v0:{const f=n(new Map,s);for(const[h,d]of u)f.set(r(h),r(d));return f}case E0:{const f=n(new Set,s);for(const h of u)f.add(r(h));return f}case yN:{const{name:f,message:h}=u;return n(new J1[f](h),s)}case _N:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new J1[a](u),s)};return r},eA=t=>$H(new Map,t)(0),Al="",{toString:GH}={},{keys:YH}=Object,bc=t=>{const e=typeof t;if(e!=="object"||!t)return[Lp,e];const n=GH.call(t).slice(8,-1);switch(n){case"Array":return[Bc,Al];case"Object":return[np,Al];case"Date":return[y0,Al];case"RegExp":return[_0,Al];case"Map":return[v0,Al];case"Set":return[E0,Al];case"DataView":return[Bc,n]}return n.includes("Array")?[Bc,n]:n.includes("Error")?[yN,n]:[np,n]},ld=([t,e])=>t===Lp&&(e==="function"||e==="symbol"),KH=(t,e,n,r)=>{const s=(u,f)=>{const h=r.push(u)-1;return n.set(f,h),h},a=u=>{if(n.has(u))return n.get(u);let[f,h]=bc(u);switch(f){case Lp:{let m=u;switch(h){case"bigint":f=_N,m=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+h);m=null;break;case"undefined":return s([gN],u)}return s([f,m],u)}case Bc:{if(h){let v=u;return h==="DataView"?v=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(v=new Uint8Array(u)),s([h,[...v]],u)}const m=[],_=s([f,m],u);for(const v of u)m.push(a(v));return _}case np:{if(h)switch(h){case"BigInt":return s([h,u.toString()],u);case"Boolean":case"Number":case"String":return s([h,u.valueOf()],u)}if(e&&"toJSON"in u)return a(u.toJSON());const m=[],_=s([f,m],u);for(const v of YH(u))(t||!ld(bc(u[v])))&&m.push([a(v),a(u[v])]);return _}case y0:return s([f,u.toISOString()],u);case _0:{const{source:m,flags:_}=u;return s([f,{source:m,flags:_}],u)}case v0:{const m=[],_=s([f,m],u);for(const[v,E]of u)(t||!(ld(bc(v))||ld(bc(E))))&&m.push([a(v),a(E)]);return _}case E0:{const m=[],_=s([f,m],u);for(const v of u)(t||!ld(bc(v)))&&m.push(a(v));return _}}const{message:d}=u;return s([f,{name:h,message:d}],u)};return a},tA=(t,{json:e,lossy:n}={})=>{const r=[];return KH(!(e||n),!!e,new Map,r)(t),r},rp=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?eA(tA(t,e)):structuredClone(t):(t,e)=>eA(tA(t,e));function XH(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function QH(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function WH(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||XH,r=t.options.footnoteBackLabel||QH,s=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let h=-1;for(;++h<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[h]);if(!d)continue;const m=t.all(d),_=String(d.identifier).toUpperCase(),v=hu(_.toLowerCase());let E=0;const A=[],R=t.footnoteCounts.get(_);for(;R!==void 0&&++E<=R;){A.length>0&&A.push({type:"text",value:" "});let q=typeof n=="string"?n:n(h,E);typeof q=="string"&&(q={type:"text",value:q}),A.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(E>1?"-"+E:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,E),className:["data-footnote-backref"]},children:Array.isArray(q)?q:[q]})}const O=m[m.length-1];if(O&&O.type==="element"&&O.tagName==="p"){const q=O.children[O.children.length-1];q&&q.type==="text"?q.value+=" ":O.children.push({type:"text",value:" "}),O.children.push(...A)}else m.push(...A);const M={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(m,!0)};t.patch(d,M),f.push(M)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...rp(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const vN=function(t){if(t==null)return tj;if(typeof t=="function")return Up(t);if(typeof t=="object")return Array.isArray(t)?ZH(t):JH(t);if(typeof t=="string")return ej(t);throw new Error("Expected function, string, or object as test")};function ZH(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=vN(t[n]);return Up(r);function r(...s){let a=-1;for(;++a<e.length;)if(e[a].apply(this,s))return!0;return!1}}function JH(t){const e=t;return Up(n);function n(r){const s=r;let a;for(a in t)if(s[a]!==e[a])return!1;return!0}}function ej(t){return Up(e);function e(n){return n&&n.type===t}}function Up(t){return e;function e(n,r,s){return!!(nj(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function tj(){return!0}function nj(t){return t!==null&&typeof t=="object"&&"type"in t}const EN=[],rj=!0,nA=!1,ij="skip";function sj(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const a=vN(s),u=r?-1:1;f(t,void 0,[])();function f(h,d,m){const _=h&&typeof h=="object"?h:{};if(typeof _.type=="string"){const E=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(E?"<"+E+">":""))+")"})}return v;function v(){let E=EN,A,R,O;if((!e||a(h,d,m[m.length-1]||void 0))&&(E=oj(n(h,m)),E[0]===nA))return E;if("children"in h&&h.children){const M=h;if(M.children&&E[0]!==ij)for(R=(r?M.children.length:-1)+u,O=m.concat(M);R>-1&&R<M.children.length;){const q=M.children[R];if(A=f(q,R,O)(),A[0]===nA)return A;R=typeof A[1]=="number"?A[1]:R+u}}return E}}}function oj(t){return Array.isArray(t)?t:typeof t=="number"?[rj,t]:t==null?EN:[t]}function wN(t,e,n,r){let s,a,u;typeof e=="function"&&typeof n!="function"?(a=void 0,u=e,s=n):(a=e,u=n,s=r),sj(t,a,f,s);function f(h,d){const m=d[d.length-1],_=m?m.children.indexOf(h):void 0;return u(h,_,m)}}const U_={}.hasOwnProperty,aj={};function lj(t,e){const n=e||aj,r=new Map,s=new Map,a=new Map,u={...qH,...n.handlers},f={all:d,applyData:cj,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:u,one:h,options:n,patch:uj,wrap:hj};return wN(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const _=m.type==="definition"?r:s,v=String(m.identifier).toUpperCase();_.has(v)||_.set(v,m)}}),f;function h(m,_){const v=m.type,E=f.handlers[v];if(U_.call(f.handlers,v)&&E)return E(f,m,_);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in m){const{children:R,...O}=m,M=rp(O);return M.children=f.all(m),M}return rp(m)}return(f.options.unknownHandler||fj)(f,m,_)}function d(m){const _=[];if("children"in m){const v=m.children;let E=-1;for(;++E<v.length;){const A=f.one(v[E],m);if(A){if(E&&v[E-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=rA(A.value)),!Array.isArray(A)&&A.type==="element")){const R=A.children[0];R&&R.type==="text"&&(R.value=rA(R.value))}Array.isArray(A)?_.push(...A):_.push(A)}}}return _}}function uj(t,e){t.position&&(e.position=GF(t))}function cj(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&a&&Object.assign(n.properties,rp(a)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function fj(t,e){const n=e.data||{},r="value"in e&&!(U_.call(n,"hProperties")||U_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function hj(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function rA(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function iA(t,e){const n=lj(t,e),r=n.one(t,void 0),s=WH(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:`
`},s),a}function dj(t,e){return t&&"run"in t?async function(n,r){const s=iA(n,{file:r,...e});await t.run(s,r)}:function(n,r){return iA(n,{file:r,...t||e})}}function sA(t){if(t)throw t}var Cy,oA;function pj(){if(oA)return Cy;oA=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},a=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),_=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!_)return!1;var v;for(v in d);return typeof v>"u"||t.call(d,v)},u=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},f=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return Cy=function h(){var d,m,_,v,E,A,R=arguments[0],O=1,M=arguments.length,q=!1;for(typeof R=="boolean"&&(q=R,R=arguments[1]||{},O=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});O<M;++O)if(d=arguments[O],d!=null)for(m in d)_=f(R,m),v=f(d,m),R!==v&&(q&&v&&(a(v)||(E=s(v)))?(E?(E=!1,A=_&&s(_)?_:[]):A=_&&a(_)?_:{},u(R,{name:m,newValue:h(q,A,v)})):typeof v<"u"&&u(R,{name:m,newValue:v}));return R},Cy}var mj=pj();const Ry=va(mj);function z_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function gj(){const t=[],e={run:n,use:r};return e;function n(...s){let a=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...s);function f(h,...d){const m=t[++a];let _=-1;if(h){u(h);return}for(;++_<s.length;)(d[_]===null||d[_]===void 0)&&(d[_]=s[_]);s=d,m?yj(m,f)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function yj(t,e){let n;return r;function r(...u){const f=t.length>u.length;let h;f&&u.push(s);try{h=t.apply(this,u)}catch(d){const m=d;if(f&&n)throw m;return s(m)}f||(h&&h.then&&typeof h.then=="function"?h.then(a,s):h instanceof Error?s(h):a(h))}function s(u,...f){n||(n=!0,e(u,...f))}function a(u){s(null,u)}}const bi={basename:_j,dirname:vj,extname:Ej,join:wj,sep:"/"};function _j(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Cf(t);let n=0,r=-1,s=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else r<0&&(a=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,f=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(a){n=s+1;break}}else u<0&&(a=!0,u=s+1),f>-1&&(t.codePointAt(s)===e.codePointAt(f--)?f<0&&(r=s):(f=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function vj(t){if(Cf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Ej(t){Cf(t);let e=t.length,n=-1,r=0,s=-1,a=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?s<0?s=e:a!==1&&(a=1):s>-1&&(a=-1)}return s<0||n<0||a===0||a===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function wj(...t){let e=-1,n;for(;++e<t.length;)Cf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":bj(n)}function bj(t){Cf(t);const e=t.codePointAt(0)===47;let n=Tj(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Tj(t,e){let n="",r=0,s=-1,a=0,u=-1,f,h;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(s===u-1||a===1))if(s!==u-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),s=u,a=0;continue}}else if(n.length>0){n="",r=0,s=u,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,a=0}else f===46&&a>-1?a++:a=-1}return n}function Cf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Sj={cwd:Aj};function Aj(){return"/"}function B_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function xj(t){if(typeof t=="string")t=new URL(t);else if(!B_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Cj(t)}function Cj(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Iy=["history","path","basename","stem","extname","dirname"];class bN{constructor(e){let n;e?B_(e)?n={path:e}:typeof e=="string"||Rj(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Sj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Iy.length;){const a=Iy[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let s;for(s in n)Iy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?bi.basename(this.path):void 0}set basename(e){ky(e,"basename"),Ny(e,"basename"),this.path=bi.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?bi.dirname(this.path):void 0}set dirname(e){aA(this.basename,"dirname"),this.path=bi.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?bi.extname(this.path):void 0}set extname(e){if(Ny(e,"extname"),aA(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bi.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){B_(e)&&(e=xj(e)),ky(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?bi.basename(this.path,this.extname):void 0}set stem(e){ky(e,"stem"),Ny(e,"stem"),this.path=bi.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Bn(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ny(t,e){if(t&&t.includes(bi.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+bi.sep+"`")}function ky(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function aA(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Rj(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ij=function(t){const r=this.constructor.prototype,s=r[t],a=function(){return s.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Nj={}.hasOwnProperty;class w0 extends Ij{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=gj()}copy(){const e=new w0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Ry(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(My("data",this.frozen),this.namespace[e]=n,this):Nj.call(this.namespace,e)&&this.namespace[e]||void 0:e?(My("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ud(e),r=this.parser||this.Parser;return Dy("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Dy("process",this.parser||this.Parser),Oy("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(a,u){const f=ud(e),h=r.parse(f);r.run(h,f,function(m,_,v){if(m||!_||!v)return d(m);const E=_,A=r.stringify(E,v);Oj(A)?v.value=A:v.result=A,d(m,v)});function d(m,_){m||!_?u(m):a?a(_):n(void 0,_)}}}processSync(e){let n=!1,r;return this.freeze(),Dy("processSync",this.parser||this.Parser),Oy("processSync",this.compiler||this.Compiler),this.process(e,s),uA("processSync","process",n),r;function s(a,u){n=!0,sA(a),r=u}}run(e,n,r){lA(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(u,f){const h=ud(n);s.run(e,h,d);function d(m,_,v){const E=_||e;m?f(m):u?u(E):r(void 0,E,v)}}}runSync(e,n){let r=!1,s;return this.run(e,n,a),uA("runSync","run",r),s;function a(u,f){sA(u),s=f,r=!0}}stringify(e,n){this.freeze();const r=ud(n),s=this.compiler||this.Compiler;return Oy("stringify",s),lA(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(My("use",this.frozen),e!=null)if(typeof e=="function")h(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(d){if(typeof d=="function")h(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,..._]=d;h(m,_)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(s.settings=Ry(!0,s.settings,d.settings))}function f(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const _=d[m];a(_)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function h(d,m){let _=-1,v=-1;for(;++_<r.length;)if(r[_][0]===d){v=_;break}if(v===-1)r.push([d,...m]);else if(m.length>0){let[E,...A]=m;const R=r[v][1];z_(R)&&z_(E)&&(E=Ry(!0,R,E)),r[v]=[d,E,...A]}}}}const kj=new w0().freeze();function Dy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Oy(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function My(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lA(t){if(!z_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function uA(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ud(t){return Dj(t)?t:new bN(t)}function Dj(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Oj(t){return typeof t=="string"||Mj(t)}function Mj(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Pj="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",cA=[],fA={allowDangerousHtml:!0},Vj=/^(https?|ircs?|mailto|xmpp)$/i,Lj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Uj(t){const e=zj(t),n=Bj(t);return Fj(e.runSync(e.parse(n),n),t)}function zj(t){const e=t.rehypePlugins||cA,n=t.remarkPlugins||cA,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...fA}:fA;return kj().use(_H).use(n).use(dj,r).use(e)}function Bj(t){const e=t.children||"",n=new bN;return typeof e=="string"&&(n.value=e),n}function Fj(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,a=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,h=e.urlTransform||Hj;for(const m of Lj)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+Pj+m.id,void 0);return wN(t,d),WF(t,{Fragment:ne.Fragment,components:s,ignoreInvalidStyle:!0,jsx:ne.jsx,jsxs:ne.jsxs,passKeys:!0,passNode:!0});function d(m,_,v){if(m.type==="raw"&&v&&typeof _=="number")return u?v.children.splice(_,1):v.children[_]={type:"text",value:m.value},_;if(m.type==="element"){let E;for(E in Sy)if(Object.hasOwn(Sy,E)&&Object.hasOwn(m.properties,E)){const A=m.properties[E],R=Sy[E];(R===null||R.includes(m.tagName))&&(m.properties[E]=h(String(A||""),E,m))}}if(m.type==="element"){let E=n?!n.includes(m.tagName):a?a.includes(m.tagName):!1;if(!E&&r&&typeof _=="number"&&(E=!r(m,_,v)),E&&v&&typeof _=="number")return f&&m.children?v.children.splice(_,1,...m.children):v.children.splice(_,1),_}}}function Hj(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||Vj.test(t.slice(0,e))?t:""}function TN(t){return ne.jsxs(Si,{...t,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"explanation-modal",children:[ne.jsx(Si.Header,{closeButton:!0,children:ne.jsx(Si.Title,{id:"contained-modal-title-vcenter",children:t.title})}),ne.jsx(Si.Body,{children:ne.jsx("p",{children:ne.jsx(Uj,{children:t.text})})}),ne.jsx(Si.Footer,{children:ne.jsx("button",{onClick:t.onHide,className:"btn btn-secondary",children:"Close"})})]})}function jj({data:t,id:e}){const[n,r]=L.useState(!1),[s,a]=L.useState(t.summary||t.label||"Static Node"),[u,f]=L.useState(!1),[h,d]=L.useState(!1),[m,_]=L.useState(!1),{getNodes:v}=hf(),{handleTokenClick:E}=FI(),A=L.useMemo(()=>LI(s),[s]),R=L.useCallback(()=>!0,[]),O=L.useCallback((C,F)=>{F.stopPropagation(),console.log("Static Token clicked:",C);const z=v().find(x=>x.id===e);if(!z){console.error("Current node not found");return}E(C,e,z.position,z.type||"staticEditable",t.myColor)},[e,v,E,t.myColor]),M=L.useCallback(C=>{C.stopPropagation(),r(!0)},[]),q=L.useCallback(()=>{r(!1)},[]),$=L.useCallback(C=>{C.stopPropagation()},[]),H=L.useCallback(C=>{C.stopPropagation(),C.key==="Enter"&&q(),C.key==="Escape"&&(a(t.summary||t.label||"Static Node"),r(!1))},[q,t.summary,t.label]),Q=L.useCallback(C=>{C.stopPropagation(),d(!h)},[h]),j=L.useCallback(C=>{C.stopPropagation(),_(!0)},[]),V=L.useCallback(()=>{_(!1)},[]),I=L.useMemo(()=>n?ne.jsx("input",{type:"text",value:s,onChange:C=>a(C.target.value),onBlur:q,onKeyDown:H,onClick:$,className:"node-input nodrag",autoFocus:!0}):ne.jsxs("div",{className:"node-content-word",children:[ne.jsxs("div",{onClick:M,children:[A.map((C,F)=>{const D=R();return ne.jsxs("span",{className:`word-token ${D?"":"disabled"}`,style:{cursor:D?"pointer":"default",padding:"1px 3px",borderRadius:"4px",margin:"1px",display:"inline-block",opacity:D?1:.7,border:C.myConcept?"2px solid #4A90E2":void 0},onClick:z=>D?O(C,z):z.stopPropagation(),children:[C.word,F<A.length-1?" ":""]},F)}),A.length>5&&!h&&ne.jsx("span",{children:"..."})]}),ne.jsxs("div",{className:"node-buttons",children:[A.length>5&&ne.jsx("button",{className:"node-expand-btn",onClick:Q,title:h?"Show less":"Show more",children:h?"−":"+"}),ne.jsx("button",{className:"node-expand-btn",onClick:j,title:"Show full text",style:{marginLeft:A.length>5?"5px":"0"},children:"📄"})]})]}),[n,s,h,A,M,q,H,$,Q,j,O,R]);return ne.jsxs("div",{className:"static-editable-node nodrag",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{backgroundColor:t.myColor,color:t.myColor?UI(t.myColor):void 0,border:t.myColor?`2px solid ${zI(t.myColor,20)}`:void 0},children:[ne.jsx(fa,{type:"target",position:ke.Bottom,id:"bottom"}),u&&ne.jsx("div",{className:"node-tooltip",children:ne.jsxs("div",{className:"tooltip-content",children:[ne.jsx("span",{children:"📍 Static Node"}),ne.jsx("span",{children:"Click to edit text"}),ne.jsx("span",{children:"Click words to create connections"})]})}),I,ne.jsx(fa,{type:"source",position:ke.Bottom,id:"bottom-source"}),ne.jsx(TN,{show:m,title:s,text:t.full_text||"No detailed information available.",onHide:V})]})}function qj({data:t,id:e}){const[n,r]=L.useState(!1),[s,a]=L.useState(t.summary||t.label||"Draggable Node"),[u,f]=L.useState(!1),[h,d]=L.useState(t.expanded||!1),[m,_]=L.useState(!1),{getNodes:v}=hf(),{handleTokenClick:E}=FI(),A=L.useMemo(()=>LI(s),[s]),R=L.useMemo(()=>h||A.length<=5?A:A.slice(0,5),[A,h]),O=L.useCallback(()=>!0,[]),M=L.useCallback((D,z)=>{z.stopPropagation();const k=v().find(U=>U.id===e);return k?E(D,e,k.position,k.type||"draggableEditable",t.myColor):void 0},[e,v,E,t.myColor]),q=L.useCallback(D=>{D.stopPropagation(),r(!0)},[]),$=L.useCallback(()=>{r(!1)},[]),H=L.useCallback(D=>{D.stopPropagation()},[]),Q=L.useCallback(D=>{D.stopPropagation(),D.key==="Enter"&&$(),D.key==="Escape"&&(a(t.summary||t.label||"Draggable Node"),r(!1))},[$,t.summary,t.label]),j=L.useCallback(D=>{D.stopPropagation(),d(!h),!h&&t.onExpand&&t.onExpand()},[h,t.onExpand]),V=L.useCallback(D=>{D.stopPropagation(),_(!0)},[]),I=L.useCallback(()=>{_(!1)},[]),C=L.useMemo(()=>{const D={};return R.forEach(z=>{const x=z.myConcept||z.word;D[x]||(D[x]=[]),D[x].push(z)}),D},[R]),F=L.useMemo(()=>n?ne.jsx("input",{type:"text",value:s,onChange:D=>a(D.target.value),onBlur:$,onKeyDown:Q,onClick:H,className:"node-input nodrag",autoFocus:!0}):ne.jsxs("div",{className:"node-content-word",children:[ne.jsxs("div",{onClick:q,children:[R.map((D,z)=>{const x=O();return ne.jsxs("span",{className:`word-token ${x?"":"disabled"}`,style:{cursor:x?"pointer":"default",padding:"1px 3px",borderRadius:"4px",margin:"1px",display:"inline-block",opacity:x?1:.7,border:D.myConcept?"2px solid #4A90E2":void 0},onClick:k=>x?M(D,k):k.stopPropagation(),children:[D.word,z<R.length-1?" ":""]},z)}),A.length>5&&!h&&ne.jsx("span",{children:"..."})]}),ne.jsxs("div",{className:"node-buttons",children:[A.length>5&&ne.jsx("button",{className:"node-expand-btn",onClick:j,title:h?"Show less":"Show more",children:h?"−":"+"}),ne.jsx("button",{className:"node-expand-btn",onClick:V,title:"Show full text",style:{marginLeft:A.length>5?"5px":"0"},children:"📄"})]})]}),[n,s,R,A,h,C,q,$,Q,H,j,V,M,O]);return ne.jsxs("div",{className:"draggable-editable-node",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{background:t.myColor,color:t.myColor?UI(t.myColor):void 0,border:t.myColor?`2px solid ${zI(t.myColor,20)}`:void 0},children:[u&&ne.jsx("div",{className:"node-tooltip",children:ne.jsxs("div",{className:"tooltip-content",children:[ne.jsx("span",{children:"🎯 Draggable Node"}),ne.jsx("span",{children:"Drag me around!"}),ne.jsx("span",{children:"Click to edit text"}),ne.jsx("span",{children:"Click words to create connections"})]})}),ne.jsx("div",{className:"node-content",children:F}),ne.jsx(fa,{type:"source",position:ke.Bottom,id:"bottom-source"}),ne.jsx(TN,{show:m,title:s,text:t.full_text||"No detailed information available.",onHide:I})]})}const $j={staticEditable:jj,draggableEditable:qj};function Gj(){const{user:t,signOut:e}=aF(),{notifications:n,removeNotification:r,showSuccess:s,showError:a,showInfo:u}=mF(),{nodes:f,edges:h,allBoards:d,currentBoard:m,isSwitchingBoard:_,isSaving:v,onNodesChange:E,onEdgesChange:A,switchToBoard:R,createNewBoard:O,deleteBoard:M,updateBoardName:q,clearBoardState:$}=dF(t,{showSuccess:s,showError:a,showInfo:u});pF({allBoards:d,currentBoard:m,createNewBoard:O,switchToBoard:R});const H=async()=>{await e(),$()},Q=L.useCallback(j=>{const V={id:`e${j.source}-${j.target}`,source:j.source,target:j.target,sourceHandle:j.sourceHandle,targetHandle:j.targetHandle};A([{type:"add",item:V}])},[A]);return t?ne.jsxs(ne.Fragment,{children:[ne.jsx(nF,{allBoards:d,currentBoard:m,onSwitchBoard:R,onCreateBoard:async j=>{await O(j)},onDeleteBoard:M,onSignOut:H,isLoading:_}),ne.jsx(rF,{name:m?.name||"Loading...",onSetName:q,user:t,isSaving:v}),ne.jsx(sF,{notifications:n,onRemove:r}),ne.jsx("div",{style:{width:"100vw",height:"100vh"},children:ne.jsx(bF,{nodes:f,onNodesChange:E,onEdgesChange:A,children:ne.jsxs(Ox,{nodes:f,edges:h,onNodesChange:E,onEdgesChange:A,onConnect:Q,nodeTypes:$j,connectionMode:co.Loose,fitView:!0,children:[ne.jsx(J4,{}),ne.jsx(G4,{}),ne.jsx(sV,{variant:Hr.Cross,gap:12,size:1})]})})})]}):ne.jsx(xz,{})}function Yj(){return ne.jsx(Gj,{})}const SN=document.getElementById("root");if(!SN)throw new Error("Failed to find the root element");rk.createRoot(SN).render(ne.jsx(L.StrictMode,{children:ne.jsx(Yj,{})}));
