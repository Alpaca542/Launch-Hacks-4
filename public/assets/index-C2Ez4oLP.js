(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Tu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hE={exports:{}},fh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS;function H6(){if(FS)return fh;FS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return fh.Fragment=e,fh.jsx=n,fh.jsxs=n,fh}var HS;function z6(){return HS||(HS=1,hE.exports=H6()),hE.exports}var te=z6(),fE={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zS;function j6(){if(zS)return ot;zS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),E=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function k(S,J,oe){this.props=S,this.context=J,this.refs=N,this.updater=oe||b}k.prototype.isReactComponent={},k.prototype.setState=function(S,J){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,J,"setState")},k.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function D(){}D.prototype=k.prototype;function H(S,J,oe){this.props=S,this.context=J,this.refs=N,this.updater=oe||b}var Y=H.prototype=new D;Y.constructor=H,A(Y,k.prototype),Y.isPureReactComponent=!0;var z=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function R(S,J,oe,P,pe,Ne){return oe=Ne.ref,{$$typeof:t,type:S,key:J,ref:oe!==void 0?oe:null,props:Ne}}function x(S,J){return R(S.type,J,void 0,void 0,void 0,S.props)}function O(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function M(S){var J={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(oe){return J[oe]})}var B=/\/+/g;function U(S,J){return typeof S=="object"&&S!==null&&S.key!=null?M(""+S.key):J.toString(36)}function I(){}function L(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(I,I):(S.status="pending",S.then(function(J){S.status==="pending"&&(S.status="fulfilled",S.value=J)},function(J){S.status==="pending"&&(S.status="rejected",S.reason=J)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function K(S,J,oe,P,pe){var Ne=typeof S;(Ne==="undefined"||Ne==="boolean")&&(S=null);var Ce=!1;if(S===null)Ce=!0;else switch(Ne){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(S.$$typeof){case t:case e:Ce=!0;break;case m:return Ce=S._init,K(Ce(S._payload),J,oe,P,pe)}}if(Ce)return pe=pe(S),Ce=P===""?"."+U(S,0):P,z(pe)?(oe="",Ce!=null&&(oe=Ce.replace(B,"$&/")+"/"),K(pe,J,oe,"",function(Le){return Le})):pe!=null&&(O(pe)&&(pe=x(pe,oe+(pe.key==null||S&&S.key===pe.key?"":(""+pe.key).replace(B,"$&/")+"/")+Ce)),J.push(pe)),1;Ce=0;var He=P===""?".":P+":";if(z(S))for(var Se=0;Se<S.length;Se++)P=S[Se],Ne=He+U(P,Se),Ce+=K(P,J,oe,Ne,pe);else if(Se=_(S),typeof Se=="function")for(S=Se.call(S),Se=0;!(P=S.next()).done;)P=P.value,Ne=He+U(P,Se++),Ce+=K(P,J,oe,Ne,pe);else if(Ne==="object"){if(typeof S.then=="function")return K(L(S),J,oe,P,pe);throw J=String(S),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function V(S,J,oe){if(S==null)return S;var P=[],pe=0;return K(S,P,"","",function(Ne){return J.call(oe,Ne,pe++)}),P}function Q(S){if(S._status===-1){var J=S._result;J=J(),J.then(function(oe){(S._status===0||S._status===-1)&&(S._status=1,S._result=oe)},function(oe){(S._status===0||S._status===-1)&&(S._status=2,S._result=oe)}),S._status===-1&&(S._status=0,S._result=J)}if(S._status===1)return S._result.default;throw S._result}var re=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ie(){}return ot.Children={map:V,forEach:function(S,J,oe){V(S,function(){J.apply(this,arguments)},oe)},count:function(S){var J=0;return V(S,function(){J++}),J},toArray:function(S){return V(S,function(J){return J})||[]},only:function(S){if(!O(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ot.Component=k,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=H,ot.StrictMode=r,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,ot.__COMPILER_RUNTIME={__proto__:null,c:function(S){return ee.H.useMemoCache(S)}},ot.cache=function(S){return function(){return S.apply(null,arguments)}},ot.cloneElement=function(S,J,oe){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var P=A({},S.props),pe=S.key,Ne=void 0;if(J!=null)for(Ce in J.ref!==void 0&&(Ne=void 0),J.key!==void 0&&(pe=""+J.key),J)!$.call(J,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&J.ref===void 0||(P[Ce]=J[Ce]);var Ce=arguments.length-2;if(Ce===1)P.children=oe;else if(1<Ce){for(var He=Array(Ce),Se=0;Se<Ce;Se++)He[Se]=arguments[Se+2];P.children=He}return R(S.type,pe,void 0,void 0,Ne,P)},ot.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},ot.createElement=function(S,J,oe){var P,pe={},Ne=null;if(J!=null)for(P in J.key!==void 0&&(Ne=""+J.key),J)$.call(J,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(pe[P]=J[P]);var Ce=arguments.length-2;if(Ce===1)pe.children=oe;else if(1<Ce){for(var He=Array(Ce),Se=0;Se<Ce;Se++)He[Se]=arguments[Se+2];pe.children=He}if(S&&S.defaultProps)for(P in Ce=S.defaultProps,Ce)pe[P]===void 0&&(pe[P]=Ce[P]);return R(S,Ne,void 0,void 0,null,pe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(S){return{$$typeof:c,render:S}},ot.isValidElement=O,ot.lazy=function(S){return{$$typeof:m,_payload:{_status:-1,_result:S},_init:Q}},ot.memo=function(S,J){return{$$typeof:d,type:S,compare:J===void 0?null:J}},ot.startTransition=function(S){var J=ee.T,oe={};ee.T=oe;try{var P=S(),pe=ee.S;pe!==null&&pe(oe,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ie,re)}catch(Ne){re(Ne)}finally{ee.T=J}},ot.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},ot.use=function(S){return ee.H.use(S)},ot.useActionState=function(S,J,oe){return ee.H.useActionState(S,J,oe)},ot.useCallback=function(S,J){return ee.H.useCallback(S,J)},ot.useContext=function(S){return ee.H.useContext(S)},ot.useDebugValue=function(){},ot.useDeferredValue=function(S,J){return ee.H.useDeferredValue(S,J)},ot.useEffect=function(S,J,oe){var P=ee.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(S,J)},ot.useId=function(){return ee.H.useId()},ot.useImperativeHandle=function(S,J,oe){return ee.H.useImperativeHandle(S,J,oe)},ot.useInsertionEffect=function(S,J){return ee.H.useInsertionEffect(S,J)},ot.useLayoutEffect=function(S,J){return ee.H.useLayoutEffect(S,J)},ot.useMemo=function(S,J){return ee.H.useMemo(S,J)},ot.useOptimistic=function(S,J){return ee.H.useOptimistic(S,J)},ot.useReducer=function(S,J,oe){return ee.H.useReducer(S,J,oe)},ot.useRef=function(S){return ee.H.useRef(S)},ot.useState=function(S){return ee.H.useState(S)},ot.useSyncExternalStore=function(S,J,oe){return ee.H.useSyncExternalStore(S,J,oe)},ot.useTransition=function(){return ee.H.useTransition()},ot.version="19.1.0",ot}var jS;function bf(){return jS||(jS=1,fE.exports=j6()),fE.exports}var j=bf();const ye=Tu(j);var dE={exports:{}},dh={},mE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function q6(){return qS||(qS=1,function(t){function e(V,Q){var re=V.length;V.push(Q);e:for(;0<re;){var ie=re-1>>>1,S=V[ie];if(0<s(S,Q))V[ie]=Q,V[re]=S,re=ie;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],re=V.pop();if(re!==Q){V[0]=re;e:for(var ie=0,S=V.length,J=S>>>1;ie<J;){var oe=2*(ie+1)-1,P=V[oe],pe=oe+1,Ne=V[pe];if(0>s(P,re))pe<S&&0>s(Ne,P)?(V[ie]=Ne,V[pe]=re,ie=pe):(V[ie]=P,V[oe]=re,ie=oe);else if(pe<S&&0>s(Ne,re))V[ie]=Ne,V[pe]=re,ie=pe;else break e}}return Q}function s(V,Q){var re=V.sortIndex-Q.sortIndex;return re!==0?re:V.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],d=[],m=1,E=null,_=3,b=!1,A=!1,N=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function z(V){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=V)r(d),Q.sortIndex=Q.expirationTime,e(f,Q);else break;Q=n(d)}}function ee(V){if(N=!1,z(V),!A)if(n(f)!==null)A=!0,$||($=!0,U());else{var Q=n(d);Q!==null&&K(ee,Q.startTime-V)}}var $=!1,R=-1,x=5,O=-1;function M(){return k?!0:!(t.unstable_now()-O<x)}function B(){if(k=!1,$){var V=t.unstable_now();O=V;var Q=!0;try{e:{A=!1,N&&(N=!1,H(R),R=-1),b=!0;var re=_;try{t:{for(z(V),E=n(f);E!==null&&!(E.expirationTime>V&&M());){var ie=E.callback;if(typeof ie=="function"){E.callback=null,_=E.priorityLevel;var S=ie(E.expirationTime<=V);if(V=t.unstable_now(),typeof S=="function"){E.callback=S,z(V),Q=!0;break t}E===n(f)&&r(f),z(V)}else r(f);E=n(f)}if(E!==null)Q=!0;else{var J=n(d);J!==null&&K(ee,J.startTime-V),Q=!1}}break e}finally{E=null,_=re,b=!1}Q=void 0}}finally{Q?U():$=!1}}}var U;if(typeof Y=="function")U=function(){Y(B)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=B,U=function(){L.postMessage(null)}}else U=function(){D(B,0)};function K(V,Q){R=D(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(V){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var re=_;_=Q;try{return V()}finally{_=re}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=_;_=V;try{return Q()}finally{_=re}},t.unstable_scheduleCallback=function(V,Q,re){var ie=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ie+re:ie):re=ie,V){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=re+S,V={id:m++,callback:Q,priorityLevel:V,startTime:re,expirationTime:S,sortIndex:-1},re>ie?(V.sortIndex=re,e(d,V),n(f)===null&&V===n(d)&&(N?(H(R),R=-1):N=!0,K(ee,re-ie))):(V.sortIndex=S,e(f,V),A||b||(A=!0,$||($=!0,U()))),V},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(V){var Q=_;return function(){var re=_;_=Q;try{return V.apply(this,arguments)}finally{_=re}}}}(pE)),pE}var YS;function Y6(){return YS||(YS=1,mE.exports=q6()),mE.exports}var gE={exports:{}},Ar={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function $6(){if($S)return Ar;$S=1;var t=bf();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,m){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:f,containerInfo:d,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ar.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ar.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Ar.flushSync=function(f){var d=u.T,m=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=m,r.d.f()}},Ar.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Ar.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ar.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,E=c(m,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:E,integrity:_,fetchPriority:b}):m==="script"&&r.d.X(f,{crossOrigin:E,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ar.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Ar.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,E=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ar.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Ar.requestFormReset=function(f){r.d.r(f)},Ar.unstable_batchedUpdates=function(f,d){return f(d)},Ar.useFormState=function(f,d,m){return u.H.useFormState(f,d,m)},Ar.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ar.version="19.1.0",Ar}var GS;function cC(){if(GS)return gE.exports;GS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gE.exports=$6(),gE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function G6(){if(KS)return dh;KS=1;var t=Y6(),e=bf(),n=cC();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return c(g),i;if(y===h)return c(g),a;y=y.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=y;else{for(var C=!1,F=g.child;F;){if(F===l){C=!0,l=g,h=y;break}if(F===h){C=!0,h=g,l=y;break}F=F.sibling}if(!C){for(F=y.child;F;){if(F===l){C=!0,l=y,h=g;break}if(F===h){C=!0,h=y,l=g;break}F=F.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function L(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case ee:return"Suspense";case $:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case H:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return a=i.displayName||null,a!==null?a:L(i.type)||"Memo";case x:a=i._payload,i=i._init;try{return L(i(a))}catch{}}return null}var K=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ie=[],S=-1;function J(i){return{current:i}}function oe(i){0>S||(i.current=ie[S],ie[S]=null,S--)}function P(i,a){S++,ie[S]=i.current,i.current=a}var pe=J(null),Ne=J(null),Ce=J(null),He=J(null);function Se(i,a){switch(P(Ce,a),P(Ne,i),P(pe,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?mS(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=mS(a),i=pS(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(pe),P(pe,i)}function Le(){oe(pe),oe(Ne),oe(Ce)}function Pe(i){i.memoizedState!==null&&P(He,i);var a=pe.current,l=pS(a,i.type);a!==l&&(P(Ne,i),P(pe,l))}function Qe(i){Ne.current===i&&(oe(pe),oe(Ne)),He.current===i&&(oe(He),oh._currentValue=re)}var Rt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Dt=t.unstable_cancelCallback,Ge=t.unstable_shouldYield,cn=t.unstable_requestPaint,Ke=t.unstable_now,qe=t.unstable_getCurrentPriorityLevel,nn=t.unstable_ImmediatePriority,Cn=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,Mn=t.unstable_LowPriority,xn=t.unstable_IdlePriority,dn=t.log,jn=t.unstable_setDisableYieldValue,ae=null,Te=null;function Ue(i){if(typeof dn=="function"&&jn(i),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(ae,i)}catch{}}var Ye=Math.clz32?Math.clz32:jt,lt=Math.log,vt=Math.LN2;function jt(i){return i>>>=0,i===0?32:31-(lt(i)/vt|0)|0}var qt=256,Yt=4194304;function St(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ct(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var F=h&134217727;return F!==0?(h=F&~y,h!==0?g=St(h):(C&=F,C!==0?g=St(C):l||(l=F&~i,l!==0&&(g=St(l))))):(F=h&~y,F!==0?g=St(F):C!==0?g=St(C):l||(l=h&~i,l!==0&&(g=St(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function en(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Xt(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gi(){var i=qt;return qt<<=1,(qt&4194048)===0&&(qt=256),i}function br(){var i=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),i}function qn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Dr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vr(i,a,l,h,g,y){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var F=i.entanglements,Z=i.expirationTimes,fe=i.hiddenUpdates;for(l=C&~l;0<l;){var be=31-Ye(l),Ae=1<<be;F[be]=0,Z[be]=-1;var de=fe[be];if(de!==null)for(fe[be]=null,be=0;be<de.length;be++){var me=de[be];me!==null&&(me.lane&=-536870913)}l&=~Ae}h!==0&&Yr(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(C&~a))}function Yr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Ye(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function Fs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-Ye(l),g=1<<h;g&a|i[h]&a&&(i[h]|=a),l&=~g}}function si(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ki(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function kr(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:LS(i.type))}function ai(i,a){var l=Q.p;try{return Q.p=i,a()}finally{Q.p=l}}var Qt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Qt,mn="__reactProps$"+Qt,bn="__reactContainer$"+Qt,ls="__reactEvents$"+Qt,xo="__reactListeners$"+Qt,Lr="__reactHandles$"+Qt,cs="__reactResources$"+Qt,wi="__reactMarker$"+Qt;function oi(i){delete i[Bt],delete i[mn],delete i[ls],delete i[xo],delete i[Lr]}function Mr(i){var a=i[Bt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[bn]||l[Bt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=_S(i);i!==null;){if(l=i[Bt])return l;i=_S(i)}return a}i=l,l=i.parentNode}return null}function Zn(i){if(i=i[Bt]||i[bn]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Pr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Yn(i){var a=i[cs];return a||(a=i[cs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ne(i){i[wi]=!0}var ge=new Set,Oe={};function Be(i,a){gt(i,a),gt(i+"Capture",a)}function gt(i,a){for(Oe[i]=a,i=0;i<a.length;i++)ge.add(a[i])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$t={},Ut={};function Jn(i){return Rt.call(Ut,i)?!0:Rt.call($t,i)?!1:it.test(i)?Ut[i]=!0:($t[i]=!0,!1)}function Vt(i,a,l){if(Jn(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function kt(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Ft(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}var Pn,vn;function Rn(i){if(Pn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Pn=a&&a[1]||"",vn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pn+i+vn}var Br=!1;function Ur(i,a){if(!i||Br)return"";Br=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(me){var de=me}Reflect.construct(i,[],Ae)}else{try{Ae.call()}catch(me){de=me}i.call(Ae.prototype)}}else{try{throw Error()}catch(me){de=me}(Ae=i())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),C=y[0],F=y[1];if(C&&F){var Z=C.split(`
`),fe=F.split(`
`);for(g=h=0;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;for(;g<fe.length&&!fe[g].includes("DetermineComponentFrameRoot");)g++;if(h===Z.length||g===fe.length)for(h=Z.length-1,g=fe.length-1;1<=h&&0<=g&&Z[h]!==fe[g];)g--;for(;1<=h&&0<=g;h--,g--)if(Z[h]!==fe[g]){if(h!==1||g!==1)do if(h--,g--,0>g||Z[h]!==fe[g]){var be=`
`+Z[h].replace(" at new "," at ");return i.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",i.displayName)),be}while(1<=h&&0<=g);break}}}finally{Br=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Rn(l):""}function Ii(i){switch(i.tag){case 26:case 27:case 5:return Rn(i.type);case 16:return Rn("Lazy");case 13:return Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return Ur(i.type,!1);case 11:return Ur(i.type.render,!1);case 1:return Ur(i.type,!0);case 31:return Rn("Activity");default:return""}}function Ci(i){try{var a="";do a+=Ii(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function er(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ro(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yc(i){var a=Ro(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){h=""+C,y.call(this,C)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function At(i){i._valueTracker||(i._valueTracker=yc(i))}function bt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Ro(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xi=/[\n"\\]/g;function pn(i){return i.replace(xi,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function rn(i,a,l,h,g,y,C,F){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),a!=null?C==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+er(a)):i.value!==""+er(a)&&(i.value=""+er(a)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),a!=null?hr(i,C,er(a)):l!=null?hr(i,C,er(l)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+er(F):i.removeAttribute("name")}function cr(i,a,l,h,g,y,C,F){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+er(l):"",a=a!=null?""+er(a):l,F||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=F?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function hr(i,a,l){a==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Vr(i,a,l,h){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+er(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function xt(i,a,l){if(a!=null&&(a=""+er(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+er(l):""}function Xi(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(K(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=er(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function fr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Fr.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function hs(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&l[g]!==h&&Oo(i,g,h)}else for(var y in a)a.hasOwnProperty(y)&&Oo(i,y,a[y])}function Hs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(i){return Sa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var $r=null;function dr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var js=null,qs=null;function _c(i){var a=Zn(i);if(a&&(i=a.stateNode)){var l=i[mn]||null;e:switch(i=a.stateNode,a.type){case"input":if(rn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+pn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var g=h[mn]||null;if(!g)throw Error(r(90));rn(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&bt(h)}break e;case"textarea":xt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Vr(i,!!l.multiple,a,!1)}}}var fs=!1;function Yf(i,a,l){if(fs)return i(a,l);fs=!0;try{var h=i(a);return h}finally{if(fs=!1,(js!==null||qs!==null)&&(Ud(),js&&(a=js,i=qs,qs=js=null,_c(a),i)))for(a=0;a<i.length;a++)_c(i[a])}}function Do(i,a){var l=i.stateNode;if(l===null)return null;var h=l[mn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=!1;if(Qi)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Ri=!1}var ds=null,Aa=null,Ys=null;function Tc(){if(Ys)return Ys;var i,a=Aa,l=a.length,h,g="value"in ds?ds.value:ds.textContent,y=g.length;for(i=0;i<l&&a[i]===g[i];i++);var C=l-i;for(h=1;h<=C&&a[l-h]===g[y-h];h++);return Ys=g.slice(i,1<h?1-h:void 0)}function ms(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ps(){return!0}function bc(){return!1}function tr(i){function a(l,h,g,y,C){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(l=i[F],this[F]=l?l(y):y[F]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ps:bc,this.isPropagationStopped=bc,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),a}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=tr(Ht),Lo=m({},Ht,{view:0,detail:0}),$f=tr(Lo),Ru,Ou,gs,Mo=m({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gs&&(gs&&i.type==="mousemove"?(Ru=i.screenX-gs.screenX,Ou=i.screenY-gs.screenY):Ou=Ru=0,gs=i),Ru)},movementY:function(i){return"movementY"in i?i.movementY:Ou}}),Oi=tr(Mo),Gf=m({},Mo,{dataTransfer:0}),_0=tr(Gf),Po=m({},Lo,{relatedTarget:0}),Du=tr(Po),vc=m({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=tr(vc),Kf=m({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Lu=tr(Kf),T0=m({},Ht,{data:0}),Sc=tr(T0),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ac(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Qf[i])?!!a[i]:!1}function Uo(){return Ac}var Wf=m({},Lo,{key:function(i){if(i.key){var a=Bo[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ms(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Xf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(i){return i.type==="keypress"?ms(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ms(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Mu=tr(Wf),Zf=m({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wc=tr(Zf),$s=m({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),Jf=tr($s),ed=m({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),td=tr(ed),nd=m({},Mo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Pu=tr(nd),Hr=m({},Ht,{newState:0,oldState:0}),rd=tr(Hr),id=[9,13,27,32],Es=Qi&&"CompositionEvent"in window,p=null;Qi&&"documentMode"in document&&(p=document.documentMode);var v=Qi&&"TextEvent"in window&&!p,w=Qi&&(!Es||p&&8<p&&11>=p),q=" ",le=!1;function Ee(i,a){switch(i){case"keyup":return id.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Me(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wt=!1;function $n(i,a){switch(i){case"compositionend":return Me(a);case"keypress":return a.which!==32?null:(le=!0,q);case"textInput":return i=a.data,i===q&&le?null:i;default:return null}}function It(i,a){if(wt)return i==="compositionend"||!Es&&Ee(i,a)?(i=Tc(),Ys=Aa=ds=null,wt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return w&&a.locale!=="ko"?null:a.data;default:return null}}var nr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!nr[i.type]:a==="textarea"}function Gs(i,a,l,h){js?qs?qs.push(h):qs=[h]:js=h,a=qd(a,"onChange"),0<a.length&&(l=new xu("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var mr=null,ys=null;function Ic(i){lS(i,0)}function sd(i){var a=Pr(i);if(bt(a))return i}function RT(i,a){if(i==="change")return a}var OT=!1;if(Qi){var b0;if(Qi){var v0="oninput"in document;if(!v0){var DT=document.createElement("div");DT.setAttribute("oninput","return;"),v0=typeof DT.oninput=="function"}b0=v0}else b0=!1;OT=b0&&(!document.documentMode||9<document.documentMode)}function kT(){mr&&(mr.detachEvent("onpropertychange",LT),ys=mr=null)}function LT(i){if(i.propertyName==="value"&&sd(ys)){var a=[];Gs(a,ys,i,dr(i)),Yf(Ic,a)}}function E3(i,a,l){i==="focusin"?(kT(),mr=a,ys=l,mr.attachEvent("onpropertychange",LT)):i==="focusout"&&kT()}function y3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return sd(ys)}function _3(i,a){if(i==="click")return sd(a)}function T3(i,a){if(i==="input"||i==="change")return sd(a)}function b3(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ui=typeof Object.is=="function"?Object.is:b3;function Cc(i,a){if(ui(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Rt.call(a,g)||!ui(i[g],a[g]))return!1}return!0}function MT(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function PT(i,a){var l=MT(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=MT(l)}}function BT(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?BT(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function UT(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ni(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ni(i.document)}return a}function S0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var v3=Qi&&"documentMode"in document&&11>=document.documentMode,Bu=null,A0=null,Nc=null,w0=!1;function VT(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;w0||Bu==null||Bu!==Ni(h)||(h=Bu,"selectionStart"in h&&S0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Nc&&Cc(Nc,h)||(Nc=h,h=qd(A0,"onSelect"),0<h.length&&(a=new xu("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Bu)))}function Vo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Uu={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionrun:Vo("Transition","TransitionRun"),transitionstart:Vo("Transition","TransitionStart"),transitioncancel:Vo("Transition","TransitionCancel"),transitionend:Vo("Transition","TransitionEnd")},I0={},FT={};Qi&&(FT=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function Fo(i){if(I0[i])return I0[i];if(!Uu[i])return i;var a=Uu[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in FT)return I0[i]=a[l];return i}var HT=Fo("animationend"),zT=Fo("animationiteration"),jT=Fo("animationstart"),S3=Fo("transitionrun"),A3=Fo("transitionstart"),w3=Fo("transitioncancel"),qT=Fo("transitionend"),YT=new Map,C0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");C0.push("scrollEnd");function Wi(i,a){YT.set(i,a),Be(a,[i])}var $T=new WeakMap;function Di(i,a){if(typeof i=="object"&&i!==null){var l=$T.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ci(a)},$T.set(i,a),a)}return{value:i,source:a,stack:Ci(a)}}var ki=[],Vu=0,N0=0;function ad(){for(var i=Vu,a=N0=Vu=0;a<i;){var l=ki[a];ki[a++]=null;var h=ki[a];ki[a++]=null;var g=ki[a];ki[a++]=null;var y=ki[a];if(ki[a++]=null,h!==null&&g!==null){var C=h.pending;C===null?g.next=g:(g.next=C.next,C.next=g),h.pending=g}y!==0&&GT(l,g,y)}}function od(i,a,l,h){ki[Vu++]=i,ki[Vu++]=a,ki[Vu++]=l,ki[Vu++]=h,N0|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function x0(i,a,l,h){return od(i,a,l,h),ud(i)}function Fu(i,a){return od(i,null,null,a),ud(i)}function GT(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&a!==null&&(g=31-Ye(l),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=l|536870912),y):null}function ud(i){if(50<Jc)throw Jc=0,Mg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Hu={};function I3(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(i,a,l,h){return new I3(i,a,l,h)}function R0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ks(i,a){var l=i.alternate;return l===null?(l=li(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function KT(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function ld(i,a,l,h,g,y){var C=0;if(h=i,typeof i=="function")R0(i)&&(C=1);else if(typeof i=="string")C=N6(i,l,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=li(31,l,a,g),i.elementType=O,i.lanes=y,i;case A:return Ho(l.children,g,y,a);case N:C=8,g|=24;break;case k:return i=li(12,l,a,g|2),i.elementType=k,i.lanes=y,i;case ee:return i=li(13,l,a,g),i.elementType=ee,i.lanes=y,i;case $:return i=li(19,l,a,g),i.elementType=$,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:case Y:C=10;break e;case H:C=9;break e;case z:C=11;break e;case R:C=14;break e;case x:C=16,h=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=li(C,l,a,g),a.elementType=i,a.type=h,a.lanes=y,a}function Ho(i,a,l,h){return i=li(7,i,h,a),i.lanes=l,i}function O0(i,a,l){return i=li(6,i,null,a),i.lanes=l,i}function D0(i,a,l){return a=li(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var zu=[],ju=0,cd=null,hd=0,Li=[],Mi=0,zo=null,Xs=1,Qs="";function jo(i,a){zu[ju++]=hd,zu[ju++]=cd,cd=i,hd=a}function XT(i,a,l){Li[Mi++]=Xs,Li[Mi++]=Qs,Li[Mi++]=zo,zo=i;var h=Xs;i=Qs;var g=32-Ye(h)-1;h&=~(1<<g),l+=1;var y=32-Ye(a)+g;if(30<y){var C=g-g%5;y=(h&(1<<C)-1).toString(32),h>>=C,g-=C,Xs=1<<32-Ye(a)+g|l<<g|h,Qs=y+i}else Xs=1<<y|l<<g|h,Qs=i}function k0(i){i.return!==null&&(jo(i,1),XT(i,1,0))}function L0(i){for(;i===cd;)cd=zu[--ju],zu[ju]=null,hd=zu[--ju],zu[ju]=null;for(;i===zo;)zo=Li[--Mi],Li[Mi]=null,Qs=Li[--Mi],Li[Mi]=null,Xs=Li[--Mi],Li[Mi]=null}var zr=null,Sn=null,Mt=!1,qo=null,_s=!1,M0=Error(r(519));function Yo(i){var a=Error(r(418,""));throw Oc(Di(a,i)),M0}function QT(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[Bt]=i,a[mn]=h,l){case"dialog":yt("cancel",a),yt("close",a);break;case"iframe":case"object":case"embed":yt("load",a);break;case"video":case"audio":for(l=0;l<th.length;l++)yt(th[l],a);break;case"source":yt("error",a);break;case"img":case"image":case"link":yt("error",a),yt("load",a);break;case"details":yt("toggle",a);break;case"input":yt("invalid",a),cr(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),At(a);break;case"select":yt("invalid",a);break;case"textarea":yt("invalid",a),Xi(a,h.value,h.defaultValue,h.children),At(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||dS(a.textContent,l)?(h.popover!=null&&(yt("beforetoggle",a),yt("toggle",a)),h.onScroll!=null&&yt("scroll",a),h.onScrollEnd!=null&&yt("scrollend",a),h.onClick!=null&&(a.onclick=Yd),a=!0):a=!1,a||Yo(i)}function WT(i){for(zr=i.return;zr;)switch(zr.tag){case 5:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:zr=zr.return}}function xc(i){if(i!==zr)return!1;if(!Mt)return WT(i),Mt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wg(i.type,i.memoizedProps)),l=!l),l&&Sn&&Yo(i),WT(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Sn=Ji(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Sn=null}}else a===27?(a=Sn,Fa(i.type)?(i=tE,tE=null,Sn=i):Sn=a):Sn=zr?Ji(i.stateNode.nextSibling):null;return!0}function Rc(){Sn=zr=null,Mt=!1}function ZT(){var i=qo;return i!==null&&(Xr===null?Xr=i:Xr.push.apply(Xr,i),qo=null),i}function Oc(i){qo===null?qo=[i]:qo.push(i)}var P0=J(null),$o=null,Ws=null;function wa(i,a,l){P(P0,a._currentValue),a._currentValue=l}function Zs(i){i._currentValue=P0.current,oe(P0)}function B0(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function U0(i,a,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var C=g.child;y=y.firstContext;e:for(;y!==null;){var F=y;y=g;for(var Z=0;Z<a.length;Z++)if(F.context===a[Z]){y.lanes|=l,F=y.alternate,F!==null&&(F.lanes|=l),B0(y.return,l,i),h||(C=null);break e}y=F.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,y=C.alternate,y!==null&&(y.lanes|=l),B0(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Dc(i,a,l,h){i=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var F=g.type;ui(g.pendingProps.value,C.value)||(i!==null?i.push(F):i=[F])}}else if(g===He.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(oh):i=[oh])}g=g.return}i!==null&&U0(a,i,l,h),a.flags|=262144}function fd(i){for(i=i.firstContext;i!==null;){if(!ui(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Go(i){$o=i,Ws=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sr(i){return JT($o,i)}function dd(i,a){return $o===null&&Go(i),JT(i,a)}function JT(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ws===null){if(i===null)throw Error(r(308));Ws=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ws=Ws.next=a;return l}var C3=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},N3=t.unstable_scheduleCallback,x3=t.unstable_NormalPriority,Kn={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function V0(){return{controller:new C3,data:new Map,refCount:0}}function kc(i){i.refCount--,i.refCount===0&&N3(x3,function(){i.controller.abort()})}var Lc=null,F0=0,qu=0,Yu=null;function R3(i,a){if(Lc===null){var l=Lc=[];F0=0,qu=zg(),Yu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return F0++,a.then(eb,eb),a}function eb(){if(--F0===0&&Lc!==null){Yu!==null&&(Yu.status="fulfilled");var i=Lc;Lc=null,qu=0,Yu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function O3(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var tb=V.S;V.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&R3(i,a),tb!==null&&tb(i,a)};var Ko=J(null);function H0(){var i=Ko.current;return i!==null?i:sn.pooledCache}function md(i,a){a===null?P(Ko,Ko.current):P(Ko,a.pool)}function nb(){var i=H0();return i===null?null:{parent:Kn._currentValue,pool:i}}var Mc=Error(r(460)),rb=Error(r(474)),pd=Error(r(542)),z0={then:function(){}};function ib(i){return i=i.status,i==="fulfilled"||i==="rejected"}function gd(){}function sb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(gd,gd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ob(i),i;default:if(typeof a.status=="string")a.then(gd,gd);else{if(i=sn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ob(i),i}throw Pc=a,Mc}}var Pc=null;function ab(){if(Pc===null)throw Error(r(459));var i=Pc;return Pc=null,i}function ob(i){if(i===Mc||i===pd)throw Error(r(483))}var Ia=!1;function j0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function q0(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ca(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Na(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Gt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=ud(i),GT(i,null,l),a}return od(i,h,a,l),ud(i)}function Bc(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Fs(i,l)}}function Y0(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=C:y=y.next=C,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var $0=!1;function Uc(){if($0){var i=Yu;if(i!==null)throw i}}function Vc(i,a,l,h){$0=!1;var g=i.updateQueue;Ia=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,F=g.shared.pending;if(F!==null){g.shared.pending=null;var Z=F,fe=Z.next;Z.next=null,C===null?y=fe:C.next=fe,C=Z;var be=i.alternate;be!==null&&(be=be.updateQueue,F=be.lastBaseUpdate,F!==C&&(F===null?be.firstBaseUpdate=fe:F.next=fe,be.lastBaseUpdate=Z))}if(y!==null){var Ae=g.baseState;C=0,be=fe=Z=null,F=y;do{var de=F.lane&-536870913,me=de!==F.lane;if(me?(Ct&de)===de:(h&de)===de){de!==0&&de===qu&&($0=!0),be!==null&&(be=be.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var tt=i,We=F;de=a;var Jt=l;switch(We.tag){case 1:if(tt=We.payload,typeof tt=="function"){Ae=tt.call(Jt,Ae,de);break e}Ae=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=We.payload,de=typeof tt=="function"?tt.call(Jt,Ae,de):tt,de==null)break e;Ae=m({},Ae,de);break e;case 2:Ia=!0}}de=F.callback,de!==null&&(i.flags|=64,me&&(i.flags|=8192),me=g.callbacks,me===null?g.callbacks=[de]:me.push(de))}else me={lane:de,tag:F.tag,payload:F.payload,callback:F.callback,next:null},be===null?(fe=be=me,Z=Ae):be=be.next=me,C|=de;if(F=F.next,F===null){if(F=g.shared.pending,F===null)break;me=F,F=me.next,me.next=null,g.lastBaseUpdate=me,g.shared.pending=null}}while(!0);be===null&&(Z=Ae),g.baseState=Z,g.firstBaseUpdate=fe,g.lastBaseUpdate=be,y===null&&(g.shared.lanes=0),Pa|=C,i.lanes=C,i.memoizedState=Ae}}function ub(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function lb(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ub(l[i],a)}var $u=J(null),Ed=J(0);function cb(i,a){i=sa,P(Ed,i),P($u,a),sa=i|a.baseLanes}function G0(){P(Ed,sa),P($u,$u.current)}function K0(){sa=Ed.current,oe($u),oe(Ed)}var xa=0,ht=null,Wt=null,Bn=null,yd=!1,Gu=!1,Xo=!1,_d=0,Fc=0,Ku=null,D3=0;function On(){throw Error(r(321))}function X0(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!ui(i[l],a[l]))return!1;return!0}function Q0(i,a,l,h,g,y){return xa=y,ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,V.H=i===null||i.memoizedState===null?Gb:Kb,Xo=!1,y=l(h,g),Xo=!1,Gu&&(y=fb(a,l,h,g)),hb(i),y}function hb(i){V.H=wd;var a=Wt!==null&&Wt.next!==null;if(xa=0,Bn=Wt=ht=null,yd=!1,Fc=0,Ku=null,a)throw Error(r(300));i===null||rr||(i=i.dependencies,i!==null&&fd(i)&&(rr=!0))}function fb(i,a,l,h){ht=i;var g=0;do{if(Gu&&(Ku=null),Fc=0,Gu=!1,25<=g)throw Error(r(301));if(g+=1,Bn=Wt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=V3,y=a(l,h)}while(Gu);return y}function k3(){var i=V.H,a=i.useState()[0];return a=typeof a.then=="function"?Hc(a):a,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(ht.flags|=1024),a}function W0(){var i=_d!==0;return _d=0,i}function Z0(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function J0(i){if(yd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}yd=!1}xa=0,Bn=Wt=ht=null,Gu=!1,Fc=_d=0,Ku=null}function Gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?ht.memoizedState=Bn=i:Bn=Bn.next=i,Bn}function Un(){if(Wt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var a=Bn===null?ht.memoizedState:Bn.next;if(a!==null)Bn=a,Wt=i;else{if(i===null)throw ht.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Bn===null?ht.memoizedState=Bn=i:Bn=Bn.next=i}return Bn}function eg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hc(i){var a=Fc;return Fc+=1,Ku===null&&(Ku=[]),i=sb(Ku,i,a),a=ht,(Bn===null?a.memoizedState:Bn.next)===null&&(a=a.alternate,V.H=a===null||a.memoizedState===null?Gb:Kb),i}function Td(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Hc(i);if(i.$$typeof===Y)return Sr(i)}throw Error(r(438,String(i)))}function tg(i){var a=null,l=ht.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=ht.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=eg(),ht.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=M;return a.index++,l}function Js(i,a){return typeof a=="function"?a(i):a}function bd(i){var a=Un();return ng(a,Wt,i)}function ng(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}a.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{a=g.next;var F=C=null,Z=null,fe=a,be=!1;do{var Ae=fe.lane&-536870913;if(Ae!==fe.lane?(Ct&Ae)===Ae:(xa&Ae)===Ae){var de=fe.revertLane;if(de===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ae===qu&&(be=!0);else if((xa&de)===de){fe=fe.next,de===qu&&(be=!0);continue}else Ae={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Z===null?(F=Z=Ae,C=y):Z=Z.next=Ae,ht.lanes|=de,Pa|=de;Ae=fe.action,Xo&&l(y,Ae),y=fe.hasEagerState?fe.eagerState:l(y,Ae)}else de={lane:Ae,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},Z===null?(F=Z=de,C=y):Z=Z.next=de,ht.lanes|=Ae,Pa|=Ae;fe=fe.next}while(fe!==null&&fe!==a);if(Z===null?C=y:Z.next=F,!ui(y,i.memoizedState)&&(rr=!0,be&&(l=Yu,l!==null)))throw l;i.memoizedState=y,i.baseState=C,i.baseQueue=Z,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function rg(i){var a=Un(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do y=i(y,C.action),C=C.next;while(C!==g);ui(y,a.memoizedState)||(rr=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,h]}function db(i,a,l){var h=ht,g=Un(),y=Mt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var C=!ui((Wt||g).memoizedState,l);C&&(g.memoizedState=l,rr=!0),g=g.queue;var F=gb.bind(null,h,g,i);if(zc(2048,8,F,[i]),g.getSnapshot!==a||C||Bn!==null&&Bn.memoizedState.tag&1){if(h.flags|=2048,Xu(9,vd(),pb.bind(null,h,g,l,a),null),sn===null)throw Error(r(349));y||(xa&124)!==0||mb(h,a,l)}return l}function mb(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=ht.updateQueue,a===null?(a=eg(),ht.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function pb(i,a,l,h){a.value=l,a.getSnapshot=h,Eb(a)&&yb(i)}function gb(i,a,l){return l(function(){Eb(a)&&yb(i)})}function Eb(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!ui(i,l)}catch{return!0}}function yb(i){var a=Fu(i,2);a!==null&&mi(a,i,2)}function ig(i){var a=Gr();if(typeof i=="function"){var l=i;if(i=l(),Xo){Ue(!0);try{l()}finally{Ue(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:i},a}function _b(i,a,l,h){return i.baseState=l,ng(i,Wt,typeof h=="function"?h:Js)}function L3(i,a,l,h,g){if(Ad(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};V.T!==null?l(!0):y.isTransition=!1,h(y),l=a.pending,l===null?(y.next=a.pending=y,Tb(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Tb(i,a){var l=a.action,h=a.payload,g=i.state;if(a.isTransition){var y=V.T,C={};V.T=C;try{var F=l(g,h),Z=V.S;Z!==null&&Z(C,F),bb(i,a,F)}catch(fe){sg(i,a,fe)}finally{V.T=y}}else try{y=l(g,h),bb(i,a,y)}catch(fe){sg(i,a,fe)}}function bb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){vb(i,a,h)},function(h){return sg(i,a,h)}):vb(i,a,l)}function vb(i,a,l){a.status="fulfilled",a.value=l,Sb(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Tb(i,l)))}function sg(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,Sb(a),a=a.next;while(a!==h)}i.action=null}function Sb(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Ab(i,a){return a}function wb(i,a){if(Mt){var l=sn.formState;if(l!==null){e:{var h=ht;if(Mt){if(Sn){t:{for(var g=Sn,y=_s;g.nodeType!==8;){if(!y){g=null;break t}if(g=Ji(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Sn=Ji(g.nextSibling),h=g.data==="F!";break e}}Yo(h)}h=!1}h&&(a=l[0])}}return l=Gr(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:a},l.queue=h,l=qb.bind(null,ht,h),h.dispatch=l,h=ig(!1),y=cg.bind(null,ht,!1,h.queue),h=Gr(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,l=L3.bind(null,ht,g,y,l),g.dispatch=l,h.memoizedState=i,[a,l,!1]}function Ib(i){var a=Un();return Cb(a,Wt,i)}function Cb(i,a,l){if(a=ng(i,a,Ab)[0],i=bd(Js)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Hc(a)}catch(C){throw C===Mc?pd:C}else h=a;a=Un();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(ht.flags|=2048,Xu(9,vd(),M3.bind(null,g,l),null)),[h,y,i]}function M3(i,a){i.action=a}function Nb(i){var a=Un(),l=Wt;if(l!==null)return Cb(a,l,i);Un(),a=a.memoizedState,l=Un();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function Xu(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=ht.updateQueue,a===null&&(a=eg(),ht.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function vd(){return{destroy:void 0,resource:void 0}}function xb(){return Un().memoizedState}function Sd(i,a,l,h){var g=Gr();h=h===void 0?null:h,ht.flags|=i,g.memoizedState=Xu(1|a,vd(),l,h)}function zc(i,a,l,h){var g=Un();h=h===void 0?null:h;var y=g.memoizedState.inst;Wt!==null&&h!==null&&X0(h,Wt.memoizedState.deps)?g.memoizedState=Xu(a,y,l,h):(ht.flags|=i,g.memoizedState=Xu(1|a,y,l,h))}function Rb(i,a){Sd(8390656,8,i,a)}function Ob(i,a){zc(2048,8,i,a)}function Db(i,a){return zc(4,2,i,a)}function kb(i,a){return zc(4,4,i,a)}function Lb(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Mb(i,a,l){l=l!=null?l.concat([i]):null,zc(4,4,Lb.bind(null,a,i),l)}function ag(){}function Pb(i,a){var l=Un();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&X0(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function Bb(i,a){var l=Un();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&X0(a,h[1]))return h[0];if(h=i(),Xo){Ue(!0);try{i()}finally{Ue(!1)}}return l.memoizedState=[h,a],h}function og(i,a,l){return l===void 0||(xa&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Fv(),ht.lanes|=i,Pa|=i,l)}function Ub(i,a,l,h){return ui(l,a)?l:$u.current!==null?(i=og(i,l,h),ui(i,a)||(rr=!0),i):(xa&42)===0?(rr=!0,i.memoizedState=l):(i=Fv(),ht.lanes|=i,Pa|=i,a)}function Vb(i,a,l,h,g){var y=Q.p;Q.p=y!==0&&8>y?y:8;var C=V.T,F={};V.T=F,cg(i,!1,a,l);try{var Z=g(),fe=V.S;if(fe!==null&&fe(F,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var be=O3(Z,h);jc(i,a,be,di(i))}else jc(i,a,h,di(i))}catch(Ae){jc(i,a,{then:function(){},status:"rejected",reason:Ae},di())}finally{Q.p=y,V.T=C}}function P3(){}function ug(i,a,l,h){if(i.tag!==5)throw Error(r(476));var g=Fb(i).queue;Vb(i,g,a,re,l===null?P3:function(){return Hb(i),l(h)})}function Fb(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:re},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Hb(i){var a=Fb(i).next.queue;jc(i,a,{},di())}function lg(){return Sr(oh)}function zb(){return Un().memoizedState}function jb(){return Un().memoizedState}function B3(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=di();i=Ca(l);var h=Na(a,i,l);h!==null&&(mi(h,a,l),Bc(h,a,l)),a={cache:V0()},i.payload=a;return}a=a.return}}function U3(i,a,l){var h=di();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ad(i)?Yb(a,l):(l=x0(i,a,l,h),l!==null&&(mi(l,i,h),$b(l,a,h)))}function qb(i,a,l){var h=di();jc(i,a,l,h)}function jc(i,a,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ad(i))Yb(a,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var C=a.lastRenderedState,F=y(C,l);if(g.hasEagerState=!0,g.eagerState=F,ui(F,C))return od(i,a,g,0),sn===null&&ad(),!1}catch{}finally{}if(l=x0(i,a,g,h),l!==null)return mi(l,i,h),$b(l,a,h),!0}return!1}function cg(i,a,l,h){if(h={lane:2,revertLane:zg(),action:h,hasEagerState:!1,eagerState:null,next:null},Ad(i)){if(a)throw Error(r(479))}else a=x0(i,l,h,2),a!==null&&mi(a,i,2)}function Ad(i){var a=i.alternate;return i===ht||a!==null&&a===ht}function Yb(i,a){Gu=yd=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function $b(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,Fs(i,l)}}var wd={readContext:Sr,use:Td,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On},Gb={readContext:Sr,use:Td,useCallback:function(i,a){return Gr().memoizedState=[i,a===void 0?null:a],i},useContext:Sr,useEffect:Rb,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Sd(4194308,4,Lb.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Sd(4194308,4,i,a)},useInsertionEffect:function(i,a){Sd(4,2,i,a)},useMemo:function(i,a){var l=Gr();a=a===void 0?null:a;var h=i();if(Xo){Ue(!0);try{i()}finally{Ue(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=Gr();if(l!==void 0){var g=l(a);if(Xo){Ue(!0);try{l(a)}finally{Ue(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=U3.bind(null,ht,i),[h.memoizedState,i]},useRef:function(i){var a=Gr();return i={current:i},a.memoizedState=i},useState:function(i){i=ig(i);var a=i.queue,l=qb.bind(null,ht,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:ag,useDeferredValue:function(i,a){var l=Gr();return og(l,i,a)},useTransition:function(){var i=ig(!1);return i=Vb.bind(null,ht,i.queue,!0,!1),Gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=ht,g=Gr();if(Mt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),sn===null)throw Error(r(349));(Ct&124)!==0||mb(h,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,Rb(gb.bind(null,h,y,i),[i]),h.flags|=2048,Xu(9,vd(),pb.bind(null,h,y,l,a),null),l},useId:function(){var i=Gr(),a=sn.identifierPrefix;if(Mt){var l=Qs,h=Xs;l=(h&~(1<<32-Ye(h)-1)).toString(32)+l,a=""+a+"R"+l,l=_d++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=D3++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:lg,useFormState:wb,useActionState:wb,useOptimistic:function(i){var a=Gr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=cg.bind(null,ht,!0,l),l.dispatch=a,[i,a]},useMemoCache:tg,useCacheRefresh:function(){return Gr().memoizedState=B3.bind(null,ht)}},Kb={readContext:Sr,use:Td,useCallback:Pb,useContext:Sr,useEffect:Ob,useImperativeHandle:Mb,useInsertionEffect:Db,useLayoutEffect:kb,useMemo:Bb,useReducer:bd,useRef:xb,useState:function(){return bd(Js)},useDebugValue:ag,useDeferredValue:function(i,a){var l=Un();return Ub(l,Wt.memoizedState,i,a)},useTransition:function(){var i=bd(Js)[0],a=Un().memoizedState;return[typeof i=="boolean"?i:Hc(i),a]},useSyncExternalStore:db,useId:zb,useHostTransitionStatus:lg,useFormState:Ib,useActionState:Ib,useOptimistic:function(i,a){var l=Un();return _b(l,Wt,i,a)},useMemoCache:tg,useCacheRefresh:jb},V3={readContext:Sr,use:Td,useCallback:Pb,useContext:Sr,useEffect:Ob,useImperativeHandle:Mb,useInsertionEffect:Db,useLayoutEffect:kb,useMemo:Bb,useReducer:rg,useRef:xb,useState:function(){return rg(Js)},useDebugValue:ag,useDeferredValue:function(i,a){var l=Un();return Wt===null?og(l,i,a):Ub(l,Wt.memoizedState,i,a)},useTransition:function(){var i=rg(Js)[0],a=Un().memoizedState;return[typeof i=="boolean"?i:Hc(i),a]},useSyncExternalStore:db,useId:zb,useHostTransitionStatus:lg,useFormState:Nb,useActionState:Nb,useOptimistic:function(i,a){var l=Un();return Wt!==null?_b(l,Wt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:tg,useCacheRefresh:jb},Qu=null,qc=0;function Id(i){var a=qc;return qc+=1,Qu===null&&(Qu=[]),sb(Qu,i,a)}function Yc(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Cd(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Xb(i){var a=i._init;return a(i._payload)}function Qb(i){function a(ue,se){if(i){var ce=ue.deletions;ce===null?(ue.deletions=[se],ue.flags|=16):ce.push(se)}}function l(ue,se){if(!i)return null;for(;se!==null;)a(ue,se),se=se.sibling;return null}function h(ue){for(var se=new Map;ue!==null;)ue.key!==null?se.set(ue.key,ue):se.set(ue.index,ue),ue=ue.sibling;return se}function g(ue,se){return ue=Ks(ue,se),ue.index=0,ue.sibling=null,ue}function y(ue,se,ce){return ue.index=ce,i?(ce=ue.alternate,ce!==null?(ce=ce.index,ce<se?(ue.flags|=67108866,se):ce):(ue.flags|=67108866,se)):(ue.flags|=1048576,se)}function C(ue){return i&&ue.alternate===null&&(ue.flags|=67108866),ue}function F(ue,se,ce,ve){return se===null||se.tag!==6?(se=O0(ce,ue.mode,ve),se.return=ue,se):(se=g(se,ce),se.return=ue,se)}function Z(ue,se,ce,ve){var ze=ce.type;return ze===A?be(ue,se,ce.props.children,ve,ce.key):se!==null&&(se.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===x&&Xb(ze)===se.type)?(se=g(se,ce.props),Yc(se,ce),se.return=ue,se):(se=ld(ce.type,ce.key,ce.props,null,ue.mode,ve),Yc(se,ce),se.return=ue,se)}function fe(ue,se,ce,ve){return se===null||se.tag!==4||se.stateNode.containerInfo!==ce.containerInfo||se.stateNode.implementation!==ce.implementation?(se=D0(ce,ue.mode,ve),se.return=ue,se):(se=g(se,ce.children||[]),se.return=ue,se)}function be(ue,se,ce,ve,ze){return se===null||se.tag!==7?(se=Ho(ce,ue.mode,ve,ze),se.return=ue,se):(se=g(se,ce),se.return=ue,se)}function Ae(ue,se,ce){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=O0(""+se,ue.mode,ce),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return ce=ld(se.type,se.key,se.props,null,ue.mode,ce),Yc(ce,se),ce.return=ue,ce;case b:return se=D0(se,ue.mode,ce),se.return=ue,se;case x:var ve=se._init;return se=ve(se._payload),Ae(ue,se,ce)}if(K(se)||U(se))return se=Ho(se,ue.mode,ce,null),se.return=ue,se;if(typeof se.then=="function")return Ae(ue,Id(se),ce);if(se.$$typeof===Y)return Ae(ue,dd(ue,se),ce);Cd(ue,se)}return null}function de(ue,se,ce,ve){var ze=se!==null?se.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ze!==null?null:F(ue,se,""+ce,ve);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return ce.key===ze?Z(ue,se,ce,ve):null;case b:return ce.key===ze?fe(ue,se,ce,ve):null;case x:return ze=ce._init,ce=ze(ce._payload),de(ue,se,ce,ve)}if(K(ce)||U(ce))return ze!==null?null:be(ue,se,ce,ve,null);if(typeof ce.then=="function")return de(ue,se,Id(ce),ve);if(ce.$$typeof===Y)return de(ue,se,dd(ue,ce),ve);Cd(ue,ce)}return null}function me(ue,se,ce,ve,ze){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ue=ue.get(ce)||null,F(se,ue,""+ve,ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case _:return ue=ue.get(ve.key===null?ce:ve.key)||null,Z(se,ue,ve,ze);case b:return ue=ue.get(ve.key===null?ce:ve.key)||null,fe(se,ue,ve,ze);case x:var dt=ve._init;return ve=dt(ve._payload),me(ue,se,ce,ve,ze)}if(K(ve)||U(ve))return ue=ue.get(ce)||null,be(se,ue,ve,ze,null);if(typeof ve.then=="function")return me(ue,se,ce,Id(ve),ze);if(ve.$$typeof===Y)return me(ue,se,ce,dd(se,ve),ze);Cd(se,ve)}return null}function tt(ue,se,ce,ve){for(var ze=null,dt=null,$e=se,Ze=se=0,sr=null;$e!==null&&Ze<ce.length;Ze++){$e.index>Ze?(sr=$e,$e=null):sr=$e.sibling;var Lt=de(ue,$e,ce[Ze],ve);if(Lt===null){$e===null&&($e=sr);break}i&&$e&&Lt.alternate===null&&a(ue,$e),se=y(Lt,se,Ze),dt===null?ze=Lt:dt.sibling=Lt,dt=Lt,$e=sr}if(Ze===ce.length)return l(ue,$e),Mt&&jo(ue,Ze),ze;if($e===null){for(;Ze<ce.length;Ze++)$e=Ae(ue,ce[Ze],ve),$e!==null&&(se=y($e,se,Ze),dt===null?ze=$e:dt.sibling=$e,dt=$e);return Mt&&jo(ue,Ze),ze}for($e=h($e);Ze<ce.length;Ze++)sr=me($e,ue,Ze,ce[Ze],ve),sr!==null&&(i&&sr.alternate!==null&&$e.delete(sr.key===null?Ze:sr.key),se=y(sr,se,Ze),dt===null?ze=sr:dt.sibling=sr,dt=sr);return i&&$e.forEach(function(Ya){return a(ue,Ya)}),Mt&&jo(ue,Ze),ze}function We(ue,se,ce,ve){if(ce==null)throw Error(r(151));for(var ze=null,dt=null,$e=se,Ze=se=0,sr=null,Lt=ce.next();$e!==null&&!Lt.done;Ze++,Lt=ce.next()){$e.index>Ze?(sr=$e,$e=null):sr=$e.sibling;var Ya=de(ue,$e,Lt.value,ve);if(Ya===null){$e===null&&($e=sr);break}i&&$e&&Ya.alternate===null&&a(ue,$e),se=y(Ya,se,Ze),dt===null?ze=Ya:dt.sibling=Ya,dt=Ya,$e=sr}if(Lt.done)return l(ue,$e),Mt&&jo(ue,Ze),ze;if($e===null){for(;!Lt.done;Ze++,Lt=ce.next())Lt=Ae(ue,Lt.value,ve),Lt!==null&&(se=y(Lt,se,Ze),dt===null?ze=Lt:dt.sibling=Lt,dt=Lt);return Mt&&jo(ue,Ze),ze}for($e=h($e);!Lt.done;Ze++,Lt=ce.next())Lt=me($e,ue,Ze,Lt.value,ve),Lt!==null&&(i&&Lt.alternate!==null&&$e.delete(Lt.key===null?Ze:Lt.key),se=y(Lt,se,Ze),dt===null?ze=Lt:dt.sibling=Lt,dt=Lt);return i&&$e.forEach(function(F6){return a(ue,F6)}),Mt&&jo(ue,Ze),ze}function Jt(ue,se,ce,ve){if(typeof ce=="object"&&ce!==null&&ce.type===A&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:e:{for(var ze=ce.key;se!==null;){if(se.key===ze){if(ze=ce.type,ze===A){if(se.tag===7){l(ue,se.sibling),ve=g(se,ce.props.children),ve.return=ue,ue=ve;break e}}else if(se.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===x&&Xb(ze)===se.type){l(ue,se.sibling),ve=g(se,ce.props),Yc(ve,ce),ve.return=ue,ue=ve;break e}l(ue,se);break}else a(ue,se);se=se.sibling}ce.type===A?(ve=Ho(ce.props.children,ue.mode,ve,ce.key),ve.return=ue,ue=ve):(ve=ld(ce.type,ce.key,ce.props,null,ue.mode,ve),Yc(ve,ce),ve.return=ue,ue=ve)}return C(ue);case b:e:{for(ze=ce.key;se!==null;){if(se.key===ze)if(se.tag===4&&se.stateNode.containerInfo===ce.containerInfo&&se.stateNode.implementation===ce.implementation){l(ue,se.sibling),ve=g(se,ce.children||[]),ve.return=ue,ue=ve;break e}else{l(ue,se);break}else a(ue,se);se=se.sibling}ve=D0(ce,ue.mode,ve),ve.return=ue,ue=ve}return C(ue);case x:return ze=ce._init,ce=ze(ce._payload),Jt(ue,se,ce,ve)}if(K(ce))return tt(ue,se,ce,ve);if(U(ce)){if(ze=U(ce),typeof ze!="function")throw Error(r(150));return ce=ze.call(ce),We(ue,se,ce,ve)}if(typeof ce.then=="function")return Jt(ue,se,Id(ce),ve);if(ce.$$typeof===Y)return Jt(ue,se,dd(ue,ce),ve);Cd(ue,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,se!==null&&se.tag===6?(l(ue,se.sibling),ve=g(se,ce),ve.return=ue,ue=ve):(l(ue,se),ve=O0(ce,ue.mode,ve),ve.return=ue,ue=ve),C(ue)):l(ue,se)}return function(ue,se,ce,ve){try{qc=0;var ze=Jt(ue,se,ce,ve);return Qu=null,ze}catch($e){if($e===Mc||$e===pd)throw $e;var dt=li(29,$e,null,ue.mode);return dt.lanes=ve,dt.return=ue,dt}finally{}}}var Wu=Qb(!0),Wb=Qb(!1),Pi=J(null),Ts=null;function Ra(i){var a=i.alternate;P(Xn,Xn.current&1),P(Pi,i),Ts===null&&(a===null||$u.current!==null||a.memoizedState!==null)&&(Ts=i)}function Zb(i){if(i.tag===22){if(P(Xn,Xn.current),P(Pi,i),Ts===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Ts=i)}}else Oa()}function Oa(){P(Xn,Xn.current),P(Pi,Pi.current)}function ea(i){oe(Pi),Ts===i&&(Ts=null),oe(Xn)}var Xn=J(0);function Nd(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||eE(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function hg(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:m({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var fg={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=di(),g=Ca(h);g.payload=a,l!=null&&(g.callback=l),a=Na(i,g,h),a!==null&&(mi(a,i,h),Bc(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=di(),g=Ca(h);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Na(i,g,h),a!==null&&(mi(a,i,h),Bc(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=di(),h=Ca(l);h.tag=2,a!=null&&(h.callback=a),a=Na(i,h,l),a!==null&&(mi(a,i,l),Bc(a,i,l))}};function Jb(i,a,l,h,g,y,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,C):a.prototype&&a.prototype.isPureReactComponent?!Cc(l,h)||!Cc(g,y):!0}function ev(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&fg.enqueueReplaceState(a,a.state,null)}function Qo(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var xd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function tv(i){xd(i)}function nv(i){console.error(i)}function rv(i){xd(i)}function Rd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function iv(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dg(i,a,l){return l=Ca(l),l.tag=3,l.payload={element:null},l.callback=function(){Rd(i,a)},l}function sv(i){return i=Ca(i),i.tag=3,i}function av(i,a,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){iv(a,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){iv(a,l,h),typeof g!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var F=h.stack;this.componentDidCatch(h.value,{componentStack:F!==null?F:""})})}function F3(i,a,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Dc(a,l,g,!0),l=Pi.current,l!==null){switch(l.tag){case 13:return Ts===null?Bg():l.alternate===null&&An===0&&(An=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===z0?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),Vg(i,h,g)),!1;case 22:return l.flags|=65536,h===z0?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),Vg(i,h,g)),!1}throw Error(r(435,l.tag))}return Vg(i,h,g),Bg(),!1}if(Mt)return a=Pi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==M0&&(i=Error(r(422),{cause:h}),Oc(Di(i,l)))):(h!==M0&&(a=Error(r(423),{cause:h}),Oc(Di(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Di(h,l),g=dg(i.stateNode,h,g),Y0(i,g),An!==4&&(An=2)),!1;var y=Error(r(520),{cause:h});if(y=Di(y,l),Zc===null?Zc=[y]:Zc.push(y),An!==4&&(An=2),a===null)return!0;h=Di(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=dg(l.stateNode,h,i),Y0(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ba===null||!Ba.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=sv(g),av(g,i,l,h),Y0(l,g),!1}l=l.return}while(l!==null);return!1}var ov=Error(r(461)),rr=!1;function pr(i,a,l,h){a.child=i===null?Wb(a,null,l,h):Wu(a,i.child,l,h)}function uv(i,a,l,h,g){l=l.render;var y=a.ref;if("ref"in h){var C={};for(var F in h)F!=="ref"&&(C[F]=h[F])}else C=h;return Go(a),h=Q0(i,a,l,C,y,g),F=W0(),i!==null&&!rr?(Z0(i,a,g),ta(i,a,g)):(Mt&&F&&k0(a),a.flags|=1,pr(i,a,h,g),a.child)}function lv(i,a,l,h,g){if(i===null){var y=l.type;return typeof y=="function"&&!R0(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,cv(i,a,y,h,g)):(i=ld(l.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!bg(i,g)){var C=y.memoizedProps;if(l=l.compare,l=l!==null?l:Cc,l(C,h)&&i.ref===a.ref)return ta(i,a,g)}return a.flags|=1,i=Ks(y,h),i.ref=a.ref,i.return=a,a.child=i}function cv(i,a,l,h,g){if(i!==null){var y=i.memoizedProps;if(Cc(y,h)&&i.ref===a.ref)if(rr=!1,a.pendingProps=h=y,bg(i,g))(i.flags&131072)!==0&&(rr=!0);else return a.lanes=i.lanes,ta(i,a,g)}return mg(i,a,l,h,g)}function hv(i,a,l){var h=a.pendingProps,g=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|l:l,i!==null){for(g=a.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return fv(i,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&md(a,y!==null?y.cachePool:null),y!==null?cb(a,y):G0(),Zb(a);else return a.lanes=a.childLanes=536870912,fv(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(md(a,y.cachePool),cb(a,y),Oa(),a.memoizedState=null):(i!==null&&md(a,null),G0(),Oa());return pr(i,a,g,l),a.child}function fv(i,a,l,h){var g=H0();return g=g===null?null:{parent:Kn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&md(a,null),G0(),Zb(a),i!==null&&Dc(i,a,h,!0),null}function Od(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function mg(i,a,l,h,g){return Go(a),l=Q0(i,a,l,h,void 0,g),h=W0(),i!==null&&!rr?(Z0(i,a,g),ta(i,a,g)):(Mt&&h&&k0(a),a.flags|=1,pr(i,a,l,g),a.child)}function dv(i,a,l,h,g,y){return Go(a),a.updateQueue=null,l=fb(a,h,l,g),hb(i),h=W0(),i!==null&&!rr?(Z0(i,a,y),ta(i,a,y)):(Mt&&h&&k0(a),a.flags|=1,pr(i,a,l,y),a.child)}function mv(i,a,l,h,g){if(Go(a),a.stateNode===null){var y=Hu,C=l.contextType;typeof C=="object"&&C!==null&&(y=Sr(C)),y=new l(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=fg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},j0(a),C=l.contextType,y.context=typeof C=="object"&&C!==null?Sr(C):Hu,y.state=a.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(hg(a,l,C,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&fg.enqueueReplaceState(y,y.state,null),Vc(a,h,y,g),Uc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){y=a.stateNode;var F=a.memoizedProps,Z=Qo(l,F);y.props=Z;var fe=y.context,be=l.contextType;C=Hu,typeof be=="object"&&be!==null&&(C=Sr(be));var Ae=l.getDerivedStateFromProps;be=typeof Ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",F=a.pendingProps!==F,be||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(F||fe!==C)&&ev(a,y,h,C),Ia=!1;var de=a.memoizedState;y.state=de,Vc(a,h,y,g),Uc(),fe=a.memoizedState,F||de!==fe||Ia?(typeof Ae=="function"&&(hg(a,l,Ae,h),fe=a.memoizedState),(Z=Ia||Jb(a,l,Z,h,de,fe,C))?(be||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=fe),y.props=h,y.state=fe,y.context=C,h=Z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,q0(i,a),C=a.memoizedProps,be=Qo(l,C),y.props=be,Ae=a.pendingProps,de=y.context,fe=l.contextType,Z=Hu,typeof fe=="object"&&fe!==null&&(Z=Sr(fe)),F=l.getDerivedStateFromProps,(fe=typeof F=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==Ae||de!==Z)&&ev(a,y,h,Z),Ia=!1,de=a.memoizedState,y.state=de,Vc(a,h,y,g),Uc();var me=a.memoizedState;C!==Ae||de!==me||Ia||i!==null&&i.dependencies!==null&&fd(i.dependencies)?(typeof F=="function"&&(hg(a,l,F,h),me=a.memoizedState),(be=Ia||Jb(a,l,be,h,de,me,Z)||i!==null&&i.dependencies!==null&&fd(i.dependencies))?(fe||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,me,Z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,me,Z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=me),y.props=h,y.state=me,y.context=Z,h=be):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&de===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&de===i.memoizedState||(a.flags|=1024),h=!1)}return y=h,Od(i,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&h?(a.child=Wu(a,i.child,null,g),a.child=Wu(a,null,l,g)):pr(i,a,l,g),a.memoizedState=y.state,i=a.child):i=ta(i,a,g),i}function pv(i,a,l,h){return Rc(),a.flags|=256,pr(i,a,l,h),a.child}var pg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gg(i){return{baseLanes:i,cachePool:nb()}}function Eg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Bi),i}function gv(i,a,l){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,C;if((C=y)||(C=i!==null&&i.memoizedState===null?!1:(Xn.current&2)!==0),C&&(g=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,i===null){if(Mt){if(g?Ra(a):Oa(),Mt){var F=Sn,Z;if(Z=F){e:{for(Z=F,F=_s;Z.nodeType!==8;){if(!F){F=null;break e}if(Z=Ji(Z.nextSibling),Z===null){F=null;break e}}F=Z}F!==null?(a.memoizedState={dehydrated:F,treeContext:zo!==null?{id:Xs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},Z=li(18,null,null,0),Z.stateNode=F,Z.return=a,a.child=Z,zr=a,Sn=null,Z=!0):Z=!1}Z||Yo(a)}if(F=a.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return eE(F)?a.lanes=32:a.lanes=536870912,null;ea(a)}return F=h.children,h=h.fallback,g?(Oa(),g=a.mode,F=Dd({mode:"hidden",children:F},g),h=Ho(h,g,l,null),F.return=a,h.return=a,F.sibling=h,a.child=F,g=a.child,g.memoizedState=gg(l),g.childLanes=Eg(i,C,l),a.memoizedState=pg,h):(Ra(a),yg(a,F))}if(Z=i.memoizedState,Z!==null&&(F=Z.dehydrated,F!==null)){if(y)a.flags&256?(Ra(a),a.flags&=-257,a=_g(i,a,l)):a.memoizedState!==null?(Oa(),a.child=i.child,a.flags|=128,a=null):(Oa(),g=h.fallback,F=a.mode,h=Dd({mode:"visible",children:h.children},F),g=Ho(g,F,l,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,Wu(a,i.child,null,l),h=a.child,h.memoizedState=gg(l),h.childLanes=Eg(i,C,l),a.memoizedState=pg,a=g);else if(Ra(a),eE(F)){if(C=F.nextSibling&&F.nextSibling.dataset,C)var fe=C.dgst;C=fe,h=Error(r(419)),h.stack="",h.digest=C,Oc({value:h,source:null,stack:null}),a=_g(i,a,l)}else if(rr||Dc(i,a,l,!1),C=(l&i.childLanes)!==0,rr||C){if(C=sn,C!==null&&(h=l&-l,h=(h&42)!==0?1:si(h),h=(h&(C.suspendedLanes|l))!==0?0:h,h!==0&&h!==Z.retryLane))throw Z.retryLane=h,Fu(i,h),mi(C,i,h),ov;F.data==="$?"||Bg(),a=_g(i,a,l)}else F.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=Z.treeContext,Sn=Ji(F.nextSibling),zr=a,Mt=!0,qo=null,_s=!1,i!==null&&(Li[Mi++]=Xs,Li[Mi++]=Qs,Li[Mi++]=zo,Xs=i.id,Qs=i.overflow,zo=a),a=yg(a,h.children),a.flags|=4096);return a}return g?(Oa(),g=h.fallback,F=a.mode,Z=i.child,fe=Z.sibling,h=Ks(Z,{mode:"hidden",children:h.children}),h.subtreeFlags=Z.subtreeFlags&65011712,fe!==null?g=Ks(fe,g):(g=Ho(g,F,l,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,F=i.child.memoizedState,F===null?F=gg(l):(Z=F.cachePool,Z!==null?(fe=Kn._currentValue,Z=Z.parent!==fe?{parent:fe,pool:fe}:Z):Z=nb(),F={baseLanes:F.baseLanes|l,cachePool:Z}),g.memoizedState=F,g.childLanes=Eg(i,C,l),a.memoizedState=pg,h):(Ra(a),l=i.child,i=l.sibling,l=Ks(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(C=a.deletions,C===null?(a.deletions=[i],a.flags|=16):C.push(i)),a.child=l,a.memoizedState=null,l)}function yg(i,a){return a=Dd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Dd(i,a){return i=li(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function _g(i,a,l){return Wu(a,i.child,null,l),i=yg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Ev(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),B0(i.return,a,l)}function Tg(i,a,l,h,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=g)}function yv(i,a,l){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(pr(i,a,h.children,l),h=Xn.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ev(i,l,a);else if(i.tag===19)Ev(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(P(Xn,h),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&Nd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Tg(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Nd(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Tg(a,!0,l,null,y);break;case"together":Tg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ta(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Pa|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Dc(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Ks(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Ks(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function bg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&fd(i)))}function H3(i,a,l){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),wa(a,Kn,i.memoizedState.cache),Rc();break;case 27:case 5:Pe(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:wa(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ra(a),a.flags|=128,null):(l&a.child.childLanes)!==0?gv(i,a,l):(Ra(a),i=ta(i,a,l),i!==null?i.sibling:null);Ra(a);break;case 19:var g=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Dc(i,a,l,!1),h=(l&a.childLanes)!==0),g){if(h)return yv(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),P(Xn,Xn.current),h)break;return null;case 22:case 23:return a.lanes=0,hv(i,a,l);case 24:wa(a,Kn,i.memoizedState.cache)}return ta(i,a,l)}function _v(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)rr=!0;else{if(!bg(i,l)&&(a.flags&128)===0)return rr=!1,H3(i,a,l);rr=(i.flags&131072)!==0}else rr=!1,Mt&&(a.flags&1048576)!==0&&XT(a,hd,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")R0(h)?(i=Qo(h,i),a.tag=1,a=mv(null,a,h,i,l)):(a.tag=0,a=mg(null,a,h,i,l));else{if(h!=null){if(g=h.$$typeof,g===z){a.tag=11,a=uv(null,a,h,i,l);break e}else if(g===R){a.tag=14,a=lv(null,a,h,i,l);break e}}throw a=L(h)||h,Error(r(306,a,""))}}return a;case 0:return mg(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,g=Qo(h,a.pendingProps),mv(i,a,h,g,l);case 3:e:{if(Se(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,q0(i,a),Vc(a,h,null,l);var C=a.memoizedState;if(h=C.cache,wa(a,Kn,h),h!==y.cache&&U0(a,[Kn],l,!0),Uc(),h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=pv(i,a,h,l);break e}else if(h!==g){g=Di(Error(r(424)),a),Oc(g),a=pv(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Sn=Ji(i.firstChild),zr=a,Mt=!0,qo=null,_s=!0,l=Wb(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Rc(),h===g){a=ta(i,a,l);break e}pr(i,a,h,l)}a=a.child}return a;case 26:return Od(i,a),i===null?(l=SS(a.type,null,a.pendingProps,null))?a.memoizedState=l:Mt||(l=a.type,i=a.pendingProps,h=$d(Ce.current).createElement(l),h[Bt]=a,h[mn]=i,Er(h,l,i),ne(h),a.stateNode=h):a.memoizedState=SS(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Pe(a),i===null&&Mt&&(h=a.stateNode=TS(a.type,a.pendingProps,Ce.current),zr=a,_s=!0,g=Sn,Fa(a.type)?(tE=g,Sn=Ji(h.firstChild)):Sn=g),pr(i,a,a.pendingProps.children,l),Od(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Mt&&((g=h=Sn)&&(h=p6(h,a.type,a.pendingProps,_s),h!==null?(a.stateNode=h,zr=a,Sn=Ji(h.firstChild),_s=!1,g=!0):g=!1),g||Yo(a)),Pe(a),g=a.type,y=a.pendingProps,C=i!==null?i.memoizedProps:null,h=y.children,Wg(g,y)?h=null:C!==null&&Wg(g,C)&&(a.flags|=32),a.memoizedState!==null&&(g=Q0(i,a,k3,null,null,l),oh._currentValue=g),Od(i,a),pr(i,a,h,l),a.child;case 6:return i===null&&Mt&&((i=l=Sn)&&(l=g6(l,a.pendingProps,_s),l!==null?(a.stateNode=l,zr=a,Sn=null,i=!0):i=!1),i||Yo(a)),null;case 13:return gv(i,a,l);case 4:return Se(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Wu(a,null,h,l):pr(i,a,h,l),a.child;case 11:return uv(i,a,a.type,a.pendingProps,l);case 7:return pr(i,a,a.pendingProps,l),a.child;case 8:return pr(i,a,a.pendingProps.children,l),a.child;case 12:return pr(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,wa(a,a.type,h.value),pr(i,a,h.children,l),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Go(a),g=Sr(g),h=h(g),a.flags|=1,pr(i,a,h,l),a.child;case 14:return lv(i,a,a.type,a.pendingProps,l);case 15:return cv(i,a,a.type,a.pendingProps,l);case 19:return yv(i,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},i===null?(l=Dd(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Ks(i.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return hv(i,a,l);case 24:return Go(a),h=Sr(Kn),i===null?(g=H0(),g===null&&(g=sn,y=V0(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:h,cache:g},j0(a),wa(a,Kn,g)):((i.lanes&l)!==0&&(q0(i,a),Vc(a,null,null,l),Uc()),g=i.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),wa(a,Kn,h)):(h=y.cache,wa(a,Kn,h),h!==g.cache&&U0(a,[Kn],l,!0))),pr(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function na(i){i.flags|=4}function Tv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NS(a)){if(a=Pi.current,a!==null&&((Ct&4194048)===Ct?Ts!==null:(Ct&62914560)!==Ct&&(Ct&536870912)===0||a!==Ts))throw Pc=z0,rb;i.flags|=8192}}function kd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?br():536870912,i.lanes|=a,tl|=a)}function $c(i,a){if(!Mt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function yn(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function z3(i,a,l){var h=a.pendingProps;switch(L0(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(a),null;case 1:return yn(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Zs(Kn),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(xc(a)?na(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ZT())),yn(a),null;case 26:return l=a.memoizedState,i===null?(na(a),l!==null?(yn(a),Tv(a,l)):(yn(a),a.flags&=-16777217)):l?l!==i.memoizedState?(na(a),yn(a),Tv(a,l)):(yn(a),a.flags&=-16777217):(i.memoizedProps!==h&&na(a),yn(a),a.flags&=-16777217),null;case 27:Qe(a),l=Ce.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&na(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return yn(a),null}i=pe.current,xc(a)?QT(a):(i=TS(g,h,l),a.stateNode=i,na(a))}return yn(a),null;case 5:if(Qe(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&na(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return yn(a),null}if(i=pe.current,xc(a))QT(a);else{switch(g=$d(Ce.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}i[Bt]=a,i[mn]=h;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Er(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&na(a)}}return yn(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&na(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ce.current,xc(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,g=zr,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[Bt]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||dS(i.nodeValue,l)),i||Yo(a)}else i=$d(i).createTextNode(h),i[Bt]=a,a.stateNode=i}return yn(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=xc(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Bt]=a}else Rc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;yn(a),g=!1}else g=ZT(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(ea(a),a):(ea(a),null)}if(ea(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),kd(a,a.updateQueue),yn(a),null;case 4:return Le(),i===null&&$g(a.stateNode.containerInfo),yn(a),null;case 10:return Zs(a.type),yn(a),null;case 19:if(oe(Xn),g=a.memoizedState,g===null)return yn(a),null;if(h=(a.flags&128)!==0,y=g.rendering,y===null)if(h)$c(g,!1);else{if(An!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Nd(i),y!==null){for(a.flags|=128,$c(g,!1),i=y.updateQueue,a.updateQueue=i,kd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)KT(l,i),l=l.sibling;return P(Xn,Xn.current&1|2),a.child}i=i.sibling}g.tail!==null&&Ke()>Pd&&(a.flags|=128,h=!0,$c(g,!1),a.lanes=4194304)}else{if(!h)if(i=Nd(y),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,kd(a,i),$c(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Mt)return yn(a),null}else 2*Ke()-g.renderingStartTime>Pd&&l!==536870912&&(a.flags|=128,h=!0,$c(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(i=g.last,i!==null?i.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ke(),a.sibling=null,i=Xn.current,P(Xn,h?i&1|2:i&1),a):(yn(a),null);case 22:case 23:return ea(a),K0(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(yn(a),a.subtreeFlags&6&&(a.flags|=8192)):yn(a),l=a.updateQueue,l!==null&&kd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&oe(Ko),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Zs(Kn),yn(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function j3(i,a){switch(L0(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Zs(Kn),Le(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Qe(a),null;case 13:if(ea(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Rc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return oe(Xn),null;case 4:return Le(),null;case 10:return Zs(a.type),null;case 22:case 23:return ea(a),K0(),i!==null&&oe(Ko),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Zs(Kn),null;case 25:return null;default:return null}}function bv(i,a){switch(L0(a),a.tag){case 3:Zs(Kn),Le();break;case 26:case 27:case 5:Qe(a);break;case 4:Le();break;case 13:ea(a);break;case 19:oe(Xn);break;case 10:Zs(a.type);break;case 22:case 23:ea(a),K0(),i!==null&&oe(Ko);break;case 24:Zs(Kn)}}function Gc(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var y=l.create,C=l.inst;h=y(),C.destroy=h}l=l.next}while(l!==g)}}catch(F){tn(a,a.return,F)}}function Da(i,a,l){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var C=h.inst,F=C.destroy;if(F!==void 0){C.destroy=void 0,g=a;var Z=l,fe=F;try{fe()}catch(be){tn(g,Z,be)}}}h=h.next}while(h!==y)}}catch(be){tn(a,a.return,be)}}function vv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{lb(a,l)}catch(h){tn(i,i.return,h)}}}function Sv(i,a,l){l.props=Qo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){tn(i,a,h)}}function Kc(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){tn(i,a,g)}}function bs(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){tn(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){tn(i,a,g)}else l.current=null}function Av(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){tn(i,i.return,g)}}function vg(i,a,l){try{var h=i.stateNode;c6(h,i.type,l,a),h[mn]=a}catch(g){tn(i,i.return,g)}}function wv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fa(i.type)||i.tag===4}function Sg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ag(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Yd));else if(h!==4&&(h===27&&Fa(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Ag(i,a,l),i=i.sibling;i!==null;)Ag(i,a,l),i=i.sibling}function Ld(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&Fa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ld(i,a,l),i=i.sibling;i!==null;)Ld(i,a,l),i=i.sibling}function Iv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Er(a,h,l),a[Bt]=i,a[mn]=l}catch(y){tn(i,i.return,y)}}var ra=!1,Dn=!1,wg=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,ir=null;function q3(i,a){if(i=i.containerInfo,Xg=Zd,i=UT(i),S0(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var C=0,F=-1,Z=-1,fe=0,be=0,Ae=i,de=null;t:for(;;){for(var me;Ae!==l||g!==0&&Ae.nodeType!==3||(F=C+g),Ae!==y||h!==0&&Ae.nodeType!==3||(Z=C+h),Ae.nodeType===3&&(C+=Ae.nodeValue.length),(me=Ae.firstChild)!==null;)de=Ae,Ae=me;for(;;){if(Ae===i)break t;if(de===l&&++fe===g&&(F=C),de===y&&++be===h&&(Z=C),(me=Ae.nextSibling)!==null)break;Ae=de,de=Ae.parentNode}Ae=me}l=F===-1||Z===-1?null:{start:F,end:Z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qg={focusedElem:i,selectionRange:l},Zd=!1,ir=a;ir!==null;)if(a=ir,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,ir=i;else for(;ir!==null;){switch(a=ir,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var tt=Qo(l.type,g,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(tt,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(We){tn(l,l.return,We)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Jg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,ir=i;break}ir=a.return}}function Nv(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:ka(i,l),h&4&&Gc(5,l);break;case 1:if(ka(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(C){tn(l,l.return,C)}else{var g=Qo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(C){tn(l,l.return,C)}}h&64&&vv(l),h&512&&Kc(l,l.return);break;case 3:if(ka(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{lb(i,a)}catch(C){tn(l,l.return,C)}}break;case 27:a===null&&h&4&&Iv(l);case 26:case 5:ka(i,l),a===null&&h&4&&Av(l),h&512&&Kc(l,l.return);break;case 12:ka(i,l);break;case 13:ka(i,l),h&4&&Ov(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=J3.bind(null,l),E6(i,l))));break;case 22:if(h=l.memoizedState!==null||ra,!h){a=a!==null&&a.memoizedState!==null||Dn,g=ra;var y=Dn;ra=h,(Dn=a)&&!y?La(i,l,(l.subtreeFlags&8772)!==0):ka(i,l),ra=g,Dn=y}break;case 30:break;default:ka(i,l)}}function xv(i){var a=i.alternate;a!==null&&(i.alternate=null,xv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&oi(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gn=null,Kr=!1;function ia(i,a,l){for(l=l.child;l!==null;)Rv(i,a,l),l=l.sibling}function Rv(i,a,l){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(ae,l)}catch{}switch(l.tag){case 26:Dn||bs(l,a),ia(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Dn||bs(l,a);var h=gn,g=Kr;Fa(l.type)&&(gn=l.stateNode,Kr=!1),ia(i,a,l),rh(l.stateNode),gn=h,Kr=g;break;case 5:Dn||bs(l,a);case 6:if(h=gn,g=Kr,gn=null,ia(i,a,l),gn=h,Kr=g,gn!==null)if(Kr)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(l.stateNode)}catch(y){tn(l,a,y)}else try{gn.removeChild(l.stateNode)}catch(y){tn(l,a,y)}break;case 18:gn!==null&&(Kr?(i=gn,yS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),hh(i)):yS(gn,l.stateNode));break;case 4:h=gn,g=Kr,gn=l.stateNode.containerInfo,Kr=!0,ia(i,a,l),gn=h,Kr=g;break;case 0:case 11:case 14:case 15:Dn||Da(2,l,a),Dn||Da(4,l,a),ia(i,a,l);break;case 1:Dn||(bs(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Sv(l,a,h)),ia(i,a,l);break;case 21:ia(i,a,l);break;case 22:Dn=(h=Dn)||l.memoizedState!==null,ia(i,a,l),Dn=h;break;default:ia(i,a,l)}}function Ov(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hh(i)}catch(l){tn(a,a.return,l)}}function Y3(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Cv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Cv),a;default:throw Error(r(435,i.tag))}}function Ig(i,a){var l=Y3(i);a.forEach(function(h){var g=e6.bind(null,i,h);l.has(h)||(l.add(h),h.then(g,g))})}function ci(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=i,C=a,F=C;e:for(;F!==null;){switch(F.tag){case 27:if(Fa(F.type)){gn=F.stateNode,Kr=!1;break e}break;case 5:gn=F.stateNode,Kr=!1;break e;case 3:case 4:gn=F.stateNode.containerInfo,Kr=!0;break e}F=F.return}if(gn===null)throw Error(r(160));Rv(y,C,g),gn=null,Kr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Dv(a,i),a=a.sibling}var Zi=null;function Dv(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ci(a,i),hi(i),h&4&&(Da(3,i,i.return),Gc(3,i),Da(5,i,i.return));break;case 1:ci(a,i),hi(i),h&512&&(Dn||l===null||bs(l,l.return)),h&64&&ra&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=Zi;if(ci(a,i),hi(i),h&512&&(Dn||l===null||bs(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[wi]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Er(y,h,l),y[Bt]=i,ne(y),h=y;break e;case"link":var C=IS("link","href",g).get(h+(l.href||""));if(C){for(var F=0;F<C.length;F++)if(y=C[F],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(F,1);break t}}y=g.createElement(h),Er(y,h,l),g.head.appendChild(y);break;case"meta":if(C=IS("meta","content",g).get(h+(l.content||""))){for(F=0;F<C.length;F++)if(y=C[F],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(F,1);break t}}y=g.createElement(h),Er(y,h,l),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[Bt]=i,ne(y),h=y}i.stateNode=h}else CS(g,i.type,i.stateNode);else i.stateNode=wS(g,h,i.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?CS(g,i.type,i.stateNode):wS(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&vg(i,i.memoizedProps,l.memoizedProps)}break;case 27:ci(a,i),hi(i),h&512&&(Dn||l===null||bs(l,l.return)),l!==null&&h&4&&vg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ci(a,i),hi(i),h&512&&(Dn||l===null||bs(l,l.return)),i.flags&32){g=i.stateNode;try{fr(g,"")}catch(me){tn(i,i.return,me)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,vg(i,g,l!==null?l.memoizedProps:g)),h&1024&&(wg=!0);break;case 6:if(ci(a,i),hi(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(me){tn(i,i.return,me)}}break;case 3:if(Xd=null,g=Zi,Zi=Gd(a.containerInfo),ci(a,i),Zi=g,hi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{hh(a.containerInfo)}catch(me){tn(i,i.return,me)}wg&&(wg=!1,kv(i));break;case 4:h=Zi,Zi=Gd(i.stateNode.containerInfo),ci(a,i),hi(i),Zi=h;break;case 12:ci(a,i),hi(i);break;case 13:ci(a,i),hi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Dg=Ke()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ig(i,h)));break;case 22:g=i.memoizedState!==null;var Z=l!==null&&l.memoizedState!==null,fe=ra,be=Dn;if(ra=fe||g,Dn=be||Z,ci(a,i),Dn=be,ra=fe,hi(i),h&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||Z||ra||Dn||Wo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){Z=l=a;try{if(y=Z.stateNode,g)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{F=Z.stateNode;var Ae=Z.memoizedProps.style,de=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;F.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(me){tn(Z,Z.return,me)}}}else if(a.tag===6){if(l===null){Z=a;try{Z.stateNode.nodeValue=g?"":Z.memoizedProps}catch(me){tn(Z,Z.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Ig(i,l))));break;case 19:ci(a,i),hi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ig(i,h)));break;case 30:break;case 21:break;default:ci(a,i),hi(i)}}function hi(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(wv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=Sg(i);Ld(i,y,g);break;case 5:var C=l.stateNode;l.flags&32&&(fr(C,""),l.flags&=-33);var F=Sg(i);Ld(i,F,C);break;case 3:case 4:var Z=l.stateNode.containerInfo,fe=Sg(i);Ag(i,fe,Z);break;default:throw Error(r(161))}}catch(be){tn(i,i.return,be)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function kv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;kv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ka(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Nv(i,a.alternate,a),a=a.sibling}function Wo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Da(4,a,a.return),Wo(a);break;case 1:bs(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Sv(a,a.return,l),Wo(a);break;case 27:rh(a.stateNode);case 26:case 5:bs(a,a.return),Wo(a);break;case 22:a.memoizedState===null&&Wo(a);break;case 30:Wo(a);break;default:Wo(a)}i=i.sibling}}function La(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,y=a,C=y.flags;switch(y.tag){case 0:case 11:case 15:La(g,y,l),Gc(4,y);break;case 1:if(La(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(fe){tn(h,h.return,fe)}if(h=y,g=h.updateQueue,g!==null){var F=h.stateNode;try{var Z=g.shared.hiddenCallbacks;if(Z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Z.length;g++)ub(Z[g],F)}catch(fe){tn(h,h.return,fe)}}l&&C&64&&vv(y),Kc(y,y.return);break;case 27:Iv(y);case 26:case 5:La(g,y,l),l&&h===null&&C&4&&Av(y),Kc(y,y.return);break;case 12:La(g,y,l);break;case 13:La(g,y,l),l&&C&4&&Ov(g,y);break;case 22:y.memoizedState===null&&La(g,y,l),Kc(y,y.return);break;case 30:break;default:La(g,y,l)}a=a.sibling}}function Cg(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&kc(l))}function Ng(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&kc(i))}function vs(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Lv(i,a,l,h),a=a.sibling}function Lv(i,a,l,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:vs(i,a,l,h),g&2048&&Gc(9,a);break;case 1:vs(i,a,l,h);break;case 3:vs(i,a,l,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&kc(i)));break;case 12:if(g&2048){vs(i,a,l,h),i=a.stateNode;try{var y=a.memoizedProps,C=y.id,F=y.onPostCommit;typeof F=="function"&&F(C,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){tn(a,a.return,Z)}}else vs(i,a,l,h);break;case 13:vs(i,a,l,h);break;case 23:break;case 22:y=a.stateNode,C=a.alternate,a.memoizedState!==null?y._visibility&2?vs(i,a,l,h):Xc(i,a):y._visibility&2?vs(i,a,l,h):(y._visibility|=2,Zu(i,a,l,h,(a.subtreeFlags&10256)!==0)),g&2048&&Cg(C,a);break;case 24:vs(i,a,l,h),g&2048&&Ng(a.alternate,a);break;default:vs(i,a,l,h)}}function Zu(i,a,l,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,C=a,F=l,Z=h,fe=C.flags;switch(C.tag){case 0:case 11:case 15:Zu(y,C,F,Z,g),Gc(8,C);break;case 23:break;case 22:var be=C.stateNode;C.memoizedState!==null?be._visibility&2?Zu(y,C,F,Z,g):Xc(y,C):(be._visibility|=2,Zu(y,C,F,Z,g)),g&&fe&2048&&Cg(C.alternate,C);break;case 24:Zu(y,C,F,Z,g),g&&fe&2048&&Ng(C.alternate,C);break;default:Zu(y,C,F,Z,g)}a=a.sibling}}function Xc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,g=h.flags;switch(h.tag){case 22:Xc(l,h),g&2048&&Cg(h.alternate,h);break;case 24:Xc(l,h),g&2048&&Ng(h.alternate,h);break;default:Xc(l,h)}a=a.sibling}}var Qc=8192;function Ju(i){if(i.subtreeFlags&Qc)for(i=i.child;i!==null;)Mv(i),i=i.sibling}function Mv(i){switch(i.tag){case 26:Ju(i),i.flags&Qc&&i.memoizedState!==null&&R6(Zi,i.memoizedState,i.memoizedProps);break;case 5:Ju(i);break;case 3:case 4:var a=Zi;Zi=Gd(i.stateNode.containerInfo),Ju(i),Zi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Qc,Qc=16777216,Ju(i),Qc=a):Ju(i));break;default:Ju(i)}}function Pv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Wc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];ir=h,Uv(h,i)}Pv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bv(i),i=i.sibling}function Bv(i){switch(i.tag){case 0:case 11:case 15:Wc(i),i.flags&2048&&Da(9,i,i.return);break;case 3:Wc(i);break;case 12:Wc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Md(i)):Wc(i);break;default:Wc(i)}}function Md(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];ir=h,Uv(h,i)}Pv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Da(8,a,a.return),Md(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Md(a));break;default:Md(a)}i=i.sibling}}function Uv(i,a){for(;ir!==null;){var l=ir;switch(l.tag){case 0:case 11:case 15:Da(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:kc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,ir=h;else e:for(l=i;ir!==null;){h=ir;var g=h.sibling,y=h.return;if(xv(h),h===l){ir=null;break e}if(g!==null){g.return=y,ir=g;break e}ir=y}}}var $3={getCacheForType:function(i){var a=Sr(Kn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},G3=typeof WeakMap=="function"?WeakMap:Map,Gt=0,sn=null,Et=null,Ct=0,Kt=0,fi=null,Ma=!1,el=!1,xg=!1,sa=0,An=0,Pa=0,Zo=0,Rg=0,Bi=0,tl=0,Zc=null,Xr=null,Og=!1,Dg=0,Pd=1/0,Bd=null,Ba=null,gr=0,Ua=null,nl=null,rl=0,kg=0,Lg=null,Vv=null,Jc=0,Mg=null;function di(){if((Gt&2)!==0&&Ct!==0)return Ct&-Ct;if(V.T!==null){var i=qu;return i!==0?i:zg()}return kr()}function Fv(){Bi===0&&(Bi=(Ct&536870912)===0||Mt?Gi():536870912);var i=Pi.current;return i!==null&&(i.flags|=32),Bi}function mi(i,a,l){(i===sn&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)&&(il(i,0),Va(i,Ct,Bi,!1)),Dr(i,l),((Gt&2)===0||i!==sn)&&(i===sn&&((Gt&2)===0&&(Zo|=l),An===4&&Va(i,Ct,Bi,!1)),Ss(i))}function Hv(i,a,l){if((Gt&6)!==0)throw Error(r(327));var h=!l&&(a&124)===0&&(a&i.expiredLanes)===0||en(i,a),g=h?Q3(i,a):Ug(i,a,!0),y=h;do{if(g===0){el&&!h&&Va(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!K3(l)){g=Ug(i,a,!1),y=!1;continue}if(g===2){if(y=a,i.errorRecoveryDisabledLanes&y)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var F=i;g=Zc;var Z=F.current.memoizedState.isDehydrated;if(Z&&(il(F,C).flags|=256),C=Ug(F,C,!1),C!==2){if(xg&&!Z){F.errorRecoveryDisabledLanes|=y,Zo|=y,g=4;break e}y=Xr,Xr=g,y!==null&&(Xr===null?Xr=y:Xr.push.apply(Xr,y))}g=C}if(y=!1,g!==2)continue}}if(g===1){il(i,0),Va(i,a,0,!0);break}e:{switch(h=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Va(h,a,Bi,!Ma);break e;case 2:Xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Dg+300-Ke(),10<g)){if(Va(h,a,Bi,!Ma),ct(h,0,!0)!==0)break e;h.timeoutHandle=gS(zv.bind(null,h,l,Xr,Bd,Og,a,Bi,Zo,tl,Ma,y,2,-0,0),g);break e}zv(h,l,Xr,Bd,Og,a,Bi,Zo,tl,Ma,y,0,-0,0)}}break}while(!0);Ss(i)}function zv(i,a,l,h,g,y,C,F,Z,fe,be,Ae,de,me){if(i.timeoutHandle=-1,Ae=a.subtreeFlags,(Ae&8192||(Ae&16785408)===16785408)&&(ah={stylesheets:null,count:0,unsuspend:x6},Mv(a),Ae=O6(),Ae!==null)){i.cancelPendingCommit=Ae(Xv.bind(null,i,a,y,l,h,g,C,F,Z,be,1,de,me)),Va(i,y,C,!fe);return}Xv(i,a,y,l,h,g,C,F,Z)}function K3(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!ui(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Va(i,a,l,h){a&=~Rg,a&=~Zo,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var y=31-Ye(g),C=1<<y;h[y]=-1,g&=~C}l!==0&&Yr(i,l,a)}function Ud(){return(Gt&6)===0?(eh(0),!1):!0}function Pg(){if(Et!==null){if(Kt===0)var i=Et.return;else i=Et,Ws=$o=null,J0(i),Qu=null,qc=0,i=Et;for(;i!==null;)bv(i.alternate,i),i=i.return;Et=null}}function il(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,f6(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Pg(),sn=i,Et=l=Ks(i.current,null),Ct=a,Kt=0,fi=null,Ma=!1,el=en(i,a),xg=!1,tl=Bi=Rg=Zo=Pa=An=0,Xr=Zc=null,Og=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-Ye(h),y=1<<g;a|=i[g],h&=~y}return sa=a,ad(),l}function jv(i,a){ht=null,V.H=wd,a===Mc||a===pd?(a=ab(),Kt=3):a===rb?(a=ab(),Kt=4):Kt=a===ov?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,fi=a,Et===null&&(An=1,Rd(i,Di(a,i.current)))}function qv(){var i=V.H;return V.H=wd,i===null?wd:i}function Yv(){var i=V.A;return V.A=$3,i}function Bg(){An=4,Ma||(Ct&4194048)!==Ct&&Pi.current!==null||(el=!0),(Pa&134217727)===0&&(Zo&134217727)===0||sn===null||Va(sn,Ct,Bi,!1)}function Ug(i,a,l){var h=Gt;Gt|=2;var g=qv(),y=Yv();(sn!==i||Ct!==a)&&(Bd=null,il(i,a)),a=!1;var C=An;e:do try{if(Kt!==0&&Et!==null){var F=Et,Z=fi;switch(Kt){case 8:Pg(),C=6;break e;case 3:case 2:case 9:case 6:Pi.current===null&&(a=!0);var fe=Kt;if(Kt=0,fi=null,sl(i,F,Z,fe),l&&el){C=0;break e}break;default:fe=Kt,Kt=0,fi=null,sl(i,F,Z,fe)}}X3(),C=An;break}catch(be){jv(i,be)}while(!0);return a&&i.shellSuspendCounter++,Ws=$o=null,Gt=h,V.H=g,V.A=y,Et===null&&(sn=null,Ct=0,ad()),C}function X3(){for(;Et!==null;)$v(Et)}function Q3(i,a){var l=Gt;Gt|=2;var h=qv(),g=Yv();sn!==i||Ct!==a?(Bd=null,Pd=Ke()+500,il(i,a)):el=en(i,a);e:do try{if(Kt!==0&&Et!==null){a=Et;var y=fi;t:switch(Kt){case 1:Kt=0,fi=null,sl(i,a,y,1);break;case 2:case 9:if(ib(y)){Kt=0,fi=null,Gv(a);break}a=function(){Kt!==2&&Kt!==9||sn!==i||(Kt=7),Ss(i)},y.then(a,a);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:ib(y)?(Kt=0,fi=null,Gv(a)):(Kt=0,fi=null,sl(i,a,y,7));break;case 5:var C=null;switch(Et.tag){case 26:C=Et.memoizedState;case 5:case 27:var F=Et;if(!C||NS(C)){Kt=0,fi=null;var Z=F.sibling;if(Z!==null)Et=Z;else{var fe=F.return;fe!==null?(Et=fe,Vd(fe)):Et=null}break t}}Kt=0,fi=null,sl(i,a,y,5);break;case 6:Kt=0,fi=null,sl(i,a,y,6);break;case 8:Pg(),An=6;break e;default:throw Error(r(462))}}W3();break}catch(be){jv(i,be)}while(!0);return Ws=$o=null,V.H=h,V.A=g,Gt=l,Et!==null?0:(sn=null,Ct=0,ad(),An)}function W3(){for(;Et!==null&&!Ge();)$v(Et)}function $v(i){var a=_v(i.alternate,i,sa);i.memoizedProps=i.pendingProps,a===null?Vd(i):Et=a}function Gv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=dv(l,a,a.pendingProps,a.type,void 0,Ct);break;case 11:a=dv(l,a,a.pendingProps,a.type.render,a.ref,Ct);break;case 5:J0(a);default:bv(l,a),a=Et=KT(a,sa),a=_v(l,a,sa)}i.memoizedProps=i.pendingProps,a===null?Vd(i):Et=a}function sl(i,a,l,h){Ws=$o=null,J0(a),Qu=null,qc=0;var g=a.return;try{if(F3(i,g,a,l,Ct)){An=1,Rd(i,Di(l,i.current)),Et=null;return}}catch(y){if(g!==null)throw Et=g,y;An=1,Rd(i,Di(l,i.current)),Et=null;return}a.flags&32768?(Mt||h===1?i=!0:el||(Ct&536870912)!==0?i=!1:(Ma=i=!0,(h===2||h===9||h===3||h===6)&&(h=Pi.current,h!==null&&h.tag===13&&(h.flags|=16384))),Kv(a,i)):Vd(a)}function Vd(i){var a=i;do{if((a.flags&32768)!==0){Kv(a,Ma);return}i=a.return;var l=z3(a.alternate,a,sa);if(l!==null){Et=l;return}if(a=a.sibling,a!==null){Et=a;return}Et=a=i}while(a!==null);An===0&&(An=5)}function Kv(i,a){do{var l=j3(i.alternate,i);if(l!==null){l.flags&=32767,Et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Et=i;return}Et=i=l}while(i!==null);An=6,Et=null}function Xv(i,a,l,h,g,y,C,F,Z){i.cancelPendingCommit=null;do Fd();while(gr!==0);if((Gt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=N0,vr(i,l,y,C,F,Z),i===sn&&(Et=sn=null,Ct=0),nl=a,Ua=i,rl=l,kg=y,Lg=g,Vv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,t6(Nn,function(){return eS(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=V.T,V.T=null,g=Q.p,Q.p=2,C=Gt,Gt|=4;try{q3(i,a,l)}finally{Gt=C,Q.p=g,V.T=h}}gr=1,Qv(),Wv(),Zv()}}function Qv(){if(gr===1){gr=0;var i=Ua,a=nl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=V.T,V.T=null;var h=Q.p;Q.p=2;var g=Gt;Gt|=4;try{Dv(a,i);var y=Qg,C=UT(i.containerInfo),F=y.focusedElem,Z=y.selectionRange;if(C!==F&&F&&F.ownerDocument&&BT(F.ownerDocument.documentElement,F)){if(Z!==null&&S0(F)){var fe=Z.start,be=Z.end;if(be===void 0&&(be=fe),"selectionStart"in F)F.selectionStart=fe,F.selectionEnd=Math.min(be,F.value.length);else{var Ae=F.ownerDocument||document,de=Ae&&Ae.defaultView||window;if(de.getSelection){var me=de.getSelection(),tt=F.textContent.length,We=Math.min(Z.start,tt),Jt=Z.end===void 0?We:Math.min(Z.end,tt);!me.extend&&We>Jt&&(C=Jt,Jt=We,We=C);var ue=PT(F,We),se=PT(F,Jt);if(ue&&se&&(me.rangeCount!==1||me.anchorNode!==ue.node||me.anchorOffset!==ue.offset||me.focusNode!==se.node||me.focusOffset!==se.offset)){var ce=Ae.createRange();ce.setStart(ue.node,ue.offset),me.removeAllRanges(),We>Jt?(me.addRange(ce),me.extend(se.node,se.offset)):(ce.setEnd(se.node,se.offset),me.addRange(ce))}}}}for(Ae=[],me=F;me=me.parentNode;)me.nodeType===1&&Ae.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Ae.length;F++){var ve=Ae[F];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Zd=!!Xg,Qg=Xg=null}finally{Gt=g,Q.p=h,V.T=l}}i.current=a,gr=2}}function Wv(){if(gr===2){gr=0;var i=Ua,a=nl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=V.T,V.T=null;var h=Q.p;Q.p=2;var g=Gt;Gt|=4;try{Nv(i,a.alternate,a)}finally{Gt=g,Q.p=h,V.T=l}}gr=3}}function Zv(){if(gr===4||gr===3){gr=0,cn();var i=Ua,a=nl,l=rl,h=Vv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gr=5:(gr=0,nl=Ua=null,Jv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ba=null),Ki(l),a=a.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(ae,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=V.T,g=Q.p,Q.p=2,V.T=null;try{for(var y=i.onRecoverableError,C=0;C<h.length;C++){var F=h[C];y(F.value,{componentStack:F.stack})}}finally{V.T=a,Q.p=g}}(rl&3)!==0&&Fd(),Ss(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Mg?Jc++:(Jc=0,Mg=i):Jc=0,eh(0)}}function Jv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,kc(a)))}function Fd(i){return Qv(),Wv(),Zv(),eS()}function eS(){if(gr!==5)return!1;var i=Ua,a=kg;kg=0;var l=Ki(rl),h=V.T,g=Q.p;try{Q.p=32>l?32:l,V.T=null,l=Lg,Lg=null;var y=Ua,C=rl;if(gr=0,nl=Ua=null,rl=0,(Gt&6)!==0)throw Error(r(331));var F=Gt;if(Gt|=4,Bv(y.current),Lv(y,y.current,C,l),Gt=F,eh(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(ae,y)}catch{}return!0}finally{Q.p=g,V.T=h,Jv(i,a)}}function tS(i,a,l){a=Di(l,a),a=dg(i.stateNode,a,2),i=Na(i,a,2),i!==null&&(Dr(i,2),Ss(i))}function tn(i,a,l){if(i.tag===3)tS(i,i,l);else for(;a!==null;){if(a.tag===3){tS(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ba===null||!Ba.has(h))){i=Di(l,i),l=sv(2),h=Na(a,l,2),h!==null&&(av(l,h,a,i),Dr(h,2),Ss(h));break}}a=a.return}}function Vg(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new G3;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(l)||(xg=!0,g.add(l),i=Z3.bind(null,i,a,l),a.then(i,i))}function Z3(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,sn===i&&(Ct&l)===l&&(An===4||An===3&&(Ct&62914560)===Ct&&300>Ke()-Dg?(Gt&2)===0&&il(i,0):Rg|=l,tl===Ct&&(tl=0)),Ss(i)}function nS(i,a){a===0&&(a=br()),i=Fu(i,a),i!==null&&(Dr(i,a),Ss(i))}function J3(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),nS(i,l)}function e6(i,a){var l=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),nS(i,l)}function t6(i,a){return Ot(i,a)}var Hd=null,al=null,Fg=!1,zd=!1,Hg=!1,Jo=0;function Ss(i){i!==al&&i.next===null&&(al===null?Hd=al=i:al=al.next=i),zd=!0,Fg||(Fg=!0,r6())}function eh(i,a){if(!Hg&&zd){Hg=!0;do for(var l=!1,h=Hd;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var C=h.suspendedLanes,F=h.pingedLanes;y=(1<<31-Ye(42|i)+1)-1,y&=g&~(C&~F),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,aS(h,y))}else y=Ct,y=ct(h,h===sn?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||en(h,y)||(l=!0,aS(h,y));h=h.next}while(l);Hg=!1}}function n6(){rS()}function rS(){zd=Fg=!1;var i=0;Jo!==0&&(h6()&&(i=Jo),Jo=0);for(var a=Ke(),l=null,h=Hd;h!==null;){var g=h.next,y=iS(h,a);y===0?(h.next=null,l===null?Hd=g:l.next=g,g===null&&(al=l)):(l=h,(i!==0||(y&3)!==0)&&(zd=!0)),h=g}eh(i)}function iS(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var C=31-Ye(y),F=1<<C,Z=g[C];Z===-1?((F&l)===0||(F&h)!==0)&&(g[C]=Xt(F,a)):Z<=a&&(i.expiredLanes|=F),y&=~F}if(a=sn,l=Ct,l=ct(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Dt(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||en(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&Dt(h),Ki(l)){case 2:case 8:l=Cn;break;case 32:l=Nn;break;case 268435456:l=xn;break;default:l=Nn}return h=sS.bind(null,i),l=Ot(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&Dt(h),i.callbackPriority=2,i.callbackNode=null,2}function sS(i,a){if(gr!==0&&gr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Fd()&&i.callbackNode!==l)return null;var h=Ct;return h=ct(i,i===sn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Hv(i,h,a),iS(i,Ke()),i.callbackNode!=null&&i.callbackNode===l?sS.bind(null,i):null)}function aS(i,a){if(Fd())return null;Hv(i,a,!0)}function r6(){d6(function(){(Gt&6)!==0?Ot(nn,n6):rS()})}function zg(){return Jo===0&&(Jo=Gi()),Jo}function oS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:zs(""+i)}function uS(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function i6(i,a,l,h,g){if(a==="submit"&&l&&l.stateNode===g){var y=oS((g[mn]||null).action),C=h.submitter;C&&(a=(a=C[mn]||null)?oS(a.formAction):C.getAttribute("formAction"),a!==null&&(y=a,C=null));var F=new xu("action","action",null,h,g);i.push({event:F,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Jo!==0){var Z=C?uS(g,C):new FormData(g);ug(l,{pending:!0,data:Z,method:g.method,action:y},null,Z)}}else typeof y=="function"&&(F.preventDefault(),Z=C?uS(g,C):new FormData(g),ug(l,{pending:!0,data:Z,method:g.method,action:y},y,Z))},currentTarget:g}]})}}for(var jg=0;jg<C0.length;jg++){var qg=C0[jg],s6=qg.toLowerCase(),a6=qg[0].toUpperCase()+qg.slice(1);Wi(s6,"on"+a6)}Wi(HT,"onAnimationEnd"),Wi(zT,"onAnimationIteration"),Wi(jT,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(S3,"onTransitionRun"),Wi(A3,"onTransitionStart"),Wi(w3,"onTransitionCancel"),Wi(qT,"onTransitionEnd"),gt("onMouseEnter",["mouseout","mouseover"]),gt("onMouseLeave",["mouseout","mouseover"]),gt("onPointerEnter",["pointerout","pointerover"]),gt("onPointerLeave",["pointerout","pointerover"]),Be("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Be("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Be("onBeforeInput",["compositionend","keypress","textInput","paste"]),Be("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Be("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(th));function lS(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var C=h.length-1;0<=C;C--){var F=h[C],Z=F.instance,fe=F.currentTarget;if(F=F.listener,Z!==y&&g.isPropagationStopped())break e;y=F,g.currentTarget=fe;try{y(g)}catch(be){xd(be)}g.currentTarget=null,y=Z}else for(C=0;C<h.length;C++){if(F=h[C],Z=F.instance,fe=F.currentTarget,F=F.listener,Z!==y&&g.isPropagationStopped())break e;y=F,g.currentTarget=fe;try{y(g)}catch(be){xd(be)}g.currentTarget=null,y=Z}}}}function yt(i,a){var l=a[ls];l===void 0&&(l=a[ls]=new Set);var h=i+"__bubble";l.has(h)||(cS(a,i,2,!1),l.add(h))}function Yg(i,a,l){var h=0;a&&(h|=4),cS(l,i,h,a)}var jd="_reactListening"+Math.random().toString(36).slice(2);function $g(i){if(!i[jd]){i[jd]=!0,ge.forEach(function(l){l!=="selectionchange"&&(o6.has(l)||Yg(l,!1,i),Yg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[jd]||(a[jd]=!0,Yg("selectionchange",!1,a))}}function cS(i,a,l,h){switch(LS(a)){case 2:var g=L6;break;case 8:g=M6;break;default:g=aE}l=g.bind(null,a,l,i),g=void 0,!Ri||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function Gg(i,a,l,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var F=h.stateNode.containerInfo;if(F===g)break;if(C===4)for(C=h.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;F!==null;){if(C=Mr(F),C===null)return;if(Z=C.tag,Z===5||Z===6||Z===26||Z===27){h=y=C;continue e}F=F.parentNode}}h=h.return}Yf(function(){var fe=y,be=dr(l),Ae=[];e:{var de=YT.get(i);if(de!==void 0){var me=xu,tt=i;switch(i){case"keypress":if(ms(l)===0)break e;case"keydown":case"keyup":me=Mu;break;case"focusin":tt="focus",me=Du;break;case"focusout":tt="blur",me=Du;break;case"beforeblur":case"afterblur":me=Du;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=_0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=Jf;break;case HT:case zT:case jT:me=ku;break;case qT:me=td;break;case"scroll":case"scrollend":me=$f;break;case"wheel":me=Pu;break;case"copy":case"cut":case"paste":me=Lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=wc;break;case"toggle":case"beforetoggle":me=rd}var We=(a&4)!==0,Jt=!We&&(i==="scroll"||i==="scrollend"),ue=We?de!==null?de+"Capture":null:de;We=[];for(var se=fe,ce;se!==null;){var ve=se;if(ce=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ce===null||ue===null||(ve=Do(se,ue),ve!=null&&We.push(nh(se,ve,ce))),Jt)break;se=se.return}0<We.length&&(de=new me(de,tt,null,l,be),Ae.push({event:de,listeners:We}))}}if((a&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",de&&l!==$r&&(tt=l.relatedTarget||l.fromElement)&&(Mr(tt)||tt[bn]))break e;if((me||de)&&(de=be.window===be?be:(de=be.ownerDocument)?de.defaultView||de.parentWindow:window,me?(tt=l.relatedTarget||l.toElement,me=fe,tt=tt?Mr(tt):null,tt!==null&&(Jt=o(tt),We=tt.tag,tt!==Jt||We!==5&&We!==27&&We!==6)&&(tt=null)):(me=null,tt=fe),me!==tt)){if(We=Oi,ve="onMouseLeave",ue="onMouseEnter",se="mouse",(i==="pointerout"||i==="pointerover")&&(We=wc,ve="onPointerLeave",ue="onPointerEnter",se="pointer"),Jt=me==null?de:Pr(me),ce=tt==null?de:Pr(tt),de=new We(ve,se+"leave",me,l,be),de.target=Jt,de.relatedTarget=ce,ve=null,Mr(be)===fe&&(We=new We(ue,se+"enter",tt,l,be),We.target=ce,We.relatedTarget=Jt,ve=We),Jt=ve,me&&tt)t:{for(We=me,ue=tt,se=0,ce=We;ce;ce=ol(ce))se++;for(ce=0,ve=ue;ve;ve=ol(ve))ce++;for(;0<se-ce;)We=ol(We),se--;for(;0<ce-se;)ue=ol(ue),ce--;for(;se--;){if(We===ue||ue!==null&&We===ue.alternate)break t;We=ol(We),ue=ol(ue)}We=null}else We=null;me!==null&&hS(Ae,de,me,We,!1),tt!==null&&Jt!==null&&hS(Ae,Jt,tt,We,!0)}}e:{if(de=fe?Pr(fe):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var ze=RT;else if(Gn(de))if(OT)ze=T3;else{ze=y3;var dt=E3}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?fe&&Hs(fe.elementType)&&(ze=RT):ze=_3;if(ze&&(ze=ze(i,fe))){Gs(Ae,ze,l,be);break e}dt&&dt(i,de,fe),i==="focusout"&&fe&&de.type==="number"&&fe.memoizedProps.value!=null&&hr(de,"number",de.value)}switch(dt=fe?Pr(fe):window,i){case"focusin":(Gn(dt)||dt.contentEditable==="true")&&(Bu=dt,A0=fe,Nc=null);break;case"focusout":Nc=A0=Bu=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,VT(Ae,l,be);break;case"selectionchange":if(v3)break;case"keydown":case"keyup":VT(Ae,l,be)}var $e;if(Es)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else wt?Ee(i,l)&&(Ze="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ze="onCompositionStart");Ze&&(w&&l.locale!=="ko"&&(wt||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&wt&&($e=Tc()):(ds=be,Aa="value"in ds?ds.value:ds.textContent,wt=!0)),dt=qd(fe,Ze),0<dt.length&&(Ze=new Sc(Ze,i,null,l,be),Ae.push({event:Ze,listeners:dt}),$e?Ze.data=$e:($e=Me(l),$e!==null&&(Ze.data=$e)))),($e=v?$n(i,l):It(i,l))&&(Ze=qd(fe,"onBeforeInput"),0<Ze.length&&(dt=new Sc("onBeforeInput","beforeinput",null,l,be),Ae.push({event:dt,listeners:Ze}),dt.data=$e)),i6(Ae,i,fe,l,be)}lS(Ae,a)})}function nh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function qd(i,a){for(var l=a+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Do(i,l),g!=null&&h.unshift(nh(i,g,y)),g=Do(i,a),g!=null&&h.push(nh(i,g,y))),i.tag===3)return h;i=i.return}return[]}function ol(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hS(i,a,l,h,g){for(var y=a._reactName,C=[];l!==null&&l!==h;){var F=l,Z=F.alternate,fe=F.stateNode;if(F=F.tag,Z!==null&&Z===h)break;F!==5&&F!==26&&F!==27||fe===null||(Z=fe,g?(fe=Do(l,y),fe!=null&&C.unshift(nh(l,fe,Z))):g||(fe=Do(l,y),fe!=null&&C.push(nh(l,fe,Z)))),l=l.return}C.length!==0&&i.push({event:a,listeners:C})}var u6=/\r\n?/g,l6=/\u0000|\uFFFD/g;function fS(i){return(typeof i=="string"?i:""+i).replace(u6,`
`).replace(l6,"")}function dS(i,a){return a=fS(a),fS(i)===a}function Yd(){}function Zt(i,a,l,h,g,y){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||fr(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&fr(i,""+h);break;case"className":kt(i,"class",h);break;case"tabIndex":kt(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":kt(i,l,h);break;case"style":hs(i,h,y);break;case"data":if(a!=="object"){kt(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=zs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Zt(i,a,"name",g.name,g,null),Zt(i,a,"formEncType",g.formEncType,g,null),Zt(i,a,"formMethod",g.formMethod,g,null),Zt(i,a,"formTarget",g.formTarget,g,null)):(Zt(i,a,"encType",g.encType,g,null),Zt(i,a,"method",g.method,g,null),Zt(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=zs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Yd);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=zs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":yt("beforetoggle",i),yt("toggle",i),Vt(i,"popover",h);break;case"xlinkActuate":Ft(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ft(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ft(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ft(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ft(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ft(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ft(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Vt(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=va.get(l)||l,Vt(i,l,h))}}function Kg(i,a,l,h,g,y){switch(l){case"style":hs(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?fr(i,h):(typeof h=="number"||typeof h=="bigint")&&fr(i,""+h);break;case"onScroll":h!=null&&yt("scroll",i);break;case"onScrollEnd":h!=null&&yt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Yd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oe.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=i[mn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Vt(i,l,h)}}}function Er(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",i),yt("load",i);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var C=l[y];if(C!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Zt(i,a,y,C,l,null)}}g&&Zt(i,a,"srcSet",l.srcSet,l,null),h&&Zt(i,a,"src",l.src,l,null);return;case"input":yt("invalid",i);var F=y=C=g=null,Z=null,fe=null;for(h in l)if(l.hasOwnProperty(h)){var be=l[h];if(be!=null)switch(h){case"name":g=be;break;case"type":C=be;break;case"checked":Z=be;break;case"defaultChecked":fe=be;break;case"value":y=be;break;case"defaultValue":F=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:Zt(i,a,h,be,l,null)}}cr(i,y,F,Z,fe,C,g,!1),At(i);return;case"select":yt("invalid",i),h=C=y=null;for(g in l)if(l.hasOwnProperty(g)&&(F=l[g],F!=null))switch(g){case"value":y=F;break;case"defaultValue":C=F;break;case"multiple":h=F;default:Zt(i,a,g,F,l,null)}a=y,l=C,i.multiple=!!h,a!=null?Vr(i,!!h,a,!1):l!=null&&Vr(i,!!h,l,!0);return;case"textarea":yt("invalid",i),y=g=h=null;for(C in l)if(l.hasOwnProperty(C)&&(F=l[C],F!=null))switch(C){case"value":h=F;break;case"defaultValue":g=F;break;case"children":y=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Zt(i,a,C,F,l,null)}Xi(i,h,g,y),At(i);return;case"option":for(Z in l)if(l.hasOwnProperty(Z)&&(h=l[Z],h!=null))switch(Z){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Zt(i,a,Z,h,l,null)}return;case"dialog":yt("beforetoggle",i),yt("toggle",i),yt("cancel",i),yt("close",i);break;case"iframe":case"object":yt("load",i);break;case"video":case"audio":for(h=0;h<th.length;h++)yt(th[h],i);break;case"image":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"embed":case"source":case"link":yt("error",i),yt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in l)if(l.hasOwnProperty(fe)&&(h=l[fe],h!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Zt(i,a,fe,h,l,null)}return;default:if(Hs(a)){for(be in l)l.hasOwnProperty(be)&&(h=l[be],h!==void 0&&Kg(i,a,be,h,l,void 0));return}}for(F in l)l.hasOwnProperty(F)&&(h=l[F],h!=null&&Zt(i,a,F,h,l,null))}function c6(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,C=null,F=null,Z=null,fe=null,be=null;for(me in l){var Ae=l[me];if(l.hasOwnProperty(me)&&Ae!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Z=Ae;default:h.hasOwnProperty(me)||Zt(i,a,me,null,h,Ae)}}for(var de in h){var me=h[de];if(Ae=l[de],h.hasOwnProperty(de)&&(me!=null||Ae!=null))switch(de){case"type":y=me;break;case"name":g=me;break;case"checked":fe=me;break;case"defaultChecked":be=me;break;case"value":C=me;break;case"defaultValue":F=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,a));break;default:me!==Ae&&Zt(i,a,de,me,h,Ae)}}rn(i,C,F,Z,fe,be,y,g);return;case"select":me=C=F=de=null;for(y in l)if(Z=l[y],l.hasOwnProperty(y)&&Z!=null)switch(y){case"value":break;case"multiple":me=Z;default:h.hasOwnProperty(y)||Zt(i,a,y,null,h,Z)}for(g in h)if(y=h[g],Z=l[g],h.hasOwnProperty(g)&&(y!=null||Z!=null))switch(g){case"value":de=y;break;case"defaultValue":F=y;break;case"multiple":C=y;default:y!==Z&&Zt(i,a,g,y,h,Z)}a=F,l=C,h=me,de!=null?Vr(i,!!l,de,!1):!!h!=!!l&&(a!=null?Vr(i,!!l,a,!0):Vr(i,!!l,l?[]:"",!1));return;case"textarea":me=de=null;for(F in l)if(g=l[F],l.hasOwnProperty(F)&&g!=null&&!h.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Zt(i,a,F,null,h,g)}for(C in h)if(g=h[C],y=l[C],h.hasOwnProperty(C)&&(g!=null||y!=null))switch(C){case"value":de=g;break;case"defaultValue":me=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Zt(i,a,C,g,h,y)}xt(i,de,me);return;case"option":for(var tt in l)if(de=l[tt],l.hasOwnProperty(tt)&&de!=null&&!h.hasOwnProperty(tt))switch(tt){case"selected":i.selected=!1;break;default:Zt(i,a,tt,null,h,de)}for(Z in h)if(de=h[Z],me=l[Z],h.hasOwnProperty(Z)&&de!==me&&(de!=null||me!=null))switch(Z){case"selected":i.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Zt(i,a,Z,de,h,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in l)de=l[We],l.hasOwnProperty(We)&&de!=null&&!h.hasOwnProperty(We)&&Zt(i,a,We,null,h,de);for(fe in h)if(de=h[fe],me=l[fe],h.hasOwnProperty(fe)&&de!==me&&(de!=null||me!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:Zt(i,a,fe,de,h,me)}return;default:if(Hs(a)){for(var Jt in l)de=l[Jt],l.hasOwnProperty(Jt)&&de!==void 0&&!h.hasOwnProperty(Jt)&&Kg(i,a,Jt,void 0,h,de);for(be in h)de=h[be],me=l[be],!h.hasOwnProperty(be)||de===me||de===void 0&&me===void 0||Kg(i,a,be,de,h,me);return}}for(var ue in l)de=l[ue],l.hasOwnProperty(ue)&&de!=null&&!h.hasOwnProperty(ue)&&Zt(i,a,ue,null,h,de);for(Ae in h)de=h[Ae],me=l[Ae],!h.hasOwnProperty(Ae)||de===me||de==null&&me==null||Zt(i,a,Ae,de,h,me)}var Xg=null,Qg=null;function $d(i){return i.nodeType===9?i:i.ownerDocument}function mS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pS(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Wg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zg=null;function h6(){var i=window.event;return i&&i.type==="popstate"?i===Zg?!1:(Zg=i,!0):(Zg=null,!1)}var gS=typeof setTimeout=="function"?setTimeout:void 0,f6=typeof clearTimeout=="function"?clearTimeout:void 0,ES=typeof Promise=="function"?Promise:void 0,d6=typeof queueMicrotask=="function"?queueMicrotask:typeof ES<"u"?function(i){return ES.resolve(null).then(i).catch(m6)}:gS;function m6(i){setTimeout(function(){throw i})}function Fa(i){return i==="head"}function yS(i,a){var l=a,h=0,g=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<h&&8>h){l=h;var C=i.ownerDocument;if(l&1&&rh(C.documentElement),l&2&&rh(C.body),l&4)for(l=C.head,rh(l),C=l.firstChild;C;){var F=C.nextSibling,Z=C.nodeName;C[wi]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=F}}if(g===0){i.removeChild(y),hh(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=y}while(l);hh(a)}function Jg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jg(l),oi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function p6(i,a,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[wi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Ji(i.nextSibling),i===null)break}return null}function g6(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ji(i.nextSibling),i===null))return null;return i}function eE(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function E6(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ji(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var tE=null;function _S(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function TS(i,a,l){switch(a=$d(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function rh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);oi(i)}var Ui=new Map,bS=new Set;function Gd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var aa=Q.d;Q.d={f:y6,r:_6,D:T6,C:b6,L:v6,m:S6,X:w6,S:A6,M:I6};function y6(){var i=aa.f(),a=Ud();return i||a}function _6(i){var a=Zn(i);a!==null&&a.tag===5&&a.type==="form"?Hb(a):aa.r(i)}var ul=typeof document>"u"?null:document;function vS(i,a,l){var h=ul;if(h&&typeof a=="string"&&a){var g=pn(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),bS.has(g)||(bS.add(g),i={rel:i,crossOrigin:l,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Er(a,"link",i),ne(a),h.head.appendChild(a)))}}function T6(i){aa.D(i),vS("dns-prefetch",i,null)}function b6(i,a){aa.C(i,a),vS("preconnect",i,a)}function v6(i,a,l){aa.L(i,a,l);var h=ul;if(h&&i&&a){var g='link[rel="preload"][as="'+pn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+pn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+pn(l.imageSizes)+'"]')):g+='[href="'+pn(i)+'"]';var y=g;switch(a){case"style":y=ll(i);break;case"script":y=cl(i)}Ui.has(y)||(i=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ui.set(y,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(ih(y))||a==="script"&&h.querySelector(sh(y))||(a=h.createElement("link"),Er(a,"link",i),ne(a),h.head.appendChild(a)))}}function S6(i,a){aa.m(i,a);var l=ul;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+pn(h)+'"][href="'+pn(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cl(i)}if(!Ui.has(y)&&(i=m({rel:"modulepreload",href:i},a),Ui.set(y,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(sh(y)))return}h=l.createElement("link"),Er(h,"link",i),ne(h),l.head.appendChild(h)}}}function A6(i,a,l){aa.S(i,a,l);var h=ul;if(h&&i){var g=Yn(h).hoistableStyles,y=ll(i);a=a||"default";var C=g.get(y);if(!C){var F={loading:0,preload:null};if(C=h.querySelector(ih(y)))F.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ui.get(y))&&nE(i,l);var Z=C=h.createElement("link");ne(Z),Er(Z,"link",i),Z._p=new Promise(function(fe,be){Z.onload=fe,Z.onerror=be}),Z.addEventListener("load",function(){F.loading|=1}),Z.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Kd(C,a,h)}C={type:"stylesheet",instance:C,count:1,state:F},g.set(y,C)}}}function w6(i,a){aa.X(i,a);var l=ul;if(l&&i){var h=Yn(l).hoistableScripts,g=cl(i),y=h.get(g);y||(y=l.querySelector(sh(g)),y||(i=m({src:i,async:!0},a),(a=Ui.get(g))&&rE(i,a),y=l.createElement("script"),ne(y),Er(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function I6(i,a){aa.M(i,a);var l=ul;if(l&&i){var h=Yn(l).hoistableScripts,g=cl(i),y=h.get(g);y||(y=l.querySelector(sh(g)),y||(i=m({src:i,async:!0,type:"module"},a),(a=Ui.get(g))&&rE(i,a),y=l.createElement("script"),ne(y),Er(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function SS(i,a,l,h){var g=(g=Ce.current)?Gd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ll(l.href),l=Yn(g).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ll(l.href);var y=Yn(g).hoistableStyles,C=y.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,C),(y=g.querySelector(ih(i)))&&!y._p&&(C.instance=y,C.state.loading=5),Ui.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ui.set(i,l),y||C6(g,i,l,C.state))),a&&h===null)throw Error(r(528,""));return C}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=cl(l),l=Yn(g).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ll(i){return'href="'+pn(i)+'"'}function ih(i){return'link[rel="stylesheet"]['+i+"]"}function AS(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function C6(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Er(a,"link",l),ne(a),i.head.appendChild(a))}function cl(i){return'[src="'+pn(i)+'"]'}function sh(i){return"script[async]"+i}function wS(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+pn(l.href)+'"]');if(h)return a.instance=h,ne(h),h;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ne(h),Er(h,"style",g),Kd(h,l.precedence,i),a.instance=h;case"stylesheet":g=ll(l.href);var y=i.querySelector(ih(g));if(y)return a.state.loading|=4,a.instance=y,ne(y),y;h=AS(l),(g=Ui.get(g))&&nE(h,g),y=(i.ownerDocument||i).createElement("link"),ne(y);var C=y;return C._p=new Promise(function(F,Z){C.onload=F,C.onerror=Z}),Er(y,"link",h),a.state.loading|=4,Kd(y,l.precedence,i),a.instance=y;case"script":return y=cl(l.src),(g=i.querySelector(sh(y)))?(a.instance=g,ne(g),g):(h=l,(g=Ui.get(y))&&(h=m({},l),rE(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),ne(g),Er(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Kd(h,l.precedence,i));return a.instance}function Kd(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,C=0;C<h.length;C++){var F=h[C];if(F.dataset.precedence===a)y=F;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function nE(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function rE(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Xd=null;function IS(i,a,l){if(Xd===null){var h=new Map,g=Xd=new Map;g.set(l,h)}else g=Xd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[wi]||y[Bt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(a)||"";C=i+C;var F=h.get(C);F?F.push(y):h.set(C,[y])}}return h}function CS(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function N6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function NS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ah=null;function x6(){}function R6(i,a,l){if(ah===null)throw Error(r(475));var h=ah;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=ll(l.href),y=i.querySelector(ih(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Qd.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=y,ne(y);return}y=i.ownerDocument||i,l=AS(l),(g=Ui.get(g))&&nE(l,g),y=y.createElement("link"),ne(y);var C=y;C._p=new Promise(function(F,Z){C.onload=F,C.onerror=Z}),Er(y,"link",l),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Qd.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function O6(){if(ah===null)throw Error(r(475));var i=ah;return i.stylesheets&&i.count===0&&iE(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&iE(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Qd(){if(this.count--,this.count===0){if(this.stylesheets)iE(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wd=null;function iE(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wd=new Map,a.forEach(D6,i),Wd=null,Qd.call(i))}function D6(i,a){if(!(a.state.loading&4)){var l=Wd.get(i);if(l)var h=l.get(null);else{l=new Map,Wd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var C=g[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}g=a.instance,C=g.getAttribute("data-precedence"),y=l.get(C)||h,y===h&&l.set(null,g),l.set(C,g),this.count++,h=Qd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var oh={$$typeof:Y,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function k6(i,a,l,h,g,y,C,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function xS(i,a,l,h,g,y,C,F,Z,fe,be,Ae){return i=new k6(i,a,l,C,F,Z,fe,Ae),a=1,y===!0&&(a|=24),y=li(3,null,null,a),i.current=y,y.stateNode=i,a=V0(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:a},j0(y),i}function RS(i){return i?(i=Hu,i):Hu}function OS(i,a,l,h,g,y){g=RS(g),h.context===null?h.context=g:h.pendingContext=g,h=Ca(a),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Na(i,h,a),l!==null&&(mi(l,i,a),Bc(l,i,a))}function DS(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function sE(i,a){DS(i,a),(i=i.alternate)&&DS(i,a)}function kS(i){if(i.tag===13){var a=Fu(i,67108864);a!==null&&mi(a,i,67108864),sE(i,67108864)}}var Zd=!0;function L6(i,a,l,h){var g=V.T;V.T=null;var y=Q.p;try{Q.p=2,aE(i,a,l,h)}finally{Q.p=y,V.T=g}}function M6(i,a,l,h){var g=V.T;V.T=null;var y=Q.p;try{Q.p=8,aE(i,a,l,h)}finally{Q.p=y,V.T=g}}function aE(i,a,l,h){if(Zd){var g=oE(h);if(g===null)Gg(i,a,h,Jd,l),MS(i,h);else if(B6(g,i,a,l,h))h.stopPropagation();else if(MS(i,h),a&4&&-1<P6.indexOf(i)){for(;g!==null;){var y=Zn(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=St(y.pendingLanes);if(C!==0){var F=y;for(F.pendingLanes|=2,F.entangledLanes|=2;C;){var Z=1<<31-Ye(C);F.entanglements[1]|=Z,C&=~Z}Ss(y),(Gt&6)===0&&(Pd=Ke()+500,eh(0))}}break;case 13:F=Fu(y,2),F!==null&&mi(F,y,2),Ud(),sE(y,2)}if(y=oE(h),y===null&&Gg(i,a,h,Jd,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else Gg(i,a,h,null,l)}}function oE(i){return i=dr(i),uE(i)}var Jd=null;function uE(i){if(Jd=null,i=Mr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Jd=i,null}function LS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case nn:return 2;case Cn:return 8;case Nn:case Mn:return 32;case xn:return 268435456;default:return 32}default:return 32}}var lE=!1,Ha=null,za=null,ja=null,uh=new Map,lh=new Map,qa=[],P6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MS(i,a){switch(i){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":uh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(a.pointerId)}}function ch(i,a,l,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Zn(a),a!==null&&kS(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function B6(i,a,l,h,g){switch(a){case"focusin":return Ha=ch(Ha,i,a,l,h,g),!0;case"dragenter":return za=ch(za,i,a,l,h,g),!0;case"mouseover":return ja=ch(ja,i,a,l,h,g),!0;case"pointerover":var y=g.pointerId;return uh.set(y,ch(uh.get(y)||null,i,a,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,lh.set(y,ch(lh.get(y)||null,i,a,l,h,g)),!0}return!1}function PS(i){var a=Mr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,ai(i.priority,function(){if(l.tag===13){var h=di();h=si(h);var g=Fu(l,h);g!==null&&mi(g,l,h),sE(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function em(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=oE(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);$r=h,l.target.dispatchEvent(h),$r=null}else return a=Zn(l),a!==null&&kS(a),i.blockedOn=l,!1;a.shift()}return!0}function BS(i,a,l){em(i)&&l.delete(a)}function U6(){lE=!1,Ha!==null&&em(Ha)&&(Ha=null),za!==null&&em(za)&&(za=null),ja!==null&&em(ja)&&(ja=null),uh.forEach(BS),lh.forEach(BS)}function tm(i,a){i.blockedOn===a&&(i.blockedOn=null,lE||(lE=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U6)))}var nm=null;function US(i){nm!==i&&(nm=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nm===i&&(nm=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(uE(h||l)===null)continue;break}var y=Zn(l);y!==null&&(i.splice(a,3),a-=3,ug(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function hh(i){function a(Z){return tm(Z,i)}Ha!==null&&tm(Ha,i),za!==null&&tm(za,i),ja!==null&&tm(ja,i),uh.forEach(a),lh.forEach(a);for(var l=0;l<qa.length;l++){var h=qa[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<qa.length&&(l=qa[0],l.blockedOn===null);)PS(l),l.blockedOn===null&&qa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],C=g[mn]||null;if(typeof y=="function")C||US(l);else if(C){var F=null;if(y&&y.hasAttribute("formAction")){if(g=y,C=y[mn]||null)F=C.formAction;else if(uE(g)!==null)continue}else F=C.action;typeof F=="function"?l[h+1]=F:(l.splice(h,3),h-=3),US(l)}}}function cE(i){this._internalRoot=i}rm.prototype.render=cE.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=di();OS(l,h,i,a,null,null)},rm.prototype.unmount=cE.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;OS(i.current,2,null,i,null,null),Ud(),a[bn]=null}};function rm(i){this._internalRoot=i}rm.prototype.unstable_scheduleHydration=function(i){if(i){var a=kr();i={blockedOn:null,target:i,priority:a};for(var l=0;l<qa.length&&a!==0&&a<qa[l].priority;l++);qa.splice(l,0,i),l===0&&PS(i)}};var VS=e.version;if(VS!=="19.1.0")throw Error(r(527,VS,"19.1.0"));Q.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var V6={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{ae=im.inject(V6),Te=im}catch{}}return dh.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",g=tv,y=nv,C=rv,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(F=a.unstable_transitionCallbacks)),a=xS(i,1,!1,null,null,l,h,g,y,C,F,null),i[bn]=a.current,$g(i),new cE(a)},dh.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,g="",y=tv,C=nv,F=rv,Z=null,fe=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(F=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(Z=l.unstable_transitionCallbacks),l.formState!==void 0&&(fe=l.formState)),a=xS(i,1,!0,a,l??null,h,g,y,C,F,Z,fe),a.context=RS(null),l=a.current,h=di(),h=si(h),g=Ca(h),g.callback=null,Na(l,g,h),l=h,a.current.lanes=l,Dr(a,l),Ss(a),i[bn]=a.current,$g(i),new rm(a)},dh.version="19.1.0",dh}var XS;function K6(){if(XS)return dE.exports;XS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dE.exports=G6(),dE.exports}var X6=K6();function qr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=qr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var EE={exports:{}},yE={},_E={exports:{}},TE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QS;function Q6(){if(QS)return TE;QS=1;var t=bf();function e(E,_){return E===_&&(E!==0||1/E===1/_)||E!==E&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function c(E,_){var b=_(),A=r({inst:{value:b,getSnapshot:_}}),N=A[0].inst,k=A[1];return o(function(){N.value=b,N.getSnapshot=_,f(N)&&k({inst:N})},[E,b,_]),s(function(){return f(N)&&k({inst:N}),E(function(){f(N)&&k({inst:N})})},[E]),u(b),b}function f(E){var _=E.getSnapshot;E=E.value;try{var b=_();return!n(E,b)}catch{return!0}}function d(E,_){return _()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return TE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,TE}var WS;function W6(){return WS||(WS=1,_E.exports=Q6()),_E.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function Z6(){if(ZS)return yE;ZS=1;var t=bf(),e=W6();function n(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,u=t.useEffect,c=t.useMemo,f=t.useDebugValue;return yE.useSyncExternalStoreWithSelector=function(d,m,E,_,b){var A=o(null);if(A.current===null){var N={hasValue:!1,value:null};A.current=N}else N=A.current;A=c(function(){function D($){if(!H){if(H=!0,Y=$,$=_($),b!==void 0&&N.hasValue){var R=N.value;if(b(R,$))return z=R}return z=$}if(R=z,r(Y,$))return R;var x=_($);return b!==void 0&&b(R,x)?(Y=$,R):(Y=$,z=x)}var H=!1,Y,z,ee=E===void 0?null:E;return[function(){return D(m())},ee===null?void 0:function(){return D(ee())}]},[m,E,_,b]);var k=s(d,A[0],A[1]);return u(function(){N.hasValue=!0,N.value=k},[k]),f(k),k},yE}var JS;function J6(){return JS||(JS=1,EE.exports=Z6()),EE.exports}var ek=J6();const tk=Tu(ek),nk={},eA=t=>{let e;const n=new Set,r=(m,E)=>{const _=typeof m=="function"?m(e):m;if(!Object.is(_,e)){const b=e;e=E??(typeof _!="object"||_===null)?_:Object.assign({},e,_),n.forEach(A=>A(e,b))}},s=()=>e,f={setState:r,getState:s,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(nk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,f);return f},rk=t=>t?eA(t):eA,{useDebugValue:ik}=ye,{useSyncExternalStoreWithSelector:sk}=tk,ak=t=>t;function hC(t,e=ak,n){const r=sk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return ik(r),r}const tA=(t,e)=>{const n=rk(t),r=(s,o=e)=>hC(n,s,o);return Object.assign(r,n),r},ok=(t,e)=>t?tA(t,e):tA;function Nr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var uk={value:()=>{}};function Dp(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new xm(n)}function xm(t){this._=t}function lk(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}xm.prototype=Dp.prototype={constructor:xm,on:function(t,e){var n=this._,r=lk(t+"",n),s,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((s=(t=r[o]).type)&&(s=ck(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(s=(t=r[o]).type)n[s]=nA(n[s],t.name,e);else if(e==null)for(s in n)n[s]=nA(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xm(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,o;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,s=o.length;r<s;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,o=r.length;s<o;++s)r[s].value.apply(e,n)}};function ck(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function nA(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=uk,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ty="http://www.w3.org/1999/xhtml";const rA={svg:"http://www.w3.org/2000/svg",xhtml:Ty,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function kp(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),rA.hasOwnProperty(e)?{space:rA[e],local:t}:t}function hk(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ty&&e.documentElement.namespaceURI===Ty?e.createElement(t):e.createElementNS(n,t)}}function fk(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fC(t){var e=kp(t);return(e.local?fk:hk)(e)}function dk(){}function L_(t){return t==null?dk:function(){return this.querySelector(t)}}function mk(t){typeof t!="function"&&(t=L_(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=new Array(u),f,d,m=0;m<u;++m)(f=o[m])&&(d=t.call(f,f.__data__,m,o))&&("__data__"in f&&(d.__data__=f.__data__),c[m]=d);return new Si(r,this._parents)}function pk(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function gk(){return[]}function dC(t){return t==null?gk:function(){return this.querySelectorAll(t)}}function Ek(t){return function(){return pk(t.apply(this,arguments))}}function yk(t){typeof t=="function"?t=Ek(t):t=dC(t);for(var e=this._groups,n=e.length,r=[],s=[],o=0;o<n;++o)for(var u=e[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&(r.push(t.call(f,f.__data__,d,u)),s.push(f));return new Si(r,s)}function mC(t){return function(){return this.matches(t)}}function pC(t){return function(e){return e.matches(t)}}var _k=Array.prototype.find;function Tk(t){return function(){return _k.call(this.children,t)}}function bk(){return this.firstElementChild}function vk(t){return this.select(t==null?bk:Tk(typeof t=="function"?t:pC(t)))}var Sk=Array.prototype.filter;function Ak(){return Array.from(this.children)}function wk(t){return function(){return Sk.call(this.children,t)}}function Ik(t){return this.selectAll(t==null?Ak:wk(typeof t=="function"?t:pC(t)))}function Ck(t){typeof t!="function"&&(t=mC(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,d=0;d<u;++d)(f=o[d])&&t.call(f,f.__data__,d,o)&&c.push(f);return new Si(r,this._parents)}function gC(t){return new Array(t.length)}function Nk(){return new Si(this._enter||this._groups.map(gC),this._parents)}function Km(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Km.prototype={constructor:Km,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xk(t){return function(){return t}}function Rk(t,e,n,r,s,o){for(var u=0,c,f=e.length,d=o.length;u<d;++u)(c=e[u])?(c.__data__=o[u],r[u]=c):n[u]=new Km(t,o[u]);for(;u<f;++u)(c=e[u])&&(s[u]=c)}function Ok(t,e,n,r,s,o,u){var c,f,d=new Map,m=e.length,E=o.length,_=new Array(m),b;for(c=0;c<m;++c)(f=e[c])&&(_[c]=b=u.call(f,f.__data__,c,e)+"",d.has(b)?s[c]=f:d.set(b,f));for(c=0;c<E;++c)b=u.call(t,o[c],c,o)+"",(f=d.get(b))?(r[c]=f,f.__data__=o[c],d.delete(b)):n[c]=new Km(t,o[c]);for(c=0;c<m;++c)(f=e[c])&&d.get(_[c])===f&&(s[c]=f)}function Dk(t){return t.__data__}function kk(t,e){if(!arguments.length)return Array.from(this,Dk);var n=e?Ok:Rk,r=this._parents,s=this._groups;typeof t!="function"&&(t=xk(t));for(var o=s.length,u=new Array(o),c=new Array(o),f=new Array(o),d=0;d<o;++d){var m=r[d],E=s[d],_=E.length,b=Lk(t.call(m,m&&m.__data__,d,r)),A=b.length,N=c[d]=new Array(A),k=u[d]=new Array(A),D=f[d]=new Array(_);n(m,E,N,k,D,b,e);for(var H=0,Y=0,z,ee;H<A;++H)if(z=N[H]){for(H>=Y&&(Y=H+1);!(ee=k[Y])&&++Y<A;);z._next=ee||null}}return u=new Si(u,r),u._enter=c,u._exit=f,u}function Lk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Mk(){return new Si(this._exit||this._groups.map(gC),this._parents)}function Pk(t,e,n){var r=this.enter(),s=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?o.remove():n(o),r&&s?r.merge(s).order():s}function Bk(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,o=r.length,u=Math.min(s,o),c=new Array(s),f=0;f<u;++f)for(var d=n[f],m=r[f],E=d.length,_=c[f]=new Array(E),b,A=0;A<E;++A)(b=d[A]||m[A])&&(_[A]=b);for(;f<s;++f)c[f]=n[f];return new Si(c,this._parents)}function Uk(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,o=r[s],u;--s>=0;)(u=r[s])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function Vk(t){t||(t=Fk);function e(E,_){return E&&_?t(E.__data__,_.__data__):!E-!_}for(var n=this._groups,r=n.length,s=new Array(r),o=0;o<r;++o){for(var u=n[o],c=u.length,f=s[o]=new Array(c),d,m=0;m<c;++m)(d=u[m])&&(f[m]=d);f.sort(e)}return new Si(s,this._parents).order()}function Fk(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Hk(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zk(){return Array.from(this)}function jk(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length;s<o;++s){var u=r[s];if(u)return u}return null}function qk(){let t=0;for(const e of this)++t;return t}function Yk(){return!this.node()}function $k(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],o=0,u=s.length,c;o<u;++o)(c=s[o])&&t.call(c,c.__data__,o,s);return this}function Gk(t){return function(){this.removeAttribute(t)}}function Kk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xk(t,e){return function(){this.setAttribute(t,e)}}function Qk(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Zk(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Jk(t,e){var n=kp(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Kk:Gk:typeof e=="function"?n.local?Zk:Wk:n.local?Qk:Xk)(n,e))}function EC(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function e4(t){return function(){this.style.removeProperty(t)}}function t4(t,e,n){return function(){this.style.setProperty(t,e,n)}}function n4(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function r4(t,e,n){return arguments.length>1?this.each((e==null?e4:typeof e=="function"?n4:t4)(t,e,n??"")):jl(this.node(),t)}function jl(t,e){return t.style.getPropertyValue(e)||EC(t).getComputedStyle(t,null).getPropertyValue(e)}function i4(t){return function(){delete this[t]}}function s4(t,e){return function(){this[t]=e}}function a4(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function o4(t,e){return arguments.length>1?this.each((e==null?i4:typeof e=="function"?a4:s4)(t,e)):this.node()[t]}function yC(t){return t.trim().split(/^|\s+/)}function M_(t){return t.classList||new _C(t)}function _C(t){this._node=t,this._names=yC(t.getAttribute("class")||"")}_C.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function TC(t,e){for(var n=M_(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function bC(t,e){for(var n=M_(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function u4(t){return function(){TC(this,t)}}function l4(t){return function(){bC(this,t)}}function c4(t,e){return function(){(e.apply(this,arguments)?TC:bC)(this,t)}}function h4(t,e){var n=yC(t+"");if(arguments.length<2){for(var r=M_(this.node()),s=-1,o=n.length;++s<o;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?c4:e?u4:l4)(n,e))}function f4(){this.textContent=""}function d4(t){return function(){this.textContent=t}}function m4(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function p4(t){return arguments.length?this.each(t==null?f4:(typeof t=="function"?m4:d4)(t)):this.node().textContent}function g4(){this.innerHTML=""}function E4(t){return function(){this.innerHTML=t}}function y4(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _4(t){return arguments.length?this.each(t==null?g4:(typeof t=="function"?y4:E4)(t)):this.node().innerHTML}function T4(){this.nextSibling&&this.parentNode.appendChild(this)}function b4(){return this.each(T4)}function v4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S4(){return this.each(v4)}function A4(t){var e=typeof t=="function"?t:fC(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function w4(){return null}function I4(t,e){var n=typeof t=="function"?t:fC(t),r=e==null?w4:typeof e=="function"?e:L_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function C4(){var t=this.parentNode;t&&t.removeChild(this)}function N4(){return this.each(C4)}function x4(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function R4(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function O4(t){return this.select(t?R4:x4)}function D4(t){return arguments.length?this.property("__data__",t):this.node().__data__}function k4(t){return function(e){t.call(this,e,this.__data__)}}function L4(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function M4(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,o;n<s;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function P4(t,e,n){return function(){var r=this.__on,s,o=k4(e);if(r){for(var u=0,c=r.length;u<c;++u)if((s=r[u]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=o,s.options=n),s.value=e;return}}this.addEventListener(t.type,o,n),s={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(s):this.__on=[s]}}function B4(t,e,n){var r=L4(t+""),s,o=r.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,d=c.length,m;f<d;++f)for(s=0,m=c[f];s<o;++s)if((u=r[s]).type===m.type&&u.name===m.name)return m.value}return}for(c=e?P4:M4,s=0;s<o;++s)this.each(c(r[s],e,n));return this}function vC(t,e,n){var r=EC(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function U4(t,e){return function(){return vC(this,t,e)}}function V4(t,e){return function(){return vC(this,t,e.apply(this,arguments))}}function F4(t,e){return this.each((typeof e=="function"?V4:U4)(t,e))}function*H4(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,o=r.length,u;s<o;++s)(u=r[s])&&(yield u)}var SC=[null];function Si(t,e){this._groups=t,this._parents=e}function vf(){return new Si([[document.documentElement]],SC)}function z4(){return this}Si.prototype=vf.prototype={constructor:Si,select:mk,selectAll:yk,selectChild:vk,selectChildren:Ik,filter:Ck,data:kk,enter:Nk,exit:Mk,join:Pk,merge:Bk,selection:z4,order:Uk,sort:Vk,call:Hk,nodes:zk,node:jk,size:qk,empty:Yk,each:$k,attr:Jk,style:r4,property:o4,classed:h4,text:p4,html:_4,raise:b4,lower:S4,append:A4,insert:I4,remove:N4,clone:O4,datum:D4,on:B4,dispatch:F4,[Symbol.iterator]:H4};function ts(t){return typeof t=="string"?new Si([[document.querySelector(t)]],[document.documentElement]):new Si([[t]],SC)}function j4(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ws(t,e){if(t=j4(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const q4={passive:!1},Jh={capture:!0,passive:!1};function bE(t){t.stopImmediatePropagation()}function Ol(t){t.preventDefault(),t.stopImmediatePropagation()}function AC(t){var e=t.document.documentElement,n=ts(t).on("dragstart.drag",Ol,Jh);"onselectstart"in e?n.on("selectstart.drag",Ol,Jh):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function wC(t,e){var n=t.document.documentElement,r=ts(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ol,Jh),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const sm=t=>()=>t;function by(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:o,x:u,y:c,dx:f,dy:d,dispatch:m}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:m}})}by.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Y4(t){return!t.ctrlKey&&!t.button}function $4(){return this.parentNode}function G4(t,e){return e??{x:t.x,y:t.y}}function K4(){return navigator.maxTouchPoints||"ontouchstart"in this}function X4(){var t=Y4,e=$4,n=G4,r=K4,s={},o=Dp("start","drag","end"),u=0,c,f,d,m,E=0;function _(z){z.on("mousedown.drag",b).filter(r).on("touchstart.drag",k).on("touchmove.drag",D,q4).on("touchend.drag touchcancel.drag",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(z,ee){if(!(m||!t.call(this,z,ee))){var $=Y(this,e.call(this,z,ee),z,ee,"mouse");$&&(ts(z.view).on("mousemove.drag",A,Jh).on("mouseup.drag",N,Jh),AC(z.view),bE(z),d=!1,c=z.clientX,f=z.clientY,$("start",z))}}function A(z){if(Ol(z),!d){var ee=z.clientX-c,$=z.clientY-f;d=ee*ee+$*$>E}s.mouse("drag",z)}function N(z){ts(z.view).on("mousemove.drag mouseup.drag",null),wC(z.view,d),Ol(z),s.mouse("end",z)}function k(z,ee){if(t.call(this,z,ee)){var $=z.changedTouches,R=e.call(this,z,ee),x=$.length,O,M;for(O=0;O<x;++O)(M=Y(this,R,z,ee,$[O].identifier,$[O]))&&(bE(z),M("start",z,$[O]))}}function D(z){var ee=z.changedTouches,$=ee.length,R,x;for(R=0;R<$;++R)(x=s[ee[R].identifier])&&(Ol(z),x("drag",z,ee[R]))}function H(z){var ee=z.changedTouches,$=ee.length,R,x;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),R=0;R<$;++R)(x=s[ee[R].identifier])&&(bE(z),x("end",z,ee[R]))}function Y(z,ee,$,R,x,O){var M=o.copy(),B=ws(O||$,ee),U,I,L;if((L=n.call(z,new by("beforestart",{sourceEvent:$,target:_,identifier:x,active:u,x:B[0],y:B[1],dx:0,dy:0,dispatch:M}),R))!=null)return U=L.x-B[0]||0,I=L.y-B[1]||0,function K(V,Q,re){var ie=B,S;switch(V){case"start":s[x]=K,S=u++;break;case"end":delete s[x],--u;case"drag":B=ws(re||Q,ee),S=u;break}M.call(V,z,new by(V,{sourceEvent:Q,subject:L,target:_,identifier:x,active:S,x:B[0]+U,y:B[1]+I,dx:B[0]-ie[0],dy:B[1]-ie[1],dispatch:M}),R)}}return _.filter=function(z){return arguments.length?(t=typeof z=="function"?z:sm(!!z),_):t},_.container=function(z){return arguments.length?(e=typeof z=="function"?z:sm(z),_):e},_.subject=function(z){return arguments.length?(n=typeof z=="function"?z:sm(z),_):n},_.touchable=function(z){return arguments.length?(r=typeof z=="function"?z:sm(!!z),_):r},_.on=function(){var z=o.on.apply(o,arguments);return z===o?_:z},_.clickDistance=function(z){return arguments.length?(E=(z=+z)*z,_):Math.sqrt(E)},_}function P_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function IC(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sf(){}var ef=.7,Xm=1/ef,Dl="\\s*([+-]?\\d+)\\s*",tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Q4=/^#([0-9a-f]{3,8})$/,W4=new RegExp(`^rgb\\(${Dl},${Dl},${Dl}\\)$`),Z4=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),J4=new RegExp(`^rgba\\(${Dl},${Dl},${Dl},${tf}\\)$`),eL=new RegExp(`^rgba\\(${xs},${xs},${xs},${tf}\\)$`),tL=new RegExp(`^hsl\\(${tf},${xs},${xs}\\)$`),nL=new RegExp(`^hsla\\(${tf},${xs},${xs},${tf}\\)$`),iA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P_(Sf,nf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:sA,formatHex:sA,formatHex8:rL,formatHsl:iL,formatRgb:aA,toString:aA});function sA(){return this.rgb().formatHex()}function rL(){return this.rgb().formatHex8()}function iL(){return CC(this).formatHsl()}function aA(){return this.rgb().formatRgb()}function nf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Q4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?oA(e):n===3?new ti(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?am(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?am(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W4.exec(t))?new ti(e[1],e[2],e[3],1):(e=Z4.exec(t))?new ti(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=J4.exec(t))?am(e[1],e[2],e[3],e[4]):(e=eL.exec(t))?am(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tL.exec(t))?cA(e[1],e[2]/100,e[3]/100,1):(e=nL.exec(t))?cA(e[1],e[2]/100,e[3]/100,e[4]):iA.hasOwnProperty(t)?oA(iA[t]):t==="transparent"?new ti(NaN,NaN,NaN,0):null}function oA(t){return new ti(t>>16&255,t>>8&255,t&255,1)}function am(t,e,n,r){return r<=0&&(t=e=n=NaN),new ti(t,e,n,r)}function sL(t){return t instanceof Sf||(t=nf(t)),t?(t=t.rgb(),new ti(t.r,t.g,t.b,t.opacity)):new ti}function vy(t,e,n,r){return arguments.length===1?sL(t):new ti(t,e,n,r??1)}function ti(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}P_(ti,vy,IC(Sf,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ef:Math.pow(ef,t),new ti(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ti(lu(this.r),lu(this.g),lu(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uA,formatHex:uA,formatHex8:aL,formatRgb:lA,toString:lA}));function uA(){return`#${su(this.r)}${su(this.g)}${su(this.b)}`}function aL(){return`#${su(this.r)}${su(this.g)}${su(this.b)}${su((isNaN(this.opacity)?1:this.opacity)*255)}`}function lA(){const t=Qm(this.opacity);return`${t===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${t===1?")":`, ${t})`}`}function Qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function su(t){return t=lu(t),(t<16?"0":"")+t.toString(16)}function cA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ns(t,e,n,r)}function CC(t){if(t instanceof ns)return new ns(t.h,t.s,t.l,t.opacity);if(t instanceof Sf||(t=nf(t)),!t)return new ns;if(t instanceof ns)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,c=o-s,f=(o+s)/2;return c?(e===o?u=(n-r)/c+(n<r)*6:n===o?u=(r-e)/c+2:u=(e-n)/c+4,c/=f<.5?o+s:2-o-s,u*=60):c=f>0&&f<1?0:u,new ns(u,c,f,t.opacity)}function oL(t,e,n,r){return arguments.length===1?CC(t):new ns(t,e,n,r??1)}function ns(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}P_(ns,oL,IC(Sf,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new ns(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ef:Math.pow(ef,t),new ns(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new ti(vE(t>=240?t-240:t+120,s,r),vE(t,s,r),vE(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new ns(hA(this.h),om(this.s),om(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qm(this.opacity);return`${t===1?"hsl(":"hsla("}${hA(this.h)}, ${om(this.s)*100}%, ${om(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hA(t){return t=(t||0)%360,t<0?t+360:t}function om(t){return Math.max(0,Math.min(1,t||0))}function vE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const NC=t=>()=>t;function uL(t,e){return function(n){return t+n*e}}function lL(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cL(t){return(t=+t)==1?xC:function(e,n){return n-e?lL(e,n,t):NC(isNaN(e)?n:e)}}function xC(t,e){var n=e-t;return n?uL(t,n):NC(isNaN(t)?e:t)}const fA=function t(e){var n=cL(e);function r(s,o){var u=n((s=vy(s)).r,(o=vy(o)).r),c=n(s.g,o.g),f=n(s.b,o.b),d=xC(s.opacity,o.opacity);return function(m){return s.r=u(m),s.g=c(m),s.b=f(m),s.opacity=d(m),s+""}}return r.gamma=t,r}(1);function Wa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Sy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SE=new RegExp(Sy.source,"g");function hL(t){return function(){return t}}function fL(t){return function(e){return t(e)+""}}function dL(t,e){var n=Sy.lastIndex=SE.lastIndex=0,r,s,o,u=-1,c=[],f=[];for(t=t+"",e=e+"";(r=Sy.exec(t))&&(s=SE.exec(e));)(o=s.index)>n&&(o=e.slice(n,o),c[u]?c[u]+=o:c[++u]=o),(r=r[0])===(s=s[0])?c[u]?c[u]+=s:c[++u]=s:(c[++u]=null,f.push({i:u,x:Wa(r,s)})),n=SE.lastIndex;return n<e.length&&(o=e.slice(n),c[u]?c[u]+=o:c[++u]=o),c.length<2?f[0]?fL(f[0].x):hL(e):(e=f.length,function(d){for(var m=0,E;m<e;++m)c[(E=f[m]).i]=E.x(d);return c.join("")})}var dA=180/Math.PI,Ay={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RC(t,e,n,r,s,o){var u,c,f;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,f/=c),t*r<e*n&&(t=-t,e=-e,f=-f,u=-u),{translateX:s,translateY:o,rotate:Math.atan2(e,t)*dA,skewX:Math.atan(f)*dA,scaleX:u,scaleY:c}}var um;function mL(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ay:RC(e.a,e.b,e.c,e.d,e.e,e.f)}function pL(t){return t==null||(um||(um=document.createElementNS("http://www.w3.org/2000/svg","g")),um.setAttribute("transform",t),!(t=um.transform.baseVal.consolidate()))?Ay:(t=t.matrix,RC(t.a,t.b,t.c,t.d,t.e,t.f))}function OC(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function o(d,m,E,_,b,A){if(d!==E||m!==_){var N=b.push("translate(",null,e,null,n);A.push({i:N-4,x:Wa(d,E)},{i:N-2,x:Wa(m,_)})}else(E||_)&&b.push("translate("+E+e+_+n)}function u(d,m,E,_){d!==m?(d-m>180?m+=360:m-d>180&&(d+=360),_.push({i:E.push(s(E)+"rotate(",null,r)-2,x:Wa(d,m)})):m&&E.push(s(E)+"rotate("+m+r)}function c(d,m,E,_){d!==m?_.push({i:E.push(s(E)+"skewX(",null,r)-2,x:Wa(d,m)}):m&&E.push(s(E)+"skewX("+m+r)}function f(d,m,E,_,b,A){if(d!==E||m!==_){var N=b.push(s(b)+"scale(",null,",",null,")");A.push({i:N-4,x:Wa(d,E)},{i:N-2,x:Wa(m,_)})}else(E!==1||_!==1)&&b.push(s(b)+"scale("+E+","+_+")")}return function(d,m){var E=[],_=[];return d=t(d),m=t(m),o(d.translateX,d.translateY,m.translateX,m.translateY,E,_),u(d.rotate,m.rotate,E,_),c(d.skewX,m.skewX,E,_),f(d.scaleX,d.scaleY,m.scaleX,m.scaleY,E,_),d=m=null,function(b){for(var A=-1,N=_.length,k;++A<N;)E[(k=_[A]).i]=k.x(b);return E.join("")}}}var gL=OC(mL,"px, ","px)","deg)"),EL=OC(pL,", ",")",")"),yL=1e-12;function mA(t){return((t=Math.exp(t))+1/t)/2}function _L(t){return((t=Math.exp(t))-1/t)/2}function TL(t){return((t=Math.exp(2*t))-1)/(t+1)}const bL=function t(e,n,r){function s(o,u){var c=o[0],f=o[1],d=o[2],m=u[0],E=u[1],_=u[2],b=m-c,A=E-f,N=b*b+A*A,k,D;if(N<yL)D=Math.log(_/d)/e,k=function(R){return[c+R*b,f+R*A,d*Math.exp(e*R*D)]};else{var H=Math.sqrt(N),Y=(_*_-d*d+r*N)/(2*d*n*H),z=(_*_-d*d-r*N)/(2*_*n*H),ee=Math.log(Math.sqrt(Y*Y+1)-Y),$=Math.log(Math.sqrt(z*z+1)-z);D=($-ee)/e,k=function(R){var x=R*D,O=mA(ee),M=d/(n*H)*(O*TL(e*x+ee)-_L(ee));return[c+M*b,f+M*A,d*O/mA(e*x+ee)]}}return k.duration=D*1e3*e/Math.SQRT2,k}return s.rho=function(o){var u=Math.max(.001,+o),c=u*u,f=c*c;return t(u,c,f)},s}(Math.SQRT2,2,4);var ql=0,Ch=0,mh=0,DC=1e3,Wm,Nh,Zm=0,fu=0,Lp=0,rf=typeof performance=="object"&&performance.now?performance:Date,kC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function B_(){return fu||(kC(vL),fu=rf.now()+Lp)}function vL(){fu=0}function Jm(){this._call=this._time=this._next=null}Jm.prototype=LC.prototype={constructor:Jm,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?B_():+n)+(e==null?0:+e),!this._next&&Nh!==this&&(Nh?Nh._next=this:Wm=this,Nh=this),this._call=t,this._time=n,wy()},stop:function(){this._call&&(this._call=null,this._time=1/0,wy())}};function LC(t,e,n){var r=new Jm;return r.restart(t,e,n),r}function SL(){B_(),++ql;for(var t=Wm,e;t;)(e=fu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ql}function pA(){fu=(Zm=rf.now())+Lp,ql=Ch=0;try{SL()}finally{ql=0,wL(),fu=0}}function AL(){var t=rf.now(),e=t-Zm;e>DC&&(Lp-=e,Zm=t)}function wL(){for(var t,e=Wm,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wm=n);Nh=t,wy(r)}function wy(t){if(!ql){Ch&&(Ch=clearTimeout(Ch));var e=t-fu;e>24?(t<1/0&&(Ch=setTimeout(pA,t-rf.now()-Lp)),mh&&(mh=clearInterval(mh))):(mh||(Zm=rf.now(),mh=setInterval(AL,DC)),ql=1,kC(pA))}}function gA(t,e,n){var r=new Jm;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var IL=Dp("start","end","cancel","interrupt"),CL=[],MC=0,EA=1,Iy=2,Rm=3,yA=4,Cy=5,Om=6;function Mp(t,e,n,r,s,o){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;NL(t,n,{name:e,index:r,group:s,on:IL,tween:CL,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:MC})}function U_(t,e){var n=os(t,e);if(n.state>MC)throw new Error("too late; already scheduled");return n}function Bs(t,e){var n=os(t,e);if(n.state>Rm)throw new Error("too late; already running");return n}function os(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function NL(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=LC(o,0,n.time);function o(d){n.state=EA,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var m,E,_,b;if(n.state!==EA)return f();for(m in r)if(b=r[m],b.name===n.name){if(b.state===Rm)return gA(u);b.state===yA?(b.state=Om,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[m]):+m<e&&(b.state=Om,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[m])}if(gA(function(){n.state===Rm&&(n.state=yA,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=Iy,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Iy){for(n.state=Rm,s=new Array(_=n.tween.length),m=0,E=-1;m<_;++m)(b=n.tween[m].value.call(t,t.__data__,n.index,n.group))&&(s[++E]=b);s.length=E+1}}function c(d){for(var m=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=Cy,1),E=-1,_=s.length;++E<_;)s[E].call(t,m);n.state===Cy&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Om,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Dm(t,e){var n=t.__transition,r,s,o=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){o=!1;continue}s=r.state>Iy&&r.state<Cy,r.state=Om,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}o&&delete t.__transition}}function xL(t){return this.each(function(){Dm(this,t)})}function RL(t,e){var n,r;return function(){var s=Bs(this,t),o=s.tween;if(o!==n){r=n=o;for(var u=0,c=r.length;u<c;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}s.tween=r}}function OL(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var o=Bs(this,t),u=o.tween;if(u!==r){s=(r=u).slice();for(var c={name:e,value:n},f=0,d=s.length;f<d;++f)if(s[f].name===e){s[f]=c;break}f===d&&s.push(c)}o.tween=s}}function DL(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=os(this.node(),n).tween,s=0,o=r.length,u;s<o;++s)if((u=r[s]).name===t)return u.value;return null}return this.each((e==null?RL:OL)(n,t,e))}function V_(t,e,n){var r=t._id;return t.each(function(){var s=Bs(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return os(s,r).value[e]}}function PC(t,e){var n;return(typeof e=="number"?Wa:e instanceof nf?fA:(n=nf(e))?(e=n,fA):dL)(t,e)}function kL(t){return function(){this.removeAttribute(t)}}function LL(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ML(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttribute(t);return u===s?null:u===r?o:o=e(r=u,n)}}function PL(t,e,n){var r,s=n+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===s?null:u===r?o:o=e(r=u,n)}}function BL(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function UL(t,e,n){var r,s,o;return function(){var u,c=n(this),f;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=c+"",u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c)))}}function VL(t,e){var n=kp(t),r=n==="transform"?EL:PC;return this.attrTween(t,typeof e=="function"?(n.local?UL:BL)(n,r,V_(this,"attr."+t,e)):e==null?(n.local?LL:kL)(n):(n.local?PL:ML)(n,r,e))}function FL(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function HL(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function zL(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&HL(t,o)),n}return s._value=e,s}function jL(t,e){var n,r;function s(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&FL(t,o)),n}return s._value=e,s}function qL(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=kp(t);return this.tween(n,(r.local?zL:jL)(r,e))}function YL(t,e){return function(){U_(this,t).delay=+e.apply(this,arguments)}}function $L(t,e){return e=+e,function(){U_(this,t).delay=e}}function GL(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?YL:$L)(e,t)):os(this.node(),e).delay}function KL(t,e){return function(){Bs(this,t).duration=+e.apply(this,arguments)}}function XL(t,e){return e=+e,function(){Bs(this,t).duration=e}}function QL(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?KL:XL)(e,t)):os(this.node(),e).duration}function WL(t,e){if(typeof e!="function")throw new Error;return function(){Bs(this,t).ease=e}}function ZL(t){var e=this._id;return arguments.length?this.each(WL(e,t)):os(this.node(),e).ease}function JL(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Bs(this,t).ease=n}}function eM(t){if(typeof t!="function")throw new Error;return this.each(JL(this._id,t))}function tM(t){typeof t!="function"&&(t=mC(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var o=e[s],u=o.length,c=r[s]=[],f,d=0;d<u;++d)(f=o[d])&&t.call(f,f.__data__,d,o)&&c.push(f);return new ma(r,this._parents,this._name,this._id)}function nM(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,o=Math.min(r,s),u=new Array(r),c=0;c<o;++c)for(var f=e[c],d=n[c],m=f.length,E=u[c]=new Array(m),_,b=0;b<m;++b)(_=f[b]||d[b])&&(E[b]=_);for(;c<r;++c)u[c]=e[c];return new ma(u,this._parents,this._name,this._id)}function rM(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function iM(t,e,n){var r,s,o=rM(e)?U_:Bs;return function(){var u=o(this,t),c=u.on;c!==r&&(s=(r=c).copy()).on(e,n),u.on=s}}function sM(t,e){var n=this._id;return arguments.length<2?os(this.node(),n).on.on(t):this.each(iM(n,t,e))}function aM(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function oM(){return this.on("end.remove",aM(this._id))}function uM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=L_(t));for(var r=this._groups,s=r.length,o=new Array(s),u=0;u<s;++u)for(var c=r[u],f=c.length,d=o[u]=new Array(f),m,E,_=0;_<f;++_)(m=c[_])&&(E=t.call(m,m.__data__,_,c))&&("__data__"in m&&(E.__data__=m.__data__),d[_]=E,Mp(d[_],e,n,_,d,os(m,n)));return new ma(o,this._parents,e,n)}function lM(t){var e=this._name,n=this._id;typeof t!="function"&&(t=dC(t));for(var r=this._groups,s=r.length,o=[],u=[],c=0;c<s;++c)for(var f=r[c],d=f.length,m,E=0;E<d;++E)if(m=f[E]){for(var _=t.call(m,m.__data__,E,f),b,A=os(m,n),N=0,k=_.length;N<k;++N)(b=_[N])&&Mp(b,e,n,N,_,A);o.push(_),u.push(m)}return new ma(o,u,e,n)}var cM=vf.prototype.constructor;function hM(){return new cM(this._groups,this._parents)}function fM(t,e){var n,r,s;return function(){var o=jl(this,t),u=(this.style.removeProperty(t),jl(this,t));return o===u?null:o===n&&u===r?s:s=e(n=o,r=u)}}function BC(t){return function(){this.style.removeProperty(t)}}function dM(t,e,n){var r,s=n+"",o;return function(){var u=jl(this,t);return u===s?null:u===r?o:o=e(r=u,n)}}function mM(t,e,n){var r,s,o;return function(){var u=jl(this,t),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(t),jl(this,t))),u===f?null:u===r&&f===s?o:(s=f,o=e(r=u,c))}}function pM(t,e){var n,r,s,o="style."+e,u="end."+o,c;return function(){var f=Bs(this,t),d=f.on,m=f.value[o]==null?c||(c=BC(e)):void 0;(d!==n||s!==m)&&(r=(n=d).copy()).on(u,s=m),f.on=r}}function gM(t,e,n){var r=(t+="")=="transform"?gL:PC;return e==null?this.styleTween(t,fM(t,r)).on("end.style."+t,BC(t)):typeof e=="function"?this.styleTween(t,mM(t,r,V_(this,"style."+t,e))).each(pM(this._id,t)):this.styleTween(t,dM(t,r,e),n).on("end.style."+t,null)}function EM(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function yM(t,e,n){var r,s;function o(){var u=e.apply(this,arguments);return u!==s&&(r=(s=u)&&EM(t,u,n)),r}return o._value=e,o}function _M(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,yM(t,e,n??""))}function TM(t){return function(){this.textContent=t}}function bM(t){return function(){var e=t(this);this.textContent=e??""}}function vM(t){return this.tween("text",typeof t=="function"?bM(V_(this,"text",t)):TM(t==null?"":t+""))}function SM(t){return function(e){this.textContent=t.call(this,e)}}function AM(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&SM(s)),e}return r._value=t,r}function wM(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,AM(t))}function IM(){for(var t=this._name,e=this._id,n=UC(),r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,d=0;d<c;++d)if(f=u[d]){var m=os(f,e);Mp(f,t,n,d,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new ma(r,this._parents,t,n)}function CM(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(o,u){var c={value:u},f={value:function(){--s===0&&o()}};n.each(function(){var d=Bs(this,r),m=d.on;m!==t&&(e=(t=m).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(f)),d.on=e}),s===0&&o()})}var NM=0;function ma(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function UC(){return++NM}var oa=vf.prototype;ma.prototype={constructor:ma,select:uM,selectAll:lM,selectChild:oa.selectChild,selectChildren:oa.selectChildren,filter:tM,merge:nM,selection:hM,transition:IM,call:oa.call,nodes:oa.nodes,node:oa.node,size:oa.size,empty:oa.empty,each:oa.each,on:sM,attr:VL,attrTween:qL,style:gM,styleTween:_M,text:vM,textTween:wM,remove:oM,tween:DL,delay:GL,duration:QL,ease:ZL,easeVarying:eM,end:CM,[Symbol.iterator]:oa[Symbol.iterator]};function xM(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var RM={time:null,delay:0,duration:250,ease:xM};function OM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function DM(t){var e,n;t instanceof ma?(e=t._id,t=t._name):(e=UC(),(n=RM).time=B_(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,o=0;o<s;++o)for(var u=r[o],c=u.length,f,d=0;d<c;++d)(f=u[d])&&Mp(f,t,e,d,u,n||OM(f,e));return new ma(r,this._parents,t,e)}vf.prototype.interrupt=xL;vf.prototype.transition=DM;const lm=t=>()=>t;function kM(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function la(t,e,n){this.k=t,this.x=e,this.y=n}la.prototype={constructor:la,scale:function(t){return t===1?this:new la(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new la(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var uo=new la(1,0,0);la.prototype;function AE(t){t.stopImmediatePropagation()}function ph(t){t.preventDefault(),t.stopImmediatePropagation()}function LM(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function MM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function _A(){return this.__zoom||uo}function PM(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function BM(){return navigator.maxTouchPoints||"ontouchstart"in this}function UM(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function VM(){var t=LM,e=MM,n=UM,r=PM,s=BM,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=bL,d=Dp("start","zoom","end"),m,E,_,b=500,A=150,N=0,k=10;function D(L){L.property("__zoom",_A).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function(L,K,V,Q){var re=L.selection?L.selection():L;re.property("__zoom",_A),L!==re?ee(L,K,V,Q):re.interrupt().each(function(){$(this,arguments).event(Q).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},D.scaleBy=function(L,K,V,Q){D.scaleTo(L,function(){var re=this.__zoom.k,ie=typeof K=="function"?K.apply(this,arguments):K;return re*ie},V,Q)},D.scaleTo=function(L,K,V,Q){D.transform(L,function(){var re=e.apply(this,arguments),ie=this.__zoom,S=V==null?z(re):typeof V=="function"?V.apply(this,arguments):V,J=ie.invert(S),oe=typeof K=="function"?K.apply(this,arguments):K;return n(Y(H(ie,oe),S,J),re,u)},V,Q)},D.translateBy=function(L,K,V,Q){D.transform(L,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof V=="function"?V.apply(this,arguments):V),e.apply(this,arguments),u)},null,Q)},D.translateTo=function(L,K,V,Q,re){D.transform(L,function(){var ie=e.apply(this,arguments),S=this.__zoom,J=Q==null?z(ie):typeof Q=="function"?Q.apply(this,arguments):Q;return n(uo.translate(J[0],J[1]).scale(S.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof V=="function"?-V.apply(this,arguments):-V),ie,u)},Q,re)};function H(L,K){return K=Math.max(o[0],Math.min(o[1],K)),K===L.k?L:new la(K,L.x,L.y)}function Y(L,K,V){var Q=K[0]-V[0]*L.k,re=K[1]-V[1]*L.k;return Q===L.x&&re===L.y?L:new la(L.k,Q,re)}function z(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function ee(L,K,V,Q){L.on("start.zoom",function(){$(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(Q).end()}).tween("zoom",function(){var re=this,ie=arguments,S=$(re,ie).event(Q),J=e.apply(re,ie),oe=V==null?z(J):typeof V=="function"?V.apply(re,ie):V,P=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),pe=re.__zoom,Ne=typeof K=="function"?K.apply(re,ie):K,Ce=f(pe.invert(oe).concat(P/pe.k),Ne.invert(oe).concat(P/Ne.k));return function(He){if(He===1)He=Ne;else{var Se=Ce(He),Le=P/Se[2];He=new la(Le,oe[0]-Se[0]*Le,oe[1]-Se[1]*Le)}S.zoom(null,He)}})}function $(L,K,V){return!V&&L.__zooming||new R(L,K)}function R(L,K){this.that=L,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(L,K),this.taps=0}R.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,K){return this.mouse&&L!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var K=ts(this.that).datum();d.call(L,this.that,new kM(L,{sourceEvent:this.sourceEvent,target:D,transform:this.that.__zoom,dispatch:d}),K)}};function x(L,...K){if(!t.apply(this,arguments))return;var V=$(this,K).event(L),Q=this.__zoom,re=Math.max(o[0],Math.min(o[1],Q.k*Math.pow(2,r.apply(this,arguments)))),ie=ws(L);if(V.wheel)(V.mouse[0][0]!==ie[0]||V.mouse[0][1]!==ie[1])&&(V.mouse[1]=Q.invert(V.mouse[0]=ie)),clearTimeout(V.wheel);else{if(Q.k===re)return;V.mouse=[ie,Q.invert(ie)],Dm(this),V.start()}ph(L),V.wheel=setTimeout(S,A),V.zoom("mouse",n(Y(H(Q,re),V.mouse[0],V.mouse[1]),V.extent,u));function S(){V.wheel=null,V.end()}}function O(L,...K){if(_||!t.apply(this,arguments))return;var V=L.currentTarget,Q=$(this,K,!0).event(L),re=ts(L.view).on("mousemove.zoom",oe,!0).on("mouseup.zoom",P,!0),ie=ws(L,V),S=L.clientX,J=L.clientY;AC(L.view),AE(L),Q.mouse=[ie,this.__zoom.invert(ie)],Dm(this),Q.start();function oe(pe){if(ph(pe),!Q.moved){var Ne=pe.clientX-S,Ce=pe.clientY-J;Q.moved=Ne*Ne+Ce*Ce>N}Q.event(pe).zoom("mouse",n(Y(Q.that.__zoom,Q.mouse[0]=ws(pe,V),Q.mouse[1]),Q.extent,u))}function P(pe){re.on("mousemove.zoom mouseup.zoom",null),wC(pe.view,Q.moved),ph(pe),Q.event(pe).end()}}function M(L,...K){if(t.apply(this,arguments)){var V=this.__zoom,Q=ws(L.changedTouches?L.changedTouches[0]:L,this),re=V.invert(Q),ie=V.k*(L.shiftKey?.5:2),S=n(Y(H(V,ie),Q,re),e.apply(this,K),u);ph(L),c>0?ts(this).transition().duration(c).call(ee,S,Q,L):ts(this).call(D.transform,S,Q,L)}}function B(L,...K){if(t.apply(this,arguments)){var V=L.touches,Q=V.length,re=$(this,K,L.changedTouches.length===Q).event(L),ie,S,J,oe;for(AE(L),S=0;S<Q;++S)J=V[S],oe=ws(J,this),oe=[oe,this.__zoom.invert(oe),J.identifier],re.touch0?!re.touch1&&re.touch0[2]!==oe[2]&&(re.touch1=oe,re.taps=0):(re.touch0=oe,ie=!0,re.taps=1+!!m);m&&(m=clearTimeout(m)),ie&&(re.taps<2&&(E=oe[0],m=setTimeout(function(){m=null},b)),Dm(this),re.start())}}function U(L,...K){if(this.__zooming){var V=$(this,K).event(L),Q=L.changedTouches,re=Q.length,ie,S,J,oe;for(ph(L),ie=0;ie<re;++ie)S=Q[ie],J=ws(S,this),V.touch0&&V.touch0[2]===S.identifier?V.touch0[0]=J:V.touch1&&V.touch1[2]===S.identifier&&(V.touch1[0]=J);if(S=V.that.__zoom,V.touch1){var P=V.touch0[0],pe=V.touch0[1],Ne=V.touch1[0],Ce=V.touch1[1],He=(He=Ne[0]-P[0])*He+(He=Ne[1]-P[1])*He,Se=(Se=Ce[0]-pe[0])*Se+(Se=Ce[1]-pe[1])*Se;S=H(S,Math.sqrt(He/Se)),J=[(P[0]+Ne[0])/2,(P[1]+Ne[1])/2],oe=[(pe[0]+Ce[0])/2,(pe[1]+Ce[1])/2]}else if(V.touch0)J=V.touch0[0],oe=V.touch0[1];else return;V.zoom("touch",n(Y(S,J,oe),V.extent,u))}}function I(L,...K){if(this.__zooming){var V=$(this,K).event(L),Q=L.changedTouches,re=Q.length,ie,S;for(AE(L),_&&clearTimeout(_),_=setTimeout(function(){_=null},b),ie=0;ie<re;++ie)S=Q[ie],V.touch0&&V.touch0[2]===S.identifier?delete V.touch0:V.touch1&&V.touch1[2]===S.identifier&&delete V.touch1;if(V.touch1&&!V.touch0&&(V.touch0=V.touch1,delete V.touch1),V.touch0)V.touch0[1]=this.__zoom.invert(V.touch0[0]);else if(V.end(),V.taps===2&&(S=ws(S,this),Math.hypot(E[0]-S[0],E[1]-S[1])<k)){var J=ts(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return D.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:lm(+L),D):r},D.filter=function(L){return arguments.length?(t=typeof L=="function"?L:lm(!!L),D):t},D.touchable=function(L){return arguments.length?(s=typeof L=="function"?L:lm(!!L),D):s},D.extent=function(L){return arguments.length?(e=typeof L=="function"?L:lm([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),D):e},D.scaleExtent=function(L){return arguments.length?(o[0]=+L[0],o[1]=+L[1],D):[o[0],o[1]]},D.translateExtent=function(L){return arguments.length?(u[0][0]=+L[0][0],u[1][0]=+L[1][0],u[0][1]=+L[0][1],u[1][1]=+L[1][1],D):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},D.constrain=function(L){return arguments.length?(n=L,D):n},D.duration=function(L){return arguments.length?(c=+L,D):c},D.interpolate=function(L){return arguments.length?(f=L,D):f},D.on=function(){var L=d.on.apply(d,arguments);return L===d?D:L},D.clickDistance=function(L){return arguments.length?(N=(L=+L)*L,D):Math.sqrt(N)},D.tapDistance=function(L){return arguments.length?(k=+L,D):k},D}var FM=cC();const Cl=Tu(FM),Pp=j.createContext(null),HM=Pp.Provider,pa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},VC=pa.error001();function _n(t,e){const n=j.useContext(Pp);if(n===null)throw new Error(VC);return hC(n,t,e)}const lr=()=>{const t=j.useContext(Pp);if(t===null)throw new Error(VC);return j.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},zM=t=>t.userSelectionActive?"none":"all";function FC({position:t,children:e,className:n,style:r,...s}){const o=_n(zM),u=`${t}`.split("-");return ye.createElement("div",{className:qr(["react-flow__panel",n,...u]),style:{...r,pointerEvents:o},...s},e)}function jM({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:ye.createElement(FC,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ye.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const qM=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:o={},labelBgPadding:u=[2,4],labelBgBorderRadius:c=2,children:f,className:d,...m})=>{const E=j.useRef(null),[_,b]=j.useState({x:0,y:0,width:0,height:0}),A=qr(["react-flow__edge-textwrapper",d]);return j.useEffect(()=>{if(E.current){const N=E.current.getBBox();b({x:N.x,y:N.y,width:N.width,height:N.height})}},[n]),typeof n>"u"||!n?null:ye.createElement("g",{transform:`translate(${t-_.width/2} ${e-_.height/2})`,className:A,visibility:_.width?"visible":"hidden",...m},s&&ye.createElement("rect",{width:_.width+2*u[0],x:-u[0],y:-u[1],height:_.height+2*u[1],className:"react-flow__edge-textbg",style:o,rx:c,ry:c}),ye.createElement("text",{className:"react-flow__edge-text",y:_.height/2,dy:"0.3em",ref:E,style:r},n),f)};var YM=j.memo(qM);const F_=t=>({width:t.offsetWidth,height:t.offsetHeight}),Yl=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),H_=(t={x:0,y:0},e)=>({x:Yl(t.x,e[0][0],e[1][0]),y:Yl(t.y,e[0][1],e[1][1])}),TA=(t,e,n)=>t<e?Yl(Math.abs(t-e),1,50)/50:t>n?-Yl(Math.abs(t-n),1,50)/50:0,HC=(t,e)=>{const n=TA(t.x,35,e.width-35)*20,r=TA(t.y,35,e.height-35)*20;return[n,r]},zC=t=>t.getRootNode?.()||window?.document,$M=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),z_=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),GM=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),bA=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),Ny=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},KM=t=>qi(t.width)&&qi(t.height)&&qi(t.x)&&qi(t.y),qi=t=>!isNaN(t)&&isFinite(t),wn=Symbol.for("internals"),jC=["Enter"," ","Escape"],XM=(t,e)=>{},QM=t=>"nativeEvent"in t;function xy(t){const n=(QM(t)?t.nativeEvent:t).composedPath?.()?.[0]||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const qC=t=>"clientX"in t,lo=(t,e)=>{const n=qC(t),r=n?t.clientX:t.touches?.[0].clientX,s=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:s-(e?.top??0)}},ep=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Af=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:_,interactionWidth:b=20})=>ye.createElement(ye.Fragment,null,ye.createElement("path",{id:t,style:m,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:E,markerStart:_}),b&&ye.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:b,className:"react-flow__edge-interaction"}),s&&qi(n)&&qi(r)?ye.createElement(YM,{x:n,y:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d}):null);Af.displayName="BaseEdge";function gh(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(o=>o.id===t);s&&n(r,{...s})}}function YC({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,o=n<t?n+s:n-s,u=Math.abs(r-e)/2,c=r<e?r+u:r-u;return[o,c,s,u]}function $C({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:o,targetControlX:u,targetControlY:c}){const f=t*.125+s*.375+u*.375+n*.125,d=e*.125+o*.375+c*.375+r*.125,m=Math.abs(f-t),E=Math.abs(d-e);return[f,d,m,E]}var go;(function(t){t.Strict="strict",t.Loose="loose"})(go||(go={}));var au;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(au||(au={}));var sf;(function(t){t.Partial="partial",t.Full="full"})(sf||(sf={}));var eo;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(eo||(eo={}));var af;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(af||(af={}));var je;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(je||(je={}));function vA({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===je.Left||t===je.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function GC({sourceX:t,sourceY:e,sourcePosition:n=je.Bottom,targetX:r,targetY:s,targetPosition:o=je.Top}){const[u,c]=vA({pos:n,x1:t,y1:e,x2:r,y2:s}),[f,d]=vA({pos:o,x1:r,y1:s,x2:t,y2:e}),[m,E,_,b]=$C({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:u,sourceControlY:c,targetControlX:f,targetControlY:d});return[`M${t},${e} C${u},${c} ${f},${d} ${r},${s}`,m,E,_,b]}const j_=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=je.Bottom,targetPosition:o=je.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:A,interactionWidth:N})=>{const[k,D,H]=GC({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o});return ye.createElement(Af,{path:k,labelX:D,labelY:H,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:A,interactionWidth:N})});j_.displayName="SimpleBezierEdge";const SA={[je.Left]:{x:-1,y:0},[je.Right]:{x:1,y:0},[je.Top]:{x:0,y:-1},[je.Bottom]:{x:0,y:1}},WM=({source:t,sourcePosition:e=je.Bottom,target:n})=>e===je.Left||e===je.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},AA=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function ZM({source:t,sourcePosition:e=je.Bottom,target:n,targetPosition:r=je.Top,center:s,offset:o}){const u=SA[e],c=SA[r],f={x:t.x+u.x*o,y:t.y+u.y*o},d={x:n.x+c.x*o,y:n.y+c.y*o},m=WM({source:f,sourcePosition:e,target:d}),E=m.x!==0?"x":"y",_=m[E];let b=[],A,N;const k={x:0,y:0},D={x:0,y:0},[H,Y,z,ee]=YC({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[E]*c[E]===-1){A=s.x??H,N=s.y??Y;const R=[{x:A,y:f.y},{x:A,y:d.y}],x=[{x:f.x,y:N},{x:d.x,y:N}];u[E]===_?b=E==="x"?R:x:b=E==="x"?x:R}else{const R=[{x:f.x,y:d.y}],x=[{x:d.x,y:f.y}];if(E==="x"?b=u.x===_?x:R:b=u.y===_?R:x,e===r){const I=Math.abs(t[E]-n[E]);if(I<=o){const L=Math.min(o-1,o-I);u[E]===_?k[E]=(f[E]>t[E]?-1:1)*L:D[E]=(d[E]>n[E]?-1:1)*L}}if(e!==r){const I=E==="x"?"y":"x",L=u[E]===c[I],K=f[I]>d[I],V=f[I]<d[I];(u[E]===1&&(!L&&K||L&&V)||u[E]!==1&&(!L&&V||L&&K))&&(b=E==="x"?R:x)}const O={x:f.x+k.x,y:f.y+k.y},M={x:d.x+D.x,y:d.y+D.y},B=Math.max(Math.abs(O.x-b[0].x),Math.abs(M.x-b[0].x)),U=Math.max(Math.abs(O.y-b[0].y),Math.abs(M.y-b[0].y));B>=U?(A=(O.x+M.x)/2,N=b[0].y):(A=b[0].x,N=(O.y+M.y)/2)}return[[t,{x:f.x+k.x,y:f.y+k.y},...b,{x:d.x+D.x,y:d.y+D.y},n],A,N,z,ee]}function JM(t,e,n,r){const s=Math.min(AA(t,e)/2,AA(e,n)/2,r),{x:o,y:u}=e;if(t.x===o&&o===n.x||t.y===u&&u===n.y)return`L${o} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,m=t.y<n.y?1:-1;return`L ${o+s*d},${u}Q ${o},${u} ${o},${u+s*m}`}const c=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${o},${u+s*f}Q ${o},${u} ${o+s*c},${u}`}function Ry({sourceX:t,sourceY:e,sourcePosition:n=je.Bottom,targetX:r,targetY:s,targetPosition:o=je.Top,borderRadius:u=5,centerX:c,centerY:f,offset:d=20}){const[m,E,_,b,A]=ZM({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:o,center:{x:c,y:f},offset:d});return[m.reduce((k,D,H)=>{let Y="";return H>0&&H<m.length-1?Y=JM(m[H-1],D,m[H+1],u):Y=`${H===0?"M":"L"}${D.x} ${D.y}`,k+=Y,k},""),E,_,b,A]}const Bp=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,sourcePosition:E=je.Bottom,targetPosition:_=je.Top,markerEnd:b,markerStart:A,pathOptions:N,interactionWidth:k})=>{const[D,H,Y]=Ry({sourceX:t,sourceY:e,sourcePosition:E,targetX:n,targetY:r,targetPosition:_,borderRadius:N?.borderRadius,offset:N?.offset});return ye.createElement(Af,{path:D,labelX:H,labelY:Y,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:b,markerStart:A,interactionWidth:k})});Bp.displayName="SmoothStepEdge";const q_=j.memo(t=>ye.createElement(Bp,{...t,pathOptions:j.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])}));q_.displayName="StepEdge";function eP({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,o,u,c]=YC({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,o,u,c]}const Y_=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:_,interactionWidth:b})=>{const[A,N,k]=eP({sourceX:t,sourceY:e,targetX:n,targetY:r});return ye.createElement(Af,{path:A,labelX:N,labelY:k,label:s,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:m,markerEnd:E,markerStart:_,interactionWidth:b})});Y_.displayName="StraightEdge";function cm(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function wA({pos:t,x1:e,y1:n,x2:r,y2:s,c:o}){switch(t){case je.Left:return[e-cm(e-r,o),n];case je.Right:return[e+cm(r-e,o),n];case je.Top:return[e,n-cm(n-s,o)];case je.Bottom:return[e,n+cm(s-n,o)]}}function KC({sourceX:t,sourceY:e,sourcePosition:n=je.Bottom,targetX:r,targetY:s,targetPosition:o=je.Top,curvature:u=.25}){const[c,f]=wA({pos:n,x1:t,y1:e,x2:r,y2:s,c:u}),[d,m]=wA({pos:o,x1:r,y1:s,x2:t,y2:e,c:u}),[E,_,b,A]=$C({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:c,sourceControlY:f,targetControlX:d,targetControlY:m});return[`M${t},${e} C${c},${f} ${d},${m} ${r},${s}`,E,_,b,A]}const tp=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=je.Bottom,targetPosition:o=je.Top,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:A,pathOptions:N,interactionWidth:k})=>{const[D,H,Y]=KC({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:o,curvature:N?.curvature});return ye.createElement(Af,{path:D,labelX:H,labelY:Y,label:u,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:m,labelBgBorderRadius:E,style:_,markerEnd:b,markerStart:A,interactionWidth:k})});tp.displayName="BezierEdge";const $_=j.createContext(null),tP=$_.Provider;$_.Consumer;const nP=()=>j.useContext($_),rP=t=>"id"in t&&"source"in t&&"target"in t,iP=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,Oy=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,sP=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),aP=(t,e)=>{if(!t.source||!t.target)return e;let n;return rP(t)?n={...t}:n={...t,id:iP(t)},sP(n,e)?e:e.concat(n)},Dy=({x:t,y:e},[n,r,s],o,[u,c])=>{const f={x:(t-n)/s,y:(e-r)/s};return o?{x:u*Math.round(f.x/u),y:c*Math.round(f.y/c)}:f},XC=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),kl=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},G_=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:o,y:u}=kl(s,e).positionAbsolute;return $M(r,z_({x:o,y:u,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return GM(n)},QC=(t,e,[n,r,s]=[0,0,1],o=!1,u=!1,c=[0,0])=>{const f={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(m=>{const{width:E,height:_,selectable:b=!0,hidden:A=!1}=m;if(u&&!b||A)return!1;const{positionAbsolute:N}=kl(m,c),k={x:N.x,y:N.y,width:E||0,height:_||0},D=Ny(f,k),H=typeof E>"u"||typeof _>"u"||E===null||_===null,Y=o&&D>0,z=(E||0)*(_||0);(H||Y||D>=z||m.dragging)&&d.push(m)}),d},WC=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},ZC=(t,e,n,r,s,o=.1)=>{const u=e/(t.width*(1+o)),c=n/(t.height*(1+o)),f=Math.min(u,c),d=Yl(f,r,s),m=t.x+t.width/2,E=t.y+t.height/2,_=e/2-m*d,b=n/2-E*d;return{x:_,y:b,zoom:d}},eu=(t,e=0)=>t.transition().duration(e);function IA(t,e,n,r){return(e[n]||[]).reduce((s,o)=>(`${t.id}-${o.id}-${n}`!==r&&s.push({id:o.id||null,type:n,nodeId:t.id,x:(t.positionAbsolute?.x??0)+o.x+o.width/2,y:(t.positionAbsolute?.y??0)+o.y+o.height/2}),s),[])}function oP(t,e,n,r,s,o){const{x:u,y:c}=lo(t),d=e.elementsFromPoint(u,c).find(A=>A.classList.contains("react-flow__handle"));if(d){const A=d.getAttribute("data-nodeid");if(A){const N=K_(void 0,d),k=d.getAttribute("data-handleid"),D=o({nodeId:A,id:k,type:N});if(D){const H=s.find(Y=>Y.nodeId===A&&Y.type===N&&Y.id===k);return{handle:{id:k,type:N,nodeId:A,x:H?.x||n.x,y:H?.y||n.y},validHandleResult:D}}}}let m=[],E=1/0;if(s.forEach(A=>{const N=Math.sqrt((A.x-n.x)**2+(A.y-n.y)**2);if(N<=r){const k=o(A);N<=E&&(N<E?m=[{handle:A,validHandleResult:k}]:N===E&&m.push({handle:A,validHandleResult:k}),E=N)}}),!m.length)return{handle:null,validHandleResult:JC()};if(m.length===1)return m[0];const _=m.some(({validHandleResult:A})=>A.isValid),b=m.some(({handle:A})=>A.type==="target");return m.find(({handle:A,validHandleResult:N})=>b?A.type==="target":_?N.isValid:!0)||m[0]}const uP={source:null,target:null,sourceHandle:null,targetHandle:null},JC=()=>({handleDomNode:null,isValid:!1,connection:uP,endHandle:null});function eN(t,e,n,r,s,o,u){const c=s==="target",f=u.querySelector(`.react-flow__handle[data-id="${t?.nodeId}-${t?.id}-${t?.type}"]`),d={...JC(),handleDomNode:f};if(f){const m=K_(void 0,f),E=f.getAttribute("data-nodeid"),_=f.getAttribute("data-handleid"),b=f.classList.contains("connectable"),A=f.classList.contains("connectableend"),N={source:c?E:n,sourceHandle:c?_:r,target:c?n:E,targetHandle:c?r:_};d.connection=N,b&&A&&(e===go.Strict?c&&m==="source"||!c&&m==="target":E!==n||_!==r)&&(d.endHandle={nodeId:E,handleId:_,type:m},d.isValid=o(N))}return d}function lP({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,o)=>{if(o[wn]){const{handleBounds:u}=o[wn];let c=[],f=[];u&&(c=IA(o,u,"source",`${e}-${n}-${r}`),f=IA(o,u,"target",`${e}-${n}-${r}`)),s.push(...c,...f)}return s},[])}function K_(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function wE(t){t?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function cP(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function tN({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:o,setState:u,isValidConnection:c,edgeUpdaterType:f,onReconnectEnd:d}){const m=zC(t.target),{connectionMode:E,domNode:_,autoPanOnConnect:b,connectionRadius:A,onConnectStart:N,panBy:k,getNodes:D,cancelConnection:H}=o();let Y=0,z;const{x:ee,y:$}=lo(t),R=m?.elementFromPoint(ee,$),x=K_(f,R),O=_?.getBoundingClientRect();if(!O||!x)return;let M,B=lo(t,O),U=!1,I=null,L=!1,K=null;const V=lP({nodes:D(),nodeId:n,handleId:e,handleType:x}),Q=()=>{if(!b)return;const[S,J]=HC(B,O);k({x:S,y:J}),Y=requestAnimationFrame(Q)};u({connectionPosition:B,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:x,connectionStartHandle:{nodeId:n,handleId:e,type:x},connectionEndHandle:null}),N?.(t,{nodeId:n,handleId:e,handleType:x});function re(S){const{transform:J}=o();B=lo(S,O);const{handle:oe,validHandleResult:P}=oP(S,m,Dy(B,J,!1,[1,1]),A,V,pe=>eN(pe,E,n,e,s?"target":"source",c,m));if(z=oe,U||(Q(),U=!0),K=P.handleDomNode,I=P.connection,L=P.isValid,u({connectionPosition:z&&L?XC({x:z.x,y:z.y},J):B,connectionStatus:cP(!!z,L),connectionEndHandle:P.endHandle}),!z&&!L&&!K)return wE(M);I.source!==I.target&&K&&(wE(M),M=K,K.classList.add("connecting","react-flow__handle-connecting"),K.classList.toggle("valid",L),K.classList.toggle("react-flow__handle-valid",L))}function ie(S){(z||K)&&I&&L&&r?.(I),o().onConnectEnd?.(S),f&&d?.(S),wE(M),H(),cancelAnimationFrame(Y),U=!1,L=!1,I=null,K=null,m.removeEventListener("mousemove",re),m.removeEventListener("mouseup",ie),m.removeEventListener("touchmove",re),m.removeEventListener("touchend",ie)}m.addEventListener("mousemove",re),m.addEventListener("mouseup",ie),m.addEventListener("touchmove",re),m.addEventListener("touchend",ie)}const CA=()=>!0,hP=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),fP=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:o,connectionClickStartHandle:u}=r;return{connecting:s?.nodeId===t&&s?.handleId===e&&s?.type===n||o?.nodeId===t&&o?.handleId===e&&o?.type===n,clickConnecting:u?.nodeId===t&&u?.handleId===e&&u?.type===n}},nN=j.forwardRef(({type:t="source",position:e=je.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:o=!0,id:u,onConnect:c,children:f,className:d,onMouseDown:m,onTouchStart:E,..._},b)=>{const A=u||null,N=t==="target",k=lr(),D=nP(),{connectOnClick:H,noPanClassName:Y}=_n(hP,Nr),{connecting:z,clickConnecting:ee}=_n(fP(D,A,t),Nr);D||k.getState().onError?.("010",pa.error010());const $=O=>{const{defaultEdgeOptions:M,onConnect:B,hasDefaultEdges:U}=k.getState(),I={...M,...O};if(U){const{edges:L,setEdges:K}=k.getState();K(aP(I,L))}B?.(I),c?.(I)},R=O=>{if(!D)return;const M=qC(O);s&&(M&&O.button===0||!M)&&tN({event:O,handleId:A,nodeId:D,onConnect:$,isTarget:N,getState:k.getState,setState:k.setState,isValidConnection:n||k.getState().isValidConnection||CA}),M?m?.(O):E?.(O)},x=O=>{const{onClickConnectStart:M,onClickConnectEnd:B,connectionClickStartHandle:U,connectionMode:I,isValidConnection:L}=k.getState();if(!D||!U&&!s)return;if(!U){M?.(O,{nodeId:D,handleId:A,handleType:t}),k.setState({connectionClickStartHandle:{nodeId:D,type:t,handleId:A}});return}const K=zC(O.target),V=n||L||CA,{connection:Q,isValid:re}=eN({nodeId:D,id:A,type:t},I,U.nodeId,U.handleId||null,U.type,V,K);re&&$(Q),B?.(O),k.setState({connectionClickStartHandle:null})};return ye.createElement("div",{"data-handleid":A,"data-nodeid":D,"data-handlepos":e,"data-id":`${D}-${A}-${t}`,className:qr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",Y,d,{source:!N,target:N,connectable:r,connectablestart:s,connectableend:o,connecting:ee,connectionindicator:r&&(s&&!z||o&&z)}]),onMouseDown:R,onTouchStart:R,onClick:H?x:void 0,ref:b,..._},f)});nN.displayName="Handle";var Jr=j.memo(nN);const rN=({data:t,isConnectable:e,targetPosition:n=je.Top,sourcePosition:r=je.Bottom})=>ye.createElement(ye.Fragment,null,ye.createElement(Jr,{type:"target",position:n,isConnectable:e}),t?.label,ye.createElement(Jr,{type:"source",position:r,isConnectable:e}));rN.displayName="DefaultNode";var ky=j.memo(rN);const iN=({data:t,isConnectable:e,sourcePosition:n=je.Bottom})=>ye.createElement(ye.Fragment,null,t?.label,ye.createElement(Jr,{type:"source",position:n,isConnectable:e}));iN.displayName="InputNode";var sN=j.memo(iN);const aN=({data:t,isConnectable:e,targetPosition:n=je.Top})=>ye.createElement(ye.Fragment,null,ye.createElement(Jr,{type:"target",position:n,isConnectable:e}),t?.label);aN.displayName="OutputNode";var oN=j.memo(aN);const X_=()=>null;X_.displayName="GroupNode";const dP=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),hm=t=>t.id;function mP(t,e){return Nr(t.selectedNodes.map(hm),e.selectedNodes.map(hm))&&Nr(t.selectedEdges.map(hm),e.selectedEdges.map(hm))}const uN=j.memo(({onSelectionChange:t})=>{const e=lr(),{selectedNodes:n,selectedEdges:r}=_n(dP,mP);return j.useEffect(()=>{const s={nodes:n,edges:r};t?.(s),e.getState().onSelectionChange.forEach(o=>o(s))},[n,r,t]),null});uN.displayName="SelectionListener";const pP=t=>!!t.onSelectionChange;function gP({onSelectionChange:t}){const e=_n(pP);return t||e?ye.createElement(uN,{onSelectionChange:t}):null}const EP=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function hl(t,e){j.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function mt(t,e,n){j.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const yP=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:o,onConnectEnd:u,onClickConnectStart:c,onClickConnectEnd:f,nodesDraggable:d,nodesConnectable:m,nodesFocusable:E,edgesFocusable:_,edgesUpdatable:b,elevateNodesOnSelect:A,minZoom:N,maxZoom:k,nodeExtent:D,onNodesChange:H,onEdgesChange:Y,elementsSelectable:z,connectionMode:ee,snapGrid:$,snapToGrid:R,translateExtent:x,connectOnClick:O,defaultEdgeOptions:M,fitView:B,fitViewOptions:U,onNodesDelete:I,onEdgesDelete:L,onNodeDrag:K,onNodeDragStart:V,onNodeDragStop:Q,onSelectionDrag:re,onSelectionDragStart:ie,onSelectionDragStop:S,noPanClassName:J,nodeOrigin:oe,rfId:P,autoPanOnConnect:pe,autoPanOnNodeDrag:Ne,onError:Ce,connectionRadius:He,isValidConnection:Se,nodeDragThreshold:Le})=>{const{setNodes:Pe,setEdges:Qe,setDefaultNodesAndEdges:Rt,setMinZoom:Ot,setMaxZoom:Dt,setTranslateExtent:Ge,setNodeExtent:cn,reset:Ke}=_n(EP,Nr),qe=lr();return j.useEffect(()=>{const nn=r?.map(Cn=>({...Cn,...M}));return Rt(n,nn),()=>{Ke()}},[]),mt("defaultEdgeOptions",M,qe.setState),mt("connectionMode",ee,qe.setState),mt("onConnect",s,qe.setState),mt("onConnectStart",o,qe.setState),mt("onConnectEnd",u,qe.setState),mt("onClickConnectStart",c,qe.setState),mt("onClickConnectEnd",f,qe.setState),mt("nodesDraggable",d,qe.setState),mt("nodesConnectable",m,qe.setState),mt("nodesFocusable",E,qe.setState),mt("edgesFocusable",_,qe.setState),mt("edgesUpdatable",b,qe.setState),mt("elementsSelectable",z,qe.setState),mt("elevateNodesOnSelect",A,qe.setState),mt("snapToGrid",R,qe.setState),mt("snapGrid",$,qe.setState),mt("onNodesChange",H,qe.setState),mt("onEdgesChange",Y,qe.setState),mt("connectOnClick",O,qe.setState),mt("fitViewOnInit",B,qe.setState),mt("fitViewOnInitOptions",U,qe.setState),mt("onNodesDelete",I,qe.setState),mt("onEdgesDelete",L,qe.setState),mt("onNodeDrag",K,qe.setState),mt("onNodeDragStart",V,qe.setState),mt("onNodeDragStop",Q,qe.setState),mt("onSelectionDrag",re,qe.setState),mt("onSelectionDragStart",ie,qe.setState),mt("onSelectionDragStop",S,qe.setState),mt("noPanClassName",J,qe.setState),mt("nodeOrigin",oe,qe.setState),mt("rfId",P,qe.setState),mt("autoPanOnConnect",pe,qe.setState),mt("autoPanOnNodeDrag",Ne,qe.setState),mt("onError",Ce,qe.setState),mt("connectionRadius",He,qe.setState),mt("isValidConnection",Se,qe.setState),mt("nodeDragThreshold",Le,qe.setState),hl(t,Pe),hl(e,Qe),hl(N,Ot),hl(k,Dt),hl(x,Ge),hl(D,cn),null},NA={display:"none"},_P={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},lN="react-flow__node-desc",cN="react-flow__edge-desc",TP="react-flow__aria-live",bP=t=>t.ariaLiveMessage;function vP({rfId:t}){const e=_n(bP);return ye.createElement("div",{id:`${TP}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:_P},e)}function SP({rfId:t,disableKeyboardA11y:e}){return ye.createElement(ye.Fragment,null,ye.createElement("div",{id:`${lN}-${t}`,style:NA},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ye.createElement("div",{id:`${cN}-${t}`,style:NA},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&ye.createElement(vP,{rfId:t}))}var of=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=j.useState(!1),s=j.useRef(!1),o=j.useRef(new Set([])),[u,c]=j.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(E=>typeof E=="string").map(E=>E.split("+")),m=d.reduce((E,_)=>E.concat(..._),[]);return[d,m]}return[[],[]]},[t]);return j.useEffect(()=>{const f=typeof document<"u"?document:null,d=e?.target||f;if(t!==null){const m=b=>{if(s.current=b.ctrlKey||b.metaKey||b.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&xy(b))return!1;const N=RA(b.code,c);o.current.add(b[N]),xA(u,o.current,!1)&&(b.preventDefault(),r(!0))},E=b=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&xy(b))return!1;const N=RA(b.code,c);xA(u,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(b[N]),b.key==="Meta"&&o.current.clear(),s.current=!1},_=()=>{o.current.clear(),r(!1)};return d?.addEventListener("keydown",m),d?.addEventListener("keyup",E),window.addEventListener("blur",_),()=>{d?.removeEventListener("keydown",m),d?.removeEventListener("keyup",E),window.removeEventListener("blur",_)}}},[t,r]),n};function xA(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function RA(t,e){return e.includes(t)?"code":"key"}function hN(t,e,n,r){const s=t.parentNode||t.parentId;if(!s)return n;const o=e.get(s),u=kl(o,r);return hN(o,e,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(o[wn]?.z??0)>(n.z??0)?o[wn]?.z??0:n.z??0},r)}function fN(t,e,n){t.forEach(r=>{const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n?.[r.id]){const{x:o,y:u,z:c}=hN(r,t,{...r.position,z:r[wn]?.z??0},e);r.positionAbsolute={x:o,y:u},r[wn].z=c,n?.[r.id]&&(r[wn].isParent=!0)}})}function IE(t,e,n,r){const s=new Map,o={},u=r?1e3:0;return t.forEach(c=>{const f=(qi(c.zIndex)?c.zIndex:0)+(c.selected?u:0),d=e.get(c.id),m={...c,positionAbsolute:{x:c.position.x,y:c.position.y}},E=c.parentNode||c.parentId;E&&(o[E]=!0);const _=d?.type&&d?.type!==c.type;Object.defineProperty(m,wn,{enumerable:!1,value:{handleBounds:_?void 0:d?.[wn]?.handleBounds,z:f}}),s.set(c.id,m)}),fN(s,n,o),s}function dN(t,e={}){const{getNodes:n,width:r,height:s,minZoom:o,maxZoom:u,d3Zoom:c,d3Selection:f,fitViewOnInitDone:d,fitViewOnInit:m,nodeOrigin:E}=t(),_=e.initial&&!d&&m;if(c&&f&&(_||!e.initial)){const A=n().filter(k=>{const D=e.includeHiddenNodes?k.width&&k.height:!k.hidden;return e.nodes?.length?D&&e.nodes.some(H=>H.id===k.id):D}),N=A.every(k=>k.width&&k.height);if(A.length>0&&N){const k=G_(A,E),{x:D,y:H,zoom:Y}=ZC(k,r,s,e.minZoom??o,e.maxZoom??u,e.padding??.1),z=uo.translate(D,H).scale(Y);return typeof e.duration=="number"&&e.duration>0?c.transform(eu(f,e.duration),z):c.transform(f,z),!0}}return!1}function AP(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[wn]:r[wn],selected:n.selected})}),new Map(e)}function wP(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function fm({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:o,onNodesChange:u,onEdgesChange:c,hasDefaultNodes:f,hasDefaultEdges:d}=n();t?.length&&(f&&r({nodeInternals:AP(t,s)}),u?.(t)),e?.length&&(d&&r({edges:wP(e,o)}),c?.(e))}const fl=()=>{},IP={zoomIn:fl,zoomOut:fl,zoomTo:fl,getZoom:()=>1,setViewport:fl,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:fl,fitBounds:fl,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},CP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),NP=()=>{const t=lr(),{d3Zoom:e,d3Selection:n}=_n(CP,Nr);return j.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(eu(n,s?.duration),1.2),zoomOut:s=>e.scaleBy(eu(n,s?.duration),1/1.2),zoomTo:(s,o)=>e.scaleTo(eu(n,o?.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,o)=>{const[u,c,f]=t.getState().transform,d=uo.translate(s.x??u,s.y??c).scale(s.zoom??f);e.transform(eu(n,o?.duration),d)},getViewport:()=>{const[s,o,u]=t.getState().transform;return{x:s,y:o,zoom:u}},fitView:s=>dN(t.getState,s),setCenter:(s,o,u)=>{const{width:c,height:f,maxZoom:d}=t.getState(),m=typeof u?.zoom<"u"?u.zoom:d,E=c/2-s*m,_=f/2-o*m,b=uo.translate(E,_).scale(m);e.transform(eu(n,u?.duration),b)},fitBounds:(s,o)=>{const{width:u,height:c,minZoom:f,maxZoom:d}=t.getState(),{x:m,y:E,zoom:_}=ZC(s,u,c,f,d,o?.padding??.1),b=uo.translate(m,E).scale(_);e.transform(eu(n,o?.duration),b)},project:s=>{const{transform:o,snapToGrid:u,snapGrid:c}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Dy(s,o,u,c)},screenToFlowPosition:s=>{const{transform:o,snapToGrid:u,snapGrid:c,domNode:f}=t.getState();if(!f)return s;const{x:d,y:m}=f.getBoundingClientRect(),E={x:s.x-d,y:s.y-m};return Dy(E,o,u,c)},flowToScreenPosition:s=>{const{transform:o,domNode:u}=t.getState();if(!u)return s;const{x:c,y:f}=u.getBoundingClientRect(),d=XC(s,o);return{x:d.x+c,y:d.y+f}},viewportInitialized:!0}:IP,[e,n])};function wf(){const t=NP(),e=lr(),n=j.useCallback(()=>e.getState().getNodes().map(N=>({...N})),[]),r=j.useCallback(N=>e.getState().nodeInternals.get(N),[]),s=j.useCallback(()=>{const{edges:N=[]}=e.getState();return N.map(k=>({...k}))},[]),o=j.useCallback(N=>{const{edges:k=[]}=e.getState();return k.find(D=>D.id===N)},[]),u=j.useCallback(N=>{const{getNodes:k,setNodes:D,hasDefaultNodes:H,onNodesChange:Y}=e.getState(),z=k(),ee=typeof N=="function"?N(z):N;if(H)D(ee);else if(Y){const $=ee.length===0?z.map(R=>({type:"remove",id:R.id})):ee.map(R=>({item:R,type:"reset"}));Y($)}},[]),c=j.useCallback(N=>{const{edges:k=[],setEdges:D,hasDefaultEdges:H,onEdgesChange:Y}=e.getState(),z=typeof N=="function"?N(k):N;if(H)D(z);else if(Y){const ee=z.length===0?k.map($=>({type:"remove",id:$.id})):z.map($=>({item:$,type:"reset"}));Y(ee)}},[]),f=j.useCallback(N=>{const k=Array.isArray(N)?N:[N],{getNodes:D,setNodes:H,hasDefaultNodes:Y,onNodesChange:z}=e.getState();if(Y){const $=[...D(),...k];H($)}else if(z){const ee=k.map($=>({item:$,type:"add"}));z(ee)}},[]),d=j.useCallback(N=>{const k=Array.isArray(N)?N:[N],{edges:D=[],setEdges:H,hasDefaultEdges:Y,onEdgesChange:z}=e.getState();if(Y)H([...D,...k]);else if(z){const ee=k.map($=>({item:$,type:"add"}));z(ee)}},[]),m=j.useCallback(()=>{const{getNodes:N,edges:k=[],transform:D}=e.getState(),[H,Y,z]=D;return{nodes:N().map(ee=>({...ee})),edges:k.map(ee=>({...ee})),viewport:{x:H,y:Y,zoom:z}}},[]),E=j.useCallback(({nodes:N,edges:k})=>{const{nodeInternals:D,getNodes:H,edges:Y,hasDefaultNodes:z,hasDefaultEdges:ee,onNodesDelete:$,onEdgesDelete:R,onNodesChange:x,onEdgesChange:O}=e.getState(),M=(N||[]).map(K=>K.id),B=(k||[]).map(K=>K.id),U=H().reduce((K,V)=>{const Q=V.parentNode||V.parentId,re=!M.includes(V.id)&&Q&&K.find(S=>S.id===Q);return(typeof V.deletable=="boolean"?V.deletable:!0)&&(M.includes(V.id)||re)&&K.push(V),K},[]),I=Y.filter(K=>typeof K.deletable=="boolean"?K.deletable:!0),L=I.filter(K=>B.includes(K.id));if(U||L){const K=WC(U,I),V=[...L,...K],Q=V.reduce((re,ie)=>(re.includes(ie.id)||re.push(ie.id),re),[]);if((ee||z)&&(ee&&e.setState({edges:Y.filter(re=>!Q.includes(re.id))}),z&&(U.forEach(re=>{D.delete(re.id)}),e.setState({nodeInternals:new Map(D)}))),Q.length>0&&(R?.(V),O&&O(Q.map(re=>({id:re,type:"remove"})))),U.length>0&&($?.(U),x)){const re=U.map(ie=>({id:ie.id,type:"remove"}));x(re)}}},[]),_=j.useCallback(N=>{const k=KM(N),D=k?null:e.getState().nodeInternals.get(N.id);return!k&&!D?[null,null,k]:[k?N:bA(D),D,k]},[]),b=j.useCallback((N,k=!0,D)=>{const[H,Y,z]=_(N);return H?(D||e.getState().getNodes()).filter(ee=>{if(!z&&(ee.id===Y.id||!ee.positionAbsolute))return!1;const $=bA(ee),R=Ny($,H);return k&&R>0||R>=H.width*H.height}):[]},[]),A=j.useCallback((N,k,D=!0)=>{const[H]=_(N);if(!H)return!1;const Y=Ny(H,k);return D&&Y>0||Y>=H.width*H.height},[]);return j.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:o,setNodes:u,setEdges:c,addNodes:f,addEdges:d,toObject:m,deleteElements:E,getIntersectingNodes:b,isNodeIntersecting:A}),[t,n,r,s,o,u,c,f,d,m,E,b,A])}const xP={actInsideInputWithModifier:!1};var RP=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=lr(),{deleteElements:r}=wf(),s=of(t,xP),o=of(e);j.useEffect(()=>{if(s){const{edges:u,getNodes:c}=n.getState(),f=c().filter(m=>m.selected),d=u.filter(m=>m.selected);r({nodes:f,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),j.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function OP(t){const e=lr();j.useEffect(()=>{let n;const r=()=>{if(!t.current)return;const s=F_(t.current);(s.height===0||s.width===0)&&e.getState().onError?.("004",pa.error004()),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const Q_={position:"absolute",width:"100%",height:"100%",top:0,left:0},DP=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,dm=t=>({x:t.x,y:t.y,zoom:t.k}),dl=(t,e)=>t.target.closest(`.${e}`),OA=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),DA=t=>{const e=t.ctrlKey&&ep()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},kP=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),LP=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:o=!0,panOnScroll:u=!1,panOnScrollSpeed:c=.5,panOnScrollMode:f=au.Free,zoomOnDoubleClick:d=!0,elementsSelectable:m,panOnDrag:E=!0,defaultViewport:_,translateExtent:b,minZoom:A,maxZoom:N,zoomActivationKeyCode:k,preventScrolling:D=!0,children:H,noWheelClassName:Y,noPanClassName:z})=>{const ee=j.useRef(),$=lr(),R=j.useRef(!1),x=j.useRef(!1),O=j.useRef(null),M=j.useRef({x:0,y:0,zoom:0}),{d3Zoom:B,d3Selection:U,d3ZoomHandler:I,userSelectionActive:L}=_n(kP,Nr),K=of(k),V=j.useRef(0),Q=j.useRef(!1),re=j.useRef();return OP(O),j.useEffect(()=>{if(O.current){const ie=O.current.getBoundingClientRect(),S=VM().scaleExtent([A,N]).translateExtent(b),J=ts(O.current).call(S),oe=uo.translate(_.x,_.y).scale(Yl(_.zoom,A,N)),P=[[0,0],[ie.width,ie.height]],pe=S.constrain()(oe,P,b);S.transform(J,pe),S.wheelDelta(DA),$.setState({d3Zoom:S,d3Selection:J,d3ZoomHandler:J.on("wheel.zoom"),transform:[pe.x,pe.y,pe.k],domNode:O.current.closest(".react-flow")})}},[]),j.useEffect(()=>{U&&B&&(u&&!K&&!L?U.on("wheel.zoom",ie=>{if(dl(ie,Y))return!1;ie.preventDefault(),ie.stopImmediatePropagation();const S=U.property("__zoom").k||1;if(ie.ctrlKey&&o){const Se=ws(ie),Le=DA(ie),Pe=S*Math.pow(2,Le);B.scaleTo(U,Pe,Se,ie);return}const J=ie.deltaMode===1?20:1;let oe=f===au.Vertical?0:ie.deltaX*J,P=f===au.Horizontal?0:ie.deltaY*J;!ep()&&ie.shiftKey&&f!==au.Vertical&&(oe=ie.deltaY*J,P=0),B.translateBy(U,-(oe/S)*c,-(P/S)*c,{internal:!0});const pe=dm(U.property("__zoom")),{onViewportChangeStart:Ne,onViewportChange:Ce,onViewportChangeEnd:He}=$.getState();clearTimeout(re.current),Q.current||(Q.current=!0,e?.(ie,pe),Ne?.(pe)),Q.current&&(t?.(ie,pe),Ce?.(pe),re.current=setTimeout(()=>{n?.(ie,pe),He?.(pe),Q.current=!1},150))},{passive:!1}):typeof I<"u"&&U.on("wheel.zoom",function(ie,S){if(!D&&ie.type==="wheel"&&!ie.ctrlKey||dl(ie,Y))return null;ie.preventDefault(),I.call(this,ie,S)},{passive:!1}))},[L,u,f,U,B,I,K,o,D,Y,e,t,n]),j.useEffect(()=>{B&&B.on("start",ie=>{if(!ie.sourceEvent||ie.sourceEvent.internal)return null;V.current=ie.sourceEvent?.button;const{onViewportChangeStart:S}=$.getState(),J=dm(ie.transform);R.current=!0,M.current=J,ie.sourceEvent?.type==="mousedown"&&$.setState({paneDragging:!0}),S?.(J),e?.(ie.sourceEvent,J)})},[B,e]),j.useEffect(()=>{B&&(L&&!R.current?B.on("zoom",null):L||B.on("zoom",ie=>{const{onViewportChange:S}=$.getState();if($.setState({transform:[ie.transform.x,ie.transform.y,ie.transform.k]}),x.current=!!(r&&OA(E,V.current??0)),(t||S)&&!ie.sourceEvent?.internal){const J=dm(ie.transform);S?.(J),t?.(ie.sourceEvent,J)}}))},[L,B,t,E,r]),j.useEffect(()=>{B&&B.on("end",ie=>{if(!ie.sourceEvent||ie.sourceEvent.internal)return null;const{onViewportChangeEnd:S}=$.getState();if(R.current=!1,$.setState({paneDragging:!1}),r&&OA(E,V.current??0)&&!x.current&&r(ie.sourceEvent),x.current=!1,(n||S)&&DP(M.current,ie.transform)){const J=dm(ie.transform);M.current=J,clearTimeout(ee.current),ee.current=setTimeout(()=>{S?.(J),n?.(ie.sourceEvent,J)},u?150:0)}})},[B,u,E,n,r]),j.useEffect(()=>{B&&B.filter(ie=>{const S=K||s,J=o&&ie.ctrlKey;if((E===!0||Array.isArray(E)&&E.includes(1))&&ie.button===1&&ie.type==="mousedown"&&(dl(ie,"react-flow__node")||dl(ie,"react-flow__edge")))return!0;if(!E&&!S&&!u&&!d&&!o||L||!d&&ie.type==="dblclick"||dl(ie,Y)&&ie.type==="wheel"||dl(ie,z)&&(ie.type!=="wheel"||u&&ie.type==="wheel"&&!K)||!o&&ie.ctrlKey&&ie.type==="wheel"||!S&&!u&&!J&&ie.type==="wheel"||!E&&(ie.type==="mousedown"||ie.type==="touchstart")||Array.isArray(E)&&!E.includes(ie.button)&&ie.type==="mousedown")return!1;const oe=Array.isArray(E)&&E.includes(ie.button)||!ie.button||ie.button<=1;return(!ie.ctrlKey||ie.type==="wheel")&&oe})},[L,B,s,o,u,d,E,m,K]),ye.createElement("div",{className:"react-flow__renderer",ref:O,style:Q_},H)},MP=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function PP(){const{userSelectionActive:t,userSelectionRect:e}=_n(MP,Nr);return t&&e?ye.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function kA(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,o=e.position.y+e.height-r.height;if(s>0||o>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),o>0&&(r.style.height+=o),e.position.x<0){const u=Math.abs(e.position.x);r.position.x=r.position.x-u,r.style.width+=u,e.position.x=0}if(e.position.y<0){const u=Math.abs(e.position.y);r.position.y=r.position.y-u,r.style.height+=u,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function mN(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const o=t.filter(c=>c.id===s.id);if(o.length===0)return r.push(s),r;const u={...s};for(const c of o)if(c)switch(c.type){case"select":{u.selected=c.selected;break}case"position":{typeof c.position<"u"&&(u.position=c.position),typeof c.positionAbsolute<"u"&&(u.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(u.dragging=c.dragging),u.expandParent&&kA(r,u);break}case"dimensions":{typeof c.dimensions<"u"&&(u.width=c.dimensions.width,u.height=c.dimensions.height),typeof c.updateStyle<"u"&&(u.style={...u.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(u.resizing=c.resizing),u.expandParent&&kA(r,u);break}case"remove":return r}return r.push(u),r},n)}function pN(t,e){return mN(t,e)}function BP(t,e){return mN(t,e)}const Za=(t,e)=>({id:t,type:"select",selected:e});function Nl(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(Za(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(Za(r.id,!1))),n},[])}const CE=(t,e)=>n=>{n.target===e.current&&t?.(n)},UP=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),gN=j.memo(({isSelecting:t,selectionMode:e=sf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:o,onPaneContextMenu:u,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:m,children:E})=>{const _=j.useRef(null),b=lr(),A=j.useRef(0),N=j.useRef(0),k=j.useRef(),{userSelectionActive:D,elementsSelectable:H,dragging:Y}=_n(UP,Nr),z=()=>{b.setState({userSelectionActive:!1,userSelectionRect:null}),A.current=0,N.current=0},ee=I=>{o?.(I),b.getState().resetSelectedElements(),b.setState({nodesSelectionActive:!1})},$=I=>{if(Array.isArray(n)&&n?.includes(2)){I.preventDefault();return}u?.(I)},R=c?I=>c(I):void 0,x=I=>{const{resetSelectedElements:L,domNode:K}=b.getState();if(k.current=K?.getBoundingClientRect(),!H||!t||I.button!==0||I.target!==_.current||!k.current)return;const{x:V,y:Q}=lo(I,k.current);L(),b.setState({userSelectionRect:{width:0,height:0,startX:V,startY:Q,x:V,y:Q}}),r?.(I)},O=I=>{const{userSelectionRect:L,nodeInternals:K,edges:V,transform:Q,onNodesChange:re,onEdgesChange:ie,nodeOrigin:S,getNodes:J}=b.getState();if(!t||!k.current||!L)return;b.setState({userSelectionActive:!0,nodesSelectionActive:!1});const oe=lo(I,k.current),P=L.startX??0,pe=L.startY??0,Ne={...L,x:oe.x<P?oe.x:P,y:oe.y<pe?oe.y:pe,width:Math.abs(oe.x-P),height:Math.abs(oe.y-pe)},Ce=J(),He=QC(K,Ne,Q,e===sf.Partial,!0,S),Se=WC(He,V).map(Pe=>Pe.id),Le=He.map(Pe=>Pe.id);if(A.current!==Le.length){A.current=Le.length;const Pe=Nl(Ce,Le);Pe.length&&re?.(Pe)}if(N.current!==Se.length){N.current=Se.length;const Pe=Nl(V,Se);Pe.length&&ie?.(Pe)}b.setState({userSelectionRect:Ne})},M=I=>{if(I.button!==0)return;const{userSelectionRect:L}=b.getState();!D&&L&&I.target===_.current&&ee?.(I),b.setState({nodesSelectionActive:A.current>0}),z(),s?.(I)},B=I=>{D&&(b.setState({nodesSelectionActive:A.current>0}),s?.(I)),z()},U=H&&(t||D);return ye.createElement("div",{className:qr(["react-flow__pane",{dragging:Y,selection:t}]),onClick:U?void 0:CE(ee,_),onContextMenu:CE($,_),onWheel:CE(R,_),onMouseEnter:U?void 0:f,onMouseDown:U?x:void 0,onMouseMove:U?O:d,onMouseUp:U?M:void 0,onMouseLeave:U?B:m,ref:_,style:Q_},E,ye.createElement(PP,null))});gN.displayName="Pane";function EN(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:EN(r,e):!1}function LA(t,e,n){let r=t;do{if(r?.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function VP(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!EN(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(s.positionAbsolute?.x??0),y:n.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function FP(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function yN(t,e,n,r,s=[0,0],o){const u=FP(t,t.extent||r);let c=u;const f=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(f&&t.width&&t.height){const E=n.get(f),{x:_,y:b}=kl(E,s).positionAbsolute;c=E&&qi(_)&&qi(b)&&qi(E.width)&&qi(E.height)?[[_+t.width*s[0],b+t.height*s[1]],[_+E.width-t.width+t.width*s[0],b+E.height-t.height+t.height*s[1]]]:c}else o?.("005",pa.error005()),c=u;else if(t.extent&&f&&t.extent!=="parent"){const E=n.get(f),{x:_,y:b}=kl(E,s).positionAbsolute;c=[[t.extent[0][0]+_,t.extent[0][1]+b],[t.extent[1][0]+_,t.extent[1][1]+b]]}let d={x:0,y:0};if(f){const E=n.get(f);d=kl(E,s).positionAbsolute}const m=c&&c!=="parent"?H_(e,c):e;return{position:{x:m.x-d.x,y:m.y-d.y},positionAbsolute:m}}function NE({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const MA=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const o=Array.from(s),u=e.getBoundingClientRect(),c={x:u.width*r[0],y:u.height*r[1]};return o.map(f=>{const d=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(d.left-u.left-c.x)/n,y:(d.top-u.top-c.y)/n,...F_(f)}})};function Eh(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function Ly({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:o,multiSelectionActive:u,nodeInternals:c,onError:f}=e.getState(),d=c.get(t);if(!d){f?.("012",pa.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&u)&&(o({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([t])}function HP(){const t=lr();return j.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:o}=t.getState(),u=n.touches?n.touches[0].clientX:n.clientX,c=n.touches?n.touches[0].clientY:n.clientY,f={x:(u-r[0])/r[2],y:(c-r[1])/r[2]};return{xSnapped:o?s[0]*Math.round(f.x/s[0]):f.x,ySnapped:o?s[1]*Math.round(f.y/s[1]):f.y,...f}},[])}function xE(t){return(e,n,r)=>t?.(e,r)}function _N({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:o,selectNodesOnDrag:u}){const c=lr(),[f,d]=j.useState(!1),m=j.useRef([]),E=j.useRef({x:null,y:null}),_=j.useRef(0),b=j.useRef(null),A=j.useRef({x:0,y:0}),N=j.useRef(null),k=j.useRef(!1),D=j.useRef(!1),H=j.useRef(!1),Y=HP();return j.useEffect(()=>{if(t?.current){const z=ts(t.current),ee=({x,y:O})=>{const{nodeInternals:M,onNodeDrag:B,onSelectionDrag:U,updateNodePositions:I,nodeExtent:L,snapGrid:K,snapToGrid:V,nodeOrigin:Q,onError:re}=c.getState();E.current={x,y:O};let ie=!1,S={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&L){const oe=G_(m.current,Q);S=z_(oe)}if(m.current=m.current.map(oe=>{const P={x:x-oe.distance.x,y:O-oe.distance.y};V&&(P.x=K[0]*Math.round(P.x/K[0]),P.y=K[1]*Math.round(P.y/K[1]));const pe=[[L[0][0],L[0][1]],[L[1][0],L[1][1]]];m.current.length>1&&L&&!oe.extent&&(pe[0][0]=oe.positionAbsolute.x-S.x+L[0][0],pe[1][0]=oe.positionAbsolute.x+(oe.width??0)-S.x2+L[1][0],pe[0][1]=oe.positionAbsolute.y-S.y+L[0][1],pe[1][1]=oe.positionAbsolute.y+(oe.height??0)-S.y2+L[1][1]);const Ne=yN(oe,P,M,pe,Q,re);return ie=ie||oe.position.x!==Ne.position.x||oe.position.y!==Ne.position.y,oe.position=Ne.position,oe.positionAbsolute=Ne.positionAbsolute,oe}),!ie)return;I(m.current,!0,!0),d(!0);const J=s?B:xE(U);if(J&&N.current){const[oe,P]=NE({nodeId:s,dragItems:m.current,nodeInternals:M});J(N.current,oe,P)}},$=()=>{if(!b.current)return;const[x,O]=HC(A.current,b.current);if(x!==0||O!==0){const{transform:M,panBy:B}=c.getState();E.current.x=(E.current.x??0)-x/M[2],E.current.y=(E.current.y??0)-O/M[2],B({x,y:O})&&ee(E.current)}_.current=requestAnimationFrame($)},R=x=>{const{nodeInternals:O,multiSelectionActive:M,nodesDraggable:B,unselectNodesAndEdges:U,onNodeDragStart:I,onSelectionDragStart:L}=c.getState();D.current=!0;const K=s?I:xE(L);(!u||!o)&&!M&&s&&(O.get(s)?.selected||U()),s&&o&&u&&Ly({id:s,store:c,nodeRef:t});const V=Y(x);if(E.current=V,m.current=VP(O,B,V,s),K&&m.current){const[Q,re]=NE({nodeId:s,dragItems:m.current,nodeInternals:O});K(x.sourceEvent,Q,re)}};if(e)z.on(".drag",null);else{const x=X4().on("start",O=>{const{domNode:M,nodeDragThreshold:B}=c.getState();B===0&&R(O),H.current=!1;const U=Y(O);E.current=U,b.current=M?.getBoundingClientRect()||null,A.current=lo(O.sourceEvent,b.current)}).on("drag",O=>{const M=Y(O),{autoPanOnNodeDrag:B,nodeDragThreshold:U}=c.getState();if(O.sourceEvent.type==="touchmove"&&O.sourceEvent.touches.length>1&&(H.current=!0),!H.current){if(!k.current&&D.current&&B&&(k.current=!0,$()),!D.current){const I=M.xSnapped-(E?.current?.x??0),L=M.ySnapped-(E?.current?.y??0);Math.sqrt(I*I+L*L)>U&&R(O)}(E.current.x!==M.xSnapped||E.current.y!==M.ySnapped)&&m.current&&D.current&&(N.current=O.sourceEvent,A.current=lo(O.sourceEvent,b.current),ee(M))}}).on("end",O=>{if(!(!D.current||H.current)&&(d(!1),k.current=!1,D.current=!1,cancelAnimationFrame(_.current),m.current)){const{updateNodePositions:M,nodeInternals:B,onNodeDragStop:U,onSelectionDragStop:I}=c.getState(),L=s?U:xE(I);if(M(m.current,!1,!1),L){const[K,V]=NE({nodeId:s,dragItems:m.current,nodeInternals:B});L(O.sourceEvent,K,V)}}}).filter(O=>{const M=O.target;return!O.button&&(!n||!LA(M,`.${n}`,t))&&(!r||LA(M,r,t))});return z.call(x),()=>{z.on(".drag",null)}}}},[t,e,n,r,o,c,s,u,Y]),f}function TN(){const t=lr();return j.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:o,getNodes:u,snapToGrid:c,snapGrid:f,onError:d,nodesDraggable:m}=t.getState(),E=u().filter(H=>H.selected&&(H.draggable||m&&typeof H.draggable>"u")),_=c?f[0]:5,b=c?f[1]:5,A=n.isShiftPressed?4:1,N=n.x*_*A,k=n.y*b*A,D=E.map(H=>{if(H.positionAbsolute){const Y={x:H.positionAbsolute.x+N,y:H.positionAbsolute.y+k};c&&(Y.x=f[0]*Math.round(Y.x/f[0]),Y.y=f[1]*Math.round(Y.y/f[1]));const{positionAbsolute:z,position:ee}=yN(H,Y,r,s,void 0,d);H.position=ee,H.positionAbsolute=z}return H});o(D,!0,!1)},[])}const Ll={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var yh=t=>{const e=({id:n,type:r,data:s,xPos:o,yPos:u,xPosOrigin:c,yPosOrigin:f,selected:d,onClick:m,onMouseEnter:E,onMouseMove:_,onMouseLeave:b,onContextMenu:A,onDoubleClick:N,style:k,className:D,isDraggable:H,isSelectable:Y,isConnectable:z,isFocusable:ee,selectNodesOnDrag:$,sourcePosition:R,targetPosition:x,hidden:O,resizeObserver:M,dragHandle:B,zIndex:U,isParent:I,noDragClassName:L,noPanClassName:K,initialized:V,disableKeyboardA11y:Q,ariaLabel:re,rfId:ie,hasHandleBounds:S})=>{const J=lr(),oe=j.useRef(null),P=j.useRef(null),pe=j.useRef(R),Ne=j.useRef(x),Ce=j.useRef(r),He=Y||H||m||E||_||b,Se=TN(),Le=Eh(n,J.getState,E),Pe=Eh(n,J.getState,_),Qe=Eh(n,J.getState,b),Rt=Eh(n,J.getState,A),Ot=Eh(n,J.getState,N),Dt=Ke=>{const{nodeDragThreshold:qe}=J.getState();if(Y&&(!$||!H||qe>0)&&Ly({id:n,store:J,nodeRef:oe}),m){const nn=J.getState().nodeInternals.get(n);nn&&m(Ke,{...nn})}},Ge=Ke=>{if(!xy(Ke)&&!Q)if(jC.includes(Ke.key)&&Y){const qe=Ke.key==="Escape";Ly({id:n,store:J,unselect:qe,nodeRef:oe})}else H&&d&&Object.prototype.hasOwnProperty.call(Ll,Ke.key)&&(J.setState({ariaLiveMessage:`Moved selected node ${Ke.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~u}`}),Se({x:Ll[Ke.key].x,y:Ll[Ke.key].y,isShiftPressed:Ke.shiftKey}))};j.useEffect(()=>()=>{P.current&&(M?.unobserve(P.current),P.current=null)},[]),j.useEffect(()=>{if(oe.current&&!O){const Ke=oe.current;(!V||!S||P.current!==Ke)&&(P.current&&M?.unobserve(P.current),M?.observe(Ke),P.current=Ke)}},[O,V,S]),j.useEffect(()=>{const Ke=Ce.current!==r,qe=pe.current!==R,nn=Ne.current!==x;oe.current&&(Ke||qe||nn)&&(Ke&&(Ce.current=r),qe&&(pe.current=R),nn&&(Ne.current=x),J.getState().updateNodeDimensions([{id:n,nodeElement:oe.current,forceUpdate:!0}]))},[n,r,R,x]);const cn=_N({nodeRef:oe,disabled:O||!H,noDragClassName:L,handleSelector:B,nodeId:n,isSelectable:Y,selectNodesOnDrag:$});return O?null:ye.createElement("div",{className:qr(["react-flow__node",`react-flow__node-${r}`,{[K]:H},D,{selected:d,selectable:Y,parent:I,dragging:cn}]),ref:oe,style:{zIndex:U,transform:`translate(${c}px,${f}px)`,pointerEvents:He?"all":"none",visibility:V?"visible":"hidden",...k},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Le,onMouseMove:Pe,onMouseLeave:Qe,onContextMenu:Rt,onClick:Dt,onDoubleClick:Ot,onKeyDown:ee?Ge:void 0,tabIndex:ee?0:void 0,role:ee?"button":void 0,"aria-describedby":Q?void 0:`${lN}-${ie}`,"aria-label":re},ye.createElement(tP,{value:n},ye.createElement(t,{id:n,data:s,type:r,xPos:o,yPos:u,selected:d,isConnectable:z,sourcePosition:R,targetPosition:x,dragging:cn,dragHandle:B,zIndex:U})))};return e.displayName="NodeWrapper",j.memo(e)};const zP=t=>{const e=t.getNodes().filter(n=>n.selected);return{...G_(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function jP({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=lr(),{width:s,height:o,x:u,y:c,transformString:f,userSelectionActive:d}=_n(zP,Nr),m=TN(),E=j.useRef(null);if(j.useEffect(()=>{n||E.current?.focus({preventScroll:!0})},[n]),_N({nodeRef:E}),d||!s||!o)return null;const _=t?A=>{const N=r.getState().getNodes().filter(k=>k.selected);t(A,N)}:void 0,b=A=>{Object.prototype.hasOwnProperty.call(Ll,A.key)&&m({x:Ll[A.key].x,y:Ll[A.key].y,isShiftPressed:A.shiftKey})};return ye.createElement("div",{className:qr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:f}},ye.createElement("div",{ref:E,className:"react-flow__nodesselection-rect",onContextMenu:_,tabIndex:n?void 0:-1,onKeyDown:n?void 0:b,style:{width:s,height:o,top:c,left:u}}))}var qP=j.memo(jP);const YP=t=>t.nodesSelectionActive,bN=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,deleteKeyCode:c,onMove:f,onMoveStart:d,onMoveEnd:m,selectionKeyCode:E,selectionOnDrag:_,selectionMode:b,onSelectionStart:A,onSelectionEnd:N,multiSelectionKeyCode:k,panActivationKeyCode:D,zoomActivationKeyCode:H,elementsSelectable:Y,zoomOnScroll:z,zoomOnPinch:ee,panOnScroll:$,panOnScrollSpeed:R,panOnScrollMode:x,zoomOnDoubleClick:O,panOnDrag:M,defaultViewport:B,translateExtent:U,minZoom:I,maxZoom:L,preventScrolling:K,onSelectionContextMenu:V,noWheelClassName:Q,noPanClassName:re,disableKeyboardA11y:ie})=>{const S=_n(YP),J=of(E),oe=of(D),P=oe||M,pe=oe||$,Ne=J||_&&P!==!0;return RP({deleteKeyCode:c,multiSelectionKeyCode:k}),ye.createElement(LP,{onMove:f,onMoveStart:d,onMoveEnd:m,onPaneContextMenu:o,elementsSelectable:Y,zoomOnScroll:z,zoomOnPinch:ee,panOnScroll:pe,panOnScrollSpeed:R,panOnScrollMode:x,zoomOnDoubleClick:O,panOnDrag:!J&&P,defaultViewport:B,translateExtent:U,minZoom:I,maxZoom:L,zoomActivationKeyCode:H,preventScrolling:K,noWheelClassName:Q,noPanClassName:re},ye.createElement(gN,{onSelectionStart:A,onSelectionEnd:N,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:o,onPaneScroll:u,panOnDrag:P,isSelecting:!!Ne,selectionMode:b},t,S&&ye.createElement(qP,{onSelectionContextMenu:V,noPanClassName:re,disableKeyboardA11y:ie})))};bN.displayName="FlowRenderer";var $P=j.memo(bN);function GP(t){return _n(j.useCallback(n=>t?QC(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function KP(t){const e={input:yh(t.input||sN),default:yh(t.default||ky),output:yh(t.output||oN),group:yh(t.group||X_)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,o)=>(s[o]=yh(t[o]||ky),s),n);return{...e,...r}}const XP=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},QP=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),vN=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:o,onError:u}=_n(QP,Nr),c=GP(t.onlyRenderVisibleElements),f=j.useRef(),d=j.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const m=new ResizeObserver(E=>{const _=E.map(b=>({id:b.target.getAttribute("data-id"),nodeElement:b.target,forceUpdate:!0}));o(_)});return f.current=m,m},[]);return j.useEffect(()=>()=>{f?.current?.disconnect()},[]),ye.createElement("div",{className:"react-flow__nodes",style:Q_},c.map(m=>{let E=m.type||"default";t.nodeTypes[E]||(u?.("003",pa.error003(E)),E="default");const _=t.nodeTypes[E]||t.nodeTypes.default,b=!!(m.draggable||e&&typeof m.draggable>"u"),A=!!(m.selectable||s&&typeof m.selectable>"u"),N=!!(m.connectable||n&&typeof m.connectable>"u"),k=!!(m.focusable||r&&typeof m.focusable>"u"),D=t.nodeExtent?H_(m.positionAbsolute,t.nodeExtent):m.positionAbsolute,H=D?.x??0,Y=D?.y??0,z=XP({x:H,y:Y,width:m.width??0,height:m.height??0,origin:t.nodeOrigin});return ye.createElement(_,{key:m.id,id:m.id,className:m.className,style:m.style,type:E,data:m.data,sourcePosition:m.sourcePosition||je.Bottom,targetPosition:m.targetPosition||je.Top,hidden:m.hidden,xPos:H,yPos:Y,xPosOrigin:z.x,yPosOrigin:z.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!m.selected,isDraggable:b,isSelectable:A,isConnectable:N,isFocusable:k,resizeObserver:d,dragHandle:m.dragHandle,zIndex:m[wn]?.z??0,isParent:!!m[wn]?.isParent,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!m.width&&!!m.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:m.ariaLabel,hasHandleBounds:!!m[wn]?.handleBounds})}))};vN.displayName="NodeRenderer";var WP=j.memo(vN);const ZP=(t,e,n)=>n===je.Left?t-e:n===je.Right?t+e:t,JP=(t,e,n)=>n===je.Top?t-e:n===je.Bottom?t+e:t,PA="react-flow__edgeupdater",BA=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:o,onMouseOut:u,type:c})=>ye.createElement("circle",{onMouseDown:s,onMouseEnter:o,onMouseOut:u,className:qr([PA,`${PA}-${c}`]),cx:ZP(e,r,t),cy:JP(n,r,t),r,stroke:"transparent",fill:"transparent"}),e5=()=>!0;var ml=t=>{const e=({id:n,className:r,type:s,data:o,onClick:u,onEdgeDoubleClick:c,selected:f,animated:d,label:m,labelStyle:E,labelShowBg:_,labelBgStyle:b,labelBgPadding:A,labelBgBorderRadius:N,style:k,source:D,target:H,sourceX:Y,sourceY:z,targetX:ee,targetY:$,sourcePosition:R,targetPosition:x,elementsSelectable:O,hidden:M,sourceHandleId:B,targetHandleId:U,onContextMenu:I,onMouseEnter:L,onMouseMove:K,onMouseLeave:V,reconnectRadius:Q,onReconnect:re,onReconnectStart:ie,onReconnectEnd:S,markerEnd:J,markerStart:oe,rfId:P,ariaLabel:pe,isFocusable:Ne,isReconnectable:Ce,pathOptions:He,interactionWidth:Se,disableKeyboardA11y:Le})=>{const Pe=j.useRef(null),[Qe,Rt]=j.useState(!1),[Ot,Dt]=j.useState(!1),Ge=lr(),cn=j.useMemo(()=>`url('#${Oy(oe,P)}')`,[oe,P]),Ke=j.useMemo(()=>`url('#${Oy(J,P)}')`,[J,P]);if(M)return null;const qe=vt=>{const{edges:jt,addSelectedEdges:qt,unselectNodesAndEdges:Yt,multiSelectionActive:St}=Ge.getState(),ct=jt.find(en=>en.id===n);ct&&(O&&(Ge.setState({nodesSelectionActive:!1}),ct.selected&&St?(Yt({nodes:[],edges:[ct]}),Pe.current?.blur()):qt([n])),u&&u(vt,ct))},nn=gh(n,Ge.getState,c),Cn=gh(n,Ge.getState,I),Nn=gh(n,Ge.getState,L),Mn=gh(n,Ge.getState,K),xn=gh(n,Ge.getState,V),dn=(vt,jt)=>{if(vt.button!==0)return;const{edges:qt,isValidConnection:Yt}=Ge.getState(),St=jt?H:D,ct=(jt?U:B)||null,en=jt?"target":"source",Xt=Yt||e5,Gi=jt,br=qt.find(vr=>vr.id===n);Dt(!0),ie?.(vt,br,en);const qn=vr=>{Dt(!1),S?.(vr,br,en)};tN({event:vt,handleId:ct,nodeId:St,onConnect:vr=>re?.(br,vr),isTarget:Gi,getState:Ge.getState,setState:Ge.setState,isValidConnection:Xt,edgeUpdaterType:en,onReconnectEnd:qn})},jn=vt=>dn(vt,!0),ae=vt=>dn(vt,!1),Te=()=>Rt(!0),Ue=()=>Rt(!1),Ye=!O&&!u,lt=vt=>{if(!Le&&jC.includes(vt.key)&&O){const{unselectNodesAndEdges:jt,addSelectedEdges:qt,edges:Yt}=Ge.getState();vt.key==="Escape"?(Pe.current?.blur(),jt({edges:[Yt.find(ct=>ct.id===n)]})):qt([n])}};return ye.createElement("g",{className:qr(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:f,animated:d,inactive:Ye,updating:Qe}]),onClick:qe,onDoubleClick:nn,onContextMenu:Cn,onMouseEnter:Nn,onMouseMove:Mn,onMouseLeave:xn,onKeyDown:Ne?lt:void 0,tabIndex:Ne?0:void 0,role:Ne?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":pe===null?void 0:pe||`Edge from ${D} to ${H}`,"aria-describedby":Ne?`${cN}-${P}`:void 0,ref:Pe},!Ot&&ye.createElement(t,{id:n,source:D,target:H,selected:f,animated:d,label:m,labelStyle:E,labelShowBg:_,labelBgStyle:b,labelBgPadding:A,labelBgBorderRadius:N,data:o,style:k,sourceX:Y,sourceY:z,targetX:ee,targetY:$,sourcePosition:R,targetPosition:x,sourceHandleId:B,targetHandleId:U,markerStart:cn,markerEnd:Ke,pathOptions:He,interactionWidth:Se}),Ce&&ye.createElement(ye.Fragment,null,(Ce==="source"||Ce===!0)&&ye.createElement(BA,{position:R,centerX:Y,centerY:z,radius:Q,onMouseDown:jn,onMouseEnter:Te,onMouseOut:Ue,type:"source"}),(Ce==="target"||Ce===!0)&&ye.createElement(BA,{position:x,centerX:ee,centerY:$,radius:Q,onMouseDown:ae,onMouseEnter:Te,onMouseOut:Ue,type:"target"})))};return e.displayName="EdgeWrapper",j.memo(e)};function t5(t){const e={default:ml(t.default||tp),straight:ml(t.bezier||Y_),step:ml(t.step||q_),smoothstep:ml(t.step||Bp),simplebezier:ml(t.simplebezier||j_)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,o)=>(s[o]=ml(t[o]||tp),s),n);return{...e,...r}}function UA(t,e,n=null){const r=(n?.x||0)+e.x,s=(n?.y||0)+e.y,o=n?.width||e.width,u=n?.height||e.height;switch(t){case je.Top:return{x:r+o/2,y:s};case je.Right:return{x:r+o,y:s+u/2};case je.Bottom:return{x:r+o/2,y:s+u};case je.Left:return{x:r,y:s+u/2}}}function VA(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const n5=(t,e,n,r,s,o)=>{const u=UA(n,t,e),c=UA(o,r,s);return{sourceX:u.x,sourceY:u.y,targetX:c.x,targetY:c.y}};function r5({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:o,width:u,height:c,transform:f}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+o)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const m=z_({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:u/f[2],height:c/f[2]}),E=Math.max(0,Math.min(m.x2,d.x2)-Math.max(m.x,d.x)),_=Math.max(0,Math.min(m.y2,d.y2)-Math.max(m.y,d.y));return Math.ceil(E*_)>0}function FA(t){const e=t?.[wn]?.handleBounds||null,n=e&&t?.width&&t?.height&&typeof t?.positionAbsolute?.x<"u"&&typeof t?.positionAbsolute?.y<"u";return[{x:t?.positionAbsolute?.x||0,y:t?.positionAbsolute?.y||0,width:t?.width||0,height:t?.height||0},e,!!n]}const i5=[{level:0,isMaxLevel:!0,edges:[]}];function s5(t,e,n=!1){let r=-1;const s=t.reduce((u,c)=>{const f=qi(c.zIndex);let d=f?c.zIndex:0;if(n){const m=e.get(c.target),E=e.get(c.source),_=c.selected||m?.selected||E?.selected,b=Math.max(E?.[wn]?.z||0,m?.[wn]?.z||0,1e3);d=(f?c.zIndex:0)+(_?b:0)}return u[d]?u[d].push(c):u[d]=[c],r=d>r?d:r,u},{}),o=Object.entries(s).map(([u,c])=>{const f=+u;return{edges:c,level:f,isMaxLevel:f===r}});return o.length===0?i5:o}function a5(t,e,n){const r=_n(j.useCallback(s=>t?s.edges.filter(o=>{const u=e.get(o.source),c=e.get(o.target);return u?.width&&u?.height&&c?.width&&c?.height&&r5({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:c.width,targetHeight:c.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return s5(r,e,n)}const o5=({color:t="none",strokeWidth:e=1})=>ye.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),u5=({color:t="none",strokeWidth:e=1})=>ye.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),HA={[af.Arrow]:o5,[af.ArrowClosed]:u5};function l5(t){const e=lr();return j.useMemo(()=>Object.prototype.hasOwnProperty.call(HA,t)?HA[t]:(e.getState().onError?.("009",pa.error009(t)),null),[t])}const c5=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:o="strokeWidth",strokeWidth:u,orient:c="auto-start-reverse"})=>{const f=l5(e);return f?ye.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:c,refX:"0",refY:"0"},ye.createElement(f,{color:n,strokeWidth:u})):null},h5=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,o)=>([o.markerStart,o.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const c=Oy(u,e);r.includes(c)||(s.push({id:c,color:u.color||t,...u}),r.push(c))}}),s),[]).sort((s,o)=>s.id.localeCompare(o.id))},SN=({defaultColor:t,rfId:e})=>{const n=_n(j.useCallback(h5({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((o,u)=>o.id!==s[u].id)));return ye.createElement("defs",null,n.map(r=>ye.createElement(c5,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};SN.displayName="MarkerDefinitions";var f5=j.memo(SN);const d5=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),AN=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:o,onEdgeContextMenu:u,onEdgeMouseEnter:c,onEdgeMouseMove:f,onEdgeMouseLeave:d,onEdgeClick:m,onEdgeDoubleClick:E,onReconnect:_,onReconnectStart:b,onReconnectEnd:A,reconnectRadius:N,children:k,disableKeyboardA11y:D})=>{const{edgesFocusable:H,edgesUpdatable:Y,elementsSelectable:z,width:ee,height:$,connectionMode:R,nodeInternals:x,onError:O}=_n(d5,Nr),M=a5(e,x,n);return ee?ye.createElement(ye.Fragment,null,M.map(({level:B,edges:U,isMaxLevel:I})=>ye.createElement("svg",{key:B,style:{zIndex:B},width:ee,height:$,className:"react-flow__edges react-flow__container"},I&&ye.createElement(f5,{defaultColor:t,rfId:r}),ye.createElement("g",null,U.map(L=>{const[K,V,Q]=FA(x.get(L.source)),[re,ie,S]=FA(x.get(L.target));if(!Q||!S)return null;let J=L.type||"default";s[J]||(O?.("011",pa.error011(J)),J="default");const oe=s[J]||s.default,P=R===go.Strict?ie.target:(ie.target??[]).concat(ie.source??[]),pe=VA(V.source,L.sourceHandle),Ne=VA(P,L.targetHandle),Ce=pe?.position||je.Bottom,He=Ne?.position||je.Top,Se=!!(L.focusable||H&&typeof L.focusable>"u"),Le=L.reconnectable||L.updatable,Pe=typeof _<"u"&&(Le||Y&&typeof Le>"u");if(!pe||!Ne)return O?.("008",pa.error008(pe,L)),null;const{sourceX:Qe,sourceY:Rt,targetX:Ot,targetY:Dt}=n5(K,pe,Ce,re,Ne,He);return ye.createElement(oe,{key:L.id,id:L.id,className:qr([L.className,o]),type:J,data:L.data,selected:!!L.selected,animated:!!L.animated,hidden:!!L.hidden,label:L.label,labelStyle:L.labelStyle,labelShowBg:L.labelShowBg,labelBgStyle:L.labelBgStyle,labelBgPadding:L.labelBgPadding,labelBgBorderRadius:L.labelBgBorderRadius,style:L.style,source:L.source,target:L.target,sourceHandleId:L.sourceHandle,targetHandleId:L.targetHandle,markerEnd:L.markerEnd,markerStart:L.markerStart,sourceX:Qe,sourceY:Rt,targetX:Ot,targetY:Dt,sourcePosition:Ce,targetPosition:He,elementsSelectable:z,onContextMenu:u,onMouseEnter:c,onMouseMove:f,onMouseLeave:d,onClick:m,onEdgeDoubleClick:E,onReconnect:_,onReconnectStart:b,onReconnectEnd:A,reconnectRadius:N,rfId:r,ariaLabel:L.ariaLabel,isFocusable:Se,isReconnectable:Pe,pathOptions:"pathOptions"in L?L.pathOptions:void 0,interactionWidth:L.interactionWidth,disableKeyboardA11y:D})})))),k):null};AN.displayName="EdgeRenderer";var m5=j.memo(AN);const p5=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function g5({children:t}){const e=_n(p5);return ye.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function E5(t){const e=wf(),n=j.useRef(!1);j.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const y5={[je.Left]:je.Right,[je.Right]:je.Left,[je.Top]:je.Bottom,[je.Bottom]:je.Top},wN=({nodeId:t,handleType:e,style:n,type:r=eo.Bezier,CustomComponent:s,connectionStatus:o})=>{const{fromNode:u,handleId:c,toX:f,toY:d,connectionMode:m}=_n(j.useCallback($=>({fromNode:$.nodeInternals.get(t),handleId:$.connectionHandleId,toX:($.connectionPosition.x-$.transform[0])/$.transform[2],toY:($.connectionPosition.y-$.transform[1])/$.transform[2],connectionMode:$.connectionMode}),[t]),Nr),E=u?.[wn]?.handleBounds;let _=E?.[e];if(m===go.Loose&&(_=_||E?.[e==="source"?"target":"source"]),!u||!_)return null;const b=c?_.find($=>$.id===c):_[0],A=b?b.x+b.width/2:(u.width??0)/2,N=b?b.y+b.height/2:u.height??0,k=(u.positionAbsolute?.x??0)+A,D=(u.positionAbsolute?.y??0)+N,H=b?.position,Y=H?y5[H]:null;if(!H||!Y)return null;if(s)return ye.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:u,fromHandle:b,fromX:k,fromY:D,toX:f,toY:d,fromPosition:H,toPosition:Y,connectionStatus:o});let z="";const ee={sourceX:k,sourceY:D,sourcePosition:H,targetX:f,targetY:d,targetPosition:Y};return r===eo.Bezier?[z]=KC(ee):r===eo.Step?[z]=Ry({...ee,borderRadius:0}):r===eo.SmoothStep?[z]=Ry(ee):r===eo.SimpleBezier?[z]=GC(ee):z=`M${k},${D} ${f},${d}`,ye.createElement("path",{d:z,fill:"none",className:"react-flow__connection-path",style:n})};wN.displayName="ConnectionLine";const _5=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function T5({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:o,nodesConnectable:u,width:c,height:f,connectionStatus:d}=_n(_5,Nr);return!(s&&o&&c&&u)?null:ye.createElement("svg",{style:t,width:c,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container"},ye.createElement("g",{className:qr(["react-flow__connection",d])},ye.createElement(wN,{nodeId:s,handleType:o,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function zA(t,e){return j.useRef(null),lr(),j.useMemo(()=>e(t),[t])}const IN=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:o,onNodeClick:u,onEdgeClick:c,onNodeDoubleClick:f,onEdgeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:b,onSelectionContextMenu:A,onSelectionStart:N,onSelectionEnd:k,connectionLineType:D,connectionLineStyle:H,connectionLineComponent:Y,connectionLineContainerStyle:z,selectionKeyCode:ee,selectionOnDrag:$,selectionMode:R,multiSelectionKeyCode:x,panActivationKeyCode:O,zoomActivationKeyCode:M,deleteKeyCode:B,onlyRenderVisibleElements:U,elementsSelectable:I,selectNodesOnDrag:L,defaultViewport:K,translateExtent:V,minZoom:Q,maxZoom:re,preventScrolling:ie,defaultMarkerColor:S,zoomOnScroll:J,zoomOnPinch:oe,panOnScroll:P,panOnScrollSpeed:pe,panOnScrollMode:Ne,zoomOnDoubleClick:Ce,panOnDrag:He,onPaneClick:Se,onPaneMouseEnter:Le,onPaneMouseMove:Pe,onPaneMouseLeave:Qe,onPaneScroll:Rt,onPaneContextMenu:Ot,onEdgeContextMenu:Dt,onEdgeMouseEnter:Ge,onEdgeMouseMove:cn,onEdgeMouseLeave:Ke,onReconnect:qe,onReconnectStart:nn,onReconnectEnd:Cn,reconnectRadius:Nn,noDragClassName:Mn,noWheelClassName:xn,noPanClassName:dn,elevateEdgesOnSelect:jn,disableKeyboardA11y:ae,nodeOrigin:Te,nodeExtent:Ue,rfId:Ye})=>{const lt=zA(t,KP),vt=zA(e,t5);return E5(o),ye.createElement($P,{onPaneClick:Se,onPaneMouseEnter:Le,onPaneMouseMove:Pe,onPaneMouseLeave:Qe,onPaneContextMenu:Ot,onPaneScroll:Rt,deleteKeyCode:B,selectionKeyCode:ee,selectionOnDrag:$,selectionMode:R,onSelectionStart:N,onSelectionEnd:k,multiSelectionKeyCode:x,panActivationKeyCode:O,zoomActivationKeyCode:M,elementsSelectable:I,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:J,zoomOnPinch:oe,zoomOnDoubleClick:Ce,panOnScroll:P,panOnScrollSpeed:pe,panOnScrollMode:Ne,panOnDrag:He,defaultViewport:K,translateExtent:V,minZoom:Q,maxZoom:re,onSelectionContextMenu:A,preventScrolling:ie,noDragClassName:Mn,noWheelClassName:xn,noPanClassName:dn,disableKeyboardA11y:ae},ye.createElement(g5,null,ye.createElement(m5,{edgeTypes:vt,onEdgeClick:c,onEdgeDoubleClick:d,onlyRenderVisibleElements:U,onEdgeContextMenu:Dt,onEdgeMouseEnter:Ge,onEdgeMouseMove:cn,onEdgeMouseLeave:Ke,onReconnect:qe,onReconnectStart:nn,onReconnectEnd:Cn,reconnectRadius:Nn,defaultMarkerColor:S,noPanClassName:dn,elevateEdgesOnSelect:!!jn,disableKeyboardA11y:ae,rfId:Ye},ye.createElement(T5,{style:H,type:D,component:Y,containerStyle:z})),ye.createElement("div",{className:"react-flow__edgelabel-renderer"}),ye.createElement(WP,{nodeTypes:lt,onNodeClick:u,onNodeDoubleClick:f,onNodeMouseEnter:m,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:b,selectNodesOnDrag:L,onlyRenderVisibleElements:U,noPanClassName:dn,noDragClassName:Mn,disableKeyboardA11y:ae,nodeOrigin:Te,nodeExtent:Ue,rfId:Ye})))};IN.displayName="GraphView";var b5=j.memo(IN);const My=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],$a={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:My,nodeExtent:My,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:go.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:XM,isValidConnection:void 0},v5=()=>ok((t,e)=>({...$a,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:o}=e();t({nodeInternals:IE(n,r,s,o)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",o=typeof r<"u",u=s?IE(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:u,edges:o?r:[],hasDefaultNodes:s,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:o,fitViewOnInitDone:u,fitViewOnInitOptions:c,domNode:f,nodeOrigin:d}=e(),m=f?.querySelector(".react-flow__viewport");if(!m)return;const E=window.getComputedStyle(m),{m22:_}=new window.DOMMatrixReadOnly(E.transform),b=n.reduce((N,k)=>{const D=s.get(k.id);if(D?.hidden)s.set(D.id,{...D,[wn]:{...D[wn],handleBounds:void 0}});else if(D){const H=F_(k.nodeElement);!!(H.width&&H.height&&(D.width!==H.width||D.height!==H.height||k.forceUpdate))&&(s.set(D.id,{...D,[wn]:{...D[wn],handleBounds:{source:MA(".source",k.nodeElement,_,d),target:MA(".target",k.nodeElement,_,d)}},...H}),N.push({id:D.id,type:"dimensions",dimensions:H}))}return N},[]);fN(s,d);const A=u||o&&!u&&dN(e,{initial:!0,...c});t({nodeInternals:new Map(s),fitViewOnInitDone:A}),b?.length>0&&r?.(b)},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:o}=e(),u=n.map(c=>{const f={id:c.id,type:"position",dragging:s};return r&&(f.positionAbsolute=c.positionAbsolute,f.position=c.position),f});o(u)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:o,nodeOrigin:u,getNodes:c,elevateNodesOnSelect:f}=e();if(n?.length){if(o){const d=pN(n,c()),m=IE(d,s,u,f);t({nodeInternals:m})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Za(f,!0)):(u=Nl(o(),n),c=Nl(s,[])),fm({changedNodes:u,changedEdges:c,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:o}=e();let u,c=null;r?u=n.map(f=>Za(f,!0)):(u=Nl(s,n),c=Nl(o(),[])),fm({changedNodes:c,changedEdges:u,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:o}=e(),u=n||o(),c=r||s,f=u.map(m=>(m.selected=!1,Za(m.id,!1))),d=c.map(m=>Za(m.id,!1));fm({changedNodes:f,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r?.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r?.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{e().d3Zoom?.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),o=r().filter(c=>c.selected).map(c=>Za(c.id,!1)),u=n.filter(c=>c.selected).map(c=>Za(c.id,!1));fm({changedNodes:o,changedEdges:u,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=H_(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:o,d3Zoom:u,d3Selection:c,translateExtent:f}=e();if(!u||!c||!n.x&&!n.y)return!1;const d=uo.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),m=[[0,0],[s,o]],E=u?.constrain()(d,m,f);return u.transform(c,E),r[0]!==E.x||r[1]!==E.y||r[2]!==E.k},cancelConnection:()=>t({connectionNodeId:$a.connectionNodeId,connectionHandleId:$a.connectionHandleId,connectionHandleType:$a.connectionHandleType,connectionStatus:$a.connectionStatus,connectionStartHandle:$a.connectionStartHandle,connectionEndHandle:$a.connectionEndHandle}),reset:()=>t({...$a})}),Object.is),CN=({children:t})=>{const e=j.useRef(null);return e.current||(e.current=v5()),ye.createElement(HM,{value:e.current},t)};CN.displayName="ReactFlowProvider";const NN=({children:t})=>j.useContext(Pp)?ye.createElement(ye.Fragment,null,t):ye.createElement(CN,null,t);NN.displayName="ReactFlowWrapper";const S5={input:sN,default:ky,output:oN,group:X_},A5={default:tp,straight:Y_,step:q_,smoothstep:Bp,simplebezier:j_},w5=[0,0],I5=[15,15],C5={x:0,y:0,zoom:1},N5={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},xN=j.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:o=S5,edgeTypes:u=A5,onNodeClick:c,onEdgeClick:f,onInit:d,onMove:m,onMoveStart:E,onMoveEnd:_,onConnect:b,onConnectStart:A,onConnectEnd:N,onClickConnectStart:k,onClickConnectEnd:D,onNodeMouseEnter:H,onNodeMouseMove:Y,onNodeMouseLeave:z,onNodeContextMenu:ee,onNodeDoubleClick:$,onNodeDragStart:R,onNodeDrag:x,onNodeDragStop:O,onNodesDelete:M,onEdgesDelete:B,onSelectionChange:U,onSelectionDragStart:I,onSelectionDrag:L,onSelectionDragStop:K,onSelectionContextMenu:V,onSelectionStart:Q,onSelectionEnd:re,connectionMode:ie=go.Strict,connectionLineType:S=eo.Bezier,connectionLineStyle:J,connectionLineComponent:oe,connectionLineContainerStyle:P,deleteKeyCode:pe="Backspace",selectionKeyCode:Ne="Shift",selectionOnDrag:Ce=!1,selectionMode:He=sf.Full,panActivationKeyCode:Se="Space",multiSelectionKeyCode:Le=ep()?"Meta":"Control",zoomActivationKeyCode:Pe=ep()?"Meta":"Control",snapToGrid:Qe=!1,snapGrid:Rt=I5,onlyRenderVisibleElements:Ot=!1,selectNodesOnDrag:Dt=!0,nodesDraggable:Ge,nodesConnectable:cn,nodesFocusable:Ke,nodeOrigin:qe=w5,edgesFocusable:nn,edgesUpdatable:Cn,elementsSelectable:Nn,defaultViewport:Mn=C5,minZoom:xn=.5,maxZoom:dn=2,translateExtent:jn=My,preventScrolling:ae=!0,nodeExtent:Te,defaultMarkerColor:Ue="#b1b1b7",zoomOnScroll:Ye=!0,zoomOnPinch:lt=!0,panOnScroll:vt=!1,panOnScrollSpeed:jt=.5,panOnScrollMode:qt=au.Free,zoomOnDoubleClick:Yt=!0,panOnDrag:St=!0,onPaneClick:ct,onPaneMouseEnter:en,onPaneMouseMove:Xt,onPaneMouseLeave:Gi,onPaneScroll:br,onPaneContextMenu:qn,children:Dr,onEdgeContextMenu:vr,onEdgeDoubleClick:Yr,onEdgeMouseEnter:Fs,onEdgeMouseMove:si,onEdgeMouseLeave:Ki,onEdgeUpdate:kr,onEdgeUpdateStart:ai,onEdgeUpdateEnd:Qt,onReconnect:Bt,onReconnectStart:mn,onReconnectEnd:bn,reconnectRadius:ls=10,edgeUpdaterRadius:xo=10,onNodesChange:Lr,onEdgesChange:cs,noDragClassName:wi="nodrag",noWheelClassName:oi="nowheel",noPanClassName:Mr="nopan",fitView:Zn=!1,fitViewOptions:Pr,connectOnClick:Yn=!0,attributionPosition:ne,proOptions:ge,defaultEdgeOptions:Oe,elevateNodesOnSelect:Be=!0,elevateEdgesOnSelect:gt=!1,disableKeyboardA11y:it=!1,autoPanOnConnect:$t=!0,autoPanOnNodeDrag:Ut=!0,connectionRadius:Jn=20,isValidConnection:Vt,onError:kt,style:Ft,id:Pn,nodeDragThreshold:vn,...Rn},Br)=>{const Ur=Pn||"1";return ye.createElement("div",{...Rn,style:{...Ft,...N5},ref:Br,className:qr(["react-flow",s]),"data-testid":"rf__wrapper",id:Pn},ye.createElement(NN,null,ye.createElement(b5,{onInit:d,onMove:m,onMoveStart:E,onMoveEnd:_,onNodeClick:c,onEdgeClick:f,onNodeMouseEnter:H,onNodeMouseMove:Y,onNodeMouseLeave:z,onNodeContextMenu:ee,onNodeDoubleClick:$,nodeTypes:o,edgeTypes:u,connectionLineType:S,connectionLineStyle:J,connectionLineComponent:oe,connectionLineContainerStyle:P,selectionKeyCode:Ne,selectionOnDrag:Ce,selectionMode:He,deleteKeyCode:pe,multiSelectionKeyCode:Le,panActivationKeyCode:Se,zoomActivationKeyCode:Pe,onlyRenderVisibleElements:Ot,selectNodesOnDrag:Dt,defaultViewport:Mn,translateExtent:jn,minZoom:xn,maxZoom:dn,preventScrolling:ae,zoomOnScroll:Ye,zoomOnPinch:lt,zoomOnDoubleClick:Yt,panOnScroll:vt,panOnScrollSpeed:jt,panOnScrollMode:qt,panOnDrag:St,onPaneClick:ct,onPaneMouseEnter:en,onPaneMouseMove:Xt,onPaneMouseLeave:Gi,onPaneScroll:br,onPaneContextMenu:qn,onSelectionContextMenu:V,onSelectionStart:Q,onSelectionEnd:re,onEdgeContextMenu:vr,onEdgeDoubleClick:Yr,onEdgeMouseEnter:Fs,onEdgeMouseMove:si,onEdgeMouseLeave:Ki,onReconnect:Bt??kr,onReconnectStart:mn??ai,onReconnectEnd:bn??Qt,reconnectRadius:ls??xo,defaultMarkerColor:Ue,noDragClassName:wi,noWheelClassName:oi,noPanClassName:Mr,elevateEdgesOnSelect:gt,rfId:Ur,disableKeyboardA11y:it,nodeOrigin:qe,nodeExtent:Te}),ye.createElement(yP,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:b,onConnectStart:A,onConnectEnd:N,onClickConnectStart:k,onClickConnectEnd:D,nodesDraggable:Ge,nodesConnectable:cn,nodesFocusable:Ke,edgesFocusable:nn,edgesUpdatable:Cn,elementsSelectable:Nn,elevateNodesOnSelect:Be,minZoom:xn,maxZoom:dn,nodeExtent:Te,onNodesChange:Lr,onEdgesChange:cs,snapToGrid:Qe,snapGrid:Rt,connectionMode:ie,translateExtent:jn,connectOnClick:Yn,defaultEdgeOptions:Oe,fitView:Zn,fitViewOptions:Pr,onNodesDelete:M,onEdgesDelete:B,onNodeDragStart:R,onNodeDrag:x,onNodeDragStop:O,onSelectionDrag:L,onSelectionDragStart:I,onSelectionDragStop:K,noPanClassName:Mr,nodeOrigin:qe,rfId:Ur,autoPanOnConnect:$t,autoPanOnNodeDrag:Ut,onError:kt,connectionRadius:Jn,isValidConnection:Vt,nodeDragThreshold:vn}),ye.createElement(gP,{onSelectionChange:U}),Dr,ye.createElement(jM,{proOptions:ge,position:ne}),ye.createElement(SP,{rfId:Ur,disableKeyboardA11y:it})))});xN.displayName="ReactFlow";function RN(t){return e=>{const[n,r]=j.useState(e),s=j.useCallback(o=>r(u=>t(o,u)),[]);return[n,r,s]}}const x5=RN(pN),R5=RN(BP);function O5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ye.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function D5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ye.createElement("path",{d:"M0 0h32v4.2H0z"}))}function k5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ye.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function L5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ye.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function M5(){return ye.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ye.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const xh=({children:t,className:e,...n})=>ye.createElement("button",{type:"button",className:qr(["react-flow__controls-button",e]),...n},t);xh.displayName="ControlButton";const P5=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),ON=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:o,onZoomOut:u,onFitView:c,onInteractiveChange:f,className:d,children:m,position:E="bottom-left"})=>{const _=lr(),[b,A]=j.useState(!1),{isInteractive:N,minZoomReached:k,maxZoomReached:D}=_n(P5,Nr),{zoomIn:H,zoomOut:Y,fitView:z}=wf();if(j.useEffect(()=>{A(!0)},[]),!b)return null;const ee=()=>{H(),o?.()},$=()=>{Y(),u?.()},R=()=>{z(s),c?.()},x=()=>{_.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),f?.(!N)};return ye.createElement(FC,{className:qr(["react-flow__controls",d]),position:E,style:t,"data-testid":"rf__controls"},e&&ye.createElement(ye.Fragment,null,ye.createElement(xh,{onClick:ee,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:D},ye.createElement(O5,null)),ye.createElement(xh,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k},ye.createElement(D5,null))),n&&ye.createElement(xh,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view"},ye.createElement(k5,null)),r&&ye.createElement(xh,{className:"react-flow__controls-interactive",onClick:x,title:"toggle interactivity","aria-label":"toggle interactivity"},N?ye.createElement(M5,null):ye.createElement(L5,null)),m)};ON.displayName="Controls";var B5=j.memo(ON),Yi;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Yi||(Yi={}));function U5({color:t,dimensions:e,lineWidth:n}){return ye.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function V5({color:t,radius:e}){return ye.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const F5={[Yi.Dots]:"#91919a",[Yi.Lines]:"#eee",[Yi.Cross]:"#e2e2e2"},H5={[Yi.Dots]:1,[Yi.Lines]:1,[Yi.Cross]:6},z5=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function DN({id:t,variant:e=Yi.Dots,gap:n=20,size:r,lineWidth:s=1,offset:o=2,color:u,style:c,className:f}){const d=j.useRef(null),{transform:m,patternId:E}=_n(z5,Nr),_=u||F5[e],b=r||H5[e],A=e===Yi.Dots,N=e===Yi.Cross,k=Array.isArray(n)?n:[n,n],D=[k[0]*m[2]||1,k[1]*m[2]||1],H=b*m[2],Y=N?[H,H]:D,z=A?[H/o,H/o]:[Y[0]/o,Y[1]/o];return ye.createElement("svg",{className:qr(["react-flow__background",f]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},ye.createElement("pattern",{id:E+t,x:m[0]%D[0],y:m[1]%D[1],width:D[0],height:D[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${z[0]},-${z[1]})`},A?ye.createElement(V5,{color:_,radius:H/o}):ye.createElement(U5,{dimensions:Y,color:_,lineWidth:s})),ye.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E+t})`}))}DN.displayName="Background";var j5=j.memo(DN);function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(null,arguments)}var so=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function If(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jA,qA={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/var RE,YA,$A,q5=(jA||(jA=1,RE=qA,function(){var t={}.hasOwnProperty;function e(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var u=e.apply(null,s);u&&n.push(u)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var c in s)t.call(s,c)&&s[c]&&n.push(c);else n.push(s.toString())}}return n.join(" ")}RE.exports?(e.default=e,RE.exports=e):window.classNames=e}()),qA.exports),Py=If(q5),GA,es=If(function(){if($A)return YA;$A=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o=Object.prototype.toString;function u(f){var d=typeof f;return!!f&&(d=="object"||d=="function")}function c(f){if(typeof f=="number")return f;if(function(E){return typeof E=="symbol"||function(_){return!!_&&typeof _=="object"}(E)&&o.call(E)=="[object Symbol]"}(f))return NaN;if(u(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=u(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=f.replace(t,"");var m=n.test(f);return m||r.test(f)?s(f.slice(2),m?2:8):e.test(f)?NaN:+f}return YA=function(f,d,m){return m===void 0&&(m=d,d=void 0),m!==void 0&&(m=(m=c(m))==m?m:0),d!==void 0&&(d=(d=c(d))==d?d:0),function(E,_,b){return E==E&&(b!==void 0&&(E=E<=b?E:b),_!==void 0&&(E=E>=_?E:_)),E}(c(f),d,m)}}()),OE={exports:{}},Y5=(GA||(GA=1,function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,s="[object Arguments]",o="[object Array]",u="[object Boolean]",c="[object Date]",f="[object Error]",d="[object Function]",m="[object Map]",E="[object Number]",_="[object Object]",b="[object Promise]",A="[object RegExp]",N="[object Set]",k="[object String]",D="[object Symbol]",H="[object WeakMap]",Y="[object ArrayBuffer]",z="[object DataView]",ee=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R[s]=R[o]=R[Y]=R[u]=R[z]=R[c]=R[f]=R[d]=R[m]=R[E]=R[_]=R[A]=R[N]=R[k]=R[H]=!1;var x=typeof so=="object"&&so&&so.Object===Object&&so,O=typeof self=="object"&&self&&self.Object===Object&&self,M=x||O||Function("return this")(),B=e&&!e.nodeType&&e,U=B&&t&&!t.nodeType&&t,I=U&&U.exports===B,L=I&&x.process,K=function(){try{return L&&L.binding&&L.binding("util")}catch{}}(),V=K&&K.isTypedArray;function Q(ne,ge){for(var Oe=-1,Be=ne==null?0:ne.length;++Oe<Be;)if(ge(ne[Oe],Oe,ne))return!0;return!1}function re(ne){var ge=-1,Oe=Array(ne.size);return ne.forEach(function(Be,gt){Oe[++ge]=[gt,Be]}),Oe}function ie(ne){var ge=-1,Oe=Array(ne.size);return ne.forEach(function(Be){Oe[++ge]=Be}),Oe}var S,J,oe,P=Array.prototype,pe=Function.prototype,Ne=Object.prototype,Ce=M["__core-js_shared__"],He=pe.toString,Se=Ne.hasOwnProperty,Le=(S=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",Pe=Ne.toString,Qe=RegExp("^"+He.call(Se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=I?M.Buffer:void 0,Ot=M.Symbol,Dt=M.Uint8Array,Ge=Ne.propertyIsEnumerable,cn=P.splice,Ke=Ot?Ot.toStringTag:void 0,qe=Object.getOwnPropertySymbols,nn=Rt?Rt.isBuffer:void 0,Cn=(J=Object.keys,oe=Object,function(ne){return J(oe(ne))}),Nn=ai(M,"DataView"),Mn=ai(M,"Map"),xn=ai(M,"Promise"),dn=ai(M,"Set"),jn=ai(M,"WeakMap"),ae=ai(Object,"create"),Te=bn(Nn),Ue=bn(Mn),Ye=bn(xn),lt=bn(dn),vt=bn(jn),jt=Ot?Ot.prototype:void 0,qt=jt?jt.valueOf:void 0;function Yt(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.clear();++ge<Oe;){var Be=ne[ge];this.set(Be[0],Be[1])}}function St(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.clear();++ge<Oe;){var Be=ne[ge];this.set(Be[0],Be[1])}}function ct(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.clear();++ge<Oe;){var Be=ne[ge];this.set(Be[0],Be[1])}}function en(ne){var ge=-1,Oe=ne==null?0:ne.length;for(this.__data__=new ct;++ge<Oe;)this.add(ne[ge])}function Xt(ne){var ge=this.__data__=new St(ne);this.size=ge.size}function Gi(ne,ge){var Oe=Lr(ne),Be=!Oe&&xo(ne),gt=!Oe&&!Be&&cs(ne),it=!Oe&&!Be&&!gt&&Pr(ne),$t=Oe||Be||gt||it,Ut=$t?function(kt,Ft){for(var Pn=-1,vn=Array(kt);++Pn<kt;)vn[Pn]=Ft(Pn);return vn}(ne.length,String):[],Jn=Ut.length;for(var Vt in ne)!Se.call(ne,Vt)||$t&&(Vt=="length"||gt&&(Vt=="offset"||Vt=="parent")||it&&(Vt=="buffer"||Vt=="byteLength"||Vt=="byteOffset")||mn(Vt,Jn))||Ut.push(Vt);return Ut}function br(ne,ge){for(var Oe=ne.length;Oe--;)if(ls(ne[Oe][0],ge))return Oe;return-1}function qn(ne){return ne==null?ne===void 0?"[object Undefined]":"[object Null]":Ke&&Ke in Object(ne)?function(ge){var Oe=Se.call(ge,Ke),Be=ge[Ke];try{ge[Ke]=void 0;var gt=!0}catch{}var it=Pe.call(ge);return gt&&(Oe?ge[Ke]=Be:delete ge[Ke]),it}(ne):function(ge){return Pe.call(ge)}(ne)}function Dr(ne){return Zn(ne)&&qn(ne)==s}function vr(ne,ge,Oe,Be,gt){return ne===ge||(ne==null||ge==null||!Zn(ne)&&!Zn(ge)?ne!=ne&&ge!=ge:function(it,$t,Ut,Jn,Vt,kt){var Ft=Lr(it),Pn=Lr($t),vn=Ft?o:Bt(it),Rn=Pn?o:Bt($t),Br=(vn=vn==s?_:vn)==_,Ur=(Rn=Rn==s?_:Rn)==_,Ii=vn==Rn;if(Ii&&cs(it)){if(!cs($t))return!1;Ft=!0,Br=!1}if(Ii&&!Br)return kt||(kt=new Xt),Ft||Pr(it)?si(it,$t,Ut,Jn,Vt,kt):function(At,bt,Ni,xi,pn,rn,cr){switch(Ni){case z:if(At.byteLength!=bt.byteLength||At.byteOffset!=bt.byteOffset)return!1;At=At.buffer,bt=bt.buffer;case Y:return!(At.byteLength!=bt.byteLength||!rn(new Dt(At),new Dt(bt)));case u:case c:case E:return ls(+At,+bt);case f:return At.name==bt.name&&At.message==bt.message;case A:case k:return At==bt+"";case m:var hr=re;case N:var Vr=1&xi;if(hr||(hr=ie),At.size!=bt.size&&!Vr)return!1;var xt=cr.get(At);if(xt)return xt==bt;xi|=2,cr.set(At,bt);var Xi=si(hr(At),hr(bt),xi,pn,rn,cr);return cr.delete(At),Xi;case D:if(qt)return qt.call(At)==qt.call(bt)}return!1}(it,$t,vn,Ut,Jn,Vt,kt);if(!(1&Ut)){var Ci=Br&&Se.call(it,"__wrapped__"),er=Ur&&Se.call($t,"__wrapped__");if(Ci||er){var Ro=Ci?it.value():it,yc=er?$t.value():$t;return kt||(kt=new Xt),Vt(Ro,yc,Ut,Jn,kt)}}return!!Ii&&(kt||(kt=new Xt),function(At,bt,Ni,xi,pn,rn){var cr=1&Ni,hr=Ki(At),Vr=hr.length,xt=Ki(bt),Xi=xt.length;if(Vr!=Xi&&!cr)return!1;for(var fr=Vr;fr--;){var Fr=hr[fr];if(!(cr?Fr in bt:Se.call(bt,Fr)))return!1}var Oo=rn.get(At);if(Oo&&rn.get(bt))return Oo==bt;var hs=!0;rn.set(At,bt),rn.set(bt,At);for(var Hs=cr;++fr<Vr;){var va=At[Fr=hr[fr]],Sa=bt[Fr];if(xi)var zs=cr?xi(Sa,va,Fr,bt,At,rn):xi(va,Sa,Fr,At,bt,rn);if(!(zs===void 0?va===Sa||pn(va,Sa,Ni,xi,rn):zs)){hs=!1;break}Hs||(Hs=Fr=="constructor")}if(hs&&!Hs){var $r=At.constructor,dr=bt.constructor;$r==dr||!("constructor"in At)||!("constructor"in bt)||typeof $r=="function"&&$r instanceof $r&&typeof dr=="function"&&dr instanceof dr||(hs=!1)}return rn.delete(At),rn.delete(bt),hs}(it,$t,Ut,Jn,Vt,kt))}(ne,ge,Oe,Be,vr,gt))}function Yr(ne){return!(!Mr(ne)||function(ge){return!!Le&&Le in ge}(ne))&&(wi(ne)?Qe:ee).test(bn(ne))}function Fs(ne){if(Oe=(ge=ne)&&ge.constructor,Be=typeof Oe=="function"&&Oe.prototype||Ne,ge!==Be)return Cn(ne);var ge,Oe,Be,gt=[];for(var it in Object(ne))Se.call(ne,it)&&it!="constructor"&&gt.push(it);return gt}function si(ne,ge,Oe,Be,gt,it){var $t=1&Oe,Ut=ne.length,Jn=ge.length;if(Ut!=Jn&&!($t&&Jn>Ut))return!1;var Vt=it.get(ne);if(Vt&&it.get(ge))return Vt==ge;var kt=-1,Ft=!0,Pn=2&Oe?new en:void 0;for(it.set(ne,ge),it.set(ge,ne);++kt<Ut;){var vn=ne[kt],Rn=ge[kt];if(Be)var Br=$t?Be(Rn,vn,kt,ge,ne,it):Be(vn,Rn,kt,ne,ge,it);if(Br!==void 0){if(Br)continue;Ft=!1;break}if(Pn){if(!Q(ge,function(Ur,Ii){if(Ci=Ii,!Pn.has(Ci)&&(vn===Ur||gt(vn,Ur,Oe,Be,it)))return Pn.push(Ii);var Ci})){Ft=!1;break}}else if(vn!==Rn&&!gt(vn,Rn,Oe,Be,it)){Ft=!1;break}}return it.delete(ne),it.delete(ge),Ft}function Ki(ne){return function(ge,Oe,Be){var gt=Oe(ge);return Lr(ge)?gt:function(it,$t){for(var Ut=-1,Jn=$t.length,Vt=it.length;++Ut<Jn;)it[Vt+Ut]=$t[Ut];return it}(gt,Be(ge))}(ne,Yn,Qt)}function kr(ne,ge){var Oe,Be,gt=ne.__data__;return((Be=typeof(Oe=ge))=="string"||Be=="number"||Be=="symbol"||Be=="boolean"?Oe!=="__proto__":Oe===null)?gt[typeof ge=="string"?"string":"hash"]:gt.map}function ai(ne,ge){var Oe=function(Be,gt){return Be?.[gt]}(ne,ge);return Yr(Oe)?Oe:void 0}Yt.prototype.clear=function(){this.__data__=ae?ae(null):{},this.size=0},Yt.prototype.delete=function(ne){var ge=this.has(ne)&&delete this.__data__[ne];return this.size-=ge?1:0,ge},Yt.prototype.get=function(ne){var ge=this.__data__;if(ae){var Oe=ge[ne];return Oe===n?void 0:Oe}return Se.call(ge,ne)?ge[ne]:void 0},Yt.prototype.has=function(ne){var ge=this.__data__;return ae?ge[ne]!==void 0:Se.call(ge,ne)},Yt.prototype.set=function(ne,ge){var Oe=this.__data__;return this.size+=this.has(ne)?0:1,Oe[ne]=ae&&ge===void 0?n:ge,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(ne){var ge=this.__data__,Oe=br(ge,ne);return!(Oe<0||(Oe==ge.length-1?ge.pop():cn.call(ge,Oe,1),--this.size,0))},St.prototype.get=function(ne){var ge=this.__data__,Oe=br(ge,ne);return Oe<0?void 0:ge[Oe][1]},St.prototype.has=function(ne){return br(this.__data__,ne)>-1},St.prototype.set=function(ne,ge){var Oe=this.__data__,Be=br(Oe,ne);return Be<0?(++this.size,Oe.push([ne,ge])):Oe[Be][1]=ge,this},ct.prototype.clear=function(){this.size=0,this.__data__={hash:new Yt,map:new(Mn||St),string:new Yt}},ct.prototype.delete=function(ne){var ge=kr(this,ne).delete(ne);return this.size-=ge?1:0,ge},ct.prototype.get=function(ne){return kr(this,ne).get(ne)},ct.prototype.has=function(ne){return kr(this,ne).has(ne)},ct.prototype.set=function(ne,ge){var Oe=kr(this,ne),Be=Oe.size;return Oe.set(ne,ge),this.size+=Oe.size==Be?0:1,this},en.prototype.add=en.prototype.push=function(ne){return this.__data__.set(ne,n),this},en.prototype.has=function(ne){return this.__data__.has(ne)},Xt.prototype.clear=function(){this.__data__=new St,this.size=0},Xt.prototype.delete=function(ne){var ge=this.__data__,Oe=ge.delete(ne);return this.size=ge.size,Oe},Xt.prototype.get=function(ne){return this.__data__.get(ne)},Xt.prototype.has=function(ne){return this.__data__.has(ne)},Xt.prototype.set=function(ne,ge){var Oe=this.__data__;if(Oe instanceof St){var Be=Oe.__data__;if(!Mn||Be.length<199)return Be.push([ne,ge]),this.size=++Oe.size,this;Oe=this.__data__=new ct(Be)}return Oe.set(ne,ge),this.size=Oe.size,this};var Qt=qe?function(ne){return ne==null?[]:(ne=Object(ne),function(ge,Oe){for(var Be=-1,gt=ge==null?0:ge.length,it=0,$t=[];++Be<gt;){var Ut=ge[Be];Oe(Ut,Be,ge)&&($t[it++]=Ut)}return $t}(qe(ne),function(ge){return Ge.call(ne,ge)}))}:function(){return[]},Bt=qn;function mn(ne,ge){return!!(ge=ge??r)&&(typeof ne=="number"||$.test(ne))&&ne>-1&&ne%1==0&&ne<ge}function bn(ne){if(ne!=null){try{return He.call(ne)}catch{}try{return ne+""}catch{}}return""}function ls(ne,ge){return ne===ge||ne!=ne&&ge!=ge}(Nn&&Bt(new Nn(new ArrayBuffer(1)))!=z||Mn&&Bt(new Mn)!=m||xn&&Bt(xn.resolve())!=b||dn&&Bt(new dn)!=N||jn&&Bt(new jn)!=H)&&(Bt=function(ne){var ge=qn(ne),Oe=ge==_?ne.constructor:void 0,Be=Oe?bn(Oe):"";if(Be)switch(Be){case Te:return z;case Ue:return m;case Ye:return b;case lt:return N;case vt:return H}return ge});var xo=Dr(function(){return arguments}())?Dr:function(ne){return Zn(ne)&&Se.call(ne,"callee")&&!Ge.call(ne,"callee")},Lr=Array.isArray,cs=nn||function(){return!1};function wi(ne){if(!Mr(ne))return!1;var ge=qn(ne);return ge==d||ge=="[object GeneratorFunction]"||ge=="[object AsyncFunction]"||ge=="[object Proxy]"}function oi(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=r}function Mr(ne){var ge=typeof ne;return ne!=null&&(ge=="object"||ge=="function")}function Zn(ne){return ne!=null&&typeof ne=="object"}var Pr=V?function(ne){return function(ge){return ne(ge)}}(V):function(ne){return Zn(ne)&&oi(ne.length)&&!!R[qn(ne)]};function Yn(ne){return(ge=ne)!=null&&oi(ge.length)&&!wi(ge)?Gi(ne):Fs(ne);var ge}t.exports=function(ne,ge){return vr(ne,ge)}}(OE,OE.exports)),OE.exports),$5=If(Y5);function KA(t,e,n){return t[e]?t[e][0]?t[e][0][n]:t[e][n]:e==="contentBoxSize"?t.contentRect[n==="inlineSize"?"width":"height"]:void 0}function G5(t){t===void 0&&(t={});var e=t.onResize,n=j.useRef(void 0);n.current=e;var r=t.round||Math.round,s=j.useRef(),o=j.useState({width:void 0,height:void 0}),u=o[0],c=o[1],f=j.useRef(!1);j.useEffect(function(){return f.current=!1,function(){f.current=!0}},[]);var d=j.useRef({width:void 0,height:void 0}),m=function(E,_){var b=j.useRef(null),A=j.useRef(null);A.current=_;var N=j.useRef(null);j.useEffect(function(){k()});var k=j.useCallback(function(){var D=N.current,H=A.current,Y=D||(H?H instanceof Element?H:H.current:null);b.current&&b.current.element===Y&&b.current.subscriber===E||(b.current&&b.current.cleanup&&b.current.cleanup(),b.current={element:Y,subscriber:E,cleanup:Y?E(Y):void 0})},[E]);return j.useEffect(function(){return function(){b.current&&b.current.cleanup&&(b.current.cleanup(),b.current=null)}},[]),j.useCallback(function(D){N.current=D,k()},[k])}(j.useCallback(function(E){return s.current&&s.current.box===t.box&&s.current.round===r||(s.current={box:t.box,round:r,instance:new ResizeObserver(function(_){var b=_[0],A=t.box==="border-box"?"borderBoxSize":t.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",N=KA(b,A,"inlineSize"),k=KA(b,A,"blockSize"),D=N?r(N):void 0,H=k?r(k):void 0;if(d.current.width!==D||d.current.height!==H){var Y={width:D,height:H};d.current.width=D,d.current.height=H,n.current?n.current(Y):f.current||c(Y)}})}),s.current.instance.observe(E,{box:t.box}),function(){s.current&&s.current.instance.unobserve(E)}},[t.box,r]),t.ref);return j.useMemo(function(){return{ref:m,width:u.width,height:u.height}},[m,u.width,u.height])}var K5="allotment-module_splitView__L-yRc",X5="allotment-module_sashContainer__fzwJF",Q5="allotment-module_splitViewContainer__rQnVa",kN="allotment-module_splitViewView__MGZ6O",W5="allotment-module_vertical__WSwwa",Z5="allotment-module_horizontal__7doS8",J5="allotment-module_separatorBorder__x-rDS";let _h,LN=!1,MN=!1;typeof navigator=="object"&&(_h=navigator.userAgent,MN=_h.indexOf("Macintosh")>=0,LN=(_h.indexOf("Macintosh")>=0||_h.indexOf("iPad")>=0||_h.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const PN=LN,e8=MN,XA=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?j.useLayoutEffect:j.useEffect;let t8=class{constructor(){this._size=void 0}getSize(){return this._size}setSize(e){this._size=e}};function mm(t,e){const n=t.length,r=n-e.length;return r>=0&&t.slice(r,n)===e}var QA,WA={exports:{}},ZA,JA,n8=(QA||(QA=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function s(f,d,m){this.fn=f,this.context=d,this.once=m||!1}function o(f,d,m,E,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new s(m,E||f,_),A=n?n+d:d;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],b]:f._events[A].push(b):(f._events[A]=b,f._eventsCount++),f}function u(f,d){--f._eventsCount==0?f._events=new r:delete f._events[d]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),c.prototype.eventNames=function(){var f,d,m=[];if(this._eventsCount===0)return m;for(d in f=this._events)e.call(f,d)&&m.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},c.prototype.listeners=function(f){var d=n?n+f:f,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var E=0,_=m.length,b=new Array(_);E<_;E++)b[E]=m[E].fn;return b},c.prototype.listenerCount=function(f){var d=n?n+f:f,m=this._events[d];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,d,m,E,_,b){var A=n?n+f:f;if(!this._events[A])return!1;var N,k,D=this._events[A],H=arguments.length;if(D.fn){switch(D.once&&this.removeListener(f,D.fn,void 0,!0),H){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,d),!0;case 3:return D.fn.call(D.context,d,m),!0;case 4:return D.fn.call(D.context,d,m,E),!0;case 5:return D.fn.call(D.context,d,m,E,_),!0;case 6:return D.fn.call(D.context,d,m,E,_,b),!0}for(k=1,N=new Array(H-1);k<H;k++)N[k-1]=arguments[k];D.fn.apply(D.context,N)}else{var Y,z=D.length;for(k=0;k<z;k++)switch(D[k].once&&this.removeListener(f,D[k].fn,void 0,!0),H){case 1:D[k].fn.call(D[k].context);break;case 2:D[k].fn.call(D[k].context,d);break;case 3:D[k].fn.call(D[k].context,d,m);break;case 4:D[k].fn.call(D[k].context,d,m,E);break;default:if(!N)for(Y=1,N=new Array(H-1);Y<H;Y++)N[Y-1]=arguments[Y];D[k].fn.apply(D[k].context,N)}}return!0},c.prototype.on=function(f,d,m){return o(this,f,d,m,!1)},c.prototype.once=function(f,d,m){return o(this,f,d,m,!0)},c.prototype.removeListener=function(f,d,m,E){var _=n?n+f:f;if(!this._events[_])return this;if(!d)return u(this,_),this;var b=this._events[_];if(b.fn)b.fn!==d||E&&!b.once||m&&b.context!==m||u(this,_);else{for(var A=0,N=[],k=b.length;A<k;A++)(b[A].fn!==d||E&&!b[A].once||m&&b[A].context!==m)&&N.push(b[A]);N.length?this._events[_]=N.length===1?N[0]:N:u(this,_)}return this},c.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(WA)),WA.exports),W_=If(n8);function e2(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.unshift(e))}function DE(t,e){const n=t.indexOf(e);n>-1&&(t.splice(n,1),t.push(e))}function Vi(t,e,n=1){const r=Math.max(0,Math.ceil((e-t)/n)),s=new Array(r);let o=-1;for(;++o<r;)s[o]=t+o*n;return s}var r8=If(function(){if(JA)return ZA;JA=1;var t=/^\s+|\s+$/g,e=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,r=/^0o[0-7]+$/i,s=parseInt,o=typeof so=="object"&&so&&so.Object===Object&&so,u=typeof self=="object"&&self&&self.Object===Object&&self,c=o||u||Function("return this")(),f=Object.prototype.toString,d=Math.max,m=Math.min,E=function(){return c.Date.now()};function _(A){var N=typeof A;return!!A&&(N=="object"||N=="function")}function b(A){if(typeof A=="number")return A;if(function(D){return typeof D=="symbol"||function(H){return!!H&&typeof H=="object"}(D)&&f.call(D)=="[object Symbol]"}(A))return NaN;if(_(A)){var N=typeof A.valueOf=="function"?A.valueOf():A;A=_(N)?N+"":N}if(typeof A!="string")return A===0?A:+A;A=A.replace(t,"");var k=n.test(A);return k||r.test(A)?s(A.slice(2),k?2:8):e.test(A)?NaN:+A}return ZA=function(A,N,k){var D,H,Y,z,ee,$,R=0,x=!1,O=!1,M=!0;if(typeof A!="function")throw new TypeError("Expected a function");function B(V){var Q=D,re=H;return D=H=void 0,R=V,z=A.apply(re,Q)}function U(V){var Q=V-$;return $===void 0||Q>=N||Q<0||O&&V-R>=Y}function I(){var V=E();if(U(V))return L(V);ee=setTimeout(I,function(Q){var re=N-(Q-$);return O?m(re,Y-(Q-R)):re}(V))}function L(V){return ee=void 0,M&&D?B(V):(D=H=void 0,z)}function K(){var V=E(),Q=U(V);if(D=arguments,H=this,$=V,Q){if(ee===void 0)return function(re){return R=re,ee=setTimeout(I,N),x?B(re):z}($);if(O)return ee=setTimeout(I,N),B($)}return ee===void 0&&(ee=setTimeout(I,N)),z}return N=b(N)||0,_(k)&&(x=!!k.leading,Y=(O="maxWait"in k)?d(b(k.maxWait)||0,N):Y,M="trailing"in k?!!k.trailing:M),K.cancel=function(){ee!==void 0&&clearTimeout(ee),R=0,D=$=H=ee=void 0},K.flush=function(){return ee===void 0?z:L(E())},K}}()),i8="sash-module_sash__K-9lB",s8="sash-module_disabled__Hm-wx",a8="sash-module_mac__Jf6OJ",t2="sash-module_vertical__pB-rs",o8="sash-module_minimum__-UKxp",u8="sash-module_maximum__TCWxD",n2="sash-module_horizontal__kFbiw",kE="sash-module_hover__80W6I",LE="sash-module_active__bJspD";let Hi=function(t){return t.Vertical="VERTICAL",t.Horizontal="HORIZONTAL",t}({}),Ei=function(t){return t.Disabled="DISABLED",t.Minimum="MINIMUM",t.Maximum="MAXIMUM",t.Enabled="ENABLED",t}({}),BN=PN?20:8;const UN=new W_;class r2 extends W_{get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle(s8,e===Ei.Disabled),this.el.classList.toggle("sash-disabled",e===Ei.Disabled),this.el.classList.toggle(o8,e===Ei.Minimum),this.el.classList.toggle("sash-minimum",e===Ei.Minimum),this.el.classList.toggle(u8,e===Ei.Maximum),this.el.classList.toggle("sash-maximum",e===Ei.Maximum),this._state=e,this.emit("enablementChange",e))}constructor(e,n,r){var s;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=r8(o=>o.classList.add("sash-hover",kE),this.hoverDelay),this._state=Ei.Enabled,this.onPointerStart=o=>{const u=o.pageX,c=o.pageY,f={startX:u,currentX:u,startY:c,currentY:c};this.el.classList.add("sash-active",LE),this.emit("start",f),this.el.setPointerCapture(o.pointerId);const d=E=>{E.preventDefault();const _={startX:u,currentX:E.pageX,startY:c,currentY:E.pageY};this.emit("change",_)},m=E=>{E.preventDefault(),this.el.classList.remove("sash-active",LE),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(E.pointerId),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",m)};window.addEventListener("pointermove",d),window.addEventListener("pointerup",m)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(LE)?(this.hoverDelayer.cancel(),this.el.classList.add("sash-hover",kE)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove("sash-hover",kE)},this.el=document.createElement("div"),this.el.classList.add("sash",i8),this.el.dataset.testid="sash",e.append(this.el),e8&&this.el.classList.add("sash-mac",a8),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),typeof r.size=="number"?(this.size=r.size,r.orientation===Hi.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=BN,UN.on("onDidChangeGlobalSize",o=>{this.size=o,this.layout()})),this.layoutProvider=n,this.orientation=(s=r.orientation)!=null?s:Hi.Vertical,this.orientation===Hi.Horizontal?(this.el.classList.add("sash-horizontal",n2),this.el.classList.remove("sash-vertical",t2)):(this.el.classList.remove("sash-horizontal",n2),this.el.classList.add("sash-vertical",t2)),this.layout()}layout(){if(this.orientation===Hi.Vertical){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}let np;var ME;(ME=np||(np={})).Distribute={type:"distribute"},ME.Split=function(t){return{type:"split",index:t}},ME.Invisible=function(t){return{type:"invisible",cachedVisibleSize:t}};let Fi=function(t){return t.Normal="NORMAL",t.Low="LOW",t.High="HIGH",t}({});class VN{constructor(e,n,r){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=e,this.view=n,this.container.classList.add("split-view-view",kN),this.container.dataset.testid="split-view-view",typeof r=="number"?(this._size=r,this._cachedVisibleSize=void 0,e.classList.add("split-view-view-visible")):(this._size=0,this._cachedVisibleSize=r.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get priority(){return this.view.priority}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return this._cachedVisibleSize===void 0}setVisible(e,n){e!==this.visible&&(e?(this.size=es(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof n=="number"?n:this.size,this.size=0),this.container.classList.toggle("split-view-view-visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e){this.layoutContainer(e),this.view.layout(this.size,e)}}class l8 extends VN{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}class c8 extends VN{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class h8 extends W_{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,n={},r,s,o){var u,c;if(super(),this.onDidChange=void 0,this.onDidDragStart=void 0,this.onDidDragEnd=void 0,this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=f=>{this.emit("sashchange",f),this.saveProportions();for(const d of this.viewItems)d.enabled=!0},this.orientation=(u=n.orientation)!=null?u:Hi.Vertical,this.proportionalLayout=(c=n.proportionalLayout)!=null?c:!0,this.getSashOrthogonalSize=n.getSashOrthogonalSize,r&&(this.onDidChange=r),s&&(this.onDidDragStart=s),o&&(this.onDidDragEnd=o),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("sash-container",X5),e.prepend(this.sashContainer),n.descriptor){this.size=n.descriptor.size;for(const[f,d]of n.descriptor.views.entries()){const m=d.size,E=d.container,_=d.view;this.addView(E,_,m,f,!0)}this.contentSize=this.viewItems.reduce((f,d)=>f+d.size,0),this.saveProportions()}}addView(e,n,r,s=this.viewItems.length,o){let u;u=typeof r=="number"?r:r.type==="split"?this.getViewSize(r.index)/2:r.type==="invisible"?{cachedVisibleSize:r.cachedVisibleSize}:n.minimumSize;const c=this.orientation===Hi.Vertical?new c8(e,n,u):new l8(e,n,u);if(this.viewItems.splice(s,0,c),this.viewItems.length>1){const f=this.orientation===Hi.Vertical?new r2(this.sashContainer,{getHorizontalSashTop:E=>this.getSashPosition(E),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:Hi.Horizontal}):new r2(this.sashContainer,{getVerticalSashLeft:E=>this.getSashPosition(E),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:Hi.Vertical}),d=this.orientation===Hi.Vertical?E=>({sash:f,start:E.startY,current:E.currentY}):E=>({sash:f,start:E.startX,current:E.currentX});f.on("start",E=>{var _;this.emit("sashDragStart"),this.onSashStart(d(E));const b=this.viewItems.map(A=>A.size);(_=this.onDidDragStart)==null||_.call(this,b)}),f.on("change",E=>this.onSashChange(d(E))),f.on("end",()=>{var E;this.emit("sashDragEnd"),this.onSashEnd(this.sashItems.findIndex(b=>b.sash===f));const _=this.viewItems.map(b=>b.size);(E=this.onDidDragEnd)==null||E.call(this,_)}),f.on("reset",()=>{const E=this.sashItems.findIndex(k=>k.sash===f),_=Vi(E,-1,-1),b=Vi(E+1,this.viewItems.length),A=this.findFirstSnapIndex(_),N=this.findFirstSnapIndex(b);(typeof A!="number"||this.viewItems[A].visible)&&(typeof N!="number"||this.viewItems[N].visible)&&this.emit("sashreset",E)});const m={sash:f};this.sashItems.splice(s-1,0,m)}o||this.relayout(),o||typeof r=="number"||r.type!=="distribute"||this.distributeViewSizes()}removeView(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");const r=this.viewItems.splice(e,1)[0].view;if(this.viewItems.length>=1){const s=Math.max(e-1,0);this.sashItems.splice(s,1)[0].sash.dispose()}return this.relayout(),n&&n.type==="distribute"&&this.distributeViewSizes(),r}moveView(e,n,r){const s=this.getViewCachedVisibleSize(n),o=s===void 0?this.getViewSize(n):np.Invisible(s),u=this.removeView(n);this.addView(e,u,o,r)}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e=this.size){const n=Math.max(this.size,this.contentSize);if(this.size=e,this.proportions)for(let r=0;r<this.viewItems.length;r++){const s=this.viewItems[r];s.size=es(Math.round(this.proportions[r]*e),s.minimumSize,s.maximumSize)}else{const r=Vi(0,this.viewItems.length),s=r.filter(u=>this.viewItems[u].priority===Fi.Low),o=r.filter(u=>this.viewItems[u].priority===Fi.High);this.resize(this.viewItems.length-1,e-n,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}resizeView(e,n){if(e<0||e>=this.viewItems.length)return;const r=Vi(0,this.viewItems.length).filter(c=>c!==e),s=[...r.filter(c=>this.viewItems[c].priority===Fi.Low),e],o=r.filter(c=>this.viewItems[c].priority===Fi.High),u=this.viewItems[e];n=Math.round(n),n=es(n,u.minimumSize,Math.min(u.maximumSize,this.size)),u.size=n,this.relayout(s,o)}resizeViews(e){for(let n=0;n<e.length;n++){const r=this.viewItems[n];let s=e[n];s=Math.round(s),s=es(s,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=s}this.contentSize=this.viewItems.reduce((n,r)=>n+r.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,n){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(n),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const e=[];let n=0;for(const c of this.viewItems)c.maximumSize-c.minimumSize>0&&(e.push(c),n+=c.size);const r=Math.floor(n/e.length);for(const c of e)c.size=es(r,c.minimumSize,c.maximumSize);const s=Vi(0,this.viewItems.length),o=s.filter(c=>this.viewItems[c].priority===Fi.Low),u=s.filter(c=>this.viewItems[c].priority===Fi.High);this.relayout(o,u)}dispose(){this.sashItems.forEach(e=>e.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(e,n){const r=this.viewItems.reduce((s,o)=>s+o.size,0);this.resize(this.viewItems.length-1,this.size-r,void 0,e,n),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:e,start:n}){const r=this.sashItems.findIndex(s=>s.sash===e);(s=>{const o=this.viewItems.map(H=>H.size);let u,c,f=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;const m=Vi(r,-1,-1),E=Vi(r+1,this.viewItems.length),_=m.reduce((H,Y)=>H+(this.viewItems[Y].minimumSize-o[Y]),0),b=m.reduce((H,Y)=>H+(this.viewItems[Y].viewMaximumSize-o[Y]),0),A=E.length===0?Number.POSITIVE_INFINITY:E.reduce((H,Y)=>H+(o[Y]-this.viewItems[Y].minimumSize),0),N=E.length===0?Number.NEGATIVE_INFINITY:E.reduce((H,Y)=>H+(o[Y]-this.viewItems[Y].viewMaximumSize),0);f=Math.max(_,N),d=Math.min(A,b);const k=this.findFirstSnapIndex(m),D=this.findFirstSnapIndex(E);if(typeof k=="number"){const H=this.viewItems[k],Y=Math.floor(H.viewMinimumSize/2);u={index:k,limitDelta:H.visible?f-Y:f+Y,size:H.size}}if(typeof D=="number"){const H=this.viewItems[D],Y=Math.floor(H.viewMinimumSize/2);c={index:D,limitDelta:H.visible?d+Y:d-Y,size:H.size}}this.sashDragState={start:s,current:s,index:r,sizes:o,minDelta:f,maxDelta:d,snapBefore:u,snapAfter:c}})(n)}onSashChange({current:e}){const{index:n,start:r,sizes:s,minDelta:o,maxDelta:u,snapBefore:c,snapAfter:f}=this.sashDragState;this.sashDragState.current=e;const d=e-r;this.resize(n,d,s,void 0,void 0,o,u,c,f),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(e){let n=0;for(let r=0;r<this.sashItems.length;r++)if(n+=this.viewItems[r].size,this.sashItems[r].sash===e)return n;return 0}resize(e,n,r=this.viewItems.map(m=>m.size),s,o,u=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,f,d){if(e<0||e>=this.viewItems.length)return 0;const m=Vi(e,-1,-1),E=Vi(e+1,this.viewItems.length);if(o)for(const R of o)e2(m,R),e2(E,R);if(s)for(const R of s)DE(m,R),DE(E,R);const _=m.map(R=>this.viewItems[R]),b=m.map(R=>r[R]),A=E.map(R=>this.viewItems[R]),N=E.map(R=>r[R]),k=m.reduce((R,x)=>R+(this.viewItems[x].minimumSize-r[x]),0),D=m.reduce((R,x)=>R+(this.viewItems[x].maximumSize-r[x]),0),H=E.length===0?Number.POSITIVE_INFINITY:E.reduce((R,x)=>R+(r[x]-this.viewItems[x].minimumSize),0),Y=E.length===0?Number.NEGATIVE_INFINITY:E.reduce((R,x)=>R+(r[x]-this.viewItems[x].maximumSize),0),z=Math.max(k,Y,u),ee=Math.min(H,D,c);let $=!1;if(f){const R=this.viewItems[f.index],x=n>=f.limitDelta;$=x!==R.visible,R.setVisible(x,f.size)}if(!$&&d){const R=this.viewItems[d.index],x=n<d.limitDelta;$=x!==R.visible,R.setVisible(x,d.size)}if($)return this.resize(e,n,r,s,o,u,c);for(let R=0,x=n=es(n,z,ee);R<_.length;R++){const O=_[R],M=es(b[R]+x,O.minimumSize,O.maximumSize);x-=M-b[R],O.size=M}for(let R=0,x=n;R<A.length;R++){const O=A[R],M=es(N[R]-x,O.minimumSize,O.maximumSize);x+=M-N[R],O.size=M}return n}distributeEmptySpace(e){const n=this.viewItems.reduce((d,m)=>d+m.size,0);let r=this.size-n;const s=Vi(0,this.viewItems.length),o=[],u=s.filter(d=>this.viewItems[d].priority===Fi.Low),c=s.filter(d=>this.viewItems[d].priority===Fi.Normal),f=s.filter(d=>this.viewItems[d].priority===Fi.High);o.push(...f,...c,...u),typeof e=="number"&&DE(o,e);for(let d=0;r!==0&&d<o.length;d++){const m=this.viewItems[o[d]],E=es(m.size+r,m.minimumSize,m.maximumSize);r-=E-m.size,m.size=E}}layoutViews(){var e;this.contentSize=this.viewItems.reduce((r,s)=>r+s.size,0);let n=0;for(const r of this.viewItems)r.layout(n),n+=r.size;(e=this.onDidChange)!=null&&e.call(this,this.viewItems.map(r=>r.size)),this.sashItems.forEach(r=>r.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}updateSashEnablement(){let e=!1;const n=this.viewItems.map(f=>e=f.size-f.minimumSize>0||e);e=!1;const r=this.viewItems.map(f=>e=f.maximumSize-f.size>0||e),s=[...this.viewItems].reverse();e=!1;const o=s.map(f=>e=f.size-f.minimumSize>0||e).reverse();e=!1;const u=s.map(f=>e=f.maximumSize-f.size>0||e).reverse();let c=0;for(let f=0;f<this.sashItems.length;f++){const{sash:d}=this.sashItems[f];c+=this.viewItems[f].size;const m=!(n[f]&&u[f+1]),E=!(r[f]&&o[f+1]);if(m&&E){const _=Vi(f,-1,-1),b=Vi(f+1,this.viewItems.length),A=this.findFirstSnapIndex(_),N=this.findFirstSnapIndex(b),k=typeof A=="number"&&!this.viewItems[A].visible,D=typeof N=="number"&&!this.viewItems[N].visible;k&&o[f]&&(c>0||this.startSnappingEnabled)?d.state=Ei.Minimum:D&&n[f]&&(c<this.contentSize||this.endSnappingEnabled)?d.state=Ei.Maximum:d.state=Ei.Disabled}else d.state=m&&!E?Ei.Minimum:!m&&E?Ei.Maximum:Ei.Enabled}}findFirstSnapIndex(e){for(const n of e){const r=this.viewItems[n];if(r.visible&&r.snap)return n}for(const n of e){const r=this.viewItems[n];if(r.visible&&r.maximumSize-r.minimumSize>0)return;if(!r.visible&&r.snap)return n}}}class pl{constructor(e){this.size=void 0,this.size=e}getPreferredSize(){return this.size}}class i2{constructor(e,n){this.proportion=void 0,this.layoutService=void 0,this.proportion=e,this.layoutService=n}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class pm{getPreferredSize(){}}class s2{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(e){if(typeof e=="number")this.layoutStrategy=new pl(e);else if(typeof e=="string"){const n=e.trim();if(mm(n,"%")){const r=Number(n.slice(0,-1))/100;this.layoutStrategy=new i2(r,this.layoutService)}else if(mm(n,"px")){const r=Number(n.slice(0,-2))/100;this.layoutStrategy=new pl(r)}else if(typeof Number.parseFloat(n)=="number"){const r=Number.parseFloat(n);this.layoutStrategy=new pl(r)}else this.layoutStrategy=new pm}else this.layoutStrategy=new pm}constructor(e,n){var r;if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.priority=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=e,this.element=n.element,this.minimumSize=typeof n.minimumSize=="number"?n.minimumSize:30,this.maximumSize=typeof n.maximumSize=="number"?n.maximumSize:Number.POSITIVE_INFINITY,typeof n.preferredSize=="number")this.layoutStrategy=new pl(n.preferredSize);else if(typeof n.preferredSize=="string"){const s=n.preferredSize.trim();if(mm(s,"%")){const o=Number(s.slice(0,-1))/100;this.layoutStrategy=new i2(o,this.layoutService)}else if(mm(s,"px")){const o=Number(s.slice(0,-2));this.layoutStrategy=new pl(o)}else if(typeof Number.parseFloat(s)=="number"){const o=Number.parseFloat(s);this.layoutStrategy=new pl(o)}else this.layoutStrategy=new pm}else this.layoutStrategy=new pm;this.priority=(r=n.priority)!=null?r:Fi.Normal,this.snap=typeof n.snap=="boolean"&&n.snap}layout(e){}}function a2(t){return t.minSize!==void 0||t.maxSize!==void 0||t.preferredSize!==void 0||t.priority!==void 0||t.visible!==void 0}const Z_=j.forwardRef(({className:t,children:e},n)=>ye.createElement("div",{ref:n,className:Py("split-view-view",kN,t)},e));Z_.displayName="Allotment.Pane";const FN=j.forwardRef(({children:t,className:e,id:n,maxSize:r=1/0,minSize:s=30,proportionalLayout:o=!0,separator:u=!0,sizes:c,defaultSizes:f=c,snap:d=!1,vertical:m=!1,onChange:E,onReset:_,onVisibleChange:b,onDragStart:A,onDragEnd:N},k)=>{const D=j.useRef(null),H=j.useRef([]),Y=j.useRef(new Map),z=j.useRef(null),ee=j.useRef(new Map),$=j.useRef(new t8),R=j.useRef([]),[x,O]=j.useState(!1),M=j.useMemo(()=>ye.Children.toArray(t).filter(ye.isValidElement),[t]),B=j.useCallback(U=>{var I,L;const K=(I=R.current)==null?void 0:I[U];return typeof K?.preferredSize=="number"&&((L=z.current)!=null&&L.resizeView(U,Math.round(K.preferredSize)),!0)},[]);return j.useImperativeHandle(k,()=>({reset:()=>{if(_)_();else{var U;(U=z.current)==null||U.distributeViewSizes();for(let I=0;I<R.current.length;I++)B(I)}},resize:U=>{var I;(I=z.current)==null||I.resizeViews(U)}})),XA(()=>{let U=!0;f&&ee.current.size!==f.length&&(U=!1,console.warn(`Expected ${f.length} children based on defaultSizes but found ${ee.current.size}`)),U&&f&&(H.current=M.map(K=>K.key));const I=Bh({orientation:m?Hi.Vertical:Hi.Horizontal,proportionalLayout:o},U&&f&&{descriptor:{size:f.reduce((K,V)=>K+V,0),views:f.map((K,V)=>{var Q,re,ie,S;const J=Y.current.get(H.current[V]),oe=new s2($.current,Bh({element:document.createElement("div"),minimumSize:(Q=J?.minSize)!=null?Q:s,maximumSize:(re=J?.maxSize)!=null?re:r,priority:(ie=J?.priority)!=null?ie:Fi.Normal},J?.preferredSize&&{preferredSize:J?.preferredSize},{snap:(S=J?.snap)!=null?S:d}));return R.current.push(oe),{container:[...ee.current.values()][V],size:K,view:oe}})}});z.current=new h8(D.current,I,E,A,N),z.current.on("sashDragStart",()=>{var K;(K=D.current)==null||K.classList.add("split-view-sash-dragging")}),z.current.on("sashDragEnd",()=>{var K;(K=D.current)==null||K.classList.remove("split-view-sash-dragging")}),z.current.on("sashchange",K=>{if(b&&z.current){const V=M.map(Q=>Q.key);for(let Q=0;Q<V.length;Q++){const re=Y.current.get(V[Q]);re?.visible!==void 0&&re.visible!==z.current.isViewVisible(Q)&&b(Q,z.current.isViewVisible(Q))}}}),z.current.on("sashreset",K=>{if(_)_();else{var V;if(B(K)||B(K+1))return;(V=z.current)==null||V.distributeViewSizes()}});const L=z.current;return()=>{L.dispose()}},[]),XA(()=>{if(x){const P=M.map(Se=>Se.key),pe=[...H.current],Ne=P.filter(Se=>!H.current.includes(Se)),Ce=P.filter(Se=>H.current.includes(Se)),He=H.current.map(Se=>!P.includes(Se));for(let Se=He.length-1;Se>=0;Se--){var U;He[Se]&&((U=z.current)!=null&&U.removeView(Se),pe.splice(Se,1),R.current.splice(Se,1))}for(const Se of Ne){var I,L,K,V,Q;const Le=Y.current.get(Se),Pe=new s2($.current,Bh({element:document.createElement("div"),minimumSize:(I=Le?.minSize)!=null?I:s,maximumSize:(L=Le?.maxSize)!=null?L:r,priority:(K=Le?.priority)!=null?K:Fi.Normal},Le?.preferredSize&&{preferredSize:Le?.preferredSize},{snap:(V=Le?.snap)!=null?V:d}));(Q=z.current)!=null&&Q.addView(ee.current.get(Se),Pe,np.Distribute,P.findIndex(Qe=>Qe===Se)),pe.splice(P.findIndex(Qe=>Qe===Se),0,Se),R.current.splice(P.findIndex(Qe=>Qe===Se),0,Pe)}for(;!$5(P,pe);)for(const[Se,Le]of P.entries()){const Pe=pe.findIndex(Qe=>Qe===Le);if(Pe!==Se){var re;(re=z.current)==null||re.moveView(ee.current.get(Le),Pe,Se);const Qe=pe[Pe];pe.splice(Pe,1),pe.splice(Se,0,Qe);break}}for(const Se of Ne){var ie;const Le=P.findIndex(Qe=>Qe===Se),Pe=R.current[Le].preferredSize;Pe!==void 0&&((ie=z.current)==null||ie.resizeView(Le,Pe))}for(const Se of[...Ne,...Ce]){var S,J;const Le=Y.current.get(Se),Pe=P.findIndex(Qe=>Qe===Se);Le&&a2(Le)&&Le.visible!==void 0&&((S=z.current)==null?void 0:S.isViewVisible(Pe))!==Le.visible&&((J=z.current)==null||J.setViewVisible(Pe,Le.visible))}for(const Se of Ce){const Le=Y.current.get(Se),Pe=P.findIndex(Qe=>Qe===Se);if(Le&&a2(Le)){var oe;Le.preferredSize!==void 0&&R.current[Pe].preferredSize!==Le.preferredSize&&(R.current[Pe].preferredSize=Le.preferredSize);let Qe=!1;Le.minSize!==void 0&&R.current[Pe].minimumSize!==Le.minSize&&(R.current[Pe].minimumSize=Le.minSize,Qe=!0),Le.maxSize!==void 0&&R.current[Pe].maximumSize!==Le.maxSize&&(R.current[Pe].maximumSize=Le.maxSize,Qe=!0),Qe&&((oe=z.current)==null||oe.layout())}}(Ne.length>0||He.length>0)&&(H.current=P)}},[M,x,r,s,d]),j.useEffect(()=>{z.current&&(z.current.onDidChange=E)},[E]),j.useEffect(()=>{z.current&&(z.current.onDidDragStart=A)},[A]),j.useEffect(()=>{z.current&&(z.current.onDidDragEnd=N)},[N]),G5({ref:D,onResize:({width:U,height:I})=>{var L;U&&I&&((L=z.current)!=null&&L.layout(m?I:U),$.current.setSize(m?I:U),O(!0))}}),j.useEffect(()=>{PN&&f8(20)},[]),ye.createElement("div",{ref:D,className:Py("split-view",m?"split-view-vertical":"split-view-horizontal",{"split-view-separator-border":u},K5,m?W5:Z5,{[J5]:u},e),id:n},ye.createElement("div",{className:Py("split-view-container",Q5)},ye.Children.toArray(t).map(U=>{if(!ye.isValidElement(U))return null;const I=U.key;return U.type.displayName==="Allotment.Pane"?(Y.current.set(I,U.props),ye.cloneElement(U,{key:I,ref:L=>{const K=U.ref;K&&(K.current=L),L?ee.current.set(I,L):ee.current.delete(I)}})):ye.createElement(Z_,{key:I,ref:L=>{L?ee.current.set(I,L):ee.current.delete(I)}},U)})))});function f8(t){const e=es(t,4,20),n=es(t,1,8);document.documentElement.style.setProperty("--sash-size",e+"px"),document.documentElement.style.setProperty("--sash-hover-size",n+"px"),function(r){BN=r,UN.emit("onDidChangeGlobalSize",r)}(e)}FN.displayName="Allotment";var PE=Object.assign(FN,{Pane:Z_});const d8=()=>{};var o2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},m8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],c=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},zN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,c=u?t[s+1]:0,f=s+2<t.length,d=f?t[s+2]:0,m=o>>2,E=(o&3)<<4|c>>4;let _=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(_=64)),r.push(n[m],n[E],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const E=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||d==null||E==null)throw new p8;const _=o<<2|c>>4;if(r.push(_),d!==64){const b=c<<4&240|d>>2;if(r.push(b),E!==64){const A=d<<6&192|E;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g8=function(t){const e=HN(t);return zN.encodeByteArray(e,!0)},rp=function(t){return g8(t).replace(/\./g,"")},jN=function(t){try{return zN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=()=>E8().__FIREBASE_DEFAULTS__,_8=()=>{if(typeof process>"u"||typeof o2>"u")return;const t=o2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jN(t[1]);return e&&JSON.parse(e)},Up=()=>{try{return d8()||y8()||_8()||T8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qN=t=>{var e,n;return(n=(e=Up())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YN=t=>{const e=qN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$N=()=>{var t;return(t=Up())===null||t===void 0?void 0:t.config},GN=t=>{var e;return(e=Up())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return t.endsWith(".cloudworkstations.dev")}async function J_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(u)),""].join(".")}const Uh={};function S8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uh))Uh[e]?t.emulator.push(e):t.prod.push(e);return t}function A8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let u2=!1;function e1(t,e){if(typeof window>"u"||typeof document>"u"||!bu(window.location.host)||Uh[t]===e||Uh[t]||u2)return;Uh[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=S8().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{u2=!0,u()},_}function m(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function E(){const _=A8(r),b=n("text"),A=document.getElementById(b)||document.createElement("span"),N=n("learnmore"),k=document.getElementById(N)||document.createElement("a"),D=n("preprendIcon"),H=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const Y=_.element;c(Y),m(k,N);const z=d();f(H,D),Y.append(H,A,k,z),document.body.appendChild(Y)}o?(A.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function I8(){var t;const e=(t=Up())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R8(){const t=xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O8(){return!I8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D8(){try{return typeof indexedDB=="object"}catch{return!1}}function k8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="FirebaseError";class Us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L8,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?M8(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new Us(s,c,r)}}function M8(t,e){return t.replace(P8,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P8=/\{\$([^}]+)}/g;function B8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function du(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(l2(o)&&l2(u)){if(!du(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function l2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Oh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function U8(t,e){const n=new V8(t,e);return n.subscribe.bind(n)}class V8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F8(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=BE),s.error===void 0&&(s.error=BE),s.complete===void 0&&(s.complete=BE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function BE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H8=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new b8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j8(e))try{this.getOrInitializeService({instanceIdentifier:tu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=tu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tu){return this.instances.has(e)}getOptions(e=tu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tu){return this.component?this.component.multipleInstances?e:tu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function z8(t){return t===tu?void 0:t}function j8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const Y8={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},$8=_t.INFO,G8={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},K8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=G8[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t1{constructor(e){this.name=e,this._logLevel=$8,this._logHandler=K8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const X8=(t,e)=>e.some(n=>t instanceof n);let c2,h2;function Q8(){return c2||(c2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W8(){return h2||(h2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KN=new WeakMap,By=new WeakMap,XN=new WeakMap,UE=new WeakMap,n1=new WeakMap;function Z8(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(co(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&KN.set(n,t)}).catch(()=>{}),n1.set(e,t),e}function J8(t){if(By.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});By.set(t,e)}let Uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return By.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e9(t){Uy=t(Uy)}function t9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(VE(this),e,...n);return XN.set(r,e.sort?e.sort():[e]),co(r)}:W8().includes(t)?function(...e){return t.apply(VE(this),e),co(KN.get(this))}:function(...e){return co(t.apply(VE(this),e))}}function n9(t){return typeof t=="function"?t9(t):(t instanceof IDBTransaction&&J8(t),X8(t,Q8())?new Proxy(t,Uy):t)}function co(t){if(t instanceof IDBRequest)return Z8(t);if(UE.has(t))return UE.get(t);const e=n9(t);return e!==t&&(UE.set(t,e),n1.set(e,t)),e}const VE=t=>n1.get(t);function r9(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),c=co(u);return r&&u.addEventListener("upgradeneeded",f=>{r(co(u.result),f.oldVersion,f.newVersion,co(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const i9=["get","getKey","getAll","getAllKeys","count"],s9=["put","add","delete","clear"],FE=new Map;function f2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(FE.get(e))return FE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=s9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||i9.includes(n)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&f.done]))[0]};return FE.set(e,o),o}e9(t=>({...t,get:(e,n,r)=>f2(e,n)||t.get(e,n,r),has:(e,n)=>!!f2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o9(t){const e=t.getComponent();return e?.type==="VERSION"}const Vy="@firebase/app",d2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new t1("@firebase/app"),u9="@firebase/app-compat",l9="@firebase/analytics-compat",c9="@firebase/analytics",h9="@firebase/app-check-compat",f9="@firebase/app-check",d9="@firebase/auth",m9="@firebase/auth-compat",p9="@firebase/database",g9="@firebase/data-connect",E9="@firebase/database-compat",y9="@firebase/functions",_9="@firebase/functions-compat",T9="@firebase/installations",b9="@firebase/installations-compat",v9="@firebase/messaging",S9="@firebase/messaging-compat",A9="@firebase/performance",w9="@firebase/performance-compat",I9="@firebase/remote-config",C9="@firebase/remote-config-compat",N9="@firebase/storage",x9="@firebase/storage-compat",R9="@firebase/firestore",O9="@firebase/ai",D9="@firebase/firestore-compat",k9="firebase",L9="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="[DEFAULT]",M9={[Vy]:"fire-core",[u9]:"fire-core-compat",[c9]:"fire-analytics",[l9]:"fire-analytics-compat",[f9]:"fire-app-check",[h9]:"fire-app-check-compat",[d9]:"fire-auth",[m9]:"fire-auth-compat",[p9]:"fire-rtdb",[g9]:"fire-data-connect",[E9]:"fire-rtdb-compat",[y9]:"fire-fn",[_9]:"fire-fn-compat",[T9]:"fire-iid",[b9]:"fire-iid-compat",[v9]:"fire-fcm",[S9]:"fire-fcm-compat",[A9]:"fire-perf",[w9]:"fire-perf-compat",[I9]:"fire-rc",[C9]:"fire-rc-compat",[N9]:"fire-gcs",[x9]:"fire-gcs-compat",[R9]:"fire-fst",[D9]:"fire-fst-compat",[O9]:"fire-vertex","fire-js":"fire-js",[k9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,P9=new Map,Hy=new Map;function m2(t,e){try{t.container.addComponent(e)}catch(n){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mu(t){const e=t.name;if(Hy.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,t);for(const n of ip.values())m2(n,t);for(const n of P9.values())m2(n,t);return!0}function Vp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new Cf("app","Firebase",B9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=L9;function QN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fy,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ho.create("bad-app-name",{appName:String(s)});if(n||(n=$N()),!n)throw ho.create("no-options");const o=ip.get(s);if(o){if(du(n,o.options)&&du(r,o.config))return o;throw ho.create("duplicate-app",{appName:s})}const u=new q8(s);for(const f of Hy.values())u.addComponent(f);const c=new U9(n,r,u);return ip.set(s,c),c}function r1(t=Fy){const e=ip.get(t);if(!e&&t===Fy&&$N())return QN();if(!e)throw ho.create("no-app",{appName:t});return e}function Rs(t,e,n){var r;let s=(r=M9[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(c.join(" "));return}mu(new Eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="firebase-heartbeat-database",F9=1,uf="firebase-heartbeat-store";let HE=null;function WN(){return HE||(HE=r9(V9,F9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),HE}async function H9(t){try{const n=(await WN()).transaction(uf),r=await n.objectStore(uf).get(ZN(t));return await n.done,r}catch(e){if(e instanceof Us)ga.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e?.message});ga.warn(n.message)}}}async function p2(t,e){try{const r=(await WN()).transaction(uf,"readwrite");await r.objectStore(uf).put(e,ZN(t)),await r.done}catch(n){if(n instanceof Us)ga.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n?.message});ga.warn(r.message)}}}function ZN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=1024,j9=30;class q9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=g2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>j9){const u=G9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=g2(),{heartbeatsToSend:r,unsentEntries:s}=Y9(this._heartbeatsCache.heartbeats),o=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ga.warn(n),""}}}function g2(){return new Date().toISOString().substring(0,10)}function Y9(t,e=z9){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),E2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),E2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D8()?k8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H9(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return p2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return p2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E2(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}function G9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){mu(new Eo("platform-logger",e=>new a9(e),"PRIVATE")),mu(new Eo("heartbeat",e=>new q9(e),"PRIVATE")),Rs(Vy,d2,t),Rs(Vy,d2,"esm2017"),Rs("fire-js","")}K9("");var X9="firebase",Q9="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(X9,Q9,"app");var y2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,JN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,x){function O(){}O.prototype=x.prototype,R.D=x.prototype,R.prototype=new O,R.prototype.constructor=R,R.C=function(M,B,U){for(var I=Array(arguments.length-2),L=2;L<arguments.length;L++)I[L-2]=arguments[L];return x.prototype[B].apply(M,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,x,O){O||(O=0);var M=Array(16);if(typeof x=="string")for(var B=0;16>B;++B)M[B]=x.charCodeAt(O++)|x.charCodeAt(O++)<<8|x.charCodeAt(O++)<<16|x.charCodeAt(O++)<<24;else for(B=0;16>B;++B)M[B]=x[O++]|x[O++]<<8|x[O++]<<16|x[O++]<<24;x=R.g[0],O=R.g[1],B=R.g[2];var U=R.g[3],I=x+(U^O&(B^U))+M[0]+3614090360&4294967295;x=O+(I<<7&4294967295|I>>>25),I=U+(B^x&(O^B))+M[1]+3905402710&4294967295,U=x+(I<<12&4294967295|I>>>20),I=B+(O^U&(x^O))+M[2]+606105819&4294967295,B=U+(I<<17&4294967295|I>>>15),I=O+(x^B&(U^x))+M[3]+3250441966&4294967295,O=B+(I<<22&4294967295|I>>>10),I=x+(U^O&(B^U))+M[4]+4118548399&4294967295,x=O+(I<<7&4294967295|I>>>25),I=U+(B^x&(O^B))+M[5]+1200080426&4294967295,U=x+(I<<12&4294967295|I>>>20),I=B+(O^U&(x^O))+M[6]+2821735955&4294967295,B=U+(I<<17&4294967295|I>>>15),I=O+(x^B&(U^x))+M[7]+4249261313&4294967295,O=B+(I<<22&4294967295|I>>>10),I=x+(U^O&(B^U))+M[8]+1770035416&4294967295,x=O+(I<<7&4294967295|I>>>25),I=U+(B^x&(O^B))+M[9]+2336552879&4294967295,U=x+(I<<12&4294967295|I>>>20),I=B+(O^U&(x^O))+M[10]+4294925233&4294967295,B=U+(I<<17&4294967295|I>>>15),I=O+(x^B&(U^x))+M[11]+2304563134&4294967295,O=B+(I<<22&4294967295|I>>>10),I=x+(U^O&(B^U))+M[12]+1804603682&4294967295,x=O+(I<<7&4294967295|I>>>25),I=U+(B^x&(O^B))+M[13]+4254626195&4294967295,U=x+(I<<12&4294967295|I>>>20),I=B+(O^U&(x^O))+M[14]+2792965006&4294967295,B=U+(I<<17&4294967295|I>>>15),I=O+(x^B&(U^x))+M[15]+1236535329&4294967295,O=B+(I<<22&4294967295|I>>>10),I=x+(B^U&(O^B))+M[1]+4129170786&4294967295,x=O+(I<<5&4294967295|I>>>27),I=U+(O^B&(x^O))+M[6]+3225465664&4294967295,U=x+(I<<9&4294967295|I>>>23),I=B+(x^O&(U^x))+M[11]+643717713&4294967295,B=U+(I<<14&4294967295|I>>>18),I=O+(U^x&(B^U))+M[0]+3921069994&4294967295,O=B+(I<<20&4294967295|I>>>12),I=x+(B^U&(O^B))+M[5]+3593408605&4294967295,x=O+(I<<5&4294967295|I>>>27),I=U+(O^B&(x^O))+M[10]+38016083&4294967295,U=x+(I<<9&4294967295|I>>>23),I=B+(x^O&(U^x))+M[15]+3634488961&4294967295,B=U+(I<<14&4294967295|I>>>18),I=O+(U^x&(B^U))+M[4]+3889429448&4294967295,O=B+(I<<20&4294967295|I>>>12),I=x+(B^U&(O^B))+M[9]+568446438&4294967295,x=O+(I<<5&4294967295|I>>>27),I=U+(O^B&(x^O))+M[14]+3275163606&4294967295,U=x+(I<<9&4294967295|I>>>23),I=B+(x^O&(U^x))+M[3]+4107603335&4294967295,B=U+(I<<14&4294967295|I>>>18),I=O+(U^x&(B^U))+M[8]+1163531501&4294967295,O=B+(I<<20&4294967295|I>>>12),I=x+(B^U&(O^B))+M[13]+2850285829&4294967295,x=O+(I<<5&4294967295|I>>>27),I=U+(O^B&(x^O))+M[2]+4243563512&4294967295,U=x+(I<<9&4294967295|I>>>23),I=B+(x^O&(U^x))+M[7]+1735328473&4294967295,B=U+(I<<14&4294967295|I>>>18),I=O+(U^x&(B^U))+M[12]+2368359562&4294967295,O=B+(I<<20&4294967295|I>>>12),I=x+(O^B^U)+M[5]+4294588738&4294967295,x=O+(I<<4&4294967295|I>>>28),I=U+(x^O^B)+M[8]+2272392833&4294967295,U=x+(I<<11&4294967295|I>>>21),I=B+(U^x^O)+M[11]+1839030562&4294967295,B=U+(I<<16&4294967295|I>>>16),I=O+(B^U^x)+M[14]+4259657740&4294967295,O=B+(I<<23&4294967295|I>>>9),I=x+(O^B^U)+M[1]+2763975236&4294967295,x=O+(I<<4&4294967295|I>>>28),I=U+(x^O^B)+M[4]+1272893353&4294967295,U=x+(I<<11&4294967295|I>>>21),I=B+(U^x^O)+M[7]+4139469664&4294967295,B=U+(I<<16&4294967295|I>>>16),I=O+(B^U^x)+M[10]+3200236656&4294967295,O=B+(I<<23&4294967295|I>>>9),I=x+(O^B^U)+M[13]+681279174&4294967295,x=O+(I<<4&4294967295|I>>>28),I=U+(x^O^B)+M[0]+3936430074&4294967295,U=x+(I<<11&4294967295|I>>>21),I=B+(U^x^O)+M[3]+3572445317&4294967295,B=U+(I<<16&4294967295|I>>>16),I=O+(B^U^x)+M[6]+76029189&4294967295,O=B+(I<<23&4294967295|I>>>9),I=x+(O^B^U)+M[9]+3654602809&4294967295,x=O+(I<<4&4294967295|I>>>28),I=U+(x^O^B)+M[12]+3873151461&4294967295,U=x+(I<<11&4294967295|I>>>21),I=B+(U^x^O)+M[15]+530742520&4294967295,B=U+(I<<16&4294967295|I>>>16),I=O+(B^U^x)+M[2]+3299628645&4294967295,O=B+(I<<23&4294967295|I>>>9),I=x+(B^(O|~U))+M[0]+4096336452&4294967295,x=O+(I<<6&4294967295|I>>>26),I=U+(O^(x|~B))+M[7]+1126891415&4294967295,U=x+(I<<10&4294967295|I>>>22),I=B+(x^(U|~O))+M[14]+2878612391&4294967295,B=U+(I<<15&4294967295|I>>>17),I=O+(U^(B|~x))+M[5]+4237533241&4294967295,O=B+(I<<21&4294967295|I>>>11),I=x+(B^(O|~U))+M[12]+1700485571&4294967295,x=O+(I<<6&4294967295|I>>>26),I=U+(O^(x|~B))+M[3]+2399980690&4294967295,U=x+(I<<10&4294967295|I>>>22),I=B+(x^(U|~O))+M[10]+4293915773&4294967295,B=U+(I<<15&4294967295|I>>>17),I=O+(U^(B|~x))+M[1]+2240044497&4294967295,O=B+(I<<21&4294967295|I>>>11),I=x+(B^(O|~U))+M[8]+1873313359&4294967295,x=O+(I<<6&4294967295|I>>>26),I=U+(O^(x|~B))+M[15]+4264355552&4294967295,U=x+(I<<10&4294967295|I>>>22),I=B+(x^(U|~O))+M[6]+2734768916&4294967295,B=U+(I<<15&4294967295|I>>>17),I=O+(U^(B|~x))+M[13]+1309151649&4294967295,O=B+(I<<21&4294967295|I>>>11),I=x+(B^(O|~U))+M[4]+4149444226&4294967295,x=O+(I<<6&4294967295|I>>>26),I=U+(O^(x|~B))+M[11]+3174756917&4294967295,U=x+(I<<10&4294967295|I>>>22),I=B+(x^(U|~O))+M[2]+718787259&4294967295,B=U+(I<<15&4294967295|I>>>17),I=O+(U^(B|~x))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(B+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+B&4294967295,R.g[3]=R.g[3]+U&4294967295}r.prototype.u=function(R,x){x===void 0&&(x=R.length);for(var O=x-this.blockSize,M=this.B,B=this.h,U=0;U<x;){if(B==0)for(;U<=O;)s(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<x;)if(M[B++]=R.charCodeAt(U++),B==this.blockSize){s(this,M),B=0;break}}else for(;U<x;)if(M[B++]=R[U++],B==this.blockSize){s(this,M),B=0;break}}this.h=B,this.o+=x},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;var O=8*this.o;for(x=R.length-8;x<R.length;++x)R[x]=O&255,O/=256;for(this.u(R),R=Array(16),x=O=0;4>x;++x)for(var M=0;32>M;M+=8)R[O++]=this.g[x]>>>M&255;return R};function o(R,x){var O=c;return Object.prototype.hasOwnProperty.call(O,R)?O[R]:O[R]=x(R)}function u(R,x){this.h=x;for(var O=[],M=!0,B=R.length-1;0<=B;B--){var U=R[B]|0;M&&U==x||(O[B]=U,M=!1)}this.g=O}var c={};function f(R){return-128<=R&&128>R?o(R,function(x){return new u([x|0],0>x?-1:0)}):new u([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return E;if(0>R)return k(d(-R));for(var x=[],O=1,M=0;R>=O;M++)x[M]=R/O|0,O*=4294967296;return new u(x,0)}function m(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return k(m(R.substring(1),x));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(x,8)),M=E,B=0;B<R.length;B+=8){var U=Math.min(8,R.length-B),I=parseInt(R.substring(B,B+U),x);8>U?(U=d(Math.pow(x,U)),M=M.j(U).add(d(I))):(M=M.j(O),M=M.add(d(I)))}return M}var E=f(0),_=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(N(this))return-k(this).m();for(var R=0,x=1,O=0;O<this.g.length;O++){var M=this.i(O);R+=(0<=M?M:4294967296+M)*x,x*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(N(this))return"-"+k(this).toString(R);for(var x=d(Math.pow(R,6)),O=this,M="";;){var B=z(O,x).g;O=D(O,B.j(x));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(R);if(O=B,A(O))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(var x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function N(R){return R.h==-1}t.l=function(R){return R=D(this,R),N(R)?-1:A(R)?0:1};function k(R){for(var x=R.g.length,O=[],M=0;M<x;M++)O[M]=~R.g[M];return new u(O,~R.h).add(_)}t.abs=function(){return N(this)?k(this):this},t.add=function(R){for(var x=Math.max(this.g.length,R.g.length),O=[],M=0,B=0;B<=x;B++){var U=M+(this.i(B)&65535)+(R.i(B)&65535),I=(U>>>16)+(this.i(B)>>>16)+(R.i(B)>>>16);M=I>>>16,U&=65535,I&=65535,O[B]=I<<16|U}return new u(O,O[O.length-1]&-2147483648?-1:0)};function D(R,x){return R.add(k(x))}t.j=function(R){if(A(this)||A(R))return E;if(N(this))return N(R)?k(this).j(k(R)):k(k(this).j(R));if(N(R))return k(this.j(k(R)));if(0>this.l(b)&&0>R.l(b))return d(this.m()*R.m());for(var x=this.g.length+R.g.length,O=[],M=0;M<2*x;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var B=0;B<R.g.length;B++){var U=this.i(M)>>>16,I=this.i(M)&65535,L=R.i(B)>>>16,K=R.i(B)&65535;O[2*M+2*B]+=I*K,H(O,2*M+2*B),O[2*M+2*B+1]+=U*K,H(O,2*M+2*B+1),O[2*M+2*B+1]+=I*L,H(O,2*M+2*B+1),O[2*M+2*B+2]+=U*L,H(O,2*M+2*B+2)}for(M=0;M<x;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=x;M<2*x;M++)O[M]=0;return new u(O,0)};function H(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function Y(R,x){this.g=R,this.h=x}function z(R,x){if(A(x))throw Error("division by zero");if(A(R))return new Y(E,E);if(N(R))return x=z(k(R),x),new Y(k(x.g),k(x.h));if(N(x))return x=z(R,k(x)),new Y(k(x.g),x.h);if(30<R.g.length){if(N(R)||N(x))throw Error("slowDivide_ only works with positive integers.");for(var O=_,M=x;0>=M.l(R);)O=ee(O),M=ee(M);var B=$(O,1),U=$(M,1);for(M=$(M,2),O=$(O,2);!A(M);){var I=U.add(M);0>=I.l(R)&&(B=B.add(O),U=I),M=$(M,1),O=$(O,1)}return x=D(R,B.j(x)),new Y(B,x)}for(B=E;0<=R.l(x);){for(O=Math.max(1,Math.floor(R.m()/x.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=d(O),I=U.j(x);N(I)||0<I.l(R);)O-=M,U=d(O),I=U.j(x);A(U)&&(U=_),B=B.add(U),R=D(R,I)}return new Y(B,R)}t.A=function(R){return z(this,R).h},t.and=function(R){for(var x=Math.max(this.g.length,R.g.length),O=[],M=0;M<x;M++)O[M]=this.i(M)&R.i(M);return new u(O,this.h&R.h)},t.or=function(R){for(var x=Math.max(this.g.length,R.g.length),O=[],M=0;M<x;M++)O[M]=this.i(M)|R.i(M);return new u(O,this.h|R.h)},t.xor=function(R){for(var x=Math.max(this.g.length,R.g.length),O=[],M=0;M<x;M++)O[M]=this.i(M)^R.i(M);return new u(O,this.h^R.h)};function ee(R){for(var x=R.g.length+1,O=[],M=0;M<x;M++)O[M]=R.i(M)<<1|R.i(M-1)>>>31;return new u(O,R.h)}function $(R,x){var O=x>>5;x%=32;for(var M=R.g.length-O,B=[],U=0;U<M;U++)B[U]=0<x?R.i(U+O)>>>x|R.i(U+O+1)<<32-x:R.i(U+O);return new u(B,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JN=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=m,fo=u}).apply(typeof y2<"u"?y2:typeof self<"u"?self:typeof window<"u"?window:{});var gm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ex,Dh,tx,km,zy,nx,rx,ix;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,v,w){return p==Array.prototype||p==Object.prototype||(p[v]=w.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof gm=="object"&&gm];for(var v=0;v<p.length;++v){var w=p[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(p,v){if(v)e:{var w=r;p=p.split(".");for(var q=0;q<p.length-1;q++){var le=p[q];if(!(le in w))break e;w=w[le]}p=p[p.length-1],q=w[p],v=v(q),v!=q&&v!=null&&e(w,p,{configurable:!0,writable:!0,value:v})}}function o(p,v){p instanceof String&&(p+="");var w=0,q=!1,le={next:function(){if(!q&&w<p.length){var Ee=w++;return{value:v(Ee,p[Ee]),done:!1}}return q=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}s("Array.prototype.values",function(p){return p||function(){return o(this,function(v,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(p){var v=typeof p;return v=v!="object"?v:p?Array.isArray(p)?"array":v:"null",v=="array"||v=="object"&&typeof p.length=="number"}function d(p){var v=typeof p;return v=="object"&&p!=null||v=="function"}function m(p,v,w){return p.call.apply(p.bind,arguments)}function E(p,v,w){if(!p)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,q),p.apply(v,le)}}return function(){return p.apply(v,arguments)}}function _(p,v,w){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:E,_.apply(null,arguments)}function b(p,v){var w=Array.prototype.slice.call(arguments,1);return function(){var q=w.slice();return q.push.apply(q,arguments),p.apply(this,q)}}function A(p,v){function w(){}w.prototype=v.prototype,p.aa=v.prototype,p.prototype=new w,p.prototype.constructor=p,p.Qb=function(q,le,Ee){for(var Me=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)Me[wt-2]=arguments[wt];return v.prototype[le].apply(q,Me)}}function N(p){const v=p.length;if(0<v){const w=Array(v);for(let q=0;q<v;q++)w[q]=p[q];return w}return[]}function k(p,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];if(f(q)){const le=p.length||0,Ee=q.length||0;p.length=le+Ee;for(let Me=0;Me<Ee;Me++)p[le+Me]=q[Me]}else p.push(q)}}class D{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(p){return/^[\s\xa0]*$/.test(p)}function Y(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function z(p){return z[" "](p),p}z[" "]=function(){};var ee=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function $(p,v,w){for(const q in p)v.call(w,p[q],q,p)}function R(p,v){for(const w in p)v.call(void 0,p[w],w,p)}function x(p){const v={};for(const w in p)v[w]=p[w];return v}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(p,v){let w,q;for(let le=1;le<arguments.length;le++){q=arguments[le];for(w in q)p[w]=q[w];for(let Ee=0;Ee<O.length;Ee++)w=O[Ee],Object.prototype.hasOwnProperty.call(q,w)&&(p[w]=q[w])}}function B(p){var v=1;p=p.split(":");const w=[];for(;0<v&&p.length;)w.push(p.shift()),v--;return p.length&&w.push(p.join(":")),w}function U(p){c.setTimeout(()=>{throw p},0)}function I(){var p=ie;let v=null;return p.g&&(v=p.g,p.g=p.g.next,p.g||(p.h=null),v.next=null),v}class L{constructor(){this.h=this.g=null}add(v,w){const q=K.get();q.set(v,w),this.h?this.h.next=q:this.g=q,this.h=q}}var K=new D(()=>new V,p=>p.reset());class V{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,re=!1,ie=new L,S=()=>{const p=c.Promise.resolve(void 0);Q=()=>{p.then(J)}};var J=()=>{for(var p;p=I();){try{p.h.call(p.g)}catch(w){U(w)}var v=K;v.j(p),100>v.h&&(v.h++,p.next=v.g,v.g=p)}re=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(p,v){this.type=p,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,v=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const w=()=>{};c.addEventListener("test",w,v),c.removeEventListener("test",w,v)}catch{}return p}();function Ne(p,v){if(P.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var w=this.type=p.type,q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=v,v=p.relatedTarget){if(ee){e:{try{z(v.nodeName);var le=!0;break e}catch{}le=!1}le||(v=null)}}else w=="mouseover"?v=p.fromElement:w=="mouseout"&&(v=p.toElement);this.relatedTarget=v,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ne.aa.h.call(this)}}A(Ne,P);var Ce={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Le(p,v,w,q,le){this.listener=p,this.proxy=null,this.src=v,this.type=w,this.capture=!!q,this.ha=le,this.key=++Se,this.da=this.fa=!1}function Pe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Qe(p){this.src=p,this.g={},this.h=0}Qe.prototype.add=function(p,v,w,q,le){var Ee=p.toString();p=this.g[Ee],p||(p=this.g[Ee]=[],this.h++);var Me=Ot(p,v,q,le);return-1<Me?(v=p[Me],w||(v.fa=!1)):(v=new Le(v,this.src,Ee,!!q,le),v.fa=w,p.push(v)),v};function Rt(p,v){var w=v.type;if(w in p.g){var q=p.g[w],le=Array.prototype.indexOf.call(q,v,void 0),Ee;(Ee=0<=le)&&Array.prototype.splice.call(q,le,1),Ee&&(Pe(v),p.g[w].length==0&&(delete p.g[w],p.h--))}}function Ot(p,v,w,q){for(var le=0;le<p.length;++le){var Ee=p[le];if(!Ee.da&&Ee.listener==v&&Ee.capture==!!w&&Ee.ha==q)return le}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),Ge={};function cn(p,v,w,q,le){if(Array.isArray(v)){for(var Ee=0;Ee<v.length;Ee++)cn(p,v[Ee],w,q,le);return null}return w=jn(w),p&&p[He]?p.K(v,w,d(q)?!!q.capture:!1,le):Ke(p,v,w,!1,q,le)}function Ke(p,v,w,q,le,Ee){if(!v)throw Error("Invalid event type");var Me=d(le)?!!le.capture:!!le,wt=xn(p);if(wt||(p[Dt]=wt=new Qe(p)),w=wt.add(v,w,q,Me,Ee),w.proxy)return w;if(q=qe(),w.proxy=q,q.src=p,q.listener=w,p.addEventListener)pe||(le=Me),le===void 0&&(le=!1),p.addEventListener(v.toString(),q,le);else if(p.attachEvent)p.attachEvent(Nn(v.toString()),q);else if(p.addListener&&p.removeListener)p.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return w}function qe(){function p(w){return v.call(p.src,p.listener,w)}const v=Mn;return p}function nn(p,v,w,q,le){if(Array.isArray(v))for(var Ee=0;Ee<v.length;Ee++)nn(p,v[Ee],w,q,le);else q=d(q)?!!q.capture:!!q,w=jn(w),p&&p[He]?(p=p.i,v=String(v).toString(),v in p.g&&(Ee=p.g[v],w=Ot(Ee,w,q,le),-1<w&&(Pe(Ee[w]),Array.prototype.splice.call(Ee,w,1),Ee.length==0&&(delete p.g[v],p.h--)))):p&&(p=xn(p))&&(v=p.g[v.toString()],p=-1,v&&(p=Ot(v,w,q,le)),(w=-1<p?v[p]:null)&&Cn(w))}function Cn(p){if(typeof p!="number"&&p&&!p.da){var v=p.src;if(v&&v[He])Rt(v.i,p);else{var w=p.type,q=p.proxy;v.removeEventListener?v.removeEventListener(w,q,p.capture):v.detachEvent?v.detachEvent(Nn(w),q):v.addListener&&v.removeListener&&v.removeListener(q),(w=xn(v))?(Rt(w,p),w.h==0&&(w.src=null,v[Dt]=null)):Pe(p)}}}function Nn(p){return p in Ge?Ge[p]:Ge[p]="on"+p}function Mn(p,v){if(p.da)p=!0;else{v=new Ne(v,this);var w=p.listener,q=p.ha||p.src;p.fa&&Cn(p),p=w.call(q,v)}return p}function xn(p){return p=p[Dt],p instanceof Qe?p:null}var dn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(p){return typeof p=="function"?p:(p[dn]||(p[dn]=function(v){return p.handleEvent(v)}),p[dn])}function ae(){oe.call(this),this.i=new Qe(this),this.M=this,this.F=null}A(ae,oe),ae.prototype[He]=!0,ae.prototype.removeEventListener=function(p,v,w,q){nn(this,p,v,w,q)};function Te(p,v){var w,q=p.F;if(q)for(w=[];q;q=q.F)w.push(q);if(p=p.M,q=v.type||v,typeof v=="string")v=new P(v,p);else if(v instanceof P)v.target=v.target||p;else{var le=v;v=new P(q,p),M(v,le)}if(le=!0,w)for(var Ee=w.length-1;0<=Ee;Ee--){var Me=v.g=w[Ee];le=Ue(Me,q,!0,v)&&le}if(Me=v.g=p,le=Ue(Me,q,!0,v)&&le,le=Ue(Me,q,!1,v)&&le,w)for(Ee=0;Ee<w.length;Ee++)Me=v.g=w[Ee],le=Ue(Me,q,!1,v)&&le}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var p=this.i,v;for(v in p.g){for(var w=p.g[v],q=0;q<w.length;q++)Pe(w[q]);delete p.g[v],p.h--}}this.F=null},ae.prototype.K=function(p,v,w,q){return this.i.add(String(p),v,!1,w,q)},ae.prototype.L=function(p,v,w,q){return this.i.add(String(p),v,!0,w,q)};function Ue(p,v,w,q){if(v=p.i.g[String(v)],!v)return!0;v=v.concat();for(var le=!0,Ee=0;Ee<v.length;++Ee){var Me=v[Ee];if(Me&&!Me.da&&Me.capture==w){var wt=Me.listener,$n=Me.ha||Me.src;Me.fa&&Rt(p.i,Me),le=wt.call($n,q)!==!1&&le}}return le&&!q.defaultPrevented}function Ye(p,v,w){if(typeof p=="function")w&&(p=_(p,w));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(p,v||0)}function lt(p){p.g=Ye(()=>{p.g=null,p.i&&(p.i=!1,lt(p))},p.l);const v=p.h;p.h=null,p.m.apply(null,v)}class vt extends oe{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(p){oe.call(this),this.h=p,this.g={}}A(jt,oe);var qt=[];function Yt(p){$(p.g,function(v,w){this.g.hasOwnProperty(w)&&Cn(v)},p),p.g={}}jt.prototype.N=function(){jt.aa.N.call(this),Yt(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var St=c.JSON.stringify,ct=c.JSON.parse,en=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Xt(){}Xt.prototype.h=null;function Gi(p){return p.h||(p.h=p.i())}function br(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){P.call(this,"d")}A(Dr,P);function vr(){P.call(this,"c")}A(vr,P);var Yr={},Fs=null;function si(){return Fs=Fs||new ae}Yr.La="serverreachability";function Ki(p){P.call(this,Yr.La,p)}A(Ki,P);function kr(p){const v=si();Te(v,new Ki(v))}Yr.STAT_EVENT="statevent";function ai(p,v){P.call(this,Yr.STAT_EVENT,p),this.stat=v}A(ai,P);function Qt(p){const v=si();Te(v,new ai(v,p))}Yr.Ma="timingevent";function Bt(p,v){P.call(this,Yr.Ma,p),this.size=v}A(Bt,P);function mn(p,v){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},v)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function ls(p,v,w,q,le,Ee){p.info(function(){if(p.g)if(Ee)for(var Me="",wt=Ee.split("&"),$n=0;$n<wt.length;$n++){var It=wt[$n].split("=");if(1<It.length){var nr=It[0];It=It[1];var Gn=nr.split("_");Me=2<=Gn.length&&Gn[1]=="type"?Me+(nr+"="+It+"&"):Me+(nr+"=redacted&")}}else Me=null;else Me=Ee;return"XMLHTTP REQ ("+q+") [attempt "+le+"]: "+v+`
`+w+`
`+Me})}function xo(p,v,w,q,le,Ee,Me){p.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+le+"]: "+v+`
`+w+`
`+Ee+" "+Me})}function Lr(p,v,w,q){p.info(function(){return"XMLHTTP TEXT ("+v+"): "+wi(p,w)+(q?" "+q:"")})}function cs(p,v){p.info(function(){return"TIMEOUT: "+v})}bn.prototype.info=function(){};function wi(p,v){if(!p.g)return v;if(!v)return null;try{var w=JSON.parse(v);if(w){for(p=0;p<w.length;p++)if(Array.isArray(w[p])){var q=w[p];if(!(2>q.length)){var le=q[1];if(Array.isArray(le)&&!(1>le.length)){var Ee=le[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var Me=1;Me<le.length;Me++)le[Me]=""}}}}return St(w)}catch{return v}}var oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Pr(){}A(Pr,Xt),Pr.prototype.g=function(){return new XMLHttpRequest},Pr.prototype.i=function(){return{}},Zn=new Pr;function Yn(p,v,w,q){this.j=p,this.i=v,this.l=w,this.R=q||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ne}function ne(){this.i=null,this.g="",this.h=!1}var ge={},Oe={};function Be(p,v,w){p.L=1,p.v=Xi(rn(v)),p.m=w,p.P=!0,gt(p,null)}function gt(p,v){p.F=Date.now(),Ut(p),p.A=rn(p.v);var w=p.A,q=p.R;Array.isArray(q)||(q=[String(q)]),_c(w.i,"t",q),p.C=0,w=p.j.J,p.h=new ne,p.g=td(p.j,w?v:null,!p.m),0<p.O&&(p.M=new vt(_(p.Y,p,p.g),p.O)),v=p.U,w=p.g,q=p.ca;var le="readystatechange";Array.isArray(le)||(le&&(qt[0]=le.toString()),le=qt);for(var Ee=0;Ee<le.length;Ee++){var Me=cn(w,le[Ee],q||v.handleEvent,!1,v.h||v);if(!Me)break;v.g[Me.key]=Me}v=p.H?x(p.H):{},p.m?(p.u||(p.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,v)):(p.u="GET",p.g.ea(p.A,p.u,null,v)),kr(),ls(p.i,p.u,p.A,p.l,p.R,p.m)}Yn.prototype.ca=function(p){p=p.target;const v=this.M;v&&Oi(p)==3?v.j():this.Y(p)},Yn.prototype.Y=function(p){try{if(p==this.g)e:{const Gn=Oi(this.g);var v=this.g.Ba();const Gs=this.g.Z();if(!(3>Gn)&&(Gn!=3||this.g&&(this.h.h||this.g.oa()||Gf(this.g)))){this.J||Gn!=4||v==7||(v==8||0>=Gs?kr(3):kr(2)),Vt(this);var w=this.g.Z();this.X=w;t:if(it(this)){var q=Gf(this.g);p="";var le=q.length,Ee=Oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),kt(this);var Me="";break t}this.h.i=new c.TextDecoder}for(v=0;v<le;v++)this.h.h=!0,p+=this.h.i.decode(q[v],{stream:!(Ee&&v==le-1)});q.length=0,this.h.g+=p,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=w==200,xo(this.i,this.u,this.A,this.l,this.R,Gn,w),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,$n=this.g;if((wt=$n.g?$n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(wt)){var It=wt;break t}}It=null}if(w=It)Lr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pn(this,w);else{this.o=!1,this.s=3,Qt(12),Ft(this),kt(this);break e}}if(this.P){w=!0;let mr;for(;!this.J&&this.C<Me.length;)if(mr=$t(this,Me),mr==Oe){Gn==4&&(this.s=4,Qt(14),w=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(mr==ge){this.s=4,Qt(15),Lr(this.i,this.l,Me,"[Invalid Chunk]"),w=!1;break}else Lr(this.i,this.l,mr,null),Pn(this,mr);if(it(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gn!=4||Me.length!=0||this.h.h||(this.s=1,Qt(16),w=!1),this.o=this.o&&w,!w)Lr(this.i,this.l,Me,"[Invalid Chunked Response]"),Ft(this),kt(this);else if(0<Me.length&&!this.W){this.W=!0;var nr=this.j;nr.g==this&&nr.ba&&!nr.M&&(nr.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),Uo(nr),nr.M=!0,Qt(11))}}else Lr(this.i,this.l,Me,null),Pn(this,Me);Gn==4&&Ft(this),this.o&&!this.J&&(Gn==4?Zf(this.j,this):(this.o=!1,Ut(this)))}else _0(this.g),w==400&&0<Me.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Ft(this),kt(this)}}}catch{}finally{}};function it(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function $t(p,v){var w=p.C,q=v.indexOf(`
`,w);return q==-1?Oe:(w=Number(v.substring(w,q)),isNaN(w)?ge:(q+=1,q+w>v.length?Oe:(v=v.slice(q,q+w),p.C=q+w,v)))}Yn.prototype.cancel=function(){this.J=!0,Ft(this)};function Ut(p){p.S=Date.now()+p.I,Jn(p,p.I)}function Jn(p,v){if(p.B!=null)throw Error("WatchDog timer not null");p.B=mn(_(p.ba,p),v)}function Vt(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Yn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(cs(this.i,this.A),this.L!=2&&(kr(),Qt(17)),Ft(this),this.s=2,kt(this)):Jn(this,this.S-p)};function kt(p){p.j.G==0||p.J||Zf(p.j,p)}function Ft(p){Vt(p);var v=p.M;v&&typeof v.ma=="function"&&v.ma(),p.M=null,Yt(p.U),p.g&&(v=p.g,p.g=null,v.abort(),v.ma())}function Pn(p,v){try{var w=p.j;if(w.G!=0&&(w.g==p||Ii(w.h,p))){if(!p.K&&Ii(w.h,p)&&w.G==3){try{var q=w.Da.g.parse(v)}catch{q=null}if(Array.isArray(q)&&q.length==3){var le=q;if(le[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<p.F)Mu(w),ku(w);else break e;Ac(w),Qt(18)}}else w.za=le[1],0<w.za-w.T&&37500>le[2]&&w.F&&w.v==0&&!w.C&&(w.C=mn(_(w.Za,w),6e3));if(1>=Ur(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else $s(w,11)}else if((p.K||w.g==p)&&Mu(w),!H(v))for(le=w.Da.g.parse(v),v=0;v<le.length;v++){let It=le[v];if(w.T=It[0],It=It[1],w.G==2)if(It[0]=="c"){w.K=It[1],w.ia=It[2];const nr=It[3];nr!=null&&(w.la=nr,w.j.info("VER="+w.la));const Gn=It[4];Gn!=null&&(w.Aa=Gn,w.j.info("SVER="+w.Aa));const Gs=It[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(q=1.5*Gs,w.L=q,w.j.info("backChannelRequestTimeoutMs_="+q)),q=w;const mr=p.g;if(mr){const ys=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var Ee=q.h;Ee.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Ci(Ee,Ee.h),Ee.h=null))}if(q.D){const Ic=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(q.ya=Ic,xt(q.I,q.D,Ic))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-p.F,w.j.info("Handshake RTT: "+w.R+"ms")),q=w;var Me=p;if(q.qa=ed(q,q.J?q.ia:null,q.W),Me.K){er(q.h,Me);var wt=Me,$n=q.L;$n&&(wt.I=$n),wt.B&&(Vt(wt),Ut(wt)),q.g=Me}else Qf(q);0<w.i.length&&Lu(w)}else It[0]!="stop"&&It[0]!="close"||$s(w,7);else w.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?$s(w,7):vc(w):It[0]!="noop"&&w.l&&w.l.ta(It),w.v=0)}}kr(4)}catch{}}var vn=class{constructor(p,v){this.g=p,this.map=v}};function Rn(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Br(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Ur(p){return p.h?1:p.g?p.g.size:0}function Ii(p,v){return p.h?p.h==v:p.g?p.g.has(v):!1}function Ci(p,v){p.g?p.g.add(v):p.h=v}function er(p,v){p.h&&p.h==v?p.h=null:p.g&&p.g.has(v)&&p.g.delete(v)}Rn.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ro(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let v=p.i;for(const w of p.g.values())v=v.concat(w.D);return v}return N(p.i)}function yc(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var v=[],w=p.length,q=0;q<w;q++)v.push(p[q]);return v}v=[],w=0;for(q in p)v[w++]=p[q];return v}function At(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var v=[];p=p.length;for(var w=0;w<p;w++)v.push(w);return v}v=[],w=0;for(const q in p)v[w++]=q;return v}}}function bt(p,v){if(p.forEach&&typeof p.forEach=="function")p.forEach(v,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,v,void 0);else for(var w=At(p),q=yc(p),le=q.length,Ee=0;Ee<le;Ee++)v.call(void 0,q[Ee],w&&w[Ee],p)}var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xi(p,v){if(p){p=p.split("&");for(var w=0;w<p.length;w++){var q=p[w].indexOf("="),le=null;if(0<=q){var Ee=p[w].substring(0,q);le=p[w].substring(q+1)}else Ee=p[w];v(Ee,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function pn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof pn){this.h=p.h,cr(this,p.j),this.o=p.o,this.g=p.g,hr(this,p.s),this.l=p.l;var v=p.i,w=new $r;w.i=v.i,v.g&&(w.g=new Map(v.g),w.h=v.h),Vr(this,w),this.m=p.m}else p&&(v=String(p).match(Ni))?(this.h=!1,cr(this,v[1]||"",!0),this.o=fr(v[2]||""),this.g=fr(v[3]||"",!0),hr(this,v[4]),this.l=fr(v[5]||"",!0),Vr(this,v[6]||"",!0),this.m=fr(v[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}pn.prototype.toString=function(){var p=[],v=this.j;v&&p.push(Fr(v,hs,!0),":");var w=this.g;return(w||v=="file")&&(p.push("//"),(v=this.o)&&p.push(Fr(v,hs,!0),"@"),p.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&p.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&p.push("/"),p.push(Fr(w,w.charAt(0)=="/"?va:Hs,!0))),(w=this.i.toString())&&p.push("?",w),(w=this.m)&&p.push("#",Fr(w,zs)),p.join("")};function rn(p){return new pn(p)}function cr(p,v,w){p.j=w?fr(v,!0):v,p.j&&(p.j=p.j.replace(/:$/,""))}function hr(p,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);p.s=v}else p.s=null}function Vr(p,v,w){v instanceof $r?(p.i=v,Yf(p.i,p.h)):(w||(v=Fr(v,Sa)),p.i=new $r(v,p.h))}function xt(p,v,w){p.i.set(v,w)}function Xi(p){return xt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function fr(p,v){return p?v?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Fr(p,v,w){return typeof p=="string"?(p=encodeURI(p).replace(v,Oo),w&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Oo(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var hs=/[#\/\?@]/g,Hs=/[#\?:]/g,va=/[#\?]/g,Sa=/[#\?@]/g,zs=/#/g;function $r(p,v){this.h=this.g=null,this.i=p||null,this.j=!!v}function dr(p){p.g||(p.g=new Map,p.h=0,p.i&&xi(p.i,function(v,w){p.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}t=$r.prototype,t.add=function(p,v){dr(this),this.i=null,p=fs(this,p);var w=this.g.get(p);return w||this.g.set(p,w=[]),w.push(v),this.h+=1,this};function js(p,v){dr(p),v=fs(p,v),p.g.has(v)&&(p.i=null,p.h-=p.g.get(v).length,p.g.delete(v))}function qs(p,v){return dr(p),v=fs(p,v),p.g.has(v)}t.forEach=function(p,v){dr(this),this.g.forEach(function(w,q){w.forEach(function(le){p.call(v,le,q,this)},this)},this)},t.na=function(){dr(this);const p=Array.from(this.g.values()),v=Array.from(this.g.keys()),w=[];for(let q=0;q<v.length;q++){const le=p[q];for(let Ee=0;Ee<le.length;Ee++)w.push(v[q])}return w},t.V=function(p){dr(this);let v=[];if(typeof p=="string")qs(this,p)&&(v=v.concat(this.g.get(fs(this,p))));else{p=Array.from(this.g.values());for(let w=0;w<p.length;w++)v=v.concat(p[w])}return v},t.set=function(p,v){return dr(this),this.i=null,p=fs(this,p),qs(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[v]),this.h+=1,this},t.get=function(p,v){return p?(p=this.V(p),0<p.length?String(p[0]):v):v};function _c(p,v,w){js(p,v),0<w.length&&(p.i=null,p.g.set(fs(p,v),N(w)),p.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],v=Array.from(this.g.keys());for(var w=0;w<v.length;w++){var q=v[w];const Ee=encodeURIComponent(String(q)),Me=this.V(q);for(q=0;q<Me.length;q++){var le=Ee;Me[q]!==""&&(le+="="+encodeURIComponent(String(Me[q]))),p.push(le)}}return this.i=p.join("&")};function fs(p,v){return v=String(v),p.j&&(v=v.toLowerCase()),v}function Yf(p,v){v&&!p.j&&(dr(p),p.i=null,p.g.forEach(function(w,q){var le=q.toLowerCase();q!=le&&(js(this,q),_c(this,le,w))},p)),p.j=v}function Do(p,v){const w=new bn;if(c.Image){const q=new Image;q.onload=b(Ri,w,"TestLoadImage: loaded",!0,v,q),q.onerror=b(Ri,w,"TestLoadImage: error",!1,v,q),q.onabort=b(Ri,w,"TestLoadImage: abort",!1,v,q),q.ontimeout=b(Ri,w,"TestLoadImage: timeout",!1,v,q),c.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=p}else v(!1)}function Qi(p,v){const w=new bn,q=new AbortController,le=setTimeout(()=>{q.abort(),Ri(w,"TestPingServer: timeout",!1,v)},1e4);fetch(p,{signal:q.signal}).then(Ee=>{clearTimeout(le),Ee.ok?Ri(w,"TestPingServer: ok",!0,v):Ri(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(le),Ri(w,"TestPingServer: error",!1,v)})}function Ri(p,v,w,q,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),q(w)}catch{}}function ko(){this.g=new en}function ds(p,v,w){const q=w||"";try{bt(p,function(le,Ee){let Me=le;d(le)&&(Me=St(le)),v.push(q+Ee+"="+encodeURIComponent(Me))})}catch(le){throw v.push(q+"type="+encodeURIComponent("_badmap")),le}}function Aa(p){this.l=p.Ub||null,this.j=p.eb||!1}A(Aa,Xt),Aa.prototype.g=function(){return new Ys(this.l,this.j)},Aa.prototype.i=function(p){return function(){return p}}({});function Ys(p,v){ae.call(this),this.D=p,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ys,ae),t=Ys.prototype,t.open=function(p,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=v,this.readyState=1,ps(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(v.body=p),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var v=p.value?p.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!p.done}))&&(this.response=this.responseText+=v)}p.done?ms(this):ps(this),this.readyState==3&&Tc(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,ms(this))},t.Qa=function(p){this.g&&(this.response=p,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ps(p)}t.setRequestHeader=function(p,v){this.u.append(p,v)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,p.push(w[0]+": "+w[1]),w=v.next();return p.join(`\r
`)};function ps(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function bc(p){let v="";return $(p,function(w,q){v+=q,v+=":",v+=w,v+=`\r
`}),v}function tr(p,v,w){e:{for(q in w){var q=!1;break e}q=!0}q||(w=bc(w),typeof p=="string"?w!=null&&encodeURIComponent(String(w)):xt(p,v,w))}function Ht(p){ae.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ht,ae);var xu=/^https?$/i,Lo=["POST","PUT"];t=Ht.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,v,w,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);v=v?v.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Gi(this.o):Gi(Zn),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(p),!0),this.B=!1}catch(Ee){$f(this,Ee);return}if(p=w||"",w=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var le in q)w.set(le,q[le]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const Ee of q.keys())w.set(Ee,q.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(w.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),le=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Lo,v,void 0))||q||le||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,Me]of w)this.g.setRequestHeader(Ee,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(p),this.u=!1}catch(Ee){$f(this,Ee)}};function $f(p,v){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=v,p.m=5,Ru(p),gs(p)}function Ru(p){p.A||(p.A=!0,Te(p,"complete"),Te(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Te(this,"complete"),Te(this,"abort"),gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),Ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ou(this):this.bb())},t.bb=function(){Ou(this)};function Ou(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Oi(p)!=4||p.Z()!=2)){if(p.u&&Oi(p)==4)Ye(p.Ea,0,p);else if(Te(p,"readystatechange"),Oi(p)==4){p.h=!1;try{const Me=p.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var q;if(q=Me===0){var le=String(p.D).match(Ni)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),q=!xu.test(le?le.toLowerCase():"")}w=q}if(w)Te(p,"complete"),Te(p,"success");else{p.m=6;try{var Ee=2<Oi(p)?p.g.statusText:""}catch{Ee=""}p.l=Ee+" ["+p.Z()+"]",Ru(p)}}finally{gs(p)}}}}function gs(p,v){if(p.g){Mo(p);const w=p.g,q=p.v[0]?()=>{}:null;p.g=null,p.v=null,v||Te(p,"ready");try{w.onreadystatechange=q}catch{}}}function Mo(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function Oi(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var v=this.g.responseText;return p&&v.indexOf(p)==0&&(v=v.substring(p.length)),ct(v)}};function Gf(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function _0(p){const v={};p=(p.g&&2<=Oi(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<p.length;q++){if(H(p[q]))continue;var w=B(p[q]);const le=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Ee=v[le]||[];v[le]=Ee,Ee.push(w)}R(v,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(p,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[p]||v}function Du(p){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,p),this.cb=Po("retryDelaySeedMs",1e4,p),this.Wa=Po("forwardChannelMaxRetries",2,p),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Rn(p&&p.concurrentRequestLimit),this.Da=new ko,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Du.prototype,t.la=8,t.G=1,t.connect=function(p,v,w,q){Qt(0),this.W=p,this.H=v||{},w&&q!==void 0&&(this.H.OSID=w,this.H.OAID=q),this.F=this.X,this.I=ed(this,null,this.W),Lu(this)};function vc(p){if(Kf(p),p.G==3){var v=p.U++,w=rn(p.I);if(xt(w,"SID",p.K),xt(w,"RID",v),xt(w,"TYPE","terminate"),Bo(p,w),v=new Yn(p,p.j,v),v.L=2,v.v=Xi(rn(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=v.v,w=!0),w||(v.g=td(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ut(v)}Jf(p)}function ku(p){p.g&&(Uo(p),p.g.cancel(),p.g=null)}function Kf(p){ku(p),p.u&&(c.clearTimeout(p.u),p.u=null),Mu(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function Lu(p){if(!Br(p.h)&&!p.s){p.s=!0;var v=p.Ga;Q||S(),re||(Q(),re=!0),ie.add(v,p),p.B=0}}function T0(p,v){return Ur(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=v.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=mn(_(p.Ga,p,v),wc(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const le=new Yn(this,this.j,p);let Ee=this.o;if(this.S&&(Ee?(Ee=x(Ee),M(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(le.H=Ee,Ee=null),this.P)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var q=this.i[w];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(v+=q,4096<v){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Xf(this,le,v),w=rn(this.I),xt(w,"RID",p),xt(w,"CVER",22),this.D&&xt(w,"X-HTTP-Session-Id",this.D),Bo(this,w),Ee&&(this.O?v="headers="+encodeURIComponent(String(bc(Ee)))+"&"+v:this.m&&tr(w,this.m,Ee)),Ci(this.h,le),this.Ua&&xt(w,"TYPE","init"),this.P?(xt(w,"$req",v),xt(w,"SID","null"),le.T=!0,Be(le,w,null)):Be(le,w,v),this.G=2}}else this.G==3&&(p?Sc(this,p):this.i.length==0||Br(this.h)||Sc(this))};function Sc(p,v){var w;v?w=v.l:w=p.U++;const q=rn(p.I);xt(q,"SID",p.K),xt(q,"RID",w),xt(q,"AID",p.T),Bo(p,q),p.m&&p.o&&tr(q,p.m,p.o),w=new Yn(p,p.j,w,p.B+1),p.m===null&&(w.H=p.o),v&&(p.i=v.D.concat(p.i)),v=Xf(p,w,1e3),w.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ci(p.h,w),Be(w,q,v)}function Bo(p,v){p.H&&$(p.H,function(w,q){xt(v,q,w)}),p.l&&bt({},function(w,q){xt(v,q,w)})}function Xf(p,v,w){w=Math.min(p.i.length,w);var q=p.l?_(p.l.Na,p.l,p):null;e:{var le=p.i;let Ee=-1;for(;;){const Me=["count="+w];Ee==-1?0<w?(Ee=le[0].g,Me.push("ofs="+Ee)):Ee=0:Me.push("ofs="+Ee);let wt=!0;for(let $n=0;$n<w;$n++){let It=le[$n].g;const nr=le[$n].map;if(It-=Ee,0>It)Ee=Math.max(0,le[$n].g-100),wt=!1;else try{ds(nr,Me,"req"+It+"_")}catch{q&&q(nr)}}if(wt){q=Me.join("&");break e}}}return p=p.i.splice(0,w),v.D=p,q}function Qf(p){if(!p.g&&!p.u){p.Y=1;var v=p.Fa;Q||S(),re||(Q(),re=!0),ie.add(v,p),p.v=0}}function Ac(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=mn(_(p.Fa,p),wc(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Wf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=mn(_(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),ku(this),Wf(this))};function Uo(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function Wf(p){p.g=new Yn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var v=rn(p.qa);xt(v,"RID","rpc"),xt(v,"SID",p.K),xt(v,"AID",p.T),xt(v,"CI",p.F?"0":"1"),!p.F&&p.ja&&xt(v,"TO",p.ja),xt(v,"TYPE","xmlhttp"),Bo(p,v),p.m&&p.o&&tr(v,p.m,p.o),p.L&&(p.g.I=p.L);var w=p.g;p=p.ia,w.L=1,w.v=Xi(rn(v)),w.m=null,w.P=!0,gt(w,p)}t.Za=function(){this.C!=null&&(this.C=null,ku(this),Ac(this),Qt(19))};function Mu(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Zf(p,v){var w=null;if(p.g==v){Mu(p),Uo(p),p.g=null;var q=2}else if(Ii(p.h,v))w=v.D,er(p.h,v),q=1;else return;if(p.G!=0){if(v.o)if(q==1){w=v.m?v.m.length:0,v=Date.now()-v.F;var le=p.B;q=si(),Te(q,new Bt(q,w)),Lu(p)}else Qf(p);else if(le=v.s,le==3||le==0&&0<v.X||!(q==1&&T0(p,v)||q==2&&Ac(p)))switch(w&&0<w.length&&(v=p.h,v.i=v.i.concat(w)),le){case 1:$s(p,5);break;case 4:$s(p,10);break;case 3:$s(p,6);break;default:$s(p,2)}}}function wc(p,v){let w=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(w*=2),w*v}function $s(p,v){if(p.j.info("Error code "+v),v==2){var w=_(p.fb,p),q=p.Xa;const le=!q;q=new pn(q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||cr(q,"https"),Xi(q),le?Do(q.toString(),w):Qi(q.toString(),w)}else Qt(2);p.G=0,p.l&&p.l.sa(v),Jf(p),Kf(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Jf(p){if(p.G=0,p.ka=[],p.l){const v=Ro(p.h);(v.length!=0||p.i.length!=0)&&(k(p.ka,v),k(p.ka,p.i),p.h.i.length=0,N(p.i),p.i.length=0),p.l.ra()}}function ed(p,v,w){var q=w instanceof pn?rn(w):new pn(w);if(q.g!="")v&&(q.g=v+"."+q.g),hr(q,q.s);else{var le=c.location;q=le.protocol,v=v?v+"."+le.hostname:le.hostname,le=+le.port;var Ee=new pn(null);q&&cr(Ee,q),v&&(Ee.g=v),le&&hr(Ee,le),w&&(Ee.l=w),q=Ee}return w=p.D,v=p.ya,w&&v&&xt(q,w,v),xt(q,"VER",p.la),Bo(p,q),q}function td(p,v,w){if(v&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=p.Ca&&!p.pa?new Ht(new Aa({eb:w})):new Ht(p.pa),v.Ha(p.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nd(){}t=nd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pu(){}Pu.prototype.g=function(p,v){return new Hr(p,v)};function Hr(p,v){ae.call(this),this.g=new Du(v),this.l=p,this.h=v&&v.messageUrlParams||null,p=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(p?p["X-WebChannel-Content-Type"]=v.messageContentType:p={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(p?p["X-WebChannel-Client-Profile"]=v.va:p={"X-WebChannel-Client-Profile":v.va}),this.g.S=p,(p=v&&v.Sb)&&!H(p)&&(this.g.m=p),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,p=this.h,p!==null&&v in p&&(p=this.h,v in p&&delete p[v])),this.j=new Es(this)}A(Hr,ae),Hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){vc(this.g)},Hr.prototype.o=function(p){var v=this.g;if(typeof p=="string"){var w={};w.__data__=p,p=w}else this.u&&(w={},w.__data__=St(p),p=w);v.i.push(new vn(v.Ya++,p)),v.G==3&&Lu(v)},Hr.prototype.N=function(){this.g.l=null,delete this.j,vc(this.g),delete this.g,Hr.aa.N.call(this)};function rd(p){Dr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var v=p.__sm__;if(v){e:{for(const w in v){p=w;break e}p=void 0}(this.i=p)&&(p=this.i,v=v!==null&&p in v?v[p]:void 0),this.data=v}else this.data=p}A(rd,Dr);function id(){vr.call(this),this.status=1}A(id,vr);function Es(p){this.g=p}A(Es,nd),Es.prototype.ua=function(){Te(this.g,"a")},Es.prototype.ta=function(p){Te(this.g,new rd(p))},Es.prototype.sa=function(p){Te(this.g,new id)},Es.prototype.ra=function(){Te(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,ix=function(){return new Pu},rx=function(){return si()},nx=Yr,zy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oi.NO_ERROR=0,oi.TIMEOUT=8,oi.HTTP_ERROR=6,km=oi,Mr.COMPLETE="complete",tx=Mr,br.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Dh=br,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,ex=Ht}).apply(typeof gm<"u"?gm:typeof self<"u"?self:typeof window<"u"?window:{});const _2="@firebase/firestore",T2="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new t1("@firebase/firestore");function Sl(){return pu.logLevel}function Ve(t,...e){if(pu.logLevel<=_t.DEBUG){const n=e.map(i1);pu.debug(`Firestore (${rc}): ${t}`,...n)}}function Ea(t,...e){if(pu.logLevel<=_t.ERROR){const n=e.map(i1);pu.error(`Firestore (${rc}): ${t}`,...n)}}function $l(t,...e){if(pu.logLevel<=_t.WARN){const n=e.map(i1);pu.warn(`Firestore (${rc}): ${t}`,...n)}}function i1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sx(t,r,n)}function sx(t,e,n){let r=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ea(r),new Error(r)}function zt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||sx(e,s,r)}function st(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ir.UNAUTHENTICATED))}shutdown(){}}class Z9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J9{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){zt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mo,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mo)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(zt(typeof r.accessToken=="string",31837,{l:r}),new ax(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zt(e===null||typeof e=="string",2055,{h:e}),new Ir(e)}}class eB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){zt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(zt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new b2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=rB(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function jy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ft(r,s);{const o=ox(),u=iB(o.encode(v2(t,n)),o.encode(v2(e,n)));return u!==0?u:ft(r,s)}}n+=r>65535?2:1}return ft(t.length,e.length)}function v2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function iB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ft(t[n],e[n]);return ft(t.length,e.length)}function Gl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=-62135596800,A2=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*A2);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S2)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A2}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{static fromTimestamp(e){return new rt(e)}static min(){return new rt(new fn(0,0))}static max(){return new rt(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="__name__";class Is{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&et(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Is.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ft(e.length,n.length)}static compareSegments(e,n){const r=Is.isNumericId(e),s=Is.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Is.extractNumericId(e).compare(Is.extractNumericId(n)):jy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fo.fromString(e.substring(4,e.length-2))}}class hn extends Is{construct(e,n,r){return new hn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(we.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new hn(n)}static emptyPath(){return new hn([])}}const sB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Is{construct(e,n,r){return new _r(e,n,r)}static isValidIdentifier(e){return sB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w2}static keyField(){return new _r([w2])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Fe(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Fe(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Fe(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new Fe(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(n)}static emptyPath(){return new _r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(hn.fromString(e))}static fromName(e){return new Xe(hn.fromString(e).popFirst(5))}static empty(){return new Xe(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return hn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new hn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=-1;function aB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=rt.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new yo(s,Xe.empty(),e)}function oB(t){return new yo(t.readTime,t.key,lf)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(rt.min(),Xe.empty(),lf)}static max(){return new yo(rt.max(),Xe.empty(),lf)}}function uB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==lB)throw t;Ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let s=0,o=0,u=!1;e.forEach(c=>{++s,c.next(()=>{++o,u&&o===s&&n()},f=>r(f))}),u=!0,o===s&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(s=>s?Ie.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next(m=>{u[d]=m,++c,c===o&&r(u)},m=>s(m))}})}static doWhile(e,n){return new Ie((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function hB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=-1;function Hp(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function fB(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="";function dB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I2(e)),e=mB(t.get(n),e);return I2(e)}function mB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case lx:n+="";break;default:n+=o}}return n}function I2(t){return t+lx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new Tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Em(this.root,e,this.comparator,!1)}getReverseIterator(){return new Em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Em(this.root,e,this.comparator,!0)}}class Em{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??yr.RED,this.left=s??yr.EMPTY,this.right=o??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new yr(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw et(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new Tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N2(this.data.getIterator())}getIteratorFrom(e){return new N2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qn(this.comparator);return n.data=e,n}}class N2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new _i([])}unionWith(e){let n=new Qn(_r.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _i(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hx("Invalid base64 string: "+o):o}}(e);return new Tr(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const pB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(zt(!!t,39018),typeof t=="string"){let e=0;const n=pB.exec(t);if(zt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(t.seconds),nanos:kn(t.nanos)}}function kn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="server_timestamp",dx="__type__",mx="__previous_value__",px="__local_write_time__";function a1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dx])===null||n===void 0?void 0:n.stringValue)===fx}function zp(t){const e=t.mapValue.fields[mx];return a1(e)?zp(e):e}function cf(t){const e=_o(t.mapValue.fields[px].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,n,r,s,o,u,c,f,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const ap="(default)";class hf{constructor(e,n){this.projectId=e,this.database=n||ap}static empty(){return new hf("","")}get isDefaultDatabase(){return this.database===ap}isEqual(e){return e instanceof hf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="__type__",EB="__max__",ym={mapValue:{}},Ex="__vector__",op="value";function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a1(t)?4:_B(t)?9007199254740991:yB(t)?10:11:et(28295,{value:t})}function Ms(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cf(t).isEqual(cf(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=_o(s.timestampValue),c=_o(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return To(s.bytesValue).isEqual(To(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return kn(s.geoPointValue.latitude)===kn(o.geoPointValue.latitude)&&kn(s.geoPointValue.longitude)===kn(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return kn(s.integerValue)===kn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=kn(s.doubleValue),c=kn(o.doubleValue);return u===c?sp(u)===sp(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return Gl(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(C2(u)!==C2(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!Ms(u[f],c[f])))return!1;return!0}(t,e);default:return et(52216,{left:t})}}function ff(t,e){return(t.values||[]).find(n=>Ms(n,e))!==void 0}function Kl(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(o,u){const c=kn(o.integerValue||o.doubleValue),f=kn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return x2(t.timestampValue,e.timestampValue);case 4:return x2(cf(t),cf(e));case 5:return jy(t.stringValue,e.stringValue);case 6:return function(o,u){const c=To(o),f=To(u);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const m=ft(c[d],f[d]);if(m!==0)return m}return ft(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const c=ft(kn(o.latitude),kn(u.latitude));return c!==0?c:ft(kn(o.longitude),kn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R2(t.arrayValue,e.arrayValue);case 10:return function(o,u){var c,f,d,m;const E=o.fields||{},_=u.fields||{},b=(c=E[op])===null||c===void 0?void 0:c.arrayValue,A=(f=_[op])===null||f===void 0?void 0:f.arrayValue,N=ft(((d=b?.values)===null||d===void 0?void 0:d.length)||0,((m=A?.values)===null||m===void 0?void 0:m.length)||0);return N!==0?N:R2(b,A)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===ym.mapValue&&u===ym.mapValue)return 0;if(o===ym.mapValue)return 1;if(u===ym.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let E=0;E<f.length&&E<m.length;++E){const _=jy(f[E],m[E]);if(_!==0)return _;const b=Kl(c[f[E]],d[m[E]]);if(b!==0)return b}return ft(f.length,m.length)}(t.mapValue,e.mapValue);default:throw et(23264,{Pe:n})}}function x2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=_o(t),r=_o(e),s=ft(n.seconds,r.seconds);return s!==0?s:ft(n.nanos,r.nanos)}function R2(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Kl(n[s],r[s]);if(o)return o}return ft(n.length,r.length)}function Xl(t){return qy(t)}function qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_o(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return To(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=qy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${qy(n.fields[u])}`;return s+"}"}(t.mapValue):et(61005,{value:t})}function Lm(t){switch(bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zp(t);return e?16+Lm(e):16;case 5:return 2*t.stringValue.length;case 6:return To(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Lm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ao(r.fields,(o,u)=>{s+=o.length+Lm(u)}),s}(t.mapValue);default:throw et(13486,{value:t})}}function O2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yy(t){return!!t&&"integerValue"in t}function o1(t){return!!t&&"arrayValue"in t}function D2(t){return!!t&&"nullValue"in t}function k2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mm(t){return!!t&&"mapValue"in t}function yB(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gx])===null||n===void 0?void 0:n.stringValue)===Ex}function Vh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _B(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vh(n)}setAll(e){let n=_r.emptyPath(),r={},s=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}u?r[c.lastSegment()]=Vh(u):s.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Mm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new ei(Vh(this.value))}}function yx(t){const e=[];return Ao(t.fields,(n,r)=>{const s=new _r([n]);if(Mm(r)){const o=yx(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new _i(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r,s,o,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Cr(e,0,rt.min(),rt.min(),rt.min(),ei.empty(),0)}static newFoundDocument(e,n,r,s){return new Cr(e,1,n,rt.min(),r,s,0)}static newNoDocument(e,n){return new Cr(e,2,n,rt.min(),rt.min(),ei.empty(),0)}static newUnknownDocument(e,n){return new Cr(e,3,n,rt.min(),rt.min(),ei.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.position=e,this.inclusive=n}}function L2(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=Xe.comparator(Xe.fromName(u.referenceValue),n.key):r=Kl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function M2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,n="asc"){this.field=e,this.dir=n}}function TB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{}class zn extends _x{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vB(e,n,r):n==="array-contains"?new wB(e,r):n==="in"?new IB(e,r):n==="not-in"?new CB(e,r):n==="array-contains-any"?new NB(e,r):new zn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SB(e,r):new AB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Kl(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class is extends _x{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new is(e,n)}matches(e){return Tx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Tx(t){return t.op==="and"}function bx(t){return bB(t)&&Tx(t)}function bB(t){for(const e of t.filters)if(e instanceof is)return!1;return!0}function $y(t){if(t instanceof zn)return t.field.canonicalString()+t.op.toString()+Xl(t.value);if(bx(t))return t.filters.map(e=>$y(e)).join(",");{const e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function vx(t,e){return t instanceof zn?function(r,s){return s instanceof zn&&r.op===s.op&&r.field.isEqual(s.field)&&Ms(r.value,s.value)}(t,e):t instanceof is?function(r,s){return s instanceof is&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,c)=>o&&vx(u,s.filters[c]),!0):!1}(t,e):void et(19439)}function Sx(t){return t instanceof zn?function(n){return`${n.field.canonicalString()} ${n.op} ${Xl(n.value)}`}(t):t instanceof is?function(n){return n.op.toString()+" {"+n.getFilters().map(Sx).join(" ,")+"}"}(t):"Filter"}class vB extends zn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class SB extends zn{constructor(e,n){super(e,"in",n),this.keys=Ax("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class AB extends zn{constructor(e,n){super(e,"not-in",n),this.keys=Ax("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ax(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class wB extends zn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o1(n)&&ff(n.arrayValue,this.value)}}class IB extends zn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ff(this.value.arrayValue,n)}}class CB extends zn{constructor(e,n){super(e,"not-in",n)}matches(e){if(ff(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ff(this.value.arrayValue,n)}}class NB extends zn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ff(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Ie=null}}function P2(t,e=null,n=[],r=[],s=null,o=null,u=null){return new xB(t,e,n,r,s,o,u)}function u1(t){const e=st(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xl(r)).join(",")),e.Ie=n}return e.Ie}function l1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!M2(t.startAt,e.startAt)&&M2(t.endAt,e.endAt)}function Gy(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function RB(t,e,n,r,s,o,u,c){return new ac(t,e,n,r,s,o,u,c)}function wx(t){return new ac(t)}function B2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ix(t){return t.collectionGroup!==null}function Fh(t){const e=st(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Qn(_r.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new df(o,r))}),n.has(_r.keyField().canonicalString())||e.Ee.push(new df(_r.keyField(),r))}return e.Ee}function Os(t){const e=st(t);return e.de||(e.de=OB(e,Fh(t))),e.de}function OB(t,e){if(t.limitType==="F")return P2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new df(s.field,o)});const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;return P2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ky(t,e){const n=t.filters.concat([e]);return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xy(t,e,n){return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return l1(Os(t),Os(e))&&t.limitType===e.limitType}function Cx(t){return`${u1(Os(t))}|lt:${t.limitType}`}function Al(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Sx(s)).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xl(s)).join(",")),`Target(${r})`}(Os(t))}; limitType=${t.limitType})`}function qp(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Fh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,c,f){const d=L2(u,c,f);return u.inclusive?d<=0:d<0}(r.startAt,Fh(r),s)||r.endAt&&!function(u,c,f){const d=L2(u,c,f);return u.inclusive?d>=0:d>0}(r.endAt,Fh(r),s))}(t,e)}function DB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nx(t){return(e,n)=>{let r=!1;for(const s of Fh(t)){const o=kB(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function kB(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Kl(f,d):et(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return cx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=new Tn(Xe.comparator);function ya(){return LB}const xx=new Tn(Xe.comparator);function kh(...t){let e=xx;for(const n of t)e=e.insert(n.key,n);return e}function Rx(t){let e=xx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ou(){return Hh()}function Ox(){return Hh()}function Hh(){return new vu(t=>t.toString(),(t,e)=>t.isEqual(e))}const MB=new Tn(Xe.comparator),PB=new Qn(Xe.comparator);function Tt(...t){let e=PB;for(const n of t)e=e.add(n);return e}const BB=new Qn(ft);function UB(){return BB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function Dx(t){return{integerValue:""+t}}function VB(t,e){return fB(e)?Dx(e):c1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this._=void 0}}function FB(t,e,n){return t instanceof lp?function(s,o){const u={fields:{[dx]:{stringValue:fx},[px]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&a1(o)&&(o=zp(o)),o&&(u.fields[mx]=o),{mapValue:u}}(n,e):t instanceof mf?Lx(t,e):t instanceof pf?Mx(t,e):function(s,o){const u=kx(s,o),c=U2(u)+U2(s.Re);return Yy(u)&&Yy(s.Re)?Dx(c):c1(s.serializer,c)}(t,e)}function HB(t,e,n){return t instanceof mf?Lx(t,e):t instanceof pf?Mx(t,e):n}function kx(t,e){return t instanceof cp?function(r){return Yy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lp extends Yp{}class mf extends Yp{constructor(e){super(),this.elements=e}}function Lx(t,e){const n=Px(e);for(const r of t.elements)n.some(s=>Ms(s,r))||n.push(r);return{arrayValue:{values:n}}}class pf extends Yp{constructor(e){super(),this.elements=e}}function Mx(t,e){let n=Px(e);for(const r of t.elements)n=n.filter(s=>!Ms(s,r));return{arrayValue:{values:n}}}class cp extends Yp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function U2(t){return kn(t.integerValue||t.doubleValue)}function Px(t){return o1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof mf&&s instanceof mf||r instanceof pf&&s instanceof pf?Gl(r.elements,s.elements,Ms):r instanceof cp&&s instanceof cp?Ms(r.Re,s.Re):r instanceof lp&&s instanceof lp}(t.transform,e.transform)}class jB{constructor(e,n){this.version=e,this.transformResults=n}}class bi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $p{}function Bx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gp(t.key,bi.none()):new xf(t.key,t.data,bi.none());{const n=t.data,r=ei.empty();let s=new Qn(_r.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new wo(t.key,r,new _i(s.toArray()),bi.none())}}function qB(t,e,n){t instanceof xf?function(s,o,u){const c=s.value.clone(),f=F2(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(s,o,u){if(!Pm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=F2(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(Ux(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function zh(t,e,n,r){return t instanceof xf?function(o,u,c,f){if(!Pm(o.precondition,u))return c;const d=o.value.clone(),m=H2(o.fieldTransforms,f,u);return d.setAll(m),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(o,u,c,f){if(!Pm(o.precondition,u))return c;const d=H2(o.fieldTransforms,f,u),m=u.data;return m.setAll(Ux(o)),m.setAll(d),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(o,u,c){return Pm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function YB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=kx(r.transform,s||null);o!=null&&(n===null&&(n=ei.empty()),n.set(r.field,o))}return n||null}function V2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gl(r,s,(o,u)=>zB(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xf extends $p{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class wo extends $p{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Ux(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function F2(t,e,n){const r=new Map;zt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,HB(u,c,n[s]))}return r}function H2(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,FB(o,u,e))}return r}class Gp extends $p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $B extends $p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&qB(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ox();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=n.has(s.key)?null:c;const f=Bx(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(n,r)=>V2(n,r))&&Gl(this.baseMutations,e.baseMutations,(n,r)=>V2(n,r))}}class h1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){zt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return MB}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new h1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn,Nt;function QB(t){switch(t){case we.OK:return et(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return et(15467,{code:t})}}function Vx(t){if(t===void 0)return Ea("GRPC error has no .code"),we.UNKNOWN;switch(t){case Vn.OK:return we.OK;case Vn.CANCELLED:return we.CANCELLED;case Vn.UNKNOWN:return we.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return we.INTERNAL;case Vn.UNAVAILABLE:return we.UNAVAILABLE;case Vn.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Vn.NOT_FOUND:return we.NOT_FOUND;case Vn.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Vn.ABORTED:return we.ABORTED;case Vn.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Vn.DATA_LOSS:return we.DATA_LOSS;default:return et(39323,{code:t})}}(Nt=Vn||(Vn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=new fo([4294967295,4294967295],0);function z2(t){const e=ox().encode(t),n=new JN;return n.update(e),new Uint8Array(n.digest())}function j2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fo([n,r],0),new fo([s,o],0)]}class f1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lh(`Invalid padding: ${n}`);if(r<0)throw new Lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=fo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(fo.fromNumber(r)));return s.compare(WB)===1&&(s=new fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=z2(e),[r,s]=j2(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new f1(o,s,n);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const n=z2(e),[r,s]=j2(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kp(rt.min(),s,new Tn(ft),ya(),Tt())}}class Rf{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rf(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Fx{constructor(e,n){this.targetId=e,this.Ce=n}}class Hx{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class q2{constructor(){this.Fe=0,this.Me=Y2(),this.xe=Tr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Tt(),n=Tt(),r=Tt();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:et(38017,{changeType:o})}}),new Rf(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Y2()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,zt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ZB{constructor(e){this.ze=e,this.je=new Map,this.He=ya(),this.Je=_m(),this.Ye=_m(),this.Ze=new Tn(ft)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:et(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(Gy(o))if(r===0){const u=new Xe(o.path);this.tt(n,u,Cr.newNoDocument(u,rt.min()))}else zt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const c=this.ct(e),f=c?this.lt(c,e,u):1;if(f!==0){this.st(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,c;try{u=To(r).toUint8Array()}catch(f){if(f instanceof hx)return $l("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new f1(u,s,o)}catch(f){return $l(f instanceof Lh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,u)=>{const c=this._t(u);if(c){if(o.current&&Gy(c.target)){const f=new Xe(c.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Cr.newNoDocument(f,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=Tt();this.Ye.forEach((o,u)=>{let c=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new Kp(e,n,this.Ze,this.He,r);return this.He=ya(),this.Je=_m(),this.Ye=_m(),this.Ze=new Tn(ft),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new q2,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Qn(ft),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Qn(ft),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ve("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new q2),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function _m(){return new Tn(Xe.comparator)}function Y2(){return new Tn(Xe.comparator)}const JB={asc:"ASCENDING",desc:"DESCENDING"},eU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tU={and:"AND",or:"OR"};class nU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qy(t,e){return t.useProto3Json||Hp(e)?e:{value:e}}function hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rU(t,e){return hp(t,e.toTimestamp())}function Ds(t){return zt(!!t,49232),rt.fromTimestamp(function(n){const r=_o(n);return new fn(r.seconds,r.nanos)}(t))}function d1(t,e){return Wy(t,e).canonicalString()}function Wy(t,e){const n=function(s){return new hn(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jx(t){const e=hn.fromString(t);return zt(Kx(e),10190,{key:e.toString()}),e}function Zy(t,e){return d1(t.databaseId,e.path)}function zE(t,e){const n=jx(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(Yx(n))}function qx(t,e){return d1(t.databaseId,e)}function iU(t){const e=jx(t);return e.length===4?hn.emptyPath():Yx(e)}function Jy(t){return new hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yx(t){return zt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $2(t,e,n){return{name:Zy(t,e),fields:n.value.mapValue.fields}}function sU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:et(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(zt(m===void 0||typeof m=="string",58123),Tr.fromBase64String(m||"")):(zt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Tr.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const m=d.code===void 0?we.UNKNOWN:Vx(d.code);return new Fe(m,d.message||"")}(u);n=new Hx(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zE(t,r.document.name),o=Ds(r.document.updateTime),u=r.document.createTime?Ds(r.document.createTime):rt.min(),c=new ei({mapValue:{fields:r.document.fields}}),f=Cr.newFoundDocument(s,o,u,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new Bm(d,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zE(t,r.document),o=r.readTime?Ds(r.readTime):rt.min(),u=Cr.newNoDocument(s,o),c=r.removedTargetIds||[];n=new Bm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zE(t,r.document),o=r.removedTargetIds||[];n=new Bm([],o,s,null)}else{if(!("filter"in e))return et(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new XB(s,o),c=r.targetId;n=new Fx(c,u)}}return n}function aU(t,e){let n;if(e instanceof xf)n={update:$2(t,e.key,e.value)};else if(e instanceof Gp)n={delete:Zy(t,e.key)};else if(e instanceof wo)n={update:$2(t,e.key,e.data),updateMask:pU(e.fieldMask)};else{if(!(e instanceof $B))return et(16599,{ft:e.type});n={verify:Zy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const c=u.transform;if(c instanceof lp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof mf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof cp)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw et(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:rU(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:et(27497)}(t,e.precondition)),n}function oU(t,e){return t&&t.length>0?(zt(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?Ds(s.updateTime):Ds(o);return u.isEqual(rt.min())&&(u=Ds(o)),new jB(u,s.transformResults||[])}(n,e))):[]}function uU(t,e){return{documents:[qx(t,e.path)]}}function lU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qx(t,s);const o=function(d){if(d.length!==0)return Gx(is.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(m=>function(_){return{field:wl(_.field),direction:fU(_.dir)}}(m))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=Qy(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function cU(t){let e=iU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){zt(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(E){const _=$x(E);return _ instanceof is&&bx(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(E){return E.map(_=>function(A){return new df(Il(A.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(E){let _;return _=typeof E=="object"?E.value:E,Hp(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(E){const _=!!E.before,b=E.values||[];return new up(b,_)}(n.startAt));let d=null;return n.endAt&&(d=function(E){const _=!E.before,b=E.values||[];return new up(b,_)}(n.endAt)),RB(e,s,u,o,c,"F",f,d)}function hU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $x(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Il(n.unaryFilter.field);return zn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Il(n.unaryFilter.field);return zn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(n.unaryFilter.field);return zn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Il(n.unaryFilter.field);return zn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return et(61313);default:return et(60726)}}(t):t.fieldFilter!==void 0?function(n){return zn.create(Il(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return et(58110);default:return et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return is.create(n.compositeFilter.filters.map(r=>$x(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return et(1026)}}(n.compositeFilter.op))}(t):et(30097,{filter:t})}function fU(t){return JB[t]}function dU(t){return eU[t]}function mU(t){return tU[t]}function wl(t){return{fieldPath:t.canonicalString()}}function Il(t){return _r.fromServerFormat(t.fieldPath)}function Gx(t){return t instanceof zn?function(n){if(n.op==="=="){if(k2(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(D2(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k2(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(D2(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:dU(n.op),value:n.value}}}(t):t instanceof is?function(n){const r=n.getFilters().map(s=>Gx(s));return r.length===1?r[0]:{compositeFilter:{op:mU(n.op),filters:r}}}(t):et(54877,{filter:t})}function pU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r,s,o=rt.min(),u=rt.min(),c=Tr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.wt=e}}function EU(t){const e=cU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.Cn=new _U}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(yo.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class _U{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qn(hn.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qn(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xx=41943040;class Zr{static withCacheSize(e){return new Zr(e,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(Xx,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ql(0)}static lr(){return new Ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="LruGarbageCollector",TU=1048576;function X2([t,e],[n,r]){const s=ft(t,n);return s===0?ft(e,r):s}class bU{constructor(e){this.Er=e,this.buffer=new Qn(X2),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ve(K2,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sc(n)?Ve(K2,"Ignoring IndexedDB error during garbage collection: ",n):await ic(n)}await this.mr(3e5)})}}class SU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ie.resolve(Fp.le);const r=new bU(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(G2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G2):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,o,u,c,f,d;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,u=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(r=E,c=Date.now(),this.removeTargets(e,r,n))).next(E=>(o=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(d=Date.now(),Sl()<=_t.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${E} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:E})))}}function AU(t,e){return new SU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.changes=new vu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&zh(r.mutation,s,_i.empty(),fn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const s=ou();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let u=kh();return o.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ou();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,s){let o=ya();const u=Hh(),c=function(){return Hh()}();return n.forEach((f,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof wo)?o=o.insert(d.key,d):m!==void 0?(u.set(d.key,m.mutation.getFieldMask()),zh(m.mutation,d,m.mutation.getFieldMask(),fn.now())):u.set(d.key,_i.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,m)=>u.set(d,m)),n.forEach((d,m)=>{var E;return c.set(d,new IU(m,(E=u.get(d))!==null&&E!==void 0?E:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Hh();let s=new Tn((u,c)=>u-c),o=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(f=>{const d=n.get(f);if(d===null)return;let m=r.get(f)||_i.empty();m=c.applyToLocalView(d,m),r.set(f,m);const E=(s.get(c.batchId)||Tt()).add(f);s=s.insert(c.batchId,E)})}).next(()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,m=f.value,E=Ox();m.forEach(_=>{if(!o.has(_)){const b=Bx(n.get(_),r.get(_));b!==null&&E.set(_,b),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,E))}return Ie.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return Xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ix(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):Ie.resolve(ou());let c=lf,f=o;return u.next(d=>Ie.forEach(d,(m,E)=>(c<E.largestBatchId&&(c=E.largestBatchId),o.get(m)?Ie.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{f=f.insert(m,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Tt())).next(m=>({batchId:c,changes:Rx(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next(r=>{let s=kh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=kh();return this.indexManager.getCollectionParents(e,o).next(c=>Ie.forEach(c,f=>{const d=function(E,_){return new ac(_,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(m=>{m.forEach((E,_)=>{u=u.insert(E,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(u=>{o.forEach((f,d)=>{const m=d.getKey();u.get(m)===null&&(u=u.insert(m,Cr.newInvalidDocument(m)))});let c=kh();return u.forEach((f,d)=>{const m=o.get(f);m!==void 0&&zh(m.mutation,d,_i.empty(),fn.now()),qp(n,d)&&(c=c.insert(f,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ds(s.createTime)}}(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:EU(s.bundledQuery),readTime:Ds(s.readTime)}}(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.overlays=new Tn(Xe.comparator),this.Qr=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ou();return Ie.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const s=ou(),o=n.length+1,u=new Xe(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Ie.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Tn((d,m)=>d-m);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=o.get(d.largestBatchId);m===null&&(m=ou(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=ou(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=s)););return Ie.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new KB(n,r));let o=this.Qr.get(n);o===void 0&&(o=Tt(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.$r=new Qn(or.Ur),this.Kr=new Qn(or.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new or(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new or(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Xe(new hn([])),r=new or(n,e),s=new or(n,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Xe(new hn([])),r=new or(n,e),s=new or(n,e+1);let o=Tt();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new or(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class or{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Xe.comparator(e.key,n.key)||ft(e.Zr,n.Zr)}static Wr(e,n){return ft(e.Zr,n.Zr)||Xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Qn(or.Ur)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new GB(o,n,r,s);this.mutationQueue.push(u);for(const c of s)this.Xr=this.Xr.add(new or(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ie.resolve(u)}lookupMutationBatch(e,n){return Ie.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),o=s<0?0:s;return Ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?s1:this.nr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new or(n,0),s=new or(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const c=this.ei(u.Zr);o.push(c)}),Ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(ft);return n.forEach(s=>{const o=new or(s,0),u=new or(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],c=>{r=r.add(c.Zr)})}),Ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Xe.isDocumentKey(o)||(o=o.child(""));const u=new or(new Xe(o),0);let c=new Qn(ft);return this.Xr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Zr)),!0)},u),Ie.resolve(this.ni(c))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){zt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return Ie.forEach(n.mutations,s=>{const o=new or(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new or(n,0),s=this.Xr.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.ii=e,this.docs=function(){return new Tn(Xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():Cr.newInvalidDocument(n))}getEntries(e,n){let r=ya();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Cr.newInvalidDocument(s))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=ya();const u=n.path,c=new Xe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||uB(oB(m),r)<=0||(s.has(m.key)||qp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,n,r,s){et(9500)}si(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kU(this)}getSize(e){return Ie.resolve(this.size)}}class kU extends wU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e){this.persistence=e,this.oi=new vu(n=>u1(n),l1),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this._i=0,this.ai=new m1,this.targetCount=0,this.ui=Ql.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),Ie.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ql(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.Tr(n),Ie.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.oi.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Ie.waitFor(o).next(()=>s)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),Ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.ci={},this.overlays={},this.li=new Fp(0),this.hi=!1,this.hi=!0,this.Pi=new RU,this.referenceDelegate=e(this),this.Ti=new LU(this),this.indexManager=new yU,this.remoteDocumentCache=function(s){return new DU(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gU(n),this.Ei=new NU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new OU(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ve("MemoryPersistence","Starting transaction:",e);const s=new MU(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return Ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class MU extends cB{constructor(e){super(),this.currentSequenceNumber=e}}class p1{constructor(e){this.persistence=e,this.Vi=new m1,this.mi=null}static fi(e){return new p1(e)}get gi(){if(this.mi)return this.mi;throw et(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.gi,r=>{const s=Xe.fromPath(r);return this.pi(e,s).next(o=>{o||n.removeEntry(s,rt.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return Ie.or([()=>Ie.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class fp{constructor(e,n){this.persistence=e,this.yi=new vu(r=>dB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=AU(this,n)}static fi(e,n){return new fp(e,n)}di(){}Ai(e){return Ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return Ie.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?Ie.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,n).next(c=>{c||(r++,o.removeEntry(u,rt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ie.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),Ie.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lm(e.data.value)),n}Dr(e,n,r){return Ie.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return Ie.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Tt(),s=Tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new g1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return O8()?8:hB(xr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ws(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.bs(e,n,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new PU;return this.Ss(e,n,u).next(c=>{if(o.result=c,this.fs)return this.Ds(e,n,u,c.size)})}).next(()=>o.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Sl()<=_t.DEBUG&&Ve("QueryEngine","SDK will not create cache indexes for query:",Al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),Ie.resolve()):(Sl()<=_t.DEBUG&&Ve("QueryEngine","Query:",Al(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Sl()<=_t.DEBUG&&Ve("QueryEngine","The SDK decides to create cache indexes for query:",Al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Os(n))):Ie.resolve())}ws(e,n){if(B2(n))return Ie.resolve(null);let r=Os(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xy(n,null,"F"),r=Os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Tt(...o);return this.ys.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.vs(n,c);return this.Cs(n,d,u,f.readTime)?this.ws(e,Xy(n,null,"F")):this.Fs(e,d,n,f)}))})))}bs(e,n,r,s){return B2(n)||s.isEqual(rt.min())?Ie.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(n,o);return this.Cs(n,u,r,s)?Ie.resolve(null):(Sl()<=_t.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Al(n)),this.Fs(e,u,n,aB(s,lf)).next(c=>c))})}vs(e,n){let r=new Qn(Nx(e));return n.forEach((s,o)=>{qp(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return Sl()<=_t.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Al(n)),this.ys.getDocumentsMatchingQuery(e,n,yo.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="LocalStore",UU=3e8;class VU{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Tn(ft),this.Os=new vu(o=>u1(o),l1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function FU(t,e,n,r){return new VU(t,e,n,r)}async function Wx(t,e){const n=st(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let f=Tt();for(const d of s){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next(d=>({ks:d,removedBatchIds:u,addedBatchIds:c}))})})}function HU(t,e){const n=st(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,f,d,m){const E=d.batch,_=E.keys();let b=Ie.resolve();return _.forEach(A=>{b=b.next(()=>m.getEntry(f,A)).next(N=>{const k=d.docVersions.get(A);zt(k!==null,48541),N.version.compareTo(k)<0&&(E.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),m.addEntry(N)))})}),b.next(()=>c.mutationQueue.removeMutationBatch(f,E))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Tt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Zx(t){const e=st(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function zU(t,e){const n=st(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const c=[];e.targetChanges.forEach((m,E)=>{const _=s.get(E);if(!_)return;c.push(n.Ti.removeMatchingKeys(o,m.removedDocuments,E).next(()=>n.Ti.addMatchingKeys(o,m.addedDocuments,E)));let b=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?b=b.withResumeToken(Tr.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),s=s.insert(E,b),function(N,k,D){return N.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=UU?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(_,b,m)&&c.push(n.Ti.updateTargetData(o,b))});let f=ya(),d=Tt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(jU(o,u,e.documentUpdates).next(m=>{f=m.qs,d=m.Qs})),!r.isEqual(rt.min())){const m=n.Ti.getLastRemoteSnapshotVersion(o).next(E=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return Ie.waitFor(c).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(n.xs=s,o))}function jU(t,e,n){let r=Tt(),s=Tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=ya();return n.forEach((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(rt.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):Ve(E1,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function qU(t,e){const n=st(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=s1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YU(t,e){const n=st(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(o=>o?(s=o,Ie.resolve(s)):n.Ti.allocateTargetId(r).next(u=>(s=new ao(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function e_(t,e,n){const r=st(t),s=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!sc(u))throw u;Ve(E1,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Q2(t,e,n){const r=st(t);let s=rt.min(),o=Tt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,m){const E=st(f),_=E.Os.get(m);return _!==void 0?Ie.resolve(E.xs.get(_)):E.Ti.getTargetData(d,m)}(r,u,Os(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,c.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?s:rt.min(),n?o:Tt())).next(c=>($U(r,DB(e),c),{documents:c,$s:o})))}function $U(t,e,n){let r=t.Ns.get(e)||rt.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}class W2{constructor(){this.activeTargetIds=UB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GU{constructor(){this.xo=new W2,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new W2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="ConnectivityMonitor";class J2{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ve(Z2,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ve(Z2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function t_(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="RestConnection",XU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===ap?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,o){const u=t_(),c=this.jo(e,n.toUriEncodedString());Ve(jE,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:d}=new URL(c),m=bu(d);return this.Jo(e,c,f,r,m).then(E=>(Ve(jE,`Received RPC '${e}' ${u}: `,E),E),E=>{throw $l(jE,`RPC '${e}' ${u} failed with error: `,E,"url: ",c,"request:",r),E})}Yo(e,n,r,s,o,u){return this.zo(e,n,r,s,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const r=XU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class ZU extends QU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const u=t_();return new Promise((c,f)=>{const d=new ex;d.setWithCredentials(!0),d.listenOnce(tx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case km.NO_ERROR:const E=d.getResponseJson();Ve(wr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),c(E);break;case km.TIMEOUT:Ve(wr,`RPC '${e}' ${u} timed out`),f(new Fe(we.DEADLINE_EXCEEDED,"Request time out"));break;case km.HTTP_ERROR:const _=d.getStatus();if(Ve(wr,`RPC '${e}' ${u} failed with status:`,_,"response text:",d.getResponseText()),_>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const A=b?.error;if(A&&A.status&&A.message){const N=function(D){const H=D.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(H)>=0?H:we.UNKNOWN}(A.status);f(new Fe(N,A.message))}else f(new Fe(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Fe(we.UNAVAILABLE,"Connection failed."));break;default:et(9055,{h_:e,streamId:u,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{Ve(wr,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);Ve(wr,`RPC '${e}' ${u} sending request:`,s),d.send(n,"POST",m,r,15)})}I_(e,n,r){const s=t_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ix(),c=rx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=o.join("");Ve(wr,`Creating RPC '${e}' stream ${s}: ${m}`,f);const E=u.createWebChannel(m,f);this.E_(E);let _=!1,b=!1;const A=new WU({Zo:k=>{b?Ve(wr,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(_||(Ve(wr,`Opening RPC '${e}' stream ${s} transport.`),E.open(),_=!0),Ve(wr,`RPC '${e}' stream ${s} sending:`,k),E.send(k))},Xo:()=>E.close()}),N=(k,D,H)=>{k.listen(D,Y=>{try{H(Y)}catch(z){setTimeout(()=>{throw z},0)}})};return N(E,Dh.EventType.OPEN,()=>{b||(Ve(wr,`RPC '${e}' stream ${s} transport opened.`),A.__())}),N(E,Dh.EventType.CLOSE,()=>{b||(b=!0,Ve(wr,`RPC '${e}' stream ${s} transport closed`),A.u_(),this.d_(E))}),N(E,Dh.EventType.ERROR,k=>{b||(b=!0,$l(wr,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),A.u_(new Fe(we.UNAVAILABLE,"The operation could not be completed")))}),N(E,Dh.EventType.MESSAGE,k=>{var D;if(!b){const H=k.data[0];zt(!!H,16349);const Y=H,z=Y?.error||((D=Y[0])===null||D===void 0?void 0:D.error);if(z){Ve(wr,`RPC '${e}' stream ${s} received error:`,z);const ee=z.status;let $=function(O){const M=Vn[O];if(M!==void 0)return Vx(M)}(ee),R=z.message;$===void 0&&($=we.INTERNAL,R="Unknown error status: "+ee+" with message "+z.message),b=!0,A.u_(new Fe($,R)),E.close()}else Ve(wr,`RPC '${e}' stream ${s} received:`,H),A.c_(H)}}),N(c,nx.STAT_EVENT,k=>{k.stat===zy.PROXY?Ve(wr,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===zy.NOPROXY&&Ve(wr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function qE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){return new nU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&Ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="PersistentStream";class eR{constructor(e,n,r,s,o,u,c,f){this.xi=e,this.S_=r,this.D_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Jx(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===we.RESOURCE_EXHAUSTED?(Ea(n.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Fe(we.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ve(ew,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ve(ew,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JU extends eR{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=sU(this.serializer,e),r=function(o){if(!("targetChange"in o))return rt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?rt.min():u.readTime?Ds(u.readTime):rt.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Jy(this.serializer),n.addTarget=function(o,u){let c;const f=u.target;if(c=Gy(f)?{documents:uU(o,f)}:{query:lU(o,f).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=zx(o,u.resumeToken);const d=Qy(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(rt.min())>0){c.readTime=hp(o,u.snapshotVersion.toTimestamp());const d=Qy(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=hU(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Jy(this.serializer),n.removeTarget=e,this.Q_(n)}}class e7 extends eR{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=oU(e.writeResults,e.commitTime),r=Ds(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Jy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aU(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{}class n7 extends t7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Wy(n,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(we.UNKNOWN,o.toString())})}Yo(e,n,r,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Yo(e,Wy(n,r),s,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Fe(we.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class r7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ea(n),this.ua=!1):Ve("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="RemoteStore";class i7{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(u=>{r.enqueueAndForget(async()=>{Su(this)&&(Ve(gu,"Restarting streams for network reachability change."),await async function(f){const d=st(f);d.da.add(4),await Of(d),d.Va.set("Unknown"),d.da.delete(4),await Qp(d)}(this))})}),this.Va=new r7(r,s)}}async function Qp(t){if(Su(t))for(const e of t.Aa)await e(!0)}async function Of(t){for(const e of t.Aa)await e(!1)}function tR(t,e){const n=st(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),b1(n)?T1(n):oc(n).N_()&&_1(n,e))}function y1(t,e){const n=st(t),r=oc(n);n.Ea.delete(e),r.N_()&&nR(n,e),n.Ea.size===0&&(r.N_()?r.k_():Su(n)&&n.Va.set("Unknown"))}function _1(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).Z_(e)}function nR(t,e){t.ma.Ke(e),oc(t).X_(e)}function T1(t){t.ma=new ZB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.Va.ca()}function b1(t){return Su(t)&&!oc(t).O_()&&t.Ea.size>0}function Su(t){return st(t).da.size===0}function rR(t){t.ma=void 0}async function s7(t){t.Va.set("Online")}async function a7(t){t.Ea.forEach((e,n)=>{_1(t,e)})}async function o7(t,e){rR(t),b1(t)?(t.Va.Pa(e),T1(t)):t.Va.set("Unknown")}async function u7(t,e,n){if(t.Va.set("Online"),e instanceof Hx&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ea.delete(c),s.ma.removeTarget(c))}(t,e)}catch(r){Ve(gu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dp(t,r)}else if(e instanceof Bm?t.ma.Xe(e):e instanceof Fx?t.ma.ot(e):t.ma.nt(e),!n.isEqual(rt.min()))try{const r=await Zx(t.localStore);n.compareTo(r)>=0&&await function(o,u){const c=o.ma.It(u);return c.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ea.get(d);m&&o.Ea.set(d,m.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,d)=>{const m=o.Ea.get(f);if(!m)return;o.Ea.set(f,m.withResumeToken(Tr.EMPTY_BYTE_STRING,m.snapshotVersion)),nR(o,f);const E=new ao(m.target,f,d,m.sequenceNumber);_1(o,E)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Ve(gu,"Failed to raise snapshot:",r),await dp(t,r)}}async function dp(t,e,n){if(!sc(e))throw e;t.da.add(1),await Of(t),t.Va.set("Offline"),n||(n=()=>Zx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ve(gu,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Qp(t)})}function iR(t,e){return e().catch(n=>dp(t,n,e))}async function Wp(t){const e=st(t),n=vo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:s1;for(;l7(e);)try{const s=await qU(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,c7(e,s)}catch(s){await dp(e,s)}sR(e)&&aR(e)}function l7(t){return Su(t)&&t.Ia.length<10}function c7(t,e){t.Ia.push(e);const n=vo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function sR(t){return Su(t)&&!vo(t).O_()&&t.Ia.length>0}function aR(t){vo(t).start()}async function h7(t){vo(t).ia()}async function f7(t){const e=vo(t);for(const n of t.Ia)e.ta(n.mutations)}async function d7(t,e,n){const r=t.Ia.shift(),s=h1.from(r,e,n);await iR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wp(t)}async function m7(t,e){e&&vo(t).ea&&await async function(r,s){if(function(u){return QB(u)&&u!==we.ABORTED}(s.code)){const o=r.Ia.shift();vo(r).L_(),await iR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Wp(r)}}(t,e),sR(t)&&aR(t)}async function tw(t,e){const n=st(t);n.asyncQueue.verifyOperationInProgress(),Ve(gu,"RemoteStore received new credentials");const r=Su(n);n.da.add(3),await Of(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Qp(n)}async function p7(t,e){const n=st(t);e?(n.da.delete(2),await Qp(n)):e||(n.da.add(2),await Of(n),n.Va.set("Unknown"))}function oc(t){return t.fa||(t.fa=function(n,r,s){const o=st(n);return o.oa(),new JU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:s7.bind(null,t),n_:a7.bind(null,t),i_:o7.bind(null,t),Y_:u7.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),b1(t)?T1(t):t.Va.set("Unknown")):(await t.fa.stop(),rR(t))})),t.fa}function vo(t){return t.ga||(t.ga=function(n,r,s){const o=st(n);return o.oa(),new e7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:h7.bind(null,t),i_:m7.bind(null,t),na:f7.bind(null,t),ra:d7.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Wp(t)):(await t.ga.stop(),t.Ia.length>0&&(Ve(gu,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,c=new v1(e,n,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S1(t,e){if(Ea("AsyncQueue",`${e}: ${t}`),sc(t))return new Fe(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=kh(),this.sortedSet=new Tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.pa=new Tn(Xe.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):et(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wl{constructor(e,n,r,s,o,u,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new Wl(e,n,Ml.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class E7{constructor(){this.queries=rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=st(n),o=s.queries;s.queries=rw(),o.forEach((u,c)=>{for(const f of c.Sa)f.onError(r)})})(this,new Fe(we.ABORTED,"Firestore shutting down"))}}function rw(){return new vu(t=>Cx(t),jp)}async function y7(t,e){const n=st(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Da()&&e.va()&&(r=2):(o=new g7,r=e.va()?0:1);try{switch(r){case 0:o.ba=await n.onListen(s,!0);break;case 1:o.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const c=S1(u,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&A1(n)}async function _7(t,e){const n=st(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.va()?0:1:!o.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T7(t,e){const n=st(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const c of u.Sa)c.Ma(s)&&(r=!0);u.ba=s}}r&&A1(n)}function b7(t,e,n){const r=st(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function A1(t){t.Ca.forEach(e=>{e.next()})}var n_,iw;(iw=n_||(n_={})).xa="default",iw.Cache="cache";class v7{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==n_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.key=e}}class uR{constructor(e){this.key=e}}class S7{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Tt(),this.mutatedKeys=Tt(),this.Za=Nx(e),this.Xa=new Ml(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new nw,s=n?n.Xa:this.Xa;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,E)=>{const _=s.get(m),b=qp(this.query,E)?E:null,A=!!_&&this.mutatedKeys.has(_.key),N=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let k=!1;_&&b?_.data.isEqual(b.data)?A!==N&&(r.track({type:3,doc:b}),k=!0):this.ru(_,b)||(r.track({type:2,doc:b}),k=!0,(f&&this.Za(b,f)>0||d&&this.Za(b,d)<0)&&(c=!0)):!_&&b?(r.track({type:0,doc:b}),k=!0):_&&!b&&(r.track({type:1,doc:_}),k=!0,(f||d)&&(c=!0)),k&&(b?(u=u.add(b),o=N?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Xa:u,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((m,E)=>function(b,A){const N=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et(20277,{Vt:k})}};return N(b)-N(A)}(m.type,E.type)||this.Za(m.doc,E.doc)),this.iu(r),s=s!=null&&s;const c=n&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Ja;return this.Ja=f,u.length!==0||d?{snapshot:new Wl(this.query,e.Xa,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new nw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Tt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new uR(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new oR(r))}),n}au(e){this.Ha=e.$s,this.Ya=Tt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Wl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const w1="SyncEngine";class A7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class w7{constructor(e){this.key=e,this.cu=!1}}class I7{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new vu(c=>Cx(c),jp),this.Pu=new Map,this.Tu=new Set,this.Iu=new Tn(Xe.comparator),this.Eu=new Map,this.du=new m1,this.Au={},this.Ru=new Map,this.Vu=Ql.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function C7(t,e,n=!0){const r=mR(t);let s;const o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.uu()):s=await lR(r,e,n,!0),s}async function N7(t,e){const n=mR(t);await lR(n,e,!0,!1)}async function lR(t,e,n,r){const s=await YU(t.localStore,Os(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await x7(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&tR(t.remoteStore,s),c}async function x7(t,e,n,r,s){t.fu=(E,_,b)=>async function(N,k,D,H){let Y=k.view.tu(D);Y.Cs&&(Y=await Q2(N.localStore,k.query,!1).then(({documents:R})=>k.view.tu(R,Y)));const z=H&&H.targetChanges.get(k.targetId),ee=H&&H.targetMismatches.get(k.targetId)!=null,$=k.view.applyChanges(Y,N.isPrimaryClient,z,ee);return aw(N,k.targetId,$.ou),$.snapshot}(t,E,_,b);const o=await Q2(t.localStore,e,!0),u=new S7(e,o.$s),c=u.tu(o.documents),f=Rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=u.applyChanges(c,t.isPrimaryClient,f);aw(t,n,d.ou);const m=new A7(e,n,u);return t.hu.set(e,m),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function R7(t,e,n){const r=st(t),s=r.hu.get(e),o=r.Pu.get(s.targetId);if(o.length>1)return r.Pu.set(s.targetId,o.filter(u=>!jp(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await e_(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&y1(r.remoteStore,s.targetId),r_(r,s.targetId)}).catch(ic)):(r_(r,s.targetId),await e_(r.localStore,s.targetId,!0))}async function O7(t,e){const n=st(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y1(n.remoteStore,r.targetId))}async function D7(t,e,n){const r=V7(t);try{const s=await function(u,c){const f=st(u),d=fn.now(),m=c.reduce((b,A)=>b.add(A.key),Tt());let E,_;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=ya(),N=Tt();return f.Bs.getEntries(b,m).next(k=>{A=k,A.forEach((D,H)=>{H.isValidDocument()||(N=N.add(D))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,A)).next(k=>{E=k;const D=[];for(const H of c){const Y=YB(H,E.get(H.key).overlayedDocument);Y!=null&&D.push(new wo(H.key,Y,yx(Y.value.mapValue),bi.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,D,c)}).next(k=>{_=k;const D=k.applyToLocalDocumentSet(E,N);return f.documentOverlayCache.saveOverlays(b,k.batchId,D)})}).then(()=>({batchId:_.batchId,changes:Rx(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,f){let d=u.Au[u.currentUser.toKey()];d||(d=new Tn(ft)),d=d.insert(c,f),u.Au[u.currentUser.toKey()]=d}(r,s.batchId,n),await Df(r,s.changes),await Wp(r.remoteStore)}catch(s){const o=S1(s,"Failed to persist write");n.reject(o)}}async function cR(t,e){const n=st(t);try{const r=await zU(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n.Eu.get(o);u&&(zt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.cu=!0:s.modifiedDocuments.size>0?zt(u.cu,14607):s.removedDocuments.size>0&&(zt(u.cu,42227),u.cu=!1))}),await Df(n,r,e)}catch(r){await ic(r)}}function sw(t,e,n){const r=st(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((o,u)=>{const c=u.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(u,c){const f=st(u);f.onlineState=c;let d=!1;f.queries.forEach((m,E)=>{for(const _ of E.Sa)_.Fa(c)&&(d=!0)}),d&&A1(f)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k7(t,e,n){const r=st(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),o=s&&s.key;if(o){let u=new Tn(Xe.comparator);u=u.insert(o,Cr.newNoDocument(o,rt.min()));const c=Tt().add(o),f=new Kp(rt.min(),new Map,new Tn(ft),u,c);await cR(r,f),r.Iu=r.Iu.remove(o),r.Eu.delete(e),I1(r)}else await e_(r.localStore,e,!1).then(()=>r_(r,e,n)).catch(ic)}async function L7(t,e){const n=st(t),r=e.batch.batchId;try{const s=await HU(n.localStore,e);fR(n,r,null),hR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Df(n,s)}catch(s){await ic(s)}}async function M7(t,e,n){const r=st(t);try{const s=await function(u,c){const f=st(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return f.mutationQueue.lookupMutationBatch(d,c).next(E=>(zt(E!==null,37113),m=E.keys(),f.mutationQueue.removeMutationBatch(d,E))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>f.localDocuments.getDocuments(d,m))})}(r.localStore,e);fR(r,e,n),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Df(r,s)}catch(s){await ic(s)}}function hR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function fR(t,e,n){const r=st(t);let s=r.Au[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function r_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||dR(t,r)})}function dR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(y1(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),I1(t))}function aw(t,e,n){for(const r of n)r instanceof oR?(t.du.addReference(r.key,e),P7(t,r)):r instanceof uR?(Ve(w1,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||dR(t,r.key)):et(19791,{pu:r})}function P7(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ve(w1,"New document in limbo: "+n),t.Tu.add(r),I1(t))}function I1(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Xe(hn.fromString(e)),r=t.Vu.next();t.Eu.set(r,new w7(n)),t.Iu=t.Iu.insert(n,r),tR(t.remoteStore,new ao(Os(wx(n.path)),r,"TargetPurposeLimboResolution",Fp.le))}}async function Df(t,e,n){const r=st(t),s=[],o=[],u=[];r.hu.isEmpty()||(r.hu.forEach((c,f)=>{u.push(r.fu(f,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const E=d?!d.fromCache:(m=n?.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(d){s.push(d);const E=g1.Rs(f.targetId,d);o.push(E)}}))}),await Promise.all(u),r.lu.Y_(s),await async function(f,d){const m=st(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Ie.forEach(d,_=>Ie.forEach(_.ds,b=>m.persistence.referenceDelegate.addReference(E,_.targetId,b)).next(()=>Ie.forEach(_.As,b=>m.persistence.referenceDelegate.removeReference(E,_.targetId,b)))))}catch(E){if(!sc(E))throw E;Ve(E1,"Failed to update sequence numbers: "+E)}for(const E of d){const _=E.targetId;if(!E.fromCache){const b=m.xs.get(_),A=b.snapshotVersion,N=b.withLastLimboFreeSnapshotVersion(A);m.xs=m.xs.insert(_,N)}}}(r.localStore,o))}async function B7(t,e){const n=st(t);if(!n.currentUser.isEqual(e)){Ve(w1,"User change. New user:",e.toKey());const r=await Wx(n.localStore,e);n.currentUser=e,function(o,u){o.Ru.forEach(c=>{c.forEach(f=>{f.reject(new Fe(we.CANCELLED,u))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Df(n,r.ks)}}function U7(t,e){const n=st(t),r=n.Eu.get(e);if(r&&r.cu)return Tt().add(r.key);{let s=Tt();const o=n.Pu.get(e);if(!o)return s;for(const u of o){const c=n.hu.get(u);s=s.unionWith(c.view.eu)}return s}}function mR(t){const e=st(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k7.bind(null,e),e.lu.Y_=T7.bind(null,e.eventManager),e.lu.gu=b7.bind(null,e.eventManager),e}function V7(t){const e=st(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M7.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return FU(this.persistence,new BU,e.initialUser,this.serializer)}Su(e){return new Qx(p1.fi,this.serializer)}bu(e){return new GU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class F7 extends mp{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){zt(this.persistence.referenceDelegate instanceof fp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vU(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new Qx(r=>fp.fi(r,n),this.serializer)}}class i_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B7.bind(null,this.syncEngine),await p7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E7}()}createDatastore(e){const n=Xp(e.databaseInfo.databaseId),r=function(o){return new ZU(o)}(e.databaseInfo);return function(o,u,c,f){return new n7(o,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,u,c){return new i7(r,s,o,u,c)}(this.localStore,this.datastore,e.asyncQueue,n=>sw(this.syncEngine,n,0),function(){return J2.C()?new J2:new KU}())}createSyncEngine(e,n){return function(s,o,u,c,f,d,m){const E=new I7(s,o,u,c,f,d);return m&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=st(s);Ve(gu,"RemoteStore shutting down."),o.da.add(5),await Of(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}i_.provider={build:()=>new i_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ea("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="FirestoreClient";class z7{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ir.UNAUTHENTICATED,this.clientId=ux.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ve(So,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ve(So,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function YE(t,e){t.asyncQueue.verifyOperationInProgress(),Ve(So,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Wx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ow(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j7(t);Ve(So,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>tw(e.remoteStore,s)),t._onlineComponents=e}async function j7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ve(So,"Using user provided OfflineComponentProvider");try{await YE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===we.FAILED_PRECONDITION||s.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$l("Error using user provided cache. Falling back to memory cache: "+n),await YE(t,new mp)}}else Ve(So,"Using default OfflineComponentProvider"),await YE(t,new F7(void 0));return t._offlineComponents}async function pR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ve(So,"Using user provided OnlineComponentProvider"),await ow(t,t._uninitializedComponentsProvider._online)):(Ve(So,"Using default OnlineComponentProvider"),await ow(t,new i_))),t._onlineComponents}function q7(t){return pR(t).then(e=>e.syncEngine)}async function Y7(t){const e=await pR(t),n=e.eventManager;return n.onListen=C7.bind(null,e.syncEngine),n.onUnlisten=R7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=N7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=O7.bind(null,e.syncEngine),n}function $7(t,e,n={}){const r=new mo;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,c,f,d){const m=new H7({next:_=>{m.xu(),u.enqueueAndForget(()=>_7(o,E)),_.fromCache&&f.source==="server"?d.reject(new Fe(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),E=new v7(c,m,{includeMetadataChanges:!0,Qa:!0});return y7(o,E)}(await Y7(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e,n){if(!n)throw new Fe(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function G7(t,e,n,r){if(e===!0&&r===!0)throw new Fe(we.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lw(t){if(!Xe.isDocumentKey(t))throw new Fe(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cw(t){if(Xe.isDocumentKey(t))throw new Fe(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et(12329,{type:typeof t})}function Eu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zp(t);throw new Fe(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firestore.googleapis.com",hw=!0;class fw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yR,this.ssl=hw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:hw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TU)throw new Fe(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Fe(we.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W9;switch(r.type){case"firstParty":return new tB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uw.get(n);r&&(Ve("ComponentProvider","Removing Datastore"),uw.delete(n),r.terminate())}(this),Promise.resolve()}}function K7(t,e,n,r={}){var s;t=Eu(t,Jp);const o=bu(e),u=t._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;o&&(J_(`https://${f}`),e1("Firestore",!0)),u.host!==yR&&u.host!==f&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!du(d,c)&&(t._setSettings(d),r.mockUserToken)){let m,E;if(typeof r.mockUserToken=="string")m=r.mockUserToken,E=Ir.MOCK_USER;else{m=v8(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ir(_)}t._authCredentials=new Z9(new ax(m,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Au(this.firestore,e,this._query)}}class vi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class po extends Au{constructor(e,n,r){super(e,n,wx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new Xe(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function C1(t,e,...n){if(t=In(t),ER("collection","path",e),t instanceof Jp){const r=hn.fromString(e,...n);return cw(r),new po(t,null,r)}{if(!(t instanceof vi||t instanceof po))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return cw(r),new po(t.firestore,null,r)}}function uc(t,e,...n){if(t=In(t),arguments.length===1&&(e=ux.newId()),ER("doc","path",e),t instanceof Jp){const r=hn.fromString(e,...n);return lw(r),new vi(t,null,new Xe(r))}{if(!(t instanceof vi||t instanceof po))throw new Fe(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return lw(r),new vi(t.firestore,t instanceof po?t.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="AsyncQueue";class mw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Jx(this,"async_queue_retry"),this.rc=()=>{const r=qE();r&&Ve(dw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=qE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=qE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new mo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!sc(e))throw e;Ve(dw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Ea("INTERNAL UNHANDLED ERROR: ",pw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=v1.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(s),s}oc(){this.Xu&&et(47125,{cc:pw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function pw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class kf extends Jp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new mw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mw(e),this._firestoreClient=void 0,await e}}}function X7(t,e){const n=typeof t=="object"?t:r1(),r=typeof t=="string"?t:ap,s=Vp(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=YN("firestore");o&&K7(s,...o)}return s}function N1(t){if(t._terminated)throw new Fe(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q7(t),t._firestoreClient}function Q7(t){var e,n,r;const s=t._freezeSettings(),o=function(c,f,d,m){return new gB(c,f,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,gR(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new z7(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const f=c?._online.build();return{_offline:c?._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zl(Tr.fromBase64String(e))}catch(n){throw new Fe(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zl(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=/^__.*__$/;class Z7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new xf(e,this.data,n,this.fieldTransforms)}}class _R{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et(40011,{Ic:t})}}class D1{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new D1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return pp(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(TR(this.Ic)&&W7.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class J7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xp(e)}bc(e,n,r,s=!1){return new D1({Ic:e,methodName:n,wc:r,path:_r.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k1(t){const e=t._freezeSettings(),n=Xp(t._databaseId);return new J7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bR(t,e,n,r,s,o={}){const u=t.bc(o.merge||o.mergeFields?2:0,e,n,s);L1("Data must be an object, but it was:",u,r);const c=vR(r,u);let f,d;if(o.merge)f=new _i(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const E of o.mergeFields){const _=s_(e,E,n);if(!u.contains(_))throw new Fe(we.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);AR(m,_)||m.push(_)}f=new _i(m),d=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,d=u.fieldTransforms;return new Z7(new ei(c),f,d)}class t0 extends x1{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t0}}function eV(t,e,n,r){const s=t.bc(1,e,n);L1("Data must be an object, but it was:",s,r);const o=[],u=ei.empty();Ao(r,(f,d)=>{const m=M1(e,f,n);d=In(d);const E=s.mc(m);if(d instanceof t0)o.push(m);else{const _=Lf(d,E);_!=null&&(o.push(m),u.set(m,_))}});const c=new _i(o);return new _R(u,c,s.fieldTransforms)}function tV(t,e,n,r,s,o){const u=t.bc(1,e,n),c=[s_(e,r,n)],f=[s];if(o.length%2!=0)throw new Fe(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)c.push(s_(e,o[_])),f.push(o[_+1]);const d=[],m=ei.empty();for(let _=c.length-1;_>=0;--_)if(!AR(d,c[_])){const b=c[_];let A=f[_];A=In(A);const N=u.mc(b);if(A instanceof t0)d.push(b);else{const k=Lf(A,N);k!=null&&(d.push(b),m.set(b,k))}}const E=new _i(d);return new _R(m,E,u.fieldTransforms)}function nV(t,e,n,r=!1){return Lf(n,t.bc(r?4:3,e))}function Lf(t,e){if(SR(t=In(t)))return L1("Unsupported field value:",e,t),vR(t,e);if(t instanceof x1)return function(r,s){if(!TR(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const c of r){let f=Lf(c,s.fc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=fn.fromDate(r);return{timestampValue:hp(s.serializer,o)}}if(r instanceof fn){const o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(s.serializer,o)}}if(r instanceof R1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zl)return{bytesValue:zx(s.serializer,r._byteString)};if(r instanceof vi){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:d1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof O1)return function(u,c){return{mapValue:{fields:{[gx]:{stringValue:Ex},[op]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.gc("VectorValues must only contain numeric values.");return c1(c.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Zp(r)}`)}(t,e)}function vR(t,e){const n={};return cx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,s)=>{const o=Lf(s,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function SR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof R1||t instanceof Zl||t instanceof vi||t instanceof x1||t instanceof O1)}function L1(t,e,n){if(!SR(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Zp(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function s_(t,e,n){if((e=In(e))instanceof e0)return e._internalPath;if(typeof e=="string")return M1(t,e);throw pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const rV=new RegExp("[~\\*/\\[\\]]");function M1(t,e,n){if(e.search(rV)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new e0(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pp(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Fe(we.INVALID_ARGUMENT,c+t+f)}function AR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(n0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iV extends wR{data(){return super.data()}}function n0(t,e){return typeof e=="string"?M1(t,e):e instanceof e0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Fe(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P1{}class IR extends P1{}function aV(t,e,...n){let r=[];e instanceof P1&&r.push(e),r=r.concat(n),function(o){const u=o.filter(f=>f instanceof B1).length,c=o.filter(f=>f instanceof r0).length;if(u>1||u>0&&c>0)throw new Fe(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class r0 extends IR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new r0(e,n,r)}_apply(e){const n=this._parse(e);return CR(e._query,n),new Au(e.firestore,e.converter,Ky(e._query,n))}_parse(e){const n=k1(e.firestore);return function(o,u,c,f,d,m,E){let _;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Fe(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Ew(E,m);const A=[];for(const N of E)A.push(gw(f,o,N));_={arrayValue:{values:A}}}else _=gw(f,o,E)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Ew(E,m),_=nV(c,u,E,m==="in"||m==="not-in");return zn.create(d,m,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oV(t,e,n){const r=e,s=n0("where",t);return r0._create(s,r,n)}class B1 extends P1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new B1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:is.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const c=o.getFlattenedFilters();for(const f of c)CR(u,f),u=Ky(u,f)}(e._query,n),new Au(e.firestore,e.converter,Ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class U1 extends IR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new U1(e,n)}_apply(e){const n=function(s,o,u){if(s.startAt!==null)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Fe(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new df(o,u)}(e._query,this._field,this._direction);return new Au(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new ac(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function uV(t,e="asc"){const n=e,r=n0("orderBy",t);return U1._create(r,n)}function gw(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new Fe(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ix(e)&&n.indexOf("/")!==-1)throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hn.fromString(n));if(!Xe.isDocumentKey(r))throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O2(t,new Xe(r))}if(n instanceof vi)return O2(t,n._key);throw new Fe(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zp(n)}.`)}function Ew(t,e){if(!Array.isArray(t)||t.length===0)throw new Fe(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CR(t,e){const n=function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Fe(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lV{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw et(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[op].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>kn(u.doubleValue));return new O1(o)}convertGeoPoint(e){return new R1(kn(e.latitude),kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const n=_o(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hn.fromString(e);zt(Kx(r),9688,{name:e});const s=new hf(r.get(1),r.get(3)),o=new Xe(r.popFirst(5));return s.isEqual(n)||Ea(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cV extends wR{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Um(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(n0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Um extends cV{data(e={}){return super.data(e)}}class hV{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new bm(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Um(this._firestore,this._userDataWriter,r.key,r,new bm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(c=>{const f=new Um(s._firestore,s._userDataWriter,c.doc.key,c.doc,new bm(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const f=new Um(s._firestore,s._userDataWriter,c.doc.key,c.doc,new bm(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),m=u.indexOf(c.doc.key)),{type:fV(c.type),doc:f,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:t})}}class dV extends lV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,n)}}function V1(t){t=Eu(t,Au);const e=Eu(t.firestore,kf),n=N1(e),r=new dV(e);return sV(t._query),$7(n,t._query).then(s=>new hV(e,r,t,s))}function F1(t,e,n){t=Eu(t,vi);const r=Eu(t.firestore,kf),s=NR(t.converter,e,n);return H1(r,[bR(k1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,bi.none())])}function mV(t){return H1(Eu(t.firestore,kf),[new Gp(t._key,bi.none())])}function H1(t,e){return function(r,s){const o=new mo;return r.asyncQueue.enqueueAndForget(async()=>D7(await q7(r),s,o)),o.promise}(N1(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=k1(e)}set(e,n,r){this._verifyNotCommitted();const s=$E(e,this._firestore),o=NR(s.converter,n,r),u=bR(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,bi.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=$E(e,this._firestore);let u;return u=typeof(n=In(n))=="string"||n instanceof e0?tV(this._dataReader,"WriteBatch.update",o._key,n,r,s):eV(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(u.toMutation(o._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=$E(e,this._firestore);return this._mutations=this._mutations.concat(new Gp(n._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $E(t,e){if((t=In(t)).firestore!==e)throw new Fe(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){return N1(t=Eu(t,kf)),new pV(t,e=>H1(t,e))}(function(e,n=!0){(function(s){rc=s})(nc),mu(new Eo("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new kf(new J9(r.getProvider("auth-internal")),new nB(u,r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Fe(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hf(d.options.projectId,m)}(u,s),u);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Rs(_2,T2,e),Rs(_2,T2,"esm2017")})();function z1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function RR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gV=RR,OR=new Cf("auth","Firebase",RR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new t1("@firebase/auth");function EV(t,...e){gp.logLevel<=_t.WARN&&gp.warn(`Auth (${nc}): ${t}`,...e)}function Vm(t,...e){gp.logLevel<=_t.ERROR&&gp.error(`Auth (${nc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,...e){throw j1(t,...e)}function ks(t,...e){return j1(t,...e)}function DR(t,e,n){const r=Object.assign(Object.assign({},gV()),{[e]:n});return new Cf("auth","Firebase",r).create(e,{appName:t.name})}function fa(t){return DR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OR.create(t,...e)}function Je(t,e,...n){if(!t)throw j1(e,...n)}function ca(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vm(e),new Error(e)}function _a(t,e){t||ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yV(){return yw()==="http:"||yw()==="https:"}function yw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yV()||N8()||"connection"in navigator)?navigator.onLine:!0}function TV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,_a(n>e,"Short delay should be less than long delay!"),this.isMobile=w8()||x8()}get(){return _V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e){_a(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SV=new Mf(3e4,6e4);function Io(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Co(t,e,n,r,s={}){return LR(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Nf(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:f},o);return C8()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&bu(t.emulatorConfig.host)&&(d.credentials="include"),kR.fetch()(await MR(t,t.config.apiHost,n,c),d)})}async function LR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bV),e);try{const s=new wV(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw vm(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vm(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw vm(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw vm(t,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw DR(t,m,d);ss(t,m)}}catch(s){if(s instanceof Us)throw s;ss(t,"network-request-failed",{message:String(s)})}}async function Pf(t,e,n,r,s={}){const o=await Co(t,e,n,r,s);return"mfaPendingCredential"in o&&ss(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function MR(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?q1(t.config,s):`${t.config.apiScheme}://${s}`;return vV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function AV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ks(this.auth,"network-request-failed")),SV.get())})}}function vm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ks(t,e,r);return s.customData._tokenResponse=n,s}function _w(t){return t!==void 0&&t.enterprise!==void 0}class IV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CV(t,e){return Co(t,"GET","/v2/recaptchaConfig",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e){return Co(t,"POST","/v1/accounts:delete",e)}async function Ep(t,e){return Co(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xV(t,e=!1){const n=In(t),r=await n.getIdToken(e),s=Y1(r);Je(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:jh(GE(s.auth_time)),issuedAtTime:jh(GE(s.iat)),expirationTime:jh(GE(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function GE(t){return Number(t)*1e3}function Y1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vm("JWT malformed, contained fewer than 3 sections"),null;try{const s=jN(n);return s?JSON.parse(s):(Vm("Failed to decode base64 JWT payload"),null)}catch(s){return Vm("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Tw(t){const e=Y1(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Us&&RV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jh(this.lastLoginAt),this.creationTime=jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await gf(t,Ep(n,{idToken:r}));Je(s?.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?PR(o.providerUserInfo):[],c=kV(t.providerData,u),f=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,m=f?d:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new o_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,E)}async function DV(t){const e=In(t);await yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function PR(t){return t.map(e=>{var{providerId:n}=e,r=z1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e){const n=await LR(t,{},async()=>{const r=Nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await MR(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&bu(t.emulatorConfig.host)&&(f.credentials="include"),kR.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MV(t,e){return Co(t,"POST","/v2/accounts:revokeToken",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Je(e.length!==0,"internal-error");const n=Tw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await LV(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new Pl;return r&&(Je(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Je(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Je(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=z1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new o_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await gf(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xV(this,e)}reload(){return DV(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await gf(this,NV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,c,f,d,m;const E=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,D=(d=n.createdAt)!==null&&d!==void 0?d:void 0,H=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:Y,emailVerified:z,isAnonymous:ee,providerData:$,stsTokenManager:R}=n;Je(Y&&R,e,"internal-error");const x=Pl.fromJSON(this.name,R);Je(typeof Y=="string",e,"internal-error"),Ga(E,e.name),Ga(_,e.name),Je(typeof z=="boolean",e,"internal-error"),Je(typeof ee=="boolean",e,"internal-error"),Ga(b,e.name),Ga(A,e.name),Ga(N,e.name),Ga(k,e.name),Ga(D,e.name),Ga(H,e.name);const O=new rs({uid:Y,auth:e,email:_,emailVerified:z,displayName:E,isAnonymous:ee,photoURL:A,phoneNumber:b,tenantId:N,stsTokenManager:x,createdAt:D,lastLoginAt:H});return $&&Array.isArray($)&&(O.providerData=$.map(M=>Object.assign({},M))),k&&(O._redirectEventId=k),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new Pl;s.updateFromServerResponse(n);const o=new rs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Je(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?PR(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,c=new Pl;c.updateFromIdToken(r);const f=new rs({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new o_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Map;function ha(t){_a(t instanceof Function,"Expected a class definition");let e=bw.get(t);return e?(_a(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BR.type="NONE";const vw=BR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e,n){return`firebase:${t}:${e}:${n}`}class Bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Fm(this.userKey,s.apiKey,o),this.fullPersistenceKey=Fm("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ep(this.auth,{idToken:e}).catch(()=>{});return n?rs._fromGetAccountInfoResponse(this.auth,n,e):null}return rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bl(ha(vw),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||ha(vw);const u=Fm(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(u);if(m){let E;if(typeof m=="string"){const _=await Ep(e,{idToken:m}).catch(()=>{});if(!_)break;E=await rs._fromGetAccountInfoResponse(e,_,m)}else E=rs._fromJSON(e,m);d!==o&&(c=E),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Bl(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Bl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jR(e))return"Blackberry";if(qR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||FR(e))&&!e.includes("edge/"))return"Chrome";if(zR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function UR(t=xr()){return/firefox\//i.test(t)}function VR(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FR(t=xr()){return/crios\//i.test(t)}function HR(t=xr()){return/iemobile/i.test(t)}function zR(t=xr()){return/android/i.test(t)}function jR(t=xr()){return/blackberry/i.test(t)}function qR(t=xr()){return/webos/i.test(t)}function $1(t=xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PV(t=xr()){var e;return $1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BV(){return R8()&&document.documentMode===10}function YR(t=xr()){return $1(t)||zR(t)||qR(t)||jR(t)||/windows phone/i.test(t)||HR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e=[]){let n;switch(t){case"Browser":n=Sw(xr());break;case"Worker":n=`${Sw(xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t,e={}){return Co(t,"GET","/v2/passwordPolicy",Io(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=6;class HV{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:FV,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new UV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ha(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ep(this,{idToken:e}),r=await rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(fa(this));const n=e?In(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VV(this),n=new HV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ha(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[ha(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Je(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$R(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&EV(`Error while retrieving App Check token: ${n.error}`),n?.token}}function wu(t){return In(t)}class Aw{constructor(e){this.auth=e,this.observer=null,this.addObserver=U8(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jV(t){i0=t}function GR(t){return i0.loadJS(t)}function qV(){return i0.recaptchaEnterpriseScript}function YV(){return i0.gapiScript}function $V(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class GV{constructor(){this.enterprise=new KV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class KV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const XV="recaptcha-enterprise",KR="NO_RECAPTCHA";class QV{constructor(e){this.type=XV,this.auth=wu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{CV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new IV(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;_w(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(KR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GV().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!n&&_w(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=qV();f.length!==0&&(f+=c),GR(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function ww(t,e,n,r=!1,s=!1){const o=new QV(t);let u;if(s)u=KR;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function u_(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await ww(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ww(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t,e){const n=Vp(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(du(o,e??{}))return s;ss(s,"already-initialized")}return n.initialize({options:e})}function ZV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ha);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function JV(t,e,n){const r=wu(t);Je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=XR(e),{host:u,port:c}=eF(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},m=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Je(du(d,r.config.emulator)&&du(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,bu(u)?(J_(`${o}//${u}${f}`),e1("Auth",!0)):tF()}function XR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eF(t){const e=XR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Iw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Iw(u)}}}function Iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,n){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}async function nF(t,e){return Co(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e){return Pf(t,"POST","/v1/accounts:signInWithPassword",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e){return Pf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}async function sF(t,e){return Pf(t,"POST","/v1/accounts:signInWithEmailLink",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends G1{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ef(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ef(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,n,"signInWithPassword",rF);case"emailLink":return iF(e,{email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,r,"signUpPassword",nF);case"emailLink":return sF(e,{idToken:n,email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e){return Pf(t,"POST","/v1/accounts:signInWithIdp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="http://localhost";class yu extends G1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=z1(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new yu(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ul(e,n)}buildRequest(){const e={requestUri:aF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uF(t){const e=Rh(Oh(t)).link,n=e?Rh(Oh(e)).deep_link_id:null,r=Rh(Oh(t)).deep_link_id;return(r?Rh(Oh(r)).link:null)||r||n||e||t}class K1{constructor(e){var n,r,s,o,u,c;const f=Rh(Oh(e)),d=(n=f.apiKey)!==null&&n!==void 0?n:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,E=oF((s=f.mode)!==null&&s!==void 0?s:null);Je(d&&m&&E,"argument-error"),this.apiKey=d,this.operation=E,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=uF(e);try{return new K1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,n){return Ef._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=K1.parseLink(n);return Je(r,"argument-error"),Ef._fromEmailAndCode(e,r.code,r.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends QR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Bf{constructor(){super("facebook.com")}static credential(e){return yu._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yu._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return no.credential(n,r)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Bf{constructor(){super("github.com")}static credential(e){return yu._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch{return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Bf{constructor(){super("twitter.com")}static credential(e,n){return yu._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch{return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return Pf(t,"POST","/v1/accounts:signUp",Io(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await rs._fromIdTokenResponse(e,r,s),u=Cw(r);return new _u({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Cw(r);return new _u({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Cw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends Us{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_p.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new _p(e,n,r,s)}}function WR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(t,o,e,r):o})}async function cF(t,e,n=!1){const r=await gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _u._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hF(t,e,n=!1){const{auth:r}=t;if(yi(r.app))return Promise.reject(fa(r));const s="reauthenticate";try{const o=await gf(t,WR(r,s,e,t),n);Je(o.idToken,r,"internal-error");const u=Y1(o.idToken);Je(u,r,"internal-error");const{sub:c}=u;return Je(t.uid===c,r,"user-mismatch"),_u._forOperation(t,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&ss(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e,n=!1){if(yi(t.app))return Promise.reject(fa(t));const r="signIn",s=await WR(t,r,e),o=await _u._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function fF(t,e){return ZR(wu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t){const e=wu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dF(t,e,n){if(yi(t.app))return Promise.reject(fa(t));const r=wu(t),u=await u_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lF).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&JR(t),f}),c=await _u._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function mF(t,e,n){return yi(t.app)?Promise.reject(fa(t)):fF(In(t),lc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JR(t),r})}function pF(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function gF(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function EF(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}function yF(t){return In(t).signOut()}const Tp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tp,"1"),this.storage.removeItem(Tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=1e3,TF=10;class tO extends eO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);BV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,TF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_F)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tO.type="LOCAL";const bF=tO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO extends eO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nO.type="SESSION";const rO=nO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new s0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(n.origin,o)),f=await vF(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}s0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=X1("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(E){const _=E;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function AF(t){Ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function wF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function CF(){return iO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="firebaseLocalStorageDb",NF=1,bp="firebaseLocalStorage",aO="fbase_key";class Uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function a0(t,e){return t.transaction([bp],e?"readwrite":"readonly").objectStore(bp)}function xF(){const t=indexedDB.deleteDatabase(sO);return new Uf(t).toPromise()}function l_(){const t=indexedDB.open(sO,NF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bp,{keyPath:aO})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bp)?e(r):(r.close(),await xF(),e(await l_()))})})}async function Nw(t,e,n){const r=a0(t,!0).put({[aO]:e,value:n});return new Uf(r).toPromise()}async function RF(t,e){const n=a0(t,!1).get(e),r=await new Uf(n).toPromise();return r===void 0?null:r.value}function xw(t,e){const n=a0(t,!0).delete(e);return new Uf(n).toPromise()}const OF=800,DF=3;class oO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=s0._getInstance(CF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wF(),!this.activeServiceWorker)return;this.sender=new SF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l_();return await Nw(e,Tp,"1"),await xw(e,Tp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=a0(s,!1).getAll();return new Uf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oO.type="LOCAL";const kF=oO;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e){return e?ha(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1 extends G1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MF(t){return ZR(t.auth,new Q1(t),t.bypassAuthState)}function PF(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),hF(n,new Q1(t),t.bypassAuthState)}async function BF(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),cF(n,new Q1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MF;case"linkViaPopup":case"linkViaRedirect":return BF;case"reauthViaPopup":case"reauthViaRedirect":return PF;default:ss(this.auth,"internal-error")}}resolve(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new Mf(2e3,1e4);class xl extends uO{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){_a(this.filter.length===1,"Popup operations only handle one event");const e=X1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UF.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="pendingRedirect",Hm=new Map;class FF extends uO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hm.get(this.auth._key());if(!e){try{const r=await HF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hm.set(this.auth._key(),e)}return this.bypassAuthState||Hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HF(t,e){const n=qF(e),r=jF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function zF(t,e){Hm.set(t._key(),e)}function jF(t){return ha(t._redirectPersistence)}function qF(t){return Fm(VF,t.config.apiKey,t.name)}async function YF(t,e,n=!1){if(yi(t.app))return Promise.reject(fa(t));const r=wu(t),s=LF(r,e),u=await new FF(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=10*60*1e3;class GF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lO(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ks(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$F&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rw(e))}saveEventToCache(e){this.cachedEventUids.add(Rw(e)),this.lastProcessedEventTime=Date.now()}}function Rw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function KF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e={}){return Co(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WF=/^https?/;async function ZF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XF(t);for(const n of e)try{if(JF(n))return}catch{}ss(t,"unauthorized-domain")}function JF(t){const e=a_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!WF.test(n))return!1;if(QF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=new Mf(3e4,6e4);function Ow(){const t=Ls().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tH(t){return new Promise((e,n)=>{var r,s,o;function u(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(ks(t,"network-request-failed"))},timeout:eH.get()})}if(!((s=(r=Ls().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Ls().gapi)===null||o===void 0)&&o.load)u();else{const c=$V("iframefcb");return Ls()[c]=()=>{gapi.load?u():n(ks(t,"network-request-failed"))},GR(`${YV()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw zm=null,e})}let zm=null;function nH(t){return zm=zm||tH(t),zm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=new Mf(5e3,15e3),iH="__/auth/iframe",sH="emulator/auth/iframe",aH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uH(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?q1(e,sH):`https://${t.config.authDomain}/${iH}`,r={apiKey:e.apiKey,appName:t.name,v:nc},s=oH.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nf(r).slice(1)}`}async function lH(t){const e=await nH(t),n=Ls().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:uH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aH,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=ks(t,"network-request-failed"),c=Ls().setTimeout(()=>{o(u)},rH.get());function f(){Ls().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hH=500,fH=600,dH="_blank",mH="http://localhost";class Dw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pH(t,e,n,r=hH,s=fH){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},cH),{width:r.toString(),height:s.toString(),top:o,left:u}),d=xr().toLowerCase();n&&(c=FR(d)?dH:n),UR(d)&&(e=e||mH,f.scrollbars="yes");const m=Object.entries(f).reduce((_,[b,A])=>`${_}${b}=${A},`,"");if(PV(d)&&c!=="_self")return gH(e||"",c),new Dw(null);const E=window.open(e||"",c,m);Je(E,t,"popup-blocked");try{E.focus()}catch{}return new Dw(E)}function gH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="__/auth/handler",yH="emulator/auth/handler",_H=encodeURIComponent("fac");async function kw(t,e,n,r,s,o){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nc,eventId:s};if(e instanceof QR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",B8(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,E]of Object.entries({}))u[m]=E}if(e instanceof Bf){const m=e.getScopes().filter(E=>E!=="");m.length>0&&(u.scopes=m.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),d=f?`#${_H}=${encodeURIComponent(f)}`:"";return`${TH(t)}?${Nf(c).slice(1)}${d}`}function TH({config:t}){return t.emulator?q1(t,yH):`https://${t.authDomain}/${EH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="webStorageSupport";class bH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rO,this._completeRedirectFn=YF,this._overrideRedirectResult=zF}async _openPopup(e,n,r,s){var o;_a((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await kw(e,n,r,a_(),s);return pH(e,u,X1())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await kw(e,n,r,a_(),s);return AF(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(_a(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lH(e),r=new GF(e);return n.register("authEvent",s=>(Je(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(KE,{type:KE},s=>{var o;const u=(o=s?.[0])===null||o===void 0?void 0:o[KE];u!==void 0&&n(!!u),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YR()||VR()||$1()}}const vH=bH;var Lw="@firebase/auth",Mw="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wH(t){mu(new Eo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Je(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$R(t)},d=new zV(r,s,o,f);return ZV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mu(new Eo("auth-internal",e=>{const n=wu(e.getProvider("auth").getImmediate());return(r=>new SH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(Lw,Mw,AH(t)),Rs(Lw,Mw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=5*60,CH=GN("authIdTokenMaxAge")||IH;let Pw=null;const NH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CH)return;const s=n?.token;Pw!==s&&(Pw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xH(t=r1()){const e=Vp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WV(t,{popupRedirectResolver:vH,persistence:[kF,bF,rO]}),r=GN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=NH(o.toString());gF(n,u,()=>u(n.currentUser)),pF(n,c=>u(c))}}const s=qN("auth");return s&&JV(n,`http://${s}`),n}function RH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=ks("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",RH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wH("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="type.googleapis.com/google.protobuf.Int64Value",DH="type.googleapis.com/google.protobuf.UInt64Value";function cO(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function vp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>vp(e));if(typeof t=="function"||typeof t=="object")return cO(t,e=>vp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Jl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case OH:case DH:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Jl(e)):typeof t=="function"||typeof t=="object"?cO(t,e=>Jl(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ni extends Us{constructor(e,n,r){super(`${W1}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,ni.prototype)}}function kH(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Sp(t,e){let n=kH(t),r=n,s;try{const o=e&&e.error;if(o){const u=o.status;if(typeof u=="string"){if(!Bw[u])return new ni("internal","internal");n=Bw[u],r=u}const c=o.message;typeof c=="string"&&(r=c),s=o.details,s!==void 0&&(s=Jl(s))}}catch{}return n==="ok"?null:new ni(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,yi(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(o=>this.auth=o,()=>{}),this.messaging||r.get().then(o=>this.messaging=o,()=>{}),this.appCheck||s?.get().then(o=>this.appCheck=o,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="us-central1",MH=/^data: (.*?)(?:\n|$)/;function PH(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new ni("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class BH{constructor(e,n,r,s,o=c_,u=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new LH(e,n,r,s),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(o);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=c_}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function UH(t,e,n){const r=bu(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(J_(t.emulatorOrigin),e1("Functions",!0))}function VH(t,e,n){const r=s=>HH(t,e,s,{});return r.stream=(s,o)=>jH(t,e,s,o),r}async function FH(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function hO(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function HH(t,e,n,r){const s=t._url(e);return zH(t,s,n,r)}async function zH(t,e,n,r){n=vp(n);const s={data:n},o=await hO(t,r),u=r.timeout||7e4,c=PH(u),f=await Promise.race([FH(e,s,o,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!f)throw new ni("cancelled","Firebase Functions instance was deleted.");const d=Sp(f.status,f.json);if(d)throw d;if(!f.json)throw new ni("internal","Response is not valid JSON object.");let m=f.json.data;if(typeof m>"u"&&(m=f.json.result),typeof m>"u")throw new ni("internal","Response is missing data field.");return{data:Jl(m)}}function jH(t,e,n,r){const s=t._url(e);return qH(t,s,n,r||{})}async function qH(t,e,n,r){var s;n=vp(n);const o={data:n},u=await hO(t,r);u["Content-Type"]="application/json",u.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(o),headers:u,signal:r?.signal})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const N=new ni("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const A=Sp(0,null);return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}let f,d;const m=new Promise((b,A)=>{f=b,d=A});(s=r?.signal)===null||s===void 0||s.addEventListener("abort",()=>{const b=new ni("cancelled","Request was cancelled.");d(b)});const E=c.body.getReader(),_=YH(E,f,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const b=_.getReader();return{async next(){const{value:A,done:N}=await b.read();return{value:A,done:N}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:m}}function YH(t,e,n,r){const s=(u,c)=>{const f=u.match(MH);if(!f)return;const d=f[1];try{const m=JSON.parse(d);if("result"in m){e(Jl(m.result));return}if("message"in m){c.enqueue(Jl(m.message));return}if("error"in m){const E=Sp(0,m);c.error(E),n(E);return}}catch(m){if(m instanceof ni){c.error(m),n(m);return}}},o=new TextDecoder;return new ReadableStream({start(u){let c="";return f();async function f(){if(r?.aborted){const d=new ni("cancelled","Request was cancelled");return u.error(d),n(d),Promise.resolve()}try{const{value:d,done:m}=await t.read();if(m){c.trim()&&s(c.trim(),u),u.close();return}if(r?.aborted){const _=new ni("cancelled","Request was cancelled");u.error(_),n(_),await t.cancel();return}c+=o.decode(d,{stream:!0});const E=c.split(`
`);c=E.pop()||"";for(const _ of E)_.trim()&&s(_.trim(),u);return f()}catch(d){const m=d instanceof ni?d:Sp(0,null);u.error(m),n(m)}}},cancel(){return t.cancel()}})}const Uw="@firebase/functions",Vw="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="auth-internal",GH="app-check-internal",KH="messaging-internal";function XH(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),o=n.getProvider($H),u=n.getProvider(KH),c=n.getProvider(GH);return new BH(s,o,u,c,r)};mu(new Eo(W1,e,"PUBLIC").setMultipleInstances(!0)),Rs(Uw,Vw,t),Rs(Uw,Vw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QH(t=r1(),e=c_){const r=Vp(In(t),W1).getImmediate({identifier:e}),s=YN("functions");return s&&fO(r,...s),r}function fO(t,e,n){UH(In(t),e,n)}function dO(t,e,n){return VH(In(t),e)}XH();const WH={apiKey:"AIzaSyAO9TXM7A0SNeiEXzYo27fW0wdTXqXDEyc",authDomain:"tinkproject-78374a.firebaseapp.com",projectId:"tinkproject-78374a",storageBucket:"tinkproject-78374a.firebasestorage.app",messagingSenderId:"785731389668",appId:"1:785731389668:web:f57803cf98bdd9bf5d84f1"},Z1=QN(WH),as=X7(Z1),Ap=xH(Z1),J1=QH(Z1,"us-central1");fO(J1,"localhost",5001);const Ai={BOARDS:"boards",NODES:"nodes",EDGES:"edges"},jr={CANNOT_DELETE_LAST_BOARD:"Cannot delete the last board!",BOARD_NOT_FOUND:"Board not found",SAVE_FAILED:"Failed to save changes",LOAD_FAILED:"Failed to load data",AUTH_REQUIRED:"Authentication required",NETWORK_ERROR:"Network error. Please check your connection.",FIRESTORE_INDEX_MISSING:"Database index is missing. Please create the required index in Firebase Console.",INVALID_EMAIL:"Please enter a valid email address",WEAK_PASSWORD:"Password must be at least 6 characters long",EMAIL_IN_USE:"This email is already registered",USER_NOT_FOUND:"No account found with this email",WRONG_PASSWORD:"Incorrect password",TOO_MANY_REQUESTS:"Too many failed attempts. Please try again later."};function ZH(){const[t,e]=j.useState(""),[n,r]=j.useState(""),[s,o]=j.useState(!1),[u,c]=j.useState(!1),[f,d]=j.useState(""),m=async _=>{_.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(jr.INVALID_EMAIL);if(n.length<6)throw new Error(jr.WEAK_PASSWORD);const A=await dF(Ap,t,n);console.log("User created successfully:",A.user.uid)}catch(b){console.error("Sign up error:",b);let A="Failed to create account";b.code==="auth/email-already-in-use"?A=jr.EMAIL_IN_USE:b.code==="auth/invalid-email"?A=jr.INVALID_EMAIL:b.code==="auth/weak-password"?A=jr.WEAK_PASSWORD:b.code==="auth/operation-not-allowed"?A="Email/password accounts are not enabled. Please contact support.":b.message&&(A=b.message),d(A)}finally{c(!1)}},E=async _=>{_.preventDefault(),c(!0),d("");try{if(!t||!n)throw new Error("Please fill in all fields");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error(jr.INVALID_EMAIL);const A=await mF(Ap,t,n);console.log("User signed in successfully:",A.user.uid)}catch(b){console.error("Sign in error:",b);let A="Failed to sign in";b.code==="auth/user-not-found"?A=jr.USER_NOT_FOUND:b.code==="auth/wrong-password"?A=jr.WRONG_PASSWORD:b.code==="auth/invalid-email"?A=jr.INVALID_EMAIL:b.code==="auth/user-disabled"?A="This account has been disabled. Please contact support.":b.code==="auth/too-many-requests"?A=jr.TOO_MANY_REQUESTS:b.message&&(A=b.message),d(A)}finally{c(!1)}};return te.jsx("div",{className:"auth-window-container",children:te.jsxs("div",{className:"auth-window",children:[te.jsxs("div",{className:"auth-window-header",children:[te.jsx("h2",{className:"auth-window-title",children:s?"Create Account":"Welcome Back"}),te.jsx("p",{className:"auth-window-subtitle",children:s?"Join the platform to start building your boards":"Sign in to access your boards and continue your work"})]}),te.jsxs("form",{onSubmit:s?m:E,className:"auth-form",children:[te.jsx("div",{className:"auth-input-group",children:te.jsx("input",{type:"email",placeholder:"Email address",value:t,onChange:_=>e(_.target.value),required:!0,className:"auth-input"})}),te.jsx("div",{className:"auth-input-group",children:te.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:_=>r(_.target.value),required:!0,className:"auth-input"})}),te.jsx("button",{type:"submit",disabled:u,className:`auth-submit-btn ${u?"loading":""}`,children:u?te.jsx("div",{className:"loading-spinner"}):s?"Create Account":"Sign In"}),f&&te.jsx("div",{className:"auth-error",children:f})]}),te.jsxs("div",{className:"auth-switch",children:[te.jsx("span",{className:"auth-switch-text",children:s?"Already have an account?":"Don't have an account?"}),te.jsx("button",{type:"button",onClick:()=>o(!s),className:"auth-switch-btn",children:s?"Sign In":"Sign Up"})]})]})})}var XE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Fw;function JH(){return Fw||(Fw=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",u=0;u<arguments.length;u++){var c=arguments[u];c&&(o=s(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var c in o)e.call(o,c)&&o[c]&&(u=s(u,c));return u}function s(o,u){return u?o?o+" "+u:o+u:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(XE)),XE.exports}var ez=JH();const ln=Tu(ez),cc=!!(typeof window<"u"&&window.document&&window.document.createElement);var h_=!1,f_=!1;try{var QE={get passive(){return h_=!0},get once(){return f_=h_=!0}};cc&&(window.addEventListener("test",QE,QE),window.removeEventListener("test",QE,!0))}catch{}function mO(t,e,n,r){if(r&&typeof r!="boolean"&&!f_){var s=r.once,o=r.capture,u=n;!f_&&s&&(u=n.__once||function c(f){this.removeEventListener(e,c,o),n.call(this,f)},n.__once=u),t.addEventListener(e,u,h_?r:o)}t.addEventListener(e,n,r)}function o0(t){return t&&t.ownerDocument||document}function d_(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}var Sm;function Hw(t){if((!Sm&&Sm!==0||t)&&cc){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Sm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Sm}function tz(){return j.useState(null)}function nz(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t},[t]),e}function m_(t){const e=nz(t);return j.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const zw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function rz(t,e){const n=zw(t),r=zw(e);return s=>{n&&n(s),r&&r(s)}}function pO(t,e){return j.useMemo(()=>rz(t,e),[t,e])}function iz(t){const e=j.useRef(t);return e.current=t,e}function sz(t){const e=iz(t);j.useEffect(()=>()=>e.current(),[])}function az(t){var e=o0(t);return e&&e.defaultView||window}function oz(t,e){return az(t).getComputedStyle(t,e)}var uz=/([A-Z])/g;function lz(t){return t.replace(uz,"-$1").toLowerCase()}var cz=/^ms-/;function Am(t){return lz(t).replace(cz,"-ms-")}var hz=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function fz(t){return!!(t&&hz.test(t))}function cu(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Am(e))||oz(t).getPropertyValue(Am(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?t.style.removeProperty(Am(s)):fz(s)?r+=s+"("+o+") ":n+=Am(s)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function wp(t,e,n,r){return mO(t,e,n,r),function(){d_(t,e,n,r)}}function dz(t,e,n,r){if(r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function mz(t){var e=cu(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function pz(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||dz(t,"transitionend",!0)},e+n),o=wp(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),o()}}function gO(t,e,n,r){n==null&&(n=mz(t)||0);var s=pz(t,n,r),o=wp(t,"transitionend",e);return function(){s(),o()}}function WE(t){t===void 0&&(t=o0());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function jw(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function gz(){const t=j.useRef(!0),e=j.useRef(()=>t.current);return j.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function Ez(t){const e=j.useRef(t);return e.current=t,e}function yz(t){const e=Ez(t);j.useEffect(()=>()=>e.current(),[])}function _z(t){const e=j.useRef(null);return j.useEffect(()=>{e.current=t}),e.current}function Tz(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t},[t]),e}function ru(t){const e=Tz(t);return j.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const bz="data-rr-ui-";function vz(t){return`${bz}${t}`}function Sz(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const qw=vz("modal-open");class eT{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return Sz(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(cu(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(qw,""),cu(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(qw),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const EO=j.createContext(cc?window:void 0);EO.Provider;function tT(){return j.useContext(EO)}const ZE=(t,e)=>cc?t==null?(e||o0()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function Az(t,e){const n=tT(),[r,s]=j.useState(()=>ZE(t,n?.document));if(!r){const o=ZE(t);o&&s(o)}return j.useEffect(()=>{},[e,r]),j.useEffect(()=>{const o=ZE(t);o!==r&&s(o)},[t,r]),r}const Yw=t=>!t||typeof t=="function"?t:e=>{t.current=e};function wz(t,e){const n=Yw(t),r=Yw(e);return s=>{n&&n(s),r&&r(s)}}function nT(t,e){return j.useMemo(()=>wz(t,e),[t,e])}const Iz=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Cz=typeof document<"u",$w=Cz||Iz?j.useLayoutEffect:j.useEffect;function Nz(t){return t.code==="Escape"||t.keyCode===27}function xz(){const t=j.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function u0(t){if(!t||typeof t=="function")return null;const{major:e}=xz();return e>=19?t.props.ref:t.ref}function Rz({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const o=j.useRef(null),u=j.useRef(e),c=ru(n);j.useEffect(()=>{e?u.current=!0:c(o.current)},[e,c]);const f=nT(o,u0(t)),d=j.cloneElement(t,{ref:f});return e?d:s||!u.current&&r?null:d}const Oz=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Dz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kz(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:s,onExiting:o,onExited:u,addEndListener:c,children:f}=t,d=Dz(t,Oz);const m=j.useRef(null),E=nT(m,u0(f)),_=z=>ee=>{z&&m.current&&z(m.current,ee)},b=j.useCallback(_(e),[e]),A=j.useCallback(_(n),[n]),N=j.useCallback(_(r),[r]),k=j.useCallback(_(s),[s]),D=j.useCallback(_(o),[o]),H=j.useCallback(_(u),[u]),Y=j.useCallback(_(c),[c]);return Object.assign({},d,{nodeRef:m},e&&{onEnter:b},n&&{onEntering:A},r&&{onEntered:N},s&&{onExit:k},o&&{onExiting:D},u&&{onExited:H},c&&{addEndListener:Y},{children:typeof f=="function"?(z,ee)=>f(z,Object.assign({},ee,{ref:E})):j.cloneElement(f,{ref:E})})}const Lz=["component"];function Mz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Pz=j.forwardRef((t,e)=>{let{component:n}=t,r=Mz(t,Lz);const s=kz(r);return te.jsx(n,Object.assign({ref:e},s))});function Bz({in:t,onTransition:e}){const n=j.useRef(null),r=j.useRef(!0),s=ru(e);return $w(()=>{if(!n.current)return;let o=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,s]),$w(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Uz({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[o,u]=j.useState(!e);e&&o&&u(!1);const c=Bz({in:!!e,onTransition:d=>{const m=()=>{d.isStale()||(d.in?r?.(d.element,d.initial):(u(!0),n?.(d.element)))};Promise.resolve(s(d)).then(m,E=>{throw d.in||u(!0),E})}}),f=nT(c,u0(t));return o&&!e?null:j.cloneElement(t,{ref:f})}function Gw(t,e,n){return t?te.jsx(Pz,Object.assign({},n,{component:t})):e?te.jsx(Uz,Object.assign({},n,{transition:e})):te.jsx(Rz,Object.assign({},n))}const Vz=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Fz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let JE;function Hz(t){return JE||(JE=new eT({ownerDocument:t?.document})),JE}function zz(t){const e=tT(),n=t||Hz(e),r=j.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:j.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:j.useCallback(s=>{r.current.backdrop=s},[])})}const yO=j.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:o,children:u,backdrop:c=!0,keyboard:f=!0,onBackdropClick:d,onEscapeKeyDown:m,transition:E,runTransition:_,backdropTransition:b,runBackdropTransition:A,autoFocus:N=!0,enforceFocus:k=!0,restoreFocus:D=!0,restoreFocusOptions:H,renderDialog:Y,renderBackdrop:z=Ge=>te.jsx("div",Object.assign({},Ge)),manager:ee,container:$,onShow:R,onHide:x=()=>{},onExit:O,onExited:M,onExiting:B,onEnter:U,onEntering:I,onEntered:L}=t,K=Fz(t,Vz);const V=tT(),Q=Az($),re=zz(ee),ie=gz(),S=_z(n),[J,oe]=j.useState(!n),P=j.useRef(null);j.useImperativeHandle(e,()=>re,[re]),cc&&!S&&n&&(P.current=WE(V?.document)),n&&J&&oe(!1);const pe=ru(()=>{if(re.add(),Pe.current=wp(document,"keydown",Se),Le.current=wp(document,"focus",()=>setTimeout(Ce),!0),R&&R(),N){var Ge,cn;const Ke=WE((Ge=(cn=re.dialog)==null?void 0:cn.ownerDocument)!=null?Ge:V?.document);re.dialog&&Ke&&!jw(re.dialog,Ke)&&(P.current=Ke,re.dialog.focus())}}),Ne=ru(()=>{if(re.remove(),Pe.current==null||Pe.current(),Le.current==null||Le.current(),D){var Ge;(Ge=P.current)==null||Ge.focus==null||Ge.focus(H),P.current=null}});j.useEffect(()=>{!n||!Q||pe()},[n,Q,pe]),j.useEffect(()=>{J&&Ne()},[J,Ne]),yz(()=>{Ne()});const Ce=ru(()=>{if(!k||!ie()||!re.isTopModal())return;const Ge=WE(V?.document);re.dialog&&Ge&&!jw(re.dialog,Ge)&&re.dialog.focus()}),He=ru(Ge=>{Ge.target===Ge.currentTarget&&(d?.(Ge),c===!0&&x())}),Se=ru(Ge=>{f&&Nz(Ge)&&re.isTopModal()&&(m?.(Ge),Ge.defaultPrevented||x())}),Le=j.useRef(),Pe=j.useRef(),Qe=(...Ge)=>{oe(!0),M?.(...Ge)};if(!Q)return null;const Rt=Object.assign({role:r,ref:re.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},K,{style:o,className:s,tabIndex:-1});let Ot=Y?Y(Rt):te.jsx("div",Object.assign({},Rt,{children:j.cloneElement(u,{role:"document"})}));Ot=Gw(E,_,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:O,onExiting:B,onExited:Qe,onEnter:U,onEntering:I,onEntered:L,children:Ot});let Dt=null;return c&&(Dt=z({ref:re.setBackdropRef,onClick:He}),Dt=Gw(b,A,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Dt})),te.jsx(te.Fragment,{children:Cl.createPortal(te.jsxs(te.Fragment,{children:[Dt,Ot]}),Q)})});yO.displayName="Modal";const jz=Object.assign(yO,{Manager:eT});function qz(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Yz(t,e){t.classList?t.classList.add(e):qz(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var $z=Function.prototype.bind.call(Function.prototype.call,[].slice);function gl(t,e){return $z(t.querySelectorAll(e))}function Kw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Gz(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Kw(t.className,e):t.setAttribute("class",Kw(t.className&&t.className.baseVal||"",e))}const El={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Kz extends eT{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,cu(n,{[e]:`${parseFloat(cu(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],cu(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(Yz(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";gl(n,El.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),gl(n,El.STICKY_CONTENT).forEach(o=>this.adjustAndStore(s,o,-e.scrollBarWidth)),gl(n,El.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(s,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();Gz(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";gl(n,El.FIXED_CONTENT).forEach(o=>this.restore(r,o)),gl(n,El.STICKY_CONTENT).forEach(o=>this.restore(s,o)),gl(n,El.NAVBAR_TOGGLER).forEach(o=>this.restore(s,o))}}let ey;function Xz(t){return ey||(ey=new Kz(t)),ey}function Qz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},p_(t,e)}function Wz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,p_(t,e)}var ty={exports:{}},ny,Xw;function Zz(){if(Xw)return ny;Xw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ny=t,ny}var ry,Qw;function Jz(){if(Qw)return ry;Qw=1;var t=Zz();function e(){}function n(){}return n.resetWarningCache=e,ry=function(){function r(u,c,f,d,m,E){if(E!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},ry}var Ww;function ej(){return Ww||(Ww=1,ty.exports=Jz()()),ty.exports}var tj=ej();const da=Tu(tj),Zw={disabled:!1},_O=ye.createContext(null);var nj=function(e){return e.scrollTop},Mh="unmounted",nu="exited",Ja="entering",iu="entered",g_="exiting",ba=function(t){Wz(e,t);function e(r,s){var o;o=t.call(this,r,s)||this;var u=s,c=u&&!u.isMounting?r.enter:r.appear,f;return o.appearStatus=null,r.in?c?(f=nu,o.appearStatus=Ja):f=iu:r.unmountOnExit||r.mountOnEnter?f=Mh:f=nu,o.state={status:f},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var u=s.in;return u&&o.status===Mh?{status:nu}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var o=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Ja&&u!==iu&&(o=Ja):(u===Ja||u===iu)&&(o=g_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,o,u,c;return o=u=c=s,s!=null&&typeof s!="number"&&(o=s.exit,u=s.enter,c=s.appear!==void 0?s.appear:u),{exit:o,enter:u,appear:c}},n.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===Ja){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Cl.findDOMNode(this);u&&nj(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===nu&&this.setState({status:Mh})},n.performEnter=function(s){var o=this,u=this.props.enter,c=this.context?this.context.isMounting:s,f=this.props.nodeRef?[c]:[Cl.findDOMNode(this),c],d=f[0],m=f[1],E=this.getTimeouts(),_=c?E.appear:E.enter;if(!s&&!u||Zw.disabled){this.safeSetState({status:iu},function(){o.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:Ja},function(){o.props.onEntering(d,m),o.onTransitionEnd(_,function(){o.safeSetState({status:iu},function(){o.props.onEntered(d,m)})})})},n.performExit=function(){var s=this,o=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:Cl.findDOMNode(this);if(!o||Zw.disabled){this.safeSetState({status:nu},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:g_},function(){s.props.onExiting(c),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:nu},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},n.setNextCallback=function(s){var o=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,o.nextCallback=null,s(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(s,o){this.setNextCallback(o);var u=this.props.nodeRef?this.props.nodeRef.current:Cl.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],d=f[0],m=f[1];this.props.addEndListener(d,m)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Mh)return null;var o=this.props,u=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=Qz(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ye.createElement(_O.Provider,{value:null},typeof u=="function"?u(s,c):ye.cloneElement(ye.Children.only(u),c))},e}(ye.Component);ba.contextType=_O;ba.propTypes={};function yl(){}ba.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yl,onEntering:yl,onEntered:yl,onExit:yl,onExiting:yl,onExited:yl};ba.UNMOUNTED=Mh;ba.EXITED=nu;ba.ENTERING=Ja;ba.ENTERED=iu;ba.EXITING=g_;function Jw(t,e){const n=cu(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function rj(t,e){const n=Jw(t,"transitionDuration"),r=Jw(t,"transitionDelay"),s=gO(t,o=>{o.target===t&&(s(),e(o))},n+r)}function ij(t){t.offsetHeight}function sj(t){return t&&"setState"in t?Cl.findDOMNode(t):t??null}const TO=ye.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:o,addEndListener:u,children:c,childRef:f,...d},m)=>{const E=j.useRef(null),_=pO(E,f),b=$=>{_(sj($))},A=$=>R=>{$&&E.current&&$(E.current,R)},N=j.useCallback(A(t),[t]),k=j.useCallback(A(e),[e]),D=j.useCallback(A(n),[n]),H=j.useCallback(A(r),[r]),Y=j.useCallback(A(s),[s]),z=j.useCallback(A(o),[o]),ee=j.useCallback(A(u),[u]);return te.jsx(ba,{ref:m,...d,onEnter:N,onEntered:D,onEntering:k,onExit:H,onExited:z,onExiting:Y,addEndListener:ee,nodeRef:E,children:typeof c=="function"?($,R)=>c($,{...R,ref:b}):ye.cloneElement(c,{ref:b})})});TO.displayName="TransitionWrapper";const aj={[Ja]:"show",[iu]:"show"},rT=j.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},o)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=j.useCallback((f,d)=>{ij(f),r?.(f,d)},[r]);return te.jsx(TO,{ref:o,addEndListener:rj,...u,onEnter:c,childRef:u0(e),children:(f,d)=>j.cloneElement(e,{...d,className:ln("fade",t,e.props.className,aj[f],n[f])})})});rT.displayName="Fade";const oj=["xxl","xl","lg","md","sm","xs"],uj="xs",Vf=j.createContext({prefixes:{},breakpoints:oj,minBreakpoint:uj}),{Consumer:qW,Provider:YW}=Vf;function Wn(t,e){const{prefixes:n}=j.useContext(Vf);return t||n[e]||e}function lj(){const{breakpoints:t}=j.useContext(Vf);return t}function cj(){const{minBreakpoint:t}=j.useContext(Vf);return t}function hj(){const{dir:t}=j.useContext(Vf);return t==="rtl"}const bO=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Wn(e,"modal-body"),te.jsx(n,{ref:s,className:ln(t,e),...r})));bO.displayName="ModalBody";const vO=j.createContext({onHide(){}}),iT=j.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:o,children:u,scrollable:c,...f},d)=>{t=Wn(t,"modal");const m=`${t}-dialog`,E=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return te.jsx("div",{...f,ref:d,className:ln(m,e,s&&`${t}-${s}`,r&&`${m}-centered`,c&&`${m}-scrollable`,o&&E),children:te.jsx("div",{className:ln(`${t}-content`,n),children:u})})});iT.displayName="ModalDialog";const SO=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Wn(e,"modal-footer"),te.jsx(n,{ref:s,className:ln(t,e),...r})));SO.displayName="ModalFooter";const fj={"aria-label":da.string,onClick:da.func,variant:da.oneOf(["white"])},sT=j.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>te.jsx("button",{ref:s,type:"button",className:ln("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));sT.displayName="CloseButton";sT.propTypes=fj;const AO=j.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...o},u)=>{const c=j.useContext(vO),f=m_(()=>{c?.onHide(),r?.()});return te.jsxs("div",{ref:u,...o,children:[s,n&&te.jsx(sT,{"aria-label":t,variant:e,onClick:f})]})});AO.displayName="AbstractModalHeader";const wO=j.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},o)=>(t=Wn(t,"modal-header"),te.jsx(AO,{ref:o,...s,className:ln(e,t),closeLabel:n,closeButton:r})));wO.displayName="ModalHeader";const dj=t=>j.forwardRef((e,n)=>te.jsx("div",{...e,ref:n,className:ln(e.className,t)})),mj=dj("h4"),IO=j.forwardRef(({className:t,bsPrefix:e,as:n=mj,...r},s)=>(e=Wn(e,"modal-title"),te.jsx(n,{ref:s,className:ln(t,e),...r})));IO.displayName="ModalTitle";function pj(t){return te.jsx(rT,{...t,timeout:null})}function gj(t){return te.jsx(rT,{...t,timeout:null})}const CO=j.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:o,dialogAs:u=iT,"data-bs-theme":c,"aria-labelledby":f,"aria-describedby":d,"aria-label":m,show:E=!1,animation:_=!0,backdrop:b=!0,keyboard:A=!0,onEscapeKeyDown:N,onShow:k,onHide:D,container:H,autoFocus:Y=!0,enforceFocus:z=!0,restoreFocus:ee=!0,restoreFocusOptions:$,onEntered:R,onExit:x,onExiting:O,onEnter:M,onEntering:B,onExited:U,backdropClassName:I,manager:L,...K},V)=>{const[Q,re]=j.useState({}),[ie,S]=j.useState(!1),J=j.useRef(!1),oe=j.useRef(!1),P=j.useRef(null),[pe,Ne]=tz(),Ce=pO(V,Ne),He=m_(D),Se=hj();t=Wn(t,"modal");const Le=j.useMemo(()=>({onHide:He}),[He]);function Pe(){return L||Xz({isRTL:Se})}function Qe(ae){if(!cc)return;const Te=Pe().getScrollbarWidth()>0,Ue=ae.scrollHeight>o0(ae).documentElement.clientHeight;re({paddingRight:Te&&!Ue?Hw():void 0,paddingLeft:!Te&&Ue?Hw():void 0})}const Rt=m_(()=>{pe&&Qe(pe.dialog)});sz(()=>{d_(window,"resize",Rt),P.current==null||P.current()});const Ot=()=>{J.current=!0},Dt=ae=>{J.current&&pe&&ae.target===pe.dialog&&(oe.current=!0),J.current=!1},Ge=()=>{S(!0),P.current=gO(pe.dialog,()=>{S(!1)})},cn=ae=>{ae.target===ae.currentTarget&&Ge()},Ke=ae=>{if(b==="static"){cn(ae);return}if(oe.current||ae.target!==ae.currentTarget){oe.current=!1;return}D?.()},qe=ae=>{A?N?.(ae):(ae.preventDefault(),b==="static"&&Ge())},nn=(ae,Te)=>{ae&&Qe(ae),M?.(ae,Te)},Cn=ae=>{P.current==null||P.current(),x?.(ae)},Nn=(ae,Te)=>{B?.(ae,Te),mO(window,"resize",Rt)},Mn=ae=>{ae&&(ae.style.display=""),U?.(ae),d_(window,"resize",Rt)},xn=j.useCallback(ae=>te.jsx("div",{...ae,className:ln(`${t}-backdrop`,I,!_&&"show")}),[_,I,t]),dn={...n,...Q};dn.display="block";const jn=ae=>te.jsx("div",{role:"dialog",...ae,style:dn,className:ln(e,t,ie&&`${t}-static`,!_&&"show"),onClick:b?Ke:void 0,onMouseUp:Dt,"data-bs-theme":c,"aria-label":m,"aria-labelledby":f,"aria-describedby":d,children:te.jsx(u,{...K,onMouseDown:Ot,className:r,contentClassName:s,children:o})});return te.jsx(vO.Provider,{value:Le,children:te.jsx(jz,{show:E,ref:Ce,backdrop:b,container:H,keyboard:!0,autoFocus:Y,enforceFocus:z,restoreFocus:ee,restoreFocusOptions:$,onEscapeKeyDown:qe,onShow:k,onHide:D,onEnter:nn,onEntering:Nn,onEntered:R,onExit:Cn,onExiting:O,onExited:Mn,manager:Pe(),transition:_?pj:void 0,backdropTransition:_?gj:void 0,renderBackdrop:xn,renderDialog:jn})})});CO.displayName="Modal";const Th=Object.assign(CO,{Body:bO,Header:wO,Title:IO,Footer:SO,Dialog:iT,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ej=["as","disabled"];function yj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _j(t){return!t||t.trim()==="#"}function NO({tagName:t,disabled:e,href:n,target:r,rel:s,role:o,onClick:u,tabIndex:c=0,type:f}){t||(n!=null||r!=null||s!=null?t="a":t="button");const d={tagName:t};if(t==="button")return[{type:f||"button",disabled:e},d];const m=_=>{if((e||t==="a"&&_j(n))&&_.preventDefault(),e){_.stopPropagation();return}u?.(_)},E=_=>{_.key===" "&&(_.preventDefault(),m(_))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:c,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:m,onKeyDown:E},d]}const Tj=j.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=yj(t,Ej);const[o,{tagName:u}]=NO(Object.assign({tagName:n,disabled:r},s));return te.jsx(u,Object.assign({},s,o,{ref:e}))});Tj.displayName="Button";const E_=j.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:o=!1,className:u,...c},f)=>{const d=Wn(e,"btn"),[m,{tagName:E}]=NO({tagName:t,disabled:o,...c}),_=E;return te.jsx(_,{...m,...c,ref:f,disabled:o,className:ln(u,d,s&&"active",n&&`${d}-${n}`,r&&`${d}-${r}`,c.href&&o&&"disabled")})});E_.displayName="Button";const bj={type:da.string,tooltip:da.bool,as:da.elementType},l0=j.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},o)=>te.jsx(t,{...s,ref:o,className:ln(e,`${n}-${r?"tooltip":"feedback"}`)}));l0.displayName="Feedback";l0.propTypes=bj;const Ta=j.createContext({}),aT=j.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:o=!1,as:u="input",...c},f)=>{const{controlId:d}=j.useContext(Ta);return e=Wn(e,"form-check-input"),te.jsx(u,{...c,ref:f,type:r,id:t||d,className:ln(n,e,s&&"is-valid",o&&"is-invalid")})});aT.displayName="FormCheckInput";const Ip=j.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:o}=j.useContext(Ta);return t=Wn(t,"form-check-label"),te.jsx("label",{...r,ref:s,htmlFor:n||o,className:ln(e,t)})});Ip.displayName="FormCheckLabel";function vj(t,e){return j.Children.toArray(t).some(n=>j.isValidElement(n)&&n.type===e)}const xO=j.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:o=!1,isValid:u=!1,isInvalid:c=!1,feedbackTooltip:f=!1,feedback:d,feedbackType:m,className:E,style:_,title:b="",type:A="checkbox",label:N,children:k,as:D="input",...H},Y)=>{e=Wn(e,"form-check"),n=Wn(n,"form-switch");const{controlId:z}=j.useContext(Ta),ee=j.useMemo(()=>({controlId:t||z}),[z,t]),$=!k&&N!=null&&N!==!1||vj(k,Ip),R=te.jsx(aT,{...H,type:A==="switch"?"checkbox":A,ref:Y,isValid:u,isInvalid:c,disabled:o,as:D});return te.jsx(Ta.Provider,{value:ee,children:te.jsx("div",{style:_,className:ln(E,$&&e,r&&`${e}-inline`,s&&`${e}-reverse`,A==="switch"&&n),children:k||te.jsxs(te.Fragment,{children:[R,$&&te.jsx(Ip,{title:b,children:N}),d&&te.jsx(l0,{type:m,tooltip:f,children:d})]})})})});xO.displayName="FormCheck";const Cp=Object.assign(xO,{Input:aT,Label:Ip}),RO=j.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:o,isValid:u=!1,isInvalid:c=!1,plaintext:f,readOnly:d,as:m="input",...E},_)=>{const{controlId:b}=j.useContext(Ta);return t=Wn(t,"form-control"),te.jsx(m,{...E,type:e,size:r,ref:_,readOnly:d,id:s||b,className:ln(o,f?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,u&&"is-valid",c&&"is-invalid")})});RO.displayName="FormControl";const Sj=Object.assign(RO,{Feedback:l0}),OO=j.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=Wn(e,"form-floating"),te.jsx(n,{ref:s,className:ln(t,e),...r})));OO.displayName="FormFloating";const oT=j.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=j.useMemo(()=>({controlId:t}),[t]);return te.jsx(Ta.Provider,{value:s,children:te.jsx(e,{...n,ref:r})})});oT.displayName="FormGroup";function Aj({as:t,bsPrefix:e,className:n,...r}){e=Wn(e,"col");const s=lj(),o=cj(),u=[],c=[];return s.forEach(f=>{const d=r[f];delete r[f];let m,E,_;typeof d=="object"&&d!=null?{span:m,offset:E,order:_}=d:m=d;const b=f!==o?`-${f}`:"";m&&u.push(m===!0?`${e}${b}`:`${e}${b}-${m}`),_!=null&&c.push(`order${b}-${_}`),E!=null&&c.push(`offset${b}-${E}`)}),[{...r,className:ln(n,...u,...c)},{as:t,bsPrefix:e,spans:u}]}const DO=j.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:o,spans:u}]=Aj(t);return te.jsx(s,{...r,ref:e,className:ln(n,!u.length&&o)})});DO.displayName="Col";const kO=j.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:o,...u},c)=>{const{controlId:f}=j.useContext(Ta);e=Wn(e,"form-label");let d="col-form-label";typeof n=="string"&&(d=`${d} ${d}-${n}`);const m=ln(s,e,r&&"visually-hidden",n&&d);return o=o||f,n?te.jsx(DO,{ref:c,as:"label",className:m,htmlFor:o,...u}):te.jsx(t,{ref:c,className:m,htmlFor:o,...u})});kO.displayName="FormLabel";const LO=j.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:o}=j.useContext(Ta);return t=Wn(t,"form-range"),te.jsx("input",{...r,type:"range",ref:s,className:ln(e,t),id:n||o})});LO.displayName="FormRange";const MO=j.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:o=!1,id:u,...c},f)=>{const{controlId:d}=j.useContext(Ta);return t=Wn(t,"form-select"),te.jsx("select",{...c,size:n,ref:f,className:ln(r,t,e&&`${t}-${e}`,s&&"is-valid",o&&"is-invalid"),id:u||d})});MO.displayName="FormSelect";const PO=j.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},o)=>(t=Wn(t,"form-text"),te.jsx(n,{...s,ref:o,className:ln(e,t,r&&"text-muted")})));PO.displayName="FormText";const BO=j.forwardRef((t,e)=>te.jsx(Cp,{...t,ref:e,type:"switch"}));BO.displayName="Switch";const wj=Object.assign(BO,{Input:Cp.Input,Label:Cp.Label}),UO=j.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...o},u)=>(t=Wn(t,"form-floating"),te.jsxs(oT,{ref:u,className:ln(e,t),controlId:r,...o,children:[n,te.jsx("label",{htmlFor:r,children:s})]})));UO.displayName="FloatingLabel";const Ij={_ref:da.any,validated:da.bool,as:da.elementType},uT=j.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>te.jsx(n,{...r,ref:s,className:ln(t,e&&"was-validated")}));uT.displayName="Form";uT.propTypes=Ij;const _l=Object.assign(uT,{Group:oT,Control:Sj,Floating:OO,Check:Cp,Switch:wj,Label:kO,Text:PO,Range:LO,Select:MO,FloatingLabel:UO});function Cj({show:t,onHide:e,onConfirm:n,isCreating:r=!1}){const[s,o]=j.useState(""),[u,c]=j.useState(!0),f=_=>{const b=_.target.value;o(b),c(b.trim().length>0&&b.trim().length<=50)},d=_=>{_.preventDefault();const b=s.trim();b.length>0&&b.length<=50&&(n(b),o(""),c(!0))},m=()=>{o(""),c(!0),e()},E=_=>{_.key==="Enter"&&d(_)};return te.jsxs(Th,{show:t,onHide:m,centered:!0,backdrop:"static",keyboard:!1,className:"board-name-modal",style:{zIndex:2001},children:[te.jsx(Th.Header,{closeButton:!0,children:te.jsx(Th.Title,{children:"Create New Board"})}),te.jsxs(_l,{onSubmit:d,children:[te.jsx(Th.Body,{children:te.jsxs(_l.Group,{children:[te.jsx(_l.Label,{children:"Board Name"}),te.jsx(_l.Control,{type:"text",value:s,onChange:f,onKeyDown:E,placeholder:"Enter board name...",isInvalid:!u,maxLength:50,autoFocus:!0}),te.jsx(_l.Control.Feedback,{type:"invalid",className:"text-muted",children:"Board name must be between 1 and 50 characters long."}),te.jsxs(_l.Text,{className:s.length===50?"text-danger":"text-muted",children:[s.length,"/50 characters"]})]})}),te.jsxs(Th.Footer,{children:[te.jsx(E_,{variant:"secondary",onClick:m,disabled:r,children:"Cancel"}),te.jsx(E_,{variant:"primary",type:"submit",disabled:!u||s.trim().length===0||r,children:r?"Creating...":"Create Board"})]})]})]})}function eI(t){const e=[],n=String(t||"");let r=n.indexOf(","),s=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const u=n.slice(s,r).trim();(u||!o)&&e.push(u),s=r+1,r=n.indexOf(",",s)}return e}function VO(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Nj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rj={};function tI(t,e){return(Rj.jsx?xj:Nj).test(t)}const Oj=/[ \t\n\f\r]/g;function Dj(t){return typeof t=="object"?t.type==="text"?nI(t.value):!1:nI(t)}function nI(t){return t.replace(Oj,"")===""}let Ff=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Ff.prototype.normal={};Ff.prototype.property={};Ff.prototype.space=void 0;function FO(t,e){const n={},r={};for(const s of t)Object.assign(n,s.property),Object.assign(r,s.normal);return new Ff(n,r,e)}function yf(t){return t.toLowerCase()}let ii=class{constructor(e,n){this.attribute=n,this.property=e}};ii.prototype.attribute="";ii.prototype.booleanish=!1;ii.prototype.boolean=!1;ii.prototype.commaOrSpaceSeparated=!1;ii.prototype.commaSeparated=!1;ii.prototype.defined=!1;ii.prototype.mustUseProperty=!1;ii.prototype.number=!1;ii.prototype.overloadedBoolean=!1;ii.prototype.property="";ii.prototype.spaceSeparated=!1;ii.prototype.space=void 0;let kj=0;const ut=Iu(),Fn=Iu(),y_=Iu(),De=Iu(),an=Iu(),Vl=Iu(),pi=Iu();function Iu(){return 2**++kj}const __=Object.freeze(Object.defineProperty({__proto__:null,boolean:ut,booleanish:Fn,commaOrSpaceSeparated:pi,commaSeparated:Vl,number:De,overloadedBoolean:y_,spaceSeparated:an},Symbol.toStringTag,{value:"Module"})),iy=Object.keys(__);let lT=class extends ii{constructor(e,n,r,s){let o=-1;if(super(e,n),rI(this,"space",s),typeof r=="number")for(;++o<iy.length;){const u=iy[o];rI(this,iy[o],(r&__[u])===__[u])}}};lT.prototype.defined=!0;function rI(t,e,n){n&&(t[e]=n)}function hc(t){const e={},n={};for(const[r,s]of Object.entries(t.properties)){const o=new lT(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[yf(r)]=r,n[yf(o.attribute)]=r}return new Ff(e,n,t.space)}const HO=hc({properties:{ariaActiveDescendant:null,ariaAtomic:Fn,ariaAutoComplete:null,ariaBusy:Fn,ariaChecked:Fn,ariaColCount:De,ariaColIndex:De,ariaColSpan:De,ariaControls:an,ariaCurrent:null,ariaDescribedBy:an,ariaDetails:null,ariaDisabled:Fn,ariaDropEffect:an,ariaErrorMessage:null,ariaExpanded:Fn,ariaFlowTo:an,ariaGrabbed:Fn,ariaHasPopup:null,ariaHidden:Fn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:an,ariaLevel:De,ariaLive:null,ariaModal:Fn,ariaMultiLine:Fn,ariaMultiSelectable:Fn,ariaOrientation:null,ariaOwns:an,ariaPlaceholder:null,ariaPosInSet:De,ariaPressed:Fn,ariaReadOnly:Fn,ariaRelevant:null,ariaRequired:Fn,ariaRoleDescription:an,ariaRowCount:De,ariaRowIndex:De,ariaRowSpan:De,ariaSelected:Fn,ariaSetSize:De,ariaSort:null,ariaValueMax:De,ariaValueMin:De,ariaValueNow:De,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function zO(t,e){return e in t?t[e]:e}function jO(t,e){return zO(t,e.toLowerCase())}const Lj=hc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vl,acceptCharset:an,accessKey:an,action:null,allow:null,allowFullScreen:ut,allowPaymentRequest:ut,allowUserMedia:ut,alt:null,as:null,async:ut,autoCapitalize:null,autoComplete:an,autoFocus:ut,autoPlay:ut,blocking:an,capture:null,charSet:null,checked:ut,cite:null,className:an,cols:De,colSpan:null,content:null,contentEditable:Fn,controls:ut,controlsList:an,coords:De|Vl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ut,defer:ut,dir:null,dirName:null,disabled:ut,download:y_,draggable:Fn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ut,formTarget:null,headers:an,height:De,hidden:y_,high:De,href:null,hrefLang:null,htmlFor:an,httpEquiv:an,id:null,imageSizes:null,imageSrcSet:null,inert:ut,inputMode:null,integrity:null,is:null,isMap:ut,itemId:null,itemProp:an,itemRef:an,itemScope:ut,itemType:an,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ut,low:De,manifest:null,max:null,maxLength:De,media:null,method:null,min:null,minLength:De,multiple:ut,muted:ut,name:null,nonce:null,noModule:ut,noValidate:ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ut,optimum:De,pattern:null,ping:an,placeholder:null,playsInline:ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ut,referrerPolicy:null,rel:an,required:ut,reversed:ut,rows:De,rowSpan:De,sandbox:an,scope:null,scoped:ut,seamless:ut,selected:ut,shadowRootClonable:ut,shadowRootDelegatesFocus:ut,shadowRootMode:null,shape:null,size:De,sizes:null,slot:null,span:De,spellCheck:Fn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:De,step:null,style:null,tabIndex:De,target:null,title:null,translate:null,type:null,typeMustMatch:ut,useMap:null,value:Fn,width:De,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:an,axis:null,background:null,bgColor:null,border:De,borderColor:null,bottomMargin:De,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ut,declare:ut,event:null,face:null,frame:null,frameBorder:null,hSpace:De,leftMargin:De,link:null,longDesc:null,lowSrc:null,marginHeight:De,marginWidth:De,noResize:ut,noHref:ut,noShade:ut,noWrap:ut,object:null,profile:null,prompt:null,rev:null,rightMargin:De,rules:null,scheme:null,scrolling:Fn,standby:null,summary:null,text:null,topMargin:De,valueType:null,version:null,vAlign:null,vLink:null,vSpace:De,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ut,disableRemotePlayback:ut,prefix:null,property:null,results:De,security:null,unselectable:null},space:"html",transform:jO}),Mj=hc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pi,accentHeight:De,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:De,amplitude:De,arabicForm:null,ascent:De,attributeName:null,attributeType:null,azimuth:De,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:De,by:null,calcMode:null,capHeight:De,className:an,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:De,diffuseConstant:De,direction:null,display:null,dur:null,divisor:De,dominantBaseline:null,download:ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:De,enableBackground:null,end:null,event:null,exponent:De,externalResourcesRequired:null,fill:null,fillOpacity:De,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vl,g2:Vl,glyphName:Vl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:De,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:De,horizOriginX:De,horizOriginY:De,id:null,ideographic:De,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:De,k:De,k1:De,k2:De,k3:De,k4:De,kernelMatrix:pi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:De,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:De,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:De,overlineThickness:De,paintOrder:null,panose1:null,path:null,pathLength:De,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:an,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:De,pointsAtY:De,pointsAtZ:De,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pi,rev:pi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pi,requiredFeatures:pi,requiredFonts:pi,requiredFormats:pi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:De,specularExponent:De,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:De,strikethroughThickness:De,string:null,stroke:null,strokeDashArray:pi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:De,strokeOpacity:De,strokeWidth:null,style:null,surfaceScale:De,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pi,tabIndex:De,tableValues:null,target:null,targetX:De,targetY:De,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:De,underlineThickness:De,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:De,values:null,vAlphabetic:De,vMathematical:De,vectorEffect:null,vHanging:De,vIdeographic:De,version:null,vertAdvY:De,vertOriginX:De,vertOriginY:De,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:De,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zO}),qO=hc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),YO=hc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jO}),$O=hc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Pj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Bj=/[A-Z]/g,iI=/-[a-z]/g,Uj=/^data[-\w.:]+$/i;function cT(t,e){const n=yf(e);let r=e,s=ii;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Uj.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(iI,Fj);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!iI.test(o)){let u=o.replace(Bj,Vj);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=lT}return new s(r,e)}function Vj(t){return"-"+t.toLowerCase()}function Fj(t){return t.charAt(1).toUpperCase()}const c0=FO([HO,Lj,qO,YO,$O],"html"),fc=FO([HO,Mj,qO,YO,$O],"svg");function sI(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function GO(t){return t.join(" ").trim()}var Tl={},sy,aI;function Hj(){if(aI)return sy;aI=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",m="*",E="",_="comment",b="declaration";sy=function(N,k){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];k=k||{};var D=1,H=1;function Y(I){var L=I.match(e);L&&(D+=L.length);var K=I.lastIndexOf(f);H=~K?I.length-K:H+I.length}function z(){var I={line:D,column:H};return function(L){return L.position=new ee(I),x(),L}}function ee(I){this.start=I,this.end={line:D,column:H},this.source=k.source}ee.prototype.content=N;function $(I){var L=new Error(k.source+":"+D+":"+H+": "+I);if(L.reason=I,L.filename=k.source,L.line=D,L.column=H,L.source=N,!k.silent)throw L}function R(I){var L=I.exec(N);if(L){var K=L[0];return Y(K),N=N.slice(K.length),L}}function x(){R(n)}function O(I){var L;for(I=I||[];L=M();)L!==!1&&I.push(L);return I}function M(){var I=z();if(!(d!=N.charAt(0)||m!=N.charAt(1))){for(var L=2;E!=N.charAt(L)&&(m!=N.charAt(L)||d!=N.charAt(L+1));)++L;if(L+=2,E===N.charAt(L-1))return $("End of comment missing");var K=N.slice(2,L-2);return H+=2,Y(K),N=N.slice(L),H+=2,I({type:_,comment:K})}}function B(){var I=z(),L=R(r);if(L){if(M(),!R(s))return $("property missing ':'");var K=R(o),V=I({type:b,property:A(L[0].replace(t,E)),value:K?A(K[0].replace(t,E)):E});return R(u),V}}function U(){var I=[];O(I);for(var L;L=B();)L!==!1&&(I.push(L),O(I));return I}return x(),U()};function A(N){return N?N.replace(c,E):E}return sy}var oI;function zj(){if(oI)return Tl;oI=1;var t=Tl&&Tl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.default=n;var e=t(Hj());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),c=typeof s=="function";return u.forEach(function(f){if(f.type==="declaration"){var d=f.property,m=f.value;c?s(d,m,f):m&&(o=o||{},o[d]=m)}}),o}return Tl}var bh={},uI;function jj(){if(uI)return bh;uI=1,Object.defineProperty(bh,"__esModule",{value:!0}),bh.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},u=function(d,m){return m.toUpperCase()},c=function(d,m){return"".concat(m,"-")},f=function(d,m){return m===void 0&&(m={}),o(d)?d:(d=d.toLowerCase(),m.reactCompat?d=d.replace(s,c):d=d.replace(r,c),d.replace(e,u))};return bh.camelCase=f,bh}var vh,lI;function qj(){if(lI)return vh;lI=1;var t=vh&&vh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(zj()),n=jj();function r(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(c,f){c&&f&&(u[(0,n.camelCase)(c,o)]=f)}),u}return r.default=r,vh=r,vh}var Yj=qj();const $j=Tu(Yj),h0=KO("end"),Vs=KO("start");function KO(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Gj(t){const e=Vs(t),n=h0(t);if(e&&n)return{start:e,end:n}}function qh(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?cI(t.position):"start"in t||"end"in t?cI(t):"line"in t||"column"in t?T_(t):""}function T_(t){return hI(t&&t.line)+":"+hI(t&&t.column)}function cI(t){return T_(t&&t.start)+"-"+T_(t&&t.end)}function hI(t){return t&&typeof t=="number"?t:1}class Rr extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=qh(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Rr.prototype.file="";Rr.prototype.name="";Rr.prototype.reason="";Rr.prototype.message="";Rr.prototype.stack="";Rr.prototype.column=void 0;Rr.prototype.line=void 0;Rr.prototype.ancestors=void 0;Rr.prototype.cause=void 0;Rr.prototype.fatal=void 0;Rr.prototype.place=void 0;Rr.prototype.ruleId=void 0;Rr.prototype.source=void 0;const hT={}.hasOwnProperty,Kj=new Map,Xj=/[A-Z]/g,Qj=new Set(["table","tbody","thead","tfoot","tr"]),Wj=new Set(["td","th"]),XO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Zj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=aq(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=sq(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?fc:c0,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=QO(s,t,void 0);return o&&typeof o!="string"?o:s.create(t,s.Fragment,{children:o||void 0},void 0)}function QO(t,e,n){if(e.type==="element")return Jj(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return eq(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return nq(t,e,n);if(e.type==="mdxjsEsm")return tq(t,e);if(e.type==="root")return rq(t,e,n);if(e.type==="text")return iq(t,e)}function Jj(t,e,n){const r=t.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=fc,t.schema=s),t.ancestors.push(e);const o=ZO(t,e.tagName,!1),u=oq(t,e);let c=dT(t,e);return Qj.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!Dj(f):!0})),WO(t,u,o,e),fT(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function eq(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}_f(t,e.position)}function tq(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);_f(t,e.position)}function nq(t,e,n){const r=t.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=fc,t.schema=s),t.ancestors.push(e);const o=e.name===null?t.Fragment:ZO(t,e.name,!0),u=uq(t,e),c=dT(t,e);return WO(t,u,o,e),fT(u,c),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function rq(t,e,n){const r={};return fT(r,dT(t,e)),t.create(e,t.Fragment,r,n)}function iq(t,e){return e.value}function WO(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function fT(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function sq(t,e,n){return r;function r(s,o,u,c){const d=Array.isArray(u.children)?n:e;return c?d(o,u,c):d(o,u)}}function aq(t,e){return n;function n(r,s,o,u){const c=Array.isArray(o.children),f=Vs(r);return e(s,o,u,c,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function oq(t,e){const n={};let r,s;for(s in e.properties)if(s!=="children"&&hT.call(e.properties,s)){const o=lq(t,s,e.properties[s]);if(o){const[u,c]=o;t.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&Wj.has(e.tagName)?r=c:n[u]=c}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function uq(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const c=u.properties[0];c.type,Object.assign(n,t.evaluater.evaluateExpression(c.argument))}else _f(t,e.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const c=r.value.data.estree.body[0];c.type,o=t.evaluater.evaluateExpression(c.expression)}else _f(t,e.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function dT(t,e){const n=[];let r=-1;const s=t.passKeys?new Map:Kj;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const d=s.get(f)||0;u=f+"-"+d,s.set(f,d+1)}}const c=QO(t,o,u);c!==void 0&&n.push(c)}return n}function lq(t,e,n){const r=cT(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?VO(n):GO(n)),r.property==="style"){let s=typeof n=="object"?n:cq(t,String(n));return t.stylePropertyNameCase==="css"&&(s=hq(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&r.space?Pj[r.property]||r.property:r.attribute,n]}}function cq(t,e){try{return $j(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,s=new Rr("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=XO+"#cannot-parse-style-attribute",s}}function ZO(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const c=tI(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=u}else r=tI(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return hT.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(r);_f(t)}function _f(t,e){const n=new Rr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=XO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function hq(t){const e={};let n;for(n in t)hT.call(t,n)&&(e[fq(n)]=t[n]);return e}function fq(t){let e=t.replace(Xj,dq);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function dq(t){return"-"+t.toLowerCase()}const ay={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},mq={};function pq(t,e){const n=mq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return JO(t,r,s)}function JO(t,e,n){if(gq(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return fI(t.children,e,n)}return Array.isArray(t)?fI(t,e,n):""}function fI(t,e,n){const r=[];let s=-1;for(;++s<t.length;)r[s]=JO(t[s],e,n);return r.join("")}function gq(t){return!!(t&&typeof t=="object")}const dI=document.createElement("i");function mT(t){const e="&"+t+";";dI.innerHTML=e;const n=dI.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Ps(t,e,n,r){const s=t.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function zi(t,e){return t.length>0?(Ps(t,t.length,0,e),t):e}const mI={}.hasOwnProperty;function Eq(t){const e={};let n=-1;for(;++n<t.length;)yq(e,t[n]);return e}function yq(t,e){let n;for(n in e){const s=(mI.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){mI.call(s,u)||(s[u]=[]);const c=o[u];_q(s[u],Array.isArray(c)?c:c?[c]:[])}}}function _q(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Ps(t,0,0,r)}function eD(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Fl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ns=No(/[A-Za-z]/),Ti=No(/[\dA-Za-z]/),Tq=No(/[#-'*+\--9=?A-Z^-~]/);function b_(t){return t!==null&&(t<32||t===127)}const v_=No(/\d/),bq=No(/[\dA-Fa-f]/),vq=No(/[!-/:-@[-`{-~]/);function nt(t){return t!==null&&t<-2}function ri(t){return t!==null&&(t<0||t===32)}function Pt(t){return t===-2||t===-1||t===32}const Sq=No(new RegExp("\\p{P}|\\p{S}","u")),Aq=No(/\s/);function No(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function dc(t){const e=[];let n=-1,r=0,s=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&Ti(t.charCodeAt(n+1))&&Ti(t.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const c=t.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(u=String.fromCharCode(o,c),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(r)}function un(t,e,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return Pt(f)?(t.enter(n),c(f)):e(f)}function c(f){return Pt(f)&&o++<s?(t.consume(f),c):(t.exit(n),e(f))}}const wq={tokenize:Iq};function Iq(t){const e=t.attempt(this.parser.constructs.contentInitial,r,s);let n;return e;function r(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),un(t,e,"linePrefix")}function s(c){return t.enter("paragraph"),o(c)}function o(c){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(c)}function u(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return nt(c)?(t.consume(c),t.exit("chunkText"),o):(t.consume(c),u)}}const Cq={tokenize:Nq},pI={tokenize:xq};function Nq(t){const e=this,n=[];let r=0,s,o,u;return c;function c(Y){if(r<n.length){const z=n[r];return e.containerState=z[1],t.attempt(z[0].continuation,f,d)(Y)}return d(Y)}function f(Y){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&H();const z=e.events.length;let ee=z,$;for(;ee--;)if(e.events[ee][0]==="exit"&&e.events[ee][1].type==="chunkFlow"){$=e.events[ee][1].end;break}D(r);let R=z;for(;R<e.events.length;)e.events[R][1].end={...$},R++;return Ps(e.events,ee+1,0,e.events.slice(z)),e.events.length=R,d(Y)}return c(Y)}function d(Y){if(r===n.length){if(!s)return _(Y);if(s.currentConstruct&&s.currentConstruct.concrete)return A(Y);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(pI,m,E)(Y)}function m(Y){return s&&H(),D(r),_(Y)}function E(Y){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,A(Y)}function _(Y){return e.containerState={},t.attempt(pI,b,A)(Y)}function b(Y){return r++,n.push([e.currentConstruct,e.containerState]),_(Y)}function A(Y){if(Y===null){s&&H(),D(0),t.consume(Y);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),N(Y)}function N(Y){if(Y===null){k(t.exit("chunkFlow"),!0),D(0),t.consume(Y);return}return nt(Y)?(t.consume(Y),k(t.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(t.consume(Y),N)}function k(Y,z){const ee=e.sliceStream(Y);if(z&&ee.push(null),Y.previous=o,o&&(o.next=Y),o=Y,s.defineSkip(Y.start),s.write(ee),e.parser.lazy[Y.start.line]){let $=s.events.length;for(;$--;)if(s.events[$][1].start.offset<u&&(!s.events[$][1].end||s.events[$][1].end.offset>u))return;const R=e.events.length;let x=R,O,M;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(O){M=e.events[x][1].end;break}O=!0}for(D(r),$=R;$<e.events.length;)e.events[$][1].end={...M},$++;Ps(e.events,x+1,0,e.events.slice(R)),e.events.length=$}}function D(Y){let z=n.length;for(;z-- >Y;){const ee=n[z];e.containerState=ee[1],ee[0].exit.call(e,t)}n.length=Y}function H(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function xq(t,e,n){return un(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function gI(t){if(t===null||ri(t)||Aq(t))return 1;if(Sq(t))return 2}function pT(t,e,n){const r=[];let s=-1;for(;++s<t.length;){const o=t[s].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const S_={name:"attention",resolveAll:Rq,tokenize:Oq};function Rq(t,e){let n=-1,r,s,o,u,c,f,d,m;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const E={...t[r][1].end},_={...t[n][1].start};EI(E,-f),EI(_,f),u={type:f>1?"strongSequence":"emphasisSequence",start:E,end:{...t[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:_},o={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},t[r][1].end={...u.start},t[n][1].start={...c.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=zi(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=zi(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),d=zi(d,pT(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=zi(d,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(m=2,d=zi(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):m=0,Ps(t,r-1,n-r+3,d),n=r+d.length-m-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Oq(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=gI(r);let o;return u;function u(f){return o=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===o)return t.consume(f),c;const d=t.exit("attentionSequence"),m=gI(f),E=!m||m===2&&s||n.includes(f),_=!s||s===2&&m||n.includes(r);return d._open=!!(o===42?E:E&&(s||!_)),d._close=!!(o===42?_:_&&(m||!E)),e(f)}}function EI(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Dq={name:"autolink",tokenize:kq};function kq(t,e,n){let r=0;return s;function s(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(b){return Ns(b)?(t.consume(b),u):b===64?n(b):d(b)}function u(b){return b===43||b===45||b===46||Ti(b)?(r=1,c(b)):d(b)}function c(b){return b===58?(t.consume(b),r=0,f):(b===43||b===45||b===46||Ti(b))&&r++<32?(t.consume(b),c):(r=0,d(b))}function f(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||b_(b)?n(b):(t.consume(b),f)}function d(b){return b===64?(t.consume(b),m):Tq(b)?(t.consume(b),d):n(b)}function m(b){return Ti(b)?E(b):n(b)}function E(b){return b===46?(t.consume(b),r=0,m):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):_(b)}function _(b){if((b===45||Ti(b))&&r++<63){const A=b===45?_:E;return t.consume(b),A}return n(b)}}const f0={partial:!0,tokenize:Lq};function Lq(t,e,n){return r;function r(o){return Pt(o)?un(t,s,"linePrefix")(o):s(o)}function s(o){return o===null||nt(o)?e(o):n(o)}}const tD={continuation:{tokenize:Pq},exit:Bq,name:"blockQuote",tokenize:Mq};function Mq(t,e,n){const r=this;return s;function s(u){if(u===62){const c=r.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Pt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function Pq(t,e,n){const r=this;return s;function s(u){return Pt(u)?un(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(tD,e,n)(u)}}function Bq(t){t.exit("blockQuote")}const nD={name:"characterEscape",tokenize:Uq};function Uq(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),s}function s(o){return vq(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const rD={name:"characterReference",tokenize:Vq};function Vq(t,e,n){const r=this;let s=0,o,u;return c;function c(E){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),f}function f(E){return E===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(E),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,u=Ti,m(E))}function d(E){return E===88||E===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(E),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=bq,m):(t.enter("characterReferenceValue"),o=7,u=v_,m(E))}function m(E){if(E===59&&s){const _=t.exit("characterReferenceValue");return u===Ti&&!mT(r.sliceSerialize(_))?n(E):(t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(E)&&s++<o?(t.consume(E),m):n(E)}}const yI={partial:!0,tokenize:Hq},_I={concrete:!0,name:"codeFenced",tokenize:Fq};function Fq(t,e,n){const r=this,s={partial:!0,tokenize:ee};let o=0,u=0,c;return f;function f($){return d($)}function d($){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,c=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),m($)}function m($){return $===c?(u++,t.consume($),m):u<3?n($):(t.exit("codeFencedFenceSequence"),Pt($)?un(t,E,"whitespace")($):E($))}function E($){return $===null||nt($)?(t.exit("codeFencedFence"),r.interrupt?e($):t.check(yI,N,z)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),_($))}function _($){return $===null||nt($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),E($)):Pt($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),un(t,b,"whitespace")($)):$===96&&$===c?n($):(t.consume($),_)}function b($){return $===null||nt($)?E($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A($))}function A($){return $===null||nt($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),E($)):$===96&&$===c?n($):(t.consume($),A)}function N($){return t.attempt(s,z,k)($)}function k($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),D}function D($){return o>0&&Pt($)?un(t,H,"linePrefix",o+1)($):H($)}function H($){return $===null||nt($)?t.check(yI,N,z)($):(t.enter("codeFlowValue"),Y($))}function Y($){return $===null||nt($)?(t.exit("codeFlowValue"),H($)):(t.consume($),Y)}function z($){return t.exit("codeFenced"),e($)}function ee($,R,x){let O=0;return M;function M(K){return $.enter("lineEnding"),$.consume(K),$.exit("lineEnding"),B}function B(K){return $.enter("codeFencedFence"),Pt(K)?un($,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):U(K)}function U(K){return K===c?($.enter("codeFencedFenceSequence"),I(K)):x(K)}function I(K){return K===c?(O++,$.consume(K),I):O>=u?($.exit("codeFencedFenceSequence"),Pt(K)?un($,L,"whitespace")(K):L(K)):x(K)}function L(K){return K===null||nt(K)?($.exit("codeFencedFence"),R(K)):x(K)}}}function Hq(t,e,n){const r=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const oy={name:"codeIndented",tokenize:jq},zq={partial:!0,tokenize:qq};function jq(t,e,n){const r=this;return s;function s(d){return t.enter("codeIndented"),un(t,o,"linePrefix",5)(d)}function o(d){const m=r.events[r.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?f(d):nt(d)?t.attempt(zq,u,f)(d):(t.enter("codeFlowValue"),c(d))}function c(d){return d===null||nt(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),c)}function f(d){return t.exit("codeIndented"),e(d)}}function qq(t,e,n){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?n(u):nt(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):un(t,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):nt(u)?s(u):n(u)}}const Yq={name:"codeText",previous:Gq,resolve:$q,tokenize:Kq};function $q(t){let e=t.length-4,n=3,r,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)s===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(s=r):(r===e||t[r][1].type==="lineEnding")&&(t[s][1].type="codeTextData",r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return t}function Gq(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Kq(t,e,n){let r=0,s,o;return u;function u(E){return t.enter("codeText"),t.enter("codeTextSequence"),c(E)}function c(E){return E===96?(t.consume(E),r++,c):(t.exit("codeTextSequence"),f(E))}function f(E){return E===null?n(E):E===32?(t.enter("space"),t.consume(E),t.exit("space"),f):E===96?(o=t.enter("codeTextSequence"),s=0,m(E)):nt(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),f):(t.enter("codeTextData"),d(E))}function d(E){return E===null||E===32||E===96||nt(E)?(t.exit("codeTextData"),f(E)):(t.consume(E),d)}function m(E){return E===96?(t.consume(E),s++,m):s===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(E)):(o.type="codeTextData",d(E))}}class Xq{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const s=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Sh(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Sh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Sh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Sh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Sh(this.left,n.reverse())}}}function Sh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function iD(t){const e={};let n=-1,r,s,o,u,c,f,d;const m=new Xq(t);for(;++n<m.length;){for(;n in e;)n=e[n];if(r=m.get(n),n&&r[1].type==="chunkFlow"&&m.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Qq(m,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(u=m.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(m.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...m.get(s)[1].start},c=m.slice(s,n),c.unshift(r),m.splice(s,n-s+1,c))}}return Ps(t,0,Number.POSITIVE_INFINITY,m.slice(0)),!d}function Qq(t,e){const n=t.get(e)[1],r=t.get(e)[2];let s=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,f=[],d={};let m,E,_=-1,b=n,A=0,N=0;const k=[N];for(;b;){for(;t.get(++s)[1]!==b;);o.push(s),b._tokenizer||(m=r.sliceStream(b),b.next||m.push(null),E&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(m),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),E=b,b=b.next}for(b=n;++_<c.length;)c[_][0]==="exit"&&c[_-1][0]==="enter"&&c[_][1].type===c[_-1][1].type&&c[_][1].start.line!==c[_][1].end.line&&(N=_+1,k.push(N),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):k.pop(),_=k.length;_--;){const D=c.slice(k[_],k[_+1]),H=o.pop();f.push([H,H+D.length-1]),t.splice(H,2,D)}for(f.reverse(),_=-1;++_<f.length;)d[A+f[_][0]]=A+f[_][1],A+=f[_][1]-f[_][0]-1;return d}const Wq={resolve:Jq,tokenize:eY},Zq={partial:!0,tokenize:tY};function Jq(t){return iD(t),t}function eY(t,e){let n;return r;function r(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):nt(c)?t.check(Zq,u,o)(c):(t.consume(c),s)}function o(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function u(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function tY(t,e,n){const r=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),un(t,o,"linePrefix")}function o(u){if(u===null||nt(u))return n(u);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function sD(t,e,n,r,s,o,u,c,f){const d=f||Number.POSITIVE_INFINITY;let m=0;return E;function E(D){return D===60?(t.enter(r),t.enter(s),t.enter(o),t.consume(D),t.exit(o),_):D===null||D===32||D===41||b_(D)?n(D):(t.enter(r),t.enter(u),t.enter(c),t.enter("chunkString",{contentType:"string"}),N(D))}function _(D){return D===62?(t.enter(o),t.consume(D),t.exit(o),t.exit(s),t.exit(r),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),b(D))}function b(D){return D===62?(t.exit("chunkString"),t.exit(c),_(D)):D===null||D===60||nt(D)?n(D):(t.consume(D),D===92?A:b)}function A(D){return D===60||D===62||D===92?(t.consume(D),b):b(D)}function N(D){return!m&&(D===null||D===41||ri(D))?(t.exit("chunkString"),t.exit(c),t.exit(u),t.exit(r),e(D)):m<d&&D===40?(t.consume(D),m++,N):D===41?(t.consume(D),m--,N):D===null||D===32||D===40||b_(D)?n(D):(t.consume(D),D===92?k:N)}function k(D){return D===40||D===41||D===92?(t.consume(D),N):N(D)}}function aD(t,e,n,r,s,o){const u=this;let c=0,f;return d;function d(b){return t.enter(r),t.enter(s),t.consume(b),t.exit(s),t.enter(o),m}function m(b){return c>999||b===null||b===91||b===93&&!f||b===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?n(b):b===93?(t.exit(o),t.enter(s),t.consume(b),t.exit(s),t.exit(r),e):nt(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),m):(t.enter("chunkString",{contentType:"string"}),E(b))}function E(b){return b===null||b===91||b===93||nt(b)||c++>999?(t.exit("chunkString"),m(b)):(t.consume(b),f||(f=!Pt(b)),b===92?_:E)}function _(b){return b===91||b===92||b===93?(t.consume(b),c++,E):E(b)}}function oD(t,e,n,r,s,o){let u;return c;function c(_){return _===34||_===39||_===40?(t.enter(r),t.enter(s),t.consume(_),t.exit(s),u=_===40?41:_,f):n(_)}function f(_){return _===u?(t.enter(s),t.consume(_),t.exit(s),t.exit(r),e):(t.enter(o),d(_))}function d(_){return _===u?(t.exit(o),f(u)):_===null?n(_):nt(_)?(t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),un(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===u||_===null||nt(_)?(t.exit("chunkString"),d(_)):(t.consume(_),_===92?E:m)}function E(_){return _===u||_===92?(t.consume(_),m):m(_)}}function Yh(t,e){let n;return r;function r(s){return nt(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,r):Pt(s)?un(t,r,n?"linePrefix":"lineSuffix")(s):e(s)}}const nY={name:"definition",tokenize:iY},rY={partial:!0,tokenize:sY};function iY(t,e,n){const r=this;let s;return o;function o(b){return t.enter("definition"),u(b)}function u(b){return aD.call(r,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return s=Fl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),f):n(b)}function f(b){return ri(b)?Yh(t,d)(b):d(b)}function d(b){return sD(t,m,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function m(b){return t.attempt(rY,E,E)(b)}function E(b){return Pt(b)?un(t,_,"whitespace")(b):_(b)}function _(b){return b===null||nt(b)?(t.exit("definition"),r.parser.defined.push(s),e(b)):n(b)}}function sY(t,e,n){return r;function r(c){return ri(c)?Yh(t,s)(c):n(c)}function s(c){return oD(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Pt(c)?un(t,u,"whitespace")(c):u(c)}function u(c){return c===null||nt(c)?e(c):n(c)}}const aY={name:"hardBreakEscape",tokenize:oY};function oY(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),s}function s(o){return nt(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const uY={name:"headingAtx",resolve:lY,tokenize:cY};function lY(t,e){let n=t.length-2,r=3,s,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Ps(t,r,n-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),t}function cY(t,e,n){let r=0;return s;function s(m){return t.enter("atxHeading"),o(m)}function o(m){return t.enter("atxHeadingSequence"),u(m)}function u(m){return m===35&&r++<6?(t.consume(m),u):m===null||ri(m)?(t.exit("atxHeadingSequence"),c(m)):n(m)}function c(m){return m===35?(t.enter("atxHeadingSequence"),f(m)):m===null||nt(m)?(t.exit("atxHeading"),e(m)):Pt(m)?un(t,c,"whitespace")(m):(t.enter("atxHeadingText"),d(m))}function f(m){return m===35?(t.consume(m),f):(t.exit("atxHeadingSequence"),c(m))}function d(m){return m===null||m===35||ri(m)?(t.exit("atxHeadingText"),c(m)):(t.consume(m),d)}}const hY=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TI=["pre","script","style","textarea"],fY={concrete:!0,name:"htmlFlow",resolveTo:pY,tokenize:gY},dY={partial:!0,tokenize:yY},mY={partial:!0,tokenize:EY};function pY(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function gY(t,e,n){const r=this;let s,o,u,c,f;return d;function d(P){return m(P)}function m(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),E}function E(P){return P===33?(t.consume(P),_):P===47?(t.consume(P),o=!0,N):P===63?(t.consume(P),s=3,r.interrupt?e:S):Ns(P)?(t.consume(P),u=String.fromCharCode(P),k):n(P)}function _(P){return P===45?(t.consume(P),s=2,b):P===91?(t.consume(P),s=5,c=0,A):Ns(P)?(t.consume(P),s=4,r.interrupt?e:S):n(P)}function b(P){return P===45?(t.consume(P),r.interrupt?e:S):n(P)}function A(P){const pe="CDATA[";return P===pe.charCodeAt(c++)?(t.consume(P),c===pe.length?r.interrupt?e:U:A):n(P)}function N(P){return Ns(P)?(t.consume(P),u=String.fromCharCode(P),k):n(P)}function k(P){if(P===null||P===47||P===62||ri(P)){const pe=P===47,Ne=u.toLowerCase();return!pe&&!o&&TI.includes(Ne)?(s=1,r.interrupt?e(P):U(P)):hY.includes(u.toLowerCase())?(s=6,pe?(t.consume(P),D):r.interrupt?e(P):U(P)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):o?H(P):Y(P))}return P===45||Ti(P)?(t.consume(P),u+=String.fromCharCode(P),k):n(P)}function D(P){return P===62?(t.consume(P),r.interrupt?e:U):n(P)}function H(P){return Pt(P)?(t.consume(P),H):M(P)}function Y(P){return P===47?(t.consume(P),M):P===58||P===95||Ns(P)?(t.consume(P),z):Pt(P)?(t.consume(P),Y):M(P)}function z(P){return P===45||P===46||P===58||P===95||Ti(P)?(t.consume(P),z):ee(P)}function ee(P){return P===61?(t.consume(P),$):Pt(P)?(t.consume(P),ee):Y(P)}function $(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),f=P,R):Pt(P)?(t.consume(P),$):x(P)}function R(P){return P===f?(t.consume(P),f=null,O):P===null||nt(P)?n(P):(t.consume(P),R)}function x(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||ri(P)?ee(P):(t.consume(P),x)}function O(P){return P===47||P===62||Pt(P)?Y(P):n(P)}function M(P){return P===62?(t.consume(P),B):n(P)}function B(P){return P===null||nt(P)?U(P):Pt(P)?(t.consume(P),B):n(P)}function U(P){return P===45&&s===2?(t.consume(P),V):P===60&&s===1?(t.consume(P),Q):P===62&&s===4?(t.consume(P),J):P===63&&s===3?(t.consume(P),S):P===93&&s===5?(t.consume(P),ie):nt(P)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(dY,oe,I)(P)):P===null||nt(P)?(t.exit("htmlFlowData"),I(P)):(t.consume(P),U)}function I(P){return t.check(mY,L,oe)(P)}function L(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),K}function K(P){return P===null||nt(P)?I(P):(t.enter("htmlFlowData"),U(P))}function V(P){return P===45?(t.consume(P),S):U(P)}function Q(P){return P===47?(t.consume(P),u="",re):U(P)}function re(P){if(P===62){const pe=u.toLowerCase();return TI.includes(pe)?(t.consume(P),J):U(P)}return Ns(P)&&u.length<8?(t.consume(P),u+=String.fromCharCode(P),re):U(P)}function ie(P){return P===93?(t.consume(P),S):U(P)}function S(P){return P===62?(t.consume(P),J):P===45&&s===2?(t.consume(P),S):U(P)}function J(P){return P===null||nt(P)?(t.exit("htmlFlowData"),oe(P)):(t.consume(P),J)}function oe(P){return t.exit("htmlFlow"),e(P)}}function EY(t,e,n){const r=this;return s;function s(u){return nt(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function yY(t,e,n){return r;function r(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(f0,e,n)}}const _Y={name:"htmlText",tokenize:TY};function TY(t,e,n){const r=this;let s,o,u;return c;function c(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),f}function f(S){return S===33?(t.consume(S),d):S===47?(t.consume(S),ee):S===63?(t.consume(S),Y):Ns(S)?(t.consume(S),x):n(S)}function d(S){return S===45?(t.consume(S),m):S===91?(t.consume(S),o=0,A):Ns(S)?(t.consume(S),H):n(S)}function m(S){return S===45?(t.consume(S),b):n(S)}function E(S){return S===null?n(S):S===45?(t.consume(S),_):nt(S)?(u=E,Q(S)):(t.consume(S),E)}function _(S){return S===45?(t.consume(S),b):E(S)}function b(S){return S===62?V(S):S===45?_(S):E(S)}function A(S){const J="CDATA[";return S===J.charCodeAt(o++)?(t.consume(S),o===J.length?N:A):n(S)}function N(S){return S===null?n(S):S===93?(t.consume(S),k):nt(S)?(u=N,Q(S)):(t.consume(S),N)}function k(S){return S===93?(t.consume(S),D):N(S)}function D(S){return S===62?V(S):S===93?(t.consume(S),D):N(S)}function H(S){return S===null||S===62?V(S):nt(S)?(u=H,Q(S)):(t.consume(S),H)}function Y(S){return S===null?n(S):S===63?(t.consume(S),z):nt(S)?(u=Y,Q(S)):(t.consume(S),Y)}function z(S){return S===62?V(S):Y(S)}function ee(S){return Ns(S)?(t.consume(S),$):n(S)}function $(S){return S===45||Ti(S)?(t.consume(S),$):R(S)}function R(S){return nt(S)?(u=R,Q(S)):Pt(S)?(t.consume(S),R):V(S)}function x(S){return S===45||Ti(S)?(t.consume(S),x):S===47||S===62||ri(S)?O(S):n(S)}function O(S){return S===47?(t.consume(S),V):S===58||S===95||Ns(S)?(t.consume(S),M):nt(S)?(u=O,Q(S)):Pt(S)?(t.consume(S),O):V(S)}function M(S){return S===45||S===46||S===58||S===95||Ti(S)?(t.consume(S),M):B(S)}function B(S){return S===61?(t.consume(S),U):nt(S)?(u=B,Q(S)):Pt(S)?(t.consume(S),B):O(S)}function U(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),s=S,I):nt(S)?(u=U,Q(S)):Pt(S)?(t.consume(S),U):(t.consume(S),L)}function I(S){return S===s?(t.consume(S),s=void 0,K):S===null?n(S):nt(S)?(u=I,Q(S)):(t.consume(S),I)}function L(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||ri(S)?O(S):(t.consume(S),L)}function K(S){return S===47||S===62||ri(S)?O(S):n(S)}function V(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),e):n(S)}function Q(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),re}function re(S){return Pt(S)?un(t,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):ie(S)}function ie(S){return t.enter("htmlTextData"),u(S)}}const gT={name:"labelEnd",resolveAll:AY,resolveTo:wY,tokenize:IY},bY={tokenize:CY},vY={tokenize:NY},SY={tokenize:xY};function AY(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return t.length!==n.length&&Ps(t,0,t.length,n),t}function wY(t,e){let n=t.length,r=0,s,o,u,c;for(;n--;)if(s=t[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=n);const f={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},m={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=zi(c,t.slice(o+1,o+r+3)),c=zi(c,[["enter",m,e]]),c=zi(c,pT(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),c=zi(c,[["exit",m,e],t[u-2],t[u-1],["exit",d,e]]),c=zi(c,t.slice(u+1)),c=zi(c,[["exit",f,e]]),Ps(t,o,t.length,c),t}function IY(t,e,n){const r=this;let s=r.events.length,o,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(_){return o?o._inactive?E(_):(u=r.parser.defined.includes(Fl(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(_),t.exit("labelMarker"),t.exit("labelEnd"),f):n(_)}function f(_){return _===40?t.attempt(bY,m,u?m:E)(_):_===91?t.attempt(vY,m,u?d:E)(_):u?m(_):E(_)}function d(_){return t.attempt(SY,m,E)(_)}function m(_){return e(_)}function E(_){return o._balanced=!0,n(_)}}function CY(t,e,n){return r;function r(E){return t.enter("resource"),t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),s}function s(E){return ri(E)?Yh(t,o)(E):o(E)}function o(E){return E===41?m(E):sD(t,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function u(E){return ri(E)?Yh(t,f)(E):m(E)}function c(E){return n(E)}function f(E){return E===34||E===39||E===40?oD(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):m(E)}function d(E){return ri(E)?Yh(t,m)(E):m(E)}function m(E){return E===41?(t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),t.exit("resource"),e):n(E)}}function NY(t,e,n){const r=this;return s;function s(c){return aD.call(r,t,o,u,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(Fl(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function u(c){return n(c)}}function xY(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),s}function s(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const RY={name:"labelStartImage",resolveAll:gT.resolveAll,tokenize:OY};function OY(t,e,n){const r=this;return s;function s(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),o}function o(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),u):n(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):e(c)}}const DY={name:"labelStartLink",resolveAll:gT.resolveAll,tokenize:kY};function kY(t,e,n){const r=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const uy={name:"lineEnding",tokenize:LY};function LY(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),un(t,e,"linePrefix")}}const jm={name:"thematicBreak",tokenize:MY};function MY(t,e,n){let r=0,s;return o;function o(d){return t.enter("thematicBreak"),u(d)}function u(d){return s=d,c(d)}function c(d){return d===s?(t.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||nt(d))?(t.exit("thematicBreak"),e(d)):n(d)}function f(d){return d===s?(t.consume(d),r++,f):(t.exit("thematicBreakSequence"),Pt(d)?un(t,c,"whitespace")(d):c(d))}}const Wr={continuation:{tokenize:VY},exit:HY,name:"list",tokenize:UY},PY={partial:!0,tokenize:zY},BY={partial:!0,tokenize:FY};function UY(t,e,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return c;function c(b){const A=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:v_(b)){if(r.containerState.type||(r.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(jm,n,d)(b):d(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(b)}return n(b)}function f(b){return v_(b)&&++u<10?(t.consume(b),f):(!r.interrupt||u<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):n(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(f0,r.interrupt?n:m,t.attempt(PY,_,E))}function m(b){return r.containerState.initialBlankLine=!0,o++,_(b)}function E(b){return Pt(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),_):n(b)}function _(b){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function VY(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(f0,s,o);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,un(t,e,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!Pt(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(BY,e,u)(c))}function u(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,un(t,t.attempt(Wr,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function FY(t,e,n){const r=this;return un(t,s,"listItemIndent",r.containerState.size+1);function s(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function HY(t){t.exit(this.containerState.type)}function zY(t,e,n){const r=this;return un(t,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=r.events[r.events.length-1];return!Pt(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const bI={name:"setextUnderline",resolveTo:jY,tokenize:qY};function jY(t,e){let n=t.length,r,s,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",o?(t.splice(s,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function qY(t,e,n){const r=this;let s;return o;function o(d){let m=r.events.length,E;for(;m--;)if(r.events[m][1].type!=="lineEnding"&&r.events[m][1].type!=="linePrefix"&&r.events[m][1].type!=="content"){E=r.events[m][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||E)?(t.enter("setextHeadingLine"),s=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(t.consume(d),c):(t.exit("setextHeadingLineSequence"),Pt(d)?un(t,f,"lineSuffix")(d):f(d))}function f(d){return d===null||nt(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const YY={tokenize:$Y};function $Y(t){const e=this,n=t.attempt(f0,r,t.attempt(this.parser.constructs.flowInitial,s,un(t,t.attempt(this.parser.constructs.flow,s,t.attempt(Wq,s)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const GY={resolveAll:lD()},KY=uD("string"),XY=uD("text");function uD(t){return{resolveAll:lD(t==="text"?QY:void 0),tokenize:e};function e(n){const r=this,s=this.parser.constructs[t],o=n.attempt(s,u,c);return u;function u(m){return d(m)?o(m):c(m)}function c(m){if(m===null){n.consume(m);return}return n.enter("data"),n.consume(m),f}function f(m){return d(m)?(n.exit("data"),o(m)):(n.consume(m),f)}function d(m){if(m===null)return!0;const E=s[m];let _=-1;if(E)for(;++_<E.length;){const b=E[_];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function lD(t){return e;function e(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return t?t(n,r):n}}function QY(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],s=e.sliceStream(r);let o=s.length,u=-1,c=0,f;for(;o--;){const d=s[o];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(d===-2)f=!0,c++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){const d={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const WY={42:Wr,43:Wr,45:Wr,48:Wr,49:Wr,50:Wr,51:Wr,52:Wr,53:Wr,54:Wr,55:Wr,56:Wr,57:Wr,62:tD},ZY={91:nY},JY={[-2]:oy,[-1]:oy,32:oy},e$={35:uY,42:jm,45:[bI,jm],60:fY,61:bI,95:jm,96:_I,126:_I},t$={38:rD,92:nD},n$={[-5]:uy,[-4]:uy,[-3]:uy,33:RY,38:rD,42:S_,60:[Dq,_Y],91:DY,92:[aY,nD],93:gT,95:S_,96:Yq},r$={null:[S_,GY]},i$={null:[42,95]},s$={null:[]},a$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:i$,contentInitial:ZY,disable:s$,document:WY,flow:e$,flowInitial:JY,insideSpan:r$,string:t$,text:n$},Symbol.toStringTag,{value:"Module"}));function o$(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let u=[],c=[];const f={attempt:R(ee),check:R($),consume:H,enter:Y,exit:z,interrupt:R($,{interrupt:!0})},d={code:null,containerState:{},defineSkip:N,events:[],now:A,parser:t,previous:null,sliceSerialize:_,sliceStream:b,write:E};let m=e.tokenize.call(d,f);return e.resolveAll&&o.push(e),d;function E(B){return u=zi(u,B),k(),u[u.length-1]!==null?[]:(x(e,0),d.events=pT(o,d.events,d),d.events)}function _(B,U){return l$(b(B),U)}function b(B){return u$(u,B)}function A(){const{_bufferIndex:B,_index:U,line:I,column:L,offset:K}=r;return{_bufferIndex:B,_index:U,line:I,column:L,offset:K}}function N(B){s[B.line]=B.column,M()}function k(){let B;for(;r._index<u.length;){const U=u[r._index];if(typeof U=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<U.length;)D(U.charCodeAt(r._bufferIndex));else D(U)}}function D(B){m=m(B)}function H(B){nt(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,M()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=B}function Y(B,U){const I=U||{};return I.type=B,I.start=A(),d.events.push(["enter",I,d]),c.push(I),I}function z(B){const U=c.pop();return U.end=A(),d.events.push(["exit",U,d]),U}function ee(B,U){x(B,U.from)}function $(B,U){U.restore()}function R(B,U){return I;function I(L,K,V){let Q,re,ie,S;return Array.isArray(L)?oe(L):"tokenize"in L?oe([L]):J(L);function J(Ce){return He;function He(Se){const Le=Se!==null&&Ce[Se],Pe=Se!==null&&Ce.null,Qe=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(Pe)?Pe:Pe?[Pe]:[]];return oe(Qe)(Se)}}function oe(Ce){return Q=Ce,re=0,Ce.length===0?V:P(Ce[re])}function P(Ce){return He;function He(Se){return S=O(),ie=Ce,Ce.partial||(d.currentConstruct=Ce),Ce.name&&d.parser.constructs.disable.null.includes(Ce.name)?Ne():Ce.tokenize.call(U?Object.assign(Object.create(d),U):d,f,pe,Ne)(Se)}}function pe(Ce){return B(ie,S),K}function Ne(Ce){return S.restore(),++re<Q.length?P(Q[re]):V}}}function x(B,U){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&Ps(d.events,U,d.events.length-U,B.resolve(d.events.slice(U),d)),B.resolveTo&&(d.events=B.resolveTo(d.events,d))}function O(){const B=A(),U=d.previous,I=d.currentConstruct,L=d.events.length,K=Array.from(c);return{from:L,restore:V};function V(){r=B,d.previous=U,d.currentConstruct=I,d.events.length=L,c=K,M()}}function M(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function u$(t,e){const n=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(r,o)];else{if(u=t.slice(n,s),r>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(r):u.shift()}o>0&&u.push(t[s].slice(0,o))}return u}function l$(t,e){let n=-1;const r=[];let s;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,r.push(u)}return r.join("")}function c$(t){const r={constructs:Eq([a$,...(t||{}).extensions||[]]),content:s(wq),defined:[],document:s(Cq),flow:s(YY),lazy:{},string:s(KY),text:s(XY)};return r;function s(o){return u;function u(c){return o$(r,o,c)}}}function h$(t){for(;!iD(t););return t}const vI=/[\0\t\n\r]/g;function f$(){let t=1,e="",n=!0,r;return s;function s(o,u,c){const f=[];let d,m,E,_,b;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),E=0,e="",n&&(o.charCodeAt(0)===65279&&E++,n=void 0);E<o.length;){if(vI.lastIndex=E,d=vI.exec(o),_=d&&d.index!==void 0?d.index:o.length,b=o.charCodeAt(_),!d){e=o.slice(E);break}if(b===10&&E===_&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),E<_&&(f.push(o.slice(E,_)),t+=_-E),b){case 0:{f.push(65533),t++;break}case 9:{for(m=Math.ceil(t/4)*4,f.push(-2);t++<m;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}E=_+1}return c&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const d$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function m$(t){return t.replace(d$,p$)}function p$(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return eD(n.slice(o?2:1),o?16:10)}return mT(n)||t}const cD={}.hasOwnProperty;function g$(t,e,n){return typeof e!="string"&&(n=e,e=void 0),E$(n)(h$(c$(n).document().write(f$()(t,e,!0))))}function E$(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(nn),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(Ge),blockQuote:o(Pe),characterEscape:O,characterReference:O,codeFenced:o(Qe),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Qe,u),codeText:o(Rt,u),codeTextData:O,data:O,codeFlowValue:O,definition:o(Ot),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Dt),hardBreakEscape:o(cn),hardBreakTrailing:o(cn),htmlFlow:o(Ke,u),htmlFlowData:O,htmlText:o(Ke,u),htmlTextData:O,image:o(qe),label:u,link:o(nn),listItem:o(Nn),listItemValue:_,listOrdered:o(Cn,E),listUnordered:o(Cn),paragraph:o(Mn),reference:P,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(Ge),strong:o(xn),thematicBreak:o(jn)},exit:{atxHeading:f(),atxHeadingSequence:ee,autolink:f(),autolinkEmail:Le,autolinkProtocol:Se,blockQuote:f(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:Ne,characterReferenceMarkerNumeric:Ne,characterReferenceValue:Ce,characterReference:He,codeFenced:f(k),codeFencedFence:N,codeFencedFenceInfo:b,codeFencedFenceMeta:A,codeFlowValue:M,codeIndented:f(D),codeText:f(K),codeTextData:M,data:M,definition:f(),definitionDestinationString:z,definitionLabelString:H,definitionTitleString:Y,emphasis:f(),hardBreakEscape:f(U),hardBreakTrailing:f(U),htmlFlow:f(I),htmlFlowData:M,htmlText:f(L),htmlTextData:M,image:f(Q),label:ie,labelText:re,lineEnding:B,link:f(V),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:pe,resourceDestinationString:S,resourceTitleString:J,resource:oe,setextHeading:f(x),setextHeadingLineSequence:R,setextHeadingText:$,strong:f(),thematicBreak:f()}};hD(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ae){let Te={type:"root",children:[]};const Ue={stack:[Te],tokenStack:[],config:e,enter:c,exit:d,buffer:u,resume:m,data:n},Ye=[];let lt=-1;for(;++lt<ae.length;)if(ae[lt][1].type==="listOrdered"||ae[lt][1].type==="listUnordered")if(ae[lt][0]==="enter")Ye.push(lt);else{const vt=Ye.pop();lt=s(ae,vt,lt)}for(lt=-1;++lt<ae.length;){const vt=e[ae[lt][0]];cD.call(vt,ae[lt][1].type)&&vt[ae[lt][1].type].call(Object.assign({sliceSerialize:ae[lt][2].sliceSerialize},Ue),ae[lt][1])}if(Ue.tokenStack.length>0){const vt=Ue.tokenStack[Ue.tokenStack.length-1];(vt[1]||SI).call(Ue,void 0,vt[0])}for(Te.position={start:Ka(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:Ka(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<e.transforms.length;)Te=e.transforms[lt](Te)||Te;return Te}function s(ae,Te,Ue){let Ye=Te-1,lt=-1,vt=!1,jt,qt,Yt,St;for(;++Ye<=Ue;){const ct=ae[Ye];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?lt++:lt--,St=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(jt&&!St&&!lt&&!Yt&&(Yt=Ye),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!lt&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||lt===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(jt){let en=Ye;for(qt=void 0;en--;){const Xt=ae[en];if(Xt[1].type==="lineEnding"||Xt[1].type==="lineEndingBlank"){if(Xt[0]==="exit")continue;qt&&(ae[qt][1].type="lineEndingBlank",vt=!0),Xt[1].type="lineEnding",qt=en}else if(!(Xt[1].type==="linePrefix"||Xt[1].type==="blockQuotePrefix"||Xt[1].type==="blockQuotePrefixWhitespace"||Xt[1].type==="blockQuoteMarker"||Xt[1].type==="listItemIndent"))break}Yt&&(!qt||Yt<qt)&&(jt._spread=!0),jt.end=Object.assign({},qt?ae[qt][1].start:ct[1].end),ae.splice(qt||Ye,0,["exit",jt,ct[2]]),Ye++,Ue++}if(ct[1].type==="listItemPrefix"){const en={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};jt=en,ae.splice(Ye,0,["enter",en,ct[2]]),Ye++,Ue++,Yt=void 0,St=!0}}}return ae[Te][1]._spread=vt,Ue}function o(ae,Te){return Ue;function Ue(Ye){c.call(this,ae(Ye),Ye),Te&&Te.call(this,Ye)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(ae,Te,Ue){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([Te,Ue||void 0]),ae.position={start:Ka(Te.start),end:void 0}}function f(ae){return Te;function Te(Ue){ae&&ae.call(this,Ue),d.call(this,Ue)}}function d(ae,Te){const Ue=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==ae.type&&(Te?Te.call(this,ae,Ye[0]):(Ye[1]||SI).call(this,ae,Ye[0]));else throw new Error("Cannot close `"+ae.type+"` ("+qh({start:ae.start,end:ae.end})+"): its not open");Ue.position.end=Ka(ae.end)}function m(){return pq(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function _(ae){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function b(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ae}function A(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ae}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function D(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae.replace(/(\r?\n|\r)$/g,"")}function H(ae){const Te=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Te,Ue.identifier=Fl(this.sliceSerialize(ae)).toLowerCase()}function Y(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ae}function z(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ae}function ee(ae){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ue=this.sliceSerialize(ae).length;Te.depth=Ue}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function R(ae){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function O(ae){const Ue=this.stack[this.stack.length-1].children;let Ye=Ue[Ue.length-1];(!Ye||Ye.type!=="text")&&(Ye=dn(),Ye.position={start:Ka(ae.start),end:void 0},Ue.push(Ye)),this.stack.push(Ye)}function M(ae){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ae),Te.position.end=Ka(ae.end)}function B(ae){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ue=Te.children[Te.children.length-1];Ue.position.end=Ka(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(O.call(this,ae),M.call(this,ae))}function U(){this.data.atHardBreak=!0}function I(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae}function L(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae}function K(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ae}function V(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Te,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function Q(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Te,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function re(ae){const Te=this.sliceSerialize(ae),Ue=this.stack[this.stack.length-2];Ue.label=m$(Te),Ue.identifier=Fl(Te).toLowerCase()}function ie(){const ae=this.stack[this.stack.length-1],Te=this.resume(),Ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ue.type==="link"){const Ye=ae.children;Ue.children=Ye}else Ue.alt=Te}function S(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ae}function J(){const ae=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ae}function oe(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function pe(ae){const Te=this.resume(),Ue=this.stack[this.stack.length-1];Ue.label=Te,Ue.identifier=Fl(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function Ne(ae){this.data.characterReferenceType=ae.type}function Ce(ae){const Te=this.sliceSerialize(ae),Ue=this.data.characterReferenceType;let Ye;Ue?(Ye=eD(Te,Ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=mT(Te);const lt=this.stack[this.stack.length-1];lt.value+=Ye}function He(ae){const Te=this.stack.pop();Te.position.end=Ka(ae.end)}function Se(ae){M.call(this,ae);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ae)}function Le(ae){M.call(this,ae);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ae)}function Pe(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function Rt(){return{type:"inlineCode",value:""}}function Ot(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Dt(){return{type:"emphasis",children:[]}}function Ge(){return{type:"heading",depth:0,children:[]}}function cn(){return{type:"break"}}function Ke(){return{type:"html",value:""}}function qe(){return{type:"image",title:null,url:"",alt:null}}function nn(){return{type:"link",title:null,url:"",children:[]}}function Cn(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function Nn(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function Mn(){return{type:"paragraph",children:[]}}function xn(){return{type:"strong",children:[]}}function dn(){return{type:"text",value:""}}function jn(){return{type:"thematicBreak"}}}function Ka(t){return{line:t.line,column:t.column,offset:t.offset}}function hD(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?hD(t,r):y$(t,r)}}function y$(t,e){let n;for(n in e)if(cD.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function SI(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+qh({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+qh({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+qh({start:e.start,end:e.end})+") is still open")}function _$(t){const e=this;e.parser=n;function n(r){return g$(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function T$(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function b$(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function v$(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function S$(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function A$(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function w$(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=dc(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,c=t.footnoteCounts.get(r);c===void 0?(c=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,c+=1,t.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,d),t.applyData(e,d)}function I$(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function C$(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function fD(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=t.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function N$(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return fD(t,e);const s={src:dc(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,o),t.applyData(e,o)}function x$(t,e){const n={src:dc(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function R$(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function O$(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return fD(t,e);const s={href:dc(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function D$(t,e){const n={href:dc(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function k$(t,e,n){const r=t.all(e),s=n?L$(n):dD(e),o={},u=[];if(typeof e.checked=="boolean"){const m=r[0];let E;m&&m.type==="element"&&m.tagName==="p"?E=m:(E={type:"element",tagName:"p",properties:{},children:[]},r.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const m=r[c];(s||c!==0||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!s?u.push(...m.children):u.push(m)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,d),t.applyData(e,d)}function L$(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=dD(n[r])}return e}function dD(t){const e=t.spread;return e??t.children.length>1}function M$(t,e){const n={},r=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function P$(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function B$(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function U$(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function V$(t,e){const n=t.all(e),r=n.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},c=Vs(e.children[1]),f=h0(e.children[e.children.length-1]);c&&f&&(u.position={start:c,end:f}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function F$(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,c=u?u.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const E=e.children[f],_={},b=u?u[f]:void 0;b&&(_.align=b);let A={type:"element",tagName:o,properties:_,children:[]};E&&(A.children=t.all(E),t.patch(E,A),A=t.applyData(E,A)),d.push(A)}const m={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,m),t.applyData(e,m)}function H$(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const AI=9,wI=32;function z$(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),s=0;const o=[];for(;r;)o.push(II(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(e);return o.push(II(e.slice(s),s>0,!1)),o.join("")}function II(t,e,n){let r=0,s=t.length;if(e){let o=t.codePointAt(r);for(;o===AI||o===wI;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(s-1);for(;o===AI||o===wI;)s--,o=t.codePointAt(s-1)}return s>r?t.slice(r,s):""}function j$(t,e){const n={type:"text",value:z$(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function q$(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Y$={blockquote:T$,break:b$,code:v$,delete:S$,emphasis:A$,footnoteReference:w$,heading:I$,html:C$,imageReference:N$,image:x$,inlineCode:R$,linkReference:O$,link:D$,listItem:k$,list:M$,paragraph:P$,root:B$,strong:U$,table:V$,tableCell:H$,tableRow:F$,text:j$,thematicBreak:q$,toml:wm,yaml:wm,definition:wm,footnoteDefinition:wm};function wm(){}const mD=-1,d0=0,$h=1,Np=2,ET=3,yT=4,_T=5,TT=6,pD=7,gD=8,CI=typeof self=="object"?self:globalThis,$$=(t,e)=>{const n=(s,o)=>(t.set(o,s),s),r=s=>{if(t.has(s))return t.get(s);const[o,u]=e[s];switch(o){case d0:case mD:return n(u,s);case $h:{const c=n([],s);for(const f of u)c.push(r(f));return c}case Np:{const c=n({},s);for(const[f,d]of u)c[r(f)]=r(d);return c}case ET:return n(new Date(u),s);case yT:{const{source:c,flags:f}=u;return n(new RegExp(c,f),s)}case _T:{const c=n(new Map,s);for(const[f,d]of u)c.set(r(f),r(d));return c}case TT:{const c=n(new Set,s);for(const f of u)c.add(r(f));return c}case pD:{const{name:c,message:f}=u;return n(new CI[c](f),s)}case gD:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return n(new DataView(c),u)}}return n(new CI[o](u),s)};return r},NI=t=>$$(new Map,t)(0),bl="",{toString:G$}={},{keys:K$}=Object,Ah=t=>{const e=typeof t;if(e!=="object"||!t)return[d0,e];const n=G$.call(t).slice(8,-1);switch(n){case"Array":return[$h,bl];case"Object":return[Np,bl];case"Date":return[ET,bl];case"RegExp":return[yT,bl];case"Map":return[_T,bl];case"Set":return[TT,bl];case"DataView":return[$h,n]}return n.includes("Array")?[$h,n]:n.includes("Error")?[pD,n]:[Np,n]},Im=([t,e])=>t===d0&&(e==="function"||e==="symbol"),X$=(t,e,n,r)=>{const s=(u,c)=>{const f=r.push(u)-1;return n.set(c,f),f},o=u=>{if(n.has(u))return n.get(u);let[c,f]=Ah(u);switch(c){case d0:{let m=u;switch(f){case"bigint":c=gD,m=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return s([mD],u)}return s([c,m],u)}case $h:{if(f){let _=u;return f==="DataView"?_=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(_=new Uint8Array(u)),s([f,[..._]],u)}const m=[],E=s([c,m],u);for(const _ of u)m.push(o(_));return E}case Np:{if(f)switch(f){case"BigInt":return s([f,u.toString()],u);case"Boolean":case"Number":case"String":return s([f,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const m=[],E=s([c,m],u);for(const _ of K$(u))(t||!Im(Ah(u[_])))&&m.push([o(_),o(u[_])]);return E}case ET:return s([c,u.toISOString()],u);case yT:{const{source:m,flags:E}=u;return s([c,{source:m,flags:E}],u)}case _T:{const m=[],E=s([c,m],u);for(const[_,b]of u)(t||!(Im(Ah(_))||Im(Ah(b))))&&m.push([o(_),o(b)]);return E}case TT:{const m=[],E=s([c,m],u);for(const _ of u)(t||!Im(Ah(_)))&&m.push(o(_));return E}}const{message:d}=u;return s([c,{name:f,message:d}],u)};return o},xI=(t,{json:e,lossy:n}={})=>{const r=[];return X$(!(e||n),!!e,new Map,r)(t),r},ec=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?NI(xI(t,e)):structuredClone(t):(t,e)=>NI(xI(t,e));function Q$(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function W$(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Z$(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Q$,r=t.options.footnoteBackLabel||W$,s=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[f]);if(!d)continue;const m=t.all(d),E=String(d.identifier).toUpperCase(),_=dc(E.toLowerCase());let b=0;const A=[],N=t.footnoteCounts.get(E);for(;N!==void 0&&++b<=N;){A.length>0&&A.push({type:"text",value:" "});let H=typeof n=="string"?n:n(f,b);typeof H=="string"&&(H={type:"text",value:H}),A.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+_+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,b),className:["data-footnote-backref"]},children:Array.isArray(H)?H:[H]})}const k=m[m.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const H=k.children[k.children.length-1];H&&H.type==="text"?H.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...A)}else m.push(...A);const D={type:"element",tagName:"li",properties:{id:e+"fn-"+_},children:t.wrap(m,!0)};t.patch(d,D),c.push(D)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...ec(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(c,!0)},{type:"text",value:`
`}]}}const ED=function(t){if(t==null)return nG;if(typeof t=="function")return m0(t);if(typeof t=="object")return Array.isArray(t)?J$(t):eG(t);if(typeof t=="string")return tG(t);throw new Error("Expected function, string, or object as test")};function J$(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ED(t[n]);return m0(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function eG(t){const e=t;return m0(n);function n(r){const s=r;let o;for(o in t)if(s[o]!==e[o])return!1;return!0}}function tG(t){return m0(e);function e(n){return n&&n.type===t}}function m0(t){return e;function e(n,r,s){return!!(rG(n)&&t.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function nG(){return!0}function rG(t){return t!==null&&typeof t=="object"&&"type"in t}const yD=[],iG=!0,RI=!1,sG="skip";function aG(t,e,n,r){let s;typeof e=="function"&&typeof n!="function"?(r=n,n=e):s=e;const o=ED(s),u=r?-1:1;c(t,void 0,[])();function c(f,d,m){const E=f&&typeof f=="object"?f:{};if(typeof E.type=="string"){const b=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(_,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return _;function _(){let b=yD,A,N,k;if((!e||o(f,d,m[m.length-1]||void 0))&&(b=oG(n(f,m)),b[0]===RI))return b;if("children"in f&&f.children){const D=f;if(D.children&&b[0]!==sG)for(N=(r?D.children.length:-1)+u,k=m.concat(D);N>-1&&N<D.children.length;){const H=D.children[N];if(A=c(H,N,k)(),A[0]===RI)return A;N=typeof A[1]=="number"?A[1]:N+u}}return b}}}function oG(t){return Array.isArray(t)?t:typeof t=="number"?[iG,t]:t==null?yD:[t]}function bT(t,e,n,r){let s,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,s=n):(o=e,u=n,s=r),aG(t,o,c,s);function c(f,d){const m=d[d.length-1],E=m?m.children.indexOf(f):void 0;return u(f,E,m)}}const A_={}.hasOwnProperty,uG={};function lG(t,e){const n=e||uG,r=new Map,s=new Map,o=new Map,u={...Y$,...n.handlers},c={all:d,applyData:hG,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:cG,wrap:dG};return bT(t,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const E=m.type==="definition"?r:s,_=String(m.identifier).toUpperCase();E.has(_)||E.set(_,m)}}),c;function f(m,E){const _=m.type,b=c.handlers[_];if(A_.call(c.handlers,_)&&b)return b(c,m,E);if(c.options.passThrough&&c.options.passThrough.includes(_)){if("children"in m){const{children:N,...k}=m,D=ec(k);return D.children=c.all(m),D}return ec(m)}return(c.options.unknownHandler||fG)(c,m,E)}function d(m){const E=[];if("children"in m){const _=m.children;let b=-1;for(;++b<_.length;){const A=c.one(_[b],m);if(A){if(b&&_[b-1].type==="break"&&(!Array.isArray(A)&&A.type==="text"&&(A.value=OI(A.value)),!Array.isArray(A)&&A.type==="element")){const N=A.children[0];N&&N.type==="text"&&(N.value=OI(N.value))}Array.isArray(A)?E.push(...A):E.push(A)}}}return E}}function cG(t,e){t.position&&(e.position=Gj(t))}function hG(t,e){let n=e;if(t&&t.data){const r=t.data.hName,s=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,ec(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function fG(t,e){const n=e.data||{},r="value"in e&&!(A_.call(n,"hProperties")||A_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function dG(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function OI(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function DI(t,e){const n=lG(t,e),r=n.one(t,void 0),s=Z$(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function mG(t,e){return t&&"run"in t?async function(n,r){const s=DI(n,{file:r,...e});await t.run(s,r)}:function(n,r){return DI(n,{file:r,...t||e})}}function kI(t){if(t)throw t}var ly,LI;function pG(){if(LI)return ly;LI=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var m=t.call(d,"constructor"),E=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!m&&!E)return!1;var _;for(_ in d);return typeof _>"u"||t.call(d,_)},u=function(d,m){n&&m.name==="__proto__"?n(d,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):d[m.name]=m.newValue},c=function(d,m){if(m==="__proto__")if(t.call(d,m)){if(r)return r(d,m).value}else return;return d[m]};return ly=function f(){var d,m,E,_,b,A,N=arguments[0],k=1,D=arguments.length,H=!1;for(typeof N=="boolean"&&(H=N,N=arguments[1]||{},k=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});k<D;++k)if(d=arguments[k],d!=null)for(m in d)E=c(N,m),_=c(d,m),N!==_&&(H&&_&&(o(_)||(b=s(_)))?(b?(b=!1,A=E&&s(E)?E:[]):A=E&&o(E)?E:{},u(N,{name:m,newValue:f(H,A,_)})):typeof _<"u"&&u(N,{name:m,newValue:_}));return N},ly}var gG=pG();const cy=Tu(gG);function w_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function EG(){const t=[],e={run:n,use:r};return e;function n(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...s);function c(f,...d){const m=t[++o];let E=-1;if(f){u(f);return}for(;++E<s.length;)(d[E]===null||d[E]===void 0)&&(d[E]=s[E]);s=d,m?yG(m,c)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function yG(t,e){let n;return r;function r(...u){const c=t.length>u.length;let f;c&&u.push(s);try{f=t.apply(this,u)}catch(d){const m=d;if(c&&n)throw m;return s(m)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(u,...c){n||(n=!0,e(u,...c))}function o(u){s(null,u)}}const As={basename:_G,dirname:TG,extname:bG,join:vG,sep:"/"};function _G(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Hf(t);let n=0,r=-1,s=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,c=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(o){n=s+1;break}}else u<0&&(o=!0,u=s+1),c>-1&&(t.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function TG(t){if(Hf(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function bG(t){Hf(t);let e=t.length,n=-1,r=0,s=-1,o=0,u;for(;e--;){const c=t.codePointAt(e);if(c===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":t.slice(s,n)}function vG(...t){let e=-1,n;for(;++e<t.length;)Hf(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":SG(n)}function SG(t){Hf(t);const e=t.codePointAt(0)===47;let n=AG(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function AG(t,e){let n="",r=0,s=-1,o=0,u=-1,c,f;for(;++u<=t.length;){if(u<t.length)c=t.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=u,o=0;continue}}else if(n.length>0){n="",r=0,s=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),r=u-s-1;s=u,o=0}else c===46&&o>-1?o++:o=-1}return n}function Hf(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const wG={cwd:IG};function IG(){return"/"}function I_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function CG(t){if(typeof t=="string")t=new URL(t);else if(!I_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return NG(t)}function NG(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const hy=["history","path","basename","stem","extname","dirname"];class _D{constructor(e){let n;e?I_(e)?n={path:e}:typeof e=="string"||xG(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":wG.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<hy.length;){const o=hy[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)hy.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?As.basename(this.path):void 0}set basename(e){dy(e,"basename"),fy(e,"basename"),this.path=As.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?As.dirname(this.path):void 0}set dirname(e){MI(this.basename,"dirname"),this.path=As.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?As.extname(this.path):void 0}set extname(e){if(fy(e,"extname"),MI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=As.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){I_(e)&&(e=CG(e)),dy(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?As.basename(this.path,this.extname):void 0}set stem(e){dy(e,"stem"),fy(e,"stem"),this.path=As.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const s=this.message(e,n,r);throw s.fatal=!0,s}info(e,n,r){const s=this.message(e,n,r);return s.fatal=void 0,s}message(e,n,r){const s=new Rr(e,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function fy(t,e){if(t&&t.includes(As.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+As.sep+"`")}function dy(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function MI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function xG(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const RG=function(t){const r=this.constructor.prototype,s=r[t],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},OG={}.hasOwnProperty;class vT extends RG{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=EG()}copy(){const e=new vT;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(cy(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(gy("data",this.frozen),this.namespace[e]=n,this):OG.call(this.namespace,e)&&this.namespace[e]||void 0:e?(gy("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Cm(e),r=this.parser||this.Parser;return my("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),my("process",this.parser||this.Parser),py("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,u){const c=Cm(e),f=r.parse(c);r.run(f,c,function(m,E,_){if(m||!E||!_)return d(m);const b=E,A=r.stringify(b,_);LG(A)?_.value=A:_.result=A,d(m,_)});function d(m,E){m||!E?u(m):o?o(E):n(void 0,E)}}}processSync(e){let n=!1,r;return this.freeze(),my("processSync",this.parser||this.Parser),py("processSync",this.compiler||this.Compiler),this.process(e,s),BI("processSync","process",n),r;function s(o,u){n=!0,kI(o),r=u}}run(e,n,r){PI(e),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,c){const f=Cm(n);s.run(e,f,d);function d(m,E,_){const b=E||e;m?c(m):u?u(b):r(void 0,b,_)}}}runSync(e,n){let r=!1,s;return this.run(e,n,o),BI("runSync","run",r),s;function o(u,c){kI(u),s=c,r=!0}}stringify(e,n){this.freeze();const r=Cm(n),s=this.compiler||this.Compiler;return py("stringify",s),PI(e),s(e,r)}use(e,...n){const r=this.attachers,s=this.namespace;if(gy("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[m,...E]=d;f(m,E)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=cy(!0,s.settings,d.settings))}function c(d){let m=-1;if(d!=null)if(Array.isArray(d))for(;++m<d.length;){const E=d[m];o(E)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,m){let E=-1,_=-1;for(;++E<r.length;)if(r[E][0]===d){_=E;break}if(_===-1)r.push([d,...m]);else if(m.length>0){let[b,...A]=m;const N=r[_][1];w_(N)&&w_(b)&&(b=cy(!0,N,b)),r[_]=[d,b,...A]}}}}const DG=new vT().freeze();function my(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function py(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function gy(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function PI(t){if(!w_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function BI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Cm(t){return kG(t)?t:new _D(t)}function kG(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function LG(t){return typeof t=="string"||MG(t)}function MG(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const PG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",UI=[],VI={allowDangerousHtml:!0},BG=/^(https?|ircs?|mailto|xmpp)$/i,UG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function VG(t){const e=FG(t),n=HG(t);return zG(e.runSync(e.parse(n),n),t)}function FG(t){const e=t.rehypePlugins||UI,n=t.remarkPlugins||UI,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...VI}:VI;return DG().use(_$).use(n).use(mG,r).use(e)}function HG(t){const e=t.children||"",n=new _D;return typeof e=="string"&&(n.value=e),n}function zG(t,e){const n=e.allowedElements,r=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||jG;for(const m of UG)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+PG+m.id,void 0);return bT(t,d),Zj(t,{Fragment:te.Fragment,components:s,ignoreInvalidStyle:!0,jsx:te.jsx,jsxs:te.jsxs,passKeys:!0,passNode:!0});function d(m,E,_){if(m.type==="raw"&&_&&typeof E=="number")return u?_.children.splice(E,1):_.children[E]={type:"text",value:m.value},E;if(m.type==="element"){let b;for(b in ay)if(Object.hasOwn(ay,b)&&Object.hasOwn(m.properties,b)){const A=m.properties[b],N=ay[b];(N===null||N.includes(m.tagName))&&(m.properties[b]=f(String(A||""),b,m))}}if(m.type==="element"){let b=n?!n.includes(m.tagName):o?o.includes(m.tagName):!1;if(!b&&r&&typeof E=="number"&&(b=!r(m,E,_)),b&&_&&typeof E=="number")return c&&m.children?_.children.splice(E,1,...m.children):_.children.splice(E,1),E}}}function jG(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||r!==-1&&e>r||BG.test(t.slice(0,e))?t:""}const FI=/[#.]/g;function qG(t,e){const n=t||"",r={};let s=0,o,u;for(;s<n.length;){FI.lastIndex=s;const c=FI.exec(n),f=n.slice(s,c?c.index:n.length);f&&(o?o==="#"?r.id=f:Array.isArray(r.className)?r.className.push(f):r.className=[f]:u=f,s+=f.length),c&&(o=c[0],s++)}return{type:"element",tagName:u||e||"div",properties:r,children:[]}}function TD(t,e,n){const r=n?KG(n):void 0;function s(o,u,...c){let f;if(o==null){f={type:"root",children:[]};const d=u;c.unshift(d)}else{f=qG(o,e);const d=f.tagName.toLowerCase(),m=r?r.get(d):void 0;if(f.tagName=m||d,YG(u))c.unshift(u);else for(const[E,_]of Object.entries(u))$G(t,f.properties,E,_)}for(const d of c)C_(f.children,d);return f.type==="element"&&f.tagName==="template"&&(f.content={type:"root",children:f.children},f.children=[]),f}return s}function YG(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const s=e[r];if(s&&typeof s=="object"){if(!Array.isArray(s))return!0;const o=s;for(const u of o)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function $G(t,e,n,r){const s=cT(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?s.spaceSeparated?o=sI(r):s.commaSeparated?o=eI(r):s.commaOrSpaceSeparated?o=sI(eI(r).join(" ")):o=HI(s,s.property,r):Array.isArray(r)?o=[...r]:o=s.property==="style"?GG(r):String(r);if(Array.isArray(o)){const u=[];for(const c of o)u.push(HI(s,s.property,c));o=u}s.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[s.property]=o}}function C_(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)C_(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?C_(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function HI(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||yf(n)===yf(e)))return!0}return n}function GG(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function KG(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const XG=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],QG=TD(c0,"div"),WG=TD(fc,"g",XG);function ZG(t){const e=String(t),n=[];return{toOffset:s,toPoint:r};function r(o){if(typeof o=="number"&&o>-1&&o<=e.length){let u=0;for(;;){let c=n[u];if(c===void 0){const f=zI(e,n[u-1]);c=f===-1?e.length+1:f+1,n[u]=c}if(c>o)return{line:u+1,column:o-(u>0?n[u-1]:0)+1,offset:o};u++}}}function s(o){if(o&&typeof o.line=="number"&&typeof o.column=="number"&&!Number.isNaN(o.line)&&!Number.isNaN(o.column)){for(;n.length<o.line;){const c=n[n.length-1],f=zI(e,c),d=f===-1?e.length+1:f+1;if(c===d)break;n.push(d)}const u=(o.line>1?n[o.line-2]:0)+o.column-1;if(u<n[o.line-1])return u}}}function zI(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const uu={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bD={}.hasOwnProperty,JG=Object.prototype;function eK(t,e){const n=e||{};return ST({file:n.file||void 0,location:!1,schema:n.space==="svg"?fc:c0,verbose:n.verbose||!1},t)}function ST(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},qm(t,r,n),n}case"#document":case"#document-fragment":{const r=e,s="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:vD(t,e.childNodes),data:{quirksMode:s}},t.file&&t.location){const o=String(t.file),u=ZG(o),c=u.toPoint(0),f=u.toPoint(o.length);n.position={start:c,end:f}}return n}case"#documentType":{const r=e;return n={type:"doctype"},qm(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},qm(t,r,n),n}default:return n=tK(t,e),n}}function vD(t,e){let n=-1;const r=[];for(;++n<e.length;){const s=ST(t,e[n]);r.push(s)}return r}function tK(t,e){const n=t.schema;t.schema=e.namespaceURI===uu.svg?fc:c0;let r=-1;const s={};for(;++r<e.attrs.length;){const c=e.attrs[r],f=(c.prefix?c.prefix+":":"")+c.name;bD.call(JG,f)||(s[f]=c.value)}const u=(t.schema.space==="svg"?WG:QG)(e.tagName,s,vD(t,e.childNodes));if(qm(t,e,u),u.tagName==="template"){const c=e,f=c.sourceCodeLocation,d=f&&f.startTag&&Rl(f.startTag),m=f&&f.endTag&&Rl(f.endTag),E=ST(t,c.content);d&&m&&t.file&&(E.position={start:d.end,end:m.start}),u.content=E}return t.schema=n,u}function qm(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=nK(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function nK(t,e,n){const r=Rl(n);if(e.type==="element"){const s=e.children[e.children.length-1];if(r&&!n.endTag&&s&&s.position&&s.position.end&&(r.end=Object.assign({},s.position.end)),t.verbose){const o={};let u;if(n.attrs)for(u in n.attrs)bD.call(n.attrs,u)&&(o[cT(t.schema,u).property]=Rl(n.attrs[u]));n.startTag;const c=Rl(n.startTag),f=n.endTag?Rl(n.endTag):void 0,d={opening:c};f&&(d.closing=f),d.properties=o,e.data={position:d}}}return r}function Rl(t){const e=jI({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=jI({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function jI(t){return t.line&&t.column?t:void 0}class zf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}zf.prototype.property={};zf.prototype.normal={};zf.prototype.space=null;function SD(t,e){const n={},r={};let s=-1;for(;++s<t.length;)Object.assign(n,t[s].property),Object.assign(r,t[s].normal);return new zf(n,r,e)}function N_(t){return t.toLowerCase()}class $i{constructor(e,n){this.property=e,this.attribute=n}}$i.prototype.space=null;$i.prototype.boolean=!1;$i.prototype.booleanish=!1;$i.prototype.overloadedBoolean=!1;$i.prototype.number=!1;$i.prototype.commaSeparated=!1;$i.prototype.spaceSeparated=!1;$i.prototype.commaOrSpaceSeparated=!1;$i.prototype.mustUseProperty=!1;$i.prototype.defined=!1;let rK=0;const at=Cu(),Hn=Cu(),AD=Cu(),ke=Cu(),on=Cu(),Hl=Cu(),gi=Cu();function Cu(){return 2**++rK}const x_=Object.freeze(Object.defineProperty({__proto__:null,boolean:at,booleanish:Hn,commaOrSpaceSeparated:gi,commaSeparated:Hl,number:ke,overloadedBoolean:AD,spaceSeparated:on},Symbol.toStringTag,{value:"Module"})),Ey=Object.keys(x_);class AT extends $i{constructor(e,n,r,s){let o=-1;if(super(e,n),qI(this,"space",s),typeof r=="number")for(;++o<Ey.length;){const u=Ey[o];qI(this,Ey[o],(r&x_[u])===x_[u])}}}AT.prototype.defined=!0;function qI(t,e,n){n&&(t[e]=n)}const iK={}.hasOwnProperty;function mc(t){const e={},n={};let r;for(r in t.properties)if(iK.call(t.properties,r)){const s=t.properties[r],o=new AT(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[N_(r)]=r,n[N_(o.attribute)]=r}return new zf(e,n,t.space)}const wD=mc({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ID=mc({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function CD(t,e){return e in t?t[e]:e}function ND(t,e){return CD(t,e.toLowerCase())}const xD=mc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:ND,properties:{xmlns:null,xmlnsXLink:null}}),RD=mc({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Hn,ariaAutoComplete:null,ariaBusy:Hn,ariaChecked:Hn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:on,ariaCurrent:null,ariaDescribedBy:on,ariaDetails:null,ariaDisabled:Hn,ariaDropEffect:on,ariaErrorMessage:null,ariaExpanded:Hn,ariaFlowTo:on,ariaGrabbed:Hn,ariaHasPopup:null,ariaHidden:Hn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:on,ariaLevel:ke,ariaLive:null,ariaModal:Hn,ariaMultiLine:Hn,ariaMultiSelectable:Hn,ariaOrientation:null,ariaOwns:on,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:Hn,ariaReadOnly:Hn,ariaRelevant:null,ariaRequired:Hn,ariaRoleDescription:on,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:Hn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null}}),sK=mc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:ND,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Hl,acceptCharset:on,accessKey:on,action:null,allow:null,allowFullScreen:at,allowPaymentRequest:at,allowUserMedia:at,alt:null,as:null,async:at,autoCapitalize:null,autoComplete:on,autoFocus:at,autoPlay:at,blocking:on,capture:null,charSet:null,checked:at,cite:null,className:on,cols:ke,colSpan:null,content:null,contentEditable:Hn,controls:at,controlsList:on,coords:ke|Hl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:at,defer:at,dir:null,dirName:null,disabled:at,download:AD,draggable:Hn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:at,formTarget:null,headers:on,height:ke,hidden:at,high:ke,href:null,hrefLang:null,htmlFor:on,httpEquiv:on,id:null,imageSizes:null,imageSrcSet:null,inert:at,inputMode:null,integrity:null,is:null,isMap:at,itemId:null,itemProp:on,itemRef:on,itemScope:at,itemType:on,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:at,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:at,muted:at,name:null,nonce:null,noModule:at,noValidate:at,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:at,optimum:ke,pattern:null,ping:on,placeholder:null,playsInline:at,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:at,referrerPolicy:null,rel:on,required:at,reversed:at,rows:ke,rowSpan:ke,sandbox:on,scope:null,scoped:at,seamless:at,selected:at,shadowRootClonable:at,shadowRootDelegatesFocus:at,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:Hn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:at,useMap:null,value:Hn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:on,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:at,declare:at,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:at,noHref:at,noShade:at,noWrap:at,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:Hn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:at,disableRemotePlayback:at,prefix:null,property:null,results:ke,security:null,unselectable:null}}),aK=mc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:CD,properties:{about:gi,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:on,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:at,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Hl,g2:Hl,glyphName:Hl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:gi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:on,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gi,rev:gi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gi,requiredFeatures:gi,requiredFonts:gi,requiredFormats:gi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:gi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gi,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),oK=/^data[-\w.:]+$/i,YI=/-[a-z]/g,uK=/[A-Z]/g;function lK(t,e){const n=N_(e);let r=e,s=$i;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oK.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(YI,hK);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!YI.test(o)){let u=o.replace(uK,cK);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=AT}return new s(r,e)}function cK(t){return"-"+t.toLowerCase()}function hK(t){return t.charAt(1).toUpperCase()}const fK=SD([ID,wD,xD,RD,sK],"html"),OD=SD([ID,wD,xD,RD,aK],"svg"),$I={}.hasOwnProperty;function DD(t,e){const n=e||{};function r(s,...o){let u=r.invalid;const c=r.handlers;if(s&&$I.call(s,t)){const f=String(s[t]);u=$I.call(c,f)?c[f]:r.unknown}if(u)return u.call(this,s,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const dK={},mK={}.hasOwnProperty,kD=DD("type",{handlers:{root:gK,element:bK,text:_K,comment:TK,doctype:yK}});function pK(t,e){const r=(e||dK).space;return kD(t,r==="svg"?OD:fK)}function gK(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=wT(t.children,n,e),pc(t,n),n}function EK(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=wT(t.children,n,e),pc(t,n),n}function yK(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return pc(t,e),e}function _K(t){const e={nodeName:"#text",value:t.value,parentNode:null};return pc(t,e),e}function TK(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return pc(t,e),e}function bK(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=OD);const s=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&mK.call(t.properties,o)){const f=vK(r,o,t.properties[o]);f&&s.push(f)}}const u=r.space,c={nodeName:t.tagName,tagName:t.tagName,attrs:s,namespaceURI:uu[u],childNodes:[],parentNode:null};return c.childNodes=wT(t.children,c,r),pc(t,c),t.tagName==="template"&&t.content&&(c.content=EK(t.content,r)),c}function vK(t,e,n){const r=lK(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?VO(n):GO(n));const s={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=s.name.indexOf(":");o<0?s.prefix="":(s.name=s.name.slice(o+1),s.prefix=r.attribute.slice(0,o)),s.namespace=uu[r.space]}return s}function wT(t,e,n){let r=-1;const s=[];if(t)for(;++r<t.length;){const o=kD(t[r],n);o.parentNode=e,s.push(o)}return s}function pc(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const SK=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],AK=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),En="";var G;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(G||(G={}));const Qr={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function LD(t){return t>=55296&&t<=57343}function wK(t){return t>=56320&&t<=57343}function IK(t,e){return(t-55296)*1024+9216+e}function MD(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function PD(t){return t>=64976&&t<=65007||AK.has(t)}var _e;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(_e||(_e={}));const CK=65536;class NK{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=CK,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:s,offset:o}=this,u=s+n,c=o+n;return{code:e,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(wK(n))return this.pos++,this._addGap(),IK(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,G.EOF;return this._err(_e.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;const r=this.html.charCodeAt(n);return r===G.CARRIAGE_RETURN?G.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,G.EOF;let e=this.html.charCodeAt(this.pos);return e===G.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,G.LINE_FEED):e===G.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,LD(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===G.LINE_FEED||e===G.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){MD(e)?this._err(_e.controlCharacterInInputStream):PD(e)&&this._err(_e.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var pt;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(pt||(pt={}));function BD(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const xK=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),RK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function OK(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=RK.get(t))!==null&&e!==void 0?e:t}var ur;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ur||(ur={}));const DK=32;var oo;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(oo||(oo={}));function R_(t){return t>=ur.ZERO&&t<=ur.NINE}function kK(t){return t>=ur.UPPER_A&&t<=ur.UPPER_F||t>=ur.LOWER_A&&t<=ur.LOWER_F}function LK(t){return t>=ur.UPPER_A&&t<=ur.UPPER_Z||t>=ur.LOWER_A&&t<=ur.LOWER_Z||R_(t)}function MK(t){return t===ur.EQUALS||LK(t)}var ar;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(ar||(ar={}));var ua;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(ua||(ua={}));class PK{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=ar.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ua.Strict}startEntity(e){this.decodeMode=e,this.state=ar.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case ar.EntityStart:return e.charCodeAt(n)===ur.NUM?(this.state=ar.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=ar.NamedEntity,this.stateNamedEntity(e,n));case ar.NumericStart:return this.stateNumericStart(e,n);case ar.NumericDecimal:return this.stateNumericDecimal(e,n);case ar.NumericHex:return this.stateNumericHex(e,n);case ar.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|DK)===ur.LOWER_X?(this.state=ar.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=ar.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,s){if(n!==r){const o=r-n;this.result=this.result*Math.pow(s,o)+Number.parseInt(e.substr(n,o),s),this.consumed+=o}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(R_(s)||kK(s))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(R_(s))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ur.SEMI)this.consumed+=1;else if(this.decodeMode===ua.Strict)return 0;return this.emitCodePoint(OK(this.result),this.consumed),this.errors&&(e!==ur.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let s=r[this.treeIndex],o=(s&oo.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const u=e.charCodeAt(n);if(this.treeIndex=BK(r,s,this.treeIndex+Math.max(1,o),u),this.treeIndex<0)return this.result===0||this.decodeMode===ua.Attribute&&(o===0||MK(u))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],o=(s&oo.VALUE_LENGTH)>>14,o!==0){if(u===ur.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==ua.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,s=(r[n]&oo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~oo.VALUE_LENGTH:s[e+1],r),n===3&&this.emitCodePoint(s[e+2],r),r}end(){var e;switch(this.state){case ar.NamedEntity:return this.result!==0&&(this.decodeMode!==ua.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case ar.NumericDecimal:return this.emitNumericEntity(0,2);case ar.NumericHex:return this.emitNumericEntity(0,3);case ar.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case ar.EntityStart:return 0}}}function BK(t,e,n,r){const s=(e&oo.BRANCH_LENGTH)>>7,o=e&oo.JUMP_TABLE;if(s===0)return o!==0&&r===o?n:-1;if(o){const f=r-o;return f<0||f>=s?-1:t[n+f]-1}let u=n,c=u+s-1;for(;u<=c;){const f=u+c>>>1,d=t[f];if(d<r)u=f+1;else if(d>r)c=f-1;else return t[f+s]}return-1}var xe;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(xe||(xe={}));var hu;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(hu||(hu={}));var ji;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(ji||(ji={}));var he;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(he||(he={}));var T;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(T||(T={}));const UK=new Map([[he.A,T.A],[he.ADDRESS,T.ADDRESS],[he.ANNOTATION_XML,T.ANNOTATION_XML],[he.APPLET,T.APPLET],[he.AREA,T.AREA],[he.ARTICLE,T.ARTICLE],[he.ASIDE,T.ASIDE],[he.B,T.B],[he.BASE,T.BASE],[he.BASEFONT,T.BASEFONT],[he.BGSOUND,T.BGSOUND],[he.BIG,T.BIG],[he.BLOCKQUOTE,T.BLOCKQUOTE],[he.BODY,T.BODY],[he.BR,T.BR],[he.BUTTON,T.BUTTON],[he.CAPTION,T.CAPTION],[he.CENTER,T.CENTER],[he.CODE,T.CODE],[he.COL,T.COL],[he.COLGROUP,T.COLGROUP],[he.DD,T.DD],[he.DESC,T.DESC],[he.DETAILS,T.DETAILS],[he.DIALOG,T.DIALOG],[he.DIR,T.DIR],[he.DIV,T.DIV],[he.DL,T.DL],[he.DT,T.DT],[he.EM,T.EM],[he.EMBED,T.EMBED],[he.FIELDSET,T.FIELDSET],[he.FIGCAPTION,T.FIGCAPTION],[he.FIGURE,T.FIGURE],[he.FONT,T.FONT],[he.FOOTER,T.FOOTER],[he.FOREIGN_OBJECT,T.FOREIGN_OBJECT],[he.FORM,T.FORM],[he.FRAME,T.FRAME],[he.FRAMESET,T.FRAMESET],[he.H1,T.H1],[he.H2,T.H2],[he.H3,T.H3],[he.H4,T.H4],[he.H5,T.H5],[he.H6,T.H6],[he.HEAD,T.HEAD],[he.HEADER,T.HEADER],[he.HGROUP,T.HGROUP],[he.HR,T.HR],[he.HTML,T.HTML],[he.I,T.I],[he.IMG,T.IMG],[he.IMAGE,T.IMAGE],[he.INPUT,T.INPUT],[he.IFRAME,T.IFRAME],[he.KEYGEN,T.KEYGEN],[he.LABEL,T.LABEL],[he.LI,T.LI],[he.LINK,T.LINK],[he.LISTING,T.LISTING],[he.MAIN,T.MAIN],[he.MALIGNMARK,T.MALIGNMARK],[he.MARQUEE,T.MARQUEE],[he.MATH,T.MATH],[he.MENU,T.MENU],[he.META,T.META],[he.MGLYPH,T.MGLYPH],[he.MI,T.MI],[he.MO,T.MO],[he.MN,T.MN],[he.MS,T.MS],[he.MTEXT,T.MTEXT],[he.NAV,T.NAV],[he.NOBR,T.NOBR],[he.NOFRAMES,T.NOFRAMES],[he.NOEMBED,T.NOEMBED],[he.NOSCRIPT,T.NOSCRIPT],[he.OBJECT,T.OBJECT],[he.OL,T.OL],[he.OPTGROUP,T.OPTGROUP],[he.OPTION,T.OPTION],[he.P,T.P],[he.PARAM,T.PARAM],[he.PLAINTEXT,T.PLAINTEXT],[he.PRE,T.PRE],[he.RB,T.RB],[he.RP,T.RP],[he.RT,T.RT],[he.RTC,T.RTC],[he.RUBY,T.RUBY],[he.S,T.S],[he.SCRIPT,T.SCRIPT],[he.SEARCH,T.SEARCH],[he.SECTION,T.SECTION],[he.SELECT,T.SELECT],[he.SOURCE,T.SOURCE],[he.SMALL,T.SMALL],[he.SPAN,T.SPAN],[he.STRIKE,T.STRIKE],[he.STRONG,T.STRONG],[he.STYLE,T.STYLE],[he.SUB,T.SUB],[he.SUMMARY,T.SUMMARY],[he.SUP,T.SUP],[he.TABLE,T.TABLE],[he.TBODY,T.TBODY],[he.TEMPLATE,T.TEMPLATE],[he.TEXTAREA,T.TEXTAREA],[he.TFOOT,T.TFOOT],[he.TD,T.TD],[he.TH,T.TH],[he.THEAD,T.THEAD],[he.TITLE,T.TITLE],[he.TR,T.TR],[he.TRACK,T.TRACK],[he.TT,T.TT],[he.U,T.U],[he.UL,T.UL],[he.SVG,T.SVG],[he.VAR,T.VAR],[he.WBR,T.WBR],[he.XMP,T.XMP]]);function gc(t){var e;return(e=UK.get(t))!==null&&e!==void 0?e:T.UNKNOWN}const Re=T,VK={[xe.HTML]:new Set([Re.ADDRESS,Re.APPLET,Re.AREA,Re.ARTICLE,Re.ASIDE,Re.BASE,Re.BASEFONT,Re.BGSOUND,Re.BLOCKQUOTE,Re.BODY,Re.BR,Re.BUTTON,Re.CAPTION,Re.CENTER,Re.COL,Re.COLGROUP,Re.DD,Re.DETAILS,Re.DIR,Re.DIV,Re.DL,Re.DT,Re.EMBED,Re.FIELDSET,Re.FIGCAPTION,Re.FIGURE,Re.FOOTER,Re.FORM,Re.FRAME,Re.FRAMESET,Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6,Re.HEAD,Re.HEADER,Re.HGROUP,Re.HR,Re.HTML,Re.IFRAME,Re.IMG,Re.INPUT,Re.LI,Re.LINK,Re.LISTING,Re.MAIN,Re.MARQUEE,Re.MENU,Re.META,Re.NAV,Re.NOEMBED,Re.NOFRAMES,Re.NOSCRIPT,Re.OBJECT,Re.OL,Re.P,Re.PARAM,Re.PLAINTEXT,Re.PRE,Re.SCRIPT,Re.SECTION,Re.SELECT,Re.SOURCE,Re.STYLE,Re.SUMMARY,Re.TABLE,Re.TBODY,Re.TD,Re.TEMPLATE,Re.TEXTAREA,Re.TFOOT,Re.TH,Re.THEAD,Re.TITLE,Re.TR,Re.TRACK,Re.UL,Re.WBR,Re.XMP]),[xe.MATHML]:new Set([Re.MI,Re.MO,Re.MN,Re.MS,Re.MTEXT,Re.ANNOTATION_XML]),[xe.SVG]:new Set([Re.TITLE,Re.FOREIGN_OBJECT,Re.DESC]),[xe.XLINK]:new Set,[xe.XML]:new Set,[xe.XMLNS]:new Set},O_=new Set([Re.H1,Re.H2,Re.H3,Re.H4,Re.H5,Re.H6]);he.STYLE,he.SCRIPT,he.XMP,he.IFRAME,he.NOEMBED,he.NOFRAMES,he.PLAINTEXT;var X;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(X||(X={}));const Ln={DATA:X.DATA,RCDATA:X.RCDATA,RAWTEXT:X.RAWTEXT,SCRIPT_DATA:X.SCRIPT_DATA,PLAINTEXT:X.PLAINTEXT,CDATA_SECTION:X.CDATA_SECTION};function FK(t){return t>=G.DIGIT_0&&t<=G.DIGIT_9}function Ph(t){return t>=G.LATIN_CAPITAL_A&&t<=G.LATIN_CAPITAL_Z}function HK(t){return t>=G.LATIN_SMALL_A&&t<=G.LATIN_SMALL_Z}function Xa(t){return HK(t)||Ph(t)}function GI(t){return Xa(t)||FK(t)}function Nm(t){return t+32}function UD(t){return t===G.SPACE||t===G.LINE_FEED||t===G.TABULATION||t===G.FORM_FEED}function KI(t){return UD(t)||t===G.SOLIDUS||t===G.GREATER_THAN_SIGN}function zK(t){return t===G.NULL?_e.nullCharacterReference:t>1114111?_e.characterReferenceOutsideUnicodeRange:LD(t)?_e.surrogateCharacterReference:PD(t)?_e.noncharacterCharacterReference:MD(t)||t===G.CARRIAGE_RETURN?_e.controlCharacterReference:null}class jK{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=X.DATA,this.returnState=X.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new NK(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new PK(xK,(r,s)=>{this.preprocessor.pos=this.entityStartPos+s-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(_e.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(_e.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const s=zK(r);s&&this._err(s,1)}}:void 0)}_err(e,n=0){var r,s;(s=(r=this.handler).onParseError)===null||s===void 0||s.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:pt.START_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:pt.END_TAG,tagName:"",tagID:T.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:pt.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:pt.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(BD(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const s=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);s[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(_e.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=gc(e.tagName),e.type===pt.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(_e.endTagWithAttributes),e.selfClosing&&this._err(_e.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case pt.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case pt.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case pt.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:pt.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=UD(e)?pt.WHITESPACE_CHARACTER:e===G.NULL?pt.NULL_CHARACTER:pt.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(pt.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=X.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ua.Attribute:ua.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===X.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===X.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===X.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case X.DATA:{this._stateData(e);break}case X.RCDATA:{this._stateRcdata(e);break}case X.RAWTEXT:{this._stateRawtext(e);break}case X.SCRIPT_DATA:{this._stateScriptData(e);break}case X.PLAINTEXT:{this._statePlaintext(e);break}case X.TAG_OPEN:{this._stateTagOpen(e);break}case X.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case X.TAG_NAME:{this._stateTagName(e);break}case X.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case X.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case X.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case X.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case X.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case X.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case X.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case X.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case X.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case X.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case X.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case X.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case X.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case X.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case X.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case X.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case X.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case X.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case X.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case X.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case X.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case X.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case X.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case X.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case X.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case X.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case X.BOGUS_COMMENT:{this._stateBogusComment(e);break}case X.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case X.COMMENT_START:{this._stateCommentStart(e);break}case X.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case X.COMMENT:{this._stateComment(e);break}case X.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case X.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case X.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case X.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case X.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case X.COMMENT_END:{this._stateCommentEnd(e);break}case X.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case X.DOCTYPE:{this._stateDoctype(e);break}case X.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case X.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case X.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case X.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case X.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case X.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case X.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case X.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case X.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case X.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case X.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case X.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case X.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case X.CDATA_SECTION:{this._stateCdataSection(e);break}case X.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case X.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case X.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case X.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case G.LESS_THAN_SIGN:{this.state=X.TAG_OPEN;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this._emitCodePoint(e);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case G.AMPERSAND:{this._startCharacterReference();break}case G.LESS_THAN_SIGN:{this.state=X.RCDATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case G.LESS_THAN_SIGN:{this.state=X.RAWTEXT_LESS_THAN_SIGN;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case G.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_LESS_THAN_SIGN;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case G.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case G.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Xa(e))this._createStartTagToken(),this.state=X.TAG_NAME,this._stateTagName(e);else switch(e){case G.EXCLAMATION_MARK:{this.state=X.MARKUP_DECLARATION_OPEN;break}case G.SOLIDUS:{this.state=X.END_TAG_OPEN;break}case G.QUESTION_MARK:{this._err(_e.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=X.BOGUS_COMMENT,this._stateBogusComment(e);break}case G.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=X.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Xa(e))this._createEndTagToken(),this.state=X.TAG_NAME,this._stateTagName(e);else switch(e){case G.GREATER_THAN_SIGN:{this._err(_e.missingEndTagName),this.state=X.DATA;break}case G.EOF:{this._err(_e.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(_e.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=X.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=X.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this.state=X.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.tagName+=En;break}case G.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Ph(e)?Nm(e):e)}}_stateRcdataLessThanSign(e){e===G.SOLIDUS?this.state=X.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=X.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Xa(e)?(this.state=X.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=X.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=X.BEFORE_ATTRIBUTE_NAME,!1;case G.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=X.SELF_CLOSING_START_TAG,!1;case G.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=X.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===G.SOLIDUS?this.state=X.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=X.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Xa(e)?(this.state=X.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=X.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case G.SOLIDUS:{this.state=X.SCRIPT_DATA_END_TAG_OPEN;break}case G.EXCLAMATION_MARK:{this.state=X.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=X.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Xa(e)?(this.state=X.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===G.HYPHEN_MINUS?(this.state=X.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===G.HYPHEN_MINUS?(this.state=X.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=X.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case G.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case G.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case G.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_ESCAPED,this._emitChars(En);break}case G.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case G.GREATER_THAN_SIGN:{this.state=X.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_ESCAPED,this._emitChars(En);break}case G.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===G.SOLIDUS?this.state=X.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Xa(e)?(this._emitChars("<"),this.state=X.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Xa(e)?(this.state=X.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Qr.SCRIPT,!1)&&KI(this.preprocessor.peek(Qr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Qr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=X.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case G.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this._emitChars(En);break}case G.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case G.HYPHEN_MINUS:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(En);break}case G.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case G.HYPHEN_MINUS:{this._emitChars("-");break}case G.LESS_THAN_SIGN:{this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case G.GREATER_THAN_SIGN:{this.state=X.SCRIPT_DATA,this._emitChars(">");break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(En);break}case G.EOF:{this._err(_e.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===G.SOLIDUS?(this.state=X.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Qr.SCRIPT,!1)&&KI(this.preprocessor.peek(Qr.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<Qr.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=X.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=X.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this.state=X.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case G.EQUALS_SIGN:{this._err(_e.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=X.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=X.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:case G.SOLIDUS:case G.GREATER_THAN_SIGN:case G.EOF:{this._leaveAttrName(),this.state=X.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case G.EQUALS_SIGN:{this._leaveAttrName(),this.state=X.BEFORE_ATTRIBUTE_VALUE;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:{this._err(_e.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.name+=En;break}default:this.currentAttr.name+=String.fromCodePoint(Ph(e)?Nm(e):e)}}_stateAfterAttributeName(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.SOLIDUS:{this.state=X.SELF_CLOSING_START_TAG;break}case G.EQUALS_SIGN:{this.state=X.BEFORE_ATTRIBUTE_VALUE;break}case G.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=X.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{this.state=X.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this.state=X.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(_e.missingAttributeValue),this.state=X.DATA,this.emitCurrentTagToken();break}default:this.state=X.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case G.QUOTATION_MARK:{this.state=X.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=En;break}case G.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case G.APOSTROPHE:{this.state=X.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=En;break}case G.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=X.BEFORE_ATTRIBUTE_NAME;break}case G.AMPERSAND:{this._startCharacterReference();break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=X.DATA,this.emitCurrentTagToken();break}case G.NULL:{this._err(_e.unexpectedNullCharacter),this.currentAttr.value+=En;break}case G.QUOTATION_MARK:case G.APOSTROPHE:case G.LESS_THAN_SIGN:case G.EQUALS_SIGN:case G.GRAVE_ACCENT:{this._err(_e.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case G.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this._leaveAttrValue(),this.state=X.BEFORE_ATTRIBUTE_NAME;break}case G.SOLIDUS:{this._leaveAttrValue(),this.state=X.SELF_CLOSING_START_TAG;break}case G.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=X.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBetweenAttributes),this.state=X.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case G.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=X.DATA,this.emitCurrentTagToken();break}case G.EOF:{this._err(_e.eofInTag),this._emitEOFToken();break}default:this._err(_e.unexpectedSolidusInTag),this.state=X.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentComment(n);break}case G.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=En;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Qr.DASH_DASH,!0)?(this._createCommentToken(Qr.DASH_DASH.length+1),this.state=X.COMMENT_START):this._consumeSequenceIfMatch(Qr.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Qr.DOCTYPE.length+1),this.state=X.DOCTYPE):this._consumeSequenceIfMatch(Qr.CDATA_START,!0)?this.inForeignNode?this.state=X.CDATA_SECTION:(this._err(_e.cdataInHtmlContent),this._createCommentToken(Qr.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=X.BOGUS_COMMENT):this._ensureHibernation()||(this._err(_e.incorrectlyOpenedComment),this._createCommentToken(2),this.state=X.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case G.HYPHEN_MINUS:{this.state=X.COMMENT_START_DASH;break}case G.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=X.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=X.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=X.COMMENT_END;break}case G.GREATER_THAN_SIGN:{this._err(_e.abruptClosingOfEmptyComment),this.state=X.DATA,this.emitCurrentComment(n);break}case G.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=X.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=X.COMMENT_END_DASH;break}case G.LESS_THAN_SIGN:{n.data+="<",this.state=X.COMMENT_LESS_THAN_SIGN;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.data+=En;break}case G.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case G.EXCLAMATION_MARK:{n.data+="!",this.state=X.COMMENT_LESS_THAN_SIGN_BANG;break}case G.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=X.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===G.HYPHEN_MINUS?this.state=X.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=X.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===G.HYPHEN_MINUS?this.state=X.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=X.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==G.GREATER_THAN_SIGN&&e!==G.EOF&&this._err(_e.nestedComment),this.state=X.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{this.state=X.COMMENT_END;break}case G.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=X.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentComment(n);break}case G.EXCLAMATION_MARK:{this.state=X.COMMENT_END_BANG;break}case G.HYPHEN_MINUS:{n.data+="-";break}case G.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=X.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case G.HYPHEN_MINUS:{n.data+="--!",this.state=X.COMMENT_END_DASH;break}case G.GREATER_THAN_SIGN:{this._err(_e.incorrectlyClosedComment),this.state=X.DATA,this.emitCurrentComment(n);break}case G.EOF:{this._err(_e.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=X.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=X.BEFORE_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=X.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case G.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingWhitespaceBeforeDoctypeName),this.state=X.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Ph(e))this._createDoctypeToken(String.fromCharCode(Nm(e))),this.state=X.DOCTYPE_NAME;else switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.NULL:{this._err(_e.unexpectedNullCharacter),this._createDoctypeToken(En),this.state=X.DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.EOF:{this._err(_e.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=X.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=X.AFTER_DOCTYPE_NAME;break}case G.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentDoctype(n);break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.name+=En;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Ph(e)?Nm(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Qr.PUBLIC,!1)?this.state=X.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Qr.SYSTEM,!1)?this.state=X.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(_e.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=X.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.publicId="",this.state=X.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(_e.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case G.QUOTATION_MARK:{this.state=X.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=En;break}case G.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case G.APOSTROPHE:{this.state=X.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.publicId+=En;break}case G.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=X.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case G.GREATER_THAN_SIGN:{this.state=X.DATA,this.emitCurrentDoctype(n);break}case G.QUOTATION_MARK:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(_e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.QUOTATION_MARK:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:{this.state=X.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.QUOTATION_MARK:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{this._err(_e.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.QUOTATION_MARK:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case G.APOSTROPHE:{n.systemId="",this.state=X.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case G.GREATER_THAN_SIGN:{this._err(_e.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.DATA,this.emitCurrentDoctype(n);break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case G.QUOTATION_MARK:{this.state=X.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=En;break}case G.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case G.APOSTROPHE:{this.state=X.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case G.NULL:{this._err(_e.unexpectedNullCharacter),n.systemId+=En;break}case G.GREATER_THAN_SIGN:{this._err(_e.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case G.SPACE:case G.LINE_FEED:case G.TABULATION:case G.FORM_FEED:break;case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.EOF:{this._err(_e.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(_e.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=X.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case G.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=X.DATA;break}case G.NULL:{this._err(_e.unexpectedNullCharacter);break}case G.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case G.RIGHT_SQUARE_BRACKET:{this.state=X.CDATA_SECTION_BRACKET;break}case G.EOF:{this._err(_e.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===G.RIGHT_SQUARE_BRACKET?this.state=X.CDATA_SECTION_END:(this._emitChars("]"),this.state=X.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case G.GREATER_THAN_SIGN:{this.state=X.DATA;break}case G.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=X.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(G.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&GI(this.preprocessor.peek(1))?X.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){GI(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===G.SEMICOLON&&this._err(_e.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const VD=new Set([T.DD,T.DT,T.LI,T.OPTGROUP,T.OPTION,T.P,T.RB,T.RP,T.RT,T.RTC]),XI=new Set([...VD,T.CAPTION,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]),xp=new Set([T.APPLET,T.CAPTION,T.HTML,T.MARQUEE,T.OBJECT,T.TABLE,T.TD,T.TEMPLATE,T.TH]),qK=new Set([...xp,T.OL,T.UL]),YK=new Set([...xp,T.BUTTON]),QI=new Set([T.ANNOTATION_XML,T.MI,T.MN,T.MO,T.MS,T.MTEXT]),WI=new Set([T.DESC,T.FOREIGN_OBJECT,T.TITLE]),$K=new Set([T.TR,T.TEMPLATE,T.HTML]),GK=new Set([T.TBODY,T.TFOOT,T.THEAD,T.TEMPLATE,T.HTML]),KK=new Set([T.TABLE,T.TEMPLATE,T.HTML]),XK=new Set([T.TD,T.TH]);class QK{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=T.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===T.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===xe.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const s=this._indexOf(e)+1;this.items.splice(s,0,n),this.tagIDs.splice(s,0,r),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==xe.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(O_,xe.HTML)}popUntilTableCellPopped(){this.popUntilPopped(XK,xe.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(KK,xe.HTML)}clearBackToTableBodyContext(){this.clearBackTo(GK,xe.HTML)}clearBackToTableRowContext(){this.clearBackTo($K,xe.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===T.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===T.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const s=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case xe.HTML:{if(s===e)return!0;if(n.has(s))return!1;break}case xe.SVG:{if(WI.has(s))return!1;break}case xe.MATHML:{if(QI.has(s))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,xp)}hasInListItemScope(e){return this.hasInDynamicScope(e,qK)}hasInButtonScope(e){return this.hasInDynamicScope(e,YK)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case xe.HTML:{if(O_.has(n))return!0;if(xp.has(n))return!1;break}case xe.SVG:{if(WI.has(n))return!1;break}case xe.MATHML:{if(QI.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xe.HTML)switch(this.tagIDs[n]){case e:return!0;case T.TABLE:case T.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===xe.HTML)switch(this.tagIDs[e]){case T.TBODY:case T.THEAD:case T.TFOOT:return!0;case T.TABLE:case T.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xe.HTML)switch(this.tagIDs[n]){case e:return!0;case T.OPTION:case T.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&VD.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&XI.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&XI.has(this.currentTagId);)this.pop()}}const yy=3;var Cs;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Cs||(Cs={}));const ZI={type:Cs.Marker};class WK{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],s=n.length,o=this.treeAdapter.getTagName(e),u=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const f=this.entries[c];if(f.type===Cs.Marker)break;const{element:d}=f;if(this.treeAdapter.getTagName(d)===o&&this.treeAdapter.getNamespaceURI(d)===u){const m=this.treeAdapter.getAttrList(d);m.length===s&&r.push({idx:c,attrs:m})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<yy)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<yy)return;const s=new Map(n.map(u=>[u.name,u.value]));let o=0;for(let u=0;u<r.length;u++){const c=r[u];c.attrs.every(f=>s.get(f.name)===f.value)&&(o+=1,o>=yy&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(ZI)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Cs.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Cs.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(ZI);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Cs.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Cs.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Cs.Element&&n.element===e)}}const Qa={createDocument(){return{nodeName:"#document",mode:ji.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const s=t.childNodes.find(o=>o.nodeName==="#documentType");if(s)s.name=e,s.publicId=n,s.systemId=r;else{const o={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};Qa.appendChild(t,o)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(Qa.isTextNode(n)){n.value+=e;return}}Qa.appendChild(t,Qa.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&Qa.isTextNode(r)?r.value+=e:Qa.insertBefore(t,Qa.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},FD="html",ZK="about:legacy-compat",JK="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",HD=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],eX=[...HD,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],tX=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),zD=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],nX=[...zD,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function JI(t,e){return e.some(n=>t.startsWith(n))}function rX(t){return t.name===FD&&t.publicId===null&&(t.systemId===null||t.systemId===ZK)}function iX(t){if(t.name!==FD)return ji.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===JK)return ji.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),tX.has(n))return ji.QUIRKS;let r=e===null?eX:HD;if(JI(n,r))return ji.QUIRKS;if(r=e===null?zD:nX,JI(n,r))return ji.LIMITED_QUIRKS}return ji.NO_QUIRKS}const eC={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},sX="definitionurl",aX="definitionURL",oX=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),uX=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:xe.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:xe.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:xe.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:xe.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:xe.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:xe.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:xe.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:xe.XML}],["xml:space",{prefix:"xml",name:"space",namespace:xe.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:xe.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:xe.XMLNS}]]),lX=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),cX=new Set([T.B,T.BIG,T.BLOCKQUOTE,T.BODY,T.BR,T.CENTER,T.CODE,T.DD,T.DIV,T.DL,T.DT,T.EM,T.EMBED,T.H1,T.H2,T.H3,T.H4,T.H5,T.H6,T.HEAD,T.HR,T.I,T.IMG,T.LI,T.LISTING,T.MENU,T.META,T.NOBR,T.OL,T.P,T.PRE,T.RUBY,T.S,T.SMALL,T.SPAN,T.STRONG,T.STRIKE,T.SUB,T.SUP,T.TABLE,T.TT,T.U,T.UL,T.VAR]);function hX(t){const e=t.tagID;return e===T.FONT&&t.attrs.some(({name:r})=>r===hu.COLOR||r===hu.SIZE||r===hu.FACE)||cX.has(e)}function jD(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===sX){t.attrs[e].name=aX;break}}function qD(t){for(let e=0;e<t.attrs.length;e++){const n=oX.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function IT(t){for(let e=0;e<t.attrs.length;e++){const n=uX.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function fX(t){const e=lX.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=gc(t.tagName))}function dX(t,e){return e===xe.MATHML&&(t===T.MI||t===T.MO||t===T.MN||t===T.MS||t===T.MTEXT)}function mX(t,e,n){if(e===xe.MATHML&&t===T.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===hu.ENCODING){const s=n[r].value.toLowerCase();return s===eC.TEXT_HTML||s===eC.APPLICATION_XML}}return e===xe.SVG&&(t===T.FOREIGN_OBJECT||t===T.DESC||t===T.TITLE)}function pX(t,e,n,r){return(!r||r===xe.HTML)&&mX(t,e,n)||(!r||r===xe.MATHML)&&dX(t,e)}const gX="hidden",EX=8,yX=3;var W;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(W||(W={}));const _X={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},YD=new Set([T.TABLE,T.TBODY,T.TFOOT,T.THEAD,T.TR]),tC={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Qa,onParseError:null};class nC{constructor(e,n,r=null,s=null){this.fragmentContext=r,this.scriptHandler=s,this.currentToken=null,this.stopped=!1,this.insertionMode=W.INITIAL,this.originalInsertionMode=W.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...tC,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new jK(this.options,this),this.activeFormattingElements=new WK(this.treeAdapter),this.fragmentContextID=r?gc(this.treeAdapter.getTagName(r)):T.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new QK(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...tC,...n};e??(e=r.treeAdapter.createElement(he.TEMPLATE,xe.HTML,[]));const s=r.treeAdapter.createElement("documentmock",xe.HTML,[]),o=new this(r,s,e);return o.fragmentContextID===T.TEMPLATE&&o.tmplInsertionModeStack.unshift(W.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var s;if(!this.onParseError)return;const o=(s=e.location)!==null&&s!==void 0?s:_X,u={code:n,startLine:o.startLine,startCol:o.startCol,startOffset:o.startOffset,endLine:r?o.startLine:o.endLine,endCol:r?o.startCol:o.endCol,endOffset:r?o.startOffset:o.endOffset};this.onParseError(u)}onItemPush(e,n,r){var s,o;(o=(s=this.treeAdapter).onItemPush)===null||o===void 0||o.call(s,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(s=(r=this.treeAdapter).onItemPop)===null||s===void 0||s.call(r,e,this.openElements.current),n){let o,u;this.openElements.stackTop===0&&this.fragmentContext?(o=this.fragmentContext,u=this.fragmentContextID):{current:o,currentTagId:u}=this.openElements,this._setContextModes(o,u)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===xe.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,xe.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=W.TEXT}switchToPlaintextParsing(){this.insertionMode=W.TEXT,this.originalInsertionMode=W.IN_BODY,this.tokenizer.state=Ln.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===he.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==xe.HTML))switch(this.fragmentContextID){case T.TITLE:case T.TEXTAREA:{this.tokenizer.state=Ln.RCDATA;break}case T.STYLE:case T.XMP:case T.IFRAME:case T.NOEMBED:case T.NOFRAMES:case T.NOSCRIPT:{this.tokenizer.state=Ln.RAWTEXT;break}case T.SCRIPT:{this.tokenizer.state=Ln.SCRIPT_DATA;break}case T.PLAINTEXT:{this.tokenizer.state=Ln.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,s),e.location){const u=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));u&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,xe.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,xe.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(he.HTML,xe.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,T.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(n),o=r?s.lastIndexOf(r):s.length,u=s[o-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:f,endCol:d,endOffset:m}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:f,endCol:d,endOffset:m})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,s=this.treeAdapter.getTagName(e),o=n.type===pt.END_TAG&&s===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,o)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===T.SVG&&this.treeAdapter.getTagName(n)===he.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===xe.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===T.MGLYPH||e.tagID===T.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,xe.HTML)}_processToken(e){switch(e.type){case pt.CHARACTER:{this.onCharacter(e);break}case pt.NULL_CHARACTER:{this.onNullCharacter(e);break}case pt.COMMENT:{this.onComment(e);break}case pt.DOCTYPE:{this.onDoctype(e);break}case pt.START_TAG:{this._processStartTag(e);break}case pt.END_TAG:{this.onEndTag(e);break}case pt.EOF:{this.onEof(e);break}case pt.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const s=this.treeAdapter.getNamespaceURI(n),o=this.treeAdapter.getAttrList(n);return pX(e,s,o,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(s=>s.type===Cs.Marker||this.openElements.contains(s.element)),r=n===-1?e-1:n-1;for(let s=r;s>=0;s--){const o=this.activeFormattingElements.entries[s];this._insertElement(o.token,this.treeAdapter.getNamespaceURI(o.element)),o.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=W.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(T.P),this.openElements.popUntilTagNamePopped(T.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case T.TR:{this.insertionMode=W.IN_ROW;return}case T.TBODY:case T.THEAD:case T.TFOOT:{this.insertionMode=W.IN_TABLE_BODY;return}case T.CAPTION:{this.insertionMode=W.IN_CAPTION;return}case T.COLGROUP:{this.insertionMode=W.IN_COLUMN_GROUP;return}case T.TABLE:{this.insertionMode=W.IN_TABLE;return}case T.BODY:{this.insertionMode=W.IN_BODY;return}case T.FRAMESET:{this.insertionMode=W.IN_FRAMESET;return}case T.SELECT:{this._resetInsertionModeForSelect(e);return}case T.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case T.HTML:{this.insertionMode=this.headElement?W.AFTER_HEAD:W.BEFORE_HEAD;return}case T.TD:case T.TH:{if(e>0){this.insertionMode=W.IN_CELL;return}break}case T.HEAD:{if(e>0){this.insertionMode=W.IN_HEAD;return}break}}this.insertionMode=W.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===T.TEMPLATE)break;if(r===T.TABLE){this.insertionMode=W.IN_SELECT_IN_TABLE;return}}this.insertionMode=W.IN_SELECT}_isElementCausesFosterParenting(e){return YD.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case T.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===xe.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case T.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return VK[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){XQ(this,e);return}switch(this.insertionMode){case W.INITIAL:{wh(this,e);break}case W.BEFORE_HTML:{Gh(this,e);break}case W.BEFORE_HEAD:{Kh(this,e);break}case W.IN_HEAD:{Xh(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Qh(this,e);break}case W.AFTER_HEAD:{Wh(this,e);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:{GD(this,e);break}case W.TEXT:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{_y(this,e);break}case W.IN_TABLE_TEXT:{JD(this,e);break}case W.IN_COLUMN_GROUP:{Rp(this,e);break}case W.AFTER_BODY:{Op(this,e);break}case W.AFTER_AFTER_BODY:{Ym(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){KQ(this,e);return}switch(this.insertionMode){case W.INITIAL:{wh(this,e);break}case W.BEFORE_HTML:{Gh(this,e);break}case W.BEFORE_HEAD:{Kh(this,e);break}case W.IN_HEAD:{Xh(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Qh(this,e);break}case W.AFTER_HEAD:{Wh(this,e);break}case W.TEXT:{this._insertCharacters(e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{_y(this,e);break}case W.IN_COLUMN_GROUP:{Rp(this,e);break}case W.AFTER_BODY:{Op(this,e);break}case W.AFTER_AFTER_BODY:{Ym(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){D_(this,e);return}switch(this.insertionMode){case W.INITIAL:case W.BEFORE_HTML:case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_TEMPLATE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{D_(this,e);break}case W.IN_TABLE_TEXT:{Ih(this,e);break}case W.AFTER_BODY:{IX(this,e);break}case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{CX(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case W.INITIAL:{NX(this,e);break}case W.BEFORE_HEAD:case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:{this._err(e,_e.misplacedDoctype);break}case W.IN_TABLE_TEXT:{Ih(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,_e.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?QQ(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case W.INITIAL:{wh(this,e);break}case W.BEFORE_HTML:{xX(this,e);break}case W.BEFORE_HEAD:{OX(this,e);break}case W.IN_HEAD:{us(this,e);break}case W.IN_HEAD_NO_SCRIPT:{LX(this,e);break}case W.AFTER_HEAD:{PX(this,e);break}case W.IN_BODY:{Or(this,e);break}case W.IN_TABLE:{tc(this,e);break}case W.IN_TABLE_TEXT:{Ih(this,e);break}case W.IN_CAPTION:{DQ(this,e);break}case W.IN_COLUMN_GROUP:{xT(this,e);break}case W.IN_TABLE_BODY:{E0(this,e);break}case W.IN_ROW:{y0(this,e);break}case W.IN_CELL:{MQ(this,e);break}case W.IN_SELECT:{n3(this,e);break}case W.IN_SELECT_IN_TABLE:{BQ(this,e);break}case W.IN_TEMPLATE:{VQ(this,e);break}case W.AFTER_BODY:{HQ(this,e);break}case W.IN_FRAMESET:{zQ(this,e);break}case W.AFTER_FRAMESET:{qQ(this,e);break}case W.AFTER_AFTER_BODY:{$Q(this,e);break}case W.AFTER_AFTER_FRAMESET:{GQ(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?WQ(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case W.INITIAL:{wh(this,e);break}case W.BEFORE_HTML:{RX(this,e);break}case W.BEFORE_HEAD:{DX(this,e);break}case W.IN_HEAD:{kX(this,e);break}case W.IN_HEAD_NO_SCRIPT:{MX(this,e);break}case W.AFTER_HEAD:{BX(this,e);break}case W.IN_BODY:{g0(this,e);break}case W.TEXT:{vQ(this,e);break}case W.IN_TABLE:{Tf(this,e);break}case W.IN_TABLE_TEXT:{Ih(this,e);break}case W.IN_CAPTION:{kQ(this,e);break}case W.IN_COLUMN_GROUP:{LQ(this,e);break}case W.IN_TABLE_BODY:{k_(this,e);break}case W.IN_ROW:{t3(this,e);break}case W.IN_CELL:{PQ(this,e);break}case W.IN_SELECT:{r3(this,e);break}case W.IN_SELECT_IN_TABLE:{UQ(this,e);break}case W.IN_TEMPLATE:{FQ(this,e);break}case W.AFTER_BODY:{s3(this,e);break}case W.IN_FRAMESET:{jQ(this,e);break}case W.AFTER_FRAMESET:{YQ(this,e);break}case W.AFTER_AFTER_BODY:{Ym(this,e);break}}}onEof(e){switch(this.insertionMode){case W.INITIAL:{wh(this,e);break}case W.BEFORE_HTML:{Gh(this,e);break}case W.BEFORE_HEAD:{Kh(this,e);break}case W.IN_HEAD:{Xh(this,e);break}case W.IN_HEAD_NO_SCRIPT:{Qh(this,e);break}case W.AFTER_HEAD:{Wh(this,e);break}case W.IN_BODY:case W.IN_TABLE:case W.IN_CAPTION:case W.IN_COLUMN_GROUP:case W.IN_TABLE_BODY:case W.IN_ROW:case W.IN_CELL:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:{WD(this,e);break}case W.TEXT:{SQ(this,e);break}case W.IN_TABLE_TEXT:{Ih(this,e);break}case W.IN_TEMPLATE:{i3(this,e);break}case W.AFTER_BODY:case W.IN_FRAMESET:case W.AFTER_FRAMESET:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{NT(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===G.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case W.IN_HEAD:case W.IN_HEAD_NO_SCRIPT:case W.AFTER_HEAD:case W.TEXT:case W.IN_COLUMN_GROUP:case W.IN_SELECT:case W.IN_SELECT_IN_TABLE:case W.IN_FRAMESET:case W.AFTER_FRAMESET:{this._insertCharacters(e);break}case W.IN_BODY:case W.IN_CAPTION:case W.IN_CELL:case W.IN_TEMPLATE:case W.AFTER_BODY:case W.AFTER_AFTER_BODY:case W.AFTER_AFTER_FRAMESET:{$D(this,e);break}case W.IN_TABLE:case W.IN_TABLE_BODY:case W.IN_ROW:{_y(this,e);break}case W.IN_TABLE_TEXT:{ZD(this,e);break}}}}function TX(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):QD(t,e),n}function bX(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const s=t.openElements.items[r];if(s===e.element)break;t._isSpecialElement(s,t.openElements.tagIDs[r])&&(n=s)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function vX(t,e,n){let r=e,s=t.openElements.getCommonAncestor(e);for(let o=0,u=s;u!==n;o++,u=s){s=t.openElements.getCommonAncestor(u);const c=t.activeFormattingElements.getElementEntry(u),f=c&&o>=yX;!c||f?(f&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(u)):(u=SX(t,c),r===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(u,r),r=u)}return r}function SX(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function AX(t,e,n){const r=t.treeAdapter.getTagName(e),s=gc(r);if(t._isElementCausesFosterParenting(s))t._fosterParentElement(n);else{const o=t.treeAdapter.getNamespaceURI(e);s===T.TEMPLATE&&o===xe.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function wX(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:s}=n,o=t.treeAdapter.createElement(s.tagName,r,s.attrs);t._adoptNodes(e,o),t.treeAdapter.appendChild(e,o),t.activeFormattingElements.insertElementAfterBookmark(o,s),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,o,s.tagID)}function CT(t,e){for(let n=0;n<EX;n++){const r=TX(t,e);if(!r)break;const s=bX(t,r);if(!s)break;t.activeFormattingElements.bookmark=r;const o=vX(t,s,r.element),u=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(o),u&&AX(t,u,o),wX(t,s,r)}}function D_(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function IX(t,e){t._appendCommentNode(e,t.openElements.items[0])}function CX(t,e){t._appendCommentNode(e,t.document)}function NT(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],s=t.treeAdapter.getNodeSourceCodeLocation(r);if(s&&!s.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const o=t.openElements.items[1],u=t.treeAdapter.getNodeSourceCodeLocation(o);u&&!u.endTag&&t._setEndLocation(o,e)}}}}function NX(t,e){t._setDocumentType(e);const n=e.forceQuirks?ji.QUIRKS:iX(e);rX(e)||t._err(e,_e.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=W.BEFORE_HTML}function wh(t,e){t._err(e,_e.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,ji.QUIRKS),t.insertionMode=W.BEFORE_HTML,t._processToken(e)}function xX(t,e){e.tagID===T.HTML?(t._insertElement(e,xe.HTML),t.insertionMode=W.BEFORE_HEAD):Gh(t,e)}function RX(t,e){const n=e.tagID;(n===T.HTML||n===T.HEAD||n===T.BODY||n===T.BR)&&Gh(t,e)}function Gh(t,e){t._insertFakeRootElement(),t.insertionMode=W.BEFORE_HEAD,t._processToken(e)}function OX(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.HEAD:{t._insertElement(e,xe.HTML),t.headElement=t.openElements.current,t.insertionMode=W.IN_HEAD;break}default:Kh(t,e)}}function DX(t,e){const n=e.tagID;n===T.HEAD||n===T.BODY||n===T.HTML||n===T.BR?Kh(t,e):t._err(e,_e.endTagWithoutMatchingOpenElement)}function Kh(t,e){t._insertFakeElement(he.HEAD,T.HEAD),t.headElement=t.openElements.current,t.insertionMode=W.IN_HEAD,t._processToken(e)}function us(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:{t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case T.TITLE:{t._switchToTextParsing(e,Ln.RCDATA);break}case T.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,Ln.RAWTEXT):(t._insertElement(e,xe.HTML),t.insertionMode=W.IN_HEAD_NO_SCRIPT);break}case T.NOFRAMES:case T.STYLE:{t._switchToTextParsing(e,Ln.RAWTEXT);break}case T.SCRIPT:{t._switchToTextParsing(e,Ln.SCRIPT_DATA);break}case T.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=W.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(W.IN_TEMPLATE);break}case T.HEAD:{t._err(e,_e.misplacedStartTagForHeadElement);break}default:Xh(t,e)}}function kX(t,e){switch(e.tagID){case T.HEAD:{t.openElements.pop(),t.insertionMode=W.AFTER_HEAD;break}case T.BODY:case T.BR:case T.HTML:{Xh(t,e);break}case T.TEMPLATE:{Nu(t,e);break}default:t._err(e,_e.endTagWithoutMatchingOpenElement)}}function Nu(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==T.TEMPLATE&&t._err(e,_e.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,_e.endTagWithoutMatchingOpenElement)}function Xh(t,e){t.openElements.pop(),t.insertionMode=W.AFTER_HEAD,t._processToken(e)}function LX(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.BASEFONT:case T.BGSOUND:case T.HEAD:case T.LINK:case T.META:case T.NOFRAMES:case T.STYLE:{us(t,e);break}case T.NOSCRIPT:{t._err(e,_e.nestedNoscriptInHead);break}default:Qh(t,e)}}function MX(t,e){switch(e.tagID){case T.NOSCRIPT:{t.openElements.pop(),t.insertionMode=W.IN_HEAD;break}case T.BR:{Qh(t,e);break}default:t._err(e,_e.endTagWithoutMatchingOpenElement)}}function Qh(t,e){const n=e.type===pt.EOF?_e.openElementsLeftAfterEof:_e.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=W.IN_HEAD,t._processToken(e)}function PX(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.BODY:{t._insertElement(e,xe.HTML),t.framesetOk=!1,t.insertionMode=W.IN_BODY;break}case T.FRAMESET:{t._insertElement(e,xe.HTML),t.insertionMode=W.IN_FRAMESET;break}case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{t._err(e,_e.abandonedHeadElementChild),t.openElements.push(t.headElement,T.HEAD),us(t,e),t.openElements.remove(t.headElement);break}case T.HEAD:{t._err(e,_e.misplacedStartTagForHeadElement);break}default:Wh(t,e)}}function BX(t,e){switch(e.tagID){case T.BODY:case T.HTML:case T.BR:{Wh(t,e);break}case T.TEMPLATE:{Nu(t,e);break}default:t._err(e,_e.endTagWithoutMatchingOpenElement)}}function Wh(t,e){t._insertFakeElement(he.BODY,T.BODY),t.insertionMode=W.IN_BODY,p0(t,e)}function p0(t,e){switch(e.type){case pt.CHARACTER:{GD(t,e);break}case pt.WHITESPACE_CHARACTER:{$D(t,e);break}case pt.COMMENT:{D_(t,e);break}case pt.START_TAG:{Or(t,e);break}case pt.END_TAG:{g0(t,e);break}case pt.EOF:{WD(t,e);break}}}function $D(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function GD(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function UX(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function VX(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function FX(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,xe.HTML),t.insertionMode=W.IN_FRAMESET)}function HX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,xe.HTML)}function zX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&O_.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,xe.HTML)}function jX(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,xe.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function qX(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,xe.HTML),n||(t.formElement=t.openElements.current))}function YX(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const s=t.openElements.tagIDs[r];if(n===T.LI&&s===T.LI||(n===T.DD||n===T.DT)&&(s===T.DD||s===T.DT)){t.openElements.generateImpliedEndTagsWithExclusion(s),t.openElements.popUntilTagNamePopped(s);break}if(s!==T.ADDRESS&&s!==T.DIV&&s!==T.P&&t._isSpecialElement(t.openElements.items[r],s))break}t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,xe.HTML)}function $X(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,xe.HTML),t.tokenizer.state=Ln.PLAINTEXT}function GX(t,e){t.openElements.hasInScope(T.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.framesetOk=!1}function KX(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(he.A);n&&(CT(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function XX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function QX(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(T.NOBR)&&(CT(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,xe.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function WX(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function ZX(t,e){t.treeAdapter.getDocumentMode(t.document)!==ji.QUIRKS&&t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._insertElement(e,xe.HTML),t.framesetOk=!1,t.insertionMode=W.IN_TABLE}function KD(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function XD(t){const e=BD(t,hu.TYPE);return e!=null&&e.toLowerCase()===gX}function JX(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xe.HTML),XD(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function eQ(t,e){t._appendElement(e,xe.HTML),e.ackSelfClosing=!0}function tQ(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._appendElement(e,xe.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function nQ(t,e){e.tagName=he.IMG,e.tagID=T.IMG,KD(t,e)}function rQ(t,e){t._insertElement(e,xe.HTML),t.skipNextNewLine=!0,t.tokenizer.state=Ln.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=W.TEXT}function iQ(t,e){t.openElements.hasInButtonScope(T.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,Ln.RAWTEXT)}function sQ(t,e){t.framesetOk=!1,t._switchToTextParsing(e,Ln.RAWTEXT)}function rC(t,e){t._switchToTextParsing(e,Ln.RAWTEXT)}function aQ(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===W.IN_TABLE||t.insertionMode===W.IN_CAPTION||t.insertionMode===W.IN_TABLE_BODY||t.insertionMode===W.IN_ROW||t.insertionMode===W.IN_CELL?W.IN_SELECT_IN_TABLE:W.IN_SELECT}function oQ(t,e){t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML)}function uQ(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,xe.HTML)}function lQ(t,e){t.openElements.hasInScope(T.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(T.RTC),t._insertElement(e,xe.HTML)}function cQ(t,e){t._reconstructActiveFormattingElements(),jD(e),IT(e),e.selfClosing?t._appendElement(e,xe.MATHML):t._insertElement(e,xe.MATHML),e.ackSelfClosing=!0}function hQ(t,e){t._reconstructActiveFormattingElements(),qD(e),IT(e),e.selfClosing?t._appendElement(e,xe.SVG):t._insertElement(e,xe.SVG),e.ackSelfClosing=!0}function iC(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xe.HTML)}function Or(t,e){switch(e.tagID){case T.I:case T.S:case T.B:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.SMALL:case T.STRIKE:case T.STRONG:{XX(t,e);break}case T.A:{KX(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{zX(t,e);break}case T.P:case T.DL:case T.OL:case T.UL:case T.DIV:case T.DIR:case T.NAV:case T.MAIN:case T.MENU:case T.ASIDE:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.DETAILS:case T.ADDRESS:case T.ARTICLE:case T.SEARCH:case T.SECTION:case T.SUMMARY:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{HX(t,e);break}case T.LI:case T.DD:case T.DT:{YX(t,e);break}case T.BR:case T.IMG:case T.WBR:case T.AREA:case T.EMBED:case T.KEYGEN:{KD(t,e);break}case T.HR:{tQ(t,e);break}case T.RB:case T.RTC:{uQ(t,e);break}case T.RT:case T.RP:{lQ(t,e);break}case T.PRE:case T.LISTING:{jX(t,e);break}case T.XMP:{iQ(t,e);break}case T.SVG:{hQ(t,e);break}case T.HTML:{UX(t,e);break}case T.BASE:case T.LINK:case T.META:case T.STYLE:case T.TITLE:case T.SCRIPT:case T.BGSOUND:case T.BASEFONT:case T.TEMPLATE:{us(t,e);break}case T.BODY:{VX(t,e);break}case T.FORM:{qX(t,e);break}case T.NOBR:{QX(t,e);break}case T.MATH:{cQ(t,e);break}case T.TABLE:{ZX(t,e);break}case T.INPUT:{JX(t,e);break}case T.PARAM:case T.TRACK:case T.SOURCE:{eQ(t,e);break}case T.IMAGE:{nQ(t,e);break}case T.BUTTON:{GX(t,e);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{WX(t,e);break}case T.IFRAME:{sQ(t,e);break}case T.SELECT:{aQ(t,e);break}case T.OPTION:case T.OPTGROUP:{oQ(t,e);break}case T.NOEMBED:case T.NOFRAMES:{rC(t,e);break}case T.FRAMESET:{FX(t,e);break}case T.TEXTAREA:{rQ(t,e);break}case T.NOSCRIPT:{t.options.scriptingEnabled?rC(t,e):iC(t,e);break}case T.PLAINTEXT:{$X(t,e);break}case T.COL:case T.TH:case T.TD:case T.TR:case T.HEAD:case T.FRAME:case T.TBODY:case T.TFOOT:case T.THEAD:case T.CAPTION:case T.COLGROUP:break;default:iC(t,e)}}function fQ(t,e){if(t.openElements.hasInScope(T.BODY)&&(t.insertionMode=W.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function dQ(t,e){t.openElements.hasInScope(T.BODY)&&(t.insertionMode=W.AFTER_BODY,s3(t,e))}function mQ(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function pQ(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(T.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(T.FORM):n&&t.openElements.remove(n))}function gQ(t){t.openElements.hasInButtonScope(T.P)||t._insertFakeElement(he.P,T.P),t._closePElement()}function EQ(t){t.openElements.hasInListItemScope(T.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(T.LI),t.openElements.popUntilTagNamePopped(T.LI))}function yQ(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function _Q(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function TQ(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function bQ(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(he.BR,T.BR),t.openElements.pop(),t.framesetOk=!1}function QD(t,e){const n=e.tagName,r=e.tagID;for(let s=t.openElements.stackTop;s>0;s--){const o=t.openElements.items[s],u=t.openElements.tagIDs[s];if(r===u&&(r!==T.UNKNOWN||t.treeAdapter.getTagName(o)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=s&&t.openElements.shortenToLength(s);break}if(t._isSpecialElement(o,u))break}}function g0(t,e){switch(e.tagID){case T.A:case T.B:case T.I:case T.S:case T.U:case T.EM:case T.TT:case T.BIG:case T.CODE:case T.FONT:case T.NOBR:case T.SMALL:case T.STRIKE:case T.STRONG:{CT(t,e);break}case T.P:{gQ(t);break}case T.DL:case T.UL:case T.OL:case T.DIR:case T.DIV:case T.NAV:case T.PRE:case T.MAIN:case T.MENU:case T.ASIDE:case T.BUTTON:case T.CENTER:case T.FIGURE:case T.FOOTER:case T.HEADER:case T.HGROUP:case T.DIALOG:case T.ADDRESS:case T.ARTICLE:case T.DETAILS:case T.SEARCH:case T.SECTION:case T.SUMMARY:case T.LISTING:case T.FIELDSET:case T.BLOCKQUOTE:case T.FIGCAPTION:{mQ(t,e);break}case T.LI:{EQ(t);break}case T.DD:case T.DT:{yQ(t,e);break}case T.H1:case T.H2:case T.H3:case T.H4:case T.H5:case T.H6:{_Q(t);break}case T.BR:{bQ(t);break}case T.BODY:{fQ(t,e);break}case T.HTML:{dQ(t,e);break}case T.FORM:{pQ(t);break}case T.APPLET:case T.OBJECT:case T.MARQUEE:{TQ(t,e);break}case T.TEMPLATE:{Nu(t,e);break}default:QD(t,e)}}function WD(t,e){t.tmplInsertionModeStack.length>0?i3(t,e):NT(t,e)}function vQ(t,e){var n;e.tagID===T.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function SQ(t,e){t._err(e,_e.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function _y(t,e){if(t.openElements.currentTagId!==void 0&&YD.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=W.IN_TABLE_TEXT,e.type){case pt.CHARACTER:{JD(t,e);break}case pt.WHITESPACE_CHARACTER:{ZD(t,e);break}}else jf(t,e)}function AQ(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,xe.HTML),t.insertionMode=W.IN_CAPTION}function wQ(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xe.HTML),t.insertionMode=W.IN_COLUMN_GROUP}function IQ(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(he.COLGROUP,T.COLGROUP),t.insertionMode=W.IN_COLUMN_GROUP,xT(t,e)}function CQ(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xe.HTML),t.insertionMode=W.IN_TABLE_BODY}function NQ(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(he.TBODY,T.TBODY),t.insertionMode=W.IN_TABLE_BODY,E0(t,e)}function xQ(t,e){t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function RQ(t,e){XD(e)?t._appendElement(e,xe.HTML):jf(t,e),e.ackSelfClosing=!0}function OQ(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,xe.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function tc(t,e){switch(e.tagID){case T.TD:case T.TH:case T.TR:{NQ(t,e);break}case T.STYLE:case T.SCRIPT:case T.TEMPLATE:{us(t,e);break}case T.COL:{IQ(t,e);break}case T.FORM:{OQ(t,e);break}case T.TABLE:{xQ(t,e);break}case T.TBODY:case T.TFOOT:case T.THEAD:{CQ(t,e);break}case T.INPUT:{RQ(t,e);break}case T.CAPTION:{AQ(t,e);break}case T.COLGROUP:{wQ(t,e);break}default:jf(t,e)}}function Tf(t,e){switch(e.tagID){case T.TABLE:{t.openElements.hasInTableScope(T.TABLE)&&(t.openElements.popUntilTagNamePopped(T.TABLE),t._resetInsertionMode());break}case T.TEMPLATE:{Nu(t,e);break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:jf(t,e)}}function jf(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,p0(t,e),t.fosterParentingEnabled=n}function ZD(t,e){t.pendingCharacterTokens.push(e)}function JD(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function Ih(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)jf(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const e3=new Set([T.CAPTION,T.COL,T.COLGROUP,T.TBODY,T.TD,T.TFOOT,T.TH,T.THEAD,T.TR]);function DQ(t,e){const n=e.tagID;e3.has(n)?t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=W.IN_TABLE,tc(t,e)):Or(t,e)}function kQ(t,e){const n=e.tagID;switch(n){case T.CAPTION:case T.TABLE:{t.openElements.hasInTableScope(T.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(T.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=W.IN_TABLE,n===T.TABLE&&Tf(t,e));break}case T.BODY:case T.COL:case T.COLGROUP:case T.HTML:case T.TBODY:case T.TD:case T.TFOOT:case T.TH:case T.THEAD:case T.TR:break;default:g0(t,e)}}function xT(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.COL:{t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case T.TEMPLATE:{us(t,e);break}default:Rp(t,e)}}function LQ(t,e){switch(e.tagID){case T.COLGROUP:{t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=W.IN_TABLE);break}case T.TEMPLATE:{Nu(t,e);break}case T.COL:break;default:Rp(t,e)}}function Rp(t,e){t.openElements.currentTagId===T.COLGROUP&&(t.openElements.pop(),t.insertionMode=W.IN_TABLE,t._processToken(e))}function E0(t,e){switch(e.tagID){case T.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,xe.HTML),t.insertionMode=W.IN_ROW;break}case T.TH:case T.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(he.TR,T.TR),t.insertionMode=W.IN_ROW,y0(t,e);break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE,tc(t,e));break}default:tc(t,e)}}function k_(t,e){const n=e.tagID;switch(e.tagID){case T.TBODY:case T.TFOOT:case T.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE);break}case T.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE,Tf(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:case T.TR:break;default:Tf(t,e)}}function y0(t,e){switch(e.tagID){case T.TH:case T.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,xe.HTML),t.insertionMode=W.IN_CELL,t.activeFormattingElements.insertMarker();break}case T.CAPTION:case T.COL:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY,E0(t,e));break}default:tc(t,e)}}function t3(t,e){switch(e.tagID){case T.TR:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY);break}case T.TABLE:{t.openElements.hasInTableScope(T.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY,k_(t,e));break}case T.TBODY:case T.TFOOT:case T.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(T.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=W.IN_TABLE_BODY,k_(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:case T.TD:case T.TH:break;default:Tf(t,e)}}function MQ(t,e){const n=e.tagID;e3.has(n)?(t.openElements.hasInTableScope(T.TD)||t.openElements.hasInTableScope(T.TH))&&(t._closeTableCell(),y0(t,e)):Or(t,e)}function PQ(t,e){const n=e.tagID;switch(n){case T.TD:case T.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=W.IN_ROW);break}case T.TABLE:case T.TBODY:case T.TFOOT:case T.THEAD:case T.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),t3(t,e));break}case T.BODY:case T.CAPTION:case T.COL:case T.COLGROUP:case T.HTML:break;default:g0(t,e)}}function n3(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t._insertElement(e,xe.HTML);break}case T.OPTGROUP:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._insertElement(e,xe.HTML);break}case T.HR:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop(),t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case T.INPUT:case T.KEYGEN:case T.TEXTAREA:case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),e.tagID!==T.SELECT&&t._processStartTag(e));break}case T.SCRIPT:case T.TEMPLATE:{us(t,e);break}}}function r3(t,e){switch(e.tagID){case T.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===T.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===T.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===T.OPTGROUP&&t.openElements.pop();break}case T.OPTION:{t.openElements.currentTagId===T.OPTION&&t.openElements.pop();break}case T.SELECT:{t.openElements.hasInSelectScope(T.SELECT)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode());break}case T.TEMPLATE:{Nu(t,e);break}}}function BQ(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t._processStartTag(e)):n3(t,e)}function UQ(t,e){const n=e.tagID;n===T.CAPTION||n===T.TABLE||n===T.TBODY||n===T.TFOOT||n===T.THEAD||n===T.TR||n===T.TD||n===T.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(T.SELECT),t._resetInsertionMode(),t.onEndTag(e)):r3(t,e)}function VQ(t,e){switch(e.tagID){case T.BASE:case T.BASEFONT:case T.BGSOUND:case T.LINK:case T.META:case T.NOFRAMES:case T.SCRIPT:case T.STYLE:case T.TEMPLATE:case T.TITLE:{us(t,e);break}case T.CAPTION:case T.COLGROUP:case T.TBODY:case T.TFOOT:case T.THEAD:{t.tmplInsertionModeStack[0]=W.IN_TABLE,t.insertionMode=W.IN_TABLE,tc(t,e);break}case T.COL:{t.tmplInsertionModeStack[0]=W.IN_COLUMN_GROUP,t.insertionMode=W.IN_COLUMN_GROUP,xT(t,e);break}case T.TR:{t.tmplInsertionModeStack[0]=W.IN_TABLE_BODY,t.insertionMode=W.IN_TABLE_BODY,E0(t,e);break}case T.TD:case T.TH:{t.tmplInsertionModeStack[0]=W.IN_ROW,t.insertionMode=W.IN_ROW,y0(t,e);break}default:t.tmplInsertionModeStack[0]=W.IN_BODY,t.insertionMode=W.IN_BODY,Or(t,e)}}function FQ(t,e){e.tagID===T.TEMPLATE&&Nu(t,e)}function i3(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(T.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):NT(t,e)}function HQ(t,e){e.tagID===T.HTML?Or(t,e):Op(t,e)}function s3(t,e){var n;if(e.tagID===T.HTML){if(t.fragmentContext||(t.insertionMode=W.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===T.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else Op(t,e)}function Op(t,e){t.insertionMode=W.IN_BODY,p0(t,e)}function zQ(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.FRAMESET:{t._insertElement(e,xe.HTML);break}case T.FRAME:{t._appendElement(e,xe.HTML),e.ackSelfClosing=!0;break}case T.NOFRAMES:{us(t,e);break}}}function jQ(t,e){e.tagID===T.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==T.FRAMESET&&(t.insertionMode=W.AFTER_FRAMESET))}function qQ(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.NOFRAMES:{us(t,e);break}}}function YQ(t,e){e.tagID===T.HTML&&(t.insertionMode=W.AFTER_AFTER_FRAMESET)}function $Q(t,e){e.tagID===T.HTML?Or(t,e):Ym(t,e)}function Ym(t,e){t.insertionMode=W.IN_BODY,p0(t,e)}function GQ(t,e){switch(e.tagID){case T.HTML:{Or(t,e);break}case T.NOFRAMES:{us(t,e);break}}}function KQ(t,e){e.chars=En,t._insertCharacters(e)}function XQ(t,e){t._insertCharacters(e),t.framesetOk=!1}function a3(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==xe.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function QQ(t,e){if(hX(e))a3(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===xe.MATHML?jD(e):r===xe.SVG&&(fX(e),qD(e)),IT(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function WQ(t,e){if(e.tagID===T.P||e.tagID===T.BR){a3(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===xe.HTML){t._endTagOutsideForeignContent(e);break}const s=t.treeAdapter.getTagName(r);if(s.toLowerCase()===e.tagName){e.tagName=s,t.openElements.shortenToLength(n);break}}}he.AREA,he.BASE,he.BASEFONT,he.BGSOUND,he.BR,he.COL,he.EMBED,he.FRAME,he.HR,he.IMG,he.INPUT,he.KEYGEN,he.LINK,he.META,he.PARAM,he.SOURCE,he.TRACK,he.WBR;const ZQ=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,JQ=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),sC={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function o3(t,e){const n=lW(t),r=DD("type",{handlers:{root:eW,element:tW,text:nW,comment:l3,doctype:rW,raw:sW},unknown:aW}),s={parser:n?new nC(sC):nC.getFragmentParser(void 0,sC),handle(c){r(c,s)},stitches:!1,options:e||{}};r(t,s),Ec(s,Vs());const o=n?s.parser.document:s.parser.getFragment(),u=eK(o,{file:s.options.file});return s.stitches&&bT(u,"comment",function(c,f,d){const m=c;if(m.value.stitch&&d&&f!==void 0){const E=d.children;return E[f]=m.value.stitch,f}}),u.type==="root"&&u.children.length===1&&u.children[0].type===t.type?u.children[0]:u}function u3(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function eW(t,e){u3(t.children,e)}function tW(t,e){oW(t,e),u3(t.children,e),uW(t,e)}function nW(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:pt.CHARACTER,chars:t.value,location:qf(t)};Ec(e,Vs(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function rW(t,e){const n={type:pt.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:qf(t)};Ec(e,Vs(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function iW(t,e){e.stitches=!0;const n=cW(t);if("children"in t&&"children"in n){const r=o3({type:"root",children:t.children},e.options);n.children=r.children}l3({type:"comment",value:{stitch:n}},e)}function l3(t,e){const n=t.value,r={type:pt.COMMENT,data:n,location:qf(t)};Ec(e,Vs(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function sW(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,c3(e,Vs(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(ZQ,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function aW(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))iW(n,e);else{let r="";throw JQ.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function Ec(t,e){c3(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=Ln.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function c3(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function oW(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===Ln.PLAINTEXT)return;Ec(e,Vs(t));const r=e.parser.openElements.current;let s="namespaceURI"in r?r.namespaceURI:uu.html;s===uu.html&&n==="svg"&&(s=uu.svg);const o=pK({...t,children:[]},{space:s===uu.svg?"svg":"html"}),u={type:pt.START_TAG,tagName:n,tagID:gc(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in o?o.attrs:[],location:qf(t)};e.parser.currentToken=u,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function uW(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&SK.includes(n)||e.parser.tokenizer.state===Ln.PLAINTEXT)return;Ec(e,h0(t));const r={type:pt.END_TAG,tagName:n,tagID:gc(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:qf(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===Ln.RCDATA||e.parser.tokenizer.state===Ln.RAWTEXT||e.parser.tokenizer.state===Ln.SCRIPT_DATA)&&(e.parser.tokenizer.state=Ln.DATA)}function lW(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function qf(t){const e=Vs(t)||{line:void 0,column:void 0,offset:void 0},n=h0(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function cW(t){return"children"in t?ec({...t,children:[]}):ec(t)}function hW(t){return function(e,n){return o3(e,{...t,file:n})}}function fW({allBoards:t,currentBoard:e,onSwitchBoard:n,onCreateBoard:r,onDeleteBoard:s,onSignOut:o,isLoading:u,isCollapsed:c=!1,onToggleSidebar:f,mode:d="boards",onModeChange:m,explanation:E}){const[_,b]=j.useState(!1),[A,N]=j.useState(!1),[k,D]=j.useState(null),H={minHeight:54,padding:"14px 20px",margin:"0 8px",borderRadius:10,display:"flex",justifyContent:"space-between",alignItems:"center",transition:"background 0.15s, border 0.15s, box-shadow 0.15s, transform 0.15s"},Y=(O,M)=>({...H,cursor:u?"not-allowed":"pointer",border:O?"2px solid #4f8cff":M?"1px solid #555":"1px solid #333",background:O?"#25304a":M?"#23293a":"#181c24",color:O?"#fff":"#cfd8dc",fontWeight:O?600:400,boxShadow:O?"0 2px 8px 0 #4f8cff22":M?"0 1px 4px 0 #00000033":"none",transform:M?"translateY(-1px)":"none"}),z={background:"none",border:"none",color:"#ff4d4d",cursor:"pointer",fontSize:"1.2em",lineHeight:1,padding:"0 5px",transition:"opacity 0.15s"},ee=async O=>{try{b(!0),await r(O),N(!1)}catch(M){console.error("Error in sidebar create board:",M)}finally{b(!1)}},$=()=>{N(!0)},R=()=>{N(!1)},x=(O,M)=>{O.stopPropagation(),window.confirm("Are you sure you want to delete this board?")&&s(M)};return te.jsxs(te.Fragment,{children:[te.jsxs("div",{className:"sidebar split-pane-sidebar",children:[te.jsx("div",{className:"sidebar-header",children:te.jsxs("div",{className:"sidebar-mode-switch",children:[te.jsx("button",{className:`mode-switch-btn ${d==="boards"?"active":""}`,onClick:()=>m&&m("boards"),children:" Boards"}),te.jsx("button",{className:`mode-switch-btn ${d==="explanation"?"active":""}`,onClick:()=>m&&m("explanation"),children:" Explanation"})]})}),te.jsx("div",{className:"sidebar-content",children:d==="boards"?te.jsx(te.Fragment,{children:te.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[te.jsx("div",{style:{padding:"8px 0",textAlign:"right"},children:te.jsx("button",{onClick:$,disabled:u||_,style:{padding:"6px 12px",borderRadius:6,border:"1px solid #4f8cff",background:"#1d2330",color:"#4f8cff",cursor:u||_?"not-allowed":"pointer"},children:_?"Creating...":"+ New Board"})}),te.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8,marginTop:8,overflowY:"auto",flexGrow:1},children:t.map(O=>{const M=e?.id===O.id,B=k===O.id;return te.jsxs("div",{onClick:()=>!u&&n(O.id),onMouseEnter:()=>D(O.id),onMouseLeave:()=>D(null),style:Y(M,B),role:"button",tabIndex:0,onKeyDown:U=>{(U.key==="Enter"||U.key===" ")&&!u&&n(O.id)},children:[te.jsx("span",{style:{fontWeight:M?700:500,fontSize:"1.1em",flex:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",letterSpacing:"0.2px",lineHeight:1.3},children:O.name}),te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[O.isOpen&&te.jsx("span",{style:{color:"#4f8cff",fontSize:"1.1em"},children:""}),t.length>1&&te.jsx("button",{onClick:U=>{U.stopPropagation(),x(U,O.id)},title:"Delete board",style:{...z,opacity:B?1:0,visibility:B?"visible":"hidden"},children:""})]})]},O.id)})}),u&&te.jsx("div",{style:{padding:16,textAlign:"center",color:"#9e9e9e"},children:"Loading boards..."}),te.jsx("div",{style:{padding:"12px 0"},children:te.jsx("button",{onClick:o,style:{padding:"6px 12px",borderRadius:6,border:"1px solid #333",background:"transparent",color:"#cfd8dc",cursor:"pointer"},children:"Sign Out"})})]})}):te.jsx("div",{className:"explanation-content",children:E?te.jsxs(te.Fragment,{children:[te.jsx("div",{className:"explanation-header",children:te.jsx("h3",{children:E.title})}),te.jsx("div",{className:"explanation-text",children:te.jsx(VG,{rehypePlugins:[hW],children:E.text.replace(/_/g,"")})})]}):te.jsx("div",{className:"explanation-placeholder",children:te.jsx("p",{children:"Click on a node's explanation button () to view its detailed information here."})})})})]}),te.jsx(Cj,{show:A,onHide:R,onConfirm:ee,isCreating:_})]})}function dW({name:t,onSetName:e,user:n,isSaving:r,sidebarCollapsed:s=!1}){const[o,u]=j.useState(!1),[c,f]=j.useState(t||"");j.useEffect(()=>{f(t||"")},[t]);const d=E=>{E.key==="Enter"&&(e(c),u(!1))},m=()=>{u(!0),f(t||"")};return te.jsx(te.Fragment,{children:te.jsx("div",{className:`name ${s?"sidebar-collapsed":""}`,children:te.jsx("div",{className:"app-container",children:te.jsxs("header",{className:"app-header",children:[te.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[te.jsx("h1",{children:"Launch Flow"}),te.jsx("span",{style:{color:"#64748b",fontSize:"13px"},children:""}),o?te.jsx("input",{type:"text",value:c,onChange:E=>f(E.target.value),onKeyDown:d,onBlur:()=>{e(c),u(!1)},style:{background:"#2a2a2a",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"4px",padding:"4px 8px",color:"#f1f5f9",fontSize:"14px",minWidth:"120px"},autoFocus:!0}):te.jsx("button",{onClick:m,style:{background:"none",border:"none",color:"#94a3b8",fontSize:"14px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px",transition:"all 0.15s ease"},onMouseEnter:E=>{E.currentTarget.style.background="rgba(255, 255, 255, 0.05)",E.currentTarget.style.color="#f1f5f9"},onMouseLeave:E=>{E.currentTarget.style.background="none",E.currentTarget.style.color="#94a3b8"},children:t||"Untitled Board"})]}),te.jsxs("div",{className:"user-info",children:[te.jsx("p",{children:n?.isAnonymous?"Guest":n?.email?.split("@")[0]||"User"}),r&&te.jsx("span",{className:"save-indicator",children:" Saving"})]})]})})})})}const mW=({notification:t,onRemove:e})=>{const n=r=>{switch(r){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return te.jsxs("div",{className:`notification notification-${t.type}`,children:[te.jsxs("div",{className:"notification-content",children:[te.jsx("span",{className:"notification-icon",children:n(t.type)}),te.jsx("span",{className:"notification-message",children:t.message})]}),te.jsx("button",{className:"notification-close",onClick:()=>e(t.id),children:""})]})},pW=({notifications:t,onRemove:e})=>t.length===0?null:te.jsx("div",{className:"notifications-container",children:t.map(n=>te.jsx(mW,{notification:n,onRemove:e},n.id))}),gW=async()=>{try{await yF(Ap),console.log("User signed out successfully")}catch(t){throw console.error("Error signing out:",t),t}},EW=()=>{const[t,e]=j.useState(null);return j.useEffect(()=>{const r=EF(Ap,s=>{e(s),s?console.log("User signed in:",s.uid):console.log("No user signed in")});return()=>r()},[]),{user:t,signOut:async()=>{try{await gW(),e(null)}catch(r){console.error("Error in sign out:",r)}}}},h3=t=>!!(t&&t.uid),Zh=[{id:"1",type:"staticEditable",data:{label:"The _artificial intelligence_ system processes _natural language_ effectively",title:"AI & Natural Language",suggestions:["Machine Learning","Neural Networks","Deep Learning"],tokenColors:{},previousNode:null},position:{x:250,y:25},draggable:!1}],zl=[],yW=async t=>{if(!h3({uid:t}))throw new Error(jr.AUTH_REQUIRED);try{const e=C1(as,Ai.BOARDS),n=aV(e,oV("userId","==",t),uV("createdAt","desc")),r=await V1(n);if(r.empty){const o={id:`board_${Date.now()}`,userId:t,name:"Default Board",createdAt:fn.now(),isOpen:!0};return await F1(uc(as,Ai.BOARDS,o.id),o),console.log("Created default board:",o),[o]}const s=r.docs.map(o=>({id:o.id,...o.data()}));return console.log("Fetched all boards:",s),s}catch(e){if(console.error("Fetch all boards error:",e),e.code==="failed-precondition"||e.message?.includes("requires an index")){const n=`
Firestore database index is missing. To fix this:

1. Visit the Firebase Console: https://console.firebase.google.com/
2. Navigate to your project
3. Go to Firestore Database > Indexes
4. Create a composite index for collection "boards" with:
   - Field: userId (Ascending)
   - Field: createdAt (Descending)

Or click this direct link if available in the error logs above.

Using fallback board data for now...
            `.trim();return console.warn(n),[{id:`fallback_${Date.now()}`,userId:t,name:"Fallback Board (Create Index)",createdAt:fn.now(),isOpen:!0,isFallback:!0}]}throw new Error(jr.LOAD_FAILED)}},aC=async t=>{if(!t)return console.warn("No board ID provided for fetching nodes"),Zh;try{const e=C1(as,Ai.BOARDS,t,Ai.NODES),n=await V1(e);if(n.empty)return console.log("No nodes found for board, using initial nodes"),Zh;const r=n.docs.map(s=>{const o=s.data(),u={...o.data,tokenColors:o.data?.tokenColors||{},previousNode:o.data?.previousNode||null};return{id:s.id,type:o.type,position:o.position,data:u,draggable:o.draggable,style:o.style}});return console.log("Fetched nodes from board:",r),r}catch(e){return console.error("Fetch nodes error:",e),Zh}},oC=async t=>{if(!t)return console.warn("No board ID provided for fetching edges"),zl;try{const e=C1(as,Ai.BOARDS,t,Ai.EDGES),n=await V1(e);if(n.empty)return console.log("No edges found for board, using initial edges"),zl;const r=n.docs.map(s=>({id:s.id,...s.data()}));return console.log("Fetched edges from board:",r),r}catch(e){return console.error("Fetch edges error:",e),zl}},_W=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving nodes:",{boardId:t,nodesCount:e?.length});return}try{const n=xR(as);e.forEach(r=>{const s=uc(as,Ai.BOARDS,t,Ai.NODES,r.id),o={type:r.type,data:r.data,position:r.position,updatedAt:fn.now()};r.draggable!=null&&(o.draggable=r.draggable),r.style!=null&&(o.style=r.style),n.set(s,o)}),await n.commit(),console.log("Nodes saved to board")}catch(n){throw console.error("Save nodes error:",n),new Error(jr.SAVE_FAILED)}},TW=async(t,e)=>{if(!t||!e?.length){console.warn("Invalid parameters for saving edges:",{boardId:t,edgesCount:e?.length});return}try{const n=xR(as);e.forEach(r=>{const s=uc(as,Ai.BOARDS,t,Ai.EDGES,r.id),o={source:r.source,target:r.target,updatedAt:fn.now()};r.sourceHandle!=null&&(o.sourceHandle=r.sourceHandle),r.targetHandle!=null&&(o.targetHandle=r.targetHandle),r.style!=null&&(o.style=r.style),r.markerEnd!=null&&(o.markerEnd=r.markerEnd),n.set(s,o)}),await n.commit(),console.log("Edges saved to board")}catch(n){throw console.error("Save edges error:",n),new Error(jr.SAVE_FAILED)}},bW=async(t,e,n)=>{if(!h3({uid:t}))throw new Error(jr.AUTH_REQUIRED);try{const r={id:`board_${Date.now()}`,userId:t,name:e||`Board ${n.length+1}`,createdAt:fn.now(),isOpen:!1};return console.log("Creating board:",r),await F1(uc(as,Ai.BOARDS,r.id),r),console.log("Board created successfully:",r),r}catch(r){throw console.error("Error creating new board:",r),r.code==="permission-denied"?new Error("Permission denied. Please check your Firestore security rules."):r.code==="failed-precondition"?new Error("Database configuration error. Please check Firestore setup."):new Error("Failed to create board. Please try again.")}},vW=async t=>{if(!t)throw new Error("Board ID is required for deletion");try{await mV(uc(as,Ai.BOARDS,t)),console.log("Board deleted successfully")}catch(e){throw console.error("Error deleting board:",e),e.code==="permission-denied"?new Error("Permission denied. Cannot delete this board."):e}},vl=async(t,e)=>{if(!t||!e)throw new Error("Board ID and updates are required");try{const n={...e,updatedAt:fn.now()};await F1(uc(as,Ai.BOARDS,t),n,{merge:!0}),console.log("Board status updated:",n)}catch(n){throw console.error("Error updating board status:",n),n}},SW=t=>{if(!t||!t.data)return t;const e={...t},n={...t.data};return n.title||(n.title=n.label||n.summary||"Node"),n.suggestions||(n.suggestions=[]),e.draggable===void 0&&(e.draggable=!0),e.data=n,e},AW=t=>Array.isArray(t)?t.map(SW):[],wW=(t,e={})=>{const[n,r,s]=x5([]),[o,u,c]=R5([]),[f,d]=j.useState(!0),[m,E]=j.useState(!1),[_,b]=j.useState(!1),[A,N]=j.useState([]),[k,D]=j.useState(null),H=j.useRef(null),{showSuccess:Y,showError:z,showInfo:ee}=e,$=I=>{const L=I.find(K=>K.isOpen===!0);if(L)return L;if(I.length>0){const K={...I[0],isOpen:!0};return vl(K.id,K).catch(console.error),K}return null};j.useEffect(()=>{(async()=>{if(t)try{d(!0);const L=await yW(t.uid);N(L);const K=L.some(ie=>ie.isFallback);K&&z&&z("Database index missing. Please create the required Firestore index. Check console for details.");const V=$(L);if(!V){console.error("No board found for user"),z&&z("No boards found. Creating a default board..."),r(Zh),u(zl);return}D(V);const[Q,re]=await Promise.all([aC(V.id),oC(V.id)]);r(Q),u(re),ee&&!K&&ee("Board loaded successfully!")}catch(L){console.error("Error loading initial data:",L),z&&z("Failed to load board data. Using default board."),r(Zh),u(zl)}finally{d(!1)}})()},[t,r,u]);const R=async(I,L,K)=>{H.current&&clearTimeout(H.current);const V=setTimeout(async()=>{try{b(!0);const Q=[];L&&L.length>0&&Q.push(_W(I,L)),K&&K.length>0&&Q.push(TW(I,K)),Q.length>0&&(await Promise.all(Q),console.log("Auto-save completed successfully"))}catch(Q){console.error("Auto-save failed:",Q),z&&z("Failed to save changes automatically")}finally{b(!1),H.current=null}},1e3);H.current=V};j.useEffect(()=>(!f&&k&&!m&&!k.isFallback&&R(k.id,n,o),()=>{H.current&&clearTimeout(H.current)}),[n,o,f,k,m]);const x=async I=>{try{if(k?.id===I)return;if(k?.isFallback||A.find(K=>K.id===I)?.isFallback){z&&z("Cannot switch to fallback board. Please create the missing Firestore index first.");return}if(E(!0),k&&!k.isFallback){const K={...k,isOpen:!1};await vl(k.id,K),N(V=>V.map(Q=>Q.id===k.id?K:Q))}const L=A.find(K=>K.id===I);if(L){const K={...L,isOpen:!0};await vl(I,K),D(K),N(ie=>ie.map(S=>S.id===I?K:S));const[V,Q]=await Promise.all([aC(I),oC(I)]),re=AW(V);r(re),u(Q),Y&&Y(`Switched to "${K.name}"`)}else console.error("Board not found:",I),z&&z("Board not found")}catch(L){console.error("Error switching board:",L),z&&z("Failed to switch board. Please try again.")}finally{E(!1)}};return{nodes:n,edges:o,allBoards:A,currentBoard:k,isLoading:f,isSwitchingBoard:m,isSaving:_,onNodesChange:s,onEdgesChange:c,setNodes:r,switchToBoard:x,createNewBoard:async I=>{try{if(!t)return z&&z("You must be logged in to create a board"),null;ee&&ee("Creating new board...");const L=await bW(t.uid,I||null,A);if(L){if(k&&!k.isFallback){const V={...k,isOpen:!1};vl(k.id,V).catch(console.error)}const K={...L,isOpen:!0};return N(V=>{const Q=V.map(re=>re.id===k?.id?{...re,isOpen:!1}:re);return[K,...Q]}),D(K),vl(L.id,K).catch(console.error),r([{id:"1",type:"staticEditable",data:{label:I||"New Board"},position:{x:250,y:25},draggable:!1}]),u(zl),Y&&Y(`Board "${L.name}" created and opened!`),K}else return z&&z("Failed to create board. Please try again."),null}catch(L){return z&&z(`Failed to create board: ${L.message}`),null}},deleteBoard:async I=>{try{if(A.length<=1){z&&z("Cannot delete the last board!");return}if(!A.find(K=>K.id===I)){console.error("Board not found for deletion"),z&&z("Board not found");return}if(ee&&ee("Deleting board..."),k?.id===I){const K=A.find(V=>V.id!==I);K&&await x(K.id)}await vW(I),N(K=>K.filter(V=>V.id!==I)),Y&&Y("Board deleted successfully!")}catch(L){console.error("Error deleting board:",L),z&&z("Failed to delete board. Please try again.")}},updateBoardName:async I=>{if(k&&k.name!==I){const L={...k,name:I};D(L),N(K=>K.map(V=>V.id===k.id?L:V));try{await vl(k.id,L),console.log("Board name updated successfully")}catch(K){console.error("Error updating board name:",K)}}},clearBoardState:()=>{H.current&&(clearTimeout(H.current),H.current=null),N([]),D(null),r([]),u([]),d(!0),E(!1),b(!1)}}},IW=()=>{const[t,e]=j.useState([]),n=d=>{e(m=>m.filter(E=>E.id!==d))},r=d=>{const m=Date.now().toString(),E={id:m,timestamp:new Date,...d};return e(_=>[..._,E]),d.autoRemove!==!1&&setTimeout(()=>{n(m)},d.duration||5e3),m};return{notifications:t,addNotification:r,removeNotification:n,clearAllNotifications:()=>{e([])},showSuccess:(d,m={})=>r({type:"success",message:d,...m}),showError:(d,m={})=>r({type:"error",message:d,duration:7e3,...m}),showInfo:(d,m={})=>r({type:"info",message:d,...m}),showWarning:(d,m={})=>r({type:"warning",message:d,duration:6e3,...m})}},f3=t=>{const e=[],n=t.split("_");for(let r=0;r<n.length;r++)if(r%2===0)n[r].split(/\s+/).filter(o=>o.trim()!=="").forEach(o=>{e.push({word:o.trim()})});else{const s=n[r].trim();s.split(/\s+/).filter(u=>u.trim()!=="").forEach(u=>{e.push({word:u.trim(),myConcept:s})})}return e},uC=()=>{const t=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9"];return t[Math.floor(Math.random()*t.length)]},$m=t=>{if(!t)return"#000000";const e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),r=parseInt(t.substring(5,7),16);return(e*299+n*587+r*114)/1e3>=128?"#000000":"#ffffff"},Gm=(t,e)=>{if(!t)return"#000000";let n=t.startsWith("#")?t.substring(1):t;const r=parseInt(n,16),s=255,o=e,u=r>>16,c=r>>8&255,f=r&255,d=Math.round((s-u)*o)+u,m=Math.round((s-c)*o)+c,E=Math.round((s-f)*o)+f;return`#${(16777216+d*65536+m*256+E).toString(16).slice(1)}`},CW=t=>{const e=t.replace("#",""),n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16),o=30,u=Math.min(255,Math.max(0,n+(Math.random()-.5)*o*2)),c=Math.min(255,Math.max(0,r+(Math.random()-.5)*o*2)),f=Math.min(255,Math.max(0,s+(Math.random()-.5)*o*2));return`#${Math.round(u).toString(16).padStart(2,"0")}${Math.round(c).toString(16).padStart(2,"0")}${Math.round(f).toString(16).padStart(2,"0")}`},NW=t=>{const r=(Math.random()-.5)*150*2;return{x:t.x+r,y:t.y+200}},xW=()=>`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,RW=(t,e)=>`edge_${t}_${e}`,OW=(t,e,n,r,s,o,u)=>({id:xW(),type:"draggableEditable",position:t,draggable:!0,data:{label:e,title:e,summary:r,full_text:n,suggestions:[],myColor:s,tokenColors:{},previousNode:u}}),DW=(t,e,n,r)=>({id:RW(t,e),source:t,target:e,sourceHandle:r,targetHandle:null,style:{stroke:n,strokeWidth:3},markerEnd:{type:af.ArrowClosed,color:n}}),lC=async t=>{try{if(!t||typeof t!="string")throw new Error("Message must be a non-empty string");const e=t.trim();if(!e)throw new Error("Message cannot be empty or just whitespace");const r=await dO(J1,"groqChat")({message:e});return console.log("groqChat response:",r.data),r.data.response}catch(e){throw console.error("Firebase function error:",e),console.error("Message sent:",t),e}},kW=async(t,e)=>{try{if(!t||typeof t!="string")throw new Error("Message must be a non-empty string");const n=t.trim();if(!n)throw new Error("Message cannot be empty or just whitespace");const r=dO(J1,"groqChat");console.log("Starting streaming request...");const{stream:s,data:o}=await r.stream({message:n});console.log("Stream started, waiting for chunks...");let u="";for await(const f of s)if(console.log("Received chunk:",f),f&&typeof f=="object"&&"type"in f&&"content"in f){const d=f;console.log("Processing chunk:",d),d.type==="chunk"&&d.content&&(u+=d.content,e?.(d.content))}console.log("Waiting for final result...");const c=await o;return console.log("Final result received:",c),c&&typeof c=="object"&&"response"in c?(console.log("Returning final result response"),c.response):(console.log("Returning accumulated response:",u),u)}catch(n){throw console.error("Firebase function streaming error:",n),n}},LW=async(t,e,n)=>{try{const r=`You are an expert educator. Explain the following concept to a beginner.

        Context: ${e}

        Instructions:
        - Highlight every key term with [square-braces], e.g., [variable].
        - Use simple language and practical examples or analogies.
        - Use only correct HTML or MARKDOWN for all formatting (headings, lists, tables, images, code).
        - All HTML elements (including headings, lists, tables, images, code) MUST use inline CSS for styling.
        - For inline CSS, use: <span style="color:#fff;background:#222;padding:4px;border-radius:4px;">example</span>
        - For images: <img src="IMAGE_URL" alt="desc" style="max-width:100%;border-radius:8px;">
        - For code: <pre style="background:#222;color:#fff;padding:8px;border-radius:6px;"><code>console.log("Hello World");</code></pre>
        - For tables: <table style="border-collapse:collapse;width:100%;"><tr><th style="background:#222;color:#fff;padding:6px;">Header</th></tr><tr><td style="padding:6px;">Data</td></tr></table>
        - For lists: <ul style="padding-left:20px;"><li style="margin-bottom:4px;">Item 1</li></ul>
        - No introductions, conclusions, or extra commentary.
        - Start directly with the explanation.

        Concept: `,s=`Summarize in exactly 40 words or less.

        CRITICAL:
        - Preserve ALL [square-braces] concepts exactly
        - Every key concept MUST use [square-braces]
        - NO introductory phrases like "Here is..." or "Summary..."
        - NO bullet points or formatting except [square-braces]
        - Start immediately with summary content
        - ONLY the summary text

        Text to summarize: `,o=`You are an expert educator. Respond ONLY with a valid JSON object in the following format: {"topics": ["[concept1]", "[concept2]", "[concept3]"]}. 

        Instructions:
        - Suggest exactly 3 topics that are logical next steps for learning the given concept.
        - Each topic must be no more than 5 words.
        - Each topic MUST be enclosed in double quotes, e.g., "example topic".
        - Do NOT include any explanation, commentary, or formatting outside the JSON object.
        - Only output the JSON object as specified.

        Concept: `,u=lC(r+t),c=lC(o+t);let f="";const d=kW(s+t,D=>{f+=D,n(D)}),[m,E,_]=await Promise.all([u,c,d]);let b=E??"";b=b.replace(/^```json\s*/i,"").replace(/^```\s*/i,"").replace(/```$/i,"");let A=[];const N=b.match(/"(.*?)"/g);N&&(A=N.map(D=>D.replace(/"/g,"")));const k={firstResponse:{response:m?.replace(/\[/g,"_").replace(/\]/g,"_").replace(/```/g,"").replace(/markdown/g,"")},secondResponse:{response:_?.replace(/\[/g,"_").replace(/\]/g,"_").replace(/Here is a summary of the text in exactly 40 words or less:/g,"").replace("/Here is a summary of the text in 40 words or less:/g","")},thirdResponse:{response:A}};return console.log("askAITwice response:",k),k}catch(r){throw console.error("Error in askAITwice:",r),r}},d3=j.createContext(null),MW=({children:t,nodes:e,onNodesChange:n,onEdgesChange:r,setNodes:s,showExplanation:o})=>{const u=(c,f,d,m,E,_,b)=>{const A=e.find($=>$.id===f);if(!A)return null;const N=A.data.tokenColors||{},k=c.myConcept||c.word;if(N[k])return console.log(`Token "${k}" is already colored, ignoring click`),null;let D;m==="staticEditable"?D=uC():D=E?CW(E):uC();const H={...N};c.myConcept?H[c.myConcept]=D:H[c.word]=D,s($=>$.map(R=>R.id===f?{...R,data:{...R.data,tokenColors:H}}:R));const Y=NW(d),z=OW(Y,c.word,"Loading...","",D,m,f);z.data.isLoading=!0;const ee=DW(f,z.id,D,b);return n([{type:"add",item:z}]),r([{type:"add",item:ee}]),LW(c.word,_||"",$=>{s(R=>R.map(x=>{if(x.id===z.id){const O=x.data.summary||"";return{...x,data:{...x.data,label:O+$,summary:O+$}}}return x}))}).then($=>{const R=$.firstResponse?.response||c.word,x=$.secondResponse?.response||c.word,O=$.thirdResponse?.response||{};s(M=>M.map(B=>B.id===z.id?{...B,data:{...B.data,label:x,title:c.word,summary:x,full_text:R,suggestions:O,isLoading:!1}}:B))}).catch(()=>{s($=>$.map(R=>R.id===z.id?{...R,data:{...R.data,label:c.word,title:c.word,summary:c.word,full_text:c.word,suggestions:[],isLoading:!1}}:R))}),D};return te.jsx(d3.Provider,{value:{handleTokenClick:u,setNodes:s,showExplanation:o},children:t})},m3=()=>{const t=j.useContext(d3);if(!t)throw new Error("useTokenInteraction must be used within a TokenInteractionProvider");return t},p3=({size:t="medium",color:e="#4f86f7"})=>te.jsx("div",{className:`loading-spinner ${t}`,children:te.jsx("div",{className:"spinner-ring",style:{borderTopColor:e}})});function PW({data:t,id:e}){const[n,r]=j.useState(!1),[s,o]=j.useState(t.summary||t.label||"Static Node"),[u,c]=j.useState(!1),{handleTokenClick:f,showExplanation:d}=m3(),{getNode:m,setViewport:E}=wf();j.useEffect(()=>{n||o(t.summary||t.label||"Static Node")},[t.summary,t.label,n]);const _=f3(s),b=(x,O)=>{O.stopPropagation(),console.log("Static Token clicked:",x),f(x,e,{x:0,y:0},"staticEditable",t.myColor,t.summary||t.label||"Draggable Node",x.suggestionId)},A=x=>{x.stopPropagation(),r(!0)},N=()=>{r(!1)},k=x=>{x.stopPropagation()},D=x=>{x.stopPropagation(),x.key==="Enter"&&N(),x.key==="Escape"&&(o(t.summary||t.label||"Static Node"),r(!1))},H=x=>{x.stopPropagation(),c(!u)},Y=x=>{x.stopPropagation(),d&&d(t.title||"Explanation",t.full_text||"No detailed information available.")},z=x=>{if(x.stopPropagation(),t.previousNode){const O=m(t.previousNode);if(O){const{x:M,y:B}=O.position;E({x:-M+200,y:-B+100,zoom:1},{duration:500})}}},ee=(()=>{const x=t.tokenColors||{};return _.map((O,M)=>{const B=O.myConcept||O.word,U=x[B],I=!U;return te.jsxs("span",{className:`word-token ${I?"":"disabled"} ${O.myConcept?"concept-highlight":""}`,style:{backgroundColor:U||"transparent",color:U?t.myColor||"#ffffff":"inherit",border:U?`1px solid ${U}`:""},onClick:L=>I?b(O,L):L.stopPropagation(),children:[O.word,M<_.length-1?" ":""]},M)})})(),$=te.jsxs("div",{className:"node-buttons",children:[t.previousNode&&te.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:z,title:"Go to previous node",children:""}),_.length>5&&te.jsx("button",{className:"node-expand-btn",onClick:H,title:u?"Show less":"Show more",children:u?"":"+"}),te.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:Y,title:"Show full text",children:""})]}),R=j.useMemo(()=>t.isLoading?te.jsxs("div",{className:"node-loading-content",children:[te.jsx(p3,{size:"small",color:t.myColor||"#4f86f7"}),te.jsx("span",{className:"loading-text",children:"Loading concept..."})]}):n?te.jsx("input",{type:"text",value:s,onChange:x=>o(x.target.value),onBlur:N,onKeyDown:D,onClick:k,className:"node-input nodrag",autoFocus:!0}):te.jsxs("div",{className:"node-layout",children:[te.jsxs("div",{className:"node-header",children:[te.jsx("div",{className:"node-title",children:t.title||"Node"}),te.jsxs("div",{className:"node-buttons",children:[t.previousNode&&te.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:z,title:"Go to previous node",children:""}),_.length>5&&te.jsx("button",{className:"node-expand-btn",onClick:H,title:u?"Show less":"Show more",children:u?"":"+"}),te.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:Y,title:"Show full text",children:""})]})]}),te.jsx("div",{className:"node-main-content",children:te.jsx("div",{className:"node-summary-section",children:te.jsxs("div",{className:"node-summary-text",onClick:A,children:[ee,_.length>5&&!u&&te.jsx("span",{className:"token-truncation",children:"..."})]})})}),te.jsxs("div",{className:"node-suggestions-section",children:[te.jsx("div",{className:"node-suggestions-header",children:"Suggestions"}),te.jsx("div",{className:"node-suggestions-list",children:t.suggestions&&t.suggestions.length>0?t.suggestions.map((x,O)=>{const B=(t.tokenColors||{})[x],U=!B;return te.jsxs("span",{className:`word-token ${U?"":"disabled"}`,style:{backgroundColor:B||"transparent",color:B?t.myColor||"#ffffff":"inherit",border:B?`1px solid ${B}`:""},onClick:I=>U?b({word:x,myConcept:x,suggestionId:t.label+x+O},I):I.stopPropagation(),children:[x,O<t.suggestions.length-1?" ":"",te.jsx(Jr,{type:"source",position:je.Right,id:t.label+x+O})]},O)}):te.jsx("div",{className:"node-suggestions-empty",children:"No suggestions"})})]})]}),[n,s,u,_.length,A,N,D,k,ee,$]);return te.jsxs("div",{className:"static-editable-node nodrag",style:{backgroundColor:t.myColor,color:t.myColor?$m(t.myColor):"",border:t.myColor?`2px solid ${Gm(t.myColor,20)}`:""},children:[te.jsx("div",{className:"node-content",children:R}),te.jsx(Jr,{type:"source",position:je.Bottom,id:"bottom-source"}),te.jsx(Jr,{type:"target",position:je.Bottom,id:"bottom-target"})]})}function BW({data:t,id:e}){const[n,r]=j.useState(!1),[s,o]=j.useState(t.summary||t.label||"Draggable Node"),[u,c]=j.useState(t.expanded||!1),{getNodes:f,getNode:d,setViewport:m}=wf(),{handleTokenClick:E,showExplanation:_}=m3();j.useEffect(()=>{n||o(t.summary||t.label||"Draggable Node")},[t.summary,t.label,n]);const b=f3(s),A=u||b.length<=5?b:b.slice(0,5),N=()=>!0,k=(M,B)=>{B.stopPropagation();const I=f().find(K=>K.id===e);return I?E(M,e,I.position,I.type||"draggableEditable",t.myColor,t.summary||t.label||"Draggable Node"):void 0},D=M=>{M.stopPropagation(),r(!0)},H=()=>{r(!1)},Y=M=>{M.stopPropagation()},z=M=>{M.stopPropagation(),M.key==="Enter"&&H(),M.key==="Escape"&&(o(t.summary||t.label||"Draggable Node"),r(!1))},ee=M=>{M.stopPropagation(),c(!u),!u&&t.onExpand&&t.onExpand()},$=M=>{M.stopPropagation(),_&&_(t.title,t.full_text||"No detailed information available.")},R=M=>{if(M.stopPropagation(),t.previousNode){const B=d(t.previousNode);if(B){const{x:U,y:I}=B.position;m({x:-U+200,y:-I+100,zoom:1},{duration:500})}}},x=j.useMemo(()=>{const M={};return A.forEach(B=>{const U=B.myConcept||B.word;M[U]||(M[U]=[]),M[U].push(B)}),M},[A]),O=j.useMemo(()=>n?te.jsx("input",{type:"text",value:s,onChange:M=>o(M.target.value),onBlur:H,onKeyDown:z,onClick:Y,className:"node-input nodrag",autoFocus:!0}):te.jsxs(te.Fragment,{children:[t.isLoading&&te.jsx(p3,{}),te.jsxs("div",{className:"node-layout",children:[te.jsxs("div",{className:"node-header",children:[te.jsx("div",{className:"node-title",children:t.title||"Node"}),te.jsxs("div",{className:"node-buttons",children:[t.previousNode&&te.jsx("button",{className:"node-expand-btn previous-node-btn",onClick:R,title:"Go to previous node",children:""}),b.length>5&&te.jsx("button",{className:"node-expand-btn",onClick:ee,title:u?"Show less":"Show more",children:u?"":"+"}),te.jsx("button",{className:"node-expand-btn explanation-btn-icon",onClick:$,title:"Show full text",children:""})]})]}),te.jsx("div",{className:"node-main-content",children:te.jsx("div",{className:"node-summary-section",children:te.jsxs("div",{className:"node-summary-text",onClick:D,children:[A.map((M,B)=>{const U=t.tokenColors||{},I=M.myConcept||M.word,L=U[I],K=!L;return te.jsxs("span",{className:`word-token ${K?"":"disabled"} ${M.myConcept?"concept-highlight":""}`,style:{backgroundColor:L||"transparent",color:L?$m(L):"inherit",border:L?`1px solid ${Gm(L,20)}`:""},onClick:V=>K?k(M,V):V.stopPropagation(),children:[M.word,B<A.length-1?" ":""]},B)}),b.length>5&&!u&&te.jsx("span",{className:"token-truncation",children:"..."})]})})}),te.jsxs("div",{className:"node-suggestions-section",children:[te.jsx("div",{className:"node-suggestions-header",children:"Suggestions"}),te.jsx("div",{className:"node-suggestions-list",children:t.suggestions&&t.suggestions.length>0?t.suggestions.map((M,B)=>{const I=(t.tokenColors||{})[M],L=!I;return te.jsxs("span",{className:`suggestion-token ${L?"":"disabled"}`,style:{backgroundColor:I||"transparent",color:I?$m(I):"inherit",border:I?`1px solid ${Gm(I,20)}`:""},onClick:K=>L?k({word:M,myConcept:M,suggestionId:t.label+M+B},K):K.stopPropagation(),children:[M,te.jsx(Jr,{type:"source",position:je.Bottom,id:t.label+M+B})]},B)}):te.jsx("div",{className:"node-suggestions-empty",children:"No suggestions"})})]})]})]}),[n,s,A,b,u,x,D,H,z,Y,ee,$,k,N,t.previousNode,R,t.tokenColors,t.myColor,t.isLoading]);return te.jsxs("div",{className:"draggable-editable-node",style:{background:t.myColor,color:t.myColor?$m(t.myColor):"",border:t.myColor?`2px solid ${Gm(t.myColor,20)}`:""},children:[te.jsx("div",{className:"node-content",children:O}),te.jsx(Jr,{type:"source",position:je.Bottom,id:"bottom-source"}),te.jsx(Jr,{type:"target",position:je.Top,id:"top-target"}),te.jsx(Jr,{type:"source",position:je.Left,id:"left-source"}),te.jsx(Jr,{type:"target",position:je.Left,id:"left-target"}),te.jsx(Jr,{type:"source",position:je.Right,id:"right-source"}),te.jsx(Jr,{type:"target",position:je.Right,id:"right-target"})]})}const UW={staticEditable:PW,draggableEditable:BW};function VW(){const[t,e]=j.useState("boards"),[n,r]=j.useState(null),{user:s,signOut:o}=EW(),{notifications:u,removeNotification:c,showSuccess:f,showError:d,showInfo:m}=IW(),{nodes:E,edges:_,allBoards:b,currentBoard:A,isSwitchingBoard:N,isSaving:k,onNodesChange:D,onEdgesChange:H,setNodes:Y,switchToBoard:z,createNewBoard:ee,deleteBoard:$,updateBoardName:R,clearBoardState:x}=wW(s,{showSuccess:f,showError:d,showInfo:m}),O=async()=>{await o(),x()},M=(I,L)=>{r({title:I,text:L}),e("explanation")},B=I=>{e(I)},U=I=>{const L={id:`e${I.source}-${I.target}`,source:I.source,target:I.target,sourceHandle:I.sourceHandle,targetHandle:I.targetHandle};H([{type:"add",item:L}])};return s?te.jsxs("div",{className:"app-layout",style:{height:"100vh",width:"100vw"},children:[te.jsx(pW,{notifications:u,onRemove:c}),te.jsx("div",{style:{height:"100%"},children:te.jsxs(PE,{defaultSizes:[420,1e3],children:[te.jsx(PE.Pane,{minSize:240,maxSize:860,children:te.jsx(fW,{allBoards:b,currentBoard:A,onSwitchBoard:z,onCreateBoard:async I=>{await ee(I)},onDeleteBoard:$,onSignOut:O,isLoading:N,mode:t,onModeChange:B,explanation:n})}),te.jsx(PE.Pane,{children:te.jsxs("div",{className:"main-content-pane",style:{height:"100%"},children:[te.jsx(dW,{name:A?.name||"Loading...",onSetName:R,user:s,isSaving:k,sidebarCollapsed:!1}),te.jsx("div",{className:"reactflow-container",style:{height:"calc(100% - 56px)"},children:te.jsx(MW,{nodes:E,onNodesChange:D,onEdgesChange:H,setNodes:Y,showExplanation:M,children:te.jsxs(xN,{nodes:E,edges:_,onNodesChange:D,onEdgesChange:H,onConnect:U,nodeTypes:UW,connectionMode:go.Loose,fitView:!0,children:[te.jsx(B5,{}),te.jsx(j5,{variant:Yi.Cross,gap:30,size:10,lineWidth:.5,color:"#616161"})]})})})]})})]})})]}):te.jsx(ZH,{})}function FW(){return te.jsx(VW,{})}const g3=document.getElementById("root");if(!g3)throw new Error("Failed to find the root element");X6.createRoot(g3).render(te.jsx(j.StrictMode,{children:te.jsx(FW,{})}));
